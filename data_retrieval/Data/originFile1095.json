{"items":[{"tags":["java","android","multithreading"],"answers":[{"tags":[],"owner":{"account_id":26108999,"reputation":52,"user_id":19803256,"display_name":"Linus Groschke"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1661109239,"creation_date":1661109239,"answer_id":73437508,"question_id":73437365,"body_markdown":"As you already pointed out yourself, opening the socket connection in a separate thread solves the problem!\r\n\r\nEverything you directly execute in the `onCreate()` method will be run on the main thread. In general you shouldn&#39;t perform network tasks on the main-thread, as this could have a significant impact on the responsiveness of your app, especially in areas with a bad internet connection.\r\n\r\nSo, establishing the connection in a separate thread is the right thing to do!\r\n\r\n[More on this particular error.][1] \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6343166/how-can-i-fix-android-os-networkonmainthreadexception","title":"Why does my thread not do what i think it does?(Android internet over main thread issue)","body":"<p>As you already pointed out yourself, opening the socket connection in a separate thread solves the problem!</p>\n<p>Everything you directly execute in the <code>onCreate()</code> method will be run on the main thread. In general you shouldn't perform network tasks on the main-thread, as this could have a significant impact on the responsiveness of your app, especially in areas with a bad internet connection.</p>\n<p>So, establishing the connection in a separate thread is the right thing to do!</p>\n<p><a href=\"https://stackoverflow.com/questions/6343166/how-can-i-fix-android-os-networkonmainthreadexception\">More on this particular error.</a></p>\n"}],"owner":{"account_id":26012647,"reputation":1,"user_id":19721468,"display_name":"jungleparrot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661109239,"creation_date":1661107849,"question_id":73437365,"body_markdown":"I have a question about the android main thread within android apps. So when i execute the first block of code i get the error: **android.os.NetworkOnMainThreadException**. And i do not understand why, i am starting the thread as well as performing tasks when the thread is started. WHY does the application still get run on the main thread? And why does the code beneath the first block do the trick?\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    ClientSocket clientSocket = new ClientSocket();\r\n\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        clientSocket.start();\r\n        try {\r\n            clientSocket.startConnection(&quot;192.168.2.5&quot;, 45032);\r\n            clientSocket.sendMessage(&quot;test&quot;);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    }\r\n} \r\n```\r\n\r\n**What does end up working:**\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    ClientSocket clientSocket = new ClientSocket();\r\n\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        new Thread(() -&gt; {\r\n            try {\r\n                clientSocket.startConnection(&quot;192.168.2.5&quot;, 45032);\r\n                clientSocket.sendMessage(&quot;test&quot;);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }).start();\r\n\r\n\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    }\r\n}\r\n```","title":"Why does my thread not do what i think it does?(Android internet over main thread issue)","body":"<p>I have a question about the android main thread within android apps. So when i execute the first block of code i get the error: <strong>android.os.NetworkOnMainThreadException</strong>. And i do not understand why, i am starting the thread as well as performing tasks when the thread is started. WHY does the application still get run on the main thread? And why does the code beneath the first block do the trick?</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    ClientSocket clientSocket = new ClientSocket();\n\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        clientSocket.start();\n        try {\n            clientSocket.startConnection(&quot;192.168.2.5&quot;, 45032);\n            clientSocket.sendMessage(&quot;test&quot;);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n} \n</code></pre>\n<p><strong>What does end up working:</strong></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    ClientSocket clientSocket = new ClientSocket();\n\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        new Thread(() -&gt; {\n            try {\n                clientSocket.startConnection(&quot;192.168.2.5&quot;, 45032);\n                clientSocket.sendMessage(&quot;test&quot;);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }).start();\n\n\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","jenkins","continuous-integration"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1661076964,"post_id":73427894,"comment_id":129681104,"body_markdown":"A Build pipeline should build and optionally deploy, but not run.","body":"A Build pipeline should build and optionally deploy, but not run."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661108637,"creation_date":1661009877,"answer_id":73427983,"question_id":73427894,"body_markdown":"You want to start the process for the `Run` stage in the background so the Jenkins pipeline can continue/terminate while the background process is still running.\r\n\r\nIf it were Linux, running a process in the background would be supported by Bash by ending a command with `&amp;`, eventually supported by a nohup to ensure it is not killed when the pipeline (parent job) gets killed. It is explained in more detail at https://www.maketecheasier.com/run-bash-commands-background-linux/.\r\n\r\nIt seems to me you are running all this in Windows.\r\nHere the `start` command seems to do the job. See https://stackoverflow.com/questions/21031171/how-to-run-a-command-in-the-background-on-windows\r\n\r\nTo my taste running the service as you do means it has no error correction with it. If it fails neither the system nor you would notice, not to talk about automatically bringing up the service after failure or system reboot. Try to run it as a service. That means your pipeline would install it as a service, then start the service. The [Service Control Manager][1] would watch and ensure that the command is running and keeps running. Tools like [Procrun][2] can help you in this case.\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/windows/win32/services/service-control-manager\r\n  [2]: https://commons.apache.org/proper/commons-daemon/procrun.html","title":"Finish a Jenkins build pipeline but leave Java/Maven app running","body":"<p>You want to start the process for the <code>Run</code> stage in the background so the Jenkins pipeline can continue/terminate while the background process is still running.</p>\n<p>If it were Linux, running a process in the background would be supported by Bash by ending a command with <code>&amp;</code>, eventually supported by a nohup to ensure it is not killed when the pipeline (parent job) gets killed. It is explained in more detail at <a href=\"https://www.maketecheasier.com/run-bash-commands-background-linux/\" rel=\"nofollow noreferrer\">https://www.maketecheasier.com/run-bash-commands-background-linux/</a>.</p>\n<p>It seems to me you are running all this in Windows.\nHere the <code>start</code> command seems to do the job. See <a href=\"https://stackoverflow.com/questions/21031171/how-to-run-a-command-in-the-background-on-windows\">How to run a command in the background on Windows?</a></p>\n<p>To my taste running the service as you do means it has no error correction with it. If it fails neither the system nor you would notice, not to talk about automatically bringing up the service after failure or system reboot. Try to run it as a service. That means your pipeline would install it as a service, then start the service. The <a href=\"https://learn.microsoft.com/en-us/windows/win32/services/service-control-manager\" rel=\"nofollow noreferrer\">Service Control Manager</a> would watch and ensure that the command is running and keeps running. Tools like <a href=\"https://commons.apache.org/proper/commons-daemon/procrun.html\" rel=\"nofollow noreferrer\">Procrun</a> can help you in this case.</p>\n"}],"owner":{"account_id":17995667,"reputation":33,"user_id":13078751,"display_name":"Curtis Botonis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":590,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661108637,"creation_date":1661009075,"question_id":73427894,"body_markdown":"I got a little project assigned to me with a particular use case and a very short time window. I have to run Jenkins on a Windows 2019 Server VM instance in Google Cloud, clone a spring boot/Maven application from GitHub, build, test, and run the application. This is my first time working with Jenkins and spring boot/Maven so I am kinda stuck in how to progress.\r\n\r\nI have a Jenkinsfile in my repo and have succesfully cloned, built, tested, and ran the application, the only problem is during the &quot;run&quot; stage of the build it runs indefinitely until I manually abort the build. Is there a way to finish the pipeline build but leave the application running? Below is my Jenkinsfile.\r\n\r\n        pipeline {\r\n      agent any\r\n      stages {\r\n        stage(&quot;Clean Up&quot;){\r\n          steps{\r\n            deleteDir()\r\n          }\r\n        }\r\n        stage(&quot;Clone Repo&quot;){\r\n          steps {\r\n            bat &quot;git clone https://github.com/CBoton/spring-boot-hello-world.git&quot;\r\n          }\r\n        }\r\n        stage(&quot;Build&quot;){\r\n          steps {\r\n            dir(&quot;spring-boot-hello-world&quot;) {\r\n              bat &quot;mvn clean install&quot;\r\n            }\r\n          }\r\n        }\r\n        stage(&quot;Test&quot;) {\r\n          steps {\r\n            dir(&quot;spring-boot-hello-world&quot;) {\r\n              bat &quot;mvn test&quot;\r\n            }\r\n          }\r\n        }\r\n        stage(&quot;Run&quot;) {\r\n            steps {\r\n              dir(&quot;spring-boot-hello-world&quot;) {\r\n                bat &quot;mvn spring-boot:run&quot;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\nThanks in advance for any suggestions.\r\n\r\nCheers","title":"Finish a Jenkins build pipeline but leave Java/Maven app running","body":"<p>I got a little project assigned to me with a particular use case and a very short time window. I have to run Jenkins on a Windows 2019 Server VM instance in Google Cloud, clone a spring boot/Maven application from GitHub, build, test, and run the application. This is my first time working with Jenkins and spring boot/Maven so I am kinda stuck in how to progress.</p>\n<p>I have a Jenkinsfile in my repo and have succesfully cloned, built, tested, and ran the application, the only problem is during the &quot;run&quot; stage of the build it runs indefinitely until I manually abort the build. Is there a way to finish the pipeline build but leave the application running? Below is my Jenkinsfile.</p>\n<pre><code>    pipeline {\n  agent any\n  stages {\n    stage(&quot;Clean Up&quot;){\n      steps{\n        deleteDir()\n      }\n    }\n    stage(&quot;Clone Repo&quot;){\n      steps {\n        bat &quot;git clone https://github.com/CBoton/spring-boot-hello-world.git&quot;\n      }\n    }\n    stage(&quot;Build&quot;){\n      steps {\n        dir(&quot;spring-boot-hello-world&quot;) {\n          bat &quot;mvn clean install&quot;\n        }\n      }\n    }\n    stage(&quot;Test&quot;) {\n      steps {\n        dir(&quot;spring-boot-hello-world&quot;) {\n          bat &quot;mvn test&quot;\n        }\n      }\n    }\n    stage(&quot;Run&quot;) {\n        steps {\n          dir(&quot;spring-boot-hello-world&quot;) {\n            bat &quot;mvn spring-boot:run&quot;\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>Thanks in advance for any suggestions.</p>\n<p>Cheers</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1661099566,"post_id":73436269,"comment_id":129685860,"body_markdown":"The bottom code only returns true if your input has the same number twice in a row. Try it with 1, 2, 3, 2, and see what it returns.","body":"The bottom code only returns true if your input has the same number twice in a row. Try it with 1, 2, 3, 2, and see what it returns."},{"owner":{"account_id":4997462,"reputation":9987,"user_id":4017501,"accept_rate":62,"display_name":"cutiko"},"score":1,"creation_date":1661099707,"post_id":73436269,"comment_id":129685893,"body_markdown":"Use a set, and iterate adding the numbers. Use a condition for checking if the set contains the number if so stop the loop and return otherwise kerp looping. Or transform the array to set and check if the size is different.","body":"Use a set, and iterate adding the numbers. Use a condition for checking if the set contains the number if so stop the loop and return otherwise kerp looping. Or transform the array to set and check if the size is different."},{"owner":{"account_id":8918408,"reputation":3806,"user_id":6656050,"display_name":"Jeremy Kahan"},"score":0,"creation_date":1661101771,"post_id":73436269,"comment_id":129686391,"body_markdown":"If you want to salvage the bottom code, you could sort the array first.","body":"If you want to salvage the bottom code, you could sort the array first."}],"owner":{"account_id":25959638,"reputation":11,"user_id":19676461,"display_name":"kuldeepsaini_23"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1860,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1661108365,"creation_date":1661099351,"question_id":73436269,"body_markdown":"    public static boolean repeat(int[] arr){\r\n\r\n        for(int i=0; i&lt;arr.length-1; i++) {\r\n            for(int j= i+1; j&lt;arr.length; j++){\r\n               if(arr[i] == arr[j]) {\r\n                return true;\r\n               }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public static boolean repeat(int[] arr){\r\n       for(int i=0; i&lt;arr.length-1; i++) {\r\n           \r\n               if(arr[i] == arr[i+1]) {\r\n                return true;\r\n               }\r\n            \r\n        }\r\n        return false;\r\n    }\r\n\r\n}\r\n\r\n\r\nThe Above code returns true and bottom code returns true? Can anyone tell me why?\r\n","title":"Given an integer array nums, return true if any value appears at least twice in the array, and return false if every element is distinct","body":"<pre><code>public static boolean repeat(int[] arr){\n\n    for(int i=0; i&lt;arr.length-1; i++) {\n        for(int j= i+1; j&lt;arr.length; j++){\n           if(arr[i] == arr[j]) {\n            return true;\n           }\n        }\n    }\n    return false;\n}\n\npublic static boolean repeat(int[] arr){\n   for(int i=0; i&lt;arr.length-1; i++) {\n       \n           if(arr[i] == arr[i+1]) {\n            return true;\n           }\n        \n    }\n    return false;\n}\n</code></pre>\n<p>}</p>\n<p>The Above code returns true and bottom code returns true? Can anyone tell me why?</p>\n"},{"tags":["java","spring-boot","netflix-zuul","gateway"],"answers":[{"tags":[],"owner":{"account_id":1341662,"reputation":6557,"user_id":1283215,"accept_rate":63,"display_name":"Hussain Akhtar Wahid &#39;Ghouri&#39;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661107303,"creation_date":1661107303,"answer_id":73437307,"question_id":73436783,"body_markdown":"I guess you missed enabling the zuul proxy on gateway server\r\n\r\n    @EnableZuulProxy\r\n\r\n","title":"Zuul Gateway No redirecting to client server","body":"<p>I guess you missed enabling the zuul proxy on gateway server</p>\n<pre><code>@EnableZuulProxy\n</code></pre>\n"}],"owner":{"account_id":1466631,"reputation":283,"user_id":3652852,"accept_rate":60,"display_name":"user1379280"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661107303,"creation_date":1661103118,"question_id":73436783,"body_markdown":"I have configured a zuul server with a single client application.\r\nBut when I hit the URL with Zuul Gateway , it does not redirect to the client service and gives the error\r\n\r\n    2022-08-21 19:25:39.120+0200 [http-nio-8080-exec-1] DEBUG o.s.w.servlet.DispatcherServlet - GET &quot;/asd&quot;, parameters={}\r\n    2022-08-21 19:25:39.120+0200 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [&quot;classpath:/META-INF/resources/&quot;, &quot;classpath:/resources/&quot;, &quot;classpath:/static/&quot;, &quot;classpath:/public/&quot;, &quot;/&quot;]\r\n    2022-08-21 19:25:39.121+0200 [http-nio-8080-exec-1] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found\r\n    2022-08-21 19:25:39.121+0200 [http-nio-8080-exec-1] DEBUG o.s.w.servlet.DispatcherServlet - Completed 404 NOT_FOUND\r\n    2022-08-21 19:25:39.122+0200 [http-nio-8080-exec-1] DEBUG o.s.w.servlet.DispatcherServlet - &quot;ERROR&quot; dispatch for GET &quot;/error&quot;, parameters={}\r\n    2022-08-21 19:25:39.123+0200 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\r\n    2022-08-21 19:25:39.123+0200 [http-nio-8080-exec-1] DEBUG o.s.c.e.PropertySourcesPropertyResolver - Found key &#39;spring.template.provider.cache&#39; in PropertySource &#39;configurationProperties&#39; with value of type String\r\n    2022-08-21 19:25:39.127+0200 [http-nio-8080-exec-1] DEBUG o.s.c.e.PropertySourcesPropertyResolver - Found key &#39;spring.template.provider.cache&#39; in PropertySource &#39;configurationProperties&#39; with value of type String\r\n    2022-08-21 19:25:39.131+0200 [http-nio-8080-exec-1] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected &#39;text/html&#39; given [text/html, text/html;q=0.8]\r\n    2022-08-21 19:25:39.131+0200 [http-nio-8080-exec-1] DEBUG o.s.w.servlet.DispatcherServlet - Exiting from &quot;ERROR&quot; dispatch, status 404\r\n\r\n\r\nMy Zuul Server config ( application.yml)\r\n\r\n    server:\r\n      port: 8080\r\n    \r\n    zuul:\r\n      routes:\r\n        client-service:\r\n          path: /asd/**\r\n          #      url: http://localhost:8081/home\r\n          url: http://localhost:8081/login\r\n\r\nMy Client Service Config :\r\n\r\n    server:\r\n      port: 8081\r\n    \r\n    \r\n    spring:\r\n      application:\r\n        name: client-service\r\n\r\n\r\nController in Client Service\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/login&quot;)\r\n    public class LoginController {\r\n    \r\n        @GetMapping\r\n        public String findAll() {\r\n            return &quot;simple login get method method&quot;;\r\n        }\r\n    }\r\n\r\n\r\nResult when hit the client service endpoint ( client service directly )\r\n\r\n    Endpoint : http://localhost:8081/login\r\n    Result : simple login get method method\r\n\r\nResult when hit the endpoint ( via gateway )\r\n\r\n    Endpoint : http://localhost:8080/asd\r\n    Result : Whitelabel Error Page\r\n    This application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n    \r\n    Sun Aug 21 19:30:45 CEST 2022\r\n    There was an unexpected error (type=Not Found, status=404).\r\n    No message available\r\n\r\n","title":"Zuul Gateway No redirecting to client server","body":"<p>I have configured a zuul server with a single client application.\nBut when I hit the URL with Zuul Gateway , it does not redirect to the client service and gives the error</p>\n<pre><code>2022-08-21 19:25:39.120+0200 [http-nio-8080-exec-1] DEBUG o.s.w.servlet.DispatcherServlet - GET &quot;/asd&quot;, parameters={}\n2022-08-21 19:25:39.120+0200 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [&quot;classpath:/META-INF/resources/&quot;, &quot;classpath:/resources/&quot;, &quot;classpath:/static/&quot;, &quot;classpath:/public/&quot;, &quot;/&quot;]\n2022-08-21 19:25:39.121+0200 [http-nio-8080-exec-1] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found\n2022-08-21 19:25:39.121+0200 [http-nio-8080-exec-1] DEBUG o.s.w.servlet.DispatcherServlet - Completed 404 NOT_FOUND\n2022-08-21 19:25:39.122+0200 [http-nio-8080-exec-1] DEBUG o.s.w.servlet.DispatcherServlet - &quot;ERROR&quot; dispatch for GET &quot;/error&quot;, parameters={}\n2022-08-21 19:25:39.123+0200 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\n2022-08-21 19:25:39.123+0200 [http-nio-8080-exec-1] DEBUG o.s.c.e.PropertySourcesPropertyResolver - Found key 'spring.template.provider.cache' in PropertySource 'configurationProperties' with value of type String\n2022-08-21 19:25:39.127+0200 [http-nio-8080-exec-1] DEBUG o.s.c.e.PropertySourcesPropertyResolver - Found key 'spring.template.provider.cache' in PropertySource 'configurationProperties' with value of type String\n2022-08-21 19:25:39.131+0200 [http-nio-8080-exec-1] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, text/html;q=0.8]\n2022-08-21 19:25:39.131+0200 [http-nio-8080-exec-1] DEBUG o.s.w.servlet.DispatcherServlet - Exiting from &quot;ERROR&quot; dispatch, status 404\n</code></pre>\n<p>My Zuul Server config ( application.yml)</p>\n<pre><code>server:\n  port: 8080\n\nzuul:\n  routes:\n    client-service:\n      path: /asd/**\n      #      url: http://localhost:8081/home\n      url: http://localhost:8081/login\n</code></pre>\n<p>My Client Service Config :</p>\n<pre><code>server:\n  port: 8081\n\n\nspring:\n  application:\n    name: client-service\n</code></pre>\n<p>Controller in Client Service</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/login&quot;)\npublic class LoginController {\n\n    @GetMapping\n    public String findAll() {\n        return &quot;simple login get method method&quot;;\n    }\n}\n</code></pre>\n<p>Result when hit the client service endpoint ( client service directly )</p>\n<pre><code>Endpoint : http://localhost:8081/login\nResult : simple login get method method\n</code></pre>\n<p>Result when hit the endpoint ( via gateway )</p>\n<pre><code>Endpoint : http://localhost:8080/asd\nResult : Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\n\nSun Aug 21 19:30:45 CEST 2022\nThere was an unexpected error (type=Not Found, status=404).\nNo message available\n</code></pre>\n"},{"tags":["java","unit-testing","mocking","mockito"],"comments":[{"owner":{"account_id":5194004,"reputation":122,"user_id":4155961,"display_name":"Dusman"},"score":5,"creation_date":1507699611,"post_id":16467685,"comment_id":80308702,"body_markdown":"useful resource https://tedvinke.wordpress.com/2014/02/13/mockito-why-you-should-not-use-injectmocks-annotation-to-autowire-fields/","body":"useful resource <a href=\"https://tedvinke.wordpress.com/2014/02/13/mockito-why-you-should-not-use-injectmocks-annotation-to-autowire-fields/\" rel=\"nofollow noreferrer\">tedvinke.wordpress.com/2014/02/13/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2157242,"reputation":15454,"user_id":1912167,"accept_rate":80,"display_name":"Tom Verelst"},"down_vote_count":2,"up_vote_count":876,"is_accepted":false,"score":874,"last_activity_date":1607583131,"creation_date":1368121580,"answer_id":16467893,"question_id":16467685,"body_markdown":"`@Mock` creates a mock. `@InjectMocks` creates an instance of the class and injects the mocks that are created with the `@Mock` (or `@Spy`) annotations into this instance. \r\n\r\nNote you must use `@RunWith(MockitoJUnitRunner.class)` or `Mockito.initMocks(this)` to initialize these mocks and inject them (JUnit 4).\r\n\r\nWith JUnit 5, you must use `@ExtendWith(MockitoExtension.class)`.\r\n\r\n    @RunWith(MockitoJUnitRunner.class) // JUnit 4\r\n    // @ExtendWith(MockitoExtension.class) for JUnit 5\r\n    public class SomeManagerTest {\r\n\r\n        @InjectMocks\r\n        private SomeManager someManager;\r\n\r\n        @Mock\r\n        private SomeDependency someDependency; // this will be injected into someManager\r\n     \r\n         // tests...\r\n\r\n    }","title":"Difference between @Mock and @InjectMocks","body":"<p><code>@Mock</code> creates a mock. <code>@InjectMocks</code> creates an instance of the class and injects the mocks that are created with the <code>@Mock</code> (or <code>@Spy</code>) annotations into this instance.</p>\n<p>Note you must use <code>@RunWith(MockitoJUnitRunner.class)</code> or <code>Mockito.initMocks(this)</code> to initialize these mocks and inject them (JUnit 4).</p>\n<p>With JUnit 5, you must use <code>@ExtendWith(MockitoExtension.class)</code>.</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class) // JUnit 4\n// @ExtendWith(MockitoExtension.class) for JUnit 5\npublic class SomeManagerTest {\n\n    @InjectMocks\n    private SomeManager someManager;\n\n    @Mock\n    private SomeDependency someDependency; // this will be injected into someManager\n \n     // tests...\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":961739,"reputation":21941,"user_id":985949,"accept_rate":87,"display_name":"Mik378"},"down_vote_count":0,"up_vote_count":74,"is_accepted":false,"score":74,"last_activity_date":1368121614,"creation_date":1368121614,"answer_id":16467901,"question_id":16467685,"body_markdown":"`@Mock` annotation mocks the concerned object.\r\n\r\n`@InjectMocks` annotation allows to inject into the underlying object the different (and relevant) mocks created by `@Mock`.\r\n\r\n**Both are complementary.**","title":"Difference between @Mock and @InjectMocks","body":"<p><code>@Mock</code> annotation mocks the concerned object.</p>\n\n<p><code>@InjectMocks</code> annotation allows to inject into the underlying object the different (and relevant) mocks created by <code>@Mock</code>.</p>\n\n<p><strong>Both are complementary.</strong></p>\n"},{"tags":[],"owner":{"account_id":1931986,"reputation":3714,"user_id":3990012,"accept_rate":64,"display_name":"serup"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1434530349,"creation_date":1434530349,"answer_id":30886431,"question_id":16467685,"body_markdown":"A &quot;mocking framework&quot;, which Mockito is based on, is a framework that gives you the ability to create Mock objects ( in old terms these objects could be called shunts, as they work as shunts for dependend functionality ) \r\nIn other words, a mock object is used to imitate the real object your code is dependend on, you create a proxy object with the mocking framework.\r\nBy using mock objects in your tests you are essentially going from normal unit testing to integrational testing\r\n\r\nMockito is an open source testing framework for Java released under the MIT License, it is a &quot;mocking framework&quot;, that lets you write beautiful tests with clean and simple API. There are many different mocking frameworks in the Java space, however there are essentially two main types of mock object frameworks, ones that are implemented via proxy and ones that are implemented via class remapping.\r\n\r\nDependency injection frameworks like Spring allow you to inject your proxy objects without modifying any code, the mock object expects a certain method to be called and it will return an expected result.\r\n\r\nThe `@InjectMocks` annotation tries to instantiate the testing object instance and injects fields annotated with `@Mock` or `@Spy` into private fields of the testing object.\r\n\r\n`MockitoAnnotations.initMocks(this)` call, resets testing object and re-initializes mocks, so remember to have this at your `@Before` / `@BeforeMethod` annotation.\r\n\r\n","title":"Difference between @Mock and @InjectMocks","body":"<p>A \"mocking framework\", which Mockito is based on, is a framework that gives you the ability to create Mock objects ( in old terms these objects could be called shunts, as they work as shunts for dependend functionality ) \nIn other words, a mock object is used to imitate the real object your code is dependend on, you create a proxy object with the mocking framework.\nBy using mock objects in your tests you are essentially going from normal unit testing to integrational testing</p>\n\n<p>Mockito is an open source testing framework for Java released under the MIT License, it is a \"mocking framework\", that lets you write beautiful tests with clean and simple API. There are many different mocking frameworks in the Java space, however there are essentially two main types of mock object frameworks, ones that are implemented via proxy and ones that are implemented via class remapping.</p>\n\n<p>Dependency injection frameworks like Spring allow you to inject your proxy objects without modifying any code, the mock object expects a certain method to be called and it will return an expected result.</p>\n\n<p>The <code>@InjectMocks</code> annotation tries to instantiate the testing object instance and injects fields annotated with <code>@Mock</code> or <code>@Spy</code> into private fields of the testing object.</p>\n\n<p><code>MockitoAnnotations.initMocks(this)</code> call, resets testing object and re-initializes mocks, so remember to have this at your <code>@Before</code> / <code>@BeforeMethod</code> annotation.</p>\n"},{"tags":[],"owner":{"account_id":144817,"reputation":5766,"user_id":354161,"accept_rate":62,"display_name":"tintin"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1452684542,"creation_date":1452684542,"answer_id":34765504,"question_id":16467685,"body_markdown":"One advantage you get with the approach mentioned by @Tom is that you don&#39;t have to create any constructors in the SomeManager, and hence limiting the clients to instantiate it. \r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class SomeManagerTest {\r\n    \r\n        @InjectMocks\r\n        private SomeManager someManager;\r\n    \r\n        @Mock\r\n        private SomeDependency someDependency; // this will be injected into someManager\r\n\r\n        //You don&#39;t need to instantiate the SomeManager with default contructor at all\r\n       //SomeManager someManager = new SomeManager();    \r\n       //Or SomeManager someManager = new SomeManager(someDependency);\r\n\r\n         //tests...\r\n    \r\n    }\r\n\r\nWhether its a good practice or not depends on your application design.","title":"Difference between @Mock and @InjectMocks","body":"<p>One advantage you get with the approach mentioned by @Tom is that you don't have to create any constructors in the SomeManager, and hence limiting the clients to instantiate it. </p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class SomeManagerTest {\n\n    @InjectMocks\n    private SomeManager someManager;\n\n    @Mock\n    private SomeDependency someDependency; // this will be injected into someManager\n\n    //You don't need to instantiate the SomeManager with default contructor at all\n   //SomeManager someManager = new SomeManager();    \n   //Or SomeManager someManager = new SomeManager(someDependency);\n\n     //tests...\n\n}\n</code></pre>\n\n<p>Whether its a good practice or not depends on your application design.</p>\n"},{"tags":[],"owner":{"display_name":"user2989087"},"down_vote_count":0,"up_vote_count":90,"is_accepted":false,"score":90,"last_activity_date":1555146710,"creation_date":1457280237,"answer_id":35829112,"question_id":16467685,"body_markdown":"In your test class, the tested class should be annotated with `@InjectMocks`. This tells Mockito which class to inject mocks into:\r\n\r\n    @InjectMocks\r\n    private SomeManager someManager;\r\n\r\nFrom then on, we can specify which specific methods or objects inside the class, in this case, `SomeManager`, will be substituted with mocks:\r\n\r\n    @Mock\r\n    private SomeDependency someDependency;\r\n\r\nIn this example, `SomeDependency` inside the `SomeManager` class will be mocked.","title":"Difference between @Mock and @InjectMocks","body":"<p>In your test class, the tested class should be annotated with <code>@InjectMocks</code>. This tells Mockito which class to inject mocks into:</p>\n\n<pre><code>@InjectMocks\nprivate SomeManager someManager;\n</code></pre>\n\n<p>From then on, we can specify which specific methods or objects inside the class, in this case, <code>SomeManager</code>, will be substituted with mocks:</p>\n\n<pre><code>@Mock\nprivate SomeDependency someDependency;\n</code></pre>\n\n<p>In this example, <code>SomeDependency</code> inside the <code>SomeManager</code> class will be mocked.</p>\n"},{"tags":[],"owner":{"account_id":1958700,"reputation":17413,"user_id":1760984,"accept_rate":80,"display_name":"aldok"},"down_vote_count":0,"up_vote_count":455,"is_accepted":false,"score":455,"last_activity_date":1568264635,"creation_date":1507889993,"answer_id":46727655,"question_id":16467685,"body_markdown":"This is a sample code on how `@Mock` and `@InjectMocks` works.\r\n\r\nSay we have `Game` and `Player` class.\r\n\r\n    class Game {\r\n    \r\n    \tprivate Player player;\r\n    \r\n    \tpublic Game(Player player) {\r\n    \t\tthis.player = player;\r\n    \t}\r\n    \r\n    \tpublic String attack() {\r\n    \t\treturn &quot;Player attack with: &quot; + player.getWeapon();\r\n    \t}\r\n    \r\n    }\r\n    \r\n    class Player {\r\n    \r\n    \tprivate String weapon;\r\n    \r\n    \tpublic Player(String weapon) {\r\n    \t\tthis.weapon = weapon;\r\n    \t}\r\n    \r\n    \tString getWeapon() {\r\n    \t\treturn weapon;\r\n    \t}\r\n    }\r\n\r\nAs you see, `Game` class need `Player` to perform an `attack`.\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    class GameTest {\r\n    \r\n    \t@Mock\r\n    \tPlayer player;\r\n    \r\n    \t@InjectMocks\r\n    \tGame game;\r\n    \r\n    \t@Test\r\n    \tpublic void attackWithSwordTest() throws Exception {\r\n    \t\tMockito.when(player.getWeapon()).thenReturn(&quot;Sword&quot;);\r\n    \r\n    \t\tassertEquals(&quot;Player attack with: Sword&quot;, game.attack());\r\n    \t}\r\n    \r\n    }\r\n\r\nMockito will mock a Player class and it&#39;s behaviour using `when` and `thenReturn` method. Lastly, using `@InjectMocks` Mockito will put that `Player` into `Game`. \r\n\r\nNotice that you don&#39;t even have to create a `new Game` object. Mockito will inject it for you.\r\n\r\n    // you don&#39;t have to do this\r\n    Game game = new Game(player);\r\n\r\nWe will also get same behaviour using `@Spy` annotation. Even if the attribute name is different.\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class GameTest {\r\n    \r\n      @Mock Player player;\r\n    \r\n      @Spy List&lt;String&gt; enemies = new ArrayList&lt;&gt;();\r\n    \r\n      @InjectMocks Game game;\r\n    \r\n      @Test public void attackWithSwordTest() throws Exception {\r\n        Mockito.when(player.getWeapon()).thenReturn(&quot;Sword&quot;);\r\n    \r\n        enemies.add(&quot;Dragon&quot;);\r\n        enemies.add(&quot;Orc&quot;);\r\n    \r\n        assertEquals(2, game.numberOfEnemies());\r\n    \r\n        assertEquals(&quot;Player attack with: Sword&quot;, game.attack());\r\n      }\r\n    }\r\n\r\n    class Game {\r\n    \r\n      private Player player;\r\n    \r\n      private List&lt;String&gt; opponents;\r\n    \r\n      public Game(Player player, List&lt;String&gt; opponents) {\r\n        this.player = player;\r\n        this.opponents = opponents;\r\n      }\r\n\r\n      public int numberOfEnemies() {\r\n        return opponents.size();\r\n      }\r\n\r\n      // ...\r\n\r\nThat&#39;s because Mockito will check the `Type Signature` of Game class, which is `Player` and `List&lt;String&gt;`. ","title":"Difference between @Mock and @InjectMocks","body":"<p>This is a sample code on how <code>@Mock</code> and <code>@InjectMocks</code> works.</p>\n\n<p>Say we have <code>Game</code> and <code>Player</code> class.</p>\n\n<pre><code>class Game {\n\n    private Player player;\n\n    public Game(Player player) {\n        this.player = player;\n    }\n\n    public String attack() {\n        return \"Player attack with: \" + player.getWeapon();\n    }\n\n}\n\nclass Player {\n\n    private String weapon;\n\n    public Player(String weapon) {\n        this.weapon = weapon;\n    }\n\n    String getWeapon() {\n        return weapon;\n    }\n}\n</code></pre>\n\n<p>As you see, <code>Game</code> class need <code>Player</code> to perform an <code>attack</code>.</p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\nclass GameTest {\n\n    @Mock\n    Player player;\n\n    @InjectMocks\n    Game game;\n\n    @Test\n    public void attackWithSwordTest() throws Exception {\n        Mockito.when(player.getWeapon()).thenReturn(\"Sword\");\n\n        assertEquals(\"Player attack with: Sword\", game.attack());\n    }\n\n}\n</code></pre>\n\n<p>Mockito will mock a Player class and it's behaviour using <code>when</code> and <code>thenReturn</code> method. Lastly, using <code>@InjectMocks</code> Mockito will put that <code>Player</code> into <code>Game</code>. </p>\n\n<p>Notice that you don't even have to create a <code>new Game</code> object. Mockito will inject it for you.</p>\n\n<pre><code>// you don't have to do this\nGame game = new Game(player);\n</code></pre>\n\n<p>We will also get same behaviour using <code>@Spy</code> annotation. Even if the attribute name is different.</p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class GameTest {\n\n  @Mock Player player;\n\n  @Spy List&lt;String&gt; enemies = new ArrayList&lt;&gt;();\n\n  @InjectMocks Game game;\n\n  @Test public void attackWithSwordTest() throws Exception {\n    Mockito.when(player.getWeapon()).thenReturn(\"Sword\");\n\n    enemies.add(\"Dragon\");\n    enemies.add(\"Orc\");\n\n    assertEquals(2, game.numberOfEnemies());\n\n    assertEquals(\"Player attack with: Sword\", game.attack());\n  }\n}\n\nclass Game {\n\n  private Player player;\n\n  private List&lt;String&gt; opponents;\n\n  public Game(Player player, List&lt;String&gt; opponents) {\n    this.player = player;\n    this.opponents = opponents;\n  }\n\n  public int numberOfEnemies() {\n    return opponents.size();\n  }\n\n  // ...\n</code></pre>\n\n<p>That's because Mockito will check the <code>Type Signature</code> of Game class, which is <code>Player</code> and <code>List&lt;String&gt;</code>. </p>\n"},{"tags":[],"owner":{"account_id":10714354,"reputation":773,"user_id":7885582,"display_name":"sana"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1555146697,"creation_date":1515871722,"answer_id":48243525,"question_id":16467685,"body_markdown":" - **@Mock** creates a mock implementation for the classes you need.\r\n - **@InjectMock**  creates an instance of the class and injects the mocks that are marked with the annotations **@Mock** into it.\r\n\r\nFor example\r\n\r\n    @Mock\r\n    StudentDao studentDao;\r\n    \r\n    @InjectMocks\r\n    StudentService service;\r\n    \r\n    @Before\r\n    public void setUp() throws Exception {\r\n    \tMockitoAnnotations.initMocks(this);\r\n    }\r\n\r\nHere we need the DAO class for the service class. So, we mock it and inject it in the service class instance.\r\nSimilarly, in Spring framework all the **@Autowired** beans can be mocked by **@Mock** in jUnits and injected into your bean through @InjectMocks.\r\n\r\n`MockitoAnnotations.initMocks(this)` method initialises these mocks and injects them for every test method so it needs to be called in the `setUp()` method.\r\n \r\n[This link has a good tutorial for Mockito framework][1]\r\n\r\n  [1]: https://dzone.com/articles/a-guide-to-mocking-with-mockito","title":"Difference between @Mock and @InjectMocks","body":"<ul>\n<li><strong>@Mock</strong> creates a mock implementation for the classes you need.</li>\n<li><strong>@InjectMock</strong>  creates an instance of the class and injects the mocks that are marked with the annotations <strong>@Mock</strong> into it.</li>\n</ul>\n\n<p>For example</p>\n\n<pre><code>@Mock\nStudentDao studentDao;\n\n@InjectMocks\nStudentService service;\n\n@Before\npublic void setUp() throws Exception {\n    MockitoAnnotations.initMocks(this);\n}\n</code></pre>\n\n<p>Here we need the DAO class for the service class. So, we mock it and inject it in the service class instance.\nSimilarly, in Spring framework all the <strong>@Autowired</strong> beans can be mocked by <strong>@Mock</strong> in jUnits and injected into your bean through @InjectMocks.</p>\n\n<p><code>MockitoAnnotations.initMocks(this)</code> method initialises these mocks and injects them for every test method so it needs to be called in the <code>setUp()</code> method.</p>\n\n<p><a href=\"https://dzone.com/articles/a-guide-to-mocking-with-mockito\" rel=\"noreferrer\">This link has a good tutorial for Mockito framework</a></p>\n"},{"tags":[],"owner":{"account_id":6983262,"reputation":2982,"user_id":5355272,"accept_rate":25,"display_name":"avp"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1534401429,"creation_date":1534401429,"answer_id":51870960,"question_id":16467685,"body_markdown":"Many people have given a great explanation here about `@Mock` vs `@InjectMocks`. I like it, but I think our tests and application should be written in such a way that we shouldn&#39;t need to use `@InjectMocks`.\r\n\r\nReference for further reading with examples: https://tedvinke.wordpress.com/2014/02/13/mockito-why-you-should-not-use-injectmocks-annotation-to-autowire-fields/","title":"Difference between @Mock and @InjectMocks","body":"<p>Many people have given a great explanation here about <code>@Mock</code> vs <code>@InjectMocks</code>. I like it, but I think our tests and application should be written in such a way that we shouldn't need to use <code>@InjectMocks</code>.</p>\n\n<p>Reference for further reading with examples: <a href=\"https://tedvinke.wordpress.com/2014/02/13/mockito-why-you-should-not-use-injectmocks-annotation-to-autowire-fields/\" rel=\"noreferrer\">https://tedvinke.wordpress.com/2014/02/13/mockito-why-you-should-not-use-injectmocks-annotation-to-autowire-fields/</a></p>\n"},{"tags":[],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1539586936,"creation_date":1539586936,"answer_id":52811318,"question_id":16467685,"body_markdown":"Notice that that `@InjectMocks` are about to be [deprecated][1] \r\n\r\n&gt;deprecate @InjectMocks and schedule for removal in Mockito 3/4\r\n\r\nand you can follow @avp [answer and link][2] on: \r\n\r\n&gt;Why You Should Not Use InjectMocks Annotation to Autowire Fields\r\n\r\n[2]:https://stackoverflow.com/questions/16467685/difference-between-mock-and-injectmocks/51870960#51870960\r\n[1]:https://github.com/mockito/mockito/issues/1518","title":"Difference between @Mock and @InjectMocks","body":"<p>Notice that that <code>@InjectMocks</code> are about to be <a href=\"https://github.com/mockito/mockito/issues/1518\" rel=\"nofollow noreferrer\">deprecated</a> </p>\n\n<blockquote>\n  <p>deprecate @InjectMocks and schedule for removal in Mockito 3/4</p>\n</blockquote>\n\n<p>and you can follow @avp <a href=\"https://stackoverflow.com/questions/16467685/difference-between-mock-and-injectmocks/51870960#51870960\">answer and link</a> on: </p>\n\n<blockquote>\n  <p>Why You Should Not Use InjectMocks Annotation to Autowire Fields</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5254815,"reputation":341,"user_id":4197995,"display_name":"dev_2014"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1555059707,"creation_date":1542803537,"answer_id":53412117,"question_id":16467685,"body_markdown":"`@Mock` is used to declare/mock the references of the dependent beans, while `@InjectMocks` is used to mock the bean for which test is being created.\r\n\r\n\r\nFor example:\r\n\r\n    public class A{\r\n    \r\n       public class B b;\r\n    \r\n       public void doSomething(){\r\n       \r\n       }\r\n    \r\n    }\r\n\r\ntest for class `A`:\r\n\r\n    public class TestClassA{\r\n       \r\n       @Mocks\r\n       public class B b;\r\n    \r\n       @InjectMocks\r\n       public class A a;\r\n       \r\n       @Test\r\n       public testDoSomething(){\r\n       \r\n       }\r\n\r\n    }","title":"Difference between @Mock and @InjectMocks","body":"<p><code>@Mock</code> is used to declare/mock the references of the dependent beans, while <code>@InjectMocks</code> is used to mock the bean for which test is being created.</p>\n\n<p>For example:</p>\n\n<pre><code>public class A{\n\n   public class B b;\n\n   public void doSomething(){\n\n   }\n\n}\n</code></pre>\n\n<p>test for class <code>A</code>:</p>\n\n<pre><code>public class TestClassA{\n\n   @Mocks\n   public class B b;\n\n   @InjectMocks\n   public class A a;\n\n   @Test\n   public testDoSomething(){\n\n   }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7238986,"reputation":622,"user_id":5523151,"display_name":"Lahiru Wijesekara"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1557119144,"creation_date":1557119144,"answer_id":55999053,"question_id":16467685,"body_markdown":"@InjectMocks annotation can be used to inject mock fields into a test object automatically.\r\n\r\nIn below example @InjectMocks has used to inject the mock dataMap into the dataLibrary .\r\n\r\n\r\n    @Mock\r\n    Map&lt;String, String&gt; dataMap ;\r\n     \r\n    @InjectMocks\r\n    DataLibrary dataLibrary = new DataLibrary();\r\n    \r\n    \r\n        @Test\r\n        public void whenUseInjectMocksAnnotation_() {\r\n            Mockito.when(dataMap .get(&quot;aData&quot;)).thenReturn(&quot;aMeaning&quot;);\r\n         \r\n            assertEquals(&quot;aMeaning&quot;, dataLibrary .getMeaning(&quot;aData&quot;));\r\n        }","title":"Difference between @Mock and @InjectMocks","body":"<p>@InjectMocks annotation can be used to inject mock fields into a test object automatically.</p>\n\n<p>In below example @InjectMocks has used to inject the mock dataMap into the dataLibrary .</p>\n\n<pre><code>@Mock\nMap&lt;String, String&gt; dataMap ;\n\n@InjectMocks\nDataLibrary dataLibrary = new DataLibrary();\n\n\n    @Test\n    public void whenUseInjectMocksAnnotation_() {\n        Mockito.when(dataMap .get(\"aData\")).thenReturn(\"aMeaning\");\n\n        assertEquals(\"aMeaning\", dataLibrary .getMeaning(\"aData\"));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":179742,"reputation":9030,"user_id":412591,"accept_rate":46,"display_name":"Angelin Nadar"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1590522827,"creation_date":1590437186,"answer_id":62009950,"question_id":16467685,"body_markdown":" Though the above answers have covered, I have just tried to add minute detail s which i see missing. The reason behind them(The Why).\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n---\r\n**Illustration:**\r\n\r\n\r\n    Sample.java\r\n    ---------------\r\n        public class Sample{\r\n        \tDependencyOne dependencyOne;\r\n        \tDependencyTwo dependencyTwo;\r\n        \r\n        \t\r\n        \tpublic SampleResponse methodOfSample(){\r\n        \t\tdependencyOne.methodOne();\r\n        \t\tdependencyTwo.methodTwo();\r\n        \t\t\r\n        \t\t...\r\n        \t\t\r\n        \t\treturn sampleResponse;\r\n        \t}\r\n        }\r\n\r\n---\r\n\r\n    SampleTest.java\r\n    -----------------------\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest({ClassA.class})\r\n    public class SampleTest{\r\n    \r\n    \t@InjectMocks\r\n    \tSample sample;\r\n    \t\r\n    \t@Mock\r\n    \tDependencyOne dependencyOne;\r\n    \t\r\n    \t@Mock\r\n    \tDependencyTwo dependencyTwo;\r\n    \t\r\n    \t@Before\r\n        public void init() {\r\n            MockitoAnnotations.initMocks(this);\r\n        }\r\n    \t\r\n    \tpublic void sampleMethod1_Test(){\r\n    \t\t//Arrange the dependencies\r\n    \t\tDependencyResponse dependencyOneResponse = Mock(sampleResponse.class);\r\n    \t\tMockito.doReturn(dependencyOneResponse).when(dependencyOne).methodOne();\r\n    \t\t\r\n    \t\tDependencyResponse dependencyTwoResponse = Mock(sampleResponse.class);\r\n    \t\tMockito.doReturn(dependencyOneResponse).when(dependencyTwo).methodTwo();\r\n    \t\t\r\n    \t\t//call the method to be tested\r\n    \t\tSampleResponse sampleResponse = sample.methodOfSample()\t\r\n    \t\t\r\n    \t\t//Assert\r\n    \t\t&lt;assert the SampleResponse here&gt;\r\n    \t}\r\n    }\r\n\r\n[Reference][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cnPus.png\r\n  [2]: https://howtodoinjava.com/mockito/mockito-mock-injectmocks/","title":"Difference between @Mock and @InjectMocks","body":"<p>Though the above answers have covered, I have just tried to add minute detail s which i see missing. The reason behind them(The Why).</p>\n\n<p><a href=\"https://i.stack.imgur.com/cnPus.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/cnPus.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p><strong>Illustration:</strong></p>\n\n<pre><code>Sample.java\n---------------\n    public class Sample{\n        DependencyOne dependencyOne;\n        DependencyTwo dependencyTwo;\n\n\n        public SampleResponse methodOfSample(){\n            dependencyOne.methodOne();\n            dependencyTwo.methodTwo();\n\n            ...\n\n            return sampleResponse;\n        }\n    }\n</code></pre>\n\n<hr>\n\n<pre><code>SampleTest.java\n-----------------------\n@RunWith(PowerMockRunner.class)\n@PrepareForTest({ClassA.class})\npublic class SampleTest{\n\n    @InjectMocks\n    Sample sample;\n\n    @Mock\n    DependencyOne dependencyOne;\n\n    @Mock\n    DependencyTwo dependencyTwo;\n\n    @Before\n    public void init() {\n        MockitoAnnotations.initMocks(this);\n    }\n\n    public void sampleMethod1_Test(){\n        //Arrange the dependencies\n        DependencyResponse dependencyOneResponse = Mock(sampleResponse.class);\n        Mockito.doReturn(dependencyOneResponse).when(dependencyOne).methodOne();\n\n        DependencyResponse dependencyTwoResponse = Mock(sampleResponse.class);\n        Mockito.doReturn(dependencyOneResponse).when(dependencyTwo).methodTwo();\n\n        //call the method to be tested\n        SampleResponse sampleResponse = sample.methodOfSample() \n\n        //Assert\n        &lt;assert the SampleResponse here&gt;\n    }\n}\n</code></pre>\n\n<p><a href=\"https://howtodoinjava.com/mockito/mockito-mock-injectmocks/\" rel=\"noreferrer\">Reference</a></p>\n"},{"tags":[],"owner":{"account_id":16433041,"reputation":376,"user_id":11871372,"display_name":"Frank Jose"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1661106551,"creation_date":1661106551,"answer_id":73437222,"question_id":16467685,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JReGM.png\r\n\r\n`@Mock` is for creating and injecting mock instances without having to call Mockito.mock manually. In this example the instance would be **ClassB**.\r\n\r\nWhereas, @`InjectMocks` is for injecting mock fields into the tested object automatically. In this case it would be **ClassA**","title":"Difference between @Mock and @InjectMocks","body":"<p><a href=\"https://i.stack.imgur.com/JReGM.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/JReGM.png\" alt=\"enter image description here\" /></a></p>\n<p><code>@Mock</code> is for creating and injecting mock instances without having to call Mockito.mock manually. In this example the instance would be <strong>ClassB</strong>.</p>\n<p>Whereas, @<code>InjectMocks</code> is for injecting mock fields into the tested object automatically. In this case it would be <strong>ClassA</strong></p>\n"}],"owner":{"account_id":2596370,"reputation":7461,"user_id":2249972,"display_name":"user2249972"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":579817,"favorite_count":0,"down_vote_count":0,"up_vote_count":744,"answer_count":13,"score":744,"last_activity_date":1661106551,"creation_date":1368120810,"question_id":16467685,"body_markdown":"What is the difference between `@Mock` and `@InjectMocks` in Mockito framework?","title":"Difference between @Mock and @InjectMocks","body":"<p>What is the difference between <code>@Mock</code> and <code>@InjectMocks</code> in Mockito framework?</p>\n"},{"tags":["java","spring","spring-boot","exception","aop"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1661001995,"post_id":73305477,"comment_id":129669545,"body_markdown":"This could be a use case for the native AspectJ `handler()` pointcut. But in order to be sure, you need to provide a clear, complete, minimal reproducer ([MCVE](https://stackoverflow.com/help/mcve)). Then I can help you.","body":"This could be a use case for the native AspectJ <code>handler()</code> pointcut. But in order to be sure, you need to provide a clear, complete, minimal reproducer (<a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>). Then I can help you."},{"owner":{"account_id":19225914,"reputation":389,"user_id":14048816,"display_name":"Himanshu Kawale"},"score":0,"creation_date":1661106211,"post_id":73305477,"comment_id":129687485,"body_markdown":"Hi, @kriegaex Thank you for your comment, following your suggestion,  I&#39;ve added a Minimal Reproducible Example in the question, please have a look.","body":"Hi, @kriegaex Thank you for your comment, following your suggestion,  I&#39;ve added a Minimal Reproducible Example in the question, please have a look."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1661414387,"post_id":73305477,"comment_id":129767867,"body_markdown":"Am I assuming correctly that you want to have an exception handler B for your exception handler A? Isn&#39;t that a bit over-engineered? Why don&#39;t you log the error in the exception handler and maybe put some info about the problem into your error DTO? I am not a Spring user, so I cannot tell you if a second `@RestControllerAdvice` can intercept errors from the first one, but probably not. Like I said, a native AspectJ aspect would work, but think about whether it is worth to switch from Spring AOP to AspectJ just to avoid a try-catch block.","body":"Am I assuming correctly that you want to have an exception handler B for your exception handler A? Isn&#39;t that a bit over-engineered? Why don&#39;t you log the error in the exception handler and maybe put some info about the problem into your error DTO? I am not a Spring user, so I cannot tell you if a second <code>@RestControllerAdvice</code> can intercept errors from the first one, but probably not. Like I said, a native AspectJ aspect would work, but think about whether it is worth to switch from Spring AOP to AspectJ just to avoid a try-catch block."},{"owner":{"account_id":19225914,"reputation":389,"user_id":14048816,"display_name":"Himanshu Kawale"},"score":0,"creation_date":1661622607,"post_id":73305477,"comment_id":129817845,"body_markdown":"@kriegaex I got your point, in fact, the actual question is, is there any way to trigger a logging method using AOP in this situation, Instead of getting a logger object just for one log.","body":"@kriegaex I got your point, in fact, the actual question is, is there any way to trigger a logging method using AOP in this situation, Instead of getting a logger object just for one log."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1661631447,"post_id":73305477,"comment_id":129819460,"body_markdown":"What stops you from using a static logger and/or share a logger for exception logging from a utility class? Anyway, like I said, if you want to use an aspect, you can.","body":"What stops you from using a static logger and/or share a logger for exception logging from a utility class? Anyway, like I said, if you want to use an aspect, you can."}],"owner":{"account_id":19225914,"reputation":389,"user_id":14048816,"display_name":"Himanshu Kawale"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":872,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661106086,"creation_date":1660130820,"question_id":73305477,"body_markdown":"I have an exception handler method in the exception handler class of my spring boot project.\r\n\r\nI came to know that, the `throws` keyword can not handle the exception in the exception handler class.\r\n\r\nSo, I&#39;m using the `try-catch` block to handle it. (Please suggest if there is any better way).\r\n\r\nAnd I want to log the exception handled by `catch` block, using AOP.\r\n\r\nHow should I trigger the method in AOP to log this exception handled by `catch` block?\r\n\r\n\r\n**Minimal Reproducible Example**\r\n\r\n*Error DTO class with Clonable implemented*\r\n```\r\n@Component\r\npublic class ErrorDTO implements Cloneable{\r\n\t\r\n\tprivate String message;\r\n\tprivate Integer errorCode;\r\n\tprivate LocalDateTime timeStamp;\r\n\t\r\n    // Getters &amp; Setters...\r\n\t\r\n\t@Override\r\n\tpublic ErrorDTO clone() throws CloneNotSupportedException {\r\n\t\treturn (ErrorDTO) super.clone();\r\n\t}\r\n\t\r\n\t\r\n}\r\n```\r\n\r\n*Exception Controller class*\r\n```\r\n@RestControllerAdvice\r\npublic class ExceptionController {\r\n\r\n\t@Autowired\r\n\tErrorDTO errorDTO;\r\n\t\r\n\t@ExceptionHandler(MethodArgumentNotValidException.class)\r\n\tpublic ResponseEntity&lt;List&lt;ErrorDTO&gt;&gt; handlerMethod(MethodArgumentNotValidException e){\r\n\t\t\r\n\t\tList&lt;ErrorDTO&gt; errorDTOs = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\te.getBindingResult().getAllErrors().forEach(\r\n\t\t\t\t\r\n\t\t\t\terror -&gt; {\r\n\t\t\t\t\terrorDTO.setErrorCode(HttpStatus.NOT_ACCEPTABLE.value());\r\n\t\t\t\t\terrorDTO.setMessage(error.getDefaultMessage());\r\n\t\t\t\t\terrorDTO.setTimeStamp(LocalDateTime.now());\r\n\t\t\t\t\t\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\terrorDTOs.add(errorDTO.clone());\r\n\t\t\t\t\t} catch (CloneNotSupportedException e1) {\r\n\t\t\t\t\t\te1.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t);\r\n\t\treturn new ResponseEntity&lt;&gt;(errorDTOs, HttpStatus.NOT_ACCEPTABLE);\r\n\t\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nHere,\r\nInside the `handlerMethod(MethodArgumentNotValidException e)` method `errorDTOs.add(errorDTO.clone());` need to be surrounded by `try-catch` block to handle `CloneNotSupportedException` exception.\r\n\r\n\r\nHow can I trigger a method in Logging Aspect to Log this exception handled by `catch` block here?\r\n\r\nAnd also, is there any other way to handle such exceptions?\r\n\r\n(I&#39;m open to any other relevant suggestions, to follow the best practices)\r\n\r\nThank you in Advance!","title":"Handling and logging exception raise by exception handler class in spring boot","body":"<p>I have an exception handler method in the exception handler class of my spring boot project.</p>\n<p>I came to know that, the <code>throws</code> keyword can not handle the exception in the exception handler class.</p>\n<p>So, I'm using the <code>try-catch</code> block to handle it. (Please suggest if there is any better way).</p>\n<p>And I want to log the exception handled by <code>catch</code> block, using AOP.</p>\n<p>How should I trigger the method in AOP to log this exception handled by <code>catch</code> block?</p>\n<p><strong>Minimal Reproducible Example</strong></p>\n<p><em>Error DTO class with Clonable implemented</em></p>\n<pre><code>@Component\npublic class ErrorDTO implements Cloneable{\n    \n    private String message;\n    private Integer errorCode;\n    private LocalDateTime timeStamp;\n    \n    // Getters &amp; Setters...\n    \n    @Override\n    public ErrorDTO clone() throws CloneNotSupportedException {\n        return (ErrorDTO) super.clone();\n    }\n    \n    \n}\n</code></pre>\n<p><em>Exception Controller class</em></p>\n<pre><code>@RestControllerAdvice\npublic class ExceptionController {\n\n    @Autowired\n    ErrorDTO errorDTO;\n    \n    @ExceptionHandler(MethodArgumentNotValidException.class)\n    public ResponseEntity&lt;List&lt;ErrorDTO&gt;&gt; handlerMethod(MethodArgumentNotValidException e){\n        \n        List&lt;ErrorDTO&gt; errorDTOs = new ArrayList&lt;&gt;();\n        \n        e.getBindingResult().getAllErrors().forEach(\n                \n                error -&gt; {\n                    errorDTO.setErrorCode(HttpStatus.NOT_ACCEPTABLE.value());\n                    errorDTO.setMessage(error.getDefaultMessage());\n                    errorDTO.setTimeStamp(LocalDateTime.now());\n                    \n                    try {\n                        errorDTOs.add(errorDTO.clone());\n                    } catch (CloneNotSupportedException e1) {\n                        e1.printStackTrace();\n                    }\n                }\n                \n                );\n        return new ResponseEntity&lt;&gt;(errorDTOs, HttpStatus.NOT_ACCEPTABLE);\n    \n    }\n    \n}\n</code></pre>\n<p>Here,\nInside the <code>handlerMethod(MethodArgumentNotValidException e)</code> method <code>errorDTOs.add(errorDTO.clone());</code> need to be surrounded by <code>try-catch</code> block to handle <code>CloneNotSupportedException</code> exception.</p>\n<p>How can I trigger a method in Logging Aspect to Log this exception handled by <code>catch</code> block here?</p>\n<p>And also, is there any other way to handle such exceptions?</p>\n<p>(I'm open to any other relevant suggestions, to follow the best practices)</p>\n<p>Thank you in Advance!</p>\n"},{"tags":["java","spring-boot","openapi","springdoc","localdatetime"],"answers":[{"tags":[],"owner":{"account_id":15460945,"reputation":41,"user_id":11153658,"display_name":"Yacine Sghairi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1660223653,"creation_date":1660223653,"answer_id":73321304,"question_id":70799677,"body_markdown":"if you want a better representation you need to add a type, in my case string.\r\nSee Docs (https://swagger.io/specification/)   \r\n\r\n    static {\r\n                var schema = new Schema&lt;LocalTime&gt;();\r\n                schema.example(LocalTime.now().format(DateTimeFormatter.ofPattern(&quot;HH:mm:ss&quot;))).type(&quot;string&quot;);\r\n                SpringDocUtils.getConfig().replaceWithSchema(LocalTime.class, schema);\r\n            }","title":"Java springdoc-openapi show LocalDateTime field with additional date/time fields in Swagger UI Example Value","body":"<p>if you want a better representation you need to add a type, in my case string.\nSee Docs (<a href=\"https://swagger.io/specification/\" rel=\"nofollow noreferrer\">https://swagger.io/specification/</a>)</p>\n<pre><code>static {\n            var schema = new Schema&lt;LocalTime&gt;();\n            schema.example(LocalTime.now().format(DateTimeFormatter.ofPattern(&quot;HH:mm:ss&quot;))).type(&quot;string&quot;);\n            SpringDocUtils.getConfig().replaceWithSchema(LocalTime.class, schema);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13990306,"reputation":68,"user_id":10104424,"display_name":"Zack789"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660905873,"creation_date":1660905873,"answer_id":73415552,"question_id":70799677,"body_markdown":"For Kotlin Developer:\r\n```kotlin\r\n@Configuration\r\nopen class SwaggerConfig{\r\n    init {\r\n        val schema: Schema&lt;LocalDateTime&gt; = Schema&lt;LocalDateTime&gt;()\r\n        schema.example(LocalDateTime.now().format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;)))\r\n        SpringDocUtils.getConfig().replaceWithSchema(LocalDateTime::class.java, schema)\r\n    }\r\n}\r\n```","title":"Java springdoc-openapi show LocalDateTime field with additional date/time fields in Swagger UI Example Value","body":"<p>For Kotlin Developer:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Configuration\nopen class SwaggerConfig{\n    init {\n        val schema: Schema&lt;LocalDateTime&gt; = Schema&lt;LocalDateTime&gt;()\n        schema.example(LocalDateTime.now().format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;)))\n        SpringDocUtils.getConfig().replaceWithSchema(LocalDateTime::class.java, schema)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":263115,"reputation":16950,"user_id":548473,"display_name":"Grigory Kislin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2951,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1661105966,"creation_date":1642760185,"question_id":70799677,"body_markdown":"spring-boot 2.6.2   \r\nspringdoc-openapi 1.6.2   \r\n\r\n**Single** field `LocalDateTime dateTime` in body represent in Swagger UI Example Value as\r\n```\r\n{\r\n  &quot;dateTime&quot;: &quot;2022-01-21T10:02:46.481Z&quot;,\r\n  &quot;time&quot;: {\r\n    &quot;hour&quot;: 0,\r\n    &quot;minute&quot;: 0,\r\n    &quot;second&quot;: 0,\r\n    &quot;nano&quot;: 0\r\n  },\r\n  &quot;date&quot;: &quot;2022-01-21&quot;\r\n}\r\n```\r\n\r\nDate format can be fixed (https://ru.stackoverflow.com/a/1276885/209226) by\r\n```\r\n    static {\r\n        var schema = new Schema&lt;LocalTime&gt;();\r\n        schema.example(LocalTime.now().format(DateTimeFormatter.ISO_TIME));\r\n        SpringDocUtils.getConfig().replaceWithSchema(LocalTime.class, schema);\r\n    }\r\n```\r\n\r\nBut it is still remained 3 fields iso one `dateTime`: \r\n```\r\n{\r\n  &quot;dateTime&quot;: &quot;2022-01-21T10:05:52.945Z&quot;,\r\n  &quot;time&quot;: &quot;13:05:14.746&quot;,\r\n  &quot;date&quot;: &quot;2022-01-21&quot;\r\n}\r\n```\r\n\r\nUPDATE:\r\n\r\nIn object for `LocalDateTime dateTime` field I&#39;ve aux methods `getDate/getTime`. \r\n\r\n    public LocalDate getDate() {\r\n        return dateTime.toLocalDate();\r\n    }\r\n\r\n    public LocalTime getTime() {\r\n        return dateTime.toLocalTime();\r\n    }\r\n\r\nThey are ignored in json, as of fields based jackson configuration, but NOT ignoring in springdoc.\r\nFixed with `@Schema(hidden = true)`\r\n","title":"Java springdoc-openapi show LocalDateTime field with additional date/time fields in Swagger UI Example Value","body":"<p>spring-boot 2.6.2<br />\nspringdoc-openapi 1.6.2</p>\n<p><strong>Single</strong> field <code>LocalDateTime dateTime</code> in body represent in Swagger UI Example Value as</p>\n<pre><code>{\n  &quot;dateTime&quot;: &quot;2022-01-21T10:02:46.481Z&quot;,\n  &quot;time&quot;: {\n    &quot;hour&quot;: 0,\n    &quot;minute&quot;: 0,\n    &quot;second&quot;: 0,\n    &quot;nano&quot;: 0\n  },\n  &quot;date&quot;: &quot;2022-01-21&quot;\n}\n</code></pre>\n<p>Date format can be fixed (<a href=\"https://ru.stackoverflow.com/a/1276885/209226\">https://ru.stackoverflow.com/a/1276885/209226</a>) by</p>\n<pre><code>    static {\n        var schema = new Schema&lt;LocalTime&gt;();\n        schema.example(LocalTime.now().format(DateTimeFormatter.ISO_TIME));\n        SpringDocUtils.getConfig().replaceWithSchema(LocalTime.class, schema);\n    }\n</code></pre>\n<p>But it is still remained 3 fields iso one <code>dateTime</code>:</p>\n<pre><code>{\n  &quot;dateTime&quot;: &quot;2022-01-21T10:05:52.945Z&quot;,\n  &quot;time&quot;: &quot;13:05:14.746&quot;,\n  &quot;date&quot;: &quot;2022-01-21&quot;\n}\n</code></pre>\n<p>UPDATE:</p>\n<p>In object for <code>LocalDateTime dateTime</code> field I've aux methods <code>getDate/getTime</code>.</p>\n<pre><code>public LocalDate getDate() {\n    return dateTime.toLocalDate();\n}\n\npublic LocalTime getTime() {\n    return dateTime.toLocalTime();\n}\n</code></pre>\n<p>They are ignored in json, as of fields based jackson configuration, but NOT ignoring in springdoc.\nFixed with <code>@Schema(hidden = true)</code></p>\n"},{"tags":["java","database","hibernate"],"answers":[{"tags":[],"owner":{"account_id":6969787,"reputation":443,"user_id":5346535,"display_name":"Marko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1518594198,"creation_date":1518530834,"answer_id":48768724,"question_id":48767077,"body_markdown":"You can try to solve the problem with SQL query itself.\r\n\r\nFirst, you&#39;re gonna need to take first top 5000 new records.\r\n\r\n    SELECT id FROM LogEntry ORDER BY time DESC LIMIT 100000 OFFSET 5000;\r\n\r\nI would recommend you to use LIMIT and set it to suit your needs so the query won&#39;t take too long to execute. By this, you can execute query as many time as you can and you&#39;ll always grab the freshest data because of ORDER BY and because of OFFSET 5000 you just preserved newest 5000 records.\r\n\r\nThe next step would be deleting:\r\n\r\n    DELETE FROM LogEntry WHERE id IN \r\n    (SELECT id FROM ( SELECT id FROM LogEntry ORDER BY time DESC LIMIT 100000 OFFSET 5000) table_alias);\r\n\r\nMaybe you are wondering why do I use SELECT upon subquery. That&#39;s because I need a reference to that result I selected, as you see it&#39;s named **table_alias**.\r\nMySql itself won&#39;t execute query if you try to execute DELETE with subquery using IN keyword. You&#39;ll get the error:\r\n\r\n    This version of MySQL doesn&#39;t yet support &#39;LIMIT &amp; IN/ALL/ANY/SOME subquery\r\n\r\nThe official documentations ([says][1]):\r\n\r\n&gt; In general, you cannot modify a table and select from the same table in a subquery.\r\n\r\n&gt; Exception: The preceding prohibition does not apply if for the\r\n&gt; modified table you are using a derived table (subquery in the FROM\r\n&gt; clause) and that derived table is materialized rather than merged into\r\n&gt; the outer query.\r\n\r\n**MSSQL Solution**\r\n\r\n    DELETE FROM LogEntry WHERE id BETWEEN\r\n    (\r\n    SELECT MIN(id) FROM LogEntry ORDER BY time DESC \r\n    OFFSET 5000 ROWS \r\n    FETCH NEXT 100000 ROWS ONLY\r\n    )\r\n    AND\r\n    (SELECT MAX(id) FROM LogEntry ORDER BY time DESC \r\n    OFFSET 5000 ROWS \r\n    FETCH NEXT 100000 ROWS ONLY)\r\nSince you&#39;ve asked for MSSQL solution in comments, I&#39;ve tried to come up with something. I haven&#39;t tested this query, but I have reference which lead me to it: this [similar topic][2] and because you need to ignore first 5000 rows, visit this[page][3] \r\n\r\nI hope this helped at least a little bit or even give you a better idea than mine of what could you do!\r\n\r\n\r\n  [1]: https://dev.mysql.com/doc/mysql-reslimits-excerpt/5.5/en/subquery-restrictions.html\r\n  [2]: https://stackoverflow.com/questions/16029441/how-to-delete-multiple-rows-in-sql-where-id-x-to-y\r\n  [3]: https://learn.microsoft.com/en-us/sql/t-sql/queries/select-order-by-clause-transact-sql#Offset","title":"How to keep only a certain number of records in a table with Hibernate","body":"<p>You can try to solve the problem with SQL query itself.</p>\n\n<p>First, you're gonna need to take first top 5000 new records.</p>\n\n<pre><code>SELECT id FROM LogEntry ORDER BY time DESC LIMIT 100000 OFFSET 5000;\n</code></pre>\n\n<p>I would recommend you to use LIMIT and set it to suit your needs so the query won't take too long to execute. By this, you can execute query as many time as you can and you'll always grab the freshest data because of ORDER BY and because of OFFSET 5000 you just preserved newest 5000 records.</p>\n\n<p>The next step would be deleting:</p>\n\n<pre><code>DELETE FROM LogEntry WHERE id IN \n(SELECT id FROM ( SELECT id FROM LogEntry ORDER BY time DESC LIMIT 100000 OFFSET 5000) table_alias);\n</code></pre>\n\n<p>Maybe you are wondering why do I use SELECT upon subquery. That's because I need a reference to that result I selected, as you see it's named <strong>table_alias</strong>.\nMySql itself won't execute query if you try to execute DELETE with subquery using IN keyword. You'll get the error:</p>\n\n<pre><code>This version of MySQL doesn't yet support 'LIMIT &amp; IN/ALL/ANY/SOME subquery\n</code></pre>\n\n<p>The official documentations (<a href=\"https://dev.mysql.com/doc/mysql-reslimits-excerpt/5.5/en/subquery-restrictions.html\" rel=\"nofollow noreferrer\">says</a>):</p>\n\n<blockquote>\n  <p>In general, you cannot modify a table and select from the same table in a subquery.</p>\n  \n  <p>Exception: The preceding prohibition does not apply if for the\n  modified table you are using a derived table (subquery in the FROM\n  clause) and that derived table is materialized rather than merged into\n  the outer query.</p>\n</blockquote>\n\n<p><strong>MSSQL Solution</strong></p>\n\n<pre><code>DELETE FROM LogEntry WHERE id BETWEEN\n(\nSELECT MIN(id) FROM LogEntry ORDER BY time DESC \nOFFSET 5000 ROWS \nFETCH NEXT 100000 ROWS ONLY\n)\nAND\n(SELECT MAX(id) FROM LogEntry ORDER BY time DESC \nOFFSET 5000 ROWS \nFETCH NEXT 100000 ROWS ONLY)\n</code></pre>\n\n<p>Since you've asked for MSSQL solution in comments, I've tried to come up with something. I haven't tested this query, but I have reference which lead me to it: this <a href=\"https://stackoverflow.com/questions/16029441/how-to-delete-multiple-rows-in-sql-where-id-x-to-y\">similar topic</a> and because you need to ignore first 5000 rows, visit this<a href=\"https://learn.microsoft.com/en-us/sql/t-sql/queries/select-order-by-clause-transact-sql#Offset\" rel=\"nofollow noreferrer\">page</a> </p>\n\n<p>I hope this helped at least a little bit or even give you a better idea than mine of what could you do!</p>\n"}],"owner":{"account_id":12000615,"reputation":2015,"user_id":8780684,"accept_rate":18,"display_name":"Martin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":675,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":48768724,"answer_count":1,"score":0,"last_activity_date":1661105919,"creation_date":1518525675,"question_id":48767077,"body_markdown":"I am developping a Hibernate / Spring application with a built-in database maintenance feature.  Every 15 minutes it looks at certain tables and will purge old records based on certain parameters.  In the case of my LogEntry entity for example, i am purging based on 2 parameters : how old the record is and how many records are in the table.  In the first case, I am doing something like this :\r\n\r\n    @Override\r\n    public int deleteExpiredEntries(int systemLogKeepTimeInDays, int systemLogMaxEntries) \r\n    {\r\n        Session session = getSession();\r\n        Query query = session.createQuery(&quot;DELETE FROM LogEntry l WHERE l.time &lt; :p&quot;);\r\n        \r\n        Calendar cal = Calendar.getInstance();\r\n        cal.setTime(new Date());\r\n        cal.add(Calendar.DAY_OF_YEAR, -systemLogKeepTimeInDays);\r\n        \r\n        return query.setParameter(&quot;p&quot;, cal.getTime()).executeUpdate();\r\n    }\r\n\r\nHow can I keep say 5000 records when this maintenance runs using a similar process?\r\n\r\nI thought of using the Id column and purging whatever has a greater Id than 5000 but this would actually purge the new records and not the old ones!\r\n\r\nHow would you approach this problem?\r\n","title":"How to keep only a certain number of records in a table with Hibernate","body":"<p>I am developping a Hibernate / Spring application with a built-in database maintenance feature.  Every 15 minutes it looks at certain tables and will purge old records based on certain parameters.  In the case of my LogEntry entity for example, i am purging based on 2 parameters : how old the record is and how many records are in the table.  In the first case, I am doing something like this :</p>\n<pre><code>@Override\npublic int deleteExpiredEntries(int systemLogKeepTimeInDays, int systemLogMaxEntries) \n{\n    Session session = getSession();\n    Query query = session.createQuery(&quot;DELETE FROM LogEntry l WHERE l.time &lt; :p&quot;);\n    \n    Calendar cal = Calendar.getInstance();\n    cal.setTime(new Date());\n    cal.add(Calendar.DAY_OF_YEAR, -systemLogKeepTimeInDays);\n    \n    return query.setParameter(&quot;p&quot;, cal.getTime()).executeUpdate();\n}\n</code></pre>\n<p>How can I keep say 5000 records when this maintenance runs using a similar process?</p>\n<p>I thought of using the Id column and purging whatever has a greater Id than 5000 but this would actually purge the new records and not the old ones!</p>\n<p>How would you approach this problem?</p>\n"},{"tags":["java","oop","contains"],"comments":[{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":2,"creation_date":1661105392,"post_id":73437021,"comment_id":129687267,"body_markdown":"your equals() does not override `Object`s one and is not called by the list when it compares the given Archive to list&#39;s content. that is because `Object`s equals() is defined as public boolean equals(Object obj);","body":"your equals() does not override <code>Object</code>s one and is not called by the list when it compares the given Archive to list&#39;s content. that is because <code>Object</code>s equals() is defined as public boolean equals(Object obj);"},{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":0,"creation_date":1661105500,"post_id":73437021,"comment_id":129687305,"body_markdown":"Have you considered using a HashSet? Using the right tool for the job makes coding much more pleasant.","body":"Have you considered using a HashSet? Using the right tool for the job makes coding much more pleasant."}],"owner":{"account_id":20054777,"reputation":1,"user_id":19620421,"display_name":"Nihilo Diem"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1661107789,"answer_count":0,"score":0,"last_activity_date":1661104966,"creation_date":1661104966,"question_id":73437021,"body_markdown":"    import java.util.Scanner;\r\n    import java.util.ArrayList;\r\n    public class Project84 {\r\n    public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n        ArrayList&lt;Archive&gt; items = new ArrayList&lt;&gt;();\r\n\r\n        while (true) {\r\n            System.out.println(&quot;Identifier? (empty will stop)&quot;);\r\n            String id = scan.nextLine();\r\n            if (id.equals(&quot;&quot;))  {\r\n                break;\r\n            }\r\n\r\n            System.out.println(&quot;Name? (empty will stop)&quot;);\r\n            String name = scan.nextLine();\r\n            if (name.equals(&quot;&quot;))  {\r\n                break;\r\n            }\r\n\r\n            Archive list = new Archive(id, name);\r\n\r\n            if (!(items.contains(list))) {\r\n                items.add(list);\r\n            }\r\n            // This above part is designed to eliminate Archives that are the same. I don&#39;t know why it doesn&#39;t work\r\n        }\r\n        for (Archive item:items) {\r\n            System.out.println(item.id() + &quot;: &quot; + item.name());\r\n        }\r\n\r\n        // use the for (Objecttype dog:dogamount)\r\n        }\r\n    }\r\n\r\nMost of the code functions properly, up until the part where I&#39;m trying to verify if an item contains the list and add it only if it&#39;s not on the list. I&#39;m having problems trying to figure out why that doesn&#39;t work.\r\n\r\n    public class Archive {\r\n    private String identifier;\r\n    private String name;\r\n\r\n    public Archive(String id, String name) {\r\n        this.identifier = id;\r\n        this.name = name;\r\n    }\r\n\r\n    public String id() {\r\n        return this.identifier;\r\n    }\r\n\r\n    public String name() {\r\n        return this.name;\r\n    }\r\n\r\n    public boolean equals(Archive obj) {\r\n        if (obj.identifier.equals(this.identifier)) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    }\r\n\r\nFor reference, this is my custom object class. The only problem I&#39;m really encountering here is that the ArrayList stores multiple of the same objects with the same properties, when I want it to only store one of each. \r\n","title":"Trying to store one of each object in arraylist","body":"<pre><code>import java.util.Scanner;\nimport java.util.ArrayList;\npublic class Project84 {\npublic static void main(String[] args) {\n    Scanner scan = new Scanner(System.in);\n    ArrayList&lt;Archive&gt; items = new ArrayList&lt;&gt;();\n\n    while (true) {\n        System.out.println(&quot;Identifier? (empty will stop)&quot;);\n        String id = scan.nextLine();\n        if (id.equals(&quot;&quot;))  {\n            break;\n        }\n\n        System.out.println(&quot;Name? (empty will stop)&quot;);\n        String name = scan.nextLine();\n        if (name.equals(&quot;&quot;))  {\n            break;\n        }\n\n        Archive list = new Archive(id, name);\n\n        if (!(items.contains(list))) {\n            items.add(list);\n        }\n        // This above part is designed to eliminate Archives that are the same. I don't know why it doesn't work\n    }\n    for (Archive item:items) {\n        System.out.println(item.id() + &quot;: &quot; + item.name());\n    }\n\n    // use the for (Objecttype dog:dogamount)\n    }\n}\n</code></pre>\n<p>Most of the code functions properly, up until the part where I'm trying to verify if an item contains the list and add it only if it's not on the list. I'm having problems trying to figure out why that doesn't work.</p>\n<pre><code>public class Archive {\nprivate String identifier;\nprivate String name;\n\npublic Archive(String id, String name) {\n    this.identifier = id;\n    this.name = name;\n}\n\npublic String id() {\n    return this.identifier;\n}\n\npublic String name() {\n    return this.name;\n}\n\npublic boolean equals(Archive obj) {\n    if (obj.identifier.equals(this.identifier)) {\n        return true;\n    }\n    return false;\n}\n}\n</code></pre>\n<p>For reference, this is my custom object class. The only problem I'm really encountering here is that the ArrayList stores multiple of the same objects with the same properties, when I want it to only store one of each.</p>\n"},{"tags":["java","spring-boot","swagger","openapi","springdoc-openapi-ui"],"comments":[{"owner":{"account_id":1270084,"reputation":5416,"user_id":1226605,"accept_rate":86,"display_name":"devang"},"score":0,"creation_date":1652417912,"post_id":72224581,"comment_id":127605871,"body_markdown":"Can you share a `curl` call to your endpoint?","body":"Can you share a <code>curl</code> call to your endpoint?"},{"owner":{"account_id":15315534,"reputation":1,"user_id":11049519,"display_name":"Suswan Mondal"},"score":0,"creation_date":1652423823,"post_id":72224581,"comment_id":127607047,"body_markdown":"When I executed the curl command, I dont get anything \n\n[root@oms1 log]# curl &#39;https://192.100.100.120:18080/oms-service/webapi/swagger-ui.html&#39; -k\n[root@oms1 log]#","body":"When I executed the curl command, I dont get anything   [root@oms1 log]# curl &#39;<a href=\"https://192.100.100.120:18080/oms-service/webapi/swagger-ui.html\" rel=\"nofollow noreferrer\">192.100.100.120:18080/oms-service/webapi/swagger-ui.html</a>&#39; -k [root@oms1 log]#"},{"owner":{"account_id":1270084,"reputation":5416,"user_id":1226605,"accept_rate":86,"display_name":"devang"},"score":0,"creation_date":1652460201,"post_id":72224581,"comment_id":127619886,"body_markdown":"It&#39;s a `POST` operation. Your `curl` should include `-X POST -H &#39;Content-Type: application/x-www-form-urlencoded`. Add `-v` to get verbose curl output.","body":"It&#39;s a <code>POST</code> operation. Your <code>curl</code> should include <code>-X POST -H &#39;Content-Type: application&#47;x-www-form-urlencoded</code>. Add <code>-v</code> to get verbose curl output."},{"owner":{"account_id":15315534,"reputation":1,"user_id":11049519,"display_name":"Suswan Mondal"},"score":0,"creation_date":1652678935,"post_id":72224581,"comment_id":127655145,"body_markdown":"I tried using POST.\ngot the following exception\n\n&quot;status&quot;:405,&quot;error&quot;:&quot;Method Not Allowed&quot;,&quot;exception&quot;:&quot;org.springframework.web.HttpRequestMethodNotSupportedException&quot;,&quot;message&quot;:&quot;Request method &#39;POST&#39; not supported&quot;,&quot;path&quot;:&quot;/oms-service/webapi/swagger-ui.html&quot;}* Connection #1 to host localhost left intact","body":"I tried using POST. got the following exception  &quot;status&quot;:405,&quot;error&quot;:&quot;Method Not Allowed&quot;,&quot;exception&quot;:&quot;org.springframework.web.HttpRequestMet&zwnj;&#8203;hodNotSupportedExcep&zwnj;&#8203;tion&quot;,&quot;message&quot;:&quot;Req&zwnj;&#8203;uest method &#39;POST&#39; not supported&quot;,&quot;path&quot;:&quot;/oms-service/webapi/swagger-ui.html&quot;}* Connection #1 to host localhost left intact"}],"answers":[{"tags":[],"owner":{"account_id":263115,"reputation":16950,"user_id":548473,"display_name":"Grigory Kislin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661104889,"creation_date":1661104889,"answer_id":73437009,"question_id":72224581,"body_markdown":"Try this annotation above controller method:\r\n\r\n    @io.swagger.v3.oas.annotations.parameters.RequestBody(content = @Content)\r\n\r\nSee [Swagger UI not setting content-type on try it out](https://github.com/springdoc/springdoc-openapi/issues/657#issuecomment-625891941)\r\n","title":"Getting 405 error in OpenAPI swagger page if I put only path variable attributes in a Rest Controller","body":"<p>Try this annotation above controller method:</p>\n<pre><code>@io.swagger.v3.oas.annotations.parameters.RequestBody(content = @Content)\n</code></pre>\n<p>See <a href=\"https://github.com/springdoc/springdoc-openapi/issues/657#issuecomment-625891941\" rel=\"nofollow noreferrer\">Swagger UI not setting content-type on try it out</a></p>\n"}],"owner":{"account_id":15315534,"reputation":1,"user_id":11049519,"display_name":"Suswan Mondal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":509,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661104889,"creation_date":1652417260,"question_id":72224581,"body_markdown":"I am trying to create Swagger documentation using OpenAPI 3.0. I am using **spring-boot-starter** **1.5.4.RELEASE** and **springdoc-openapi-ui** version **1.4.2**\r\n\r\n````````````\r\n&lt;parent&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.5.4.RELEASE&lt;/version&gt;\r\n&lt;/parent&gt;\r\n\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.4.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n````````````\r\n\r\nMy code is as follows:\r\n\r\n```````````\r\n@SpringBootApplication\r\n@OpenAPIDefinition(info = @Info(title = &quot;test&quot;, version = &quot;2.0&quot;, description = &quot;sample description3&quot;))\r\npublic class SwaggerSpringDemoApplication {\r\n\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(SwaggerSpringDemoApplication.class, args);\r\n    }\r\n}\r\n\r\n@RestController\r\n@RequestMapping(&quot;/&quot;)\r\npublic class PersonController {\r\n\r\n    @RequestMapping(value = &quot;/{operationType}/{listName}&quot;, method = RequestMethod.POST, consumes = MediaType.APPLICATION_FORM_URLENCODED)\r\n    @CrossOrigin\r\n    public String rollingUpgrade( @PathVariable String operationType, @PathVariable String listName,\r\n                                @RequestParam(value = &quot;rowData&quot;) String rowData) throws Exception {\r\n        ..........\r\n\t\treturn &quot;&quot;;\r\n    }\r\n}\r\n\r\n```````````\r\n\r\nWhen I run the application, I get the following error:\r\n\r\n```\r\nWhitelabel Error Page\r\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n\r\nFri May 13 09:58:38 IST 2022\r\nThere was an unexpected error (type=Method Not Allowed, status=405).\r\nRequest method &#39;GET&#39; not supported\r\n```\r\n\r\n\r\nBut the issue is resolved if I form the url like\r\nvalue = &quot;**test**/{operationType}/{listName}&quot;\r\n\r\nI dont know what is the exact reason for this.","title":"Getting 405 error in OpenAPI swagger page if I put only path variable attributes in a Rest Controller","body":"<p>I am trying to create Swagger documentation using OpenAPI 3.0. I am using <strong>spring-boot-starter</strong> <strong>1.5.4.RELEASE</strong> and <strong>springdoc-openapi-ui</strong> version <strong>1.4.2</strong></p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.5.4.RELEASE&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n    &lt;version&gt;1.4.2&lt;/version&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<p>My code is as follows:</p>\n<pre><code>@SpringBootApplication\n@OpenAPIDefinition(info = @Info(title = &quot;test&quot;, version = &quot;2.0&quot;, description = &quot;sample description3&quot;))\npublic class SwaggerSpringDemoApplication {\n\n\n    public static void main(String[] args) {\n        SpringApplication.run(SwaggerSpringDemoApplication.class, args);\n    }\n}\n\n@RestController\n@RequestMapping(&quot;/&quot;)\npublic class PersonController {\n\n    @RequestMapping(value = &quot;/{operationType}/{listName}&quot;, method = RequestMethod.POST, consumes = MediaType.APPLICATION_FORM_URLENCODED)\n    @CrossOrigin\n    public String rollingUpgrade( @PathVariable String operationType, @PathVariable String listName,\n                                @RequestParam(value = &quot;rowData&quot;) String rowData) throws Exception {\n        ..........\n        return &quot;&quot;;\n    }\n}\n\n</code></pre>\n<p>When I run the application, I get the following error:</p>\n<pre><code>Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\n\nFri May 13 09:58:38 IST 2022\nThere was an unexpected error (type=Method Not Allowed, status=405).\nRequest method 'GET' not supported\n</code></pre>\n<p>But the issue is resolved if I form the url like\nvalue = &quot;<strong>test</strong>/{operationType}/{listName}&quot;</p>\n<p>I dont know what is the exact reason for this.</p>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":6691588,"reputation":1817,"user_id":5160929,"accept_rate":83,"display_name":"bearacuda13"},"score":2,"creation_date":1515895566,"post_id":48245706,"comment_id":83474819,"body_markdown":"If there&#39;s not many, do something more verbose and say that if a random integer is n, download the respective thing. Otherwise, get all of the urls in a list and select a random element in the list. Firebase isn&#39;t going to have any built-in function to get a random element from a section of a tree, if that&#39;s what you&#39;re looking for.","body":"If there&#39;s not many, do something more verbose and say that if a random integer is n, download the respective thing. Otherwise, get all of the urls in a list and select a random element in the list. Firebase isn&#39;t going to have any built-in function to get a random element from a section of a tree, if that&#39;s what you&#39;re looking for."},{"owner":{"account_id":7742408,"reputation":11085,"user_id":5861618,"accept_rate":80,"display_name":"Ros&#225;rio Pereira Fernandes"},"score":1,"creation_date":1515920307,"post_id":48245706,"comment_id":83478607,"body_markdown":"Please have a look at this [answer](https://stackoverflow.com/a/42043146/5861618)","body":"Please have a look at this <a href=\"https://stackoverflow.com/a/42043146/5861618\">answer</a>"},{"owner":{"account_id":7742408,"reputation":11085,"user_id":5861618,"accept_rate":80,"display_name":"Ros&#225;rio Pereira Fernandes"},"score":2,"creation_date":1515920363,"post_id":48245706,"comment_id":83478619,"body_markdown":"Possible duplicate of [Firebase: Pull random data from Firebase to RecyclerView (android)](https://stackoverflow.com/questions/42042219/firebase-pull-random-data-from-firebase-to-recyclerview-android)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/42042219/firebase-pull-random-data-from-firebase-to-recyclerview-android\">Firebase: Pull random data from Firebase to RecyclerView (android)</a>"}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1660979845,"creation_date":1515922880,"answer_id":48248306,"question_id":48245706,"body_markdown":"Edit: 20th, August 2022\r\n\r\nMaybe these other approaches will help:\r\n\r\n* https://stackoverflow.com/questions/50413117/how-to-get-unique-random-product-in-node-firebase/50413208\r\n\r\n---\r\nTo solve this, please use the following lines of code:\r\n\r\n    long childrenCount = snapshot.getChildrenCount();\r\n    int count = (int) childrenCount;\r\n    int randomNumber = new Random().nextInt(count);\r\n\r\n&lt;!--In this way you can get a random item from the items that are within your snapshot object. --&gt;\r\n\r\nAnd then use a `for` loop to pull that value using the random number:\r\n\r\n    int i=0;\r\n    String themeTune; //Your random themeTune will be stored here\r\n    for (DataSnapshot snap : snapshot.getChildren()) {\r\n        if(i = randomNumber) {\r\n            themeTune = snap.getValue(String.class);\r\n            break;\r\n        }\r\n        i++;\r\n    }\r\n    plysound();","title":"retrieving a random node from firebase","body":"<p>Edit: 20th, August 2022</p>\n<p>Maybe these other approaches will help:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/50413117/how-to-get-unique-random-product-in-node-firebase/50413208\">How to get unique random product in node Firebase?</a></li>\n</ul>\n<hr />\n<p>To solve this, please use the following lines of code:</p>\n<pre><code>long childrenCount = snapshot.getChildrenCount();\nint count = (int) childrenCount;\nint randomNumber = new Random().nextInt(count);\n</code></pre>\n\n<p>And then use a <code>for</code> loop to pull that value using the random number:</p>\n<pre><code>int i=0;\nString themeTune; //Your random themeTune will be stored here\nfor (DataSnapshot snap : snapshot.getChildren()) {\n    if(i = randomNumber) {\n        themeTune = snap.getValue(String.class);\n        break;\n    }\n    i++;\n}\nplysound();\n</code></pre>\n"}],"owner":{"account_id":10891088,"reputation":876,"user_id":8006847,"accept_rate":81,"display_name":"markharrop"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2596,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":48248306,"answer_count":1,"score":4,"last_activity_date":1661104674,"creation_date":1515890600,"question_id":48245706,"body_markdown":"\r\n\r\n****Edit****\r\n\r\nI have a firebase database with a tree that looks like this \r\n\r\n    Stations{\r\n    Uknradio\r\n    bbcradio1\r\n    bbcradio1extra\r\n    Beatles radio\r\n\r\nthen a StationsKey node that looks like this\r\n\r\n    Stations{\r\n    Uknradio = true\r\n    bbcradio1 =true\r\n    bbcradio1extra = true\r\n    Beatles radio = true\r\n\r\n\r\nand so on...\r\nid like to pull a random station from the database\r\n\r\n   here is the code im working with which is the new answer given \r\n\r\n        String DATABASE_CHILD = &quot;STATIONS&quot;;\r\n        String DATABASE_CHILD2 =&quot;STATIONKEY&quot;;\r\n        ref = db.getReference().child(DATABASE_CHILD2);\r\n    ref.addValueEventListener(new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n        for (DataSnapshot ds : snapshot.getChildren()) {\r\n         String productId = ds.getKey();\r\n          productIdsList.add(productId);\r\n       }\r\n\r\n      int productListSize = productIdsList.size();\r\n        \r\n    ref = db.getReference().child(DATABASE_CHILD).child(productIdsList.get(new Random().nextInt(productListSize)));\r\n    ref2.addListenerForSingleValueEvent(new ValueEventListener() {\r\n      @Override\r\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n        mUrl.clear();\r\n        mTITLE.clear();\r\n        mDOWN.clear();\r\n        mIMAGE.clear();\r\n        mUrl.clear();\r\n        mUP.clear();\r\n        mDESC.clear();\r\n\r\n            for (DataSnapshot snap : snapshot.getChildren()) {\r\n\r\n                station_items = snap.getValue(Stations_Firebase.class);\r\n                String a  =station_items.getStation();\r\n                String b = station_items.getTag();\r\n                String c = station_items.getUrl();\r\n                Long d = station_items.getUpvote();\r\n                Long e = station_items.getDownvote();\r\n                String f = station_items.getImage();\r\n\r\n                mTITLE.add(a);\r\n                mDESC.add(b);\r\n                mUrl.add(c);\r\n                mUP.add(String.valueOf(d));\r\n                mDOWN.add(String.valueOf(e));\r\n                mIMAGE.add(f);\r\n            }\r\n\r\n     private int nextInt(int productListSize) {\r\n        return 0;\r\n    }\r\n\r\nbut now im getting this error \r\n\r\n    java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\n        at java.util.ArrayList.get(ArrayList.java:437)\r\n        at com.p9p.radioify.ui.station_tabs.Random.getRandomStations(Random.java:103)","title":"retrieving a random node from firebase","body":"<p><strong><strong>Edit</strong></strong></p>\n<p>I have a firebase database with a tree that looks like this</p>\n<pre><code>Stations{\nUknradio\nbbcradio1\nbbcradio1extra\nBeatles radio\n</code></pre>\n<p>then a StationsKey node that looks like this</p>\n<pre><code>Stations{\nUknradio = true\nbbcradio1 =true\nbbcradio1extra = true\nBeatles radio = true\n</code></pre>\n<p>and so on...\nid like to pull a random station from the database</p>\n<p>here is the code im working with which is the new answer given</p>\n<pre><code>    String DATABASE_CHILD = &quot;STATIONS&quot;;\n    String DATABASE_CHILD2 =&quot;STATIONKEY&quot;;\n    ref = db.getReference().child(DATABASE_CHILD2);\nref.addValueEventListener(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n    for (DataSnapshot ds : snapshot.getChildren()) {\n     String productId = ds.getKey();\n      productIdsList.add(productId);\n   }\n\n  int productListSize = productIdsList.size();\n    \nref = db.getReference().child(DATABASE_CHILD).child(productIdsList.get(new Random().nextInt(productListSize)));\nref2.addListenerForSingleValueEvent(new ValueEventListener() {\n  @Override\npublic void onDataChange(@NonNull DataSnapshot snapshot) {\n    mUrl.clear();\n    mTITLE.clear();\n    mDOWN.clear();\n    mIMAGE.clear();\n    mUrl.clear();\n    mUP.clear();\n    mDESC.clear();\n\n        for (DataSnapshot snap : snapshot.getChildren()) {\n\n            station_items = snap.getValue(Stations_Firebase.class);\n            String a  =station_items.getStation();\n            String b = station_items.getTag();\n            String c = station_items.getUrl();\n            Long d = station_items.getUpvote();\n            Long e = station_items.getDownvote();\n            String f = station_items.getImage();\n\n            mTITLE.add(a);\n            mDESC.add(b);\n            mUrl.add(c);\n            mUP.add(String.valueOf(d));\n            mDOWN.add(String.valueOf(e));\n            mIMAGE.add(f);\n        }\n\n private int nextInt(int productListSize) {\n    return 0;\n}\n</code></pre>\n<p>but now im getting this error</p>\n<pre><code>java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\n    at java.util.ArrayList.get(ArrayList.java:437)\n    at com.p9p.radioify.ui.station_tabs.Random.getRandomStations(Random.java:103)\n</code></pre>\n"},{"tags":["java","jenkins","tomcat","redirect","http-redirect"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1659967198,"post_id":73278351,"comment_id":129414259,"body_markdown":"Your configuration works for me. What specific error are you getting?","body":"Your configuration works for me. What specific error are you getting?"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1659967265,"post_id":73278351,"comment_id":129414286,"body_markdown":"For example, if you get the error message in your browser &quot;This combination of host and port requires TLS&quot;, then just make sure that you explicitly type your URL with `https://` - for example: `https://localhost:8443/jenkins/`. Your browser may throw up warnings about this site being untrusted due to a self-signed certificate (if you are using one), but you can proceed to the Jenkins home page. (You may also want to change the &quot;Jenkins Location&quot; setting also, in the Jenkins Admin page.)","body":"For example, if you get the error message in your browser &quot;This combination of host and port requires TLS&quot;, then just make sure that you explicitly type your URL with <code>https:&#47;&#47;</code> - for example: <code>https:&#47;&#47;localhost:8443&#47;jenkins&#47;</code>. Your browser may throw up warnings about this site being untrusted due to a self-signed certificate (if you are using one), but you can proceed to the Jenkins home page. (You may also want to change the &quot;Jenkins Location&quot; setting also, in the Jenkins Admin page.)"},{"owner":{"account_id":17196329,"reputation":170,"user_id":12448989,"display_name":"uni"},"score":0,"creation_date":1659968682,"post_id":73278351,"comment_id":129414851,"body_markdown":"Hi @andrewJames thankyou for replying...\nFor me HTTPS works fine when i&#39;m hitting https://localhost:8443.\nBut i want it to redirect - when i hit http://localhost:8080 it should redirect to https://localhost:8443\n\nAnd i&#39;m not getting any error for this in logs as well. It is redirecting for tomcat but when i deployed jenkins on tomcat it stopped redirecting","body":"Hi @andrewJames thankyou for replying... For me HTTPS works fine when i&#39;m hitting <a href=\"https://localhost:8443\" rel=\"nofollow noreferrer\">localhost:8443</a>. But i want it to redirect - when i hit <a href=\"http://localhost:8080\" rel=\"nofollow noreferrer\">localhost:8080</a> it should redirect to <a href=\"https://localhost:8443\" rel=\"nofollow noreferrer\">localhost:8443</a>  And i&#39;m not getting any error for this in logs as well. It is redirecting for tomcat but when i deployed jenkins on tomcat it stopped redirecting"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1659969071,"post_id":73278351,"comment_id":129414995,"body_markdown":"Sorry - my mistake. Did not read carefully.","body":"Sorry - my mistake. Did not read carefully."},{"owner":{"account_id":17196329,"reputation":170,"user_id":12448989,"display_name":"uni"},"score":0,"creation_date":1659969193,"post_id":73278351,"comment_id":129415045,"body_markdown":"@andrewJames No problem.. Do let me know if you can think of something what can be the issue here...","body":"@andrewJames No problem.. Do let me know if you can think of something what can be the issue here..."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1659969834,"post_id":73278351,"comment_id":129415320,"body_markdown":"My habit is to just comment out the `8080` connector in `server.xml`. But I know that is also not an answer to your question...","body":"My habit is to just comment out the <code>8080</code> connector in <code>server.xml</code>. But I know that is also not an answer to your question..."},{"owner":{"account_id":17196329,"reputation":170,"user_id":12448989,"display_name":"uni"},"score":1,"creation_date":1659970773,"post_id":73278351,"comment_id":129415712,"body_markdown":"@andrewJames yes.. i want it to redirect from http to https not sure why it isn&#39;t working with just tomcat configuration changes.","body":"@andrewJames yes.. i want it to redirect from http to https not sure why it isn&#39;t working with just tomcat configuration changes."}],"answers":[{"tags":[],"owner":{"account_id":699650,"reputation":16447,"user_id":1299005,"display_name":"Mark Thomas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660722952,"creation_date":1660722952,"answer_id":73384773,"question_id":73278351,"body_markdown":"If you add a security constraint to `$CATALINA_BASE/conf/web.xml&#39; that that constraint will combine with any constraints defined in the web application using the rules for combining constraints defined in the Servlet specification.\r\n\r\nJenkins defines the follow security constraint by default:\r\n\r\n```\r\n  &lt;security-constraint&gt;\r\n    &lt;web-resource-collection&gt;\r\n      &lt;web-resource-name&gt;other&lt;/web-resource-name&gt;\r\n      &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/web-resource-collection&gt;\r\n    &lt;!-- no security constraint --&gt; \r\n  &lt;/security-constraint&gt;\r\n```\r\n\r\nThe relevant rule from the Servlet specification is:\r\n```\r\nThe combination of user-data-constraints that apply to a common url-\r\npattern and http-method shall yield the union of connection types accepted by\r\nthe individual constraints as acceptable connection types. A security constraint that\r\ndoes not contain a user-data-constraint shall combine with other user-data-\r\nconstraint to cause the unprotected connection type to be an accepted connection\r\ntype.\r\n```\r\n\r\nHence The Jenkins rule combines with your rule and the result is that unprotected (http) connections are allowed.\r\n\r\nPossible solutions include:\r\n\r\n - Remove the security constraint from the web.xml file packaged in jenkins.war\r\n - Edit the security constraint from the web.xml file packaged in jenkins.war\r\n - Deploy a custom Valve or Filter to enforce the redirection","title":"Redirect HTTP to HTTPS for Jenkins hosted on Tomcat server?","body":"<p>If you add a security constraint to `$CATALINA_BASE/conf/web.xml' that that constraint will combine with any constraints defined in the web application using the rules for combining constraints defined in the Servlet specification.</p>\n<p>Jenkins defines the follow security constraint by default:</p>\n<pre><code>  &lt;security-constraint&gt;\n    &lt;web-resource-collection&gt;\n      &lt;web-resource-name&gt;other&lt;/web-resource-name&gt;\n      &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/web-resource-collection&gt;\n    &lt;!-- no security constraint --&gt; \n  &lt;/security-constraint&gt;\n</code></pre>\n<p>The relevant rule from the Servlet specification is:</p>\n<pre><code>The combination of user-data-constraints that apply to a common url-\npattern and http-method shall yield the union of connection types accepted by\nthe individual constraints as acceptable connection types. A security constraint that\ndoes not contain a user-data-constraint shall combine with other user-data-\nconstraint to cause the unprotected connection type to be an accepted connection\ntype.\n</code></pre>\n<p>Hence The Jenkins rule combines with your rule and the result is that unprotected (http) connections are allowed.</p>\n<p>Possible solutions include:</p>\n<ul>\n<li>Remove the security constraint from the web.xml file packaged in jenkins.war</li>\n<li>Edit the security constraint from the web.xml file packaged in jenkins.war</li>\n<li>Deploy a custom Valve or Filter to enforce the redirection</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661104413,"creation_date":1661104413,"answer_id":73436940,"question_id":73278351,"body_markdown":"Based on the notes in the [answer from Mark Thomas](https://stackoverflow.com/a/73384773/12567365), I tried two different approaches, both of which worked for me.\r\n\r\nBoth approaches also require the changes you already described in your question.\r\n\r\n---\r\n\r\n**Approach One**\r\n\r\nEditing the security constraint in the Jenkins WAR. \r\n\r\nFor this I let Tomcat explode the WAR in the `webapps` directory, and then edited the file at `webapps/jenkins/WEB-INF/web.xml`. I commented out the following section:\r\n\r\n```xml\r\n  &lt;!-- commented out this part...\r\n  &lt;security-constraint&gt;\r\n    &lt;web-resource-collection&gt;\r\n      &lt;web-resource-name&gt;other&lt;/web-resource-name&gt;\r\n      &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/web-resource-collection&gt;\r\n  --&gt;\t\r\n    &lt;!-- no security constraint --&gt; \r\n  &lt;!-- ...and this part &lt;/security-constraint&gt; --&gt;\r\n```\r\n\r\n---\r\n\r\n**Approach Two**\r\n\r\nI created a Tomcat [valve](https://tomcat.apache.org/tomcat-9.0-doc/config/valve.html), which I created as a JAR file, and then placed in Tomcat&#39;s main `lib` directory.\r\n\r\nI added a valve element to Tomcat, to activate the valve.\r\n\r\nThe specific steps:\r\n\r\n1) I used the most recent version of Jenkins LTS (long term support) - version 2.346.3. Because this version of Jenkins does not support `jakarta` packages, I installed it on Tomcat 9 (for `javax` packages). \r\n\r\n2) I created a standard Java library project, one which is packaged into a JAR (not a WAR). The Maven POM:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;org.ajames.tomcathttpsvalve&lt;/groupId&gt;\r\n    &lt;artifactId&gt;TomcatHttpsValve&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;exec.mainClass&gt;org.ajames.tomcathttpsvalve.TomcatHttpsValve&lt;/exec.mainClass&gt;\r\n    &lt;/properties&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tomcat-catalina&lt;/artifactId&gt;\r\n            &lt;version&gt;9.0.65&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nYou may need to adjust the compiler settings for your version of Java.\r\n\r\n3) I created the following valve class:\r\n\r\n```java\r\npackage org.ajames.tomcathttpsvalve;\r\n\r\nimport java.io.IOException;\r\nimport javax.servlet.ServletException;\r\nimport org.apache.catalina.connector.Request;\r\nimport org.apache.catalina.connector.Response;\r\nimport org.apache.catalina.valves.ValveBase;\r\n\r\n// In server.xml:\r\n// &lt;Valve className=&quot;org.ajames.tomcathttpsvalve.TomcatHttpsValve&quot;\r\n//        fromPort=&quot;8080&quot; toPort=&quot;8443&quot; /&gt;\r\n//\r\n// This class is packaged as a JAR &amp; placed in Tomcat&#39;s /lib\r\npublic class TomcatHttpsValve extends ValveBase {\r\n\r\n    private final String fromScheme = &quot;http&quot;;\r\n    private final String toScheme = &quot;https&quot;;\r\n    private final int httpsDefaultPort = 443;\r\n    private int fromPort; // see valve config for value\r\n    private int toPort; // see valve config for value\r\n\r\n    public TomcatHttpsValve() {\r\n        super(true); // async supported\r\n    }\r\n\r\n    @Override\r\n    public void invoke(Request req, Response resp) throws IOException, ServletException {\r\n        if (req.getScheme().toLowerCase().equals(toScheme)) {\r\n            // already using https:\r\n            getNext().invoke(req, resp);\r\n        } else {\r\n            // need to redirect to https:\r\n            resp.sendRedirect(buildNewReqUrl(req));\r\n        }\r\n    }\r\n\r\n    private String buildNewReqUrl(Request req) {\r\n        String scheme = req.getScheme();\r\n        int port = req.getServerPort();\r\n\r\n        if (scheme.toLowerCase().equals(fromScheme)) {\r\n            scheme = toScheme;\r\n        }\r\n\r\n        if (port == fromPort) {\r\n            port = toPort;\r\n        }\r\n\r\n        // build the new URL\r\n        // assumes no userinfo (...//john.doe@...)\r\n        StringBuilder sb = new StringBuilder();\r\n        sb.append(scheme).append(&quot;://&quot;).append(req.getServerName());\r\n        if (port != httpsDefaultPort) { // 443 is implicit with https\r\n            sb.append(&quot;:&quot;).append(port);\r\n        }\r\n        sb.append(req.getRequestURI()); // (e.g. /foo/bar)\r\n        if (req.getQueryString() != null) {\r\n            sb.append(&quot;?&quot;).append(req.getQueryString());\r\n        }\r\n\r\n        return sb.toString();\r\n    }\r\n\r\n    public int getFromPort() {\r\n        return fromPort;\r\n    }\r\n\r\n    public void setFromPort(String fromPort) {\r\n        this.fromPort = Integer.parseInt(fromPort);\r\n    }\r\n\r\n    public int getToPort() {\r\n        return toPort;\r\n    }\r\n\r\n    public void setToPort(String toPort) {\r\n        this.toPort = Integer.parseInt(toPort);\r\n    }\r\n}\r\n```\r\n\r\nThis intercepts the request URL and (if needed) redirects to a modified URL.\r\n\r\nI placed the JAR file containing this class in the main Tomcat `lib` directory.\r\n\r\n4) I created a new valve element:\r\n\r\n```xml\r\n&lt;Valve className=&quot;org.ajames.tomcathttpsvalve.TomcatHttpsValve&quot;\r\n       fromPort=&quot;8080&quot; toPort=&quot;8443&quot; /&gt;\r\n```\r\n\r\n\r\n\r\nIn my case, I chose to add this to the [`&lt;host&gt;`](https://tomcat.apache.org/tomcat-9.0-doc/config/host.html) section of my Tomcat&#39;s `server.xml` file. This means that the valve applies to all requests coming in to that host (in my case, `localhost`).\r\n\r\nYou can also place this inside the [`&lt;engine&gt;`](https://tomcat.apache.org/tomcat-9.0-doc/config/engine.html) section if you want to affect all traffic.\r\n\r\n(You could also place this inside a specific [`&lt;context&gt;`](https://tomcat.apache.org/tomcat-9.0-doc/config/context.html) section, if you want more granular control - for a specific web application. But this would require you to customize the Jenkins installation, similar to Approach One.)\r\n\r\n---\r\n\r\nUsing a Tomcat valve ties you to using Tomcat as the container for your Jenkins application. But you do not need to make any changes to Jenkins.\r\n\r\nYou do, of course, need to remember to re-apply these customizations when upgrading Tomcat. And if upgrading to Tomcat 10+, you would also need to re-build the valve using `jakarta` packages instead of `javax` packages (with the relevant version of the `tomcat-catalina` dependency).","title":"Redirect HTTP to HTTPS for Jenkins hosted on Tomcat server?","body":"<p>Based on the notes in the <a href=\"https://stackoverflow.com/a/73384773/12567365\">answer from Mark Thomas</a>, I tried two different approaches, both of which worked for me.</p>\n<p>Both approaches also require the changes you already described in your question.</p>\n<hr />\n<p><strong>Approach One</strong></p>\n<p>Editing the security constraint in the Jenkins WAR.</p>\n<p>For this I let Tomcat explode the WAR in the <code>webapps</code> directory, and then edited the file at <code>webapps/jenkins/WEB-INF/web.xml</code>. I commented out the following section:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;!-- commented out this part...\n  &lt;security-constraint&gt;\n    &lt;web-resource-collection&gt;\n      &lt;web-resource-name&gt;other&lt;/web-resource-name&gt;\n      &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/web-resource-collection&gt;\n  --&gt;   \n    &lt;!-- no security constraint --&gt; \n  &lt;!-- ...and this part &lt;/security-constraint&gt; --&gt;\n</code></pre>\n<hr />\n<p><strong>Approach Two</strong></p>\n<p>I created a Tomcat <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/config/valve.html\" rel=\"nofollow noreferrer\">valve</a>, which I created as a JAR file, and then placed in Tomcat's main <code>lib</code> directory.</p>\n<p>I added a valve element to Tomcat, to activate the valve.</p>\n<p>The specific steps:</p>\n<ol>\n<li><p>I used the most recent version of Jenkins LTS (long term support) - version 2.346.3. Because this version of Jenkins does not support <code>jakarta</code> packages, I installed it on Tomcat 9 (for <code>javax</code> packages).</p>\n</li>\n<li><p>I created a standard Java library project, one which is packaged into a JAR (not a WAR). The Maven POM:</p>\n</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;org.ajames.tomcathttpsvalve&lt;/groupId&gt;\n    &lt;artifactId&gt;TomcatHttpsValve&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;exec.mainClass&gt;org.ajames.tomcathttpsvalve.TomcatHttpsValve&lt;/exec.mainClass&gt;\n    &lt;/properties&gt;\n    \n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-catalina&lt;/artifactId&gt;\n            &lt;version&gt;9.0.65&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>You may need to adjust the compiler settings for your version of Java.</p>\n<ol start=\"3\">\n<li>I created the following valve class:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>package org.ajames.tomcathttpsvalve;\n\nimport java.io.IOException;\nimport javax.servlet.ServletException;\nimport org.apache.catalina.connector.Request;\nimport org.apache.catalina.connector.Response;\nimport org.apache.catalina.valves.ValveBase;\n\n// In server.xml:\n// &lt;Valve className=&quot;org.ajames.tomcathttpsvalve.TomcatHttpsValve&quot;\n//        fromPort=&quot;8080&quot; toPort=&quot;8443&quot; /&gt;\n//\n// This class is packaged as a JAR &amp; placed in Tomcat's /lib\npublic class TomcatHttpsValve extends ValveBase {\n\n    private final String fromScheme = &quot;http&quot;;\n    private final String toScheme = &quot;https&quot;;\n    private final int httpsDefaultPort = 443;\n    private int fromPort; // see valve config for value\n    private int toPort; // see valve config for value\n\n    public TomcatHttpsValve() {\n        super(true); // async supported\n    }\n\n    @Override\n    public void invoke(Request req, Response resp) throws IOException, ServletException {\n        if (req.getScheme().toLowerCase().equals(toScheme)) {\n            // already using https:\n            getNext().invoke(req, resp);\n        } else {\n            // need to redirect to https:\n            resp.sendRedirect(buildNewReqUrl(req));\n        }\n    }\n\n    private String buildNewReqUrl(Request req) {\n        String scheme = req.getScheme();\n        int port = req.getServerPort();\n\n        if (scheme.toLowerCase().equals(fromScheme)) {\n            scheme = toScheme;\n        }\n\n        if (port == fromPort) {\n            port = toPort;\n        }\n\n        // build the new URL\n        // assumes no userinfo (...//john.doe@...)\n        StringBuilder sb = new StringBuilder();\n        sb.append(scheme).append(&quot;://&quot;).append(req.getServerName());\n        if (port != httpsDefaultPort) { // 443 is implicit with https\n            sb.append(&quot;:&quot;).append(port);\n        }\n        sb.append(req.getRequestURI()); // (e.g. /foo/bar)\n        if (req.getQueryString() != null) {\n            sb.append(&quot;?&quot;).append(req.getQueryString());\n        }\n\n        return sb.toString();\n    }\n\n    public int getFromPort() {\n        return fromPort;\n    }\n\n    public void setFromPort(String fromPort) {\n        this.fromPort = Integer.parseInt(fromPort);\n    }\n\n    public int getToPort() {\n        return toPort;\n    }\n\n    public void setToPort(String toPort) {\n        this.toPort = Integer.parseInt(toPort);\n    }\n}\n</code></pre>\n<p>This intercepts the request URL and (if needed) redirects to a modified URL.</p>\n<p>I placed the JAR file containing this class in the main Tomcat <code>lib</code> directory.</p>\n<ol start=\"4\">\n<li>I created a new valve element:</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Valve className=&quot;org.ajames.tomcathttpsvalve.TomcatHttpsValve&quot;\n       fromPort=&quot;8080&quot; toPort=&quot;8443&quot; /&gt;\n</code></pre>\n<p>In my case, I chose to add this to the <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/config/host.html\" rel=\"nofollow noreferrer\"><code>&lt;host&gt;</code></a> section of my Tomcat's <code>server.xml</code> file. This means that the valve applies to all requests coming in to that host (in my case, <code>localhost</code>).</p>\n<p>You can also place this inside the <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/config/engine.html\" rel=\"nofollow noreferrer\"><code>&lt;engine&gt;</code></a> section if you want to affect all traffic.</p>\n<p>(You could also place this inside a specific <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/config/context.html\" rel=\"nofollow noreferrer\"><code>&lt;context&gt;</code></a> section, if you want more granular control - for a specific web application. But this would require you to customize the Jenkins installation, similar to Approach One.)</p>\n<hr />\n<p>Using a Tomcat valve ties you to using Tomcat as the container for your Jenkins application. But you do not need to make any changes to Jenkins.</p>\n<p>You do, of course, need to remember to re-apply these customizations when upgrading Tomcat. And if upgrading to Tomcat 10+, you would also need to re-build the valve using <code>jakarta</code> packages instead of <code>javax</code> packages (with the relevant version of the <code>tomcat-catalina</code> dependency).</p>\n"}],"owner":{"account_id":17196329,"reputation":170,"user_id":12448989,"display_name":"uni"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":532,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73436940,"answer_count":2,"score":2,"last_activity_date":1661104413,"creation_date":1659963824,"question_id":73278351,"body_markdown":"I have jenkins.war deployed on tomcat 9(on Linux) and configured it for http and https.\r\n\r\nConfiguration on server.xml\r\n\r\n    &lt;Connector port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot;\r\n                   connectionTimeout=&quot;20000&quot;\r\n               redirectPort=&quot;8443&quot; /&gt;\r\n    &lt;Connector port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;\r\n               maxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot;&gt;\r\n        &lt;SSLHostConfig&gt;\r\n                &lt;Certificate certificateKeystoreFile=&quot;conf/ssl/test.keystore&quot;\r\n                         type=&quot;RSA&quot; certificateKeystorePassword=&quot;changeit&quot;/&gt;\r\n        &lt;/SSLHostConfig&gt;\r\n    &lt;/Connector&gt;\r\n\r\n\r\nConfiguration on web.xml\r\n\r\n \r\n\r\n       &lt;security-constraint&gt;\r\n            &lt;web-resource-collection&gt;\r\n                &lt;web-resource-name&gt;HTTPSOnly&lt;/web-resource-name&gt;\r\n                &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n            &lt;/web-resource-collection&gt;\r\n            &lt;user-data-constraint&gt;\r\n                &lt;transport-guarantee&gt;CONFIDENTIAL&lt;/transport-guarantee&gt;\r\n            &lt;/user-data-constraint&gt;\r\n        &lt;/security-constraint&gt;\r\n\r\n\r\nI&#39;m able to redirect http to https with above configuration for tomcat when jenkins wasn&#39;t hosted. But after deploying jenkins.war redirecting http to https is not working.\r\n\r\nAre there any other configuration changes required for redirecting http to https for jenkins?","title":"Redirect HTTP to HTTPS for Jenkins hosted on Tomcat server?","body":"<p>I have jenkins.war deployed on tomcat 9(on Linux) and configured it for http and https.</p>\n<p>Configuration on server.xml</p>\n<pre><code>&lt;Connector port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot;\n               connectionTimeout=&quot;20000&quot;\n           redirectPort=&quot;8443&quot; /&gt;\n&lt;Connector port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;\n           maxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot;&gt;\n    &lt;SSLHostConfig&gt;\n            &lt;Certificate certificateKeystoreFile=&quot;conf/ssl/test.keystore&quot;\n                     type=&quot;RSA&quot; certificateKeystorePassword=&quot;changeit&quot;/&gt;\n    &lt;/SSLHostConfig&gt;\n&lt;/Connector&gt;\n</code></pre>\n<p>Configuration on web.xml</p>\n<pre><code>   &lt;security-constraint&gt;\n        &lt;web-resource-collection&gt;\n            &lt;web-resource-name&gt;HTTPSOnly&lt;/web-resource-name&gt;\n            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n        &lt;/web-resource-collection&gt;\n        &lt;user-data-constraint&gt;\n            &lt;transport-guarantee&gt;CONFIDENTIAL&lt;/transport-guarantee&gt;\n        &lt;/user-data-constraint&gt;\n    &lt;/security-constraint&gt;\n</code></pre>\n<p>I'm able to redirect http to https with above configuration for tomcat when jenkins wasn't hosted. But after deploying jenkins.war redirecting http to https is not working.</p>\n<p>Are there any other configuration changes required for redirecting http to https for jenkins?</p>\n"},{"tags":["java","date","calendar"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1358930690,"post_id":14475489,"comment_id":20166821,"body_markdown":"Well what results *are* you getting? And why are you converting from a `Date` (the result of `Calendar.getTime()` to a `long`, and then creating a new `Date`)? And could you switch to using Joda Time, which would make all of this much neater?","body":"Well what results <i>are</i> you getting? And why are you converting from a <code>Date</code> (the result of <code>Calendar.getTime()</code> to a <code>long</code>, and then creating a new <code>Date</code>)? And could you switch to using Joda Time, which would make all of this much neater?"}],"answers":[{"tags":[],"owner":{"account_id":39037,"reputation":12517,"user_id":112500,"accept_rate":94,"display_name":"Batakj"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1619345383,"creation_date":1358930828,"answer_id":14475569,"question_id":14475489,"body_markdown":"    SimpleDateFormat format = new SimpleDateFormat(&quot;yyyyMMdd&quot;);\r\n    format.format(calculatedDate);\r\n    System.out.println(&quot;Calculated month end date : &quot; + calculatedDate);\r\n\r\nChange it to\r\n\r\n    SimpleDateFormat format = new SimpleDateFormat(&quot;yyyyMMdd&quot;);\r\n    String formattedDate =  format.format(calculatedDate);\r\n    System.out.println(&quot;Calculated month end date : &quot; + formattedDate);\r\n\r\nFor more detail\r\n\r\nhttp://docs.oracle.com/javase/1.5.0/docs/api/java/text/DateFormat.html#format(java.util.Date)\r\n\r\nAnother Approach\r\n\r\n\r\n    package com.shashi.mpoole;\r\n\r\n    import java.text.SimpleDateFormat; \r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    import java.util.GregorianCalendar;\r\n\r\n    public class DateMagic {\r\n\r\n\t     public static String PATTERN = &quot;yyyyMMdd&quot;;\r\n\r\n\t     static class Measure {\r\n\t\t       private int month;\r\n\t\t       private int year;\r\n\t\t       private Calendar calendar;\r\n\r\n\t\t       public Measure build() {\r\n\r\n\t\t\t        calendar = Calendar.getInstance();\r\n\t\t\t        calendar.set(year, month, 1);\r\n\r\n\t\t\t        return this;\r\n\t\t       }\r\n\r\n\t\t       public Measure(int year, int month) {\r\n\t\t\t        this.year(year);\r\n\t\t\t        this.month(month);\r\n\t\t       }\r\n\r\n\t\t       public String min() {\r\n\t\t\t          return format(calendar.getActualMinimum(Calendar.DATE));\r\n\t\t       }\r\n\r\n\t\t       public String max() {\r\n\t\t\t          return format(calendar.getActualMaximum(Calendar.DATE));\r\n\t\t       }\r\n\r\n\t\t       private Date date(GregorianCalendar c) {\r\n\t\t\t          return new java.util.Date(c.getTime().getTime());\r\n\r\n\t\t       }\r\n\r\n\t\t       private GregorianCalendar gc(int day) {\r\n\t\t\t          return new GregorianCalendar(year, month, day);\r\n\t\t       }\r\n\r\n\t\t       private String format(int day) {\r\n\r\n\t\t\t          SimpleDateFormat format = new SimpleDateFormat(PATTERN);\r\n\t\t\t          return format.format(date(gc(day)));\r\n\t\t       }\r\n\r\n\t\t       public void month(int month) {\r\n\t\t\t          this.month = month - 1;\r\n\t\t       }\r\n\r\n\t\t       public void year(int year) {\r\n\t\t\t          this.year = year;\r\n\t           }\r\n\t      }\r\n\r\n\t      public static void main(String[] args) {\r\n\r\n\t\t\t     Measure measure = new Measure(2020, 6).build();\r\n\r\n\t\t\t     System.out.println(measure.min());\r\n\t\t\t     System.out.println(measure.max());\r\n\r\n\t\t    \r\n\t    }\r\n\r\n    }","title":"java get the first date and last date of given month and given year","body":"<pre><code>SimpleDateFormat format = new SimpleDateFormat(&quot;yyyyMMdd&quot;);\nformat.format(calculatedDate);\nSystem.out.println(&quot;Calculated month end date : &quot; + calculatedDate);\n</code></pre>\n<p>Change it to</p>\n<pre><code>SimpleDateFormat format = new SimpleDateFormat(&quot;yyyyMMdd&quot;);\nString formattedDate =  format.format(calculatedDate);\nSystem.out.println(&quot;Calculated month end date : &quot; + formattedDate);\n</code></pre>\n<p>For more detail</p>\n<p><a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/text/DateFormat.html#format(java.util.Date)\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/1.5.0/docs/api/java/text/DateFormat.html#format(java.util.Date)</a></p>\n<p>Another Approach</p>\n<pre><code>package com.shashi.mpoole;\n\nimport java.text.SimpleDateFormat; \nimport java.util.Calendar;\nimport java.util.Date;\nimport java.util.GregorianCalendar;\n\npublic class DateMagic {\n\n     public static String PATTERN = &quot;yyyyMMdd&quot;;\n\n     static class Measure {\n           private int month;\n           private int year;\n           private Calendar calendar;\n\n           public Measure build() {\n\n                calendar = Calendar.getInstance();\n                calendar.set(year, month, 1);\n\n                return this;\n           }\n\n           public Measure(int year, int month) {\n                this.year(year);\n                this.month(month);\n           }\n\n           public String min() {\n                  return format(calendar.getActualMinimum(Calendar.DATE));\n           }\n\n           public String max() {\n                  return format(calendar.getActualMaximum(Calendar.DATE));\n           }\n\n           private Date date(GregorianCalendar c) {\n                  return new java.util.Date(c.getTime().getTime());\n\n           }\n\n           private GregorianCalendar gc(int day) {\n                  return new GregorianCalendar(year, month, day);\n           }\n\n           private String format(int day) {\n\n                  SimpleDateFormat format = new SimpleDateFormat(PATTERN);\n                  return format.format(date(gc(day)));\n           }\n\n           public void month(int month) {\n                  this.month = month - 1;\n           }\n\n           public void year(int year) {\n                  this.year = year;\n           }\n      }\n\n      public static void main(String[] args) {\n\n             Measure measure = new Measure(2020, 6).build();\n\n             System.out.println(measure.min());\n             System.out.println(measure.max());\n\n        \n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1936505,"reputation":5620,"user_id":1743852,"accept_rate":75,"display_name":"Alya&#39;a Gamal"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1358931741,"creation_date":1358931741,"answer_id":14475794,"question_id":14475489,"body_markdown":"To get the **Start Date** \r\n\r\n        GregorianCalendar gc = new GregorianCalendar(year, month-1, 1);\r\n        java.util.Date monthEndDate = new java.util.Date(gc.getTime().getTime());\r\n        System.out.println(monthEndDate);\r\n\r\n(***Note*** :  in the Start date the **day** =1)\r\n\r\n for the formatted \r\n\r\n    SimpleDateFormat format = new SimpleDateFormat(/////////add your format here);\r\n    System.out.println(&quot;Calculated month end date : &quot; + format.format(calculatedDate));","title":"java get the first date and last date of given month and given year","body":"<p>To get the <strong>Start Date</strong> </p>\n\n<pre><code>    GregorianCalendar gc = new GregorianCalendar(year, month-1, 1);\n    java.util.Date monthEndDate = new java.util.Date(gc.getTime().getTime());\n    System.out.println(monthEndDate);\n</code></pre>\n\n<p>(<strong><em>Note</em></strong> :  in the Start date the <strong>day</strong> =1)</p>\n\n<p>for the formatted </p>\n\n<pre><code>SimpleDateFormat format = new SimpleDateFormat(/////////add your format here);\nSystem.out.println(\"Calculated month end date : \" + format.format(calculatedDate));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1908412,"reputation":38019,"user_id":1722818,"accept_rate":58,"display_name":"duggu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1386912705,"creation_date":1386912705,"answer_id":20559755,"question_id":14475489,"body_markdown":"Try below code for last day of month : -\r\n\r\n    Calendar c = Calendar.getInstance();      \r\n    c.set(2012,3,1); //------&gt;  \r\n    c.set(Calendar.DAY_OF_MONTH, c.getActualMaximum(Calendar.DAY_OF_MONTH));  \r\n          \r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);  \r\n    System.out.println(sdf.format(c.getTime())); \r\n\r\n\r\nhttp://www.coderanch.com/t/385759/java/java/date-date-month\r\n","title":"java get the first date and last date of given month and given year","body":"<p>Try below code for last day of month : -</p>\n\n<pre><code>Calendar c = Calendar.getInstance();      \nc.set(2012,3,1); //------&gt;  \nc.set(Calendar.DAY_OF_MONTH, c.getActualMaximum(Calendar.DAY_OF_MONTH));  \n\nSimpleDateFormat sdf = new SimpleDateFormat(\"dd/MM/yyyy\");  \nSystem.out.println(sdf.format(c.getTime())); \n</code></pre>\n\n<p><a href=\"http://www.coderanch.com/t/385759/java/java/date-date-month\" rel=\"nofollow\">http://www.coderanch.com/t/385759/java/java/date-date-month</a></p>\n"},{"tags":[],"owner":{"account_id":4967327,"reputation":11,"user_id":3996179,"display_name":"Gururaj Enamate"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1409552601,"creation_date":1409552601,"answer_id":25599916,"question_id":14475489,"body_markdown":"            GregorianCalendar gc = new GregorianCalendar(year, selectedMonth-1, 1);\r\n\t\t       java.util.Date monthStartDate = new java.util.Date(gc.getTime().getTime());\r\n\t\t    Calendar calendar = Calendar.getInstance();\r\n\t\t    calendar.setTime(monthStartDate);\r\n\t\t    calendar.add(calendar.MONTH, 1);\r\n\t\t    calendar.add(calendar.DAY_OF_MONTH, -1);\r\n               java.util.Date monthEndDate = new java.util.Date(calendar.getTime())","title":"java get the first date and last date of given month and given year","body":"<pre><code>        GregorianCalendar gc = new GregorianCalendar(year, selectedMonth-1, 1);\n           java.util.Date monthStartDate = new java.util.Date(gc.getTime().getTime());\n        Calendar calendar = Calendar.getInstance();\n        calendar.setTime(monthStartDate);\n        calendar.add(calendar.MONTH, 1);\n        calendar.add(calendar.DAY_OF_MONTH, -1);\n           java.util.Date monthEndDate = new java.util.Date(calendar.getTime())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3056798,"reputation":867,"user_id":2590227,"accept_rate":56,"display_name":"engtuncay"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1429273512,"creation_date":1429273512,"answer_id":29699168,"question_id":14475489,"body_markdown":"Simply you can use Calendar class. you should assign month variable which month you want\r\n\r\n\t\t\tCalendar gc = new GregorianCalendar();\r\n\t\t\tgc.set(Calendar.MONTH, month);\r\n\t\t\tgc.set(Calendar.DAY_OF_MONTH, 1);\r\n\t\t    Date monthStart = gc.getTime();\r\n\t\t    gc.add(Calendar.MONTH, 1);\r\n\t\t    gc.add(Calendar.DAY_OF_MONTH, -1);\r\n\t\t    Date monthEnd = gc.getTime();\r\n\t\t    SimpleDateFormat format = new SimpleDateFormat(&quot;yyyyMMdd&quot;);\r\n\r\n\t\t    System.out.println(&quot;Calculated month start date : &quot; + format.format(monthStart));\r\n\t\t\tSystem.out.println(&quot;Calculated month end date : &quot; + format.format(monthEnd));\r\n\r\n","title":"java get the first date and last date of given month and given year","body":"<p>Simply you can use Calendar class. you should assign month variable which month you want</p>\n\n<pre><code>        Calendar gc = new GregorianCalendar();\n        gc.set(Calendar.MONTH, month);\n        gc.set(Calendar.DAY_OF_MONTH, 1);\n        Date monthStart = gc.getTime();\n        gc.add(Calendar.MONTH, 1);\n        gc.add(Calendar.DAY_OF_MONTH, -1);\n        Date monthEnd = gc.getTime();\n        SimpleDateFormat format = new SimpleDateFormat(\"yyyyMMdd\");\n\n        System.out.println(\"Calculated month start date : \" + format.format(monthStart));\n        System.out.println(\"Calculated month end date : \" + format.format(monthEnd));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":136651,"reputation":8180,"user_id":340290,"accept_rate":78,"display_name":"manikanta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1603960585,"creation_date":1430331854,"answer_id":29951604,"question_id":14475489,"body_markdown":"Although, not exactly the answer for the OP question, below methods will given **current month** first &amp; last dates as Java 8+ LocalDate instances.\r\n\r\n\tpublic static LocalDate getCurrentMonthFirstDate() {\r\n\t\treturn LocalDate.ofEpochDay(System.currentTimeMillis() / (24 * 60 * 60 * 1000) ).withDayOfMonth(1);\r\n\t}\r\n\r\n\tpublic static LocalDate getCurrentMonthLastDate() {\r\n\t\treturn LocalDate.ofEpochDay(System.currentTimeMillis() / (24 * 60 * 60 * 1000) ).plusMonths(1).withDayOfMonth(1).minusDays(1);\r\n\t}\r\n\r\n*Side note: Using `LocalDate.ofEpochDay(...)` instead of `LocalDate.now()` gives much improved performance. Also, using the millis-in-a-day expression instead of the end value, which is `86400000` is performing better. I initially thought the latter would perform better than the the expression :P*\r\n\r\n**Why this answer**:  *Even this is not a correct answer for OP question,  I m still answering here as Google showed this question when I searched for &#39;java 8 get month start date&#39; :)*","title":"java get the first date and last date of given month and given year","body":"<p>Although, not exactly the answer for the OP question, below methods will given <strong>current month</strong> first &amp; last dates as Java 8+ LocalDate instances.</p>\n<pre><code>public static LocalDate getCurrentMonthFirstDate() {\n    return LocalDate.ofEpochDay(System.currentTimeMillis() / (24 * 60 * 60 * 1000) ).withDayOfMonth(1);\n}\n\npublic static LocalDate getCurrentMonthLastDate() {\n    return LocalDate.ofEpochDay(System.currentTimeMillis() / (24 * 60 * 60 * 1000) ).plusMonths(1).withDayOfMonth(1).minusDays(1);\n}\n</code></pre>\n<p><em>Side note: Using <code>LocalDate.ofEpochDay(...)</code> instead of <code>LocalDate.now()</code> gives much improved performance. Also, using the millis-in-a-day expression instead of the end value, which is <code>86400000</code> is performing better. I initially thought the latter would perform better than the the expression :P</em></p>\n<p><strong>Why this answer</strong>:  <em>Even this is not a correct answer for OP question,  I m still answering here as Google showed this question when I searched for 'java 8 get month start date' :)</em></p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1661104106,"creation_date":1441074209,"answer_id":32322588,"question_id":14475489,"body_markdown":"# `java.time.YearMonth` methods `atDay` &amp; `atEndOfMonth`\r\n\r\nThe [java.time framework][1] built into Java 8+ ([Tutorial][2]) has commands for this.\r\n\r\nThe aptly-named [`YearMonth`][3] class represents a month of a year, without any specific day or time. From there we can ask for the first and days of the month.\r\n\r\n    YearMonth yearMonth = YearMonth.of( 2015, 1 );     // 2015-01. January of 2015.\r\n    LocalDate firstOfMonth = yearMonth.atDay( 1 );     // 2015-01-01\r\n    LocalDate lastOfMonth = yearMonth.atEndOfMonth();  // 2015-01-31\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the java.time classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts *ThreeTen-Backport* (mentioned above). See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/package-summary.html\r\n  [2]: http://docs.oracle.com/javase/tutorial/datetime/TOC.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/YearMonth.html","title":"java get the first date and last date of given month and given year","body":"<h1><code>java.time.YearMonth</code> methods <code>atDay</code> &amp; <code>atEndOfMonth</code></h1>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time framework</a> built into Java 8+ (<a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">Tutorial</a>) has commands for this.</p>\n<p>The aptly-named <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/YearMonth.html\" rel=\"nofollow noreferrer\"><code>YearMonth</code></a> class represents a month of a year, without any specific day or time. From there we can ask for the first and days of the month.</p>\n<pre><code>YearMonth yearMonth = YearMonth.of( 2015, 1 );     // 2015-01. January of 2015.\nLocalDate firstOfMonth = yearMonth.atDay( 1 );     // 2015-01-01\nLocalDate lastOfMonth = yearMonth.atEndOfMonth();  // 2015-01-31\n</code></pre>\n<hr />\n<h1>About <em>java.time</em></h1>\n<p>The <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"nofollow noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"nofollow noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n<p>Where to obtain the java.time classes?</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"nofollow noreferrer\"><strong>Java SE 10</strong></a>, and later</li>\n<li>Built-in.</li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"nofollow noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"nofollow noreferrer\"><strong>Java SE 7</strong></a></li>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a>.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\"><strong>Android</strong></a></li>\n<li>Later versions of Android bundle implementations of the java.time classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><em><strong>ThreeTenABP</strong></em></a> project adapts <em>ThreeTen-Backport</em> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul>\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"nofollow noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"nofollow noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"nofollow noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"nofollow noreferrer\">more</a>.</p>\n"},{"tags":[],"owner":{"account_id":3327611,"reputation":84,"user_id":2797267,"display_name":"DinushaMadusanka"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1483548855,"creation_date":1483545924,"answer_id":41468269,"question_id":14475489,"body_markdown":"**First day:** \r\n\r\n    Calendar.getInstance().getActualMinimum(Calendar.DAY_OF_MONTH);\r\n\r\n**Last day of month:**\r\n\r\n    Calendar.getInstance().getActualMaximum(Calendar.DAY_OF_MONTH);\r\n\r\n","title":"java get the first date and last date of given month and given year","body":"<p><strong>First day:</strong> </p>\n\n<pre><code>Calendar.getInstance().getActualMinimum(Calendar.DAY_OF_MONTH);\n</code></pre>\n\n<p><strong>Last day of month:</strong></p>\n\n<pre><code>Calendar.getInstance().getActualMaximum(Calendar.DAY_OF_MONTH);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13517680,"reputation":11,"user_id":9751818,"display_name":"Daniele Rucci"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525682795,"creation_date":1525682795,"answer_id":50210290,"question_id":14475489,"body_markdown":"    public static Date[] getMonthInterval(Date data) throws Exception {\r\n        \r\n        Date[] dates = new Date[2];\r\n                \r\n        Calendar start = Calendar.getInstance();\r\n        Calendar end = Calendar.getInstance();\r\n        \r\n        start.setTime(data);\r\n        start.set(Calendar.DAY_OF_MONTH, start.getActualMinimum(Calendar.DAY_OF_MONTH));\r\n        start.set(Calendar.HOUR_OF_DAY, 0);\r\n        start.set(Calendar.MINUTE, 0);\r\n        start.set(Calendar.SECOND, 0);\r\n        \r\n        end.setTime(data);\r\n        end.set(Calendar.DAY_OF_MONTH, end.getActualMaximum(Calendar.DAY_OF_MONTH));\r\n        end.set(Calendar.HOUR_OF_DAY, 23);\r\n        end.set(Calendar.MINUTE, 59);\r\n        end.set(Calendar.SECOND, 59);\r\n        \r\n        //System.out.println(&quot;start &quot;+ start.getTime());\r\n        //System.out.println(&quot;end   &quot;+ end.getTime());\r\n        \r\n        dates[0] = start.getTime();\r\n        dates[1] = end.getTime();\r\n        \r\n        return dates;\r\n    }","title":"java get the first date and last date of given month and given year","body":"<pre><code>public static Date[] getMonthInterval(Date data) throws Exception {\n\n    Date[] dates = new Date[2];\n\n    Calendar start = Calendar.getInstance();\n    Calendar end = Calendar.getInstance();\n\n    start.setTime(data);\n    start.set(Calendar.DAY_OF_MONTH, start.getActualMinimum(Calendar.DAY_OF_MONTH));\n    start.set(Calendar.HOUR_OF_DAY, 0);\n    start.set(Calendar.MINUTE, 0);\n    start.set(Calendar.SECOND, 0);\n\n    end.setTime(data);\n    end.set(Calendar.DAY_OF_MONTH, end.getActualMaximum(Calendar.DAY_OF_MONTH));\n    end.set(Calendar.HOUR_OF_DAY, 23);\n    end.set(Calendar.MINUTE, 59);\n    end.set(Calendar.SECOND, 59);\n\n    //System.out.println(\"start \"+ start.getTime());\n    //System.out.println(\"end   \"+ end.getTime());\n\n    dates[0] = start.getTime();\n    dates[1] = end.getTime();\n\n    return dates;\n}\n</code></pre>\n"}],"owner":{"account_id":1428006,"reputation":762,"user_id":1514499,"accept_rate":93,"display_name":"user1514499"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84165,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"closed_date":1525725461,"accepted_answer_id":14475794,"answer_count":9,"score":13,"last_activity_date":1661104106,"creation_date":1358930544,"question_id":14475489,"body_markdown":"I am trying to get the first date and the last date of the given month and year. I used the following code to get the last date in the format yyyyMMdd. But couldnot get this format. Also then I want the start date in the same format. I am still working on this. Can anyone help me in fixing the below code.   \r\n\r\n    public static java.util.Date calculateMonthEndDate(int month, int year) {\r\n        int[] daysInAMonth = { 29, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 };\r\n        int day = daysInAMonth[month];\r\n        boolean isLeapYear = new GregorianCalendar().isLeapYear(year);\r\n\r\n        if (isLeapYear &amp;&amp; month == 2) {\r\n            day++;\r\n        }\r\n        GregorianCalendar gc = new GregorianCalendar(year, month - 1, day);\r\n        java.util.Date monthEndDate = new java.util.Date(gc.getTime().getTime());\r\n        return monthEndDate;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int month = 3;\r\n        int year = 2076;\r\n        final java.util.Date calculatedDate = calculateMonthEndDate(month, year);\r\n        SimpleDateFormat format = new SimpleDateFormat(&quot;yyyyMMdd&quot;);\r\n        format.format(calculatedDate);\r\n        System.out.println(&quot;Calculated month end date : &quot; + calculatedDate);\r\n    } ","title":"java get the first date and last date of given month and given year","body":"<p>I am trying to get the first date and the last date of the given month and year. I used the following code to get the last date in the format yyyyMMdd. But couldnot get this format. Also then I want the start date in the same format. I am still working on this. Can anyone help me in fixing the below code.   </p>\n\n<pre><code>public static java.util.Date calculateMonthEndDate(int month, int year) {\n    int[] daysInAMonth = { 29, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 };\n    int day = daysInAMonth[month];\n    boolean isLeapYear = new GregorianCalendar().isLeapYear(year);\n\n    if (isLeapYear &amp;&amp; month == 2) {\n        day++;\n    }\n    GregorianCalendar gc = new GregorianCalendar(year, month - 1, day);\n    java.util.Date monthEndDate = new java.util.Date(gc.getTime().getTime());\n    return monthEndDate;\n}\n\npublic static void main(String[] args) {\n    int month = 3;\n    int year = 2076;\n    final java.util.Date calculatedDate = calculateMonthEndDate(month, year);\n    SimpleDateFormat format = new SimpleDateFormat(\"yyyyMMdd\");\n    format.format(calculatedDate);\n    System.out.println(\"Calculated month end date : \" + calculatedDate);\n} \n</code></pre>\n"},{"tags":["java","unit-testing","junit","jmockit"],"comments":[{"owner":{"account_id":52748,"reputation":14581,"user_id":157672,"accept_rate":86,"display_name":"Michael Lloyd Lee mlk"},"score":0,"creation_date":1362398435,"post_id":15200914,"comment_id":21420017,"body_markdown":"How is Foo created? Sample code would be good.","body":"How is Foo created? Sample code would be good."},{"owner":{"account_id":10830,"reputation":25297,"user_id":20634,"display_name":"Alex"},"score":0,"creation_date":1362398462,"post_id":15200914,"comment_id":21420026,"body_markdown":"Is there something I don&#39;t understand? Why `Foo foo = mock(FooImpl.class); when(foo.bar(&quot;test&quot;)).thenReturn(&quot;mocked&quot;); when(foo.bar(anyString())).thenCallRealMethod()` doesn&#39;t suit you. Edit: I didn&#39;t saw at first that you were using JMockit.","body":"Is there something I don&#39;t understand? Why <code>Foo foo = mock(FooImpl.class); when(foo.bar(&quot;test&quot;)).thenReturn(&quot;mocked&quot;); when(foo.bar(anyString())).thenCallRealMethod()</code> doesn&#39;t suit you. Edit: I didn&#39;t saw at first that you were using JMockit."}],"answers":[{"tags":[],"owner":{"account_id":42147,"reputation":16251,"user_id":2326914,"accept_rate":33,"display_name":"Rog&#233;rio"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1362413429,"creation_date":1362413429,"answer_id":15205889,"question_id":15200914,"body_markdown":"Indeed, for this situation you would need to dynamically mock the classes that implement the desired interface. But this combination (`@Capturing` + dynamic mocking) is not currently supported by JMockit.\r\n\r\nThat said, if the implementation class is known and accessible to test code, then it can be done with dynamic mocking alone, as the following example test shows:\r\n\r\n    public interface Foo {\r\n        int getValue();\r\n        String bar(String s);\r\n    }\r\n\r\n    static final class FooImpl implements Foo {\r\n        private final int value;\r\n        FooImpl(int value) { this.value = value; }\r\n        public int getValue() { return value; }\r\n        public String bar(String s) { return s; }\r\n    }\r\n\r\n    @Test\r\n    public void dynamicallyMockingAllInstancesOfAClass()\r\n    {\r\n        final Foo exampleOfFoo = new FooImpl(0);\r\n\r\n        new NonStrictExpectations(FooImpl.class) {{\r\n            exampleOfFoo.bar(&quot;test&quot;); result = &quot;aBcc&quot;;\r\n        }};\r\n\r\n        Foo newFoo = new FooImpl(123);\r\n        assertEquals(123, newFoo.getValue());\r\n        assertEquals(&quot;aBcc&quot;, newFoo.bar(&quot;test&quot;)); // mocked\r\n        assertEquals(&quot;real one&quot;, newFoo.bar(&quot;real one&quot;)); // not mocked\r\n    }","title":"Using JMockit, how do I mock an interface method for specific input parameter values?","body":"<p>Indeed, for this situation you would need to dynamically mock the classes that implement the desired interface. But this combination (<code>@Capturing</code> + dynamic mocking) is not currently supported by JMockit.</p>\n\n<p>That said, if the implementation class is known and accessible to test code, then it can be done with dynamic mocking alone, as the following example test shows:</p>\n\n<pre><code>public interface Foo {\n    int getValue();\n    String bar(String s);\n}\n\nstatic final class FooImpl implements Foo {\n    private final int value;\n    FooImpl(int value) { this.value = value; }\n    public int getValue() { return value; }\n    public String bar(String s) { return s; }\n}\n\n@Test\npublic void dynamicallyMockingAllInstancesOfAClass()\n{\n    final Foo exampleOfFoo = new FooImpl(0);\n\n    new NonStrictExpectations(FooImpl.class) {{\n        exampleOfFoo.bar(\"test\"); result = \"aBcc\";\n    }};\n\n    Foo newFoo = new FooImpl(123);\n    assertEquals(123, newFoo.getValue());\n    assertEquals(\"aBcc\", newFoo.bar(\"test\")); // mocked\n    assertEquals(\"real one\", newFoo.bar(\"real one\")); // not mocked\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2628599,"reputation":97,"user_id":2275114,"accept_rate":100,"display_name":"Jun Jiang"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1661104032,"creation_date":1370019049,"answer_id":16862183,"question_id":15200914,"body_markdown":"    Foo foo = new MockUp&lt;Foo&gt;() {\r\n       @Mock\r\n       public bar(String s)(){\r\n          return &quot;test&quot;;\r\n       }\r\n    }.getMockInstance();\r\n\r\n`foo.bar(&quot;&quot;)` will now return `&quot;test&quot;`...","title":"Using JMockit, how do I mock an interface method for specific input parameter values?","body":"<pre><code>Foo foo = new MockUp&lt;Foo&gt;() {\n   @Mock\n   public bar(String s)(){\n      return &quot;test&quot;;\n   }\n}.getMockInstance();\n</code></pre>\n<p><code>foo.bar(&quot;&quot;)</code> will now return <code>&quot;test&quot;</code>...</p>\n"}],"owner":{"account_id":101657,"reputation":4161,"user_id":273344,"accept_rate":57,"display_name":"Marcin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14957,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":15205889,"answer_count":2,"score":3,"last_activity_date":1661104032,"creation_date":1362397901,"question_id":15200914,"body_markdown":"Let&#39;s say I have an interface `Foo` with method `bar(String s)`. The only thing I want mocked is `bar(&quot;test&quot;);`.\r\n\r\nI cannot do it with static partial mocking, because I only want the `bar` method mocked when &quot;test&quot; argument is being passed. I cannot do it with dynamic partial mocking, because this is an interface and I also do not want the implementation constructor mocked. I also cannot use interface mocking with `MockUp`, because I have no ability to inject mocked instance, it is created somewhere in code.\r\n\r\nIs there something I am missing?","title":"Using JMockit, how do I mock an interface method for specific input parameter values?","body":"<p>Let's say I have an interface <code>Foo</code> with method <code>bar(String s)</code>. The only thing I want mocked is <code>bar(\"test\");</code>.</p>\n\n<p>I cannot do it with static partial mocking, because I only want the <code>bar</code> method mocked when \"test\" argument is being passed. I cannot do it with dynamic partial mocking, because this is an interface and I also do not want the implementation constructor mocked. I also cannot use interface mocking with <code>MockUp</code>, because I have no ability to inject mocked instance, it is created somewhere in code.</p>\n\n<p>Is there something I am missing?</p>\n"},{"tags":["java","spring","spring-boot","rest","console-application"],"comments":[{"owner":{"display_name":"user19733195"},"score":0,"creation_date":1660855086,"post_id":73407285,"comment_id":129638707,"body_markdown":"Does anybody else have never built Spring Boot console app?","body":"Does anybody else have never built Spring Boot console app?"},{"owner":{"account_id":9586004,"reputation":589,"user_id":7118750,"display_name":"Tim"},"score":0,"creation_date":1660899810,"post_id":73407285,"comment_id":129647559,"body_markdown":"At a high level, you can take an input from the CLI, then call your three APIs. Whether it&#39;s sync or async request doesn&#39;t really matter for the time being as all it changes is how you process it. You can then get the three results, create a model from it and return to the console. It&#39;s hard to help when the question is so open and opinion based,  so make a start and post any specific problems you run into.","body":"At a high level, you can take an input from the CLI, then call your three APIs. Whether it&#39;s sync or async request doesn&#39;t really matter for the time being as all it changes is how you process it. You can then get the three results, create a model from it and return to the console. It&#39;s hard to help when the question is so open and opinion based,  so make a start and post any specific problems you run into."}],"answers":[{"tags":[],"owner":{"account_id":15302648,"reputation":92,"user_id":11042152,"display_name":"knowNothing"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661102372,"creation_date":1661102372,"answer_id":73436685,"question_id":73407285,"body_markdown":"You dont need controller layer for this case. Just get parameters from user and send it to service that you created. Then call rest apis synchronously with RestTemplate or FeignClient(if always gonna be 3 api use resttemplate). And create model for per api that you called. And create a Model for your response. If all off your requests ends with success. Map theese 3 model to your response model and return this model from your service to wherever you want.","title":"Display results from different API in Java console app","body":"<p>You dont need controller layer for this case. Just get parameters from user and send it to service that you created. Then call rest apis synchronously with RestTemplate or FeignClient(if always gonna be 3 api use resttemplate). And create model for per api that you called. And create a Model for your response. If all off your requests ends with success. Map theese 3 model to your response model and return this model from your service to wherever you want.</p>\n"}],"owner":{"display_name":"user19733195"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661102372,"creation_date":1660844090,"question_id":73407285,"body_markdown":"I create a Spring Boot console app that gets a parameter from user via console and then read data from 3 different API. Then, I need to display data from all of these 3 API. At this moment, I am not sure if how should I call all of these APIs and then merge results. \r\n\r\nShould I call all the APIs asynchronously? If so, how can I merge all the results into a Model? I think I should create a model that contains all the fields from 3 APIs. Is this approach seems good or what would you suggest? \r\n\r\nOn the other hand, should I create a Controller and Service then call the REST APIs from service (the parameter pass from console to Controller and then to Service)? ","title":"Display results from different API in Java console app","body":"<p>I create a Spring Boot console app that gets a parameter from user via console and then read data from 3 different API. Then, I need to display data from all of these 3 API. At this moment, I am not sure if how should I call all of these APIs and then merge results.</p>\n<p>Should I call all the APIs asynchronously? If so, how can I merge all the results into a Model? I think I should create a model that contains all the fields from 3 APIs. Is this approach seems good or what would you suggest?</p>\n<p>On the other hand, should I create a Controller and Service then call the REST APIs from service (the parameter pass from console to Controller and then to Service)?</p>\n"},{"tags":["java","swing","rendering","graphics2d","bufferstrategy"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1661080466,"post_id":73432853,"comment_id":129681787,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) section.","body":"Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> section."},{"owner":{"account_id":24298877,"reputation":147,"user_id":18242684,"display_name":"toadless"},"score":1,"creation_date":1661081641,"post_id":73432853,"comment_id":129682033,"body_markdown":"That doesn&#39;t help me, I have already tried this with paint component and it    still gives me the same result, also there is nothing in the troubleshooting area that helps me in that article.","body":"That doesn&#39;t help me, I have already tried this with paint component and it    still gives me the same result, also there is nothing in the troubleshooting area that helps me in that article."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1661084146,"post_id":73432853,"comment_id":129682549,"body_markdown":"Sorry, but I don&#39;t see a drawing `JPanel` or a Swing `Timer` in your code.  Put something together using correct principles and you might get more help.","body":"Sorry, but I don&#39;t see a drawing <code>JPanel</code> or a Swing <code>Timer</code> in your code.  Put something together using correct principles and you might get more help."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1661084450,"post_id":73432853,"comment_id":129682610,"body_markdown":"this looks like you are updating a component off the EDT - do you? That would be a _no-no-never_ which might lead to all types of unexpected/undeterministic behaviors","body":"this looks like you are updating a component off the EDT - do you? That would be a <i>no-no-never</i> which might lead to all types of unexpected/undeterministic behaviors"},{"owner":{"account_id":24298877,"reputation":147,"user_id":18242684,"display_name":"toadless"},"score":1,"creation_date":1661099414,"post_id":73432853,"comment_id":129685821,"body_markdown":"I have just tried to use `SwingUtils#envokeLater` so that I can run my rendering code on the EDT, and it made no difference...","body":"I have just tried to use <code>SwingUtils#envokeLater</code> so that I can run my rendering code on the EDT, and it made no difference..."},{"owner":{"account_id":24298877,"reputation":147,"user_id":18242684,"display_name":"toadless"},"score":1,"creation_date":1661099512,"post_id":73432853,"comment_id":129685845,"body_markdown":"@GilbertLeBlanc I have posted some refactored code that used &quot;drawing JPanel&quot; and still produces the same problem...","body":"@GilbertLeBlanc I have posted some refactored code that used &quot;drawing JPanel&quot; and still produces the same problem..."}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661102365,"creation_date":1661102365,"answer_id":73436682,"question_id":73432853,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  \r\n\r\nI rearranged your code.  The motion seems pretty smooth to me when I run the modified code.\r\n\r\nWhen I create a Swing GUI, I use the [model-view-controller][1] pattern.  This pattern allows me to separate my concerns and focus on one part of the application at a time.\r\n\r\nI created an application model using a plain Java getter/setter class to hold the player position and the size of the playing field.\r\n\r\nAll Swing applications **must start** with a call to the `SwingUtilities` `invokeLater` method.  This method ensures that all Swing components are created and executed on the [Event Dispatch Thread][2].\r\n\r\nYour biggest mistake was disposing of the `Graphics` instance in your `paintComponent` method.  Never dispose of a `Graphics` instance unless you create it.\r\n\r\nI used a Swing `Timer` rather than your complicated timing code.  Pick a frame rate and stick with it.  Most monitors can&#39;t refresh any faster than 60 frames per second.\r\n\r\nI modified your update code so the player rectangle moves back and forth.\r\n\r\nHere&#39;s the complete runnable code.  I made all the additional classes inner classes so I could post the code as one block.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Point;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.Timer;\r\n    \r\n    public class ExampleGame implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new ExampleGame());\r\n    \t}\r\n    \r\n    \tprivate final GameModel model;\r\n    \r\n    \tprivate final GamePanel gamePanel;\r\n    \r\n    \tpublic ExampleGame() {\r\n    \t\tthis.model = new GameModel();\r\n    \t\tthis.gamePanel = new GamePanel(model);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tSystem.setProperty(&quot;sun.java2d.opengl&quot;, &quot;true&quot;);\r\n    \r\n    \t\tJFrame window = new JFrame();\r\n    \t\twindow.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    //        window.setResizable(false);\r\n    \t\twindow.setTitle(&quot;Test&quot;);\r\n    \r\n    \t\twindow.add(gamePanel, BorderLayout.CENTER);\r\n    \r\n    \t\twindow.pack();\r\n    \t\twindow.setLocationByPlatform(true);\r\n    \t\twindow.setVisible(true);\r\n    \r\n    \t\tTimer timer = new Timer(20, new PlayerListener(this, model));\r\n    \t\ttimer.start();\r\n    \t}\r\n    \r\n    \tpublic void repaint() {\r\n    \t\tgamePanel.repaint();\r\n    \t}\r\n    \r\n    \tpublic class GamePanel extends JPanel {\r\n    \r\n    \t\tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t\tprivate final GameModel model;\r\n    \r\n    \t\tpublic GamePanel(GameModel model) {\r\n    \t\t\tthis.model = model;\r\n    \t\t\tsetPreferredSize(model.getPlayingField());\r\n    \t\t\tsetBackground(Color.BLACK);\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tprotected void paintComponent(Graphics g) {\r\n    \t\t\tsuper.paintComponent(g);\r\n    \r\n    \t\t\tGraphics2D g2 = (Graphics2D) g;\r\n    \t\t\tg2.setColor(Color.WHITE);\r\n    \t\t\tPoint point = model.getPlayerePosition();\r\n    \t\t\tg2.fillRect(point.x, point.y, 32, 32);\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic class PlayerListener implements ActionListener {\r\n    \r\n    \t\tprivate int increment;\r\n    \r\n    \t\tprivate final ExampleGame view;\r\n    \r\n    \t\tprivate final GameModel model;\r\n    \r\n    \t\tpublic PlayerListener(ExampleGame view, GameModel model) {\r\n    \t\t\tthis.view = view;\r\n    \t\t\tthis.model = model;\r\n    \t\t\tthis.increment = 5;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void actionPerformed(ActionEvent event) {\r\n    \t\t\tupdate();\r\n    \t\t\tview.repaint();\r\n    \t\t}\r\n    \r\n    \t\tpublic void update() {\r\n    \t\t\tDimension d = model.getPlayingField();\r\n    \t\t\tPoint point = model.getPlayerePosition();\r\n    \t\t\tpoint.x += increment;\r\n    \t\t\tif (point.x &gt; (d.width - 64)) {\r\n    \t\t\t\tincrement = -5;\r\n    \t\t\t\tpoint.x += increment;\r\n    \t\t\t}\r\n    \t\t\tif (point.x &lt; 32) {\r\n    \t\t\t\tincrement = 5;\r\n    \t\t\t\tpoint.x += increment;\r\n    \t\t\t}\r\n    \r\n    \t\t\tmodel.setPlayerePosition(point);\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic class GameModel {\r\n    \r\n    \t\tprivate final Dimension playingField;\r\n    \r\n    \t\tprivate Point playerePosition;\r\n    \r\n    \t\tpublic GameModel() {\r\n    \t\t\tthis.playingField = new Dimension(800, 600);\r\n    \t\t\tthis.playerePosition = new Point(32, 32);\r\n    \t\t}\r\n    \r\n    \t\tpublic Point getPlayerePosition() {\r\n    \t\t\treturn playerePosition;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setPlayerePosition(Point playerePosition) {\r\n    \t\t\tthis.playerePosition = playerePosition;\r\n    \t\t}\r\n    \r\n    \t\tpublic Dimension getPlayingField() {\r\n    \t\t\treturn playingField;\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\r\n  [2]: https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html","title":"Java Stuttery/Flickery/Laggy Animation In Game","body":"<p>Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.</p>\n<p>I rearranged your code.  The motion seems pretty smooth to me when I run the modified code.</p>\n<p>When I create a Swing GUI, I use the <a href=\"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"nofollow noreferrer\">model-view-controller</a> pattern.  This pattern allows me to separate my concerns and focus on one part of the application at a time.</p>\n<p>I created an application model using a plain Java getter/setter class to hold the player position and the size of the playing field.</p>\n<p>All Swing applications <strong>must start</strong> with a call to the <code>SwingUtilities</code> <code>invokeLater</code> method.  This method ensures that all Swing components are created and executed on the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\" rel=\"nofollow noreferrer\">Event Dispatch Thread</a>.</p>\n<p>Your biggest mistake was disposing of the <code>Graphics</code> instance in your <code>paintComponent</code> method.  Never dispose of a <code>Graphics</code> instance unless you create it.</p>\n<p>I used a Swing <code>Timer</code> rather than your complicated timing code.  Pick a frame rate and stick with it.  Most monitors can't refresh any faster than 60 frames per second.</p>\n<p>I modified your update code so the player rectangle moves back and forth.</p>\n<p>Here's the complete runnable code.  I made all the additional classes inner classes so I could post the code as one block.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Point;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\nimport javax.swing.Timer;\n\npublic class ExampleGame implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new ExampleGame());\n    }\n\n    private final GameModel model;\n\n    private final GamePanel gamePanel;\n\n    public ExampleGame() {\n        this.model = new GameModel();\n        this.gamePanel = new GamePanel(model);\n    }\n\n    @Override\n    public void run() {\n        System.setProperty(&quot;sun.java2d.opengl&quot;, &quot;true&quot;);\n\n        JFrame window = new JFrame();\n        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n//        window.setResizable(false);\n        window.setTitle(&quot;Test&quot;);\n\n        window.add(gamePanel, BorderLayout.CENTER);\n\n        window.pack();\n        window.setLocationByPlatform(true);\n        window.setVisible(true);\n\n        Timer timer = new Timer(20, new PlayerListener(this, model));\n        timer.start();\n    }\n\n    public void repaint() {\n        gamePanel.repaint();\n    }\n\n    public class GamePanel extends JPanel {\n\n        private static final long serialVersionUID = 1L;\n\n        private final GameModel model;\n\n        public GamePanel(GameModel model) {\n            this.model = model;\n            setPreferredSize(model.getPlayingField());\n            setBackground(Color.BLACK);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n\n            Graphics2D g2 = (Graphics2D) g;\n            g2.setColor(Color.WHITE);\n            Point point = model.getPlayerePosition();\n            g2.fillRect(point.x, point.y, 32, 32);\n        }\n\n    }\n\n    public class PlayerListener implements ActionListener {\n\n        private int increment;\n\n        private final ExampleGame view;\n\n        private final GameModel model;\n\n        public PlayerListener(ExampleGame view, GameModel model) {\n            this.view = view;\n            this.model = model;\n            this.increment = 5;\n        }\n\n        @Override\n        public void actionPerformed(ActionEvent event) {\n            update();\n            view.repaint();\n        }\n\n        public void update() {\n            Dimension d = model.getPlayingField();\n            Point point = model.getPlayerePosition();\n            point.x += increment;\n            if (point.x &gt; (d.width - 64)) {\n                increment = -5;\n                point.x += increment;\n            }\n            if (point.x &lt; 32) {\n                increment = 5;\n                point.x += increment;\n            }\n\n            model.setPlayerePosition(point);\n        }\n\n    }\n\n    public class GameModel {\n\n        private final Dimension playingField;\n\n        private Point playerePosition;\n\n        public GameModel() {\n            this.playingField = new Dimension(800, 600);\n            this.playerePosition = new Point(32, 32);\n        }\n\n        public Point getPlayerePosition() {\n            return playerePosition;\n        }\n\n        public void setPlayerePosition(Point playerePosition) {\n            this.playerePosition = playerePosition;\n        }\n\n        public Dimension getPlayingField() {\n            return playingField;\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":24298877,"reputation":147,"user_id":18242684,"display_name":"toadless"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1661102365,"creation_date":1661071614,"question_id":73432853,"body_markdown":"To be honest, I&#39;m not to sure how to describe my problem, you can see it [here](https://i.imgur.com/M2ZWKqf.mp4). In that video of my code running, it is most prominent in the first few seconds.\r\n\r\nOccasionally and randomly I am getting a weird flickery/stuttery/laggy glitch in my moving pipe across the screen, I&#39;ve been trying to sort it out for 3 days now and I truly have no idea why it is occurring.. I have tested my code on other computers and the same happens! As this has been happening I have remained at 60fps.\r\n\r\nDoes anyone know why this would be occurring...?\r\n\r\nMy code: *(I know this code is bad, its a rushed example)*\r\nIt will probably take a few tries to experience the same bug that I am facing......\r\n```java\r\nimport java.awt.Canvas;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.image.BufferStrategy;\r\nimport java.awt.image.BufferedImage;\r\nimport java.awt.image.DataBufferInt;\r\nimport java.io.IOException;\r\n\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.JFrame;\r\n\r\npublic class Test extends Canvas implements Runnable {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\tprivate static int width = 300 - 80;\r\n\tprivate static int height = 168;\r\n\tprivate static int scale = 3;\r\n\tpublic static String title = &quot;Test&quot;;\r\n\r\n\tprivate Thread thread;\r\n\tprivate JFrame frame;\r\n\tprivate boolean running = false;\r\n\r\n\tprivate BufferedImage image;\r\n\r\n\tpublic Test() {\r\n\t\tsetPreferredSize(new Dimension(width * scale, height * scale));\r\n\t\tframe = new JFrame();\r\n\t\timage = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\r\n\t}\r\n\r\n\tpublic static int getWindowWidth() {\r\n\t\treturn width * scale;\r\n\t}\r\n\r\n\tpublic static int getWindowHeight() {\r\n\t\treturn height * scale;\r\n\t}\r\n\r\n\tpublic synchronized void start() {\r\n\t\trunning = true;\r\n\t\tthread = new Thread(this);\r\n\t\tthread.start();\r\n\t}\r\n\r\n\tpublic synchronized void stop() {\r\n\t\trunning = false;\r\n\t\ttry {\r\n\t\t\tthread.join();\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void run() {\r\n\t\tlong lastTime = System.nanoTime();\r\n\t\tlong timer = System.currentTimeMillis();\r\n\t\tfinal double ns = 1000000000.0 / 60.0;\r\n\t\tdouble delta = 0;\r\n\t\tint frames = 0;\r\n\t\tint updates = 0;\r\n\t\trequestFocus();\r\n\t\twhile (running) {\r\n\t\t\tlong now = System.nanoTime();\r\n\t\t\tdelta += (now - lastTime) / ns;\r\n\t\t\tlastTime = now;\r\n\t\t\twhile (delta &gt;= 1) {\r\n\t\t\t\tupdate();\r\n\t\t\t\tupdates++;\r\n\t\t\t\tdelta--;\r\n\t\t\t\trender();\r\n\t\t\t\tframes++;\r\n\t\t\t}\r\n\r\n\t\t\tif (System.currentTimeMillis() - timer &gt; 1000) {\r\n\t\t\t\ttimer += 1000;\r\n\t\t\t\tSystem.out.println(updates + &quot; tps, &quot; + frames + &quot; fps&quot;);\r\n\t\t\t\tupdates = 0;\r\n\t\t\t\tframes = 0;\r\n\t\t\t}\r\n\t\t}\r\n\t\tstop();\r\n\t}\r\n\t\r\n\tint x = width;\r\n\t\r\n\tstatic BufferedImage img;\r\n\t\r\n\tstatic {\r\n\t\ttry {\r\n\t\t\timg = ImageIO.read(Test.class.getResource(&quot;/pipe.png&quot;));\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void update() {\r\n\t\tif (x + 30 &lt;= -1) x = width;\r\n\t\telse x-=2;\r\n\t}\r\n\t\r\n\tpublic void draw(Graphics2D g2)\r\n\t{\r\n\t\tg2.setColor(Color.red);\r\n\t\tg2.drawImage(img, x, 10, 30, 90, null);\r\n\t}\r\n\r\n\tpublic void render() {\r\n\t\tBufferStrategy bs = getBufferStrategy();\r\n\t\tif (bs == null) {\r\n\t\t\tcreateBufferStrategy(3);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tdrawToImage();\r\n\t\t\r\n\t\tGraphics g = bs.getDrawGraphics();\r\n\t\tg.setColor(new Color(0xff00ff));\r\n\t\tg.fillRect(0,  0, getWidth(), getHeight());\r\n\t\tg.drawImage(image, 0, 0, width * scale, height * scale, null);\r\n\r\n\t\tg.dispose();\r\n\t\tbs.show();\r\n\t}\r\n\t\r\n\tpublic void drawToImage()\r\n\t{\r\n\t\tGraphics2D g2 = (Graphics2D) image.getGraphics();\r\n\t\tg2.clearRect(0, 0, width, height);\r\n\t\tdraw(g2);\r\n\t\tg2.dispose();\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tTest game = new Test();\r\n\t\tgame.frame.setResizable(false);\r\n\t\tgame.frame.setTitle(Test.title);\r\n\t\tgame.frame.add(game);\r\n\t\tgame.frame.pack();\r\n\t\tgame.frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tgame.frame.setLocationRelativeTo(null);\r\n\t\tgame.frame.setVisible(true);\r\n\r\n\t\tgame.start();\r\n\t}\r\n\r\n}\r\n```\r\n\r\nEDIT: Paint component code that produces same result:\r\n```java\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class GamePanel extends JPanel implements Runnable\r\n{\r\n    private int WIDTH = 200 * 4;\r\n    private int HEIGHT = 150 * 4;\r\n\r\n    int playerX = 30;\r\n    int playerY = 30;\r\n\r\n    Thread gameThread;\r\n\r\n    public GamePanel()\r\n    {\r\n        setPreferredSize(new Dimension(WIDTH, HEIGHT));\r\n        setBackground(Color.BLACK);\r\n        setDoubleBuffered(true);\r\n    }\r\n\r\n    public void startGameThread()\r\n    {\r\n        this.gameThread = new Thread(this);\r\n        this.gameThread.start();\r\n    }\r\n\r\n    public void update()\r\n    {\r\n        this.playerX+= 5;\r\n    }\r\n\r\n    public void paintComponent(Graphics g)\r\n    {\r\n        super.paintComponent(g);\r\n\r\n        Graphics2D g2 = (Graphics2D) g;\r\n\r\n        g2.setColor(Color.WHITE);\r\n        g2.fillRect(playerX, playerY, 32, 32);\r\n\r\n        g2.dispose();\r\n    }\r\n\r\n    @Override\r\n    public void run()\r\n    {\r\n        double drawInterval = 1000000000/60;\r\n        double delta = 0;\r\n        long lastTime = System.nanoTime();\r\n        long currentTime;\r\n        long timer = 0;\r\n        int drawCount = 0;\r\n\r\n        while (gameThread != null)\r\n        {\r\n            currentTime = System.nanoTime();\r\n\r\n            delta += (currentTime - lastTime) / drawInterval;\r\n            timer += (currentTime - lastTime);\r\n            lastTime = currentTime;\r\n\r\n            if (delta &gt;= 1)\r\n            {\r\n                update();\r\n                repaint();\r\n                drawCount++;\r\n                delta--;\r\n            }\r\n\r\n            if (timer &gt;= 1000000000)\r\n            {\r\n                System.out.println(&quot;FPS: &quot; + drawCount);\r\n                drawCount = 0;\r\n                timer = 0;\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        System.setProperty(&quot;sun.java2d.opengl&quot;, &quot;true&quot;);\r\n\r\n        JFrame window = new JFrame();\r\n        window.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n        window.setResizable(false);\r\n        window.setTitle(&quot;Test&quot;);\r\n\r\n        GamePanel gamePanel = new GamePanel();\r\n        window.add(gamePanel);\r\n\r\n        window.pack();\r\n        window.setVisible(true);\r\n\r\n        gamePanel.startGameThread();\r\n    }\r\n}\r\n```","title":"Java Stuttery/Flickery/Laggy Animation In Game","body":"<p>To be honest, I'm not to sure how to describe my problem, you can see it <a href=\"https://i.imgur.com/M2ZWKqf.mp4\" rel=\"nofollow noreferrer\">here</a>. In that video of my code running, it is most prominent in the first few seconds.</p>\n<p>Occasionally and randomly I am getting a weird flickery/stuttery/laggy glitch in my moving pipe across the screen, I've been trying to sort it out for 3 days now and I truly have no idea why it is occurring.. I have tested my code on other computers and the same happens! As this has been happening I have remained at 60fps.</p>\n<p>Does anyone know why this would be occurring...?</p>\n<p>My code: <em>(I know this code is bad, its a rushed example)</em>\nIt will probably take a few tries to experience the same bug that I am facing......</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.Canvas;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.image.BufferStrategy;\nimport java.awt.image.BufferedImage;\nimport java.awt.image.DataBufferInt;\nimport java.io.IOException;\n\nimport javax.imageio.ImageIO;\nimport javax.swing.JFrame;\n\npublic class Test extends Canvas implements Runnable {\n    private static final long serialVersionUID = 1L;\n\n    private static int width = 300 - 80;\n    private static int height = 168;\n    private static int scale = 3;\n    public static String title = &quot;Test&quot;;\n\n    private Thread thread;\n    private JFrame frame;\n    private boolean running = false;\n\n    private BufferedImage image;\n\n    public Test() {\n        setPreferredSize(new Dimension(width * scale, height * scale));\n        frame = new JFrame();\n        image = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\n    }\n\n    public static int getWindowWidth() {\n        return width * scale;\n    }\n\n    public static int getWindowHeight() {\n        return height * scale;\n    }\n\n    public synchronized void start() {\n        running = true;\n        thread = new Thread(this);\n        thread.start();\n    }\n\n    public synchronized void stop() {\n        running = false;\n        try {\n            thread.join();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public void run() {\n        long lastTime = System.nanoTime();\n        long timer = System.currentTimeMillis();\n        final double ns = 1000000000.0 / 60.0;\n        double delta = 0;\n        int frames = 0;\n        int updates = 0;\n        requestFocus();\n        while (running) {\n            long now = System.nanoTime();\n            delta += (now - lastTime) / ns;\n            lastTime = now;\n            while (delta &gt;= 1) {\n                update();\n                updates++;\n                delta--;\n                render();\n                frames++;\n            }\n\n            if (System.currentTimeMillis() - timer &gt; 1000) {\n                timer += 1000;\n                System.out.println(updates + &quot; tps, &quot; + frames + &quot; fps&quot;);\n                updates = 0;\n                frames = 0;\n            }\n        }\n        stop();\n    }\n    \n    int x = width;\n    \n    static BufferedImage img;\n    \n    static {\n        try {\n            img = ImageIO.read(Test.class.getResource(&quot;/pipe.png&quot;));\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public void update() {\n        if (x + 30 &lt;= -1) x = width;\n        else x-=2;\n    }\n    \n    public void draw(Graphics2D g2)\n    {\n        g2.setColor(Color.red);\n        g2.drawImage(img, x, 10, 30, 90, null);\n    }\n\n    public void render() {\n        BufferStrategy bs = getBufferStrategy();\n        if (bs == null) {\n            createBufferStrategy(3);\n            return;\n        }\n        \n        drawToImage();\n        \n        Graphics g = bs.getDrawGraphics();\n        g.setColor(new Color(0xff00ff));\n        g.fillRect(0,  0, getWidth(), getHeight());\n        g.drawImage(image, 0, 0, width * scale, height * scale, null);\n\n        g.dispose();\n        bs.show();\n    }\n    \n    public void drawToImage()\n    {\n        Graphics2D g2 = (Graphics2D) image.getGraphics();\n        g2.clearRect(0, 0, width, height);\n        draw(g2);\n        g2.dispose();\n    }\n    \n    public static void main(String[] args) {\n        Test game = new Test();\n        game.frame.setResizable(false);\n        game.frame.setTitle(Test.title);\n        game.frame.add(game);\n        game.frame.pack();\n        game.frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        game.frame.setLocationRelativeTo(null);\n        game.frame.setVisible(true);\n\n        game.start();\n    }\n\n}\n</code></pre>\n<p>EDIT: Paint component code that produces same result:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class GamePanel extends JPanel implements Runnable\n{\n    private int WIDTH = 200 * 4;\n    private int HEIGHT = 150 * 4;\n\n    int playerX = 30;\n    int playerY = 30;\n\n    Thread gameThread;\n\n    public GamePanel()\n    {\n        setPreferredSize(new Dimension(WIDTH, HEIGHT));\n        setBackground(Color.BLACK);\n        setDoubleBuffered(true);\n    }\n\n    public void startGameThread()\n    {\n        this.gameThread = new Thread(this);\n        this.gameThread.start();\n    }\n\n    public void update()\n    {\n        this.playerX+= 5;\n    }\n\n    public void paintComponent(Graphics g)\n    {\n        super.paintComponent(g);\n\n        Graphics2D g2 = (Graphics2D) g;\n\n        g2.setColor(Color.WHITE);\n        g2.fillRect(playerX, playerY, 32, 32);\n\n        g2.dispose();\n    }\n\n    @Override\n    public void run()\n    {\n        double drawInterval = 1000000000/60;\n        double delta = 0;\n        long lastTime = System.nanoTime();\n        long currentTime;\n        long timer = 0;\n        int drawCount = 0;\n\n        while (gameThread != null)\n        {\n            currentTime = System.nanoTime();\n\n            delta += (currentTime - lastTime) / drawInterval;\n            timer += (currentTime - lastTime);\n            lastTime = currentTime;\n\n            if (delta &gt;= 1)\n            {\n                update();\n                repaint();\n                drawCount++;\n                delta--;\n            }\n\n            if (timer &gt;= 1000000000)\n            {\n                System.out.println(&quot;FPS: &quot; + drawCount);\n                drawCount = 0;\n                timer = 0;\n            }\n        }\n    }\n\n    public static void main(String[] args)\n    {\n        System.setProperty(&quot;sun.java2d.opengl&quot;, &quot;true&quot;);\n\n        JFrame window = new JFrame();\n        window.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        window.setResizable(false);\n        window.setTitle(&quot;Test&quot;);\n\n        GamePanel gamePanel = new GamePanel();\n        window.add(gamePanel);\n\n        window.pack();\n        window.setVisible(true);\n\n        gamePanel.startGameThread();\n    }\n}\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":7866383,"reputation":574,"user_id":5945089,"display_name":"Gregory Prescott"},"score":1,"creation_date":1459064697,"post_id":36245037,"comment_id":60119952,"body_markdown":"Check this: http://stackoverflow.com/questions/18838906/java-regex-first-match-only","body":"Check this: <a href=\"http://stackoverflow.com/questions/18838906/java-regex-first-match-only\" title=\"java regex first match only\">stackoverflow.com/questions/18838906/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1459065619,"creation_date":1459065619,"answer_id":36245145,"question_id":36245037,"body_markdown":"To get the first match, you just need to use `Matcher#find()` inside an `if` block:\r\n\r\n    String rx = &quot;\\\\d+(?:,\\\\d+)?\\\\s*m\\\\u00B2&quot;;\r\n\tPattern p = Pattern.compile(rx);\r\n\tMatcher matcher = p.matcher(&quot;E.g. : 4668,68 m&#178; some text, some text 48 m&#178;  etc&quot;);\r\n\tif (matcher.find()){\r\n\t\tSystem.out.println(matcher.group());\r\n\t}\r\n\r\nSee [IDEONE demo][1] \r\n\r\nNote that you can get rid of the alternation group using an optional non-capturing group `(?:..)?`\r\n\r\nPattern breakdown:\r\n\r\n - `\\d+` - 1+ digits\r\n - `(?:,\\d+)?` - 0+ sequences of a comma followed with 1+ digits\r\n - `\\s*` - 0+ whitespace symbols\r\n - `m\\u00B2`  - m2.\r\n\r\n  [1]: http://ideone.com/1EYR9U","title":"Find the first occurrence with Regex","body":"<p>To get the first match, you just need to use <code>Matcher#find()</code> inside an <code>if</code> block:</p>\n\n<pre><code>String rx = \"\\\\d+(?:,\\\\d+)?\\\\s*m\\\\u00B2\";\nPattern p = Pattern.compile(rx);\nMatcher matcher = p.matcher(\"E.g. : 4668,68 m² some text, some text 48 m²  etc\");\nif (matcher.find()){\n    System.out.println(matcher.group());\n}\n</code></pre>\n\n<p>See <a href=\"http://ideone.com/1EYR9U\" rel=\"noreferrer\">IDEONE demo</a> </p>\n\n<p>Note that you can get rid of the alternation group using an optional non-capturing group <code>(?:..)?</code></p>\n\n<p>Pattern breakdown:</p>\n\n<ul>\n<li><code>\\d+</code> - 1+ digits</li>\n<li><code>(?:,\\d+)?</code> - 0+ sequences of a comma followed with 1+ digits</li>\n<li><code>\\s*</code> - 0+ whitespace symbols</li>\n<li><code>m\\u00B2</code>  - m2.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3275064,"reputation":145,"user_id":2757390,"accept_rate":83,"display_name":"Novice"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1459069154,"creation_date":1459069154,"answer_id":36245605,"question_id":36245037,"body_markdown":" This is what I came up with you help :) (work in progress, later it should return BigDecimal value), for now it seems to work:\r\n    \r\n     public static String findArea(String description) {\r\n    \r\n            String tempString = &quot;&quot;;\r\n            Pattern p = Pattern.compile(&quot;\\\\d+(?:,\\\\d+)?\\\\s*m\\\\u00B2&quot;);\r\n    \r\n            Matcher m = p.matcher(description);\r\n    \r\n            if(m.find()) {\r\n                tempString = m.group();\r\n            }\r\n    //remove the m and /u00B2 to parse it to BigDecimal later\r\n            tempString = tempString.replaceAll(&quot;[^0-9|,]&quot;,&quot;&quot;);\r\n            System.out.println(tempString);\r\n            return tempString;\r\n        }","title":"Find the first occurrence with Regex","body":"<p>This is what I came up with you help :) (work in progress, later it should return BigDecimal value), for now it seems to work:</p>\n\n<pre><code> public static String findArea(String description) {\n\n        String tempString = \"\";\n        Pattern p = Pattern.compile(\"\\\\d+(?:,\\\\d+)?\\\\s*m\\\\u00B2\");\n\n        Matcher m = p.matcher(description);\n\n        if(m.find()) {\n            tempString = m.group();\n        }\n//remove the m and /u00B2 to parse it to BigDecimal later\n        tempString = tempString.replaceAll(\"[^0-9|,]\",\"\");\n        System.out.println(tempString);\n        return tempString;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9736225,"reputation":11,"user_id":7219377,"display_name":"anarchy07"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589955522,"creation_date":1589955522,"answer_id":61906365,"question_id":36245037,"body_markdown":"One simple way of doing it!\r\n\r\n    description.replaceFirst(@NotNull String regex,\r\n                               @NotNull String replacement)\r\n\r\nJAVADoc: Replaces the first substring of this string that matches the given regular expression with the given replacement.","title":"Find the first occurrence with Regex","body":"<p>One simple way of doing it!</p>\n\n<pre><code>description.replaceFirst(@NotNull String regex,\n                           @NotNull String replacement)\n</code></pre>\n\n<p>JAVADoc: Replaces the first substring of this string that matches the given regular expression with the given replacement.</p>\n"},{"tags":[],"owner":{"account_id":19186838,"reputation":11,"user_id":14017449,"display_name":"Kalju P&#228;rn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661101932,"creation_date":1661093482,"answer_id":73435521,"question_id":36245037,"body_markdown":"To find only last one:\r\n\r\n    \t@Test\r\n\tpublic void testFindFirstRegExp() {\r\n\t\tString pattern = &quot;.* (\\\\d+,\\\\d+) .*&quot;;\r\n\t\tPattern r = Pattern.compile(pattern);\r\n\t\tString line = &quot;some text 44,66 m&#178; some 33,11 m&#178;  text 11,22 m&#178; some text&quot;;\r\n\t\tMatcher m = r.matcher(new StringBuilder(line).reverse().toString());\r\n\t\tString expected = &quot;44,66&quot;;\r\n\t\tString actual = null;\r\n\t\tif (m.find()) {\r\n\t\t\tactual = new StringBuilder(m.group(1)).reverse().toString();\r\n\t\t}\r\n\t\tSystem.out.println(&quot;got first:&quot; + actual);\r\n\t\tAssert.assertEquals(expected, actual);\r\n\r\n\t\tm = r.matcher(line);\r\n\t\texpected = &quot;11,22&quot;;\r\n\t\tactual = null;\r\n\t\tif (m.find()) {\r\n\t\t\tactual = m.group(1);\r\n\t\t}\r\n\t\tSystem.out.println(&quot;got last:&quot; + actual);\r\n\t\tAssert.assertEquals(expected, actual);\r\n\t}\r\n\r\nprints:\r\n\r\n    got first:44,66\r\n    got last:11,22\r\n\r\nNote: think that you need to reverse pattern when needed for ex:\r\n\r\n    pattern = &quot;.* (\\\\d+,\\\\d+-?) .*&quot;; //reverse for (-?\\\\d+,\\\\d+)\r\n\r\n\r\nbut this will work as waited:\r\n\r\n    pattern = &quot; (\\\\-?\\\\d+,\\\\d+) &quot;;\r\n\r\nyou get all of them in loop:\r\n\r\n\twhile (m.find()) {\r\n\t\tactual = m.group(1);\r\n\t\tSystem.out.println(&quot;got last:&quot; + actual);\r\n\t}\r\n\r\nWill print:\r\n\r\n    got last:44,66\r\n    got last:33,11\r\n    got last:11,22\r\n\r\n","title":"Find the first occurrence with Regex","body":"<p>To find only last one:</p>\n<pre><code>    @Test\npublic void testFindFirstRegExp() {\n    String pattern = &quot;.* (\\\\d+,\\\\d+) .*&quot;;\n    Pattern r = Pattern.compile(pattern);\n    String line = &quot;some text 44,66 m² some 33,11 m²  text 11,22 m² some text&quot;;\n    Matcher m = r.matcher(new StringBuilder(line).reverse().toString());\n    String expected = &quot;44,66&quot;;\n    String actual = null;\n    if (m.find()) {\n        actual = new StringBuilder(m.group(1)).reverse().toString();\n    }\n    System.out.println(&quot;got first:&quot; + actual);\n    Assert.assertEquals(expected, actual);\n\n    m = r.matcher(line);\n    expected = &quot;11,22&quot;;\n    actual = null;\n    if (m.find()) {\n        actual = m.group(1);\n    }\n    System.out.println(&quot;got last:&quot; + actual);\n    Assert.assertEquals(expected, actual);\n}\n</code></pre>\n<p>prints:</p>\n<pre><code>got first:44,66\ngot last:11,22\n</code></pre>\n<p>Note: think that you need to reverse pattern when needed for ex:</p>\n<pre><code>pattern = &quot;.* (\\\\d+,\\\\d+-?) .*&quot;; //reverse for (-?\\\\d+,\\\\d+)\n</code></pre>\n<p>but this will work as waited:</p>\n<pre><code>pattern = &quot; (\\\\-?\\\\d+,\\\\d+) &quot;;\n</code></pre>\n<p>you get all of them in loop:</p>\n<pre><code>while (m.find()) {\n    actual = m.group(1);\n    System.out.println(&quot;got last:&quot; + actual);\n}\n</code></pre>\n<p>Will print:</p>\n<pre><code>got last:44,66\ngot last:33,11\ngot last:11,22\n</code></pre>\n"}],"owner":{"account_id":3275064,"reputation":145,"user_id":2757390,"accept_rate":83,"display_name":"Novice"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16269,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":36245145,"answer_count":4,"score":8,"last_activity_date":1661101932,"creation_date":1459064635,"question_id":36245037,"body_markdown":"I would like to be able to find the first occurrence of m&#178; and then numbers in front of it, could be integers or decimal numbers.\r\n*E.g.* \r\n&gt;&quot;some text&quot; 38 m&#178; &quot;some text&quot; , \r\n&gt;\r\n&gt;&quot;some text&quot; 48,8 m&#178; &quot;some text&quot;,\r\n&gt;\r\n&gt;&quot;some text&quot; 48 m&#178; &quot;some text&quot;, etc..\r\n\r\nWhat I have so far is:  \r\n\r\n    \\d\\d,\\d\\s*(\\m\\u00B2)|\\d\\d\\s*(\\m\\u00B2)\r\n\r\nThis right now finds all occurrences, although I guess it could be fixed with `findFirst()`. Any ideas how to improve the Regex part?\r\n","title":"Find the first occurrence with Regex","body":"<p>I would like to be able to find the first occurrence of m² and then numbers in front of it, could be integers or decimal numbers.\n<em>E.g.</em></p>\n<blockquote>\n<p>&quot;some text&quot; 38 m² &quot;some text&quot; ,</p>\n<p>&quot;some text&quot; 48,8 m² &quot;some text&quot;,</p>\n<p>&quot;some text&quot; 48 m² &quot;some text&quot;, etc..</p>\n</blockquote>\n<p>What I have so far is:</p>\n<pre><code>\\d\\d,\\d\\s*(\\m\\u00B2)|\\d\\d\\s*(\\m\\u00B2)\n</code></pre>\n<p>This right now finds all occurrences, although I guess it could be fixed with <code>findFirst()</code>. Any ideas how to improve the Regex part?</p>\n"},{"tags":["java","intellij-idea","java.util.scanner","windows-subsystem-for-linux","wsl-2"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1661055493,"post_id":73431495,"comment_id":129678106,"body_markdown":"Can you show us the input you use?  Are you saying this simply prints an error immediately?","body":"Can you show us the input you use?  Are you saying this simply prints an error immediately?"},{"owner":{"account_id":8543287,"reputation":11,"user_id":6402593,"display_name":"Reno"},"score":0,"creation_date":1661101225,"post_id":73431495,"comment_id":129686247,"body_markdown":"It doesn&#39;t give me a chance to input but immediatly give me error.","body":"It doesn&#39;t give me a chance to input but immediatly give me error."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1661106077,"post_id":73431495,"comment_id":129687449,"body_markdown":"I&#39;m going to *guess* that standard input (`System.in`) is being closed immediately, that there&#39;s nothing to read.  Check this in the code.  If `System.in` has an `isOpen()` method, call it and print the result.  Try to read one byte from the **raw** stream (without a Scanner) and make sure you can, verify that you do not get an EOF back.  If you can read, try to read several bytes from the raw stream and print out their values.  This might give you a clue as to what `Scanner` is complaining about.","body":"I&#39;m going to <i>guess</i> that standard input (<code>System.in</code>) is being closed immediately, that there&#39;s nothing to read.  Check this in the code.  If <code>System.in</code> has an <code>isOpen()</code> method, call it and print the result.  Try to read one byte from the <b>raw</b> stream (without a Scanner) and make sure you can, verify that you do not get an EOF back.  If you can read, try to read several bytes from the raw stream and print out their values.  This might give you a clue as to what <code>Scanner</code> is complaining about."}],"owner":{"account_id":8543287,"reputation":11,"user_id":6402593,"display_name":"Reno"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661101169,"creation_date":1661053618,"question_id":73431495,"body_markdown":"I was testing this simple code in IDEA running in WSL2.\r\n```java\r\npublic class ScannerTest {\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        String test = scanner.nextLine();\r\n        System.out.println(test);\r\n    }\r\n}\r\n```\r\nbut got error **Exception in thread &quot;main&quot; java.util.NoSuchElementException: No line found**\r\nand \r\n```\r\nExecution failed for task &#39;:ScannerTest.main()&#39;.\r\n&gt; Process &#39;command &#39;/usr/lib/jvm/java-11-openjdk-amd64/bin/java&#39;&#39; finished with non-zero exit value 1\r\n```\r\n**I found the issue is idea just execute `String test = scanner.nextLine();` without letting me input.** When I ran it, it won&#39;t wait on my input and gave me error immediately.\r\nAny thoughts are appreciated!\r\n\r\n----------\r\nAfter further test, I found\r\n1. I build a fat jar and it worked fine in wsl.\r\n2. And it also works fine in IDEA under windows.\r\nSo I think the problem is purely the combination of idea and wsl.","title":"scanner doesn&#39;t work in IDEA when running in wsl","body":"<p>I was testing this simple code in IDEA running in WSL2.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ScannerTest {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        String test = scanner.nextLine();\n        System.out.println(test);\n    }\n}\n</code></pre>\n<p>but got error <strong>Exception in thread &quot;main&quot; java.util.NoSuchElementException: No line found</strong>\nand</p>\n<pre><code>Execution failed for task ':ScannerTest.main()'.\n&gt; Process 'command '/usr/lib/jvm/java-11-openjdk-amd64/bin/java'' finished with non-zero exit value 1\n</code></pre>\n<p><strong>I found the issue is idea just execute <code>String test = scanner.nextLine();</code> without letting me input.</strong> When I ran it, it won't wait on my input and gave me error immediately.\nAny thoughts are appreciated!</p>\n<hr />\n<p>After further test, I found</p>\n<ol>\n<li>I build a fat jar and it worked fine in wsl.</li>\n<li>And it also works fine in IDEA under windows.\nSo I think the problem is purely the combination of idea and wsl.</li>\n</ol>\n"},{"tags":["java","jpa","eclipselink"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1661174853,"post_id":73434839,"comment_id":129702269,"body_markdown":"Issue seems to be that you have a plug-in to generate the meta model classes, and that you have all entities in both persistence units so User_ and others are generated twice. Configure the plugin to run on one persistence unit, or specify the classes that belong in the two (by specifying exclude unlisted classes then explicitly adding a class entry in the persistence.xml def for each) in a way that prevents overlap.","body":"Issue seems to be that you have a plug-in to generate the meta model classes, and that you have all entities in both persistence units so User_ and others are generated twice. Configure the plugin to run on one persistence unit, or specify the classes that belong in the two (by specifying exclude unlisted classes then explicitly adding a class entry in the persistence.xml def for each) in a way that prevents overlap."},{"owner":{"account_id":9948651,"reputation":1,"user_id":7362264,"display_name":"Stefano Pesaresi"},"score":0,"creation_date":1661184056,"post_id":73434839,"comment_id":129706073,"body_markdown":"Many thanks, Chris\nI i have removed this dependency from pom.xml\nand everything works fine\nThank you!\n\n\n&lt;!--dependency&gt;\n      &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n      &lt;artifactId&gt;org.eclipse.persistence.jpa.modelgen.processor&lt;/artifactId&gt;\n      &lt;version&gt;2.7.10&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency--&gt;","body":"Many thanks, Chris I i have removed this dependency from pom.xml and everything works fine Thank you!   &lt;!--dependency&gt;       &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;       &lt;artifactId&gt;org.eclipse.persistence.jpa.modelgen.processor&lt;/&zwnj;&#8203;artifactId&gt;       &lt;version&gt;2.7.10&lt;/version&gt;       &lt;scope&gt;provided&lt;/scope&gt; &lt;/dependency--&gt;"}],"owner":{"account_id":9948651,"reputation":1,"user_id":7362264,"display_name":"Stefano Pesaresi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661101022,"creation_date":1661088275,"question_id":73434839,"body_markdown":"Netbeans 14 with java 8 or 17.\r\n\r\nWith a single persistent-unit using the Users.java and UsersJpaController.java classes to access a single table Users, everything works fine.\r\n\r\nWhen I configure a second persistence-unit to access another database,\r\nI get this error (without adding code or creating tables; only add persistence-unit)\r\n\r\n```none\r\nFailed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile\r\n(default-compile) on project management: \r\nFatal error compiling: java.lang.RuntimeException:\r\njavax.annotation.processing.FilerException:\r\n**Attempt to recreate a file for type it.lsc.management.db.Users_**\r\n-&gt; [Help 1]\r\n```\r\n\r\nI need to connect to some databases at the same time. Do you have any suggestions to solve the problem?\r\n\r\nThe file persistence.xml is:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;persistence version=&quot;2.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\r\n  &lt;persistence-unit name=&quot;db_management&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n    &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\r\n    &lt;properties&gt;\r\n      &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:sqlserver://192.168.0.25\\SQLEXPRESS:1433;databaseName=CRM_LSC;encrypt=false&quot;/&gt;\r\n      &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;uuu&quot;/&gt;\r\n      &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;/&gt;\r\n      &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;uuu!&quot;/&gt;\r\n    &lt;/properties&gt;\r\n  &lt;/persistence-unit&gt;\r\n  &lt;persistence-unit name=&quot;db_agen&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n    &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\r\n    &lt;properties&gt;\r\n      &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:sqlserver://192.168.0.195\\SQLEXPRESS:1433;databaseName=db_agen&quot;/&gt;\r\n      &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;uu&quot;/&gt;\r\n      &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;/&gt;\r\n      &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;uuu!&quot;/&gt;\r\n    &lt;/properties&gt;\r\n  &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n```\r\n\r\n","title":"Java error compiler with multiple persistence-units","body":"<p>Netbeans 14 with java 8 or 17.</p>\n<p>With a single persistent-unit using the Users.java and UsersJpaController.java classes to access a single table Users, everything works fine.</p>\n<p>When I configure a second persistence-unit to access another database,\nI get this error (without adding code or creating tables; only add persistence-unit)</p>\n<pre class=\"lang-none prettyprint-override\"><code>Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile\n(default-compile) on project management: \nFatal error compiling: java.lang.RuntimeException:\njavax.annotation.processing.FilerException:\n**Attempt to recreate a file for type it.lsc.management.db.Users_**\n-&gt; [Help 1]\n</code></pre>\n<p>I need to connect to some databases at the same time. Do you have any suggestions to solve the problem?</p>\n<p>The file persistence.xml is:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence version=&quot;2.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\n  &lt;persistence-unit name=&quot;db_management&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n    &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\n    &lt;properties&gt;\n      &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:sqlserver://192.168.0.25\\SQLEXPRESS:1433;databaseName=CRM_LSC;encrypt=false&quot;/&gt;\n      &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;uuu&quot;/&gt;\n      &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;/&gt;\n      &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;uuu!&quot;/&gt;\n    &lt;/properties&gt;\n  &lt;/persistence-unit&gt;\n  &lt;persistence-unit name=&quot;db_agen&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n    &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\n    &lt;properties&gt;\n      &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:sqlserver://192.168.0.195\\SQLEXPRESS:1433;databaseName=db_agen&quot;/&gt;\n      &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;uu&quot;/&gt;\n      &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;/&gt;\n      &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;uuu!&quot;/&gt;\n    &lt;/properties&gt;\n  &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n"},{"tags":["java","python","algorithm","graph-theory"],"comments":[{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":0,"creation_date":1567785126,"post_id":57825109,"comment_id":102080487,"body_markdown":"Is the question specifically about this graph representation, e.g. about some fancy matrix manipulation that gives the answer? If not, just collect all nodes in a set, than do DFS from some node in the set to get all nodes reachable from that one, remove those from the set, and repeat until all nodes have been reached from some other node.","body":"Is the question specifically about this graph representation, e.g. about some fancy matrix manipulation that gives the answer? If not, just collect all nodes in a set, than do DFS from some node in the set to get all nodes reachable from that one, remove those from the set, and repeat until all nodes have been reached from some other node."},{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":0,"creation_date":1567785264,"post_id":57825109,"comment_id":102080549,"body_markdown":"Related, probably duplicate: [Find connected components in a graph](https://stackoverflow.com/q/21078445/1639625)","body":"Related, probably duplicate: <a href=\"https://stackoverflow.com/q/21078445/1639625\">Find connected components in a graph</a>"},{"owner":{"account_id":1039648,"reputation":12287,"user_id":1046007,"display_name":"Walter Tross"},"score":1,"creation_date":1568192023,"post_id":57825109,"comment_id":102193288,"body_markdown":"I think your wording implies that **all** transitive relations are **already** represented as `1`s in your adjacency matrix. Am I correct? If so, you can use my algorithm (no need for DFS or similar).","body":"I think your wording implies that <b>all</b> transitive relations are <b>already</b> represented as <code>1</code>s in your adjacency matrix. Am I correct? If so, you can use my algorithm (no need for DFS or similar)."}],"answers":[{"tags":[],"owner":{"account_id":9846641,"reputation":485,"user_id":7293918,"display_name":"P.Gupta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1567786731,"creation_date":1567786731,"answer_id":57825538,"question_id":57825109,"body_markdown":"There are many approaches to do this. You can use DFS/BFS or disjoint sets to solve this  problem. Here are some useful links:\r\n\r\n[https://www.geeksforgeeks.org/connected-components-in-an-undirected-graph/][1]\r\n[https://www.geeksforgeeks.org/find-the-number-of-islands-set-2-using-disjoint-set/][2]\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/connected-components-in-an-undirected-graph/\r\n  [2]: https://www.geeksforgeeks.org/find-the-number-of-islands-set-2-using-disjoint-set/\r\n","title":"Find how many connected groups of nodes in a given adjacency matrix","body":"<p>There are many approaches to do this. You can use DFS/BFS or disjoint sets to solve this  problem. Here are some useful links:</p>\n\n<p><a href=\"https://www.geeksforgeeks.org/connected-components-in-an-undirected-graph/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/connected-components-in-an-undirected-graph/</a>\n<a href=\"https://www.geeksforgeeks.org/find-the-number-of-islands-set-2-using-disjoint-set/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/find-the-number-of-islands-set-2-using-disjoint-set/</a></p>\n"},{"tags":[],"owner":{"account_id":1039648,"reputation":12287,"user_id":1046007,"display_name":"Walter Tross"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1568027552,"creation_date":1567868668,"answer_id":57834879,"question_id":57825109,"body_markdown":"If the input matrix is guaranteed to describe **transitive** connectivity, it has a peculiar form that allows for an algorithm probing only a subset of the matrix elements. Here is an example implementation in Python:\r\n\r\n```lang-python\r\ndef count_connected_groups(adj):\r\n    n = len(adj)\r\n    nodes_to_check = set([i for i in range(n)]) # [] not needed in python 3\r\n    count = 0\r\n    while nodes_to_check:\r\n        count += 1\r\n        node = nodes_to_check.pop()\r\n        adjacent = adj[node]\r\n        other_group_members = set()\r\n        for i in nodes_to_check:\r\n            if adjacent[i]:\r\n                other_group_members.add(i)\r\n        nodes_to_check -= other_group_members\r\n    return count\r\n\r\n\r\n# your example:\r\nadj_0 = [[1, 1, 0], [1, 1, 0], [0, 0, 1]]\r\n# same with tuples and booleans:\r\nadj_1 = ((True, True, False), (True, True, False), (False, False, True))\r\n# another connectivity matrix:\r\nadj_2 = ((1, 1, 1, 0, 0),\r\n         (1, 1, 1, 0, 0),\r\n         (1, 1, 1, 0, 0),\r\n         (0, 0, 0, 1, 1),\r\n         (0, 0, 0, 1, 1))\r\n# and yet another:\r\nadj_3 = ((1, 0, 1, 0, 0),\r\n         (0, 1, 0, 1, 0),\r\n         (1, 0, 1, 0, 0),\r\n         (0, 1, 0, 1, 0),\r\n         (0, 0, 0, 0, 1))\r\nfor a in adj_0, adj_1, adj_2, adj_3:\r\n    print(a)\r\n    print(count_connected_groups(a))\r\n\r\n\r\n# [[1, 1, 0], [1, 1, 0], [0, 0, 1]]\r\n# 2\r\n# ((True, True, False), (True, True, False), (False, False, True))\r\n# 2\r\n# ((1, 1, 1, 0, 0), (1, 1, 1, 0, 0), (1, 1, 1, 0, 0), (0, 0, 0, 1, 1), (0, 0, 0, 1, 1))\r\n# 2\r\n# ((1, 0, 1, 0, 0), (0, 1, 0, 1, 0), (1, 0, 1, 0, 0), (0, 1, 0, 1, 0), (0, 0, 0, 0, 1))\r\n# 3\r\n```\r\n\r\nAn __optimized__ version of the same algorithm (less readable, but faster and more easily translatable into other languages) is the following:\r\n\r\n```lang-python\r\ndef count_connected_groups(adj):\r\n    n = len(adj)\r\n    nodes_to_check = [i for i in range(n)]  # [0, 1, ..., n-1]\r\n    count = 0\r\n    while n:\r\n        count += 1\r\n        n -= 1; node = nodes_to_check[n]\r\n        adjacent = adj[node]\r\n        i = 0\r\n        while i &lt; n:\r\n            other_node = nodes_to_check[i]\r\n            if adjacent[other_node]:\r\n                n -= 1; nodes_to_check[i] = nodes_to_check[n]\r\n            else:\r\n                i += 1\r\n    return count\r\n```\r\n","title":"Find how many connected groups of nodes in a given adjacency matrix","body":"<p>If the input matrix is guaranteed to describe <strong>transitive</strong> connectivity, it has a peculiar form that allows for an algorithm probing only a subset of the matrix elements. Here is an example implementation in Python:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>def count_connected_groups(adj):\n    n = len(adj)\n    nodes_to_check = set([i for i in range(n)]) # [] not needed in python 3\n    count = 0\n    while nodes_to_check:\n        count += 1\n        node = nodes_to_check.pop()\n        adjacent = adj[node]\n        other_group_members = set()\n        for i in nodes_to_check:\n            if adjacent[i]:\n                other_group_members.add(i)\n        nodes_to_check -= other_group_members\n    return count\n\n\n# your example:\nadj_0 = [[1, 1, 0], [1, 1, 0], [0, 0, 1]]\n# same with tuples and booleans:\nadj_1 = ((True, True, False), (True, True, False), (False, False, True))\n# another connectivity matrix:\nadj_2 = ((1, 1, 1, 0, 0),\n         (1, 1, 1, 0, 0),\n         (1, 1, 1, 0, 0),\n         (0, 0, 0, 1, 1),\n         (0, 0, 0, 1, 1))\n# and yet another:\nadj_3 = ((1, 0, 1, 0, 0),\n         (0, 1, 0, 1, 0),\n         (1, 0, 1, 0, 0),\n         (0, 1, 0, 1, 0),\n         (0, 0, 0, 0, 1))\nfor a in adj_0, adj_1, adj_2, adj_3:\n    print(a)\n    print(count_connected_groups(a))\n\n\n# [[1, 1, 0], [1, 1, 0], [0, 0, 1]]\n# 2\n# ((True, True, False), (True, True, False), (False, False, True))\n# 2\n# ((1, 1, 1, 0, 0), (1, 1, 1, 0, 0), (1, 1, 1, 0, 0), (0, 0, 0, 1, 1), (0, 0, 0, 1, 1))\n# 2\n# ((1, 0, 1, 0, 0), (0, 1, 0, 1, 0), (1, 0, 1, 0, 0), (0, 1, 0, 1, 0), (0, 0, 0, 0, 1))\n# 3\n</code></pre>\n\n<p>An <strong>optimized</strong> version of the same algorithm (less readable, but faster and more easily translatable into other languages) is the following:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>def count_connected_groups(adj):\n    n = len(adj)\n    nodes_to_check = [i for i in range(n)]  # [0, 1, ..., n-1]\n    count = 0\n    while n:\n        count += 1\n        n -= 1; node = nodes_to_check[n]\n        adjacent = adj[node]\n        i = 0\n        while i &lt; n:\n            other_node = nodes_to_check[i]\n            if adjacent[other_node]:\n                n -= 1; nodes_to_check[i] = nodes_to_check[n]\n            else:\n                i += 1\n    return count\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5027661,"reputation":51,"user_id":4038969,"display_name":"Onur Akan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661100980,"creation_date":1661100980,"answer_id":73436499,"question_id":57825109,"body_markdown":"Solution with Java syntax:\r\n\r\n```\r\nimport java.util.Arrays;\r\nimport java.util.HashSet;\r\nimport java.util.List;\r\nimport java.util.Set;\r\nimport java.util.Stack;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.IntStream;\r\n\r\npublic class ConnectedGroups {\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;String&gt; adj0 = Arrays.asList(&quot;110&quot;, &quot;110&quot;, &quot;001&quot;);\r\n        List&lt;String&gt; adj1 = Arrays.asList(&quot;10000&quot;,&quot;01000&quot;,&quot;00100&quot;,&quot;00010&quot;,&quot;00001&quot;);\r\n        List&lt;String&gt; adj2 = Arrays.asList(&quot;11100&quot;,&quot;11100&quot;,&quot;11100&quot;,&quot;00011&quot;,&quot;00011&quot;);\r\n        List&lt;String&gt; adj3 = Arrays.asList(&quot;10100&quot;,&quot;01010&quot;,&quot;10100&quot;,&quot;01010&quot;,&quot;00001&quot;);\r\n\r\n        for (List&lt;String&gt; related : Arrays.asList(adj0, adj1, adj2, adj3)) {\r\n            System.out.println(related);\r\n            System.out.println(count_connected_groups(related));\r\n        }\r\n    }\r\n\r\n    private static int count_connected_groups(List&lt;String&gt; adj) {\r\n        int count=0;\r\n        int n = adj.size();\r\n        Stack&lt;Integer&gt; nodesToCheck = new Stack&lt;&gt;();\r\n        nodesToCheck.addAll(IntStream.range(0,n).boxed().collect(Collectors.toList()));\r\n\r\n        while (!nodesToCheck.isEmpty()) {\r\n            count++;\r\n            Integer node = nodesToCheck.pop();\r\n            String adjacent = adj.get(node);\r\n            Set&lt;Integer&gt; otherGroupMembers = new HashSet&lt;&gt;();\r\n            for (Integer i : nodesToCheck) {\r\n                if (adjacent.charAt(i) == &#39;1&#39;) otherGroupMembers.add(i);\r\n            }\r\n            nodesToCheck.removeAll(otherGroupMembers);\r\n        }\r\n        return count;\r\n    }\r\n}\r\n```","title":"Find how many connected groups of nodes in a given adjacency matrix","body":"<p>Solution with Java syntax:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.Set;\nimport java.util.Stack;\nimport java.util.stream.Collectors;\nimport java.util.stream.IntStream;\n\npublic class ConnectedGroups {\n\n    public static void main(String[] args) {\n        List&lt;String&gt; adj0 = Arrays.asList(&quot;110&quot;, &quot;110&quot;, &quot;001&quot;);\n        List&lt;String&gt; adj1 = Arrays.asList(&quot;10000&quot;,&quot;01000&quot;,&quot;00100&quot;,&quot;00010&quot;,&quot;00001&quot;);\n        List&lt;String&gt; adj2 = Arrays.asList(&quot;11100&quot;,&quot;11100&quot;,&quot;11100&quot;,&quot;00011&quot;,&quot;00011&quot;);\n        List&lt;String&gt; adj3 = Arrays.asList(&quot;10100&quot;,&quot;01010&quot;,&quot;10100&quot;,&quot;01010&quot;,&quot;00001&quot;);\n\n        for (List&lt;String&gt; related : Arrays.asList(adj0, adj1, adj2, adj3)) {\n            System.out.println(related);\n            System.out.println(count_connected_groups(related));\n        }\n    }\n\n    private static int count_connected_groups(List&lt;String&gt; adj) {\n        int count=0;\n        int n = adj.size();\n        Stack&lt;Integer&gt; nodesToCheck = new Stack&lt;&gt;();\n        nodesToCheck.addAll(IntStream.range(0,n).boxed().collect(Collectors.toList()));\n\n        while (!nodesToCheck.isEmpty()) {\n            count++;\n            Integer node = nodesToCheck.pop();\n            String adjacent = adj.get(node);\n            Set&lt;Integer&gt; otherGroupMembers = new HashSet&lt;&gt;();\n            for (Integer i : nodesToCheck) {\n                if (adjacent.charAt(i) == '1') otherGroupMembers.add(i);\n            }\n            nodesToCheck.removeAll(otherGroupMembers);\n        }\n        return count;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9454472,"reputation":331,"user_id":7030203,"accept_rate":75,"display_name":"Boa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9481,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":57834879,"answer_count":3,"score":2,"last_activity_date":1661100980,"creation_date":1567784845,"question_id":57825109,"body_markdown":"I have a list of lists, each list is a node and contains the edges to other nodes. e.g\r\n`[[1, 1, 0], [1, 1, 0], [0, 0, 1]]` \r\n\r\nThe node has a `1` when it refers to its own position, as well as when it has an edge to another node, and a `0` when no edge exists.\r\n\r\nThis means that `node 0` (`[1, 1, 0]`) is connected to `node 1`, and `node 2` (`[0,0,1]`) is not connected to any other nodes. Therefore this list of lists can be thought of as an adjacency matrix:\r\n\r\n`1 1 0 &lt;- node 0\r\n 1 1 0 &lt;- node 1\r\n 0 0 1 &lt;- node 2`\r\n\r\nAdding on to this, whether a node is connected with another is transitive, meaning that if `node 1` is connected to `node 2` and `node 2` is connected to `node 3`, nodes `1` and `3` are also connected (by transitivity).\r\n\r\nTaking all this into account, I want to be able to know how many connected groups there are given a matrix. What algorithm should I use, recursive DFS? Can someone provide any hints or pseudocode as to how this problem can be approached?","title":"Find how many connected groups of nodes in a given adjacency matrix","body":"<p>I have a list of lists, each list is a node and contains the edges to other nodes. e.g\n<code>[[1, 1, 0], [1, 1, 0], [0, 0, 1]]</code> </p>\n\n<p>The node has a <code>1</code> when it refers to its own position, as well as when it has an edge to another node, and a <code>0</code> when no edge exists.</p>\n\n<p>This means that <code>node 0</code> (<code>[1, 1, 0]</code>) is connected to <code>node 1</code>, and <code>node 2</code> (<code>[0,0,1]</code>) is not connected to any other nodes. Therefore this list of lists can be thought of as an adjacency matrix:</p>\n\n<p><code>1 1 0 &lt;- node 0\n 1 1 0 &lt;- node 1\n 0 0 1 &lt;- node 2</code></p>\n\n<p>Adding on to this, whether a node is connected with another is transitive, meaning that if <code>node 1</code> is connected to <code>node 2</code> and <code>node 2</code> is connected to <code>node 3</code>, nodes <code>1</code> and <code>3</code> are also connected (by transitivity).</p>\n\n<p>Taking all this into account, I want to be able to know how many connected groups there are given a matrix. What algorithm should I use, recursive DFS? Can someone provide any hints or pseudocode as to how this problem can be approached?</p>\n"},{"tags":["java","spring","postgresql","gradle","flyway"],"comments":[{"owner":{"account_id":4610643,"reputation":1454,"user_id":3738870,"display_name":"user3738870"},"score":0,"creation_date":1661099526,"post_id":73436166,"comment_id":129685852,"body_markdown":"Are those 4 lines the only ones you&#39;re getting when executing  `gradle flywayMigrate -i`?","body":"Are those 4 lines the only ones you&#39;re getting when executing  <code>gradle flywayMigrate -i</code>?"},{"owner":{"account_id":10056471,"reputation":858,"user_id":7434507,"accept_rate":47,"display_name":"OreoFanatics"},"score":1,"creation_date":1661099753,"post_id":73436166,"comment_id":129685904,"body_markdown":"@user3738870 Those 4 were the ones mentioning the error message. However I just updated the output to show the rest of the message.","body":"@user3738870 Those 4 were the ones mentioning the error message. However I just updated the output to show the rest of the message."},{"owner":{"account_id":4610643,"reputation":1454,"user_id":3738870,"display_name":"user3738870"},"score":0,"creation_date":1661099866,"post_id":73436166,"comment_id":129685924,"body_markdown":"To me, it looks like it actually succeeds: &quot;Successfully validated 3 migrations&quot;. But what if you add a 4th migration? Will it result in a different output?","body":"To me, it looks like it actually succeeds: &quot;Successfully validated 3 migrations&quot;. But what if you add a 4th migration? Will it result in a different output?"},{"owner":{"account_id":10056471,"reputation":858,"user_id":7434507,"accept_rate":47,"display_name":"OreoFanatics"},"score":0,"creation_date":1661100042,"post_id":73436166,"comment_id":129685963,"body_markdown":"@user3738870 I don&#39;t think it is a success since when I looked into my db, I don&#39;t see the changes that I implement inside the scripts. Also I got build failed at the very end of the gradle output. And yes I tried adding more scripts, the result is the same.","body":"@user3738870 I don&#39;t think it is a success since when I looked into my db, I don&#39;t see the changes that I implement inside the scripts. Also I got build failed at the very end of the gradle output. And yes I tried adding more scripts, the result is the same."}],"answers":[{"tags":[],"owner":{"account_id":10056471,"reputation":858,"user_id":7434507,"accept_rate":47,"display_name":"OreoFanatics"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1661100978,"creation_date":1661100978,"answer_id":73436498,"question_id":73436166,"body_markdown":"I managed to solve it myself.\r\nApparently I have to define the schema history table first. This can be done easily first time by adding `baselineOnMigrate` to true inside build.gradle:\r\n\r\n    flyway {\r\n    \turl = &#39;jdbc:postgresql://localhost:5432/test&#39;\r\n    \tuser = &#39;postgres&#39;\r\n    \tpassword = &#39;postgres&#39;\r\n    \tdriver = &#39;org.postgresql.Driver&#39;\r\n    \tbaselineOnMigrate = true\r\n    \tlocations = [&#39;filesystem:src/main/resources/db/migration/&#39;]\r\n    }\r\n\r\nI also removed `schemas` as it is not necessarily required in this case.","title":"Cannot migrate sql script with Flyway for Postgres (Java Spring)","body":"<p>I managed to solve it myself.\nApparently I have to define the schema history table first. This can be done easily first time by adding <code>baselineOnMigrate</code> to true inside build.gradle:</p>\n<pre><code>flyway {\n    url = 'jdbc:postgresql://localhost:5432/test'\n    user = 'postgres'\n    password = 'postgres'\n    driver = 'org.postgresql.Driver'\n    baselineOnMigrate = true\n    locations = ['filesystem:src/main/resources/db/migration/']\n}\n</code></pre>\n<p>I also removed <code>schemas</code> as it is not necessarily required in this case.</p>\n"}],"owner":{"account_id":10056471,"reputation":858,"user_id":7434507,"accept_rate":47,"display_name":"OreoFanatics"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":841,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73436498,"answer_count":1,"score":2,"last_activity_date":1661100978,"creation_date":1661098610,"question_id":73436166,"body_markdown":"I am currently building my application with Spring. And recently stumbled through flyway for db migrations and decided to also implement it into the project.\r\n\r\nI have all of my .sql scripts placed under resources/db/migration\r\nThe following is how I set up the build.gradle:\r\n\r\n    plugins {\r\n    \tid &#39;org.springframework.boot&#39; version &#39;2.6.4&#39;\r\n    \tid &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n    \tid &#39;java&#39;\r\n    \tid &quot;org.flywaydb.flyway&quot; version &quot;9.1.6&quot;\r\n    }\r\n    \r\n    group = &#39;com.test&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;17&#39;\r\n    \r\n    configurations {\r\n    \tcompileOnly {\r\n    \t\textendsFrom annotationProcessor\r\n    \t}\r\n    }\r\n    \r\n    repositories {\r\n    \tmavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    \timplementation &#39;org.postgresql:postgresql&#39;\r\n    \tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n    \tcompileOnly &#39;org.flywaydb:flyway-core&#39;\r\n    \tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    \ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    }\r\n    \r\n    flyway {\r\n    \turl = &#39;jdbc:postgresql://localhost:5432/test&#39;\r\n    \tuser = &#39;postgres&#39;\r\n    \tpassword = &#39;postgres&#39;\r\n    \tdriver = &#39;org.postgresql.Driver&#39;\r\n    \tschemas = [&#39;public&#39;]\r\n    \tlocations = [&#39;filesystem:src/main/resources/db/migration/&#39;]\r\n    }\r\n    \r\n    tasks.named(&#39;test&#39;) {\r\n    \tuseJUnitPlatform()\r\n    }\r\n\r\nWhen I run `gradle flywayMigrate -i` I kept getting this error:\r\n\r\n        &gt; Task :flywayMigrate FAILED\r\n        Caching disabled for task &#39;:flywayMigrate&#39; because:\r\n          Build cache is disabled\r\n        Task &#39;:flywayMigrate&#39; is not up-to-date because:\r\n          Task has not declared any outputs despite executing actions.\r\n    Resolving global dependency management for project &#39;myapp.main.module&#39;\r\n    Excluding []\r\n    Excluding []\r\n    Excluding []\r\n    Excluding []\r\n    Database: jdbc:postgresql://localhost:5432/test (PostgreSQL 14.4)\r\n    Successfully validated 3 migrations (execution time 00:00.010s)\r\n    :flywayMigrate (Thread[Execution worker Thread 3,5,main]) completed. Took 0.396 secs.\r\n\r\nWhat is it that I still doing it incorrectly?","title":"Cannot migrate sql script with Flyway for Postgres (Java Spring)","body":"<p>I am currently building my application with Spring. And recently stumbled through flyway for db migrations and decided to also implement it into the project.</p>\n<p>I have all of my .sql scripts placed under resources/db/migration\nThe following is how I set up the build.gradle:</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.6.4'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n    id &quot;org.flywaydb.flyway&quot; version &quot;9.1.6&quot;\n}\n\ngroup = 'com.test'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.postgresql:postgresql'\n    compileOnly 'org.projectlombok:lombok'\n    compileOnly 'org.flywaydb:flyway-core'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\nflyway {\n    url = 'jdbc:postgresql://localhost:5432/test'\n    user = 'postgres'\n    password = 'postgres'\n    driver = 'org.postgresql.Driver'\n    schemas = ['public']\n    locations = ['filesystem:src/main/resources/db/migration/']\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>When I run <code>gradle flywayMigrate -i</code> I kept getting this error:</p>\n<pre><code>    &gt; Task :flywayMigrate FAILED\n    Caching disabled for task ':flywayMigrate' because:\n      Build cache is disabled\n    Task ':flywayMigrate' is not up-to-date because:\n      Task has not declared any outputs despite executing actions.\nResolving global dependency management for project 'myapp.main.module'\nExcluding []\nExcluding []\nExcluding []\nExcluding []\nDatabase: jdbc:postgresql://localhost:5432/test (PostgreSQL 14.4)\nSuccessfully validated 3 migrations (execution time 00:00.010s)\n:flywayMigrate (Thread[Execution worker Thread 3,5,main]) completed. Took 0.396 secs.\n</code></pre>\n<p>What is it that I still doing it incorrectly?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":399622,"reputation":4096,"user_id":765091,"display_name":"slothrop"},"score":1,"creation_date":1661023250,"post_id":73429498,"comment_id":129674084,"body_markdown":"At index 7, the value is 3.  To the left (index 6) is 2, and to the right (index 8) is also 2, so that 3 is a peak.  (The peaks are stated to be **local** maxima, i.e. a peak is a point that is higher than its neighbours, not necessarily a point that is the highest in the whole array).","body":"At index 7, the value is 3.  To the left (index 6) is 2, and to the right (index 8) is also 2, so that 3 is a peak.  (The peaks are stated to be <b>local</b> maxima, i.e. a peak is a point that is higher than its neighbours, not necessarily a point that is the highest in the whole array)."}],"answers":[{"tags":[],"owner":{"account_id":37846,"reputation":6497,"user_id":108326,"display_name":"markusk"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1661094940,"creation_date":1661023419,"answer_id":73429538,"question_id":73429498,"body_markdown":"The question is asking for local maxima, not global maxima. If a value is larger than its neighbours (and is not the first or last value), it&#39;s a peak, even if there is another value elsewhere that is even greater. Hence, with the input `[3, 2, 3, 6, 4, 1, 2, 3, 2, 1, 2, 3]`, the eighth value (pos 7) is a peak, since the value 3 is greater than both the preceding neighbour (2) and following neighbour (2).","title":"Java arrays question with multiple answers","body":"<p>The question is asking for local maxima, not global maxima. If a value is larger than its neighbours (and is not the first or last value), it's a peak, even if there is another value elsewhere that is even greater. Hence, with the input <code>[3, 2, 3, 6, 4, 1, 2, 3, 2, 1, 2, 3]</code>, the eighth value (pos 7) is a peak, since the value 3 is greater than both the preceding neighbour (2) and following neighbour (2).</p>\n"},{"tags":[],"owner":{"account_id":16366460,"reputation":131,"user_id":11820819,"display_name":"Dorin Simion"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661100790,"creation_date":1661026118,"answer_id":73429812,"question_id":73429498,"body_markdown":"From what I understand, peak is surrounded by valley. So if you go up than down you have a peak, if you again go up and again down you have another peak. If you go up and than horizontal and than down, first position is peak, you just walk on plateau. It&#39;s like when you go mountain. You can climb 2 or 3 peaks in one trip. \r\n\r\nHere is the solution:\r\n\r\n    public static Map&lt;String, List&lt;Integer&gt;&gt; getPeaks(int[] arr) {\r\n        Map&lt;String, List&lt;Integer&gt;&gt; result = new HashMap&lt;&gt;();\r\n\r\n        int peak = 0;\r\n        for (int i = 1; i &lt; arr.length - 1; i++) {\r\n            if (arr[i-1] &lt; arr[i]){\r\n                peak = i;\r\n            }\r\n            if(arr[i] &gt; arr[i+1] &amp;&amp; peak !=0) {\r\n                result.computeIfAbsent(&quot;pos&quot;, k -&gt; new ArrayList&lt;&gt;()).add(peak);\r\n                result.computeIfAbsent(&quot;peaks&quot;, k -&gt; new ArrayList&lt;&gt;()).add(arr[i]);\r\n                peak = 0;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\nI had to keep the current peak, as you can go horizontal and we need first position when you reach peak.\r\nAnd I reset it when I go down.\r\nSo if `arr[i-1] &lt; arr[i]` it means I reach a peak and if `arr[i] &gt; arr[i+1] &amp;&amp; peak !=0` it means I went down.\r\n\r\nAnother mention, use Map as reference instead of HashMap. Same as you proceed for List.\r\n\r\n","title":"Java arrays question with multiple answers","body":"<p>From what I understand, peak is surrounded by valley. So if you go up than down you have a peak, if you again go up and again down you have another peak. If you go up and than horizontal and than down, first position is peak, you just walk on plateau. It's like when you go mountain. You can climb 2 or 3 peaks in one trip.</p>\n<p>Here is the solution:</p>\n<pre><code>public static Map&lt;String, List&lt;Integer&gt;&gt; getPeaks(int[] arr) {\n    Map&lt;String, List&lt;Integer&gt;&gt; result = new HashMap&lt;&gt;();\n\n    int peak = 0;\n    for (int i = 1; i &lt; arr.length - 1; i++) {\n        if (arr[i-1] &lt; arr[i]){\n            peak = i;\n        }\n        if(arr[i] &gt; arr[i+1] &amp;&amp; peak !=0) {\n            result.computeIfAbsent(&quot;pos&quot;, k -&gt; new ArrayList&lt;&gt;()).add(peak);\n            result.computeIfAbsent(&quot;peaks&quot;, k -&gt; new ArrayList&lt;&gt;()).add(arr[i]);\n            peak = 0;\n        }\n    }\n    return result;\n}\n</code></pre>\n<p>I had to keep the current peak, as you can go horizontal and we need first position when you reach peak.\nAnd I reset it when I go down.\nSo if <code>arr[i-1] &lt; arr[i]</code> it means I reach a peak and if <code>arr[i] &gt; arr[i+1] &amp;&amp; peak !=0</code> it means I went down.</p>\n<p>Another mention, use Map as reference instead of HashMap. Same as you proceed for List.</p>\n"}],"owner":{"account_id":25300515,"reputation":143,"user_id":19124826,"display_name":"Amos Machora"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":73429538,"answer_count":2,"score":1,"last_activity_date":1661100790,"creation_date":1661023050,"question_id":73429498,"body_markdown":"I have a java problem at [codewars][1].\r\n\r\n&gt; In this kata, you will write a function that returns the positions and\r\n&gt; the values of the &quot;peaks&quot; (or local maxima) of a numeric array.\r\n&gt; \r\n&gt; For example, the array `arr = [0, 1, 2, 5, 1, 0]` has a peak at\r\n&gt; `position 3` with a `value of 5` (since arr[3] equals 5).\r\n&gt; \r\n&gt; The output will be returned as a `Map&lt;String,List&gt;with two key-value\r\n&gt; pairs:&quot;pos&quot;and&quot;peaks&quot;.` If there is no peak in the given array, simply\r\n&gt; return `{&quot;pos&quot; =&gt; [], &quot;peaks&quot; =&gt; []}.\r\n&gt; \r\n&gt; Example: `pickPeaks([3, 2, 3, 6, 4, 1, 2, 3, 2, 1, 2, 3])` should\r\n&gt; return `{pos: [3, 7], peaks: [6, 3]}` (or equivalent in other\r\n&gt; languages)\r\n&gt; \r\n&gt; All `input arrays will be valid integer arrays` (although it could\r\n&gt; still be empty), so you won&#39;t need to validate the input.\r\n&gt; \r\n&gt; The first and last elements of the array will not be considered as\r\n&gt; peaks (in the context of a mathematical function, we don&#39;t know what\r\n&gt; is after and before and therefore, we don&#39;t know if it is a peak or\r\n&gt; not).\r\n&gt; \r\n&gt; Also, beware of plateaus! `[1, 2, 2, 2, 1]` has a peak while `[1, 2,\r\n&gt; 2, 2, 3]` and `[1, 2, 2, 2, 2]` do not. In case of a plateau-peak,\r\n&gt; please only return the position and value of the beginning of the\r\n&gt; plateau. For example: `pickPeaks([1, 2, 2, 2, 1])` returns `{pos: [1],\r\n&gt; peaks: [2]}` (or equivalent in other languages)\r\n\r\nHere is my answer:\r\n\r\n    public static Map&lt;String, List&lt;Integer&gt;&gt; getPeaks(int[] arr) {\r\n        HashMap&lt;String, List&lt;Integer&gt;&gt; stringListHashMap = new HashMap&lt;&gt;();\r\n        List&lt;Integer&gt; positions = new ArrayList&lt;&gt;();\r\n        List&lt;Integer&gt; values = new ArrayList&lt;&gt;();\r\n        values.add(arr[1]);\r\n        positions.add(1);\r\n\r\n        for (int i = 2; i &lt; arr.length - 1; i++) {\r\n            if (values.get(values.size() - 1) &lt; arr[i]) {\r\n                values.clear();\r\n                positions.clear();\r\n                values.add(arr[i]);\r\n                positions.add(i);\r\n            }\r\n        }\r\n        stringListHashMap.put(&quot;pos&quot;, positions);\r\n        stringListHashMap.put(&quot;peaks&quot;, values);\r\n\r\n        return stringListHashMap;\r\n    }\r\n\r\nThe above code works fine, but I don&#39;t pass the unit tests because of this -&gt; \r\n\r\n&gt; should support finding peaks expected:&lt;{pos=[3, 7], peaks=[6, 3]}&gt; but was:&lt;{pos=[3], peaks=[6]}&gt;\r\n\r\nI have narrowed down the problem to this -&gt;\r\n\r\n&gt; Example: `pickPeaks([3, 2, 3, 6, 4, 1, 2, 3, 2, 1, 2, 3])` should return `{pos: [3, 7], peaks: [6, 3]}` (or equivalent in other languages)\r\n\r\nThere is clearly only one peak which is 6 and its index 3. Then what is the person asking the question trying to say? I feel like I&#39;m missing something.\r\n\r\n\r\n\r\n  [1]: https://www.codewars.com/kata/5279f6fe5ab7f447890006a7/train/java","title":"Java arrays question with multiple answers","body":"<p>I have a java problem at <a href=\"https://www.codewars.com/kata/5279f6fe5ab7f447890006a7/train/java\" rel=\"nofollow noreferrer\">codewars</a>.</p>\n<blockquote>\n<p>In this kata, you will write a function that returns the positions and\nthe values of the &quot;peaks&quot; (or local maxima) of a numeric array.</p>\n<p>For example, the array <code>arr = [0, 1, 2, 5, 1, 0]</code> has a peak at\n<code>position 3</code> with a <code>value of 5</code> (since arr[3] equals 5).</p>\n<p>The output will be returned as a <code>Map&lt;String,List&gt;with two key-value pairs:&quot;pos&quot;and&quot;peaks&quot;.</code> If there is no peak in the given array, simply\nreturn `{&quot;pos&quot; =&gt; [], &quot;peaks&quot; =&gt; []}.</p>\n<p>Example: <code>pickPeaks([3, 2, 3, 6, 4, 1, 2, 3, 2, 1, 2, 3])</code> should\nreturn <code>{pos: [3, 7], peaks: [6, 3]}</code> (or equivalent in other\nlanguages)</p>\n<p>All <code>input arrays will be valid integer arrays</code> (although it could\nstill be empty), so you won't need to validate the input.</p>\n<p>The first and last elements of the array will not be considered as\npeaks (in the context of a mathematical function, we don't know what\nis after and before and therefore, we don't know if it is a peak or\nnot).</p>\n<p>Also, beware of plateaus! <code>[1, 2, 2, 2, 1]</code> has a peak while <code>[1, 2, 2, 2, 3]</code> and <code>[1, 2, 2, 2, 2]</code> do not. In case of a plateau-peak,\nplease only return the position and value of the beginning of the\nplateau. For example: <code>pickPeaks([1, 2, 2, 2, 1])</code> returns <code>{pos: [1], peaks: [2]}</code> (or equivalent in other languages)</p>\n</blockquote>\n<p>Here is my answer:</p>\n<pre><code>public static Map&lt;String, List&lt;Integer&gt;&gt; getPeaks(int[] arr) {\n    HashMap&lt;String, List&lt;Integer&gt;&gt; stringListHashMap = new HashMap&lt;&gt;();\n    List&lt;Integer&gt; positions = new ArrayList&lt;&gt;();\n    List&lt;Integer&gt; values = new ArrayList&lt;&gt;();\n    values.add(arr[1]);\n    positions.add(1);\n\n    for (int i = 2; i &lt; arr.length - 1; i++) {\n        if (values.get(values.size() - 1) &lt; arr[i]) {\n            values.clear();\n            positions.clear();\n            values.add(arr[i]);\n            positions.add(i);\n        }\n    }\n    stringListHashMap.put(&quot;pos&quot;, positions);\n    stringListHashMap.put(&quot;peaks&quot;, values);\n\n    return stringListHashMap;\n}\n</code></pre>\n<p>The above code works fine, but I don't pass the unit tests because of this -&gt;</p>\n<blockquote>\n<p>should support finding peaks expected:&lt;{pos=[3, 7], peaks=[6, 3]}&gt; but was:&lt;{pos=[3], peaks=[6]}&gt;</p>\n</blockquote>\n<p>I have narrowed down the problem to this -&gt;</p>\n<blockquote>\n<p>Example: <code>pickPeaks([3, 2, 3, 6, 4, 1, 2, 3, 2, 1, 2, 3])</code> should return <code>{pos: [3, 7], peaks: [6, 3]}</code> (or equivalent in other languages)</p>\n</blockquote>\n<p>There is clearly only one peak which is 6 and its index 3. Then what is the person asking the question trying to say? I feel like I'm missing something.</p>\n"},{"tags":["java","spring","spring-boot","console-application"],"answers":[{"tags":[],"owner":{"account_id":15302648,"reputation":92,"user_id":11042152,"display_name":"knowNothing"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1661100722,"creation_date":1661073329,"answer_id":73433043,"question_id":73420330,"body_markdown":"Both ways that you write can still achieve this and in real life projects you never use console apps. So you can use both of them to this for your tests and learning projects.","title":"Spring Boot Console app: How to pass input to service?","body":"<p>Both ways that you write can still achieve this and in real life projects you never use console apps. So you can use both of them to this for your tests and learning projects.</p>\n"}],"owner":{"display_name":"user19726424"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73433043,"answer_count":1,"score":1,"last_activity_date":1661100722,"creation_date":1660930197,"question_id":73420330,"body_markdown":"I created a console app that read user input as parameter and pass this parameter to the service. There are several ways to achieve this e.g. `CommandLineRunner`, `ApplicationRunner`, or as mentioned on [this](https://stackoverflow.com/questions/49698963/how-to-call-a-service-from-main-application-calls-spring-boot?answertab=trending#tab-top) thread. \r\n\r\nHowever, I am confused about the most proper way as some suggestions are really too old. As I am using the latest version of Spring with Java 17, what is the most proper way to read user input and pass that parameter to the Service? ","title":"Spring Boot Console app: How to pass input to service?","body":"<p>I created a console app that read user input as parameter and pass this parameter to the service. There are several ways to achieve this e.g. <code>CommandLineRunner</code>, <code>ApplicationRunner</code>, or as mentioned on <a href=\"https://stackoverflow.com/questions/49698963/how-to-call-a-service-from-main-application-calls-spring-boot?answertab=trending#tab-top\">this</a> thread.</p>\n<p>However, I am confused about the most proper way as some suggestions are really too old. As I am using the latest version of Spring with Java 17, what is the most proper way to read user input and pass that parameter to the Service?</p>\n"},{"tags":["java","prometheus","grafana","spring-boot-actuator","spring-micrometer"],"comments":[{"owner":{"account_id":22562332,"reputation":582,"user_id":16749821,"display_name":"Hans-Christian"},"score":4,"creation_date":1661264428,"post_id":73436450,"comment_id":129727558,"body_markdown":"You might be able to solve want you using PromQL. So instead of resetting the counter every minute, you could look at the increase per minute utilizing PromQL like this: `increase(http_server_requests_seconds_count{uri=&quot;/addMetric&quot;}[1m])`","body":"You might be able to solve want you using PromQL. So instead of resetting the counter every minute, you could look at the increase per minute utilizing PromQL like this: <code>increase(http_server_requests_seconds_count{uri=&quot;&#47;addMetric&quot;&zwnj;&#8203;}[1m])</code>"},{"owner":{"account_id":5863731,"reputation":807,"user_id":4618492,"accept_rate":56,"display_name":"littleAlien"},"score":0,"creation_date":1694730199,"post_id":73436450,"comment_id":135933621,"body_markdown":"@Hans-Christian how to fix if i&#39;m getting fractional values? Prometheus pulling every 5 seconds","body":"@Hans-Christian how to fix if i&#39;m getting fractional values? Prometheus pulling every 5 seconds"}],"owner":{"account_id":18476555,"reputation":517,"user_id":13459947,"display_name":"Violetta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":996,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1661100700,"creation_date":1661100700,"question_id":73436450,"body_markdown":"I have a simple Spring Boot application. I want to monitor application metrics using grafana and prometheus. To do this, I added the actuator and micrometer-registry-prometheus to the application\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\nI have written two methods for counter and timer\r\n```\r\n@Service\r\npublic class MicrometerServiceImpl implements MicrometerService {\r\n    @Autowired\r\n    private MeterRegistry meterRegistry;\r\n    @Override\r\n    public void addCounterMetric(String statName, String description, double count, String... tags){\r\n        Counter.builder(statName)\r\n                .description(description)\r\n                .tags(tags)\r\n                .register(meterRegistry)\r\n                .increment(count);\r\n    }\r\n    @Override\r\n    public void addTimerMetric(String statName, String description, long duration, String... tags){\r\n        Timer.builder(statName)\r\n                .description(description)\r\n                .tags(tags)\r\n                .register(meterRegistry)\r\n                .record(duration, TimeUnit.MILLISECONDS);\r\n    }\r\n}\r\n```\r\nAnd added a method call to the controller\r\n```\r\n    @RequestMapping(path = &quot;/addMetric&quot;)\r\n    public String callMetric(HttpServletRequest request) {\r\n        long start = System.currentTimeMillis();\r\n        //some work\r\n        \r\n        micrometerService.addCounterMetric(&quot;CONTROLLER_COUNTER&quot;, &quot;controller with COUNTER&quot;, 1);\r\n        micrometerService.addTimerMetric(&quot;CONTROLLER_TIMER&quot;, &quot;controller with Timer&quot;,\r\n               System.currentTimeMillis() - start);\r\n\r\n        return &quot;addMetric&quot;;\r\n    }\r\n```\r\nI would like the counter value to be reset to zero every minute, that is, the number of calls per minute is counted. Is it possible to do this using micrometer or grafana? Now I see that the counter is only increasing.\r\n\r\nI know there are metrics that count the number of http requests. But I need this for custom metrics, when the metric is considered under certain conditions (for example, the number of errors during processing)","title":"how to show the number of calls per minute on grafana using micrometer","body":"<p>I have a simple Spring Boot application. I want to monitor application metrics using grafana and prometheus. To do this, I added the actuator and micrometer-registry-prometheus to the application</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n            &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I have written two methods for counter and timer</p>\n<pre><code>@Service\npublic class MicrometerServiceImpl implements MicrometerService {\n    @Autowired\n    private MeterRegistry meterRegistry;\n    @Override\n    public void addCounterMetric(String statName, String description, double count, String... tags){\n        Counter.builder(statName)\n                .description(description)\n                .tags(tags)\n                .register(meterRegistry)\n                .increment(count);\n    }\n    @Override\n    public void addTimerMetric(String statName, String description, long duration, String... tags){\n        Timer.builder(statName)\n                .description(description)\n                .tags(tags)\n                .register(meterRegistry)\n                .record(duration, TimeUnit.MILLISECONDS);\n    }\n}\n</code></pre>\n<p>And added a method call to the controller</p>\n<pre><code>    @RequestMapping(path = &quot;/addMetric&quot;)\n    public String callMetric(HttpServletRequest request) {\n        long start = System.currentTimeMillis();\n        //some work\n        \n        micrometerService.addCounterMetric(&quot;CONTROLLER_COUNTER&quot;, &quot;controller with COUNTER&quot;, 1);\n        micrometerService.addTimerMetric(&quot;CONTROLLER_TIMER&quot;, &quot;controller with Timer&quot;,\n               System.currentTimeMillis() - start);\n\n        return &quot;addMetric&quot;;\n    }\n</code></pre>\n<p>I would like the counter value to be reset to zero every minute, that is, the number of calls per minute is counted. Is it possible to do this using micrometer or grafana? Now I see that the counter is only increasing.</p>\n<p>I know there are metrics that count the number of http requests. But I need this for custom metrics, when the metric is considered under certain conditions (for example, the number of errors during processing)</p>\n"},{"tags":["java","spring-boot","jparepository"],"comments":[{"owner":{"account_id":25690087,"reputation":1360,"user_id":19451633,"display_name":"Andrei Titov"},"score":2,"creation_date":1661021622,"post_id":73429019,"comment_id":129673760,"body_markdown":"I strongly recommend reading [reference documentation](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories) - it&#39;s pretty detailed on using repositories. you can define your own query in custom method, define entity graph (to change lazy init for some cases), change page to slice for queries with pageable and a lot more","body":"I strongly recommend reading <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories\" rel=\"nofollow noreferrer\">reference documentation</a> - it&#39;s pretty detailed on using repositories. you can define your own query in custom method, define entity graph (to change lazy init for some cases), change page to slice for queries with pageable and a lot more"}],"answers":[{"tags":[],"owner":{"account_id":15302648,"reputation":92,"user_id":11042152,"display_name":"knowNothing"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661100665,"creation_date":1661072515,"answer_id":73432941,"question_id":73429019,"body_markdown":"You dont have to add findById to your repository. If you add you gain nothing. Whenever you need some specific queryies like &quot;select * from workspace where name = &quot;blabla&quot; &quot;. You can use jpaquery to implement this like that Workspace findWorkspaceByName(String name). And hibernate will create select query for you in backside. Some basic queries are predefined in JPARepository and CRUDRepository that is why we use theese instead of EntityManager","title":"Retrieving data using JPARepository","body":"<p>You dont have to add findById to your repository. If you add you gain nothing. Whenever you need some specific queryies like &quot;select * from workspace where name = &quot;blabla&quot; &quot;. You can use jpaquery to implement this like that Workspace findWorkspaceByName(String name). And hibernate will create select query for you in backside. Some basic queries are predefined in JPARepository and CRUDRepository that is why we use theese instead of EntityManager</p>\n"}],"owner":{"account_id":5145759,"reputation":124,"user_id":4121801,"display_name":"kovalensue"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73432941,"answer_count":1,"score":0,"last_activity_date":1661100665,"creation_date":1661019074,"question_id":73429019,"body_markdown":"I&#39;m learning Java web dev using Spring Boot and I have real trouble understanding how to retrieve data using JPARepository.\r\n\r\nLet have an entity Workspace:\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;workspace&quot;)\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@EqualsAndHashCode(callSuper = true) // solves problem with inheritance from BaseModel\r\npublic class Workspace extends BaseModel{\r\n\r\n    private String name;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    private Account createdBy;\r\n\r\n    @ManyToMany(mappedBy = &quot;workspaces&quot;)\r\n    private List&lt;Account&gt; members = new ArrayList&lt;&gt;();\r\n\r\n    @OneToMany(mappedBy = &quot;workspace&quot;, orphanRemoval = true, cascade = CascadeType.ALL)\r\n    private List&lt;TimeEntry&gt; timeEntries = new ArrayList&lt;&gt;();\r\n\r\n}\r\n```\r\n\r\nNow I have a repository:\r\n\r\n```java\r\npublic interface WorkspaceRepository extends JpaRepository&lt;Workspace, Long&gt; {\r\n\r\n    Workspace findById(long id);\r\n\r\n}\r\n```\r\n\r\nand a service:\r\n\r\n```java\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class WorkspaceService {\r\n\r\n    private final WorkspaceRepository repository;\r\n\r\n    @Transactional(readOnly = true)\r\n    public Workspace getWorkspace(long id) {\r\n        return this.repository.findById(id);\r\n    }\r\n}\r\n```\r\n\r\nMy question is. Is it really necessary to add method ```Workspace findById(long id)``` into my repository, since this method is already in JPARepository?\r\n\r\nIf I do not add the method to my WorkspaceRepository then I can just change the service like this:\r\n\r\n```java\r\n    @Transactional(readOnly = true)\r\n    public Optional&lt;Workspace&gt; getWorkspace(long id) {\r\n        return this.repository.findById(id);\r\n    }\r\n```\r\n\r\nor like this:\r\n\r\n```java\r\n    @Transactional(readOnly = true)\r\n    public Workspace getWorkspace(long id) {\r\n        return this.repository.findById(id).get();\r\n    }\r\n```\r\n\r\nWhat is the other benefit of adding a method into my repository instead of that Spring will generate implementation with the desired type (Workspace)?\r\n","title":"Retrieving data using JPARepository","body":"<p>I'm learning Java web dev using Spring Boot and I have real trouble understanding how to retrieve data using JPARepository.</p>\n<p>Let have an entity Workspace:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;workspace&quot;)\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@EqualsAndHashCode(callSuper = true) // solves problem with inheritance from BaseModel\npublic class Workspace extends BaseModel{\n\n    private String name;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    private Account createdBy;\n\n    @ManyToMany(mappedBy = &quot;workspaces&quot;)\n    private List&lt;Account&gt; members = new ArrayList&lt;&gt;();\n\n    @OneToMany(mappedBy = &quot;workspace&quot;, orphanRemoval = true, cascade = CascadeType.ALL)\n    private List&lt;TimeEntry&gt; timeEntries = new ArrayList&lt;&gt;();\n\n}\n</code></pre>\n<p>Now I have a repository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface WorkspaceRepository extends JpaRepository&lt;Workspace, Long&gt; {\n\n    Workspace findById(long id);\n\n}\n</code></pre>\n<p>and a service:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@RequiredArgsConstructor\npublic class WorkspaceService {\n\n    private final WorkspaceRepository repository;\n\n    @Transactional(readOnly = true)\n    public Workspace getWorkspace(long id) {\n        return this.repository.findById(id);\n    }\n}\n</code></pre>\n<p>My question is. Is it really necessary to add method <code>Workspace findById(long id)</code> into my repository, since this method is already in JPARepository?</p>\n<p>If I do not add the method to my WorkspaceRepository then I can just change the service like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Transactional(readOnly = true)\n    public Optional&lt;Workspace&gt; getWorkspace(long id) {\n        return this.repository.findById(id);\n    }\n</code></pre>\n<p>or like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Transactional(readOnly = true)\n    public Workspace getWorkspace(long id) {\n        return this.repository.findById(id).get();\n    }\n</code></pre>\n<p>What is the other benefit of adding a method into my repository instead of that Spring will generate implementation with the desired type (Workspace)?</p>\n"},{"tags":["java","android","multithreading","threadpool","scheduledexecutorservice"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1661100547,"creation_date":1661100547,"answer_id":73436426,"question_id":73436352,"body_markdown":"&gt; during app start we schedule threads to run every 8 hours for transmitting files\r\n\r\nThat will not work very well.\r\n\r\n&gt; I have been observing inconsistent transmission behavior when the app is terminated after app start (i.e. the user kills the app)\r\n\r\nYou will have inconsistent transmission behavior if the app is in the background as well. The only scenario in which what you describe would work is some sort of kiosk mode app or other situation where your app UI is always in the foreground.\r\n\r\n&gt; I am suspecting that the scheduled threads are somehow cancelled/destroyed/terminated with the app gets terminated\r\n\r\nAndroid will terminate your app&#39;s process after a period of time, to free up system RAM for other apps. At that point, your threads and other CPU/RAM structures all go away. This is covered in [the documentation](https://developer.android.com/guide/components/activities/process-lifecycle), as well as many books and courses on Android app development.\r\n\r\nAnd, for the purposes of transmitting files, your app&#39;s ability to use the Internet will be affected by Doze mode, app standby, and manufacturer-specific battery-conservation approaches. Doze mode is covered in [the documentation](https://developer.android.com/training/monitoring-device-state/doze-standby).\r\n\r\nThe standard recommendation today is to use `WorkManager`, where you schedule the work with instructions that you need network access when the work is performed.","title":"Are scheduled threads runnable after app termination on Android?","body":"<blockquote>\n<p>during app start we schedule threads to run every 8 hours for transmitting files</p>\n</blockquote>\n<p>That will not work very well.</p>\n<blockquote>\n<p>I have been observing inconsistent transmission behavior when the app is terminated after app start (i.e. the user kills the app)</p>\n</blockquote>\n<p>You will have inconsistent transmission behavior if the app is in the background as well. The only scenario in which what you describe would work is some sort of kiosk mode app or other situation where your app UI is always in the foreground.</p>\n<blockquote>\n<p>I am suspecting that the scheduled threads are somehow cancelled/destroyed/terminated with the app gets terminated</p>\n</blockquote>\n<p>Android will terminate your app's process after a period of time, to free up system RAM for other apps. At that point, your threads and other CPU/RAM structures all go away. This is covered in <a href=\"https://developer.android.com/guide/components/activities/process-lifecycle\" rel=\"nofollow noreferrer\">the documentation</a>, as well as many books and courses on Android app development.</p>\n<p>And, for the purposes of transmitting files, your app's ability to use the Internet will be affected by Doze mode, app standby, and manufacturer-specific battery-conservation approaches. Doze mode is covered in <a href=\"https://developer.android.com/training/monitoring-device-state/doze-standby\" rel=\"nofollow noreferrer\">the documentation</a>.</p>\n<p>The standard recommendation today is to use <code>WorkManager</code>, where you schedule the work with instructions that you need network access when the work is performed.</p>\n"}],"owner":{"account_id":26122749,"reputation":23,"user_id":19814772,"display_name":"Sina Behrouz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73436426,"answer_count":1,"score":1,"last_activity_date":1661100547,"creation_date":1661099971,"question_id":73436352,"body_markdown":"In our **Android Application** - during app start we schedule threads to run every 8 hours for transmitting files. I have been observing inconsistent transmission behavior when the app is terminated after app start (i.e. the user kills the app). I am suspecting that the scheduled threads are somehow cancelled/destroyed/terminated with the app gets terminated. Does anyone know whether this is the case on Android? \r\n\r\n\r\nSample Code of how I am deploying scheduled background threads.\r\n\r\n```\r\nscheduledExecutor = new ScheduledThreadPoolExecutor(1, &lt;this param is a class that Creates threads with the default priority set to background.&gt;);\r\n\r\nscheduledExecutor.setRejectedExecutionHandler(new ThreadPoolExecutor.DiscardPolicy());\r\n\r\nscheduledExecutor.schedule(new Handler(), 28800000, TimeUnit.MILLISECONDS);\r\n```","title":"Are scheduled threads runnable after app termination on Android?","body":"<p>In our <strong>Android Application</strong> - during app start we schedule threads to run every 8 hours for transmitting files. I have been observing inconsistent transmission behavior when the app is terminated after app start (i.e. the user kills the app). I am suspecting that the scheduled threads are somehow cancelled/destroyed/terminated with the app gets terminated. Does anyone know whether this is the case on Android?</p>\n<p>Sample Code of how I am deploying scheduled background threads.</p>\n<pre><code>scheduledExecutor = new ScheduledThreadPoolExecutor(1, &lt;this param is a class that Creates threads with the default priority set to background.&gt;);\n\nscheduledExecutor.setRejectedExecutionHandler(new ThreadPoolExecutor.DiscardPolicy());\n\nscheduledExecutor.schedule(new Handler(), 28800000, TimeUnit.MILLISECONDS);\n</code></pre>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1661098247,"post_id":73436017,"comment_id":129685580,"body_markdown":"I think the problem is one of the maps.  Map&lt;Map&lt;Stuff&gt;&gt; is not the same as Map&lt;Map&lt;? extends Stuff&gt;&gt;.  The idea that generics are not covariant applies to the outer Map here.  C.f.: https://stackoverflow.com/questions/71530768/why-cant-i-assign-a-listliststring-to-a-listlist-variable","body":"I think the problem is one of the maps.  Map&lt;Map&lt;Stuff&gt;&gt; is not the same as Map&lt;Map&lt;? extends Stuff&gt;&gt;.  The idea that generics are not covariant applies to the outer Map here.  C.f.: <a href=\"https://stackoverflow.com/questions/71530768/why-cant-i-assign-a-listliststring-to-a-listlist-variable\" title=\"why cant i assign a listliststring to a listlist variable\">stackoverflow.com/questions/71530768/&hellip;</a>"},{"owner":{"account_id":2381622,"reputation":21322,"user_id":2083523,"accept_rate":68,"display_name":"Avi"},"score":0,"creation_date":1661098762,"post_id":73436017,"comment_id":129685690,"body_markdown":"@markspace - Thank you for your comment. So I tried to change the map in the function signature, as mentioned in the last paragraph but still it raises an incompatibility error issue","body":"@markspace - Thank you for your comment. So I tried to change the map in the function signature, as mentioned in the last paragraph but still it raises an incompatibility error issue"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1661098958,"post_id":73436017,"comment_id":129685735,"body_markdown":"I had to use `foo(Map&lt;String, ? extends Map&lt;String, ? extends List&lt;? extends Record&gt;&gt;&gt; records)` - that&#39;s three `? extends`. If I omit any of them, I get a compiler error.","body":"I had to use <code>foo(Map&lt;String, ? extends Map&lt;String, ? extends List&lt;? extends Record&gt;&gt;&gt; records)</code> - that&#39;s three <code>? extends</code>. If I omit any of them, I get a compiler error."},{"owner":{"account_id":2381622,"reputation":21322,"user_id":2083523,"accept_rate":68,"display_name":"Avi"},"score":0,"creation_date":1661099388,"post_id":73436017,"comment_id":129685816,"body_markdown":"@RobSpoor - You&#39;re right! Thank you! If you want to right it as an answer, feel free. I&#39;ll upvote and accept. Thanks!","body":"@RobSpoor - You&#39;re right! Thank you! If you want to right it as an answer, feel free. I&#39;ll upvote and accept. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661099817,"creation_date":1661099411,"answer_id":73436274,"question_id":73436017,"body_markdown":"I had to use `foo(Map&lt;String, ? extends Map&lt;String, ? extends List&lt;? extends Record&gt;&gt;&gt; records)` - that&#39;s three `?` extends. If I omit any of them, I get a compiler error.","title":"Generic type incompatibility when invoking a method","body":"<p>I had to use <code>foo(Map&lt;String, ? extends Map&lt;String, ? extends List&lt;? extends Record&gt;&gt;&gt; records)</code> - that's three <code>?</code> extends. If I omit any of them, I get a compiler error.</p>\n"}],"owner":{"account_id":2381622,"reputation":21322,"user_id":2083523,"accept_rate":68,"display_name":"Avi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73436274,"answer_count":1,"score":1,"last_activity_date":1661099817,"creation_date":1661097295,"question_id":73436017,"body_markdown":"I have an interface that is named `Record` and another interface `OrganizationRecord` that extends the first one as follows:\r\n\r\n    public interface OrganizationRecord extends Record { /// }\r\n\r\n\r\nI have a function `foo(Map&lt;String, Map&lt;String, List&lt;? extends Record&gt;&gt;&gt; records)`\r\n\r\nAnd I call it with a parameter of type `Map&lt;String, Map&lt;String, List&lt;OrganizationRecord&gt;&gt;&gt;` as shown below:\r\n\r\n    Map&lt;String, Map&lt;String, List&lt;OrganizationRecord&gt;&gt;&gt; records = getRecords(); // A function I can&#39;t control which returns the map as the signature shows\r\n    foo(records);\r\n\r\nI get the following message:\r\n\r\n```\r\njava: incompatible types: java.util.Map&lt;java.lang.String,java.util.Map&lt;java.lang.String,java.util.List&lt;OrganizationRecord&gt;&gt;&gt; cannot be converted to java.util.Map&lt;java.lang.String,java.util.Map&lt;java.lang.String,java.util.List&lt;? extends Record&gt;&gt;&gt;\r\n```\r\n\r\nWhat am I missing here? If `OrganizationRecord` is defined as `extends Record` - why wouldn&#39;t this invocation work?\r\n\r\n\r\nI also tried changing the `foo` signature to accept `Map&lt;String, ? extends Map&lt;String, List&lt;? extends Record&gt;&gt;&gt;` because I thought the issue was happening as I may change the maps that are the values to the main keys, but this still doesn&#39;t work.","title":"Generic type incompatibility when invoking a method","body":"<p>I have an interface that is named <code>Record</code> and another interface <code>OrganizationRecord</code> that extends the first one as follows:</p>\n<pre><code>public interface OrganizationRecord extends Record { /// }\n</code></pre>\n<p>I have a function <code>foo(Map&lt;String, Map&lt;String, List&lt;? extends Record&gt;&gt;&gt; records)</code></p>\n<p>And I call it with a parameter of type <code>Map&lt;String, Map&lt;String, List&lt;OrganizationRecord&gt;&gt;&gt;</code> as shown below:</p>\n<pre><code>Map&lt;String, Map&lt;String, List&lt;OrganizationRecord&gt;&gt;&gt; records = getRecords(); // A function I can't control which returns the map as the signature shows\nfoo(records);\n</code></pre>\n<p>I get the following message:</p>\n<pre><code>java: incompatible types: java.util.Map&lt;java.lang.String,java.util.Map&lt;java.lang.String,java.util.List&lt;OrganizationRecord&gt;&gt;&gt; cannot be converted to java.util.Map&lt;java.lang.String,java.util.Map&lt;java.lang.String,java.util.List&lt;? extends Record&gt;&gt;&gt;\n</code></pre>\n<p>What am I missing here? If <code>OrganizationRecord</code> is defined as <code>extends Record</code> - why wouldn't this invocation work?</p>\n<p>I also tried changing the <code>foo</code> signature to accept <code>Map&lt;String, ? extends Map&lt;String, List&lt;? extends Record&gt;&gt;&gt;</code> because I thought the issue was happening as I may change the maps that are the values to the main keys, but this still doesn't work.</p>\n"},{"tags":["java","javadoc","builder"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1658623367,"post_id":73095055,"comment_id":129097263,"body_markdown":"if you have mandatory settings, shouldn&#39;t they be enforced by constructor or factory method, like [RestClient#builder(org.apache.http.HttpHost... hosts)](https://artifacts.elastic.co/javadoc/org/elasticsearch/client/elasticsearch-rest-client/5.6.0/org/elasticsearch/client/RestClient.html#builder-org.apache.http.HttpHost...-)?","body":"if you have mandatory settings, shouldn&#39;t they be enforced by constructor or factory method, like <a href=\"https://artifacts.elastic.co/javadoc/org/elasticsearch/client/elasticsearch-rest-client/5.6.0/org/elasticsearch/client/RestClient.html#builder-org.apache.http.HttpHost...-\" rel=\"nofollow noreferrer\">RestClient#builder(org.apache.http.HttpHost... hosts)</a>?"},{"owner":{"account_id":6014861,"reputation":18112,"user_id":7939871,"display_name":"L&#233;a Gris"},"score":0,"creation_date":1658624096,"post_id":73095055,"comment_id":129097319,"body_markdown":"I work on modernizing and giving some fresh air on an old MinecraftForge mod, limited to Java8, and an awful code style. So there are objects with way too many states, way too many responsibilities. Replacing awfully long constructors with builders is one good improvement with maintaining deprecated methods for compatibility with surrounding closed source ARR mods. I mean, it is a community project and the margins for improvements are very wide, but the safe margin not to bring down the house of cards is very thin and not so many brains and surviving know about.","body":"I work on modernizing and giving some fresh air on an old MinecraftForge mod, limited to Java8, and an awful code style. So there are objects with way too many states, way too many responsibilities. Replacing awfully long constructors with builders is one good improvement with maintaining deprecated methods for compatibility with surrounding closed source ARR mods. I mean, it is a community project and the margins for improvements are very wide, but the safe margin not to bring down the house of cards is very thin and not so many brains and surviving know about."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":2,"creation_date":1658624272,"post_id":73095055,"comment_id":129097331,"body_markdown":"Kill 2 problems with one stone: problem 1: Generally speaking,  documentation in the form of comments is an anti pattern nowadays - you should name things well enough that they don&#39;t need documentation. The rare exception is particular nuances of a method contract. Problem 2: Don&#39;t write *any* code! Solution: Add Lombok&#39;s `@Builder` annotation to your class and you&#39;re done!","body":"Kill 2 problems with one stone: problem 1: Generally speaking,  documentation in the form of comments is an anti pattern nowadays - you should name things well enough that they don&#39;t need documentation. The rare exception is particular nuances of a method contract. Problem 2: Don&#39;t write <i>any</i> code! Solution: Add Lombok&#39;s <code>@Builder</code> annotation to your class and you&#39;re done!"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1658628686,"post_id":73095055,"comment_id":129097734,"body_markdown":"@L&#233;aGris I believe you didn&#39;t get a point. If you have mandatory params you need to instantiate builder instance like `Builder builder(param1, param2)`,  doing that you automatically differentiate mandatory and optional parameters","body":"@L&#233;aGris I believe you didn&#39;t get a point. If you have mandatory params you need to instantiate builder instance like <code>Builder builder(param1, param2)</code>,  doing that you automatically differentiate mandatory and optional parameters"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1658631694,"post_id":73095055,"comment_id":129097999,"body_markdown":"There aren&#39;t any specific Javadoc tags for documenting builders, at least not provided by the default doclet. You could define your own tags, but that might be more work than it&#39;s worth. I would look at how other builders are documented (both in the JDK and in third-party libraries), and then use the approach that you like best.","body":"There aren&#39;t any specific Javadoc tags for documenting builders, at least not provided by the default doclet. You could define your own tags, but that might be more work than it&#39;s worth. I would look at how other builders are documented (both in the JDK and in third-party libraries), and then use the approach that you like best."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1658677485,"post_id":73095055,"comment_id":129105149,"body_markdown":"@Bohemian I respectfully but vehemently disagree.  Method names can’t tell other developers constraints on arguments and return types.  Method names can’t explain the reasons for throwing particular exceptions.  Method names can’t expand on the meaning of industry-specific terms.  And Lombok is toxic garbage in my opinion;  it is the opposite of object-oriented development in more ways than I have room to list.","body":"@Bohemian I respectfully but vehemently disagree.  Method names can’t tell other developers constraints on arguments and return types.  Method names can’t explain the reasons for throwing particular exceptions.  Method names can’t expand on the meaning of industry-specific terms.  And Lombok is toxic garbage in my opinion;  it is the opposite of object-oriented development in more ways than I have room to list."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1658693502,"post_id":73095055,"comment_id":129108759,"body_markdown":"@vgr if you take the time to read my comment, you&#39;ll see I support comments for *method contract* nuances, which includes all the things you complain about. Not just methods, but parameters and exceptions also should self-explain by their names. As for Lombok... lol","body":"@vgr if you take the time to read my comment, you&#39;ll see I support comments for <i>method contract</i> nuances, which includes all the things you complain about. Not just methods, but parameters and exceptions also should self-explain by their names. As for Lombok... lol"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1658715769,"post_id":73095055,"comment_id":129111956,"body_markdown":"@Bohemian Could you give an example of the kind of documentation you think is an anti-pattern? If you support documenting method contracts, including the parameters and exceptions, then I&#39;m not sure I understand the first point of your first comment. I also think overly descriptive names is an anti-pattern itself (we have plain-language documentation for a reason).","body":"@Bohemian Could you give an example of the kind of documentation you think is an anti-pattern? If you support documenting method contracts, including the parameters and exceptions, then I&#39;m not sure I understand the first point of your first comment. I also think overly descriptive names is an anti-pattern itself (we have plain-language documentation for a reason)."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1658732656,"post_id":73095055,"comment_id":129114651,"body_markdown":"@slaw if the method name is sufficient to imply its contract, do not add comments/doc. eg `Optional&lt;Post&gt; getMostRecentPost(int userId) throws NoSuchUserException` need no documentation or explanation of any kind. If a chunk of code needs comments, that a big red flag for breaking out the chunk into its own method and naming it with an terse version of the comments. btw, I reject PRs if there are comments that aren&#39;t absolutely needed due to peculiarities that can&#39;t be addressed by better naming of things. Add my teams haven&#39;t deployed any bugs for many, many years, so the pattern works.","body":"@slaw if the method name is sufficient to imply its contract, do not add comments/doc. eg <code>Optional&lt;Post&gt; getMostRecentPost(int userId) throws NoSuchUserException</code> need no documentation or explanation of any kind. If a chunk of code needs comments, that a big red flag for breaking out the chunk into its own method and naming it with an terse version of the comments. btw, I reject PRs if there are comments that aren&#39;t absolutely needed due to peculiarities that can&#39;t be addressed by better naming of things. Add my teams haven&#39;t deployed any bugs for many, many years, so the pattern works."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1658790588,"post_id":73095055,"comment_id":129134669,"body_markdown":"@Bohemian That makes sense, though it&#39;s also basically just a getter method (regardless of how &quot;complex&quot; it is under the hood). Getters and setters are almost always straightforward. And I wouldn&#39;t consider that an overly descriptive name either. However, &quot;proper&quot; behavior methods (in the context of OOP) often, in my admittedly inferior experience, need more explanation (or otherwise a ridiculously long name).","body":"@Bohemian That makes sense, though it&#39;s also basically just a getter method (regardless of how &quot;complex&quot; it is under the hood). Getters and setters are almost always straightforward. And I wouldn&#39;t consider that an overly descriptive name either. However, &quot;proper&quot; behavior methods (in the context of OOP) often, in my admittedly inferior experience, need more explanation (or otherwise a ridiculously long name)."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":2,"creation_date":1658797628,"post_id":73095055,"comment_id":129135736,"body_markdown":"@slaw that was just an example. At the very least the method should need minimal comments - that is, what *can* be implied by good naming should be (a method name like `findFirstPostExceptThoseMadeOnNewYearsEve()` is obviously ridiculous). Whatever remains that can&#39;t be simply implied by good naming warrants a comment. See [POLA](https://en.wikipedia.org/wiki/Principle_of_least_astonishment).","body":"@slaw that was just an example. At the very least the method should need minimal comments - that is, what <i>can</i> be implied by good naming should be (a method name like <code>findFirstPostExceptThoseMadeOnNewYearsEve()</code> is obviously ridiculous). Whatever remains that can&#39;t be simply implied by good naming warrants a comment. See <a href=\"https://en.wikipedia.org/wiki/Principle_of_least_astonishment\" rel=\"nofollow noreferrer\">POLA</a>."},{"owner":{"account_id":1716782,"reputation":266,"user_id":1573682,"display_name":"Peter Verhas"},"score":0,"creation_date":1663332141,"post_id":73095055,"comment_id":130220524,"body_markdown":"A more advanced form of the builder pattern is when you design fluent API. The drawback is that it will need a lot different interfaces. On the other hand, when you use the, API, the different interface types as return values will guide the user through the API. The IDE will offer only the methods that are usable at that point.\n\nTo ease the maintenance of these interfaces, I created a code generation tool, Java::, Geci, that can create them—using that the &quot;grammar&quot; of the fluent API is a &quot;regular expression&quot; over the methods, which itself is very readable documentation of the grammar.","body":"A more advanced form of the builder pattern is when you design fluent API. The drawback is that it will need a lot different interfaces. On the other hand, when you use the, API, the different interface types as return values will guide the user through the API. The IDE will offer only the methods that are usable at that point.  To ease the maintenance of these interfaces, I created a code generation tool, Java::, Geci, that can create them—using that the &quot;grammar&quot; of the fluent API is a &quot;regular expression&quot; over the methods, which itself is very readable documentation of the grammar."}],"answers":[{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1661099665,"creation_date":1658651494,"answer_id":73096846,"question_id":73095055,"body_markdown":"Already your first assumption (&quot;I *can* add a JavaDoc to the Class and each individual Method, […]&quot;) is wrong.\r\n\r\nDocumentation is still mandatory, and it should be done as closely to the source as possible. A JavaDoc comment is *part* of the source, so it cannot be closer!\r\n\r\nPeople telling you that comments are an &quot;anti-pattern&quot; nowadays do not have a clue or are too lazy to type or both – and when you read the source for that &quot;anti-pattern&quot; crap, you will find that it talks about *inline* comments explaining what&#39;s happening in your code, but not about *externalisable comments* for documentation purposes – so not about JavaDoc or Doxygen comments (or how the respective tools are named in other languages).\r\n\r\nTo your question: a builder class will be documented like any other class as well, with the keywords provided by JavaDoc and proper descriptive text. If you are too lazy to add this text manually, you can write your own extension to JavaDoc and define your own keywords that will generate that text for you.\r\n\r\nOr you create your own `Annotation` and refer to that in the main description. My sample below does both (annotation and descriptive text), to give you an idea what I am talking about (the definition for the annotation `@IsMandatory` is omitted).\r\n\r\nBut usually, a `Builder` will not have methods for mandatory attributes; instead these are the arguments for the `Builder`&#39;s constructor.\r\n\r\n```java\r\n/**\r\n *  &lt;p&gt;{@summary Builder for new instances of\r\n *  {@link MyObject}.}&lt;/p&gt;\r\n *  &lt;p&gt;Attributes whose setter methods are marked with the\r\n *  {@link IsMandatory &amp;#64;IsMandatory}\r\n *  annotation are – obviously – mandatory. If not set before\r\n *  {@link #build()}\r\n *  is called, an\r\n *  {@link IllegalStateException}\r\n *  will be thrown.&lt;/p&gt;\r\n *  &lt;p&gt;In particular, these are the attributes&lt;/p&gt;\r\n *  &lt;ul&gt;\r\n *    &lt;li&gt;{@link #setName(String) name}&lt;/li&gt;\r\n *    … \r\n *  &lt;/ul&gt;\r\n */  \r\npublic final class MyObjectBuilder\r\n{\r\n  /**\r\n   *  Creates a new instance of {@code MyObjectBuilder}.\r\n   */\r\n  public MyObjectBuilder() {…}\r\n\r\n  /**\r\n   *  Creates a new instance of\r\n   *  {@link MyObject}.\r\n   *\r\n   *  @return The new instance.\r\n   *  @throws IllegalStateException A mandatory attribute was not yet set.\r\n   */\r\n   public final MyObject build() throws IllegalStateException {…}\r\n\r\n  /**\r\n   *  &lt;p&gt;{@summary Sets the name for the new instance of\r\n   *  {@link MyObject}.} It can be any arbitrary string with more than\r\n   *  one character that is not\r\n   *  {@linkplain String#isBlank() blank}.&lt;/p&gt;\r\n   *  &lt;p&gt;&lt;b&gt;Note:&lt;/b&gt; This attribute is mandatory! If missing,\r\n   *  {@link #build()}\r\n   *  will throw an\r\n   *  {@link IllegalStateException}.&lt;/p&gt;\r\n   *\r\n   *  @param name The name for the new instance.\r\n   *  @throws NullPointerException {@code name} is {@code null}.\r\n   *  @throws IllegalArgumentException {@code name} is the empty string, or\r\n   *      it is\r\n   *      {@linkplain String#isBlank() blank}.\r\n   */\r\n  @IsMandatory\r\n  public final void setName( final String name ) throws NullPointerException, IllegalArgumentException {…}\r\n\r\n  /**\r\n   *  Sets the other attribute for the new instance of\r\n   *  {@link MyObject}.\r\n   *\r\n   *  @param other The other attribute.\r\n   */\r\n  public final void setOther( final Object other ) {…}\r\n}\r\n```\r\n\r\nHave fun!","title":"How to document a Builder with its methods using JavaDoc","body":"<p>Already your first assumption (&quot;I <em>can</em> add a JavaDoc to the Class and each individual Method, […]&quot;) is wrong.</p>\n<p>Documentation is still mandatory, and it should be done as closely to the source as possible. A JavaDoc comment is <em>part</em> of the source, so it cannot be closer!</p>\n<p>People telling you that comments are an &quot;anti-pattern&quot; nowadays do not have a clue or are too lazy to type or both – and when you read the source for that &quot;anti-pattern&quot; crap, you will find that it talks about <em>inline</em> comments explaining what's happening in your code, but not about <em>externalisable comments</em> for documentation purposes – so not about JavaDoc or Doxygen comments (or how the respective tools are named in other languages).</p>\n<p>To your question: a builder class will be documented like any other class as well, with the keywords provided by JavaDoc and proper descriptive text. If you are too lazy to add this text manually, you can write your own extension to JavaDoc and define your own keywords that will generate that text for you.</p>\n<p>Or you create your own <code>Annotation</code> and refer to that in the main description. My sample below does both (annotation and descriptive text), to give you an idea what I am talking about (the definition for the annotation <code>@IsMandatory</code> is omitted).</p>\n<p>But usually, a <code>Builder</code> will not have methods for mandatory attributes; instead these are the arguments for the <code>Builder</code>'s constructor.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n *  &lt;p&gt;{@summary Builder for new instances of\n *  {@link MyObject}.}&lt;/p&gt;\n *  &lt;p&gt;Attributes whose setter methods are marked with the\n *  {@link IsMandatory &amp;#64;IsMandatory}\n *  annotation are – obviously – mandatory. If not set before\n *  {@link #build()}\n *  is called, an\n *  {@link IllegalStateException}\n *  will be thrown.&lt;/p&gt;\n *  &lt;p&gt;In particular, these are the attributes&lt;/p&gt;\n *  &lt;ul&gt;\n *    &lt;li&gt;{@link #setName(String) name}&lt;/li&gt;\n *    … \n *  &lt;/ul&gt;\n */  \npublic final class MyObjectBuilder\n{\n  /**\n   *  Creates a new instance of {@code MyObjectBuilder}.\n   */\n  public MyObjectBuilder() {…}\n\n  /**\n   *  Creates a new instance of\n   *  {@link MyObject}.\n   *\n   *  @return The new instance.\n   *  @throws IllegalStateException A mandatory attribute was not yet set.\n   */\n   public final MyObject build() throws IllegalStateException {…}\n\n  /**\n   *  &lt;p&gt;{@summary Sets the name for the new instance of\n   *  {@link MyObject}.} It can be any arbitrary string with more than\n   *  one character that is not\n   *  {@linkplain String#isBlank() blank}.&lt;/p&gt;\n   *  &lt;p&gt;&lt;b&gt;Note:&lt;/b&gt; This attribute is mandatory! If missing,\n   *  {@link #build()}\n   *  will throw an\n   *  {@link IllegalStateException}.&lt;/p&gt;\n   *\n   *  @param name The name for the new instance.\n   *  @throws NullPointerException {@code name} is {@code null}.\n   *  @throws IllegalArgumentException {@code name} is the empty string, or\n   *      it is\n   *      {@linkplain String#isBlank() blank}.\n   */\n  @IsMandatory\n  public final void setName( final String name ) throws NullPointerException, IllegalArgumentException {…}\n\n  /**\n   *  Sets the other attribute for the new instance of\n   *  {@link MyObject}.\n   *\n   *  @param other The other attribute.\n   */\n  public final void setOther( final Object other ) {…}\n}\n</code></pre>\n<p>Have fun!</p>\n"}],"owner":{"account_id":6014861,"reputation":18112,"user_id":7939871,"display_name":"L&#233;a Gris"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":672,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73096846,"answer_count":1,"score":0,"last_activity_date":1661099665,"creation_date":1658622862,"question_id":73095055,"body_markdown":"I like to use the Builder pattern to instantiate objects of classes with complex states rather than using too many constructor arguments.\r\n\r\nI can add a JavaDoc to the Class and each individual Method, but none of the JavaDoc keywords I know seems really fit to document the specificity of a builder, like what settings are mandatory, what are the defaults for optional settings.\r\n\r\nIf I document mandatory or optional and defaults for each individual method, it feels like the documentation is spread too much to get a global picture of it. Same if I document only the final `build()` method telling when it can build the instance with what defaults, and when it cannot.\r\n\r\nNone of these options seems really satisfying. It feels like JavaDoc does not fit so well with builder pattern but was designed for legacy Object Oriented code style; this or I don&#39;t understand it well enough.\r\n\r\nI searched the https://www.oracle.com/technical-resources/articles/java/javadoc-tool.html documentation but could not find an answer or guidance for documenting a Builder with proper tags.\r\n\r\n`@param` looked like a valid candidate to document all the `setFoo`, `withBar`, `addBaz` from a builder at one place like the Builder class itself, but it seems not appropriate for this kind of usage.\r\n\r\nHow to properly document a Builder in JavaDoc or some other more appropriate tool?","title":"How to document a Builder with its methods using JavaDoc","body":"<p>I like to use the Builder pattern to instantiate objects of classes with complex states rather than using too many constructor arguments.</p>\n<p>I can add a JavaDoc to the Class and each individual Method, but none of the JavaDoc keywords I know seems really fit to document the specificity of a builder, like what settings are mandatory, what are the defaults for optional settings.</p>\n<p>If I document mandatory or optional and defaults for each individual method, it feels like the documentation is spread too much to get a global picture of it. Same if I document only the final <code>build()</code> method telling when it can build the instance with what defaults, and when it cannot.</p>\n<p>None of these options seems really satisfying. It feels like JavaDoc does not fit so well with builder pattern but was designed for legacy Object Oriented code style; this or I don't understand it well enough.</p>\n<p>I searched the <a href=\"https://www.oracle.com/technical-resources/articles/java/javadoc-tool.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/technical-resources/articles/java/javadoc-tool.html</a> documentation but could not find an answer or guidance for documenting a Builder with proper tags.</p>\n<p><code>@param</code> looked like a valid candidate to document all the <code>setFoo</code>, <code>withBar</code>, <code>addBaz</code> from a builder at one place like the Builder class itself, but it seems not appropriate for this kind of usage.</p>\n<p>How to properly document a Builder in JavaDoc or some other more appropriate tool?</p>\n"},{"tags":["java","eclipse","eclipse-kepler"],"comments":[{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":1,"creation_date":1377873684,"post_id":18534146,"comment_id":27261125,"body_markdown":"Try to restart eclipse.","body":"Try to restart eclipse."}],"answers":[{"tags":[],"owner":{"account_id":5041822,"reputation":1,"user_id":4048946,"display_name":"Kumarakuru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661099602,"creation_date":1660554791,"answer_id":73358952,"question_id":18534146,"body_markdown":"The following is working for me (maybe some combination of the build command you can try):\r\n\r\n```lang-xml\r\n&lt;buildSpec&gt;\r\n    &lt;buildCommand&gt;\r\n        &lt;name&gt;org.eclipse.wst.common.project.facet.core.builder&lt;/name&gt;\r\n        &lt;arguments&gt;\r\n        &lt;/arguments&gt;\r\n    &lt;/buildCommand&gt;\r\n    &lt;buildCommand&gt;\r\n        &lt;name&gt;org.eclipse.m2e.core.maven2Builder&lt;/name&gt;\r\n        &lt;arguments&gt;\r\n        &lt;/arguments&gt;\r\n    &lt;/buildCommand&gt;\r\n    &lt;buildCommand&gt;\r\n        &lt;name&gt;org.eclipse.wst.validation.validationbuilder&lt;/name&gt;\r\n        &lt;arguments&gt;\r\n        &lt;/arguments&gt;\r\n    &lt;/buildCommand&gt;\r\n    &lt;buildCommand&gt;\r\n        &lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;/name&gt;\r\n        &lt;arguments&gt;\r\n        &lt;/arguments&gt;\r\n    &lt;/buildCommand&gt;\r\n&lt;/buildSpec&gt;\r\n```\r\n\r\n\r\n\r\n","title":"This Eclipse error icon in the package explorer is not showing","body":"<p>The following is working for me (maybe some combination of the build command you can try):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;buildSpec&gt;\n    &lt;buildCommand&gt;\n        &lt;name&gt;org.eclipse.wst.common.project.facet.core.builder&lt;/name&gt;\n        &lt;arguments&gt;\n        &lt;/arguments&gt;\n    &lt;/buildCommand&gt;\n    &lt;buildCommand&gt;\n        &lt;name&gt;org.eclipse.m2e.core.maven2Builder&lt;/name&gt;\n        &lt;arguments&gt;\n        &lt;/arguments&gt;\n    &lt;/buildCommand&gt;\n    &lt;buildCommand&gt;\n        &lt;name&gt;org.eclipse.wst.validation.validationbuilder&lt;/name&gt;\n        &lt;arguments&gt;\n        &lt;/arguments&gt;\n    &lt;/buildCommand&gt;\n    &lt;buildCommand&gt;\n        &lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;/name&gt;\n        &lt;arguments&gt;\n        &lt;/arguments&gt;\n    &lt;/buildCommand&gt;\n&lt;/buildSpec&gt;\n</code></pre>\n"}],"owner":{"account_id":2991817,"reputation":325,"user_id":2539254,"accept_rate":0,"display_name":"falconbur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":848,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1661099602,"creation_date":1377869403,"question_id":18534146,"body_markdown":"The error icon in the package explorer is not showing (on top of the file icon), even though it shows on the right bar when the file is opened.\r\n\r\n*.project* has *org.eclipse.jdt.core.javabuilder* in its build command.\r\n\r\nWhat else could be wrong?\r\n\r\n","title":"This Eclipse error icon in the package explorer is not showing","body":"<p>The error icon in the package explorer is not showing (on top of the file icon), even though it shows on the right bar when the file is opened.</p>\n<p><em>.project</em> has <em>org.eclipse.jdt.core.javabuilder</em> in its build command.</p>\n<p>What else could be wrong?</p>\n"},{"tags":["java","mockito","spy"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661098720,"creation_date":1661098720,"answer_id":73436181,"question_id":73435744,"body_markdown":"I&#39;ve had the same problem recently, and it&#39;s caused by how Java 17 and up (possibly earlier, but at least after Java 11) works in combination with Mockito. Instance fields of spied objects remain `null`.\r\n\r\nThe solution is very simple - replace `mockito-core` with `mockito-inline`. Same groupId, same version, just a different artifactId.","title":"Spy with mockito a class extending ArrayBlockingQueue","body":"<p>I've had the same problem recently, and it's caused by how Java 17 and up (possibly earlier, but at least after Java 11) works in combination with Mockito. Instance fields of spied objects remain <code>null</code>.</p>\n<p>The solution is very simple - replace <code>mockito-core</code> with <code>mockito-inline</code>. Same groupId, same version, just a different artifactId.</p>\n"}],"owner":{"account_id":4171406,"reputation":33,"user_id":3419082,"display_name":"user3419082"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73436181,"answer_count":1,"score":1,"last_activity_date":1661098720,"creation_date":1661095358,"question_id":73435744,"body_markdown":"Hello anyone would know how to spy a class that is extending `ArrayBlockingQueue`? For example I want to spy the following `MyBufferQueue` class\r\n```java\r\npublic class MyBufferQueue extends ArrayBlockingQueue&lt;MyBuffer&gt; {}\r\n```\r\nInside of `ArrayBlockingQueue` class that belongs to java library, there is this method:\r\n```java\r\npublic void put(E e) throws InterruptedException {\r\n   Objects.requireNonNull(e);\r\n   final ReentrantLock lock = this.lock;\r\n   lock.lockInterruptibly();\r\n   try {\r\n       while (count == items.length)\r\n       notFull.await();\r\n       enqueue(e);\r\n   } finally {\r\n       lock.unlock();\r\n   }\r\n}\r\n```\r\n\r\nThe problem I have is that when I am spying the class `MyBufferQueue` and during the test when it is accessed the method `ArrayBlockingQueue.put(E e)`, I am getting a `NullPointerException` in `this.lock`, when it is supposed that it shouldn&#39;t be `null` as I am creating a new instance of `MyBufferQueue` in my test, and when creating the new instance the fields inside of `ArrayBlockingQueue` should be instantiated too as `ArrayBlockingQueue` is the super class.\r\n\r\nThis is how would look the test method:\r\n\r\n```java\r\n@Test\r\nvoid testMyBuffer() {\r\n    MyBufferQueue queue = spy(new MyBufferQueue(1));\r\n    doNothing().when(queue).retryAll();\r\n    \r\n    queue.consumeFullQueue();\r\n\r\n    verify(queue).retryAll();\r\n}\r\n```\r\n\r\nFor spying I am using Mockito version mockito-core:4.7.0 and I am using Java 18.\r\n\r\nThanks in advance.","title":"Spy with mockito a class extending ArrayBlockingQueue","body":"<p>Hello anyone would know how to spy a class that is extending <code>ArrayBlockingQueue</code>? For example I want to spy the following <code>MyBufferQueue</code> class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyBufferQueue extends ArrayBlockingQueue&lt;MyBuffer&gt; {}\n</code></pre>\n<p>Inside of <code>ArrayBlockingQueue</code> class that belongs to java library, there is this method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void put(E e) throws InterruptedException {\n   Objects.requireNonNull(e);\n   final ReentrantLock lock = this.lock;\n   lock.lockInterruptibly();\n   try {\n       while (count == items.length)\n       notFull.await();\n       enqueue(e);\n   } finally {\n       lock.unlock();\n   }\n}\n</code></pre>\n<p>The problem I have is that when I am spying the class <code>MyBufferQueue</code> and during the test when it is accessed the method <code>ArrayBlockingQueue.put(E e)</code>, I am getting a <code>NullPointerException</code> in <code>this.lock</code>, when it is supposed that it shouldn't be <code>null</code> as I am creating a new instance of <code>MyBufferQueue</code> in my test, and when creating the new instance the fields inside of <code>ArrayBlockingQueue</code> should be instantiated too as <code>ArrayBlockingQueue</code> is the super class.</p>\n<p>This is how would look the test method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid testMyBuffer() {\n    MyBufferQueue queue = spy(new MyBufferQueue(1));\n    doNothing().when(queue).retryAll();\n    \n    queue.consumeFullQueue();\n\n    verify(queue).retryAll();\n}\n</code></pre>\n<p>For spying I am using Mockito version mockito-core:4.7.0 and I am using Java 18.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","c++"],"comments":[{"owner":{"account_id":9067781,"reputation":30720,"user_id":6752050,"display_name":"273K"},"score":1,"creation_date":1661066685,"post_id":73432388,"comment_id":129679388,"body_markdown":"What is `token`?","body":"What is <code>token</code>?"},{"owner":{"account_id":22362589,"reputation":13,"user_id":16578922,"display_name":"Dihan"},"score":0,"creation_date":1661067137,"post_id":73432388,"comment_id":129679459,"body_markdown":"token  has been used  to take input.\n```\n\nchar token() { \n    char ch;\n    std::cin &gt;&gt; ch;\n    return ch;\n}\n```","body":"token  has been used  to take input. ```  char token() {      char ch;     std::cin &gt;&gt; ch;     return ch; } ```"},{"owner":{"account_id":16608944,"reputation":38402,"user_id":12002570,"display_name":"user12002570"},"score":1,"creation_date":1661067280,"post_id":73432388,"comment_id":129679482,"body_markdown":"@Dihan Add all the relevant information in your question as a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) instead of posting in the comment section.","body":"@Dihan Add all the relevant information in your question as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> instead of posting in the comment section."},{"owner":{"account_id":473095,"reputation":85243,"user_id":882003,"accept_rate":78,"display_name":"john"},"score":1,"creation_date":1661069094,"post_id":73432388,"comment_id":129679723,"body_markdown":"`unget` just returns the last read character to the input stream, so that the next read will read that character again. If Java I/O doesn&#39;t have such a function you will just have to code it yourself (hint: use a one character buffer which read checks first before doing an actual read, unget simply places a character in that buffer, it&#39;s an error to do two ungets in a row, so a one character buffer is all that is required).","body":"<code>unget</code> just returns the last read character to the input stream, so that the next read will read that character again. If Java I/O doesn&#39;t have such a function you will just have to code it yourself (hint: use a one character buffer which read checks first before doing an actual read, unget simply places a character in that buffer, it&#39;s an error to do two ungets in a row, so a one character buffer is all that is required)."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1661261949,"post_id":73432388,"comment_id":129726285,"body_markdown":"You could also look at [`PushbackInputStream`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/PushbackInputStream.html) or [`PushbackReader`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/PushbackReader.html) and their `unread` methods.","body":"You could also look at <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/PushbackInputStream.html\" rel=\"nofollow noreferrer\"><code>PushbackInputStream</code></a> or <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/PushbackReader.html\" rel=\"nofollow noreferrer\"><code>PushbackReader</code></a> and their <code>unread</code> methods."}],"answers":[{"tags":[],"owner":{"account_id":2298677,"reputation":1,"user_id":2019507,"display_name":"stana"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1661069274,"creation_date":1661067536,"answer_id":73432501,"question_id":73432388,"body_markdown":"I suggest to use the scanner class to read from console. It can check if for example the next chars on the console are a int, or a given pattern (the math expression) and if so it loads the input. \r\n\r\nFor example: \r\n\r\n    // Using Scanner for Getting Input from User\r\n    String mathematicalOperation = &quot;\\([0123456789+-]*\\)&quot; ;\r\n    Pattern pattern = Pattern.compile(mathematicalOperation);\r\n    Scanner in = new Scanner(System.in);\r\n    if(in.hasNextInt){ \r\n       val = in.nextInt();}\r\n    else if (in.hasNext(Pattern pattern) ) {\r\n       String expresionRaw = in.next(Pattern pattern);\r\n       val = expreion(expresionRaw);\r\n    }\r\n \r\n\r\nOr this : if unget moves the input pointer back then if you are using in java this can be done with the reset() methid of the BufferedReader  class\r\n    ","title":"unget() in Java","body":"<p>I suggest to use the scanner class to read from console. It can check if for example the next chars on the console are a int, or a given pattern (the math expression) and if so it loads the input.</p>\n<p>For example:</p>\n<pre><code>// Using Scanner for Getting Input from User\nString mathematicalOperation = &quot;\\([0123456789+-]*\\)&quot; ;\nPattern pattern = Pattern.compile(mathematicalOperation);\nScanner in = new Scanner(System.in);\nif(in.hasNextInt){ \n   val = in.nextInt();}\nelse if (in.hasNext(Pattern pattern) ) {\n   String expresionRaw = in.next(Pattern pattern);\n   val = expreion(expresionRaw);\n}\n</code></pre>\n<p>Or this : if unget moves the input pointer back then if you are using in java this can be done with the reset() methid of the BufferedReader  class</p>\n"},{"tags":[],"owner":{"account_id":9067781,"reputation":30720,"user_id":6752050,"display_name":"273K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661098361,"creation_date":1661098041,"answer_id":73436103,"question_id":73432388,"body_markdown":"`InputStream` interface in Java supports two methods `mark` and `reset`, subclasses may or may not support them.\r\n\r\n```lang-java\r\nif (!stream.markSupported())\r\n  stream = new BufferedInputStream(stream);  // Supports mark/reset\r\n\r\n// If a C++ function calls unget(), call mark() before token()\r\n// in a Java function, or let token() call mark(),\r\n// and call reset() instead of unget().\r\nstream.mark();  // Remember current position in stream\r\n// read data, process data\r\nstream.reset();  // Rewind to the remembered position","title":"unget() in Java","body":"<p><code>InputStream</code> interface in Java supports two methods <code>mark</code> and <code>reset</code>, subclasses may or may not support them.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (!stream.markSupported())\n  stream = new BufferedInputStream(stream);  // Supports mark/reset\n\n// If a C++ function calls unget(), call mark() before token()\n// in a Java function, or let token() call mark(),\n// and call reset() instead of unget().\nstream.mark();  // Remember current position in stream\n// read data, process data\nstream.reset();  // Rewind to the remembered position\n</code></pre>\n"}],"owner":{"account_id":22362589,"reputation":13,"user_id":16578922,"display_name":"Dihan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1661098361,"creation_date":1661066400,"question_id":73432388,"body_markdown":"I am trying to convert this C++ program to Java.\r\n```\r\n\r\ndouble expression();\r\n\r\nchar token() { \r\n    char ch;\r\n    std::cin &gt;&gt; ch;\r\n    return ch;\r\n}\r\n\r\ndouble factor() { \r\n    double val = 0;\r\n    char ch = token();\r\n    if (ch == &#39;(&#39;) {\r\n        val = expression();\r\n        ch = token();\r\n        if (ch != &#39;)&#39;) {\r\n            std::string error = std::string(&quot;Expected &#39;)&#39;, got: &quot;) + ch;\r\n            throw std::runtime_error(error.c_str());\r\n        }\r\n    }\r\n    else if (isdigit(ch)) {\r\n        std::cin.unget();\r\n        std::cin &gt;&gt; val;\r\n    }\r\n   else throw std::runtime_error(&quot;Unexpected character&quot;);\r\n    return val;\r\n}\r\n\r\ndouble term() { \r\n    int ch;\r\n    double val = factor();\r\n    ch = token();\r\n    if (ch == &#39;*&#39; || ch == &#39;/&#39;) {\r\n        double b = term();\r\n        if (ch == &#39;*&#39;)\r\n            val *= b;\r\n        else\r\n            val /= b;\r\n    }\r\n    else std::cin.unget(); // here it is\r\n    return val;\r\n}\r\n\r\ndouble  expression() {\r\n    double val = term();\r\n    char ch = token();\r\n    if (ch == &#39;-&#39; || ch==&#39;+&#39;) {\r\n        double b = expression();\r\n        if (ch == &#39;+&#39;)\r\n            val += b;\r\n        else\r\n            val -= b;\r\n    }\r\n    else std::cin.unget();\r\n    return val;\r\n}\r\n```\r\nThe program can evaluate (or simplify) mathematical expressions (i.e. (5+6-(6*2)/3) ) \r\nIn term(), &quot;unget&quot; the character if the character is equivalent to any digit. But I can&#39;t find &quot;unget()&quot; in Java. And I am a little bit confused regarding this &quot;Unget&quot; operation. \r\n\r\n**What can I replace with the equivalent of &quot;unget()&quot; in C++ for Java?**\r\n\r\n","title":"unget() in Java","body":"<p>I am trying to convert this C++ program to Java.</p>\n<pre><code>\ndouble expression();\n\nchar token() { \n    char ch;\n    std::cin &gt;&gt; ch;\n    return ch;\n}\n\ndouble factor() { \n    double val = 0;\n    char ch = token();\n    if (ch == '(') {\n        val = expression();\n        ch = token();\n        if (ch != ')') {\n            std::string error = std::string(&quot;Expected ')', got: &quot;) + ch;\n            throw std::runtime_error(error.c_str());\n        }\n    }\n    else if (isdigit(ch)) {\n        std::cin.unget();\n        std::cin &gt;&gt; val;\n    }\n   else throw std::runtime_error(&quot;Unexpected character&quot;);\n    return val;\n}\n\ndouble term() { \n    int ch;\n    double val = factor();\n    ch = token();\n    if (ch == '*' || ch == '/') {\n        double b = term();\n        if (ch == '*')\n            val *= b;\n        else\n            val /= b;\n    }\n    else std::cin.unget(); // here it is\n    return val;\n}\n\ndouble  expression() {\n    double val = term();\n    char ch = token();\n    if (ch == '-' || ch=='+') {\n        double b = expression();\n        if (ch == '+')\n            val += b;\n        else\n            val -= b;\n    }\n    else std::cin.unget();\n    return val;\n}\n</code></pre>\n<p>The program can evaluate (or simplify) mathematical expressions (i.e. (5+6-(6*2)/3) )\nIn term(), &quot;unget&quot; the character if the character is equivalent to any digit. But I can't find &quot;unget()&quot; in Java. And I am a little bit confused regarding this &quot;Unget&quot; operation.</p>\n<p><strong>What can I replace with the equivalent of &quot;unget()&quot; in C++ for Java?</strong></p>\n"},{"tags":["java","java-ee-8"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1660946456,"post_id":73422444,"comment_id":129662088,"body_markdown":"Can you show the code of `parseRequest`?","body":"Can you show the code of <code>parseRequest</code>?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1660948532,"post_id":73422444,"comment_id":129662497,"body_markdown":"Are you sure this is where the problem is? You&#39;ve set your DiskFileUpload instance to use the disk for storage. Do you later call FileItem.get()?","body":"Are you sure this is where the problem is? You&#39;ve set your DiskFileUpload instance to use the disk for storage. Do you later call FileItem.get()?"},{"owner":{"account_id":17697380,"reputation":31,"user_id":12847803,"display_name":"Luna Project"},"score":0,"creation_date":1660948764,"post_id":73422444,"comment_id":129662542,"body_markdown":"Yeah, actually here is when the code crash, let me explain the program runs very well, but when the application manage to upload more than 10mb (of total size it&#39;s more than 10k docs 100kb each), it crashes, with java heap size error. FileItem.get() not a single time called. I used this apache classes: https://commons.apache.org/proper/commons-fileupload/apidocs/org/apache/commons/fileupload/DiskFileUpload.html\n\nand of course increasing the jvm heap size memory it&#39;s not even close an option :(","body":"Yeah, actually here is when the code crash, let me explain the program runs very well, but when the application manage to upload more than 10mb (of total size it&#39;s more than 10k docs 100kb each), it crashes, with java heap size error. FileItem.get() not a single time called. I used this apache classes: <a href=\"https://commons.apache.org/proper/commons-fileupload/apidocs/org/apache/commons/fileupload/DiskFileUpload.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-fileupload/apidocs/org/apa&zwnj;&#8203;che/&hellip;</a>  and of course increasing the jvm heap size memory it&#39;s not even close an option :("},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1660956540,"post_id":73422444,"comment_id":129663599,"body_markdown":"What do you see when you analyse the heap dump?","body":"What do you see when you analyse the heap dump?"}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660996710,"creation_date":1660996710,"answer_id":73426520,"question_id":73422444,"body_markdown":"You are using deprecated the class `DiskFileUpload` so it may be worth updating your application to use `ServletFileUpload` together with `DiskFileItemFactory` instead.\r\n\r\nThe `setSizeThreshold` value determines the size threshold at which memory or file saves are used by **each** item in the group of uploads, so it is likely your problem is due to the combination of your large 1MB `setSizeThreshold()` call with big number of files and so might be fixed by reducing the size to a low value.\r\n","title":"How to upload multiple files on java","body":"<p>You are using deprecated the class <code>DiskFileUpload</code> so it may be worth updating your application to use <code>ServletFileUpload</code> together with <code>DiskFileItemFactory</code> instead.</p>\n<p>The <code>setSizeThreshold</code> value determines the size threshold at which memory or file saves are used by <strong>each</strong> item in the group of uploads, so it is likely your problem is due to the combination of your large 1MB <code>setSizeThreshold()</code> call with big number of files and so might be fixed by reducing the size to a low value.</p>\n"}],"owner":{"account_id":17697380,"reputation":31,"user_id":12847803,"display_name":"Luna Project"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"accepted_answer_id":73426520,"answer_count":1,"score":-3,"last_activity_date":1661097864,"creation_date":1660944731,"question_id":73422444,"body_markdown":"I have &quot;folder&quot; filled with documents, that i need to upload, i already used apache fileUpload but this &quot;upload the entire folder to the jvm heap memory&quot; so if the user have a folder with 100mb of docs, the application will launch java heap size error.\r\n\r\nSo in java there is a way to read the &quot;folder&quot; and upload files one by one instead of charging 100mb of documents at once directly to the jvm heap memory?\r\n\r\n-No, theres no possible way to add more mb on jvm heap size.\r\n\r\n\r\nthe java code \r\n\r\n    \t\tDiskFileUpload upload = new DiskFileUpload();\r\n\r\n\t\t\tupload.setSizeThreshold(1024 * 1024 * 1);\r\n\t\t\tupload.setSizeMax(-1);\r\n\r\n\t\t\tList&lt;FileItem&gt; items = null;\r\n\t\t\ttry {\r\n\t\t\t\titems = parseRequest(req, upload);\r\n\t\t\t} catch (FileUploadException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t\tmsg = new String[1];\r\n\t\t\t\tmsg[0] = e.getMessage();\r\n\t\t\t\tsession = req.getSession(true);\r\n\t\t\t\tsession.setAttribute(&quot;msg&quot;, msg);\r\n\t\t\t\tresp.sendRedirect(&quot;front/Alerts.jsp?ok=false&quot;);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\tprotected List&lt;FileItem&gt; parseRequest(HttpServletRequest req, DiskFileUpload upload)\r\n\t\t\tthrows IOException, FileUploadException {\r\n\t\treturn upload.parseRequest(req);\r\n\t}\r\n\r\n","title":"How to upload multiple files on java","body":"<p>I have &quot;folder&quot; filled with documents, that i need to upload, i already used apache fileUpload but this &quot;upload the entire folder to the jvm heap memory&quot; so if the user have a folder with 100mb of docs, the application will launch java heap size error.</p>\n<p>So in java there is a way to read the &quot;folder&quot; and upload files one by one instead of charging 100mb of documents at once directly to the jvm heap memory?</p>\n<p>-No, theres no possible way to add more mb on jvm heap size.</p>\n<p>the java code</p>\n<pre><code>        DiskFileUpload upload = new DiskFileUpload();\n\n        upload.setSizeThreshold(1024 * 1024 * 1);\n        upload.setSizeMax(-1);\n\n        List&lt;FileItem&gt; items = null;\n        try {\n            items = parseRequest(req, upload);\n        } catch (FileUploadException e) {\n            e.printStackTrace();\n            msg = new String[1];\n            msg[0] = e.getMessage();\n            session = req.getSession(true);\n            session.setAttribute(&quot;msg&quot;, msg);\n            resp.sendRedirect(&quot;front/Alerts.jsp?ok=false&quot;);\n            return;\n        }\n\nprotected List&lt;FileItem&gt; parseRequest(HttpServletRequest req, DiskFileUpload upload)\n        throws IOException, FileUploadException {\n    return upload.parseRequest(req);\n}\n</code></pre>\n"},{"tags":["java","file","encryption","file-io","hash"],"answers":[{"tags":[],"owner":{"account_id":1714973,"reputation":4655,"user_id":1572267,"display_name":"nerdybeardo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1356339610,"creation_date":1356339610,"answer_id":14019226,"question_id":14018971,"body_markdown":"**Option 1 Hash**\r\n\r\nUsing a cryptographic hash algorithm such as SHA-256 or SHA-128 will make your file names longer, and although would provide *pretty good* assurance that it&#39;s unique there&#39;s nothing guaranteeing that (all hash algorithms suffer from the Birthday paradox).\r\n\r\nSince there&#39;s nothing guaranteeing that SHA-256 or SHA-128 will generate a file name that is unique, and depending on the level of security you need you may want to look at Adler32.  This algorithm is not going to be anywhere near as secure as the SHA family, mainly because the resulting hash size is so small you can brute force it pretty easily.  However Adler32 can provide obfuscation of the file name.\r\n\r\nBecause the resulting hash size of Alder32 is small (32 bits) the chance of collisions is much higher than the SHA family as well, therefore you will definitely need to keep some sort of table that has your file names and their corresponding hash values (and recommended in either this or the SHA case).  That table can be a simple list stored in a cache, but the main reason is that if you get a collision you will need to change your value to calculate a new hash.\r\n\r\n**Option 2 Encryption**\r\n\r\nEncryption will not make your data smaller, at best it will be the same size (if your data size is evenly divisible by the block size of the algorithm).  However it will retain all the data without the need to keep a table going of the encrypted values.  If you decide to go with encryption rather than a hash I would use AES for no other reason than that is the standard these days.  Encrypting the file name is such a small amount of data that you will probably not notice any difference among the algorithms, but if you are paranoid enough you can look into the AES instruction sets on the [Intel CPU&#39;s][1].  \r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/AES_instruction_set","title":"Encrypting and Compressing a file name","body":"<p><strong>Option 1 Hash</strong></p>\n\n<p>Using a cryptographic hash algorithm such as SHA-256 or SHA-128 will make your file names longer, and although would provide <em>pretty good</em> assurance that it's unique there's nothing guaranteeing that (all hash algorithms suffer from the Birthday paradox).</p>\n\n<p>Since there's nothing guaranteeing that SHA-256 or SHA-128 will generate a file name that is unique, and depending on the level of security you need you may want to look at Adler32.  This algorithm is not going to be anywhere near as secure as the SHA family, mainly because the resulting hash size is so small you can brute force it pretty easily.  However Adler32 can provide obfuscation of the file name.</p>\n\n<p>Because the resulting hash size of Alder32 is small (32 bits) the chance of collisions is much higher than the SHA family as well, therefore you will definitely need to keep some sort of table that has your file names and their corresponding hash values (and recommended in either this or the SHA case).  That table can be a simple list stored in a cache, but the main reason is that if you get a collision you will need to change your value to calculate a new hash.</p>\n\n<p><strong>Option 2 Encryption</strong></p>\n\n<p>Encryption will not make your data smaller, at best it will be the same size (if your data size is evenly divisible by the block size of the algorithm).  However it will retain all the data without the need to keep a table going of the encrypted values.  If you decide to go with encryption rather than a hash I would use AES for no other reason than that is the standard these days.  Encrypting the file name is such a small amount of data that you will probably not notice any difference among the algorithms, but if you are paranoid enough you can look into the AES instruction sets on the <a href=\"http://en.wikipedia.org/wiki/AES_instruction_set\" rel=\"nofollow\">Intel CPU's</a>.  </p>\n"}],"owner":{"account_id":955113,"reputation":851,"user_id":980571,"accept_rate":0,"display_name":"kapil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1390,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661097024,"creation_date":1356337793,"question_id":14018971,"body_markdown":"Say, I have a file with informations about an object. I create it with a name so that the filename itself contains certain information about the object like the object Id, object Parent Id, some other meta-id information and the file sequence number. This is done since the file is available acorss different modules and to avoid multiple database access for meta-information of file.\r\n\r\nfilename = &quot;OB&quot;+fileId+parentId+metaId+sequence+&quot;.txt&quot; \r\n\r\nsequence starts from 00001 to 99999 (could be very large also)\r\n\r\nSo, each digit at each index has a specific meaning\r\n\r\nNow, the file information is to be made available to a program outside our application and I don&#39;t want the other applications to know the details that I use.So, i am thinking of using encryption or hashing of filename before sending the file, with a response file name within the file also encrypted or hashed, and they shall send me a response with the encrypted/hashed response filename  based on the contents of the file\r\n\r\nThere are 2 challanges :\r\n\r\n1. the fastest and easiest way to do this without involving database \r\n\r\n2. the filename is long about 25 characters (with other id and sequence info), so i want the resulting filename to be smaller (as small as possible) and of standard size.\r\n\r\nOr any alternate mechanism that can be used???\r\n\r\n","title":"Encrypting and Compressing a file name","body":"<p>Say, I have a file with informations about an object. I create it with a name so that the filename itself contains certain information about the object like the object Id, object Parent Id, some other meta-id information and the file sequence number. This is done since the file is available acorss different modules and to avoid multiple database access for meta-information of file.</p>\n\n<p>filename = \"OB\"+fileId+parentId+metaId+sequence+\".txt\" </p>\n\n<p>sequence starts from 00001 to 99999 (could be very large also)</p>\n\n<p>So, each digit at each index has a specific meaning</p>\n\n<p>Now, the file information is to be made available to a program outside our application and I don't want the other applications to know the details that I use.So, i am thinking of using encryption or hashing of filename before sending the file, with a response file name within the file also encrypted or hashed, and they shall send me a response with the encrypted/hashed response filename  based on the contents of the file</p>\n\n<p>There are 2 challanges :</p>\n\n<ol>\n<li><p>the fastest and easiest way to do this without involving database </p></li>\n<li><p>the filename is long about 25 characters (with other id and sequence info), so i want the resulting filename to be smaller (as small as possible) and of standard size.</p></li>\n</ol>\n\n<p>Or any alternate mechanism that can be used???</p>\n"},{"tags":["java","regex","replace","regex-group","regex-replace"],"comments":[{"owner":{"account_id":10840066,"reputation":483,"user_id":7971629,"display_name":"csoler"},"score":1,"creation_date":1661045002,"post_id":73431083,"comment_id":129677167,"body_markdown":"a little confused by how its worded. what exactly are you trying to replace? the START END and everything inbetween? or just some specific characters inbetween START and END?","body":"a little confused by how its worded. what exactly are you trying to replace? the START END and everything inbetween? or just some specific characters inbetween START and END?"},{"owner":{"account_id":17054841,"reputation":23,"user_id":12339641,"display_name":"Jens"},"score":0,"creation_date":1661045587,"post_id":73431083,"comment_id":129677215,"body_markdown":"only the quotes inbetween the START and END and nothing else, so any quotes that are not inbetween START and END should be left alone","body":"only the quotes inbetween the START and END and nothing else, so any quotes that are not inbetween START and END should be left alone"},{"owner":{"account_id":10840066,"reputation":483,"user_id":7971629,"display_name":"csoler"},"score":0,"creation_date":1661048588,"post_id":73431083,"comment_id":129677455,"body_markdown":"you could do something like this: `(?&lt;=START).*(&quot;).*(?=END)` and replace the1st group capture. I&#39;m not great with regex, but that&#39;s how i could figure it","body":"you could do something like this: <code>(?&lt;=START).*(&quot;).*(?=END)</code> and replace the1st group capture. I&#39;m not great with regex, but that&#39;s how i could figure it"},{"owner":{"account_id":10840066,"reputation":483,"user_id":7971629,"display_name":"csoler"},"score":0,"creation_date":1661048866,"post_id":73431083,"comment_id":129677482,"body_markdown":"[example of using named groups and replace](https://www.demo2s.com/java/java-regular-expressions-named-groups.html)","body":"<a href=\"https://www.demo2s.com/java/java-regular-expressions-named-groups.html\" rel=\"nofollow noreferrer\">example of using named groups and replace</a>"},{"owner":{"account_id":17054841,"reputation":23,"user_id":12339641,"display_name":"Jens"},"score":1,"creation_date":1661050958,"post_id":73431083,"comment_id":129677694,"body_markdown":"Thank you for your answer, but your suggestion only seems to cathch the last quote inbetween the START and END in a group and it skips any quotes that came before it.","body":"Thank you for your answer, but your suggestion only seems to cathch the last quote inbetween the START and END in a group and it skips any quotes that came before it."}],"answers":[{"tags":[],"owner":{"account_id":17054841,"reputation":23,"user_id":12339641,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661052755,"creation_date":1661052755,"answer_id":73431450,"question_id":73431083,"body_markdown":"For now i&#39;ve been able to solve it by creating 3 capture groups and continuously replacing the match until there are no more matches left. In this case I even had to insert a replace indentifier because replacing with \\&quot; would keep the &quot; char there and create an infinite loop. Then when there are no more matches left I replaced my identifier and i&#39;m now getting the expected result.\r\n\r\nI still feel like there has to be a way cleaner way to do this using only 1 replace statement...\r\n\r\nCode that worked for me:\r\n\r\n    class Playground {\r\n        public static void main(String[ ] args) {\r\n            String input = &quot;\\&quot;ThSTARTis is a\\&quot; te\\&quot;\\&quot;stEND \\&quot; !!!&quot;;\r\n    \r\n            String regex = &quot;(.*START.+)\\&quot;+(.*END+.*)&quot;;\r\n    \r\n            while(input.matches(regex)){\r\n                input = input.replaceAll(regex, &quot;$1---replace---$2&quot;);\r\n            }\r\n    \r\n            String result = input.replace(&quot;---replace---&quot;, &quot;\\\\\\&quot;&quot;);\r\n    \r\n            System.out.println(result);\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n    &quot;ThSTARTis is a\\&quot; te\\&quot;\\&quot;stEND &quot; !!!\r\n\r\nI would love any suggestions as to how I could solve this in a better/cleaner way.","title":"How do I replace a certain char in between 2 strings using regex","body":"<p>For now i've been able to solve it by creating 3 capture groups and continuously replacing the match until there are no more matches left. In this case I even had to insert a replace indentifier because replacing with &quot; would keep the &quot; char there and create an infinite loop. Then when there are no more matches left I replaced my identifier and i'm now getting the expected result.</p>\n<p>I still feel like there has to be a way cleaner way to do this using only 1 replace statement...</p>\n<p>Code that worked for me:</p>\n<pre><code>class Playground {\n    public static void main(String[ ] args) {\n        String input = &quot;\\&quot;ThSTARTis is a\\&quot; te\\&quot;\\&quot;stEND \\&quot; !!!&quot;;\n\n        String regex = &quot;(.*START.+)\\&quot;+(.*END+.*)&quot;;\n\n        while(input.matches(regex)){\n            input = input.replaceAll(regex, &quot;$1---replace---$2&quot;);\n        }\n\n        String result = input.replace(&quot;---replace---&quot;, &quot;\\\\\\&quot;&quot;);\n\n        System.out.println(result);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>&quot;ThSTARTis is a\\&quot; te\\&quot;\\&quot;stEND &quot; !!!\n</code></pre>\n<p>I would love any suggestions as to how I could solve this in a better/cleaner way.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661096195,"creation_date":1661079915,"answer_id":73433812,"question_id":73431083,"body_markdown":"Find all characters between `START` and `END`, and for those characters replace `&quot;` with `\\&quot;`.\r\n\r\nTo achieve this, apply a replacer function to all matches of characters between `START` and `END`:\r\n\r\n    string = Pattern.compile(&quot;(?&lt;=START).*?(?=END)&quot;).matcher(string)\r\n        .replaceAll(mr -&gt; mr.group().replace(&quot;\\&quot;&quot;, &quot;\\\\\\\\\\&quot;&quot;));\r\n\r\nwhich produces your expected output.\r\n\r\nSome notes on how this works.\r\n\r\nThis first step is to match all characters between `START` and `END`, which uses look arounds with a *reluctant* quantifier:\r\n\r\n    (?&lt;=START).*?(?=END)\r\n\r\nThe `?` after the `.*` changes the match from greedy (as *many* chars as possible while still matching) to reluctant (as *few* chars as possible while still matching). This prevents the middle quote in the following input from being altered:\r\n\r\n    START a&quot;b END c&quot;d START e&quot;f END\r\n\r\nA greedy quantifier will match from the first `START` all the way past the next `END` to the last `END`, incorrectly including `c&quot;d`.\r\n\r\nThe next step is for each match to replace `&quot;` with `\\&quot;`. The full match is group 0, or just `MatchResult#group`. and we don&#39;t need regex for this replacement - just plain string replace is enough (and yes, `replace()` replaces *all* occurrences).\r\n \r\n","title":"How do I replace a certain char in between 2 strings using regex","body":"<p>Find all characters between <code>START</code> and <code>END</code>, and for those characters replace <code>&quot;</code> with <code>\\&quot;</code>.</p>\n<p>To achieve this, apply a replacer function to all matches of characters between <code>START</code> and <code>END</code>:</p>\n<pre><code>string = Pattern.compile(&quot;(?&lt;=START).*?(?=END)&quot;).matcher(string)\n    .replaceAll(mr -&gt; mr.group().replace(&quot;\\&quot;&quot;, &quot;\\\\\\\\\\&quot;&quot;));\n</code></pre>\n<p>which produces your expected output.</p>\n<p>Some notes on how this works.</p>\n<p>This first step is to match all characters between <code>START</code> and <code>END</code>, which uses look arounds with a <em>reluctant</em> quantifier:</p>\n<pre><code>(?&lt;=START).*?(?=END)\n</code></pre>\n<p>The <code>?</code> after the <code>.*</code> changes the match from greedy (as <em>many</em> chars as possible while still matching) to reluctant (as <em>few</em> chars as possible while still matching). This prevents the middle quote in the following input from being altered:</p>\n<pre><code>START a&quot;b END c&quot;d START e&quot;f END\n</code></pre>\n<p>A greedy quantifier will match from the first <code>START</code> all the way past the next <code>END</code> to the last <code>END</code>, incorrectly including <code>c&quot;d</code>.</p>\n<p>The next step is for each match to replace <code>&quot;</code> with <code>\\&quot;</code>. The full match is group 0, or just <code>MatchResult#group</code>. and we don't need regex for this replacement - just plain string replace is enough (and yes, <code>replace()</code> replaces <em>all</em> occurrences).</p>\n"},{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661088645,"creation_date":1661088221,"answer_id":73434830,"question_id":73431083,"body_markdown":"Another option is to make use of the `\\G` anchor with 2 capture groups. In the replacement use the 2 capture groups followed by `\\&quot;`\r\n\r\n    (?:(START)(?=.*END)|\\G(?!^))((?:(?!START|END)(?&gt;\\\\+\\&quot;|[^\\r\\n\\&quot;]))*)\\&quot;\r\n\r\n**Explanation**\r\n\r\n- `(?:` Non capture group\r\n  - `(START)(?=.*END)` Capture **group 1**, match START and assert there is END to the right\r\n  - `|` Or\r\n  - `\\G(?!^)` Assert the current position at the end of the previous match\r\n- `)` Close non capture group\r\n- `(` Capture **group 2**\r\n  - `(?:` Non capture group\r\n    - `(?!START|END)` Negative lookhead, assert not START or END directly to the right\r\n    - `(?&gt;\\\\+\\&quot;|[^\\r\\n\\&quot;])` Match 1+ times `\\` followed by `&quot;` or match any char except `&quot;` or a newline\r\n  - `)*` Close the non capture group and optionally repeat it\r\n- `)` Close group 2\r\n- `\\&quot;` Match `&quot;`\r\n\r\nSee a [Java regex demo](https://regex101.com/r/IG2STe/1) and a [Java demo](https://ideone.com/HLxApo)\r\n\r\nFor example:\r\n\r\n    String regex = &quot;(?:(START)(?=.*END)|\\\\G(?!^))((?:(?!START|END)(?&gt;\\\\\\\\+\\\\\\&quot;|[^\\\\r\\\\n\\\\\\&quot;]))*)\\\\\\&quot;&quot;;\r\n    String string = &quot;This \\&quot; is START an \\&quot; example input END string \\&quot;\\&quot;\\n&quot;\r\n    + &quot;START This is a \\&quot;\\&quot; second example END\\n&quot;\r\n    + &quot;This\\&quot; is \\&quot;a START third example END \\&quot; \\&quot;&quot;;\r\n    String subst = &quot;$1$2\\\\\\\\\\&quot;&quot;;\r\n    \r\n    Pattern pattern = Pattern.compile(regex, Pattern.MULTILINE);\r\n    Matcher matcher = pattern.matcher(string);\r\n    \r\n    String result = matcher.replaceAll(subst);\r\n    \r\n    System.out.println(result);\r\n\r\nOutput\r\n\r\n    This &quot; is START an \\&quot; example input END string &quot;&quot;\r\n    START This is a \\&quot;\\&quot; second example END\r\n    This&quot; is &quot;a START third example END &quot; &quot;","title":"How do I replace a certain char in between 2 strings using regex","body":"<p>Another option is to make use of the <code>\\G</code> anchor with 2 capture groups. In the replacement use the 2 capture groups followed by <code>\\&quot;</code></p>\n<pre><code>(?:(START)(?=.*END)|\\G(?!^))((?:(?!START|END)(?&gt;\\\\+\\&quot;|[^\\r\\n\\&quot;]))*)\\&quot;\n</code></pre>\n<p><strong>Explanation</strong></p>\n<ul>\n<li><code>(?:</code> Non capture group\n<ul>\n<li><code>(START)(?=.*END)</code> Capture <strong>group 1</strong>, match START and assert there is END to the right</li>\n<li><code>|</code> Or</li>\n<li><code>\\G(?!^)</code> Assert the current position at the end of the previous match</li>\n</ul>\n</li>\n<li><code>)</code> Close non capture group</li>\n<li><code>(</code> Capture <strong>group 2</strong>\n<ul>\n<li><code>(?:</code> Non capture group\n<ul>\n<li><code>(?!START|END)</code> Negative lookhead, assert not START or END directly to the right</li>\n<li><code>(?&gt;\\\\+\\&quot;|[^\\r\\n\\&quot;])</code> Match 1+ times <code>\\</code> followed by <code>&quot;</code> or match any char except <code>&quot;</code> or a newline</li>\n</ul>\n</li>\n<li><code>)*</code> Close the non capture group and optionally repeat it</li>\n</ul>\n</li>\n<li><code>)</code> Close group 2</li>\n<li><code>\\&quot;</code> Match <code>&quot;</code></li>\n</ul>\n<p>See a <a href=\"https://regex101.com/r/IG2STe/1\" rel=\"nofollow noreferrer\">Java regex demo</a> and a <a href=\"https://ideone.com/HLxApo\" rel=\"nofollow noreferrer\">Java demo</a></p>\n<p>For example:</p>\n<pre><code>String regex = &quot;(?:(START)(?=.*END)|\\\\G(?!^))((?:(?!START|END)(?&gt;\\\\\\\\+\\\\\\&quot;|[^\\\\r\\\\n\\\\\\&quot;]))*)\\\\\\&quot;&quot;;\nString string = &quot;This \\&quot; is START an \\&quot; example input END string \\&quot;\\&quot;\\n&quot;\n+ &quot;START This is a \\&quot;\\&quot; second example END\\n&quot;\n+ &quot;This\\&quot; is \\&quot;a START third example END \\&quot; \\&quot;&quot;;\nString subst = &quot;$1$2\\\\\\\\\\&quot;&quot;;\n\nPattern pattern = Pattern.compile(regex, Pattern.MULTILINE);\nMatcher matcher = pattern.matcher(string);\n\nString result = matcher.replaceAll(subst);\n\nSystem.out.println(result);\n</code></pre>\n<p>Output</p>\n<pre><code>This &quot; is START an \\&quot; example input END string &quot;&quot;\nSTART This is a \\&quot;\\&quot; second example END\nThis&quot; is &quot;a START third example END &quot; &quot;\n</code></pre>\n"}],"owner":{"account_id":17054841,"reputation":23,"user_id":12339641,"display_name":"Jens"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":787,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73433812,"answer_count":3,"score":2,"last_activity_date":1661096195,"creation_date":1661044599,"question_id":73431083,"body_markdown":"I&#39;m new to regex and have been trying to work this out on my own but I don&#39;t seem to get it working. I have an input that contains start and end flags and I want to replace a certain char, but only if it&#39;s between the flags.\r\n\r\nSo for example if the start flag is START and the end flag is END and the char i&#39;m trying to replace is &quot; and I would be replacing it with \\\\\\&quot;\r\n\r\nI would say input.replaceAll(regex, &#39;\\\\\\\\\\\\&quot;&#39;);\r\n\r\nI tried making a regex to only match the correct &quot; chars but so far I have only been able to get it to match all chars between the flags and not just the &quot; chars. -&gt; ```(?&lt;=START)(.*)(?=END)```\r\n\r\nExample input:\r\n```\r\nThis &quot; is START an &quot; example input END string &quot;&quot;\r\nSTART This is a &quot;&quot; second example END\r\nThis&quot; is &quot;a START third example END &quot; &quot;\r\n```\r\n\r\nExpected output:\r\n```\r\nThis &quot; is START an \\&quot; example input END string &quot;&quot;\r\nSTART This is a \\&quot;\\&quot; second example END\r\nThis&quot; is &quot;a START third example END &quot; &quot;\r\n```","title":"How do I replace a certain char in between 2 strings using regex","body":"<p>I'm new to regex and have been trying to work this out on my own but I don't seem to get it working. I have an input that contains start and end flags and I want to replace a certain char, but only if it's between the flags.</p>\n<p>So for example if the start flag is START and the end flag is END and the char i'm trying to replace is &quot; and I would be replacing it with \\&quot;</p>\n<p>I would say input.replaceAll(regex, '\\\\\\&quot;');</p>\n<p>I tried making a regex to only match the correct &quot; chars but so far I have only been able to get it to match all chars between the flags and not just the &quot; chars. -&gt; <code>(?&lt;=START)(.*)(?=END)</code></p>\n<p>Example input:</p>\n<pre><code>This &quot; is START an &quot; example input END string &quot;&quot;\nSTART This is a &quot;&quot; second example END\nThis&quot; is &quot;a START third example END &quot; &quot;\n</code></pre>\n<p>Expected output:</p>\n<pre><code>This &quot; is START an \\&quot; example input END string &quot;&quot;\nSTART This is a \\&quot;\\&quot; second example END\nThis&quot; is &quot;a START third example END &quot; &quot;\n</code></pre>\n"},{"tags":["java","testing","mobile","appium","android-uiautomator"],"answers":[{"tags":[],"owner":{"account_id":4803885,"reputation":2349,"user_id":3879644,"display_name":"Raju"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660984670,"creation_date":1660984670,"answer_id":73425244,"question_id":73423154,"body_markdown":"This may work. You are trying to pass driver which is not accessible to your functions apart from the constructor. Then you are trying to create an object of the class in its definition itself.\r\n\r\n    @Step\r\n    public void login(String email, String password) {\r\n        WelcomeScreen welcomeScreen = new WelcomeScreen(this.driver);\r\n        welcomeScreen.clickLoginButton();\r\n        LoginScreen loginScreen = new LoginScreen(this.driver);\r\n        loginScreen.typeEmail(email);\r\n        loginScreen.clickNextButton();\r\n        this.typePassword(password);\r\n        this.clickLoginButton();\r\n    }","title":"Appium-UIAutomator2-Java: the same code works directly from test and doesn&#39;t work from a function called in test","body":"<p>This may work. You are trying to pass driver which is not accessible to your functions apart from the constructor. Then you are trying to create an object of the class in its definition itself.</p>\n<pre><code>@Step\npublic void login(String email, String password) {\n    WelcomeScreen welcomeScreen = new WelcomeScreen(this.driver);\n    welcomeScreen.clickLoginButton();\n    LoginScreen loginScreen = new LoginScreen(this.driver);\n    loginScreen.typeEmail(email);\n    loginScreen.clickNextButton();\n    this.typePassword(password);\n    this.clickLoginButton();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26111462,"reputation":1,"user_id":19805321,"display_name":"Anton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661095974,"creation_date":1661095974,"answer_id":73435829,"question_id":73423154,"body_markdown":"So all my problems are caused because I&#39;m calling the login() function from the PasswordScreen class. At that moment all the variables seems cannot be yet declared, because the screen is not open in the app.\r\nThe easiest solution was to move login() function to separate class and to call it from there. This solution allows to declare the variables in the right order while appropriate screen is open","title":"Appium-UIAutomator2-Java: the same code works directly from test and doesn&#39;t work from a function called in test","body":"<p>So all my problems are caused because I'm calling the login() function from the PasswordScreen class. At that moment all the variables seems cannot be yet declared, because the screen is not open in the app.\nThe easiest solution was to move login() function to separate class and to call it from there. This solution allows to declare the variables in the right order while appropriate screen is open</p>\n"}],"owner":{"account_id":26111462,"reputation":1,"user_id":19805321,"display_name":"Anton"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":602,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1661095974,"creation_date":1660952307,"question_id":73423154,"body_markdown":"I&#39;m writing mobile test using Appium+UIAutomator2+Java+JUnit5.\r\nThe point is when I&#39;m calling the code from the test everything works fine and all elements can be located. When I&#39;m using the same code in a PO model function, one element cannot be located and the test fails. I have no idea why.\r\n\r\nWorking solution:\r\n\r\n    @Test\r\n    public void loginTest () throws InterruptedException {\r\n        WelcomeScreen welcomeScreen = new WelcomeScreen(driver);\r\n        welcomeScreen.clickLoginButton();\r\n        LoginScreen loginScreen = new LoginScreen(driver);\r\n        loginScreen.typeEmail(&quot;email@test.com&quot;);\r\n        loginScreen.clickNextButton();\r\n        PasswordScreen passwordScreen = new PasswordScreen(driver);\r\n        passwordScreen.typePassword(&quot;Password12345&quot;);\r\n        passwordScreen.clickLoginButton();\r\n    }\r\n\r\nFailing solution (**upd below, works with one condition**):\r\n\r\n    @Test\r\n    public void loginTest () throws InterruptedException {\r\n        PasswordScreen passwordScreen = new PasswordScreen(driver);\r\n        passwordScreen.login(&quot;email@test.com&quot;, &quot;Password12345&quot;);\r\n    }\r\n\r\n**UPD (Aug 20, 2022)**: \r\nThe order of the code execution is first to find all the declared elements, only then the tests can be executed and class objects are created.\r\nOriginally I have helper wrapper function to allocate elements, that can process exceptions (I haven&#39;t paste it here to save some space in the beginning, will add it now below). \r\nUsing this function it becomes more interesting:\r\nRunning the test it still not able to find passwordInput element, but not fail the test, since the exception is processed. \r\nThis allows to start the test. The fun part is that when the class object PasswordScreen passwordScreen is created, no problem now happen and the test can be passed.\r\n\r\nHelper function:\r\n\r\n    public static Boolean xpathElementIsPresent(String text) {\r\n        Logger logger = Logger.getLogger(&quot;LOG:&quot;);\r\n        WebDriverWait wait = new WebDriverWait (driver, Duration.ofSeconds(5));\r\n        try {\r\n            wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(&quot;//*[@text=&#39;%s&#39;]&quot;.formatted(text))));\r\n            return true;\r\n        } catch (Exception e) {\r\n            logger.log(Level.WARNING,&quot;No element found by xpath: %s&quot;.formatted(text));\r\n            return false;\r\n        }\r\n    \r\n    public static WebElement findByXpath(String text) {\r\n        WebElement element;\r\n        if (xpathElementIsPresent(text)){\r\n            element = driver.findElement(By.xpath(&quot;//*[@text=&#39;%s&#39;]&quot;.formatted(text)));\r\n            return element;\r\n        }\r\n        return null;\r\n    }\r\n\r\nPasswordScreen class:\r\n\r\n    public class PasswordScreen extends BaseDriver {\r\n    \r\n        public  PasswordScreen (AndroidDriver driver) {\r\n            this.driver = driver;\r\n        }\r\n    \r\n    \r\n        /* private WebElement passwordInput = driver.findElement(By.xpath(&quot;//*[@text=&#39;%s&#39;]&quot;.formatted(&quot;Password&quot;))); \r\n    Using this code the original problem appears with the logs and exception provided below.\r\n    The WebElement can&#39;t be located in case of calling from passwordScreen.login(), \r\n    But works calling it from the test. login() function call from the class with tests also works */\r\n\r\n    private WebElement passwordInput = findByXpath(&quot;Password&quot;);\r\n    /* Finding element like this processes the NoSuchElementError and the test can be executed after that.\r\n    The main question now is why? */ \r\n        \r\n        private WebElement loginButton = findByAccessibilityId(&quot;Log in&quot;);\r\n      \r\n        @Step\r\n        public void typePassword(String password) {\r\n            WebElement passwordInput = this.passwordInput;\r\n            typeText(passwordInput, password);\r\n        }\r\n    \r\n        @Step\r\n        public void clickLoginButton() {\r\n            WebElement loginButton = this.loginButton;\r\n            loginButton.click();\r\n        }\r\n    \r\n       @Step\r\n        public void login(String email, String password) {\r\n            WelcomeScreen welcomeScreen = new WelcomeScreen(driver);\r\n            welcomeScreen.clickLoginButton();\r\n            LoginScreen loginScreen = new LoginScreen(driver);\r\n            loginScreen.typeEmail(email);\r\n            loginScreen.clickNextButton();\r\n            PasswordScreen passwordScreen = new PasswordScreen(driver);\r\n            passwordScreen.typePassword(password);\r\n            passwordScreen.clickLoginButton();\r\n        } // ^^^ Exact the same code that was used in working solution\r\n    }\r\n\r\nThe point is that LoginScreen class has absolutely the same logic and structure and WebElement emailInput there has no errors using the same finder.\r\n\r\nLogs:\r\n\r\n    [HTTP] {&quot;using&quot;:&quot;xpath&quot;,&quot;value&quot;:&quot;//*[@text=&#39;Password&#39;]&quot;}\r\n    [debug] [AndroidUiautomator2Driver@bda7 (7345ce7a)] Calling AppiumDriver.findElement() with args: [&quot;xpath&quot;,&quot;//*[@text=&#39;Password&#39;]&quot;,&quot;7345ce7a-7b53-4fe3-a3f2-79ca9f4f3073&quot;]\r\n    [debug] [AndroidUiautomator2Driver@bda7 (7345ce7a)] Valid locator strategies for this request: xpath, id, class name, accessibility id, css selector, -android uiautomator\r\n    [debug] [AndroidUiautomator2Driver@bda7 (7345ce7a)] Waiting up to 10000 ms for condition\r\n    [debug] [AndroidUiautomator2Driver@bda7 (7345ce7a)] Matched &#39;/element&#39; to command name &#39;findElement&#39;\r\n    [debug] [AndroidUiautomator2Driver@bda7 (7345ce7a)] Proxying [POST /element] to [POST http://127.0.0.1:8200/session/c63da5b5-f741-4b68-87ca-2bd161e3b3af/element] with body: {&quot;strategy&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//*[@text=&#39;Password&#39;]&quot;,&quot;context&quot;:&quot;&quot;,&quot;multiple&quot;:false}\r\n    [AndroidUiautomator2Driver@bda7 (7345ce7a)] Got response with status 404: {&quot;sessionId&quot;:&quot;c63da5b5-f741-4b68-87ca-2bd161e3b3af&quot;,&quot;value&quot;:{&quot;error&quot;:&quot;no such element&quot;,&quot;message&quot;:&quot;An element could not be located on the page using the given search parameters&quot;,&quot;stacktrace&quot;:&quot;io.appium.uiautomator2.common.exceptions.ElementNotFoundException: An element could not be located on the page using the given search parameters\\n\\tat io.appium.uiautomator2.handler.FindElement.findElement(FindElement.java:90)\\n\\tat io.appium.uiautomator2.handler.FindElement.safeHandle(FindElement.java:67)\\n\\tat io.appium.uiautomator2.handler.request.SafeRequestHandler.handle(SafeRequestHandler.java:59)\\n\\tat io.appium.uiautomator2.server.AppiumServlet.handleRequest(AppiumServlet.java:267)\\n\\tat io.appium.uiautomator2.server.AppiumServlet.handleHttpRequest(AppiumServlet.java:261)\\n\\tat io.appium.uiautomator2.http.ServerHandler.channelRead(ServerHandler.java:68)\\n\\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:366)\\n\\tat io.netty.channel.AbstractChannelHandlerCont...\r\n    [debug] [W3C] Matched W3C error code &#39;no such element&#39; to NoSuchElementError\r\n\r\nException:\r\n\r\n    An element could not be located on the page using the given search parameters.\r\n    For documentation on this error, please visit: https://selenium.dev/exceptions/#no_such_element\r\n    Build info: version: &#39;4.4.0&#39;, revision: &#39;e5c75ed026a&#39;\r\n    System info: host: &#39;ip-192-168-0-13.eu-west-1.compute.internal&#39;, ip: &#39;192.168.0.13&#39;, os.name: &#39;Mac OS X&#39;, os.arch: &#39;x86_64&#39;, os.version: &#39;12.5&#39;, java.version: &#39;17.0.4.1&#39;\r\n    Driver info: io.appium.java_client.android.AndroidDriver\r\n    Command: [7345ce7a-7b53-4fe3-a3f2-79ca9f4f3073, findElement {using=xpath, value=//*[@text=&#39;Password&#39;]}]\r\n    Capabilities {appium:app: /Users/.../IdeaPro..., appium:appPackage: com.org.wallet.cordova, appium:automationName: UiAutomator2, appium:databaseEnabled: false, appium:desired: {app: /Users/.../IdeaPro..., automationName: UiAutomator2, deviceName: emulator-5554, noReset: false, platformName: android}, appium:deviceApiLevel: 30, appium:deviceManufacturer: Google, appium:deviceModel: sdk_gphone_x86, appium:deviceName: emulator-5554, appium:deviceScreenDensity: 440, appium:deviceScreenSize: 1080x2160, appium:deviceUDID: emulator-5554, appium:javascriptEnabled: true, appium:locationContextEnabled: false, appium:networkConnectionEnabled: true, appium:noReset: false, appium:pixelRatio: 2.75, appium:platformVersion: 11, appium:statBarHeight: 66, appium:takesScreenshot: true, appium:viewportRect: {height: 1962, left: 0, top: 66, width: 1080}, appium:warnings: {}, appium:webStorageEnabled: false, platformName: ANDROID}\r\n    Session ID: 7345ce7a-7b53-4fe3-a3f2-79ca9f4f3073\r\n    org.openqa.selenium.NoSuchElementException: An element could not be located on the page using the given search parameters.\r\n    For documentation on this error, please visit: https://selenium.dev/exceptions/#no_such_element\r\n    Build info: version: &#39;4.4.0&#39;, revision: &#39;e5c75ed026a&#39;\r\n    System info: host: &#39;ip-192-168-0-13.eu-west-1.compute.internal&#39;, ip: &#39;192.168.0.13&#39;, os.name: &#39;Mac OS X&#39;, os.arch: &#39;x86_64&#39;, os.version: &#39;12.5&#39;, java.version: &#39;17.0.4.1&#39;\r\n    Driver info: io.appium.java_client.android.AndroidDriver\r\n    Command: [7345ce7a-7b53-4fe3-a3f2-79ca9f4f3073, findElement {using=xpath, value=//*[@text=&#39;Password&#39;]}]\r\n    Capabilities {appium:app: /Users/.../IdeaPro..., appium:appPackage: com.org.wallet.cordova, appium:automationName: UiAutomator2, appium:databaseEnabled: false, appium:desired: {app: /Users/.../IdeaPro..., automationName: UiAutomator2, deviceName: emulator-5554, noReset: false, platformName: android}, appium:deviceApiLevel: 30, appium:deviceManufacturer: Google, appium:deviceModel: sdk_gphone_x86, appium:deviceName: emulator-5554, appium:deviceScreenDensity: 440, appium:deviceScreenSize: 1080x2160, appium:deviceUDID: emulator-5554, appium:javascriptEnabled: true, appium:locationContextEnabled: false, appium:networkConnectionEnabled: true, appium:noReset: false, appium:pixelRatio: 2.75, appium:platformVersion: 11, appium:statBarHeight: 66, appium:takesScreenshot: true, appium:viewportRect: {height: 1962, left: 0, top: 66, width: 1080}, appium:warnings: {}, appium:webStorageEnabled: false, platformName: ANDROID}\r\n    Session ID: 7345ce7a-7b53-4fe3-a3f2-79ca9f4f3073\r\n    \tat java.base@17.0.4.1/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat java.base@17.0.4.1/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n    \tat java.base@17.0.4.1/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.base@17.0.4.1/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n    \tat java.base@17.0.4.1/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n    \tat app//org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\r\n    \tat app//org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\r\n    \tat app//org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:53)\r\n    \tat app//org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:184)\r\n    \tat app//io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:180)\r\n    \tat app//org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:547)\r\n    \tat app//org.openqa.selenium.remote.ElementLocation$ElementFinder$2.findElement(ElementLocation.java:162)\r\n    \tat app//org.openqa.selenium.remote.ElementLocation.findElement(ElementLocation.java:60)\r\n    \tat app//org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:365)\r\n    \tat app//org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:357)\r\n    \tat app//org.example.po.PasswordScreen.&lt;init&gt;(PasswordScreen.java:18)\r\n    \tat app//org.example.HealthCheckTest.basicTest(HealthCheckTest.java:31)\r\n    \tat java.base@17.0.4.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base@17.0.4.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base@17.0.4.1/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base@17.0.4.1/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat app//org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n    \tat app//org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n    \tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n    \tat app//org.junit.jupiter.api.extension.InvocationInterceptor.interceptTestMethod(InvocationInterceptor.java:118)\r\n    \tat app//org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n    \tat app//org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n    \tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n    \tat app//org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n    \tat app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n    \tat app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n    \tat app//org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n    \tat app//org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n    \tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n    \tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n    \tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n    \tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n    \tat app//org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n    \tat app//org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n    \tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\r\n    \tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n    \tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat java.base@17.0.4.1/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat java.base@17.0.4.1/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n    \tat app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n    \tat app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n    \tat app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n    \tat app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n    \tat app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n    \tat app//org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n    \tat app//org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n    \tat app//org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n    \tat app//org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n    \tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\r\n    \tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n    \tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n    \tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\r\n    \tat java.base@17.0.4.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base@17.0.4.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base@17.0.4.1/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base@17.0.4.1/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n    \tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n    \tat jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n    \tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n    \tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\r\n    \tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\r\n    \tat app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n    \tat app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)","title":"Appium-UIAutomator2-Java: the same code works directly from test and doesn&#39;t work from a function called in test","body":"<p>I'm writing mobile test using Appium+UIAutomator2+Java+JUnit5.\nThe point is when I'm calling the code from the test everything works fine and all elements can be located. When I'm using the same code in a PO model function, one element cannot be located and the test fails. I have no idea why.</p>\n<p>Working solution:</p>\n<pre><code>@Test\npublic void loginTest () throws InterruptedException {\n    WelcomeScreen welcomeScreen = new WelcomeScreen(driver);\n    welcomeScreen.clickLoginButton();\n    LoginScreen loginScreen = new LoginScreen(driver);\n    loginScreen.typeEmail(&quot;email@test.com&quot;);\n    loginScreen.clickNextButton();\n    PasswordScreen passwordScreen = new PasswordScreen(driver);\n    passwordScreen.typePassword(&quot;Password12345&quot;);\n    passwordScreen.clickLoginButton();\n}\n</code></pre>\n<p>Failing solution (<strong>upd below, works with one condition</strong>):</p>\n<pre><code>@Test\npublic void loginTest () throws InterruptedException {\n    PasswordScreen passwordScreen = new PasswordScreen(driver);\n    passwordScreen.login(&quot;email@test.com&quot;, &quot;Password12345&quot;);\n}\n</code></pre>\n<p><strong>UPD (Aug 20, 2022)</strong>:\nThe order of the code execution is first to find all the declared elements, only then the tests can be executed and class objects are created.\nOriginally I have helper wrapper function to allocate elements, that can process exceptions (I haven't paste it here to save some space in the beginning, will add it now below).\nUsing this function it becomes more interesting:\nRunning the test it still not able to find passwordInput element, but not fail the test, since the exception is processed.\nThis allows to start the test. The fun part is that when the class object PasswordScreen passwordScreen is created, no problem now happen and the test can be passed.</p>\n<p>Helper function:</p>\n<pre><code>public static Boolean xpathElementIsPresent(String text) {\n    Logger logger = Logger.getLogger(&quot;LOG:&quot;);\n    WebDriverWait wait = new WebDriverWait (driver, Duration.ofSeconds(5));\n    try {\n        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(&quot;//*[@text='%s']&quot;.formatted(text))));\n        return true;\n    } catch (Exception e) {\n        logger.log(Level.WARNING,&quot;No element found by xpath: %s&quot;.formatted(text));\n        return false;\n    }\n\npublic static WebElement findByXpath(String text) {\n    WebElement element;\n    if (xpathElementIsPresent(text)){\n        element = driver.findElement(By.xpath(&quot;//*[@text='%s']&quot;.formatted(text)));\n        return element;\n    }\n    return null;\n}\n</code></pre>\n<p>PasswordScreen class:</p>\n<pre><code>public class PasswordScreen extends BaseDriver {\n\n    public  PasswordScreen (AndroidDriver driver) {\n        this.driver = driver;\n    }\n\n\n    /* private WebElement passwordInput = driver.findElement(By.xpath(&quot;//*[@text='%s']&quot;.formatted(&quot;Password&quot;))); \nUsing this code the original problem appears with the logs and exception provided below.\nThe WebElement can't be located in case of calling from passwordScreen.login(), \nBut works calling it from the test. login() function call from the class with tests also works */\n\nprivate WebElement passwordInput = findByXpath(&quot;Password&quot;);\n/* Finding element like this processes the NoSuchElementError and the test can be executed after that.\nThe main question now is why? */ \n    \n    private WebElement loginButton = findByAccessibilityId(&quot;Log in&quot;);\n  \n    @Step\n    public void typePassword(String password) {\n        WebElement passwordInput = this.passwordInput;\n        typeText(passwordInput, password);\n    }\n\n    @Step\n    public void clickLoginButton() {\n        WebElement loginButton = this.loginButton;\n        loginButton.click();\n    }\n\n   @Step\n    public void login(String email, String password) {\n        WelcomeScreen welcomeScreen = new WelcomeScreen(driver);\n        welcomeScreen.clickLoginButton();\n        LoginScreen loginScreen = new LoginScreen(driver);\n        loginScreen.typeEmail(email);\n        loginScreen.clickNextButton();\n        PasswordScreen passwordScreen = new PasswordScreen(driver);\n        passwordScreen.typePassword(password);\n        passwordScreen.clickLoginButton();\n    } // ^^^ Exact the same code that was used in working solution\n}\n</code></pre>\n<p>The point is that LoginScreen class has absolutely the same logic and structure and WebElement emailInput there has no errors using the same finder.</p>\n<p>Logs:</p>\n<pre><code>[HTTP] {&quot;using&quot;:&quot;xpath&quot;,&quot;value&quot;:&quot;//*[@text='Password']&quot;}\n[debug] [AndroidUiautomator2Driver@bda7 (7345ce7a)] Calling AppiumDriver.findElement() with args: [&quot;xpath&quot;,&quot;//*[@text='Password']&quot;,&quot;7345ce7a-7b53-4fe3-a3f2-79ca9f4f3073&quot;]\n[debug] [AndroidUiautomator2Driver@bda7 (7345ce7a)] Valid locator strategies for this request: xpath, id, class name, accessibility id, css selector, -android uiautomator\n[debug] [AndroidUiautomator2Driver@bda7 (7345ce7a)] Waiting up to 10000 ms for condition\n[debug] [AndroidUiautomator2Driver@bda7 (7345ce7a)] Matched '/element' to command name 'findElement'\n[debug] [AndroidUiautomator2Driver@bda7 (7345ce7a)] Proxying [POST /element] to [POST http://127.0.0.1:8200/session/c63da5b5-f741-4b68-87ca-2bd161e3b3af/element] with body: {&quot;strategy&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//*[@text='Password']&quot;,&quot;context&quot;:&quot;&quot;,&quot;multiple&quot;:false}\n[AndroidUiautomator2Driver@bda7 (7345ce7a)] Got response with status 404: {&quot;sessionId&quot;:&quot;c63da5b5-f741-4b68-87ca-2bd161e3b3af&quot;,&quot;value&quot;:{&quot;error&quot;:&quot;no such element&quot;,&quot;message&quot;:&quot;An element could not be located on the page using the given search parameters&quot;,&quot;stacktrace&quot;:&quot;io.appium.uiautomator2.common.exceptions.ElementNotFoundException: An element could not be located on the page using the given search parameters\\n\\tat io.appium.uiautomator2.handler.FindElement.findElement(FindElement.java:90)\\n\\tat io.appium.uiautomator2.handler.FindElement.safeHandle(FindElement.java:67)\\n\\tat io.appium.uiautomator2.handler.request.SafeRequestHandler.handle(SafeRequestHandler.java:59)\\n\\tat io.appium.uiautomator2.server.AppiumServlet.handleRequest(AppiumServlet.java:267)\\n\\tat io.appium.uiautomator2.server.AppiumServlet.handleHttpRequest(AppiumServlet.java:261)\\n\\tat io.appium.uiautomator2.http.ServerHandler.channelRead(ServerHandler.java:68)\\n\\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:366)\\n\\tat io.netty.channel.AbstractChannelHandlerCont...\n[debug] [W3C] Matched W3C error code 'no such element' to NoSuchElementError\n</code></pre>\n<p>Exception:</p>\n<pre><code>An element could not be located on the page using the given search parameters.\nFor documentation on this error, please visit: https://selenium.dev/exceptions/#no_such_element\nBuild info: version: '4.4.0', revision: 'e5c75ed026a'\nSystem info: host: 'ip-192-168-0-13.eu-west-1.compute.internal', ip: '192.168.0.13', os.name: 'Mac OS X', os.arch: 'x86_64', os.version: '12.5', java.version: '17.0.4.1'\nDriver info: io.appium.java_client.android.AndroidDriver\nCommand: [7345ce7a-7b53-4fe3-a3f2-79ca9f4f3073, findElement {using=xpath, value=//*[@text='Password']}]\nCapabilities {appium:app: /Users/.../IdeaPro..., appium:appPackage: com.org.wallet.cordova, appium:automationName: UiAutomator2, appium:databaseEnabled: false, appium:desired: {app: /Users/.../IdeaPro..., automationName: UiAutomator2, deviceName: emulator-5554, noReset: false, platformName: android}, appium:deviceApiLevel: 30, appium:deviceManufacturer: Google, appium:deviceModel: sdk_gphone_x86, appium:deviceName: emulator-5554, appium:deviceScreenDensity: 440, appium:deviceScreenSize: 1080x2160, appium:deviceUDID: emulator-5554, appium:javascriptEnabled: true, appium:locationContextEnabled: false, appium:networkConnectionEnabled: true, appium:noReset: false, appium:pixelRatio: 2.75, appium:platformVersion: 11, appium:statBarHeight: 66, appium:takesScreenshot: true, appium:viewportRect: {height: 1962, left: 0, top: 66, width: 1080}, appium:warnings: {}, appium:webStorageEnabled: false, platformName: ANDROID}\nSession ID: 7345ce7a-7b53-4fe3-a3f2-79ca9f4f3073\norg.openqa.selenium.NoSuchElementException: An element could not be located on the page using the given search parameters.\nFor documentation on this error, please visit: https://selenium.dev/exceptions/#no_such_element\nBuild info: version: '4.4.0', revision: 'e5c75ed026a'\nSystem info: host: 'ip-192-168-0-13.eu-west-1.compute.internal', ip: '192.168.0.13', os.name: 'Mac OS X', os.arch: 'x86_64', os.version: '12.5', java.version: '17.0.4.1'\nDriver info: io.appium.java_client.android.AndroidDriver\nCommand: [7345ce7a-7b53-4fe3-a3f2-79ca9f4f3073, findElement {using=xpath, value=//*[@text='Password']}]\nCapabilities {appium:app: /Users/.../IdeaPro..., appium:appPackage: com.org.wallet.cordova, appium:automationName: UiAutomator2, appium:databaseEnabled: false, appium:desired: {app: /Users/.../IdeaPro..., automationName: UiAutomator2, deviceName: emulator-5554, noReset: false, platformName: android}, appium:deviceApiLevel: 30, appium:deviceManufacturer: Google, appium:deviceModel: sdk_gphone_x86, appium:deviceName: emulator-5554, appium:deviceScreenDensity: 440, appium:deviceScreenSize: 1080x2160, appium:deviceUDID: emulator-5554, appium:javascriptEnabled: true, appium:locationContextEnabled: false, appium:networkConnectionEnabled: true, appium:noReset: false, appium:pixelRatio: 2.75, appium:platformVersion: 11, appium:statBarHeight: 66, appium:takesScreenshot: true, appium:viewportRect: {height: 1962, left: 0, top: 66, width: 1080}, appium:warnings: {}, appium:webStorageEnabled: false, platformName: ANDROID}\nSession ID: 7345ce7a-7b53-4fe3-a3f2-79ca9f4f3073\n    at java.base@17.0.4.1/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base@17.0.4.1/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base@17.0.4.1/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base@17.0.4.1/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base@17.0.4.1/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at app//org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\n    at app//org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\n    at app//org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:53)\n    at app//org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:184)\n    at app//io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:180)\n    at app//org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:547)\n    at app//org.openqa.selenium.remote.ElementLocation$ElementFinder$2.findElement(ElementLocation.java:162)\n    at app//org.openqa.selenium.remote.ElementLocation.findElement(ElementLocation.java:60)\n    at app//org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:365)\n    at app//org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:357)\n    at app//org.example.po.PasswordScreen.&lt;init&gt;(PasswordScreen.java:18)\n    at app//org.example.HealthCheckTest.basicTest(HealthCheckTest.java:31)\n    at java.base@17.0.4.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base@17.0.4.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base@17.0.4.1/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@17.0.4.1/java.lang.reflect.Method.invoke(Method.java:568)\n    at app//org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\n    at app//org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at app//org.junit.jupiter.api.extension.InvocationInterceptor.interceptTestMethod(InvocationInterceptor.java:118)\n    at app//org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at app//org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at app//org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at app//org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at app//org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at app//org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base@17.0.4.1/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base@17.0.4.1/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at app//org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at app//org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at app//org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at app//org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at app//org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at app//org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\n    at java.base@17.0.4.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base@17.0.4.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base@17.0.4.1/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@17.0.4.1/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\n    at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661095704,"creation_date":1661095704,"answer_id":73435795,"question_id":73435670,"body_markdown":"&gt; But then why is in the docs?\r\n\r\nThe docs assume that this line of code is in a method of some implementation of `Context`, such as an `Activity` or `Service`.\r\n\r\n&gt; What should I put instead?\r\n\r\nEither:\r\n\r\n- Move this code into a method of some implementation of `Context`, such as an `Activity` or `Service`, or\r\n\r\n- Call `getSystemService()` on some instance of `Context`\r\n\r\nWe cannot give you more specific advice without knowing more about where you are attempting to use that line of code.","title":"How to use getSystemService for Android notification channel","body":"<blockquote>\n<p>But then why is in the docs?</p>\n</blockquote>\n<p>The docs assume that this line of code is in a method of some implementation of <code>Context</code>, such as an <code>Activity</code> or <code>Service</code>.</p>\n<blockquote>\n<p>What should I put instead?</p>\n</blockquote>\n<p>Either:</p>\n<ul>\n<li><p>Move this code into a method of some implementation of <code>Context</code>, such as an <code>Activity</code> or <code>Service</code>, or</p>\n</li>\n<li><p>Call <code>getSystemService()</code> on some instance of <code>Context</code></p>\n</li>\n</ul>\n<p>We cannot give you more specific advice without knowing more about where you are attempting to use that line of code.</p>\n"}],"owner":{"account_id":22380526,"reputation":81,"user_id":16594195,"display_name":"flowerboy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1661095704,"creation_date":1661094770,"question_id":73435670,"body_markdown":"So in the Android developer Docs (https://developer.android.com/training/notify-user/build-notification) it gives this line to create a notification channel:\r\n```\r\nNotificationManager notificationManager = getSystemService(NotificationManager.class);\r\n```\r\nBut with the exact code block copied I get the error:\r\n```\r\ncannot find symbol method getSystemService(Class&lt;NotificationManager&gt;)\r\n```\r\nI think that&#39;s a method but wasn&#39;t called from it&#39;s class (Context)? But then why is in the docs? What should I put instead?\r\n\r\n","title":"How to use getSystemService for Android notification channel","body":"<p>So in the Android developer Docs (<a href=\"https://developer.android.com/training/notify-user/build-notification\" rel=\"nofollow noreferrer\">https://developer.android.com/training/notify-user/build-notification</a>) it gives this line to create a notification channel:</p>\n<pre><code>NotificationManager notificationManager = getSystemService(NotificationManager.class);\n</code></pre>\n<p>But with the exact code block copied I get the error:</p>\n<pre><code>cannot find symbol method getSystemService(Class&lt;NotificationManager&gt;)\n</code></pre>\n<p>I think that's a method but wasn't called from it's class (Context)? But then why is in the docs? What should I put instead?</p>\n"},{"tags":["java","generics","bounded-wildcard"],"comments":[{"owner":{"account_id":2887198,"reputation":11081,"user_id":2476755,"accept_rate":91,"display_name":"royhowie"},"score":1,"creation_date":1429941602,"post_id":252055,"comment_id":47848874,"body_markdown":"In the case that [Ted Gao&#39;s](http://stackoverflow.com/users/970122/ted-gao) [answer](http://stackoverflow.com/a/9446233/2476755) is deleted (since it was link-only), here is the [blog post](http://ted-gao.blogspot.com/search/label/Java%20Generics) to which it linked.","body":"In the case that <a href=\"http://stackoverflow.com/users/970122/ted-gao\">Ted Gao&#39;s</a> <a href=\"http://stackoverflow.com/a/9446233/2476755\">answer</a> is deleted (since it was link-only), here is the <a href=\"http://ted-gao.blogspot.com/search/label/Java%20Generics\" rel=\"nofollow noreferrer\">blog post</a> to which it linked."}],"answers":[{"tags":[],"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"down_vote_count":1,"up_vote_count":138,"is_accepted":true,"score":137,"last_activity_date":1545831986,"creation_date":1225408226,"answer_id":252099,"question_id":252055,"body_markdown":"In your first question, `&lt;? extends T&gt;` and `&lt;? super T&gt;` are examples of bounded wildcards.  An unbounded wildcard looks like `&lt;?&gt;`, and basically means `&lt;? extends Object&gt;`.  It loosely means the generic can be any type.  A bounded wildcard (`&lt;? extends T&gt;` or `&lt;? super T&gt;`) places a restriction on the type by saying that it either has to *extend* a specific type (`&lt;? extends T&gt;` is known as an upper bound), or has to be an ancestor of a specific type (`&lt;? super T&gt;` is known as a lower bound).\r\n\r\nThe Java Tutorials have some pretty good explanations of generics in the articles [Wildcards][1] and [More Fun with Wildcards][2].\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/java/generics/wildcards.html\r\n  [2]: http://java.sun.com/docs/books/tutorial/extra/generics/morefun.html","title":"Java Generics (Wildcards)","body":"<p>In your first question, <code>&lt;? extends T&gt;</code> and <code>&lt;? super T&gt;</code> are examples of bounded wildcards.  An unbounded wildcard looks like <code>&lt;?&gt;</code>, and basically means <code>&lt;? extends Object&gt;</code>.  It loosely means the generic can be any type.  A bounded wildcard (<code>&lt;? extends T&gt;</code> or <code>&lt;? super T&gt;</code>) places a restriction on the type by saying that it either has to <em>extend</em> a specific type (<code>&lt;? extends T&gt;</code> is known as an upper bound), or has to be an ancestor of a specific type (<code>&lt;? super T&gt;</code> is known as a lower bound).</p>\n\n<p>The Java Tutorials have some pretty good explanations of generics in the articles <a href=\"http://java.sun.com/docs/books/tutorial/java/generics/wildcards.html\" rel=\"noreferrer\">Wildcards</a> and <a href=\"http://java.sun.com/docs/books/tutorial/extra/generics/morefun.html\" rel=\"noreferrer\">More Fun with Wildcards</a>.</p>\n"},{"tags":[],"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"down_vote_count":1,"up_vote_count":55,"is_accepted":false,"score":54,"last_activity_date":1661094487,"creation_date":1225408464,"answer_id":252109,"question_id":252055,"body_markdown":"If you have a class hierarchy `A`, `B` is a subclass of `A`, and `C` and `D` are both subclasses of `B` like below\r\n\r\n    class A {}\r\n    class B extends A {}\r\n    class C extends B {}\r\n    class D extends B {}\r\n \r\nThen\r\n\r\n    List&lt;? extends A&gt; la;\r\n    la = new ArrayList&lt;B&gt;();\r\n    la = new ArrayList&lt;C&gt;();\r\n    la = new ArrayList&lt;D&gt;();\r\n\r\n    List&lt;? super B&gt; lb;\r\n    lb = new ArrayList&lt;A&gt;(); //fine\r\n    lb = new ArrayList&lt;C&gt;(); //will not compile\r\n\r\n    public void someMethod(List&lt;? extends B&gt; lb) {\r\n        B b = lb.get(0); // is fine\r\n        lb.add(new C()); //will not compile as we do not know the type of the list, only that it is bounded above by B\r\n    }\r\n\r\n    public void otherMethod(List&lt;? super B&gt; lb) {\r\n        B b = lb.get(0); // will not compile as we do not know whether the list is of type B, it may be a List&lt;A&gt; and only contain instances of A\r\n        lb.add(new B()); // is fine, as we know that it will be a super type of A \r\n    }\r\n\r\nA bounded wildcard is like `? extends B` where `B` is some type. That is, the type is unknown but a &quot;bound&quot; can be placed on it. In this case, it is bounded by some class, which is a subclass of B.","title":"Java Generics (Wildcards)","body":"<p>If you have a class hierarchy <code>A</code>, <code>B</code> is a subclass of <code>A</code>, and <code>C</code> and <code>D</code> are both subclasses of <code>B</code> like below</p>\n<pre><code>class A {}\nclass B extends A {}\nclass C extends B {}\nclass D extends B {}\n</code></pre>\n<p>Then</p>\n<pre><code>List&lt;? extends A&gt; la;\nla = new ArrayList&lt;B&gt;();\nla = new ArrayList&lt;C&gt;();\nla = new ArrayList&lt;D&gt;();\n\nList&lt;? super B&gt; lb;\nlb = new ArrayList&lt;A&gt;(); //fine\nlb = new ArrayList&lt;C&gt;(); //will not compile\n\npublic void someMethod(List&lt;? extends B&gt; lb) {\n    B b = lb.get(0); // is fine\n    lb.add(new C()); //will not compile as we do not know the type of the list, only that it is bounded above by B\n}\n\npublic void otherMethod(List&lt;? super B&gt; lb) {\n    B b = lb.get(0); // will not compile as we do not know whether the list is of type B, it may be a List&lt;A&gt; and only contain instances of A\n    lb.add(new B()); // is fine, as we know that it will be a super type of A \n}\n</code></pre>\n<p>A bounded wildcard is like <code>? extends B</code> where <code>B</code> is some type. That is, the type is unknown but a &quot;bound&quot; can be placed on it. In this case, it is bounded by some class, which is a subclass of B.</p>\n"},{"tags":[],"owner":{"account_id":1016,"reputation":17962,"user_id":1348,"accept_rate":88,"display_name":"blank"},"down_vote_count":1,"up_vote_count":40,"is_accepted":false,"score":39,"last_activity_date":1225441360,"creation_date":1225440917,"answer_id":252860,"question_id":252055,"body_markdown":"Josh Bloch also has a good explanation of when to use `super` and `extends` in this [google io video talk][1] where he mentions the **Producer `extends` Consumer `super`** mnemonic. \r\n\r\nFrom the presentation slides:\r\n\r\n&gt;Suppose you want to add bulk methods to `Stack&lt;E&gt;`\r\n&gt;\r\n&gt;    `void pushAll(Collection&lt;? extends E&gt; src);`\r\n&gt;\r\n&gt;– src is an E producer\r\n&gt;\r\n&gt;    `void popAll(Collection&lt;? super E&gt; dst);`\r\n&gt;\r\n&gt;– dst is an E consumer\r\n&gt;\r\n  [1]: http://sites.google.com/site/io/effective-java-reloaded","title":"Java Generics (Wildcards)","body":"<p>Josh Bloch also has a good explanation of when to use <code>super</code> and <code>extends</code> in this <a href=\"http://sites.google.com/site/io/effective-java-reloaded\" rel=\"noreferrer\">google io video talk</a> where he mentions the <strong>Producer <code>extends</code> Consumer <code>super</code></strong> mnemonic. </p>\n\n<p>From the presentation slides:</p>\n\n<blockquote>\n  <p>Suppose you want to add bulk methods to <code>Stack&lt;E&gt;</code></p>\n  \n  <p><code>void pushAll(Collection&lt;? extends E&gt; src);</code></p>\n  \n  <p>– src is an E producer</p>\n  \n  <p><code>void popAll(Collection&lt;? super E&gt; dst);</code></p>\n  \n  <p>– dst is an E consumer</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3313640,"reputation":611,"user_id":2786474,"display_name":"Sandeep Kumar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1420710425,"creation_date":1420710425,"answer_id":27837085,"question_id":252055,"body_markdown":"There may be times when you&#39;ll want to restrict the kinds of types that are allowed to be passed to a type parameter. For example, a method that operates on numbers might only want to accept instances of Number or its subclasses. This is what bounded type parameters are for.\r\n\r\n    Collection&lt;? extends MyObject&gt; \r\nmeans that it can accept all object who have **IS- A** relationship with MyObject (i.e. any object which is a type of myObject or we can say any object of any subclass of MyObject) or a object of MyObject class.\r\n\r\nFor example:\r\n\r\n    class MyObject {}\r\n\r\n    class YourObject extends MyObject{}\r\n\r\n    class OurObject extends MyObject{}\r\n\r\nThen,\r\n\r\n    Collection&lt;? extends MyObject&gt; myObject; \r\nwill accept only MyObject or children of MyObject(i.e. any object of type OurObject or YourObject or MyObject, but not any object of superclass of MyObject). ","title":"Java Generics (Wildcards)","body":"<p>There may be times when you'll want to restrict the kinds of types that are allowed to be passed to a type parameter. For example, a method that operates on numbers might only want to accept instances of Number or its subclasses. This is what bounded type parameters are for.</p>\n\n<pre><code>Collection&lt;? extends MyObject&gt; \n</code></pre>\n\n<p>means that it can accept all object who have <strong>IS- A</strong> relationship with MyObject (i.e. any object which is a type of myObject or we can say any object of any subclass of MyObject) or a object of MyObject class.</p>\n\n<p>For example:</p>\n\n<pre><code>class MyObject {}\n\nclass YourObject extends MyObject{}\n\nclass OurObject extends MyObject{}\n</code></pre>\n\n<p>Then,</p>\n\n<pre><code>Collection&lt;? extends MyObject&gt; myObject; \n</code></pre>\n\n<p>will accept only MyObject or children of MyObject(i.e. any object of type OurObject or YourObject or MyObject, but not any object of superclass of MyObject). </p>\n"},{"tags":[],"owner":{"account_id":5374207,"reputation":3969,"user_id":4281711,"accept_rate":63,"display_name":"Prateek Joshi"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1434818043,"creation_date":1434818043,"answer_id":30956395,"question_id":252055,"body_markdown":"In general,\r\n\r\n&gt;  If a structure contains elements with a type of the form `? extends E`, we can get elements out of the structure, but we cannot put\r\n&gt; elements into the structure\r\n\r\n\r\n    List&lt;Integer&gt; ints = new ArrayList&lt;Integer&gt;();\r\n    ints.add(1);\r\n    ints.add(2);\r\n    List&lt;? extends Number&gt; nums = ints;\r\n    nums.add(3.14); // compile-time error\r\n    assert ints.toString().equals(&quot;[1, 2, 3.14]&quot;); \r\n\r\n\r\nTo put elements into the structure we need another kind of wildcard called `Wildcards with super`, \r\n\r\n   \r\n\r\n     List&lt;Object&gt; objs = Arrays.&lt;Object&gt;asList(2, 3.14, &quot;four&quot;);\r\n        List&lt;Integer&gt; ints = Arrays.asList(5, 6);\r\n        Collections.copy(objs, ints);\r\n        assert objs.toString().equals(&quot;[5, 6, four]&quot;);\r\n    \r\n        public static &lt;T&gt; void copy(List&lt;? super T&gt; dst, List&lt;? extends T&gt; src) {\r\n              for (int i = 0; i &lt; src.size(); i++) {\r\n                    dst.set(i, src.get(i));\r\n             }\r\n        }","title":"Java Generics (Wildcards)","body":"<p>In general,</p>\n\n<blockquote>\n  <p>If a structure contains elements with a type of the form <code>? extends E</code>, we can get elements out of the structure, but we cannot put\n  elements into the structure</p>\n</blockquote>\n\n<pre><code>List&lt;Integer&gt; ints = new ArrayList&lt;Integer&gt;();\nints.add(1);\nints.add(2);\nList&lt;? extends Number&gt; nums = ints;\nnums.add(3.14); // compile-time error\nassert ints.toString().equals(\"[1, 2, 3.14]\"); \n</code></pre>\n\n<p>To put elements into the structure we need another kind of wildcard called <code>Wildcards with super</code>, </p>\n\n<pre><code> List&lt;Object&gt; objs = Arrays.&lt;Object&gt;asList(2, 3.14, \"four\");\n    List&lt;Integer&gt; ints = Arrays.asList(5, 6);\n    Collections.copy(objs, ints);\n    assert objs.toString().equals(\"[5, 6, four]\");\n\n    public static &lt;T&gt; void copy(List&lt;? super T&gt; dst, List&lt;? extends T&gt; src) {\n          for (int i = 0; i &lt; src.size(); i++) {\n                dst.set(i, src.get(i));\n         }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4522475,"reputation":407,"user_id":3675231,"display_name":"taoxiaopang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1481102788,"creation_date":1481102788,"answer_id":41013693,"question_id":252055,"body_markdown":"Generic wildcards are created to make methods that operate on Collection more reusable.\r\n\r\nFor example, if a method has a parameter `List&lt;A&gt;`, we can only give `List&lt;A&gt;` to this method. It is a waste for this method&#39;s funtion under some circumstances：\r\n\r\n1. If this method only reads objects from `List&lt;A&gt;`, then we should be allowed to give `List&lt;A-sub&gt;` to this method. (Because A-sub IS a A)\r\n2. If this method only inserts objects to `List&lt;A&gt;`, then we should be allowed to give `List&lt;A-super&gt;` to this method. (Because A IS a A-super)","title":"Java Generics (Wildcards)","body":"<p>Generic wildcards are created to make methods that operate on Collection more reusable.</p>\n\n<p>For example, if a method has a parameter <code>List&lt;A&gt;</code>, we can only give <code>List&lt;A&gt;</code> to this method. It is a waste for this method's funtion under some circumstances：</p>\n\n<ol>\n<li>If this method only reads objects from <code>List&lt;A&gt;</code>, then we should be allowed to give <code>List&lt;A-sub&gt;</code> to this method. (Because A-sub IS a A)</li>\n<li>If this method only inserts objects to <code>List&lt;A&gt;</code>, then we should be allowed to give <code>List&lt;A-super&gt;</code> to this method. (Because A IS a A-super)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":16287950,"reputation":1194,"user_id":11762199,"display_name":"mhrsalehi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652010324,"creation_date":1652010324,"answer_id":72160674,"question_id":252055,"body_markdown":"learn by example:\r\n\r\nconsider the `sort()` method in `Collections` class which use both `extends` and `super`:\r\n\r\n        public static &lt;T extends Comparable&lt;? super T&gt;&gt; void sort(List&lt;T&gt; list){...}\r\n\r\nso\r\n\r\n**why `&lt;T extends Comparable&lt;...&gt;&gt;`:** becuase we **need** list items (`T`) to be a subclass of the `Comparable` interface.\r\n\r\n**why `Comparable&lt;? super T&gt;`:** becuase we **allow** the `Comparable` type \r\n to be a **Comparable of any super type of T**.\r\n\r\nConsider\r\n\r\n    interface Comparable&lt;T&gt;{\r\n        public int compareTo(T o);\r\n    }\r\n\r\n    public static &lt;T extends Comparable&lt;? super T&gt;&gt; void sort(List&lt;T&gt; list){...}\r\n\r\n\r\n    public static &lt;T extends Comparable&lt;T&gt;&gt; void sort2(List&lt;T&gt; list){...}\r\n\r\n\r\n    class A implements Comparable&lt;A&gt;{\r\n        @Override\r\n        public int compareTo(A o) {\r\n            ...\r\n        }\r\n    }\r\n    \r\n    class B extends A {\r\n    }\r\n\r\n        List&lt;A&gt; listA = new ArrayList&lt;&gt;();\r\n        List&lt;B&gt; listB = new ArrayList&lt;&gt;();\r\n\r\n        sort(listA);  //ok\r\n        sort(listB);  //ok\r\n        \r\n        sort2(listA); //ok\r\n        sort2(listB); //Error","title":"Java Generics (Wildcards)","body":"<p>learn by example:</p>\n<p>consider the <code>sort()</code> method in <code>Collections</code> class which use both <code>extends</code> and <code>super</code>:</p>\n<pre><code>    public static &lt;T extends Comparable&lt;? super T&gt;&gt; void sort(List&lt;T&gt; list){...}\n</code></pre>\n<p>so</p>\n<p><strong>why <code>&lt;T extends Comparable&lt;...&gt;&gt;</code>:</strong> becuase we <strong>need</strong> list items (<code>T</code>) to be a subclass of the <code>Comparable</code> interface.</p>\n<p><strong>why <code>Comparable&lt;? super T&gt;</code>:</strong> becuase we <strong>allow</strong> the <code>Comparable</code> type\nto be a <strong>Comparable of any super type of T</strong>.</p>\n<p>Consider</p>\n<pre><code>interface Comparable&lt;T&gt;{\n    public int compareTo(T o);\n}\n\npublic static &lt;T extends Comparable&lt;? super T&gt;&gt; void sort(List&lt;T&gt; list){...}\n\n\npublic static &lt;T extends Comparable&lt;T&gt;&gt; void sort2(List&lt;T&gt; list){...}\n\n\nclass A implements Comparable&lt;A&gt;{\n    @Override\n    public int compareTo(A o) {\n        ...\n    }\n}\n\nclass B extends A {\n}\n\n    List&lt;A&gt; listA = new ArrayList&lt;&gt;();\n    List&lt;B&gt; listB = new ArrayList&lt;&gt;();\n\n    sort(listA);  //ok\n    sort(listB);  //ok\n    \n    sort2(listA); //ok\n    sort2(listB); //Error\n</code></pre>\n"}],"owner":{"account_id":4899,"reputation":103686,"user_id":7595,"accept_rate":70,"display_name":"Pablo Fernandez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79408,"favorite_count":0,"down_vote_count":0,"up_vote_count":126,"accepted_answer_id":252099,"answer_count":7,"score":126,"last_activity_date":1661094487,"creation_date":1225407423,"question_id":252055,"body_markdown":"I have a couple of questions about generic wildcards in Java:\r\n\r\n1. What is the difference between `List&lt;? extends T&gt;` and `List&lt;? super T&gt;`?\r\n\r\n2. What is a bounded wildcard and what is an unbounded wildcard?\r\n\r\n\r\n\r\n","title":"Java Generics (Wildcards)","body":"<p>I have a couple of questions about generic wildcards in Java:</p>\n\n<ol>\n<li><p>What is the difference between <code>List&lt;? extends T&gt;</code> and <code>List&lt;? super T&gt;</code>?</p></li>\n<li><p>What is a bounded wildcard and what is an unbounded wildcard?</p></li>\n</ol>\n"},{"tags":["java","database","sqlite","csv","file-io"],"comments":[{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1394567768,"post_id":22335196,"comment_id":33943660,"body_markdown":"Close your `PreparedStatement` and try again. Also in Java convention methods start with lowercase (`ConnectDB()`).","body":"Close your <code>PreparedStatement</code> and try again. Also in Java convention methods start with lowercase (<code>ConnectDB()</code>)."},{"owner":{"account_id":3305796,"reputation":1457,"user_id":2780649,"accept_rate":52,"display_name":"satnam"},"score":0,"creation_date":1394569407,"post_id":22335196,"comment_id":33944678,"body_markdown":"Tried closing it just like bradvido said below. The error persists. I&#39;ve also closed connections everywhere else","body":"Tried closing it just like bradvido said below. The error persists. I&#39;ve also closed connections everywhere else"},{"owner":{"account_id":150404,"reputation":42109,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"score":0,"creation_date":1451759559,"post_id":22335196,"comment_id":56882882,"body_markdown":"Possible duplicate of [SQLITE\\_BUSY The database file is locked (database is locked) in wicket](http://stackoverflow.com/questions/8559623/sqlite-busy-the-database-file-is-locked-database-is-locked-in-wicket)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/8559623/sqlite-busy-the-database-file-is-locked-database-is-locked-in-wicket\">SQLITE_BUSY The database file is locked (database is locked) in wicket</a>"}],"answers":[{"tags":[],"owner":{"account_id":95960,"reputation":2771,"user_id":261088,"accept_rate":77,"display_name":"bradvido"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394567901,"creation_date":1394567901,"answer_id":22335333,"question_id":22335196,"body_markdown":"It&#39;s probably due to you having multiple open references to the sqlite database.\r\nI&#39;d start by closing your PreparedStatement in a finally block inside your while loop.\r\n\r\n    PreparedStatement pst = null;\r\n    try{   \r\n      pst = DatabaseConnection.ConnectDB().prepareStatement(sql);\r\n      pst.executeUpdate();\r\n    }finally{\r\n      if(pst != null) {\r\n        pst.close();\r\n      }\r\n    }\r\n\r\nYou should also close the database connection at the end of everything.\r\nIf that doesn&#39;t fix it, then please explain more about how you &quot;convert that .csv into a sqlite database&quot;\r\n","title":"Java - SQLITE_BUSY; database file is locked","body":"<p>It's probably due to you having multiple open references to the sqlite database.\nI'd start by closing your PreparedStatement in a finally block inside your while loop.</p>\n\n<pre><code>PreparedStatement pst = null;\ntry{   \n  pst = DatabaseConnection.ConnectDB().prepareStatement(sql);\n  pst.executeUpdate();\n}finally{\n  if(pst != null) {\n    pst.close();\n  }\n}\n</code></pre>\n\n<p>You should also close the database connection at the end of everything.\nIf that doesn't fix it, then please explain more about how you \"convert that .csv into a sqlite database\"</p>\n"}],"owner":{"account_id":3305796,"reputation":1457,"user_id":2780649,"accept_rate":52,"display_name":"satnam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14931,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1661094290,"creation_date":1394567471,"question_id":22335196,"body_markdown":"My application reads a html table and then a script (TableToCSV) converts it into a .csv format. After that I convert that .csv into a sqlite database. After that I run queries on the database. Problem is that upon executing, it shows that SQLITE_BUSY; database file is locked.\r\n\r\nWhats the reason of this and how can I fix this?\r\n\r\nHere is my code - \r\n\r\n    \t\tfinal JFileChooser  fileDialog = new JFileChooser();\r\n\t\tJButton btnInputFile = new JButton(&quot;Input File&quot;);\r\n\t\tbtnInputFile.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent arg0) {\r\n\r\n\t\t\t\tint returnVal = fileDialog.showOpenDialog(rootPane);\r\n\t            if (returnVal == JFileChooser.APPROVE_OPTION) {\r\n\t               java.io.File file = fileDialog.getSelectedFile();\r\n\t               \r\n\t               String name = file.getName();\r\n\t               name = name.substring(0, name.lastIndexOf(&quot;.&quot;));\r\n\t               name += &quot;.html&quot;;\r\n\t               File newFile = new File(file.getParentFile(), name);\r\n\t               if (file.renameTo(newFile)) {\r\n\t                   try {\r\n\t\t\t\t\t\tTableToCSV tableToCSV = new TableToCSV(newFile, &#39;,&#39;, &#39;\\&quot;&#39;, &#39;#&#39;, CSV.UTF8Charset );\r\n\t\t\t\t\t\tSystem.out.println(&quot;action&quot;);\r\n\t\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t               }\r\n\t               \r\n\t               try\r\n\t               {\r\n\t               \tBufferedReader br=new BufferedReader(new FileReader(&quot;v.csv&quot;));\r\n\t               \tString line;\r\n\r\n\t               \twhile((line=br.readLine())!=null)\r\n\t               \t{\r\n\t               \t\tSystem.out.println(line);\r\n\t               \t\tString[]value = line.split(&quot;,&quot;);\r\n\t               \t\tSystem.out.println(value.length);\r\n\t               \t\t\r\n\t               \t\tString sql = &quot;INSERT into main ([Ticket #], Status, Priority, Department, [Account Name]) &quot;\r\n\t               \t\t + &quot;values (&#39;&quot;+value[0]+&quot;&#39;,&#39;&quot;+value[1]+&quot;&#39;,&#39;&quot;+value[2]+&quot;&#39;,&#39;&quot;+value[3]+&quot;&#39;,&#39;&quot;+value[4]+&quot;&#39;)&quot;;\r\n\r\n\t               \t\t PreparedStatement pst = DatabaseConnection.ConnectDB().prepareStatement(sql);\r\n\t               \t\t pst.executeUpdate();\r\n\r\n\t               \t}\r\n\t               \tbr.close();\r\n\r\n\t               }\r\n\r\n\t               catch(Exception e)\r\n\t               {\r\n\t               \tJOptionPane.showMessageDialog(null, e);\r\n\t               }\r\n\t               \r\n\t            }\r\n\t            \r\n\t\t\t}\r\n\t\t});\r\n\r\n\r\nUPDATE - DatabaseConnection.java\r\n\r\n    public class DatabaseConnection {\r\n\tConnection conn = null;\r\n\tStatement stmt = null;\r\n\r\n\tpublic static Connection ConnectDB() {\r\n\r\n\t\ttry {\r\n\t\t\tClass.forName(&quot;org.sqlite.JDBC&quot;);\r\n\t\t\tConnection conn = DriverManager.getConnection(&quot;jdbc:sqlite:database.db&quot;);\r\n\t\t\tconn.setAutoCommit(true);\r\n\t\t\treturn conn;\r\n\t\t} catch (Exception e) {\r\n\t\t\tJOptionPane.showMessageDialog(null, e);\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n    }","title":"Java - SQLITE_BUSY; database file is locked","body":"<p>My application reads a html table and then a script (TableToCSV) converts it into a .csv format. After that I convert that .csv into a sqlite database. After that I run queries on the database. Problem is that upon executing, it shows that SQLITE_BUSY; database file is locked.</p>\n\n<p>Whats the reason of this and how can I fix this?</p>\n\n<p>Here is my code - </p>\n\n<pre><code>        final JFileChooser  fileDialog = new JFileChooser();\n    JButton btnInputFile = new JButton(\"Input File\");\n    btnInputFile.addActionListener(new ActionListener() {\n        public void actionPerformed(ActionEvent arg0) {\n\n            int returnVal = fileDialog.showOpenDialog(rootPane);\n            if (returnVal == JFileChooser.APPROVE_OPTION) {\n               java.io.File file = fileDialog.getSelectedFile();\n\n               String name = file.getName();\n               name = name.substring(0, name.lastIndexOf(\".\"));\n               name += \".html\";\n               File newFile = new File(file.getParentFile(), name);\n               if (file.renameTo(newFile)) {\n                   try {\n                    TableToCSV tableToCSV = new TableToCSV(newFile, ',', '\\\"', '#', CSV.UTF8Charset );\n                    System.out.println(\"action\");\n                } catch (IOException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }\n               }\n\n               try\n               {\n                BufferedReader br=new BufferedReader(new FileReader(\"v.csv\"));\n                String line;\n\n                while((line=br.readLine())!=null)\n                {\n                    System.out.println(line);\n                    String[]value = line.split(\",\");\n                    System.out.println(value.length);\n\n                    String sql = \"INSERT into main ([Ticket #], Status, Priority, Department, [Account Name]) \"\n                     + \"values ('\"+value[0]+\"','\"+value[1]+\"','\"+value[2]+\"','\"+value[3]+\"','\"+value[4]+\"')\";\n\n                     PreparedStatement pst = DatabaseConnection.ConnectDB().prepareStatement(sql);\n                     pst.executeUpdate();\n\n                }\n                br.close();\n\n               }\n\n               catch(Exception e)\n               {\n                JOptionPane.showMessageDialog(null, e);\n               }\n\n            }\n\n        }\n    });\n</code></pre>\n\n<p>UPDATE - DatabaseConnection.java</p>\n\n<pre><code>public class DatabaseConnection {\nConnection conn = null;\nStatement stmt = null;\n\npublic static Connection ConnectDB() {\n\n    try {\n        Class.forName(\"org.sqlite.JDBC\");\n        Connection conn = DriverManager.getConnection(\"jdbc:sqlite:database.db\");\n        conn.setAutoCommit(true);\n        return conn;\n    } catch (Exception e) {\n        JOptionPane.showMessageDialog(null, e);\n        return null;\n    }\n}\n}\n</code></pre>\n"},{"tags":["java","eclipse","hadoop"],"comments":[{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":6,"creation_date":1498488896,"post_id":44762517,"comment_id":76506058,"body_markdown":"Very likely the problem is with the preceding context of the line in question, which you have not provided.  Present a [mcve] if you want help.","body":"Very likely the problem is with the preceding context of the line in question, which you have not provided.  Present a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> if you want help."},{"owner":{"account_id":4324171,"reputation":2565,"user_id":3531437,"accept_rate":67,"display_name":"vijayinani"},"score":0,"creation_date":1498534760,"post_id":44762517,"comment_id":76524262,"body_markdown":"Can you add the whole piece of code, please?","body":"Can you add the whole piece of code, please?"}],"answers":[{"tags":[],"owner":{"account_id":11191036,"reputation":1,"user_id":8211453,"display_name":"Kinnu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498537127,"creation_date":1498537127,"answer_id":44772194,"question_id":44762517,"body_markdown":"    import java.io.IOException;  \r\n    import java.util.List;  \r\n    import org.apache.hadoop.fs.BlockLocation;  \r\n    import org.apache.hadoop.fs.FSDataInputStream;  \r\n    import org.apache.hadoop.fs.FileStatus;  \r\n    import org.apache.hadoop.fs.FileSystem;  \r\n    import org.apache.hadoop.fs.Path;  \r\n    import org.apache.hadoop.io.DataOutputBuffer;  \r\n    import org.apache.hadoop.io.LongWritable;  \r\n    import org.apache.hadoop.io.Text;  \r\n    import org.apache.hadoop.mapreduce.InputSplit;  \r\n    import org.apache.hadoop.mapreduce.JobContext;  \r\n    import org.apache.hadoop.mapreduce.RecordReader;  \r\n    import org.apache.hadoop.mapreduce.TaskAttemptContext;  \r\n    import org.apache.hadoop.mapreduce.lib.input.FileSplit;  \r\n    import org.apache.hadoop.mapreduce.lib.input.TextInputFormat;\r\n\r\n    public class XmlInputFormat extends TextInputFormat {\r\n\r\n\t    public static final String START_TAG_KEY = &quot;&lt; student&gt;&quot;;\r\n\t    public static final String END_TAG_KEY = &quot;&lt;/student&gt;&quot;;\r\n\t\r\n\t    @Override\r\n\t    public RecordReader&lt;LongWritable, Text&gt; createRecordReader(\r\n\t\t   InputSplit split, TaskAttemptContext context) {\r\n\t\t   return new XmlRecordReader();\r\n\t    }\r\n\t\r\n\t    public static class XmlRecordReader extends \r\n        RecordReader&lt;LongWritable, Text&gt; {\r\n\t\t    private byte[] startTag;\r\n\t\t    private byte[] endTag;\r\n\t\t    private long start;\r\n\t\t    private long end;\r\n\t\t    private FSDataInputStream fsin;\r\n\t\t    private DataOutputBuffer buffer = new DataOutputBuffer();\r\n\t\t    private LongWritable key = new LongWritable();\r\n\t\t    private Text value = new Text();\r\n\t\t\r\n\t\t    @Override\r\n\t\t    public void initialize(InputSplit is, TaskAttemptContext tac)\r\n\t\t    throws IOException, InterruptedException {\r\n\t\t\t    FileSplit fileSplit = (FileSplit) is;\r\n\t\t\t    String START_TAG_KEY = &quot;&lt;employee&gt;&quot;;\r\n\t\t\t    String END_TAG_KEY = &quot;&lt;/employee&gt;&quot;;\r\n\t\t\t    startTag = START_TAG_KEY.getBytes(&quot;utf-8&quot;);\r\n\t\t\t    endTag = END_TAG_KEY.getBytes(&quot;utf-8&quot;);\r\n\t\t\t\r\n\t\t\t    start = fileSplit.getStart();\r\n\t\t\t    end = start + fileSplit.getLength();\r\n\t\t\t    Path file = fileSplit.getPath();\r\n\t\t\t\r\n\t\t\t    FileSystem fs =file.getFileSystem(tac.getConfiguration());\r\n\t\t\t    fsin = fs.open(fileSplit.getPath());\r\n\t\t\t    fsin.seek(start);\r\n\t\t\r\n\t\t    }\r\n\t\t\r\n\t\t    @Override\r\n\t\t    public boolean nextKeyValue() throws     \r\n               IOException,InterruptedException {\r\n\t\t\t    if (fsin.getPos() &lt; end) {\r\n\t\t\t\t    if (readUntilMatch(startTag, false)) {\r\n\t\t\t\t\t    try {\r\n\t\t\t\t\t\t    buffer.write(startTag);\r\n\t\t\t\t\t\t    if (readUntilMatch(endTag, true)) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t    value.set(buffer.getData(), 0,     \r\n                                     buffer.getLength());\r\n\t\t\t\t\t\t\t    key.set(fsin.getPos());\r\n\t\t\t\t\t\t\t    return true;\r\n\t\t\t\t\t\t    }\r\n\t\t\t\t\t    } finally {\r\n\t\t\t\t\t\t    buffer.reset();\r\n\t\t\t\t\t    }\r\n\t\t\t\t    }\r\n\t\t\t    }\r\n\t\t\t    return false;\r\n\t\t    }\r\n\t\t\r\n\t\t    @Override\r\n\t\t    public LongWritable getCurrentKey() throws IOException,\r\n\t\t    InterruptedException {\r\n\t\t\t    return key;\r\n\t\t    }\r\n\t\t\r\n\t\t    @Override\r\n\t\t    public Text getCurrentValue() throws IOException,       \r\n              InterruptedException {\r\n\t\t\t    return value;\r\n\t\t\r\n\t\t    }\r\n\t\t\r\n\t\t    @Override\r\n\t\t    public float getProgress() throws IOException, \r\n              InterruptedException {\r\n\t\t\t    return (fsin.getPos() - start) / (float) (end - start);\r\n\t\t    }\r\n\t\t\r\n\t\t    @Override\r\n\t\t    public void close() throws IOException {\r\n\t\t\t    fsin.close();\r\n\t\t    }\r\n\t\t\r\n\t\t    private boolean readUntilMatch(byte[] match, boolean \r\n                withinBlock)throws IOException {\r\n\t\t\t    int i = 0;\r\n\t\t\t    while (true) {\r\n\t\t\t\t    int b = fsin.read();\r\n\t\t\t\t\r\n\t\t\t\t    if (b == -1)\r\n\t\t\t\t\t    return false;\r\n\t\t\t\t\r\n\t\t\t\t    if (withinBlock)\r\n\t\t\t\t\t    buffer.write(b);\r\n\t\t\t\t\r\n\t\t\t\t    if (b == match[i]) {\r\n\t\t\t\t\t    i++;\r\n\t\t\t\t\t    if (i &gt;= match.length)\r\n\t\t\t\t\t    return true;\r\n\t\t\t\t    } else\r\n\t\t\t\t\t    i = 0;\r\n\t\t\t\t\r\n\t\t\t\t    if (!withinBlock &amp;&amp; i == 0 &amp;&amp; fsin.getPos() &gt;= end)\r\n\t\t\t\t\t    return false;\r\n\t\t\t    }\r\n\t\t    }\r\n\t\r\n\t    }\r\n\r\n    }","title":"org.apache.commons.logging.Log cannot be resolved","body":"<pre><code>import java.io.IOException;  \nimport java.util.List;  \nimport org.apache.hadoop.fs.BlockLocation;  \nimport org.apache.hadoop.fs.FSDataInputStream;  \nimport org.apache.hadoop.fs.FileStatus;  \nimport org.apache.hadoop.fs.FileSystem;  \nimport org.apache.hadoop.fs.Path;  \nimport org.apache.hadoop.io.DataOutputBuffer;  \nimport org.apache.hadoop.io.LongWritable;  \nimport org.apache.hadoop.io.Text;  \nimport org.apache.hadoop.mapreduce.InputSplit;  \nimport org.apache.hadoop.mapreduce.JobContext;  \nimport org.apache.hadoop.mapreduce.RecordReader;  \nimport org.apache.hadoop.mapreduce.TaskAttemptContext;  \nimport org.apache.hadoop.mapreduce.lib.input.FileSplit;  \nimport org.apache.hadoop.mapreduce.lib.input.TextInputFormat;\n\npublic class XmlInputFormat extends TextInputFormat {\n\n    public static final String START_TAG_KEY = \"&lt; student&gt;\";\n    public static final String END_TAG_KEY = \"&lt;/student&gt;\";\n\n    @Override\n    public RecordReader&lt;LongWritable, Text&gt; createRecordReader(\n       InputSplit split, TaskAttemptContext context) {\n       return new XmlRecordReader();\n    }\n\n    public static class XmlRecordReader extends \n    RecordReader&lt;LongWritable, Text&gt; {\n        private byte[] startTag;\n        private byte[] endTag;\n        private long start;\n        private long end;\n        private FSDataInputStream fsin;\n        private DataOutputBuffer buffer = new DataOutputBuffer();\n        private LongWritable key = new LongWritable();\n        private Text value = new Text();\n\n        @Override\n        public void initialize(InputSplit is, TaskAttemptContext tac)\n        throws IOException, InterruptedException {\n            FileSplit fileSplit = (FileSplit) is;\n            String START_TAG_KEY = \"&lt;employee&gt;\";\n            String END_TAG_KEY = \"&lt;/employee&gt;\";\n            startTag = START_TAG_KEY.getBytes(\"utf-8\");\n            endTag = END_TAG_KEY.getBytes(\"utf-8\");\n\n            start = fileSplit.getStart();\n            end = start + fileSplit.getLength();\n            Path file = fileSplit.getPath();\n\n            FileSystem fs =file.getFileSystem(tac.getConfiguration());\n            fsin = fs.open(fileSplit.getPath());\n            fsin.seek(start);\n\n        }\n\n        @Override\n        public boolean nextKeyValue() throws     \n           IOException,InterruptedException {\n            if (fsin.getPos() &lt; end) {\n                if (readUntilMatch(startTag, false)) {\n                    try {\n                        buffer.write(startTag);\n                        if (readUntilMatch(endTag, true)) {\n\n                            value.set(buffer.getData(), 0,     \n                                 buffer.getLength());\n                            key.set(fsin.getPos());\n                            return true;\n                        }\n                    } finally {\n                        buffer.reset();\n                    }\n                }\n            }\n            return false;\n        }\n\n        @Override\n        public LongWritable getCurrentKey() throws IOException,\n        InterruptedException {\n            return key;\n        }\n\n        @Override\n        public Text getCurrentValue() throws IOException,       \n          InterruptedException {\n            return value;\n\n        }\n\n        @Override\n        public float getProgress() throws IOException, \n          InterruptedException {\n            return (fsin.getPos() - start) / (float) (end - start);\n        }\n\n        @Override\n        public void close() throws IOException {\n            fsin.close();\n        }\n\n        private boolean readUntilMatch(byte[] match, boolean \n            withinBlock)throws IOException {\n            int i = 0;\n            while (true) {\n                int b = fsin.read();\n\n                if (b == -1)\n                    return false;\n\n                if (withinBlock)\n                    buffer.write(b);\n\n                if (b == match[i]) {\n                    i++;\n                    if (i &gt;= match.length)\n                    return true;\n                } else\n                    i = 0;\n\n                if (!withinBlock &amp;&amp; i == 0 &amp;&amp; fsin.getPos() &gt;= end)\n                    return false;\n            }\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8963981,"reputation":89,"user_id":6685449,"display_name":"Colonna Maurizio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661093936,"creation_date":1661093936,"answer_id":73435566,"question_id":44762517,"body_markdown":"I have solved the issue, finding the .jar library inside the $HADOOP_HOME.\r\nI post an image to explain better:\r\n\r\n[![Screen shot of eclipse with the .jar library ][1]][1]\r\n\r\n \r\n\r\nI&#39;ve also answered on this thread, for a similar problem:\r\nhttps://stackoverflow.com/a/73427233/6685449\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tfICe.png","title":"org.apache.commons.logging.Log cannot be resolved","body":"<p>I have solved the issue, finding the .jar library inside the $HADOOP_HOME.\nI post an image to explain better:</p>\n<p><a href=\"https://i.stack.imgur.com/tfICe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tfICe.png\" alt=\"Screen shot of eclipse with the .jar library \" /></a></p>\n<p>I've also answered on this thread, for a similar problem:\n<a href=\"https://stackoverflow.com/a/73427233/6685449\">https://stackoverflow.com/a/73427233/6685449</a></p>\n"}],"owner":{"account_id":11191036,"reputation":1,"user_id":8211453,"display_name":"Kinnu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2071,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1661093936,"creation_date":1498488784,"question_id":44762517,"body_markdown":"When I am trying to declare an byte array using `private byte[] startTag;`.\r\n\r\nEclipse show this line as erroneous.&lt;br&gt;\r\nHovering over it, I get this message:\r\n\r\n&gt;The type org.apache.commons.logging.Log cannot be resolved. It is indirectly referenced from required .class files\r\n\r\nI tried adding `jar` file in the `classpath` by viewing other solutions, I&#39;m but unable to remove the error.&lt;br&gt;\r\nWhat should I do now?\r\n\r\nIf any specific `jar` file needs to be added please mention it.","title":"org.apache.commons.logging.Log cannot be resolved","body":"<p>When I am trying to declare an byte array using <code>private byte[] startTag;</code>.</p>\n\n<p>Eclipse show this line as erroneous.<br>\nHovering over it, I get this message:</p>\n\n<blockquote>\n  <p>The type org.apache.commons.logging.Log cannot be resolved. It is indirectly referenced from required .class files</p>\n</blockquote>\n\n<p>I tried adding <code>jar</code> file in the <code>classpath</code> by viewing other solutions, I'm but unable to remove the error.<br>\nWhat should I do now?</p>\n\n<p>If any specific <code>jar</code> file needs to be added please mention it.</p>\n"},{"tags":["java","list","java-stream"],"comments":[{"owner":{"account_id":18725022,"reputation":57,"user_id":13651927,"display_name":"Jugjin"},"score":0,"creation_date":1661088273,"post_id":73434757,"comment_id":129683455,"body_markdown":"I probably do not know how to map inside of another stream. Not found was only once because  for 1 we have string 1 , for 3 we have 1aa. for 4 we do not have any string with size 4","body":"I probably do not know how to map inside of another stream. Not found was only once because  for 1 we have string 1 , for 3 we have 1aa. for 4 we do not have any string with size 4"},{"owner":{"account_id":18725022,"reputation":57,"user_id":13651927,"display_name":"Jugjin"},"score":0,"creation_date":1661089292,"post_id":73434757,"comment_id":129683659,"body_markdown":"if there are some string of particular length - then get first of them","body":"if there are some string of particular length - then get first of them"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1661091214,"creation_date":1661089416,"answer_id":73435014,"question_id":73434757,"body_markdown":"You can generate from the list of strings a map `Map&lt;Integer,String&gt;`, which associates *string length* with the first string in a list having this length.\r\n\r\nAnd then process the contents of the list of integers.\r\n\r\nTo filter only those strings that start with a *digit*, we can use the following regular expression `&quot;^//d.*&quot;`, which would match any string that has a *digit* as its *first character*, followed by zero or more characters.\r\n\r\n```\r\nList&lt;Integer&gt; integerList = List.of(1, 3, 4);\r\nList&lt;String&gt; stringList = List.of(&quot;1aa&quot;, &quot;aaa&quot;, &quot;1&quot;, &quot;a&quot;);\r\n        \r\nMap&lt;Integer, String&gt; strByLength = stringList.stream()\r\n    .filter(str -&gt; str.matches(&quot;^//d.*&quot;)) // string starts with a digit\r\n    .collect(Collectors.toMap(\r\n        String::length,        // key\r\n        Function.identity(),   // value\r\n        (left, right) -&gt; left  // pick the first encountered value\r\n    ));\r\n    \r\nList&lt;String&gt; result1 = integerList.stream()\r\n    .map(i -&gt; strByLength.getOrDefault(i, &quot;Not Found&quot;))\r\n    .toList();\r\n    \r\nSystem.out.println(result1);\r\n```\r\n*Output:*\r\n```\r\n[1, 1aa, Not Found]\r\n```\r\n\r\nIt can also be done by creating a nested stream inside `map()` operation, i.e. in the way that tried to achieve it. For that, you need to use the following *predicate* inside the `filter()` applied before `findFirst()`:\r\n```\r\n.filter(str -&gt; str.length() == integer)\r\n```\r\n\r\n***Note*** that such solution is **less performant** than the first one, which uses `Map`, because it requires to iterate over the list of string as many times as there are elements in the list of integers. Meanwhile, the map-based approach requires only a single iteration.","title":"How to map values in a List&lt;Integer&gt; to elements in a List&lt;String&gt; using Stream Api with Java 8","body":"<p>You can generate from the list of strings a map <code>Map&lt;Integer,String&gt;</code>, which associates <em>string length</em> with the first string in a list having this length.</p>\n<p>And then process the contents of the list of integers.</p>\n<p>To filter only those strings that start with a <em>digit</em>, we can use the following regular expression <code>&quot;^//d.*&quot;</code>, which would match any string that has a <em>digit</em> as its <em>first character</em>, followed by zero or more characters.</p>\n<pre><code>List&lt;Integer&gt; integerList = List.of(1, 3, 4);\nList&lt;String&gt; stringList = List.of(&quot;1aa&quot;, &quot;aaa&quot;, &quot;1&quot;, &quot;a&quot;);\n        \nMap&lt;Integer, String&gt; strByLength = stringList.stream()\n    .filter(str -&gt; str.matches(&quot;^//d.*&quot;)) // string starts with a digit\n    .collect(Collectors.toMap(\n        String::length,        // key\n        Function.identity(),   // value\n        (left, right) -&gt; left  // pick the first encountered value\n    ));\n    \nList&lt;String&gt; result1 = integerList.stream()\n    .map(i -&gt; strByLength.getOrDefault(i, &quot;Not Found&quot;))\n    .toList();\n    \nSystem.out.println(result1);\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[1, 1aa, Not Found]\n</code></pre>\n<p>It can also be done by creating a nested stream inside <code>map()</code> operation, i.e. in the way that tried to achieve it. For that, you need to use the following <em>predicate</em> inside the <code>filter()</code> applied before <code>findFirst()</code>:</p>\n<pre><code>.filter(str -&gt; str.length() == integer)\n</code></pre>\n<p><em><strong>Note</strong></em> that such solution is <strong>less performant</strong> than the first one, which uses <code>Map</code>, because it requires to iterate over the list of string as many times as there are elements in the list of integers. Meanwhile, the map-based approach requires only a single iteration.</p>\n"},{"tags":[],"owner":{"account_id":17724496,"reputation":922,"user_id":12868634,"display_name":"Roland Kreuzer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661090416,"creation_date":1661090109,"answer_id":73435124,"question_id":73434757,"body_markdown":"Java Strings have a `length()` method you can use to check the number of characters.\r\n\r\nFor the first character check you can use the `charAt(index)` method also available in String.\r\n\r\nYou can combine this with the `Character.isDigit(char)` method to check for the requirement.\r\n\r\n\r\nI guess a solution could look something like this\r\n\r\n\r\n    public static List&lt;String&gt; f(List&lt;Integer&gt; integerList, List&lt;String&gt; stringList) {\r\n        return integerList.stream().map(\r\n            integer -&gt; stringList.stream()\r\n                    .filter(s -&gt; s.length() == integer)\r\n                    .filter(s -&gt; Character.isDigit(s.charAt(0)))\r\n                    .findFirst().orElse(&quot;Not found&quot;)\r\n        ).collect(Collectors.toList());\r\n    }","title":"How to map values in a List&lt;Integer&gt; to elements in a List&lt;String&gt; using Stream Api with Java 8","body":"<p>Java Strings have a <code>length()</code> method you can use to check the number of characters.</p>\n<p>For the first character check you can use the <code>charAt(index)</code> method also available in String.</p>\n<p>You can combine this with the <code>Character.isDigit(char)</code> method to check for the requirement.</p>\n<p>I guess a solution could look something like this</p>\n<pre><code>public static List&lt;String&gt; f(List&lt;Integer&gt; integerList, List&lt;String&gt; stringList) {\n    return integerList.stream().map(\n        integer -&gt; stringList.stream()\n                .filter(s -&gt; s.length() == integer)\n                .filter(s -&gt; Character.isDigit(s.charAt(0)))\n                .findFirst().orElse(&quot;Not found&quot;)\n    ).collect(Collectors.toList());\n}\n</code></pre>\n"}],"owner":{"account_id":18725022,"reputation":57,"user_id":13651927,"display_name":"Jugjin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73435014,"answer_count":2,"score":2,"last_activity_date":1661093129,"creation_date":1661087709,"question_id":73434757,"body_markdown":"I have the following task.\r\n\r\nWe have **two lists**: the first one `integerList` of type `Integer` and the second `stringList` of type `String`.\r\n\r\nThe goal is: \r\n* For each value `n` from `integerList` select a string from `stringList` that starts with a **digit** and has a length `n`;\r\n* If there are several required strings in the `stringList`, select the first one;\r\n* If there&#39;s no required string, place `&quot;Not found&quot;` as an appropriate element.\r\n\r\n\r\n*My code:* \r\n\r\n    public static List&lt;String&gt; foo(List&lt;Integer&gt; integerList, List&lt;String&gt; stringList) {\r\n\t\treturn integerList.stream()\r\n            .map(integer -&gt; stringList.stream()\r\n\t\t\t\t\t.filter(...) // not sure what to use here\r\n\t\t\t\t\t.findFirst()\r\n                    .orElse(&quot;Not found&quot;))\r\n            .collect(Collectors.toList());\r\n\t}\r\n\r\nI&#39;m not sure what should I use in the `filter`.\r\n\r\n*Input:*\r\n\r\n```\r\nintegerList = [1, 3, 4]\r\nstringList = [&quot;1aa&quot;, &quot;aaa&quot;, &quot;1&quot;, &quot;a&quot;]\r\n```\r\n\r\n*Desired output:*\r\n\r\n```\r\n[&quot;1&quot;, &quot;1aa&quot;, &quot;Not Found&quot;]\r\n```","title":"How to map values in a List&lt;Integer&gt; to elements in a List&lt;String&gt; using Stream Api with Java 8","body":"<p>I have the following task.</p>\n<p>We have <strong>two lists</strong>: the first one <code>integerList</code> of type <code>Integer</code> and the second <code>stringList</code> of type <code>String</code>.</p>\n<p>The goal is:</p>\n<ul>\n<li>For each value <code>n</code> from <code>integerList</code> select a string from <code>stringList</code> that starts with a <strong>digit</strong> and has a length <code>n</code>;</li>\n<li>If there are several required strings in the <code>stringList</code>, select the first one;</li>\n<li>If there's no required string, place <code>&quot;Not found&quot;</code> as an appropriate element.</li>\n</ul>\n<p><em>My code:</em></p>\n<pre><code>public static List&lt;String&gt; foo(List&lt;Integer&gt; integerList, List&lt;String&gt; stringList) {\n    return integerList.stream()\n        .map(integer -&gt; stringList.stream()\n                .filter(...) // not sure what to use here\n                .findFirst()\n                .orElse(&quot;Not found&quot;))\n        .collect(Collectors.toList());\n}\n</code></pre>\n<p>I'm not sure what should I use in the <code>filter</code>.</p>\n<p><em>Input:</em></p>\n<pre><code>integerList = [1, 3, 4]\nstringList = [&quot;1aa&quot;, &quot;aaa&quot;, &quot;1&quot;, &quot;a&quot;]\n</code></pre>\n<p><em>Desired output:</em></p>\n<pre><code>[&quot;1&quot;, &quot;1aa&quot;, &quot;Not Found&quot;]\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","logical-operators"],"answers":[{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661078135,"creation_date":1661076868,"answer_id":73433456,"question_id":73433330,"body_markdown":"Here\r\n```java\r\narr1[0].equalsIgnoreCase(&quot;HRX by Hrithik Roshan&quot;) &amp;&amp; arr1[0].equalsIgnoreCase(&quot;HERE&amp;NOW&quot;)\r\n```\r\nYou should change from `&amp;&amp;` to `||`  i.e. from logical AND to logical OR operator since each of 2 desired elements you want to click will contain first **OR** second text, not **BOTH** of them.   \r\nIn case you know the anount of checkboxes you want to select you can add counter, like the below:\r\n```java\r\ncounter = 0;\r\nif(arr1[0].equalsIgnoreCase(&quot;HRX by Hrithik Roshan&quot;) || arr1[0].equalsIgnoreCase(&quot;HERE&amp;NOW&quot;)) {\r\n    counter++;\r\n    select_HRX.get(i).click();\r\n    Thread.sleep(1000);\r\n    if(counter&gt;1){\r\n        break;\r\n    }\r\n}\r\n```","title":"Trying to click 2 checkboxes but not able to do so (Selenium Java)","body":"<p>Here</p>\n<pre class=\"lang-java prettyprint-override\"><code>arr1[0].equalsIgnoreCase(&quot;HRX by Hrithik Roshan&quot;) &amp;&amp; arr1[0].equalsIgnoreCase(&quot;HERE&amp;NOW&quot;)\n</code></pre>\n<p>You should change from <code>&amp;&amp;</code> to <code>||</code>  i.e. from logical AND to logical OR operator since each of 2 desired elements you want to click will contain first <strong>OR</strong> second text, not <strong>BOTH</strong> of them.<br />\nIn case you know the anount of checkboxes you want to select you can add counter, like the below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>counter = 0;\nif(arr1[0].equalsIgnoreCase(&quot;HRX by Hrithik Roshan&quot;) || arr1[0].equalsIgnoreCase(&quot;HERE&amp;NOW&quot;)) {\n    counter++;\n    select_HRX.get(i).click();\n    Thread.sleep(1000);\n    if(counter&gt;1){\n        break;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661092681,"creation_date":1661092681,"answer_id":73435433,"question_id":73433330,"body_markdown":"There&#39;s a better, easier, and faster way to do all of this without loops, etc. You need to build your locators using the brand names you are looking for instead of grabbing all elements and then looping to look for a match. It&#39;s also a good practice to wait for elements to be in the correct state before interacting with them to avoid unexpected exceptions, etc.\r\n\r\nThe basic flow is...\r\n1. Navigate to the page\r\n1. Click the Brand search icon\r\n1. Enter Brand #1\r\n1. Click the checkbox next to Brand #1\r\n1. Wait for Brand #1 to show up as filtered on the page (this is important)\r\n1. Clear the Brand search box\r\n1. Enter Brand #2\r\n1. Click the checkbox next to Brand #2\r\n1. Wait for Brand #2 to show up as filtered on the page (this is important)\r\n\r\nNow both of the desired brands are filtered and the script can continue.\r\n\r\nThe code\r\n\r\n\tString url = &quot;https://www.myntra.com/men-tshirts&quot;;\r\n\tdriver.get(url);\r\n\r\n\tWebDriverWait wait = new WebDriverWait(driver, 10);\r\n\t// click Brand search icon\r\n\twait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;div.filter-search-filterSearchBox&quot;))).click();\r\n\t// get the Brand search box\r\n\tWebElement search = wait.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;input.filter-search-inputBox&quot;)));\r\n\t// search for the first brand\r\n\tsearch.sendKeys(&quot;HRX by Hrithik Roshan&quot;);\r\n\t// click the brand checkbox\r\n\twait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//label[text()=&#39;HRX by Hrithik Roshan&#39;]&quot;))).click();\r\n\t// wait for the brand to show up as filtered\r\n\twait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//ul[@class=&#39;filter-summary-filterList&#39;][contains(.,&#39;HRX by Hrithik Roshan&#39;)]&quot;)));\r\n\t// clear the search box\r\n\tsearch.clear();\r\n\t// search for the second brand\r\n\tsearch.sendKeys(&quot;HERE&amp;NOW&quot;);\r\n\t// click the brand checkbox\r\n\twait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//label[text()=&#39;HERE&amp;NOW&#39;]&quot;))).click();\r\n\t// wait for the brand to show up as filtered\r\n\twait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//ul[@class=&#39;filter-summary-filterList&#39;][contains(.,&#39;HERE&amp;NOW&#39;)]&quot;)));\r\n    ...","title":"Trying to click 2 checkboxes but not able to do so (Selenium Java)","body":"<p>There's a better, easier, and faster way to do all of this without loops, etc. You need to build your locators using the brand names you are looking for instead of grabbing all elements and then looping to look for a match. It's also a good practice to wait for elements to be in the correct state before interacting with them to avoid unexpected exceptions, etc.</p>\n<p>The basic flow is...</p>\n<ol>\n<li>Navigate to the page</li>\n<li>Click the Brand search icon</li>\n<li>Enter Brand #1</li>\n<li>Click the checkbox next to Brand #1</li>\n<li>Wait for Brand #1 to show up as filtered on the page (this is important)</li>\n<li>Clear the Brand search box</li>\n<li>Enter Brand #2</li>\n<li>Click the checkbox next to Brand #2</li>\n<li>Wait for Brand #2 to show up as filtered on the page (this is important)</li>\n</ol>\n<p>Now both of the desired brands are filtered and the script can continue.</p>\n<p>The code</p>\n<pre><code>String url = &quot;https://www.myntra.com/men-tshirts&quot;;\ndriver.get(url);\n\nWebDriverWait wait = new WebDriverWait(driver, 10);\n// click Brand search icon\nwait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;div.filter-search-filterSearchBox&quot;))).click();\n// get the Brand search box\nWebElement search = wait.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;input.filter-search-inputBox&quot;)));\n// search for the first brand\nsearch.sendKeys(&quot;HRX by Hrithik Roshan&quot;);\n// click the brand checkbox\nwait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//label[text()='HRX by Hrithik Roshan']&quot;))).click();\n// wait for the brand to show up as filtered\nwait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//ul[@class='filter-summary-filterList'][contains(.,'HRX by Hrithik Roshan')]&quot;)));\n// clear the search box\nsearch.clear();\n// search for the second brand\nsearch.sendKeys(&quot;HERE&amp;NOW&quot;);\n// click the brand checkbox\nwait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//label[text()='HERE&amp;NOW']&quot;))).click();\n// wait for the brand to show up as filtered\nwait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//ul[@class='filter-summary-filterList'][contains(.,'HERE&amp;NOW')]&quot;)));\n...\n</code></pre>\n"}],"owner":{"account_id":6995042,"reputation":1,"user_id":5362974,"display_name":"Code_Newbie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1661092681,"creation_date":1661075668,"question_id":73433330,"body_markdown":"Site : https://www.myntra.com/men-tshirts\r\n```\r\n`WebElement brand = driver.findElement(By.xpath(&quot;//div[@class=&#39;brand-more&#39;]&quot;));\r\n\t\tbrand.click();\r\n\t\t\r\n\t\tWebElement select_brand = driver.findElement(By.xpath(&quot;//input[@placeholder=&#39;Search brand&#39;]&quot;));\r\n\t\tselect_brand.sendKeys(&quot;H&quot;);\r\n\t\t\r\n\t\tList&lt;WebElement&gt; select_HRX = driver.findElements(By.xpath(&quot;//label[@class=&#39; common-customCheckbox&#39;]&quot;));\r\n\t\t\r\n\t\tfor(int i=0; i&lt;select_HRX.size(); i++) {\r\n\t\t\tString brandText = select_HRX.get(i).getText();\r\n//\t\t\tString[] arr = brandText.split(&quot;\\\\(&quot;);\r\n\t\t\tString[] arr1 = brandText.split(Pattern.quote(&quot;(&quot;));\r\n\t\t\tSystem.out.println(arr1[0]);\r\n\t\t\tif(arr1[0].equalsIgnoreCase(&quot;HRX by Hrithik Roshan&quot;) &amp;&amp; arr1[0].equalsIgnoreCase(&quot;HERE&amp;NOW&quot;)) {\r\n\t\t\t\t select_HRX.get(i).click();\r\n\t\t\t\t Thread.sleep(2000);\r\n\t\t\t\t break;\r\n\t\t\t}\r\n\t\t}`\r\n```\r\n// trying to click 2 checkboxes based on condition not able to do any suggestions ??","title":"Trying to click 2 checkboxes but not able to do so (Selenium Java)","body":"<p>Site : <a href=\"https://www.myntra.com/men-tshirts\" rel=\"nofollow noreferrer\">https://www.myntra.com/men-tshirts</a></p>\n<pre><code>`WebElement brand = driver.findElement(By.xpath(&quot;//div[@class='brand-more']&quot;));\n        brand.click();\n        \n        WebElement select_brand = driver.findElement(By.xpath(&quot;//input[@placeholder='Search brand']&quot;));\n        select_brand.sendKeys(&quot;H&quot;);\n        \n        List&lt;WebElement&gt; select_HRX = driver.findElements(By.xpath(&quot;//label[@class=' common-customCheckbox']&quot;));\n        \n        for(int i=0; i&lt;select_HRX.size(); i++) {\n            String brandText = select_HRX.get(i).getText();\n//          String[] arr = brandText.split(&quot;\\\\(&quot;);\n            String[] arr1 = brandText.split(Pattern.quote(&quot;(&quot;));\n            System.out.println(arr1[0]);\n            if(arr1[0].equalsIgnoreCase(&quot;HRX by Hrithik Roshan&quot;) &amp;&amp; arr1[0].equalsIgnoreCase(&quot;HERE&amp;NOW&quot;)) {\n                 select_HRX.get(i).click();\n                 Thread.sleep(2000);\n                 break;\n            }\n        }`\n</code></pre>\n<p>// trying to click 2 checkboxes based on condition not able to do any suggestions ??</p>\n"},{"tags":["java","spring","spring-boot","lambda"],"answers":[{"tags":[],"owner":{"account_id":9680259,"reputation":366,"user_id":7182233,"display_name":"Aleks D"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661075504,"creation_date":1661075504,"answer_id":73433303,"question_id":73432979,"body_markdown":"You can encapsulate logic of &quot;image setting&quot; to your product class like this:\r\n\r\n   \r\n\r\n     class Product {\r\n    \r\n        private final AtomicInteger count = new AtomicInteger();\r\n        private String image1;\r\n        private String image2;\r\n        ...\r\n        private String image5;\r\n    \r\n        public void setImage(String imageName) {\r\n            switch (count.getAndIncrement()) {\r\n                case  0: image1 = imageName; break;\r\n                case  1: image2 = imageName; break;\r\n                ...\r\n                case  5: image5 = imageName; break;\r\n                default: ...\r\n            }\r\n        }\r\n    }\r\n\r\nand then in lambda it can be so:\r\n\r\n    Arrays.stream(multipartFiles).forEach(multipartFile -&gt; {\r\n                String imageName = StringUtils.cleanPath(multipartFile.getOriginalFilename());\r\n                product.setImage(imageName);\r\n            });\r\n        }\r\n\r\n\r\nbut as system desgin it looks very weird.","title":"using stream collection to map or collect images in a multipartFile to save images into an entity product","body":"<p>You can encapsulate logic of &quot;image setting&quot; to your product class like this:</p>\n<pre><code> class Product {\n\n    private final AtomicInteger count = new AtomicInteger();\n    private String image1;\n    private String image2;\n    ...\n    private String image5;\n\n    public void setImage(String imageName) {\n        switch (count.getAndIncrement()) {\n            case  0: image1 = imageName; break;\n            case  1: image2 = imageName; break;\n            ...\n            case  5: image5 = imageName; break;\n            default: ...\n        }\n    }\n}\n</code></pre>\n<p>and then in lambda it can be so:</p>\n<pre><code>Arrays.stream(multipartFiles).forEach(multipartFile -&gt; {\n            String imageName = StringUtils.cleanPath(multipartFile.getOriginalFilename());\n            product.setImage(imageName);\n        });\n    }\n</code></pre>\n<p>but as system desgin it looks very weird.</p>\n"},{"tags":[],"owner":{"account_id":26121971,"reputation":11,"user_id":19814097,"display_name":"aniianuki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661092005,"creation_date":1661092005,"answer_id":73435356,"question_id":73432979,"body_markdown":"You should redesign your Product class as:\r\n\r\n\r\n\r\n```java\r\npublic class Product {\r\n\r\n  private String image;\r\n\r\n  public String getImage() { return image; }\r\n  public void setImage(String image) { this.image = image; }\r\n\r\n}\r\n```\r\n\r\nand get a list of Products instead of a single Product with multiple fields of the same type:\r\n\r\n```java\r\nList&lt;Product&gt; products = Arrays.stream(multipartFiles).map(multipartFile -&gt; {\r\n            String imageName = StringUtils.cleanPath(multipartFile.getOriginalFilename());\r\n            Product product = new Product();            \r\n            product.setImage(imageName);\r\n            return product;\r\n        }).collect(Collectors.toList());\r\n```\r\n\r\nAnd this should give you a list of products.\r\n\r\nAlternatively, you could let your Product class hold a list of image names, and then you will not have to use the Stream API.\r\n\r\n","title":"using stream collection to map or collect images in a multipartFile to save images into an entity product","body":"<p>You should redesign your Product class as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Product {\n\n  private String image;\n\n  public String getImage() { return image; }\n  public void setImage(String image) { this.image = image; }\n\n}\n</code></pre>\n<p>and get a list of Products instead of a single Product with multiple fields of the same type:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Product&gt; products = Arrays.stream(multipartFiles).map(multipartFile -&gt; {\n            String imageName = StringUtils.cleanPath(multipartFile.getOriginalFilename());\n            Product product = new Product();            \n            product.setImage(imageName);\n            return product;\n        }).collect(Collectors.toList());\n</code></pre>\n<p>And this should give you a list of products.</p>\n<p>Alternatively, you could let your Product class hold a list of image names, and then you will not have to use the Stream API.</p>\n"}],"owner":{"account_id":11586848,"reputation":31,"user_id":8488693,"display_name":"Tyler Durden"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1661092005,"creation_date":1661072774,"question_id":73432979,"body_markdown":"i have an array of image names that are saved in a MultipartFile[].  these image names \r\nimage1, image2, image3, image4, image5 are collected from the web and saved as an array of MultipartFile[]\r\n\r\njust as an example image1 name could be x1.jpg\r\nimage2 is abc.jpg\r\nimage3 is image3.jpg and so on\r\n\r\ninstead of using a for loop, i would like to use a lambda to save the collection of pics in the MultipartFile[] into a product object.\r\n\r\nso Product is  has the following variables \r\n\r\n```\r\npublic class Product {\r\n\r\nprivate String image1;\r\nprivate String image2;\r\n...........\r\n...........\r\nprivate String image5;\r\n\r\n}\r\n\r\n```\r\n\r\n \r\ni need a collection method that looks better than the for loop\r\n\r\nsomething that looks like this \r\n\r\n```\r\n\r\nArrays.stream(multipartFiles).forEach(multipartFile -&gt; {\r\n            String imageName = StringUtils.cleanPath(multipartFile.getOriginalFilename());\r\n            if (count == 0) product.setImage1(imageName);\r\n            if (count == 1) product.setImage2(imageName);\r\n            if (count == 2) product.setImage3(imageName);\r\n            if (count == 3) product.setImage4(imageName);\r\n            if (count == 4) product.setImage5(imageName);\r\n            if (count == 5) product.setImage6(imageName);\r\n\r\n            count++;\r\n        });\r\n\r\n```\r\n\r\nmy problem is the stream is not allowing me to have count that many times.. the error squiggly line under count is saying   \r\n\r\n\r\nVariable (count) used in lambda expression should be final or effectively final\r\n\r\nif someone can improve this great otherwise i would have to use a traditional for - loop\r\n\r\nthanks \r\n\r\n\r\n","title":"using stream collection to map or collect images in a multipartFile to save images into an entity product","body":"<p>i have an array of image names that are saved in a MultipartFile[].  these image names\nimage1, image2, image3, image4, image5 are collected from the web and saved as an array of MultipartFile[]</p>\n<p>just as an example image1 name could be x1.jpg\nimage2 is abc.jpg\nimage3 is image3.jpg and so on</p>\n<p>instead of using a for loop, i would like to use a lambda to save the collection of pics in the MultipartFile[] into a product object.</p>\n<p>so Product is  has the following variables</p>\n<pre><code>public class Product {\n\nprivate String image1;\nprivate String image2;\n...........\n...........\nprivate String image5;\n\n}\n\n</code></pre>\n<p>i need a collection method that looks better than the for loop</p>\n<p>something that looks like this</p>\n<pre><code>\nArrays.stream(multipartFiles).forEach(multipartFile -&gt; {\n            String imageName = StringUtils.cleanPath(multipartFile.getOriginalFilename());\n            if (count == 0) product.setImage1(imageName);\n            if (count == 1) product.setImage2(imageName);\n            if (count == 2) product.setImage3(imageName);\n            if (count == 3) product.setImage4(imageName);\n            if (count == 4) product.setImage5(imageName);\n            if (count == 5) product.setImage6(imageName);\n\n            count++;\n        });\n\n</code></pre>\n<p>my problem is the stream is not allowing me to have count that many times.. the error squiggly line under count is saying</p>\n<p>Variable (count) used in lambda expression should be final or effectively final</p>\n<p>if someone can improve this great otherwise i would have to use a traditional for - loop</p>\n<p>thanks</p>\n"},{"tags":["java","android"],"owner":{"account_id":26084814,"reputation":11,"user_id":19782467,"display_name":"李彥廷"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661091800,"creation_date":1661078228,"question_id":73433616,"body_markdown":"I&#39;m working on the android studio project which requires using same span multiple times in the text. I know the `setspan` method would clear the previous same span. I&#39;m just wondering if there are any approach to solve these kind of problems without using so many different spans.\r\n\r\n    ClickableSpan clk = new ClickableSpan() {\r\n        @Override\r\n        public void onClick(@NonNull View view) {\r\n            Toast.makeText(MainActivity.this, &quot;hi&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    };\r\n    ss.setSpan(clk, 20, 23, 0);\r\n    ss.setSpan(clk, 17, 19, 0);\r\n    text.setText(ss);\r\n\r\n","title":"Android studio use same span multiple times","body":"<p>I'm working on the android studio project which requires using same span multiple times in the text. I know the <code>setspan</code> method would clear the previous same span. I'm just wondering if there are any approach to solve these kind of problems without using so many different spans.</p>\n<pre><code>ClickableSpan clk = new ClickableSpan() {\n    @Override\n    public void onClick(@NonNull View view) {\n        Toast.makeText(MainActivity.this, &quot;hi&quot;, Toast.LENGTH_SHORT).show();\n    }\n};\nss.setSpan(clk, 20, 23, 0);\nss.setSpan(clk, 17, 19, 0);\ntext.setText(ss);\n</code></pre>\n"},{"tags":["java","android","android-fragments","android-activity","back-button"],"answers":[{"tags":[],"owner":{"account_id":6234983,"reputation":159,"user_id":4850577,"display_name":"Vavaste"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661091072,"creation_date":1661091072,"answer_id":73435236,"question_id":73434438,"body_markdown":"You should define a class, with a method getInstance accessible globally, that contains the last fragment visited, when you press back you should use the fragment manager to recreate the last fragment (found in the new class) and then, looking at the model of the selected fragment, repopulate it with the old data (if there are inputs/non static datas in the fragment)","title":"From second activity when press home back button do not came back same fragment in a activity","body":"<p>You should define a class, with a method getInstance accessible globally, that contains the last fragment visited, when you press back you should use the fragment manager to recreate the last fragment (found in the new class) and then, looking at the model of the selected fragment, repopulate it with the old data (if there are inputs/non static datas in the fragment)</p>\n"}],"owner":{"account_id":25309640,"reputation":13,"user_id":19132550,"display_name":"htaapps"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661091072,"creation_date":1661085227,"question_id":73434438,"body_markdown":"**In my project 2 activity given -  MainActivity &amp; Second Activity.\r\nin my main activity, I have four fragments, In the 3rd fragment, A button uses to go to the second activity.** \r\n\r\nI will implement the below code to go back\r\n\r\n**This code came back to me on MainActivity at home Fragment. but I went through the third fragment.so I want to come back to my third fragment.** Please coders help me to solve this.\r\n\r\n***Also, help me when I go from fragment to fragment and want to come back to the same fragment.***\r\n\r\nIn Manifest\r\n\r\n    &lt;activity\r\n                android:name=&quot;.SecondActivity&quot;\r\n                android:parentActivityName=&quot;.MainActivity&quot;\r\n                android:exported=&quot;false&quot; /&gt;\r\n\r\n ThirdFragment\r\n\r\n    binding.goToSecondActivity.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Intent a = new Intent(getActivity(), SecondActivity.class);\r\n                    a.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                    startActivity(a);\r\n                }\r\n            });\r\n\r\nIn Second activity\r\n\r\n    public class SecondActivity extends AppCompatActivity {\r\n        ActivitySecondBinding binding;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            binding = ActivitySecondBinding.inflate(getLayoutInflater());\r\n            setContentView(binding.getRoot());\r\n            getSupportActionBar().setTitle(&quot;Second Page&quot;);\r\n            getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n\r\n           // code here\r\n        }\r\n    \r\n        @Override\r\n        public boolean onOptionsItemSelected(MenuItem item) {\r\n            switch (item.getItemId()) {\r\n                // Respond to the action bar&#39;s Up/Home button\r\n                case android.R.id.home:\r\n                    NavUtils.navigateUpFromSameTask(this);\r\n                    return true;\r\n            }\r\n            return super.onOptionsItemSelected(item);\r\n        }\r\n    \r\n        @Override\r\n        public void onBackPressed() {\r\n            super.onBackPressed();\r\n        }\r\n    }\r\n","title":"From second activity when press home back button do not came back same fragment in a activity","body":"<p><strong>In my project 2 activity given -  MainActivity &amp; Second Activity.\nin my main activity, I have four fragments, In the 3rd fragment, A button uses to go to the second activity.</strong></p>\n<p>I will implement the below code to go back</p>\n<p><strong>This code came back to me on MainActivity at home Fragment. but I went through the third fragment.so I want to come back to my third fragment.</strong> Please coders help me to solve this.</p>\n<p><em><strong>Also, help me when I go from fragment to fragment and want to come back to the same fragment.</strong></em></p>\n<p>In Manifest</p>\n<pre><code>&lt;activity\n            android:name=&quot;.SecondActivity&quot;\n            android:parentActivityName=&quot;.MainActivity&quot;\n            android:exported=&quot;false&quot; /&gt;\n</code></pre>\n<p>ThirdFragment</p>\n<pre><code>binding.goToSecondActivity.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent a = new Intent(getActivity(), SecondActivity.class);\n                a.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                startActivity(a);\n            }\n        });\n</code></pre>\n<p>In Second activity</p>\n<pre><code>public class SecondActivity extends AppCompatActivity {\n    ActivitySecondBinding binding;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding = ActivitySecondBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n        getSupportActionBar().setTitle(&quot;Second Page&quot;);\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n\n       // code here\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        switch (item.getItemId()) {\n            // Respond to the action bar's Up/Home button\n            case android.R.id.home:\n                NavUtils.navigateUpFromSameTask(this);\n                return true;\n        }\n        return super.onOptionsItemSelected(item);\n    }\n\n    @Override\n    public void onBackPressed() {\n        super.onBackPressed();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","ads","ironsource"],"answers":[{"tags":[],"owner":{"account_id":21409103,"reputation":1,"user_id":17744811,"display_name":"ManavPatni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661090893,"creation_date":1661090893,"answer_id":73435219,"question_id":73434788,"body_markdown":"&gt; **This way is not official to solve this problem but it worked for me**\r\n&gt; **you can also try it.**\r\n\r\n     IronSource.init(MainActivity.this, &quot;162082b5d&quot;);\r\n\r\n     //loading interstitial Ad\r\n     IronSource.loadInterstitial();\r\n\r\n     //Init Interstitial\r\n     IronSource.init(this, &quot;162082b5d&quot;, IronSource.AD_UNIT.INTERSTITIAL);\r\n\r\n     //ironSource Ad\r\n     //Interstitial Ads\r\n     IronSource.setInterstitialListener(new InterstitialListener() {\r\n                            @Override\r\n                            public void onInterstitialAdReady() {\r\n                            }\r\n                            @Override\r\n                            public void onInterstitialAdLoadFailed(IronSourceError error) {\r\n                                System.out.println(&quot;Failed To Load Ads&quot;);\r\n                            }\r\n                            @Override\r\n                            public void onInterstitialAdOpened() {\r\n                            }\r\n                            @Override\r\n                            public void onInterstitialAdClosed() {\r\n                            }\r\n                            @Override\r\n                            public void onInterstitialAdShowFailed(IronSourceError error) {\r\n                                IronSource.showInterstitial(&quot;DefaultInterstitial&quot;);\r\n                            }\r\n                            @Override\r\n                            public void onInterstitialAdClicked() {\r\n                            }\r\n                            @Override\r\n                            public void onInterstitialAdShowSucceeded() {\r\n                            }\r\n                        });\r\n                        IronSource.showInterstitial(&quot;DefaultInterstitial&quot;);\r\n                        IronSource.loadInterstitial();\r\n\r\n\r\n&gt; **How it worked:-**\r\n\r\nI just called `IronSource.loadInterstitial();` in `onInterstitialAdShowFailed` method.\r\n\r\n\r\n**Hope it works for you.\r\nHappy Coding...**\r\n\r\n","title":"How can I show ironSource Interstitial ads on RecylerView Item clicked","body":"<blockquote>\n<p><strong>This way is not official to solve this problem but it worked for me</strong>\n<strong>you can also try it.</strong></p>\n</blockquote>\n<pre><code> IronSource.init(MainActivity.this, &quot;162082b5d&quot;);\n\n //loading interstitial Ad\n IronSource.loadInterstitial();\n\n //Init Interstitial\n IronSource.init(this, &quot;162082b5d&quot;, IronSource.AD_UNIT.INTERSTITIAL);\n\n //ironSource Ad\n //Interstitial Ads\n IronSource.setInterstitialListener(new InterstitialListener() {\n                        @Override\n                        public void onInterstitialAdReady() {\n                        }\n                        @Override\n                        public void onInterstitialAdLoadFailed(IronSourceError error) {\n                            System.out.println(&quot;Failed To Load Ads&quot;);\n                        }\n                        @Override\n                        public void onInterstitialAdOpened() {\n                        }\n                        @Override\n                        public void onInterstitialAdClosed() {\n                        }\n                        @Override\n                        public void onInterstitialAdShowFailed(IronSourceError error) {\n                            IronSource.showInterstitial(&quot;DefaultInterstitial&quot;);\n                        }\n                        @Override\n                        public void onInterstitialAdClicked() {\n                        }\n                        @Override\n                        public void onInterstitialAdShowSucceeded() {\n                        }\n                    });\n                    IronSource.showInterstitial(&quot;DefaultInterstitial&quot;);\n                    IronSource.loadInterstitial();\n</code></pre>\n<blockquote>\n<p><strong>How it worked:-</strong></p>\n</blockquote>\n<p>I just called <code>IronSource.loadInterstitial();</code> in <code>onInterstitialAdShowFailed</code> method.</p>\n<p><strong>Hope it works for you.\nHappy Coding...</strong></p>\n"}],"owner":{"account_id":21409103,"reputation":1,"user_id":17744811,"display_name":"ManavPatni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1661090893,"creation_date":1661087909,"question_id":73434788,"body_markdown":"How can I show ironSource  Interstitial ads on RecylerView Item clicked","title":"How can I show ironSource Interstitial ads on RecylerView Item clicked","body":"<p>How can I show ironSource  Interstitial ads on RecylerView Item clicked</p>\n"},{"tags":["java","ssh","ssh-keys","j2ssh"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1455081774,"post_id":35307393,"comment_id":58324642,"body_markdown":"try using http://www.jcraft.com/jsch/","body":"try using <a href=\"http://www.jcraft.com/jsch/\" rel=\"nofollow noreferrer\">jcraft.com/jsch</a>"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1455081891,"post_id":35307393,"comment_id":58324692,"body_markdown":"to be honest, the exception and the posted code do not seem to match, also `execCmd` is not used.","body":"to be honest, the exception and the posted code do not seem to match, also <code>execCmd</code> is not used."},{"owner":{"account_id":3824231,"reputation":481,"user_id":3171437,"accept_rate":80,"display_name":"Jitin Kodian"},"score":0,"creation_date":1455081958,"post_id":35307393,"comment_id":58324720,"body_markdown":"what is the version of `ssh` on the linux host?","body":"what is the version of <code>ssh</code> on the linux host?"},{"owner":{"account_id":1576570,"reputation":603,"user_id":1835037,"accept_rate":0,"display_name":"Karthick88it"},"score":0,"creation_date":1455084632,"post_id":35307393,"comment_id":58325789,"body_markdown":"[root@centos-test ssh]# ssh -v localhost\nOpenSSH_5.3p1, OpenSSL 1.0.1e-fips 11 Feb 2013\ndebug1: Reading configuration data /etc/ssh/ssh_config\ndebug1: Applying options for *\ndebug1: Connecting to localhost [::1] port 22.\ndebug1: Connection established.\ndebug1: permanently_set_uid: 0/0\ndebug1: identity file /root/.ssh/identity type -1\ndebug1: identity file /root/.ssh/identity-cert type -1\ndebug1: identity file /root/.ssh/id_rsa type -1\ndebug1: Remote protocol version 2.0, remote software version","body":"[root@centos-test ssh]# ssh -v localhost OpenSSH_5.3p1, OpenSSL 1.0.1e-fips 11 Feb 2013 debug1: Reading configuration data /etc/ssh/ssh_config debug1: Applying options for * debug1: Connecting to localhost [::1] port 22. debug1: Connection established. debug1: permanently_set_uid: 0/0 debug1: identity file /root/.ssh/identity type -1 debug1: identity file /root/.ssh/identity-cert type -1 debug1: identity file /root/.ssh/id_rsa type -1 debug1: Remote protocol version 2.0, remote software version"},{"owner":{"account_id":7498641,"reputation":2237,"user_id":5698098,"display_name":"Ivo Mori"},"score":0,"creation_date":1595296650,"post_id":35307393,"comment_id":111418894,"body_markdown":"There are several answers for your question here – please accept one (if it answers your question) so that your question stops from showing up as _unanswered_ in the question searches.","body":"There are several answers for your question here – please accept one (if it answers your question) so that your question stops from showing up as <i>unanswered</i> in the question searches."}],"answers":[{"tags":[],"owner":{"account_id":192966,"reputation":5703,"user_id":434408,"accept_rate":51,"display_name":"a3.14_Infinity"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1455081885,"creation_date":1455081885,"answer_id":35307467,"question_id":35307393,"body_markdown":"This error (*&quot;The  Transport Protocol thread failed. java.io.IOException: The socket is EOF”*) occurs when j2ssh.jar file is not compatible with current SSH version of SFTP server.\r\n\r\nYou can try using Java Secure Channel (JSch) from [here][1].\r\n\r\nCourtesy: http://techydiary.com/the-transport-protocol-thread-failed-java-io-ioexception-the-socket-is-eof/\r\n\r\n\r\n  [1]: http://www.jcraft.com/jsch/","title":"&quot;The Transport Protocol thread failed&quot; – &quot;The socket is EOF&quot; with J2SSH connection using Java","body":"<p>This error (<em>\"The  Transport Protocol thread failed. java.io.IOException: The socket is EOF”</em>) occurs when j2ssh.jar file is not compatible with current SSH version of SFTP server.</p>\n\n<p>You can try using Java Secure Channel (JSch) from <a href=\"http://www.jcraft.com/jsch/\" rel=\"nofollow\">here</a>.</p>\n\n<p>Courtesy: <a href=\"http://techydiary.com/the-transport-protocol-thread-failed-java-io-ioexception-the-socket-is-eof/\" rel=\"nofollow\">http://techydiary.com/the-transport-protocol-thread-failed-java-io-ioexception-the-socket-is-eof/</a></p>\n"},{"tags":[],"owner":{"account_id":2175518,"reputation":719,"user_id":1926283,"accept_rate":58,"display_name":"Kajal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1455082585,"creation_date":1455082585,"answer_id":35307625,"question_id":35307393,"body_markdown":"  The following sample Code may help you,\r\n\r\n    import java.io.InputStream;\r\n    import org.apache.commons.io.IOUtils;\r\n\r\n     \r\n    import com.jcraft.jsch.Channel;\r\n    import com.jcraft.jsch.ChannelExec;\r\n    import com.jcraft.jsch.JSch;\r\n    import com.jcraft.jsch.Session;\r\n    \r\n     \r\n    public class SSHClient {\r\n    \r\n    \t/**\r\n    \t * Constant EXCUTE_CHANNEL\r\n    \t */\r\n    \tpublic static final String EXCUTE_CHANNEL = &quot;exec&quot;;\r\n    \r\n    \t/**\r\n    \t * Constant STRICT_KEY_CHECKING\r\n    \t */\r\n    \tpublic static final String STRICT_KEY_CHECKING = &quot;StrictHostKeyChecking&quot;;\r\n    \r\n    \t \r\n    \t/** Name/ip of the remote machine/device **/ \r\n    \tprivate String host;\r\n    \tprivate String userName;\r\n    \tprivate String password;\r\n    \r\n    \t/**\r\n    \t * This method used to initilze user and host\r\n    \t * \r\n    \t * @param userName\r\n    \t * @param password\r\n    \t * @param host\r\n    \t */\r\n    \tpublic SSHClient(String userName,String password, String host) {\r\n    \t\tsuper();\r\n    \t\tthis.userName = userName;\r\n    \t\tthis.password = password;\r\n    \t\tthis.host = host;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * This method used to execute commands remotly by using SSHV2\r\n    \t * \r\n    \t * @param host\r\n    \t * @param username\r\n    \t * @param password\r\n    \t * @param command\r\n    \t * @return\r\n    \t */\r\n    \tpublic String executeCommand(String command) { \r\n    \t\tStringBuilder log = new StringBuilder();\r\n    \t\tString response = null;\r\n    \t\tChannel channel = null;\r\n    \t\tSession session = null;\r\n    \t\t  \r\n    \t\ttry {\r\n    \t\t\tJSch jsch = new JSch();\r\n    \t\t\tJSch.setConfig(STRICT_KEY_CHECKING, Constants.NO);\r\n    \r\n    \t\t\tsession = jsch.getSession(userName, host, 22);\r\n     \r\n    \r\n    \t\t\t// If two machines have SSH passwordless logins setup, the following\r\n    \t\t\t// line is not needed:\r\n    \t\t\tsession.setPassword(password);\r\n    \t\t\tsession.connect();\r\n    \r\n    \t\t\tchannel = session.openChannel(EXCUTE_CHANNEL);\r\n    \t\t\t((ChannelExec) channel).setCommand(command);\r\n    \r\n    \t\t\t// channel.setInputStream(System.in);\r\n    \t\t\tchannel.setInputStream(null);\r\n    \r\n    \t\t\t((ChannelExec) channel).setErrStream(System.err);\r\n    \r\n    \t\t\tInputStream in = channel.getInputStream();\r\n    \r\n    \t\t\tchannel.connect();\r\n    \r\n    \t\t\tresponse = IOUtils.toString(in);\r\n    \r\n    \t\t} catch (Exception ex) {\r\n    \t\t\t\t//handle exception\r\n    \t\t} finally {\r\n    \t\t\ttry {\r\n    \t\t\t\tif (session != null) {\r\n    \t\t\t\t\tsession.disconnect();\r\n    \t\t\t\t}\r\n    \t\t\t} catch (Exception ex) {\r\n    \t\t\t\t//handle exception\r\n    \t\t\t}\r\n    \t\t\ttry {\r\n    \t\t\t\tif (channel != null) {\r\n    \t\t\t\t\tchannel.disconnect();\r\n    \t\t\t\t}\r\n    \t\t\t} catch (Exception ex) {\r\n    \t\t\t\t//handle exception\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \t\tSystem.ou.println( &quot;Response received :&quot;+  response));\r\n    \t\treturn response;\r\n    \t}\r\n    }","title":"&quot;The Transport Protocol thread failed&quot; – &quot;The socket is EOF&quot; with J2SSH connection using Java","body":"<p>The following sample Code may help you,</p>\n\n<pre><code>import java.io.InputStream;\nimport org.apache.commons.io.IOUtils;\n\n\nimport com.jcraft.jsch.Channel;\nimport com.jcraft.jsch.ChannelExec;\nimport com.jcraft.jsch.JSch;\nimport com.jcraft.jsch.Session;\n\n\npublic class SSHClient {\n\n    /**\n     * Constant EXCUTE_CHANNEL\n     */\n    public static final String EXCUTE_CHANNEL = \"exec\";\n\n    /**\n     * Constant STRICT_KEY_CHECKING\n     */\n    public static final String STRICT_KEY_CHECKING = \"StrictHostKeyChecking\";\n\n\n    /** Name/ip of the remote machine/device **/ \n    private String host;\n    private String userName;\n    private String password;\n\n    /**\n     * This method used to initilze user and host\n     * \n     * @param userName\n     * @param password\n     * @param host\n     */\n    public SSHClient(String userName,String password, String host) {\n        super();\n        this.userName = userName;\n        this.password = password;\n        this.host = host;\n    }\n\n    /**\n     * This method used to execute commands remotly by using SSHV2\n     * \n     * @param host\n     * @param username\n     * @param password\n     * @param command\n     * @return\n     */\n    public String executeCommand(String command) { \n        StringBuilder log = new StringBuilder();\n        String response = null;\n        Channel channel = null;\n        Session session = null;\n\n        try {\n            JSch jsch = new JSch();\n            JSch.setConfig(STRICT_KEY_CHECKING, Constants.NO);\n\n            session = jsch.getSession(userName, host, 22);\n\n\n            // If two machines have SSH passwordless logins setup, the following\n            // line is not needed:\n            session.setPassword(password);\n            session.connect();\n\n            channel = session.openChannel(EXCUTE_CHANNEL);\n            ((ChannelExec) channel).setCommand(command);\n\n            // channel.setInputStream(System.in);\n            channel.setInputStream(null);\n\n            ((ChannelExec) channel).setErrStream(System.err);\n\n            InputStream in = channel.getInputStream();\n\n            channel.connect();\n\n            response = IOUtils.toString(in);\n\n        } catch (Exception ex) {\n                //handle exception\n        } finally {\n            try {\n                if (session != null) {\n                    session.disconnect();\n                }\n            } catch (Exception ex) {\n                //handle exception\n            }\n            try {\n                if (channel != null) {\n                    channel.disconnect();\n                }\n            } catch (Exception ex) {\n                //handle exception\n            }\n\n        }\n        System.ou.println( \"Response received :\"+  response));\n        return response;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7498641,"reputation":2237,"user_id":5698098,"display_name":"Ivo Mori"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1482830253,"creation_date":1461619267,"answer_id":36851296,"question_id":35307393,"body_markdown":"Motivation\r\n==========\r\nI stumbled across this question and answers while investigating the error in question `java.io.IOException: The socket is EOF`. Because changing the code to use some other SSH Java library is not immediately possible in my case and the stated explanation by @a3.14_Infinity was not detailed enough for me, I&#39;d like to add my take on it.\r\n\r\njava.io.IOException: The socket is EOF - Why?\r\n=============================================\r\nBecause this exception is not very helpful, I first tried [Wireshark][1] to see what&#39;s going on over the wire, but to no avail. So I configured the `sshd_config` (OpenSSH 6.9) to log on `DEBUG3` level and got the answer in the `/var/log/auth.log` file of my test machine. It stated a _**fatal error**_ while trying to negotiate the key exchange algorithm with the SSH client (the Java SSH library).\r\n\r\nBecause the SSH server and client could not agree on a mutual key exchange algorithm the OpenSSH server terminates the connection to the client. In consequence, the Java SSH library code throws the exception.\r\n\r\nBut why does it happen?\r\n=======================\r\nThe `sshtools.j2ssh` ([sshtools : j2ssh-core : 0.2.9][2]) library code is pretty old and discontinued. Starting with [OpenSSH 6.7][3] (released October, 2014) default ciphers and MAC have been altered to remove unsafe algorithms which includes the `blowfish-cbc` cipher. And with [OpenSSH 6.9][4] (released June, 2015) the support for the 1024-bit `diffie-hellman-group1-sha1` key exchange is disabled by default.\r\n\r\nWhen you still use the prehistoric SSH Tools `j2ssh` library (God forbid) connecting to a newer OpenSSH server you will get the described error. The library code only offers the `diffie-hellman-group1-sha1` key exchange algorithm to the OpenSSH server which it does not support by default. Thus, a secure connection cannot be established.\r\n\r\nCannot change the code?\r\n=======================\r\nIf moving to another Java SSH library is not immediately possible (my case) then you can re-enable the disabled `diffie-hellman-group1-sha1` key exchange algorithm in the OpenSSH&#39;s server config file `sshd_config`. For example like this.\r\n\r\n    Ciphers aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com,chacha20-poly1305@openssh.com,blowfish-cbc\r\n     \r\n    KexAlgorithms diffie-hellman-group1-sha1,diffie-hellman-group-exchange-sha1,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group14-sha1\r\n\r\nBut let me be clear on this. The `diffie-hellman-group1-sha1` key exchange algorithm as well as the `blowfish-cbc` cipher are turned off by default because they are insecure. Reenabling them should only be a temporary measure until you can replace this obsolete Java SSH library.\r\n\r\n&lt;s&gt;Finally, I like to point out that the suggested _Java Secure Channel (JSch)_ library in other answers is discontinued. So, you might want to consider [sshj][5] or even [ssh2j-maverick][6] instead.&lt;/s&gt;\r\n\r\n**Edit:  I was wrong**, the _Java Secure Channel [JSch][7]_ library is alive (JSCH 0.1.54 was released on 2016-09-03 [on MavenCentral][8]) and certainly worth your consideration. Alternatively, you may want to consider also [sshj][5] or [ssh2j-maverick][6].\r\n\r\nAddendum: Migration\r\n===================\r\nTo keep the migration effort for the `sshtools.j2ssh` ([sshtools : j2ssh-core : 0.2.9][2]) library minimal I looked at the ***commercial*** legacy SSH client library from [SSHTOOLS][9] (version 1.7.1). This allowed to keep the existing library integration code with few minor changes regarding library API and exception handling. Thus, if you do not want to restart from scratch then biting the bullet and sticking with SSHTOOLS is probably your best option. Finally, to gauge the migration effort I first replaced the library with SSHTOOLS&#39; open source library [ssh2j-maverick][6] which almost has the same API as its latest commercial version (version 1.7.1). \r\n\r\n  [1]: https://www.wireshark.org/\r\n  [2]: http://search.maven.org/#artifactdetails%7Csshtools%7Cj2ssh-core%7C0.2.9%7Cjar\r\n  [3]: http://www.openssh.com/txt/release-6.7\r\n  [4]: http://www.openssh.com/txt/release-6.9\r\n  [5]: https://github.com/hierynomus/sshj\r\n  [6]: https://github.com/sshtools/j2ssh-maverick\r\n  [7]: http://www.jcraft.com/jsch\r\n  [8]: http://search.maven.org/#search%7Cgav%7C1%7Cg%3A%22com.jcraft%22%20AND%20a%3A%22jsch%22\r\n  [9]: https://www.sshtools.com/en/products/java-ssh-client","title":"&quot;The Transport Protocol thread failed&quot; – &quot;The socket is EOF&quot; with J2SSH connection using Java","body":"<h1>Motivation</h1>\n\n<p>I stumbled across this question and answers while investigating the error in question <code>java.io.IOException: The socket is EOF</code>. Because changing the code to use some other SSH Java library is not immediately possible in my case and the stated explanation by @a3.14_Infinity was not detailed enough for me, I'd like to add my take on it.</p>\n\n<h1>java.io.IOException: The socket is EOF - Why?</h1>\n\n<p>Because this exception is not very helpful, I first tried <a href=\"https://www.wireshark.org/\" rel=\"noreferrer\">Wireshark</a> to see what's going on over the wire, but to no avail. So I configured the <code>sshd_config</code> (OpenSSH 6.9) to log on <code>DEBUG3</code> level and got the answer in the <code>/var/log/auth.log</code> file of my test machine. It stated a <em><strong>fatal error</strong></em> while trying to negotiate the key exchange algorithm with the SSH client (the Java SSH library).</p>\n\n<p>Because the SSH server and client could not agree on a mutual key exchange algorithm the OpenSSH server terminates the connection to the client. In consequence, the Java SSH library code throws the exception.</p>\n\n<h1>But why does it happen?</h1>\n\n<p>The <code>sshtools.j2ssh</code> (<a href=\"http://search.maven.org/#artifactdetails%7Csshtools%7Cj2ssh-core%7C0.2.9%7Cjar\" rel=\"noreferrer\">sshtools : j2ssh-core : 0.2.9</a>) library code is pretty old and discontinued. Starting with <a href=\"http://www.openssh.com/txt/release-6.7\" rel=\"noreferrer\">OpenSSH 6.7</a> (released October, 2014) default ciphers and MAC have been altered to remove unsafe algorithms which includes the <code>blowfish-cbc</code> cipher. And with <a href=\"http://www.openssh.com/txt/release-6.9\" rel=\"noreferrer\">OpenSSH 6.9</a> (released June, 2015) the support for the 1024-bit <code>diffie-hellman-group1-sha1</code> key exchange is disabled by default.</p>\n\n<p>When you still use the prehistoric SSH Tools <code>j2ssh</code> library (God forbid) connecting to a newer OpenSSH server you will get the described error. The library code only offers the <code>diffie-hellman-group1-sha1</code> key exchange algorithm to the OpenSSH server which it does not support by default. Thus, a secure connection cannot be established.</p>\n\n<h1>Cannot change the code?</h1>\n\n<p>If moving to another Java SSH library is not immediately possible (my case) then you can re-enable the disabled <code>diffie-hellman-group1-sha1</code> key exchange algorithm in the OpenSSH's server config file <code>sshd_config</code>. For example like this.</p>\n\n<pre><code>Ciphers aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com,chacha20-poly1305@openssh.com,blowfish-cbc\n\nKexAlgorithms diffie-hellman-group1-sha1,diffie-hellman-group-exchange-sha1,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group14-sha1\n</code></pre>\n\n<p>But let me be clear on this. The <code>diffie-hellman-group1-sha1</code> key exchange algorithm as well as the <code>blowfish-cbc</code> cipher are turned off by default because they are insecure. Reenabling them should only be a temporary measure until you can replace this obsolete Java SSH library.</p>\n\n<p><s>Finally, I like to point out that the suggested <em>Java Secure Channel (JSch)</em> library in other answers is discontinued. So, you might want to consider <a href=\"https://github.com/hierynomus/sshj\" rel=\"noreferrer\">sshj</a> or even <a href=\"https://github.com/sshtools/j2ssh-maverick\" rel=\"noreferrer\">ssh2j-maverick</a> instead.</s></p>\n\n<p><strong>Edit:  I was wrong</strong>, the <em>Java Secure Channel <a href=\"http://www.jcraft.com/jsch\" rel=\"noreferrer\">JSch</a></em> library is alive (JSCH 0.1.54 was released on 2016-09-03 <a href=\"http://search.maven.org/#search%7Cgav%7C1%7Cg%3A%22com.jcraft%22%20AND%20a%3A%22jsch%22\" rel=\"noreferrer\">on MavenCentral</a>) and certainly worth your consideration. Alternatively, you may want to consider also <a href=\"https://github.com/hierynomus/sshj\" rel=\"noreferrer\">sshj</a> or <a href=\"https://github.com/sshtools/j2ssh-maverick\" rel=\"noreferrer\">ssh2j-maverick</a>.</p>\n\n<h1>Addendum: Migration</h1>\n\n<p>To keep the migration effort for the <code>sshtools.j2ssh</code> (<a href=\"http://search.maven.org/#artifactdetails%7Csshtools%7Cj2ssh-core%7C0.2.9%7Cjar\" rel=\"noreferrer\">sshtools : j2ssh-core : 0.2.9</a>) library minimal I looked at the <strong><em>commercial</em></strong> legacy SSH client library from <a href=\"https://www.sshtools.com/en/products/java-ssh-client\" rel=\"noreferrer\">SSHTOOLS</a> (version 1.7.1). This allowed to keep the existing library integration code with few minor changes regarding library API and exception handling. Thus, if you do not want to restart from scratch then biting the bullet and sticking with SSHTOOLS is probably your best option. Finally, to gauge the migration effort I first replaced the library with SSHTOOLS' open source library <a href=\"https://github.com/sshtools/j2ssh-maverick\" rel=\"noreferrer\">ssh2j-maverick</a> which almost has the same API as its latest commercial version (version 1.7.1). </p>\n"},{"tags":[],"owner":{"account_id":17032657,"reputation":1,"user_id":12322472,"display_name":"masvel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572916805,"creation_date":1572896033,"answer_id":58699938,"question_id":35307393,"body_markdown":"Here is the working code reused from some google source -\r\n\r\n```\r\nimport ch.ethz.ssh2.Connection;\r\nimport ch.ethz.ssh2.StreamGobbler;\r\n```\r\n\r\n```\r\nConnection conn = new Connection(server);\r\nconn.connect();\r\nboolean isAuthenticated = conn.authenticateWithPassword(user_id, password);\r\n\r\nSystem.out.println(&quot;Is server - &quot; + server + &quot; Authenticated? &quot; + isAuthenticated);\r\n\r\nif (isAuthenticated == false)\r\n    throw new IOException(&quot;Authentication failed.&quot;);\r\n\r\nch.ethz.ssh2.Session sess = conn.openSession();\r\nString new_commands = &quot;&quot;;\r\n\r\nfor (int i = 0; i &lt; commands.size(); i++) {\r\n    new_commands = new_commands + commands.get(i) + &quot;\\n&quot;;\r\n}\r\n\r\nSystem.out.println(&quot;The command executed is: &quot; + new_commands);\r\n\r\nsess.requestDumbPTY();\r\nsess.execCommand(new_commands);\r\nInputStream stdout = new StreamGobbler(sess.getStdout());\r\nBufferedReader br = new BufferedReader(new InputStreamReader(stdout));\r\nInputStream errStrm = new StreamGobbler(sess.getStderr());\r\nBufferedReader stderrRdr = new BufferedReader(new InputStreamReader(errStrm));\r\nsess.getStdin().write(&quot;EXIT\\n&quot;.getBytes());\r\n\r\nSystem.out.println(&quot;the output of the command is&quot;);\r\n\r\nwhile (true) {\r\n    String line_out = br.readLine();\r\n    if (line_out == null) {\r\n        break;\r\n    } else {\r\n        System.out.println(line_out);\r\n        output_logs.add(line_out);\r\n    }\r\n}\r\n\r\nwhile (true) {\r\n    String line_error = stderrRdr.readLine();\r\n    if (line_error == null) {\r\n        break;\r\n    } else {\r\n        System.out.println(line_error);\r\n        output_logs.add(line_error);\r\n    }\r\n}\r\n\r\noutput_logs.add(&quot;Exit Code:&quot; + sess.getExitStatus());\r\nSystem.out.println(&quot;ExitCode: &quot; + sess.getExitSignal());\r\n\r\nsess.close();\r\nconn.close();\r\n```","title":"&quot;The Transport Protocol thread failed&quot; – &quot;The socket is EOF&quot; with J2SSH connection using Java","body":"<p>Here is the working code reused from some google source -</p>\n\n<pre><code>import ch.ethz.ssh2.Connection;\nimport ch.ethz.ssh2.StreamGobbler;\n</code></pre>\n\n<pre><code>Connection conn = new Connection(server);\nconn.connect();\nboolean isAuthenticated = conn.authenticateWithPassword(user_id, password);\n\nSystem.out.println(\"Is server - \" + server + \" Authenticated? \" + isAuthenticated);\n\nif (isAuthenticated == false)\n    throw new IOException(\"Authentication failed.\");\n\nch.ethz.ssh2.Session sess = conn.openSession();\nString new_commands = \"\";\n\nfor (int i = 0; i &lt; commands.size(); i++) {\n    new_commands = new_commands + commands.get(i) + \"\\n\";\n}\n\nSystem.out.println(\"The command executed is: \" + new_commands);\n\nsess.requestDumbPTY();\nsess.execCommand(new_commands);\nInputStream stdout = new StreamGobbler(sess.getStdout());\nBufferedReader br = new BufferedReader(new InputStreamReader(stdout));\nInputStream errStrm = new StreamGobbler(sess.getStderr());\nBufferedReader stderrRdr = new BufferedReader(new InputStreamReader(errStrm));\nsess.getStdin().write(\"EXIT\\n\".getBytes());\n\nSystem.out.println(\"the output of the command is\");\n\nwhile (true) {\n    String line_out = br.readLine();\n    if (line_out == null) {\n        break;\n    } else {\n        System.out.println(line_out);\n        output_logs.add(line_out);\n    }\n}\n\nwhile (true) {\n    String line_error = stderrRdr.readLine();\n    if (line_error == null) {\n        break;\n    } else {\n        System.out.println(line_error);\n        output_logs.add(line_error);\n    }\n}\n\noutput_logs.add(\"Exit Code:\" + sess.getExitStatus());\nSystem.out.println(\"ExitCode: \" + sess.getExitSignal());\n\nsess.close();\nconn.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26121698,"reputation":1,"user_id":19813884,"display_name":"Eldad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661088090,"creation_date":1661088090,"answer_id":73434819,"question_id":35307393,"body_markdown":"found a simple solution on the OS:\r\ncomment out the Cipher line in /etc/ssh/sshd_config \r\nand run service sshd restart\r\n\r\n","title":"&quot;The Transport Protocol thread failed&quot; – &quot;The socket is EOF&quot; with J2SSH connection using Java","body":"<p>found a simple solution on the OS:\ncomment out the Cipher line in /etc/ssh/sshd_config\nand run service sshd restart</p>\n"}],"owner":{"account_id":1576570,"reputation":603,"user_id":1835037,"accept_rate":0,"display_name":"Karthick88it"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22045,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":5,"score":6,"last_activity_date":1661090304,"creation_date":1455081522,"question_id":35307393,"body_markdown":"I am trying to establish an SSH connection through my Java code, but getting below exception .. I tested my connection through Putty/Winscp tools and it works fine. The problem is with my Java code...\r\n\r\n    SEVERE: The Transport Protocol thread failed\r\n    java.io.IOException: The socket is EOF\r\n    \tat com.sshtools.j2ssh.transport.TransportProtocolInputStream.readBufferedData(Unknown Source)\r\n    \tat com.sshtools.j2ssh.transport.TransportProtocolInputStream.readMessage(Unknown Source)\r\n    \tat com.sshtools.j2ssh.transport.TransportProtocolCommon.readMessage(Unknown Source)\r\n    \tat com.sshtools.j2ssh.transport.kex.DhGroup1Sha1.performClientExchange(Unknown Source)\r\n    \tat com.sshtools.j2ssh.transport.TransportProtocolClient.performKeyExchange(Unknown Source)\r\n    \tat com.sshtools.j2ssh.transport.TransportProtocolCommon.beginKeyExchange(Unknown Source)\r\n    \tat com.sshtools.j2ssh.transport.TransportProtocolCommon.onMsgKexInit(Unknown Source)\r\n    \tat com.sshtools.j2ssh.transport.TransportProtocolCommon.startBinaryPacketProtocol(Unknown Source)\r\n    \tat com.sshtools.j2ssh.transport.TransportProtocolCommon.run(Unknown Source)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n\r\nBelow is my piece of Java code to establish the connection \r\n\r\n    public class MySSHClient {\r\n    \r\n      static SshClient ssh = null;\r\n      static SshConnectionProperties properties = null;\r\n      SessionChannelClient session = null;\r\n    \r\n      private static void MySSHClient(String hostName, String userName, String passwd )\r\n      {\r\n    \r\n        try\r\n        {\r\n          // Make a client connection\r\n          ssh = new SshClient();\r\n          properties = new SshConnectionProperties();\r\n          properties.setHost(&quot;192.168.1.175&quot;);\r\n    \r\n          // Connect to the host\r\n          ssh.connect(properties, new IgnoreHostKeyVerification());\r\n    \r\n          // Create a password authentication instance\r\n          PasswordAuthenticationClient pwd = new PasswordAuthenticationClient();\r\n    \r\n          pwd.setUsername(&quot;root&quot;);\r\n          pwd.setPassword(&quot;123456&quot;);\r\n    \r\n          // Try the authentication\r\n          int result = ssh.authenticate(pwd);\r\n    \r\n          // Evaluate the result\r\n          if (result==AuthenticationProtocolState.COMPLETE) {\r\n    \r\n            System.out.println(&quot;Connection Authenticated&quot;);\r\n          }\r\n        }\r\n        catch(Exception e)\r\n        {\r\n          System.out.println(&quot;Exception : &quot; + e.getMessage());\r\n        }\r\n    \r\n      }//end of method.\r\n    \r\n    \r\n      public String execCmd(String cmd)\r\n      {\r\n        String theOutput = &quot;&quot;;\r\n        try\r\n        {\r\n          // The connection is authenticated we can now do some real work!\r\n          session = ssh.openSessionChannel();\r\n    \r\n          if ( session.executeCommand(cmd) )\r\n          {\r\n            IOStreamConnector output = new IOStreamConnector();\r\n            java.io.ByteArrayOutputStream bos =  new\r\n            java.io.ByteArrayOutputStream();\r\n            output.connect(session.getInputStream(), bos );\r\n            session.getState().waitForState(ChannelState.CHANNEL_CLOSED);\r\n            theOutput = bos.toString();\r\n          }\r\n          //else\r\n          //throw Exception(&quot;Failed to execute command : &quot; + cmd);\r\n          //System.out.println(&quot;Failed to execute command : &quot; + cmd);\r\n        }\r\n        catch(Exception e)\r\n        {\r\n          System.out.println(&quot;Exception : &quot; + e.getMessage());\r\n        }\r\n    \r\n        return theOutput;\r\n      }\r\n      \r\n      public static void main(String[] args){\r\n    \t  MySSHClient(null, null, null);\r\n    \t}\r\n\r\n","title":"&quot;The Transport Protocol thread failed&quot; – &quot;The socket is EOF&quot; with J2SSH connection using Java","body":"<p>I am trying to establish an SSH connection through my Java code, but getting below exception .. I tested my connection through Putty/Winscp tools and it works fine. The problem is with my Java code...</p>\n\n<pre><code>SEVERE: The Transport Protocol thread failed\njava.io.IOException: The socket is EOF\n    at com.sshtools.j2ssh.transport.TransportProtocolInputStream.readBufferedData(Unknown Source)\n    at com.sshtools.j2ssh.transport.TransportProtocolInputStream.readMessage(Unknown Source)\n    at com.sshtools.j2ssh.transport.TransportProtocolCommon.readMessage(Unknown Source)\n    at com.sshtools.j2ssh.transport.kex.DhGroup1Sha1.performClientExchange(Unknown Source)\n    at com.sshtools.j2ssh.transport.TransportProtocolClient.performKeyExchange(Unknown Source)\n    at com.sshtools.j2ssh.transport.TransportProtocolCommon.beginKeyExchange(Unknown Source)\n    at com.sshtools.j2ssh.transport.TransportProtocolCommon.onMsgKexInit(Unknown Source)\n    at com.sshtools.j2ssh.transport.TransportProtocolCommon.startBinaryPacketProtocol(Unknown Source)\n    at com.sshtools.j2ssh.transport.TransportProtocolCommon.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\n</code></pre>\n\n<p>Below is my piece of Java code to establish the connection </p>\n\n<pre><code>public class MySSHClient {\n\n  static SshClient ssh = null;\n  static SshConnectionProperties properties = null;\n  SessionChannelClient session = null;\n\n  private static void MySSHClient(String hostName, String userName, String passwd )\n  {\n\n    try\n    {\n      // Make a client connection\n      ssh = new SshClient();\n      properties = new SshConnectionProperties();\n      properties.setHost(\"192.168.1.175\");\n\n      // Connect to the host\n      ssh.connect(properties, new IgnoreHostKeyVerification());\n\n      // Create a password authentication instance\n      PasswordAuthenticationClient pwd = new PasswordAuthenticationClient();\n\n      pwd.setUsername(\"root\");\n      pwd.setPassword(\"123456\");\n\n      // Try the authentication\n      int result = ssh.authenticate(pwd);\n\n      // Evaluate the result\n      if (result==AuthenticationProtocolState.COMPLETE) {\n\n        System.out.println(\"Connection Authenticated\");\n      }\n    }\n    catch(Exception e)\n    {\n      System.out.println(\"Exception : \" + e.getMessage());\n    }\n\n  }//end of method.\n\n\n  public String execCmd(String cmd)\n  {\n    String theOutput = \"\";\n    try\n    {\n      // The connection is authenticated we can now do some real work!\n      session = ssh.openSessionChannel();\n\n      if ( session.executeCommand(cmd) )\n      {\n        IOStreamConnector output = new IOStreamConnector();\n        java.io.ByteArrayOutputStream bos =  new\n        java.io.ByteArrayOutputStream();\n        output.connect(session.getInputStream(), bos );\n        session.getState().waitForState(ChannelState.CHANNEL_CLOSED);\n        theOutput = bos.toString();\n      }\n      //else\n      //throw Exception(\"Failed to execute command : \" + cmd);\n      //System.out.println(\"Failed to execute command : \" + cmd);\n    }\n    catch(Exception e)\n    {\n      System.out.println(\"Exception : \" + e.getMessage());\n    }\n\n    return theOutput;\n  }\n\n  public static void main(String[] args){\n      MySSHClient(null, null, null);\n    }\n</code></pre>\n"},{"tags":["java","byte-buddy"],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661090147,"creation_date":1661090147,"answer_id":73435129,"question_id":73416283,"body_markdown":"Not Byte Buddy, but the JVM disallows it. You would need to add a Java agent and add those fields before the classes are loaded. Byte Buddy can hook into the instrumentation API for this. Have a look into Java agents for this.","title":"How to amend the preloaded java class, add fields and methods","body":"<p>Not Byte Buddy, but the JVM disallows it. You would need to add a Java agent and add those fields before the classes are loaded. Byte Buddy can hook into the instrumentation API for this. Have a look into Java agents for this.</p>\n"}],"owner":{"account_id":16689077,"reputation":13,"user_id":19101351,"display_name":"Maris Novickis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73435129,"answer_count":1,"score":1,"last_activity_date":1661090147,"creation_date":1660909552,"question_id":73416283,"body_markdown":"I am very new to ByteBuddy API, I have a business requirement to amend (add new methods and new fields) the preloaded java class (SampleA.class)\r\n\r\n```lang-java\r\n final Class&lt;?&gt; newSubclass = new ByteBuddy()\r\n                .redefine(SampleA.class)\r\n                .defineField(&quot;newField&quot;, String.class, Modifier.PRIVATE)\r\n                .defineMethod(&quot;getNewField&quot;, String.class, Modifier.PUBLIC)\r\n                .intercept(FieldAccessor.ofField(&quot;newField&quot;))\r\n                .defineMethod(&quot;setNewField&quot;, void.class, Modifier.PUBLIC)\r\n                .withParameters(String.class)\r\n                .intercept(FieldAccessor.ofField(&quot;newField&quot;))\r\n                .make()\r\n                .load(ClassLoader.getSystemClassLoader())\r\n                .getLoaded();\r\n```\r\n\r\nWith this change, I am getting the exception that this class is already loaded.\r\n```\r\nCaused by: java.lang.IllegalStateException: Class already loaded: class testbytebuddy.dto.SampleA\r\n```\r\n\r\nMy impression from ByteBuddy documentation shows that it is not allowed to add methods or fields when reloading classes. Please correct me if I am wrong and guide me if there is any way or pattern to achieve this business goal.","title":"How to amend the preloaded java class, add fields and methods","body":"<p>I am very new to ByteBuddy API, I have a business requirement to amend (add new methods and new fields) the preloaded java class (SampleA.class)</p>\n<pre class=\"lang-java prettyprint-override\"><code> final Class&lt;?&gt; newSubclass = new ByteBuddy()\n                .redefine(SampleA.class)\n                .defineField(&quot;newField&quot;, String.class, Modifier.PRIVATE)\n                .defineMethod(&quot;getNewField&quot;, String.class, Modifier.PUBLIC)\n                .intercept(FieldAccessor.ofField(&quot;newField&quot;))\n                .defineMethod(&quot;setNewField&quot;, void.class, Modifier.PUBLIC)\n                .withParameters(String.class)\n                .intercept(FieldAccessor.ofField(&quot;newField&quot;))\n                .make()\n                .load(ClassLoader.getSystemClassLoader())\n                .getLoaded();\n</code></pre>\n<p>With this change, I am getting the exception that this class is already loaded.</p>\n<pre><code>Caused by: java.lang.IllegalStateException: Class already loaded: class testbytebuddy.dto.SampleA\n</code></pre>\n<p>My impression from ByteBuddy documentation shows that it is not allowed to add methods or fields when reloading classes. Please correct me if I am wrong and guide me if there is any way or pattern to achieve this business goal.</p>\n"},{"tags":["java","intellij-idea","structural-search"],"answers":[{"tags":[],"owner":{"account_id":14879298,"reputation":1234,"user_id":10744483,"display_name":"Olga Klisho"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1562837364,"creation_date":1562837364,"answer_id":56985990,"question_id":56975519,"body_markdown":"You may create two search templates for this task: first, search template for deprecated class, second, search template for deprecated class reference.\r\n\r\n\r\nYou may import the following templates with &quot;Import Template form Clipboard&quot; tool\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/srGjf.png\r\n\r\n    &lt;searchConfiguration name=&quot;deprecated class&quot; text=&quot;@Deprecated class $C$ {} &quot; recursive=&quot;true&quot; caseInsensitive=&quot;true&quot; type=&quot;JAVA&quot; pattern_context=&quot;default&quot;&gt;\r\n     &lt;constraint name=&quot;__context__&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\r\n     &lt;constraint name=&quot;C&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\r\n    &lt;/searchConfiguration&gt;\r\n\r\n\r\n    &lt;searchConfiguration name=&quot;reference to deprecated class&quot; text=&quot;$ref$&quot; recursive=&quot;true&quot; caseInsensitive=&quot;true&quot; type=&quot;JAVA&quot; pattern_context=&quot;default&quot;&gt;\r\n     &lt;constraint name=&quot;__context__&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\r\n     &lt;constraint name=&quot;ref&quot; reference=&quot;deprecated class&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\r\n    &lt;/searchConfiguration&gt;\r\n\r\nBTW there is an inspection *Deprecated API usage* (Java | Code maturity | Deprecated API usage) that has similar functionality. ","title":"How to find usage of deprecated java classes with Structural Search command in Intellij IDEA?","body":"<p>You may create two search templates for this task: first, search template for deprecated class, second, search template for deprecated class reference.</p>\n\n<p>You may import the following templates with \"Import Template form Clipboard\" tool\n<a href=\"https://i.stack.imgur.com/srGjf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/srGjf.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>&lt;searchConfiguration name=\"deprecated class\" text=\"@Deprecated class $C$ {} \" recursive=\"true\" caseInsensitive=\"true\" type=\"JAVA\" pattern_context=\"default\"&gt;\n &lt;constraint name=\"__context__\" within=\"\" contains=\"\" /&gt;\n &lt;constraint name=\"C\" within=\"\" contains=\"\" /&gt;\n&lt;/searchConfiguration&gt;\n\n\n&lt;searchConfiguration name=\"reference to deprecated class\" text=\"$ref$\" recursive=\"true\" caseInsensitive=\"true\" type=\"JAVA\" pattern_context=\"default\"&gt;\n &lt;constraint name=\"__context__\" within=\"\" contains=\"\" /&gt;\n &lt;constraint name=\"ref\" reference=\"deprecated class\" within=\"\" contains=\"\" /&gt;\n&lt;/searchConfiguration&gt;\n</code></pre>\n\n<p>BTW there is an inspection <em>Deprecated API usage</em> (Java | Code maturity | Deprecated API usage) that has similar functionality. </p>\n"}],"owner":{"account_id":8424420,"reputation":105,"user_id":6322187,"display_name":"Михайло Тітов"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":800,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56985990,"answer_count":1,"score":0,"last_activity_date":1661089170,"creation_date":1562778423,"question_id":56975519,"body_markdown":"I&#39;m trying to create inspection based on Structural Search And Replace feature. So, I need to create search template to find all usages of deprecated classes in java code but I can&#39;t understand how to do it.\r\n\r\nI&#39;ve tried set:\r\n`Search template: $Symbol$`\r\n`Filters for $Symbol$: reference=annotated classes; script=com.intellij.psi.impl.PsiImplUtil.isDeprecated(Symbol)`\r\nbut it doesn&#39;t work (doesn&#39;t find usage of deprecated classes)\r\n\r\nFor example we have deprecated class A:\r\n\r\n```java\r\n@Deprecated\r\npublic class A {}\r\n```\r\n\r\nand usage of this class in class B:\r\n\r\n```java\r\n@RunWith(A.class)\r\npublic class B {}\r\n```","title":"How to find usage of deprecated java classes with Structural Search command in Intellij IDEA?","body":"<p>I'm trying to create inspection based on Structural Search And Replace feature. So, I need to create search template to find all usages of deprecated classes in java code but I can't understand how to do it.</p>\n\n<p>I've tried set:\n<code>Search template: $Symbol$</code>\n<code>Filters for $Symbol$: reference=annotated classes; script=com.intellij.psi.impl.PsiImplUtil.isDeprecated(Symbol)</code>\nbut it doesn't work (doesn't find usage of deprecated classes)</p>\n\n<p>For example we have deprecated class A:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Deprecated\npublic class A {}\n</code></pre>\n\n<p>and usage of this class in class B:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(A.class)\npublic class B {}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10162025,"reputation":1,"user_id":7505183,"display_name":"Jan Př&#237;vratsk&#253;"},"score":0,"creation_date":1661088012,"post_id":73434735,"comment_id":129683393,"body_markdown":"There is similar problem for strings in array https://stackoverflow.com/questions/40939301/counting-same-strings-from-array-in-java","body":"There is similar problem for strings in array <a href=\"https://stackoverflow.com/questions/40939301/counting-same-strings-from-array-in-java\" title=\"counting same strings from array in java\">stackoverflow.com/questions/40939301/&hellip;</a>"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1661088294,"post_id":73434735,"comment_id":129683457,"body_markdown":"Your code doesn&#39;t compile, and this, `public String newUrl(String url) {   return shorturl   }` doesn&#39;t make sense. Your question seems to be, &quot;how do I use a HashMap&quot;, but I&#39;m not sure, and we don&#39;t know what key you&#39;re wanting to use, or what your complete requirements. Please avoid posting information that doesn&#39;t help us understand the question, such as, *&quot;I&#39;ve been stuck for days...&quot;*, but instead, please show information that helps us better understand your problem, including your complete requirements.  Also, please try to only post code that actually compiles.","body":"Your code doesn&#39;t compile, and this, <code>public String newUrl(String url) {   return shorturl   }</code> doesn&#39;t make sense. Your question seems to be, &quot;how do I use a HashMap&quot;, but I&#39;m not sure, and we don&#39;t know what key you&#39;re wanting to use, or what your complete requirements. Please avoid posting information that doesn&#39;t help us understand the question, such as, <i>&quot;I&#39;ve been stuck for days...&quot;</i>, but instead, please show information that helps us better understand your problem, including your complete requirements.  Also, please try to only post code that actually compiles."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1661088463,"post_id":73434735,"comment_id":129683491,"body_markdown":"Also, how does your current code and question relate to the tutorial link that you posted in your question?","body":"Also, how does your current code and question relate to the tutorial link that you posted in your question?"}],"answers":[{"tags":[],"owner":{"display_name":"user19620158"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661088944,"creation_date":1661088944,"answer_id":73434938,"question_id":73434735,"body_markdown":"You can add this to your newUrl method:\r\n\r\n    public String newUrl(String url){\r\n\t\tif (!keyMap.containsKey(url)) {\r\n\t\t\tkeyMap.put(url, 1);\r\n\t\t\treturn url;\r\n\t\t}else {\r\n\t\t\tkeyMap.replace(url, keyMap.get(url));\r\n\t\t\treturn url;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nand in your countUrl method you can just return keyMap.get(url)\r\n\r\n    public Integer countURL(String url){\r\n        return keyMap.get(url);\r\n    }\r\n\r\n","title":"How to count object values in Java","body":"<p>You can add this to your newUrl method:</p>\n<pre><code>public String newUrl(String url){\n    if (!keyMap.containsKey(url)) {\n        keyMap.put(url, 1);\n        return url;\n    }else {\n        keyMap.replace(url, keyMap.get(url));\n        return url;\n    }\n    \n}\n</code></pre>\n<p>and in your countUrl method you can just return keyMap.get(url)</p>\n<pre><code>public Integer countURL(String url){\n    return keyMap.get(url);\n}\n</code></pre>\n"}],"owner":{"account_id":10799277,"reputation":23,"user_id":7943858,"display_name":"Happy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1661088986,"answer_count":1,"score":-1,"last_activity_date":1661089016,"creation_date":1661087476,"question_id":73434735,"body_markdown":"Sorry, I&#39;m totally new to Java. I&#39;m trying to count the same URLs present in objects and I&#39;m not able to figure out how to count them.\r\n\r\nI was reading this article &lt;https://www.geeksforgeeks.org/passing-and-returning-objects-in-java/&gt;\r\nand wondered if this is a way to count URLs object or another way. I&#39;m stuck here for two days. \r\n\r\nCan anyone please guide me?\r\n\r\n```\r\nclass Main() {\r\n\r\n  private HashMap&lt;String, String&gt; keyMap;\r\n  private static int count = 0;\r\n\r\n  public String newUrl(String url) { \r\n    //Completed: if the url is present in HashMap then return shortUrl else add it and return shortUrl\r\n    return shortUrl\r\n  } \r\n\r\n  public Integer countURL(String url){\r\n    //int count = Collections.frequency(keyMap.values(), url);\r\n    return count;\r\n  }\r\n\r\n  public static void main(String args[]) {\r\n    Main a = new Main();\r\n    \r\n    String url = a.newUrl(&quot;http://example.com&quot;);\r\n    String url1 = a.newUrl(&quot;http://example2.com&quot;);\r\n    String url2 = a.newUrl(&quot;http://example2.com&quot;);\r\n    System.out.println(url);\r\n    System.out.println(url1);\r\n    System.out.println(url2);;\r\n    System.out.println(a.countURL(&quot;http://example2.com&quot;)); //2 if not then 0\r\n   }\r\n}\r\n```","title":"How to count object values in Java","body":"<p>Sorry, I'm totally new to Java. I'm trying to count the same URLs present in objects and I'm not able to figure out how to count them.</p>\n<p>I was reading this article <a href=\"https://www.geeksforgeeks.org/passing-and-returning-objects-in-java/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/passing-and-returning-objects-in-java/</a>\nand wondered if this is a way to count URLs object or another way. I'm stuck here for two days.</p>\n<p>Can anyone please guide me?</p>\n<pre><code>class Main() {\n\n  private HashMap&lt;String, String&gt; keyMap;\n  private static int count = 0;\n\n  public String newUrl(String url) { \n    //Completed: if the url is present in HashMap then return shortUrl else add it and return shortUrl\n    return shortUrl\n  } \n\n  public Integer countURL(String url){\n    //int count = Collections.frequency(keyMap.values(), url);\n    return count;\n  }\n\n  public static void main(String args[]) {\n    Main a = new Main();\n    \n    String url = a.newUrl(&quot;http://example.com&quot;);\n    String url1 = a.newUrl(&quot;http://example2.com&quot;);\n    String url2 = a.newUrl(&quot;http://example2.com&quot;);\n    System.out.println(url);\n    System.out.println(url1);\n    System.out.println(url2);;\n    System.out.println(a.countURL(&quot;http://example2.com&quot;)); //2 if not then 0\n   }\n}\n</code></pre>\n"},{"tags":["java","executorservice","java.util.concurrent","threadpoolexecutor"],"answers":[{"tags":[],"owner":{"account_id":17724496,"reputation":922,"user_id":12868634,"display_name":"Roland Kreuzer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1661088840,"creation_date":1661088214,"answer_id":73434829,"question_id":73434093,"body_markdown":"At submit() `ExecutorService` relies on its `BlockingQueue` for synchronization.\r\n\r\nWhen initializing a executor you have to provide a queue instance which is used to store all submited tasks and is used as source for the thread pool to read from.\r\n\r\nFor executors initialized from one of the `Executors` fixed size factory methods a `LinkedBlockingQueue` is used internally.\r\n\r\n`LinkedBlockingQueue` internally uses a `ReentrantLock` to lock and synchronize when it is offered new entries to store\r\n\r\n\r\nAs long as you work with `java.util.concurrent` implementations for your Queue concurrent submits should work just fine.","title":"Concurrent ThreadPoolExecutor.submit() calls","body":"<p>At submit() <code>ExecutorService</code> relies on its <code>BlockingQueue</code> for synchronization.</p>\n<p>When initializing a executor you have to provide a queue instance which is used to store all submited tasks and is used as source for the thread pool to read from.</p>\n<p>For executors initialized from one of the <code>Executors</code> fixed size factory methods a <code>LinkedBlockingQueue</code> is used internally.</p>\n<p><code>LinkedBlockingQueue</code> internally uses a <code>ReentrantLock</code> to lock and synchronize when it is offered new entries to store</p>\n<p>As long as you work with <code>java.util.concurrent</code> implementations for your Queue concurrent submits should work just fine.</p>\n"}],"owner":{"account_id":19239485,"reputation":33,"user_id":19623917,"display_name":"Flipz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661088840,"creation_date":1661082163,"question_id":73434093,"body_markdown":"I have a `ThreadPoolExecutor` whose `submit` method may be called concurrently by multiple threads. I’m wondering how the `ThreadPoolExecutor` would handle this. I don’t see that `submit` is atomic from the source code, although maybe I’m missing something.\r\nThanks in advance for any advice.","title":"Concurrent ThreadPoolExecutor.submit() calls","body":"<p>I have a <code>ThreadPoolExecutor</code> whose <code>submit</code> method may be called concurrently by multiple threads. I’m wondering how the <code>ThreadPoolExecutor</code> would handle this. I don’t see that <code>submit</code> is atomic from the source code, although maybe I’m missing something.\nThanks in advance for any advice.</p>\n"},{"tags":["java","linux","native","graalvm"],"comments":[{"owner":{"account_id":23020603,"reputation":341,"user_id":17141716,"display_name":"peterz"},"score":0,"creation_date":1659946051,"post_id":73248766,"comment_id":129406728,"body_markdown":"Your sample code works for me, prints current directory. I&#39;m on Linux using\n`GraalVM 22.2.0 Java 17 CE (Java Version 17.0.4+8-jvmci-22.2-b06)`","body":"Your sample code works for me, prints current directory. I&#39;m on Linux using <code>GraalVM 22.2.0 Java 17 CE (Java Version 17.0.4+8-jvmci-22.2-b06)</code>"},{"owner":{"account_id":23020603,"reputation":341,"user_id":17141716,"display_name":"peterz"},"score":0,"creation_date":1659946104,"post_id":73248766,"comment_id":129406747,"body_markdown":"[This comment](https://github.com/oracle/graal/issues/577#issuecomment-408845812) might be useful","body":"<a href=\"https://github.com/oracle/graal/issues/577#issuecomment-408845812\" rel=\"nofollow noreferrer\">This comment</a> might be useful"},{"owner":{"account_id":8443122,"reputation":1840,"user_id":6334851,"accept_rate":0,"display_name":"kinsley kajiva"},"score":0,"creation_date":1659953361,"post_id":73248766,"comment_id":129409263,"body_markdown":"I see there is abit of confusion here , I am not looking to get the current directory or folder , but I need to get the user home folder for example in linux &quot;/home/userfolder/&quot; , so far System.getProperty(&quot;user.dir&quot;)    is returning current folder when when you build a native image app .","body":"I see there is abit of confusion here , I am not looking to get the current directory or folder , but I need to get the user home folder for example in linux &quot;/home/userfolder/&quot; , so far System.getProperty(&quot;user.dir&quot;)    is returning current folder when when you build a native image app ."},{"owner":{"account_id":23020603,"reputation":341,"user_id":17141716,"display_name":"peterz"},"score":0,"creation_date":1659956312,"post_id":73248766,"comment_id":129410298,"body_markdown":"This behavior is correct. For user&#39;s home directory, try `user.home` property","body":"This behavior is correct. For user&#39;s home directory, try <code>user.home</code> property"},{"owner":{"account_id":8443122,"reputation":1840,"user_id":6334851,"accept_rate":0,"display_name":"kinsley kajiva"},"score":0,"creation_date":1659957694,"post_id":73248766,"comment_id":129410743,"body_markdown":"yes I see now , how does on get the home folder then ? so far its returning &quot;root&quot; ?","body":"yes I see now , how does on get the home folder then ? so far its returning &quot;root&quot; ?"},{"owner":{"account_id":23020603,"reputation":341,"user_id":17141716,"display_name":"peterz"},"score":0,"creation_date":1659958709,"post_id":73248766,"comment_id":129411074,"body_markdown":"Are you running native image as root user? `/root` is root user&#39;s home directory","body":"Are you running native image as root user? <code>&#47;root</code> is root user&#39;s home directory"},{"owner":{"account_id":8443122,"reputation":1840,"user_id":6334851,"accept_rate":0,"display_name":"kinsley kajiva"},"score":0,"creation_date":1659959092,"post_id":73248766,"comment_id":129411205,"body_markdown":"yes i am running as root. I think I get it in away so by the fact of me running the image as admin , my default home folder reference is now root?","body":"yes i am running as root. I think I get it in away so by the fact of me running the image as admin , my default home folder reference is now root?"}],"answers":[{"tags":[],"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661088374,"creation_date":1661088374,"answer_id":73434856,"question_id":73248766,"body_markdown":"I think there is a small confusion here. user.dir is for working directory and .home is for home folder.\r\n&quot;**user.dir**&quot; \tUser working directory\r\n\r\n&quot;**user.home**&quot; \tUser home directory\r\n\r\ncheck https://docs.oracle.com/javase/tutorial/essential/environment/sysprop.html has more system properties\r\n\r\nI used your code and called this rest service and print the output you can see the result below\r\n[![quarkus exe run with root][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/knfAt.png","title":"Hot to get user folder with graalvm native using &quot;user.dir&quot; on Linux","body":"<p>I think there is a small confusion here. user.dir is for working directory and .home is for home folder.\n&quot;<strong>user.dir</strong>&quot;  User working directory</p>\n<p>&quot;<strong>user.home</strong>&quot;     User home directory</p>\n<p>check <a href=\"https://docs.oracle.com/javase/tutorial/essential/environment/sysprop.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/essential/environment/sysprop.html</a> has more system properties</p>\n<p>I used your code and called this rest service and print the output you can see the result below\n<a href=\"https://i.stack.imgur.com/knfAt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/knfAt.png\" alt=\"quarkus exe run with root\" /></a></p>\n"}],"owner":{"account_id":8443122,"reputation":1840,"user_id":6334851,"accept_rate":0,"display_name":"kinsley kajiva"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661088374,"creation_date":1659697547,"question_id":73248766,"body_markdown":"So i am having a problem to get user &quot;user.dir&quot; file location. when I compile while not in native mode I get the normal path that I can also point to in the file manager but when I build a native image all I get is &quot;root&quot; as user folder, is there another way to correct this because I can even call root as a folder path to act on the file system. \r\n```java\r\n\r\n public static void printAllGuaranteedProperties() {\r\n      \r\n       printAProperty (&quot;user.dir&quot;, &quot;User&#39;s current working directory&quot;);\r\n    }\r\n    public static void printAProperty (String propName, String desc) {\r\n       System.out.println (&quot;Value for &#39;&quot; + desc + &quot;&#39; is &#39;&quot; + System.getProperty(propName) + &quot;&#39;.&quot;);\r\n    }\r\n\r\n\r\n```\r\n\r\nthe sample code above , just try to run this you will the results difference , I was using jdk 17 community edition for graalvm . make sure you build and image and test this as well .","title":"Hot to get user folder with graalvm native using &quot;user.dir&quot; on Linux","body":"<p>So i am having a problem to get user &quot;user.dir&quot; file location. when I compile while not in native mode I get the normal path that I can also point to in the file manager but when I build a native image all I get is &quot;root&quot; as user folder, is there another way to correct this because I can even call root as a folder path to act on the file system.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n public static void printAllGuaranteedProperties() {\n      \n       printAProperty (&quot;user.dir&quot;, &quot;User's current working directory&quot;);\n    }\n    public static void printAProperty (String propName, String desc) {\n       System.out.println (&quot;Value for '&quot; + desc + &quot;' is '&quot; + System.getProperty(propName) + &quot;'.&quot;);\n    }\n\n\n</code></pre>\n<p>the sample code above , just try to run this you will the results difference , I was using jdk 17 community edition for graalvm . make sure you build and image and test this as well .</p>\n"},{"tags":["java","react-native","android-studio","kotlin","gradle"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":3,"creation_date":1661013464,"post_id":73428406,"comment_id":129672047,"body_markdown":"Java is backward compatible but not forward compatible. You can&#39;t embed a library compiled in Java X and run the code with Java X-1 since there is no guarantee that the JRE X-1 understands the bytecode produced by the JRE X (while the other way round is always guaranteed)","body":"Java is backward compatible but not forward compatible. You can&#39;t embed a library compiled in Java X and run the code with Java X-1 since there is no guarantee that the JRE X-1 understands the bytecode produced by the JRE X (while the other way round is always guaranteed)"},{"owner":{"account_id":10808339,"reputation":1271,"user_id":7949704,"display_name":"Alejandro Gonzalez"},"score":0,"creation_date":1661013760,"post_id":73428406,"comment_id":129672113,"body_markdown":"@MatteoNNZ which is the solution in this case ?","body":"@MatteoNNZ which is the solution in this case ?"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1661013808,"post_id":73428406,"comment_id":129672125,"body_markdown":"To use a version of the library which is compatible with your JDK. External libraries usually provide a table of compatibilities (for example version xxx is compatible with JDK 11, version yyy with JDK 16 and so on)","body":"To use a version of the library which is compatible with your JDK. External libraries usually provide a table of compatibilities (for example version xxx is compatible with JDK 11, version yyy with JDK 16 and so on)"},{"owner":{"account_id":918625,"reputation":392,"user_id":950837,"display_name":"&#233;clairevoyant"},"score":0,"creation_date":1661020722,"post_id":73428406,"comment_id":129673555,"body_markdown":"[java 11 is version 55](https://stackoverflow.com/a/11432195/950837), so my guess is somehow java 8 is getting picked up in your environment.","body":"<a href=\"https://stackoverflow.com/a/11432195/950837\">java 11 is version 55</a>, so my guess is somehow java 8 is getting picked up in your environment."}],"owner":{"account_id":10808339,"reputation":1271,"user_id":7949704,"display_name":"Alejandro Gonzalez"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":826,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1661064784,"answer_count":0,"score":0,"last_activity_date":1661088057,"creation_date":1661013174,"question_id":73428406,"body_markdown":"I have one application in android, i changed one library but it is showing the next error when i try to compile it \r\n\r\n&gt; &gt; Task :app:transformClassesWithDynatraceTransformerForColombiaDebug FAILED Execution failed for task\r\n&gt; &#39;:app:transformClassesWithDynatraceTransformerForColombiaDebug&#39;.\r\n&gt; &gt; com.dynatrace.tools.android.InstrumentationException: Unable to instrument class\r\n&gt; com.co.demo.sdk.android.webview.WebViewException$Companion because it\r\n&gt; was compiled with a higher Java version than the one used for this\r\n&gt; build. Please adapt your JRE accordingly to\r\n&gt; https://www.dynatrace.com/support/help/shortlink/dynatrace-android-gradle-plugin-overview#requirements\r\n&gt; \r\n&gt; * Try: Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\nMy java version is \r\n\r\n&gt; Test@Local Dummy % java -version openjdk version &quot;11.0.14.1&quot;\r\n&gt; 2022-02-08 LTS OpenJDK Runtime Environment Corretto-11.0.14.10.1\r\n&gt; (build 11.0.14.1+10-LTS) OpenJDK 64-Bit Server VM\r\n&gt; Corretto-11.0.14.10.1 (build 11.0.14.1+10-LTS, mixed mode)\r\n\r\n\r\n\r\n**The full error is** \r\n\r\n&gt; Caused by: java.lang.UnsupportedClassVersionError:\r\n&gt; com/co/sdk/android/test/exception/BackendException has been compiled\r\n&gt; by a more recent version of the Java Runtime (class file version\r\n&gt; 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n&gt; \r\n&gt; Caused by: java.lang.UnsupportedClassVersionError:\r\n&gt; com/co/sdk/android/test/exception/BackendException has been compiled\r\n&gt; by a more recent version of the Java Runtime (class file version\r\n&gt; 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0 \tat\r\n&gt; com.dynatrace.android.instrumentation.transform.instrumentor.InstructionInstrumentor.transformMethod(InstructionInstrumentor.java:77)\r\n&gt; \tat\r\n&gt; com.dynatrace.android.instrumentation.transform.DefaultSubTransformer.transformMethod(DefaultSubTransformer.java:77)\r\n&gt; \tat\r\n&gt; com.dynatrace.android.instrumentation.Instrumentor.transform0(Instrumentor.java:150)\r\n&gt; \tat\r\n&gt; com.dynatrace.android.instrumentation.Instrumentor.instrument(Instrumentor.java:104)\r\n&gt; \tat\r\n&gt; com.dynatrace.tools.android.transformation.InstrumentedBuild.transformContent(InstrumentedBuild.java:75)\r\n&gt; \t... 134 more","title":"it was compiled with a higher Java version than the one used -- Anroid","body":"<p>I have one application in android, i changed one library but it is showing the next error when i try to compile it</p>\n<blockquote>\n<blockquote>\n<p>Task :app:transformClassesWithDynatraceTransformerForColombiaDebug FAILED Execution failed for task\n':app:transformClassesWithDynatraceTransformerForColombiaDebug'.\ncom.dynatrace.tools.android.InstrumentationException: Unable to instrument class\ncom.co.demo.sdk.android.webview.WebViewException$Companion because it\nwas compiled with a higher Java version than the one used for this\nbuild. Please adapt your JRE accordingly to\n<a href=\"https://www.dynatrace.com/support/help/shortlink/dynatrace-android-gradle-plugin-overview#requirements\" rel=\"nofollow noreferrer\">https://www.dynatrace.com/support/help/shortlink/dynatrace-android-gradle-plugin-overview#requirements</a></p>\n</blockquote>\n<ul>\n<li>Try: Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.</li>\n</ul>\n</blockquote>\n<p>My java version is</p>\n<blockquote>\n<p>Test@Local Dummy % java -version openjdk version &quot;11.0.14.1&quot;\n2022-02-08 LTS OpenJDK Runtime Environment Corretto-11.0.14.10.1\n(build 11.0.14.1+10-LTS) OpenJDK 64-Bit Server VM\nCorretto-11.0.14.10.1 (build 11.0.14.1+10-LTS, mixed mode)</p>\n</blockquote>\n<p><strong>The full error is</strong></p>\n<blockquote>\n<p>Caused by: java.lang.UnsupportedClassVersionError:\ncom/co/sdk/android/test/exception/BackendException has been compiled\nby a more recent version of the Java Runtime (class file version\n55.0), this version of the Java Runtime only recognizes class file versions up to 52.0</p>\n<p>Caused by: java.lang.UnsupportedClassVersionError:\ncom/co/sdk/android/test/exception/BackendException has been compiled\nby a more recent version of the Java Runtime (class file version\n55.0), this version of the Java Runtime only recognizes class file versions up to 52.0    at\ncom.dynatrace.android.instrumentation.transform.instrumentor.InstructionInstrumentor.transformMethod(InstructionInstrumentor.java:77)\nat\ncom.dynatrace.android.instrumentation.transform.DefaultSubTransformer.transformMethod(DefaultSubTransformer.java:77)\nat\ncom.dynatrace.android.instrumentation.Instrumentor.transform0(Instrumentor.java:150)\nat\ncom.dynatrace.android.instrumentation.Instrumentor.instrument(Instrumentor.java:104)\nat\ncom.dynatrace.tools.android.transformation.InstrumentedBuild.transformContent(InstrumentedBuild.java:75)\n... 134 more</p>\n</blockquote>\n"},{"tags":["java","json","spring","rest","jackson"],"comments":[{"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"score":0,"creation_date":1661073516,"post_id":73432906,"comment_id":129680415,"body_markdown":"That JSON is not a `Data` object, and the *I am **only** interested in 2 fields (brand, model) in the `Data` part* doesn&#39;t seem to be addressed in the code.","body":"That JSON is not a <code>Data</code> object, and the <i>I am <b>only</b> interested in 2 fields (brand, model) in the <code>Data</code> part</i> doesn&#39;t seem to be addressed in the code."}],"answers":[{"tags":[],"owner":{"account_id":15413608,"reputation":99,"user_id":11529048,"display_name":"Akhil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661075163,"creation_date":1661074484,"answer_id":73433183,"question_id":73432906,"body_markdown":"You have not specified any class to catch the response. You have only created 1 model to catch the Data object.\r\nYou can do it like this,\r\n\r\ni) Create a class to catch the JSON,\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class Payload {\r\n    \r\n        @JsonProperty(&quot;Data&quot;)\r\n        private Data data;\r\n    \r\n      \r\n    }\r\n\r\n\r\nYou have to first catch the JSON using the Payload class and then parse it accordingly,\r\n\r\n\r\n    String jsonString = request.block(); \r\n    ObjectMapper mapper = new ObjectMapper();\r\n    Payload payload = mapper.readValue(jsonString, Payload.class);\r\n    Data data = payload.getData();\r\n\r\n\r\nii) Without any extra class,\r\n\r\n    String payloadString = &quot;{\\n&quot; +\r\n                    &quot;    \\&quot;Data\\&quot;: {\\n&quot; +\r\n                    &quot;        \\&quot;brand\\&quot;: \\&quot;Porsche\\&quot;,\\n&quot; +\r\n                    &quot;        \\&quot;model\\&quot;: 2020,\\n&quot; +\r\n                    &quot;        \\&quot;color\\&quot;: \\&quot;gray\\&quot;\\n&quot; +\r\n                    &quot;    },\\n&quot; +\r\n                    &quot;    \\&quot;Section\\&quot;: {\\n&quot; +\r\n                    &quot;        \\&quot;location\\&quot;: \\&quot;UK\\&quot;,\\n&quot; +\r\n                    &quot;        \\&quot;service\\&quot;: \\&quot;London\\&quot;\\n&quot; +\r\n                    &quot;    }\\n&quot; +\r\n                    &quot;}&quot;;\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            Map&lt;String, Object&gt; objectMap = objectMapper.readValue(payloadString, HashMap.class);\r\n            String dataString = objectMapper.writeValueAsString(objectMap.get(&quot;Data&quot;));\r\n            Data data = objectMapper.readValue(dataString, Data.class);\r\n            System.out.println(data);\r\n\r\n\r\n\r\n\r\n","title":"Jackson cannot map JSON to Object in Java","body":"<p>You have not specified any class to catch the response. You have only created 1 model to catch the Data object.\nYou can do it like this,</p>\n<p>i) Create a class to catch the JSON,</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Payload {\n\n    @JsonProperty(&quot;Data&quot;)\n    private Data data;\n\n  \n}\n</code></pre>\n<p>You have to first catch the JSON using the Payload class and then parse it accordingly,</p>\n<pre><code>String jsonString = request.block(); \nObjectMapper mapper = new ObjectMapper();\nPayload payload = mapper.readValue(jsonString, Payload.class);\nData data = payload.getData();\n</code></pre>\n<p>ii) Without any extra class,</p>\n<pre><code>String payloadString = &quot;{\\n&quot; +\n                &quot;    \\&quot;Data\\&quot;: {\\n&quot; +\n                &quot;        \\&quot;brand\\&quot;: \\&quot;Porsche\\&quot;,\\n&quot; +\n                &quot;        \\&quot;model\\&quot;: 2020,\\n&quot; +\n                &quot;        \\&quot;color\\&quot;: \\&quot;gray\\&quot;\\n&quot; +\n                &quot;    },\\n&quot; +\n                &quot;    \\&quot;Section\\&quot;: {\\n&quot; +\n                &quot;        \\&quot;location\\&quot;: \\&quot;UK\\&quot;,\\n&quot; +\n                &quot;        \\&quot;service\\&quot;: \\&quot;London\\&quot;\\n&quot; +\n                &quot;    }\\n&quot; +\n                &quot;}&quot;;\n        ObjectMapper objectMapper = new ObjectMapper();\n        Map&lt;String, Object&gt; objectMap = objectMapper.readValue(payloadString, HashMap.class);\n        String dataString = objectMapper.writeValueAsString(objectMap.get(&quot;Data&quot;));\n        Data data = objectMapper.readValue(dataString, Data.class);\n        System.out.println(data);\n</code></pre>\n"}],"owner":{"display_name":"user19806709"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":940,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1661086036,"accepted_answer_id":73433183,"answer_count":1,"score":0,"last_activity_date":1661087210,"creation_date":1661072147,"question_id":73432906,"body_markdown":"I am trying to map the following JSON string to a pojo class:\r\n\r\n```\r\n{\r\n    &quot;Data&quot;: {\r\n        &quot;brand&quot;: &quot;Porsche&quot;,\r\n        &quot;model&quot;: 2020,\r\n        &quot;color&quot;: &quot;gray&quot;\r\n    },\r\n    &quot;Section&quot;: {\r\n        &quot;location&quot;: &quot;UK&quot;,\r\n        &quot;service&quot;: &quot;London&quot;\r\n    },\r\n    // other elements \r\n}\r\n```\r\n\r\nI am **only** interested in 2 fields (brand, model) in the `Data` part and want to map these 2 fields to the following model:\r\n\r\n***Data:***\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class Data {\r\n\r\n    @JsonProperty(&quot;brand&quot;)\r\n    private String brand;\r\n\r\n    @JsonProperty(&quot;model&quot;)\r\n    private int model;\r\n}\r\n```\r\n\r\nHowever, although `jsonString` has a valid JSON, the fields in `Data` are null or empty. \r\n\r\n\r\n```\r\n// jsonString is a valid JSON string read from a REST API via WebClient\r\nString jsonString = request.block(); \r\nObjectMapper mapper = new ObjectMapper();\r\nData data = mapper.readValue(value, Data.class);\r\n\r\n```\r\n\r\nSo, what is missing? Is there any problem regarding to pojo fields or annotations in it? Could you help me pls? ","title":"Jackson cannot map JSON to Object in Java","body":"<p>I am trying to map the following JSON string to a pojo class:</p>\n<pre><code>{\n    &quot;Data&quot;: {\n        &quot;brand&quot;: &quot;Porsche&quot;,\n        &quot;model&quot;: 2020,\n        &quot;color&quot;: &quot;gray&quot;\n    },\n    &quot;Section&quot;: {\n        &quot;location&quot;: &quot;UK&quot;,\n        &quot;service&quot;: &quot;London&quot;\n    },\n    // other elements \n}\n</code></pre>\n<p>I am <strong>only</strong> interested in 2 fields (brand, model) in the <code>Data</code> part and want to map these 2 fields to the following model:</p>\n<p><em><strong>Data:</strong></em></p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Data {\n\n    @JsonProperty(&quot;brand&quot;)\n    private String brand;\n\n    @JsonProperty(&quot;model&quot;)\n    private int model;\n}\n</code></pre>\n<p>However, although <code>jsonString</code> has a valid JSON, the fields in <code>Data</code> are null or empty.</p>\n<pre><code>// jsonString is a valid JSON string read from a REST API via WebClient\nString jsonString = request.block(); \nObjectMapper mapper = new ObjectMapper();\nData data = mapper.readValue(value, Data.class);\n\n</code></pre>\n<p>So, what is missing? Is there any problem regarding to pojo fields or annotations in it? Could you help me pls?</p>\n"},{"tags":["java","spring-security"],"comments":[{"owner":{"account_id":16139017,"reputation":129,"user_id":15817444,"display_name":"Mazhar Ibna Zahur"},"score":0,"creation_date":1661080529,"post_id":73433269,"comment_id":129681808,"body_markdown":"please check with  @Configuration in JwtAuthenticationFilter. i think your Filter is not called","body":"please check with  @Configuration in JwtAuthenticationFilter. i think your Filter is not called"},{"owner":{"account_id":25905272,"reputation":113,"user_id":19630441,"display_name":"남혁준"},"score":0,"creation_date":1661081990,"post_id":73433269,"comment_id":129682097,"body_markdown":"I&#39;ve tried Unable to start web server; It throws nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat .","body":"I&#39;ve tried Unable to start web server; It throws nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat ."}],"answers":[{"tags":[],"owner":{"account_id":25905272,"reputation":113,"user_id":19630441,"display_name":"남혁준"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661087147,"creation_date":1661087147,"answer_id":73434686,"question_id":73433269,"body_markdown":"I answer myself how I found it.\r\n\r\n    @Slf4j\r\n    @EnableWebSecurity\r\n    @RequiredArgsConstructor\r\n    public class SecurityConfig {\r\n    \r\n        private final SecurityUserDetailsService securityUserDetailsService;\r\n    \r\n        @Bean\r\n        public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n            return authenticationConfiguration.getAuthenticationManager();\r\n        }\r\n    \r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\r\n    \r\n            AuthenticationManagerBuilder authenticationManagerBuilder = httpSecurity.getSharedObject(AuthenticationManagerBuilder.class);\r\n            authenticationManagerBuilder.userDetailsService(securityUserDetailsService);\r\n            AuthenticationManager authenticationManager = authenticationManagerBuilder.build();\r\n    \r\n            httpSecurity\r\n                    .cors()\r\n                    .and()\r\n                    .csrf().disable()\r\n                    .formLogin().disable()\r\n                    .httpBasic().disable()\r\n                    .authenticationManager(authenticationManager)\r\n                    .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                    .and()\r\n                    .authorizeRequests()\r\n                    /*.headers().disable()*/\r\n                    .anyRequest().permitAll()\r\n                    .and()\r\n                    .addFilterBefore(new JwtAuthenticationFilter(authenticationManager), UsernamePasswordAuthenticationFilter.class);\r\n    \r\n            return httpSecurity.build();\r\n        }\r\n    \r\n        @Bean\r\n        public PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n    }\r\n\r\n\r\nHere&#39;s how I discovered and succeeded by other advice.\r\n\r\nI think there are some things wrong with this method or something that needs to be improved.\r\n\r\nI don&#39;t know if it&#39;s the right way, but I&#39;m writing it down for others and for improvement.\r\n\r\n\r\n    AuthenticationManagerBuilder authenticationManagerBuilder = httpSecurity.getSharedObject(AuthenticationManagerBuilder.class);\r\n            authenticationManagerBuilder.userDetailsService(securityUserDetailsService);\r\n            AuthenticationManager authenticationManager = authenticationManagerBuilder.build();\r\n\r\nThe key is here.\r\n\r\nI approached the problem in that the userDetatilsService that I have customized and extended cannot be informed (cannot be injected) to the AuthenticationManager.\r\n","title":"spring security + jwt loadUserByUsername not call","body":"<p>I answer myself how I found it.</p>\n<pre><code>@Slf4j\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SecurityConfig {\n\n    private final SecurityUserDetailsService securityUserDetailsService;\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\n\n        AuthenticationManagerBuilder authenticationManagerBuilder = httpSecurity.getSharedObject(AuthenticationManagerBuilder.class);\n        authenticationManagerBuilder.userDetailsService(securityUserDetailsService);\n        AuthenticationManager authenticationManager = authenticationManagerBuilder.build();\n\n        httpSecurity\n                .cors()\n                .and()\n                .csrf().disable()\n                .formLogin().disable()\n                .httpBasic().disable()\n                .authenticationManager(authenticationManager)\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authorizeRequests()\n                /*.headers().disable()*/\n                .anyRequest().permitAll()\n                .and()\n                .addFilterBefore(new JwtAuthenticationFilter(authenticationManager), UsernamePasswordAuthenticationFilter.class);\n\n        return httpSecurity.build();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n}\n</code></pre>\n<p>Here's how I discovered and succeeded by other advice.</p>\n<p>I think there are some things wrong with this method or something that needs to be improved.</p>\n<p>I don't know if it's the right way, but I'm writing it down for others and for improvement.</p>\n<pre><code>AuthenticationManagerBuilder authenticationManagerBuilder = httpSecurity.getSharedObject(AuthenticationManagerBuilder.class);\n        authenticationManagerBuilder.userDetailsService(securityUserDetailsService);\n        AuthenticationManager authenticationManager = authenticationManagerBuilder.build();\n</code></pre>\n<p>The key is here.</p>\n<p>I approached the problem in that the userDetatilsService that I have customized and extended cannot be informed (cannot be injected) to the AuthenticationManager.</p>\n"}],"owner":{"account_id":25905272,"reputation":113,"user_id":19630441,"display_name":"남혁준"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":570,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73434686,"answer_count":1,"score":2,"last_activity_date":1661087147,"creation_date":1661075242,"question_id":73433269,"body_markdown":"\r\n[SecurityConfig]\r\n\r\n    @Slf4j\r\n    @EnableWebSecurity\r\n    @RequiredArgsConstructor\r\n    public class SecurityConfig {\r\n        \r\n        private final AuthenticationConfiguration authenticationConfiguration;\r\n        \r\n        @Bean\r\n        public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n            return authenticationConfiguration.getAuthenticationManager();\r\n        }\r\n    \r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\r\n    \r\n            httpSecurity\r\n                    .cors()\r\n                    .and()\r\n                    .csrf().disable()\r\n                    .formLogin().disable()\r\n                    .httpBasic().disable()\r\n                    .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                    .and()\r\n                    .authorizeRequests()\r\n                    /*.headers().disable()*/\r\n                    .anyRequest().permitAll()\r\n                    .and()\r\n                    .addFilterBefore(new JwtAuthenticationFilter(authenticationManager(authenticationConfiguration)), UsernamePasswordAuthenticationFilter.class);\r\n                    \r\n            return httpSecurity.build();\r\n        }\r\n        \r\n        @Bean\r\n        public PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n        \r\n    }\r\n\r\n[JwtAuthenticationFilter]\r\n\r\n    @RequiredArgsConstructor\r\n    @Slf4j\r\n    public class JwtAuthenticationFilter extends UsernamePasswordAuthenticationFilter {\r\n    \r\n        private final AuthenticationManager authenticationManager;\r\n    \r\n        @Override\r\n        public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException {\r\n    \r\n            log.info(&quot;Check Run&quot;);\r\n            ObjectMapper om = new ObjectMapper();\r\n            try {\r\n    \r\n                AdvertiserUserDto.Read read = om.readValue(request.getInputStream(), AdvertiserUserDto.Read.class);\r\n    \r\n                UsernamePasswordAuthenticationToken authenticationToken\r\n                        = new UsernamePasswordAuthenticationToken(read.getUserLoginId(), read.getPassword());\r\n                \r\n                log.info(authenticationToken.getPrincipal().toString());\r\n                log.info(authenticationToken.getCredentials().toString());\r\n    \r\n                return authenticationManager.authenticate(authenticationToken);\r\n            }\r\n            catch (IOException e) {\r\n                e.printStackTrace();\r\n                log.error(&quot;IO Exception&quot;);\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        protected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain, Authentication authResult) throws IOException, ServletException {\r\n            log.info(&quot;Success&quot;);\r\n            super.successfulAuthentication(request, response, chain, authResult);\r\n        }\r\n    \r\n        @Override\r\n        protected void unsuccessfulAuthentication(HttpServletRequest request, HttpServletResponse response, AuthenticationException failed) throws IOException, ServletException {\r\n            log.info(&quot;Fail&quot;);\r\n            super.unsuccessfulAuthentication(request, response, failed);\r\n        }\r\n    }\r\n\r\n\r\n[SecurityUserDetailsService]\r\n\r\n    @Slf4j\r\n    @RequiredArgsConstructor\r\n    @Service\r\n    public class SecurityUserDetailsService implements UserDetailsService {\r\n    \r\n        private final UserRepository userRepository;\r\n    \r\n        @Transactional\r\n        @Override\r\n        public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n    \r\n            log.info(&quot;loadUserByUsername&quot;); // **not Run**\r\n            UserEntity user = userRepository.findByUserLoginId(username).orElseThrow(() -&gt; new UsernameNotFoundException(&quot;no Search User&quot;));\r\n    \r\n            return new SecurityUserDetails(\r\n                    user,\r\n                    /*Collections.singleton(new SimpleGrantedAuthority(&quot;ROLE_&quot; + user.getType().getRoll()))*/\r\n                    Collections.singleton(new SimpleGrantedAuthority(&quot;ROLE_&quot; + &quot;USER&quot;))\r\n            );\r\n        }\r\n    }\r\n\r\n\r\n[SecurityUserDetails]\r\n\r\n    @RequiredArgsConstructor\r\n    @Data\r\n    public class SecurityUserDetails implements UserDetails {\r\n    \r\n        private final UserEntity user;\r\n        private final Collection&lt;? extends GrantedAuthority&gt; authorities;\r\n    \r\n        @Override\r\n        public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n            return authorities;\r\n        }\r\n    \r\n        @Override\r\n        public String getPassword() {\r\n            return user.getPassword();\r\n        }\r\n    \r\n        @Override\r\n        public String getUsername() {\r\n            return user.getUserId().toString();\r\n        }\r\n    \r\n        @Override\r\n        public boolean isAccountNonExpired() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isAccountNonLocked() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isCredentialsNonExpired() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isEnabled() {\r\n            return true;\r\n        }\r\n    \r\n    }\r\n\r\n\r\nPlease note that I am struggling at a very basic level.\r\n\r\nHere&#39;s the process I&#39;ve tried so far:\r\n\r\n1. Login attempt (user, pw)\r\n\r\n2. Security Chain is executed\r\n\r\n3. A filter that inherits from UsernamePasswordAuthenticationFilter is executed\r\n\r\n4. It has been confirmed that ID and PW are normally passed as parameters.\r\n\r\n5. Execute the authenticate() method of AuthenticationManager to check if ID and PW are correct.\r\n\r\n6. The loadUserByUsername() method, which inherited UserDeatilsService, is not executed, and immediately the unsuccessfulAuthentication() method is executed and fails.\r\n\r\n\r\nI attach the code.\r\n\r\nAccording to my plan, validation should be done via loadUserByUsername().\r\n\r\nBut why does the validation job fail immediately without even being executed?\r\n\r\n\r\nResult : \r\n\r\n    c.b.k.c.c.t.JwtAuthenticationFilter      : Check Run\r\n    c.b.k.c.c.t.JwtAuthenticationFilter      : test\r\n    c.b.k.c.c.t.JwtAuthenticationFilter      : 1234\r\n    c.b.k.c.c.t.JwtAuthenticationFilter      : Fail","title":"spring security + jwt loadUserByUsername not call","body":"<p>[SecurityConfig]</p>\n<pre><code>@Slf4j\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SecurityConfig {\n    \n    private final AuthenticationConfiguration authenticationConfiguration;\n    \n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\n\n        httpSecurity\n                .cors()\n                .and()\n                .csrf().disable()\n                .formLogin().disable()\n                .httpBasic().disable()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authorizeRequests()\n                /*.headers().disable()*/\n                .anyRequest().permitAll()\n                .and()\n                .addFilterBefore(new JwtAuthenticationFilter(authenticationManager(authenticationConfiguration)), UsernamePasswordAuthenticationFilter.class);\n                \n        return httpSecurity.build();\n    }\n    \n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n    \n}\n</code></pre>\n<p>[JwtAuthenticationFilter]</p>\n<pre><code>@RequiredArgsConstructor\n@Slf4j\npublic class JwtAuthenticationFilter extends UsernamePasswordAuthenticationFilter {\n\n    private final AuthenticationManager authenticationManager;\n\n    @Override\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException {\n\n        log.info(&quot;Check Run&quot;);\n        ObjectMapper om = new ObjectMapper();\n        try {\n\n            AdvertiserUserDto.Read read = om.readValue(request.getInputStream(), AdvertiserUserDto.Read.class);\n\n            UsernamePasswordAuthenticationToken authenticationToken\n                    = new UsernamePasswordAuthenticationToken(read.getUserLoginId(), read.getPassword());\n            \n            log.info(authenticationToken.getPrincipal().toString());\n            log.info(authenticationToken.getCredentials().toString());\n\n            return authenticationManager.authenticate(authenticationToken);\n        }\n        catch (IOException e) {\n            e.printStackTrace();\n            log.error(&quot;IO Exception&quot;);\n        }\n        return null;\n    }\n\n    @Override\n    protected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain, Authentication authResult) throws IOException, ServletException {\n        log.info(&quot;Success&quot;);\n        super.successfulAuthentication(request, response, chain, authResult);\n    }\n\n    @Override\n    protected void unsuccessfulAuthentication(HttpServletRequest request, HttpServletResponse response, AuthenticationException failed) throws IOException, ServletException {\n        log.info(&quot;Fail&quot;);\n        super.unsuccessfulAuthentication(request, response, failed);\n    }\n}\n</code></pre>\n<p>[SecurityUserDetailsService]</p>\n<pre><code>@Slf4j\n@RequiredArgsConstructor\n@Service\npublic class SecurityUserDetailsService implements UserDetailsService {\n\n    private final UserRepository userRepository;\n\n    @Transactional\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n\n        log.info(&quot;loadUserByUsername&quot;); // **not Run**\n        UserEntity user = userRepository.findByUserLoginId(username).orElseThrow(() -&gt; new UsernameNotFoundException(&quot;no Search User&quot;));\n\n        return new SecurityUserDetails(\n                user,\n                /*Collections.singleton(new SimpleGrantedAuthority(&quot;ROLE_&quot; + user.getType().getRoll()))*/\n                Collections.singleton(new SimpleGrantedAuthority(&quot;ROLE_&quot; + &quot;USER&quot;))\n        );\n    }\n}\n</code></pre>\n<p>[SecurityUserDetails]</p>\n<pre><code>@RequiredArgsConstructor\n@Data\npublic class SecurityUserDetails implements UserDetails {\n\n    private final UserEntity user;\n    private final Collection&lt;? extends GrantedAuthority&gt; authorities;\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return authorities;\n    }\n\n    @Override\n    public String getPassword() {\n        return user.getPassword();\n    }\n\n    @Override\n    public String getUsername() {\n        return user.getUserId().toString();\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return true;\n    }\n\n}\n</code></pre>\n<p>Please note that I am struggling at a very basic level.</p>\n<p>Here's the process I've tried so far:</p>\n<ol>\n<li><p>Login attempt (user, pw)</p>\n</li>\n<li><p>Security Chain is executed</p>\n</li>\n<li><p>A filter that inherits from UsernamePasswordAuthenticationFilter is executed</p>\n</li>\n<li><p>It has been confirmed that ID and PW are normally passed as parameters.</p>\n</li>\n<li><p>Execute the authenticate() method of AuthenticationManager to check if ID and PW are correct.</p>\n</li>\n<li><p>The loadUserByUsername() method, which inherited UserDeatilsService, is not executed, and immediately the unsuccessfulAuthentication() method is executed and fails.</p>\n</li>\n</ol>\n<p>I attach the code.</p>\n<p>According to my plan, validation should be done via loadUserByUsername().</p>\n<p>But why does the validation job fail immediately without even being executed?</p>\n<p>Result :</p>\n<pre><code>c.b.k.c.c.t.JwtAuthenticationFilter      : Check Run\nc.b.k.c.c.t.JwtAuthenticationFilter      : test\nc.b.k.c.c.t.JwtAuthenticationFilter      : 1234\nc.b.k.c.c.t.JwtAuthenticationFilter      : Fail\n</code></pre>\n"},{"tags":["java","android","firebase","radio-button"],"comments":[{"owner":{"account_id":10672022,"reputation":1310,"user_id":7856807,"display_name":"Kopi Bryant"},"score":0,"creation_date":1527392012,"post_id":50548742,"comment_id":88108370,"body_markdown":"so what is your problem ? please tell what you want","body":"so what is your problem ? please tell what you want"},{"owner":{"account_id":13656751,"reputation":1,"user_id":9853027,"display_name":"Nicole Cummings"},"score":0,"creation_date":1527392095,"post_id":50548742,"comment_id":88108381,"body_markdown":"I want to push the radio button text beverage or food to firebase when the product is created.","body":"I want to push the radio button text beverage or food to firebase when the product is created."},{"owner":{"account_id":10672022,"reputation":1310,"user_id":7856807,"display_name":"Kopi Bryant"},"score":0,"creation_date":1527412255,"post_id":50548742,"comment_id":88112189,"body_markdown":"which means you want to get the actual text from the `radioButton` ? am i right ?","body":"which means you want to get the actual text from the <code>radioButton</code> ? am i right ?"},{"owner":{"account_id":13656751,"reputation":1,"user_id":9853027,"display_name":"Nicole Cummings"},"score":0,"creation_date":1527441892,"post_id":50548742,"comment_id":88120119,"body_markdown":"Yes, you are correct.","body":"Yes, you are correct."}],"answers":[{"tags":[],"owner":{"account_id":10672022,"reputation":1310,"user_id":7856807,"display_name":"Kopi Bryant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527442302,"creation_date":1527442302,"answer_id":50554740,"question_id":50548742,"body_markdown":"can try this, one of my small project. Its works for me.\r\n\r\n**xml**\r\n\r\n    &lt;RadioGroup\r\n        android:id=&quot;@+id/radio&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot; &gt;\r\n\r\n        &lt;RadioButton\r\n            android:id=&quot;@+id/radioMale&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/radio_male&quot; \r\n            android:checked=&quot;true&quot; /&gt;\r\n\r\n        &lt;RadioButton\r\n            android:id=&quot;@+id/radioFemale&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/radio_female&quot; /&gt;\r\n\r\n    &lt;/RadioGroup&gt;\r\n\r\n**activity**\r\n\r\n    // get selected radio button from radioGroup\r\n     int selectedId = radioGroup.getCheckedRadioButtonId();\r\n\r\n    // find the radiobutton by returned id\r\n    radioButton = (RadioButton) findViewById(selectedId);\r\n\r\n    Toast.makeText(MainActivity.this,\r\n                radioButton.getText(), Toast.LENGTH_SHORT).show();\r\n    //Check whether get the text or not from using Toast","title":"Radio Button text pushed to Firebase","body":"<p>can try this, one of my small project. Its works for me.</p>\n\n<p><strong>xml</strong></p>\n\n<pre><code>&lt;RadioGroup\n    android:id=\"@+id/radio\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\" &gt;\n\n    &lt;RadioButton\n        android:id=\"@+id/radioMale\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"@string/radio_male\" \n        android:checked=\"true\" /&gt;\n\n    &lt;RadioButton\n        android:id=\"@+id/radioFemale\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"@string/radio_female\" /&gt;\n\n&lt;/RadioGroup&gt;\n</code></pre>\n\n<p><strong>activity</strong></p>\n\n<pre><code>// get selected radio button from radioGroup\n int selectedId = radioGroup.getCheckedRadioButtonId();\n\n// find the radiobutton by returned id\nradioButton = (RadioButton) findViewById(selectedId);\n\nToast.makeText(MainActivity.this,\n            radioButton.getText(), Toast.LENGTH_SHORT).show();\n//Check whether get the text or not from using Toast\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20370755,"reputation":13,"user_id":17587922,"display_name":"Rahimeh Rezaei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661086689,"creation_date":1661086689,"answer_id":73434624,"question_id":50548742,"body_markdown":"This is the way that I added data (gender) from the **radio button** and send it to **firebase** and I get the result.\r\n\r\n**xml**\r\n\r\n    &lt;RadioGroup\r\n       android:layout_width=&quot;0dp&quot;\r\n       android:layout_height=&quot;wrap_content&quot;\r\n       tools:ignore=&quot;MissingConstraints&quot;\r\n       app:layout_constraintTop_toBottomOf=&quot;@id/et_score&quot;\r\n       app:layout_constraintStart_toStartOf=&quot;@id/et_score&quot;\r\n       app:layout_constraintEnd_toEndOf=&quot;@id/et_score&quot;\r\n       android:id=&quot;@+id/radiogroup&quot;\r\n       android:layout_marginTop=&quot;5dp&quot;\r\n       &gt;\r\n       &lt;RadioButton\r\n           android:layout_width=&quot;wrap_content&quot;\r\n           android:layout_height=&quot;wrap_content&quot;\r\n           android:text=&quot;@string/female&quot;\r\n           android:id=&quot;@+id/rb_female&quot;\r\n           /&gt;\r\n       &lt;RadioButton\r\n           android:layout_width=&quot;wrap_content&quot;\r\n           android:layout_height=&quot;wrap_content&quot;\r\n           android:id=&quot;@+id/rb_male&quot;\r\n           android:text=&quot;@string/male&quot;\r\n           /&gt;\r\n   &lt;/RadioGroup&gt;\r\n\r\n\r\n\r\n**Activity**\r\n\r\n    class AddMembersActivity : AppCompatActivity() {\r\n    private lateinit var binding : ActivityAddMembersBinding\r\n    private lateinit var dbRef : DatabaseReference\r\n    private var gender = &quot;female&quot;\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        binding = ActivityAddMembersBinding.inflate(layoutInflater)\r\n        setContentView(binding.root)\r\n            dbRef = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;)\r\n            binding.btnSave.setOnClickListener {\r\n                saveData()\r\n                startActivity(Intent(this , MainActivity::class.java))\r\n                finish()\r\n            }\r\n        binding.rbMale.setOnClickListener {\r\n            gender = &quot;male&quot;\r\n            binding.rbFemale.isChecked = false\r\n        }\r\n        binding.rbFemale.setOnClickListener {\r\n            gender = &quot;female&quot;\r\n            binding.rbMale.isChecked = false\r\n        }\r\n    }\r\n    private fun saveData() {\r\n        Log.d(&quot;testtest&quot;,&quot;gender is $gender&quot;)\r\n        val studentName = binding.etName.text.toString()\r\n        val studentClass = binding.etClass.text.toString()\r\n        val studentPhone = binding.etPhone.text.toString()\r\n        val studentScore :Int = binding.etScore.text.toString().toInt()\r\n        val temp = gender\r\n        val user = Users(studentName , studentClass , studentPhone , studentScore , temp )\r\n\r\n        dbRef.child(studentPhone.toString()).setValue(user).addOnCompleteListener {\r\n            Toast.makeText(this , &quot;Add Successfully&quot; ,Toast.LENGTH_LONG).show()\r\n        }.addOnFailureListener {\r\n            Toast.makeText(this , &quot;Add Failed&quot; ,Toast.LENGTH_LONG).show()\r\n        }\r\n    }\r\n\r\n\r\n","title":"Radio Button text pushed to Firebase","body":"<p>This is the way that I added data (gender) from the <strong>radio button</strong> and send it to <strong>firebase</strong> and I get the result.</p>\n<p><strong>xml</strong></p>\n<pre><code>&lt;RadioGroup\n   android:layout_width=&quot;0dp&quot;\n   android:layout_height=&quot;wrap_content&quot;\n   tools:ignore=&quot;MissingConstraints&quot;\n   app:layout_constraintTop_toBottomOf=&quot;@id/et_score&quot;\n   app:layout_constraintStart_toStartOf=&quot;@id/et_score&quot;\n   app:layout_constraintEnd_toEndOf=&quot;@id/et_score&quot;\n   android:id=&quot;@+id/radiogroup&quot;\n   android:layout_marginTop=&quot;5dp&quot;\n   &gt;\n   &lt;RadioButton\n       android:layout_width=&quot;wrap_content&quot;\n       android:layout_height=&quot;wrap_content&quot;\n       android:text=&quot;@string/female&quot;\n       android:id=&quot;@+id/rb_female&quot;\n       /&gt;\n   &lt;RadioButton\n       android:layout_width=&quot;wrap_content&quot;\n       android:layout_height=&quot;wrap_content&quot;\n       android:id=&quot;@+id/rb_male&quot;\n       android:text=&quot;@string/male&quot;\n       /&gt;\n</code></pre>\n   \n<p><strong>Activity</strong></p>\n<pre><code>class AddMembersActivity : AppCompatActivity() {\nprivate lateinit var binding : ActivityAddMembersBinding\nprivate lateinit var dbRef : DatabaseReference\nprivate var gender = &quot;female&quot;\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    binding = ActivityAddMembersBinding.inflate(layoutInflater)\n    setContentView(binding.root)\n        dbRef = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;)\n        binding.btnSave.setOnClickListener {\n            saveData()\n            startActivity(Intent(this , MainActivity::class.java))\n            finish()\n        }\n    binding.rbMale.setOnClickListener {\n        gender = &quot;male&quot;\n        binding.rbFemale.isChecked = false\n    }\n    binding.rbFemale.setOnClickListener {\n        gender = &quot;female&quot;\n        binding.rbMale.isChecked = false\n    }\n}\nprivate fun saveData() {\n    Log.d(&quot;testtest&quot;,&quot;gender is $gender&quot;)\n    val studentName = binding.etName.text.toString()\n    val studentClass = binding.etClass.text.toString()\n    val studentPhone = binding.etPhone.text.toString()\n    val studentScore :Int = binding.etScore.text.toString().toInt()\n    val temp = gender\n    val user = Users(studentName , studentClass , studentPhone , studentScore , temp )\n\n    dbRef.child(studentPhone.toString()).setValue(user).addOnCompleteListener {\n        Toast.makeText(this , &quot;Add Successfully&quot; ,Toast.LENGTH_LONG).show()\n    }.addOnFailureListener {\n        Toast.makeText(this , &quot;Add Failed&quot; ,Toast.LENGTH_LONG).show()\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13656751,"reputation":1,"user_id":9853027,"display_name":"Nicole Cummings"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1985,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"answer_count":2,"score":-5,"last_activity_date":1661086689,"creation_date":1527391144,"question_id":50548742,"body_markdown":"I am building an app where I would like the users to have the ability to upload various food or beverage products to `firebase`. The information that is being requested for the user to enter is an image, product name, description, price, and category (food or beverage). I used a `ImageButton` for the image and `EditText` for the name, description, and price. For the category I am using a `RadioGroup`/`RadioButton`. The image, description, price, and name are pushing to `firebase`; \r\n\r\nhowever, I am struggling with the `RadioButtons`. I want to push the RadioButton text Food or Beverage to Firebase. I found a partial tutorial on it but I am not fluent in Spanish and can&#39;t follow everything thats happening. \r\n\r\n    package com.example.nccummings.concertconnectowner;\r\n\r\n    import android.content.Intent;\r\n    import android.media.Image;\r\n    import android.net.Uri;\r\n    import android.os.Bundle;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.text.TextUtils;\r\n    import android.view.View;\r\n    import android.widget.EditText;\r\n    import android.widget.ImageButton;\r\n    import android.widget.RadioButton;\r\n    import android.widget.RadioGroup;\r\n    import android.widget.Toast;\r\n\r\n    import com.google.android.gms.tasks.OnSuccessListener;\r\n    import com.google.firebase.database.DatabaseReference;\r\n    import com.google.firebase.database.FirebaseDatabase;\r\n    import com.google.firebase.storage.FirebaseStorage;\r\n    import com.google.firebase.storage.StorageReference;\r\n    import com.google.firebase.storage.UploadTask;\r\n\r\n    public class AddNewProductContinued extends AppCompatActivity {\r\n\r\n    private ImageButton productImage;\r\n    private static final int GALLREQ = 2;\r\n    private EditText name,description,price;\r\n    private String stringFoodOrBev;\r\n    private RadioGroup bevOrFood;\r\n    private RadioButton bevOrFoodOption;\r\n    private Uri uri = null;\r\n    private StorageReference storageReference = null;\r\n    private DatabaseReference mRef;\r\n    private FirebaseDatabase firebaseDatabase;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_add_new_product_cont);\r\n\r\n    storageReference = \r\n    FirebaseStorage.getInstance().getReference(&quot;Product Pictures&quot;);\r\n    mRef = FirebaseDatabase.getInstance().getReference(&quot;Product \r\n    Information&quot;);\r\n\r\n    name = findViewById(R.id.productName);\r\n    description = findViewById(R.id.productDescription);\r\n    price = findViewById(R.id.productPrice);\r\n    bevOrFood = findViewById(R.id.rgbevorfood);\r\n            \r\n\r\n    // This method allows user to select which category the product belongs \r\n    //to (food or bev).\r\n            \r\n    bevOrFood.setOnCheckedChangeListener(new \r\n    RadioGroup.OnCheckedChangeListener() {\r\n    @Override\r\n    public void onCheckedChanged(RadioGroup group, int checkedId) {\r\n\r\n    bevOrFoodOption = bevOrFood.findViewById(checkedId);\r\n\r\n    switch (checkedId)\r\n    {\r\n    case R.id.rbfood:\r\n    stringFoodOrBev = bevOrFoodOption.getText().toString().trim();\r\n    break;\r\n    case R.id.rbbev:\r\n    stringFoodOrBev = bevOrFoodOption.getText().toString().trim();\r\n    break;\r\n    default:\r\n    }\r\n    }\r\n    });\r\n    }\r\n    \r\n    // This method allows user to select image from phone\r\n    // once image button is clicked.\r\n    public void imageProductButtonClicked(View view){\r\n\r\n    Intent galleryIntent = new Intent(Intent.ACTION_GET_CONTENT);\r\n    galleryIntent.setType(&quot;image/*&quot;);\r\n    startActivityForResult(galleryIntent,GALLREQ);\r\n    }\r\n\r\n    // Once image has been selected from the phone it gets set set to a uri \r\n    //aka url.\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent \r\n    data) \r\n    {\r\n    super.onActivityResult(requestCode, resultCode, data);\r\n    if (requestCode == GALLREQ &amp;&amp; resultCode == RESULT_OK){\r\n    uri = data.getData();\r\n    productImage = findViewById(R.id.productImageButton);\r\n    productImage.setImageURI(uri);\r\n\r\n    }\r\n    }\r\n\r\n    // This method adds the information input into the form to Firebase.\r\n    public void addProductToMenuButtonClicked(View view){\r\n\r\n    final String name_text = name.getText().toString().trim();\r\n    final String description_text = \r\n    description.getText().toString().trim();\r\n    final String price_text = price.getText().toString().trim();\r\n\r\n    if (!TextUtils.isEmpty(name_text) &amp;&amp; \r\n    !TextUtils.isEmpty(description_text) &amp;&amp; !TextUtils.isEmpty(price_text)){\r\n\r\n    StorageReference filepath = \r\n    storageReference.child(uri.getLastPathSegment());\r\n    filepath.putFile(uri).addOnSuccessListener(new \r\n    OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n    @Override\r\n    public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) \r\n    {\r\n    final Uri downloadurl = taskSnapshot.getDownloadUrl();\r\n                        \r\n    Toast.makeText(com.example.nccummings.concertconnectowner.\r\n    AddNewProductContinued.this,&quot;Product Information has been successfully \r\n    uploaded.&quot;, Toast.LENGTH_SHORT).show();\r\n                        \r\n    final DatabaseReference newPost = mRef.push();\r\n    newPost.child(&quot;Product&quot;).setValue(name_text);\r\n    newPost.child(&quot;Description&quot;).setValue(description_text);\r\n    newPost.child(&quot;Price&quot;).setValue(price_text);\r\n    newPost.child(&quot;pImage&quot;).setValue(downloadurl.toString());\r\n    newPost.child(&quot;Category&quot;).setValue(stringFoodOrBev);\r\n\r\n    }\r\n    });\r\n    }\r\n\r\n    }\r\n\r\n\r\n    }\r\n\r\n\r\nBelow is the xml file.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    tools:context=&quot;.AddNewProductContinued&quot;&gt;\r\n\r\n\r\n    &lt;ImageButton\r\n    android:id=&quot;@+id/productImageButton&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;230dp&quot;\r\n    android:onClick=&quot;imageProductButtonClicked&quot;\r\n    tools:layout_editor_absoluteX=&quot;0dp&quot;\r\n    tools:layout_editor_absoluteY=&quot;54dp&quot; /&gt;\r\n\r\n    &lt;EditText\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:id=&quot;@+id/productName&quot;\r\n    android:hint=&quot;Enter name of product.&quot;\r\n    /&gt;\r\n\r\n    &lt;EditText\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:id=&quot;@+id/productDescription&quot;\r\n    android:hint=&quot;Enter product description.&quot;\r\n    /&gt;\r\n\r\n    &lt;EditText\r\n    android:id=&quot;@+id/productPrice&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:hint=&quot;Enter product price.&quot; /&gt;\r\n\r\n\r\n    &lt;RadioGroup\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;38dp&quot;\r\n    android:id=&quot;@+id/rgbevorfood&quot;\r\n    &gt;\r\n\r\n    &lt;RadioButton\r\n    android:id=&quot;@+id/rbfood&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_weight=&quot;1&quot;\r\n    android:text=&quot;Food&quot; /&gt;\r\n\r\n    &lt;RadioButton\r\n    android:id=&quot;@+id/rbbev&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_weight=&quot;1&quot;\r\n    android:text=&quot;Beverage&quot; /&gt;\r\n    &lt;/RadioGroup&gt;\r\n\r\n    &lt;Button\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:onClick=&quot;addProductToMenuButtonClicked&quot;\r\n    android:text=&quot;Add product to menu&quot; /&gt;\r\n\r\n\r\n\r\n\r\n    &lt;/LinearLayout&gt;\r\n","title":"Radio Button text pushed to Firebase","body":"<p>I am building an app where I would like the users to have the ability to upload various food or beverage products to <code>firebase</code>. The information that is being requested for the user to enter is an image, product name, description, price, and category (food or beverage). I used a <code>ImageButton</code> for the image and <code>EditText</code> for the name, description, and price. For the category I am using a <code>RadioGroup</code>/<code>RadioButton</code>. The image, description, price, and name are pushing to <code>firebase</code>; </p>\n\n<p>however, I am struggling with the <code>RadioButtons</code>. I want to push the RadioButton text Food or Beverage to Firebase. I found a partial tutorial on it but I am not fluent in Spanish and can't follow everything thats happening. </p>\n\n<pre><code>package com.example.nccummings.concertconnectowner;\n\nimport android.content.Intent;\nimport android.media.Image;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.support.v7.app.AppCompatActivity;\nimport android.text.TextUtils;\nimport android.view.View;\nimport android.widget.EditText;\nimport android.widget.ImageButton;\nimport android.widget.RadioButton;\nimport android.widget.RadioGroup;\nimport android.widget.Toast;\n\nimport com.google.android.gms.tasks.OnSuccessListener;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.storage.FirebaseStorage;\nimport com.google.firebase.storage.StorageReference;\nimport com.google.firebase.storage.UploadTask;\n\npublic class AddNewProductContinued extends AppCompatActivity {\n\nprivate ImageButton productImage;\nprivate static final int GALLREQ = 2;\nprivate EditText name,description,price;\nprivate String stringFoodOrBev;\nprivate RadioGroup bevOrFood;\nprivate RadioButton bevOrFoodOption;\nprivate Uri uri = null;\nprivate StorageReference storageReference = null;\nprivate DatabaseReference mRef;\nprivate FirebaseDatabase firebaseDatabase;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\nsuper.onCreate(savedInstanceState);\nsetContentView(R.layout.activity_add_new_product_cont);\n\nstorageReference = \nFirebaseStorage.getInstance().getReference(\"Product Pictures\");\nmRef = FirebaseDatabase.getInstance().getReference(\"Product \nInformation\");\n\nname = findViewById(R.id.productName);\ndescription = findViewById(R.id.productDescription);\nprice = findViewById(R.id.productPrice);\nbevOrFood = findViewById(R.id.rgbevorfood);\n\n\n// This method allows user to select which category the product belongs \n//to (food or bev).\n\nbevOrFood.setOnCheckedChangeListener(new \nRadioGroup.OnCheckedChangeListener() {\n@Override\npublic void onCheckedChanged(RadioGroup group, int checkedId) {\n\nbevOrFoodOption = bevOrFood.findViewById(checkedId);\n\nswitch (checkedId)\n{\ncase R.id.rbfood:\nstringFoodOrBev = bevOrFoodOption.getText().toString().trim();\nbreak;\ncase R.id.rbbev:\nstringFoodOrBev = bevOrFoodOption.getText().toString().trim();\nbreak;\ndefault:\n}\n}\n});\n}\n\n// This method allows user to select image from phone\n// once image button is clicked.\npublic void imageProductButtonClicked(View view){\n\nIntent galleryIntent = new Intent(Intent.ACTION_GET_CONTENT);\ngalleryIntent.setType(\"image/*\");\nstartActivityForResult(galleryIntent,GALLREQ);\n}\n\n// Once image has been selected from the phone it gets set set to a uri \n//aka url.\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent \ndata) \n{\nsuper.onActivityResult(requestCode, resultCode, data);\nif (requestCode == GALLREQ &amp;&amp; resultCode == RESULT_OK){\nuri = data.getData();\nproductImage = findViewById(R.id.productImageButton);\nproductImage.setImageURI(uri);\n\n}\n}\n\n// This method adds the information input into the form to Firebase.\npublic void addProductToMenuButtonClicked(View view){\n\nfinal String name_text = name.getText().toString().trim();\nfinal String description_text = \ndescription.getText().toString().trim();\nfinal String price_text = price.getText().toString().trim();\n\nif (!TextUtils.isEmpty(name_text) &amp;&amp; \n!TextUtils.isEmpty(description_text) &amp;&amp; !TextUtils.isEmpty(price_text)){\n\nStorageReference filepath = \nstorageReference.child(uri.getLastPathSegment());\nfilepath.putFile(uri).addOnSuccessListener(new \nOnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n@Override\npublic void onSuccess(UploadTask.TaskSnapshot taskSnapshot) \n{\nfinal Uri downloadurl = taskSnapshot.getDownloadUrl();\n\nToast.makeText(com.example.nccummings.concertconnectowner.\nAddNewProductContinued.this,\"Product Information has been successfully \nuploaded.\", Toast.LENGTH_SHORT).show();\n\nfinal DatabaseReference newPost = mRef.push();\nnewPost.child(\"Product\").setValue(name_text);\nnewPost.child(\"Description\").setValue(description_text);\nnewPost.child(\"Price\").setValue(price_text);\nnewPost.child(\"pImage\").setValue(downloadurl.toString());\nnewPost.child(\"Category\").setValue(stringFoodOrBev);\n\n}\n});\n}\n\n}\n\n\n}\n</code></pre>\n\n<p>Below is the xml file.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:orientation=\"vertical\"\ntools:context=\".AddNewProductContinued\"&gt;\n\n\n&lt;ImageButton\nandroid:id=\"@+id/productImageButton\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"230dp\"\nandroid:onClick=\"imageProductButtonClicked\"\ntools:layout_editor_absoluteX=\"0dp\"\ntools:layout_editor_absoluteY=\"54dp\" /&gt;\n\n&lt;EditText\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"\nandroid:id=\"@+id/productName\"\nandroid:hint=\"Enter name of product.\"\n/&gt;\n\n&lt;EditText\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"\nandroid:id=\"@+id/productDescription\"\nandroid:hint=\"Enter product description.\"\n/&gt;\n\n&lt;EditText\nandroid:id=\"@+id/productPrice\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"\nandroid:hint=\"Enter product price.\" /&gt;\n\n\n&lt;RadioGroup\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"38dp\"\nandroid:id=\"@+id/rgbevorfood\"\n&gt;\n\n&lt;RadioButton\nandroid:id=\"@+id/rbfood\"\nandroid:layout_width=\"wrap_content\"\nandroid:layout_height=\"wrap_content\"\nandroid:layout_weight=\"1\"\nandroid:text=\"Food\" /&gt;\n\n&lt;RadioButton\nandroid:id=\"@+id/rbbev\"\nandroid:layout_width=\"wrap_content\"\nandroid:layout_height=\"wrap_content\"\nandroid:layout_weight=\"1\"\nandroid:text=\"Beverage\" /&gt;\n&lt;/RadioGroup&gt;\n\n&lt;Button\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"\nandroid:onClick=\"addProductToMenuButtonClicked\"\nandroid:text=\"Add product to menu\" /&gt;\n\n\n\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1661086070,"post_id":73434442,"comment_id":129682993,"body_markdown":"If your current output does not match your desired output, then it&#39;s time to start debugging. If you&#39;re unsure on how to do this, then please check out [How to debug small programs](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/). It won&#39;t solve your direct problem but will give you steps that help you solve it yourself, or if failing that, then help you to better isolate your problem so that your question can be more focused and easier to answer. Also, check out [What is a debugger and how can it help me diagnose problems?](https://stackoverflow.com/q/25385173/).","body":"If your current output does not match your desired output, then it&#39;s time to start debugging. If you&#39;re unsure on how to do this, then please check out <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a>. It won&#39;t solve your direct problem but will give you steps that help you solve it yourself, or if failing that, then help you to better isolate your problem so that your question can be more focused and easier to answer. Also, check out <a href=\"https://stackoverflow.com/q/25385173/\">What is a debugger and how can it help me diagnose problems?</a>."}],"answers":[{"tags":[],"owner":{"account_id":16732777,"reputation":91,"user_id":12094709,"display_name":"GreenChicken"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661086409,"creation_date":1661086409,"answer_id":73434598,"question_id":73434442,"body_markdown":"I think the problem is that if your board is empty the computer will still have a move because of the else condition ```else {\r\n   computerMove = rand.nextInt(9)+1;\r\n}```\r\nThen the following if statement will give a valid move and you will break the while loop and place the move on the board. \r\nSo if you want to prevent the computer from playing first, you should make a function that checks if the board is empty and if it is then do nothing.\r\n\r\n``` \r\npublic boolean isEmpty(){\r\n    for(int i = 0; i&lt;3; i++)\r\n       for(int j = 0; j&lt;3; j++)\r\n           if(board[i][j] != &#39; &#39;) return false;\r\n     return true\r\n}\r\n```\r\nIf needed you can pass the board as a parameter in the function.\r\n\r\nHope I helped. Good luck!\r\n","title":"How can I keep it running after checking the if condition?","body":"<p>I think the problem is that if your board is empty the computer will still have a move because of the else condition <code>else { computerMove = rand.nextInt(9)+1; }</code>\nThen the following if statement will give a valid move and you will break the while loop and place the move on the board.\nSo if you want to prevent the computer from playing first, you should make a function that checks if the board is empty and if it is then do nothing.</p>\n<pre><code>public boolean isEmpty(){\n    for(int i = 0; i&lt;3; i++)\n       for(int j = 0; j&lt;3; j++)\n           if(board[i][j] != ' ') return false;\n     return true\n}\n</code></pre>\n<p>If needed you can pass the board as a parameter in the function.</p>\n<p>Hope I helped. Good luck!</p>\n"},{"tags":[],"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661086609,"creation_date":1661086609,"answer_id":73434619,"question_id":73434442,"body_markdown":"There&#39;s a problem with the `continue`s. The `continue` causes the next iteration. Because nothing changed, the game stays in the same state, the same condition will be met and the loop will continue endless.\r\n\r\nRewrite your conditions, so instead of e.g.\r\n```\r\n            if(board [2][0] == &#39;X&#39; &amp;&amp; board [2][1] == &#39;X&#39; ||\r\n                    board [1][1] == &#39;X&#39; &amp;&amp; board [0][0] == &#39;X&#39; ||\r\n                    board [1][2] == &#39;X&#39; &amp;&amp; board [0][2] == &#39;X&#39;){\r\n                if(board[2][2] != &#39; &#39;) {\r\n                    continue;\r\n\r\n                }else{\r\n                    computerMove = 3;\r\n                }\r\n            } else ...\r\n```\r\n\r\nwrite\r\n\r\n```\r\n            if((board [2][0] == &#39;X&#39; &amp;&amp; board [2][1] == &#39;X&#39; ||\r\n                    board [1][1] == &#39;X&#39; &amp;&amp; board [0][0] == &#39;X&#39; ||\r\n                    board [1][2] == &#39;X&#39; &amp;&amp; board [0][2] == &#39;X&#39;) &amp;&amp; \r\n                    board [2][2] == &#39; &#39;){\r\n                computerMove = 3;\r\n            } else ...\r\n```\r\n","title":"How can I keep it running after checking the if condition?","body":"<p>There's a problem with the <code>continue</code>s. The <code>continue</code> causes the next iteration. Because nothing changed, the game stays in the same state, the same condition will be met and the loop will continue endless.</p>\n<p>Rewrite your conditions, so instead of e.g.</p>\n<pre><code>            if(board [2][0] == 'X' &amp;&amp; board [2][1] == 'X' ||\n                    board [1][1] == 'X' &amp;&amp; board [0][0] == 'X' ||\n                    board [1][2] == 'X' &amp;&amp; board [0][2] == 'X'){\n                if(board[2][2] != ' ') {\n                    continue;\n\n                }else{\n                    computerMove = 3;\n                }\n            } else ...\n</code></pre>\n<p>write</p>\n<pre><code>            if((board [2][0] == 'X' &amp;&amp; board [2][1] == 'X' ||\n                    board [1][1] == 'X' &amp;&amp; board [0][0] == 'X' ||\n                    board [1][2] == 'X' &amp;&amp; board [0][2] == 'X') &amp;&amp; \n                    board [2][2] == ' '){\n                computerMove = 3;\n            } else ...\n</code></pre>\n"}],"owner":{"account_id":25966199,"reputation":1,"user_id":19682118,"display_name":"JetaimeA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1661086609,"creation_date":1661085257,"question_id":73434442,"body_markdown":"\r\nThis is a program tic tac toe. It&#39;s a computer operation. I want it to check all conditions. If it meets the condition, it will check again if the position of the computer to work. Can add O or not if it can&#39;t add O. had the computer check the next condition completely, if it didn&#39;t meet the condition it would randomly add O, but now it doesn&#39;t work because it happens that sometimes the computer randomly added it in the first place. and then when the players Played the condition that the computer had to prevent the player from winning, but it had a random O In the previous round, it was unable to fill the O at all, thus preventing it from continuing.\r\n\r\n\r\n\r\n\r\n    private static void computerNormalTurn(char[][] board) {\r\n            Random rand = new Random();\r\n            int computerMove;\r\n            while (true) {\r\n                if(board [2][0] == &#39;X&#39; &amp;&amp; board [2][1] == &#39;X&#39; ||\r\n                        board [1][1] == &#39;X&#39; &amp;&amp; board [0][0] == &#39;X&#39; ||\r\n                        board [1][2] == &#39;X&#39; &amp;&amp; board [0][2] == &#39;X&#39;){\r\n                    if(board[2][2] != &#39; &#39;) {\r\n                        continue;\r\n    \r\n                    }else{\r\n                        computerMove = 3;\r\n                    }\r\n                } else if (board [2][0] == &#39;X&#39; &amp;&amp; board [2][2] == &#39;X&#39; ||\r\n                        board [1][1] == &#39;X&#39; &amp;&amp; board [0][1] == &#39;X&#39;) {\r\n                    if(board[2][1] != &#39; &#39;) {\r\n                        continue;\r\n    \r\n                    }else{\r\n                        computerMove = 2;\r\n                    }\r\n                } else if (board [2][1] == &#39;X&#39; &amp;&amp; board [2][2] == &#39;X&#39; ||\r\n                        board [1][0] == &#39;X&#39; &amp;&amp; board [0][0] == &#39;X&#39; ||\r\n                        board [1][1] == &#39;X&#39; &amp;&amp; board [0][2] == &#39;X&#39; ) {\r\n                    if(board[2][0] != &#39; &#39;) {\r\n                        continue;\r\n    \r\n                    }else{\r\n                        computerMove = 1;\r\n                    }\r\n                } else if (board[2][0] == &#39;X&#39; &amp;&amp; board[0][0] == &#39;X&#39; ||\r\n                        board [1][1] == &#39;X&#39; &amp;&amp; board [1][2] == &#39;X&#39; ) {\r\n                    if(board[1][0] != &#39; &#39;) {\r\n                        continue;\r\n    \r\n                    }else{\r\n                        computerMove = 4;\r\n                    }\r\n                } else if (board [2][0] == &#39;X&#39; &amp;&amp; board [0][2] == &#39;X&#39; ||\r\n                        board [2][1] == &#39;X&#39; &amp;&amp; board [0][1] == &#39;X&#39; ||\r\n                        board [2][2] == &#39;X&#39; &amp;&amp; board [0][0] == &#39;X&#39; ||\r\n                        board [1][0] == &#39;X&#39; &amp;&amp; board [1][2] == &#39;X&#39; ) {\r\n                    if(board[1][1] != &#39; &#39;) {\r\n                        continue;\r\n    \r\n                    }else{\r\n                        computerMove = 5;\r\n                    }\r\n                } else if (board[2][2] == &#39;X&#39; &amp;&amp; board[0][2] == &#39;X&#39; ||\r\n                        board [1][0] == &#39;X&#39; &amp;&amp; board [1][1] == &#39;X&#39;) {\r\n                    if(board[1][2] != &#39; &#39;) {\r\n                        continue;\r\n    \r\n                    }else{\r\n                        computerMove = 6;\r\n                    }\r\n                } else if (board[2][0] == &#39;X&#39; &amp;&amp; board[1][0] == &#39;X&#39; ||\r\n                        board [2][2] == &#39;X&#39; &amp;&amp; board [1][1] == &#39;X&#39; ||\r\n                        board [0][1] == &#39;X&#39; &amp;&amp; board [0][2] == &#39;X&#39;) {\r\n                    if(board[0][0] != &#39; &#39;) {\r\n                        continue;\r\n    \r\n                    }else{\r\n                        computerMove = 7;\r\n                    }\r\n                } else if (board [2][1] == &#39;X&#39; &amp;&amp; board [1][1] == &#39;X&#39; ||\r\n                        board [0][0] == &#39;X&#39; &amp;&amp; board [0][2] == &#39;X&#39; ) {\r\n                    if(board[0][1] != &#39; &#39;) {\r\n                        continue;\r\n    \r\n                    }else{\r\n                        computerMove = 8;\r\n                    }\r\n                } else if (board[2][0] == &#39;X&#39; &amp;&amp; board[1][1] == &#39;X&#39; ||\r\n                        board [2][2] == &#39;X&#39; &amp;&amp; board [1][2] == &#39;X&#39; ||\r\n                        board [0][0] == &#39;X&#39; &amp;&amp; board [0][1] == &#39;X&#39; ) {\r\n                    if(board[0][2] != &#39; &#39;) {\r\n                        continue;\r\n    \r\n                    }else{\r\n                        computerMove = 9;\r\n                    }\r\n                }else {\r\n                    computerMove = rand.nextInt(9) + 1;\r\n                }\r\n                if (isValidMove(board, Integer.toString(computerMove))) {\r\n                    break;\r\n                }\r\n            }\r\n            placeMove(board, Integer.toString(computerMove), &#39;O&#39;);\r\n            System.out.println(&quot;Computer chose &quot; + computerMove);\r\n    \r\n        }","title":"How can I keep it running after checking the if condition?","body":"<p>This is a program tic tac toe. It's a computer operation. I want it to check all conditions. If it meets the condition, it will check again if the position of the computer to work. Can add O or not if it can't add O. had the computer check the next condition completely, if it didn't meet the condition it would randomly add O, but now it doesn't work because it happens that sometimes the computer randomly added it in the first place. and then when the players Played the condition that the computer had to prevent the player from winning, but it had a random O In the previous round, it was unable to fill the O at all, thus preventing it from continuing.</p>\n<pre><code>private static void computerNormalTurn(char[][] board) {\n        Random rand = new Random();\n        int computerMove;\n        while (true) {\n            if(board [2][0] == 'X' &amp;&amp; board [2][1] == 'X' ||\n                    board [1][1] == 'X' &amp;&amp; board [0][0] == 'X' ||\n                    board [1][2] == 'X' &amp;&amp; board [0][2] == 'X'){\n                if(board[2][2] != ' ') {\n                    continue;\n\n                }else{\n                    computerMove = 3;\n                }\n            } else if (board [2][0] == 'X' &amp;&amp; board [2][2] == 'X' ||\n                    board [1][1] == 'X' &amp;&amp; board [0][1] == 'X') {\n                if(board[2][1] != ' ') {\n                    continue;\n\n                }else{\n                    computerMove = 2;\n                }\n            } else if (board [2][1] == 'X' &amp;&amp; board [2][2] == 'X' ||\n                    board [1][0] == 'X' &amp;&amp; board [0][0] == 'X' ||\n                    board [1][1] == 'X' &amp;&amp; board [0][2] == 'X' ) {\n                if(board[2][0] != ' ') {\n                    continue;\n\n                }else{\n                    computerMove = 1;\n                }\n            } else if (board[2][0] == 'X' &amp;&amp; board[0][0] == 'X' ||\n                    board [1][1] == 'X' &amp;&amp; board [1][2] == 'X' ) {\n                if(board[1][0] != ' ') {\n                    continue;\n\n                }else{\n                    computerMove = 4;\n                }\n            } else if (board [2][0] == 'X' &amp;&amp; board [0][2] == 'X' ||\n                    board [2][1] == 'X' &amp;&amp; board [0][1] == 'X' ||\n                    board [2][2] == 'X' &amp;&amp; board [0][0] == 'X' ||\n                    board [1][0] == 'X' &amp;&amp; board [1][2] == 'X' ) {\n                if(board[1][1] != ' ') {\n                    continue;\n\n                }else{\n                    computerMove = 5;\n                }\n            } else if (board[2][2] == 'X' &amp;&amp; board[0][2] == 'X' ||\n                    board [1][0] == 'X' &amp;&amp; board [1][1] == 'X') {\n                if(board[1][2] != ' ') {\n                    continue;\n\n                }else{\n                    computerMove = 6;\n                }\n            } else if (board[2][0] == 'X' &amp;&amp; board[1][0] == 'X' ||\n                    board [2][2] == 'X' &amp;&amp; board [1][1] == 'X' ||\n                    board [0][1] == 'X' &amp;&amp; board [0][2] == 'X') {\n                if(board[0][0] != ' ') {\n                    continue;\n\n                }else{\n                    computerMove = 7;\n                }\n            } else if (board [2][1] == 'X' &amp;&amp; board [1][1] == 'X' ||\n                    board [0][0] == 'X' &amp;&amp; board [0][2] == 'X' ) {\n                if(board[0][1] != ' ') {\n                    continue;\n\n                }else{\n                    computerMove = 8;\n                }\n            } else if (board[2][0] == 'X' &amp;&amp; board[1][1] == 'X' ||\n                    board [2][2] == 'X' &amp;&amp; board [1][2] == 'X' ||\n                    board [0][0] == 'X' &amp;&amp; board [0][1] == 'X' ) {\n                if(board[0][2] != ' ') {\n                    continue;\n\n                }else{\n                    computerMove = 9;\n                }\n            }else {\n                computerMove = rand.nextInt(9) + 1;\n            }\n            if (isValidMove(board, Integer.toString(computerMove))) {\n                break;\n            }\n        }\n        placeMove(board, Integer.toString(computerMove), 'O');\n        System.out.println(&quot;Computer chose &quot; + computerMove);\n\n    }\n</code></pre>\n"},{"tags":["java","file","intellij-idea","rename","file-rename"],"comments":[{"owner":{"account_id":9847667,"reputation":29054,"user_id":7294647,"accept_rate":67,"display_name":"Jacob G."},"score":2,"creation_date":1588040240,"post_id":61471463,"comment_id":108740587,"body_markdown":"You&#39;ve already changed the module name with `Right Click -&gt; Refactor -&gt; Rename...`, but now you just need to close Intellij, rename the folder, and reopen Intellij.","body":"You&#39;ve already changed the module name with <code>Right Click -&gt; Refactor -&gt; Rename...</code>, but now you just need to close Intellij, rename the folder, and reopen Intellij."},{"owner":{"account_id":15915975,"reputation":586,"user_id":11498860,"display_name":"Aman"},"score":0,"creation_date":1588047872,"post_id":61471463,"comment_id":108742185,"body_markdown":"why are you using Intelli idea. You can use Eclipse. @Anshul Gupta","body":"why are you using Intelli idea. You can use Eclipse. @Anshul Gupta"},{"owner":{"account_id":17073262,"reputation":2631,"user_id":12353444,"display_name":"Anshul Gupta"},"score":1,"creation_date":1588052035,"post_id":61471463,"comment_id":108743381,"body_markdown":"In my opinion, I feel Intellij is a lot better than Eclipse. I used to use Eclipse, which I thought had the same rename procedure as intellij.","body":"In my opinion, I feel Intellij is a lot better than Eclipse. I used to use Eclipse, which I thought had the same rename procedure as intellij."}],"answers":[{"tags":[],"owner":{"account_id":16580238,"reputation":263,"user_id":11981028,"display_name":"Han"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588047574,"creation_date":1588047574,"answer_id":61472553,"question_id":61471463,"body_markdown":"You can change your module name to follow below steps.\r\n1. Project Structure(press [Ctrl] + [Alt] + [Shift] on Windows)\r\n2. move to &#39;Project&#39; tab\r\n3. rename &#39;Project name&#39;\r\n4. move to &#39;Modules&#39; tab\r\n5. rename &#39;name&#39;\r\n","title":"Error in rename a module in IntelliJ IDEA 2020.1?","body":"<p>You can change your module name to follow below steps.\n1. Project Structure(press [Ctrl] + [Alt] + [Shift] on Windows)\n2. move to 'Project' tab\n3. rename 'Project name'\n4. move to 'Modules' tab\n5. rename 'name'</p>\n"},{"tags":[],"owner":{"account_id":13813080,"reputation":40,"user_id":9970310,"display_name":"Mani R"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588052439,"creation_date":1588052439,"answer_id":61473345,"question_id":61471463,"body_markdown":"IntelliJ IDEA has some guildlines to rename the directory which is maintained by git.\r\nPlease look into this link\r\n[JetBrain Guidlines for rename directory][1]\r\n\r\n\r\nI tried to rename a directory but it is showing like cannot rename it seems\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/2019.1/rename-dialog-for-a-directory.html?utm_campaign=IU&amp;utm_medium=link&amp;utm_source=product&amp;utm_content=2019.1\r\n  [2]: https://i.stack.imgur.com/VJ5u0.png","title":"Error in rename a module in IntelliJ IDEA 2020.1?","body":"<p>IntelliJ IDEA has some guildlines to rename the directory which is maintained by git.\nPlease look into this link\n<a href=\"https://www.jetbrains.com/help/idea/2019.1/rename-dialog-for-a-directory.html?utm_campaign=IU&amp;utm_medium=link&amp;utm_source=product&amp;utm_content=2019.1\" rel=\"nofollow noreferrer\">JetBrain Guidlines for rename directory</a></p>\n\n<p>I tried to rename a directory but it is showing like cannot rename it seems\n<a href=\"https://i.stack.imgur.com/VJ5u0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VJ5u0.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588065572,"creation_date":1588065572,"answer_id":61476746,"question_id":61471463,"body_markdown":"1. In the Projects tool window right-click a directory or a module that you want to rename.\r\n\r\n2. From the context menu, select Refactor | Rename (⇧F6).\r\n\r\n3. In the dialog that opens, select what you want to rename. If you have a module with one content root, and it has the same name as your module, you can rename them both simultaneously.\r\n\r\n[![Select refactoring dialog][1]][1]\r\n\r\n\r\n4. In the dialog that opens, add the new name, check where to search for references and click OK.\r\n\r\n\r\nSee [Rename a directory or a module﻿\r\n](https://www.jetbrains.com/help/idea/rename-refactorings.html#87e031db)\r\n\r\n**NOTE:** that for Maven or Gradle based modules - you should configure module names in corresponding Maven/Gradle build files.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bxxKi.png","title":"Error in rename a module in IntelliJ IDEA 2020.1?","body":"<ol>\n<li><p>In the Projects tool window right-click a directory or a module that you want to rename.</p></li>\n<li><p>From the context menu, select Refactor | Rename (⇧F6).</p></li>\n<li><p>In the dialog that opens, select what you want to rename. If you have a module with one content root, and it has the same name as your module, you can rename them both simultaneously.</p></li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/bxxKi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bxxKi.png\" alt=\"Select refactoring dialog\"></a></p>\n\n<ol start=\"4\">\n<li>In the dialog that opens, add the new name, check where to search for references and click OK.</li>\n</ol>\n\n<p>See <a href=\"https://www.jetbrains.com/help/idea/rename-refactorings.html#87e031db\" rel=\"nofollow noreferrer\">Rename a directory or a module﻿\n</a></p>\n\n<p><strong>NOTE:</strong> that for Maven or Gradle based modules - you should configure module names in corresponding Maven/Gradle build files.</p>\n"},{"tags":[],"owner":{"account_id":17073262,"reputation":2631,"user_id":12353444,"display_name":"Anshul Gupta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1595640627,"creation_date":1595640627,"answer_id":63083374,"question_id":61471463,"body_markdown":"All I had to do was rename the actual folder, then it would completely rename. ","title":"Error in rename a module in IntelliJ IDEA 2020.1?","body":"<p>All I had to do was rename the actual folder, then it would completely rename.</p>\n"},{"tags":[],"owner":{"account_id":3439239,"reputation":116,"user_id":2881562,"display_name":"Rama Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661085487,"creation_date":1661085487,"answer_id":73434472,"question_id":61471463,"body_markdown":"For me I have to remove all the modules manually and reload each module again after that name was showing properly.","title":"Error in rename a module in IntelliJ IDEA 2020.1?","body":"<p>For me I have to remove all the modules manually and reload each module again after that name was showing properly.</p>\n"}],"owner":{"account_id":17073262,"reputation":2631,"user_id":12353444,"display_name":"Anshul Gupta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63083374,"answer_count":5,"score":0,"last_activity_date":1661085487,"creation_date":1588039565,"question_id":61471463,"body_markdown":"Whenever I rename a module I make in Intellij IDEA, it always show the new name in [], next to the old one, rather than just renaming the module as a whole.[![enter image description here][1]][1]\r\nHow do I replace the name of the module? The iml seems to change but not the name in Intellij or a file explorer. Also, I renamed it by doing refactor--&gt;rename, and then proceeded to restart the IDE. It still would not change. Thanks. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4uL4A.png","title":"Error in rename a module in IntelliJ IDEA 2020.1?","body":"<p>Whenever I rename a module I make in Intellij IDEA, it always show the new name in [], next to the old one, rather than just renaming the module as a whole.<a href=\"https://i.stack.imgur.com/4uL4A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4uL4A.png\" alt=\"enter image description here\"></a>\nHow do I replace the name of the module? The iml seems to change but not the name in Intellij or a file explorer. Also, I renamed it by doing refactor-->rename, and then proceeded to restart the IDE. It still would not change. Thanks. </p>\n"},{"tags":["java","android","android-studio","text-to-speech","google-text-to-speech"],"comments":[{"owner":{"display_name":"user2711811"},"score":0,"creation_date":1629489891,"post_id":68866638,"comment_id":121709278,"body_markdown":"Could you clarify the region corresponding to &quot;XA&quot; please.  I was able to get your code running for &quot;ar&quot; and a few regions &quot;ar-..&quot; : be sure to use an emulator with google play installed and install &quot;Speech Services by Google&quot;.  I can provide more details in an answer but the -XA region is not available and so I was not able to verify that region.  In addition, specifically the error (without a TTS engine installed) would be -2 (TextToSpeech.LANG_NOT_SUPPORTED).","body":"Could you clarify the region corresponding to &quot;XA&quot; please.  I was able to get your code running for &quot;ar&quot; and a few regions &quot;ar-..&quot; : be sure to use an emulator with google play installed and install &quot;Speech Services by Google&quot;.  I can provide more details in an answer but the -XA region is not available and so I was not able to verify that region.  In addition, specifically the error (without a TTS engine installed) would be -2 (TextToSpeech.LANG_NOT_SUPPORTED)."},{"owner":{"account_id":19823236,"reputation":42,"user_id":14519284,"display_name":"ZeinZebib"},"score":0,"creation_date":1629508003,"post_id":68866638,"comment_id":121712497,"body_markdown":"https://cloud.google.com/text-to-speech/docs/voices. I found the ar-XA here and thought the error was the second Lang not supported. But then I realised the error was from init failed. Could you please tell me more details on howI could download the google TTS services please.","body":"<a href=\"https://cloud.google.com/text-to-speech/docs/voices\" rel=\"nofollow noreferrer\">cloud.google.com/text-to-speech/docs/voices</a>. I found the ar-XA here and thought the error was the second Lang not supported. But then I realised the error was from init failed. Could you please tell me more details on howI could download the google TTS services please."}],"answers":[{"tags":[],"owner":{"display_name":"user2711811"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1629513730,"creation_date":1629511949,"answer_id":68869600,"question_id":68866638,"body_markdown":"This is some information that may help you get TTS working on an android emulator.\r\n\r\nWhen I first tried your code I got the `LANG_NOT_SUPPORTED` error but soon realized my particular emulator instance did not have an TTS engine installed.\r\n\r\nTo install a TTS engine with an emulator I then had to use an emulator with Google Play (only a small subset of the AVD emulators have them).  From the Android Virtual Device Manager you can `Create Virtual Device` and see (under phone for example) a few with Play Store: Pixel 4, Pixel 3a, Pixel 3, Pixel, Nexus 5X, Nexus 5.\r\n\r\nI then used the Nexus 5 with API 25.  (I already had it created.)\r\n\r\nWith the the emulator running I can then see the `Play Store` app listed.   Run the Play Store app as you would on a phone (you&#39;ll have to authenticate yourself with your google account just as you would on a phone).  Use the search bar and search for &quot;speech services by google&quot; - and install this app if not already installed.  This is one TTS engine example which worked for me.  Since this is the only TTS engine installed it is also the default.  So if you choose to load other engines then you would have select the proper engine.  (The engine name is a package name such as `com.google.android.tts`.)\r\n\r\nI then ran your code (slightly modified) as in the following.  I added some diagnostics to list the available languages and variants.  I also reviewed the available languages and regions here: https://cloud.google.com/speech-to-text/docs/languages and for example just chose &quot;ar-iq&quot; (but &quot;ar&quot; also worked).  \r\n\r\nNote your &quot;ar-XA&quot; is a language tag used for voices and not for the engine language.\r\n\r\n\r\n\r\n    TTS = new TextToSpeech(this, new TextToSpeech.OnInitListener() {\r\n        @Override\r\n        public void onInit(int status) {\r\n            if (status==TextToSpeech.SUCCESS){\r\n\r\n                Set&lt;Locale&gt; avail = TTS.getAvailableLanguages();\r\n                for (Locale locale : avail) {\r\n                    Log.e(TAG,&quot;local: &quot;+locale);\r\n                    if (locale.getDisplayVariant() != null) {\r\n                        Log.e(TAG,&quot;  var: &quot;+locale.getVariant());\r\n                    }\r\n                }\r\n                List&lt;TextToSpeech.EngineInfo&gt; engineInfo = TTS.getEngines();\r\n                for (TextToSpeech.EngineInfo info : engineInfo) {\r\n                    Log.e(TAG,&quot;info: &quot;+info);\r\n                }\r\n\r\n                int res = TTS.setLanguage(Locale.forLanguageTag(&quot;ar-iq&quot;));\r\n                if (res == TextToSpeech.LANG_MISSING_DATA || res == TextToSpeech.LANG_NOT_SUPPORTED){\r\n\r\n                    Log.e(&quot;TTS&quot;,&quot;Language not Supporter&quot;);\r\n                }\r\n                else{\r\n                    //speak.setEnabled(true);\r\n\r\n                    TTS.speak(&quot;اَلْعَرَبِيَّةُ&quot;, TextToSpeech.QUEUE_ADD, null);\r\n                }\r\n\r\n            }\r\n            else{\r\n                Log.e(&quot;TTS&quot;,&quot;Init Failed&quot;);\r\n            }\r\n        }\r\n    });\r\n\r\nOnce you have the TTS engine installed and your code or above code works - I think you can then use `Settings` to install your voice data:\r\n\r\n    Settings | Speech | Text-to-speech output | (choose Speech Services by Google) and select the gear icon | and select your voice data.\r\n\r\nYou could also use the voice data programmatically.\r\n\r\nNote you can install another TTS engine (not the default) by using the constructor:\r\n\r\n    TextToSpeech(Context context, TextToSpeech.OnInitListener listener, String engine)\r\n\r\nThe Arabic voices which come with the Google TTS engine have the following language tags - I&#39;m guessing that when the language is set a preferred voice is used which is one of these:\r\n\r\n    ar-xa-x-arz-local\r\n    ar-xa-x-arc-local","title":"Text to Speech Android Studio","body":"<p>This is some information that may help you get TTS working on an android emulator.</p>\n<p>When I first tried your code I got the <code>LANG_NOT_SUPPORTED</code> error but soon realized my particular emulator instance did not have an TTS engine installed.</p>\n<p>To install a TTS engine with an emulator I then had to use an emulator with Google Play (only a small subset of the AVD emulators have them).  From the Android Virtual Device Manager you can <code>Create Virtual Device</code> and see (under phone for example) a few with Play Store: Pixel 4, Pixel 3a, Pixel 3, Pixel, Nexus 5X, Nexus 5.</p>\n<p>I then used the Nexus 5 with API 25.  (I already had it created.)</p>\n<p>With the the emulator running I can then see the <code>Play Store</code> app listed.   Run the Play Store app as you would on a phone (you'll have to authenticate yourself with your google account just as you would on a phone).  Use the search bar and search for &quot;speech services by google&quot; - and install this app if not already installed.  This is one TTS engine example which worked for me.  Since this is the only TTS engine installed it is also the default.  So if you choose to load other engines then you would have select the proper engine.  (The engine name is a package name such as <code>com.google.android.tts</code>.)</p>\n<p>I then ran your code (slightly modified) as in the following.  I added some diagnostics to list the available languages and variants.  I also reviewed the available languages and regions here: <a href=\"https://cloud.google.com/speech-to-text/docs/languages\" rel=\"nofollow noreferrer\">https://cloud.google.com/speech-to-text/docs/languages</a> and for example just chose &quot;ar-iq&quot; (but &quot;ar&quot; also worked).</p>\n<p>Note your &quot;ar-XA&quot; is a language tag used for voices and not for the engine language.</p>\n<pre><code>TTS = new TextToSpeech(this, new TextToSpeech.OnInitListener() {\n    @Override\n    public void onInit(int status) {\n        if (status==TextToSpeech.SUCCESS){\n\n            Set&lt;Locale&gt; avail = TTS.getAvailableLanguages();\n            for (Locale locale : avail) {\n                Log.e(TAG,&quot;local: &quot;+locale);\n                if (locale.getDisplayVariant() != null) {\n                    Log.e(TAG,&quot;  var: &quot;+locale.getVariant());\n                }\n            }\n            List&lt;TextToSpeech.EngineInfo&gt; engineInfo = TTS.getEngines();\n            for (TextToSpeech.EngineInfo info : engineInfo) {\n                Log.e(TAG,&quot;info: &quot;+info);\n            }\n\n            int res = TTS.setLanguage(Locale.forLanguageTag(&quot;ar-iq&quot;));\n            if (res == TextToSpeech.LANG_MISSING_DATA || res == TextToSpeech.LANG_NOT_SUPPORTED){\n\n                Log.e(&quot;TTS&quot;,&quot;Language not Supporter&quot;);\n            }\n            else{\n                //speak.setEnabled(true);\n\n                TTS.speak(&quot;اَلْعَرَبِيَّةُ&quot;, TextToSpeech.QUEUE_ADD, null);\n            }\n\n        }\n        else{\n            Log.e(&quot;TTS&quot;,&quot;Init Failed&quot;);\n        }\n    }\n});\n</code></pre>\n<p>Once you have the TTS engine installed and your code or above code works - I think you can then use <code>Settings</code> to install your voice data:</p>\n<pre><code>Settings | Speech | Text-to-speech output | (choose Speech Services by Google) and select the gear icon | and select your voice data.\n</code></pre>\n<p>You could also use the voice data programmatically.</p>\n<p>Note you can install another TTS engine (not the default) by using the constructor:</p>\n<pre><code>TextToSpeech(Context context, TextToSpeech.OnInitListener listener, String engine)\n</code></pre>\n<p>The Arabic voices which come with the Google TTS engine have the following language tags - I'm guessing that when the language is set a preferred voice is used which is one of these:</p>\n<pre><code>ar-xa-x-arz-local\nar-xa-x-arc-local\n</code></pre>\n"}],"owner":{"account_id":19823236,"reputation":42,"user_id":14519284,"display_name":"ZeinZebib"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2993,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1661085412,"creation_date":1629483923,"question_id":68866638,"body_markdown":"I am trying to do a TTS app for Arabic however whenever I want to initialize my TTS it always fails. I have no idea what I&#39;m supposed to do to fix it. I tried to enter the TTS engine on the emulator but it doesn&#39;t show me anything. So I&#39;m unsure whether the issue is from the emulator or my code. \r\n  \r\n\r\n      TTS = new TextToSpeech(this, new TextToSpeech.OnInitListener() {\r\n        @Override\r\n        public void onInit(int status) {\r\n            if (status==TextToSpeech.SUCCESS){\r\n                int res = TTS.setLanguage(Locale.forLanguageTag(&quot;ar-XA&quot;));\r\n                if (res == TextToSpeech.LANG_MISSING_DATA || res == TextToSpeech.LANG_NOT_SUPPORTED){\r\n\r\n                    Log.e(&quot;TTS&quot;,&quot;Language not Supporter&quot;);\r\n                }\r\n                else{\r\n                    speak.setEnabled(true);\r\n                }\r\n\r\n            }\r\n            else{\r\n                Log.e(&quot;TTS&quot;,&quot;Init Failed&quot;);\r\n            }\r\n        }\r\n    });","title":"Text to Speech Android Studio","body":"<p>I am trying to do a TTS app for Arabic however whenever I want to initialize my TTS it always fails. I have no idea what I'm supposed to do to fix it. I tried to enter the TTS engine on the emulator but it doesn't show me anything. So I'm unsure whether the issue is from the emulator or my code.</p>\n<pre><code>  TTS = new TextToSpeech(this, new TextToSpeech.OnInitListener() {\n    @Override\n    public void onInit(int status) {\n        if (status==TextToSpeech.SUCCESS){\n            int res = TTS.setLanguage(Locale.forLanguageTag(&quot;ar-XA&quot;));\n            if (res == TextToSpeech.LANG_MISSING_DATA || res == TextToSpeech.LANG_NOT_SUPPORTED){\n\n                Log.e(&quot;TTS&quot;,&quot;Language not Supporter&quot;);\n            }\n            else{\n                speak.setEnabled(true);\n            }\n\n        }\n        else{\n            Log.e(&quot;TTS&quot;,&quot;Init Failed&quot;);\n        }\n    }\n});\n</code></pre>\n"},{"tags":["java","lambda","functional-programming","java-stream"],"answers":[{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660933006,"creation_date":1660933006,"answer_id":73420785,"question_id":73420208,"body_markdown":"There are two differences in the examples: the `map()` operation, and the terminal operation (`min()` and `max()`). So, to reuse the rest of the pipeline, you&#39;ll want to parameterize these.\r\n\r\nI will warn you up front, however, that if you call this parameterized method directly from many places, your code will be harder to read. Comprehension of the caller&#39;s code will be easier if you keep a helper function&amp;mdash;with a meaningful name&amp;mdash;that delegates to the generic method. Obviously, there is a balance here. If you wanted to add additional functional parameters, the number of helper methods would grow rapidly and become cumbersome. And if you only call each helper from one place, maybe using the underlying function directly won&#39;t add too much clutter.\r\n\r\nYou don&#39;t show the type of elements in the stream. I&#39;m using the name `MyClass` in this example as a placeholder.\r\n\r\n```java\r\n    private static OptionalInt extremum(\r\n        Collection&lt;? extends MyClass&gt; input,\r\n        Clazz clazz,\r\n        ToIntFunction&lt;? super MyClass&gt; valExtractor,\r\n        Function&lt;IntStream, OptionalInt&gt; terminalOp) {\r\n\r\n        IntStream matches = input.stream()\r\n            .filter(y -&gt; y.getName().matches(clazz.getFilter()))\r\n            .mapToInt(valExtractor);\r\n        return terminalOp.apply(matches);\r\n    }\r\n\r\n    private OptionalInt calcMinUserNumber(Clazz clazz) {\r\n        return extremum(listOfObjects, clazz, MyClass::getUserNumber, IntStream::min);\r\n    }\r\n\r\n    private OptionalInt calcMaxUserNumber(Clazz clazz) {\r\n        return extremum(listOfObjects, clazz, MyClass::getUserNumber, IntStream::max);\r\n    }\r\n\r\n    private OptionalInt calcMinGroupNumber(Clazz clazz) {\r\n        return extremum(listOfObjects, clazz, MyClass::getGroupNumber, IntStream::min);\r\n    }\r\n\r\n    private OptionalInt calcMaxGroupNumber(Clazz clazz) {\r\n        return extremum(listOfObjects, clazz, MyClass::getGroupNumber, IntStream::max);\r\n    }\r\n\r\n    ...\r\n```\r\n\r\nAnd here&#39;s a usage example:\r\n\r\n    calcMaxGroupNumber(clazz).ifPresent(list::add);\r\n\r\n","title":"How could I make a stream pipeline more variable in Java?","body":"<p>There are two differences in the examples: the <code>map()</code> operation, and the terminal operation (<code>min()</code> and <code>max()</code>). So, to reuse the rest of the pipeline, you'll want to parameterize these.</p>\n<p>I will warn you up front, however, that if you call this parameterized method directly from many places, your code will be harder to read. Comprehension of the caller's code will be easier if you keep a helper function—with a meaningful name—that delegates to the generic method. Obviously, there is a balance here. If you wanted to add additional functional parameters, the number of helper methods would grow rapidly and become cumbersome. And if you only call each helper from one place, maybe using the underlying function directly won't add too much clutter.</p>\n<p>You don't show the type of elements in the stream. I'm using the name <code>MyClass</code> in this example as a placeholder.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private static OptionalInt extremum(\n        Collection&lt;? extends MyClass&gt; input,\n        Clazz clazz,\n        ToIntFunction&lt;? super MyClass&gt; valExtractor,\n        Function&lt;IntStream, OptionalInt&gt; terminalOp) {\n\n        IntStream matches = input.stream()\n            .filter(y -&gt; y.getName().matches(clazz.getFilter()))\n            .mapToInt(valExtractor);\n        return terminalOp.apply(matches);\n    }\n\n    private OptionalInt calcMinUserNumber(Clazz clazz) {\n        return extremum(listOfObjects, clazz, MyClass::getUserNumber, IntStream::min);\n    }\n\n    private OptionalInt calcMaxUserNumber(Clazz clazz) {\n        return extremum(listOfObjects, clazz, MyClass::getUserNumber, IntStream::max);\n    }\n\n    private OptionalInt calcMinGroupNumber(Clazz clazz) {\n        return extremum(listOfObjects, clazz, MyClass::getGroupNumber, IntStream::min);\n    }\n\n    private OptionalInt calcMaxGroupNumber(Clazz clazz) {\n        return extremum(listOfObjects, clazz, MyClass::getGroupNumber, IntStream::max);\n    }\n\n    ...\n</code></pre>\n<p>And here's a usage example:</p>\n<pre><code>calcMaxGroupNumber(clazz).ifPresent(list::add);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18891758,"reputation":144,"user_id":13781909,"display_name":"Danny Briskin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660933966,"creation_date":1660933966,"answer_id":73420952,"question_id":73420208,"body_markdown":"The solution may reduce redundancy but it removes readability from the code. \r\n\r\n     IntStream maxi = listOfObjects.stream().filter(y -&gt; (y.getName()\r\n                    .matches(clazz.getFilter())))\r\n                    .map(y -&gt; (y.getUserNumber()))\r\n                    .mapToInt(Integer::intValue);\r\n        System.out.println(applier(() -&gt; maxi, IntStream::max));\r\n        //System.out.println(applier(() -&gt; maxi, IntStream::min));\r\n\r\n...\r\n\r\n    public static OptionalInt applier(Supplier&lt;IntStream&gt; supplier, Function&lt;IntStream, OptionalInt&gt; predicate) {\r\n        return predicate.apply(supplier.get());\r\n    }\r\n\r\n\r\n","title":"How could I make a stream pipeline more variable in Java?","body":"<p>The solution may reduce redundancy but it removes readability from the code.</p>\n<pre><code> IntStream maxi = listOfObjects.stream().filter(y -&gt; (y.getName()\n                .matches(clazz.getFilter())))\n                .map(y -&gt; (y.getUserNumber()))\n                .mapToInt(Integer::intValue);\n    System.out.println(applier(() -&gt; maxi, IntStream::max));\n    //System.out.println(applier(() -&gt; maxi, IntStream::min));\n</code></pre>\n<p>...</p>\n<pre><code>public static OptionalInt applier(Supplier&lt;IntStream&gt; supplier, Function&lt;IntStream, OptionalInt&gt; predicate) {\n    return predicate.apply(supplier.get());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661084874,"creation_date":1661084874,"answer_id":73434395,"question_id":73420208,"body_markdown":"For the sake of variety, I want to add the following approach which uses a nested `Collectors.teeing` (Java 12 or higher) which enables to get all values by just streaming over the collection only once. \r\n\r\nFor the set up, I am using the below simple class :\r\n\r\n    @AllArgsConstructor\r\n    @ToString\r\n    @Getter\r\n    static class MyObject {\r\n        int userNumber;\r\n        int groupNumber;\r\n    }\r\n\r\nand a list of MyObjects:\r\n\r\n    List&lt;MyObject&gt; myObjectList = List.of(\r\n            new MyObject(1, 2),\r\n            new MyObject(2, 3),\r\n            new MyObject(3, 4),\r\n            new MyObject(5, 3),\r\n            new MyObject(6, 2),\r\n            new MyObject(7, 6),\r\n            new MyObject(1, 12));\r\n\r\nIf the task was to get the max and min userNumber one could do a simple `teeing` like below and add for example the values to map:\r\n\r\n    Map&lt;String , Integer&gt; maxMinUserNum =\r\n            myObjectList.stream()\r\n                        .collect(\r\n                                Collectors.teeing(\r\n                                        Collectors.reducing(Integer.MAX_VALUE, MyObject::getUserNumber, Integer::min),\r\n                                        Collectors.reducing(Integer.MIN_VALUE, MyObject::getUserNumber, Integer::max),\r\n                                        (min,max) -&gt; {\r\n                                            Map&lt;String,Integer&gt; map = new HashMap&lt;&gt;();\r\n                                            map.put(&quot;minUser&quot;,min);\r\n                                            map.put(&quot;maxUser&quot;,max);\r\n                                            return map;\r\n                                        }));\r\n    System.out.println(maxMinUserNum);\r\n\r\n    //output: {minUser=1, maxUser=7}\r\n\r\nSince the task also includes to get the max and min group numbers, we could use the same approach as above and only need to nest the teeing collector :\r\n\r\n    Map&lt;String , Integer&gt; result =\r\n        myObjectList.stream()\r\n                    .collect(\r\n                            Collectors.teeing(\r\n                                    Collectors.teeing(\r\n                                            Collectors.reducing(Integer.MAX_VALUE, MyObject::getUserNumber, Integer::min),\r\n                                            Collectors.reducing(Integer.MIN_VALUE, MyObject::getUserNumber, Integer::max),\r\n                                            (min,max) -&gt; {\r\n                                                Map&lt;String,Integer&gt; map = new LinkedHashMap&lt;&gt;();\r\n                                                map.put(&quot;minUser&quot;,min);\r\n                                                map.put(&quot;maxUser&quot;,max);\r\n                                                return map;\r\n                                            }),\r\n                                    Collectors.teeing(\r\n                                            Collectors.reducing(Integer.MAX_VALUE, MyObject::getGroupNumber, Integer::min),\r\n                                            Collectors.reducing(Integer.MIN_VALUE, MyObject::getGroupNumber, Integer::max),\r\n                                            (min,max) -&gt; {\r\n                                                Map&lt;String,Integer&gt; map = new LinkedHashMap&lt;&gt;();\r\n                                                map.put(&quot;minGroup&quot;,min);\r\n                                                map.put(&quot;maxGroup&quot;,max);\r\n                                                return map;\r\n                                            }),\r\n                                    (map1,map2) -&gt; {\r\n                                        map1.putAll(map2);\r\n                                        return map1;\r\n                                    }));\r\n\r\n    System.out.println(result);\r\n\r\noutput\r\n\r\n    {minUser=1, maxUser=7, minGroup=2, maxGroup=12}","title":"How could I make a stream pipeline more variable in Java?","body":"<p>For the sake of variety, I want to add the following approach which uses a nested <code>Collectors.teeing</code> (Java 12 or higher) which enables to get all values by just streaming over the collection only once.</p>\n<p>For the set up, I am using the below simple class :</p>\n<pre><code>@AllArgsConstructor\n@ToString\n@Getter\nstatic class MyObject {\n    int userNumber;\n    int groupNumber;\n}\n</code></pre>\n<p>and a list of MyObjects:</p>\n<pre><code>List&lt;MyObject&gt; myObjectList = List.of(\n        new MyObject(1, 2),\n        new MyObject(2, 3),\n        new MyObject(3, 4),\n        new MyObject(5, 3),\n        new MyObject(6, 2),\n        new MyObject(7, 6),\n        new MyObject(1, 12));\n</code></pre>\n<p>If the task was to get the max and min userNumber one could do a simple <code>teeing</code> like below and add for example the values to map:</p>\n<pre><code>Map&lt;String , Integer&gt; maxMinUserNum =\n        myObjectList.stream()\n                    .collect(\n                            Collectors.teeing(\n                                    Collectors.reducing(Integer.MAX_VALUE, MyObject::getUserNumber, Integer::min),\n                                    Collectors.reducing(Integer.MIN_VALUE, MyObject::getUserNumber, Integer::max),\n                                    (min,max) -&gt; {\n                                        Map&lt;String,Integer&gt; map = new HashMap&lt;&gt;();\n                                        map.put(&quot;minUser&quot;,min);\n                                        map.put(&quot;maxUser&quot;,max);\n                                        return map;\n                                    }));\nSystem.out.println(maxMinUserNum);\n\n//output: {minUser=1, maxUser=7}\n</code></pre>\n<p>Since the task also includes to get the max and min group numbers, we could use the same approach as above and only need to nest the teeing collector :</p>\n<pre><code>Map&lt;String , Integer&gt; result =\n    myObjectList.stream()\n                .collect(\n                        Collectors.teeing(\n                                Collectors.teeing(\n                                        Collectors.reducing(Integer.MAX_VALUE, MyObject::getUserNumber, Integer::min),\n                                        Collectors.reducing(Integer.MIN_VALUE, MyObject::getUserNumber, Integer::max),\n                                        (min,max) -&gt; {\n                                            Map&lt;String,Integer&gt; map = new LinkedHashMap&lt;&gt;();\n                                            map.put(&quot;minUser&quot;,min);\n                                            map.put(&quot;maxUser&quot;,max);\n                                            return map;\n                                        }),\n                                Collectors.teeing(\n                                        Collectors.reducing(Integer.MAX_VALUE, MyObject::getGroupNumber, Integer::min),\n                                        Collectors.reducing(Integer.MIN_VALUE, MyObject::getGroupNumber, Integer::max),\n                                        (min,max) -&gt; {\n                                            Map&lt;String,Integer&gt; map = new LinkedHashMap&lt;&gt;();\n                                            map.put(&quot;minGroup&quot;,min);\n                                            map.put(&quot;maxGroup&quot;,max);\n                                            return map;\n                                        }),\n                                (map1,map2) -&gt; {\n                                    map1.putAll(map2);\n                                    return map1;\n                                }));\n\nSystem.out.println(result);\n</code></pre>\n<p>output</p>\n<pre><code>{minUser=1, maxUser=7, minGroup=2, maxGroup=12}\n</code></pre>\n"}],"owner":{"account_id":23808129,"reputation":924,"user_id":17817329,"display_name":"robni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73420785,"answer_count":3,"score":0,"last_activity_date":1661084874,"creation_date":1660929459,"question_id":73420208,"body_markdown":"I wrote a stream pipeline:\r\n\r\n```Java\r\nprivate void calcMin(Clazz clazz) {\r\n    OptionalInt min = listOfObjects.stream().filter(y -&gt; (y.getName()\r\n                    .matches(clazz.getFilter())))\r\n                    .map(y -&gt; (y.getUserNumber()))\r\n                    .mapToInt(Integer::intValue)\r\n                    .min();\r\n    list.add(min.getAsInt());\r\n}\r\n```\r\nThis pipeline gives me the lowest `UserNumber`.\r\n\r\nSo far, so good.\r\n\r\nBut I also need the greatest `UserNumber`.\r\nAnd I also need the lowest `GroupNumber`.\r\nAnd also the greatest `GroupNumber`.\r\n\r\nI could write:\r\n\r\n```Java\r\nprivate void calcMax(Clazz clazz) {\r\n    OptionalInt max = listOfObjects.stream().filter(y -&gt; (y.getName()\r\n                    .matches(clazz.getFilter())))\r\n                    .map(y -&gt; (y.getUserNumber()))\r\n                    .mapToInt(Integer::intValue)\r\n                    .max();\r\n    list.add(max.getAsInt());\r\n}\r\n```\r\nAnd I could also write the same for `.map(y -&gt; (y.getGroupNumber()))`.\r\n\r\nThis will work, but it is very redudant.\r\n\r\nIs there a way to do it more variable?","title":"How could I make a stream pipeline more variable in Java?","body":"<p>I wrote a stream pipeline:</p>\n<pre><code>private void calcMin(Clazz clazz) {\n    OptionalInt min = listOfObjects.stream().filter(y -&gt; (y.getName()\n                    .matches(clazz.getFilter())))\n                    .map(y -&gt; (y.getUserNumber()))\n                    .mapToInt(Integer::intValue)\n                    .min();\n    list.add(min.getAsInt());\n}\n</code></pre>\n<p>This pipeline gives me the lowest <code>UserNumber</code>.</p>\n<p>So far, so good.</p>\n<p>But I also need the greatest <code>UserNumber</code>.\nAnd I also need the lowest <code>GroupNumber</code>.\nAnd also the greatest <code>GroupNumber</code>.</p>\n<p>I could write:</p>\n<pre><code>private void calcMax(Clazz clazz) {\n    OptionalInt max = listOfObjects.stream().filter(y -&gt; (y.getName()\n                    .matches(clazz.getFilter())))\n                    .map(y -&gt; (y.getUserNumber()))\n                    .mapToInt(Integer::intValue)\n                    .max();\n    list.add(max.getAsInt());\n}\n</code></pre>\n<p>And I could also write the same for <code>.map(y -&gt; (y.getGroupNumber()))</code>.</p>\n<p>This will work, but it is very redudant.</p>\n<p>Is there a way to do it more variable?</p>\n"},{"tags":["java","jfreechart"],"owner":{"account_id":7055162,"reputation":870,"user_id":5517820,"accept_rate":68,"display_name":"MehdiB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1661947581,"answer_count":0,"score":1,"last_activity_date":1661084787,"creation_date":1661049000,"question_id":73431254,"body_markdown":"I am trying to create a chart with black background using JFreeChart. I am setting the chart background to black using\r\n\r\n    chart.getPlot().setBackgroundPaint(Color.BLACK);\r\n\r\nThis is the code:\r\n\r\n```\r\nXYSeries series = new XYSeries(&quot;USD-Toman&quot;);\r\nseries.add(0, 31000);\r\nseries.add(1, 31500);\r\nseries.add(2, 32000);\r\nseries.add(3, 31100);\r\nseries.add(4, 30500);\r\nseries.add(5, 29800);\r\n\r\nXYDataset dataset = new XYSeriesCollection(series);\r\nString[] labels = new String[series.getItemCount()];\r\nlabels[0] = &quot;Saturday&quot;;\r\nlabels[1] = &quot;Sunday&quot;;\r\nlabels[2] = &quot;Monday&quot;;\r\nlabels[3] = &quot;Tuesday&quot;;\r\nlabels[4] = &quot;Wednesday&quot;;\r\nlabels[5] = &quot;Thursday&quot;;\r\n\r\nNumberAxis domain = new SymbolAxis(&quot;&quot;, labels);\r\n\r\nNumberAxis range = new NumberAxis(&quot;&quot;);\r\nXYSplineRenderer r = new XYSplineRenderer(15);\r\nXYPlot xyplot = new XYPlot(dataset, domain, range, r);\r\n\r\nJFreeChart chart = new JFreeChart(xyplot);\r\n\r\nFont font = new Font(&quot;Dialog&quot;, Font.PLAIN, 20);\r\nchart.getPlot().setBackgroundPaint(Color.BLACK);\r\nxyplot.setDomainMinorGridlinesVisible(false);\r\nxyplot.setDomainGridlinesVisible(false);\r\nxyplot.setRangeGridlinesVisible(false);\r\nxyplot.getDomainAxis().setTickLabelFont(font);\r\nxyplot.getRangeAxis().setTickLabelsVisible(false);\r\n\r\n\r\nNumberAxis yAxis = (NumberAxis) chart.getXYPlot().getRangeAxis();\r\nyAxis.setAutoRangeIncludesZero(false);\r\n\r\nXYSplineRenderer renderer = (XYSplineRenderer) chart.getXYPlot().getRenderer();\r\nrenderer.setSeriesVisible(0, true);\r\nrenderer.setAutoPopulateSeriesStroke(false);\r\nrenderer.setDefaultStroke(new BasicStroke(5.0f));\r\nrenderer.setSeriesPaint(0, new Color(39, 112, 96, 255));\r\n\r\nrenderer.setDefaultItemLabelGenerator(new StandardXYItemLabelGenerator());\r\nrenderer.setDefaultItemLabelPaint(Color.WHITE);\r\n\r\n\r\nrenderer.setDefaultItemLabelFont(font);\r\n\r\nrenderer.setSeriesItemLabelsVisible(0, true);\r\n\r\n\r\nChartUtils.saveChartAsPNG(new File(&quot;soft3d2.png&quot;), chart, 1024, 768);\r\n\r\n```\r\n\r\nAlthough the background color is set to black, the result is striped black and grey:\r\n\r\n[![striped background][1]][1]\r\n\r\nany idea how to set it to black only?\r\n\r\n  [1]: https://i.stack.imgur.com/SoneP.png","title":"Chart displays striped background although color is set to black","body":"<p>I am trying to create a chart with black background using JFreeChart. I am setting the chart background to black using</p>\n<pre><code>chart.getPlot().setBackgroundPaint(Color.BLACK);\n</code></pre>\n<p>This is the code:</p>\n<pre><code>XYSeries series = new XYSeries(&quot;USD-Toman&quot;);\nseries.add(0, 31000);\nseries.add(1, 31500);\nseries.add(2, 32000);\nseries.add(3, 31100);\nseries.add(4, 30500);\nseries.add(5, 29800);\n\nXYDataset dataset = new XYSeriesCollection(series);\nString[] labels = new String[series.getItemCount()];\nlabels[0] = &quot;Saturday&quot;;\nlabels[1] = &quot;Sunday&quot;;\nlabels[2] = &quot;Monday&quot;;\nlabels[3] = &quot;Tuesday&quot;;\nlabels[4] = &quot;Wednesday&quot;;\nlabels[5] = &quot;Thursday&quot;;\n\nNumberAxis domain = new SymbolAxis(&quot;&quot;, labels);\n\nNumberAxis range = new NumberAxis(&quot;&quot;);\nXYSplineRenderer r = new XYSplineRenderer(15);\nXYPlot xyplot = new XYPlot(dataset, domain, range, r);\n\nJFreeChart chart = new JFreeChart(xyplot);\n\nFont font = new Font(&quot;Dialog&quot;, Font.PLAIN, 20);\nchart.getPlot().setBackgroundPaint(Color.BLACK);\nxyplot.setDomainMinorGridlinesVisible(false);\nxyplot.setDomainGridlinesVisible(false);\nxyplot.setRangeGridlinesVisible(false);\nxyplot.getDomainAxis().setTickLabelFont(font);\nxyplot.getRangeAxis().setTickLabelsVisible(false);\n\n\nNumberAxis yAxis = (NumberAxis) chart.getXYPlot().getRangeAxis();\nyAxis.setAutoRangeIncludesZero(false);\n\nXYSplineRenderer renderer = (XYSplineRenderer) chart.getXYPlot().getRenderer();\nrenderer.setSeriesVisible(0, true);\nrenderer.setAutoPopulateSeriesStroke(false);\nrenderer.setDefaultStroke(new BasicStroke(5.0f));\nrenderer.setSeriesPaint(0, new Color(39, 112, 96, 255));\n\nrenderer.setDefaultItemLabelGenerator(new StandardXYItemLabelGenerator());\nrenderer.setDefaultItemLabelPaint(Color.WHITE);\n\n\nrenderer.setDefaultItemLabelFont(font);\n\nrenderer.setSeriesItemLabelsVisible(0, true);\n\n\nChartUtils.saveChartAsPNG(new File(&quot;soft3d2.png&quot;), chart, 1024, 768);\n\n</code></pre>\n<p>Although the background color is set to black, the result is striped black and grey:</p>\n<p><a href=\"https://i.stack.imgur.com/SoneP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SoneP.png\" alt=\"striped background\" /></a></p>\n<p>any idea how to set it to black only?</p>\n"},{"tags":["java","android","onesignal"],"answers":[{"tags":[],"owner":{"account_id":1665482,"reputation":1194,"user_id":1532975,"display_name":"dt dino"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1609173859,"creation_date":1609173859,"answer_id":65480983,"question_id":65479223,"body_markdown":"You have to install this:\r\n\r\n\r\n\r\nhttps://documentation.onesignal.com/docs/android-sdk-setup\r\n\r\n\r\nand then the code is something like: \r\n\r\n    OSDeviceState deviceState = OneSignal.getDeviceState();\r\n    String userId = deviceState != null ? deviceState.getUserId() : null;\r\n\r\n","title":"Android/Java: How to get the userId in the new OneSignal 4.0.0? (idsAvailable is deprecated and getPermissionSubscriptionState doesn&#39;t work)","body":"<p>You have to install this:</p>\n<p><a href=\"https://documentation.onesignal.com/docs/android-sdk-setup\" rel=\"nofollow noreferrer\">https://documentation.onesignal.com/docs/android-sdk-setup</a></p>\n<p>and then the code is something like:</p>\n<pre><code>OSDeviceState deviceState = OneSignal.getDeviceState();\nString userId = deviceState != null ? deviceState.getUserId() : null;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9631872,"reputation":5616,"user_id":7149454,"display_name":"Nick Kovalsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661083835,"creation_date":1661083835,"answer_id":73434276,"question_id":65479223,"body_markdown":"    OneSignal.Default.PushSubscriptionStateChanged += PushSubscriptionStateChanged;\r\n    \r\n            private void PushSubscriptionStateChanged(PushSubscriptionState current, PushSubscriptionState previous)\r\n            {\r\n                if (current.isSubscribed)\r\n                {\r\n                     // consume current.userId + current.pushToken\r\n                }\r\n            }","title":"Android/Java: How to get the userId in the new OneSignal 4.0.0? (idsAvailable is deprecated and getPermissionSubscriptionState doesn&#39;t work)","body":"<pre><code>OneSignal.Default.PushSubscriptionStateChanged += PushSubscriptionStateChanged;\n\n        private void PushSubscriptionStateChanged(PushSubscriptionState current, PushSubscriptionState previous)\n        {\n            if (current.isSubscribed)\n            {\n                 // consume current.userId + current.pushToken\n            }\n        }\n</code></pre>\n"}],"owner":{"account_id":4393982,"reputation":2533,"user_id":3581620,"accept_rate":81,"display_name":"ΩlostA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1613,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":65480983,"answer_count":2,"score":1,"last_activity_date":1661083835,"creation_date":1609165960,"question_id":65479223,"body_markdown":"I upgraded onesignal by adding `implementation &#39;com.onesignal:OneSignal:4.0.0&#39;` and now some piece of code doesn&#39;t work.\r\n\r\nOld code deprecated that doesn&#39;t work anymore:\r\n\r\n            OneSignal.idsAvailable(new OneSignal.IdsAvailableHandler() {\r\n                @Override\r\n                public void idsAvailable(String userId, String registrationId) {\r\n\r\n\r\n                }\r\n            });\r\n\r\nNew code that doesn&#39;t work: \r\n\r\n            String userId = OneSignal .getPermissionSubscriptionState().getSubscriptionStatus().getUserId();\r\n\r\nAny ideas? ","title":"Android/Java: How to get the userId in the new OneSignal 4.0.0? (idsAvailable is deprecated and getPermissionSubscriptionState doesn&#39;t work)","body":"<p>I upgraded onesignal by adding <code>implementation 'com.onesignal:OneSignal:4.0.0'</code> and now some piece of code doesn't work.</p>\n<p>Old code deprecated that doesn't work anymore:</p>\n<pre><code>        OneSignal.idsAvailable(new OneSignal.IdsAvailableHandler() {\n            @Override\n            public void idsAvailable(String userId, String registrationId) {\n\n\n            }\n        });\n</code></pre>\n<p>New code that doesn't work:</p>\n<pre><code>        String userId = OneSignal .getPermissionSubscriptionState().getSubscriptionStatus().getUserId();\n</code></pre>\n<p>Any ideas?</p>\n"},{"tags":["java","spring","spring-boot","buildpack","paketo"],"answers":[{"tags":[],"owner":{"account_id":6402290,"reputation":12668,"user_id":4964553,"display_name":"jonashackt"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1628530727,"creation_date":1607498430,"answer_id":65212256,"question_id":65212231,"body_markdown":"[According to the docs](https://paketo.io/docs/buildpacks/configuration/#dependency-mappings):\r\n\r\n&gt; Paketo Buildpacks may download dependencies from the internet. For\r\n&gt; example, the Java Buildpack will download the BellSoft Liberica JRE\r\n&gt; from the Liberica github releases by default. If a dependency URI is inaccessible from the build environment, a binding can be used to map a new URI to a given dependency.  \r\n\r\nConfiguring bindings using the spring-boot-maven-plugin (or the Gradle plugin) requires Spring Boot 2.5+. If you are on an older version, you need to upgrade or switch over to [pack CLI](https://buildpacks.io/docs/tools/pack/).\r\n\r\n=== **Use pack CLI with bindings to configure a different JDK download uri** ===\r\n\r\n[The pack docs](https://paketo.io/docs/buildpacks/configuration/#what-is-a-binding) tell us about the general layout of a binding directory (`/platform/bindings` is later created inside the pack build container):\r\n\r\n    /chooseYourBindingsName\r\n    ├── key-name-of-our-buildpacks-binding-configuration\r\n    └── type-name-of-our-buildpacks-binding-configuration\r\n\r\n**1. Create bindings directory**\r\n\r\nSo let&#39;s try to create a fully running example! In order to hand over the binding configuration to `pack` CLI we need to **create a directory first**:\r\n\r\n    mkdir bellsoft-jdk-config &amp;&amp; cd bellsoft-jdk-config\r\n\r\n**2. Create file type, containing the binding key**\r\n\r\nNow we need to create a file called `type` inside this directory containing the binding key for [the bellsoft-liberica binding type `dependency-mapping`](https://github.com/paketo-buildpacks/bellsoft-liberica#type-dependency-mapping):\r\n\r\n    echo &quot;dependency-mapping&quot; &gt;&gt; type\r\n\r\nA new file `type` should be present in the directory containing the string `dependency-mapping`.\r\n\r\n**3. Choose JDK version from buildpack.toml**\r\n\r\nAs we want to change the bellsoft-liberica&#39;s download uri of the JDK, **we need to decide which JDK version we exaclty want to use.** The bellsoft-liberica buildpack&#39;s [buildpack.toml](https://github.com/paketo-buildpacks/bellsoft-liberica/blob/main/buildpack.toml) gives an overview on which JRE/JDK versions are available inside the buildpack. For this example here I used the latest JDK version `11` which is configured inside the `buildpack.toml` like this:\r\n\r\n    ...\r\n\r\n    [[metadata.dependencies]]\r\n    id      = &quot;jdk&quot;\r\n    name    = &quot;BellSoft Liberica JDK&quot;\r\n    version = &quot;11.0.9&quot;\r\n    uri     = &quot;https://github.com/bell-sw/Liberica/releases/download/11.0.9.1+1/bellsoft-jdk11.0.9.1+1-linux-amd64.tar.gz&quot;\r\n    sha256  = &quot;786c48fa6429d6a3f0afb189a65f0a43772e42afbab836852b9a1fdfdb8fc502&quot;\r\n    stacks  = [ &quot;io.buildpacks.stacks.bionic&quot;, &quot;org.cloudfoundry.stacks.cflinuxfs3&quot; ]\r\n    ...\r\n\r\n**4. Download JDK**\r\n\r\nHaving decided on the version, **we need to download the JDK from the location provided inside the `uri` field to a location we have access to later inside our build environment** (since we don&#39;t have access to github.com). Let&#39;s assume, we have the JDK downloaded and available at `http://your-accessible-uri-to/bellsoft-jdk11.0.9.1+1-linux-amd64.tar.gz`.\r\n\r\n**5. Create file named as the sha256, containing the JDK uri**\r\n\r\nNow we should create another **file named exactly according to the `sha256` digest value** of the `[[metadata.dependencies]]` section of the JDK version we chose inside the [buildpack.toml](https://github.com/paketo-buildpacks/bellsoft-liberica/blob/main/buildpack.toml). This file must contain the uri of our downloaded JDK:\r\n\r\n    echo &quot;http://your-accessible-uri-to/bellsoft-jdk11.0.9.1+1-linux-amd64.tar.gz&quot; &gt;&gt; 786c48fa6429d6a3f0afb189a65f0a43772e42afbab836852b9a1fdfdb8fc502\r\n\r\nIn the end our directory `bellsoft-jdk-config` should comply to [the pack CLI bindings directory docs](https://paketo.io/docs/buildpacks/configuration/#what-is-a-binding) and looks somehow like this:\r\n\r\n    /bellsoft-jdk-config\r\n    ├── 786c48fa6429d6a3f0afb189a65f0a43772e42afbab836852b9a1fdfdb8fc502\r\n    └── type\r\n\r\n**6. Execute pack CLI with --volume for binding &amp; BP_JVM_VERSION**\r\n\r\nFinally we can issue our `pack` CLI command. Ensure that [pack CLI is installed on your system](https://buildpacks.io/docs/tools/pack/). Be also sure to also provide the exact JDK version number using the `--env BP_JVM_VERSION=exactJDKversionNumberHere` [environment variable configuration](https://paketo.io/docs/buildpacks/configuration/#build-time-environment-variables), which matches your downloaded JDK version and the section in the [buildpack.toml](https://github.com/paketo-buildpacks/bellsoft-liberica/blob/main/buildpack.toml):\r\n\r\n    pack build your-application-name-here \\\r\n    \t--path . \\\r\n    \t--volume $(pwd)/bellsoft-jdk-config:/platform/bindings/bellsoft-jdk-config \\\r\n    \t--env BP_JVM_VERSION=11.0.9 \\\r\n    \t--builder paketobuildpacks/builder:base\r\n\r\nNow the bellsoft-liberica buildpack will download the JDK tar.gz from `http://your-accessible-uri-to/bellsoft-jdk11.0.9.1+1-linux-amd64.tar.gz`:\r\n\r\n    ...\r\n    Paketo BellSoft Liberica Buildpack 5.2.1\r\n      https://github.com/paketo-buildpacks/bellsoft-liberica\r\n      Build Configuration:\r\n        $BP_JVM_VERSION              11.0.9          the Java version\r\n      Launch Configuration:\r\n        $BPL_JVM_HEAD_ROOM           0               the headroom in memory calculation\r\n        $BPL_JVM_LOADED_CLASS_COUNT  35% of classes  the number of loaded classes in memory calculation\r\n        $BPL_JVM_THREAD_COUNT        250             the number of threads in memory calculation\r\n        $JAVA_TOOL_OPTIONS                           the JVM launch flags\r\n      BellSoft Liberica JDK 11.0.9: Contributing to layer\r\n        Downloading from http://your-accessible-uri-to/bellsoft-jdk11.0.9.1+1-linux-amd64.tar.gz \r\n    ...","title":"Cloud Native Buildpacks/Paketo with Java/Spring Boot: How to configure different JDK download uri (e.g. no access to github.com)","body":"<p><a href=\"https://paketo.io/docs/buildpacks/configuration/#dependency-mappings\" rel=\"noreferrer\">According to the docs</a>:</p>\n<blockquote>\n<p>Paketo Buildpacks may download dependencies from the internet. For\nexample, the Java Buildpack will download the BellSoft Liberica JRE\nfrom the Liberica github releases by default. If a dependency URI is inaccessible from the build environment, a binding can be used to map a new URI to a given dependency.</p>\n</blockquote>\n<p>Configuring bindings using the spring-boot-maven-plugin (or the Gradle plugin) requires Spring Boot 2.5+. If you are on an older version, you need to upgrade or switch over to <a href=\"https://buildpacks.io/docs/tools/pack/\" rel=\"noreferrer\">pack CLI</a>.</p>\n<p>=== <strong>Use pack CLI with bindings to configure a different JDK download uri</strong> ===</p>\n<p><a href=\"https://paketo.io/docs/buildpacks/configuration/#what-is-a-binding\" rel=\"noreferrer\">The pack docs</a> tell us about the general layout of a binding directory (<code>/platform/bindings</code> is later created inside the pack build container):</p>\n<pre><code>/chooseYourBindingsName\n├── key-name-of-our-buildpacks-binding-configuration\n└── type-name-of-our-buildpacks-binding-configuration\n</code></pre>\n<p><strong>1. Create bindings directory</strong></p>\n<p>So let's try to create a fully running example! In order to hand over the binding configuration to <code>pack</code> CLI we need to <strong>create a directory first</strong>:</p>\n<pre><code>mkdir bellsoft-jdk-config &amp;&amp; cd bellsoft-jdk-config\n</code></pre>\n<p><strong>2. Create file type, containing the binding key</strong></p>\n<p>Now we need to create a file called <code>type</code> inside this directory containing the binding key for <a href=\"https://github.com/paketo-buildpacks/bellsoft-liberica#type-dependency-mapping\" rel=\"noreferrer\">the bellsoft-liberica binding type <code>dependency-mapping</code></a>:</p>\n<pre><code>echo &quot;dependency-mapping&quot; &gt;&gt; type\n</code></pre>\n<p>A new file <code>type</code> should be present in the directory containing the string <code>dependency-mapping</code>.</p>\n<p><strong>3. Choose JDK version from buildpack.toml</strong></p>\n<p>As we want to change the bellsoft-liberica's download uri of the JDK, <strong>we need to decide which JDK version we exaclty want to use.</strong> The bellsoft-liberica buildpack's <a href=\"https://github.com/paketo-buildpacks/bellsoft-liberica/blob/main/buildpack.toml\" rel=\"noreferrer\">buildpack.toml</a> gives an overview on which JRE/JDK versions are available inside the buildpack. For this example here I used the latest JDK version <code>11</code> which is configured inside the <code>buildpack.toml</code> like this:</p>\n<pre><code>...\n\n[[metadata.dependencies]]\nid      = &quot;jdk&quot;\nname    = &quot;BellSoft Liberica JDK&quot;\nversion = &quot;11.0.9&quot;\nuri     = &quot;https://github.com/bell-sw/Liberica/releases/download/11.0.9.1+1/bellsoft-jdk11.0.9.1+1-linux-amd64.tar.gz&quot;\nsha256  = &quot;786c48fa6429d6a3f0afb189a65f0a43772e42afbab836852b9a1fdfdb8fc502&quot;\nstacks  = [ &quot;io.buildpacks.stacks.bionic&quot;, &quot;org.cloudfoundry.stacks.cflinuxfs3&quot; ]\n...\n</code></pre>\n<p><strong>4. Download JDK</strong></p>\n<p>Having decided on the version, <strong>we need to download the JDK from the location provided inside the <code>uri</code> field to a location we have access to later inside our build environment</strong> (since we don't have access to github.com). Let's assume, we have the JDK downloaded and available at <code>http://your-accessible-uri-to/bellsoft-jdk11.0.9.1+1-linux-amd64.tar.gz</code>.</p>\n<p><strong>5. Create file named as the sha256, containing the JDK uri</strong></p>\n<p>Now we should create another <strong>file named exactly according to the <code>sha256</code> digest value</strong> of the <code>[[metadata.dependencies]]</code> section of the JDK version we chose inside the <a href=\"https://github.com/paketo-buildpacks/bellsoft-liberica/blob/main/buildpack.toml\" rel=\"noreferrer\">buildpack.toml</a>. This file must contain the uri of our downloaded JDK:</p>\n<pre><code>echo &quot;http://your-accessible-uri-to/bellsoft-jdk11.0.9.1+1-linux-amd64.tar.gz&quot; &gt;&gt; 786c48fa6429d6a3f0afb189a65f0a43772e42afbab836852b9a1fdfdb8fc502\n</code></pre>\n<p>In the end our directory <code>bellsoft-jdk-config</code> should comply to <a href=\"https://paketo.io/docs/buildpacks/configuration/#what-is-a-binding\" rel=\"noreferrer\">the pack CLI bindings directory docs</a> and looks somehow like this:</p>\n<pre><code>/bellsoft-jdk-config\n├── 786c48fa6429d6a3f0afb189a65f0a43772e42afbab836852b9a1fdfdb8fc502\n└── type\n</code></pre>\n<p><strong>6. Execute pack CLI with --volume for binding &amp; BP_JVM_VERSION</strong></p>\n<p>Finally we can issue our <code>pack</code> CLI command. Ensure that <a href=\"https://buildpacks.io/docs/tools/pack/\" rel=\"noreferrer\">pack CLI is installed on your system</a>. Be also sure to also provide the exact JDK version number using the <code>--env BP_JVM_VERSION=exactJDKversionNumberHere</code> <a href=\"https://paketo.io/docs/buildpacks/configuration/#build-time-environment-variables\" rel=\"noreferrer\">environment variable configuration</a>, which matches your downloaded JDK version and the section in the <a href=\"https://github.com/paketo-buildpacks/bellsoft-liberica/blob/main/buildpack.toml\" rel=\"noreferrer\">buildpack.toml</a>:</p>\n<pre><code>pack build your-application-name-here \\\n    --path . \\\n    --volume $(pwd)/bellsoft-jdk-config:/platform/bindings/bellsoft-jdk-config \\\n    --env BP_JVM_VERSION=11.0.9 \\\n    --builder paketobuildpacks/builder:base\n</code></pre>\n<p>Now the bellsoft-liberica buildpack will download the JDK tar.gz from <code>http://your-accessible-uri-to/bellsoft-jdk11.0.9.1+1-linux-amd64.tar.gz</code>:</p>\n<pre><code>...\nPaketo BellSoft Liberica Buildpack 5.2.1\n  https://github.com/paketo-buildpacks/bellsoft-liberica\n  Build Configuration:\n    $BP_JVM_VERSION              11.0.9          the Java version\n  Launch Configuration:\n    $BPL_JVM_HEAD_ROOM           0               the headroom in memory calculation\n    $BPL_JVM_LOADED_CLASS_COUNT  35% of classes  the number of loaded classes in memory calculation\n    $BPL_JVM_THREAD_COUNT        250             the number of threads in memory calculation\n    $JAVA_TOOL_OPTIONS                           the JVM launch flags\n  BellSoft Liberica JDK 11.0.9: Contributing to layer\n    Downloading from http://your-accessible-uri-to/bellsoft-jdk11.0.9.1+1-linux-amd64.tar.gz \n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9006206,"reputation":43,"user_id":6712820,"display_name":"Sebastian K."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643448082,"creation_date":1608224870,"answer_id":65345234,"question_id":65212231,"body_markdown":"I create bindings:\r\n \r\n```\r\n/bindings/bellsoft-jdk-config\r\n├── 786c48fa6429d6a3f0afb189a65f0a43772e42afbab836852b9a1fdfdb8fc502\r\n├── a3092627b082cb3cdbbe4b255d35687126aa604e6b613dcda33be9f7e1277162\r\n├── be27df8838a6d069a2212de5f46da4e39f33f087f2e77c8a725d0f7ec8b5273e\r\n├── d9ff2d84528a2154ff669b85e6dbdee7f244194dcc64e0a8a1bedc470b3bcf56\r\n└── type\r\n```\r\n \r\nThen created a Dockerfile that copies these bindings and builds a new platform based on the previous one:\r\n \r\n```Dockerfile\r\nFROM paketobuildpacks/builder:0.0.464-base-platform-api-0.3\r\n \r\nCOPY bindings /platform/bindings\r\n \r\nCMD [&quot;/bin/bash&quot;]\r\n```\r\n\r\n``` \r\ndocker build -t your-repo-url/java-builder-test:1 .\r\ndocker push your-repo-url/java-builder-test:1\r\n```\r\n\r\nthen I configured the spring plugin to use this platform:\r\n \r\n```\r\n&lt;configuration&gt;\r\n    &lt;imageBuilder&gt;your-repo-url/java-builder-test:1&lt;/imageBuilder&gt;\r\n    &lt;layers&gt;\r\n        &lt;enabled&gt;true&lt;/enabled&gt;\r\n    &lt;/layers&gt;\r\n    &lt;image&gt;\r\n        &lt;name&gt;your-repo-url/${project.artifactId}:${project.version}&lt;/name&gt;\r\n    &lt;/image&gt;\r\n&lt;/configuration&gt;\r\n```\r\n \r\nThis workaround worked, but you have to use correct directory permission.","title":"Cloud Native Buildpacks/Paketo with Java/Spring Boot: How to configure different JDK download uri (e.g. no access to github.com)","body":"<p>I create bindings:</p>\n<pre><code>/bindings/bellsoft-jdk-config\n├── 786c48fa6429d6a3f0afb189a65f0a43772e42afbab836852b9a1fdfdb8fc502\n├── a3092627b082cb3cdbbe4b255d35687126aa604e6b613dcda33be9f7e1277162\n├── be27df8838a6d069a2212de5f46da4e39f33f087f2e77c8a725d0f7ec8b5273e\n├── d9ff2d84528a2154ff669b85e6dbdee7f244194dcc64e0a8a1bedc470b3bcf56\n└── type\n</code></pre>\n<p>Then created a Dockerfile that copies these bindings and builds a new platform based on the previous one:</p>\n<pre><code>FROM paketobuildpacks/builder:0.0.464-base-platform-api-0.3\n \nCOPY bindings /platform/bindings\n \nCMD [&quot;/bin/bash&quot;]\n</code></pre>\n<pre><code>docker build -t your-repo-url/java-builder-test:1 .\ndocker push your-repo-url/java-builder-test:1\n</code></pre>\n<p>then I configured the spring plugin to use this platform:</p>\n<pre><code>&lt;configuration&gt;\n    &lt;imageBuilder&gt;your-repo-url/java-builder-test:1&lt;/imageBuilder&gt;\n    &lt;layers&gt;\n        &lt;enabled&gt;true&lt;/enabled&gt;\n    &lt;/layers&gt;\n    &lt;image&gt;\n        &lt;name&gt;your-repo-url/${project.artifactId}:${project.version}&lt;/name&gt;\n    &lt;/image&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>This workaround worked, but you have to use correct directory permission.</p>\n"},{"tags":[],"owner":{"account_id":16606113,"reputation":609,"user_id":12000556,"display_name":"Govind Kumar Thakur"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1643448151,"creation_date":1636518849,"answer_id":69908034,"question_id":65212231,"body_markdown":"I changed my Java version in pom.xml to 17:\r\n\r\n    &lt;properties&gt;\r\n    \t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;spring-cloud.version&gt;2020.0.2&lt;/spring-cloud.version&gt;\r\n    &lt;/properties&gt;","title":"Cloud Native Buildpacks/Paketo with Java/Spring Boot: How to configure different JDK download uri (e.g. no access to github.com)","body":"<p>I changed my Java version in pom.xml to 17:</p>\n<pre><code>&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;spring-cloud.version&gt;2020.0.2&lt;/spring-cloud.version&gt;\n&lt;/properties&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24151613,"reputation":1,"user_id":18116372,"display_name":"Aparna Bhumkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643953341,"creation_date":1643953341,"answer_id":70981921,"question_id":65212231,"body_markdown":"I changed the java version in pom.xml file to 17 and it worked!","title":"Cloud Native Buildpacks/Paketo with Java/Spring Boot: How to configure different JDK download uri (e.g. no access to github.com)","body":"<p>I changed the java version in pom.xml file to 17 and it worked!</p>\n"},{"tags":[],"owner":{"account_id":24312643,"reputation":1,"user_id":18254393,"display_name":"Anil Pal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645293028,"creation_date":1645293028,"answer_id":71187612,"question_id":65212231,"body_markdown":"Change the Java version in pom.xml and it will work. i have changed it to java 17. and it worked for me.","title":"Cloud Native Buildpacks/Paketo with Java/Spring Boot: How to configure different JDK download uri (e.g. no access to github.com)","body":"<p>Change the Java version in pom.xml and it will work. i have changed it to java 17. and it worked for me.</p>\n"}],"owner":{"account_id":6402290,"reputation":12668,"user_id":4964553,"display_name":"jonashackt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7422,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":65212256,"answer_count":5,"score":5,"last_activity_date":1661083018,"creation_date":1607498334,"question_id":65212231,"body_markdown":"Having a Spring Boot app I tried to build it using the `spring-boot-maven-plugin` goal `mvn spring-boot:build-image`. But the build fails downloading the `bellsoft-jre11.0.9.1+1-linux-amd64.tar.gz` from `github.com`, since I don&#39;t have access to it from my build pipeline:\r\n\r\n    ...\r\n    Paketo BellSoft Liberica Buildpack 5.2.1\r\n      https://github.com/paketo-buildpacks/bellsoft-liberica\r\n      Build Configuration:\r\n        $BP_JVM_VERSION              11.0.9          the Java version\r\n      Launch Configuration:\r\n        $BPL_JVM_HEAD_ROOM           0               the headroom in memory calculation\r\n        $BPL_JVM_LOADED_CLASS_COUNT  35% of classes  the number of loaded classes in memory calculation\r\n        $BPL_JVM_THREAD_COUNT        250             the number of threads in memory calculation\r\n        $JAVA_TOOL_OPTIONS                           the JVM launch flags\r\n      BellSoft Liberica JDK 11.0.9: Contributing to layer\r\n        Downloading from https://github.com/bell-sw/Liberica/releases/download/11.0.9.1+1/bellsoft-jdk11.0.9.1+1-linux-amd64.tar.gz\r\n    unable to invoke layer creator\r\n    unable to get dependency jdk\r\n    unable to download https://github.com/bell-sw/Liberica/releases/download/11.0.9.1+1/bellsoft-jdk11.0.9.1+1-linux-amd64.tar.gz\r\n    unable to request https://github.com/bell-sw/Liberica/releases/download/11.0.9.1+1/bellsoft-jdk11.0.9.1+1-linux-amd64.tar.gz\r\n    ERROR: failed to build: exit status 1\r\n\r\nIs there a way I can download the `bellsoft-jdk11.0.9.1+1-linux-amd64.tar.gz` to a location accessible to my build pipeline and configure the bellsoft-liberica buildpack to use this instead?","title":"Cloud Native Buildpacks/Paketo with Java/Spring Boot: How to configure different JDK download uri (e.g. no access to github.com)","body":"<p>Having a Spring Boot app I tried to build it using the <code>spring-boot-maven-plugin</code> goal <code>mvn spring-boot:build-image</code>. But the build fails downloading the <code>bellsoft-jre11.0.9.1+1-linux-amd64.tar.gz</code> from <code>github.com</code>, since I don't have access to it from my build pipeline:</p>\n<pre><code>...\nPaketo BellSoft Liberica Buildpack 5.2.1\n  https://github.com/paketo-buildpacks/bellsoft-liberica\n  Build Configuration:\n    $BP_JVM_VERSION              11.0.9          the Java version\n  Launch Configuration:\n    $BPL_JVM_HEAD_ROOM           0               the headroom in memory calculation\n    $BPL_JVM_LOADED_CLASS_COUNT  35% of classes  the number of loaded classes in memory calculation\n    $BPL_JVM_THREAD_COUNT        250             the number of threads in memory calculation\n    $JAVA_TOOL_OPTIONS                           the JVM launch flags\n  BellSoft Liberica JDK 11.0.9: Contributing to layer\n    Downloading from https://github.com/bell-sw/Liberica/releases/download/11.0.9.1+1/bellsoft-jdk11.0.9.1+1-linux-amd64.tar.gz\nunable to invoke layer creator\nunable to get dependency jdk\nunable to download https://github.com/bell-sw/Liberica/releases/download/11.0.9.1+1/bellsoft-jdk11.0.9.1+1-linux-amd64.tar.gz\nunable to request https://github.com/bell-sw/Liberica/releases/download/11.0.9.1+1/bellsoft-jdk11.0.9.1+1-linux-amd64.tar.gz\nERROR: failed to build: exit status 1\n</code></pre>\n<p>Is there a way I can download the <code>bellsoft-jdk11.0.9.1+1-linux-amd64.tar.gz</code> to a location accessible to my build pipeline and configure the bellsoft-liberica buildpack to use this instead?</p>\n"},{"tags":["java","android","xml"],"answers":[{"tags":[],"owner":{"account_id":2358246,"reputation":8471,"user_id":2065587,"display_name":"mmBs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661082843,"creation_date":1661082843,"answer_id":73434164,"question_id":73434080,"body_markdown":"Here you have an answer: https://stackoverflow.com/a/45953855/2065587\r\n\r\nAlso, to create a shape you can follow this thread: https://stackoverflow.com/questions/30831242/simplest-way-to-create-a-shape-in-android-studio\r\n\r\nThen, you can use your shape as a background in your `RecyclerView` item.","title":"How to Create Shapes with code in Android","body":"<p>Here you have an answer: <a href=\"https://stackoverflow.com/a/45953855/2065587\">https://stackoverflow.com/a/45953855/2065587</a></p>\n<p>Also, to create a shape you can follow this thread: <a href=\"https://stackoverflow.com/questions/30831242/simplest-way-to-create-a-shape-in-android-studio\">Simplest way to create a Shape in Android Studio</a></p>\n<p>Then, you can use your shape as a background in your <code>RecyclerView</code> item.</p>\n"}],"owner":{"account_id":20941623,"reputation":31,"user_id":15385543,"display_name":"Jonathan Schuder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73434164,"answer_count":1,"score":0,"last_activity_date":1661082843,"creation_date":1661082094,"question_id":73434080,"body_markdown":"I have an Array List and for every Item, in the Array, I want to create a shape with a Title which should be the String in the Array. \r\nThe Blocks should be scroled through horizontally.\r\n\r\n[![example][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IFJcYm.png\r\n\r\n\r\nI dont know how to add shapes with code, do I have to create a drawable and how do I make it scrollable?","title":"How to Create Shapes with code in Android","body":"<p>I have an Array List and for every Item, in the Array, I want to create a shape with a Title which should be the String in the Array.\nThe Blocks should be scroled through horizontally.</p>\n<p><a href=\"https://i.stack.imgur.com/IFJcYm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IFJcYm.png\" alt=\"example\" /></a></p>\n<p>I dont know how to add shapes with code, do I have to create a drawable and how do I make it scrollable?</p>\n"},{"tags":["java","intellij-idea","annotations","structural-search"],"answers":[{"tags":[],"owner":{"account_id":3169,"reputation":24379,"user_id":4510,"display_name":"Bas Leijdekkers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661082331,"creation_date":1661082331,"answer_id":73434112,"question_id":73431140,"body_markdown":"Something like the following Structural Search &amp; Replace should work.\r\n\r\n#### Search template:\r\n\r\n```\r\n@Test($groups$ = $v$)\r\n```\r\n\r\nModifiers:  \r\n`$group$` - text=`groups`, count=`[0,0]`\r\n\r\n\r\n#### Replace template:\r\n```\r\n@Test(timeOut=100L)\r\n```\r\n\r\nOr copy the following complete template and `Import Template from Clipboard`:\r\n```\r\n&lt;replaceConfiguration name=&quot;Add time-out to @Test&quot; text=&quot;@Test($groups$ = $v$)&quot; recursive=&quot;false&quot; type=&quot;JAVA&quot; pattern_context=&quot;default&quot; reformatAccordingToStyle=&quot;true&quot; shortenFQN=&quot;true&quot; replacement=&quot;@Test(timeOut=100L)&quot; case_sensitive=&quot;true&quot;&gt;\r\n  &lt;constraint name=&quot;__context__&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\r\n  &lt;constraint name=&quot;groups&quot; regexp=&quot;groups&quot; minCount=&quot;0&quot; maxCount=&quot;0&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\r\n  &lt;constraint name=&quot;v&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\r\n&lt;/replaceConfiguration&gt;\r\n````","title":"how to find and replace annotations based on parameters?","body":"<p>Something like the following Structural Search &amp; Replace should work.</p>\n<h4>Search template:</h4>\n<pre><code>@Test($groups$ = $v$)\n</code></pre>\n<p>Modifiers:<br />\n<code>$group$</code> - text=<code>groups</code>, count=<code>[0,0]</code></p>\n<h4>Replace template:</h4>\n<pre><code>@Test(timeOut=100L)\n</code></pre>\n<p>Or copy the following complete template and <code>Import Template from Clipboard</code>:</p>\n<pre><code>&lt;replaceConfiguration name=&quot;Add time-out to @Test&quot; text=&quot;@Test($groups$ = $v$)&quot; recursive=&quot;false&quot; type=&quot;JAVA&quot; pattern_context=&quot;default&quot; reformatAccordingToStyle=&quot;true&quot; shortenFQN=&quot;true&quot; replacement=&quot;@Test(timeOut=100L)&quot; case_sensitive=&quot;true&quot;&gt;\n  &lt;constraint name=&quot;__context__&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\n  &lt;constraint name=&quot;groups&quot; regexp=&quot;groups&quot; minCount=&quot;0&quot; maxCount=&quot;0&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\n  &lt;constraint name=&quot;v&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\n&lt;/replaceConfiguration&gt;\n</code></pre>\n"}],"owner":{"account_id":23015633,"reputation":187,"user_id":17186230,"display_name":"gabriel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661082331,"creation_date":1661046216,"question_id":73431140,"body_markdown":"I have a big java project using TestNG Test annotation.\r\n\r\nI want to add parameter `timeOut=100L` to all tests, that are not part of a group (defined via Test Annotation parameters). We use groups for functional/integration/etc. I want to impact only unit tests, which lack any group.\r\n\r\nMy unit tests (which are the ones I want to match) have `@Test` annotation by itself, or other parameters. e.g.\r\n```\r\n@Test\r\npublic void aSimpleTest() \r\n{\r\n...\r\n\r\n@Test(expectedExceptions = SomeException.class,\r\n        expectedExceptionsMessageRegExp = &quot;my error message&quot;,\r\n        description = &quot;Test will fail validation on X&quot;)\r\npublic void aSimpleTestWithAnotatedParameters() {\r\n...\r\n\r\n@Test(dataProvider = &quot;testDataProvider&quot;)\r\npublic void aSimpleTestWithAnotatedParameters(Int InputVal) {\r\n...\r\n```\r\n\r\nMy first attempt was using IntelliJ Structural Find and Replace:\r\n\r\nSearch Template:\r\n```\r\n@$Annotation$($param1$ = $value1$,/*...*/ $paramN$ = $valueN$)\r\n```\r\nwith Modifiers for both param1 and paramN: `Text=!groups`\r\n\r\nreplace with:\r\n```\r\n@$Annotation$(timeOut = 100L, $param1$ = $value1$,/*...*/ $paramN$ = $valueN$)\r\n```\r\n\r\nWhich almost works!\r\n\r\nThe problem I can&#39;t solve is that it also matches things like:\r\n```\r\n@Test(description = &quot;should not match this test, but it does&quot;, groups = &quot;SlowIntegrationTest&quot;)\r\n```\r\n\r\nThat is, Annotations with parameters other than group. The ones that have *only* group are not matched.\r\n\r\n\r\n","title":"how to find and replace annotations based on parameters?","body":"<p>I have a big java project using TestNG Test annotation.</p>\n<p>I want to add parameter <code>timeOut=100L</code> to all tests, that are not part of a group (defined via Test Annotation parameters). We use groups for functional/integration/etc. I want to impact only unit tests, which lack any group.</p>\n<p>My unit tests (which are the ones I want to match) have <code>@Test</code> annotation by itself, or other parameters. e.g.</p>\n<pre><code>@Test\npublic void aSimpleTest() \n{\n...\n\n@Test(expectedExceptions = SomeException.class,\n        expectedExceptionsMessageRegExp = &quot;my error message&quot;,\n        description = &quot;Test will fail validation on X&quot;)\npublic void aSimpleTestWithAnotatedParameters() {\n...\n\n@Test(dataProvider = &quot;testDataProvider&quot;)\npublic void aSimpleTestWithAnotatedParameters(Int InputVal) {\n...\n</code></pre>\n<p>My first attempt was using IntelliJ Structural Find and Replace:</p>\n<p>Search Template:</p>\n<pre><code>@$Annotation$($param1$ = $value1$,/*...*/ $paramN$ = $valueN$)\n</code></pre>\n<p>with Modifiers for both param1 and paramN: <code>Text=!groups</code></p>\n<p>replace with:</p>\n<pre><code>@$Annotation$(timeOut = 100L, $param1$ = $value1$,/*...*/ $paramN$ = $valueN$)\n</code></pre>\n<p>Which almost works!</p>\n<p>The problem I can't solve is that it also matches things like:</p>\n<pre><code>@Test(description = &quot;should not match this test, but it does&quot;, groups = &quot;SlowIntegrationTest&quot;)\n</code></pre>\n<p>That is, Annotations with parameters other than group. The ones that have <em>only</em> group are not matched.</p>\n"},{"tags":["java","spring","spring-boot","jpa"],"answers":[{"tags":[],"owner":{"account_id":25539720,"reputation":446,"user_id":19326039,"display_name":"Nikolay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661082321,"creation_date":1660156828,"answer_id":73311209,"question_id":73311136,"body_markdown":"Your question is not bad, you want to make it better, but you are already doing it, like it is supposed to be done.\r\n\r\nHowever, having a lot of fields in a table, could indicate a problem in the DB design, if you are not using Cassandra or something like that.","title":"The best way to update entity in spring boot","body":"<p>Your question is not bad, you want to make it better, but you are already doing it, like it is supposed to be done.</p>\n<p>However, having a lot of fields in a table, could indicate a problem in the DB design, if you are not using Cassandra or something like that.</p>\n"},{"tags":[],"owner":{"account_id":7778530,"reputation":3138,"user_id":9860374,"display_name":"Matheus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1660157213,"creation_date":1660157213,"answer_id":73311277,"question_id":73311136,"body_markdown":"You could use an entity mapper like [MapStruct][1] or [ModelMapper][2]\r\n\r\nA ModelMapper example:\r\n\r\n    ModelMapper mapper = new ModelMapper();\r\n    // this will tell ModelMapper to ignore null fields when mapping the source (newData) to the destination (user)\r\n    mapper.getConfiguration().setSkipNullEnabled(true);\r\n    \r\n    UserEntity user = userRepo.findById(userId).orElseThrow();\r\n    // this will tell ModelMapper to map newData into user\r\n    mapper.map(newData, user);\r\n\r\n\r\n  [1]: https://mapstruct.org/\r\n  [2]: http://modelmapper.org/","title":"The best way to update entity in spring boot","body":"<p>You could use an entity mapper like <a href=\"https://mapstruct.org/\" rel=\"nofollow noreferrer\">MapStruct</a> or <a href=\"http://modelmapper.org/\" rel=\"nofollow noreferrer\">ModelMapper</a></p>\n<p>A ModelMapper example:</p>\n<pre><code>ModelMapper mapper = new ModelMapper();\n// this will tell ModelMapper to ignore null fields when mapping the source (newData) to the destination (user)\nmapper.getConfiguration().setSkipNullEnabled(true);\n\nUserEntity user = userRepo.findById(userId).orElseThrow();\n// this will tell ModelMapper to map newData into user\nmapper.map(newData, user);\n</code></pre>\n"}],"owner":{"account_id":20204611,"reputation":559,"user_id":14819402,"display_name":"Cross"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1634,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":73311277,"answer_count":2,"score":1,"last_activity_date":1661082321,"creation_date":1660156371,"question_id":73311136,"body_markdown":"I&#39;m new to spring boot and trying to make my first api. I&#39;ve made a lot of apis on python using FastAPI framework, but now i decided to study this technology. But here, I met a problem. So I&#39;m using the jpa for database communication and I don&#39;t really understand how to update entity&#39;s fields correctly. \r\n\r\nI&#39;ve read a lot of guidelines, and all of them says that updating an entity carried out like this:\r\n```java\r\n    public void updateUserInDatabase(long userId, UserUpdateModel newData) {\r\n        UserEntity user = userRepo.findById(userId).orElseThrow();\r\n        if(newData.getUsername() != null) {\r\n            user.setUsername(newData.getUsername());\r\n        }\r\n        if(newData.getPassword() != null) {\r\n            user.setPassword(newData.getPassword());\r\n        }\r\n    }\r\n```\r\nBut I think it&#39;s not useful as ```newData``` can have a lot of fields, so for updating an entity I&#39;ll need a lot of conditions. \r\n\r\nSo, yeah, maybe this question is not good, but I really try to understand XD.\r\n","title":"The best way to update entity in spring boot","body":"<p>I'm new to spring boot and trying to make my first api. I've made a lot of apis on python using FastAPI framework, but now i decided to study this technology. But here, I met a problem. So I'm using the jpa for database communication and I don't really understand how to update entity's fields correctly.</p>\n<p>I've read a lot of guidelines, and all of them says that updating an entity carried out like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public void updateUserInDatabase(long userId, UserUpdateModel newData) {\n        UserEntity user = userRepo.findById(userId).orElseThrow();\n        if(newData.getUsername() != null) {\n            user.setUsername(newData.getUsername());\n        }\n        if(newData.getPassword() != null) {\n            user.setPassword(newData.getPassword());\n        }\n    }\n</code></pre>\n<p>But I think it's not useful as <code>newData</code> can have a lot of fields, so for updating an entity I'll need a lot of conditions.</p>\n<p>So, yeah, maybe this question is not good, but I really try to understand XD.</p>\n"},{"tags":["java","thymeleaf"],"comments":[{"owner":{"account_id":4610643,"reputation":1454,"user_id":3738870,"display_name":"user3738870"},"score":0,"creation_date":1660829801,"post_id":73403803,"comment_id":129629542,"body_markdown":"I think you need to add a condition for displaying the `img`. Something like `&lt;img th:if=&quot;${randomSummerCamps.image != null}&quot; alt=&quot;sample&quot; th:src= ...`","body":"I think you need to add a condition for displaying the <code>img</code>. Something like <code>&lt;img th:if=&quot;${randomSummerCamps.image != null}&quot; alt=&quot;sample&quot; th:src= ...</code>"},{"owner":{"account_id":26021002,"reputation":33,"user_id":19728708,"display_name":"Stefan Jankovic"},"score":1,"creation_date":1661081651,"post_id":73403803,"comment_id":129682036,"body_markdown":"That works, thanks! I didnt know I can use `if` inside html like that","body":"That works, thanks! I didnt know I can use <code>if</code> inside html like that"},{"owner":{"account_id":4610643,"reputation":1454,"user_id":3738870,"display_name":"user3738870"},"score":0,"creation_date":1661082128,"post_id":73403803,"comment_id":129682133,"body_markdown":"Nice, I&#39;ve added it as an answer too.","body":"Nice, I&#39;ve added it as an answer too."}],"answers":[{"tags":[],"owner":{"account_id":4610643,"reputation":1454,"user_id":3738870,"display_name":"user3738870"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661082085,"creation_date":1661082085,"answer_id":73434078,"question_id":73403803,"body_markdown":"The code you posted is not simple HTML, it&#39;s written in a template engine called [Thymeleaf][1]. In this engine, it&#39;s possible to add a conditional HTML tag (`&lt;img&gt;`) in the following way:\r\n```thyme\r\n    &lt;img th:if=&quot;${randomSummerCamps.image != null}&quot; alt=&quot;sample&quot; th:src=&quot;*{&#39;data:image/png;base64,&#39;+image}&quot; src=&quot;&quot;/&gt;\r\n```\r\n\r\nNow the `&lt;img&gt;` tag will only be present in the resulting HTML if the source image is not missing (not `null`).\r\n\r\n  [1]: https://www.thymeleaf.org/","title":"Image appear for each document instead for just one","body":"<p>The code you posted is not simple HTML, it's written in a template engine called <a href=\"https://www.thymeleaf.org/\" rel=\"nofollow noreferrer\">Thymeleaf</a>. In this engine, it's possible to add a conditional HTML tag (<code>&lt;img&gt;</code>) in the following way:</p>\n<pre><code>    &lt;img th:if=&quot;${randomSummerCamps.image != null}&quot; alt=&quot;sample&quot; th:src=&quot;*{'data:image/png;base64,'+image}&quot; src=&quot;&quot;/&gt;\n</code></pre>\n<p>Now the <code>&lt;img&gt;</code> tag will only be present in the resulting HTML if the source image is not missing (not <code>null</code>).</p>\n"}],"owner":{"account_id":26021002,"reputation":33,"user_id":19728708,"display_name":"Stefan Jankovic"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73434078,"answer_count":1,"score":1,"last_activity_date":1661082085,"creation_date":1660828760,"question_id":73403803,"body_markdown":"I have two documents in collection:\r\n\r\n`doc1`\r\n\r\n    id: 1\r\n    title: &quot;example&quot;\r\n    image: &quot;binary numbers...&quot;\r\n\r\n`doc2`\r\n\r\n    id: 2\r\n    title: &quot;example2&quot;\r\n\r\nAnd I have this API to return random document from collection:\r\n\r\n    @GetMapping(&quot;/getRandomSummerCamps&quot;)\r\n    public String getRandomSummerCamps(Model model) {\r\n        countSummerCamps.incrementAndGet();\r\n        if (getCountSummerCamps() &lt;= adventureHolidaysService.countAdventureHolidays(&quot;summerCamps&quot;)) {\r\n            AdventureHolidays photo = adventureHolidaysService.getPhoto();\r\n            model.addAttribute(&quot;randomSummerCamps&quot;, adventureHolidaysService.findRandomAdventureHolidays(&quot;summerCamps&quot;));\r\n            System.out.println(&quot;in if&quot;);\r\n            model.addAttribute(&quot;randomImage&quot;, Base64.getEncoder().encodeToString(photo.getImage().getData()));\r\n            return &quot;randomSummerCamps&quot;;\r\n        } else {\r\n            countSummerCamps.set(0);\r\n            return &quot;noMoreDoc&quot;;\r\n        }\r\n    }\r\n\r\nAnd I have this inside HTML \r\n\r\n    &lt;tr th:each=&quot;randomSummerCamps:${randomSummerCamps}&quot;&gt;\r\n    &lt;div class=&quot;title&quot;&gt;\r\n        &lt;h1&gt;We think this trip best suit you.&lt;/h1&gt;\r\n        &lt;h1 th:text=&quot;${randomSummerCamps.title}&quot;&gt;&lt;/h1&gt;\r\n        &lt;h1 th:text=&quot;${randomSummerCamps.state}&quot;&gt;&lt;/h1&gt;\r\n        &lt;div class=&quot;description&quot;&gt;\r\n            &lt;td th:text=&quot;${randomSummerCamps.description}&quot;&gt;&lt;/td&gt;\r\n        &lt;/div&gt;\r\n        &lt;img alt=&quot;sample&quot; th:src=&quot;*{&#39;data:image/png;base64,&#39;+image}&quot; src=&quot;&quot;/&gt;\r\n        &lt;button type=&quot;button&quot; onclick=&quot;document.location.href = &#39;/adventureHolidays/getRandomSummerCamps&#39;&quot;&gt;Randomize\r\n            again!\r\n        &lt;/button&gt;\r\n    &lt;/div&gt;\r\n&lt;/tr&gt;\r\n\r\nWhat is problem, image appear for both documents instead for just one, the first one where image is saved. Other fields as `title` and `state` are fine, I get them well for each document but I get image for both instead for just first document.\r\n\r\n\r\n\r\n\r\n","title":"Image appear for each document instead for just one","body":"<p>I have two documents in collection:</p>\n<p><code>doc1</code></p>\n<pre><code>id: 1\ntitle: &quot;example&quot;\nimage: &quot;binary numbers...&quot;\n</code></pre>\n<p><code>doc2</code></p>\n<pre><code>id: 2\ntitle: &quot;example2&quot;\n</code></pre>\n<p>And I have this API to return random document from collection:</p>\n<pre><code>@GetMapping(&quot;/getRandomSummerCamps&quot;)\npublic String getRandomSummerCamps(Model model) {\n    countSummerCamps.incrementAndGet();\n    if (getCountSummerCamps() &lt;= adventureHolidaysService.countAdventureHolidays(&quot;summerCamps&quot;)) {\n        AdventureHolidays photo = adventureHolidaysService.getPhoto();\n        model.addAttribute(&quot;randomSummerCamps&quot;, adventureHolidaysService.findRandomAdventureHolidays(&quot;summerCamps&quot;));\n        System.out.println(&quot;in if&quot;);\n        model.addAttribute(&quot;randomImage&quot;, Base64.getEncoder().encodeToString(photo.getImage().getData()));\n        return &quot;randomSummerCamps&quot;;\n    } else {\n        countSummerCamps.set(0);\n        return &quot;noMoreDoc&quot;;\n    }\n}\n</code></pre>\n<p>And I have this inside HTML</p>\n<pre><code>&lt;tr th:each=&quot;randomSummerCamps:${randomSummerCamps}&quot;&gt;\n&lt;div class=&quot;title&quot;&gt;\n    &lt;h1&gt;We think this trip best suit you.&lt;/h1&gt;\n    &lt;h1 th:text=&quot;${randomSummerCamps.title}&quot;&gt;&lt;/h1&gt;\n    &lt;h1 th:text=&quot;${randomSummerCamps.state}&quot;&gt;&lt;/h1&gt;\n    &lt;div class=&quot;description&quot;&gt;\n        &lt;td th:text=&quot;${randomSummerCamps.description}&quot;&gt;&lt;/td&gt;\n    &lt;/div&gt;\n    &lt;img alt=&quot;sample&quot; th:src=&quot;*{'data:image/png;base64,'+image}&quot; src=&quot;&quot;/&gt;\n    &lt;button type=&quot;button&quot; onclick=&quot;document.location.href = '/adventureHolidays/getRandomSummerCamps'&quot;&gt;Randomize\n        again!\n    &lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>What is problem, image appear for both documents instead for just one, the first one where image is saved. Other fields as <code>title</code> and <code>state</code> are fine, I get them well for each document but I get image for both instead for just first document.</p>\n"},{"tags":["java","intellij-idea","annotations","structural-search"],"comments":[{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":0,"creation_date":1523445463,"post_id":49773467,"comment_id":86562180,"body_markdown":"Can you somehow use `name= &quot; seq_gen&quot;, $param$ = $value$` with multiple occurrences of the latter?","body":"Can you somehow use <code>name= &quot; seq_gen&quot;, $param$ = $value$</code> with multiple occurrences of the latter?"},{"owner":{"account_id":335756,"reputation":1663,"user_id":663012,"accept_rate":80,"display_name":"Czar"},"score":0,"creation_date":1523445976,"post_id":49773467,"comment_id":86562531,"body_markdown":"If I do it like that and specify `1, ∞` for `$param$` and `$value$` the result comes out with the latter part as `$param$ $param$ = $value$, $value` O_o E.g. `@SequenceGenerator(name = &quot;BankAccountTurnover_seq_gen&quot;, sequenceName allocationSize = &quot;bank_account_turnovers_seq&quot;,1)`","body":"If I do it like that and specify <code>1, ∞</code> for <code>$param$</code> and <code>$value$</code> the result comes out with the latter part as <code>$param$ $param$ = $value$, $value</code> O_o E.g. <code>@SequenceGenerator(name = &quot;BankAccountTurnover_seq_gen&quot;, sequenceName allocationSize = &quot;bank_account_turnovers_seq&quot;,1)</code>"},{"owner":{"account_id":3169,"reputation":24379,"user_id":4510,"display_name":"Bas Leijdekkers"},"score":0,"creation_date":1568815485,"post_id":49773467,"comment_id":102395862,"body_markdown":"The patterns in the question work without problems in IntelliJ IDEA 2019.3 (which is in early access program at thee moment)","body":"The patterns in the question work without problems in IntelliJ IDEA 2019.3 (which is in early access program at thee moment)"}],"answers":[{"tags":[],"owner":{"account_id":335756,"reputation":1663,"user_id":663012,"accept_rate":80,"display_name":"Czar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1523453622,"creation_date":1523453622,"answer_id":49776547,"question_id":49773467,"body_markdown":"I&#39;ve found an ugly work around, just do this for all possible N:\r\n\r\nSearch:\r\n\r\n    @SequenceGenerator(name = &quot;$VALUE$&quot;, $param1$ = $value1$,/*...*/ $paramN$ = $valueN$)\r\n    class $Class$ {}\r\n\r\nReplacement:\r\n\r\n    @SequenceGenerator(name = &quot;$Class$_$VALUE$&quot;, $param1$ = $value1$,/*...*/ $paramN$ = $valueN$)\r\n    class $Class$ {}\r\n\r\nI really don&#39;t want this to be the real answer, so I won&#39;t be accepting it for the duration of the next week, in hopes that someone provides a better answer :)","title":"How to structurally replace value of one parameter of an annotation in IntelliJ","body":"<p>I've found an ugly work around, just do this for all possible N:</p>\n\n<p>Search:</p>\n\n<pre><code>@SequenceGenerator(name = \"$VALUE$\", $param1$ = $value1$,/*...*/ $paramN$ = $valueN$)\nclass $Class$ {}\n</code></pre>\n\n<p>Replacement:</p>\n\n<pre><code>@SequenceGenerator(name = \"$Class$_$VALUE$\", $param1$ = $value1$,/*...*/ $paramN$ = $valueN$)\nclass $Class$ {}\n</code></pre>\n\n<p>I really don't want this to be the real answer, so I won't be accepting it for the duration of the next week, in hopes that someone provides a better answer :)</p>\n"},{"tags":[],"owner":{"account_id":3169,"reputation":24379,"user_id":4510,"display_name":"Bas Leijdekkers"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661081358,"creation_date":1523471358,"answer_id":49782145,"question_id":49773467,"body_markdown":"This used to be difficult to accomplish because of a [bug][1] in Structural Search relating to annotation parameters. This bug has been fixed. Currently you can use the first suggestion in the question: \r\n\r\nSearch template:\r\n```\r\n@SequenceGenerator(name = &quot;seq_gen&quot;)\r\nclass $Class$ {}\r\n```\r\n\r\nReplacement template:\r\n```\r\n@SequenceGenerator(name = &quot;$Class$_seq_gen&quot;)\r\nclass $Class$ {}\r\n```\r\n\r\n#### Old workaround\r\n\r\nPreviously a workaround was needed, which used a replacement variable and Groovy script. Like the following search template:\r\n\r\n    @SequenceGenerator(name = $value$)\r\n    class $Class$ {}\r\n\r\n#### $value$ constraints\r\ntext/regexp: `&quot;seq_gen&quot;` (including quotes)  \r\nThis variable is target of the search: enabled\r\n\r\n\r\nReplacement template: \r\n\r\n    $replacement$\r\n\r\n#### $replacement$ script constraints\r\nscript text: \r\n\r\n    import com.intellij.psi.util.PsiTreeUtil\r\n    import com.intellij.psi.PsiClass\r\n\r\n    def x = PsiTreeUtil.getParentOfType(value, PsiClass.class);\r\n    &quot;\\&quot;&quot; + x.name + &quot;_seq_gen\\&quot;&quot;\r\n\r\n[1]: https://youtrack.jetbrains.com/issue/IDEA-65982","title":"How to structurally replace value of one parameter of an annotation in IntelliJ","body":"<p>This used to be difficult to accomplish because of a <a href=\"https://youtrack.jetbrains.com/issue/IDEA-65982\" rel=\"nofollow noreferrer\">bug</a> in Structural Search relating to annotation parameters. This bug has been fixed. Currently you can use the first suggestion in the question:</p>\n<p>Search template:</p>\n<pre><code>@SequenceGenerator(name = &quot;seq_gen&quot;)\nclass $Class$ {}\n</code></pre>\n<p>Replacement template:</p>\n<pre><code>@SequenceGenerator(name = &quot;$Class$_seq_gen&quot;)\nclass $Class$ {}\n</code></pre>\n<h4>Old workaround</h4>\n<p>Previously a workaround was needed, which used a replacement variable and Groovy script. Like the following search template:</p>\n<pre><code>@SequenceGenerator(name = $value$)\nclass $Class$ {}\n</code></pre>\n<h4>$value$ constraints</h4>\n<p>text/regexp: <code>&quot;seq_gen&quot;</code> (including quotes)<br />\nThis variable is target of the search: enabled</p>\n<p>Replacement template:</p>\n<pre><code>$replacement$\n</code></pre>\n<h4>$replacement$ script constraints</h4>\n<p>script text:</p>\n<pre><code>import com.intellij.psi.util.PsiTreeUtil\nimport com.intellij.psi.PsiClass\n\ndef x = PsiTreeUtil.getParentOfType(value, PsiClass.class);\n&quot;\\&quot;&quot; + x.name + &quot;_seq_gen\\&quot;&quot;\n</code></pre>\n"}],"owner":{"account_id":335756,"reputation":1663,"user_id":663012,"accept_rate":80,"display_name":"Czar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":781,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":49782145,"answer_count":2,"score":1,"last_activity_date":1661081358,"creation_date":1523444773,"question_id":49773467,"body_markdown":"I have classes annotated with\r\n`@SequenceGenerator(name = &quot;seq_gen&quot;,/*other_parameters*/)`\r\nI need to replace `&quot;seq_gen&quot;` with `&quot;$Class$_seq_gen&quot;` in each class.\r\n\r\nI&#39;ve tried following.\r\n\r\n**Search**\r\n\r\n    @SequenceGenerator(name = &quot;seq_gen&quot;)\r\n    class $Class$ {}\r\n\r\n**Replacement**\r\n\r\n    @SequenceGenerator(name = &quot;$Class$_seq_gen&quot;)\r\n    class $Class$ {}\r\n\r\nWhen I run the replacement the `/*other_parameters*/` part gets removed. \r\n\r\nI also tried\r\n\r\n**Search**\r\n\r\n    @SequenceGenerator(name = &quot;$VALUE$&quot;)\r\n    class $Class$ {}\r\n\r\n**Replacement**\r\n\r\n    &quot;$Class$_$VALUE$&quot;\r\n\r\nwith `$VALUE$` as target, it does not remove anything now but replaces with `_seq_gen` as if `$Class$` was not defined.\r\n\r\nHow can I accomplish this? Documentation of SSR is quite confusing and not detailed.\r\n\r\n---\r\nI&#39;ve found this question through search on SO, but it doesn&#39;t have and actual answer and is really about issue with arrays. https://stackoverflow.com/questions/45148556/replace-one-of-annotation-parameters-with-intellij-ideas-structural-replace","title":"How to structurally replace value of one parameter of an annotation in IntelliJ","body":"<p>I have classes annotated with\n<code>@SequenceGenerator(name = \"seq_gen\",/*other_parameters*/)</code>\nI need to replace <code>\"seq_gen\"</code> with <code>\"$Class$_seq_gen\"</code> in each class.</p>\n\n<p>I've tried following.</p>\n\n<p><strong>Search</strong></p>\n\n<pre><code>@SequenceGenerator(name = \"seq_gen\")\nclass $Class$ {}\n</code></pre>\n\n<p><strong>Replacement</strong></p>\n\n<pre><code>@SequenceGenerator(name = \"$Class$_seq_gen\")\nclass $Class$ {}\n</code></pre>\n\n<p>When I run the replacement the <code>/*other_parameters*/</code> part gets removed. </p>\n\n<p>I also tried</p>\n\n<p><strong>Search</strong></p>\n\n<pre><code>@SequenceGenerator(name = \"$VALUE$\")\nclass $Class$ {}\n</code></pre>\n\n<p><strong>Replacement</strong></p>\n\n<pre><code>\"$Class$_$VALUE$\"\n</code></pre>\n\n<p>with <code>$VALUE$</code> as target, it does not remove anything now but replaces with <code>_seq_gen</code> as if <code>$Class$</code> was not defined.</p>\n\n<p>How can I accomplish this? Documentation of SSR is quite confusing and not detailed.</p>\n\n<hr>\n\n<p>I've found this question through search on SO, but it doesn't have and actual answer and is really about issue with arrays. <a href=\"https://stackoverflow.com/questions/45148556/replace-one-of-annotation-parameters-with-intellij-ideas-structural-replace\">Replace one of annotation parameters with IntelliJ IDEA&#39;s Structural replace</a></p>\n"},{"tags":["java","android","kotlin","runtime-error"],"comments":[{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1661109863,"post_id":73433906,"comment_id":129688280,"body_markdown":"You probably need to increase the emulated storage on your virtual device. I had an old API one that did that, I had to bump up the space a fair bit over what I thought it actually needed! Before I did that it would *sometimes* work though, so try a Cold Boot, maybe clear the cache (inside Android) or do Wipe Data if you&#39;re happy to do that","body":"You probably need to increase the emulated storage on your virtual device. I had an old API one that did that, I had to bump up the space a fair bit over what I thought it actually needed! Before I did that it would <i>sometimes</i> work though, so try a Cold Boot, maybe clear the cache (inside Android) or do Wipe Data if you&#39;re happy to do that"},{"owner":{"account_id":25050647,"reputation":400,"user_id":18906612,"display_name":"Josef M"},"score":0,"creation_date":1661160924,"post_id":73433906,"comment_id":129697337,"body_markdown":"Alright, will give it a try! However, isnt there a way to make it automatic instead of having to increase space everytime it becomes full ?","body":"Alright, will give it a try! However, isnt there a way to make it automatic instead of having to increase space everytime it becomes full ?"},{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1661194231,"post_id":73433906,"comment_id":129709361,"body_markdown":"I don&#39;t think so, I don&#39;t know a lot of the details about how it works though! If you create a new device, the *SD card* disk image is the size of the card you specified (like it&#39;s set aside the required amount of space) but the *user data* one is basically empty. So it doesn&#39;t need to allocate all the space you set in the config, and over time that image will grow (and the *Size on Disk* field in the AVD Manager will increase). But in my experience, it fills up even though I&#39;m not using much space on the virtual device, until it hits the defined storage size","body":"I don&#39;t think so, I don&#39;t know a lot of the details about how it works though! If you create a new device, the <i>SD card</i> disk image is the size of the card you specified (like it&#39;s set aside the required amount of space) but the <i>user data</i> one is basically empty. So it doesn&#39;t need to allocate all the space you set in the config, and over time that image will grow (and the <i>Size on Disk</i> field in the AVD Manager will increase). But in my experience, it fills up even though I&#39;m not using much space on the virtual device, until it hits the defined storage size"},{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1661194505,"post_id":73433906,"comment_id":129709450,"body_markdown":"I don&#39;t know why that happens - at a guess, it&#39;s something about the system managing the storage, maybe treating it as solid-state memory and writing all over the drive (the disk image, really) for wear-levelling reasons. Because it doesn&#39;t know it&#39;s not a real mobile device - but if the emulator is being smart and not allocating space for the disk image if it hasn&#39;t been used, but the device is writing all over it (even though most of it is &quot;empty&quot;) then the file size would grow. I&#39;m just speculating but yeah","body":"I don&#39;t know why that happens - at a guess, it&#39;s something about the system managing the storage, maybe treating it as solid-state memory and writing all over the drive (the disk image, really) for wear-levelling reasons. Because it doesn&#39;t know it&#39;s not a real mobile device - but if the emulator is being smart and not allocating space for the disk image if it hasn&#39;t been used, but the device is writing all over it (even though most of it is &quot;empty&quot;) then the file size would grow. I&#39;m just speculating but yeah"},{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1661194624,"post_id":73433906,"comment_id":129709488,"body_markdown":"But no I don&#39;t think there&#39;s a way to make it redefine the storage space available to the device automatically. I used to try and keep that number low, since I&#39;d only be using a few hundred MB anyway, but it just seems to cause problems","body":"But no I don&#39;t think there&#39;s a way to make it redefine the storage space available to the device automatically. I used to try and keep that number low, since I&#39;d only be using a few hundred MB anyway, but it just seems to cause problems"},{"owner":{"account_id":25050647,"reputation":400,"user_id":18906612,"display_name":"Josef M"},"score":0,"creation_date":1661199368,"post_id":73433906,"comment_id":129710893,"body_markdown":"&quot;But in my experience, it fills up even though I&#39;m not using much space on the virtual device, until it hits the defined storage size&quot; - Yes I noticed that as well. Did some quick tests and its seems to be consistent, but I am pretty sure it is not supposed to do that. Maybe it can be reported as a bug!","body":"&quot;But in my experience, it fills up even though I&#39;m not using much space on the virtual device, until it hits the defined storage size&quot; - Yes I noticed that as well. Did some quick tests and its seems to be consistent, but I am pretty sure it is not supposed to do that. Maybe it can be reported as a bug!"},{"owner":{"account_id":25050647,"reputation":400,"user_id":18906612,"display_name":"Josef M"},"score":0,"creation_date":1661199693,"post_id":73433906,"comment_id":129710983,"body_markdown":"Alright I got you. Guess I will have to wipe it more often then when toggling between projects. Its unfortunate because before i re-installed android studio I did not have this problem. It used to automatically increase the space for every project I added so it was not known to be something I had to do manually. I did however force wipe data now and then when there was too many projects. Anyway, Hopefully they will fix it in the future! Appreciate the feedback!","body":"Alright I got you. Guess I will have to wipe it more often then when toggling between projects. Its unfortunate because before i re-installed android studio I did not have this problem. It used to automatically increase the space for every project I added so it was not known to be something I had to do manually. I did however force wipe data now and then when there was too many projects. Anyway, Hopefully they will fix it in the future! Appreciate the feedback!"}],"owner":{"account_id":25050647,"reputation":400,"user_id":18906612,"display_name":"Josef M"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661080686,"creation_date":1661080686,"question_id":73433906,"body_markdown":"I have been getting this error lately after re-installing Android Studio on my pc. Anyone got a clue on how to fix it ? \r\n\r\nhttps://gyazo.com/be54539661824450357d83980623e4f8\r\n\r\nThis is the Logcat:\r\n\r\n```\r\nInstallation did not succeed.\r\nThe application could not be installed.\r\n\r\nList of apks:\r\n[0] &#39;C:\\Users\\joe\\AndroidStudioProjects\\MyProject\\app\\build\\intermediates\\apk\\debug\\app-debug.apk&#39;\r\nInstallation failed due to: &#39;&#39;cmd package install-create -r -t --user current --full --dont-kill --skip-verification -S 57625483&#39; returns error &#39;Unknown failure: Exception occurred while executing &#39;install-create&#39;:\r\nandroid.os.ParcelableException: java.io.IOException: Requested internal only, but not enough space\r\nat android.util.ExceptionUtils.wrap(ExceptionUtils.java:34)\r\nat com.android.server.pm.PackageInstallerService.createSession(PackageInstallerService.java:595)\r\nat com.android.server.pm.PackageManagerShellCommand.doCreateSession(PackageManagerShellCommand.java:3434)\r\nat com.android.server.pm.PackageManagerShellCommand.runInstallCreate(PackageManagerShellCommand.java:1561)\r\nat com.android.server.pm.PackageManagerShellCommand.onCommand(PackageManagerShellCommand.java:232)\r\nat com.android.modules.utils.BasicShellCommandHandler.exec(BasicShellCommandHandler.java:97)\r\nat android.os.ShellCommand.exec(ShellCommand.java:38)\r\nat com.android.server.pm.PackageManagerService$IPackageManagerImpl.onShellCommand(PackageManagerService.java:5954)\r\nat android.os.Binder.shellCommand(Binder.java:1049)\r\nat android.os.Binder.onTransact(Binder.java:877)\r\nat android.content.pm.IPackageManager$Stub.onTransact(IPackageManager.java:4313)\r\nat com.android.server.pm.PackageManagerService$IPackageManagerImpl.onTransact(PackageManagerService.java:5938)\r\nat android.os.Binder.execTransactInternal(Binder.java:1285)\r\nat android.os.Binder.execTransact(Binder.java:1244)\r\nCaused by: java.io.IOException: Requested internal only, but not enough space\r\nat com.android.internal.content.InstallLocationUtils.resolveInstallVolume(InstallLocationUtils.java:241)\r\nat com.android.internal.content.InstallLocationUtils.resolveInstallVolume(InstallLocationUtils.java:152)\r\nat com.android.internal.content.InstallLocationUtils.resolveInstallVolume(InstallLocationUtils.java:167)\r\nat com.android.server.pm.PackageInstallerService.createSessionInternal(PackageInstallerService.java:803)\r\nat com.android.server.pm.PackageInstallerService.createSession(PackageInstallerService.java:592)\r\n... 12 more&#39;&#39;\r\nRetry\r\nFailed to launch an application on all devices\r\n```","title":"Error: INSTALL_FAILED_INSUFFICIENT_STORAGE","body":"<p>I have been getting this error lately after re-installing Android Studio on my pc. Anyone got a clue on how to fix it ?</p>\n<p><a href=\"https://gyazo.com/be54539661824450357d83980623e4f8\" rel=\"nofollow noreferrer\">https://gyazo.com/be54539661824450357d83980623e4f8</a></p>\n<p>This is the Logcat:</p>\n<pre><code>Installation did not succeed.\nThe application could not be installed.\n\nList of apks:\n[0] 'C:\\Users\\joe\\AndroidStudioProjects\\MyProject\\app\\build\\intermediates\\apk\\debug\\app-debug.apk'\nInstallation failed due to: ''cmd package install-create -r -t --user current --full --dont-kill --skip-verification -S 57625483' returns error 'Unknown failure: Exception occurred while executing 'install-create':\nandroid.os.ParcelableException: java.io.IOException: Requested internal only, but not enough space\nat android.util.ExceptionUtils.wrap(ExceptionUtils.java:34)\nat com.android.server.pm.PackageInstallerService.createSession(PackageInstallerService.java:595)\nat com.android.server.pm.PackageManagerShellCommand.doCreateSession(PackageManagerShellCommand.java:3434)\nat com.android.server.pm.PackageManagerShellCommand.runInstallCreate(PackageManagerShellCommand.java:1561)\nat com.android.server.pm.PackageManagerShellCommand.onCommand(PackageManagerShellCommand.java:232)\nat com.android.modules.utils.BasicShellCommandHandler.exec(BasicShellCommandHandler.java:97)\nat android.os.ShellCommand.exec(ShellCommand.java:38)\nat com.android.server.pm.PackageManagerService$IPackageManagerImpl.onShellCommand(PackageManagerService.java:5954)\nat android.os.Binder.shellCommand(Binder.java:1049)\nat android.os.Binder.onTransact(Binder.java:877)\nat android.content.pm.IPackageManager$Stub.onTransact(IPackageManager.java:4313)\nat com.android.server.pm.PackageManagerService$IPackageManagerImpl.onTransact(PackageManagerService.java:5938)\nat android.os.Binder.execTransactInternal(Binder.java:1285)\nat android.os.Binder.execTransact(Binder.java:1244)\nCaused by: java.io.IOException: Requested internal only, but not enough space\nat com.android.internal.content.InstallLocationUtils.resolveInstallVolume(InstallLocationUtils.java:241)\nat com.android.internal.content.InstallLocationUtils.resolveInstallVolume(InstallLocationUtils.java:152)\nat com.android.internal.content.InstallLocationUtils.resolveInstallVolume(InstallLocationUtils.java:167)\nat com.android.server.pm.PackageInstallerService.createSessionInternal(PackageInstallerService.java:803)\nat com.android.server.pm.PackageInstallerService.createSession(PackageInstallerService.java:592)\n... 12 more''\nRetry\nFailed to launch an application on all devices\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":3,"creation_date":1473471747,"post_id":39421639,"comment_id":66168236,"body_markdown":"Short answer: You need to use the `add` method to increase the size of a list.  You can&#39;t do it just by calling `set` on elements that you haven&#39;t inserted yet.","body":"Short answer: You need to use the <code>add</code> method to increase the size of a list.  You can&#39;t do it just by calling <code>set</code> on elements that you haven&#39;t inserted yet."},{"owner":{"account_id":1968221,"reputation":428,"user_id":1767890,"accept_rate":75,"display_name":"Ben Braun"},"score":1,"creation_date":1473471826,"post_id":39421639,"comment_id":66168246,"body_markdown":"What @David Wallace said, also even if set did allow this, your line                list.set(i, list.get(0)); isn&#39;t the same as a[i] = a[i - 1], you are doing something like a[i] = a[0]. So you have two bugs.\n\nAlso I&#39;m just guessing that you are misinterpreting what list = new ArrayList&lt;String&gt;(10); does, in this case it doesn&#39;t make a list of 10 strings it just uses the number 10 as a &quot;hint&quot; to set the initial capacity (which is not the size) to 10","body":"What @David Wallace said, also even if set did allow this, your line                list.set(i, list.get(0)); isn&#39;t the same as a[i] = a[i - 1], you are doing something like a[i] = a[0]. So you have two bugs.  Also I&#39;m just guessing that you are misinterpreting what list = new ArrayList&lt;String&gt;(10); does, in this case it doesn&#39;t make a list of 10 strings it just uses the number 10 as a &quot;hint&quot; to set the initial capacity (which is not the size) to 10"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1473474707,"post_id":39421639,"comment_id":66168601,"body_markdown":"@ben it&#39;s not a &quot;hint&quot;. It&#39;s the actual size. As per the [javadoc](https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html#ArrayList-int-): ***Constructs an empty list with the specified initial capacity***","body":"@ben it&#39;s not a &quot;hint&quot;. It&#39;s the actual size. As per the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html#ArrayList-int-\" rel=\"nofollow noreferrer\">javadoc</a>: <b><i>Constructs an empty list with the specified initial capacity</i></b>"},{"owner":{"account_id":1968221,"reputation":428,"user_id":1767890,"accept_rate":75,"display_name":"Ben Braun"},"score":0,"creation_date":1473477464,"post_id":39421639,"comment_id":66169000,"body_markdown":"Hi @Bohemian , you are right in that the capacity is the list&#39;s &quot;size&quot; in memory. When I say size I mean the &quot;size()&quot; of the list, which is the number of elements actually in the list. You are mistaken if you think capacity is the number of actual elements in the list.","body":"Hi @Bohemian , you are right in that the capacity is the list&#39;s &quot;size&quot; in memory. When I say size I mean the &quot;size()&quot; of the list, which is the number of elements actually in the list. You are mistaken if you think capacity is the number of actual elements in the list."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1473478020,"post_id":39421639,"comment_id":66169063,"body_markdown":"@ben ah, right. capacity != size.","body":"@ben ah, right. capacity != size."}],"answers":[{"tags":[],"owner":{"account_id":1968221,"reputation":428,"user_id":1767890,"accept_rate":75,"display_name":"Ben Braun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1473472003,"creation_date":1473472003,"answer_id":39421719,"question_id":39421639,"body_markdown":"One solution to your problem is instead of\r\n\r\n    stringList() {\r\n      list = new ArrayList&lt;String&gt;(10);\r\n    }\r\n\r\ndo\r\n\r\n    stringList() {\r\n      list = new ArrayList&lt;String&gt;(10);\r\n      for(int i = 0; i &lt; 10; i++){\r\n          list.add(&quot;&quot;);\r\n      }\r\n    }\r\n\r\nbecause only this will achieve a list of 10 strings, the first just makes a list that has the capacity to hold 10 strings (which is more of a performance hint)","title":"Trouble with converting ordered int array to ordered array list","body":"<p>One solution to your problem is instead of</p>\n\n<pre><code>stringList() {\n  list = new ArrayList&lt;String&gt;(10);\n}\n</code></pre>\n\n<p>do</p>\n\n<pre><code>stringList() {\n  list = new ArrayList&lt;String&gt;(10);\n  for(int i = 0; i &lt; 10; i++){\n      list.add(\"\");\n  }\n}\n</code></pre>\n\n<p>because only this will achieve a list of 10 strings, the first just makes a list that has the capacity to hold 10 strings (which is more of a performance hint)</p>\n"},{"tags":[],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1473473329,"creation_date":1473472971,"answer_id":39421813,"question_id":39421639,"body_markdown":"An interesting aspect of this assignment is that arrays and lists have a significant difference in behaviour: arrays have a fixed size while lists expand as items are added. For lists, adding items anywhere other than the end is an insert and it automatically moves the items to the right to make room. That doesn&#39;t happen with an array so it needs to be done manually in the code you are refactoring. \r\n\r\nSo, in my opinion, the correct minimal refactoring of an array to a list is to turn the `set` into an `insert` and then remove the code that used to be required to shift elements. It&#39;s no longer required for a list:\r\n\r\n    public void insert(String element) {\r\n        if (c == 0) {\r\n            list.add(element);\r\n            c++;\r\n        } else {\r\n            int j = 0;\r\n            for (int i = 0; i &lt; c; i++, j++) {\r\n                if (element.compareTo(list.get(i)) &lt; 0 ) \r\n                    break;\r\n            }\r\n            list.insert(j, element);\r\n            c++;\r\n        }\r\n    }\r\n\r\nFor lists, adding to an empty list is the same as inserting at position 0. So the specially handling for an empty list is completely unnecessary. But that might be not &#39;reflecting the original&#39; code.\r\n\r\nAnother more subtle difference is that this code won&#39;t cause an error if more than 10 items are inserted. To correctly reflect the behaviour of the initial code you would need to specifically add a test for that. \r\n\r\n    if (c == MAX_SIZE)\r\n        throw new ArrayIndexOutOfBoundsException(c);\r\n\r\nIt&#39;s likely your assignment is not expect you to handle that condition but it is worth knowing that the refactoring is changing the behaviour of the function if it&#39;s not included.\r\n","title":"Trouble with converting ordered int array to ordered array list","body":"<p>An interesting aspect of this assignment is that arrays and lists have a significant difference in behaviour: arrays have a fixed size while lists expand as items are added. For lists, adding items anywhere other than the end is an insert and it automatically moves the items to the right to make room. That doesn't happen with an array so it needs to be done manually in the code you are refactoring. </p>\n\n<p>So, in my opinion, the correct minimal refactoring of an array to a list is to turn the <code>set</code> into an <code>insert</code> and then remove the code that used to be required to shift elements. It's no longer required for a list:</p>\n\n<pre><code>public void insert(String element) {\n    if (c == 0) {\n        list.add(element);\n        c++;\n    } else {\n        int j = 0;\n        for (int i = 0; i &lt; c; i++, j++) {\n            if (element.compareTo(list.get(i)) &lt; 0 ) \n                break;\n        }\n        list.insert(j, element);\n        c++;\n    }\n}\n</code></pre>\n\n<p>For lists, adding to an empty list is the same as inserting at position 0. So the specially handling for an empty list is completely unnecessary. But that might be not 'reflecting the original' code.</p>\n\n<p>Another more subtle difference is that this code won't cause an error if more than 10 items are inserted. To correctly reflect the behaviour of the initial code you would need to specifically add a test for that. </p>\n\n<pre><code>if (c == MAX_SIZE)\n    throw new ArrayIndexOutOfBoundsException(c);\n</code></pre>\n\n<p>It's likely your assignment is not expect you to handle that condition but it is worth knowing that the refactoring is changing the behaviour of the function if it's not included.</p>\n"}],"owner":{"account_id":9165915,"reputation":23,"user_id":6815524,"display_name":"recidplayer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1661080610,"creation_date":1473470938,"question_id":39421639,"body_markdown":"My professor gave us this code that creates a sorted int array and wants us to convert it to a sorted array list with strings. This is an assignment on maintenance and must reflect the original code. So, I can&#39;t use the size method, Collections.sort(), or anything that doesn&#39;t reflect the original code.\r\n\r\nWe are given\r\n\r\n    \tOrderedIntList() {\r\n\t\ta = new int[10];\r\n\t}\r\n\r\n    \tpublic void insert(int v) {\r\n\t\tif(c == 0) {\r\n\t\t\ta[0]= v;\r\n\t\t\tc++;\r\n\t\t} else {\r\n\t\t\tint j = 0;\r\n\t\t\tfor (int i = 0; i &lt; c; i++, j++) {\r\n\t\t\t\tif(v &lt; a[i]) \r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tfor (int i = c; i &gt; j; i--) {\r\n\t\t\t\ta[i] = a[i - 1];\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\ta[j]= v; \r\n\t\t\tc++;\r\n\t\t}\r\n\t}\r\nThis is what I have come up with to convert it to an array list\r\n\r\n    \t\tstringList() {\r\n\t\tlist = new ArrayList&lt;String&gt;(10);\r\n\t}\r\n\r\n    \tpublic void insert(String element) {\r\n\t\tif(c == 0) {\r\n\t\t\tlist.add(0, element);\r\n\t\t\tc++;\r\n\t\t} else {\r\n\t\t\tint j = 0;\r\n\t\t\tfor (int i = 0; i &lt; c; i++, j++) {\r\n\t\t\t\tif(element.compareTo(list.get(i)) == -1) \r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tfor (int i = c; i &gt; j; i--) {\r\n\t\t\t\tlist.set(i, list.get(0));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tlist.set(j, element);\r\n\t\t\tc++;\r\n\t\t}\r\n\t}\r\nIt keeps throwing an exception on\r\n\r\n    list.set(i, list.get(0));\r\nWhen debugging I see that ArrayList.class is throwing the exception because the index equals the size. I can&#39;t seem to come up with a solution. Any help will be greatly appreciated.","title":"Trouble with converting ordered int array to ordered array list","body":"<p>My professor gave us this code that creates a sorted int array and wants us to convert it to a sorted array list with strings. This is an assignment on maintenance and must reflect the original code. So, I can't use the size method, Collections.sort(), or anything that doesn't reflect the original code.</p>\n\n<p>We are given</p>\n\n<pre><code>    OrderedIntList() {\n    a = new int[10];\n}\n\n    public void insert(int v) {\n    if(c == 0) {\n        a[0]= v;\n        c++;\n    } else {\n        int j = 0;\n        for (int i = 0; i &lt; c; i++, j++) {\n            if(v &lt; a[i]) \n                break;\n        }\n        for (int i = c; i &gt; j; i--) {\n            a[i] = a[i - 1];\n        }\n\n        a[j]= v; \n        c++;\n    }\n}\n</code></pre>\n\n<p>This is what I have come up with to convert it to an array list</p>\n\n<pre><code>        stringList() {\n    list = new ArrayList&lt;String&gt;(10);\n}\n\n    public void insert(String element) {\n    if(c == 0) {\n        list.add(0, element);\n        c++;\n    } else {\n        int j = 0;\n        for (int i = 0; i &lt; c; i++, j++) {\n            if(element.compareTo(list.get(i)) == -1) \n                break;\n        }\n        for (int i = c; i &gt; j; i--) {\n            list.set(i, list.get(0));\n        }\n\n        list.set(j, element);\n        c++;\n    }\n}\n</code></pre>\n\n<p>It keeps throwing an exception on</p>\n\n<pre><code>list.set(i, list.get(0));\n</code></pre>\n\n<p>When debugging I see that ArrayList.class is throwing the exception because the index equals the size. I can't seem to come up with a solution. Any help will be greatly appreciated.</p>\n"},{"tags":["java","oop","design-patterns"],"comments":[{"owner":{"account_id":22624308,"reputation":57,"user_id":16802595,"display_name":"Noah"},"score":0,"creation_date":1661075700,"post_id":73433235,"comment_id":129680843,"body_markdown":"@Mat The other methods which I omitted might have other functions that are different.","body":"@Mat The other methods which I omitted might have other functions that are different."},{"owner":{"account_id":22624308,"reputation":57,"user_id":16802595,"display_name":"Noah"},"score":0,"creation_date":1661076491,"post_id":73433235,"comment_id":129680994,"body_markdown":"I think it is a quite common situation where you have many similar classes, and you want to reuse the logic for a long long function. However, the fucntion uses a attribute that are present in all the classes but the values are different.","body":"I think it is a quite common situation where you have many similar classes, and you want to reuse the logic for a long long function. However, the fucntion uses a attribute that are present in all the classes but the values are different."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1661078608,"post_id":73433235,"comment_id":129681429,"body_markdown":"You seem to be focusing on the wrong thing. Your name attribute is an instance field, and so it is a property of the object, not the class, and you wouldn&#39;t create multiple classes if this were the key thing that changes. In this situation, it&#39;s the differing behaviors that likely matter more, the information that you *don&#39;t* show us.","body":"You seem to be focusing on the wrong thing. Your name attribute is an instance field, and so it is a property of the object, not the class, and you wouldn&#39;t create multiple classes if this were the key thing that changes. In this situation, it&#39;s the differing behaviors that likely matter more, the information that you <i>don&#39;t</i> show us."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1661079224,"post_id":73433235,"comment_id":129681559,"body_markdown":"I think that this question could be improved by making both the problem and the code more concrete, showing more of a realistic and real-life code example. Else we could be barking up an [XY Problem](http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem) tree.","body":"I think that this question could be improved by making both the problem and the code more concrete, showing more of a realistic and real-life code example. Else we could be barking up an <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY Problem</a> tree."},{"owner":{"account_id":22624308,"reputation":57,"user_id":16802595,"display_name":"Noah"},"score":0,"creation_date":1661080854,"post_id":73433235,"comment_id":129681866,"body_markdown":"@HovercraftFullOfEels Tried my best to make the question clearer.","body":"@HovercraftFullOfEels Tried my best to make the question clearer."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1661081877,"post_id":73433235,"comment_id":129682077,"body_markdown":"I&#39;m sorry, perhaps I wasn&#39;t clear about what I meant by &quot;more concrete&quot;. This would be posting code that is much closer to your current production code, code that shows some purpose, as well as telling more detail about how this question and issue fits into your current project. But if QBrute&#39;s answer fully answers your question, then feel free to ignore this suggestion.","body":"I&#39;m sorry, perhaps I wasn&#39;t clear about what I meant by &quot;more concrete&quot;. This would be posting code that is much closer to your current production code, code that shows some purpose, as well as telling more detail about how this question and issue fits into your current project. But if QBrute&#39;s answer fully answers your question, then feel free to ignore this suggestion."}],"answers":[{"tags":[],"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661078828,"creation_date":1661078383,"answer_id":73433634,"question_id":73433235,"body_markdown":"You already have an `abstract` class that you can use as parent to `A` and `B`. Parent classes contain fields and methods that are common to all child classes. \r\n\r\nYou can use `abstract` methods in the parent class to denote methods that need to be implemented by the children, i.e. behvavior that differs from child to child.\r\n\r\nSo I&#39;d suggest the following:\r\n\r\n    public abstract class I {\r\n        /**\r\n         * Common attribute for all children.\r\n         */\r\n        private final String name;\r\n\r\n        protected I(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;It is &quot; + name;\r\n        }\r\n\r\n        /**\r\n         * Needs to be explicitly implemented by all children.\r\n         */ \r\n        public abstract void someMethod1();\r\n\r\n        /**\r\n         * Needs to be explicitly implemented by all children.\r\n         */\r\n        public abstract void someMethod2();\r\n    }\r\n\r\n    public class A extends I {\r\n        public A() {\r\n            super(&quot;A&quot;);\r\n        }\r\n\r\n        @Override\r\n        public void someMethod1() {\r\n            // specific implementation for A\r\n        }\r\n\r\n        @Override\r\n        public void someMethod2() {\r\n            // specific implementation for A\r\n        }\r\n    }\r\n\r\n    public class B extends I {\r\n        public B() {\r\n            super(&quot;B&quot;);\r\n        }\r\n\r\n        @Override\r\n        public void someMethod1() {\r\n            // specific implementation for B\r\n        }\r\n\r\n        @Override\r\n        public void someMethod2() {\r\n            // specific implementation for B\r\n        }\r\n    }","title":"What&#39;s the best way to write classes that are only different in some attributes?","body":"<p>You already have an <code>abstract</code> class that you can use as parent to <code>A</code> and <code>B</code>. Parent classes contain fields and methods that are common to all child classes.</p>\n<p>You can use <code>abstract</code> methods in the parent class to denote methods that need to be implemented by the children, i.e. behvavior that differs from child to child.</p>\n<p>So I'd suggest the following:</p>\n<pre><code>public abstract class I {\n    /**\n     * Common attribute for all children.\n     */\n    private final String name;\n\n    protected I(String name) {\n        this.name = name;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;It is &quot; + name;\n    }\n\n    /**\n     * Needs to be explicitly implemented by all children.\n     */ \n    public abstract void someMethod1();\n\n    /**\n     * Needs to be explicitly implemented by all children.\n     */\n    public abstract void someMethod2();\n}\n\npublic class A extends I {\n    public A() {\n        super(&quot;A&quot;);\n    }\n\n    @Override\n    public void someMethod1() {\n        // specific implementation for A\n    }\n\n    @Override\n    public void someMethod2() {\n        // specific implementation for A\n    }\n}\n\npublic class B extends I {\n    public B() {\n        super(&quot;B&quot;);\n    }\n\n    @Override\n    public void someMethod1() {\n        // specific implementation for B\n    }\n\n    @Override\n    public void someMethod2() {\n        // specific implementation for B\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22624308,"reputation":57,"user_id":16802595,"display_name":"Noah"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1661082823,"answer_count":1,"score":-2,"last_activity_date":1661080533,"creation_date":1661074938,"question_id":73433235,"body_markdown":"*(revised example)*\r\n```java\r\n// A.java\r\npublic class A {\r\n    private static final String name = &quot;A&quot;;\r\n\r\n    public void print() {\r\n        System.out.println(&quot;name is &quot; + name);\r\n    }\r\n\r\n    public void doSomethingELse() {\r\n        // do something\r\n    }\r\n}\r\n\r\n// B.java\r\npublic class B {\r\n    private static final String name = &quot;B&quot;;\r\n\r\n    public void print() {\r\n        System.out.println(&quot;name is &quot; + name);\r\n    }\r\n\r\n    public void doSomethingELse() {\r\n        // do something\r\n    }\r\n}\r\n```\r\n\r\nLike the example above, I have 2 similar classes that are only different in the `name` attribute.\r\n\r\nI want to create an interface or an abstract class, in order to reuse the logic of `print` function. What is the recommended way of doing that?","title":"What&#39;s the best way to write classes that are only different in some attributes?","body":"<p><em>(revised example)</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>// A.java\npublic class A {\n    private static final String name = &quot;A&quot;;\n\n    public void print() {\n        System.out.println(&quot;name is &quot; + name);\n    }\n\n    public void doSomethingELse() {\n        // do something\n    }\n}\n\n// B.java\npublic class B {\n    private static final String name = &quot;B&quot;;\n\n    public void print() {\n        System.out.println(&quot;name is &quot; + name);\n    }\n\n    public void doSomethingELse() {\n        // do something\n    }\n}\n</code></pre>\n<p>Like the example above, I have 2 similar classes that are only different in the <code>name</code> attribute.</p>\n<p>I want to create an interface or an abstract class, in order to reuse the logic of <code>print</code> function. What is the recommended way of doing that?</p>\n"},{"tags":["java","android","numberpicker","android-number-picker"],"comments":[{"owner":{"account_id":11873112,"reputation":1073,"user_id":8688810,"display_name":"Dan Baruch"},"score":0,"creation_date":1661080522,"post_id":73433851,"comment_id":129681805,"body_markdown":"If you will try using onValueChange event of any sort (not sure there is one but I&#39;m speaking in general) you&#39;ll get stackOverFlow Exception as each change will drag 2 changes that will drag 2 more each and so on and on until you stack is full. Best approach would be, imo, set an &quot;active&quot; pointer to the number picker that was changed and upon pressing a button / applying the change in any way you see fit, you&#39;ll change the values of the other numbers according to your logic","body":"If you will try using onValueChange event of any sort (not sure there is one but I&#39;m speaking in general) you&#39;ll get stackOverFlow Exception as each change will drag 2 changes that will drag 2 more each and so on and on until you stack is full. Best approach would be, imo, set an &quot;active&quot; pointer to the number picker that was changed and upon pressing a button / applying the change in any way you see fit, you&#39;ll change the values of the other numbers according to your logic"},{"owner":{"account_id":32581,"reputation":76091,"user_id":90527,"accept_rate":85,"display_name":"outis"},"score":0,"creation_date":1661158060,"post_id":73433851,"comment_id":129696368,"body_markdown":"Do you want the maximums adjusted, or do you want the three quantities to always sum to 100? In either case, if the pickers are at maximum and one is increased, how should the others be adjusted?","body":"Do you want the maximums adjusted, or do you want the three quantities to always sum to 100? In either case, if the pickers are at maximum and one is increased, how should the others be adjusted?"},{"owner":{"display_name":"user18504539"},"score":0,"creation_date":1661182937,"post_id":73433851,"comment_id":129705638,"body_markdown":"Hello to everyone who commented, I am the owner of the topic, but I had to write with my old account because I could not enter my e-mail address. (this account was closed for asking questions) @DanBaruch","body":"Hello to everyone who commented, I am the owner of the topic, but I had to write with my old account because I could not enter my e-mail address. (this account was closed for asking questions) @DanBaruch"},{"owner":{"display_name":"user18504539"},"score":0,"creation_date":1661183077,"post_id":73433851,"comment_id":129705692,"body_markdown":"I think I can&#39;t make a listener for each number picker. and with each number picker, another two will be triggered, so that the sum of the three will be 100. For example, the first number picker will increase as 50,51,52,53, while the minimum value of the other two number pickers will be reduced until its minimum value is one.. I hope I have been able to explain. so at the end of everything this 3 number picker sum will be 100","body":"I think I can&#39;t make a listener for each number picker. and with each number picker, another two will be triggered, so that the sum of the three will be 100. For example, the first number picker will increase as 50,51,52,53, while the minimum value of the other two number pickers will be reduced until its minimum value is one.. I hope I have been able to explain. so at the end of everything this 3 number picker sum will be 100"},{"owner":{"account_id":11873112,"reputation":1073,"user_id":8688810,"display_name":"Dan Baruch"},"score":0,"creation_date":1661207768,"post_id":73433851,"comment_id":129712852,"body_markdown":"Yes but you can&#39;t know which picker to reduce. You have picker A,B and C. If you change A&#39;s value, do you change B&#39;s or C&#39;s value to match it? That&#39;s your business logic. In anyway, I&#39;d recommend having a button pressed doing all the magic, unless you want you logic to apply to a single picker effecting the other 2 pickers, in which you can use some sort of onValueChanged event.","body":"Yes but you can&#39;t know which picker to reduce. You have picker A,B and C. If you change A&#39;s value, do you change B&#39;s or C&#39;s value to match it? That&#39;s your business logic. In anyway, I&#39;d recommend having a button pressed doing all the magic, unless you want you logic to apply to a single picker effecting the other 2 pickers, in which you can use some sort of onValueChanged event."}],"owner":{"account_id":26120944,"reputation":1,"user_id":19813252,"display_name":"NOTR"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661080398,"creation_date":1661080248,"question_id":73433851,"body_markdown":"I want to make an application with 3 number pickers. I want to find the percentage distribution of carbohydrates, fat and protein. and this 3 number picker works in coordination with each other and I want to adjust the max and min values ​​accordingly. The sum of these 3 number pickers will be 100. e.g; like 15,35,50 or 50.45.5 or 10,20,70\r\n\r\n\r\n[Screenshot][1]\r\n\r\n\r\n```\r\n        NumberPicker carb=add_dialog.findViewById(R.id.carb);\r\n        NumberPicker protein=add_dialog.findViewById(R.id.protein);\r\n        NumberPicker fat=add_dialog.findViewById(R.id.fat);\r\n\r\n        carb.setMinValue(1);\r\n        carb.setMaxValue(99);\r\n        protein.setMinValue(1);\r\n        protein.setMaxValue(99);\r\n        fat.setMinValue(1);\r\n        fat.setMaxValue(99);\r\n\r\n        // Initial\r\n        carb.setValue(25);\r\n        protein.setValue(40);\r\n        fat.setValue(35);\r\n\r\n\r\n        carb.setOnValueChangedListener((picker, oldVal, newVal) -&gt; {\r\n            protein.setMaxValue(100-(newVal+fat.getValue()));\r\n            fat.setMaxValue(100-(newVal+protein.getValue()));\r\n        });\r\n      \r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nfdMI.jpg","title":"How can I make the sum of 3 number picker 100?","body":"<p>I want to make an application with 3 number pickers. I want to find the percentage distribution of carbohydrates, fat and protein. and this 3 number picker works in coordination with each other and I want to adjust the max and min values ​​accordingly. The sum of these 3 number pickers will be 100. e.g; like 15,35,50 or 50.45.5 or 10,20,70</p>\n<p><a href=\"https://i.stack.imgur.com/nfdMI.jpg\" rel=\"nofollow noreferrer\">Screenshot</a></p>\n<pre><code>        NumberPicker carb=add_dialog.findViewById(R.id.carb);\n        NumberPicker protein=add_dialog.findViewById(R.id.protein);\n        NumberPicker fat=add_dialog.findViewById(R.id.fat);\n\n        carb.setMinValue(1);\n        carb.setMaxValue(99);\n        protein.setMinValue(1);\n        protein.setMaxValue(99);\n        fat.setMinValue(1);\n        fat.setMaxValue(99);\n\n        // Initial\n        carb.setValue(25);\n        protein.setValue(40);\n        fat.setValue(35);\n\n\n        carb.setOnValueChangedListener((picker, oldVal, newVal) -&gt; {\n            protein.setMaxValue(100-(newVal+fat.getValue()));\n            fat.setMaxValue(100-(newVal+protein.getValue()));\n        });\n      \n\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":481416,"reputation":355324,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"score":0,"creation_date":1426501852,"post_id":11288083,"comment_id":46382890,"body_markdown":"Possible subset of: http://stackoverflow.com/questions/4526113/java-conditional-compilation-how-to-prevent-code-chunks-to-be-compiled","body":"Possible subset of: <a href=\"http://stackoverflow.com/questions/4526113/java-conditional-compilation-how-to-prevent-code-chunks-to-be-compiled\" title=\"java conditional compilation how to prevent code chunks to be compiled\">stackoverflow.com/questions/4526113/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1341206150,"creation_date":1341206150,"answer_id":11288090,"question_id":11288083,"body_markdown":"You don&#39;t have conditional import with java\r\n\r\n\r\nBut you could conditionally use different classes with same name using fully qualified name\r\n\r\nfor example:\r\n\r\n    if(useSql){\r\n      java.sql.Date date = new java.sql.Date()\r\n    }else{\r\n      java.util.Date date = new java.util.Date()\r\n    }","title":"Java conditional imports","body":"<p>You don't have conditional import with java</p>\n\n<p>But you could conditionally use different classes with same name using fully qualified name</p>\n\n<p>for example:</p>\n\n<pre><code>if(useSql){\n  java.sql.Date date = new java.sql.Date()\n}else{\n  java.util.Date date = new java.util.Date()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1513180,"reputation":7944,"user_id":1414799,"accept_rate":56,"display_name":"Pramod Kumar"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1341206206,"creation_date":1341206206,"answer_id":11288095,"question_id":11288083,"body_markdown":"We don&#39;t have conditional import in java","title":"Java conditional imports","body":"<p>We don't have conditional import in java</p>\n"},{"tags":[],"owner":{"account_id":1578571,"reputation":4109,"user_id":1464455,"accept_rate":38,"display_name":"Yair Zaslavsky"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1536637228,"creation_date":1341206744,"answer_id":11288152,"question_id":11288083,"body_markdown":"There is no support for this at Java. &lt;BR&gt;\r\nBear in mind that #IFDEF is done at pre-processor stage at C++ - No support in Java for that. &lt;BR&gt;\r\nWhat you can try and have is something like an annotation processor, prior to the days annotations were introduced in JDK 1.5. &lt;BR&gt;\r\nIn addition, you can use annotations to be processed during compile time. &lt;BR&gt;\r\n[This][1] blog provides some information.\r\n\r\n\r\n  [1]: http://deors.wordpress.com/2011/10/08/annotation-processors/","title":"Java conditional imports","body":"<p>There is no support for this at Java. <BR>\nBear in mind that #IFDEF is done at pre-processor stage at C++ - No support in Java for that. <BR>\nWhat you can try and have is something like an annotation processor, prior to the days annotations were introduced in JDK 1.5. <BR>\nIn addition, you can use annotations to be processed during compile time. <BR>\n<a href=\"http://deors.wordpress.com/2011/10/08/annotation-processors/\" rel=\"nofollow noreferrer\">This</a> blog provides some information.</p>\n"},{"tags":[],"owner":{"account_id":378790,"reputation":869,"user_id":731752,"display_name":"LadyCailin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1387228512,"creation_date":1387228512,"answer_id":20621045,"question_id":11288083,"body_markdown":"What you&#39;re trying to do is a valid idea, but you should use mocks instead. [Mockito][1] is a great library for that.\r\n\r\nThe paradigm is a bit different, but you should look into unit testing with a mocking library and get an understanding of that, which will allow you to do what you&#39;re trying, in a better (in my opinion) way.\r\n\r\n\r\n  [1]: http://code.google.com/p/mockito/","title":"Java conditional imports","body":"<p>What you're trying to do is a valid idea, but you should use mocks instead. <a href=\"http://code.google.com/p/mockito/\" rel=\"nofollow\">Mockito</a> is a great library for that.</p>\n\n<p>The paradigm is a bit different, but you should look into unit testing with a mocking library and get an understanding of that, which will allow you to do what you're trying, in a better (in my opinion) way.</p>\n"},{"tags":[],"owner":{"account_id":2015227,"reputation":833,"user_id":1802697,"display_name":"Igor Maznitsa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1428072836,"creation_date":1428072836,"answer_id":29434527,"question_id":11288083,"body_markdown":"[Java Comment Preprocessor][1] supports prefix and postfix sections in result document and it is very useful to form class import section, you can place import string even in middle of your class\r\n\r\n    //#ifdef FLAG\r\n    //+prefix\r\n    import some.class.Clazz;\r\n    //-prefix\r\n       Clazz.call();\r\n    //#endif\r\n\r\n\r\n  [1]: https://github.com/raydac/java-comment-preprocessor","title":"Java conditional imports","body":"<p><a href=\"https://github.com/raydac/java-comment-preprocessor\" rel=\"nofollow\">Java Comment Preprocessor</a> supports prefix and postfix sections in result document and it is very useful to form class import section, you can place import string even in middle of your class</p>\n\n<pre><code>//#ifdef FLAG\n//+prefix\nimport some.class.Clazz;\n//-prefix\n   Clazz.call();\n//#endif\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1815814,"reputation":987,"user_id":1650913,"accept_rate":86,"display_name":"Scoopta"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1475655065,"creation_date":1475655065,"answer_id":39868631,"question_id":11288083,"body_markdown":"You could use a traditional if statement and then instead of importing do `Class.forName(&quot;example.ExampleClass&quot;)` That would return a `Class` object which you could then invoke `Class.newInstance()` on. It would allow you to avoid compile time errors for dependencies that may not exist as well as do something that&#39;s similar to conditional importing.","title":"Java conditional imports","body":"<p>You could use a traditional if statement and then instead of importing do <code>Class.forName(\"example.ExampleClass\")</code> That would return a <code>Class</code> object which you could then invoke <code>Class.newInstance()</code> on. It would allow you to avoid compile time errors for dependencies that may not exist as well as do something that's similar to conditional importing.</p>\n"},{"tags":[],"owner":{"account_id":12681102,"reputation":11,"user_id":9214747,"display_name":"Abdelaty"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661080284,"creation_date":1661080284,"answer_id":73433854,"question_id":11288083,"body_markdown":"instead of doing this:\r\n\r\n    import com.test.example.interceptorModule\r\n    {\r\n       example().intercepte();\r\n    }\r\nI figured out that we can call the class using it&#39;s path like this\r\n\r\n    com.test.example.interceptorModule().intercepte()\r\n\r\nso to import the above class conditionally you can do this:\r\n\r\n    if(!intercepting)\r\n     {\r\n       com.test.example.interceptorModule().intercepte()\r\n     }\r\n\r\n","title":"Java conditional imports","body":"<p>instead of doing this:</p>\n<pre><code>import com.test.example.interceptorModule\n{\n   example().intercepte();\n}\n</code></pre>\n<p>I figured out that we can call the class using it's path like this</p>\n<pre><code>com.test.example.interceptorModule().intercepte()\n</code></pre>\n<p>so to import the above class conditionally you can do this:</p>\n<pre><code>if(!intercepting)\n {\n   com.test.example.interceptorModule().intercepte()\n }\n</code></pre>\n"}],"owner":{"account_id":1618029,"reputation":211,"user_id":1495174,"display_name":"user1495174"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17045,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"answer_count":7,"score":21,"last_activity_date":1661080284,"creation_date":1341206103,"question_id":11288083,"body_markdown":" How to have conditional imports in Java like we have the `ifdefs` in C\r\nThis is what I intend to achieve\r\n\r\n    ifdef TEST\r\n    import com.google.mystubs.swing;\r\n    elif\r\n    import javax.swing.*;\r\n    endif\r\n\r\n","title":"Java conditional imports","body":"<p>How to have conditional imports in Java like we have the <code>ifdefs</code> in C\nThis is what I intend to achieve</p>\n\n<pre><code>ifdef TEST\nimport com.google.mystubs.swing;\nelif\nimport javax.swing.*;\nendif\n</code></pre>\n"},{"tags":["java","sum","user-input"],"comments":[{"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"score":0,"creation_date":1395785487,"post_id":22647352,"comment_id":34493765,"body_markdown":"Please show any code you have that attempts to solve the problem, along with any problems you might have encountered, and then you will receive some guidance.  But, we won&#39;t do your (home)work for you.","body":"Please show any code you have that attempts to solve the problem, along with any problems you might have encountered, and then you will receive some guidance.  But, we won&#39;t do your (home)work for you."},{"owner":{"account_id":3743556,"reputation":106,"user_id":3112783,"display_name":"Will_61"},"score":0,"creation_date":1395785568,"post_id":22647352,"comment_id":34493796,"body_markdown":"Have a look at the Scanner class in Java for standard input.\nhttp://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html","body":"Have a look at the Scanner class in Java for standard input. <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/Scanner.html</a>"},{"owner":{"account_id":3403175,"reputation":22394,"user_id":2854908,"accept_rate":95,"display_name":"libik"},"score":0,"creation_date":1395785853,"post_id":22647352,"comment_id":34493934,"body_markdown":"Nice class name :D :D","body":"Nice class name :D :D"},{"owner":{"account_id":4195560,"reputation":35,"user_id":3437060,"accept_rate":100,"display_name":"SamsinOzo"},"score":0,"creation_date":1395785911,"post_id":22647352,"comment_id":34493953,"body_markdown":"@rgettman Added my code as asked, also not homework but rather doing a little bit extra, as the last thing I did with numbers was adding inputted data from diff int, but thank you for your reply.\n\nAlso the problem I was having is it wasn&#39;t reading any numbers after the first input Example 123 123 would return 123 not 246.","body":"@rgettman Added my code as asked, also not homework but rather doing a little bit extra, as the last thing I did with numbers was adding inputted data from diff int, but thank you for your reply.  Also the problem I was having is it wasn&#39;t reading any numbers after the first input Example 123 123 would return 123 not 246."},{"owner":{"account_id":4195560,"reputation":35,"user_id":3437060,"accept_rate":100,"display_name":"SamsinOzo"},"score":0,"creation_date":1395786177,"post_id":22647352,"comment_id":34494077,"body_markdown":"@libik LOL sorry I copied the bulk of the code from Lab 20 that was far easier then Lab 19 and I was annoyed, forgot to change it haha.\n\nAlso ended up just removing all of the code from the stuff I copied and rewrote it.","body":"@libik LOL sorry I copied the bulk of the code from Lab 20 that was far easier then Lab 19 and I was annoyed, forgot to change it haha.  Also ended up just removing all of the code from the stuff I copied and rewrote it."}],"answers":[{"tags":[],"owner":{"account_id":3403175,"reputation":22394,"user_id":2854908,"accept_rate":95,"display_name":"libik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1395788840,"creation_date":1395785699,"answer_id":22647434,"question_id":22647352,"body_markdown":"It is very easy actually\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class JavaApplication115 {\r\n    \r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;write numbers, if you write zero, program ends&quot;);\r\n            Scanner input = new Scanner(System.in); //just copy-and paste this line, you dont have to understand it yet.\r\n            int number;\r\n            int sum = 0;\r\n            do {\r\n                number = input.nextInt(); //this reads number from input and store its value in variable number\r\n                sum+= number; //here you add number to the total sum\r\n            } while(number != 0); //just repeat cycle as long as number is not zero\r\n            \r\n            System.out.println(&quot;Sum is : &quot; + sum);\r\n        }\r\n        \r\n    }\r\n\r\n***\r\n\r\nWorking code based on your code :\r\n\r\n    public static void main(String[] args) {\r\n        Scanner kb = new Scanner(System.in);\r\n        int score = 0;\r\n        int sum = 0;\r\n\r\n        System.out.println(&quot;Enter numbers here&quot;);\r\n        String line = kb.nextLine();\r\n        \r\n        kb = new Scanner(line); //has to do this to make the kb.hasNexInt() work.\r\n        while (kb.hasNextInt()) {\r\n            score = kb.nextInt();\r\n            sum += score;\r\n        }\r\n        System.out.println(sum);\r\n    }\r\n\r\n***\r\n\r\nAlso if you are interested in &quot;minimal&quot; version, which is the same as the one before, but using as less code as possible, here it is :\r\n\r\n    public static void main(String[] args) {\r\n        int sum = 0;\r\n        System.out.println(&quot;Enter numbers here&quot;);\r\n        Scanner kb = new Scanner((new Scanner(System.in)).nextLine()); //has to do this to make the kb.hasNexInt() work.\r\n        while (kb.hasNextInt()) {\r\n            sum += kb.nextInt();\r\n        }\r\n        System.out.println(sum);\r\n    }\r\n\r\n***\r\n\r\nFind sum of each line as long as sum is not zero (based on second block of code) :\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Enter numbers here&quot;);\r\n        int sum;\r\n        do {\r\n            Scanner kb = new Scanner(System.in);\r\n            int score = 0;\r\n            sum = 0;\r\n            String line = kb.nextLine();\r\n            kb = new Scanner(line); //has to do this to make the kb.hasNexInt() work.\r\n            while (kb.hasNextInt()) {\r\n                score = kb.nextInt();\r\n                sum += score;\r\n            }\r\n            System.out.println(&quot;Sum = &quot; + sum);\r\n        } while (sum != 0);\r\n    }","title":"How to sum any amount of user inputted numbers from a single line","body":"<p>It is very easy actually</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class JavaApplication115 {\n\n    public static void main(String[] args) {\n        System.out.println(\"write numbers, if you write zero, program ends\");\n        Scanner input = new Scanner(System.in); //just copy-and paste this line, you dont have to understand it yet.\n        int number;\n        int sum = 0;\n        do {\n            number = input.nextInt(); //this reads number from input and store its value in variable number\n            sum+= number; //here you add number to the total sum\n        } while(number != 0); //just repeat cycle as long as number is not zero\n\n        System.out.println(\"Sum is : \" + sum);\n    }\n\n}\n</code></pre>\n\n<hr>\n\n<p>Working code based on your code :</p>\n\n<pre><code>public static void main(String[] args) {\n    Scanner kb = new Scanner(System.in);\n    int score = 0;\n    int sum = 0;\n\n    System.out.println(\"Enter numbers here\");\n    String line = kb.nextLine();\n\n    kb = new Scanner(line); //has to do this to make the kb.hasNexInt() work.\n    while (kb.hasNextInt()) {\n        score = kb.nextInt();\n        sum += score;\n    }\n    System.out.println(sum);\n}\n</code></pre>\n\n<hr>\n\n<p>Also if you are interested in \"minimal\" version, which is the same as the one before, but using as less code as possible, here it is :</p>\n\n<pre><code>public static void main(String[] args) {\n    int sum = 0;\n    System.out.println(\"Enter numbers here\");\n    Scanner kb = new Scanner((new Scanner(System.in)).nextLine()); //has to do this to make the kb.hasNexInt() work.\n    while (kb.hasNextInt()) {\n        sum += kb.nextInt();\n    }\n    System.out.println(sum);\n}\n</code></pre>\n\n<hr>\n\n<p>Find sum of each line as long as sum is not zero (based on second block of code) :</p>\n\n<pre><code>public static void main(String[] args) {\n    System.out.println(\"Enter numbers here\");\n    int sum;\n    do {\n        Scanner kb = new Scanner(System.in);\n        int score = 0;\n        sum = 0;\n        String line = kb.nextLine();\n        kb = new Scanner(line); //has to do this to make the kb.hasNexInt() work.\n        while (kb.hasNextInt()) {\n            score = kb.nextInt();\n            sum += score;\n        }\n        System.out.println(\"Sum = \" + sum);\n    } while (sum != 0);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23049025,"reputation":1,"user_id":17166145,"display_name":"Ishan Gaur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634367467,"creation_date":1634367467,"answer_id":69593396,"question_id":22647352,"body_markdown":" Question - Keep taking numbers as inputs till the user enters ‘x’, after that print sum of all.\r\n\r\n    Scanner sc = new Scanner(System.in);\r\n            int input = 0;\r\n            int sum = 0;\r\n            while (true){\r\n                sum = sum+input;\r\n                if (input==5){\r\n                    System.out.println(&quot;Loop is stopped&quot;);\r\n                    System.out.println(&quot;The sum is &quot; + sum);\r\n                    break;\r\n                }\r\n                else {\r\n                    System.out.println(&quot;Take the inputs&quot;);\r\n                    input = sc.nextInt();\r\n                }\r\n            }","title":"How to sum any amount of user inputted numbers from a single line","body":"<p>Question - Keep taking numbers as inputs till the user enters ‘x’, after that print sum of all.</p>\n<pre><code>Scanner sc = new Scanner(System.in);\n        int input = 0;\n        int sum = 0;\n        while (true){\n            sum = sum+input;\n            if (input==5){\n                System.out.println(&quot;Loop is stopped&quot;);\n                System.out.println(&quot;The sum is &quot; + sum);\n                break;\n            }\n            else {\n                System.out.println(&quot;Take the inputs&quot;);\n                input = sc.nextInt();\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22798305,"reputation":11,"user_id":16951498,"display_name":"Dushyant Verma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661080050,"creation_date":1661079806,"answer_id":73433796,"question_id":22647352,"body_markdown":"//Input the number in a single line (but be in size limit of integer)\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Sum_of_integers {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \t\tint num = sc.nextInt();\r\n    \t\tint sum = 0;\r\n    \t\twhile(num &gt;= 1) {  //base value\r\n    \t\t\tint lastval = num % 10;  //the logic\r\n    \t\t\tnum = num  / 10;\r\n    \t\t\tsum += lastval;\r\n    \t\t}\r\n    \t\tSystem.out.println(sum);\r\n    \t}\r\n    }\r\n\r\n\r\n","title":"How to sum any amount of user inputted numbers from a single line","body":"<p>//Input the number in a single line (but be in size limit of integer)</p>\n<pre><code>import java.util.Scanner;\n\npublic class Sum_of_integers {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int num = sc.nextInt();\n        int sum = 0;\n        while(num &gt;= 1) {  //base value\n            int lastval = num % 10;  //the logic\n            num = num  / 10;\n            sum += lastval;\n        }\n        System.out.println(sum);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4195560,"reputation":35,"user_id":3437060,"accept_rate":100,"display_name":"SamsinOzo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44685,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":22647434,"answer_count":3,"score":1,"last_activity_date":1661080050,"creation_date":1395785341,"question_id":22647352,"body_markdown":"Trying to figure out how I would take any amount of inputted numbers from a user and add them together\r\n\r\nExample user input: 1 2 3 4\r\nSum = 10\r\n\r\nThe user can put any amount of numbers in not a specified amount so if he wanted to add 1 2 3 4 5 6 7 8 9 10 11 12 13, it would sum them all up to 91\r\n\r\nThanks for the help in advance.\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class test\r\n    {\r\n        public static final int SENTINEL = -1;\r\n        public static void main(String[] args) {\r\n            Scanner kb = new Scanner(System.in);\r\n            int score = 0;\r\n            int sum = 0;\r\n         \r\n            System.out.println(&quot;Enter numbers here&quot;);\r\n            while (score &gt;= 0) {\r\n                if (score &lt;= -1) {\r\n                score = kb.nextInt();\r\n                sum += score;\r\n                score = 0;\r\n            }\r\n                System.out.println(sum);\r\n        }\r\n      }\r\n    }\r\n\r\n---------------------------------------\r\n\r\nThanks to libik for all his time and help, here is the finished code.\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class JavaApplication1156 {\r\n    \r\n        public static void main(String[] args) {\r\n        System.out.println(&quot;Enter numbers here&quot;);\r\n        int sum;\r\n        do {\r\n            Scanner kb = new Scanner(System.in);\r\n            int score = 0;\r\n            sum = 0;\r\n            String line = kb.nextLine();\r\n            kb = new Scanner(line); //has to do this to make the kb.hasNexInt() work.\r\n            while (kb.hasNextInt()) {\r\n                score = kb.nextInt();\r\n                sum += score;\r\n            }\r\n            if (sum &lt;= -1)\r\n            System.out.println(&quot;Application ended&quot;);\r\n            else if (sum &gt;= 0)\r\n            System.out.println(&quot;Sum = &quot; + sum);\r\n    \r\n        } while (sum != -1);\r\n      }\r\n    \r\n    }\r\n\r\n","title":"How to sum any amount of user inputted numbers from a single line","body":"<p>Trying to figure out how I would take any amount of inputted numbers from a user and add them together</p>\n\n<p>Example user input: 1 2 3 4\nSum = 10</p>\n\n<p>The user can put any amount of numbers in not a specified amount so if he wanted to add 1 2 3 4 5 6 7 8 9 10 11 12 13, it would sum them all up to 91</p>\n\n<p>Thanks for the help in advance.</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class test\n{\n    public static final int SENTINEL = -1;\n    public static void main(String[] args) {\n        Scanner kb = new Scanner(System.in);\n        int score = 0;\n        int sum = 0;\n\n        System.out.println(\"Enter numbers here\");\n        while (score &gt;= 0) {\n            if (score &lt;= -1) {\n            score = kb.nextInt();\n            sum += score;\n            score = 0;\n        }\n            System.out.println(sum);\n    }\n  }\n}\n</code></pre>\n\n<hr>\n\n<p>Thanks to libik for all his time and help, here is the finished code.</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class JavaApplication1156 {\n\n    public static void main(String[] args) {\n    System.out.println(\"Enter numbers here\");\n    int sum;\n    do {\n        Scanner kb = new Scanner(System.in);\n        int score = 0;\n        sum = 0;\n        String line = kb.nextLine();\n        kb = new Scanner(line); //has to do this to make the kb.hasNexInt() work.\n        while (kb.hasNextInt()) {\n            score = kb.nextInt();\n            sum += score;\n        }\n        if (sum &lt;= -1)\n        System.out.println(\"Application ended\");\n        else if (sum &gt;= 0)\n        System.out.println(\"Sum = \" + sum);\n\n    } while (sum != -1);\n  }\n\n}\n</code></pre>\n"},{"tags":["java","microsoft-graph-api","microsoft-graph-sdks","microsoft-graph-files"],"answers":[{"tags":[],"owner":{"account_id":24140407,"reputation":571,"user_id":18106676,"display_name":"vicky kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660922373,"creation_date":1660915581,"answer_id":73417522,"question_id":73416272,"body_markdown":"It looks like you are trying with the wrong code. Use this code to search the file:\r\n\r\n```\r\nGraphServiceClient graphClient = GraphServiceClient.builder().authenticationProvider( authProvider ).buildClient();\r\n\r\nDriveItemSearchCollectionPage search = graphClient.me().drive().root()\r\n\t.search(DriveItemSearchParameterSet\r\n\t\t.newBuilder()\r\n\t\t.withQ(&quot;File_Name&quot;)\r\n\t\t.build())\r\n\t.buildRequest()\r\n\t.get();\r\n```\r\n\r\nReference: https://learn.microsoft.com/en-us/graph/api/driveitem-search?view=graph-rest-1.0&amp;tabs=java","title":"I receive 403 HTTP status on &quot;/drive/root/search(q=&#39;file-name&#39;)&quot;","body":"<p>It looks like you are trying with the wrong code. Use this code to search the file:</p>\n<pre><code>GraphServiceClient graphClient = GraphServiceClient.builder().authenticationProvider( authProvider ).buildClient();\n\nDriveItemSearchCollectionPage search = graphClient.me().drive().root()\n    .search(DriveItemSearchParameterSet\n        .newBuilder()\n        .withQ(&quot;File_Name&quot;)\n        .build())\n    .buildRequest()\n    .get();\n</code></pre>\n<p>Reference: <a href=\"https://learn.microsoft.com/en-us/graph/api/driveitem-search?view=graph-rest-1.0&amp;tabs=java\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/graph/api/driveitem-search?view=graph-rest-1.0&amp;tabs=java</a></p>\n"},{"tags":[],"owner":{"account_id":14141709,"reputation":51,"user_id":13848365,"display_name":"Artur Kovalchuk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661079031,"creation_date":1661078655,"answer_id":73433666,"question_id":73416272,"body_markdown":"Need to add the scope &quot;Sites.Read.All&quot; before the update I had &quot;User.Read.All&quot; and &quot;Files.Read.All&quot;","title":"I receive 403 HTTP status on &quot;/drive/root/search(q=&#39;file-name&#39;)&quot;","body":"<p>Need to add the scope &quot;Sites.Read.All&quot; before the update I had &quot;User.Read.All&quot; and &quot;Files.Read.All&quot;</p>\n"}],"owner":{"account_id":14141709,"reputation":51,"user_id":13848365,"display_name":"Artur Kovalchuk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73433666,"answer_count":2,"score":2,"last_activity_date":1661079031,"creation_date":1660909504,"question_id":73416272,"body_markdown":"I build GraphServiceClient \r\n```\r\n        final ClientSecretCredential clientSecretCredential = new ClientSecretCredentialBuilder()\r\n            .clientId(&quot;todo-replace-on-own&quot;)\r\n            .clientSecret(&quot;todo-replace-on-own&quot;)\r\n            .tenantId(&quot;todo-replace-on-own&quot;)\r\n            .build();\r\n\r\n        final TokenCredentialAuthProvider tokenCredAuthProvider =\r\n            new TokenCredentialAuthProvider(List.of(&quot;https://graph.microsoft.com/.default&quot;), clientSecretCredential);\r\n\r\n        final GraphServiceClient graphClient = GraphServiceClient\r\n            .builder()\r\n            .authenticationProvider(tokenCredAuthProvider)\r\n            .buildClient();\r\n```\r\n\r\nand I try to find a file\r\n\r\n```\r\ngraphClient.customRequest(&quot;/drive/root/search(q=&#39;file-name&#39;)&quot;)\r\n    .buildRequest()\r\n    .get();\r\n```\r\n\r\nbut receive 403 HTTP status, is it a problem in scope or file permissions?\r\n\r\nUDP: \r\nI also try with\r\n```\r\n        DriveItemSearchCollectionPage search = graphClient\r\n            .drive()\r\n            .root()\r\n            .search(DriveItemSearchParameterSet.newBuilder() .withQ(&quot;File_Name&quot;).build())\r\n            .buildRequest()\r\n            .get();\r\n```\r\nResponse:\r\n```\r\nError message: Access denied\r\n\r\nGET https://graph.microsoft.com/v1.0/drive/root/microsoft.graph.search(q=&#39;File_Name&#39;)\r\nSdkVersion : graph-java/v5.31.0\r\n\r\n\r\n403 : Forbidden\r\n```","title":"I receive 403 HTTP status on &quot;/drive/root/search(q=&#39;file-name&#39;)&quot;","body":"<p>I build GraphServiceClient</p>\n<pre><code>        final ClientSecretCredential clientSecretCredential = new ClientSecretCredentialBuilder()\n            .clientId(&quot;todo-replace-on-own&quot;)\n            .clientSecret(&quot;todo-replace-on-own&quot;)\n            .tenantId(&quot;todo-replace-on-own&quot;)\n            .build();\n\n        final TokenCredentialAuthProvider tokenCredAuthProvider =\n            new TokenCredentialAuthProvider(List.of(&quot;https://graph.microsoft.com/.default&quot;), clientSecretCredential);\n\n        final GraphServiceClient graphClient = GraphServiceClient\n            .builder()\n            .authenticationProvider(tokenCredAuthProvider)\n            .buildClient();\n</code></pre>\n<p>and I try to find a file</p>\n<pre><code>graphClient.customRequest(&quot;/drive/root/search(q='file-name')&quot;)\n    .buildRequest()\n    .get();\n</code></pre>\n<p>but receive 403 HTTP status, is it a problem in scope or file permissions?</p>\n<p>UDP:\nI also try with</p>\n<pre><code>        DriveItemSearchCollectionPage search = graphClient\n            .drive()\n            .root()\n            .search(DriveItemSearchParameterSet.newBuilder() .withQ(&quot;File_Name&quot;).build())\n            .buildRequest()\n            .get();\n</code></pre>\n<p>Response:</p>\n<pre><code>Error message: Access denied\n\nGET https://graph.microsoft.com/v1.0/drive/root/microsoft.graph.search(q='File_Name')\nSdkVersion : graph-java/v5.31.0\n\n\n403 : Forbidden\n</code></pre>\n"},{"tags":["java","android","zxing","qr-code"],"comments":[{"owner":{"account_id":2162158,"reputation":540,"user_id":1916093,"display_name":"Flaxie"},"score":0,"creation_date":1422607695,"post_id":28232116,"comment_id":44826468,"body_markdown":"Are you running proguard on the code?","body":"Are you running proguard on the code?"},{"owner":{"display_name":"user2531590"},"score":0,"creation_date":1422607806,"post_id":28232116,"comment_id":44826512,"body_markdown":"@Flaxie Nope but why?","body":"@Flaxie Nope but why?"},{"owner":{"account_id":4182503,"reputation":2396,"user_id":3427079,"accept_rate":87,"display_name":"G_V"},"score":0,"creation_date":1422607973,"post_id":28232116,"comment_id":44826578,"body_markdown":"Did you add the jar to the build path?","body":"Did you add the jar to the build path?"},{"owner":{"account_id":2162158,"reputation":540,"user_id":1916093,"display_name":"Flaxie"},"score":0,"creation_date":1422608006,"post_id":28232116,"comment_id":44826594,"body_markdown":"If it works in debug but you have &quot;minifyEnabled true&quot; in your gradle file the release builds will get obfuscated and the names on the classes will change.","body":"If it works in debug but you have &quot;minifyEnabled true&quot; in your gradle file the release builds will get obfuscated and the names on the classes will change."},{"owner":{"display_name":"user2531590"},"score":0,"creation_date":1422608051,"post_id":28232116,"comment_id":44826612,"body_markdown":"@G_V Yeah, I added the core.jar into the build path and under the libs already","body":"@G_V Yeah, I added the core.jar into the build path and under the libs already"},{"owner":{"display_name":"user2531590"},"score":0,"creation_date":1422608082,"post_id":28232116,"comment_id":44826622,"body_markdown":"@Flaxie Sorry but what do I have to change? And yeah sorry my mistake, I saw the proguard.txt under the file structure","body":"@Flaxie Sorry but what do I have to change? And yeah sorry my mistake, I saw the proguard.txt under the file structure"},{"owner":{"account_id":2162158,"reputation":540,"user_id":1916093,"display_name":"Flaxie"},"score":0,"creation_date":1422608264,"post_id":28232116,"comment_id":44826700,"body_markdown":"In your build.gradle try setting &quot;minifyEnabled false&quot;.","body":"In your build.gradle try setting &quot;minifyEnabled false&quot;."},{"owner":{"display_name":"user2531590"},"score":0,"creation_date":1422608366,"post_id":28232116,"comment_id":44826749,"body_markdown":"But then I could not find the build.gradle file","body":"But then I could not find the build.gradle file"},{"owner":{"account_id":2255261,"reputation":1459,"user_id":1986576,"display_name":"HenryChuang"},"score":0,"creation_date":1422608567,"post_id":28232116,"comment_id":44826865,"body_markdown":"make sure your core.jar has been exported, in eclipse : project -&gt; properties -&gt; java build path -&gt; order and export","body":"make sure your core.jar has been exported, in eclipse : project -&gt; properties -&gt; java build path -&gt; order and export"},{"owner":{"account_id":2069643,"reputation":18925,"user_id":1844392,"accept_rate":65,"display_name":"Piyush"},"score":0,"creation_date":1422608787,"post_id":28232116,"comment_id":44826986,"body_markdown":"@IWasSoLost Is it in Android Studio?","body":"@IWasSoLost Is it in Android Studio?"},{"owner":{"display_name":"user2531590"},"score":0,"creation_date":1422609185,"post_id":28232116,"comment_id":44827201,"body_markdown":"Nope, I am using eclipse for Android.","body":"Nope, I am using eclipse for Android."},{"owner":{"display_name":"user2531590"},"score":0,"creation_date":1422609255,"post_id":28232116,"comment_id":44827240,"body_markdown":"@HenryChuang And yup, the core.jar is inside the order and export as well","body":"@HenryChuang And yup, the core.jar is inside the order and export as well"},{"owner":{"account_id":2069643,"reputation":18925,"user_id":1844392,"accept_rate":65,"display_name":"Piyush"},"score":0,"creation_date":1422609665,"post_id":28232116,"comment_id":44827446,"body_markdown":"@IWasSoLost So is it checked in order and export menu too?","body":"@IWasSoLost So is it checked in order and export menu too?"},{"owner":{"display_name":"user2531590"},"score":0,"creation_date":1422610098,"post_id":28232116,"comment_id":44827689,"body_markdown":"Oh yeah, sorry my bad. I didn&#39;t checked it","body":"Oh yeah, sorry my bad. I didn&#39;t checked it"},{"owner":{"account_id":2069643,"reputation":18925,"user_id":1844392,"accept_rate":65,"display_name":"Piyush"},"score":0,"creation_date":1422610649,"post_id":28232116,"comment_id":44828004,"body_markdown":"So you need to check it. Clean your project and run it.","body":"So you need to check it. Clean your project and run it."}],"answers":[{"tags":[],"owner":{"account_id":55135,"reputation":21845,"user_id":165071,"accept_rate":96,"display_name":"Alexander Farber"},"down_vote_count":0,"up_vote_count":75,"is_accepted":false,"score":75,"last_activity_date":1651403108,"creation_date":1432900978,"answer_id":30529128,"question_id":28232116,"body_markdown":"I have updated [my small demo project at Github][1] and my answer below for the year 2022:\r\n\r\n[![screenshot][2]][2]\r\n\r\nAdd the ZXing library to your [app/build.gradle][3] file:\r\n\r\n    implementation &#39;com.google.zxing:core:3.4.1&#39;\r\n\r\nAnd then use the following function in your [MainActivity.java][4] to generate a QR code image out of a string:\r\n\r\n    Bitmap encodeAsBitmap(String str) throws WriterException {\r\n        QRCodeWriter writer = new QRCodeWriter();\r\n        BitMatrix bitMatrix = writer.encode(str, BarcodeFormat.QR_CODE, 400, 400);\r\n\r\n        int w = bitMatrix.getWidth();\r\n        int h = bitMatrix.getHeight();\r\n        int[] pixels = new int[w * h];\r\n        for (int y = 0; y &lt; h; y++) {\r\n            for (int x = 0; x &lt; w; x++) {\r\n                pixels[y * w + x] = bitMatrix.get(x, y) ? Color.BLACK : Color.WHITE;\r\n            }\r\n        }\r\n\r\n        Bitmap bitmap = Bitmap.createBitmap(w, h, Bitmap.Config.ARGB_8888);\r\n        bitmap.setPixels(pixels, 0, w, 0, 0, w, h);\r\n        return bitmap;\r\n    }\r\n\r\n  [1]: https://github.com/afarber/android-questions/tree/master/QREncoder\r\n  [2]: https://i.stack.imgur.com/ZWKxy.png\r\n  [3]: https://github.com/afarber/android-questions/blob/master/QREncoder/app/build.gradle\r\n  [4]: https://github.com/afarber/android-questions/blob/master/QREncoder/app/src/main/java/de/afarber/qrencoder/MainActivity.java","title":"Android Using ZXing Generate QR Code","body":"<p>I have updated <a href=\"https://github.com/afarber/android-questions/tree/master/QREncoder\" rel=\"noreferrer\">my small demo project at Github</a> and my answer below for the year 2022:</p>\n<p><a href=\"https://i.stack.imgur.com/ZWKxy.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ZWKxy.png\" alt=\"screenshot\" /></a></p>\n<p>Add the ZXing library to your <a href=\"https://github.com/afarber/android-questions/blob/master/QREncoder/app/build.gradle\" rel=\"noreferrer\">app/build.gradle</a> file:</p>\n<pre><code>implementation 'com.google.zxing:core:3.4.1'\n</code></pre>\n<p>And then use the following function in your <a href=\"https://github.com/afarber/android-questions/blob/master/QREncoder/app/src/main/java/de/afarber/qrencoder/MainActivity.java\" rel=\"noreferrer\">MainActivity.java</a> to generate a QR code image out of a string:</p>\n<pre><code>Bitmap encodeAsBitmap(String str) throws WriterException {\n    QRCodeWriter writer = new QRCodeWriter();\n    BitMatrix bitMatrix = writer.encode(str, BarcodeFormat.QR_CODE, 400, 400);\n\n    int w = bitMatrix.getWidth();\n    int h = bitMatrix.getHeight();\n    int[] pixels = new int[w * h];\n    for (int y = 0; y &lt; h; y++) {\n        for (int x = 0; x &lt; w; x++) {\n            pixels[y * w + x] = bitMatrix.get(x, y) ? Color.BLACK : Color.WHITE;\n        }\n    }\n\n    Bitmap bitmap = Bitmap.createBitmap(w, h, Bitmap.Config.ARGB_8888);\n    bitmap.setPixels(pixels, 0, w, 0, 0, w, h);\n    return bitmap;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1428565,"reputation":3002,"user_id":1351505,"accept_rate":30,"display_name":"Anirudh"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1547644981,"creation_date":1481542080,"answer_id":41099837,"question_id":28232116,"body_markdown":"    public static int white = 0xFFFFFFFF;\r\n\tpublic static int black = 0xFF000000;\r\n\tpublic final static int WIDTH = 500;\r\n\r\n\r\n    try\r\n\t\t{\r\n\t\t\tBitmap bmp =  encodeAsBitmap(&quot;Life is a bitch&quot;);\r\n            imgView.setImageBitmap(bmp);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\r\n    Bitmap encodeAsBitmap(String str) throws WriterException {\r\n\t\tBitMatrix result;\r\n\t\tBitmap bitmap=null;\r\n\t\ttry\r\n\t\t{\r\n\t\t\tresult = new MultiFormatWriter().encode(str,\r\n\t\t\t\t\tBarcodeFormat.QR_CODE, WIDTH, WIDTH, null);\r\n\r\n\t\t\tint w = result.getWidth();\r\n\t\t\tint h = result.getHeight();\r\n\t\t\tint[] pixels = new int[w * h];\r\n\t\t\tfor (int y = 0; y &lt; h; y++) {\r\n\t\t\t\tint offset = y * w;\r\n\t\t\t\tfor (int x = 0; x &lt; w; x++) {\r\n\t\t\t\t\tpixels[offset + x] = result.get(x, y) ? black:white;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tbitmap = Bitmap.createBitmap(w, h, Bitmap.Config.ARGB_8888);\r\n\t\t\tbitmap.setPixels(pixels, 0, WIDTH, 0, 0, w, h);\r\n\t\t} catch (Exception iae) {\r\n\t\t\tiae.printStackTrace();\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn bitmap;\r\n\t}","title":"Android Using ZXing Generate QR Code","body":"<pre><code>public static int white = 0xFFFFFFFF;\npublic static int black = 0xFF000000;\npublic final static int WIDTH = 500;\n\n\ntry\n    {\n        Bitmap bmp =  encodeAsBitmap(\"Life is a bitch\");\n        imgView.setImageBitmap(bmp);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n\nBitmap encodeAsBitmap(String str) throws WriterException {\n    BitMatrix result;\n    Bitmap bitmap=null;\n    try\n    {\n        result = new MultiFormatWriter().encode(str,\n                BarcodeFormat.QR_CODE, WIDTH, WIDTH, null);\n\n        int w = result.getWidth();\n        int h = result.getHeight();\n        int[] pixels = new int[w * h];\n        for (int y = 0; y &lt; h; y++) {\n            int offset = y * w;\n            for (int x = 0; x &lt; w; x++) {\n                pixels[offset + x] = result.get(x, y) ? black:white;\n            }\n        }\n        bitmap = Bitmap.createBitmap(w, h, Bitmap.Config.ARGB_8888);\n        bitmap.setPixels(pixels, 0, WIDTH, 0, 0, w, h);\n    } catch (Exception iae) {\n        iae.printStackTrace();\n        return null;\n    }\n    return bitmap;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7973859,"reputation":483,"user_id":6017633,"display_name":"user6017633"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1651411474,"creation_date":1491587031,"answer_id":43284184,"question_id":28232116,"body_markdown":"ZXing library can help here.\r\n\r\nOrigin is: [Generate QRCode Android Example][1]\r\n\r\nAdd in dependencies\r\n\r\n    compile &#39;com.google.zxing:core:3.2.1&#39;\r\n\r\nHere is the method to convert string into QR Image \r\n \r\n\r\n    private Bitmap TextToImageEncode(String Value) throws WriterException {\r\n            BitMatrix bitMatrix;\r\n            try {\r\n                bitMatrix = new MultiFormatWriter().encode(\r\n                        Value,\r\n                        BarcodeFormat.DATA_MATRIX.QR_CODE,\r\n                        QRcodeWidth, QRcodeWidth, null\r\n                );\r\n     \r\n            } catch (IllegalArgumentException Illegalargumentexception) {\r\n     \r\n                return null;\r\n            }\r\n            int bitMatrixWidth = bitMatrix.getWidth();\r\n     \r\n            int bitMatrixHeight = bitMatrix.getHeight();\r\n     \r\n            int[] pixels = new int[bitMatrixWidth * bitMatrixHeight];\r\n     \r\n            for (int y = 0; y &lt; bitMatrixHeight; y++) {\r\n                int offset = y * bitMatrixWidth;\r\n     \r\n                for (int x = 0; x &lt; bitMatrixWidth; x++) {\r\n     \r\n                    pixels[offset + x] = bitMatrix.get(x, y) ?\r\n                            getResources().getColor(R.color.black):getResources().getColor(R.color.white);\r\n                }\r\n            }\r\n            Bitmap bitmap = Bitmap.createBitmap(bitMatrixWidth, bitMatrixHeight, Bitmap.Config.ARGB_4444);\r\n     \r\n            bitmap.setPixels(pixels, 0, 500, 0, 0, bitMatrixWidth, bitMatrixHeight);\r\n            return bitmap;\r\n        }\r\n\r\nSave generated QR image \r\n\r\n     public String saveImage(Bitmap myBitmap) {\r\n            ByteArrayOutputStream bytes = new ByteArrayOutputStream();\r\n            myBitmap.compress(Bitmap.CompressFormat.JPEG, 90, bytes);\r\n            File wallpaperDirectory = new File(\r\n                    Environment.getExternalStorageDirectory() + IMAGE_DIRECTORY);\r\n            // have the object build the directory structure, if needed.\r\n     \r\n            if (!wallpaperDirectory.exists()) {\r\n                Log.d(&quot;dirrrrrr&quot;, &quot;&quot; + wallpaperDirectory.mkdirs());\r\n                wallpaperDirectory.mkdirs();\r\n            }\r\n     \r\n            try {\r\n                File f = new File(wallpaperDirectory, Calendar.getInstance()\r\n                        .getTimeInMillis() + &quot;.jpg&quot;);\r\n                f.createNewFile();   //give read write permission\r\n                FileOutputStream fo = new FileOutputStream(f);\r\n                fo.write(bytes.toByteArray());\r\n                MediaScannerConnection.scanFile(this,\r\n                        new String[]{f.getPath()},\r\n                        new String[]{&quot;image/jpeg&quot;}, null);\r\n                fo.close();\r\n                Log.d(&quot;TAG&quot;, &quot;File Saved::---&gt;&quot; + f.getAbsolutePath());\r\n     \r\n                return f.getAbsolutePath();\r\n            } catch (IOException e1) {\r\n                e1.printStackTrace();\r\n            }\r\n            return &quot;&quot;;\r\n     \r\n        }\r\n\r\n\r\n  [1]: https://demonuts.com/generate-qr-code/","title":"Android Using ZXing Generate QR Code","body":"<p>ZXing library can help here.</p>\n<p>Origin is: <a href=\"https://demonuts.com/generate-qr-code/\" rel=\"nofollow noreferrer\">Generate QRCode Android Example</a></p>\n<p>Add in dependencies</p>\n<pre><code>compile 'com.google.zxing:core:3.2.1'\n</code></pre>\n<p>Here is the method to convert string into QR Image</p>\n<pre><code>private Bitmap TextToImageEncode(String Value) throws WriterException {\n        BitMatrix bitMatrix;\n        try {\n            bitMatrix = new MultiFormatWriter().encode(\n                    Value,\n                    BarcodeFormat.DATA_MATRIX.QR_CODE,\n                    QRcodeWidth, QRcodeWidth, null\n            );\n \n        } catch (IllegalArgumentException Illegalargumentexception) {\n \n            return null;\n        }\n        int bitMatrixWidth = bitMatrix.getWidth();\n \n        int bitMatrixHeight = bitMatrix.getHeight();\n \n        int[] pixels = new int[bitMatrixWidth * bitMatrixHeight];\n \n        for (int y = 0; y &lt; bitMatrixHeight; y++) {\n            int offset = y * bitMatrixWidth;\n \n            for (int x = 0; x &lt; bitMatrixWidth; x++) {\n \n                pixels[offset + x] = bitMatrix.get(x, y) ?\n                        getResources().getColor(R.color.black):getResources().getColor(R.color.white);\n            }\n        }\n        Bitmap bitmap = Bitmap.createBitmap(bitMatrixWidth, bitMatrixHeight, Bitmap.Config.ARGB_4444);\n \n        bitmap.setPixels(pixels, 0, 500, 0, 0, bitMatrixWidth, bitMatrixHeight);\n        return bitmap;\n    }\n</code></pre>\n<p>Save generated QR image</p>\n<pre><code> public String saveImage(Bitmap myBitmap) {\n        ByteArrayOutputStream bytes = new ByteArrayOutputStream();\n        myBitmap.compress(Bitmap.CompressFormat.JPEG, 90, bytes);\n        File wallpaperDirectory = new File(\n                Environment.getExternalStorageDirectory() + IMAGE_DIRECTORY);\n        // have the object build the directory structure, if needed.\n \n        if (!wallpaperDirectory.exists()) {\n            Log.d(&quot;dirrrrrr&quot;, &quot;&quot; + wallpaperDirectory.mkdirs());\n            wallpaperDirectory.mkdirs();\n        }\n \n        try {\n            File f = new File(wallpaperDirectory, Calendar.getInstance()\n                    .getTimeInMillis() + &quot;.jpg&quot;);\n            f.createNewFile();   //give read write permission\n            FileOutputStream fo = new FileOutputStream(f);\n            fo.write(bytes.toByteArray());\n            MediaScannerConnection.scanFile(this,\n                    new String[]{f.getPath()},\n                    new String[]{&quot;image/jpeg&quot;}, null);\n            fo.close();\n            Log.d(&quot;TAG&quot;, &quot;File Saved::---&gt;&quot; + f.getAbsolutePath());\n \n            return f.getAbsolutePath();\n        } catch (IOException e1) {\n            e1.printStackTrace();\n        }\n        return &quot;&quot;;\n \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6830603,"reputation":934,"user_id":5254754,"accept_rate":100,"display_name":"Harshil"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1506428953,"creation_date":1506428953,"answer_id":46426616,"question_id":28232116,"body_markdown":"Following code worked for me:\r\n\r\n    ...\r\n    String QRcode = &quot;...&quot;;\r\n    new generateQrcode(qrcodeImageview).execute(QRcode);\r\n    ...\r\n    private class generateQrcode extends AsyncTask&lt;String, Void, Bitmap&gt; {\r\n            public final static int WIDTH = 400;\r\n            ImageView bmImage;\r\n    \r\n            public generateQrcode(ImageView bmImage) {\r\n                this.bmImage = bmImage;\r\n            }\r\n    \r\n            protected Bitmap doInBackground(String... urls) {\r\n                String Value = urls[0];\r\n                com.google.zxing.Writer writer = new QRCodeWriter();\r\n                Bitmap bitmap = null;\r\n                BitMatrix bitMatrix = null;\r\n                try {\r\n                    bitMatrix = writer.encode(Value, com.google.zxing.BarcodeFormat.QR_CODE, WIDTH, WIDTH,\r\n                            ImmutableMap.of(EncodeHintType.MARGIN, 1));\r\n                    bitmap = Bitmap.createBitmap(400, 400, Bitmap.Config.ARGB_8888);\r\n                    for (int i = 0; i &lt; 400; i++) {\r\n                        for (int j = 0; j &lt; 400; j++) {\r\n                            bitmap.setPixel(i, j, bitMatrix.get(i, j) ? Color.BLACK\r\n                                    : Color.WHITE);\r\n                        }\r\n                    }\r\n                } catch (WriterException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                return bitmap;\r\n            }\r\n    \r\n            protected void onPostExecute(Bitmap result) {\r\n                bmImage.setImageBitmap(result);\r\n            }\r\n        }","title":"Android Using ZXing Generate QR Code","body":"<p>Following code worked for me:</p>\n\n<pre><code>...\nString QRcode = \"...\";\nnew generateQrcode(qrcodeImageview).execute(QRcode);\n...\nprivate class generateQrcode extends AsyncTask&lt;String, Void, Bitmap&gt; {\n        public final static int WIDTH = 400;\n        ImageView bmImage;\n\n        public generateQrcode(ImageView bmImage) {\n            this.bmImage = bmImage;\n        }\n\n        protected Bitmap doInBackground(String... urls) {\n            String Value = urls[0];\n            com.google.zxing.Writer writer = new QRCodeWriter();\n            Bitmap bitmap = null;\n            BitMatrix bitMatrix = null;\n            try {\n                bitMatrix = writer.encode(Value, com.google.zxing.BarcodeFormat.QR_CODE, WIDTH, WIDTH,\n                        ImmutableMap.of(EncodeHintType.MARGIN, 1));\n                bitmap = Bitmap.createBitmap(400, 400, Bitmap.Config.ARGB_8888);\n                for (int i = 0; i &lt; 400; i++) {\n                    for (int j = 0; j &lt; 400; j++) {\n                        bitmap.setPixel(i, j, bitMatrix.get(i, j) ? Color.BLACK\n                                : Color.WHITE);\n                    }\n                }\n            } catch (WriterException e) {\n                e.printStackTrace();\n            }\n            return bitmap;\n        }\n\n        protected void onPostExecute(Bitmap result) {\n            bmImage.setImageBitmap(result);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2081724,"reputation":3713,"user_id":2472350,"accept_rate":67,"display_name":"Amin Keshavarzian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661078003,"creation_date":1661078003,"answer_id":73433597,"question_id":28232116,"body_markdown":"Using this [library][1] its easier\r\n\r\n\r\n  [1]: https://github.com/journeyapps/zxing-android-embedded\r\n\r\nadd the dependency :\r\n\r\n    implementation &#39;com.journeyapps:zxing-android-embedded:4.3.0&#39;\r\n\r\nand easily get the bitmap:\r\n\r\n    try {\r\n           val qrCodeBitmap = BarcodeEncoder().encodeBitmap(&quot;your qr code data here&quot;, BarcodeFormat.QR_CODE, 400, 400)\r\n    } catch (e: Exception) {\r\n\r\n    }","title":"Android Using ZXing Generate QR Code","body":"<p>Using this <a href=\"https://github.com/journeyapps/zxing-android-embedded\" rel=\"nofollow noreferrer\">library</a> its easier</p>\n<p>add the dependency :</p>\n<pre><code>implementation 'com.journeyapps:zxing-android-embedded:4.3.0'\n</code></pre>\n<p>and easily get the bitmap:</p>\n<pre><code>try {\n       val qrCodeBitmap = BarcodeEncoder().encodeBitmap(&quot;your qr code data here&quot;, BarcodeFormat.QR_CODE, 400, 400)\n} catch (e: Exception) {\n\n}\n</code></pre>\n"}],"owner":{"display_name":"user2531590"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63055,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"answer_count":5,"score":32,"last_activity_date":1661078003,"creation_date":1422607328,"question_id":28232116,"body_markdown":"I was having some problem when trying to generate QR code in Android Programming. Here is the [Tutorial][1] I followed. When my generate button on click, I am calling this method:\r\n\r\n\tprivate void generateQR(){\r\n\t\tString qrInputText = &quot;test&quot;;\r\n\t\t\r\n\t\t//Find screen size\r\n\t\tWindowManager manager = (WindowManager) getSystemService(WINDOW_SERVICE);\r\n\t\tDisplay display = manager.getDefaultDisplay();\r\n\t\tPoint point = new Point();\r\n\t\tdisplay.getSize(point);\r\n\t\tint width = point.x;\r\n\t\tint height = point.y;\r\n\t\tint smallerDimension = width &lt; height ? width : height;\r\n\t\tsmallerDimension = smallerDimension * 3/4;\r\n\t\t\r\n\t\t//Encode with a QR Code image\r\n\t\tQRCodeEncoder qrCodeEncoder = new QRCodeEncoder(\r\n\t\t\tqrInputText, \r\n\t\t\tnull, \r\n\t\t\tContents.Type.TEXT,  \r\n\t\t\tBarcodeFormat.QR_CODE.toString(), \r\n\t\t\tsmallerDimension\r\n\t\t);\r\n\t\ttry {\r\n\t\t\tBitmap bitmap = qrCodeEncoder.encodeAsBitmap();\r\n\t\t\tImageView myImage = (ImageView) findViewById(R.id.ivImage);\r\n\t\t\tmyImage.setImageBitmap(bitmap);\r\n\t\t} catch (WriterException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\nAnd then for the QRCodeEncoder and Contents classes, I followed the one in the tutorial. However, when I click on generate, I am getting the error message as:\r\n\r\n    01-30 16:37:03.093: I/dalvikvm(1069): Could not find method com.google.zxing.BarcodeFormat.valueOf, referenced from method com.example.qrcodescan.QRCodeEncoder.encodeContents\r\n    01-30 16:37:03.093: W/dalvikvm(1069): VFY: unable to resolve static method 338: Lcom/google/zxing/BarcodeFormat;.valueOf (Ljava/lang/String;)Lcom/google/zxing/BarcodeFormat;\r\n    01-30 16:37:03.093: D/dalvikvm(1069): VFY: replacing opcode 0x71 at 0x0005\r\n    01-30 16:37:03.093: W/dalvikvm(1069): VFY: unable to resolve static field 287 (QR_CODE) in Lcom/google/zxing/BarcodeFormat;\r\n    01-30 16:37:03.093: D/dalvikvm(1069): VFY: replacing opcode 0x62 at 0x0011\r\n    01-30 16:37:03.093: W/dalvikvm(1069): VFY: unable to resolve static field 287 (QR_CODE) in Lcom/google/zxing/BarcodeFormat;\r\n    01-30 16:37:03.093: D/dalvikvm(1069): VFY: replacing opcode 0x62 at 0x0015\r\n    01-30 16:37:03.093: W/dalvikvm(1069): VFY: unable to resolve static field 294 (CHARACTER_SET) in Lcom/google/zxing/EncodeHintType;\r\n    01-30 16:37:03.093: D/dalvikvm(1069): VFY: replacing opcode 0x62 at 0x0018\r\n    01-30 16:37:03.093: E/dalvikvm(1069): Could not find class &#39;com.google.zxing.MultiFormatWriter&#39;, referenced from method com.example.qrcodescan.QRCodeEncoder.encodeAsBitmap\r\n    01-30 16:37:03.093: W/dalvikvm(1069): VFY: unable to resolve new-instance 150 (Lcom/google/zxing/MultiFormatWriter;) in Lcom/example/qrcodescan/QRCodeEncoder;\r\n    01-30 16:37:03.093: D/dalvikvm(1069): VFY: replacing opcode 0x22 at 0x001d\r\n    01-30 16:37:03.093: D/dalvikvm(1069): DexOpt: unable to opt direct call 0x0159 at 0x1f in Lcom/example/qrcodescan/QRCodeEncoder;.encodeAsBitmap\r\n    01-30 16:37:03.093: D/AndroidRuntime(1069): Shutting down VM\r\n    01-30 16:37:03.093: W/dalvikvm(1069): threadid=1: thread exiting with uncaught exception (group=0x40c341f8)\r\n    01-30 16:37:03.101: E/AndroidRuntime(1069): FATAL EXCEPTION: main\r\n    01-30 16:37:03.101: E/AndroidRuntime(1069): java.lang.NoClassDefFoundError: com.google.zxing.BarcodeFormat\r\n    01-30 16:37:03.101: E/AndroidRuntime(1069): \tat com.example.qrcodescan.MainActivity.generateQR(MainActivity.java:95)\r\n    01-30 16:37:03.101: E/AndroidRuntime(1069): \tat com.example.qrcodescan.MainActivity.access$0(MainActivity.java:77)\r\n    01-30 16:37:03.101: E/AndroidRuntime(1069): \tat com.example.qrcodescan.MainActivity$2.onClick(MainActivity.java:54)\r\n    01-30 16:37:03.101: E/AndroidRuntime(1069): \tat android.view.View.performClick(View.java:3620)\r\n    01-30 16:37:03.101: E/AndroidRuntime(1069): \tat android.view.View$PerformClick.run(View.java:14292)\r\n    01-30 16:37:03.101: E/AndroidRuntime(1069): \tat android.os.Handler.handleCallback(Handler.java:605)\r\n    01-30 16:37:03.101: E/AndroidRuntime(1069): \tat android.os.Handler.dispatchMessage(Handler.java:92)\r\n    01-30 16:37:03.101: E/AndroidRuntime(1069): \tat android.os.Looper.loop(Looper.java:137)\r\n    01-30 16:37:03.101: E/AndroidRuntime(1069): \tat android.app.ActivityThread.main(ActivityThread.java:4512)\r\n    01-30 16:37:03.101: E/AndroidRuntime(1069): \tat java.lang.reflect.Method.invokeNative(Native Method)\r\n    01-30 16:37:03.101: E/AndroidRuntime(1069): \tat java.lang.reflect.Method.invoke(Method.java:511)\r\n    01-30 16:37:03.101: E/AndroidRuntime(1069): \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:982)\r\n    01-30 16:37:03.101: E/AndroidRuntime(1069): \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:749)\r\n    01-30 16:37:03.101: E/AndroidRuntime(1069): \tat dalvik.system.NativeStart.main(Native Method)\r\n\r\nI did added the core.jar under libs folder. Any ideas? Thanks in advance.\r\n\r\n  [1]: http://www.mysamplecode.com/2012/09/android-generate-qr-code-using-zxing.html#comment-form_3020102673987308109","title":"Android Using ZXing Generate QR Code","body":"<p>I was having some problem when trying to generate QR code in Android Programming. Here is the <a href=\"http://www.mysamplecode.com/2012/09/android-generate-qr-code-using-zxing.html#comment-form_3020102673987308109\">Tutorial</a> I followed. When my generate button on click, I am calling this method:</p>\n\n<pre><code>private void generateQR(){\n    String qrInputText = \"test\";\n\n    //Find screen size\n    WindowManager manager = (WindowManager) getSystemService(WINDOW_SERVICE);\n    Display display = manager.getDefaultDisplay();\n    Point point = new Point();\n    display.getSize(point);\n    int width = point.x;\n    int height = point.y;\n    int smallerDimension = width &lt; height ? width : height;\n    smallerDimension = smallerDimension * 3/4;\n\n    //Encode with a QR Code image\n    QRCodeEncoder qrCodeEncoder = new QRCodeEncoder(\n        qrInputText, \n        null, \n        Contents.Type.TEXT,  \n        BarcodeFormat.QR_CODE.toString(), \n        smallerDimension\n    );\n    try {\n        Bitmap bitmap = qrCodeEncoder.encodeAsBitmap();\n        ImageView myImage = (ImageView) findViewById(R.id.ivImage);\n        myImage.setImageBitmap(bitmap);\n    } catch (WriterException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>And then for the QRCodeEncoder and Contents classes, I followed the one in the tutorial. However, when I click on generate, I am getting the error message as:</p>\n\n<pre><code>01-30 16:37:03.093: I/dalvikvm(1069): Could not find method com.google.zxing.BarcodeFormat.valueOf, referenced from method com.example.qrcodescan.QRCodeEncoder.encodeContents\n01-30 16:37:03.093: W/dalvikvm(1069): VFY: unable to resolve static method 338: Lcom/google/zxing/BarcodeFormat;.valueOf (Ljava/lang/String;)Lcom/google/zxing/BarcodeFormat;\n01-30 16:37:03.093: D/dalvikvm(1069): VFY: replacing opcode 0x71 at 0x0005\n01-30 16:37:03.093: W/dalvikvm(1069): VFY: unable to resolve static field 287 (QR_CODE) in Lcom/google/zxing/BarcodeFormat;\n01-30 16:37:03.093: D/dalvikvm(1069): VFY: replacing opcode 0x62 at 0x0011\n01-30 16:37:03.093: W/dalvikvm(1069): VFY: unable to resolve static field 287 (QR_CODE) in Lcom/google/zxing/BarcodeFormat;\n01-30 16:37:03.093: D/dalvikvm(1069): VFY: replacing opcode 0x62 at 0x0015\n01-30 16:37:03.093: W/dalvikvm(1069): VFY: unable to resolve static field 294 (CHARACTER_SET) in Lcom/google/zxing/EncodeHintType;\n01-30 16:37:03.093: D/dalvikvm(1069): VFY: replacing opcode 0x62 at 0x0018\n01-30 16:37:03.093: E/dalvikvm(1069): Could not find class 'com.google.zxing.MultiFormatWriter', referenced from method com.example.qrcodescan.QRCodeEncoder.encodeAsBitmap\n01-30 16:37:03.093: W/dalvikvm(1069): VFY: unable to resolve new-instance 150 (Lcom/google/zxing/MultiFormatWriter;) in Lcom/example/qrcodescan/QRCodeEncoder;\n01-30 16:37:03.093: D/dalvikvm(1069): VFY: replacing opcode 0x22 at 0x001d\n01-30 16:37:03.093: D/dalvikvm(1069): DexOpt: unable to opt direct call 0x0159 at 0x1f in Lcom/example/qrcodescan/QRCodeEncoder;.encodeAsBitmap\n01-30 16:37:03.093: D/AndroidRuntime(1069): Shutting down VM\n01-30 16:37:03.093: W/dalvikvm(1069): threadid=1: thread exiting with uncaught exception (group=0x40c341f8)\n01-30 16:37:03.101: E/AndroidRuntime(1069): FATAL EXCEPTION: main\n01-30 16:37:03.101: E/AndroidRuntime(1069): java.lang.NoClassDefFoundError: com.google.zxing.BarcodeFormat\n01-30 16:37:03.101: E/AndroidRuntime(1069):     at com.example.qrcodescan.MainActivity.generateQR(MainActivity.java:95)\n01-30 16:37:03.101: E/AndroidRuntime(1069):     at com.example.qrcodescan.MainActivity.access$0(MainActivity.java:77)\n01-30 16:37:03.101: E/AndroidRuntime(1069):     at com.example.qrcodescan.MainActivity$2.onClick(MainActivity.java:54)\n01-30 16:37:03.101: E/AndroidRuntime(1069):     at android.view.View.performClick(View.java:3620)\n01-30 16:37:03.101: E/AndroidRuntime(1069):     at android.view.View$PerformClick.run(View.java:14292)\n01-30 16:37:03.101: E/AndroidRuntime(1069):     at android.os.Handler.handleCallback(Handler.java:605)\n01-30 16:37:03.101: E/AndroidRuntime(1069):     at android.os.Handler.dispatchMessage(Handler.java:92)\n01-30 16:37:03.101: E/AndroidRuntime(1069):     at android.os.Looper.loop(Looper.java:137)\n01-30 16:37:03.101: E/AndroidRuntime(1069):     at android.app.ActivityThread.main(ActivityThread.java:4512)\n01-30 16:37:03.101: E/AndroidRuntime(1069):     at java.lang.reflect.Method.invokeNative(Native Method)\n01-30 16:37:03.101: E/AndroidRuntime(1069):     at java.lang.reflect.Method.invoke(Method.java:511)\n01-30 16:37:03.101: E/AndroidRuntime(1069):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:982)\n01-30 16:37:03.101: E/AndroidRuntime(1069):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:749)\n01-30 16:37:03.101: E/AndroidRuntime(1069):     at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n\n<p>I did added the core.jar under libs folder. Any ideas? Thanks in advance.</p>\n"},{"tags":["java","spring","firebase","google-cloud-firestore","collections"],"comments":[{"owner":{"account_id":16683494,"reputation":126,"user_id":12058001,"display_name":"Aitsuken"},"score":0,"creation_date":1661075077,"post_id":73433229,"comment_id":129680719,"body_markdown":"What if you make a list of all collections and there they are added or removed/modified on parallel with corresponding actions?","body":"What if you make a list of all collections and there they are added or removed/modified on parallel with corresponding actions?"},{"owner":{"account_id":11416432,"reputation":578,"user_id":8369150,"display_name":"Halil Sahin"},"score":1,"creation_date":1661075193,"post_id":73433229,"comment_id":129680745,"body_markdown":"@Kloody The service I wrote already provides control of this every minute.","body":"@Kloody The service I wrote already provides control of this every minute."},{"owner":{"account_id":16683494,"reputation":126,"user_id":12058001,"display_name":"Aitsuken"},"score":0,"creation_date":1661075285,"post_id":73433229,"comment_id":129680764,"body_markdown":"then whats the issue if you can use that list to iterate through all collections? You can use that list to get ids/names and go through them or whatever you desire","body":"then whats the issue if you can use that list to iterate through all collections? You can use that list to get ids/names and go through them or whatever you desire"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1661076901,"post_id":73433229,"comment_id":129681088,"body_markdown":"There is no way you can return `currencyList` as a result of a method. Firebase API is asynchronous. So please check the duplicate to see how can you solve this using a callback. You might also be interested in reading this [resource](https://medium.com/firebase-tips-tricks/how-to-read-data-from-cloud-firestore-using-get-bf03b6ee4953).","body":"There is no way you can return <code>currencyList</code> as a result of a method. Firebase API is asynchronous. So please check the duplicate to see how can you solve this using a callback. You might also be interested in reading this <a href=\"https://medium.com/firebase-tips-tricks/how-to-read-data-from-cloud-firestore-using-get-bf03b6ee4953\" rel=\"nofollow noreferrer\">resource</a>."}],"owner":{"account_id":11416432,"reputation":578,"user_id":8369150,"display_name":"Halil Sahin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1661076871,"answer_count":0,"score":1,"last_activity_date":1661077833,"creation_date":1661074849,"question_id":73433229,"body_markdown":"I have a service that creates collections based on id and saves necessary data to them. I want to return all of these collections without knowing their name or id. I tried several ways but every time I access the top collection and its contents. Is there a way to reach all collections?\r\n\r\nAs you can see in the picture below, I have two collections starting with `ckJCeY...` and one starting with `fzwKx...` but unfortunately I can only access the one starting with `ckJCeY....`\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Here is my code:**\r\n\r\n    public List&lt;Currency&gt; getRemindedCurrencies() throws ExecutionException, InterruptedException {\r\n        String key = &quot;deviceKey&quot;;\r\n        Firestore db = FirestoreClient.getFirestore();\r\n    \r\n        Iterable&lt;CollectionReference&gt; collectionReferences = db.listCollections();\r\n        Iterator&lt;CollectionReference&gt; iterator = collectionReferences.iterator();\r\n        List&lt;Currency&gt; currencyList = new ArrayList&lt;&gt;();\r\n        HashMap&lt;String, List&lt;Currency&gt;&gt; deviceKeyCurrencyListMap = new HashMap&lt;&gt;();\r\n    \r\n        if (iterator.hasNext()) {\r\n            CollectionReference next = iterator.next();\r\n            for (Currencies currencies : Currencies.values()) {\r\n                DocumentReference document = next.document(currencies.name().toLowerCase() + &quot;-reminder&quot;);\r\n                ApiFuture&lt;DocumentSnapshot&gt; snapshotApiFuture = document.get();\r\n                DocumentSnapshot documentSnapshot = snapshotApiFuture.get();\r\n                if (documentSnapshot.exists()) {\r\n                    String keyVal = documentSnapshot.getData().get(key).toString();\r\n                    currencyList.add(documentSnapshot.toObject(Currency.class));\r\n                    deviceKeyCurrencyListMap.put(keyVal, currencyList);\r\n                    if (deviceKeyCurrencyListMap.containsKey(key)) {\r\n                        deviceKeyCurrencyListMap.get(keyVal).add(documentSnapshot.toObject(Currency.class));\r\n                    }\r\n                } else {\r\n                    continue;\r\n                }\r\n            }\r\n        }\r\n        return currencyList;\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wp7UH.png","title":"How to iterate all collections without knowing their names or id","body":"<p>I have a service that creates collections based on id and saves necessary data to them. I want to return all of these collections without knowing their name or id. I tried several ways but every time I access the top collection and its contents. Is there a way to reach all collections?</p>\n<p>As you can see in the picture below, I have two collections starting with <code>ckJCeY...</code> and one starting with <code>fzwKx...</code> but unfortunately I can only access the one starting with <code>ckJCeY....</code></p>\n<p><a href=\"https://i.stack.imgur.com/wp7UH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wp7UH.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Here is my code:</strong></p>\n<pre><code>public List&lt;Currency&gt; getRemindedCurrencies() throws ExecutionException, InterruptedException {\n    String key = &quot;deviceKey&quot;;\n    Firestore db = FirestoreClient.getFirestore();\n\n    Iterable&lt;CollectionReference&gt; collectionReferences = db.listCollections();\n    Iterator&lt;CollectionReference&gt; iterator = collectionReferences.iterator();\n    List&lt;Currency&gt; currencyList = new ArrayList&lt;&gt;();\n    HashMap&lt;String, List&lt;Currency&gt;&gt; deviceKeyCurrencyListMap = new HashMap&lt;&gt;();\n\n    if (iterator.hasNext()) {\n        CollectionReference next = iterator.next();\n        for (Currencies currencies : Currencies.values()) {\n            DocumentReference document = next.document(currencies.name().toLowerCase() + &quot;-reminder&quot;);\n            ApiFuture&lt;DocumentSnapshot&gt; snapshotApiFuture = document.get();\n            DocumentSnapshot documentSnapshot = snapshotApiFuture.get();\n            if (documentSnapshot.exists()) {\n                String keyVal = documentSnapshot.getData().get(key).toString();\n                currencyList.add(documentSnapshot.toObject(Currency.class));\n                deviceKeyCurrencyListMap.put(keyVal, currencyList);\n                if (deviceKeyCurrencyListMap.containsKey(key)) {\n                    deviceKeyCurrencyListMap.get(keyVal).add(documentSnapshot.toObject(Currency.class));\n                }\n            } else {\n                continue;\n            }\n        }\n    }\n    return currencyList;\n}\n</code></pre>\n"},{"tags":["java","faker"],"comments":[{"owner":{"account_id":4610643,"reputation":1454,"user_id":3738870,"display_name":"user3738870"},"score":0,"creation_date":1661076552,"post_id":73433408,"comment_id":129681012,"body_markdown":"Is this library the one you&#39;re using? https://github.com/DiUS/java-faker","body":"Is this library the one you&#39;re using? <a href=\"https://github.com/DiUS/java-faker\" rel=\"nofollow noreferrer\">github.com/DiUS/java-faker</a>"},{"owner":{"account_id":24620122,"reputation":33,"user_id":19813004,"display_name":"Max"},"score":1,"creation_date":1661076810,"post_id":73433408,"comment_id":129681064,"body_markdown":"Exactly this one","body":"Exactly this one"},{"owner":{"account_id":4610643,"reputation":1454,"user_id":3738870,"display_name":"user3738870"},"score":0,"creation_date":1661077018,"post_id":73433408,"comment_id":129681114,"body_markdown":"If a login only consists of an email address and a password, you can use `faker.internet().emailAddress()` and `faker.internet().password()`. If you want a username instead of an email address, you can use `faker.internet().username()`","body":"If a login only consists of an email address and a password, you can use <code>faker.internet().emailAddress()</code> and <code>faker.internet().password()</code>. If you want a username instead of an email address, you can use <code>faker.internet().username()</code>"},{"owner":{"account_id":24620122,"reputation":33,"user_id":19813004,"display_name":"Max"},"score":0,"creation_date":1661077359,"post_id":73433408,"comment_id":129681184,"body_markdown":"I&#39;ve got only `faker.internet().userAgent()` method. No userName","body":"I&#39;ve got only <code>faker.internet().userAgent()</code> method. No userName"},{"owner":{"account_id":4610643,"reputation":1454,"user_id":3738870,"display_name":"user3738870"},"score":0,"creation_date":1661077448,"post_id":73433408,"comment_id":129681208,"body_markdown":"Oh yes, sorry for that, you have to use `faker.name().username()`, not internet.","body":"Oh yes, sorry for that, you have to use <code>faker.name().username()</code>, not internet."},{"owner":{"account_id":4610643,"reputation":1454,"user_id":3738870,"display_name":"user3738870"},"score":0,"creation_date":1661077616,"post_id":73433408,"comment_id":129681230,"body_markdown":"You&#39;re welcome, added it as an answer so future visitors will find it easily.","body":"You&#39;re welcome, added it as an answer so future visitors will find it easily."}],"answers":[{"tags":[],"owner":{"account_id":4610643,"reputation":1454,"user_id":3738870,"display_name":"user3738870"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1661077582,"creation_date":1661077582,"answer_id":73433545,"question_id":73433408,"body_markdown":"If you would like to use an email address along with a password:\r\n```java\r\nfaker.internet().emailAddress()\r\nfaker.internet().password()\r\n```\r\n\r\nIf you would like to use a username along with a password:\r\n```java\r\nfaker.name().username()\r\nfaker.internet().password()\r\n```","title":"How to create a random login with Faker on Java","body":"<p>If you would like to use an email address along with a password:</p>\n<pre class=\"lang-java prettyprint-override\"><code>faker.internet().emailAddress()\nfaker.internet().password()\n</code></pre>\n<p>If you would like to use a username along with a password:</p>\n<pre class=\"lang-java prettyprint-override\"><code>faker.name().username()\nfaker.internet().password()\n</code></pre>\n"}],"owner":{"account_id":24620122,"reputation":33,"user_id":19813004,"display_name":"Max"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1831,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73433545,"answer_count":1,"score":3,"last_activity_date":1661077582,"creation_date":1661076420,"question_id":73433408,"body_markdown":"I need to create a random user for autotests with Faker. For that I need to obtain a random login and password. How can I done it?\r\n\r\nI suppose that for passwords I can use\r\n\r\n    faker.internet().password()\r\n\r\nAnd I don&#39;t know what to do about login.","title":"How to create a random login with Faker on Java","body":"<p>I need to create a random user for autotests with Faker. For that I need to obtain a random login and password. How can I done it?</p>\n<p>I suppose that for passwords I can use</p>\n<pre><code>faker.internet().password()\n</code></pre>\n<p>And I don't know what to do about login.</p>\n"},{"tags":["java","android","flutter","gradle","build.gradle"],"comments":[{"owner":{"account_id":16953339,"reputation":70,"user_id":12262357,"display_name":"Vishnu E R"},"score":0,"creation_date":1660981603,"post_id":73092205,"comment_id":129665972,"body_markdown":"Hey @Antonio Pe&#241;a Did you found a solution? I am stuck with this issue now.","body":"Hey @Antonio Pe&#241;a Did you found a solution? I am stuck with this issue now."},{"owner":{"account_id":25586263,"reputation":155,"user_id":19363972,"display_name":"Antoniou"},"score":0,"creation_date":1661073981,"post_id":73092205,"comment_id":129680496,"body_markdown":"Yes, although I don&#39;t remember what to do exactly. In the solution to this issue are mentioned some possible answers.","body":"Yes, although I don&#39;t remember what to do exactly. In the solution to this issue are mentioned some possible answers."}],"answers":[{"tags":[],"owner":{"account_id":25586263,"reputation":155,"user_id":19363972,"display_name":"Antoniou"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661077204,"creation_date":1661077204,"answer_id":73433502,"question_id":73092205,"body_markdown":"I fixed the bug, although don&#39;t remember exactly how. Here are some of the things I did, ordered by level of importance (the most likely answer it at the top).\r\n\r\n\r\n**1. Configure your `packagingOptions`**\r\n----------------------------------\r\n\r\nGo to your `android/app/build.gradle` and add the following snippet of code at the end of your `android {...}`:\r\n\r\n    android {\r\n    \r\n        // Some stuff...\r\n    \r\n        packagingOptions {\r\n            exclude &#39;META-INF/services/javax.annotation.processing.Processor&#39;\r\n        }\r\n    \r\n    }\r\n\r\n\r\n**2. Check `buildTypes`**\r\n---------------------\r\n\r\nOnce again, in your `android/app/build.gradle`, at `android {...}`, you should have a `buildscript {...}` inside. If not, add it. If added, revise it has the same values for the following properties (`packagingOptions` from the first point added):\r\n\r\n    android {\r\n    \r\n        // Some stuff...\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled true\r\n                shrinkResources true\r\n                signingConfig signingConfigs.release\r\n            }\r\n        }\r\n    \r\n        packagingOptions {\r\n            exclude &#39;META-INF/services/javax.annotation.processing.Processor&#39;\r\n        }\r\n    \r\n    }\r\n\r\n\r\n**3. Update multidex**\r\n------------------\r\n\r\nInside of your `android/app/build.gradle` as well, update the multidex you have at `dependencies {...}`. It&#39;d also be great to update any other implementation you have there, but the important one is multidex. This is mine:\r\n\r\n    dependencies {\r\n        implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\r\n        implementation &quot;androidx.multidex:multidex:2.0.1&quot;\r\n    }\r\n\r\nIf you don&#39;t have `dependencies {...}` in your file, add it at the end.\r\n\r\n\r\n**4. Another dependencies upgrade**\r\n-------------------------------\r\n\r\nThis time it&#39;s in the other gradle file. The route is `android/build.gradle`, and you just have to enter in the `buildscript {...}` and update what you find in `dependencies {...}`. In my case:\r\n\r\n    buildscript {\r\n\r\n        // Some stuff...\r\n    \r\n        dependencies {\r\n            classpath &quot;com.android.tools.build:gradle:7.1.2&quot;\r\n            classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n        }\r\n    }\r\n\r\n\r\n**5. Increase the value of your `org.gradle.jvmargs`**\r\n--------------------------------------------------\r\n\r\nThis is how much can your builder take of memory to run the bundle&#39;s generation. The higher, the better, although it has to be lower than your computer/laptop&#39;s RAM and doesn&#39;t need to be really big. I have a laptop of 8 GB RAM and it goes without any error with the following configuration:\r\n\r\n    org.gradle.jvmargs=-Xmx4608M\r\n    android.useAndroidX=true\r\n    android.enableJetifier=true\r\n\r\nThat&#39;s a bit more than half of the RAM&#39;s power. `4608M` = 4.608 GB!\r\n\r\nWhy did I choose it? Random. It was of only `1204M` or so before changing it.","title":"A failure occurred while executing com.android.build.gradle.internal.transforms.ShrinkAppBundleResourcesAction","body":"<p>I fixed the bug, although don't remember exactly how. Here are some of the things I did, ordered by level of importance (the most likely answer it at the top).</p>\n<h2><strong>1. Configure your <code>packagingOptions</code></strong></h2>\n<p>Go to your <code>android/app/build.gradle</code> and add the following snippet of code at the end of your <code>android {...}</code>:</p>\n<pre><code>android {\n\n    // Some stuff...\n\n    packagingOptions {\n        exclude 'META-INF/services/javax.annotation.processing.Processor'\n    }\n\n}\n</code></pre>\n<h2><strong>2. Check <code>buildTypes</code></strong></h2>\n<p>Once again, in your <code>android/app/build.gradle</code>, at <code>android {...}</code>, you should have a <code>buildscript {...}</code> inside. If not, add it. If added, revise it has the same values for the following properties (<code>packagingOptions</code> from the first point added):</p>\n<pre><code>android {\n\n    // Some stuff...\n\n    buildTypes {\n        release {\n            minifyEnabled true\n            shrinkResources true\n            signingConfig signingConfigs.release\n        }\n    }\n\n    packagingOptions {\n        exclude 'META-INF/services/javax.annotation.processing.Processor'\n    }\n\n}\n</code></pre>\n<h2><strong>3. Update multidex</strong></h2>\n<p>Inside of your <code>android/app/build.gradle</code> as well, update the multidex you have at <code>dependencies {...}</code>. It'd also be great to update any other implementation you have there, but the important one is multidex. This is mine:</p>\n<pre><code>dependencies {\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\n    implementation &quot;androidx.multidex:multidex:2.0.1&quot;\n}\n</code></pre>\n<p>If you don't have <code>dependencies {...}</code> in your file, add it at the end.</p>\n<h2><strong>4. Another dependencies upgrade</strong></h2>\n<p>This time it's in the other gradle file. The route is <code>android/build.gradle</code>, and you just have to enter in the <code>buildscript {...}</code> and update what you find in <code>dependencies {...}</code>. In my case:</p>\n<pre><code>buildscript {\n\n    // Some stuff...\n\n    dependencies {\n        classpath &quot;com.android.tools.build:gradle:7.1.2&quot;\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n    }\n}\n</code></pre>\n<h2><strong>5. Increase the value of your <code>org.gradle.jvmargs</code></strong></h2>\n<p>This is how much can your builder take of memory to run the bundle's generation. The higher, the better, although it has to be lower than your computer/laptop's RAM and doesn't need to be really big. I have a laptop of 8 GB RAM and it goes without any error with the following configuration:</p>\n<pre><code>org.gradle.jvmargs=-Xmx4608M\nandroid.useAndroidX=true\nandroid.enableJetifier=true\n</code></pre>\n<p>That's a bit more than half of the RAM's power. <code>4608M</code> = 4.608 GB!</p>\n<p>Why did I choose it? Random. It was of only <code>1204M</code> or so before changing it.</p>\n"}],"owner":{"account_id":25586263,"reputation":155,"user_id":19363972,"display_name":"Antoniou"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":828,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73433502,"answer_count":1,"score":1,"last_activity_date":1661077204,"creation_date":1658592006,"question_id":73092205,"body_markdown":"I am trying to create an appbundle for my Flutter app. It&#39;s been working nice until now, but  for some reason it&#39;s giving an error now. I just went to the project&#39;s folder and ran `flutter clean` and then `flutter build appbundle`. Nonetheless, it gave the following error:\r\n\r\n    Running &quot;flutter pub get&quot; in quotes...                           2.060ms\r\n    \r\n     Building with sound null safety\r\n    \r\n    Note: Some input files use or override a deprecated API.\r\n    Note: Recompile with -Xlint:deprecation for details.\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:app:shrinkBundleReleaseResources&#39;.\r\n    &gt; A failure occurred while executing com.android.build.gradle.internal.transforms.ShrinkAppBundleResourcesAction\r\n       &gt; java.nio.file.FileSystemAlreadyExistsException (no error message)\r\n    \r\n    * Try:\r\n    &gt; Run with --stacktrace option to get the stack trace.\r\n    &gt; Run with --info or --debug option to get more log output.\r\n    &gt; Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    BUILD FAILED in 1m 43s\r\n    Running Gradle task &#39;bundleRelease&#39;...                            105,0s\r\n    Gradle task bundleRelease failed with exit code 1","title":"A failure occurred while executing com.android.build.gradle.internal.transforms.ShrinkAppBundleResourcesAction","body":"<p>I am trying to create an appbundle for my Flutter app. It's been working nice until now, but  for some reason it's giving an error now. I just went to the project's folder and ran <code>flutter clean</code> and then <code>flutter build appbundle</code>. Nonetheless, it gave the following error:</p>\n<pre><code>Running &quot;flutter pub get&quot; in quotes...                           2.060ms\n\n Building with sound null safety\n\nNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:shrinkBundleReleaseResources'.\n&gt; A failure occurred while executing com.android.build.gradle.internal.transforms.ShrinkAppBundleResourcesAction\n   &gt; java.nio.file.FileSystemAlreadyExistsException (no error message)\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 1m 43s\nRunning Gradle task 'bundleRelease'...                            105,0s\nGradle task bundleRelease failed with exit code 1\n</code></pre>\n"},{"tags":["java","asynchronous","java-8","future","completable-future"],"answers":[{"tags":[],"owner":{"account_id":9011049,"reputation":2363,"user_id":6715629,"accept_rate":100,"display_name":"Simon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660820148,"creation_date":1660820148,"answer_id":73401832,"question_id":73401286,"body_markdown":"You need to have a specific task that will collect the result of the others and complete only when desired.\r\n\r\nFor instance:\r\n```\r\npublic class Testing {\r\n\tpublic static void main(String args[]) throws InterruptedException, ExecutionException {\r\n\t\t\r\n\t\tString result = aggregator(\r\n\t\t\t\tArrays.asList(\r\n\t\t\t\t\t\ttest(&quot;future1&quot;, 10000),\r\n\t\t\t\t\t\ttest(&quot;future2&quot;, 0),\r\n\t\t\t\t\t\ttest(&quot;future3&quot;, 0)),\r\n\t\t\t\t(value) -&gt; { return value != null; },\r\n\t\t\t\t&quot;default value&quot;\r\n\t\t\t\t).get();\r\n\t\t\r\n\t\tSystem.out.println(result);\r\n    }\r\n\t\r\n\tprivate static CompletableFuture&lt;String&gt; aggregator(Collection&lt;CompletableFuture&lt;String&gt;&gt; tasks, Predicate&lt;String&gt; validator, String defaultValue)\r\n\t{\r\n\t\tCompletableFuture&lt;String&gt; a = new CompletableFuture&lt;String&gt;();\r\n\t\tAtomicInteger count = new AtomicInteger(0);\r\n\t\t\r\n\t\ttasks.forEach((t) -&gt; {\r\n\t\t\tt.whenComplete((value, error) -&gt; { \r\n\t\t\t\tint c = count.incrementAndGet();\r\n\t\t\t\tif( error == null &amp;&amp; validator.test(value) ) a.complete(value);\r\n\t\t\t\telse if( c == tasks.size() ) a.complete(defaultValue);\r\n\t\t\t}); \r\n\t\t}); \r\n\t\t\r\n\t\treturn a;\r\n\t}\r\n\r\n    private static CompletableFuture&lt;String&gt; test(String str, int i) {\r\n        return CompletableFuture.supplyAsync(() -&gt; {\r\n            try {\r\n                Thread.sleep(i);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return str;\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nThe `aggregator` method will accept any number of other tasks and will compare the result of each using the `validator` provided. The first one that matches is returned immediately without waiting for the others.\r\n\r\nAnd at the end, if none matched, it completes with the default value.","title":"Return the future that gets executed first with a specific condition on the response","body":"<p>You need to have a specific task that will collect the result of the others and complete only when desired.</p>\n<p>For instance:</p>\n<pre><code>public class Testing {\n    public static void main(String args[]) throws InterruptedException, ExecutionException {\n        \n        String result = aggregator(\n                Arrays.asList(\n                        test(&quot;future1&quot;, 10000),\n                        test(&quot;future2&quot;, 0),\n                        test(&quot;future3&quot;, 0)),\n                (value) -&gt; { return value != null; },\n                &quot;default value&quot;\n                ).get();\n        \n        System.out.println(result);\n    }\n    \n    private static CompletableFuture&lt;String&gt; aggregator(Collection&lt;CompletableFuture&lt;String&gt;&gt; tasks, Predicate&lt;String&gt; validator, String defaultValue)\n    {\n        CompletableFuture&lt;String&gt; a = new CompletableFuture&lt;String&gt;();\n        AtomicInteger count = new AtomicInteger(0);\n        \n        tasks.forEach((t) -&gt; {\n            t.whenComplete((value, error) -&gt; { \n                int c = count.incrementAndGet();\n                if( error == null &amp;&amp; validator.test(value) ) a.complete(value);\n                else if( c == tasks.size() ) a.complete(defaultValue);\n            }); \n        }); \n        \n        return a;\n    }\n\n    private static CompletableFuture&lt;String&gt; test(String str, int i) {\n        return CompletableFuture.supplyAsync(() -&gt; {\n            try {\n                Thread.sleep(i);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            return str;\n        });\n    }\n}\n</code></pre>\n<p>The <code>aggregator</code> method will accept any number of other tasks and will compare the result of each using the <code>validator</code> provided. The first one that matches is returned immediately without waiting for the others.</p>\n<p>And at the end, if none matched, it completes with the default value.</p>\n"},{"tags":[],"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1661076269,"creation_date":1661076269,"answer_id":73433394,"question_id":73401286,"body_markdown":"You can race the futures against each other and delegate completions to another one:\r\n\r\n    static &lt;T&gt; CompletableFuture&lt;T&gt; first(Stream&lt;CompletableFuture&lt;T&gt;&gt; futures) {\r\n        var delegate = new CompletableFuture&lt;T&gt;();\r\n\r\n        runAsync(() -&gt;\r\n             futures.forEach(future -&gt;\r\n                 future.handle(\r\n                     (value, error) -&gt; {\r\n                         if (value == null) {\r\n                             return delegate.completeExceptionally(error);\r\n                         } else {\r\n                             return delegate.complete(value);\r\n                         }\r\n                     })));\r\n\r\n        return delegate;\r\n    }\r\n\r\nThe future returned by `first` completes (either successfully or with an error), whenever the first one passed in the `futures` argument completes. \r\n\r\nNow \r\n\r\n    CompletableFuture&lt;String&gt;  combinedFuture =\r\n        first(Stream.of(test(&quot;future1&quot;, 10000), test2(), test3()));\r\n\r\n    System.out.println(combinedFuture.get());\r\n\r\nprints either &quot;future2&quot; or &quot;future3&quot; depending on which on happens to complete first. ","title":"Return the future that gets executed first with a specific condition on the response","body":"<p>You can race the futures against each other and delegate completions to another one:</p>\n<pre><code>static &lt;T&gt; CompletableFuture&lt;T&gt; first(Stream&lt;CompletableFuture&lt;T&gt;&gt; futures) {\n    var delegate = new CompletableFuture&lt;T&gt;();\n\n    runAsync(() -&gt;\n         futures.forEach(future -&gt;\n             future.handle(\n                 (value, error) -&gt; {\n                     if (value == null) {\n                         return delegate.completeExceptionally(error);\n                     } else {\n                         return delegate.complete(value);\n                     }\n                 })));\n\n    return delegate;\n}\n</code></pre>\n<p>The future returned by <code>first</code> completes (either successfully or with an error), whenever the first one passed in the <code>futures</code> argument completes.</p>\n<p>Now</p>\n<pre><code>CompletableFuture&lt;String&gt;  combinedFuture =\n    first(Stream.of(test(&quot;future1&quot;, 10000), test2(), test3()));\n\nSystem.out.println(combinedFuture.get());\n</code></pre>\n<p>prints either &quot;future2&quot; or &quot;future3&quot; depending on which on happens to complete first.</p>\n"}],"owner":{"account_id":12396841,"reputation":81,"user_id":9036196,"display_name":"RTN9"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":513,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1661076269,"creation_date":1660817759,"question_id":73401286,"body_markdown":"I am trying to make 3 rest calls using completablefutures and return for the first one that matches a specific response. Below is sample test code I wrote (Minus the rest calls) for it but that does not seem to work. I always see &quot;future1&quot; getting returned even with the wait time, which means, test2 and test3 are blocking. How do I achieve the ask?\r\n\r\nI thought of using CompletableFuture.anyOf but that just returns the result for the first future that gets executed. Not the first one that matches a specified response. Please advise\r\n\r\n    import java.util.concurrent.CompletableFuture;\r\n    import java.util.concurrent.ExecutionException;\r\n    \r\n    public class Testing {\r\n        public static void main(String args[]) throws InterruptedException, ExecutionException {\r\n            CompletableFuture&lt;String&gt; combinedFuture = test(&quot;future1&quot;, 10000)\r\n                    .thenCompose(response1 -&gt; test2()\r\n                            .thenCompose(response2 -&gt; test3()\r\n                                    .thenApply(response3 -&gt; {\r\n                                        return combine(response1, response2, response3);\r\n                                    })));\r\n            System.out.println(combinedFuture.get());\r\n        }\r\n    \r\n        private static CompletableFuture&lt;String&gt; test(String str, int i) {\r\n            return CompletableFuture.supplyAsync(() -&gt; {\r\n                try {\r\n                    Thread.sleep(i);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                return str;\r\n            });\r\n        }\r\n    \r\n        private static CompletableFuture&lt;String&gt; test2() {\r\n            return test(&quot;future2&quot;, 0);\r\n        }\r\n    \r\n        private static CompletableFuture&lt;String&gt; test3() {\r\n            return test(&quot;future3&quot;, 0);\r\n        }\r\n    \r\n        private static String combine(String response1, String response2, String response3) {\r\n            String responseString = null;\r\n            if (response1 != null) {\r\n                return response1;\r\n            } else if (response2 != null) {\r\n                return response2;\r\n            } else if (response3 != null) {\r\n                return response3;\r\n            }\r\n            return responseString;\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Return the future that gets executed first with a specific condition on the response","body":"<p>I am trying to make 3 rest calls using completablefutures and return for the first one that matches a specific response. Below is sample test code I wrote (Minus the rest calls) for it but that does not seem to work. I always see &quot;future1&quot; getting returned even with the wait time, which means, test2 and test3 are blocking. How do I achieve the ask?</p>\n<p>I thought of using CompletableFuture.anyOf but that just returns the result for the first future that gets executed. Not the first one that matches a specified response. Please advise</p>\n<pre><code>import java.util.concurrent.CompletableFuture;\nimport java.util.concurrent.ExecutionException;\n\npublic class Testing {\n    public static void main(String args[]) throws InterruptedException, ExecutionException {\n        CompletableFuture&lt;String&gt; combinedFuture = test(&quot;future1&quot;, 10000)\n                .thenCompose(response1 -&gt; test2()\n                        .thenCompose(response2 -&gt; test3()\n                                .thenApply(response3 -&gt; {\n                                    return combine(response1, response2, response3);\n                                })));\n        System.out.println(combinedFuture.get());\n    }\n\n    private static CompletableFuture&lt;String&gt; test(String str, int i) {\n        return CompletableFuture.supplyAsync(() -&gt; {\n            try {\n                Thread.sleep(i);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            return str;\n        });\n    }\n\n    private static CompletableFuture&lt;String&gt; test2() {\n        return test(&quot;future2&quot;, 0);\n    }\n\n    private static CompletableFuture&lt;String&gt; test3() {\n        return test(&quot;future3&quot;, 0);\n    }\n\n    private static String combine(String response1, String response2, String response3) {\n        String responseString = null;\n        if (response1 != null) {\n            return response1;\n        } else if (response2 != null) {\n            return response2;\n        } else if (response3 != null) {\n            return response3;\n        }\n        return responseString;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":10150295,"reputation":1257,"user_id":7497127,"accept_rate":67,"display_name":"JAMSHAID"},"score":0,"creation_date":1661074391,"post_id":73433144,"comment_id":129680565,"body_markdown":"yeah. that is possible","body":"yeah. that is possible"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1661074975,"post_id":73433144,"comment_id":129680692,"body_markdown":"Can you provide the &quot;whole picture&quot;? Where do these variables `baseSpeed`, `gear` and `gearRatio` come from?","body":"Can you provide the &quot;whole picture&quot;? Where do these variables <code>baseSpeed</code>, <code>gear</code> and <code>gearRatio</code> come from?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1661075044,"post_id":73433144,"comment_id":129680712,"body_markdown":"Sidenote: in Java, type `String` starts from a capital letter.","body":"Sidenote: in Java, type <code>String</code> starts from a capital letter."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1661076013,"post_id":73433144,"comment_id":129680906,"body_markdown":"*&quot;hashmap that stores the speed of every wheel at a given time&quot;* - So what should be the Key of the Map?","body":"<i>&quot;hashmap that stores the speed of every wheel at a given time&quot;</i> - So what should be the Key of the Map?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1661076027,"post_id":73433144,"comment_id":129680908,"body_markdown":"This declaration would not compile, and it doesn&#39;t explain how map value is intended to be provided `private int Integer= baseSpeed +gear*gearRatio;`","body":"This declaration would not compile, and it doesn&#39;t explain how map value is intended to be provided <code>private int Integer= baseSpeed +gear*gearRatio;</code>"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1661075772,"creation_date":1661075772,"answer_id":73433340,"question_id":73433144,"body_markdown":"It I understand what you are saying correctly ... the answer is that it is not possible unless you build a lot of extra infrastructure.\r\n\r\nFirst, the value in a `HashMap` are just that: values.  Java values don&#39;t change spontaneously.\r\n\r\nIf you want something to change in response to (say) something else changing, you need to implement it on top of an event notification mechanism of some kind.  So suppose we had \r\n\r\n    speed = baseSpeed + gear * gearRatio;\r\n\r\nwhat we would need is an event that means &quot;object value has changed&quot;.  Then the object that represents the `speed` variable would need to register an event listener for the &quot;changed&quot; event on the objects that represent the `baseSpeed`, `gear` and `gearRatio`.  When the `speed` object gets one of these events, it would need to recalculate its value, and then notify any other objects that are listening for &quot;changed&quot; events on it.\r\n\r\nIt is complicated, but do-able. And you will need to do most of the work for yourself, or find a 3rd-party framework that does this.  The Java Swing event notification framework does this kind of thing.  I wouldn&#39;t advocate using it for events that are not Swing related, but you can use it as an example of how to do this kind of thing.  Java Bean notifications are another example.\r\n\r\n-------------------------\r\n\r\nHowever, I suspect that this is an XY problem, and that there is likely be a better (simpler) way to solve it.\r\n","title":"Can i create a hashmap in java with variable values?","body":"<p>It I understand what you are saying correctly ... the answer is that it is not possible unless you build a lot of extra infrastructure.</p>\n<p>First, the value in a <code>HashMap</code> are just that: values.  Java values don't change spontaneously.</p>\n<p>If you want something to change in response to (say) something else changing, you need to implement it on top of an event notification mechanism of some kind.  So suppose we had</p>\n<pre><code>speed = baseSpeed + gear * gearRatio;\n</code></pre>\n<p>what we would need is an event that means &quot;object value has changed&quot;.  Then the object that represents the <code>speed</code> variable would need to register an event listener for the &quot;changed&quot; event on the objects that represent the <code>baseSpeed</code>, <code>gear</code> and <code>gearRatio</code>.  When the <code>speed</code> object gets one of these events, it would need to recalculate its value, and then notify any other objects that are listening for &quot;changed&quot; events on it.</p>\n<p>It is complicated, but do-able. And you will need to do most of the work for yourself, or find a 3rd-party framework that does this.  The Java Swing event notification framework does this kind of thing.  I wouldn't advocate using it for events that are not Swing related, but you can use it as an example of how to do this kind of thing.  Java Bean notifications are another example.</p>\n<hr />\n<p>However, I suspect that this is an XY problem, and that there is likely be a better (simpler) way to solve it.</p>\n"}],"owner":{"account_id":19726119,"reputation":77,"user_id":14442680,"display_name":"AlexandrosS"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73433340,"answer_count":1,"score":0,"last_activity_date":1661075772,"creation_date":1661074214,"question_id":73433144,"body_markdown":"I want to create an object in java that includes a hashmap.Let&#39;s say that my object is a car and i want to create a hashmap that stores the speed of every wheel at a given time.\r\nWhat i mean is this :\r\n    \r\n    private int baseSpeed=60;\r\n    private int gearRatio=5;\r\n    private int  gear; \r\n    private int Integer= baseSpeed +gear*gearRatio;\r\n    private HashMap&lt;String, Integer&gt; carSpeed = new HashMap&lt;&gt;();\r\n     \r\n\r\nLet&#39;s say that string is frontLeft,frontRight etc  and integer is the speed of that wheel,that changes over time.Can i do something like this, or do i have to redeclare each entry whenever Integer gear changer ?\r\n   ","title":"Can i create a hashmap in java with variable values?","body":"<p>I want to create an object in java that includes a hashmap.Let's say that my object is a car and i want to create a hashmap that stores the speed of every wheel at a given time.\nWhat i mean is this :</p>\n<pre><code>private int baseSpeed=60;\nprivate int gearRatio=5;\nprivate int  gear; \nprivate int Integer= baseSpeed +gear*gearRatio;\nprivate HashMap&lt;String, Integer&gt; carSpeed = new HashMap&lt;&gt;();\n \n</code></pre>\n<p>Let's say that string is frontLeft,frontRight etc  and integer is the speed of that wheel,that changes over time.Can i do something like this, or do i have to redeclare each entry whenever Integer gear changer ?</p>\n"},{"tags":["java","arrays","performance","jvm"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1472709367,"post_id":39263591,"comment_id":65862614,"body_markdown":"`difference in performance` - try it and see.","body":"<code>difference in performance</code> - try it and see."}],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1472711025,"creation_date":1472711025,"answer_id":39264050,"question_id":39263591,"body_markdown":"&gt; In Thinking in Java book 4th edition I read, that leaving the comma after the last object in list makes automatic generating such lists easier, but it is optional.\r\n\r\nCorrect.\r\n\r\n&gt; On the other hand here, in Java SE Specifications I can read, that trailing comma is ignored.\r\n\r\nCorrect, but there&#39;s no &#39;on the other hand&#39; about it. It&#39;s ignored. By the compiler. There is no conflict between the above two statements.\r\n\r\n&gt; On StackOverflow questions I read that it makes code easier to maintain.\r\n\r\nCorrect again.\r\n\r\n &gt; But I would like to ask you if it makes any difference for the JVM work?\r\n\r\nNo, because it&#39;s ignored by the compiler, so the JVM doesn&#39;t even get to see it.\r\n\r\n&gt; I deduce that it&#39;s only a good practice, am I right?\r\n\r\nIt&#39;s an optional practice that is useful in certain situations.\r\n\r\n&gt; If there is no difference in performance, should I use it as default?\r\n\r\nNo, why?\r\n \r\n&gt; Which version is used in practice more frequently?\r\n\r\nThat isn&#39;t answerable without a complete survey of all the Java code in existence, or enough of it to constitute a statistically significant sample. And in any case you should do what is best for you, not what everybody does statistically speaking.\r\n\r\n","title":"Is there a difference in performance whether I put the trailing comma in array or not?","body":"<blockquote>\n  <p>In Thinking in Java book 4th edition I read, that leaving the comma after the last object in list makes automatic generating such lists easier, but it is optional.</p>\n</blockquote>\n\n<p>Correct.</p>\n\n<blockquote>\n  <p>On the other hand here, in Java SE Specifications I can read, that trailing comma is ignored.</p>\n</blockquote>\n\n<p>Correct, but there's no 'on the other hand' about it. It's ignored. By the compiler. There is no conflict between the above two statements.</p>\n\n<blockquote>\n  <p>On StackOverflow questions I read that it makes code easier to maintain.</p>\n</blockquote>\n\n<p>Correct again.</p>\n\n<blockquote>\n  <p>But I would like to ask you if it makes any difference for the JVM work?</p>\n</blockquote>\n\n<p>No, because it's ignored by the compiler, so the JVM doesn't even get to see it.</p>\n\n<blockquote>\n  <p>I deduce that it's only a good practice, am I right?</p>\n</blockquote>\n\n<p>It's an optional practice that is useful in certain situations.</p>\n\n<blockquote>\n  <p>If there is no difference in performance, should I use it as default?</p>\n</blockquote>\n\n<p>No, why?</p>\n\n<blockquote>\n  <p>Which version is used in practice more frequently?</p>\n</blockquote>\n\n<p>That isn't answerable without a complete survey of all the Java code in existence, or enough of it to constitute a statistically significant sample. And in any case you should do what is best for you, not what everybody does statistically speaking.</p>\n"}],"owner":{"account_id":6139432,"reputation":7718,"user_id":4787269,"accept_rate":92,"display_name":"Michał Szewczyk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":39264050,"answer_count":1,"score":-1,"last_activity_date":1661075464,"creation_date":1472709025,"question_id":39263591,"body_markdown":"In the &quot;Thinking in Java&quot; book 4th edition I read that leaving the comma after the last object in list **makes automatic generating such lists easier, but it is optional**. On the other hand &lt;a href=&quot;https://docs.oracle.com/javase/specs/jls/se7/html/jls-10.html&quot;&gt;here&lt;/a&gt;, in the Java SE Specifications I can read, that the **trailing comma is ignored**. On StackOverflow questions I read that it makes code **easier to maintain**. \r\n\r\nDoes it make any difference on the JVM work? I deduce that it&#39;s only a good practice, am I right? If there is no difference in performance, should I use it as default? Which version is used in practice more frequently?\r\n\r\nHere is a sample code to show the problem:\r\n\r\n    Integer[] arrFst = new Integer[]{new Integer(1), new Integer(2), };\r\n    Integer[] arrSnd = new Integer[]{new Integer(1), new Integer(2) };","title":"Is there a difference in performance whether I put the trailing comma in array or not?","body":"<p>In the &quot;Thinking in Java&quot; book 4th edition I read that leaving the comma after the last object in list <strong>makes automatic generating such lists easier, but it is optional</strong>. On the other hand <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-10.html\" rel=\"nofollow noreferrer\">here</a>, in the Java SE Specifications I can read, that the <strong>trailing comma is ignored</strong>. On StackOverflow questions I read that it makes code <strong>easier to maintain</strong>.</p>\n<p>Does it make any difference on the JVM work? I deduce that it's only a good practice, am I right? If there is no difference in performance, should I use it as default? Which version is used in practice more frequently?</p>\n<p>Here is a sample code to show the problem:</p>\n<pre><code>Integer[] arrFst = new Integer[]{new Integer(1), new Integer(2), };\nInteger[] arrSnd = new Integer[]{new Integer(1), new Integer(2) };\n</code></pre>\n"},{"tags":["java","spring-boot","maven","unit-testing","junit"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1661076354,"post_id":73433291,"comment_id":129680961,"body_markdown":"`@AllArgsConstructor` in combination with unit tests means you&#39;re asking JUnit to inject all fields in the constructor, not Spring. Why don&#39;t you a) remove the annotation, b) remove the `final` from both fields, and c) add `@Autowired` to the `customerRepository` field? Your test class then only has a default no-args constructor, which allows JUnit to create instances of it. The autowiring will be done by Spring.","body":"<code>@AllArgsConstructor</code> in combination with unit tests means you&#39;re asking JUnit to inject all fields in the constructor, not Spring. Why don&#39;t you a) remove the annotation, b) remove the <code>final</code> from both fields, and c) add <code>@Autowired</code> to the <code>customerRepository</code> field? Your test class then only has a default no-args constructor, which allows JUnit to create instances of it. The autowiring will be done by Spring."},{"owner":{"account_id":19786225,"reputation":21,"user_id":16340059,"display_name":"Anurag"},"score":0,"creation_date":1661077725,"post_id":73433291,"comment_id":129681260,"body_markdown":"@RobSpoor Thank You so much. Both tests worked. Why did i have to remove final? and why was JUnit trying to inject all fields instead of Spring? Does Junit only work with no args constructor by default? you&#39;re telling me the control transfers from Spring to Junit and then to Spring. Sorry about this but can you tell me where can I get this knowledge from?","body":"@RobSpoor Thank You so much. Both tests worked. Why did i have to remove final? and why was JUnit trying to inject all fields instead of Spring? Does Junit only work with no args constructor by default? you&#39;re telling me the control transfers from Spring to Junit and then to Spring. Sorry about this but can you tell me where can I get this knowledge from?"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1661098494,"post_id":73433291,"comment_id":129685633,"body_markdown":"If you don&#39;t remove final, then the compiler will complain that the fields will not have been set. That&#39;s what you needed the `@AllArgsConstructor` for. But JUnit doesn&#39;t work that way. When it encounters a method or constructor argument that it can&#39;t handle by default (like `TestInfo`), it checks the available extensions (like `SpringExtension`) if one of them can provide it. If none can, then JUnit will fail, as you have seen.","body":"If you don&#39;t remove final, then the compiler will complain that the fields will not have been set. That&#39;s what you needed the <code>@AllArgsConstructor</code> for. But JUnit doesn&#39;t work that way. When it encounters a method or constructor argument that it can&#39;t handle by default (like <code>TestInfo</code>), it checks the available extensions (like <code>SpringExtension</code>) if one of them can provide it. If none can, then JUnit will fail, as you have seen."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1661098574,"post_id":73433291,"comment_id":129685646,"body_markdown":"You can also try to re-add what you removed, but then also add an `@Autowired` to the `customerRepository` field. Perhaps that will make the `SpringExtension`, which is enabled because of the `DataJpaTest`, provide a value for JUnit. Without the annotation the field has no special meaning for JUnit and no special meaning for Spring, which means neither will try to provide a value for it.","body":"You can also try to re-add what you removed, but then also add an <code>@Autowired</code> to the <code>customerRepository</code> field. Perhaps that will make the <code>SpringExtension</code>, which is enabled because of the <code>DataJpaTest</code>, provide a value for JUnit. Without the annotation the field has no special meaning for JUnit and no special meaning for Spring, which means neither will try to provide a value for it."}],"owner":{"account_id":19786225,"reputation":21,"user_id":16340059,"display_name":"Anurag"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661075438,"creation_date":1661075438,"question_id":73433291,"body_markdown":"**Error for test 1 - org.junit.jupiter.api.extension.ParameterResolutionException: No ParameterResolver registered for parameter [final com.orrs.authmicro.customer.CustomerService customerService] in constructor [public com.orrs.authmicro.AuthMicroApplicationTests(com.orrs.authmicro.customer.CustomerService,com.orrs.authmicro.customer.CustomerRepository)].**\r\n\r\n\r\n**Error for Test 2 -org.junit.jupiter.api.extension.ParameterResolutionException: No ParameterResolver registered for parameter [final com.orrs.authmicro.customer.CustomerService customerService] in constructor [public com.orrs.authmicro.AuthMicroApplicationTests(com.orrs.authmicro.customer.CustomerService,com.orrs.authmicro.customer.CustomerRepository)].**\r\n\r\nI have looked at most of the solutions available and they advice to remove @Test or @ParameterizedTest . My tests are not found if I remove @Test and I cant remove @ParameterizedTest because I&#39;m not using it. I have spent hours already and can&#39;t seem to overcome this. Before this there were **Bean Creation Errors--- UnsatisfiedDependencyException: Error creating bean with name customerService** \r\n\r\n**Testfile**  \r\n\r\n```\r\npackage com.orrs.authmicro;\r\n\r\nimport com.orrs.authmicro.customer.*;\r\nimport lombok.AllArgsConstructor;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\n\r\nimport static org.assertj.core.api.AssertionsForClassTypes.assertThat;\r\n\r\n@AllArgsConstructor\r\n@DataJpaTest\r\nclass AuthMicroApplicationTests {\r\n\r\n\t@Autowired\r\n\tprivate final CustomerService customerService;\r\n\r\n\tprivate final CustomerRepository customerRepository;\r\n\r\n\r\n\t@Test\r\n\tpublic void testJpaSave(){\r\n\t\tCustomer customer = customerRepository.save(new Customer(\r\n\t\t\t\t&quot;TestFname&quot;,\r\n\t\t\t\t&quot;TestLname&quot;,\r\n\t\t\t\t&quot;TestAddress&quot;,\r\n\t\t\t\t&quot;99999999999&quot;,\r\n\t\t\t\tGender.MALE,\r\n\t\t\t\t&quot;TestPassword&quot;,\r\n\t\t\t\t&quot;testEmail@gmail.com&quot;,\r\n\t\t\t\tCustomerRole.USER\r\n\t\t));\r\n\r\n\r\n\t\tassertThat(customer.getId()).isGreaterThan(0);\r\n\t}\r\n\r\n\r\n\r\n\t@Test\r\n\tpublic void testRegistration(){\r\n\r\n\r\n\r\n\t\tString response = customerService.signUpCustomer(\r\n\t\t\t\tnew Customer(\r\n\t\t\t\t\t\t&quot;TestFname&quot;,\r\n\t\t\t\t\t\t&quot;TestLname&quot;,\r\n\t\t\t\t\t\t&quot;TestAddress&quot;,\r\n\t\t\t\t\t\t&quot;99999999999&quot;,\r\n\t\t\t\t\t\tGender.MALE,\r\n\t\t\t\t\t\t&quot;TestPassword&quot;,\r\n\t\t\t\t\t\t&quot;testEmail@gmail.com&quot;,\r\n\t\t\t\t\t\tCustomerRole.USER\r\n\t\t\t\t)\r\n\t\t);\r\n\r\n\t\tassertThat(response.equals(&quot;Signed up perfectly)&quot;));\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**CustomerRespository**\r\n\r\n```  \r\npackage com.orrs.authmicro.customer;\r\n\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\nimport java.util.Optional;\r\n\r\n@Transactional(readOnly = true)\r\n@Repository\r\npublic interface CustomerRepository extends JpaRepository&lt;Customer, Long&gt; {\r\n    Optional&lt;Customer&gt; findByEmail(String email);\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n**CustomerService**\r\n\r\n```\r\npackage com.orrs.authmicro.customer;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.security.Principal;\r\nimport java.util.Optional;\r\n\r\n@Service\r\n@AllArgsConstructor\r\npublic class CustomerService implements UserDetailsService {\r\n\r\n\r\n\r\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n    private final String  USER_NOT_FOUND = &quot;Customer with email %s not found&quot;;\r\n    private final CustomerRepository customerRepository;\r\n\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\r\n\r\n        return customerRepository.findByEmail(email)\r\n                .orElseThrow(()-&gt; new UsernameNotFoundException(String.format(USER_NOT_FOUND,email)));\r\n    }\r\n    public String signUpCustomer(Customer customer){\r\n        boolean customerExists = customerRepository.findByEmail(customer.getEmail())\r\n                .isPresent();\r\n        if(customerExists){\r\n            throw new IllegalStateException(&quot;User with Email already exist!&quot;);\r\n        }\r\n\r\n        if(customer.getPassword() == &quot;&quot;){\r\n            throw new IllegalStateException(&quot;Password cannot be empty&quot;);\r\n        }\r\n\r\n        if(customer.getFname() == &quot;&quot; || customer.getFname().isEmpty()){\r\n            throw new IllegalStateException(&quot;Name cannot be empty&quot;);\r\n        }\r\n\r\n        if(customer.getGender().equals(&quot;&quot;)){\r\n            throw new IllegalStateException(&quot;Gender cannot be empty&quot;);\r\n        }\r\n\r\n        if(customer.getAddress().equals(&quot;&quot;)){\r\n            throw new IllegalStateException(&quot;Address cannot be empty&quot;);\r\n        }\r\n\r\n        String encodedPassword = bCryptPasswordEncoder.encode(customer.getPassword());\r\n        customer.setPassword(encodedPassword);\r\n        customerRepository.save(customer);\r\n\r\n        return &quot;Signed up perfectly&quot;;\r\n    }\r\n\r\n    public String currentUsername(Principal principal){\r\n        return principal.getName();\r\n    }\r\n\r\n\r\n\r\n\r\n    public Customer updateCustomer(Customer customer){\r\n\r\n        //Object principal =  SecurityContextHolder.getContext().getAuthentication().getPrincipal();\r\n\r\n        //String userName = currentUsername((Principal) principal);\r\n\r\n        boolean customerExists = customerRepository.findByEmail(customer.getEmail()).isPresent();\r\n        if(customerExists){\r\n\r\n            Optional&lt;Customer&gt; wrapperCustomer = customerRepository.findByEmail(customer.getEmail());\r\n            Customer  existingCustomer = wrapperCustomer.get();\r\n            existingCustomer.setAddress(customer.getAddress());\r\n            existingCustomer.setFname(customer.getFname());\r\n            existingCustomer.setLname(customer.getLname());\r\n            existingCustomer.setPhoneNumber(customer.getPhoneNumber());\r\n            existingCustomer.setGender(customer.getGender());\r\n            customerRepository.save(existingCustomer);\r\n            return existingCustomer;\r\n        }else{\r\n            throw new IllegalStateException(&quot;User doesn&#39;t exist&quot;);\r\n        }\r\n\r\n\r\n    }\r\n    public String deleteCustomerById(String email){\r\n        boolean customerExists = customerRepository.findByEmail(email).isPresent();\r\n        if(customerExists){\r\n\r\n            Optional&lt;Customer&gt; wrapperCustomer = customerRepository.findByEmail(email);\r\n            Customer  existingCustomer = wrapperCustomer.get();\r\n            customerRepository.deleteById(existingCustomer.getId());\r\n\r\n            return &quot;Customer Deleted Successfully!&quot;;\r\n\r\n        }else{\r\n            throw new IllegalStateException(&quot;User Not Found&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\n**pom.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.orrs&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;auth-micro&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;auth-micro&lt;/name&gt;\r\n\t&lt;description&gt;Authorisation microservice&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;2021.0.3&lt;/spring-cloud.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.9.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.9.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"CRUD Testing with Jupiter in spring boots giving error:jupiter.api.extension.ParameterResolutionException: No ParameterResolver registered","body":"<p><strong>Error for test 1 - org.junit.jupiter.api.extension.ParameterResolutionException: No ParameterResolver registered for parameter [final com.orrs.authmicro.customer.CustomerService customerService] in constructor [public com.orrs.authmicro.AuthMicroApplicationTests(com.orrs.authmicro.customer.CustomerService,com.orrs.authmicro.customer.CustomerRepository)].</strong></p>\n<p><strong>Error for Test 2 -org.junit.jupiter.api.extension.ParameterResolutionException: No ParameterResolver registered for parameter [final com.orrs.authmicro.customer.CustomerService customerService] in constructor [public com.orrs.authmicro.AuthMicroApplicationTests(com.orrs.authmicro.customer.CustomerService,com.orrs.authmicro.customer.CustomerRepository)].</strong></p>\n<p>I have looked at most of the solutions available and they advice to remove @Test or @ParameterizedTest . My tests are not found if I remove @Test and I cant remove @ParameterizedTest because I'm not using it. I have spent hours already and can't seem to overcome this. Before this there were <strong>Bean Creation Errors--- UnsatisfiedDependencyException: Error creating bean with name customerService</strong></p>\n<p><strong>Testfile</strong></p>\n<pre><code>package com.orrs.authmicro;\n\nimport com.orrs.authmicro.customer.*;\nimport lombok.AllArgsConstructor;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\nimport org.springframework.boot.test.context.SpringBootTest;\n\nimport static org.assertj.core.api.AssertionsForClassTypes.assertThat;\n\n@AllArgsConstructor\n@DataJpaTest\nclass AuthMicroApplicationTests {\n\n    @Autowired\n    private final CustomerService customerService;\n\n    private final CustomerRepository customerRepository;\n\n\n    @Test\n    public void testJpaSave(){\n        Customer customer = customerRepository.save(new Customer(\n                &quot;TestFname&quot;,\n                &quot;TestLname&quot;,\n                &quot;TestAddress&quot;,\n                &quot;99999999999&quot;,\n                Gender.MALE,\n                &quot;TestPassword&quot;,\n                &quot;testEmail@gmail.com&quot;,\n                CustomerRole.USER\n        ));\n\n\n        assertThat(customer.getId()).isGreaterThan(0);\n    }\n\n\n\n    @Test\n    public void testRegistration(){\n\n\n\n        String response = customerService.signUpCustomer(\n                new Customer(\n                        &quot;TestFname&quot;,\n                        &quot;TestLname&quot;,\n                        &quot;TestAddress&quot;,\n                        &quot;99999999999&quot;,\n                        Gender.MALE,\n                        &quot;TestPassword&quot;,\n                        &quot;testEmail@gmail.com&quot;,\n                        CustomerRole.USER\n                )\n        );\n\n        assertThat(response.equals(&quot;Signed up perfectly)&quot;));\n    }\n\n}\n</code></pre>\n<p><strong>CustomerRespository</strong></p>\n<pre><code>package com.orrs.authmicro.customer;\n\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport java.util.Optional;\n\n@Transactional(readOnly = true)\n@Repository\npublic interface CustomerRepository extends JpaRepository&lt;Customer, Long&gt; {\n    Optional&lt;Customer&gt; findByEmail(String email);\n\n\n}\n\n</code></pre>\n<p><strong>CustomerService</strong></p>\n<pre><code>package com.orrs.authmicro.customer;\n\nimport lombok.AllArgsConstructor;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.stereotype.Service;\n\nimport java.security.Principal;\nimport java.util.Optional;\n\n@Service\n@AllArgsConstructor\npublic class CustomerService implements UserDetailsService {\n\n\n\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    private final String  USER_NOT_FOUND = &quot;Customer with email %s not found&quot;;\n    private final CustomerRepository customerRepository;\n\n\n    @Override\n    public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\n\n        return customerRepository.findByEmail(email)\n                .orElseThrow(()-&gt; new UsernameNotFoundException(String.format(USER_NOT_FOUND,email)));\n    }\n    public String signUpCustomer(Customer customer){\n        boolean customerExists = customerRepository.findByEmail(customer.getEmail())\n                .isPresent();\n        if(customerExists){\n            throw new IllegalStateException(&quot;User with Email already exist!&quot;);\n        }\n\n        if(customer.getPassword() == &quot;&quot;){\n            throw new IllegalStateException(&quot;Password cannot be empty&quot;);\n        }\n\n        if(customer.getFname() == &quot;&quot; || customer.getFname().isEmpty()){\n            throw new IllegalStateException(&quot;Name cannot be empty&quot;);\n        }\n\n        if(customer.getGender().equals(&quot;&quot;)){\n            throw new IllegalStateException(&quot;Gender cannot be empty&quot;);\n        }\n\n        if(customer.getAddress().equals(&quot;&quot;)){\n            throw new IllegalStateException(&quot;Address cannot be empty&quot;);\n        }\n\n        String encodedPassword = bCryptPasswordEncoder.encode(customer.getPassword());\n        customer.setPassword(encodedPassword);\n        customerRepository.save(customer);\n\n        return &quot;Signed up perfectly&quot;;\n    }\n\n    public String currentUsername(Principal principal){\n        return principal.getName();\n    }\n\n\n\n\n    public Customer updateCustomer(Customer customer){\n\n        //Object principal =  SecurityContextHolder.getContext().getAuthentication().getPrincipal();\n\n        //String userName = currentUsername((Principal) principal);\n\n        boolean customerExists = customerRepository.findByEmail(customer.getEmail()).isPresent();\n        if(customerExists){\n\n            Optional&lt;Customer&gt; wrapperCustomer = customerRepository.findByEmail(customer.getEmail());\n            Customer  existingCustomer = wrapperCustomer.get();\n            existingCustomer.setAddress(customer.getAddress());\n            existingCustomer.setFname(customer.getFname());\n            existingCustomer.setLname(customer.getLname());\n            existingCustomer.setPhoneNumber(customer.getPhoneNumber());\n            existingCustomer.setGender(customer.getGender());\n            customerRepository.save(existingCustomer);\n            return existingCustomer;\n        }else{\n            throw new IllegalStateException(&quot;User doesn't exist&quot;);\n        }\n\n\n    }\n    public String deleteCustomerById(String email){\n        boolean customerExists = customerRepository.findByEmail(email).isPresent();\n        if(customerExists){\n\n            Optional&lt;Customer&gt; wrapperCustomer = customerRepository.findByEmail(email);\n            Customer  existingCustomer = wrapperCustomer.get();\n            customerRepository.deleteById(existingCustomer.getId());\n\n            return &quot;Customer Deleted Successfully!&quot;;\n\n        }else{\n            throw new IllegalStateException(&quot;User Not Found&quot;);\n        }\n    }\n}\n\n\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.orrs&lt;/groupId&gt;\n    &lt;artifactId&gt;auth-micro&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;auth-micro&lt;/name&gt;\n    &lt;description&gt;Authorisation microservice&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2021.0.3&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;5.9.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.9.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n\n</code></pre>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"score":0,"creation_date":1661063824,"post_id":73432142,"comment_id":129678997,"body_markdown":"What do you mean with you want to map from Aggregator to Header? Can you give an example?","body":"What do you mean with you want to map from Aggregator to Header? Can you give an example?"},{"owner":{"account_id":26090540,"reputation":43,"user_id":19787507,"display_name":"Matanya Jellinek"},"score":0,"creation_date":1661064166,"post_id":73432142,"comment_id":129679039,"body_markdown":"@Filip\nThanks for answering\nI created an abstract class with annotation: @Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE)\nand the method:\npublic abstract HeaderDTO toDTO(Aggregator aggregator);\n\nSo the goal is to get the Header from aggregator and map it to headerDTO","body":"@Filip Thanks for answering I created an abstract class with annotation: @Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE) and the method: public abstract HeaderDTO toDTO(Aggregator aggregator);  So the goal is to get the Header from aggregator and map it to headerDTO"}],"answers":[{"tags":[],"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661075064,"creation_date":1661075064,"answer_id":73433251,"question_id":73432142,"body_markdown":"MapStruct allows you to map the entire target object to a particular source reference. \r\n\r\ne.g.\r\n\r\n```\r\n@Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE)\r\npublic abstract class AggregatorMapper {\r\n\r\n    @Mapping(target = &quot;.&quot;, source = &quot;header&quot;\r\n    public abstract HeaderDTO toDTO(Aggregator aggregator);\r\n\r\n}\r\n```","title":"Using mapstruct to get inner object from outer object","body":"<p>MapStruct allows you to map the entire target object to a particular source reference.</p>\n<p>e.g.</p>\n<pre><code>@Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE)\npublic abstract class AggregatorMapper {\n\n    @Mapping(target = &quot;.&quot;, source = &quot;header&quot;\n    public abstract HeaderDTO toDTO(Aggregator aggregator);\n\n}\n</code></pre>\n"}],"owner":{"account_id":26090540,"reputation":43,"user_id":19787507,"display_name":"Matanya Jellinek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73433251,"answer_count":1,"score":2,"last_activity_date":1661075064,"creation_date":1661063394,"question_id":73432142,"body_markdown":"I have an object that looks like this:\r\n\r\n    public class Aggregator {\r\n\r\n    private Header header;\r\n    private Second second;\r\n\r\n    }\r\n\r\nAnd I want to map from Aggregator to Header but I can&#39;t use void methods \r\nMapstruct version is 1.3\r\n\r\nHow can I achieve that goal?\r\n\r\nEdit:\r\n\r\nI&#39;m trying to map the business entity &quot;Aggregator&quot; to the DTO entity &quot;HeaderDTO&quot; \r\n\r\nI&#39;m trying to achieve that by creating an abstract class with the annotation: @Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE)\r\nand the method:\r\n&quot;public abstract HeaderDTO toDTO(Aggregator aggregator);&quot;\r\n\r\n    @Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE)\r\n    public abstract class AggregatorMapper {\r\n\r\n  \r\n    public abstract HeaderDTO toDTO(Aggregator aggregator);\r\n\r\n    }","title":"Using mapstruct to get inner object from outer object","body":"<p>I have an object that looks like this:</p>\n<pre><code>public class Aggregator {\n\nprivate Header header;\nprivate Second second;\n\n}\n</code></pre>\n<p>And I want to map from Aggregator to Header but I can't use void methods\nMapstruct version is 1.3</p>\n<p>How can I achieve that goal?</p>\n<p>Edit:</p>\n<p>I'm trying to map the business entity &quot;Aggregator&quot; to the DTO entity &quot;HeaderDTO&quot;</p>\n<p>I'm trying to achieve that by creating an abstract class with the annotation: @Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE)\nand the method:\n&quot;public abstract HeaderDTO toDTO(Aggregator aggregator);&quot;</p>\n<pre><code>@Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE)\npublic abstract class AggregatorMapper {\n\n\npublic abstract HeaderDTO toDTO(Aggregator aggregator);\n\n}\n</code></pre>\n"},{"tags":["java","collections","guava"],"comments":[{"owner":{"account_id":266709,"reputation":11846,"user_id":554431,"display_name":"bestsss"},"score":2,"creation_date":1305019418,"post_id":5947869,"comment_id":6857276,"body_markdown":"Collections.singletonMap","body":"Collections.singletonMap"},{"owner":{"account_id":69527,"reputation":40466,"user_id":202214,"display_name":"Kevin Bourrillion"},"score":4,"creation_date":1305039472,"post_id":5947869,"comment_id":6863053,"body_markdown":"he&#39;s asking for a mutable map, and to support more than just one entry.","body":"he&#39;s asking for a mutable map, and to support more than just one entry."},{"owner":{"account_id":266709,"reputation":11846,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1305039762,"post_id":5947869,"comment_id":6863160,"body_markdown":"@kevin, you mean a mutable map w/ just one entry, what&#39;s exactly the point of? If you imply a general hashmap, you&#39;d be better off initializing it w/ the expected capacity than just a single key-value (which makes little to no sense to me)","body":"@kevin, you mean a mutable map w/ just one entry, what&#39;s exactly the point of? If you imply a general hashmap, you&#39;d be better off initializing it w/ the expected capacity than just a single key-value (which makes little to no sense to me)"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1305019288,"creation_date":1305019288,"answer_id":5947904,"question_id":5947869,"body_markdown":"The difference is that for an immutable map, you *have* to provide everything up-front, because you can&#39;t change it after construction. For mutable maps, you can just create the map and then add the entries. Admittedly this makes it slightly harder to create a map in a single expression, but that doesn&#39;t *tend* to be a problem where you&#39;d want a mutable map anyway, in my experience.","title":"ImmutableMap.of() workaround for HashMap in Maps?","body":"<p>The difference is that for an immutable map, you <em>have</em> to provide everything up-front, because you can't change it after construction. For mutable maps, you can just create the map and then add the entries. Admittedly this makes it slightly harder to create a map in a single expression, but that doesn't <em>tend</em> to be a problem where you'd want a mutable map anyway, in my experience.</p>\n"},{"tags":[],"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":2,"up_vote_count":24,"is_accepted":true,"score":22,"last_activity_date":1305042232,"creation_date":1305019361,"answer_id":5947915,"question_id":5947869,"body_markdown":"Why would you want those for a regular `HashMap` or `LinkedHashMap`? You can just do this:\r\n\r\n    Map&lt;String, Object&gt; map = Maps.newHashMap();\r\n    map.put(key, value);\r\n\r\nThe thing with `ImmutableMap` is that it is a little bit more cumbersome to create; you first need to make a `Builder`, then put the key-value pairs in the builder and then call `build()` on it to create your `ImmutableMap`. The `ImmutableMap.of()` method makes it shorter to write if you want to create an `ImmutableMap` with a single key-value pair.\r\n\r\nConsider what you&#39;d have to write if you wouldn&#39;t use the `ImmutableMap.of()` method:\r\n\r\n    ImmutableMap&lt;String, Object&gt; map = ImmutableMap.builder()\r\n        .put(key, value);\r\n        .build();\r\n","title":"ImmutableMap.of() workaround for HashMap in Maps?","body":"<p>Why would you want those for a regular <code>HashMap</code> or <code>LinkedHashMap</code>? You can just do this:</p>\n\n<pre><code>Map&lt;String, Object&gt; map = Maps.newHashMap();\nmap.put(key, value);\n</code></pre>\n\n<p>The thing with <code>ImmutableMap</code> is that it is a little bit more cumbersome to create; you first need to make a <code>Builder</code>, then put the key-value pairs in the builder and then call <code>build()</code> on it to create your <code>ImmutableMap</code>. The <code>ImmutableMap.of()</code> method makes it shorter to write if you want to create an <code>ImmutableMap</code> with a single key-value pair.</p>\n\n<p>Consider what you'd have to write if you wouldn't use the <code>ImmutableMap.of()</code> method:</p>\n\n<pre><code>ImmutableMap&lt;String, Object&gt; map = ImmutableMap.builder()\n    .put(key, value);\n    .build();\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user638455"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1507615842,"creation_date":1305019851,"answer_id":5948019,"question_id":5947869,"body_markdown":"Try `Maps.newHashMap(ImmutableMap.of(...))`\r\n\r\n[`Maps.newHashMap(Map map)`][1]\r\n\r\n\r\n  [1]: https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/Maps.html#newHashMap(java.util.Map)","title":"ImmutableMap.of() workaround for HashMap in Maps?","body":"<p>Try <code>Maps.newHashMap(ImmutableMap.of(...))</code></p>\n\n<p><a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/Maps.html#newHashMap(java.util.Map)\" rel=\"nofollow noreferrer\"><code>Maps.newHashMap(Map map)</code></a></p>\n"},{"tags":[],"owner":{"account_id":109733,"reputation":31428,"user_id":290629,"accept_rate":88,"display_name":"卢声远 Shengyuan Lu"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1305021849,"creation_date":1305021462,"answer_id":5948329,"question_id":5947869,"body_markdown":"`ImmutableMap.of()` returns a hash based immutable map without order.\r\n\r\nIf you need ordered immutable map, `ImmutableSortedMap.of()` is a choice. \r\n\r\nImmutableSortedMap provides methods such as `firstKey()`, `lastKey()`, `headMap(K)` and `tailMap(K)`;\r\n\r\nBoth classes provide `copyOf(Map)` method.","title":"ImmutableMap.of() workaround for HashMap in Maps?","body":"<p><code>ImmutableMap.of()</code> returns a hash based immutable map without order.</p>\n\n<p>If you need ordered immutable map, <code>ImmutableSortedMap.of()</code> is a choice. </p>\n\n<p>ImmutableSortedMap provides methods such as <code>firstKey()</code>, <code>lastKey()</code>, <code>headMap(K)</code> and <code>tailMap(K)</code>;</p>\n\n<p>Both classes provide <code>copyOf(Map)</code> method.</p>\n"},{"tags":[],"owner":{"account_id":2868209,"reputation":3106,"user_id":2462052,"accept_rate":65,"display_name":"danny"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1545023800,"creation_date":1545023800,"answer_id":53809321,"question_id":5947869,"body_markdown":"cannot you use the `copyOf` method of `ImmutableMap` described [here]?\r\n\r\nit should be something like \r\n\r\n    Map newImmutableMap = ImmutableMap.copyOf(yourMap);\r\n\r\n  [here]: https://google.github.io/guava/releases/21.0/api/docs/com/google/common/collect/ImmutableMap.html#copyOf-java.util.Map-","title":"ImmutableMap.of() workaround for HashMap in Maps?","body":"<p>cannot you use the <code>copyOf</code> method of <code>ImmutableMap</code> described <a href=\"https://google.github.io/guava/releases/21.0/api/docs/com/google/common/collect/ImmutableMap.html#copyOf-java.util.Map-\" rel=\"noreferrer\">here</a>?</p>\n\n<p>it should be something like </p>\n\n<pre><code>Map newImmutableMap = ImmutableMap.copyOf(yourMap);\n</code></pre>\n"}],"owner":{"account_id":306710,"reputation":7852,"user_id":617612,"accept_rate":83,"display_name":"Premraj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64452,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":5947915,"answer_count":5,"score":33,"last_activity_date":1661074990,"creation_date":1305019068,"question_id":5947869,"body_markdown":"There are utility methods to create `ImmutableMap` like `Immutable.of(Key, value)` and its overload. &lt;br/&gt;&lt;br/&gt;\r\nBut such methods don&#39;t exist for `HashMap` or `LinkedHashMap` in `Maps` class. &lt;br/&gt;&lt;br/&gt;\r\nIs there any better way to do this or Guava assumes such a map is always a constant map and `ImmutableMap` is best option to go with and don&#39;t need to provide a utility for `HashMap`.\r\n","title":"ImmutableMap.of() workaround for HashMap in Maps?","body":"<p>There are utility methods to create <code>ImmutableMap</code> like <code>Immutable.of(Key, value)</code> and its overload. <br/><br/>\nBut such methods don't exist for <code>HashMap</code> or <code>LinkedHashMap</code> in <code>Maps</code> class. <br/><br/>\nIs there any better way to do this or Guava assumes such a map is always a constant map and <code>ImmutableMap</code> is best option to go with and don't need to provide a utility for <code>HashMap</code>.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1343667193,"post_id":11726023,"comment_id":15558308,"body_markdown":"Please show *what* you&#39;ve tried (did you look for the word &quot;split&quot; in the docs for String, for example?)","body":"Please show <i>what</i> you&#39;ve tried (did you look for the word &quot;split&quot; in the docs for String, for example?)"},{"owner":{"account_id":73312,"reputation":5791,"user_id":211197,"display_name":"maksimov"},"score":11,"creation_date":1343667239,"post_id":11726023,"comment_id":15558324,"body_markdown":"Yes, String#split() is named very ambiguously :-P","body":"Yes, String#split() is named very ambiguously :-P"}],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1343667205,"creation_date":1343667205,"answer_id":11726038,"question_id":11726023,"body_markdown":"Use [`split()`][1]\r\n\r\n    String words[] = stringInstance.split(&quot; &quot;);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#split%28java.lang.String%29","title":"Split string into individual words Java","body":"<p>Use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#split%28java.lang.String%29\" rel=\"nofollow\"><code>split()</code></a></p>\n\n<pre><code>String words[] = stringInstance.split(\" \");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1355206,"reputation":33312,"user_id":1293744,"accept_rate":44,"display_name":"Kumar Vivek Mitra"},"down_vote_count":1,"up_vote_count":87,"is_accepted":true,"score":86,"last_activity_date":1524572792,"creation_date":1343667269,"answer_id":11726055,"question_id":11726023,"body_markdown":"Use `split()` method\r\n\r\n\r\n**Eg:**\r\n\r\n \r\n\r\n    String s = &quot;I want to walk my dog&quot;;\r\n    String[] arr = s.split(&quot; &quot;);    \r\n    \r\n    for ( String ss : arr) {\r\n        System.out.println(ss);\r\n    }","title":"Split string into individual words Java","body":"<p>Use <code>split()</code> method</p>\n\n<p><strong>Eg:</strong></p>\n\n<pre><code>String s = \"I want to walk my dog\";\nString[] arr = s.split(\" \");    \n\nfor ( String ss : arr) {\n    System.out.println(ss);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3916524,"reputation":182,"user_id":3240229,"accept_rate":0,"display_name":"AKT"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1405793925,"creation_date":1405792475,"answer_id":24843315,"question_id":11726023,"body_markdown":"You can use `split(&quot; &quot;)` method of the `String` class and can get each word as code given below:\r\n\r\n    String s = &quot;I want to walk my dog&quot;;\r\n    String []strArray=s.split(&quot; &quot;);\r\n    for(int i=0; i&lt;strArray.length;i++) {\r\n         System.out.println(strArray[i]);\r\n    }","title":"Split string into individual words Java","body":"<p>You can use <code>split(\" \")</code> method of the <code>String</code> class and can get each word as code given below:</p>\n\n<pre><code>String s = \"I want to walk my dog\";\nString []strArray=s.split(\" \");\nfor(int i=0; i&lt;strArray.length;i++) {\n     System.out.println(strArray[i]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4063653,"reputation":7235,"user_id":3401555,"accept_rate":87,"display_name":"Kao"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1410339432,"creation_date":1410339432,"answer_id":25761246,"question_id":11726023,"body_markdown":"Yet another method, using [StringTokenizer][1] :\r\n         \r\n    String s = &quot;I want to walk my dog&quot;;\r\n\tStringTokenizer tokenizer = new StringTokenizer(s);\r\n\t\r\n\twhile(tokenizer.hasMoreTokens()) {\r\n\t    System.out.println(tokenizer.nextToken());\r\n\t}\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/StringTokenizer.html","title":"Split string into individual words Java","body":"<p>Yet another method, using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/StringTokenizer.html\" rel=\"noreferrer\">StringTokenizer</a> :</p>\n\n<pre><code>String s = \"I want to walk my dog\";\nStringTokenizer tokenizer = new StringTokenizer(s);\n\nwhile(tokenizer.hasMoreTokens()) {\n    System.out.println(tokenizer.nextToken());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2035784,"reputation":670,"user_id":1879990,"display_name":"Pete"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1524575526,"creation_date":1422742346,"answer_id":28257108,"question_id":11726023,"body_markdown":"A regex can also be used to split words. \r\n\r\n`\\w` can be used to match word characters (`[A-Za-z0-9_]`), so that punctuation is removed from the results:\r\n\r\n    String s = &quot;I want to walk my dog, and why not?&quot;;\r\n\tPattern pattern = Pattern.compile(&quot;\\\\w+&quot;);\r\n\tMatcher matcher = pattern.matcher(s);\r\n\twhile (matcher.find()) {\r\n\t\tSystem.out.println(matcher.group());\r\n\t}\r\n\r\nOutputs:\r\n\r\n    I\r\n    want\r\n    to\r\n    walk\r\n    my\r\n    dog\r\n    and\r\n    why\r\n    not\r\n\r\nSee Java API documentation for [Pattern][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html","title":"Split string into individual words Java","body":"<p>A regex can also be used to split words. </p>\n\n<p><code>\\w</code> can be used to match word characters (<code>[A-Za-z0-9_]</code>), so that punctuation is removed from the results:</p>\n\n<pre><code>String s = \"I want to walk my dog, and why not?\";\nPattern pattern = Pattern.compile(\"\\\\w+\");\nMatcher matcher = pattern.matcher(s);\nwhile (matcher.find()) {\n    System.out.println(matcher.group());\n}\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>I\nwant\nto\nwalk\nmy\ndog\nand\nwhy\nnot\n</code></pre>\n\n<p>See Java API documentation for <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html\" rel=\"noreferrer\">Pattern</a></p>\n"},{"tags":[],"owner":{"account_id":6696839,"reputation":855,"user_id":5164612,"display_name":"Teodor Anton"},"down_vote_count":2,"up_vote_count":74,"is_accepted":false,"score":72,"last_activity_date":1495374639,"creation_date":1438082767,"answer_id":31674929,"question_id":11726023,"body_markdown":"As a more general solution (but ASCII only!), to include any other separators between words (like commas and semicolons), I suggest:\r\n\r\n    String s = &quot;I want to walk my dog, cat, and tarantula; maybe even my tortoise.&quot;;\r\n    String[] words = s.split(&quot;\\\\W+&quot;);\r\n\r\nThe regex means that the delimiters will be anything that is not a word [\\W], in groups of at least one [+]. Because [+] is greedy, it will take for instance &#39;;&#39; and &#39; &#39; together as one delimiter.","title":"Split string into individual words Java","body":"<p>As a more general solution (but ASCII only!), to include any other separators between words (like commas and semicolons), I suggest:</p>\n\n<pre><code>String s = \"I want to walk my dog, cat, and tarantula; maybe even my tortoise.\";\nString[] words = s.split(\"\\\\W+\");\n</code></pre>\n\n<p>The regex means that the delimiters will be anything that is not a word [\\W], in groups of at least one [+]. Because [+] is greedy, it will take for instance ';' and ' ' together as one delimiter.</p>\n"},{"tags":[],"owner":{"account_id":1535921,"reputation":3060,"user_id":1431979,"display_name":"Pierre C"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1478227039,"creation_date":1478227039,"answer_id":40414433,"question_id":11726023,"body_markdown":"See my [other answer][1] if your phrase contains accentuated characters :\r\n\r\n    String[] listeMots = phrase.split(&quot;\\\\P{L}+&quot;);\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/40414384/1431979","title":"Split string into individual words Java","body":"<p>See my <a href=\"https://stackoverflow.com/a/40414384/1431979\">other answer</a> if your phrase contains accentuated characters :</p>\n\n<pre><code>String[] listeMots = phrase.split(\"\\\\P{L}+\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3270506,"reputation":73,"user_id":2754001,"display_name":"Akib Imtiaz"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1479622538,"creation_date":1479621377,"answer_id":40701153,"question_id":11726023,"body_markdown":"To include any separators between words (like everything except all lower case and upper case letters), we can do:\r\n    \r\n    String mystring = &quot;hi, there,hi Leo&quot;;\r\n    String[] arr = mystring.split(&quot;[^a-zA-Z]+&quot;);\r\n    for(int i = 0; i &lt; arr.length; i += 1)\r\n    {\r\n         System.out.println(arr[i]);\r\n    }\r\n\r\nHere the regex means that the separators will be anything that is not a upper or lower case letter `[^a-zA-Z]`, in groups of at least one [+].","title":"Split string into individual words Java","body":"<p>To include any separators between words (like everything except all lower case and upper case letters), we can do:</p>\n\n<pre><code>String mystring = \"hi, there,hi Leo\";\nString[] arr = mystring.split(\"[^a-zA-Z]+\");\nfor(int i = 0; i &lt; arr.length; i += 1)\n{\n     System.out.println(arr[i]);\n}\n</code></pre>\n\n<p>Here the regex means that the separators will be anything that is not a upper or lower case letter <code>[^a-zA-Z]</code>, in groups of at least one [+].</p>\n"},{"tags":[],"owner":{"account_id":8262338,"reputation":322,"user_id":6213262,"display_name":"Gagan Chouhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643711024,"creation_date":1524573125,"answer_id":50001798,"question_id":11726023,"body_markdown":"you can use Apache commons&#39; StringUtils class\r\n\r\n\r\n    String[] partsOfString = StringUtils.split(&quot;I want to walk my dog&quot;, StringUtils.SPACE)","title":"Split string into individual words Java","body":"<p>you can use Apache commons' StringUtils class</p>\n<pre><code>String[] partsOfString = StringUtils.split(&quot;I want to walk my dog&quot;, StringUtils.SPACE)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10134977,"reputation":9,"user_id":7486880,"display_name":"Yan Nan"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1575677090,"creation_date":1548091086,"answer_id":54294893,"question_id":11726023,"body_markdown":"    String[] str = s.split(&quot;[^a-zA-Z]+&quot;);\r\n\r\n","title":"Split string into individual words Java","body":"<pre><code>String[] str = s.split(\"[^a-zA-Z]+\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10225897,"reputation":551,"user_id":7548514,"display_name":"Kyo Huu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1589884115,"creation_date":1589884115,"answer_id":61888811,"question_id":11726023,"body_markdown":"\r\nThis regex will split word by space like space, tab, line break:\r\n\r\n    String[] str = s.split(&quot;\\\\s+&quot;);","title":"Split string into individual words Java","body":"<p>This regex will split word by space like space, tab, line break:</p>\n\n<pre><code>String[] str = s.split(\"\\\\s+\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18885179,"reputation":19,"user_id":13776792,"display_name":"ch Noman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596045024,"creation_date":1596045024,"answer_id":63159606,"question_id":11726023,"body_markdown":"    StringTokenizer separate = new StringTokenizer(s, &quot; &quot;);\r\n    String word = separate.nextToken();\r\n    System.out.println(word);\r\n\r\n","title":"Split string into individual words Java","body":"<pre><code>StringTokenizer separate = new StringTokenizer(s, &quot; &quot;);\nString word = separate.nextToken();\nSystem.out.println(word);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5096768,"reputation":1551,"user_id":4087817,"display_name":"ngg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624344127,"creation_date":1624344127,"answer_id":68078680,"question_id":11726023,"body_markdown":" \r\n\r\n***Java String split() method example***\r\n\r\n      \r\n     public class SplitExample{  \r\n        \tpublic static void main(String args[]){  \r\n        \t\tString str=&quot;java string split method&quot;;  \r\n        \t\tString[] words=str.split(&quot;\\\\s&quot;);//splits the string based on whitespace  \r\n         \r\n        \t\tfor(String word:words){  \r\n        \t\t\tSystem.out.println(word);  \r\n        \t\t}  \r\n        \t}\r\n        }","title":"Split string into individual words Java","body":"<p><em><strong>Java String split() method example</strong></em></p>\n<pre><code> public class SplitExample{  \n        public static void main(String args[]){  \n            String str=&quot;java string split method&quot;;  \n            String[] words=str.split(&quot;\\\\s&quot;);//splits the string based on whitespace  \n     \n            for(String word:words){  \n                System.out.println(word);  \n            }  \n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18954391,"reputation":1,"user_id":13831317,"display_name":"Rakesh pal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628088473,"creation_date":1628087327,"answer_id":68653066,"question_id":11726023,"body_markdown":"    class test{\r\n               \r\n        public static void main(String[] args){\r\n                \tStringTokenizer st= new StringTokenizer(&quot;I want to walk my dog.&quot;);\r\n                    \r\n                    while (st.hasMoreTokens())\r\n                        System.out.println(st.nextToken());\r\n             \r\n                }\r\n            }\r\n\r\n","title":"Split string into individual words Java","body":"<pre><code>class test{\n           \n    public static void main(String[] args){\n                StringTokenizer st= new StringTokenizer(&quot;I want to walk my dog.&quot;);\n                \n                while (st.hasMoreTokens())\n                    System.out.println(st.nextToken());\n         \n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4983174,"reputation":100,"user_id":4007530,"accept_rate":50,"display_name":"Arafath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661074783,"creation_date":1661074783,"answer_id":73433221,"question_id":11726023,"body_markdown":"Using Java Stream API:\r\n\r\n    String sentence = &quot;I want to walk my dog.&quot;;\r\n    \r\n    Arrays.stream(sentence.split(&quot; &quot;)).forEach(System.out::println);\r\n\r\nOutput:\r\n\r\n    I\r\n    want\r\n    to\r\n    walk\r\n    my\r\n    dog.\r\n\r\nOr\r\n\r\n    String sentence2 = &quot;I want to walk my dog.&quot;;\r\n\r\n    Arrays.stream(sentence2.split(&quot; &quot;)).map(str -&gt; str.replace(&quot;.&quot;, &quot;&quot;)).forEach(System.out::println);\r\n\r\nOutput:\r\n\r\n    I\r\n    want\r\n    to\r\n    walk\r\n    my\r\n    dog\r\n\r\n","title":"Split string into individual words Java","body":"<p>Using Java Stream API:</p>\n<pre><code>String sentence = &quot;I want to walk my dog.&quot;;\n\nArrays.stream(sentence.split(&quot; &quot;)).forEach(System.out::println);\n</code></pre>\n<p>Output:</p>\n<pre><code>I\nwant\nto\nwalk\nmy\ndog.\n</code></pre>\n<p>Or</p>\n<pre><code>String sentence2 = &quot;I want to walk my dog.&quot;;\n\nArrays.stream(sentence2.split(&quot; &quot;)).map(str -&gt; str.replace(&quot;.&quot;, &quot;&quot;)).forEach(System.out::println);\n</code></pre>\n<p>Output:</p>\n<pre><code>I\nwant\nto\nwalk\nmy\ndog\n</code></pre>\n"}],"owner":{"account_id":1088478,"reputation":1676,"user_id":1083653,"accept_rate":56,"display_name":"fosho"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":304541,"favorite_count":0,"down_vote_count":9,"up_vote_count":62,"accepted_answer_id":11726055,"answer_count":15,"score":53,"last_activity_date":1661074783,"creation_date":1343667131,"question_id":11726023,"body_markdown":"I would like to know how to split up a large string into a series of smaller strings or words.\r\nFor example:\r\n\r\n&gt; I want to walk my dog.\r\n\r\nI want to have a string: `&quot;I&quot;`,\r\nanother string:`&quot;want&quot;`, etc.\r\n\r\nHow would I do this?","title":"Split string into individual words Java","body":"<p>I would like to know how to split up a large string into a series of smaller strings or words.\nFor example:</p>\n\n<blockquote>\n  <p>I want to walk my dog.</p>\n</blockquote>\n\n<p>I want to have a string: <code>\"I\"</code>,\nanother string:<code>\"want\"</code>, etc.</p>\n\n<p>How would I do this?</p>\n"},{"tags":["java","spring","elasticsearch","full-text-search"],"comments":[{"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"score":0,"creation_date":1660997218,"post_id":73424106,"comment_id":129668687,"body_markdown":"what is the motive for use postFilter?","body":"what is the motive for use postFilter?"}],"answers":[{"tags":[],"owner":{"account_id":20863305,"reputation":63,"user_id":15324997,"display_name":"GhoRdoU MaeMoN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661074576,"creation_date":1661074576,"answer_id":73433191,"question_id":73424106,"body_markdown":"The problem was in the employeeNumber field, I don&#39;t know if it because it a long or because, it was a Long when the index was created and I changed it to a String and a mismatch occured between the index and my spring document but it worked find after I deleted the index and recreated it","title":"exception [type=search_phase_execution_exception, reason=all shards failed] when trying full text search","body":"<p>The problem was in the employeeNumber field, I don't know if it because it a long or because, it was a Long when the index was created and I changed it to a String and a mismatch occured between the index and my spring document but it worked find after I deleted the index and recreated it</p>\n"}],"owner":{"account_id":20863305,"reputation":63,"user_id":15324997,"display_name":"GhoRdoU MaeMoN"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73433191,"answer_count":1,"score":1,"last_activity_date":1661074576,"creation_date":1660969848,"question_id":73424106,"body_markdown":"I tried to implement a full text search in spring data elasticsearch, but when a request is sent this exception is raised &quot;Elasticsearch exception [type=search_phase_execution_exception, reason=all shards failed]&quot;\r\n```java\r\nMultiMatchQueryBuilder queryBuilder = QueryBuilders.multiMatchQuery(searchTerm)\r\n                .type(MultiMatchQueryBuilder.Type.CROSS_FIELDS)\r\n                .operator(Operator.AND)\r\n                .field(&quot;firstName&quot;)\r\n                .field(&quot;lastName&quot;)\r\n                .field(&quot;activeDirectoryUsername&quot;)\r\n                .field(&quot;employeeNumber&quot;)\r\n                .field(&quot;personalEmail&quot;)\r\n                .field(&quot;corporateEmail&quot;)\r\n                .field(&quot;project&quot;);\r\n\r\n        SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder()\r\n                .postFilter(queryBuilder);\r\n\r\n        SearchRequest request = new SearchRequest(&quot;employee&quot;);\r\n        request.source(searchSourceBuilder);\r\n\r\n        SearchResponse response = client.search(request, RequestOptions.DEFAULT);\r\n```\r\nthe exception is raised in the last line.","title":"exception [type=search_phase_execution_exception, reason=all shards failed] when trying full text search","body":"<p>I tried to implement a full text search in spring data elasticsearch, but when a request is sent this exception is raised &quot;Elasticsearch exception [type=search_phase_execution_exception, reason=all shards failed]&quot;</p>\n<pre class=\"lang-java prettyprint-override\"><code>MultiMatchQueryBuilder queryBuilder = QueryBuilders.multiMatchQuery(searchTerm)\n                .type(MultiMatchQueryBuilder.Type.CROSS_FIELDS)\n                .operator(Operator.AND)\n                .field(&quot;firstName&quot;)\n                .field(&quot;lastName&quot;)\n                .field(&quot;activeDirectoryUsername&quot;)\n                .field(&quot;employeeNumber&quot;)\n                .field(&quot;personalEmail&quot;)\n                .field(&quot;corporateEmail&quot;)\n                .field(&quot;project&quot;);\n\n        SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder()\n                .postFilter(queryBuilder);\n\n        SearchRequest request = new SearchRequest(&quot;employee&quot;);\n        request.source(searchSourceBuilder);\n\n        SearchResponse response = client.search(request, RequestOptions.DEFAULT);\n</code></pre>\n<p>the exception is raised in the last line.</p>\n"},{"tags":["java","hadoop","eof"],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1320026703,"creation_date":1320026703,"answer_id":7949362,"question_id":7949058,"body_markdown":"EOFException on a socket means there&#39;s no more data and the peer has closed the connection.","title":"What is the meaning of EOF exceptions in hadoop namenode connections from hbase/filesystem?","body":"<p>EOFException on a socket means there's no more data and the peer has closed the connection.</p>\n"},{"tags":[],"owner":{"account_id":142682,"reputation":17410,"user_id":350542,"accept_rate":43,"display_name":"jayunit100"},"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1320040384,"creation_date":1320040384,"answer_id":7950372,"question_id":7949058,"body_markdown":"Regarding hadoop : I fixed the error ! You need to make sure the core-site.xml is serving to 0.0.0.0 instead of 127.0.0.1(localhost).\r\n\r\nIf you get the EOF exception, it means that the port is not accessible externally on that ip, so there is no data to read between the hadoop client / server ipc.","title":"What is the meaning of EOF exceptions in hadoop namenode connections from hbase/filesystem?","body":"<p>Regarding hadoop : I fixed the error ! You need to make sure the core-site.xml is serving to 0.0.0.0 instead of 127.0.0.1(localhost).</p>\n\n<p>If you get the EOF exception, it means that the port is not accessible externally on that ip, so there is no data to read between the hadoop client / server ipc.</p>\n"}],"owner":{"account_id":142682,"reputation":17410,"user_id":350542,"accept_rate":43,"display_name":"jayunit100"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21736,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":7950372,"answer_count":2,"score":10,"last_activity_date":1661073653,"creation_date":1320022543,"question_id":7949058,"body_markdown":"This is both a general question about java EOF exceptions, as well as Hadoop&#39;s EOF exception which is related to jar interoperability.  Comments and answers on either topic are acceptable. \r\n\r\n**Background**\r\n\r\nI&#39;m noting some threads which discuss a cryptic exception, which is ultimately caused by a &quot;readInt&quot; method.  This exception seems to have some generic implications which are independent of hadoop, but ultimately, is caused by interoperability of Hadoop jars.\r\n\r\nIn my case, I&#39;m getting it when I try to create a new FileSystem object in hadoop, in java.  \r\n\r\n**Question**\r\n\r\nMy question is : What is happening and why does the reading of an integer throw an EOF  exception ?  What &quot;File&quot; is this EOF exception referring to, and why would such an exception be thrown if two jars are not capable of interoperating  ?  \r\n\r\nSecondarily, I also would like to know how to fix this error so i can connect to and read/write hadoops filesystem using the hdfs protocol with the java api, remotely.... \r\n\r\n&lt;pre&gt;\r\njava.io.IOException: Call to /10.0.1.37:50070 failed on local exception: java.io.EOFException\r\n\tat org.apache.hadoop.ipc.Client.wrapException(Client.java:1139)\r\n\tat org.apache.hadoop.ipc.Client.call(Client.java:1107)\r\n\tat org.apache.hadoop.ipc.RPC$Invoker.invoke(RPC.java:226)\r\n\tat $Proxy0.getProtocolVersion(Unknown Source)\r\n\tat org.apache.hadoop.ipc.RPC.getProxy(RPC.java:398)\r\n\tat org.apache.hadoop.ipc.RPC.getProxy(RPC.java:384)\r\n\tat org.apache.hadoop.hdfs.DFSClient.createRPCNamenode(DFSClient.java:111)\r\n\tat org.apache.hadoop.hdfs.DFSClient.&lt;init&gt;(DFSClient.java:213)\r\n\tat org.apache.hadoop.hdfs.DFSClient.&lt;init&gt;(DFSClient.java:180)\r\n\tat org.apache.hadoop.hdfs.DistributedFileSystem.initialize(DistributedFileSystem.java:89)\r\n\tat org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:1514)\r\n\tat org.apache.hadoop.fs.FileSystem.access$200(FileSystem.java:67)\r\n\tat org.apache.hadoop.fs.FileSystem$Cache.getInternal(FileSystem.java:1548)\r\n\tat org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:1530)\r\n\tat org.apache.hadoop.fs.FileSystem.get(FileSystem.java:228)\r\n\tat sb.HadoopRemote.main(HadoopRemote.java:35)\r\nCaused by: java.io.EOFException\r\n\tat java.io.DataInputStream.readInt(DataInputStream.java:375)\r\n\tat org.apache.hadoop.ipc.Client$Connection.receiveResponse(Client.java:819)\r\n\tat org.apache.hadoop.ipc.Client$Connection.run(Client.java:720)\r\n\r\n&lt;/pre&gt;","title":"What is the meaning of EOF exceptions in hadoop namenode connections from hbase/filesystem?","body":"<p>This is both a general question about java EOF exceptions, as well as Hadoop's EOF exception which is related to jar interoperability.  Comments and answers on either topic are acceptable. </p>\n\n<p><strong>Background</strong></p>\n\n<p>I'm noting some threads which discuss a cryptic exception, which is ultimately caused by a \"readInt\" method.  This exception seems to have some generic implications which are independent of hadoop, but ultimately, is caused by interoperability of Hadoop jars.</p>\n\n<p>In my case, I'm getting it when I try to create a new FileSystem object in hadoop, in java.  </p>\n\n<p><strong>Question</strong></p>\n\n<p>My question is : What is happening and why does the reading of an integer throw an EOF  exception ?  What \"File\" is this EOF exception referring to, and why would such an exception be thrown if two jars are not capable of interoperating  ?  </p>\n\n<p>Secondarily, I also would like to know how to fix this error so i can connect to and read/write hadoops filesystem using the hdfs protocol with the java api, remotely.... </p>\n\n<pre>\njava.io.IOException: Call to /10.0.1.37:50070 failed on local exception: java.io.EOFException\n    at org.apache.hadoop.ipc.Client.wrapException(Client.java:1139)\n    at org.apache.hadoop.ipc.Client.call(Client.java:1107)\n    at org.apache.hadoop.ipc.RPC$Invoker.invoke(RPC.java:226)\n    at $Proxy0.getProtocolVersion(Unknown Source)\n    at org.apache.hadoop.ipc.RPC.getProxy(RPC.java:398)\n    at org.apache.hadoop.ipc.RPC.getProxy(RPC.java:384)\n    at org.apache.hadoop.hdfs.DFSClient.createRPCNamenode(DFSClient.java:111)\n    at org.apache.hadoop.hdfs.DFSClient.(DFSClient.java:213)\n    at org.apache.hadoop.hdfs.DFSClient.(DFSClient.java:180)\n    at org.apache.hadoop.hdfs.DistributedFileSystem.initialize(DistributedFileSystem.java:89)\n    at org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:1514)\n    at org.apache.hadoop.fs.FileSystem.access$200(FileSystem.java:67)\n    at org.apache.hadoop.fs.FileSystem$Cache.getInternal(FileSystem.java:1548)\n    at org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:1530)\n    at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:228)\n    at sb.HadoopRemote.main(HadoopRemote.java:35)\nCaused by: java.io.EOFException\n    at java.io.DataInputStream.readInt(DataInputStream.java:375)\n    at org.apache.hadoop.ipc.Client$Connection.receiveResponse(Client.java:819)\n    at org.apache.hadoop.ipc.Client$Connection.run(Client.java:720)\n\n</pre>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-authentication"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1660470684,"post_id":73349136,"comment_id":129536589,"body_markdown":"Nice question, btw.","body":"Nice question, btw."}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661073213,"creation_date":1660470545,"answer_id":73350623,"question_id":73349136,"body_markdown":"The [AuthResult][1] class contains a method called [getCredential()][2], which returns an object of type [AuthCredential][3]. However, this class, does **not** contain any getAccessToken(), or getSecret() methods. There is also **no** super class that might hold them.\r\n\r\nWhen you try to implement a sign-in mechanism with a provider, there are two operations that you should do:\r\n\r\n1. Get provider credentials.\r\n2. Go forward and perform the authentication. If you do it with Firebase, then you should pass them to the [FirebaseAuth#signInWithCredential(AuthCredential)][4] method.\r\n\r\nIf you need to get the values of the token and the secret, you have to get them from inside a [TwitterAuthToken][5] object. As you can see, this class exposes two public fields called `token` and `secret`.\r\n\r\nSo once you press a sign-in button and choose an account, you&#39;ll get as a result an object of type [Result&lt;TwitterSession&gt;][6]. As you can see, this is a generic class. This means that the `data` field inside the class is of type [TwitterSession][7], which is a class that extends [Session][8]. Now you&#39;ll be able to get both objects like this:\r\n\r\n    String token = session.getAuthToken().token;\r\n    String secret = session.getAuthToken().secret;\r\n\r\nNow you can go forward and create an [AuthCredential][3] object:\r\n\r\n    AuthCredential credential = TwitterAuthProvider.getCredential(token, secret);\r\n\r\nAnd perform the Firebase authentication with Twitter:\r\n\r\n    auth.signInWithCredential(credential).addOnCompleteListener(/* ... */);\r\n\r\n**Edit:**\r\n\r\nAccording to your comment:\r\n\r\n&gt; Twitter stopped supporting the SDK 4 years ago.\r\n\r\nYou&#39;re absolutely right. Getting back to Firebase, please note that there is a commented line there that says:\r\n\r\n&gt; The **OAuth** access token can also be retrieved.\r\n\r\nSo you should take a look into [OAuthCredential class][9], which exposes the [getAccessToken()][10] and [getSecret()][11] methods.\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/auth/AuthResult\r\n  [2]: https://firebase.google.com/docs/reference/android/com/google/firebase/auth/AuthResult#getCredential()\r\n  [3]: https://firebase.google.com/docs/reference/android/com/google/firebase/auth/AuthCredential\r\n  [4]: https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseAuth#signInWithCredential(com.google.firebase.auth.AuthCredential)\r\n  [5]: https://github.com/twitter-archive/twitter-kit-android/blob/master/twitter-core/src/main/java/com/twitter/sdk/android/core/TwitterAuthToken.java\r\n  [6]: https://github.com/twitter-archive/twitter-kit-android/blob/master/twitter-core/src/main/java/com/twitter/sdk/android/core/Result.java\r\n  [7]: https://github.com/twitter-archive/twitter-kit-android/blob/master/twitter-core/src/main/java/com/twitter/sdk/android/core/TwitterSession.java\r\n  [8]: https://github.com/twitter-archive/twitter-kit-android/blob/master/twitter-core/src/main/java/com/twitter/sdk/android/core/Session.java\r\n  [9]: https://firebase.google.com/docs/reference/android/com/google/firebase/auth/OAuthCredential\r\n  [10]: https://firebase.google.com/docs/reference/android/com/google/firebase/auth/OAuthCredential#getAccessToken()\r\n  [11]: https://firebase.google.com/docs/reference/android/com/google/firebase/auth/OAuthCredential#getSecret()","title":"How can I get the token and secret in Firebase Twitter Login?","body":"<p>The <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/auth/AuthResult\" rel=\"nofollow noreferrer\">AuthResult</a> class contains a method called <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/auth/AuthResult#getCredential()\" rel=\"nofollow noreferrer\">getCredential()</a>, which returns an object of type <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/auth/AuthCredential\" rel=\"nofollow noreferrer\">AuthCredential</a>. However, this class, does <strong>not</strong> contain any getAccessToken(), or getSecret() methods. There is also <strong>no</strong> super class that might hold them.</p>\n<p>When you try to implement a sign-in mechanism with a provider, there are two operations that you should do:</p>\n<ol>\n<li>Get provider credentials.</li>\n<li>Go forward and perform the authentication. If you do it with Firebase, then you should pass them to the <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseAuth#signInWithCredential(com.google.firebase.auth.AuthCredential)\" rel=\"nofollow noreferrer\">FirebaseAuth#signInWithCredential(AuthCredential)</a> method.</li>\n</ol>\n<p>If you need to get the values of the token and the secret, you have to get them from inside a <a href=\"https://github.com/twitter-archive/twitter-kit-android/blob/master/twitter-core/src/main/java/com/twitter/sdk/android/core/TwitterAuthToken.java\" rel=\"nofollow noreferrer\">TwitterAuthToken</a> object. As you can see, this class exposes two public fields called <code>token</code> and <code>secret</code>.</p>\n<p>So once you press a sign-in button and choose an account, you'll get as a result an object of type <a href=\"https://github.com/twitter-archive/twitter-kit-android/blob/master/twitter-core/src/main/java/com/twitter/sdk/android/core/Result.java\" rel=\"nofollow noreferrer\">Result</a>. As you can see, this is a generic class. This means that the <code>data</code> field inside the class is of type <a href=\"https://github.com/twitter-archive/twitter-kit-android/blob/master/twitter-core/src/main/java/com/twitter/sdk/android/core/TwitterSession.java\" rel=\"nofollow noreferrer\">TwitterSession</a>, which is a class that extends <a href=\"https://github.com/twitter-archive/twitter-kit-android/blob/master/twitter-core/src/main/java/com/twitter/sdk/android/core/Session.java\" rel=\"nofollow noreferrer\">Session</a>. Now you'll be able to get both objects like this:</p>\n<pre><code>String token = session.getAuthToken().token;\nString secret = session.getAuthToken().secret;\n</code></pre>\n<p>Now you can go forward and create an <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/auth/AuthCredential\" rel=\"nofollow noreferrer\">AuthCredential</a> object:</p>\n<pre><code>AuthCredential credential = TwitterAuthProvider.getCredential(token, secret);\n</code></pre>\n<p>And perform the Firebase authentication with Twitter:</p>\n<pre><code>auth.signInWithCredential(credential).addOnCompleteListener(/* ... */);\n</code></pre>\n<p><strong>Edit:</strong></p>\n<p>According to your comment:</p>\n<blockquote>\n<p>Twitter stopped supporting the SDK 4 years ago.</p>\n</blockquote>\n<p>You're absolutely right. Getting back to Firebase, please note that there is a commented line there that says:</p>\n<blockquote>\n<p>The <strong>OAuth</strong> access token can also be retrieved.</p>\n</blockquote>\n<p>So you should take a look into <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/auth/OAuthCredential\" rel=\"nofollow noreferrer\">OAuthCredential class</a>, which exposes the <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/auth/OAuthCredential#getAccessToken()\" rel=\"nofollow noreferrer\">getAccessToken()</a> and <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/auth/OAuthCredential#getSecret()\" rel=\"nofollow noreferrer\">getSecret()</a> methods.</p>\n"}],"owner":{"account_id":2189290,"reputation":2657,"user_id":1936853,"accept_rate":0,"display_name":"yoonhok"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":440,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1661073213,"creation_date":1660451513,"question_id":73349136,"body_markdown":"I am developing an android app using Firebase Auth.\r\nMy app should provide a login feature using Twitter.\r\nSo I am developing Twitter Login using the Firebase Auth.\r\n\r\nI should send the Twitter user&#39;s token and the secret to our backend server. But I don&#39;t know how to get them.\r\n\r\nAccording to the firebase official documents, \r\n```kotlin\r\nfirebaseAuth\r\n    .startActivityForSignInWithProvider(/* activity= */ this, provider.build())\r\n    .addOnSuccessListener(\r\n        new OnSuccessListener&lt;AuthResult&gt;() {\r\n          @Override\r\n          public void onSuccess(AuthResult authResult) {\r\n            // User is signed in.\r\n            // IdP data available in\r\n            // authResult.getAdditionalUserInfo().getProfile().\r\n            // The OAuth access token can also be retrieved:\r\n            // authResult.getCredential().getAccessToken().\r\n            // The OAuth secret can be retrieved by calling:\r\n            // authResult.getCredential().getSecret().\r\n          }\r\n        })\r\n    .addOnFailureListener(\r\n        new OnFailureListener() {\r\n          @Override\r\n          public void onFailure(@NonNull Exception e) {\r\n            // Handle failure.\r\n          }\r\n        });\r\n```\r\n\r\n`onSuccess` callback returns `AuthResult`\r\nBut when I try to use below function: \r\n```kotlin\r\nauthResult.getCredential().getAccessToken()\r\nauthResult.getCredential().getSecret()\r\n```\r\n\r\nThere are no functions! How can I get them???","title":"How can I get the token and secret in Firebase Twitter Login?","body":"<p>I am developing an android app using Firebase Auth.\nMy app should provide a login feature using Twitter.\nSo I am developing Twitter Login using the Firebase Auth.</p>\n<p>I should send the Twitter user's token and the secret to our backend server. But I don't know how to get them.</p>\n<p>According to the firebase official documents,</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>firebaseAuth\n    .startActivityForSignInWithProvider(/* activity= */ this, provider.build())\n    .addOnSuccessListener(\n        new OnSuccessListener&lt;AuthResult&gt;() {\n          @Override\n          public void onSuccess(AuthResult authResult) {\n            // User is signed in.\n            // IdP data available in\n            // authResult.getAdditionalUserInfo().getProfile().\n            // The OAuth access token can also be retrieved:\n            // authResult.getCredential().getAccessToken().\n            // The OAuth secret can be retrieved by calling:\n            // authResult.getCredential().getSecret().\n          }\n        })\n    .addOnFailureListener(\n        new OnFailureListener() {\n          @Override\n          public void onFailure(@NonNull Exception e) {\n            // Handle failure.\n          }\n        });\n</code></pre>\n<p><code>onSuccess</code> callback returns <code>AuthResult</code>\nBut when I try to use below function:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>authResult.getCredential().getAccessToken()\nauthResult.getCredential().getSecret()\n</code></pre>\n<p>There are no functions! How can I get them???</p>\n"},{"tags":["java","calculator","degrees","radians"],"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":1,"creation_date":1661069773,"post_id":73432677,"comment_id":129679814,"body_markdown":"Why not just leave PI out of the equation completely.  Compute `180/deg` and then print &quot;Pi/&quot; followed by the result of your calculation.","body":"Why not just leave PI out of the equation completely.  Compute <code>180&#47;deg</code> and then print &quot;Pi/&quot; followed by the result of your calculation."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1661069896,"post_id":73432677,"comment_id":129679832,"body_markdown":"Or you want `pi / 2` `pi / 3`, `pi / 6` depending on specific results? Like 270 deg -&gt; `3 pi / 2`, 120 deg -&gt; `2 pi / 3` etc?","body":"Or you want <code>pi &#47; 2</code> <code>pi &#47; 3</code>, <code>pi &#47; 6</code> depending on specific results? Like 270 deg -&gt; <code>3 pi &#47; 2</code>, 120 deg -&gt; <code>2 pi &#47; 3</code> etc?"},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":1,"creation_date":1661070282,"post_id":73432677,"comment_id":129679884,"body_markdown":"Your function returns just a number.  Per your print statement, you are assuming that your function returns radians. To satisfy those two requirements, you want to do exactly what you&#39;re showing above.  You can&#39;t return a decimal value that includes PI.  Why would you want to?  If you don&#39;t like displaying so many digits, there is an easy way to deal with that in Python.","body":"Your function returns just a number.  Per your print statement, you are assuming that your function returns radians. To satisfy those two requirements, you want to do exactly what you&#39;re showing above.  You can&#39;t return a decimal value that includes PI.  Why would you want to?  If you don&#39;t like displaying so many digits, there is an easy way to deal with that in Python."},{"owner":{"account_id":19864258,"reputation":33,"user_id":14551926,"display_name":"Username978"},"score":0,"creation_date":1661070445,"post_id":73432677,"comment_id":129679912,"body_markdown":"I would like the calculator to be able to simplify the answer, keeping the pi in the numerator (keeping it a fraction instead of a decimal unless that&#39;s not a thing)","body":"I would like the calculator to be able to simplify the answer, keeping the pi in the numerator (keeping it a fraction instead of a decimal unless that&#39;s not a thing)"},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":2,"creation_date":1661070642,"post_id":73432677,"comment_id":129679943,"body_markdown":"It&#39;s not a standard thing in Python.  It&#39;s not a standard thing in programming in general.  If you aren&#39;t being asked explicitly to do this, I would forget about it.","body":"It&#39;s not a standard thing in Python.  It&#39;s not a standard thing in programming in general.  If you aren&#39;t being asked explicitly to do this, I would forget about it."}],"answers":[{"tags":[],"owner":{"account_id":26117452,"reputation":1,"user_id":19810346,"display_name":"vityaman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661073053,"creation_date":1661072974,"answer_id":73433009,"question_id":73432677,"body_markdown":"You can&#39;t set formatting up to convert degrees to radians with pi out of the box in java, but you can write your own function to do this.\r\n\r\n```\r\nWe know that \r\n360 degrees = 2 * PI   radians =&gt;\r\n180 degrees = PI       radians =&gt;\r\n1   degree  = PI / 180 radians =&gt;\r\n\r\nTherefore\r\nX degrees = PI * (X / 180) radians\r\n\r\nIn case degrees is an integer value \r\n  we can simplify a fraction X / 180\r\n  if gcd(X, 180) &gt; 1, gcd -- the greater common divider.\r\n  X / 180 = (X / gcd(X, 180)) / (180 / gcd(X, 180))\r\n\r\nThe code is something like this (don&#39;t forget to check corner cases):\r\n\r\nString formatDegreesAsFractionWithPI(int degrees) {\r\n  int gcd = gcd(degrees, 180);\r\n  return &quot;(&quot; + (degrees / gcd) + &quot; / &quot; + (180 / gcd) + &quot;) * PI&quot;\r\n}\r\n\r\nint gcd(int a, int b) = { ... }\r\n\r\nIn case degrees is a floating point number, \r\n  the problem is more complicated and my advice \r\n  is to read about &#39;converting decimal floating \r\n  point number to integers fraction&#39;.\r\n``` \r\n\r\nRelated questions: [gcd in java](https://stackoverflow.com/questions/4009198/java-get-greatest-common-divisor), [convert float to fraction (maybe works)](https://ru.stackoverflow.com/questions/748560/Перевод-десятичной-дроби-в-обычную-java)","title":"Calculating degrees to radians in terms of pi","body":"<p>You can't set formatting up to convert degrees to radians with pi out of the box in java, but you can write your own function to do this.</p>\n<pre><code>We know that \n360 degrees = 2 * PI   radians =&gt;\n180 degrees = PI       radians =&gt;\n1   degree  = PI / 180 radians =&gt;\n\nTherefore\nX degrees = PI * (X / 180) radians\n\nIn case degrees is an integer value \n  we can simplify a fraction X / 180\n  if gcd(X, 180) &gt; 1, gcd -- the greater common divider.\n  X / 180 = (X / gcd(X, 180)) / (180 / gcd(X, 180))\n\nThe code is something like this (don't forget to check corner cases):\n\nString formatDegreesAsFractionWithPI(int degrees) {\n  int gcd = gcd(degrees, 180);\n  return &quot;(&quot; + (degrees / gcd) + &quot; / &quot; + (180 / gcd) + &quot;) * PI&quot;\n}\n\nint gcd(int a, int b) = { ... }\n\nIn case degrees is a floating point number, \n  the problem is more complicated and my advice \n  is to read about 'converting decimal floating \n  point number to integers fraction'.\n</code></pre>\n<p>Related questions: <a href=\"https://stackoverflow.com/questions/4009198/java-get-greatest-common-divisor\">gcd in java</a>, <a href=\"https://ru.stackoverflow.com/questions/748560/%D0%9F%D0%B5%D1%80%D0%B5%D0%B2%D0%BE%D0%B4-%D0%B4%D0%B5%D1%81%D1%8F%D1%82%D0%B8%D1%87%D0%BD%D0%BE%D0%B9-%D0%B4%D1%80%D0%BE%D0%B1%D0%B8-%D0%B2-%D0%BE%D0%B1%D1%8B%D1%87%D0%BD%D1%83%D1%8E-java\">convert float to fraction (maybe works)</a></p>\n"}],"owner":{"account_id":19864258,"reputation":33,"user_id":14551926,"display_name":"Username978"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":646,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1661073053,"creation_date":1661069571,"question_id":73432677,"body_markdown":"I made a code converting degrees to radians following my teacher&#39;s format but I want to try to make it in terms of pi. Right now when I plug in 30 as my degrees the output is a loooong decimal but I want it to come out as pi/6. Is there a way to keep the pi symbol in the output?\r\n\r\nThis is my current code:\r\n```\r\n    public static double convertDeg(double deg)\r\n\t{\r\n\t\tdouble rad = deg * (Math.PI/180);\r\n\t\treturn rad;\r\n\t}\r\n```\r\nand\r\n\r\n```\r\nSystem.out.println(&quot;Degrees to radians: &quot;+Calculate.convertDeg(30));\r\n```\r\n\r\nThe output is: &quot;Degrees to radians: 0.5235987755982988&quot;","title":"Calculating degrees to radians in terms of pi","body":"<p>I made a code converting degrees to radians following my teacher's format but I want to try to make it in terms of pi. Right now when I plug in 30 as my degrees the output is a loooong decimal but I want it to come out as pi/6. Is there a way to keep the pi symbol in the output?</p>\n<p>This is my current code:</p>\n<pre><code>    public static double convertDeg(double deg)\n    {\n        double rad = deg * (Math.PI/180);\n        return rad;\n    }\n</code></pre>\n<p>and</p>\n<pre><code>System.out.println(&quot;Degrees to radians: &quot;+Calculate.convertDeg(30));\n</code></pre>\n<p>The output is: &quot;Degrees to radians: 0.5235987755982988&quot;</p>\n"},{"tags":["java","android","height","openweathermap","pressure"],"comments":[{"owner":{"account_id":25554374,"reputation":11,"user_id":19338198,"display_name":"Pavol Švančarek"},"score":0,"creation_date":1661075476,"post_id":73432953,"comment_id":129680802,"body_markdown":"@user16320675 Thank you! Anyways, I just need to calculate difference between two measured places at relatively same time. I was on 40 meter transmitter and difference between real mesurment and mine was only 1-3 meters. But I would like to improve that :)","body":"@user16320675 Thank you! Anyways, I just need to calculate difference between two measured places at relatively same time. I was on 40 meter transmitter and difference between real mesurment and mine was only 1-3 meters. But I would like to improve that :)"},{"owner":{"account_id":471603,"reputation":2835,"user_id":879508,"accept_rate":57,"display_name":"Ifor"},"score":0,"creation_date":1661163850,"post_id":73432953,"comment_id":129698252,"body_markdown":"If your only interested in the difference in height then your weather API service should be OK.  Just keep the same calibration for both measuremnts.  You may want to filter the raw presure readings a bit to improve the difference measurments e.g. take a seoconds worth each time.  I typically see about a +-1.5 m altitude variation between raw presure readings on my old Sony Z5c","body":"If your only interested in the difference in height then your weather API service should be OK.  Just keep the same calibration for both measuremnts.  You may want to filter the raw presure readings a bit to improve the difference measurments e.g. take a seoconds worth each time.  I typically see about a +-1.5 m altitude variation between raw presure readings on my old Sony Z5c"},{"owner":{"account_id":25554374,"reputation":11,"user_id":19338198,"display_name":"Pavol Švančarek"},"score":0,"creation_date":1661418450,"post_id":73432953,"comment_id":129769437,"body_markdown":"@Ifor I see +-0,1-0,2m. You mean to make average? Thats not a big problem. I am working on app that measures height of vertical object. App automaticly finds out if you go up hill or up the tree and mark the lowest height and the highest. Than When you walk away from the tree you get the height marked in google maps (maximum-minimum). Problem that I am facing is if you stay on the tree for e.g 30 minutes, pressure can change by one meter or so. And also I am woried about exponential grow of pressure as you go higher... if that formula is the same or I need to multiply 0,04 to every meter","body":"@Ifor I see +-0,1-0,2m. You mean to make average? Thats not a big problem. I am working on app that measures height of vertical object. App automaticly finds out if you go up hill or up the tree and mark the lowest height and the highest. Than When you walk away from the tree you get the height marked in google maps (maximum-minimum). Problem that I am facing is if you stay on the tree for e.g 30 minutes, pressure can change by one meter or so. And also I am woried about exponential grow of pressure as you go higher... if that formula is the same or I need to multiply 0,04 to every meter"},{"owner":{"account_id":471603,"reputation":2835,"user_id":879508,"accept_rate":57,"display_name":"Ifor"},"score":0,"creation_date":1661508869,"post_id":73432953,"comment_id":129794300,"body_markdown":"Yes an average over say a second.  Yes your right about the weather, time gap can not be too big between measurments.  For small readings differences like you want say 30m the inaccuracys of the model are probably not too bad.  I do a biking app and a 1000m deference can be affected more.  It all depends what ccuracy you need to get.","body":"Yes an average over say a second.  Yes your right about the weather, time gap can not be too big between measurments.  For small readings differences like you want say 30m the inaccuracys of the model are probably not too bad.  I do a biking app and a 1000m deference can be affected more.  It all depends what ccuracy you need to get."},{"owner":{"account_id":25554374,"reputation":11,"user_id":19338198,"display_name":"Pavol Švančarek"},"score":0,"creation_date":1661523048,"post_id":73432953,"comment_id":129799256,"body_markdown":"@Ifor for sure. I tried to average every like 20sec and you can literally see how the value just few minutes increases than stops for few minutes and again increases. I can see big difference after 30 minutes sometimes its over 3 meters.. Than I get api call and value goes down by 10 meters :D So I dont know what to do, cant receive api call while climbing and longer I am on the tree higher value it will be. Need probably let phone rest on one place for 5 minutes to calculate average increase (it will be like +0.05m for every minute) and then exponentially sum it up...","body":"@Ifor for sure. I tried to average every like 20sec and you can literally see how the value just few minutes increases than stops for few minutes and again increases. I can see big difference after 30 minutes sometimes its over 3 meters.. Than I get api call and value goes down by 10 meters :D So I dont know what to do, cant receive api call while climbing and longer I am on the tree higher value it will be. Need probably let phone rest on one place for 5 minutes to calculate average increase (it will be like +0.05m for every minute) and then exponentially sum it up..."}],"owner":{"account_id":25554374,"reputation":11,"user_id":19338198,"display_name":"Pavol Švančarek"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661072611,"creation_date":1661072611,"question_id":73432953,"body_markdown":"I am trying to get as close height in meters as possible from atmospheric pressure sensor on android device. I am using https://openweathermap.org to get current pressure at sea level on my location and also temperature. Its much closer if i am not using standard pressure and sea level and temperature 15 but not the best. I am getting pressure from that api without decimals which affects the result quite a bit. Now I am off by like +-10 meters. What can I do to get closer numbers? \r\n\r\nMy ideas are:\r\n- Set starting point at my house to calibrate height\r\n- Find closer Api client\r\n- Calibrate using GPS height (average of values)\r\n- Find better formula\r\n- Get more sensors\r\n\r\nHere is the formula I am using:\r\n\r\n        double p0p = apiPressure / currentPressure;\r\n        double mocnina = 1/5.257;\r\n        p0p = Math.pow(p0p, mocnina);\r\n        p0p = p0p - 1;\r\n        double citatel = p0p*(apiTemp + 273.15);\r\n        double result = citatel / 0.0065;","title":"Get height in meters from pressure sensor on android with weather API","body":"<p>I am trying to get as close height in meters as possible from atmospheric pressure sensor on android device. I am using <a href=\"https://openweathermap.org\" rel=\"nofollow noreferrer\">https://openweathermap.org</a> to get current pressure at sea level on my location and also temperature. Its much closer if i am not using standard pressure and sea level and temperature 15 but not the best. I am getting pressure from that api without decimals which affects the result quite a bit. Now I am off by like +-10 meters. What can I do to get closer numbers?</p>\n<p>My ideas are:</p>\n<ul>\n<li>Set starting point at my house to calibrate height</li>\n<li>Find closer Api client</li>\n<li>Calibrate using GPS height (average of values)</li>\n<li>Find better formula</li>\n<li>Get more sensors</li>\n</ul>\n<p>Here is the formula I am using:</p>\n<pre><code>    double p0p = apiPressure / currentPressure;\n    double mocnina = 1/5.257;\n    p0p = Math.pow(p0p, mocnina);\n    p0p = p0p - 1;\n    double citatel = p0p*(apiTemp + 273.15);\n    double result = citatel / 0.0065;\n</code></pre>\n"},{"tags":["java","android","string"],"comments":[{"owner":{"account_id":12924971,"reputation":2766,"user_id":9346054,"accept_rate":100,"display_name":"Ticherhaz FreePalestine"},"score":0,"creation_date":1657929993,"post_id":73000372,"comment_id":128934278,"body_markdown":"Hi there, so you are not using `TextView` to display the `strMessage`?","body":"Hi there, so you are not using <code>TextView</code> to display the <code>strMessage</code>?"},{"owner":{"account_id":9051606,"reputation":19,"user_id":14263294,"display_name":"His R.H"},"score":0,"creation_date":1657930435,"post_id":73000372,"comment_id":128934333,"body_markdown":"No I&#39;m using `String strMessage = snapshot1.child(&quot;message&quot;).getValue().toString();`","body":"No I&#39;m using <code>String strMessage = snapshot1.child(&quot;message&quot;).getValue().toString();</code>"},{"owner":{"account_id":12924971,"reputation":2766,"user_id":9346054,"accept_rate":100,"display_name":"Ticherhaz FreePalestine"},"score":0,"creation_date":1657930648,"post_id":73000372,"comment_id":128934346,"body_markdown":"and after that, you don&#39;t display the `strMessage` at the `TextView`?","body":"and after that, you don&#39;t display the <code>strMessage</code> at the <code>TextView</code>?"},{"owner":{"account_id":9051606,"reputation":19,"user_id":14263294,"display_name":"His R.H"},"score":0,"creation_date":1657930863,"post_id":73000372,"comment_id":128934370,"body_markdown":"Ohh ok I forgot I had an adapter. Yeah it&#39;s a textview. `public TextView senderMessageText, receiverMessageText;` `senderMessageText = itemView.findViewById(R.id.sender_message_text);\n            receiverMessageText = itemView.findViewById(R.id.receiver_message_text);`","body":"Ohh ok I forgot I had an adapter. Yeah it&#39;s a textview. <code>public TextView senderMessageText, receiverMessageText;</code> <code>senderMessageText = itemView.findViewById(R.id.sender_message_text);             receiverMessageText = itemView.findViewById(R.id.receiver_message_text);</code>"},{"owner":{"account_id":12924971,"reputation":2766,"user_id":9346054,"accept_rate":100,"display_name":"Ticherhaz FreePalestine"},"score":0,"creation_date":1657931935,"post_id":73000372,"comment_id":128934466,"body_markdown":"So you can check out their accomplish goal.","body":"So you can check out their accomplish goal."}],"answers":[{"tags":[],"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658789240,"creation_date":1657937722,"answer_id":73001095,"question_id":73000372,"body_markdown":"There are two common ways to do this. One, like you have done, is to add html to the string. The second is to use the TextView&#39;s auto link mask feature.\r\n\r\n**Using HTML**\r\n\r\nOnce you have identified URLs in your incoming string and added the appropriate html tags to turn them into links, you just need to use `HtmlCompat` when you go to actually display it in the `TextView`. You also need to make sure to call `setMovementMethod` or you won&#39;t be able to click the link. The advantage of using HTML is that you can have the link text be a readable phrase instead of a URL.\r\n\r\n```java\r\nString txt = &quot;This is &lt;a href=\\&quot;https://www.google.com\\&quot;&gt;www.google.com&lt;/a&gt;&quot;;\r\n\r\nTextView link = findViewById(R.id.link);\r\nlink.setMovementMethod(LinkMovementMethod.getInstance());\r\nlink.setText(HtmlCompat.fromHtml(txt,HtmlCompat.FROM_HTML_MODE_LEGACY));\r\n```\r\n\r\nIf you choose to go this route, your existing code just needs to be modified a bit to save the HTML string in the messages list passed to the adapter, then add the TextView calls above inside the adapter when you set the text.\r\n\r\n```java\r\nString [] parts = strMessage.split(&quot;\\\\s+&quot;);\r\n\r\n// replace URL parts with html links\r\nfor( int i = 0; i &lt; parts.length; ++i ) {\r\n    if(urlPattern.matcher(parts[i]).matches()) {\r\n        parts[i] = &quot;&lt;a href=\\&quot;&quot; + parts[i] + &quot;\\&quot;&gt;&quot; + parts[i] + &quot;&lt;/a&gt;&quot;;\r\n    }\r\n}\r\n\r\n// re-join parts back into a single string\r\nString htmlMessage = String.join(&quot; &quot;, parts);\r\n\r\n// save a list of html strings to pass to your adapter\r\nhtmlMessageStrings.add(htmlMessage);\r\n```\r\n\r\n**Using Link Mask**\r\n\r\nThis method doesn&#39;t require you to edit the string at all. If you use `Linkify.ALL` it also recognizes things like web links, emails, phone numbers, and physical addresses - not just web links. If you only want it to recognize web links use `Linkify.WEB_URLS` instead. This requires a lot less code on your part - you no longer have to try to parse the string for links.\r\n\r\n```java        \r\nString txt = &quot;This is www.google.com&quot;; // no need to modify the string\r\n\r\nTextView link = findViewById(R.id.link);\r\nlink.setAutoLinkMask(Linkify.ALL); // or Linkify.WEB_URLS\r\nlink.setText(txt);\r\n```\r\n\r\nYou can also add `android:autoLink=&quot;all&quot;` to the `TextView` XML definition instead of calling it in-code.\r\n\r\nBoth methods produce this output \r\n\r\n[![link output][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G25o6.png","title":"Make link inside of string clickable: Java","body":"<p>There are two common ways to do this. One, like you have done, is to add html to the string. The second is to use the TextView's auto link mask feature.</p>\n<p><strong>Using HTML</strong></p>\n<p>Once you have identified URLs in your incoming string and added the appropriate html tags to turn them into links, you just need to use <code>HtmlCompat</code> when you go to actually display it in the <code>TextView</code>. You also need to make sure to call <code>setMovementMethod</code> or you won't be able to click the link. The advantage of using HTML is that you can have the link text be a readable phrase instead of a URL.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String txt = &quot;This is &lt;a href=\\&quot;https://www.google.com\\&quot;&gt;www.google.com&lt;/a&gt;&quot;;\n\nTextView link = findViewById(R.id.link);\nlink.setMovementMethod(LinkMovementMethod.getInstance());\nlink.setText(HtmlCompat.fromHtml(txt,HtmlCompat.FROM_HTML_MODE_LEGACY));\n</code></pre>\n<p>If you choose to go this route, your existing code just needs to be modified a bit to save the HTML string in the messages list passed to the adapter, then add the TextView calls above inside the adapter when you set the text.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String [] parts = strMessage.split(&quot;\\\\s+&quot;);\n\n// replace URL parts with html links\nfor( int i = 0; i &lt; parts.length; ++i ) {\n    if(urlPattern.matcher(parts[i]).matches()) {\n        parts[i] = &quot;&lt;a href=\\&quot;&quot; + parts[i] + &quot;\\&quot;&gt;&quot; + parts[i] + &quot;&lt;/a&gt;&quot;;\n    }\n}\n\n// re-join parts back into a single string\nString htmlMessage = String.join(&quot; &quot;, parts);\n\n// save a list of html strings to pass to your adapter\nhtmlMessageStrings.add(htmlMessage);\n</code></pre>\n<p><strong>Using Link Mask</strong></p>\n<p>This method doesn't require you to edit the string at all. If you use <code>Linkify.ALL</code> it also recognizes things like web links, emails, phone numbers, and physical addresses - not just web links. If you only want it to recognize web links use <code>Linkify.WEB_URLS</code> instead. This requires a lot less code on your part - you no longer have to try to parse the string for links.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String txt = &quot;This is www.google.com&quot;; // no need to modify the string\n\nTextView link = findViewById(R.id.link);\nlink.setAutoLinkMask(Linkify.ALL); // or Linkify.WEB_URLS\nlink.setText(txt);\n</code></pre>\n<p>You can also add <code>android:autoLink=&quot;all&quot;</code> to the <code>TextView</code> XML definition instead of calling it in-code.</p>\n<p>Both methods produce this output</p>\n<p><a href=\"https://i.stack.imgur.com/G25o6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G25o6.png\" alt=\"link output\" /></a></p>\n"}],"owner":{"account_id":9051606,"reputation":19,"user_id":14263294,"display_name":"His R.H"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1037,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73001095,"answer_count":1,"score":1,"last_activity_date":1661071803,"creation_date":1657926775,"question_id":73000372,"body_markdown":"I am creating a messaging system in Java using android studio.\r\n\r\nPeople can send messages back and forth. But if they send a link, it just shows up as regular text. I want the part that is the link to show up as a clickable link and the rest just text.\r\n\r\nI checked all day on this site and others but no seems to do this in the way I&#39;m trying too. Most of the answers I see are people using a `TexView` to accomplish their goal. I&#39;m using a string. Can someone please help me figure this out ?\r\n\r\n    private void showMessages(){\r\n\r\n        DatabaseReference userMessageKeyRef = RootRef.child(&quot;Messages&quot;).child(messageSenderID).child(messageReceiverID);\r\n        userMessageKeyRef.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                for (DataSnapshot snapshot1 : snapshot.getChildren()) {\r\n\r\n                     Messages messages = new Messages();\r\n                     String strMessage = snapshot1.child(&quot;message&quot;).getValue().toString();\r\n                     String strFrom = snapshot1.child(&quot;from&quot;).getValue().toString();\r\n                     String strType = snapshot1.child(&quot;type&quot;).getValue().toString();\r\n                     messages.setMessage(strMessage);\r\n                     messages.setFrom(strFrom);\r\n                     messages.setType(strType);\r\n                     messagesList.add(messages);\r\n\r\n                    // Pattern for recognizing a URL, based off RFC 3986\r\n                    final Pattern urlPattern = Pattern.compile(\r\n                            &quot;(?:^|[\\\\W])((ht|f)tp(s?):\\\\/\\\\/|www\\\\.)&quot;\r\n                                    + &quot;(([\\\\w\\\\-]+\\\\.){1,}?([\\\\w\\\\-.~]+\\\\/?)*&quot;\r\n                                    + &quot;[\\\\p{Alnum}.,%_=?&amp;#\\\\-+()\\\\[\\\\]\\\\*$~@!:/{};&#39;]*)&quot;,\r\n                            Pattern.CASE_INSENSITIVE | Pattern.MULTILINE | Pattern.DOTALL);\r\n\r\n                    // separate input by spaces ( URLs don&#39;t have spaces )\r\n                    String [] parts = strMessage.split(&quot;\\\\s+&quot;);\r\n\r\n                    // get every part\r\n                    for( String item : parts ) {\r\n                        if(urlPattern.matcher(item).matches()) {\r\n                            //it&#39;s a good url\r\n                            System.out.print(&quot;&lt;a href=\\&quot;&quot; + item + &quot;\\&quot;&gt;&quot;+ item + &quot;&lt;/a&gt; &quot; );\r\n                        } else {\r\n                            // it isn&#39;t a url\r\n                            System.out.print(item + &quot; &quot;);\r\n                        }\r\n                    }\r\n                    \r\n                }\r\n                messageAdapter = new MessageAdapter(ChatActivity.this,messagesList);\r\n                userMessagesList.setAdapter(messageAdapter);\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n            }\r\n        });\r\n    }","title":"Make link inside of string clickable: Java","body":"<p>I am creating a messaging system in Java using android studio.</p>\n<p>People can send messages back and forth. But if they send a link, it just shows up as regular text. I want the part that is the link to show up as a clickable link and the rest just text.</p>\n<p>I checked all day on this site and others but no seems to do this in the way I'm trying too. Most of the answers I see are people using a <code>TexView</code> to accomplish their goal. I'm using a string. Can someone please help me figure this out ?</p>\n<pre><code>private void showMessages(){\n\n    DatabaseReference userMessageKeyRef = RootRef.child(&quot;Messages&quot;).child(messageSenderID).child(messageReceiverID);\n    userMessageKeyRef.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            for (DataSnapshot snapshot1 : snapshot.getChildren()) {\n\n                 Messages messages = new Messages();\n                 String strMessage = snapshot1.child(&quot;message&quot;).getValue().toString();\n                 String strFrom = snapshot1.child(&quot;from&quot;).getValue().toString();\n                 String strType = snapshot1.child(&quot;type&quot;).getValue().toString();\n                 messages.setMessage(strMessage);\n                 messages.setFrom(strFrom);\n                 messages.setType(strType);\n                 messagesList.add(messages);\n\n                // Pattern for recognizing a URL, based off RFC 3986\n                final Pattern urlPattern = Pattern.compile(\n                        &quot;(?:^|[\\\\W])((ht|f)tp(s?):\\\\/\\\\/|www\\\\.)&quot;\n                                + &quot;(([\\\\w\\\\-]+\\\\.){1,}?([\\\\w\\\\-.~]+\\\\/?)*&quot;\n                                + &quot;[\\\\p{Alnum}.,%_=?&amp;#\\\\-+()\\\\[\\\\]\\\\*$~@!:/{};']*)&quot;,\n                        Pattern.CASE_INSENSITIVE | Pattern.MULTILINE | Pattern.DOTALL);\n\n                // separate input by spaces ( URLs don't have spaces )\n                String [] parts = strMessage.split(&quot;\\\\s+&quot;);\n\n                // get every part\n                for( String item : parts ) {\n                    if(urlPattern.matcher(item).matches()) {\n                        //it's a good url\n                        System.out.print(&quot;&lt;a href=\\&quot;&quot; + item + &quot;\\&quot;&gt;&quot;+ item + &quot;&lt;/a&gt; &quot; );\n                    } else {\n                        // it isn't a url\n                        System.out.print(item + &quot; &quot;);\n                    }\n                }\n                \n            }\n            messageAdapter = new MessageAdapter(ChatActivity.this,messagesList);\n            userMessagesList.setAdapter(messageAdapter);\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","android","api"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":1,"creation_date":1661044620,"post_id":73430934,"comment_id":129677130,"body_markdown":"There is no API for it.  Android runs on Linux so you can do it at that level, but you&#39;d need a rooted app writing directly to the /dev files to simulate input.  There is purposely no API to do this from another app for security reasons.","body":"There is no API for it.  Android runs on Linux so you can do it at that level, but you&#39;d need a rooted app writing directly to the /dev files to simulate input.  There is purposely no API to do this from another app for security reasons."},{"owner":{"account_id":15669400,"reputation":33,"user_id":11306363,"display_name":"Văn Chiến Trương"},"score":0,"creation_date":1661072126,"post_id":73430934,"comment_id":129680170,"body_markdown":"Hi Gabe, thanks for quick reply. It&#39;s sad to know. Since there is no public way to access /dev/ directory of current android version, I think I will stick with adb until there is another option.","body":"Hi Gabe, thanks for quick reply. It&#39;s sad to know. Since there is no public way to access /dev/ directory of current android version, I think I will stick with adb until there is another option."}],"owner":{"account_id":15669400,"reputation":33,"user_id":11306363,"display_name":"Văn Chiến Trương"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1661072797,"answer_count":0,"score":0,"last_activity_date":1661071640,"creation_date":1661041496,"question_id":73430934,"body_markdown":"I have a few experiences on Windows automation using Windows API and now I want to make some automations in Android apps.\r\n\r\nAt the moment, I am using ADB and it works great, but it needs my phone rooted.\r\nTherefore, I want to deep dive into the lower API like Windows API.\r\nI know there is Android API, but I can&#39;t find any materials to simulate events outside the source code of application.\r\n\r\nWhat are some references related to it?","title":"What is equivalent for Windows API in Android?","body":"<p>I have a few experiences on Windows automation using Windows API and now I want to make some automations in Android apps.</p>\n<p>At the moment, I am using ADB and it works great, but it needs my phone rooted.\nTherefore, I want to deep dive into the lower API like Windows API.\nI know there is Android API, but I can't find any materials to simulate events outside the source code of application.</p>\n<p>What are some references related to it?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":3,"creation_date":1661066070,"post_id":73432347,"comment_id":129679303,"body_markdown":"Why are you calling your custom class `StringBuilder`, which collides with a core Java class of the same name?  Your code should be working, other than this potential problem.","body":"Why are you calling your custom class <code>StringBuilder</code>, which collides with a core Java class of the same name?  Your code should be working, other than this potential problem."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1661066188,"post_id":73432347,"comment_id":129679320,"body_markdown":"What does &quot;not working&quot; mean exactly?","body":"What does &quot;not working&quot; mean exactly?"},{"owner":{"account_id":21152597,"reputation":9,"user_id":15552576,"display_name":"Shivam Singh"},"score":0,"creation_date":1661068085,"post_id":73432347,"comment_id":129679593,"body_markdown":"It says &quot; method append(char) is undefined for the type StingBuilder&quot;","body":"It says &quot; method append(char) is undefined for the type StingBuilder&quot;"}],"owner":{"account_id":21152597,"reputation":9,"user_id":15552576,"display_name":"Shivam Singh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1661071454,"answer_count":0,"score":0,"last_activity_date":1661071589,"creation_date":1661065929,"question_id":73432347,"body_markdown":"```\r\npublic class StringBuilder {\r\n    public static void main(String[] args) {\r\n        StringBuilder sb = new StringBuilder();\r\n        for(char ch=&#39;a&#39;; ch&lt;=&#39;z&#39;; ch++){\r\n            sb.append(ch);\r\n        }\r\n        System.out.println(sb);\r\n    }    \r\n}\r\n```","title":"Append Not working in StringBuilder in Java It says &quot;method append(char) is undefined for the type StringBuilder&quot;","body":"<pre><code>public class StringBuilder {\n    public static void main(String[] args) {\n        StringBuilder sb = new StringBuilder();\n        for(char ch='a'; ch&lt;='z'; ch++){\n            sb.append(ch);\n        }\n        System.out.println(sb);\n    }    \n}\n</code></pre>\n"},{"tags":["java","package"],"owner":{"account_id":1117208,"reputation":962,"user_id":1106285,"accept_rate":81,"display_name":"jaw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1661071451,"creation_date":1410944105,"question_id":25886196,"body_markdown":"We are providing software for an embedded JavaME device. Besides standard JavaME APIs, this device provides some proprietary API&#39;s which were in packages like `com.somecompany.icm.io` for example.\r\n\r\nBecause of legal issues, the packages were renamed in later firmware revisions to `com.othercompany.io` e.g. but with the same class names, interfaces and functionality.\r\n\r\nNow, what I could do is running `sed` or similar over our code base and rename every required package and then commit it to our VCS as &quot;the new&quot; version. Unfortunately, we need to provide updates for both firmware revisions so bug fixes or even features then needs to be merged back into the old version.\r\n\r\nI was thinking about having a special ANT build task that first copies all sources to another directory, runs the `sed` script and then compiles it again. This is not very elegant but may work (haven&#39;t done this yet).\r\n\r\nI know this might be a very special case, but maybe someone can come up with a smarter solution.\r\n\r\n**[UPDATE]**\r\n\r\nI&#39;ve been thinking about this for a while and came up with the following idea: I wrote a small application that contains the following line:\r\n\r\n\ttry {\r\n\t\tSystem.out.println(&quot;[somecompany] File &#39;foo&#39; exists: &quot; + com.somecompany.icm.io.File.exists(&quot;foo&quot;));\r\n\t} catch(NoClassDefFoundError ex) {\r\n\t\tSystem.out.println(&quot;[othercompany] File &#39;foo&#39; exists: &quot; + com.othercompany.io.File.exists(&quot;foo&quot;));\r\n\t}\r\n\r\nI&#39;ve compiled this providing both the libraries of somecompany and othercompany as classpath. `File.exists` is just some arbitrary static method to test this idea.\r\nAnd it actually does work on both target devices:\r\n\r\nOld firmware:\r\n\r\n    [somecompany] File &#39;foo&#39; exists: false\r\n\r\nNew firmware:\r\n\r\n    [othercompany] File &#39;foo&#39; exists: false\r\n\r\nHowever, this does only work for static methods and class initialization. However, this won&#39;t work on class instances and instance method access.\r\n\r\nNow, one thing that could be done is writing two versions of a factory classes for each firmware version. Then, I could use the code above to determine at runtime which firmware is running and load the right factory class.\r\n\r\n    MyFactory factory;\r\n\ttry {\r\n\t\tcom.somecompany.icm.io.File.exists(&quot;foo&quot;);\r\n        factory = new SomeCompanyFactory();\r\n\t} catch(NoClassDefFoundError ex) {\r\n        factory = new OtherCompanyFactory();\r\n\t}\r\n    // use the factory to create instances of classes of the right package\r\n\r\nObviously, the instances have to be wrapped in classes that implement a common interface which is applicable in my case.\r\n\r\nThis would result in a bit of class overhead (in terms of number of classes and jar file size) but since these classes won&#39;t be loaded there should be no effect (or only a little) on the memory usage (We have very limited RAM on this target).","title":"How to maintain different SW versions with different package names","body":"<p>We are providing software for an embedded JavaME device. Besides standard JavaME APIs, this device provides some proprietary API's which were in packages like <code>com.somecompany.icm.io</code> for example.</p>\n\n<p>Because of legal issues, the packages were renamed in later firmware revisions to <code>com.othercompany.io</code> e.g. but with the same class names, interfaces and functionality.</p>\n\n<p>Now, what I could do is running <code>sed</code> or similar over our code base and rename every required package and then commit it to our VCS as \"the new\" version. Unfortunately, we need to provide updates for both firmware revisions so bug fixes or even features then needs to be merged back into the old version.</p>\n\n<p>I was thinking about having a special ANT build task that first copies all sources to another directory, runs the <code>sed</code> script and then compiles it again. This is not very elegant but may work (haven't done this yet).</p>\n\n<p>I know this might be a very special case, but maybe someone can come up with a smarter solution.</p>\n\n<p><strong>[UPDATE]</strong></p>\n\n<p>I've been thinking about this for a while and came up with the following idea: I wrote a small application that contains the following line:</p>\n\n<pre><code>try {\n    System.out.println(\"[somecompany] File 'foo' exists: \" + com.somecompany.icm.io.File.exists(\"foo\"));\n} catch(NoClassDefFoundError ex) {\n    System.out.println(\"[othercompany] File 'foo' exists: \" + com.othercompany.io.File.exists(\"foo\"));\n}\n</code></pre>\n\n<p>I've compiled this providing both the libraries of somecompany and othercompany as classpath. <code>File.exists</code> is just some arbitrary static method to test this idea.\nAnd it actually does work on both target devices:</p>\n\n<p>Old firmware:</p>\n\n<pre><code>[somecompany] File 'foo' exists: false\n</code></pre>\n\n<p>New firmware:</p>\n\n<pre><code>[othercompany] File 'foo' exists: false\n</code></pre>\n\n<p>However, this does only work for static methods and class initialization. However, this won't work on class instances and instance method access.</p>\n\n<p>Now, one thing that could be done is writing two versions of a factory classes for each firmware version. Then, I could use the code above to determine at runtime which firmware is running and load the right factory class.</p>\n\n<pre><code>MyFactory factory;\ntry {\n    com.somecompany.icm.io.File.exists(\"foo\");\n    factory = new SomeCompanyFactory();\n} catch(NoClassDefFoundError ex) {\n    factory = new OtherCompanyFactory();\n}\n// use the factory to create instances of classes of the right package\n</code></pre>\n\n<p>Obviously, the instances have to be wrapped in classes that implement a common interface which is applicable in my case.</p>\n\n<p>This would result in a bit of class overhead (in terms of number of classes and jar file size) but since these classes won't be loaded there should be no effect (or only a little) on the memory usage (We have very limited RAM on this target).</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":256642,"reputation":6092,"user_id":537503,"accept_rate":42,"display_name":"Andy Dufresne"},"score":0,"creation_date":1368536383,"post_id":11983789,"comment_id":23761898,"body_markdown":"So you suggest a call to awaitTermination() as a solution? But how do figure out how long to wait?","body":"So you suggest a call to awaitTermination() as a solution? But how do figure out how long to wait?"}],"answers":[{"tags":[],"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1345107874,"creation_date":1345107874,"answer_id":11983859,"question_id":11983789,"body_markdown":"I strongly suggest you use a robust mechanism to count down the latch. Use an all-encompassing `try-finally { latch.countDown(); }` Detect errors in threads using a separate mechanism.","title":"How to stop all the running threads, if one of those throws an Exception?","body":"<p>I strongly suggest you use a robust mechanism to count down the latch. Use an all-encompassing <code>try-finally { latch.countDown(); }</code> Detect errors in threads using a separate mechanism.</p>\n"},{"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1345108255,"creation_date":1345108255,"answer_id":11983972,"question_id":11983789,"body_markdown":"I think that you will need one more thread, call it a &quot;Watcher&quot;, which will check the value of an `AtomicBoolean` for `true`. Once it&#39;s set - you will shutdown the main execution service. Keep in mind that shutdown mechanism won&#39;t guarantee an immediate stop of all threads. Read this, for example: https://stackoverflow.com/questions/3332832","title":"How to stop all the running threads, if one of those throws an Exception?","body":"<p>I think that you will need one more thread, call it a \"Watcher\", which will check the value of an <code>AtomicBoolean</code> for <code>true</code>. Once it's set - you will shutdown the main execution service. Keep in mind that shutdown mechanism won't guarantee an immediate stop of all threads. Read this, for example: <a href=\"https://stackoverflow.com/questions/3332832\">Graceful shutdown of threads and executor</a></p>\n"},{"tags":[],"owner":{"account_id":162919,"reputation":53273,"user_id":384706,"accept_rate":64,"display_name":"Cratylus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1345108518,"creation_date":1345108518,"answer_id":11984046,"question_id":11983789,"body_markdown":"I think you need to restructure your code. Take a look into [ExecutorService#invokeAny][1]  \r\n\r\n&gt; Executes the given tasks, returning the result of one that has\r\n&gt; completed successfully (i.e., without throwing an exception), if any\r\n&gt; do. Upon normal or exceptional return, tasks that have not completed\r\n&gt; are cancelled. The results of this method are undefined if the given\r\n&gt; collection is modified while this operation is in progress.    \r\n\r\nThis seems to be the behavior you need. And you don&#39;t need a `CountDownLatch` as `main` will block in the `invokeAny`\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ExecutorService.html#invokeAny%28java.util.Collection%29","title":"How to stop all the running threads, if one of those throws an Exception?","body":"<p>I think you need to restructure your code. Take a look into <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ExecutorService.html#invokeAny%28java.util.Collection%29\" rel=\"nofollow\">ExecutorService#invokeAny</a>  </p>\n\n<blockquote>\n  <p>Executes the given tasks, returning the result of one that has\n  completed successfully (i.e., without throwing an exception), if any\n  do. Upon normal or exceptional return, tasks that have not completed\n  are cancelled. The results of this method are undefined if the given\n  collection is modified while this operation is in progress.    </p>\n</blockquote>\n\n<p>This seems to be the behavior you need. And you don't need a <code>CountDownLatch</code> as <code>main</code> will block in the <code>invokeAny</code></p>\n"},{"tags":[],"owner":{"account_id":40221,"reputation":32100,"user_id":116509,"accept_rate":100,"display_name":"artbristol"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1661070647,"creation_date":1345109888,"answer_id":11984456,"question_id":11983789,"body_markdown":"Use an `ExecutorCompletionService`, complete with an `ExecutorService` that outlives the duration of the tasks (i.e. it doesn&#39;t get shut down afterwards):\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    import java.util.concurrent.Callable;\r\n    import java.util.concurrent.CompletionService;\r\n    import java.util.concurrent.ExecutionException;\r\n    import java.util.concurrent.ExecutorCompletionService;\r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n    import java.util.concurrent.Future;\r\n    \r\n    class Threader {\r\n    \r\n    \tstatic ExecutorService service = Executors.newCachedThreadPool();\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew Threader().start();\r\n    \t\tservice.shutdown();\r\n    \t}\r\n    \r\n    \tprivate void start() {\r\n    \t\tCompletionService&lt;Void&gt; completionService = new ExecutorCompletionService&lt;Void&gt;(\r\n    \t\t\t\tservice);\r\n    \t\t/*\r\n    \t\t * Holds all the futures for the submitted tasks\r\n    \t\t */\r\n    \t\tList&lt;Future&lt;Void&gt;&gt; results = new ArrayList&lt;Future&lt;Void&gt;&gt;();\r\n    \r\n    \t\tfor (int i = 0; i &lt; 3; i++) {\r\n    \t\t\tfinal int callableNumber = i;\r\n    \r\n    \t\t\tresults.add(completionService.submit(new Callable&lt;Void&gt;() {\r\n    \t\t\t\t @Override\r\n    \t\t\t\t public Void call() throws Exception {\r\n    \t\t\t\t\t System.out.println(&quot;Task &quot; + callableNumber\r\n    \t\t\t\t\t\t\t + &quot; in progress&quot;);\r\n    \t\t\t\t\t try {\r\n    \t\t\t\t\t\t Thread.sleep(callableNumber * 1000);\r\n    \t\t\t\t\t } catch (InterruptedException ex) {\r\n    \t\t\t\t\t\t System.out.println(&quot;Task &quot; + callableNumber\r\n    \t\t\t\t\t\t\t\t + &quot; cancelled&quot;);\r\n    \t\t\t\t\t\t return null;\r\n    \t\t\t\t\t }\r\n    \t\t\t\t\t if (callableNumber == 1) {\r\n    \t\t\t\t\t\t throw new Exception(&quot;Wrong answer for task &quot;\r\n    \t\t\t\t\t\t\t\t + callableNumber);\r\n    \t\t\t\t\t }\r\n    \t\t\t\t\t System.out.println(&quot;Task &quot; + callableNumber + &quot; complete&quot;);\r\n    \t\t\t\t\t return null;\r\n    \t\t\t\t }\r\n    \t\t\t }));\r\n    \t\t}\r\n    \r\n    \t\tboolean complete = false;\r\n    \t\twhile (!complete) {\r\n    \t\t\tcomplete = true;\r\n    \t\t\tIterator&lt;Future&lt;Void&gt;&gt; futuresIt = results.iterator();\r\n    \t\t\twhile (futuresIt.hasNext()) {\r\n    \t\t\t\tif (futuresIt.next().isDone()) {\r\n    \t\t\t\t\tfuturesIt.remove();\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tcomplete = false;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t\tif (!results.isEmpty()) {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\t/*\r\n    \t\t\t\t\t * Examine results of next completed task\r\n    \t\t\t\t\t */\r\n    \t\t\t\t\tcompletionService.take().get();\r\n    \t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\t/*\r\n    \t\t\t\t\t * Give up - interrupted.\r\n    \t\t\t\t\t */\r\n    \t\t\t\t\tThread.currentThread().interrupt();\r\n    \t\t\t\t\tthrow new RuntimeException(e);\r\n    \t\t\t\t} catch (ExecutionException e) {\r\n    \t\t\t\t\t/*\r\n    \t\t\t\t\t * The task threw an exception\r\n    \t\t\t\t\t */\r\n    \t\t\t\t\tSystem.out.println(&quot;Execution exception &quot; + e.getMessage());\r\n    \t\t\t\t\tcomplete = true;\r\n    \t\t\t\t\tfor (Future&lt;Void&gt; future : results) {\r\n    \t\t\t\t\t\tif (!future.isDone()) {\r\n    \t\t\t\t\t\t\tSystem.out.println(&quot;Cancelling &quot; + future);\r\n    \t\t\t\t\t\t\tfuture.cancel(true);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}\r\n    }\r\n\r\nOutput is something like:\r\n\r\n    Task 0 in progress\r\n    Task 2 in progress\r\n    Task 1 in progress\r\n    Task 0 complete\r\n    Execution exception java.lang.Exception: Wrong answer for task 1\r\n    Cancelling java.util.concurrent.FutureTask@a59698\r\n    Task 2 cancelled\r\n\r\nwhere Task 2 got cancelled due to the failure of Task 1.\r\n","title":"How to stop all the running threads, if one of those throws an Exception?","body":"<p>Use an <code>ExecutorCompletionService</code>, complete with an <code>ExecutorService</code> that outlives the duration of the tasks (i.e. it doesn't get shut down afterwards):</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.concurrent.Callable;\nimport java.util.concurrent.CompletionService;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.ExecutorCompletionService;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.Future;\n\nclass Threader {\n\n    static ExecutorService service = Executors.newCachedThreadPool();\n\n    public static void main(String[] args) {\n        new Threader().start();\n        service.shutdown();\n    }\n\n    private void start() {\n        CompletionService&lt;Void&gt; completionService = new ExecutorCompletionService&lt;Void&gt;(\n                service);\n        /*\n         * Holds all the futures for the submitted tasks\n         */\n        List&lt;Future&lt;Void&gt;&gt; results = new ArrayList&lt;Future&lt;Void&gt;&gt;();\n\n        for (int i = 0; i &lt; 3; i++) {\n            final int callableNumber = i;\n\n            results.add(completionService.submit(new Callable&lt;Void&gt;() {\n                 @Override\n                 public Void call() throws Exception {\n                     System.out.println(&quot;Task &quot; + callableNumber\n                             + &quot; in progress&quot;);\n                     try {\n                         Thread.sleep(callableNumber * 1000);\n                     } catch (InterruptedException ex) {\n                         System.out.println(&quot;Task &quot; + callableNumber\n                                 + &quot; cancelled&quot;);\n                         return null;\n                     }\n                     if (callableNumber == 1) {\n                         throw new Exception(&quot;Wrong answer for task &quot;\n                                 + callableNumber);\n                     }\n                     System.out.println(&quot;Task &quot; + callableNumber + &quot; complete&quot;);\n                     return null;\n                 }\n             }));\n        }\n\n        boolean complete = false;\n        while (!complete) {\n            complete = true;\n            Iterator&lt;Future&lt;Void&gt;&gt; futuresIt = results.iterator();\n            while (futuresIt.hasNext()) {\n                if (futuresIt.next().isDone()) {\n                    futuresIt.remove();\n                } else {\n                    complete = false;\n                }\n            }\n\n            if (!results.isEmpty()) {\n                try {\n                    /*\n                     * Examine results of next completed task\n                     */\n                    completionService.take().get();\n                } catch (InterruptedException e) {\n                    /*\n                     * Give up - interrupted.\n                     */\n                    Thread.currentThread().interrupt();\n                    throw new RuntimeException(e);\n                } catch (ExecutionException e) {\n                    /*\n                     * The task threw an exception\n                     */\n                    System.out.println(&quot;Execution exception &quot; + e.getMessage());\n                    complete = true;\n                    for (Future&lt;Void&gt; future : results) {\n                        if (!future.isDone()) {\n                            System.out.println(&quot;Cancelling &quot; + future);\n                            future.cancel(true);\n                        }\n                    }\n                }\n            }\n        }\n\n    }\n}\n</code></pre>\n<p>Output is something like:</p>\n<pre><code>Task 0 in progress\nTask 2 in progress\nTask 1 in progress\nTask 0 complete\nExecution exception java.lang.Exception: Wrong answer for task 1\nCancelling java.util.concurrent.FutureTask@a59698\nTask 2 cancelled\n</code></pre>\n<p>where Task 2 got cancelled due to the failure of Task 1.</p>\n"}],"owner":{"account_id":1645191,"reputation":171,"user_id":1516847,"display_name":"Achu S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10830,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":4,"score":15,"last_activity_date":1661070647,"creation_date":1345107603,"question_id":11983789,"body_markdown":"In one of my application I&#39;m using the `ExecutorService` class to create a fixed thread pool and `CountDownLatch` to wait for the threads to complete. This is working fine if the process didn&#39;t throw any exception . If there is an exception occurred in any of the threads, I need to stop all the running thread and report the error to the main thread. Can any one please help me to solve this? \r\n\r\nThis is the sample code I&#39;m using for executing multiple threads.\r\n\r\n        private void executeThreads()\r\n    \t{\r\n    \t\tint noOfThreads = 10;\r\n    \t\tExecutorService executor = Executors.newFixedThreadPool(noOfThreads);     \r\n    \t\ttry      \r\n    \t   {\r\n    \t\tCountDownLatch latch = new CountDownLatch(noOfThreads);\r\n    \t\tfor(int i=0; i&lt; noOfThreads; i++){\r\n    \t\t executor.submit(new ThreadExecutor(latch));\r\n    \t\t}\r\n    \t\tlatch.await();           \r\n    \t   }\r\n    \t   catch(Exception e)\r\n    \t   {\r\n    \t\te.printStackTrace();\r\n    \t   }\r\n    \t   finally\r\n    \t   {\r\n    \t\texecutor.shutDown();\r\n    \t   }\r\n       }\r\n       \r\n      \r\nThis is the Executor Class\r\n\r\n         public class ThreadExecutor implements Callable&lt;String&gt; {\r\n        \tCountDownLatch latch ;\r\n        \tpublic ThreadExecutor(CountDownLatch latch){\r\n        \t\tthis.latch = latch;\r\n        \t}  \t\r\n    \r\n        @Override\r\n        public String call() throws Exception\r\n        {\r\n    \t\tdoMyTask(); // process logic goes here!\r\n            this.latch.countDown();\r\n            return &quot;Success&quot;;\r\n        }\r\n\r\n  =============================================================================\r\n\r\nThank you all :)\r\n\r\nI have corrected my class as given below and that is working now.\r\n\r\n    private void executeThreads()\r\n        {\r\n            int noOfThreads = 10;\r\n            ExecutorService executor = Executors.newFixedThreadPool(noOfThreads);     \r\n           ArrayList&lt;Future&lt;Object&gt;&gt; futureList = new ArrayList&lt;Future&lt;Object&gt;&gt;(noOfThreads );\r\n        try\r\n        {\r\n            userContext = BSF.getMyContext();\r\n    \t\tCountDownLatch latch = new CountDownLatch(noOfComponentsToImport);\r\n\r\n    \t\tfor(ImportContent artifact:artifactList){\r\n    \t\t    futureList.add(executor.submit(new ThreadExecutor(latch)));\r\n    \t\t}\r\n    \t\t\r\n            latch.await();\r\n            \r\n    \t\tfor(Future&lt;Object&gt; future : futureList)\r\n    \t\t{\r\n                      try\r\n                      {\r\n                          future.get();                 \r\n                       }\r\n                       catch(ExecutionException e)\r\n                       {   //handle it               \r\n                        }\r\n    \t\t}   \t\t\r\n\r\n    \t}\r\n        catch (Exception e) {\r\n           //handle it\r\n        }\r\n        finally\r\n        {\r\n            executor.shutdown();      \r\n         \r\n            try\r\n            {\r\n                executor.awaitTermination(90000, TimeUnit.MILLISECONDS);\r\n            }\r\n            catch (InterruptedException e)\r\n            {\r\n               //handle it\r\n            }\r\n        }\r\n       }\r\n\r\nExecutor Class :\r\n\r\n    public class ThreadExecutor implements Callable&lt;String&gt; {\r\n            private static volatile boolean isAnyError;\r\n            CountDownLatch latch ;\r\n            public ThreadExecutor(CountDownLatch latch){\r\n                this.latch = latch;\r\n            }   \r\n    \r\n        @Override\r\n        public String call() throws Exception\r\n        {\r\n\r\n          try{\r\n                if(!isAnyError)\r\n                { \r\n                   doMyTask(); // process logic goes here!\r\n                }\r\n         }\r\n         catch(Exception e)\r\n         {\r\n            isAnyError = true ;\r\n            throw e;\r\n          }\r\n          finally\r\n          {\r\n            this.latch.countDown();\r\n           }\r\n            return &quot;Success&quot;;\r\n        }\r\n","title":"How to stop all the running threads, if one of those throws an Exception?","body":"<p>In one of my application I'm using the <code>ExecutorService</code> class to create a fixed thread pool and <code>CountDownLatch</code> to wait for the threads to complete. This is working fine if the process didn't throw any exception . If there is an exception occurred in any of the threads, I need to stop all the running thread and report the error to the main thread. Can any one please help me to solve this? </p>\n\n<p>This is the sample code I'm using for executing multiple threads.</p>\n\n<pre><code>    private void executeThreads()\n    {\n        int noOfThreads = 10;\n        ExecutorService executor = Executors.newFixedThreadPool(noOfThreads);     \n        try      \n       {\n        CountDownLatch latch = new CountDownLatch(noOfThreads);\n        for(int i=0; i&lt; noOfThreads; i++){\n         executor.submit(new ThreadExecutor(latch));\n        }\n        latch.await();           \n       }\n       catch(Exception e)\n       {\n        e.printStackTrace();\n       }\n       finally\n       {\n        executor.shutDown();\n       }\n   }\n</code></pre>\n\n<p>This is the Executor Class</p>\n\n<pre><code>     public class ThreadExecutor implements Callable&lt;String&gt; {\n        CountDownLatch latch ;\n        public ThreadExecutor(CountDownLatch latch){\n            this.latch = latch;\n        }   \n\n    @Override\n    public String call() throws Exception\n    {\n        doMyTask(); // process logic goes here!\n        this.latch.countDown();\n        return \"Success\";\n    }\n</code></pre>\n\n<p>=============================================================================</p>\n\n<p>Thank you all :)</p>\n\n<p>I have corrected my class as given below and that is working now.</p>\n\n<pre><code>private void executeThreads()\n    {\n        int noOfThreads = 10;\n        ExecutorService executor = Executors.newFixedThreadPool(noOfThreads);     \n       ArrayList&lt;Future&lt;Object&gt;&gt; futureList = new ArrayList&lt;Future&lt;Object&gt;&gt;(noOfThreads );\n    try\n    {\n        userContext = BSF.getMyContext();\n        CountDownLatch latch = new CountDownLatch(noOfComponentsToImport);\n\n        for(ImportContent artifact:artifactList){\n            futureList.add(executor.submit(new ThreadExecutor(latch)));\n        }\n\n        latch.await();\n\n        for(Future&lt;Object&gt; future : futureList)\n        {\n                  try\n                  {\n                      future.get();                 \n                   }\n                   catch(ExecutionException e)\n                   {   //handle it               \n                    }\n        }           \n\n    }\n    catch (Exception e) {\n       //handle it\n    }\n    finally\n    {\n        executor.shutdown();      \n\n        try\n        {\n            executor.awaitTermination(90000, TimeUnit.MILLISECONDS);\n        }\n        catch (InterruptedException e)\n        {\n           //handle it\n        }\n    }\n   }\n</code></pre>\n\n<p>Executor Class :</p>\n\n<pre><code>public class ThreadExecutor implements Callable&lt;String&gt; {\n        private static volatile boolean isAnyError;\n        CountDownLatch latch ;\n        public ThreadExecutor(CountDownLatch latch){\n            this.latch = latch;\n        }   \n\n    @Override\n    public String call() throws Exception\n    {\n\n      try{\n            if(!isAnyError)\n            { \n               doMyTask(); // process logic goes here!\n            }\n     }\n     catch(Exception e)\n     {\n        isAnyError = true ;\n        throw e;\n      }\n      finally\n      {\n        this.latch.countDown();\n       }\n        return \"Success\";\n    }\n</code></pre>\n"},{"tags":["java","selenium","google-chrome","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":2463872,"reputation":4439,"user_id":2147409,"display_name":"Amit Jain"},"score":0,"creation_date":1584671479,"post_id":60767509,"comment_id":107514879,"body_markdown":"what error you see ?","body":"what error you see ?"},{"owner":{"account_id":17629418,"reputation":111,"user_id":12793815,"display_name":"nuclear_party"},"score":0,"creation_date":1584700916,"post_id":60767509,"comment_id":107523019,"body_markdown":"@AmitJain the browser starts up normally, however the IP is still mine (no proxy routing)","body":"@AmitJain the browser starts up normally, however the IP is still mine (no proxy routing)"}],"answers":[{"tags":[],"owner":{"account_id":17629418,"reputation":111,"user_id":12793815,"display_name":"nuclear_party"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661070525,"creation_date":1661070525,"answer_id":73432746,"question_id":60767509,"body_markdown":"I was able to solve this problem by setting system-level proxy:\r\n\r\n        System.setProperty(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;);\r\n\r\n        // http\r\n        System.setProperty(&quot;http.proxyHost&quot;, &quot;1.2.3.4&quot;);\r\n        System.setProperty(&quot;http.proxyPort&quot;, 8080);\r\n        System.setProperty(&quot;http.proxyUser&quot;, &quot;username&quot;);\r\n        System.setProperty(&quot;http.proxyPassword&quot;, &quot;pass&quot;);\r\n\r\n        // https\r\n        System.setProperty(&quot;https.proxyHost&quot;,&quot;1.2.3.4&quot;);\r\n        System.setProperty(&quot;https.proxyPort&quot;, 8080);\r\n        System.setProperty(&quot;https.proxyUser&quot;, &quot;username&quot;);\r\n        System.setProperty(&quot;https.proxyPassword&quot;, &quot;pass&quot;);\r\n\r\n        System.setProperty(&quot;jdk.http.auth.tunneling.disabledSchemes&quot;, &quot;&quot;);\r\n        System.setProperty(&quot;jdk.https.auth.tunneling.disabledSchemes&quot;, &quot;&quot;);\r\n\r\n        Authenticator.setDefault(new Authenticator() {\r\n            @Override\r\n            public PasswordAuthentication getPasswordAuthentication() {\r\n                return new PasswordAuthentication(&quot;user&quot;, &quot;pass&quot;.toCharArray());\r\n            }\r\n        });","title":"How to perform proxy authentication in ChromeDriver using Selenium + Java?","body":"<p>I was able to solve this problem by setting system-level proxy:</p>\n<pre><code>    System.setProperty(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;);\n\n    // http\n    System.setProperty(&quot;http.proxyHost&quot;, &quot;1.2.3.4&quot;);\n    System.setProperty(&quot;http.proxyPort&quot;, 8080);\n    System.setProperty(&quot;http.proxyUser&quot;, &quot;username&quot;);\n    System.setProperty(&quot;http.proxyPassword&quot;, &quot;pass&quot;);\n\n    // https\n    System.setProperty(&quot;https.proxyHost&quot;,&quot;1.2.3.4&quot;);\n    System.setProperty(&quot;https.proxyPort&quot;, 8080);\n    System.setProperty(&quot;https.proxyUser&quot;, &quot;username&quot;);\n    System.setProperty(&quot;https.proxyPassword&quot;, &quot;pass&quot;);\n\n    System.setProperty(&quot;jdk.http.auth.tunneling.disabledSchemes&quot;, &quot;&quot;);\n    System.setProperty(&quot;jdk.https.auth.tunneling.disabledSchemes&quot;, &quot;&quot;);\n\n    Authenticator.setDefault(new Authenticator() {\n        @Override\n        public PasswordAuthentication getPasswordAuthentication() {\n            return new PasswordAuthentication(&quot;user&quot;, &quot;pass&quot;.toCharArray());\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":17629418,"reputation":111,"user_id":12793815,"display_name":"nuclear_party"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73432746,"answer_count":1,"score":0,"last_activity_date":1661070525,"creation_date":1584669063,"question_id":60767509,"body_markdown":"Alright, so my problem is that I can&#39;t find a way to launch Chrome with authenticated proxy connection. \r\nWhat I have is: proxy ip, port, username and password.\r\nWhat I need: to launch Chrome instance with connection with this proxy using Selenium\r\n\r\nwhat I&#39;ve tried:\r\n\r\n        DesiredCapabilities capabilities = DesiredCapabilities.chrome();\r\n        capabilities.setCapability(&quot;chrome.switches&quot;, Arrays.asList(&quot;--proxy-server=USERNAME:PASS@IP_ADDRESS:PORT&quot;));\r\n        WebDriver driver = new ChromeDriver(capabilities);\r\n\r\nand:\r\n\r\n        Proxy proxy = new Proxy();\r\n        proxy.setHttpProxy(&quot;IP_ADDRESS:PORT&quot;);\r\n        proxy.setSocksUsername(&quot;USERNAME&quot;);\r\n        proxy.setSocksPassword(&quot;PASSWORD&quot;);\r\n        ChromeOptions options = new ChromeOptions();\r\n        options.setProxy(proxy);\r\n        ChromeDriver driver = new ChromeDriver(options);\r\n\r\nUnfortunately, none of this approaches work...\r\n\r\n ","title":"How to perform proxy authentication in ChromeDriver using Selenium + Java?","body":"<p>Alright, so my problem is that I can't find a way to launch Chrome with authenticated proxy connection. \nWhat I have is: proxy ip, port, username and password.\nWhat I need: to launch Chrome instance with connection with this proxy using Selenium</p>\n\n<p>what I've tried:</p>\n\n<pre><code>    DesiredCapabilities capabilities = DesiredCapabilities.chrome();\n    capabilities.setCapability(\"chrome.switches\", Arrays.asList(\"--proxy-server=USERNAME:PASS@IP_ADDRESS:PORT\"));\n    WebDriver driver = new ChromeDriver(capabilities);\n</code></pre>\n\n<p>and:</p>\n\n<pre><code>    Proxy proxy = new Proxy();\n    proxy.setHttpProxy(\"IP_ADDRESS:PORT\");\n    proxy.setSocksUsername(\"USERNAME\");\n    proxy.setSocksPassword(\"PASSWORD\");\n    ChromeOptions options = new ChromeOptions();\n    options.setProxy(proxy);\n    ChromeDriver driver = new ChromeDriver(options);\n</code></pre>\n\n<p>Unfortunately, none of this approaches work...</p>\n"},{"tags":["java","xml","hibernate","pom.xml"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1661098747,"post_id":73432587,"comment_id":129685684,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":23051480,"reputation":23,"user_id":17168233,"display_name":"hedi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661070017,"creation_date":1661068582,"question_id":73432587,"body_markdown":"Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\nCaused by: javax.persistence.PersistenceException: [PersistenceUnit: MyUnit] Unable to build Hibernate SessionFactory\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.persistenceException(EntityManagerFactoryBuilderImpl.java:1597)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1503)\r\n\tat org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:56)\r\n\tat java.persistence@2.2/javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\r\n\tat java.persistence@2.2/javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\r\n\tat com.example.Main/com.example.Main.TestHibernate.&lt;clinit&gt;(TestHibernate.java:11)\r\nCaused by: org.hibernate.MappingException: Could not instantiate persister org.hibernate.persister.entity.SingleTableEntityPersister\r\n\tat org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:112)\r\n\tat org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:77)\r\n\tat org.hibernate.metamodel.internal.MetamodelImpl.initialize(MetamodelImpl.java:181)\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:319)\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)\r\n\t... 4 more\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private long com.example.Main.Database.Test.id accessible: module com.example.Main does not &quot;opens com.example.Main.Database&quot; to unnamed module @7f1302d6\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\r\n\tat java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\r\n\tat org.hibernate.internal.util.ReflectHelper.ensureAccessibility(ReflectHelper.java:418)\r\n\tat org.hibernate.internal.util.ReflectHelper.findField(ReflectHelper.java:408)\r\n\tat org.hibernate.property.access.internal.PropertyAccessFieldImpl.&lt;init&gt;(PropertyAccessFieldImpl.java:34)\r\n\tat org.hibernate.property.access.internal.PropertyAccessStrategyFieldImpl.buildPropertyAccess(PropertyAccessStrategyFieldImpl.java:26)\r\n\tat org.hibernate.tuple.PropertyFactory.getGetter(PropertyFactory.java:341)\r\n\tat org.hibernate.tuple.PropertyFactory.buildIdentifierAttribute(PropertyFactory.java:67)\r\n\tat org.hibernate.tuple.entity.EntityMetamodel.&lt;init&gt;(EntityMetamodel.java:142)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.&lt;init&gt;(AbstractEntityPersister.java:613)\r\n\tat org.hibernate.persister.entity.SingleTableEntityPersister.&lt;init&gt;(SingleTableEntityPersister.java:126)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:96)\r\n\t... 9 more\r\n\r\n\r\n\r\n\r\n\r\nTest.java\r\n\r\n    @Entity\r\n    public class Test\r\n    {\r\n        @Id\r\n        @GeneratedValue\r\n        private long id;\r\n        private String imie;\r\n        private String nazwisko;\r\n    \r\n        public Test(long id, String imie, String nazwisko)\r\n        {\r\n            this.id = id;\r\n            this.imie = imie;\r\n            this.nazwisko = nazwisko;\r\n        }\r\n    \r\n        public Test()\r\n        {\r\n        }\r\n    \r\n        public long getId()\r\n        {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(long id)\r\n        {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getImie()\r\n        {\r\n            return imie;\r\n        }\r\n    \r\n        public void setImie(String imie)\r\n        {\r\n            this.imie = imie;\r\n        }\r\n    \r\n        public String getNazwisko()\r\n        {\r\n            return nazwisko;\r\n        }\r\n    \r\n        public void setNazwisko(String nazwisko)\r\n        {\r\n            this.nazwisko = nazwisko;\r\n        }\r\n    \r\n        @Override\r\n        public String toString()\r\n        {\r\n            return &quot;Test{&quot; +\r\n                    &quot;id=&quot; + id +\r\n                    &quot;, imie=&#39;&quot; + imie + &#39;\\&#39;&#39; +\r\n                    &quot;, nazwisko=&#39;&quot; + nazwisko + &#39;\\&#39;&#39; +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\n\r\nTestService.java\r\n\r\n\r\n\r\n    public class TestService\r\n    {\r\n        //Nie dziala\r\n        public void addUser(String imie, String nazwisko)\r\n        {\r\n            Test test = new Test();\r\n            test.setImie(imie);\r\n            test.setNazwisko(nazwisko);\r\n            EntityManager entityManager = TestHibernate.getFactory().createEntityManager();\r\n            EntityTransaction entityTransaction = entityManager.getTransaction();\r\n            entityTransaction.begin(); \r\n            entityManager.persist(test);\r\n            entityTransaction.commit(); \r\n        }\r\n    \r\n        public Test findOne(long id) {\r\n            EntityManager entityManager = TestHibernate.getFactory().createEntityManager();\r\n            return entityManager.find(Test.class, id);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\nTestHibernate.java\r\n\r\n\r\n\r\n    public class TestHibernate\r\n    {\r\n        private static final EntityManagerFactory FACTORY =\r\n                Persistence.createEntityManagerFactory(&quot;MyUnit&quot;);\r\n    \r\n        public static void main(String[] args)\r\n        {\r\n            TestService testService = new TestService();\r\n            testService.findOne(1);\r\n        }\r\n        \r\n        public static EntityManagerFactory getFactory()\r\n        {\r\n            return FACTORY;\r\n        }\r\n    }\r\n\r\n\r\n\r\npom.xml\r\n\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.example&lt;/groupId&gt; &lt;!-- To moze miec wplyw --&gt;\r\n        &lt;artifactId&gt;Game&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;Game&lt;/name&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;junit.version&gt;5.8.1&lt;/junit.version&gt;\r\n    \r\n            &lt;!--DODANIE PROPERTIES --&gt;\r\n            &lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n                &lt;version&gt;18-ea+6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n                &lt;version&gt;18-ea+6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n                &lt;version&gt;${junit.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n                &lt;version&gt;${junit.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.openjfx/javafx.media --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\r\n                &lt;version&gt;18.0.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.postgresql/postgresql --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n                &lt;version&gt;42.3.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n                &lt;version&gt;5.6.9.Final&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-entitymanager --&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-entitymanager --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n                &lt;version&gt;5.6.9.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;    \r\n        &lt;/dependencies&gt;\r\n    \r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;17&lt;/source&gt;\r\n                        &lt;target&gt;17&lt;/target&gt; \r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;0.0.8&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\r\n                            &lt;id&gt;default-cli&lt;/id&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;mainClass&gt;com.example.game/com.example.game.StartLoginApplication&lt;/mainClass&gt;\r\n                                &lt;launcher&gt;app&lt;/launcher&gt;\r\n                                &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\r\n                                &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\r\n                                &lt;noManPages&gt;true&lt;/noManPages&gt;\r\n                                &lt;stripDebug&gt;true&lt;/stripDebug&gt;\r\n                                &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\n\r\npersistence.xml\r\n\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;persistence version=&quot;2.0&quot;\r\n                 xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot;\r\n                 xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                 xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence\r\n    http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;&gt;\r\n        &lt;persistence-unit name=&quot;MyUnit&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt; &lt;!-- Tutaj nazwa MyUnit - wyrzuca blad --&gt;\r\n            &lt;!-- Persistence provider --&gt;\r\n            &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n            &lt;!-- Entity classes --&gt;\r\n            &lt;class&gt;com.example.Main.Database.Test&lt;/class&gt;\r\n            &lt;properties&gt;\r\n                &lt;!-- Musisz pozmieniac na swoje dane --&gt;\r\n                &lt;!-- The JDBC driver of your database --&gt;\r\n                &lt;property name=&quot;javax.persistence.jdbc.driver&quot;\r\n                          value=&quot;org.postgresql.Driver&quot; /&gt;\r\n                &lt;!-- The JDBC URL to the database instance --&gt;\r\n                &lt;property name=&quot;javax.persistence.jdbc.url&quot;\r\n                          value=&quot;jdbc:postgresql://localhost:5432/Nowa&quot; /&gt;\r\n                &lt;!-- The database username --&gt;\r\n                &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;postgres&quot; /&gt;\r\n                &lt;!-- The database password --&gt;\r\n                &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;Bakalie37&quot; /&gt;\r\n    \r\n            &lt;/properties&gt;\r\n        &lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;\r\n\r\n\r\n\r\n\r\nIt&#39;s weird, cause in the similar project I haven&#39;t problems with that.\r\nSecond project without problems:\r\n\r\n\r\n\r\nCompany.java\r\n\r\n\r\n\r\n    @Entity\r\n    public class Company {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n    \r\n        private String name;\r\n    \r\n        private int age;\r\n    \r\n        private String address;\r\n    \r\n        private double salary;\r\n    \r\n        public Company() {\r\n        }\r\n    \r\n        public Company(Long id, String name, int age, String address, double salary) {\r\n            this.id = id;\r\n            this.name = name;\r\n            this.age = age;\r\n            this.address = address;\r\n            this.salary = salary;\r\n        }\r\n    \r\n        public Company(String name, int age, String address, double salary) {\r\n            this.name = name;\r\n            this.age = age;\r\n            this.address = address;\r\n            this.salary = salary;\r\n        }\r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public int getAge() {\r\n            return age;\r\n        }\r\n    \r\n        public void setAge(int age) {\r\n            this.age = age;\r\n        }\r\n    \r\n        public String getAddress() {\r\n            return address;\r\n        }\r\n    \r\n        public void setAddress(String address) {\r\n            this.address = address;\r\n        }\r\n    \r\n        public double getSalary() {\r\n            return salary;\r\n        }\r\n    \r\n        public void setSalary(double salary) {\r\n            this.salary = salary;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Company{&quot; +\r\n                    &quot;id=&quot; + id +\r\n                    &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                    &quot;, age=&quot; + age +\r\n                    &quot;, address=&#39;&quot; + address + &#39;\\&#39;&#39; +\r\n                    &quot;, salary=&quot; + salary +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\n\r\n\r\nCompanyService.java\r\n\r\n\r\n\r\n    public class CompanyService {\r\n    \r\n        public Company findOne(long id) {\r\n            EntityManager entityManager = Main.getFactory().createEntityManager();\r\n            return entityManager.find(Company.class, id);\r\n        }\r\n    \r\n        public void addCompany(String name, int age, String address, double salary) {\r\n            Company company = new Company();\r\n            company.setName(name);\r\n            company.setAge(age);\r\n            company.setAddress(address);\r\n            company.setSalary(salary);\r\n            EntityManager entityManager = Main.getFactory().createEntityManager();\r\n            EntityTransaction transaction = entityManager.getTransaction();\r\n            transaction.begin();\r\n            entityManager.contains(company);\r\n            transaction.commit();\r\n        }\r\n    \r\n        public List&lt;Company&gt; findByName(String name) {\r\n            EntityManager entityManager = Main.getFactory().createEntityManager();\r\n            Query query = entityManager.createQuery(&quot;select c from Company c where c.name=&#39;&quot; + name + &quot;&#39;&quot;);\r\n            return query.getResultList();\r\n        }\r\n    \r\n        public List&lt;Company&gt; findAll() {\r\n            EntityManager entityManager = Main.getFactory().createEntityManager();\r\n            Query query = entityManager.createQuery(&quot;select c from Company c&quot;);\r\n            return query.getResultList();\r\n        }\r\n    \r\n        public void updateCompanyName(long id, String name) {\r\n            EntityManager entityManager = Main.getFactory().createEntityManager();\r\n            Company company = entityManager.find(Company.class, id);\r\n            EntityTransaction transaction = entityManager.getTransaction();\r\n            transaction.begin();\r\n            company.setName(name);\r\n            entityManager.merge(company);\r\n            transaction.commit();\r\n        }\r\n    \r\n        public void delete(long id) {\r\n            EntityManager entityManager = Main.getFactory().createEntityManager();\r\n            Company company = entityManager.find(Company.class, id);\r\n            EntityTransaction transaction = entityManager.getTransaction();\r\n            transaction.begin();\r\n            entityManager.remove(company);\r\n            transaction.commit();\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\npom.xml\r\n\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;groupId&lt;/groupId&gt;\r\n        &lt;artifactId&gt;JPAZad1&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.postgresql/postgresql --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n                &lt;version&gt;42.3.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n                &lt;version&gt;5.6.9.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-entitymanager --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n                &lt;version&gt;5.6.9.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        \r\n    &lt;/project&gt;\r\n\r\n\r\n\r\npersistence.xml\r\n\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;persistence version=&quot;2.0&quot;\r\n                 xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot;\r\n                 xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                 xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence\r\n    http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;&gt;\r\n        &lt;persistence-unit name=&quot;MyUnit&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n            &lt;!-- Persistence provider --&gt;\r\n            &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n            &lt;!-- Entity classes --&gt;\r\n            &lt;class&gt;com.company.Donica.Company&lt;/class&gt;\r\n            &lt;properties&gt;\r\n                &lt;!-- The JDBC driver of your database --&gt;\r\n                &lt;property name=&quot;javax.persistence.jdbc.driver&quot;\r\n                          value=&quot;org.postgresql.Driver&quot; /&gt;\r\n                &lt;!-- The JDBC URL to the database instance --&gt;\r\n                &lt;property name=&quot;javax.persistence.jdbc.url&quot;\r\n                          value=&quot;jdbc:postgresql://localhost:5432/Nowa&quot; /&gt;\r\n                &lt;!-- The database username --&gt;\r\n                &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;postgres&quot; /&gt;\r\n                &lt;!-- The database password --&gt;\r\n                &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;Bakalie37&quot; /&gt;\r\n    \r\n            &lt;/properties&gt;\r\n        &lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;","title":"Hibernate problem with PersistenceUnit creates breakpoints (Unable to build Hibernate SessionFactory)","body":"<p>Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\nCaused by: javax.persistence.PersistenceException: [PersistenceUnit: MyUnit] Unable to build Hibernate SessionFactory\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.persistenceException(EntityManagerFactoryBuilderImpl.java:1597)\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1503)\nat org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:56)\nat java.persistence@2.2/javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\nat java.persistence@2.2/javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\nat com.example.Main/com.example.Main.TestHibernate.(TestHibernate.java:11)\nCaused by: org.hibernate.MappingException: Could not instantiate persister org.hibernate.persister.entity.SingleTableEntityPersister\nat org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:112)\nat org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:77)\nat org.hibernate.metamodel.internal.MetamodelImpl.initialize(MetamodelImpl.java:181)\nat org.hibernate.internal.SessionFactoryImpl.(SessionFactoryImpl.java:319)\nat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)\n... 4 more\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private long com.example.Main.Database.Test.id accessible: module com.example.Main does not &quot;opens com.example.Main.Database&quot; to unnamed module @7f1302d6\nat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\nat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\nat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\nat java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\nat org.hibernate.internal.util.ReflectHelper.ensureAccessibility(ReflectHelper.java:418)\nat org.hibernate.internal.util.ReflectHelper.findField(ReflectHelper.java:408)\nat org.hibernate.property.access.internal.PropertyAccessFieldImpl.(PropertyAccessFieldImpl.java:34)\nat org.hibernate.property.access.internal.PropertyAccessStrategyFieldImpl.buildPropertyAccess(PropertyAccessStrategyFieldImpl.java:26)\nat org.hibernate.tuple.PropertyFactory.getGetter(PropertyFactory.java:341)\nat org.hibernate.tuple.PropertyFactory.buildIdentifierAttribute(PropertyFactory.java:67)\nat org.hibernate.tuple.entity.EntityMetamodel.(EntityMetamodel.java:142)\nat org.hibernate.persister.entity.AbstractEntityPersister.(AbstractEntityPersister.java:613)\nat org.hibernate.persister.entity.SingleTableEntityPersister.(SingleTableEntityPersister.java:126)\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\nat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\nat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\nat org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:96)\n... 9 more</p>\n<p>Test.java</p>\n<pre><code>@Entity\npublic class Test\n{\n    @Id\n    @GeneratedValue\n    private long id;\n    private String imie;\n    private String nazwisko;\n\n    public Test(long id, String imie, String nazwisko)\n    {\n        this.id = id;\n        this.imie = imie;\n        this.nazwisko = nazwisko;\n    }\n\n    public Test()\n    {\n    }\n\n    public long getId()\n    {\n        return id;\n    }\n\n    public void setId(long id)\n    {\n        this.id = id;\n    }\n\n    public String getImie()\n    {\n        return imie;\n    }\n\n    public void setImie(String imie)\n    {\n        this.imie = imie;\n    }\n\n    public String getNazwisko()\n    {\n        return nazwisko;\n    }\n\n    public void setNazwisko(String nazwisko)\n    {\n        this.nazwisko = nazwisko;\n    }\n\n    @Override\n    public String toString()\n    {\n        return &quot;Test{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, imie='&quot; + imie + '\\'' +\n                &quot;, nazwisko='&quot; + nazwisko + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p>TestService.java</p>\n<pre><code>public class TestService\n{\n    //Nie dziala\n    public void addUser(String imie, String nazwisko)\n    {\n        Test test = new Test();\n        test.setImie(imie);\n        test.setNazwisko(nazwisko);\n        EntityManager entityManager = TestHibernate.getFactory().createEntityManager();\n        EntityTransaction entityTransaction = entityManager.getTransaction();\n        entityTransaction.begin(); \n        entityManager.persist(test);\n        entityTransaction.commit(); \n    }\n\n    public Test findOne(long id) {\n        EntityManager entityManager = TestHibernate.getFactory().createEntityManager();\n        return entityManager.find(Test.class, id);\n    }\n}\n</code></pre>\n<p>TestHibernate.java</p>\n<pre><code>public class TestHibernate\n{\n    private static final EntityManagerFactory FACTORY =\n            Persistence.createEntityManagerFactory(&quot;MyUnit&quot;);\n\n    public static void main(String[] args)\n    {\n        TestService testService = new TestService();\n        testService.findOne(1);\n    }\n    \n    public static EntityManagerFactory getFactory()\n    {\n        return FACTORY;\n    }\n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt; &lt;!-- To moze miec wplyw --&gt;\n    &lt;artifactId&gt;Game&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Game&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;junit.version&gt;5.8.1&lt;/junit.version&gt;\n\n        &lt;!--DODANIE PROPERTIES --&gt;\n        &lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;18-ea+6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;18-ea+6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.openjfx/javafx.media --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\n            &lt;version&gt;18.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.postgresql/postgresql --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;42.3.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.6.9.Final&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-entitymanager --&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-entitymanager --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;version&gt;5.6.9.Final&lt;/version&gt;\n        &lt;/dependency&gt;    \n    &lt;/dependencies&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt; \n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\n                        &lt;id&gt;default-cli&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;com.example.game/com.example.game.StartLoginApplication&lt;/mainClass&gt;\n                            &lt;launcher&gt;app&lt;/launcher&gt;\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>persistence.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence version=&quot;2.0&quot;\n             xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot;\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n             xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence\nhttp://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;&gt;\n    &lt;persistence-unit name=&quot;MyUnit&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt; &lt;!-- Tutaj nazwa MyUnit - wyrzuca blad --&gt;\n        &lt;!-- Persistence provider --&gt;\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n        &lt;!-- Entity classes --&gt;\n        &lt;class&gt;com.example.Main.Database.Test&lt;/class&gt;\n        &lt;properties&gt;\n            &lt;!-- Musisz pozmieniac na swoje dane --&gt;\n            &lt;!-- The JDBC driver of your database --&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.driver&quot;\n                      value=&quot;org.postgresql.Driver&quot; /&gt;\n            &lt;!-- The JDBC URL to the database instance --&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot;\n                      value=&quot;jdbc:postgresql://localhost:5432/Nowa&quot; /&gt;\n            &lt;!-- The database username --&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;postgres&quot; /&gt;\n            &lt;!-- The database password --&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;Bakalie37&quot; /&gt;\n\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>It's weird, cause in the similar project I haven't problems with that.\nSecond project without problems:</p>\n<p>Company.java</p>\n<pre><code>@Entity\npublic class Company {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    private String name;\n\n    private int age;\n\n    private String address;\n\n    private double salary;\n\n    public Company() {\n    }\n\n    public Company(Long id, String name, int age, String address, double salary) {\n        this.id = id;\n        this.name = name;\n        this.age = age;\n        this.address = address;\n        this.salary = salary;\n    }\n\n    public Company(String name, int age, String address, double salary) {\n        this.name = name;\n        this.age = age;\n        this.address = address;\n        this.salary = salary;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n    public double getSalary() {\n        return salary;\n    }\n\n    public void setSalary(double salary) {\n        this.salary = salary;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Company{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, name='&quot; + name + '\\'' +\n                &quot;, age=&quot; + age +\n                &quot;, address='&quot; + address + '\\'' +\n                &quot;, salary=&quot; + salary +\n                '}';\n    }\n}\n</code></pre>\n<p>CompanyService.java</p>\n<pre><code>public class CompanyService {\n\n    public Company findOne(long id) {\n        EntityManager entityManager = Main.getFactory().createEntityManager();\n        return entityManager.find(Company.class, id);\n    }\n\n    public void addCompany(String name, int age, String address, double salary) {\n        Company company = new Company();\n        company.setName(name);\n        company.setAge(age);\n        company.setAddress(address);\n        company.setSalary(salary);\n        EntityManager entityManager = Main.getFactory().createEntityManager();\n        EntityTransaction transaction = entityManager.getTransaction();\n        transaction.begin();\n        entityManager.contains(company);\n        transaction.commit();\n    }\n\n    public List&lt;Company&gt; findByName(String name) {\n        EntityManager entityManager = Main.getFactory().createEntityManager();\n        Query query = entityManager.createQuery(&quot;select c from Company c where c.name='&quot; + name + &quot;'&quot;);\n        return query.getResultList();\n    }\n\n    public List&lt;Company&gt; findAll() {\n        EntityManager entityManager = Main.getFactory().createEntityManager();\n        Query query = entityManager.createQuery(&quot;select c from Company c&quot;);\n        return query.getResultList();\n    }\n\n    public void updateCompanyName(long id, String name) {\n        EntityManager entityManager = Main.getFactory().createEntityManager();\n        Company company = entityManager.find(Company.class, id);\n        EntityTransaction transaction = entityManager.getTransaction();\n        transaction.begin();\n        company.setName(name);\n        entityManager.merge(company);\n        transaction.commit();\n    }\n\n    public void delete(long id) {\n        EntityManager entityManager = Main.getFactory().createEntityManager();\n        Company company = entityManager.find(Company.class, id);\n        EntityTransaction transaction = entityManager.getTransaction();\n        transaction.begin();\n        entityManager.remove(company);\n        transaction.commit();\n    }\n\n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;groupId&lt;/groupId&gt;\n    &lt;artifactId&gt;JPAZad1&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.postgresql/postgresql --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;42.3.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.6.9.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-entitymanager --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;version&gt;5.6.9.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    \n&lt;/project&gt;\n</code></pre>\n<p>persistence.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence version=&quot;2.0&quot;\n             xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot;\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n             xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence\nhttp://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;&gt;\n    &lt;persistence-unit name=&quot;MyUnit&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n        &lt;!-- Persistence provider --&gt;\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n        &lt;!-- Entity classes --&gt;\n        &lt;class&gt;com.company.Donica.Company&lt;/class&gt;\n        &lt;properties&gt;\n            &lt;!-- The JDBC driver of your database --&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.driver&quot;\n                      value=&quot;org.postgresql.Driver&quot; /&gt;\n            &lt;!-- The JDBC URL to the database instance --&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot;\n                      value=&quot;jdbc:postgresql://localhost:5432/Nowa&quot; /&gt;\n            &lt;!-- The database username --&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;postgres&quot; /&gt;\n            &lt;!-- The database password --&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;Bakalie37&quot; /&gt;\n\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1661039291,"post_id":73430551,"comment_id":129676565,"body_markdown":"Put a breakpoint in updateEmployee and make sure that the incoming data is what you expect.","body":"Put a breakpoint in updateEmployee and make sure that the incoming data is what you expect."},{"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"score":0,"creation_date":1661040457,"post_id":73430551,"comment_id":129676701,"body_markdown":"Attach the JSON you send. Your problem is due to `employeeCode` being null in the entity probably because your JSON don&#39;t add `employeeCode` in the output. You would be best annotating it `@JsonIgnore` - and generate its value in the create operation.","body":"Attach the JSON you send. Your problem is due to <code>employeeCode</code> being null in the entity probably because your JSON don&#39;t add <code>employeeCode</code> in the output. You would be best annotating it <code>@JsonIgnore</code> - and generate its value in the create operation."},{"owner":{"account_id":25979387,"reputation":1,"user_id":19693378,"display_name":"Filip."},"score":0,"creation_date":1661041510,"post_id":73430551,"comment_id":129676842,"body_markdown":"I have tried annotating employeeCode in the Employee class, and it does not do anything","body":"I have tried annotating employeeCode in the Employee class, and it does not do anything"}],"answers":[{"tags":[],"owner":{"account_id":15722637,"reputation":1,"user_id":11345152,"display_name":"Jack.web"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1661042622,"creation_date":1661042605,"answer_id":73430991,"question_id":73430551,"body_markdown":"you give the employeeCode a null, but it was defined not null in database","title":"I am getting an Status 500 Internal Error from my backend with Spring Boot","body":"<p>you give the employeeCode a null, but it was defined not null in database</p>\n"},{"tags":[],"owner":{"account_id":15413608,"reputation":99,"user_id":11529048,"display_name":"Akhil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661062220,"creation_date":1661062220,"answer_id":73432055,"question_id":73430551,"body_markdown":"The JSON payload what you are using to update your entity :\r\n\r\n{ &quot;id&quot;: 17, &quot;email&quot;: &quot;cjufi@gmail.com&quot;, &quot;imageUrl&quot;: &quot;bootdey.com/img/Content/avatar/avatar1.png&quot;, &quot;jobTitle&quot;: &quot;Java&quot;, &quot;name&quot;: &quot;cjufi&quot;, &quot;phoneNumber&quot;: &quot;555333&quot; }\r\n\r\nDoes not contain employeeCode. So it&#39;s like you are passing NULL value but in your DB you said it should be non-null. That&#39;s why you are getting error.\r\nYou can either remove the constraints for the employeeCode column or provide the actual value when updating","title":"I am getting an Status 500 Internal Error from my backend with Spring Boot","body":"<p>The JSON payload what you are using to update your entity :</p>\n<p>{ &quot;id&quot;: 17, &quot;email&quot;: &quot;cjufi@gmail.com&quot;, &quot;imageUrl&quot;: &quot;bootdey.com/img/Content/avatar/avatar1.png&quot;, &quot;jobTitle&quot;: &quot;Java&quot;, &quot;name&quot;: &quot;cjufi&quot;, &quot;phoneNumber&quot;: &quot;555333&quot; }</p>\n<p>Does not contain employeeCode. So it's like you are passing NULL value but in your DB you said it should be non-null. That's why you are getting error.\nYou can either remove the constraints for the employeeCode column or provide the actual value when updating</p>\n"},{"tags":[],"owner":{"account_id":48638,"reputation":5943,"user_id":144578,"accept_rate":79,"display_name":"Sebastiaan van den Broek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661069873,"creation_date":1661069197,"answer_id":73432642,"question_id":73430551,"body_markdown":"If I&#39;m reading you correctly, you don&#39;t want `employeeCode` to be updatable, as defined by your Entity with `@Column(nullable = false, updatable = false)`.\r\n\r\nThe other answers are wrong, you don&#39;t have to add that field to your JSON when you&#39;re only updating. But this fails on your PUT request as you don&#39;t attempt to find the existing Employee first, but simply try to update with an entirely new object (which does have that null field that shouldn&#39;t be nullable by then) and are re-using your Entity as an input object for your Controller.\r\n\r\nThe usual way to do this would be to create a DTO specifically for this, then try to find the existing database entity based on the id and update that.\r\n\r\nAnother problem with your current approach is that there&#39;s nothing stopping someone from just passing an entirely new Employee with a new id to that update endpoint, and creating their own id that way.\r\n\r\nYou could also require that id to be in the request path so you don&#39;t have a PUT request on the main endpoint or a separate /update path, but rather have a structure like /employees/{id} where you can then parse the path and first attempt to find that employee with the parsed id.\r\n\r\nSmall example:\r\n\r\n```\r\n@PutMapping(value = &quot;/{id}&quot;, consumes = APPLICATION_JSON_VALUE)\r\npublic ResponseEntity&lt;EmployeeOutputDTO&gt; updateEmployee(\r\n    @PathVariable(&quot;id&quot;) UUID id,\r\n    @RequestBody @Valid EmployeeInputDTO employeeDTO) {\r\n    EmployeeOutputDTO responseDTO = employeeService.apiUpdate(id, employeeDTO);\r\n    return ResponseEntity.ok(responseDTO);\r\n}\r\n```\r\n\r\n```\r\npublic EmployeeOutputDTO apiUpdate(UUID id, EmployeeInputDTO employeeDTO) {\r\n    log.info(&quot;Updating employee&quot;);\r\n\r\n    Employee existingEmployee = findOrThrowNotFoundException(id);\r\n    // ...do update\r\n}\r\n```\r\n","title":"I am getting an Status 500 Internal Error from my backend with Spring Boot","body":"<p>If I'm reading you correctly, you don't want <code>employeeCode</code> to be updatable, as defined by your Entity with <code>@Column(nullable = false, updatable = false)</code>.</p>\n<p>The other answers are wrong, you don't have to add that field to your JSON when you're only updating. But this fails on your PUT request as you don't attempt to find the existing Employee first, but simply try to update with an entirely new object (which does have that null field that shouldn't be nullable by then) and are re-using your Entity as an input object for your Controller.</p>\n<p>The usual way to do this would be to create a DTO specifically for this, then try to find the existing database entity based on the id and update that.</p>\n<p>Another problem with your current approach is that there's nothing stopping someone from just passing an entirely new Employee with a new id to that update endpoint, and creating their own id that way.</p>\n<p>You could also require that id to be in the request path so you don't have a PUT request on the main endpoint or a separate /update path, but rather have a structure like /employees/{id} where you can then parse the path and first attempt to find that employee with the parsed id.</p>\n<p>Small example:</p>\n<pre><code>@PutMapping(value = &quot;/{id}&quot;, consumes = APPLICATION_JSON_VALUE)\npublic ResponseEntity&lt;EmployeeOutputDTO&gt; updateEmployee(\n    @PathVariable(&quot;id&quot;) UUID id,\n    @RequestBody @Valid EmployeeInputDTO employeeDTO) {\n    EmployeeOutputDTO responseDTO = employeeService.apiUpdate(id, employeeDTO);\n    return ResponseEntity.ok(responseDTO);\n}\n</code></pre>\n<pre><code>public EmployeeOutputDTO apiUpdate(UUID id, EmployeeInputDTO employeeDTO) {\n    log.info(&quot;Updating employee&quot;);\n\n    Employee existingEmployee = findOrThrowNotFoundException(id);\n    // ...do update\n}\n</code></pre>\n"}],"owner":{"account_id":25979387,"reputation":1,"user_id":19693378,"display_name":"Filip."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":641,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1661069873,"creation_date":1661035403,"question_id":73430551,"body_markdown":"So I am testing my employee manager app in postman, and my delete get and all of the other requests work, but my update(put) request doesn&#39;t. I have also made the front end in Angular that is connected to the BE, but I think the Angular part isn&#39;t making the problem, if someone thinks that it is, please let me know I will gladly post that code also.  \r\nI am not sure how to fix this error, this is the code: \r\n\r\n**Employee Service**\r\n```\r\n@Service(&quot;employeeService&quot;)\r\n@Transactional\r\npublic class EmployeeService {\r\n    private final EmployeeRepo employeeRepo;\r\n\r\n    @Autowired\r\n    public EmployeeService(EmployeeRepo employeeRepo) {\r\n        this.employeeRepo = employeeRepo;\r\n    }\r\n\r\n    public Employee addEmployee(Employee employee) {\r\n        employee.setEmployeeCode(UUID.randomUUID().toString());\r\n        return employeeRepo.save(employee);\r\n    }\r\n\r\n    public List&lt;Employee&gt; findAllEmployees() {\r\n        return employeeRepo.findAll();\r\n    }\r\n\r\n    public Employee updateEmployee(Employee employee) {\r\n        return employeeRepo.save(employee);\r\n    }\r\n\r\n    public Employee findEmployeeById(Long id) {\r\n        return employeeRepo.findEmployeeById(id)\r\n                .orElseThrow(() -&gt; new UserNotFoundException(&quot;User by id &quot; + id + &quot; was not found&quot;));\r\n    }\r\n     public void deleteEmployee(Long id){\r\n        employeeRepo.deleteById(id);\r\n         }\r\n}\r\n```\r\n\r\n**Employee Resource**\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/employee&quot;)\r\npublic class EmployeeResource {\r\n    private final EmployeeService employeeService;\r\n\r\n    public EmployeeResource(EmployeeService employeeService) {\r\n        this.employeeService = employeeService;\r\n    }\r\n\r\n    @GetMapping(&quot;/all&quot;)\r\n    public ResponseEntity&lt;List&lt;Employee&gt;&gt; getAllEmployees () {//vratice http responce u cijem body-u ce biti lista zaposlenih\r\n        List&lt;Employee&gt; employees = employeeService.findAllEmployees();\r\n        return new ResponseEntity&lt;&gt;(employees, HttpStatus.OK);\r\n    }\r\n\r\n    @GetMapping(&quot;/find/{id}&quot;)\r\n    public ResponseEntity&lt;Employee&gt; getEmployeeById (@PathVariable(&quot;id&quot;) Long id) {\r\n        Employee employee = employeeService.findEmployeeById(id);\r\n        return new ResponseEntity&lt;&gt;(employee, HttpStatus.OK);\r\n    }\r\n\r\n    @PostMapping(&quot;/add&quot;)\r\n    public ResponseEntity&lt;Employee&gt; addEmployee(@RequestBody Employee employee) {//posto u JSON formatu vraca ceo kao body\r\n        Employee newEmployee = employeeService.addEmployee(employee);\r\n        return new ResponseEntity&lt;&gt;(newEmployee, HttpStatus.CREATED);\r\n    }\r\n\r\n    @PutMapping(&quot;/update&quot;)\r\n    public ResponseEntity&lt;Employee&gt; updateEmployee(@RequestBody Employee employee) {\r\n        Employee updateEmployee = employeeService.updateEmployee(employee);\r\n        return new ResponseEntity&lt;&gt;(updateEmployee, HttpStatus.OK);\r\n    }\r\n\r\n    @DeleteMapping(&quot;/delete/{id}&quot;)\r\n    public ResponseEntity&lt;?&gt; deleteEmployee(@PathVariable(&quot;id&quot;) Long id) {\r\n        employeeService.deleteEmployee(id);\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n    }\r\n}\r\n```\r\n\r\n**Employee Repository**\r\n```\r\n@Repository\r\npublic interface EmployeeRepo extends JpaRepository&lt;Employee, Long&gt; {\r\n   // employeeRepo.deleteById(Long id);\r\n    Optional&lt;Employee&gt; findEmployeeById(Long id);\r\n}\r\n```\r\n\r\n**Employee**\r\n```\r\n@Entity\r\npublic class Employee implements Serializable {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(nullable = false, updatable = false)\r\n    private Long id;\r\n    private String name;\r\n    private String email;\r\n    private String jobTitle;\r\n    private String phoneNumber;\r\n    private String imageUrl;\r\n    @Column(nullable = false, updatable = false)\r\n    private String employeeCode;\r\n\r\n    public Employee() {}\r\n\r\n    public Employee(String name, String email, String jobTitle, String phoneNumber, String imageUrl, String employeeCode) {\r\n        this.name = name;\r\n        this.email = email;\r\n        this.jobTitle = jobTitle;\r\n        this.phoneNumber = phoneNumber;\r\n        this.imageUrl = imageUrl;\r\n        this.employeeCode = employeeCode;\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getJobTitle() {\r\n        return jobTitle;\r\n    }\r\n\r\n    public void setJobTitle(String jobTitle) {\r\n        this.jobTitle = jobTitle;\r\n    }\r\n\r\n    public String getPhoneNumber() {\r\n        return phoneNumber;\r\n    }\r\n\r\n    public void setPhoneNumber(String phoneNumber) {\r\n        this.phoneNumber = phoneNumber;\r\n    }\r\n\r\n    public String getImageUrl() {\r\n        return imageUrl;\r\n    }\r\n\r\n    public void setImageUrl(String imageUrl) {\r\n        this.imageUrl = imageUrl;\r\n    }\r\n\r\n    public String getEmployeeCode() {\r\n        return employeeCode;\r\n    }\r\n\r\n    public void setEmployeeCode(String employeeCode) {\r\n        this.employeeCode = employeeCode;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Employee{&quot; +\r\n                &quot;Id=&quot; + id +\r\n                &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &quot;, email=&#39;&quot; + email + &#39;\\&#39;&#39; +\r\n                &quot;, jobTitle=&#39;&quot; + jobTitle + &#39;\\&#39;&#39; +\r\n                &quot;, phoneNumber=&#39;&quot; + phoneNumber + &#39;\\&#39;&#39; +\r\n                &quot;, imageUrl=&#39;&quot; + imageUrl + &#39;\\&#39;&#39; +\r\n                &quot;, employeeCode=&#39;&quot; + employeeCode + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\n**Stack Trace**\r\n\r\n```\r\norg.hibernate.PropertyValueException: not-null property references a null or transient value : com.cjufi.employeemanager.model.Employee.employeeCode\r\n\tat org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:111) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:55) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.action.internal.AbstractEntityInsertAction.nullifyTransientReferencesIfNotAlready(AbstractEntityInsertAction.java:116) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:72) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:756) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:742) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n\tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.22.jar:5.3.22]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy96.persist(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.22.jar:5.3.22]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy96.persist(Unknown Source) ~[na:na]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:666) ~[spring-data-jpa-2.7.2.jar:2.7.2]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.2.jar:2.7.2]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy100.save(Unknown Source) ~[na:na]\r\n\tat com.cjufi.employeemanager.service.EmployeeService.updateEmployee(EmployeeService.java:34) ~[classes/:na]\r\n\tat com.cjufi.employeemanager.service.EmployeeService$$FastClassBySpringCGLIB$$f9421ab5.invoke(&lt;generated&gt;) ~[classes/:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat com.cjufi.employeemanager.service.EmployeeService$$EnhancerBySpringCGLIB$$83e2c27e.updateEmployee(&lt;generated&gt;) ~[classes/:na]\r\n\tat com.cjufi.employeemanager.resource.EmployeeResource.updateEmployee(EmployeeResource.java:40) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:920) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:684) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\nHibernate: select employee0_.id as id1_0_, employee0_.email as email2_0_, employee0_.employee_code as employee3_0_, employee0_.image_url as image_ur4_0_, employee0_.job_title as job_titl5_0_, employee0_.name as name6_0_, employee0_.phone_number as phone_nu7_0_ from employee employee0_\r\n2022-08-21 02:01:02.830  WARN 7332 --- [l-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=44m1s400ms600&#181;s500ns).\r\n```\r\n\r\nExample of my JSON that I put  \r\n`{ &quot;id&quot;: 17, &quot;email&quot;: &quot;cjufi@gmail.com&quot;, &quot;imageUrl&quot;: &quot;bootdey.com/img/Content/avatar/avatar1.png&quot;, &quot;jobTitle&quot;: &quot;Java&quot;, &quot;name&quot;: &quot;cjufi&quot;, &quot;phoneNumber&quot;: &quot;555333&quot; }`","title":"I am getting an Status 500 Internal Error from my backend with Spring Boot","body":"<p>So I am testing my employee manager app in postman, and my delete get and all of the other requests work, but my update(put) request doesn't. I have also made the front end in Angular that is connected to the BE, but I think the Angular part isn't making the problem, if someone thinks that it is, please let me know I will gladly post that code also.<br />\nI am not sure how to fix this error, this is the code:</p>\n<p><strong>Employee Service</strong></p>\n<pre><code>@Service(&quot;employeeService&quot;)\n@Transactional\npublic class EmployeeService {\n    private final EmployeeRepo employeeRepo;\n\n    @Autowired\n    public EmployeeService(EmployeeRepo employeeRepo) {\n        this.employeeRepo = employeeRepo;\n    }\n\n    public Employee addEmployee(Employee employee) {\n        employee.setEmployeeCode(UUID.randomUUID().toString());\n        return employeeRepo.save(employee);\n    }\n\n    public List&lt;Employee&gt; findAllEmployees() {\n        return employeeRepo.findAll();\n    }\n\n    public Employee updateEmployee(Employee employee) {\n        return employeeRepo.save(employee);\n    }\n\n    public Employee findEmployeeById(Long id) {\n        return employeeRepo.findEmployeeById(id)\n                .orElseThrow(() -&gt; new UserNotFoundException(&quot;User by id &quot; + id + &quot; was not found&quot;));\n    }\n     public void deleteEmployee(Long id){\n        employeeRepo.deleteById(id);\n         }\n}\n</code></pre>\n<p><strong>Employee Resource</strong></p>\n<pre><code>@RestController\n@RequestMapping(&quot;/employee&quot;)\npublic class EmployeeResource {\n    private final EmployeeService employeeService;\n\n    public EmployeeResource(EmployeeService employeeService) {\n        this.employeeService = employeeService;\n    }\n\n    @GetMapping(&quot;/all&quot;)\n    public ResponseEntity&lt;List&lt;Employee&gt;&gt; getAllEmployees () {//vratice http responce u cijem body-u ce biti lista zaposlenih\n        List&lt;Employee&gt; employees = employeeService.findAllEmployees();\n        return new ResponseEntity&lt;&gt;(employees, HttpStatus.OK);\n    }\n\n    @GetMapping(&quot;/find/{id}&quot;)\n    public ResponseEntity&lt;Employee&gt; getEmployeeById (@PathVariable(&quot;id&quot;) Long id) {\n        Employee employee = employeeService.findEmployeeById(id);\n        return new ResponseEntity&lt;&gt;(employee, HttpStatus.OK);\n    }\n\n    @PostMapping(&quot;/add&quot;)\n    public ResponseEntity&lt;Employee&gt; addEmployee(@RequestBody Employee employee) {//posto u JSON formatu vraca ceo kao body\n        Employee newEmployee = employeeService.addEmployee(employee);\n        return new ResponseEntity&lt;&gt;(newEmployee, HttpStatus.CREATED);\n    }\n\n    @PutMapping(&quot;/update&quot;)\n    public ResponseEntity&lt;Employee&gt; updateEmployee(@RequestBody Employee employee) {\n        Employee updateEmployee = employeeService.updateEmployee(employee);\n        return new ResponseEntity&lt;&gt;(updateEmployee, HttpStatus.OK);\n    }\n\n    @DeleteMapping(&quot;/delete/{id}&quot;)\n    public ResponseEntity&lt;?&gt; deleteEmployee(@PathVariable(&quot;id&quot;) Long id) {\n        employeeService.deleteEmployee(id);\n        return new ResponseEntity&lt;&gt;(HttpStatus.OK);\n    }\n}\n</code></pre>\n<p><strong>Employee Repository</strong></p>\n<pre><code>@Repository\npublic interface EmployeeRepo extends JpaRepository&lt;Employee, Long&gt; {\n   // employeeRepo.deleteById(Long id);\n    Optional&lt;Employee&gt; findEmployeeById(Long id);\n}\n</code></pre>\n<p><strong>Employee</strong></p>\n<pre><code>@Entity\npublic class Employee implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(nullable = false, updatable = false)\n    private Long id;\n    private String name;\n    private String email;\n    private String jobTitle;\n    private String phoneNumber;\n    private String imageUrl;\n    @Column(nullable = false, updatable = false)\n    private String employeeCode;\n\n    public Employee() {}\n\n    public Employee(String name, String email, String jobTitle, String phoneNumber, String imageUrl, String employeeCode) {\n        this.name = name;\n        this.email = email;\n        this.jobTitle = jobTitle;\n        this.phoneNumber = phoneNumber;\n        this.imageUrl = imageUrl;\n        this.employeeCode = employeeCode;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getJobTitle() {\n        return jobTitle;\n    }\n\n    public void setJobTitle(String jobTitle) {\n        this.jobTitle = jobTitle;\n    }\n\n    public String getPhoneNumber() {\n        return phoneNumber;\n    }\n\n    public void setPhoneNumber(String phoneNumber) {\n        this.phoneNumber = phoneNumber;\n    }\n\n    public String getImageUrl() {\n        return imageUrl;\n    }\n\n    public void setImageUrl(String imageUrl) {\n        this.imageUrl = imageUrl;\n    }\n\n    public String getEmployeeCode() {\n        return employeeCode;\n    }\n\n    public void setEmployeeCode(String employeeCode) {\n        this.employeeCode = employeeCode;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Employee{&quot; +\n                &quot;Id=&quot; + id +\n                &quot;, name='&quot; + name + '\\'' +\n                &quot;, email='&quot; + email + '\\'' +\n                &quot;, jobTitle='&quot; + jobTitle + '\\'' +\n                &quot;, phoneNumber='&quot; + phoneNumber + '\\'' +\n                &quot;, imageUrl='&quot; + imageUrl + '\\'' +\n                &quot;, employeeCode='&quot; + employeeCode + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p><strong>Stack Trace</strong></p>\n<pre><code>org.hibernate.PropertyValueException: not-null property references a null or transient value : com.cjufi.employeemanager.model.Employee.employeeCode\n    at org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:111) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:55) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.action.internal.AbstractEntityInsertAction.nullifyTransientReferencesIfNotAlready(AbstractEntityInsertAction.java:116) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:72) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:756) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:742) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.22.jar:5.3.22]\n    at jdk.proxy2/jdk.proxy2.$Proxy96.persist(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.22.jar:5.3.22]\n    at jdk.proxy2/jdk.proxy2.$Proxy96.persist(Unknown Source) ~[na:na]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:666) ~[spring-data-jpa-2.7.2.jar:2.7.2]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.2.jar:2.7.2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.22.jar:5.3.22]\n    at jdk.proxy2/jdk.proxy2.$Proxy100.save(Unknown Source) ~[na:na]\n    at com.cjufi.employeemanager.service.EmployeeService.updateEmployee(EmployeeService.java:34) ~[classes/:na]\n    at com.cjufi.employeemanager.service.EmployeeService$$FastClassBySpringCGLIB$$f9421ab5.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]\n    at com.cjufi.employeemanager.service.EmployeeService$$EnhancerBySpringCGLIB$$83e2c27e.updateEmployee(&lt;generated&gt;) ~[classes/:na]\n    at com.cjufi.employeemanager.resource.EmployeeResource.updateEmployee(EmployeeResource.java:40) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:920) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:684) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n\nHibernate: select employee0_.id as id1_0_, employee0_.email as email2_0_, employee0_.employee_code as employee3_0_, employee0_.image_url as image_ur4_0_, employee0_.job_title as job_titl5_0_, employee0_.name as name6_0_, employee0_.phone_number as phone_nu7_0_ from employee employee0_\n2022-08-21 02:01:02.830  WARN 7332 --- [l-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=44m1s400ms600µs500ns).\n</code></pre>\n<p>Example of my JSON that I put<br />\n<code>{ &quot;id&quot;: 17, &quot;email&quot;: &quot;cjufi@gmail.com&quot;, &quot;imageUrl&quot;: &quot;bootdey.com/img/Content/avatar/avatar1.png&quot;, &quot;jobTitle&quot;: &quot;Java&quot;, &quot;name&quot;: &quot;cjufi&quot;, &quot;phoneNumber&quot;: &quot;555333&quot; }</code></p>\n"},{"tags":["java","android-studio","activity-recognition"],"comments":[{"owner":{"account_id":17668560,"reputation":166,"user_id":12825336,"display_name":"Conta"},"score":0,"creation_date":1661069890,"post_id":73432654,"comment_id":129679830,"body_markdown":"you&#39;ve already imported the library into your activity code, right?If yes, have you tried to implement an older version? (Try with 19.0.1). So: implementation &#39;com.google.android.gms:play-services-location:19.0.1&#39;","body":"you&#39;ve already imported the library into your activity code, right?If yes, have you tried to implement an older version? (Try with 19.0.1). So: implementation &#39;com.google.android.gms:play-services-location:19.0.1&#39;"},{"owner":{"account_id":15988224,"reputation":49,"user_id":19224324,"display_name":"Nick"},"score":0,"creation_date":1661076521,"post_id":73432654,"comment_id":129681001,"body_markdown":"I tested with ver. 19.0.1. Same result. Looking like my Android Studio never heared by TransitionReceiver.","body":"I tested with ver. 19.0.1. Same result. Looking like my Android Studio never heared by TransitionReceiver."},{"owner":{"account_id":17668560,"reputation":166,"user_id":12825336,"display_name":"Conta"},"score":0,"creation_date":1661179105,"post_id":73432654,"comment_id":129704181,"body_markdown":"but you&#39;ve already imported the library into your activity code? the TransitionsReceiver object in: `private TransitionsReceiver mTransitionsReceiver` the IDE points it out to you red? or is it just red without underlining? because if red with underlining you would have to import the package into the imports of that activity","body":"but you&#39;ve already imported the library into your activity code? the TransitionsReceiver object in: <code>private TransitionsReceiver mTransitionsReceiver</code> the IDE points it out to you red? or is it just red without underlining? because if red with underlining you would have to import the package into the imports of that activity"}],"owner":{"account_id":15988224,"reputation":49,"user_id":19224324,"display_name":"Nick"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661069380,"creation_date":1661069380,"question_id":73432654,"body_markdown":"Trying to test next Google sample https://developer.android.com/codelabs/activity-recognition-transition#4 I was stuck on 5 step.\r\n\r\n    private TransitionsReceiver mTransitionsReceiver; \r\nreturn me next error message &quot;cannot resolve symbol TransitionReceiver&quot;.\r\n\r\nOn my build.gradle I have \r\n\r\n    implementation &#39;com.google.android.gms:play-services-location:20.0.0&#39;\r\n\r\nWhat I do wrong?","title":"cannot resove symbol TransitionsReceiver","body":"<p>Trying to test next Google sample <a href=\"https://developer.android.com/codelabs/activity-recognition-transition#4\" rel=\"nofollow noreferrer\">https://developer.android.com/codelabs/activity-recognition-transition#4</a> I was stuck on 5 step.</p>\n<pre><code>private TransitionsReceiver mTransitionsReceiver; \n</code></pre>\n<p>return me next error message &quot;cannot resolve symbol TransitionReceiver&quot;.</p>\n<p>On my build.gradle I have</p>\n<pre><code>implementation 'com.google.android.gms:play-services-location:20.0.0'\n</code></pre>\n<p>What I do wrong?</p>\n"},{"tags":["java","elasticsearch","homebrew"],"comments":[{"owner":{"account_id":6887735,"reputation":21370,"user_id":5292302,"accept_rate":100,"display_name":"Petter Friberg"},"score":2,"creation_date":1495833782,"post_id":44210273,"comment_id":75433088,"body_markdown":"Possible duplicate of [Unable to install Elasticsearch on Mac Sierra (10.12.2)](https://stackoverflow.com/questions/41149796/unable-to-install-elasticsearch-on-mac-sierra-10-12-2)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/41149796/unable-to-install-elasticsearch-on-mac-sierra-10-12-2\">Unable to install Elasticsearch on Mac Sierra (10.12.2)</a>"}],"answers":[{"tags":[],"owner":{"account_id":2021629,"reputation":57953,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1496776524,"creation_date":1496776524,"answer_id":44398104,"question_id":44210273,"body_markdown":"If you have set :\r\n\r\n    export GREP_OPTIONS=&#39;--color=always&#39;\r\nin your `.bashrc` or somewhere else, it will probably broke shell pipes and causes problems. Try to remove it.\r\n","title":"elasticsearch - Could not find or load main class -Xms2g","body":"<p>If you have set :</p>\n\n<pre><code>export GREP_OPTIONS='--color=always'\n</code></pre>\n\n<p>in your <code>.bashrc</code> or somewhere else, it will probably broke shell pipes and causes problems. Try to remove it.</p>\n"},{"tags":[],"owner":{"account_id":7792321,"reputation":994,"user_id":6602159,"display_name":"M. Rostami"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643376436,"creation_date":1643376436,"answer_id":70894532,"question_id":44210273,"body_markdown":"In my instance, it was a mistake when I fill the environment in the docker-compose file. It was like:\r\n```\r\n...\r\n    environment:\r\n      - ES_JAVA_OPTS=&quot;-Xms1g -Xmx1g&quot;\r\n...\r\n```\r\nSo, the docker couldn&#39;t set the env properly, then after I recreated the container, it has fixed:\r\n```\r\n...\r\n    environment:\r\n      - &quot;ES_JAVA_OPTS=-Xms1g -Xmx1g&quot;\r\n...\r\n```","title":"elasticsearch - Could not find or load main class -Xms2g","body":"<p>In my instance, it was a mistake when I fill the environment in the docker-compose file. It was like:</p>\n<pre><code>...\n    environment:\n      - ES_JAVA_OPTS=&quot;-Xms1g -Xmx1g&quot;\n...\n</code></pre>\n<p>So, the docker couldn't set the env properly, then after I recreated the container, it has fixed:</p>\n<pre><code>...\n    environment:\n      - &quot;ES_JAVA_OPTS=-Xms1g -Xmx1g&quot;\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7561297,"reputation":1,"user_id":5738780,"display_name":"Faraz Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661069032,"creation_date":1661069032,"answer_id":73432627,"question_id":44210273,"body_markdown":"If there is any anti-virus or security scanner tool installed on the host, it may delete the vulnerable packages which are required by elasticsearch. In my case, clamav scanner deleted log4j package on the host machine which is required by elasticsearch. The logs did not indicate anything like that, instead I was getting the following error:\r\n\r\n```Error: Could not find or load main class 8-:-Xmx1g Caused by: java.lang.ClassNotFoundException: 8-:-Xmx1g```\r\n\r\nThe issue was fixed by installing log4j using yum package manager\r\n\r\n```yum install log4j```\r\n\r\n\r\n\r\n\r\n","title":"elasticsearch - Could not find or load main class -Xms2g","body":"<p>If there is any anti-virus or security scanner tool installed on the host, it may delete the vulnerable packages which are required by elasticsearch. In my case, clamav scanner deleted log4j package on the host machine which is required by elasticsearch. The logs did not indicate anything like that, instead I was getting the following error:</p>\n<p><code>Error: Could not find or load main class 8-:-Xmx1g Caused by: java.lang.ClassNotFoundException: 8-:-Xmx1g</code></p>\n<p>The issue was fixed by installing log4j using yum package manager</p>\n<p><code>yum install log4j</code></p>\n"}],"owner":{"account_id":7428895,"reputation":13,"user_id":5650573,"display_name":"Micodel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2404,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":44398104,"answer_count":3,"score":1,"last_activity_date":1661069032,"creation_date":1495833659,"question_id":44210273,"body_markdown":"I installed elasticsearch with homebrew on Mac OSX Sierra (10.12.5).\r\n\r\nThe installation with homebrew appears successful and brew info states it is installed meeting all prerequisites.\r\n\r\nWhen I go to run the &quot;elasticsearch&quot; command, I get the following error...\r\n\r\n    Error: Could not find or load main class -Xms2g\r\n\r\nI have tried installing java 1.8 both via homebrew and manually.\r\n\r\nI am using java JDK not JRE.\r\n\r\nI also tried installing elasticsearch manually, however the installation itself fails with the same exact error.\r\n\r\nAny insight would be appreciated.\r\n\r\n\r\n=== UPDATE ===\r\n\r\nQuick answer below.\r\n\r\nAdditional information can be found here:\r\nhttps://stackoverflow.com/questions/41149796/unable-to-install-elasticsearch-on-mac-sierra-10-12-2\r\n\r\n","title":"elasticsearch - Could not find or load main class -Xms2g","body":"<p>I installed elasticsearch with homebrew on Mac OSX Sierra (10.12.5).</p>\n\n<p>The installation with homebrew appears successful and brew info states it is installed meeting all prerequisites.</p>\n\n<p>When I go to run the \"elasticsearch\" command, I get the following error...</p>\n\n<pre><code>Error: Could not find or load main class -Xms2g\n</code></pre>\n\n<p>I have tried installing java 1.8 both via homebrew and manually.</p>\n\n<p>I am using java JDK not JRE.</p>\n\n<p>I also tried installing elasticsearch manually, however the installation itself fails with the same exact error.</p>\n\n<p>Any insight would be appreciated.</p>\n\n<p>=== UPDATE ===</p>\n\n<p>Quick answer below.</p>\n\n<p>Additional information can be found here:\n<a href=\"https://stackoverflow.com/questions/41149796/unable-to-install-elasticsearch-on-mac-sierra-10-12-2\">Unable to install Elasticsearch on Mac Sierra (10.12.2)</a></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8897,"page":1095,"page_size":100}
