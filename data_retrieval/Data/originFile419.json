{"items":[{"tags":["java","ms-word","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684745300,"creation_date":1684732161,"answer_id":76303175,"question_id":76289142,"body_markdown":"In a Microsoft Word document in Office Open XML format (`*.docx`), charts are embedded in the documents body. Same as pictures or other shapes too, they either are in anchored drawings or are inline with text. So far, Apache POI only supports charts inline with text. Those are in text runs (`XWPFRun`). So they are placed where the text run is placed in the document.\r\n\r\nUsing current Apache POI version `5.2.3` \r\nthere are three `XWPFDocument.createChart` methods to create `XWPFChart`. See [XWPFDocument](https://poi.apache.org/apidocs/5.0/org/apache/poi/xwpf/usermodel/XWPFDocument.html). \r\n\r\nThe first one, without parameters, creates a chart in a new text run in a new paragraph, having default size. The second one has parameters `width` and `height` and creates a chart in a new text run in a new paragraph, having the size given. The third one has parameters `run`, `width` and `height` and creates a chart in the text run given, having the size given. So using the third one, one has full control where the chart shall be placed in the text.\r\n\r\nFollowing complete example creates two charts in one paragraph in different text runs in that paragraph. So, as long not automated line breaks occur, the charts will be placed side by side.\r\n\r\n\r\n\r\n    import java.io.FileOutputStream;\r\n    import org.apache.poi.util.Units;\r\n    import org.apache.poi.xddf.usermodel.*;\r\n    import org.apache.poi.xddf.usermodel.chart.*;\r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    \r\n    public class CreateWordCharts {\r\n        \r\n     private static void createBarChart(XWPFRun run, String[] categories, Double[] values, PresetColor color, \r\n      BarDirection direction, String chartTitleText, String seriesTitle, \r\n      int width, int height) throws Exception {\r\n          \r\n      // Create the chart\r\n      XWPFDocument\tdocument = run.getParent().getDocument();\r\n      XWPFChart chart = document.createChart(run, width * Units.EMU_PER_CENTIMETER, height * Units.EMU_PER_CENTIMETER);\r\n      \r\n      // Create chart data sources\r\n      XDDFDataSource&lt;String&gt; categoryDataSource = XDDFDataSourcesFactory.fromArray(categories);\r\n      XDDFNumericalDataSource&lt;Double&gt; valueDataSource = XDDFDataSourcesFactory.fromArray(values);\r\n             \r\n      // Create the category axis\r\n      XDDFCategoryAxis categoryAxis = chart.createCategoryAxis(AxisPosition.BOTTOM);\r\n      \r\n      // Create the value axis\r\n      XDDFValueAxis valueAxis = chart.createValueAxis(AxisPosition.LEFT);\r\n      \r\n      // Set how the axis cross - for example at zero point of value axis\r\n      valueAxis.setCrosses(AxisCrosses.AUTO_ZERO);\r\n      \r\n      // Set AxisCrossBetween, so the value axis crosses the category axis between the categories.\r\n      // Else first and last category is exactly on cross points and the bars are only half visible.\r\n      valueAxis.setCrossBetween(AxisCrossBetween.BETWEEN);\r\n    \r\n      // Create chart data\r\n      XDDFChartData data = chart.createData(ChartTypes.BAR, categoryAxis, valueAxis);\r\n      \r\n      // Set bar direction\r\n      ((XDDFBarChartData)data).setBarDirection(direction);   \r\n      \r\n      // Set chart title - optinal\r\n      if (chartTitleText != null &amp;&amp; !chartTitleText.isBlank())\r\n       chart.setTitleText(chartTitleText);\r\n      \r\n      // Add series\r\n      XDDFChartData.Series series = data.addSeries(categoryDataSource, valueDataSource);\r\n      \r\n      // Set series title - not optional \r\n      if (seriesTitle == null || seriesTitle.isBlank()) seriesTitle = &quot;Series1&quot;;\r\n      series.setTitle(seriesTitle, null);\r\n    \r\n      // Set series fill color - necessary for LibreOffice as this will not use default colors\r\n      solidFillSeries(series, color);\r\n    \r\n      // Plot the chart\r\n      chart.plot(data);\r\n         \r\n     }\r\n    \r\n     private static void createPieChart(XWPFRun run, String[] categories, Double[] values, byte[][] colors, \r\n      String chartTitleText, String seriesTitle, \r\n      int width, int height) throws Exception {\r\n          \r\n      // Create the chart\r\n      XWPFDocument\tdocument = run.getParent().getDocument();\r\n      XWPFChart chart = document.createChart(run, width * Units.EMU_PER_CENTIMETER, height * Units.EMU_PER_CENTIMETER);\r\n      \r\n      // Create chart data sources\r\n      XDDFDataSource&lt;String&gt; categoryDataSource = XDDFDataSourcesFactory.fromArray(categories);\r\n      XDDFNumericalDataSource&lt;Double&gt; valueDataSource = XDDFDataSourcesFactory.fromArray(values);\r\n             \r\n      // Create chart data\r\n      XDDFChartData data = chart.createData(ChartTypes.PIE, null, null);\r\n      \r\n      // Set chart title - optinal\r\n      if (chartTitleText != null &amp;&amp; !chartTitleText.isBlank())\r\n       chart.setTitleText(chartTitleText);\r\n      \r\n      // Add series\r\n      XDDFChartData.Series series = data.addSeries(categoryDataSource, valueDataSource);\r\n      \r\n      // Set series title - not optional \r\n      if (seriesTitle == null || seriesTitle.isBlank()) seriesTitle = &quot;Series1&quot;;\r\n      series.setTitle(seriesTitle, null);\r\n      \r\n      // data point colors; is necessary for showing data points in LibreOffice\r\n      int pointCount = series.getCategoryData().getPointCount();\r\n      for (int p = 0; p &lt; pointCount; p++) {\r\n       chart.getCTChart().getPlotArea().getPieChartArray(0).getSerArray(0).addNewDPt().addNewIdx().setVal(p);\r\n       chart.getCTChart().getPlotArea().getPieChartArray(0).getSerArray(0).getDPtArray(p)\r\n        .addNewSpPr().addNewSolidFill().addNewSrgbClr().setVal(colors[p]);\r\n      }\r\n    \r\n      // Plot the chart\r\n      chart.plot(data);\r\n         \r\n     }\r\n    \r\n     private static void solidFillSeries(XDDFChartData.Series series, PresetColor color) {\r\n      XDDFSolidFillProperties fill = new XDDFSolidFillProperties(XDDFColor.from(color));\r\n      XDDFShapeProperties properties = series.getShapeProperties();\r\n      if (properties == null) {\r\n       properties = new XDDFShapeProperties();\r\n      }\r\n      properties.setFillProperties(fill);\r\n      series.setShapeProperties(properties);\r\n     }\r\n        \r\n     public static void main(String[] args) throws Exception {\r\n      XWPFDocument document = new XWPFDocument();\r\n    \r\n      // Create some normal XWPF content \r\n      XWPFParagraph paragraph = document.createParagraph();\r\n      XWPFRun run = paragraph.createRun();\r\n      run.setText(&quot;Chart Examples&quot;);\r\n    \r\n      // Create paragraph for the charts\r\n      paragraph = document.createParagraph();\r\n      // Create run for text\r\n      run = paragraph.createRun();\r\n      run.setText(&quot;Chart1: &quot;);\r\n    \r\n      // Create a run to place the first chart\r\n      run = paragraph.createRun();\r\n      String[] categories = new String[]{&quot;Cat1&quot;, &quot;Cat2&quot;, &quot;Cat3&quot;, &quot;Cat4&quot;, &quot;Cat5&quot;};\r\n      Double[] values = new Double[]{3d, 5d, 2d, 4d, 1d};\r\n      createBarChart(run, categories, values, PresetColor.BLUE, BarDirection.COL, &quot;Bar Chart&quot;, &quot;Series1&quot;, 5, 5);\r\n      \r\n      // Create run for text\r\n      run = paragraph.createRun();\r\n      run.setText(&quot; Chart2: &quot;);\r\n      \r\n      // Create a run to place the second chart\r\n      run = paragraph.createRun();\r\n      categories = new String[]{&quot;Cat1&quot;, &quot;Cat2&quot;, &quot;Cat3&quot;, &quot;Cat4&quot;};\r\n      values = new Double[]{1d, 4d, 3d, 2d};\r\n      byte[][] colors = new byte[][]{\r\n       new byte[]{(byte)255,0,0}, \r\n       new byte[]{0, (byte)255,0}, \r\n       new byte[]{0,0,(byte)255}, \r\n       new byte[]{(byte)255, (byte)255, 0}, \r\n      };\r\n      createPieChart(run, categories, values, colors, &quot;Pie Chart&quot;, null, 5, 5);\r\n    \r\n      // Create paragraph below the charts\r\n      paragraph = document.createParagraph();\r\n        \r\n      // Save the document\r\n      FileOutputStream out = new FileOutputStream(&quot;./WorddocumentWithCharts.docx&quot;);\r\n      document.write(out);\r\n      out.close();\r\n      document.close();\r\n     }\r\n     \r\n    }\r\n\r\nResult:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4HMSN.png","title":"Apache POI - Set two Charts side by side on word document","body":"<p>In a Microsoft Word document in Office Open XML format (<code>*.docx</code>), charts are embedded in the documents body. Same as pictures or other shapes too, they either are in anchored drawings or are inline with text. So far, Apache POI only supports charts inline with text. Those are in text runs (<code>XWPFRun</code>). So they are placed where the text run is placed in the document.</p>\n<p>Using current Apache POI version <code>5.2.3</code>\nthere are three <code>XWPFDocument.createChart</code> methods to create <code>XWPFChart</code>. See <a href=\"https://poi.apache.org/apidocs/5.0/org/apache/poi/xwpf/usermodel/XWPFDocument.html\" rel=\"nofollow noreferrer\">XWPFDocument</a>.</p>\n<p>The first one, without parameters, creates a chart in a new text run in a new paragraph, having default size. The second one has parameters <code>width</code> and <code>height</code> and creates a chart in a new text run in a new paragraph, having the size given. The third one has parameters <code>run</code>, <code>width</code> and <code>height</code> and creates a chart in the text run given, having the size given. So using the third one, one has full control where the chart shall be placed in the text.</p>\n<p>Following complete example creates two charts in one paragraph in different text runs in that paragraph. So, as long not automated line breaks occur, the charts will be placed side by side.</p>\n<pre><code>import java.io.FileOutputStream;\nimport org.apache.poi.util.Units;\nimport org.apache.poi.xddf.usermodel.*;\nimport org.apache.poi.xddf.usermodel.chart.*;\nimport org.apache.poi.xwpf.usermodel.*;\n\npublic class CreateWordCharts {\n    \n private static void createBarChart(XWPFRun run, String[] categories, Double[] values, PresetColor color, \n  BarDirection direction, String chartTitleText, String seriesTitle, \n  int width, int height) throws Exception {\n      \n  // Create the chart\n  XWPFDocument  document = run.getParent().getDocument();\n  XWPFChart chart = document.createChart(run, width * Units.EMU_PER_CENTIMETER, height * Units.EMU_PER_CENTIMETER);\n  \n  // Create chart data sources\n  XDDFDataSource&lt;String&gt; categoryDataSource = XDDFDataSourcesFactory.fromArray(categories);\n  XDDFNumericalDataSource&lt;Double&gt; valueDataSource = XDDFDataSourcesFactory.fromArray(values);\n         \n  // Create the category axis\n  XDDFCategoryAxis categoryAxis = chart.createCategoryAxis(AxisPosition.BOTTOM);\n  \n  // Create the value axis\n  XDDFValueAxis valueAxis = chart.createValueAxis(AxisPosition.LEFT);\n  \n  // Set how the axis cross - for example at zero point of value axis\n  valueAxis.setCrosses(AxisCrosses.AUTO_ZERO);\n  \n  // Set AxisCrossBetween, so the value axis crosses the category axis between the categories.\n  // Else first and last category is exactly on cross points and the bars are only half visible.\n  valueAxis.setCrossBetween(AxisCrossBetween.BETWEEN);\n\n  // Create chart data\n  XDDFChartData data = chart.createData(ChartTypes.BAR, categoryAxis, valueAxis);\n  \n  // Set bar direction\n  ((XDDFBarChartData)data).setBarDirection(direction);   \n  \n  // Set chart title - optinal\n  if (chartTitleText != null &amp;&amp; !chartTitleText.isBlank())\n   chart.setTitleText(chartTitleText);\n  \n  // Add series\n  XDDFChartData.Series series = data.addSeries(categoryDataSource, valueDataSource);\n  \n  // Set series title - not optional \n  if (seriesTitle == null || seriesTitle.isBlank()) seriesTitle = &quot;Series1&quot;;\n  series.setTitle(seriesTitle, null);\n\n  // Set series fill color - necessary for LibreOffice as this will not use default colors\n  solidFillSeries(series, color);\n\n  // Plot the chart\n  chart.plot(data);\n     \n }\n\n private static void createPieChart(XWPFRun run, String[] categories, Double[] values, byte[][] colors, \n  String chartTitleText, String seriesTitle, \n  int width, int height) throws Exception {\n      \n  // Create the chart\n  XWPFDocument  document = run.getParent().getDocument();\n  XWPFChart chart = document.createChart(run, width * Units.EMU_PER_CENTIMETER, height * Units.EMU_PER_CENTIMETER);\n  \n  // Create chart data sources\n  XDDFDataSource&lt;String&gt; categoryDataSource = XDDFDataSourcesFactory.fromArray(categories);\n  XDDFNumericalDataSource&lt;Double&gt; valueDataSource = XDDFDataSourcesFactory.fromArray(values);\n         \n  // Create chart data\n  XDDFChartData data = chart.createData(ChartTypes.PIE, null, null);\n  \n  // Set chart title - optinal\n  if (chartTitleText != null &amp;&amp; !chartTitleText.isBlank())\n   chart.setTitleText(chartTitleText);\n  \n  // Add series\n  XDDFChartData.Series series = data.addSeries(categoryDataSource, valueDataSource);\n  \n  // Set series title - not optional \n  if (seriesTitle == null || seriesTitle.isBlank()) seriesTitle = &quot;Series1&quot;;\n  series.setTitle(seriesTitle, null);\n  \n  // data point colors; is necessary for showing data points in LibreOffice\n  int pointCount = series.getCategoryData().getPointCount();\n  for (int p = 0; p &lt; pointCount; p++) {\n   chart.getCTChart().getPlotArea().getPieChartArray(0).getSerArray(0).addNewDPt().addNewIdx().setVal(p);\n   chart.getCTChart().getPlotArea().getPieChartArray(0).getSerArray(0).getDPtArray(p)\n    .addNewSpPr().addNewSolidFill().addNewSrgbClr().setVal(colors[p]);\n  }\n\n  // Plot the chart\n  chart.plot(data);\n     \n }\n\n private static void solidFillSeries(XDDFChartData.Series series, PresetColor color) {\n  XDDFSolidFillProperties fill = new XDDFSolidFillProperties(XDDFColor.from(color));\n  XDDFShapeProperties properties = series.getShapeProperties();\n  if (properties == null) {\n   properties = new XDDFShapeProperties();\n  }\n  properties.setFillProperties(fill);\n  series.setShapeProperties(properties);\n }\n    \n public static void main(String[] args) throws Exception {\n  XWPFDocument document = new XWPFDocument();\n\n  // Create some normal XWPF content \n  XWPFParagraph paragraph = document.createParagraph();\n  XWPFRun run = paragraph.createRun();\n  run.setText(&quot;Chart Examples&quot;);\n\n  // Create paragraph for the charts\n  paragraph = document.createParagraph();\n  // Create run for text\n  run = paragraph.createRun();\n  run.setText(&quot;Chart1: &quot;);\n\n  // Create a run to place the first chart\n  run = paragraph.createRun();\n  String[] categories = new String[]{&quot;Cat1&quot;, &quot;Cat2&quot;, &quot;Cat3&quot;, &quot;Cat4&quot;, &quot;Cat5&quot;};\n  Double[] values = new Double[]{3d, 5d, 2d, 4d, 1d};\n  createBarChart(run, categories, values, PresetColor.BLUE, BarDirection.COL, &quot;Bar Chart&quot;, &quot;Series1&quot;, 5, 5);\n  \n  // Create run for text\n  run = paragraph.createRun();\n  run.setText(&quot; Chart2: &quot;);\n  \n  // Create a run to place the second chart\n  run = paragraph.createRun();\n  categories = new String[]{&quot;Cat1&quot;, &quot;Cat2&quot;, &quot;Cat3&quot;, &quot;Cat4&quot;};\n  values = new Double[]{1d, 4d, 3d, 2d};\n  byte[][] colors = new byte[][]{\n   new byte[]{(byte)255,0,0}, \n   new byte[]{0, (byte)255,0}, \n   new byte[]{0,0,(byte)255}, \n   new byte[]{(byte)255, (byte)255, 0}, \n  };\n  createPieChart(run, categories, values, colors, &quot;Pie Chart&quot;, null, 5, 5);\n\n  // Create paragraph below the charts\n  paragraph = document.createParagraph();\n    \n  // Save the document\n  FileOutputStream out = new FileOutputStream(&quot;./WorddocumentWithCharts.docx&quot;);\n  document.write(out);\n  out.close();\n  document.close();\n }\n \n}\n</code></pre>\n<p>Result:</p>\n<p><a href=\"https://i.stack.imgur.com/4HMSN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4HMSN.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":11317917,"reputation":51,"user_id":8299076,"display_name":"Bharath Naidu Yenumula"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76303175,"answer_count":1,"score":0,"last_activity_date":1684745300,"creation_date":1684499856,"question_id":76289142,"body_markdown":"Is there any way to set two charts side by side on the word document using Apache poi? I have created two charts which are coming one after another onto the word document.\r\n\r\n```\r\nimport java.io.FileOutputStream;\r\nimport org.apache.poi.util.Units;\r\nimport org.apache.poi.xddf.usermodel.chart.*;\r\nimport org.apache.poi.xwpf.usermodel.*;\r\n\r\n\r\npublic class daf {\r\n    public static void main(String[] args) throws Exception {\r\n        // Create a new Word document\r\n        XWPFDocument doc = new XWPFDocument();\r\n\r\n        \r\n\r\n        // Create a severitychart\r\n        XWPFChart severityChart = doc.createChart(10 * Units.EMU_PER_CENTIMETER, 5 * Units.EMU_PER_CENTIMETER);\r\n\r\n        // Create chart data source\r\n        String[] categories = new String[]{&quot;Critical&quot;, &quot;High&quot;, &quot;Medium&quot;,&quot;Low&quot;,&quot;Best Practice&quot;};\r\n        Double[] values = new Double[]{(double) 1,(double) 2,(double) 3,(double) 4,(double) 5};\r\n        XDDFDataSource&lt;String&gt; categoryDataSource = XDDFDataSourcesFactory.fromArray(categories);\r\n        XDDFNumericalDataSource&lt;Double&gt; valueDataSource = XDDFDataSourcesFactory.fromArray(values);\r\n\r\n        // Create chart data\r\n        XDDFPieChartData data = (XDDFPieChartData) severityChart.createData(ChartTypes.PIE, null, null);\r\n        \r\n        severityChart.setTitleText(&quot;# of Vulnerabilites by Severity&quot;);\r\n        severityChart.setTitleOverlay(false);\r\n                \r\n        XDDFChartData.Series series = data.addSeries(categoryDataSource, valueDataSource);\r\n      \r\n\r\n        // Plot the chart\r\n        severityChart.plot(data);\r\n        severityChart.getCTChart().getPlotArea().getPieChartArray(0).getSerArray(0).addNewDLbls().addNewShowPercent().setVal(false);;\r\n        severityChart.getCTChart().getPlotArea().getPieChartArray(0).getSerArray(0).getDLbls().addNewShowSerName().setVal(false);\r\n        severityChart.getCTChart().getPlotArea().getPieChartArray(0).getSerArray(0).getDLbls().setSeparator(&quot; - &quot;);\r\n        \r\n        \r\n\t     // Create a categorychart\r\n\t        XWPFChart categoryChart = doc.createChart(10 * Units.EMU_PER_CENTIMETER, 5 * Units.EMU_PER_CENTIMETER);\r\n\r\n\t        // Create chart data source\r\n\t        String[] categories1 = new String[]{&quot;Critical&quot;, &quot;High&quot;, &quot;Medium&quot;,&quot;Low&quot;,&quot;Best Practice&quot;};\r\n\t        Double[] values1 = new Double[]{(double) 1,(double) 2,(double) 3,(double) 4,(double) 5};\r\n\t        XDDFDataSource&lt;String&gt; categoryDataSource1 = XDDFDataSourcesFactory.fromArray(categories1);\r\n\t        XDDFNumericalDataSource&lt;Double&gt; valueDataSource1 = XDDFDataSourcesFactory.fromArray(values1);\r\n\t             \t\r\n\t     // Create the category axis\r\n\t     XDDFCategoryAxis categoryAxis = categoryChart.createCategoryAxis(AxisPosition.BOTTOM);\r\n\t     XDDFValueAxis valueAxis = categoryChart.createValueAxis(AxisPosition.LEFT);\r\n\t     \r\n\t     XDDFChartData data1 = categoryChart.createData(ChartTypes.BAR,  categoryAxis, valueAxis);\r\n\t     \r\n\t       \r\n\t        XDDFChartData.Series series1 = data1.addSeries(categoryDataSource1, valueDataSource1);\r\n\t        series1.setTitle(null); //Title should be mandatory.\r\n\t        // Plot the chart\r\n\t        categoryChart.plot(data1);\r\n\t        \r\n        // Save the document\r\n        FileOutputStream out = new FileOutputStream(&quot;chart_document.docx&quot;);\r\n        doc.write(out);\r\n        out.close();\r\n        doc.close();\r\n\r\n        System.out.println(&quot;chart created successfully!&quot;);\r\n    }\r\n}\r\n```\r\nThis code creates a pie chart and bar chart one after another. Can we modify the above code so that we can make the charts side by side?","title":"Apache POI - Set two Charts side by side on word document","body":"<p>Is there any way to set two charts side by side on the word document using Apache poi? I have created two charts which are coming one after another onto the word document.</p>\n<pre><code>import java.io.FileOutputStream;\nimport org.apache.poi.util.Units;\nimport org.apache.poi.xddf.usermodel.chart.*;\nimport org.apache.poi.xwpf.usermodel.*;\n\n\npublic class daf {\n    public static void main(String[] args) throws Exception {\n        // Create a new Word document\n        XWPFDocument doc = new XWPFDocument();\n\n        \n\n        // Create a severitychart\n        XWPFChart severityChart = doc.createChart(10 * Units.EMU_PER_CENTIMETER, 5 * Units.EMU_PER_CENTIMETER);\n\n        // Create chart data source\n        String[] categories = new String[]{&quot;Critical&quot;, &quot;High&quot;, &quot;Medium&quot;,&quot;Low&quot;,&quot;Best Practice&quot;};\n        Double[] values = new Double[]{(double) 1,(double) 2,(double) 3,(double) 4,(double) 5};\n        XDDFDataSource&lt;String&gt; categoryDataSource = XDDFDataSourcesFactory.fromArray(categories);\n        XDDFNumericalDataSource&lt;Double&gt; valueDataSource = XDDFDataSourcesFactory.fromArray(values);\n\n        // Create chart data\n        XDDFPieChartData data = (XDDFPieChartData) severityChart.createData(ChartTypes.PIE, null, null);\n        \n        severityChart.setTitleText(&quot;# of Vulnerabilites by Severity&quot;);\n        severityChart.setTitleOverlay(false);\n                \n        XDDFChartData.Series series = data.addSeries(categoryDataSource, valueDataSource);\n      \n\n        // Plot the chart\n        severityChart.plot(data);\n        severityChart.getCTChart().getPlotArea().getPieChartArray(0).getSerArray(0).addNewDLbls().addNewShowPercent().setVal(false);;\n        severityChart.getCTChart().getPlotArea().getPieChartArray(0).getSerArray(0).getDLbls().addNewShowSerName().setVal(false);\n        severityChart.getCTChart().getPlotArea().getPieChartArray(0).getSerArray(0).getDLbls().setSeparator(&quot; - &quot;);\n        \n        \n         // Create a categorychart\n            XWPFChart categoryChart = doc.createChart(10 * Units.EMU_PER_CENTIMETER, 5 * Units.EMU_PER_CENTIMETER);\n\n            // Create chart data source\n            String[] categories1 = new String[]{&quot;Critical&quot;, &quot;High&quot;, &quot;Medium&quot;,&quot;Low&quot;,&quot;Best Practice&quot;};\n            Double[] values1 = new Double[]{(double) 1,(double) 2,(double) 3,(double) 4,(double) 5};\n            XDDFDataSource&lt;String&gt; categoryDataSource1 = XDDFDataSourcesFactory.fromArray(categories1);\n            XDDFNumericalDataSource&lt;Double&gt; valueDataSource1 = XDDFDataSourcesFactory.fromArray(values1);\n                    \n         // Create the category axis\n         XDDFCategoryAxis categoryAxis = categoryChart.createCategoryAxis(AxisPosition.BOTTOM);\n         XDDFValueAxis valueAxis = categoryChart.createValueAxis(AxisPosition.LEFT);\n         \n         XDDFChartData data1 = categoryChart.createData(ChartTypes.BAR,  categoryAxis, valueAxis);\n         \n           \n            XDDFChartData.Series series1 = data1.addSeries(categoryDataSource1, valueDataSource1);\n            series1.setTitle(null); //Title should be mandatory.\n            // Plot the chart\n            categoryChart.plot(data1);\n            \n        // Save the document\n        FileOutputStream out = new FileOutputStream(&quot;chart_document.docx&quot;);\n        doc.write(out);\n        out.close();\n        doc.close();\n\n        System.out.println(&quot;chart created successfully!&quot;);\n    }\n}\n</code></pre>\n<p>This code creates a pie chart and bar chart one after another. Can we modify the above code so that we can make the charts side by side?</p>\n"},{"tags":["java","jakarta-ee","servlets","logging","tomcat7"],"answers":[{"tags":[],"owner":{"account_id":6132115,"reputation":202,"user_id":4781985,"display_name":"Maks"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684745201,"creation_date":1435287960,"answer_id":31064219,"question_id":31063812,"body_markdown":"https://tomcat.apache.org/tomcat-7.0-doc/logging.html\r\n\r\n&gt; The calls to `javax.servlet.ServletContext.log(...)` to write log messages are handled by internal Tomcat logging. Such messages are logged to the category named\r\n&gt; \r\n&gt; `org.apache.catalina.core.ContainerBase.[${engine}].[${host}].[${context}]`\r\n&gt;\r\n&gt;This logging is performed according to the Tomcat logging configuration. You cannot overwrite it in a web application.\r\n\r\n[Where the logs live](https://tomcat.apache.org/tomcat-7.0-doc/logging.html#Console):\r\n\r\n&gt; When running Tomcat on unixes, the console output is usually redirected to the file named `catalina.out`. The name is configurable using an environment variable.  \r\n&gt; ...  \r\n&gt; When running as a service on Windows, the console output is also caught and redirected, but the file names are different.","title":"Where does the ServletContext.log messages go in tomcat 7?","body":"<p><a href=\"https://tomcat.apache.org/tomcat-7.0-doc/logging.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-7.0-doc/logging.html</a></p>\n<blockquote>\n<p>The calls to <code>javax.servlet.ServletContext.log(...)</code> to write log messages are handled by internal Tomcat logging. Such messages are logged to the category named</p>\n<p><code>org.apache.catalina.core.ContainerBase.[${engine}].[${host}].[${context}]</code></p>\n<p>This logging is performed according to the Tomcat logging configuration. You cannot overwrite it in a web application.</p>\n</blockquote>\n<p><a href=\"https://tomcat.apache.org/tomcat-7.0-doc/logging.html#Console\" rel=\"nofollow noreferrer\">Where the logs live</a>:</p>\n<blockquote>\n<p>When running Tomcat on unixes, the console output is usually redirected to the file named <code>catalina.out</code>. The name is configurable using an environment variable.<br />\n...<br />\nWhen running as a service on Windows, the console output is also caught and redirected, but the file names are different.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1570938,"reputation":1142,"user_id":1458639,"accept_rate":69,"display_name":"Peter Clause"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1463643486,"creation_date":1463643486,"answer_id":37316813,"question_id":31063812,"body_markdown":"They will be logged to the file localhost.${today}.log.\r\n\r\nAs Maks said, ServletContext#log will logged with the category `org.apache.catalina.core.ContainerBase.` and when you look at Tomcat&#39;s logging configuration in `conf/logging.properties`, you&#39;ll see that these messages go to files with the prefix `localhost.`","title":"Where does the ServletContext.log messages go in tomcat 7?","body":"<p>They will be logged to the file localhost.${today}.log.</p>\n\n<p>As Maks said, ServletContext#log will logged with the category <code>org.apache.catalina.core.ContainerBase.</code> and when you look at Tomcat's logging configuration in <code>conf/logging.properties</code>, you'll see that these messages go to files with the prefix <code>localhost.</code></p>\n"}],"owner":{"account_id":4183173,"reputation":1162,"user_id":3427540,"accept_rate":45,"display_name":"user3427540"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6103,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"closed_date":1538254306,"answer_count":2,"score":3,"last_activity_date":1684745201,"creation_date":1435284923,"question_id":31063812,"body_markdown":"I am using Java 7, tomcat 7. While learning about servlet logging I wrote a simple program.\r\n\r\n    package net.codejava;\r\n\r\n    import java.io.IOException;\r\n    import java.io.PrintWriter;\r\n\r\n    import javax.servlet.Servlet;\r\n    import javax.servlet.ServletContext;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.annotation.WebServlet;\r\n    import javax.servlet.http.HttpServlet;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n\r\n    /**\r\n     * Servlet implementation class LogCheck\r\n     */\r\n    @WebServlet(&quot;/LogCheck&quot;)\r\n    public class LogCheck extends HttpServlet {\r\n\tprivate static final long serialVersionUID = 1L;\r\n       \r\n    /**\r\n     * @see HttpServlet#HttpServlet()\r\n     */\r\n    public LogCheck() {\r\n        super();\r\n        // TODO Auto-generated constructor stub\r\n    }\r\n\r\n\t/**\r\n\t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\r\n\t */\r\n\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t\tServletContext context = getServletContext();\r\n\t\tString par = request.getParameter(&quot;msg&quot;);\r\n\t\t\r\n\t\tif (par == null || par.equals(&quot;&quot;)){\r\n\t\t\tcontext.log(&quot;No Message received&quot;,new IllegalStateException(&quot;Missing Parameter&quot;));\r\n\t\t}else{\r\n\t\t\tcontext.log(&quot;Here is visitor&#39;s message:&quot;+par);\r\n\t\t}\r\n\t\t\r\n\t\tPrintWriter out = response.getWriter();\r\n\t\tout.println(&quot;Log Testing.&quot;);\r\n\t\t\r\n\t}\r\n\r\n    }\r\n\r\n\r\n\r\nNow I am able to see the log messages in my Eclipse console. But I do not see any files under Tomcat Home/logs folder ?\r\nBut I read that it should store the log messages in some log files. I do not see any log file in my case.\r\n\r\nAm I missing some configuraions? Please help","title":"Where does the ServletContext.log messages go in tomcat 7?","body":"<p>I am using Java 7, tomcat 7. While learning about servlet logging I wrote a simple program.</p>\n\n<pre><code>package net.codejava;\n\nimport java.io.IOException;\nimport java.io.PrintWriter;\n\nimport javax.servlet.Servlet;\nimport javax.servlet.ServletContext;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\n/**\n * Servlet implementation class LogCheck\n */\n@WebServlet(\"/LogCheck\")\npublic class LogCheck extends HttpServlet {\nprivate static final long serialVersionUID = 1L;\n\n/**\n * @see HttpServlet#HttpServlet()\n */\npublic LogCheck() {\n    super();\n    // TODO Auto-generated constructor stub\n}\n\n/**\n * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n */\nprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    // TODO Auto-generated method stub\n\n    ServletContext context = getServletContext();\n    String par = request.getParameter(\"msg\");\n\n    if (par == null || par.equals(\"\")){\n        context.log(\"No Message received\",new IllegalStateException(\"Missing Parameter\"));\n    }else{\n        context.log(\"Here is visitor's message:\"+par);\n    }\n\n    PrintWriter out = response.getWriter();\n    out.println(\"Log Testing.\");\n\n}\n\n}\n</code></pre>\n\n<p>Now I am able to see the log messages in my Eclipse console. But I do not see any files under Tomcat Home/logs folder ?\nBut I read that it should store the log messages in some log files. I do not see any log file in my case.</p>\n\n<p>Am I missing some configuraions? Please help</p>\n"},{"tags":["java","timeout","multithreading","timer"],"comments":[{"owner":{"account_id":99559,"reputation":17675,"user_id":268850,"accept_rate":68,"display_name":"java_geek"},"score":0,"creation_date":1266893650,"post_id":2275443,"comment_id":2283802,"body_markdown":"EDIT: Adding a bounty as i needed more clear answer.\n\nthe ExecutorService code given below does not address my problem. Why should i sleep() after executing my code? If the code is completed and the sleep() is interrupted, how can that be a timeOut?","body":"EDIT: Adding a bounty as i needed more clear answer.  the ExecutorService code given below does not address my problem. Why should i sleep() after executing my code? If the code is completed and the sleep() is interrupted, how can that be a timeOut?"},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":7,"creation_date":1266943987,"post_id":2275443,"comment_id":2288342,"body_markdown":"That `sleep()` was just a stub to represent &quot;long time running task&quot;. Just replace it with your real task ;)","body":"That <code>sleep()</code> was just a stub to represent &quot;long time running task&quot;. Just replace it with your real task ;)"},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":1,"creation_date":1266945327,"post_id":2275443,"comment_id":2288504,"body_markdown":"... a &quot;long time running task&quot; that happens to respond to `interrupt()` calls on its thread... not all &quot;blocking&quot; calls do, as I tried to point out in my answer. The specifics of the task you are trying to abort make a huge difference in the approach that ought to be used. More information about the task would be helpful.","body":"... a &quot;long time running task&quot; that happens to respond to <code>interrupt()</code> calls on its thread... not all &quot;blocking&quot; calls do, as I tried to point out in my answer. The specifics of the task you are trying to abort make a huge difference in the approach that ought to be used. More information about the task would be helpful."},{"owner":{"account_id":63705,"reputation":1576,"user_id":188449,"accept_rate":100,"display_name":"Elister"},"score":0,"creation_date":1267037794,"post_id":2275443,"comment_id":2298460,"body_markdown":"If these answers are not solving the problem, then I guess more details/code should help to answer.","body":"If these answers are not solving the problem, then I guess more details/code should help to answer."},{"owner":{"account_id":97538,"reputation":3909,"user_id":264540,"accept_rate":88,"display_name":"Scott Smith"},"score":0,"creation_date":1267496898,"post_id":2275443,"comment_id":2335431,"body_markdown":"These threads that you want to time-limit; are they making blocking calls, or are they in some loop where you could easily check some variable to see if it&#39;s time to quit?","body":"These threads that you want to time-limit; are they making blocking calls, or are they in some loop where you could easily check some variable to see if it&#39;s time to quit?"},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1338389307,"post_id":2275443,"comment_id":14081303,"body_markdown":"@java_geek: is the answer now more clear?","body":"@java_geek: is the answer now more clear?"}],"answers":[{"tags":[],"owner":{"account_id":46925,"reputation":8408,"user_id":138837,"accept_rate":60,"display_name":"Drew Wills"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1266346858,"creation_date":1266346858,"answer_id":2275522,"question_id":2275443,"body_markdown":"Consider using an instance of [ExecutorService][1].  Both `invokeAll()` and `invokeAny()` methods are available with a `timeout` parameter.  \r\n\r\nThe current thread will block until the method completes (not sure if this is desirable) either because the task(s) completed normally or the timeout was reached.  You can inspect the returned `Future`(s) to determine what happened.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/concurrent/ExecutorService.html","title":"How to timeout a thread","body":"<p>Consider using an instance of <a href=\"http://java.sun.com/javase/6/docs/api/java/util/concurrent/ExecutorService.html\" rel=\"noreferrer\">ExecutorService</a>.  Both <code>invokeAll()</code> and <code>invokeAny()</code> methods are available with a <code>timeout</code> parameter.  </p>\n\n<p>The current thread will block until the method completes (not sure if this is desirable) either because the task(s) completed normally or the timeout was reached.  You can inspect the returned <code>Future</code>(s) to determine what happened.</p>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":54,"is_accepted":false,"score":54,"last_activity_date":1266347285,"creation_date":1266347285,"answer_id":2275565,"question_id":2275443,"body_markdown":"There isn&#39;t a 100% reliable way to do this for any old task. The task has to be written with this ability in mind.\r\n\r\nCore Java libraries like `ExecutorService` cancel asynchronous tasks with [`interrupt()`][1] calls on the worker thread. So, for example, if the task contains some sort of loop, you should be checking its [interrupt status][2] on each iteration. If the task is doing I/O operations, they should be interruptible too&amp;mdash;and setting that up can be tricky. In any case, keep in mind that code has to actively check for interrupts; setting an interrupt doesn&#39;t necessarily do anything.\r\n\r\nOf course, if your task is some simple loop, you can just check the current time at each iteration and give up when a specified timeout has elapsed. A worker thread isn&#39;t needed in that case.\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/Thread.html#interrupt()\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/lang/Thread.html#interrupted()","title":"How to timeout a thread","body":"<p>There isn't a 100% reliable way to do this for any old task. The task has to be written with this ability in mind.</p>\n\n<p>Core Java libraries like <code>ExecutorService</code> cancel asynchronous tasks with <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Thread.html#interrupt()\" rel=\"noreferrer\"><code>interrupt()</code></a> calls on the worker thread. So, for example, if the task contains some sort of loop, you should be checking its <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Thread.html#interrupted()\" rel=\"noreferrer\">interrupt status</a> on each iteration. If the task is doing I/O operations, they should be interruptible too&mdash;and setting that up can be tricky. In any case, keep in mind that code has to actively check for interrupts; setting an interrupt doesn't necessarily do anything.</p>\n\n<p>Of course, if your task is some simple loop, you can just check the current time at each iteration and give up when a specified timeout has elapsed. A worker thread isn't needed in that case.</p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":5,"up_vote_count":406,"is_accepted":true,"score":401,"last_activity_date":1433965341,"creation_date":1266347575,"answer_id":2275596,"question_id":2275443,"body_markdown":"Indeed rather use [`ExecutorService`][1] instead of `Timer`, here&#39;s an [SSCCE][2]:\r\n\r\n    package com.stackoverflow.q2275443;\r\n    \r\n    import java.util.concurrent.Callable;\r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n    import java.util.concurrent.Future;\r\n    import java.util.concurrent.TimeUnit;\r\n    import java.util.concurrent.TimeoutException;\r\n    \r\n    public class Test {\r\n        public static void main(String[] args) throws Exception {\r\n            ExecutorService executor = Executors.newSingleThreadExecutor();\r\n            Future&lt;String&gt; future = executor.submit(new Task());\r\n    \r\n            try {\r\n                System.out.println(&quot;Started..&quot;);\r\n                System.out.println(future.get(3, TimeUnit.SECONDS));\r\n                System.out.println(&quot;Finished!&quot;);\r\n            } catch (TimeoutException e) {\r\n                future.cancel(true);\r\n                System.out.println(&quot;Terminated!&quot;);\r\n            }\r\n    \r\n            executor.shutdownNow();\r\n        }\r\n    }\r\n    \r\n    class Task implements Callable&lt;String&gt; {\r\n        @Override\r\n        public String call() throws Exception {\r\n            Thread.sleep(4000); // Just to demo a long running task of 4 seconds.\r\n            return &quot;Ready!&quot;;\r\n        }\r\n    }\r\n\r\nPlay a bit with the `timeout` argument in [`Future#get()`][3] method, e.g. increase it to 5 and you&#39;ll see that the thread finishes. You can intercept the timeout in the `catch (TimeoutException e)` block.\r\n\r\n**Update:** to clarify a conceptual misunderstanding, the `sleep()` is **not** required. It is just used for SSCCE/demonstration purposes. Just do **your** long running task right there in place of `sleep()`. Inside your long running task, you should be checking if the thread is not [interrupted][4] as follows:\r\n\r\n    while (!Thread.interrupted()) {\r\n        // Do your long running task here.\r\n    }\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/concurrent/ExecutorService.html\r\n  [2]: http://sscce.org\r\n  [3]: http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/Future.html#get%28long,%20java.util.concurrent.TimeUnit%29\r\n  [4]: http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#interrupted()","title":"How to timeout a thread","body":"<p>Indeed rather use <a href=\"http://java.sun.com/javase/6/docs/api/java/util/concurrent/ExecutorService.html\" rel=\"noreferrer\"><code>ExecutorService</code></a> instead of <code>Timer</code>, here's an <a href=\"http://sscce.org\" rel=\"noreferrer\">SSCCE</a>:</p>\n\n<pre><code>package com.stackoverflow.q2275443;\n\nimport java.util.concurrent.Callable;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.Future;\nimport java.util.concurrent.TimeUnit;\nimport java.util.concurrent.TimeoutException;\n\npublic class Test {\n    public static void main(String[] args) throws Exception {\n        ExecutorService executor = Executors.newSingleThreadExecutor();\n        Future&lt;String&gt; future = executor.submit(new Task());\n\n        try {\n            System.out.println(\"Started..\");\n            System.out.println(future.get(3, TimeUnit.SECONDS));\n            System.out.println(\"Finished!\");\n        } catch (TimeoutException e) {\n            future.cancel(true);\n            System.out.println(\"Terminated!\");\n        }\n\n        executor.shutdownNow();\n    }\n}\n\nclass Task implements Callable&lt;String&gt; {\n    @Override\n    public String call() throws Exception {\n        Thread.sleep(4000); // Just to demo a long running task of 4 seconds.\n        return \"Ready!\";\n    }\n}\n</code></pre>\n\n<p>Play a bit with the <code>timeout</code> argument in <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/Future.html#get%28long,%20java.util.concurrent.TimeUnit%29\" rel=\"noreferrer\"><code>Future#get()</code></a> method, e.g. increase it to 5 and you'll see that the thread finishes. You can intercept the timeout in the <code>catch (TimeoutException e)</code> block.</p>\n\n<p><strong>Update:</strong> to clarify a conceptual misunderstanding, the <code>sleep()</code> is <strong>not</strong> required. It is just used for SSCCE/demonstration purposes. Just do <strong>your</strong> long running task right there in place of <code>sleep()</code>. Inside your long running task, you should be checking if the thread is not <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#interrupted()\" rel=\"noreferrer\">interrupted</a> as follows:</p>\n\n<pre><code>while (!Thread.interrupted()) {\n    // Do your long running task here.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":59692,"reputation":35753,"user_id":178526,"accept_rate":85,"display_name":"sfussenegger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1266943498,"creation_date":1266943498,"answer_id":2319967,"question_id":2275443,"body_markdown":"I think the answer mainly depends on the task itself.\r\n\r\n - Is it doing one task over and over again? \r\n - Is it necessary that the timeout interrupts a currently running task immediately after it expires?\r\n\r\nIf the first answer is yes and the second is no, you could keep it as simple as this:\r\n\r\n    public class Main {\r\n    \r\n        private static final class TimeoutTask extends Thread {\r\n            private final long _timeoutMs;\r\n            private Runnable _runnable;\r\n    \r\n            private TimeoutTask(long timeoutMs, Runnable runnable) {\r\n                _timeoutMs = timeoutMs;\r\n                _runnable = runnable;\r\n            }\r\n    \r\n            @Override\r\n            public void run() {\r\n                long start = System.currentTimeMillis();\r\n                while (System.currentTimeMillis() &lt; (start + _timeoutMs)) {\r\n                    _runnable.run();\r\n                }\r\n                System.out.println(&quot;execution took &quot; + (System.currentTimeMillis() - start) +&quot; ms&quot;);\r\n            }\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            new TimeoutTask(2000L, new Runnable() {\r\n                \r\n                @Override\r\n                public void run() {\r\n                    System.out.println(&quot;doing something ...&quot;);\r\n                    try {\r\n                        // pretend it&#39;s taking somewhat longer than it really does\r\n                        Thread.sleep(100);\r\n                    } catch (InterruptedException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n            }).start();\r\n        }\r\n    }\r\n\r\nIf this isn&#39;t an option, please narrow your requirements - or show some code.","title":"How to timeout a thread","body":"<p>I think the answer mainly depends on the task itself.</p>\n\n<ul>\n<li>Is it doing one task over and over again? </li>\n<li>Is it necessary that the timeout interrupts a currently running task immediately after it expires?</li>\n</ul>\n\n<p>If the first answer is yes and the second is no, you could keep it as simple as this:</p>\n\n<pre><code>public class Main {\n\n    private static final class TimeoutTask extends Thread {\n        private final long _timeoutMs;\n        private Runnable _runnable;\n\n        private TimeoutTask(long timeoutMs, Runnable runnable) {\n            _timeoutMs = timeoutMs;\n            _runnable = runnable;\n        }\n\n        @Override\n        public void run() {\n            long start = System.currentTimeMillis();\n            while (System.currentTimeMillis() &lt; (start + _timeoutMs)) {\n                _runnable.run();\n            }\n            System.out.println(\"execution took \" + (System.currentTimeMillis() - start) +\" ms\");\n        }\n\n    }\n\n    public static void main(String[] args) throws Exception {\n        new TimeoutTask(2000L, new Runnable() {\n\n            @Override\n            public void run() {\n                System.out.println(\"doing something ...\");\n                try {\n                    // pretend it's taking somewhat longer than it really does\n                    Thread.sleep(100);\n                } catch (InterruptedException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n        }).start();\n    }\n}\n</code></pre>\n\n<p>If this isn't an option, please narrow your requirements - or show some code.</p>\n"},{"tags":[],"owner":{"account_id":95634,"reputation":1154,"user_id":260329,"display_name":"Dieter"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1267039343,"creation_date":1267036454,"answer_id":2328503,"question_id":2275443,"body_markdown":"I think you should take a look at proper concurrency handling mechanisms (threads running into infinite loops doesn&#39;t sound good per se, btw). Make sure you read a little about the [&quot;killing&quot; or &quot;stopping&quot; Threads][5] topic.\r\n\r\nWhat you are describing,sound very much like a &quot;rendezvous&quot;, so you may want to take a look at the [CyclicBarrier][1].\r\n\r\nThere may be other constructs (like using [CountDownLatch][2] for example) that can resolve your problem (one thread waiting with a timeout for the latch, the other should count down the latch if it has done it&#39;s work, which would release your first thread either after a timeout or when the latch countdown is invoked).\r\n\r\nI usually recommend two books in this area: [Concurrent Programming in Java][3] and [Java Concurrency in Practice][4].\r\n\r\n[1]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/CyclicBarrier.html\r\n[2]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/CountDownLatch.html\r\n[3]: http://www.amazon.com/Concurrent-Programming-Java-TM-Principles/dp/0201310090\r\n[4]: http://www.amazon.com/Java-Concurrency-Practice-Brian-Goetz/dp/0321349601/ref=dp_cp_ob_b_title_1\r\n[5]: http://java.sun.com/j2se/1.5.0/docs/guide/misc/threadPrimitiveDeprecation.html","title":"How to timeout a thread","body":"<p>I think you should take a look at proper concurrency handling mechanisms (threads running into infinite loops doesn't sound good per se, btw). Make sure you read a little about the <a href=\"http://java.sun.com/j2se/1.5.0/docs/guide/misc/threadPrimitiveDeprecation.html\" rel=\"noreferrer\">\"killing\" or \"stopping\" Threads</a> topic.</p>\n\n<p>What you are describing,sound very much like a \"rendezvous\", so you may want to take a look at the <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/CyclicBarrier.html\" rel=\"noreferrer\">CyclicBarrier</a>.</p>\n\n<p>There may be other constructs (like using <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/CountDownLatch.html\" rel=\"noreferrer\">CountDownLatch</a> for example) that can resolve your problem (one thread waiting with a timeout for the latch, the other should count down the latch if it has done it's work, which would release your first thread either after a timeout or when the latch countdown is invoked).</p>\n\n<p>I usually recommend two books in this area: <a href=\"https://rads.stackoverflow.com/amzn/click/com/0201310090\" rel=\"noreferrer\" rel=\"nofollow noreferrer\">Concurrent Programming in Java</a> and <a href=\"https://rads.stackoverflow.com/amzn/click/com/0321349601\" rel=\"noreferrer\" rel=\"nofollow noreferrer\">Java Concurrency in Practice</a>.</p>\n"},{"tags":[],"owner":{"account_id":105355,"reputation":1262,"user_id":281188,"accept_rate":100,"display_name":"elou"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1267517331,"creation_date":1267105437,"answer_id":2334328,"question_id":2275443,"body_markdown":"I post you a piece of code which show a way how to solve the problem.\r\nAs exemple I&#39;m reading a file.\r\nYou could use this method for another operation, but you need to implements the kill() method so that the main operation will be interrupted.\r\n\r\nhope it helps\r\n\r\n&lt;pre&gt;&lt;code&gt;\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\n\r\n/**\r\n * Main class\r\n * \r\n * @author el\r\n * \r\n */\r\npublic class Main {\r\n\t/**\r\n\t * Thread which perform the task which should be timed out.\r\n\t * \r\n\t * @author el\r\n\t * \r\n\t */\r\n\tpublic static class MainThread extends Thread {\r\n\t\t/**\r\n\t\t * For example reading a file. File to read.\r\n\t\t */\r\n\t\tfinal private File fileToRead;\r\n\t\t/**\r\n\t\t * InputStream from the file.\r\n\t\t */\r\n\t\tfinal private InputStream myInputStream;\r\n\t\t/**\r\n\t\t * Thread for timeout.\r\n\t\t */\r\n\t\tfinal private TimeOutThread timeOutThread;\r\n\r\n\t\t/**\r\n\t\t * true if the thread has not ended.\r\n\t\t */\r\n\t\tboolean isRunning = true;\r\n\r\n\t\t/**\r\n\t\t * true if all tasks where done.\r\n\t\t */\r\n\t\tboolean everythingDone = false;\r\n\r\n\t\t/**\r\n\t\t * if every thing could not be done, an {@link Exception} may have\r\n\t\t * Happens.\r\n\t\t */\r\n\t\tThrowable endedWithException = null;\r\n\r\n\t\t/**\r\n\t\t * Constructor.\r\n\t\t * \r\n\t\t * @param file\r\n\t\t * @throws FileNotFoundException\r\n\t\t */\r\n\t\tMainThread(File file) throws FileNotFoundException {\r\n\t\t\tsetDaemon(false);\r\n\t\t\tfileToRead = file;\r\n\t\t\t// open the file stream.\r\n\t\t\tmyInputStream = new FileInputStream(fileToRead);\r\n\t\t\t// Instantiate the timeout thread.\r\n\t\t\ttimeOutThread = new TimeOutThread(10000, this);\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Used by the {@link TimeOutThread}.\r\n\t\t */\r\n\t\tpublic void kill() {\r\n\t\t\tif (isRunning) {\r\n\t\t\t\tisRunning = false;\r\n\t\t\t\tif (myInputStream != null) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\t// close the stream, it may be the problem.\r\n\t\t\t\t\t\tmyInputStream.close();\r\n\t\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\t\t// Not interesting\r\n\t\t\t\t\t\tSystem.out.println(e.toString());\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tsynchronized (this) {\r\n\t\t\t\t\tnotify();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * The task which should be timed out.\r\n\t\t */\r\n\t\t@Override\r\n\t\tpublic void run() {\r\n\t\t\ttimeOutThread.start();\r\n\t\t\tint bytes = 0;\r\n\t\t\ttry {\r\n\t\t\t\t// do something\r\n\t\t\t\twhile (myInputStream.read() &gt;= 0) {\r\n\t\t\t\t\t// may block the thread.\r\n\t\t\t\t\tmyInputStream.read();\r\n\t\t\t\t\tbytes++;\r\n\t\t\t\t\t// simulate a slow stream.\r\n\t\t\t\t\tsynchronized (this) {\r\n\t\t\t\t\t\twait(10);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\teverythingDone = true;\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\tendedWithException = e;\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\tendedWithException = e;\r\n\t\t\t} finally {\r\n\t\t\t\ttimeOutThread.kill();\r\n\t\t\t\tSystem.out.println(&quot;--&gt;read &quot; + bytes + &quot; bytes.&quot;);\r\n\t\t\t\tisRunning = false;\r\n\t\t\t\tsynchronized (this) {\r\n\t\t\t\t\tnotifyAll();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Timeout Thread. Kill the main task if necessary.\r\n\t * \r\n\t * @author el\r\n\t * \r\n\t */\r\n\tpublic static class TimeOutThread extends Thread {\r\n\t\tfinal long timeout;\r\n\t\tfinal MainThread controlledObj;\r\n\r\n\t\tTimeOutThread(long timeout, MainThread controlledObj) {\r\n\t\t\tsetDaemon(true);\r\n\t\t\tthis.timeout = timeout;\r\n\t\t\tthis.controlledObj = controlledObj;\r\n\t\t}\r\n\r\n\t\tboolean isRunning = true;\r\n\r\n\t\t/**\r\n\t\t * If we done need the {@link TimeOutThread} thread, we may kill it.\r\n\t\t */\r\n\t\tpublic void kill() {\r\n\t\t\tisRunning = false;\r\n\t\t\tsynchronized (this) {\r\n\t\t\t\tnotify();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * \r\n\t\t */\r\n\t\t@Override\r\n\t\tpublic void run() {\r\n\t\t\tlong deltaT = 0l;\r\n\t\t\ttry {\r\n\t\t\t\tlong start = System.currentTimeMillis();\r\n\t\t\t\twhile (isRunning &amp;&amp; deltaT &amp;lt; timeout) {\r\n\t\t\t\t\tsynchronized (this) {\r\n\t\t\t\t\t\twait(Math.max(100, timeout - deltaT));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdeltaT = System.currentTimeMillis() - start;\r\n\t\t\t\t}\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t// If the thread is interrupted,\r\n\t\t\t\t// you may not want to kill the main thread,\r\n\t\t\t\t// but probably yes.\r\n\t\t\t} finally {\r\n\t\t\t\tisRunning = false;\r\n\t\t\t}\r\n\t\t\tcontrolledObj.kill();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Start the main task and wait for the end.\r\n\t * \r\n\t * @param args\r\n\t * @throws FileNotFoundException\r\n\t */\r\n\tpublic static void main(String[] args) throws FileNotFoundException {\r\n\t\tlong start = System.currentTimeMillis();\r\n\t\tMainThread main = new MainThread(new File(args[0]));\r\n\t\tmain.start();\r\n\t\ttry {\r\n\t\t\twhile (main.isRunning) {\r\n\t\t\t\tsynchronized (main) {\r\n\t\t\t\t\tmain.wait(1000);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tlong stop = System.currentTimeMillis();\r\n\r\n\t\t\tif (main.everythingDone)\r\n\t\t\t\tSystem.out.println(&quot;all done in &quot; + (stop - start) + &quot; ms.&quot;);\r\n\t\t\telse {\r\n\t\t\t\tSystem.out.println(&quot;could not do everything in &quot;\r\n\t\t\t\t\t\t+ (stop - start) + &quot; ms.&quot;);\r\n\t\t\t\tif (main.endedWithException != null)\r\n\t\t\t\t\tmain.endedWithException.printStackTrace();\r\n\t\t\t}\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\tSystem.out.println(&quot;You&#39;ve killed me!&quot;);\r\n\t\t}\r\n\t}\r\n}\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nRegards","title":"How to timeout a thread","body":"<p>I post you a piece of code which show a way how to solve the problem.\nAs exemple I'm reading a file.\nYou could use this method for another operation, but you need to implements the kill() method so that the main operation will be interrupted.</p>\n\n<p>hope it helps</p>\n\n<pre><code>\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.io.InputStream;\n\n/**\n * Main class\n * \n * @author el\n * \n */\npublic class Main {\n    /**\n     * Thread which perform the task which should be timed out.\n     * \n     * @author el\n     * \n     */\n    public static class MainThread extends Thread {\n        /**\n         * For example reading a file. File to read.\n         */\n        final private File fileToRead;\n        /**\n         * InputStream from the file.\n         */\n        final private InputStream myInputStream;\n        /**\n         * Thread for timeout.\n         */\n        final private TimeOutThread timeOutThread;\n\n        /**\n         * true if the thread has not ended.\n         */\n        boolean isRunning = true;\n\n        /**\n         * true if all tasks where done.\n         */\n        boolean everythingDone = false;\n\n        /**\n         * if every thing could not be done, an {@link Exception} may have\n         * Happens.\n         */\n        Throwable endedWithException = null;\n\n        /**\n         * Constructor.\n         * \n         * @param file\n         * @throws FileNotFoundException\n         */\n        MainThread(File file) throws FileNotFoundException {\n            setDaemon(false);\n            fileToRead = file;\n            // open the file stream.\n            myInputStream = new FileInputStream(fileToRead);\n            // Instantiate the timeout thread.\n            timeOutThread = new TimeOutThread(10000, this);\n        }\n\n        /**\n         * Used by the {@link TimeOutThread}.\n         */\n        public void kill() {\n            if (isRunning) {\n                isRunning = false;\n                if (myInputStream != null) {\n                    try {\n                        // close the stream, it may be the problem.\n                        myInputStream.close();\n                    } catch (IOException e) {\n                        // Not interesting\n                        System.out.println(e.toString());\n                    }\n                }\n                synchronized (this) {\n                    notify();\n                }\n            }\n        }\n\n        /**\n         * The task which should be timed out.\n         */\n        @Override\n        public void run() {\n            timeOutThread.start();\n            int bytes = 0;\n            try {\n                // do something\n                while (myInputStream.read() >= 0) {\n                    // may block the thread.\n                    myInputStream.read();\n                    bytes++;\n                    // simulate a slow stream.\n                    synchronized (this) {\n                        wait(10);\n                    }\n                }\n                everythingDone = true;\n            } catch (IOException e) {\n                endedWithException = e;\n            } catch (InterruptedException e) {\n                endedWithException = e;\n            } finally {\n                timeOutThread.kill();\n                System.out.println(\"-->read \" + bytes + \" bytes.\");\n                isRunning = false;\n                synchronized (this) {\n                    notifyAll();\n                }\n            }\n        }\n    }\n\n    /**\n     * Timeout Thread. Kill the main task if necessary.\n     * \n     * @author el\n     * \n     */\n    public static class TimeOutThread extends Thread {\n        final long timeout;\n        final MainThread controlledObj;\n\n        TimeOutThread(long timeout, MainThread controlledObj) {\n            setDaemon(true);\n            this.timeout = timeout;\n            this.controlledObj = controlledObj;\n        }\n\n        boolean isRunning = true;\n\n        /**\n         * If we done need the {@link TimeOutThread} thread, we may kill it.\n         */\n        public void kill() {\n            isRunning = false;\n            synchronized (this) {\n                notify();\n            }\n        }\n\n        /**\n         * \n         */\n        @Override\n        public void run() {\n            long deltaT = 0l;\n            try {\n                long start = System.currentTimeMillis();\n                while (isRunning && deltaT &lt; timeout) {\n                    synchronized (this) {\n                        wait(Math.max(100, timeout - deltaT));\n                    }\n                    deltaT = System.currentTimeMillis() - start;\n                }\n            } catch (InterruptedException e) {\n                // If the thread is interrupted,\n                // you may not want to kill the main thread,\n                // but probably yes.\n            } finally {\n                isRunning = false;\n            }\n            controlledObj.kill();\n        }\n    }\n\n    /**\n     * Start the main task and wait for the end.\n     * \n     * @param args\n     * @throws FileNotFoundException\n     */\n    public static void main(String[] args) throws FileNotFoundException {\n        long start = System.currentTimeMillis();\n        MainThread main = new MainThread(new File(args[0]));\n        main.start();\n        try {\n            while (main.isRunning) {\n                synchronized (main) {\n                    main.wait(1000);\n                }\n            }\n            long stop = System.currentTimeMillis();\n\n            if (main.everythingDone)\n                System.out.println(\"all done in \" + (stop - start) + \" ms.\");\n            else {\n                System.out.println(\"could not do everything in \"\n                        + (stop - start) + \" ms.\");\n                if (main.endedWithException != null)\n                    main.endedWithException.printStackTrace();\n            }\n        } catch (InterruptedException e) {\n            System.out.println(\"You've killed me!\");\n        }\n    }\n}\n</code></pre>\n\n<p>Regards</p>\n"},{"tags":[],"owner":{"account_id":105593,"reputation":33764,"user_id":281678,"display_name":"Dan Puzey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1332181468,"creation_date":1267350817,"answer_id":2350682,"question_id":2275443,"body_markdown":"One thing that I&#39;ve not seen mentioned is that killing threads is generally a Bad Idea.  There are techniques for making threaded methods *cleanly abortable*, but that&#39;s different to just killing a thread after a timeout.\r\n\r\nThe risk with what you&#39;re suggesting is that you probably don&#39;t know what state the thread will be in when you kill it - so you risk introducing instability. A better solution is to make sure your threaded code either doesn&#39;t hang itself, or will respond nicely to an abort request.","title":"How to timeout a thread","body":"<p>One thing that I've not seen mentioned is that killing threads is generally a Bad Idea.  There are techniques for making threaded methods <em>cleanly abortable</em>, but that's different to just killing a thread after a timeout.</p>\n\n<p>The risk with what you're suggesting is that you probably don't know what state the thread will be in when you kill it - so you risk introducing instability. A better solution is to make sure your threaded code either doesn't hang itself, or will respond nicely to an abort request.</p>\n"},{"tags":[],"owner":{"account_id":37846,"reputation":6497,"user_id":108326,"display_name":"markusk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1267472335,"creation_date":1267472335,"answer_id":2358525,"question_id":2275443,"body_markdown":"The following snippet will start an operation in a separate thread, then wait for up to 10 seconds for the operation to complete. If the operation does not complete in time, the code will attempt to cancel the operation, then continue on its merry way. Even if the operation cannot be cancelled easily, the parent thread will not wait for the child thread to terminate.\r\n\r\n    ExecutorService executorService = getExecutorService();\r\n    Future&lt;SomeClass&gt; future = executorService.submit(new Callable&lt;SomeClass&gt;() {\r\n        public SomeClass call() {\r\n            // Perform long-running task, return result. The code should check\r\n            // interrupt status regularly, to facilitate cancellation.\r\n        }\r\n    });\r\n    try {\r\n        // Real life code should define the timeout as a constant or\r\n        // retrieve it from configuration\r\n        SomeClass result = future.get(10, TimeUnit.SECONDS);\r\n        // Do something with the result\r\n    } catch (TimeoutException e) {\r\n        future.cancel(true);\r\n        // Perform other error handling, e.g. logging, throwing an exception\r\n    }\r\n\r\n\r\nThe `getExecutorService()` method can be implemented in a number of ways. If you do not have any particular requirements, you can simply call `Executors.newCachedThreadPool()` for thread pooling with no upper limit on the number of threads.","title":"How to timeout a thread","body":"<p>The following snippet will start an operation in a separate thread, then wait for up to 10 seconds for the operation to complete. If the operation does not complete in time, the code will attempt to cancel the operation, then continue on its merry way. Even if the operation cannot be cancelled easily, the parent thread will not wait for the child thread to terminate.</p>\n\n<pre><code>ExecutorService executorService = getExecutorService();\nFuture&lt;SomeClass&gt; future = executorService.submit(new Callable&lt;SomeClass&gt;() {\n    public SomeClass call() {\n        // Perform long-running task, return result. The code should check\n        // interrupt status regularly, to facilitate cancellation.\n    }\n});\ntry {\n    // Real life code should define the timeout as a constant or\n    // retrieve it from configuration\n    SomeClass result = future.get(10, TimeUnit.SECONDS);\n    // Do something with the result\n} catch (TimeoutException e) {\n    future.cancel(true);\n    // Perform other error handling, e.g. logging, throwing an exception\n}\n</code></pre>\n\n<p>The <code>getExecutorService()</code> method can be implemented in a number of ways. If you do not have any particular requirements, you can simply call <code>Executors.newCachedThreadPool()</code> for thread pooling with no upper limit on the number of threads.</p>\n"},{"tags":[],"owner":{"account_id":105176,"reputation":13693,"user_id":280783,"accept_rate":91,"display_name":"Peter Tseng"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1467105552,"creation_date":1310771633,"answer_id":6714123,"question_id":2275443,"body_markdown":"Assuming the thread code is out of your control:\r\n\r\nFrom the Java [documentation][1] mentioned above:\r\n\r\n&gt; **What if a thread doesn&#39;t respond to Thread.interrupt?**\r\n&gt; \r\n&gt; In some cases, you can use application specific tricks. For example,\r\n&gt; if a thread is waiting on a known socket, you can close the socket to\r\n&gt; cause the thread to return immediately. Unfortunately, there really\r\n&gt; isn&#39;t any technique that works in general. *It should be noted that in\r\n&gt; all situations where a waiting thread doesn&#39;t respond to\r\n&gt; Thread.interrupt, it wouldn&#39;t respond to Thread.stop either.* Such\r\n&gt; cases include deliberate denial-of-service attacks, and I/O operations\r\n&gt; for which thread.stop and thread.interrupt do not work properly.\r\n\r\n**Bottom Line:**\r\n\r\nMake sure all threads can be interrupted, or else you need specific knowledge of the thread - like having a flag to set. Maybe you can require that the task be given to you along with the code needed to stop it - define an interface with a `stop()` method. You can also warn when you failed to stop a task.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/concurrency/threadPrimitiveDeprecation.html","title":"How to timeout a thread","body":"<p>Assuming the thread code is out of your control:</p>\n\n<p>From the Java <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/concurrency/threadPrimitiveDeprecation.html\" rel=\"noreferrer\">documentation</a> mentioned above:</p>\n\n<blockquote>\n  <p><strong>What if a thread doesn't respond to Thread.interrupt?</strong></p>\n  \n  <p>In some cases, you can use application specific tricks. For example,\n  if a thread is waiting on a known socket, you can close the socket to\n  cause the thread to return immediately. Unfortunately, there really\n  isn't any technique that works in general. <em>It should be noted that in\n  all situations where a waiting thread doesn't respond to\n  Thread.interrupt, it wouldn't respond to Thread.stop either.</em> Such\n  cases include deliberate denial-of-service attacks, and I/O operations\n  for which thread.stop and thread.interrupt do not work properly.</p>\n</blockquote>\n\n<p><strong>Bottom Line:</strong></p>\n\n<p>Make sure all threads can be interrupted, or else you need specific knowledge of the thread - like having a flag to set. Maybe you can require that the task be given to you along with the code needed to stop it - define an interface with a <code>stop()</code> method. You can also warn when you failed to stop a task.</p>\n"},{"tags":[],"owner":{"account_id":1376610,"reputation":567,"user_id":1310503,"accept_rate":83,"display_name":"user1310503"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1334159008,"creation_date":1333459507,"answer_id":9994232,"question_id":2275443,"body_markdown":"BalusC said:\r\n\r\n&gt; Update: to clarify a conceptual misunderstanding, the sleep() is not required. It is just used for SSCCE/demonstration purposes. Just do your long running task right there in place of sleep().\r\n\r\nBut if you replace `Thread.sleep(4000);` with `for (int i = 0; i &lt; 5E8; i++) {}` then it doesn&#39;t compile, because the empty loop doesn&#39;t throw an `InterruptedException`.\r\n\r\nAnd for the thread to be interruptible, it needs to throw an `InterruptedException`. \r\n\r\nThis seems like a serious problem to me. I can&#39;t see how to adapt this answer to work with a general long-running task. \r\n\r\nEdited to add: I reasked this as a new question: [ https://stackoverflow.com/questions/10031607/interrupting-a-thread-after-fixed-time-does-it-have-to-throw-interruptedexcepti ]","title":"How to timeout a thread","body":"<p>BalusC said:</p>\n\n<blockquote>\n  <p>Update: to clarify a conceptual misunderstanding, the sleep() is not required. It is just used for SSCCE/demonstration purposes. Just do your long running task right there in place of sleep().</p>\n</blockquote>\n\n<p>But if you replace <code>Thread.sleep(4000);</code> with <code>for (int i = 0; i &lt; 5E8; i++) {}</code> then it doesn't compile, because the empty loop doesn't throw an <code>InterruptedException</code>.</p>\n\n<p>And for the thread to be interruptible, it needs to throw an <code>InterruptedException</code>. </p>\n\n<p>This seems like a serious problem to me. I can't see how to adapt this answer to work with a general long-running task. </p>\n\n<p>Edited to add: I reasked this as a new question: [ <a href=\"https://stackoverflow.com/questions/10031607/interrupting-a-thread-after-fixed-time-does-it-have-to-throw-interruptedexcepti\">interrupting a thread after fixed time, does it have to throw InterruptedException?</a> ]</p>\n"},{"tags":[],"owner":{"account_id":1797790,"reputation":61,"user_id":1636824,"display_name":"Peter Goransson"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1349349934,"creation_date":1346349882,"answer_id":12202874,"question_id":2275443,"body_markdown":"I created a helper class just for this some time ago. Works great: \r\n\r\n\r\n    import java.util.concurrent.BrokenBarrierException;\r\n    import java.util.concurrent.CyclicBarrier;\r\n    /**\r\n     * TimeOut class - used for stopping a thread that is taking too long\r\n     * @author Peter Goransson\r\n     *\r\n     */\r\n    public class TimeOut {\r\n    \r\n    \tThread interrupter;\r\n    \tThread target;\r\n    \tlong timeout;\r\n    \tboolean success;\r\n    \tboolean forceStop;\r\n    \t\r\n    \tCyclicBarrier barrier;\r\n    \t\r\n    \t/**\r\n    \t * \r\n    \t * @param target The Runnable target to be executed\r\n    \t * @param timeout The time in milliseconds before target will be interrupted or stopped\r\n    \t * @param forceStop If true, will Thread.stop() this target instead of just interrupt() \r\n    \t */\r\n    \tpublic TimeOut(Runnable target, long timeout, boolean forceStop) {\t\t\r\n    \t\tthis.timeout = timeout;\r\n    \t\tthis.forceStop = forceStop;\r\n    \t\t\r\n    \t\tthis.target = new Thread(target);\t\t\r\n    \t\tthis.interrupter = new Thread(new Interrupter());\r\n    \t\t\r\n    \t\tbarrier = new CyclicBarrier(2); // There will always be just 2 threads waiting on this barrier\r\n    \t}\r\n    \t\r\n    \tpublic boolean execute() throws InterruptedException {\t\r\n    \t\t\r\n    \t\t// Start target and interrupter\r\n    \t\ttarget.start();\r\n    \t\tinterrupter.start();\r\n    \t\t\r\n    \t\t// Wait for target to finish or be interrupted by interrupter\r\n    \t\ttarget.join();\t\r\n    \t\t\t\t\r\n    \t\tinterrupter.interrupt(); // stop the interrupter\t\r\n    \t\ttry {\r\n    \t\t\tbarrier.await(); // Need to wait on this barrier to make sure status is set\r\n    \t\t} catch (BrokenBarrierException e) {\r\n    \t\t\t// Something horrible happened, assume we failed\r\n    \t\t\tsuccess = false;\r\n    \t\t} \r\n    \r\n    \t\treturn success; // status is set in the Interrupter inner class\r\n    \t}\r\n    \t\r\n    \tprivate class Interrupter implements Runnable {\r\n    \t\t\r\n    \t\tInterrupter() {}\r\n    \r\n    \t\tpublic void run() {\r\n    \t\t\ttry {\r\n    \t\t\t\tThread.sleep(timeout); // Wait for timeout period and then kill this target\r\n    \t\t\t\tif (forceStop) {\r\n    \t\t\t\t  target.stop(); // Need to use stop instead of interrupt since we&#39;re trying to kill this thread\r\n    \t\t\t\t}\r\n    \t\t\t\telse {\r\n    \t\t\t\t\ttarget.interrupt(); // Gracefully interrupt the waiting thread\r\n    \t\t\t\t}\r\n    \t\t\t\tSystem.out.println(&quot;done&quot;);\t\t\t\t\r\n    \t\t\t\tsuccess = false;\r\n    \t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\tsuccess = true;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \r\n    \t\t\ttry {\r\n    \t\t\t\tbarrier.await(); // Need to wait on this barrier\r\n    \t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t// If the Child and Interrupter finish at the exact same millisecond we&#39;ll get here\r\n    \t\t\t\t// In this weird case assume it failed\r\n    \t\t\t\tsuccess = false;\t\t\t\t\r\n    \t\t\t} \r\n    \t\t\tcatch (BrokenBarrierException e) {\r\n    \t\t\t\t// Something horrible happened, assume we failed\r\n    \t\t\t\tsuccess = false;\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \r\n    \t}\r\n    }\r\n\r\n\r\nIt is called like this:\r\n\r\n    long timeout = 10000; // number of milliseconds before timeout\r\n    TimeOut t = new TimeOut(new PhotoProcessor(filePath, params), timeout, true);\r\n    try {    \t\t    \t\t\r\n      boolean sucess = t.execute(); // Will return false if this times out\r\n      if (!sucess) {\r\n        // This thread timed out\r\n      }\r\n      else {\r\n        // This thread ran completely and did not timeout\r\n      }\r\n    } catch (InterruptedException e) {}  ","title":"How to timeout a thread","body":"<p>I created a helper class just for this some time ago. Works great: </p>\n\n<pre><code>import java.util.concurrent.BrokenBarrierException;\nimport java.util.concurrent.CyclicBarrier;\n/**\n * TimeOut class - used for stopping a thread that is taking too long\n * @author Peter Goransson\n *\n */\npublic class TimeOut {\n\n    Thread interrupter;\n    Thread target;\n    long timeout;\n    boolean success;\n    boolean forceStop;\n\n    CyclicBarrier barrier;\n\n    /**\n     * \n     * @param target The Runnable target to be executed\n     * @param timeout The time in milliseconds before target will be interrupted or stopped\n     * @param forceStop If true, will Thread.stop() this target instead of just interrupt() \n     */\n    public TimeOut(Runnable target, long timeout, boolean forceStop) {      \n        this.timeout = timeout;\n        this.forceStop = forceStop;\n\n        this.target = new Thread(target);       \n        this.interrupter = new Thread(new Interrupter());\n\n        barrier = new CyclicBarrier(2); // There will always be just 2 threads waiting on this barrier\n    }\n\n    public boolean execute() throws InterruptedException {  \n\n        // Start target and interrupter\n        target.start();\n        interrupter.start();\n\n        // Wait for target to finish or be interrupted by interrupter\n        target.join();  \n\n        interrupter.interrupt(); // stop the interrupter    \n        try {\n            barrier.await(); // Need to wait on this barrier to make sure status is set\n        } catch (BrokenBarrierException e) {\n            // Something horrible happened, assume we failed\n            success = false;\n        } \n\n        return success; // status is set in the Interrupter inner class\n    }\n\n    private class Interrupter implements Runnable {\n\n        Interrupter() {}\n\n        public void run() {\n            try {\n                Thread.sleep(timeout); // Wait for timeout period and then kill this target\n                if (forceStop) {\n                  target.stop(); // Need to use stop instead of interrupt since we're trying to kill this thread\n                }\n                else {\n                    target.interrupt(); // Gracefully interrupt the waiting thread\n                }\n                System.out.println(\"done\");             \n                success = false;\n            } catch (InterruptedException e) {\n                success = true;\n            }\n\n\n            try {\n                barrier.await(); // Need to wait on this barrier\n            } catch (InterruptedException e) {\n                // If the Child and Interrupter finish at the exact same millisecond we'll get here\n                // In this weird case assume it failed\n                success = false;                \n            } \n            catch (BrokenBarrierException e) {\n                // Something horrible happened, assume we failed\n                success = false;\n            }\n\n        }\n\n    }\n}\n</code></pre>\n\n<p>It is called like this:</p>\n\n<pre><code>long timeout = 10000; // number of milliseconds before timeout\nTimeOut t = new TimeOut(new PhotoProcessor(filePath, params), timeout, true);\ntry {                       \n  boolean sucess = t.execute(); // Will return false if this times out\n  if (!sucess) {\n    // This thread timed out\n  }\n  else {\n    // This thread ran completely and did not timeout\n  }\n} catch (InterruptedException e) {}  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":334117,"reputation":15586,"user_id":660350,"accept_rate":54,"display_name":"Pascal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1387348523,"creation_date":1387014677,"answer_id":20581835,"question_id":2275443,"body_markdown":"Here is my really ***simple to use*** helper class to ***[run][1]*** or ***[call][2]*** piece of Java code :-)\r\n\r\nThis is based on the excellent [answer][3] from [BalusC][4]  \r\n\r\n\tpackage com.mycompany.util.concurrent;\r\n\t\r\n\timport java.util.concurrent.Callable;\r\n\timport java.util.concurrent.ExecutionException;\r\n\timport java.util.concurrent.ExecutorService;\r\n\timport java.util.concurrent.Executors;\r\n\timport java.util.concurrent.Future;\r\n\timport java.util.concurrent.TimeUnit;\r\n\timport java.util.concurrent.TimeoutException;\r\n\t\r\n\t/**\r\n\t * Calling {@link Callable#call()} or Running {@link Runnable#run()} code\r\n\t * with a timeout based on {@link Future#get(long, TimeUnit))}\r\n\t * @author pascaldalfarra\r\n\t *\r\n\t */\r\n\tpublic class CallableHelper\r\n\t{\r\n\t\r\n\t\tprivate CallableHelper()\r\n\t\t{\r\n\t\t}\r\n\t\r\n\t\tpublic static final void run(final Runnable runnable, int timeoutInSeconds)\r\n\t\t{\r\n\t\t\trun(runnable, null, timeoutInSeconds);\r\n\t\t}\r\n\t\t\r\n\t\tpublic static final void run(final Runnable runnable, Runnable timeoutCallback, int timeoutInSeconds)\r\n\t\t{\r\n\t\t\tcall(new Callable&lt;Void&gt;()\r\n\t\t\t{\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic Void call() throws Exception\r\n\t\t\t\t{\r\n\t\t\t\t\trunnable.run();\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t}, timeoutCallback, timeoutInSeconds); \r\n\t\t}\r\n\t\t\r\n\t\tpublic static final &lt;T&gt; T call(final Callable&lt;T&gt; callable, int timeoutInSeconds)\r\n\t\t{\r\n\t\t\treturn call(callable, null, timeoutInSeconds); \r\n\t\t}\r\n\t\t\r\n\t\tpublic static final &lt;T&gt; T call(final Callable&lt;T&gt; callable, Runnable timeoutCallback, int timeoutInSeconds)\r\n\t\t{\r\n\t\t\tExecutorService executor = Executors.newSingleThreadExecutor();\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tFuture&lt;T&gt; future = executor.submit(callable);\r\n\t\t\t\tT result = future.get(timeoutInSeconds, TimeUnit.SECONDS);\r\n\t\t\t\tSystem.out.println(&quot;CallableHelper - Finished!&quot;);\r\n\t\t\t\treturn result;\r\n\t\t\t}\r\n\t\t\tcatch (TimeoutException e)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;CallableHelper - TimeoutException!&quot;);\r\n\t\t\t\tif(timeoutCallback != null)\r\n\t\t\t\t{\r\n\t\t\t\t\ttimeoutCallback.run();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcatch (InterruptedException e)\r\n\t\t\t{\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\tcatch (ExecutionException e)\r\n\t\t\t{\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\tfinally\r\n\t\t\t{\r\n\t\t\t\texecutor.shutdownNow();\r\n\t\t\t\texecutor = null;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\r\n\t}\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/Runnable.html#run%28%29\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/Callable.html#call%28%29\r\n  [3]: https://stackoverflow.com/questions/2275443/how-to-timeout-a-thread#2275596\r\n  [4]: https://stackoverflow.com/users/157882/balusc","title":"How to timeout a thread","body":"<p>Here is my really <strong><em>simple to use</em></strong> helper class to <strong><em><a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Runnable.html#run%28%29\" rel=\"nofollow noreferrer\">run</a></em></strong> or <strong><em><a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/Callable.html#call%28%29\" rel=\"nofollow noreferrer\">call</a></em></strong> piece of Java code :-)</p>\n\n<p>This is based on the excellent <a href=\"https://stackoverflow.com/questions/2275443/how-to-timeout-a-thread#2275596\">answer</a> from <a href=\"https://stackoverflow.com/users/157882/balusc\">BalusC</a>  </p>\n\n<pre><code>package com.mycompany.util.concurrent;\n\nimport java.util.concurrent.Callable;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.Future;\nimport java.util.concurrent.TimeUnit;\nimport java.util.concurrent.TimeoutException;\n\n/**\n * Calling {@link Callable#call()} or Running {@link Runnable#run()} code\n * with a timeout based on {@link Future#get(long, TimeUnit))}\n * @author pascaldalfarra\n *\n */\npublic class CallableHelper\n{\n\n    private CallableHelper()\n    {\n    }\n\n    public static final void run(final Runnable runnable, int timeoutInSeconds)\n    {\n        run(runnable, null, timeoutInSeconds);\n    }\n\n    public static final void run(final Runnable runnable, Runnable timeoutCallback, int timeoutInSeconds)\n    {\n        call(new Callable&lt;Void&gt;()\n        {\n            @Override\n            public Void call() throws Exception\n            {\n                runnable.run();\n                return null;\n            }\n        }, timeoutCallback, timeoutInSeconds); \n    }\n\n    public static final &lt;T&gt; T call(final Callable&lt;T&gt; callable, int timeoutInSeconds)\n    {\n        return call(callable, null, timeoutInSeconds); \n    }\n\n    public static final &lt;T&gt; T call(final Callable&lt;T&gt; callable, Runnable timeoutCallback, int timeoutInSeconds)\n    {\n        ExecutorService executor = Executors.newSingleThreadExecutor();\n        try\n        {\n            Future&lt;T&gt; future = executor.submit(callable);\n            T result = future.get(timeoutInSeconds, TimeUnit.SECONDS);\n            System.out.println(\"CallableHelper - Finished!\");\n            return result;\n        }\n        catch (TimeoutException e)\n        {\n            System.out.println(\"CallableHelper - TimeoutException!\");\n            if(timeoutCallback != null)\n            {\n                timeoutCallback.run();\n            }\n        }\n        catch (InterruptedException e)\n        {\n            e.printStackTrace();\n        }\n        catch (ExecutionException e)\n        {\n            e.printStackTrace();\n        }\n        finally\n        {\n            executor.shutdownNow();\n            executor = null;\n        }\n\n        return null;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":60136,"reputation":6403,"user_id":179744,"accept_rate":88,"display_name":"Robocide"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1433965646,"creation_date":1433965646,"answer_id":30765917,"question_id":2275443,"body_markdown":"Great answer by BalusC&#39;s:\t\r\n\r\nbut Just to add that the timeout itself does not interrupt the thread itself. even if you are checking with while(!Thread.interrupted()) in your task. if you want to make sure thread is stopped you should also make sure future.cancel() is invoked when timeout exception is catch.\r\n\r\n\r\n    package com.stackoverflow.q2275443; \r\n     \r\n    import java.util.concurrent.Callable;\r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n    import java.util.concurrent.Future;\r\n    import java.util.concurrent.TimeUnit;\r\n    import java.util.concurrent.TimeoutException;\r\n     \r\n\r\n    public class Test { \r\n        public static void main(String[] args) throws Exception {\r\n            ExecutorService executor = Executors.newSingleThreadExecutor();\r\n            Future&lt;String&gt; future = executor.submit(new Task());\r\n     \r\n            try { \r\n                System.out.println(&quot;Started..&quot;);\r\n                System.out.println(future.get(3, TimeUnit.SECONDS));\r\n                System.out.println(&quot;Finished!&quot;);\r\n            } catch (TimeoutException e) {\r\n                //Without the below cancel the thread will continue to live \r\n                // even though the timeout exception thrown.\r\n                future.cancel();\r\n                System.out.println(&quot;Terminated!&quot;);\r\n            } \r\n     \r\n            executor.shutdownNow();\r\n        } \r\n    } \r\n     \r\n    class Task implements Callable&lt;String&gt; {\r\n        @Override \r\n        public String call() throws Exception {\r\n          while(!Thread.currentThread.isInterrupted()){\r\n              System.out.println(&quot;Im still running baby!!&quot;);\r\n          }          \r\n        } \r\n    } ","title":"How to timeout a thread","body":"<p>Great answer by BalusC's:   </p>\n\n<p>but Just to add that the timeout itself does not interrupt the thread itself. even if you are checking with while(!Thread.interrupted()) in your task. if you want to make sure thread is stopped you should also make sure future.cancel() is invoked when timeout exception is catch.</p>\n\n<pre><code>package com.stackoverflow.q2275443; \n\nimport java.util.concurrent.Callable;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.Future;\nimport java.util.concurrent.TimeUnit;\nimport java.util.concurrent.TimeoutException;\n\n\npublic class Test { \n    public static void main(String[] args) throws Exception {\n        ExecutorService executor = Executors.newSingleThreadExecutor();\n        Future&lt;String&gt; future = executor.submit(new Task());\n\n        try { \n            System.out.println(\"Started..\");\n            System.out.println(future.get(3, TimeUnit.SECONDS));\n            System.out.println(\"Finished!\");\n        } catch (TimeoutException e) {\n            //Without the below cancel the thread will continue to live \n            // even though the timeout exception thrown.\n            future.cancel();\n            System.out.println(\"Terminated!\");\n        } \n\n        executor.shutdownNow();\n    } \n} \n\nclass Task implements Callable&lt;String&gt; {\n    @Override \n    public String call() throws Exception {\n      while(!Thread.currentThread.isInterrupted()){\n          System.out.println(\"Im still running baby!!\");\n      }          \n    } \n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1961485,"reputation":3248,"user_id":1762932,"accept_rate":84,"display_name":"Tom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1438785157,"creation_date":1438784791,"answer_id":31835331,"question_id":2275443,"body_markdown":"I was looking for an ExecutorService that can interrupt all timed out Runnables executed by it, but found none. After a few hours I created one as below. This class can be modified to enhance robustness.\r\n\r\n    public class TimedExecutorService extends ThreadPoolExecutor {\r\n\t\tlong timeout;\r\n\t\tpublic TimedExecutorService(int numThreads, long timeout, TimeUnit unit) {\r\n\t\t\tsuper(numThreads, numThreads, 0L, TimeUnit.MILLISECONDS, new ArrayBlockingQueue&lt;Runnable&gt;(numThreads + 1));\r\n\t\t\tthis.timeout = unit.toMillis(timeout);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected void beforeExecute(Thread thread, Runnable runnable) {\r\n\t\t\tThread interruptionThread = new Thread(new Runnable() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\t// Wait until timeout and interrupt this thread\r\n\t\t\t\t\t\tThread.sleep(timeout);\r\n\t\t\t\t\t\tSystem.out.println(&quot;The runnable times out.&quot;);\r\n\t\t\t\t\t\tthread.interrupt();\r\n\t\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tinterruptionThread.start();\r\n\t\t}\r\n\t}\r\n\r\nUsage:\r\n\r\n    public static void main(String[] args) {\r\n\r\n\t\tRunnable abcdRunnable = new Runnable() {\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\tSystem.out.println(&quot;abcdRunnable started&quot;);\r\n\t\t\t\ttry {\r\n\t\t\t\t\tThread.sleep(20000);\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t// logger.info(&quot;The runnable times out.&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println(&quot;abcdRunnable ended&quot;);\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\tRunnable xyzwRunnable = new Runnable() {\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\tSystem.out.println(&quot;xyzwRunnable started&quot;);\r\n\t\t\t\ttry {\r\n\t\t\t\t\tThread.sleep(20000);\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t// logger.info(&quot;The runnable times out.&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println(&quot;xyzwRunnable ended&quot;);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tint numThreads = 2, timeout = 5;\r\n\t\tExecutorService timedExecutor = new TimedExecutorService(numThreads, timeout, TimeUnit.SECONDS);\r\n\t\ttimedExecutor.execute(abcdRunnable);\r\n\t\ttimedExecutor.execute(xyzwRunnable);\r\n\t\ttimedExecutor.shutdown();\r\n\t}\r\n\r\n","title":"How to timeout a thread","body":"<p>I was looking for an ExecutorService that can interrupt all timed out Runnables executed by it, but found none. After a few hours I created one as below. This class can be modified to enhance robustness.</p>\n\n<pre><code>public class TimedExecutorService extends ThreadPoolExecutor {\n    long timeout;\n    public TimedExecutorService(int numThreads, long timeout, TimeUnit unit) {\n        super(numThreads, numThreads, 0L, TimeUnit.MILLISECONDS, new ArrayBlockingQueue&lt;Runnable&gt;(numThreads + 1));\n        this.timeout = unit.toMillis(timeout);\n    }\n\n    @Override\n    protected void beforeExecute(Thread thread, Runnable runnable) {\n        Thread interruptionThread = new Thread(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    // Wait until timeout and interrupt this thread\n                    Thread.sleep(timeout);\n                    System.out.println(\"The runnable times out.\");\n                    thread.interrupt();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n        interruptionThread.start();\n    }\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>public static void main(String[] args) {\n\n    Runnable abcdRunnable = new Runnable() {\n        @Override\n        public void run() {\n            System.out.println(\"abcdRunnable started\");\n            try {\n                Thread.sleep(20000);\n            } catch (InterruptedException e) {\n                // logger.info(\"The runnable times out.\");\n            }\n            System.out.println(\"abcdRunnable ended\");\n        }\n    };\n\n    Runnable xyzwRunnable = new Runnable() {\n        @Override\n        public void run() {\n            System.out.println(\"xyzwRunnable started\");\n            try {\n                Thread.sleep(20000);\n            } catch (InterruptedException e) {\n                // logger.info(\"The runnable times out.\");\n            }\n            System.out.println(\"xyzwRunnable ended\");\n        }\n    };\n\n    int numThreads = 2, timeout = 5;\n    ExecutorService timedExecutor = new TimedExecutorService(numThreads, timeout, TimeUnit.SECONDS);\n    timedExecutor.execute(abcdRunnable);\n    timedExecutor.execute(xyzwRunnable);\n    timedExecutor.shutdown();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7331281,"reputation":11,"user_id":5584078,"display_name":"Liu Jing"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1447988242,"creation_date":1447988242,"answer_id":33818245,"question_id":2275443,"body_markdown":"Now , l meet a issue like this. It happens to decode picture. The process of decode takes too much time that the screen keep black. l add a time controler: when the time is too long, then pop up from the current Thread.\r\nThe following is the diff:\r\n \r\n\r\n       ExecutorService executor = Executors.newSingleThreadExecutor();\r\n       Future&lt;Bitmap&gt; future = executor.submit(new Callable&lt;Bitmap&gt;() {\r\n           @Override\r\n           public Bitmap call() throws Exception {\r\n           Bitmap bitmap = decodeAndScaleBitmapFromStream(context, inputUri);// do some time consuming operation\r\n           return null;\r\n                }\r\n           });\r\n           try {\r\n               Bitmap result = future.get(1, TimeUnit.SECONDS);\r\n           } catch (TimeoutException e){\r\n               future.cancel(true);\r\n           }\r\n           executor.shutdown();\r\n           return (bitmap!= null);\r\n","title":"How to timeout a thread","body":"<p>Now , l meet a issue like this. It happens to decode picture. The process of decode takes too much time that the screen keep black. l add a time controler: when the time is too long, then pop up from the current Thread.\nThe following is the diff:</p>\n\n<pre><code>   ExecutorService executor = Executors.newSingleThreadExecutor();\n   Future&lt;Bitmap&gt; future = executor.submit(new Callable&lt;Bitmap&gt;() {\n       @Override\n       public Bitmap call() throws Exception {\n       Bitmap bitmap = decodeAndScaleBitmapFromStream(context, inputUri);// do some time consuming operation\n       return null;\n            }\n       });\n       try {\n           Bitmap result = future.get(1, TimeUnit.SECONDS);\n       } catch (TimeoutException e){\n           future.cancel(true);\n       }\n       executor.shutdown();\n       return (bitmap!= null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5510900,"reputation":99,"user_id":4377200,"display_name":"Niroshan Abeywickrama"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502351634,"creation_date":1502351634,"answer_id":45607666,"question_id":2275443,"body_markdown":"I had the same problem. So i came up with a simple solution like this. \r\n\r\n    public class TimeoutBlock {\r\n    \r\n   \t private final long timeoutMilliSeconds;\r\n\t\tprivate long timeoutInteval=100;\r\n\t\t\r\n\t\tpublic TimeoutBlock(long timeoutMilliSeconds){\r\n\t\t\tthis.timeoutMilliSeconds=timeoutMilliSeconds;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void addBlock(Runnable runnable) throws Throwable{\r\n\t\t\tlong collectIntervals=0;\r\n\t\t\tThread timeoutWorker=new Thread(runnable);\r\n\t\t\ttimeoutWorker.start();\r\n\t\t\tdo{ \r\n\t\t\t\tif(collectIntervals&gt;=this.timeoutMilliSeconds){\r\n\t\t\t\t\ttimeoutWorker.stop();\r\n\t\t\t\t\tthrow new Exception(&quot;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;****&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Timeout Block Execution Time Exceeded In &quot;+timeoutMilliSeconds+&quot; Milli Seconds. Thread Block Terminated.&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tcollectIntervals+=timeoutInteval;           \r\n\t\t\t\tThread.sleep(timeoutInteval);\r\n\t\t\t\t\r\n\t\t\t}while(timeoutWorker.isAlive());\r\n\t\t\tSystem.out.println(&quot;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;####&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Timeout Block Executed Within &quot;+collectIntervals+&quot; Milli Seconds.&quot;);\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * @return the timeoutInteval\r\n\t\t */\r\n\t\tpublic long getTimeoutInteval() {\r\n\t\t\treturn timeoutInteval;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * @param timeoutInteval the timeoutInteval to set\r\n\t\t */\r\n\t\tpublic void setTimeoutInteval(long timeoutInteval) {\r\n\t\t\tthis.timeoutInteval = timeoutInteval;\r\n\t\t}\r\n\t}\r\n\r\n    \r\n\r\nGuarantees that if block didn&#39;t execute within the time limit. the process will terminate and throws an exception.\r\n\r\nexample :\r\n\r\n    try {\r\n            TimeoutBlock timeoutBlock = new TimeoutBlock(10 * 60 * 1000);//set timeout in milliseconds\r\n            Runnable block=new Runnable() {\r\n\r\n                @Override\r\n                public void run() {\r\n                    //TO DO write block of code \r\n                }\r\n            };\r\n            \r\n            timeoutBlock.addBlock(block);// execute the runnable block \r\n            \r\n        } catch (Throwable e) {\r\n            //catch the exception here . Which is block didn&#39;t execute within the time limit\r\n        }\r\n\r\n","title":"How to timeout a thread","body":"<p>I had the same problem. So i came up with a simple solution like this. </p>\n\n<pre><code>public class TimeoutBlock {\n\n private final long timeoutMilliSeconds;\n    private long timeoutInteval=100;\n\n    public TimeoutBlock(long timeoutMilliSeconds){\n        this.timeoutMilliSeconds=timeoutMilliSeconds;\n    }\n\n    public void addBlock(Runnable runnable) throws Throwable{\n        long collectIntervals=0;\n        Thread timeoutWorker=new Thread(runnable);\n        timeoutWorker.start();\n        do{ \n            if(collectIntervals&gt;=this.timeoutMilliSeconds){\n                timeoutWorker.stop();\n                throw new Exception(\"&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;****&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Timeout Block Execution Time Exceeded In \"+timeoutMilliSeconds+\" Milli Seconds. Thread Block Terminated.\");\n            }\n            collectIntervals+=timeoutInteval;           \n            Thread.sleep(timeoutInteval);\n\n        }while(timeoutWorker.isAlive());\n        System.out.println(\"&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;####&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Timeout Block Executed Within \"+collectIntervals+\" Milli Seconds.\");\n    }\n\n    /**\n     * @return the timeoutInteval\n     */\n    public long getTimeoutInteval() {\n        return timeoutInteval;\n    }\n\n    /**\n     * @param timeoutInteval the timeoutInteval to set\n     */\n    public void setTimeoutInteval(long timeoutInteval) {\n        this.timeoutInteval = timeoutInteval;\n    }\n}\n</code></pre>\n\n<p>Guarantees that if block didn't execute within the time limit. the process will terminate and throws an exception.</p>\n\n<p>example :</p>\n\n<pre><code>try {\n        TimeoutBlock timeoutBlock = new TimeoutBlock(10 * 60 * 1000);//set timeout in milliseconds\n        Runnable block=new Runnable() {\n\n            @Override\n            public void run() {\n                //TO DO write block of code \n            }\n        };\n\n        timeoutBlock.addBlock(block);// execute the runnable block \n\n    } catch (Throwable e) {\n        //catch the exception here . Which is block didn't execute within the time limit\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4033647,"reputation":131,"user_id":3318900,"display_name":"Sumeet Sahu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1540389282,"creation_date":1540388931,"answer_id":52970708,"question_id":2275443,"body_markdown":"In the solution given by [BalusC][1], the main thread will stay blocked for the timeout period. If you have a thread pool with more than one thread, you will need the same number of additional thread that will be using [Future.get(long timeout,TimeUnit unit)][2] blocking call to wait and close the thread if it exceeds the timeout period. \r\n\r\nA generic solution to this problem is to create a ThreadPoolExecutor Decorator that can add the timeout functionality. This Decorator class should create as many threads as ThreadPoolExecutor has, and all these threads should be used only to wait and close the ThreadPoolExecutor.\r\n\r\nThe generic class should be implemented like below:\r\n\r\n    import java.util.List;\r\n    import java.util.concurrent.*;\r\n\r\n    public class TimeoutThreadPoolDecorator extends ThreadPoolExecutor {\r\n\r\n\r\n        private final ThreadPoolExecutor commandThreadpool;\r\n        private final long timeout;\r\n        private final TimeUnit unit;\r\n\r\n        public TimeoutThreadPoolDecorator(ThreadPoolExecutor threadpool,\r\n                                          long timeout,\r\n                                          TimeUnit unit ){\r\n            super(  threadpool.getCorePoolSize(),\r\n                    threadpool.getMaximumPoolSize(),\r\n                    threadpool.getKeepAliveTime(TimeUnit.MILLISECONDS),\r\n                    TimeUnit.MILLISECONDS,\r\n                    threadpool.getQueue());\r\n\r\n            this.commandThreadpool = threadpool;\r\n            this.timeout=timeout;\r\n            this.unit=unit;\r\n        }\r\n\r\n        @Override\r\n        public void execute(Runnable command) {\r\n            super.execute(() -&gt; {\r\n                Future&lt;?&gt; future = commandThreadpool.submit(command);\r\n                try {\r\n                    future.get(timeout, unit);\r\n                } catch (InterruptedException e) {\r\n                    Thread.currentThread().interrupt();\r\n                } catch (ExecutionException | TimeoutException e) {\r\n                    throw new RejectedExecutionException(e);\r\n                } finally {\r\n                    future.cancel(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        @Override\r\n        public void setCorePoolSize(int corePoolSize) {\r\n            super.setCorePoolSize(corePoolSize);\r\n            commandThreadpool.setCorePoolSize(corePoolSize);\r\n        }\r\n\r\n        @Override\r\n        public void setThreadFactory(ThreadFactory threadFactory) {\r\n            super.setThreadFactory(threadFactory);\r\n            commandThreadpool.setThreadFactory(threadFactory);\r\n        }\r\n\r\n        @Override\r\n        public void setMaximumPoolSize(int maximumPoolSize) {\r\n            super.setMaximumPoolSize(maximumPoolSize);\r\n            commandThreadpool.setMaximumPoolSize(maximumPoolSize);\r\n        }\r\n\r\n        @Override\r\n        public void setKeepAliveTime(long time, TimeUnit unit) {\r\n            super.setKeepAliveTime(time, unit);\r\n            commandThreadpool.setKeepAliveTime(time, unit);\r\n        }\r\n\r\n        @Override\r\n        public void setRejectedExecutionHandler(RejectedExecutionHandler handler) {\r\n            super.setRejectedExecutionHandler(handler);\r\n            commandThreadpool.setRejectedExecutionHandler(handler);\r\n        }\r\n\r\n        @Override\r\n        public List&lt;Runnable&gt; shutdownNow() {\r\n            List&lt;Runnable&gt; taskList = super.shutdownNow();\r\n            taskList.addAll(commandThreadpool.shutdownNow());\r\n            return taskList;\r\n        }\r\n\r\n        @Override\r\n        public void shutdown() {\r\n            super.shutdown();\r\n            commandThreadpool.shutdown();\r\n        }\r\n    }\r\n\r\n\r\nThe above decorator can be used as below:\r\n\r\n    import java.util.concurrent.SynchronousQueue;\r\n    import java.util.concurrent.ThreadPoolExecutor;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args){\r\n    \r\n            long timeout = 2000;\r\n    \r\n            ThreadPoolExecutor threadPool = new ThreadPoolExecutor(3, 10, 0, TimeUnit.MILLISECONDS, new SynchronousQueue&lt;&gt;(true));\r\n    \r\n            threadPool = new TimeoutThreadPoolDecorator( threadPool ,\r\n                    timeout,\r\n                    TimeUnit.MILLISECONDS);\r\n    \r\n    \r\n            threadPool.execute(command(1000));\r\n            threadPool.execute(command(1500));\r\n            threadPool.execute(command(2100));\r\n            threadPool.execute(command(2001));\r\n    \r\n            while(threadPool.getActiveCount()&gt;0);\r\n            threadPool.shutdown();\r\n    \r\n    \r\n        }\r\n    \r\n        private static Runnable command(int i) {\r\n    \r\n            return () -&gt; {\r\n                System.out.println(&quot;Running Thread:&quot;+Thread.currentThread().getName());\r\n                System.out.println(&quot;Starting command with sleep:&quot;+i);\r\n                try {\r\n                    Thread.sleep(i);\r\n                } catch (InterruptedException e) {\r\n                    System.out.println(&quot;Thread &quot;+Thread.currentThread().getName()+&quot; with sleep of &quot;+i+&quot; is Interrupted!!!&quot;);\r\n                    return;\r\n                }\r\n                System.out.println(&quot;Completing Thread &quot;+Thread.currentThread().getName()+&quot; after sleep of &quot;+i);\r\n            };\r\n    \r\n        }\r\n    }\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/157882/balusc\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html#get(long,%20java.util.concurrent.TimeUnit)","title":"How to timeout a thread","body":"<p>In the solution given by <a href=\"https://stackoverflow.com/users/157882/balusc\">BalusC</a>, the main thread will stay blocked for the timeout period. If you have a thread pool with more than one thread, you will need the same number of additional thread that will be using <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html#get(long,%20java.util.concurrent.TimeUnit)\" rel=\"nofollow noreferrer\">Future.get(long timeout,TimeUnit unit)</a> blocking call to wait and close the thread if it exceeds the timeout period. </p>\n\n<p>A generic solution to this problem is to create a ThreadPoolExecutor Decorator that can add the timeout functionality. This Decorator class should create as many threads as ThreadPoolExecutor has, and all these threads should be used only to wait and close the ThreadPoolExecutor.</p>\n\n<p>The generic class should be implemented like below:</p>\n\n<pre><code>import java.util.List;\nimport java.util.concurrent.*;\n\npublic class TimeoutThreadPoolDecorator extends ThreadPoolExecutor {\n\n\n    private final ThreadPoolExecutor commandThreadpool;\n    private final long timeout;\n    private final TimeUnit unit;\n\n    public TimeoutThreadPoolDecorator(ThreadPoolExecutor threadpool,\n                                      long timeout,\n                                      TimeUnit unit ){\n        super(  threadpool.getCorePoolSize(),\n                threadpool.getMaximumPoolSize(),\n                threadpool.getKeepAliveTime(TimeUnit.MILLISECONDS),\n                TimeUnit.MILLISECONDS,\n                threadpool.getQueue());\n\n        this.commandThreadpool = threadpool;\n        this.timeout=timeout;\n        this.unit=unit;\n    }\n\n    @Override\n    public void execute(Runnable command) {\n        super.execute(() -&gt; {\n            Future&lt;?&gt; future = commandThreadpool.submit(command);\n            try {\n                future.get(timeout, unit);\n            } catch (InterruptedException e) {\n                Thread.currentThread().interrupt();\n            } catch (ExecutionException | TimeoutException e) {\n                throw new RejectedExecutionException(e);\n            } finally {\n                future.cancel(true);\n            }\n        });\n    }\n\n    @Override\n    public void setCorePoolSize(int corePoolSize) {\n        super.setCorePoolSize(corePoolSize);\n        commandThreadpool.setCorePoolSize(corePoolSize);\n    }\n\n    @Override\n    public void setThreadFactory(ThreadFactory threadFactory) {\n        super.setThreadFactory(threadFactory);\n        commandThreadpool.setThreadFactory(threadFactory);\n    }\n\n    @Override\n    public void setMaximumPoolSize(int maximumPoolSize) {\n        super.setMaximumPoolSize(maximumPoolSize);\n        commandThreadpool.setMaximumPoolSize(maximumPoolSize);\n    }\n\n    @Override\n    public void setKeepAliveTime(long time, TimeUnit unit) {\n        super.setKeepAliveTime(time, unit);\n        commandThreadpool.setKeepAliveTime(time, unit);\n    }\n\n    @Override\n    public void setRejectedExecutionHandler(RejectedExecutionHandler handler) {\n        super.setRejectedExecutionHandler(handler);\n        commandThreadpool.setRejectedExecutionHandler(handler);\n    }\n\n    @Override\n    public List&lt;Runnable&gt; shutdownNow() {\n        List&lt;Runnable&gt; taskList = super.shutdownNow();\n        taskList.addAll(commandThreadpool.shutdownNow());\n        return taskList;\n    }\n\n    @Override\n    public void shutdown() {\n        super.shutdown();\n        commandThreadpool.shutdown();\n    }\n}\n</code></pre>\n\n<p>The above decorator can be used as below:</p>\n\n<pre><code>import java.util.concurrent.SynchronousQueue;\nimport java.util.concurrent.ThreadPoolExecutor;\nimport java.util.concurrent.TimeUnit;\n\npublic class Main {\n\n    public static void main(String[] args){\n\n        long timeout = 2000;\n\n        ThreadPoolExecutor threadPool = new ThreadPoolExecutor(3, 10, 0, TimeUnit.MILLISECONDS, new SynchronousQueue&lt;&gt;(true));\n\n        threadPool = new TimeoutThreadPoolDecorator( threadPool ,\n                timeout,\n                TimeUnit.MILLISECONDS);\n\n\n        threadPool.execute(command(1000));\n        threadPool.execute(command(1500));\n        threadPool.execute(command(2100));\n        threadPool.execute(command(2001));\n\n        while(threadPool.getActiveCount()&gt;0);\n        threadPool.shutdown();\n\n\n    }\n\n    private static Runnable command(int i) {\n\n        return () -&gt; {\n            System.out.println(\"Running Thread:\"+Thread.currentThread().getName());\n            System.out.println(\"Starting command with sleep:\"+i);\n            try {\n                Thread.sleep(i);\n            } catch (InterruptedException e) {\n                System.out.println(\"Thread \"+Thread.currentThread().getName()+\" with sleep of \"+i+\" is Interrupted!!!\");\n                return;\n            }\n            System.out.println(\"Completing Thread \"+Thread.currentThread().getName()+\" after sleep of \"+i);\n        };\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1699329,"reputation":3150,"user_id":1559874,"display_name":"abhi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684745189,"creation_date":1684745189,"answer_id":76304427,"question_id":2275443,"body_markdown":"I would suggest to use `ExecutorCompletionService`&#39;s poll method with timeout parameter. `ExecutorCompletionService` internally uses `LinkedBlockingQueue` for the completed tasks.\r\n\r\n    ExecutorService executorService = Executors.newFixedThreadPool(1);\r\n    ExecutorCompletionService executorCompletionService = new ExecutorCompletionService(executorService);\r\n    executorCompletionService.submit(() - &gt; yourTask());\r\n    Future&lt;ReturnType&gt; future = executorCompletionService.poll(yourTimeout, TimeUnit.SECONDS);\r\n    if (Objects.isNull(future)) {\r\n          // Here future is null, it means your task was not completed within the given time.\r\n    }\r\n\r\nAbove code snippet is for `Callable&lt;ReturnType&gt;`, if your task is `Runnable` then you may use `executorCompletionService.submit(() - &gt; yourTask(), yourReturnObject)` ","title":"How to timeout a thread","body":"<p>I would suggest to use <code>ExecutorCompletionService</code>'s poll method with timeout parameter. <code>ExecutorCompletionService</code> internally uses <code>LinkedBlockingQueue</code> for the completed tasks.</p>\n<pre><code>ExecutorService executorService = Executors.newFixedThreadPool(1);\nExecutorCompletionService executorCompletionService = new ExecutorCompletionService(executorService);\nexecutorCompletionService.submit(() - &gt; yourTask());\nFuture&lt;ReturnType&gt; future = executorCompletionService.poll(yourTimeout, TimeUnit.SECONDS);\nif (Objects.isNull(future)) {\n      // Here future is null, it means your task was not completed within the given time.\n}\n</code></pre>\n<p>Above code snippet is for <code>Callable&lt;ReturnType&gt;</code>, if your task is <code>Runnable</code> then you may use <code>executorCompletionService.submit(() - &gt; yourTask(), yourReturnObject)</code></p>\n"}],"owner":{"account_id":99559,"reputation":17675,"user_id":268850,"accept_rate":68,"display_name":"java_geek"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":297826,"favorite_count":0,"down_vote_count":0,"up_vote_count":283,"accepted_answer_id":2275596,"answer_count":18,"score":283,"last_activity_date":1684745189,"creation_date":1266346265,"question_id":2275443,"body_markdown":"I want to run a thread for some fixed amount of time. If it is not completed within that time, I want to either kill it, throw some exception, or handle it in some way. How can it be done?\r\n\r\nOne way of doing it as I figured out from [this thread](http://groups.google.com.br/group/comp.lang.java.programmer/msg/0fea9dd5f0117a7f)\r\nis to use a TimerTask inside the run() method of the Thread.\r\n\r\nAre there any better solutions for this?\r\n\r\n&amp;nbsp;  \r\nEDIT: Adding a bounty as I needed a clearer answer. The ExecutorService code given below does not address my problem. Why should I sleep() after executing (some code - I have no handle over this piece of code)? If the code is completed and the sleep() is interrupted, how can that be a timeOut?\r\n\r\nThe task that needs to be executed is not in my control. It can be any piece of code. The problem is this piece of code might run into an infinite loop. I don&#39;t want that to happen. So, I just want to run that task in a separate thread. The parent thread has to wait till that thread finishes and needs to know the status of the task (i.e whether it timed out or some exception occured or if its a success). If the task goes into an infinite loop, my parent thread keeps on waiting indefinitely, which is not an ideal situation.","title":"How to timeout a thread","body":"<p>I want to run a thread for some fixed amount of time. If it is not completed within that time, I want to either kill it, throw some exception, or handle it in some way. How can it be done?</p>\n\n<p>One way of doing it as I figured out from <a href=\"http://groups.google.com.br/group/comp.lang.java.programmer/msg/0fea9dd5f0117a7f\" rel=\"noreferrer\">this thread</a>\nis to use a TimerTask inside the run() method of the Thread.</p>\n\n<p>Are there any better solutions for this?</p>\n\n<p>&nbsp;<br>\nEDIT: Adding a bounty as I needed a clearer answer. The ExecutorService code given below does not address my problem. Why should I sleep() after executing (some code - I have no handle over this piece of code)? If the code is completed and the sleep() is interrupted, how can that be a timeOut?</p>\n\n<p>The task that needs to be executed is not in my control. It can be any piece of code. The problem is this piece of code might run into an infinite loop. I don't want that to happen. So, I just want to run that task in a separate thread. The parent thread has to wait till that thread finishes and needs to know the status of the task (i.e whether it timed out or some exception occured or if its a success). If the task goes into an infinite loop, my parent thread keeps on waiting indefinitely, which is not an ideal situation.</p>\n"},{"tags":["java","intellij-idea","intellij-plugin"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1683903388,"post_id":76237296,"comment_id":134442606,"body_markdown":"You just configure these projects as modules in IntelliJ IDEA. Different VCS repositories will work as well. Define dependencies between the modules per https://www.jetbrains.com/help/idea/working-with-module-dependencies.html#add-a-new-dependency. Refactorings will work across your modules. See https://www.jetbrains.com/help/idea/migrating-from-eclipse-to-intellij-idea.html#no-workspace.","body":"You just configure these projects as modules in IntelliJ IDEA. Different VCS repositories will work as well. Define dependencies between the modules per <a href=\"https://www.jetbrains.com/help/idea/working-with-module-dependencies.html#add-a-new-dependency\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a>. Refactorings will work across your modules. See <a href=\"https://www.jetbrains.com/help/idea/migrating-from-eclipse-to-intellij-idea.html#no-workspace\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a>."},{"owner":{"account_id":12296497,"reputation":155,"user_id":8971977,"display_name":"mkcons"},"score":0,"creation_date":1683905160,"post_id":76237296,"comment_id":134443015,"body_markdown":"Should have mentioned I use maven for dependency management. When I manually add the dependency the way you describe I get a warning from Intellij &quot;module app is imported From Maven. Any changes made in its configuration might be lost after reimporting&quot;, basically telling me not to tinker with buildpath outside maven. I know I could create a new project in maven and put these two as submodules, but I would like to avoid that.","body":"Should have mentioned I use maven for dependency management. When I manually add the dependency the way you describe I get a warning from Intellij &quot;module app is imported From Maven. Any changes made in its configuration might be lost after reimporting&quot;, basically telling me not to tinker with buildpath outside maven. I know I could create a new project in maven and put these two as submodules, but I would like to avoid that."},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1683905280,"post_id":76237296,"comment_id":134443057,"body_markdown":"Maven multi-module project is the way to go.","body":"Maven multi-module project is the way to go."},{"owner":{"account_id":12296497,"reputation":155,"user_id":8971977,"display_name":"mkcons"},"score":0,"creation_date":1683907947,"post_id":76237296,"comment_id":134443723,"body_markdown":"But, can I use a plugin to override Intellij&#39;s refactor behaviour?","body":"But, can I use a plugin to override Intellij&#39;s refactor behaviour?"},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1683907994,"post_id":76237296,"comment_id":134443739,"body_markdown":"Probably, but that would be an overkill.","body":"Probably, but that would be an overkill."}],"answers":[{"tags":[],"owner":{"account_id":12296497,"reputation":155,"user_id":8971977,"display_name":"mkcons"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684745115,"creation_date":1684315512,"answer_id":76270534,"question_id":76237296,"body_markdown":"What I ended doing: I created a third project to act as a parent, checked out both app and lib as github submodules and then modified the parent pom to also include them as modules. Both projects are visible from Intellij, refactoring works and projects remain independent in their respective repos. ","title":"Intellij: refactor across separate projects - plugin or pull request?","body":"<p>What I ended doing: I created a third project to act as a parent, checked out both app and lib as github submodules and then modified the parent pom to also include them as modules. Both projects are visible from Intellij, refactoring works and projects remain independent in their respective repos.</p>\n"}],"owner":{"account_id":12296497,"reputation":155,"user_id":8971977,"display_name":"mkcons"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76270534,"answer_count":1,"score":0,"last_activity_date":1684745115,"creation_date":1683901588,"question_id":76237296,"body_markdown":"I have two Java projects, App and Lib. App depends on Lib, yet they are in different repositories. \r\n\r\nI would like to have them both open in the same Intellij window, refactor a constant within Lib, and have that applied in App as well. \r\n\r\nI am wondering what is the best way to approach this: implementing the function in Intellij src and submit a PR or creating a plugin. \r\n\r\nMy preference would be to create a plugin because the PR may not be accepted. At the same time, I would like to avoid implementing refactoring if I can, my intention is just to extend Intellij&#39;s refactoring scope to include all open projects. Not sure if a plugin can just override application functionality.  \r\n\r\nEdit: Maven is used for dependency management. ","title":"Intellij: refactor across separate projects - plugin or pull request?","body":"<p>I have two Java projects, App and Lib. App depends on Lib, yet they are in different repositories.</p>\n<p>I would like to have them both open in the same Intellij window, refactor a constant within Lib, and have that applied in App as well.</p>\n<p>I am wondering what is the best way to approach this: implementing the function in Intellij src and submit a PR or creating a plugin.</p>\n<p>My preference would be to create a plugin because the PR may not be accepted. At the same time, I would like to avoid implementing refactoring if I can, my intention is just to extend Intellij's refactoring scope to include all open projects. Not sure if a plugin can just override application functionality.</p>\n<p>Edit: Maven is used for dependency management.</p>\n"},{"tags":["java","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":1090437,"reputation":6796,"user_id":1085186,"accept_rate":100,"display_name":"StackFlowed"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1411937634,"creation_date":1411937494,"answer_id":26089537,"question_id":26089522,"body_markdown":"You problem is that the next int doesn&#39;t consider the new line character which goes in the input for your name part. Hence name is returned as blank.\r\n\r\nYou can change your code in 2 ways:\r\n\r\n    System.out.print(&quot;Enter your age : &quot;);\r\n    age = keyboard.nextInt();\r\n    keyboard.nextLine();\r\n    System.out.print(&quot;Enter your name: &quot;);\r\n    name = keyboard.nextLine();\r\n\r\nor\r\n\r\n    System.out.print(&quot;Enter your age : &quot;);\r\n    age = Integer.parseInt(keyboard.nextLine().trim());\r\n    System.out.print(&quot;Enter your name: &quot;);\r\n    name = keyboard.nextLine();\r\n\r\nI personally like the second way.","title":"Trouble using nextInt and nextLine()","body":"<p>You problem is that the next int doesn't consider the new line character which goes in the input for your name part. Hence name is returned as blank.</p>\n\n<p>You can change your code in 2 ways:</p>\n\n<pre><code>System.out.print(\"Enter your age : \");\nage = keyboard.nextInt();\nkeyboard.nextLine();\nSystem.out.print(\"Enter your name: \");\nname = keyboard.nextLine();\n</code></pre>\n\n<p>or</p>\n\n<pre><code>System.out.print(\"Enter your age : \");\nage = Integer.parseInt(keyboard.nextLine().trim());\nSystem.out.print(\"Enter your name: \");\nname = keyboard.nextLine();\n</code></pre>\n\n<p>I personally like the second way.</p>\n"}],"owner":{"account_id":5069681,"reputation":47,"user_id":4068770,"accept_rate":88,"display_name":"user4068770"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":26089537,"answer_count":1,"score":0,"last_activity_date":1684744362,"creation_date":1411937369,"question_id":26089522,"body_markdown":"It&#39;s not letting me put my name in but it does the age works fine.\r\nI know i can change the order of the statements but is there another way I could do it?\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class ScannerErr2\r\n    {\r\n      public static void main(String [] args)\r\n      {\r\n        Scanner keyboard= new Scanner(System.in);\r\n        String name;\r\n        int    age;\r\n    \r\n        System.out.print(&quot;Enter your age : &quot;);\r\n        age= keyboard.nextInt();\r\n        System.out.print(&quot;Enter your name: &quot;);\r\n        name= keyboard.nextLine();\r\n    \r\n        System.out.println(&quot;Age : &quot;+age);\r\n        System.out.println(&quot;Name: &quot;+name);\r\n      }\r\n    }","title":"Trouble using nextInt and nextLine()","body":"<p>It's not letting me put my name in but it does the age works fine.\nI know i can change the order of the statements but is there another way I could do it?</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class ScannerErr2\n{\n  public static void main(String [] args)\n  {\n    Scanner keyboard= new Scanner(System.in);\n    String name;\n    int    age;\n\n    System.out.print(\"Enter your age : \");\n    age= keyboard.nextInt();\n    System.out.print(\"Enter your name: \");\n    name= keyboard.nextLine();\n\n    System.out.println(\"Age : \"+age);\n    System.out.println(\"Name: \"+name);\n  }\n}\n</code></pre>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1424066624,"post_id":28535367,"comment_id":45385060,"body_markdown":"Consume a line at a time. Split the line on space, convert the resulting strings to ints.","body":"Consume a line at a time. Split the line on space, convert the resulting strings to ints."},{"owner":{"account_id":3579096,"reputation":2566,"user_id":2987706,"accept_rate":90,"display_name":"Prashant"},"score":0,"creation_date":1424066678,"post_id":28535367,"comment_id":45385070,"body_markdown":"do You want to read only single and first row??","body":"do You want to read only single and first row??"}],"answers":[{"tags":[],"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1424066633,"creation_date":1424066633,"answer_id":28535400,"question_id":28535367,"body_markdown":"1. Use `hasNextLine()` in a `while` loop\r\n2. read the *lines* using `nextLine()` \r\n3. then split the values based on &quot;space[s]&quot;\r\n4. Parse each value as an Integer\r\n5. add them.\r\n\r\nAnd *realize* OMG, this is faster than using `nextInt()`","title":"Java: How to check for next ints without going to the next line (Scanner)","body":"<ol>\n<li>Use <code>hasNextLine()</code> in a <code>while</code> loop</li>\n<li>read the <em>lines</em> using <code>nextLine()</code> </li>\n<li>then split the values based on \"space[s]\"</li>\n<li>Parse each value as an Integer</li>\n<li>add them.</li>\n</ol>\n\n<p>And <em>realize</em> OMG, this is faster than using <code>nextInt()</code></p>\n"}],"owner":{"account_id":5794324,"reputation":13,"user_id":4570587,"display_name":"Maxitus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":28535400,"answer_count":1,"score":1,"last_activity_date":1684744295,"creation_date":1424066471,"question_id":28535367,"body_markdown":"Quick Java question: So I have a set of integers on two different lines, however, I want to regard them in different scenarios.\r\n\r\nSo I have a for loop that I want to continue through a list of integers and add them to, say an ArrayList, but I want it to stop before going to the next line.\r\n\r\nLike I would want it to stop at 2 in this situation:\r\n\r\n    1 4 2 91 4 0 2\r\n    3 5 8 6 9 88\r\nhasNextInt() stops at 88 instead of 2 like I would want it to (which makes sense).\r\n\r\nSo my question: is there a way to make it stop before going to the next line? I tried both nextInt() and next() and they both continued to the next line.\r\n\r\nMy code:\r\n\r\n    while (scan.hasNextInt())\r\n\t\t\t{\r\n\t\t\t\tif (stop == &#39;A&#39;)\r\n\t\t\t\t\tpassengers.put(stop, scan.nextInt() + subtract);\r\n\t\t\t\telse \r\n\t\t\t\t\tpassengers.put(stop, passengers.get((char)(stop - 1)) + scan.nextInt() + subtract);\r\n\t\t\t\tSystem.out.println(passengers);\r\n\t\t\t\tif (scan.hasNext())\r\n\t\t\t\t\tsubtract = scan.nextInt();\r\n\t\t\t\telse\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tstop++;\r\n\t\t\t}","title":"Java: How to check for next ints without going to the next line (Scanner)","body":"<p>Quick Java question: So I have a set of integers on two different lines, however, I want to regard them in different scenarios.</p>\n\n<p>So I have a for loop that I want to continue through a list of integers and add them to, say an ArrayList, but I want it to stop before going to the next line.</p>\n\n<p>Like I would want it to stop at 2 in this situation:</p>\n\n<pre><code>1 4 2 91 4 0 2\n3 5 8 6 9 88\n</code></pre>\n\n<p>hasNextInt() stops at 88 instead of 2 like I would want it to (which makes sense).</p>\n\n<p>So my question: is there a way to make it stop before going to the next line? I tried both nextInt() and next() and they both continued to the next line.</p>\n\n<p>My code:</p>\n\n<pre><code>while (scan.hasNextInt())\n        {\n            if (stop == 'A')\n                passengers.put(stop, scan.nextInt() + subtract);\n            else \n                passengers.put(stop, passengers.get((char)(stop - 1)) + scan.nextInt() + subtract);\n            System.out.println(passengers);\n            if (scan.hasNext())\n                subtract = scan.nextInt();\n            else\n                break;\n            stop++;\n        }\n</code></pre>\n"},{"tags":["java","ssl","jboss","jax-rs","httpclient"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1684498628,"post_id":76288795,"comment_id":134529872,"body_markdown":"That is an *incomplete* stacktrace.  You have omitted the part of the log message that shows the exception message.   And if you are getting an exception, that is not an indication that it is &quot;stuck&quot;.  Rather, it most likely means that it failed.","body":"That is an <i>incomplete</i> stacktrace.  You have omitted the part of the log message that shows the exception message.   And if you are getting an exception, that is not an indication that it is &quot;stuck&quot;.  Rather, it most likely means that it failed."},{"owner":{"account_id":11204964,"reputation":111,"user_id":8269948,"display_name":"Олег Гаврилів"},"score":0,"creation_date":1684499499,"post_id":76288795,"comment_id":134530090,"body_markdown":"updated stack trace. The request stuck for approximately one minute and then I see this log. But the successful response I got for approximately 2 seconds.","body":"updated stack trace. The request stuck for approximately one minute and then I see this log. But the successful response I got for approximately 2 seconds."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1684499652,"post_id":76288795,"comment_id":134530137,"body_markdown":"Possible reasons for &quot;random&quot; failure could be: 1) random network failures, 2) problems caused by network, router, firewall, etc misconfiguration, 3) network congestion, 4) some kind of anti-DOS or anti-scraper defenses being triggered, 5) bugs on the server side, 6) etcetera.","body":"Possible reasons for &quot;random&quot; failure could be: 1) random network failures, 2) problems caused by network, router, firewall, etc misconfiguration, 3) network congestion, 4) some kind of anti-DOS or anti-scraper defenses being triggered, 5) bugs on the server side, 6) etcetera."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1684499852,"post_id":76288795,"comment_id":134530172,"body_markdown":"Ah ... based on your updated log message, another possibility strikes me.  It could be that the server is draining its source of entropy (for generating random keys) and that is blocking it.   But that presupposes that that the server has been set up the wrong way; see https://serverfault.com/questions/1012010/can-ssl-tls-deplete-the-entropy-pool-of-my-server","body":"Ah ... based on your updated log message, another possibility strikes me.  It could be that the server is draining its source of entropy (for generating random keys) and that is blocking it.   But that presupposes that that the server has been set up the wrong way; see <a href=\"https://serverfault.com/questions/1012010/can-ssl-tls-deplete-the-entropy-pool-of-my-server\" title=\"can ssl tls deplete the entropy pool of my server\">serverfault.com/questions/1012010/&hellip;</a>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1684500109,"post_id":76288795,"comment_id":134530216,"body_markdown":"My advice would be to look on the server side to see if problems show up there; e.g. in the logs.  If that doesn&#39;t help, use your favorite packet sniffing tool to try to isolate the problem to the client, server or network.","body":"My advice would be to look on the server side to see if problems show up there; e.g. in the logs.  If that doesn&#39;t help, use your favorite packet sniffing tool to try to isolate the problem to the client, server or network."},{"owner":{"account_id":11204964,"reputation":111,"user_id":8269948,"display_name":"Олег Гаврилів"},"score":0,"creation_date":1684500390,"post_id":76288795,"comment_id":134530276,"body_markdown":"@StephenC same code is working well on another env. It&#39;s some infra issue I guess. The server is located in the China region. But why it&#39;s not repro with curl command then.","body":"@StephenC same code is working well on another env. It&#39;s some infra issue I guess. The server is located in the China region. But why it&#39;s not repro with curl command then."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1684503031,"post_id":76288795,"comment_id":134530843,"body_markdown":"Probably because what you are sending with curl is (maybe subtly) different.  Packet sniffing may show what the differences are.","body":"Probably because what you are sending with curl is (maybe subtly) different.  Packet sniffing may show what the differences are."}],"owner":{"account_id":11204964,"reputation":111,"user_id":8269948,"display_name":"Олег Гаврилів"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684743946,"creation_date":1684497322,"question_id":76288795,"body_markdown":"I am using java 8 and Jboss EAP 7.3.9. When I call 3-d party service randomly my application sometimes didn&#39;t get response. It&#39;s repro only on specific env(It&#39;s located in China region). On other env with same code it&#39;s not repro. In logs I see next warning: \r\n\r\n    13:30:05,000 WARN  [com.arjuna.ats.arjuna] (Transaction Reaper) ARJUNA012117: TransactionReaper::check timeout for TX 0:ffff0a9c8950:73df8c47:646382ee:1257 in state  RUN\r\n    13:30:05,003 WARN  [com.arjuna.ats.arjuna] (Transaction Reaper Worker 0) ARJUNA012095: Abort of action id 0:ffff0a9c8950:73df8c47:646382ee:1257 invoked while multiple threads active within it.\r\n    13:30:05,006 WARN  [com.arjuna.ats.arjuna] (Transaction Reaper Worker 0) ARJUNA012381: Action id 0:ffff0a9c8950:73df8c47:646382ee:1257 completed with multiple threads - thread default task-2 was in progress with java.net.SocketInputStream.socketRead0(Native Method)\r\n        java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\r\n        java.net.SocketInputStream.read(SocketInputStream.java:171)\r\n        java.net.SocketInputStream.read(SocketInputStream.java:141)\r\n        sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:464)\r\n        sun.security.ssl.SSLSocketInputRecord.decode(SSLSocketInputRecord.java:165)\r\n        sun.security.ssl.SSLTransport.decode(SSLTransport.java:109)\r\n        sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1397)\r\n        sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1305)\r\n        sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:440)\r\n        org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:436)\r\n        org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:384)\r\n        org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\r\n        org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)\r\n        org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\r\n        org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\r\n        org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\r\n        org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\r\n        org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\r\n        org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\r\n        org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\r\n        org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\r\n        org.jboss.resteasy.client.jaxrs.engines.ApacheHttpClient4Engine.invoke(ApacheHttpClient4Engine.java:320)\r\n        org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.invoke(ClientInvocation.java:447)\r\n        org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.invoke(ClientInvocation.java:64)\r\n        org.jboss.resteasy.client.jaxrs.internal.ClientInvocationBuilder.get(ClientInvocationBuilder.java:191)\r\n        com.my.service.impl.ClientServiceImpl.validate(ClientServiceImpl.java:99)\r\n\r\nI use next code to execute request :\r\n\r\n    Client restClient = ClientBuilder.newBuilder();\r\n    WebTarget target = restClient.target(uri);\r\n                   response = target.queryParam(&quot;token&quot;, value).queryParam(&quot;key&quot;, Key).request().get().readEntity(Response.class);\r\n\r\n\r\nWhat is the possible reasons why it randomly fails? Tried to reproduce with the curl command but without success.\r\n\r\n\r\n\r\n\r\n","title":"Https requst to external resourse get stuck randomly and no response for 3 minutes","body":"<p>I am using java 8 and Jboss EAP 7.3.9. When I call 3-d party service randomly my application sometimes didn't get response. It's repro only on specific env(It's located in China region). On other env with same code it's not repro. In logs I see next warning:</p>\n<pre><code>13:30:05,000 WARN  [com.arjuna.ats.arjuna] (Transaction Reaper) ARJUNA012117: TransactionReaper::check timeout for TX 0:ffff0a9c8950:73df8c47:646382ee:1257 in state  RUN\n13:30:05,003 WARN  [com.arjuna.ats.arjuna] (Transaction Reaper Worker 0) ARJUNA012095: Abort of action id 0:ffff0a9c8950:73df8c47:646382ee:1257 invoked while multiple threads active within it.\n13:30:05,006 WARN  [com.arjuna.ats.arjuna] (Transaction Reaper Worker 0) ARJUNA012381: Action id 0:ffff0a9c8950:73df8c47:646382ee:1257 completed with multiple threads - thread default task-2 was in progress with java.net.SocketInputStream.socketRead0(Native Method)\n    java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\n    java.net.SocketInputStream.read(SocketInputStream.java:171)\n    java.net.SocketInputStream.read(SocketInputStream.java:141)\n    sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:464)\n    sun.security.ssl.SSLSocketInputRecord.decode(SSLSocketInputRecord.java:165)\n    sun.security.ssl.SSLTransport.decode(SSLTransport.java:109)\n    sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1397)\n    sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1305)\n    sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:440)\n    org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:436)\n    org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:384)\n    org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\n    org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)\n    org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\n    org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\n    org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\n    org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\n    org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\n    org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\n    org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\n    org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\n    org.jboss.resteasy.client.jaxrs.engines.ApacheHttpClient4Engine.invoke(ApacheHttpClient4Engine.java:320)\n    org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.invoke(ClientInvocation.java:447)\n    org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.invoke(ClientInvocation.java:64)\n    org.jboss.resteasy.client.jaxrs.internal.ClientInvocationBuilder.get(ClientInvocationBuilder.java:191)\n    com.my.service.impl.ClientServiceImpl.validate(ClientServiceImpl.java:99)\n</code></pre>\n<p>I use next code to execute request :</p>\n<pre><code>Client restClient = ClientBuilder.newBuilder();\nWebTarget target = restClient.target(uri);\n               response = target.queryParam(&quot;token&quot;, value).queryParam(&quot;key&quot;, Key).request().get().readEntity(Response.class);\n</code></pre>\n<p>What is the possible reasons why it randomly fails? Tried to reproduce with the curl command but without success.</p>\n"},{"tags":["java","json","string","jackson"],"comments":[{"owner":{"account_id":3444631,"reputation":8971,"user_id":3872976,"accept_rate":85,"display_name":"deathangel908"},"score":2,"creation_date":1547737516,"post_id":54238693,"comment_id":95301968,"body_markdown":"Why don&#39;t you check performance yourself under load or using currentMillis and tell us? It really depends on various number of factors like json size and etc","body":"Why don&#39;t you check performance yourself under load or using currentMillis and tell us? It really depends on various number of factors like json size and etc"},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":5,"creation_date":1547737538,"post_id":54238693,"comment_id":95301979,"body_markdown":"Everytime you have to decide between parse and regex, go for parse. A parser has strict rules which get maintained (almost always) by a team of professionals. Whereas writing your own regex is quite error-prone","body":"Everytime you have to decide between parse and regex, go for parse. A parser has strict rules which get maintained (almost always) by a team of professionals. Whereas writing your own regex is quite error-prone"},{"owner":{"account_id":3444631,"reputation":8971,"user_id":3872976,"accept_rate":85,"display_name":"deathangel908"},"score":0,"creation_date":1547737634,"post_id":54238693,"comment_id":95302052,"body_markdown":"`Everytime you have to decide between parse and regex, go for parse` Well it&#39;s not true, if performance is really a bottleneck you can consider to do something crazy. As as I said if it&#39;s really so.","body":"<code>Everytime you have to decide between parse and regex, go for parse</code> Well it&#39;s not true, if performance is really a bottleneck you can consider to do something crazy. As as I said if it&#39;s really so."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1547737860,"post_id":54238693,"comment_id":95302206,"body_markdown":"@deathangel908 true, with highly specialized code you might be able to squeeze out some performance but string manipulation on Json you can&#39;t control is bound to get buggy in a nasty way. And if you can control the Json (structure, contents etc.) then there are probably faster, easier and less error prone ways to implement it by changing the Json/api itself.","body":"@deathangel908 true, with highly specialized code you might be able to squeeze out some performance but string manipulation on Json you can&#39;t control is bound to get buggy in a nasty way. And if you can control the Json (structure, contents etc.) then there are probably faster, easier and less error prone ways to implement it by changing the Json/api itself."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1547738159,"post_id":54238693,"comment_id":95302409,"body_markdown":"Ways regex can break when &quot;just appending a few zeroes to a number&quot; if you don&#39;t fully control possible inputs: the string expected to be a number contains non-digits (e.g. `.` or `E`)  - what do you do? Silently leave the input unmodified? Throw? Append zeroes anyway? What if the &quot;number&quot; is `0` - is appending a few more zeroes the right thing to do, or did you mean to add `+1000`?","body":"Ways regex can break when &quot;just appending a few zeroes to a number&quot; if you don&#39;t fully control possible inputs: the string expected to be a number contains non-digits (e.g. <code>.</code> or <code>E</code>)  - what do you do? Silently leave the input unmodified? Throw? Append zeroes anyway? What if the &quot;number&quot; is <code>0</code> - is appending a few more zeroes the right thing to do, or did you mean to add <code>+1000</code>?"},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1547738900,"post_id":54238693,"comment_id":95302935,"body_markdown":"Of course, there are rare occasions where &quot;just appending&quot; something is correct - for example, these numbers might be some kind of serial number, where one of two systems appends some additional digits that the other one omits because they are known to be always zero anyway. Still, I would always prefer parsing, because it gives you more flexibility as to how to react when encountering unexpected input.","body":"Of course, there are rare occasions where &quot;just appending&quot; something is correct - for example, these numbers might be some kind of serial number, where one of two systems appends some additional digits that the other one omits because they are known to be always zero anyway. Still, I would always prefer parsing, because it gives you more flexibility as to how to react when encountering unexpected input."}],"answers":[{"tags":[],"owner":{"account_id":12587200,"reputation":787,"user_id":9155551,"display_name":"Itai Steinherz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547800441,"creation_date":1547744695,"answer_id":54240917,"question_id":54238693,"body_markdown":"Since I&#39;m not very familiar with JSON parsing/manipulation in Java, I&#39;ll compare the same operations in JavaScript (which I am more experienced in).\r\n\r\nComparing using a basic regex with `.replace` and using `JSON.parse` &amp; `JSON.stringify`, the result are that **using `JSON.parse` is slower by a small percentage** (4.37% to be precise).\r\n\r\nHowever, I don&#39;t think the perf gain is worth it, and I would always go with more readable and maintainable code (the `JSON.parse` approach) rather than the more performant (the `.replace` approach).\r\n\r\nSee the complete benchmark I used [here](https://jsbench.me/i3jr0v0svh/1).","title":"Should I parse json string to json object or manipulate the string directly","body":"<p>Since I'm not very familiar with JSON parsing/manipulation in Java, I'll compare the same operations in JavaScript (which I am more experienced in).</p>\n\n<p>Comparing using a basic regex with <code>.replace</code> and using <code>JSON.parse</code> &amp; <code>JSON.stringify</code>, the result are that <strong>using <code>JSON.parse</code> is slower by a small percentage</strong> (4.37% to be precise).</p>\n\n<p>However, I don't think the perf gain is worth it, and I would always go with more readable and maintainable code (the <code>JSON.parse</code> approach) rather than the more performant (the <code>.replace</code> approach).</p>\n\n<p>See the complete benchmark I used <a href=\"https://jsbench.me/i3jr0v0svh/1\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684743840,"creation_date":1684743840,"answer_id":76304288,"question_id":54238693,"body_markdown":"I would just use the regular expression.\r\n\r\nI imagine the parser is using some form of pattern matching, or most-likely a for-loop on a character stream.\r\n\r\n```regex\r\n\\&quot;number\\&quot;:\\s+\\&quot;(\\d+)\\&quot;\r\n```\r\n\r\nYou can reference [RFC 8259](https://www.rfc-editor.org/rfc/rfc8259) for a complete BNF on the JSON grammar and syntax.","title":"Should I parse json string to json object or manipulate the string directly","body":"<p>I would just use the regular expression.</p>\n<p>I imagine the parser is using some form of pattern matching, or most-likely a for-loop on a character stream.</p>\n<pre><code>\\&quot;number\\&quot;:\\s+\\&quot;(\\d+)\\&quot;\n</code></pre>\n<p>You can reference <a href=\"https://www.rfc-editor.org/rfc/rfc8259\" rel=\"nofollow noreferrer\">RFC 8259</a> for a complete BNF on the JSON grammar and syntax.</p>\n"}],"owner":{"account_id":4906361,"reputation":3077,"user_id":3952994,"accept_rate":76,"display_name":"Holm"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1443,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1684743840,"creation_date":1547737403,"question_id":54238693,"body_markdown":"normally I parse a json string to json object instead of manipulating the json string directly. for example, a json string like\r\n\r\n```\r\n{&quot;number&quot;: &quot;1234567&quot;}\r\n\r\n```\r\nif I have to add 000 at the end\r\n```\r\n...\r\n{...,&quot;number&quot; : &quot;1234567000&quot;,...}\r\n....\r\n```\r\nI will use jackson either parse it as Json Object or POJO\r\n\r\nI understand readability perspective parsing to Json object or POJO is much better, but I&#39;m curious about the performance. In this case, if I manipulate the json string directly, I have to use regex to extract the number attribute, and add 000 at the end, which is much more expensive than parsing to Json Object if having lots of data? because string object basically creates a new string object?\r\n\r\n\r\n**EDIT**:\r\nBased on @Itai Steinherz&#39;s link I also make a benchmark in JS, and it shows json parse is better\r\nhttps://jsbench.me/93jr1w6k5b/1","title":"Should I parse json string to json object or manipulate the string directly","body":"<p>normally I parse a json string to json object instead of manipulating the json string directly. for example, a json string like</p>\n\n<pre><code>{\"number\": \"1234567\"}\n\n</code></pre>\n\n<p>if I have to add 000 at the end</p>\n\n<pre><code>...\n{...,\"number\" : \"1234567000\",...}\n....\n</code></pre>\n\n<p>I will use jackson either parse it as Json Object or POJO</p>\n\n<p>I understand readability perspective parsing to Json object or POJO is much better, but I'm curious about the performance. In this case, if I manipulate the json string directly, I have to use regex to extract the number attribute, and add 000 at the end, which is much more expensive than parsing to Json Object if having lots of data? because string object basically creates a new string object?</p>\n\n<p><strong>EDIT</strong>:\nBased on @Itai Steinherz's link I also make a benchmark in JS, and it shows json parse is better\n<a href=\"https://jsbench.me/93jr1w6k5b/1\" rel=\"nofollow noreferrer\">https://jsbench.me/93jr1w6k5b/1</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":24564,"reputation":123812,"user_id":62576,"accept_rate":100,"display_name":"Ken White"},"score":0,"creation_date":1520391712,"post_id":49143379,"comment_id":85292229,"body_markdown":"Fix your code. Stopping updates is like inviting malware in, and you should not do so. Any app that requires stopping updates gets an instant blacklist from every computer on my network and my persona machines. Want yours to join them on every network?","body":"Fix your code. Stopping updates is like inviting malware in, and you should not do so. Any app that requires stopping updates gets an instant blacklist from every computer on my network and my persona machines. Want yours to join them on every network?"},{"owner":{"account_id":3292440,"reputation":2216,"user_id":7088038,"display_name":"avigil"},"score":0,"creation_date":1520399449,"post_id":49143379,"comment_id":85294227,"body_markdown":"windows is not installing java updates. The JRE has its own updater.","body":"windows is not installing java updates. The JRE has its own updater."},{"owner":{"account_id":9616794,"reputation":61,"user_id":7139303,"display_name":"Vic Liu"},"score":0,"creation_date":1520399751,"post_id":49143379,"comment_id":85294305,"body_markdown":"yes, I want to disable the JRE own updates","body":"yes, I want to disable the JRE own updates"}],"answers":[{"tags":[],"owner":{"account_id":9847667,"reputation":29054,"user_id":7294647,"accept_rate":67,"display_name":"Jacob G."},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1520393318,"creation_date":1520393318,"answer_id":49143635,"question_id":49143379,"body_markdown":"It is highly recommended that you **do not** disable automatic updates, as your programs can become prone to malware.  If you decide to follow through with this, the consequences are your own.\r\n\r\nIn the Java Control Panel (which you can get to from Windows&#39; Control Panel), navigate to the `Update` tab, and verify that `Automatically check for updates (Recommended)` is **unchecked**, as seen in the image below.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nNext, navigate to the `Advanced` tab and select the `Application Installation` sub-tab.  Verify that the `Never install` radio button **is ticked**, as seen in the image below.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAfter this, you should be good to go!\r\n\r\n**Note**: Remember to hit `Apply` after making any changes to settings within these menus.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/44D5T.png\r\n  [2]: https://i.stack.imgur.com/GLwSO.png","title":"How to disable JRE auto update in Windows 10?","body":"<p>It is highly recommended that you <strong>do not</strong> disable automatic updates, as your programs can become prone to malware.  If you decide to follow through with this, the consequences are your own.</p>\n\n<p>In the Java Control Panel (which you can get to from Windows' Control Panel), navigate to the <code>Update</code> tab, and verify that <code>Automatically check for updates (Recommended)</code> is <strong>unchecked</strong>, as seen in the image below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/44D5T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/44D5T.png\" alt=\"enter image description here\"></a></p>\n\n<p>Next, navigate to the <code>Advanced</code> tab and select the <code>Application Installation</code> sub-tab.  Verify that the <code>Never install</code> radio button <strong>is ticked</strong>, as seen in the image below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/GLwSO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GLwSO.png\" alt=\"enter image description here\"></a></p>\n\n<p>After this, you should be good to go!</p>\n\n<p><strong>Note</strong>: Remember to hit <code>Apply</code> after making any changes to settings within these menus.</p>\n"}],"owner":{"account_id":9616794,"reputation":61,"user_id":7139303,"display_name":"Vic Liu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10711,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1684743584,"creation_date":1520391426,"question_id":49143379,"body_markdown":"Windows will automatically update the JRE when Java posts new updates, but my Elasticsearch only uses jRE of the specified version, how to disable JRE auto-update in Windows system?","title":"How to disable JRE auto update in Windows 10?","body":"<p>Windows will automatically update the JRE when Java posts new updates, but my Elasticsearch only uses jRE of the specified version, how to disable JRE auto-update in Windows system?</p>\n"},{"tags":["java","mysql","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1683887966,"post_id":76235394,"comment_id":134438871,"body_markdown":"Are you sure that the repository is properly auto-configured as JPA repository by Spring Boot? Did the same code actually work in Spring Boot 2? Can you see in the logs: &quot;Bootstrapping Spring Data JPA repositories&quot; and &quot;Found NNN JPA repository interfaces&quot;","body":"Are you sure that the repository is properly auto-configured as JPA repository by Spring Boot? Did the same code actually work in Spring Boot 2? Can you see in the logs: &quot;Bootstrapping Spring Data JPA repositories&quot; and &quot;Found NNN JPA repository interfaces&quot;"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1683888410,"post_id":76235394,"comment_id":134438966,"body_markdown":"If &quot;SELECT c FROM MyClass c WHERE c.delivered = *true*&quot; works, doesn&#39;t that mean that DELIVERED is actually a BOOLEAN and not a VARCHAR?","body":"If &quot;SELECT c FROM MyClass c WHERE c.delivered = <i>true</i>&quot; works, doesn&#39;t that mean that DELIVERED is actually a BOOLEAN and not a VARCHAR?"},{"owner":{"account_id":4862517,"reputation":1544,"user_id":3921725,"display_name":"Alex Roig"},"score":0,"creation_date":1683965954,"post_id":76235394,"comment_id":134450030,"body_markdown":"The same code works in SB 2. The JPA is properly configured and I see the mentioned log. Also, rewriting the query as `findAllByDelivered(Boolean delivered);` would work. As mentioned, at database layer the underlying type is VARCHAR and a converter is used","body":"The same code works in SB 2. The JPA is properly configured and I see the mentioned log. Also, rewriting the query as <code>findAllByDelivered(Boolean delivered);</code> would work. As mentioned, at database layer the underlying type is VARCHAR and a converter is used"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1684141405,"post_id":76235394,"comment_id":134467892,"body_markdown":"@AlexRoig have you tried **to not** use `is` verb? i.e. `findAllByDeliveredTrue` instead of `findAllByDeliveredIsTrue`?","body":"@AlexRoig have you tried <b>to not</b> use <code>is</code> verb? i.e. <code>findAllByDeliveredTrue</code> instead of <code>findAllByDeliveredIsTrue</code>?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1684143936,"post_id":76235394,"comment_id":134468504,"body_markdown":"@AndreyB.Panfilov Please state exactly how changing the method name as you suggest could possibly fix this problem. It can&#39;t.","body":"@AndreyB.Panfilov Please state exactly how changing the method name as you suggest could possibly fix this problem. It can&#39;t."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1684144019,"post_id":76235394,"comment_id":134468530,"body_markdown":"@OP There is no such thing as an `isTrue` keyword anywhere in your post. Please clarify.","body":"@OP There is no such thing as an <code>isTrue</code> keyword anywhere in your post. Please clarify."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1684144267,"post_id":76235394,"comment_id":134468584,"body_markdown":"@user207421 I would suggest to read [official documentation](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation) first: &quot;True findByActiveTrue() … where x.active = true&quot;","body":"@user207421 I would suggest to read <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation\" rel=\"nofollow noreferrer\">official documentation</a> first: &quot;True findByActiveTrue() … where x.active = true&quot;"},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1684169419,"post_id":76235394,"comment_id":134474642,"body_markdown":"You are carefully handling &quot;null&quot; as a third possible value.  Perhaps the problem is there?","body":"You are carefully handling &quot;null&quot; as a third possible value.  Perhaps the problem is there?"}],"answers":[{"tags":[],"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684169864,"creation_date":1684169864,"answer_id":76256341,"question_id":76235394,"body_markdown":"The code you showed does not work with a boolean, but rather a tri-state value.  Decide what you will do with NULLs.  Then be sure to have 3 cases throughout your code.\r\n\r\nI would not bother trying to fix the yes/no being in a VARCHAR unless you can actually fix the schema and the data.  Instead, test for `== &#39;N&#39;` as needed.  (I picked the &quot;no&quot; side because that works with most European languages.\r\n\r\nNote, however, that `== &#39;Y&#39;` is not the same as `!= &#39;N&#39;` -- because of the NULL option.\r\n\r\nAlso, check that the `COLLATION` of that `VARCHAR` is case-folding so that &#39;n&#39; == &#39;N&#39;.  The collation name should end in `_ci``.","title":"SpringBoot 3 (Data) keyword isTrue doesn&#39;t work","body":"<p>The code you showed does not work with a boolean, but rather a tri-state value.  Decide what you will do with NULLs.  Then be sure to have 3 cases throughout your code.</p>\n<p>I would not bother trying to fix the yes/no being in a VARCHAR unless you can actually fix the schema and the data.  Instead, test for <code>== 'N'</code> as needed.  (I picked the &quot;no&quot; side because that works with most European languages.</p>\n<p>Note, however, that <code>== 'Y'</code> is not the same as <code>!= 'N'</code> -- because of the NULL option.</p>\n<p>Also, check that the <code>COLLATION</code> of that <code>VARCHAR</code> is case-folding so that 'n' == 'N'.  The collation name should end in `_ci``.</p>\n"},{"tags":[],"owner":{"account_id":4862517,"reputation":1544,"user_id":3921725,"display_name":"Alex Roig"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684742950,"creation_date":1684742950,"answer_id":76304177,"question_id":76235394,"body_markdown":"It turns out it&#39;s an issue on CriteriaBuilder on Spring Data. The issue is being tracked on the [repository issue #2800](https://github.com/spring-projects/spring-data-jpa/issues/2800). At the moment of answering it&#39;s still not resolved and affected versions are at least `Spring Boot 3.0.2`","title":"SpringBoot 3 (Data) keyword isTrue doesn&#39;t work","body":"<p>It turns out it's an issue on CriteriaBuilder on Spring Data. The issue is being tracked on the <a href=\"https://github.com/spring-projects/spring-data-jpa/issues/2800\" rel=\"nofollow noreferrer\">repository issue #2800</a>. At the moment of answering it's still not resolved and affected versions are at least <code>Spring Boot 3.0.2</code></p>\n"}],"owner":{"account_id":4862517,"reputation":1544,"user_id":3921725,"display_name":"Alex Roig"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":76304177,"answer_count":2,"score":5,"last_activity_date":1684742950,"creation_date":1683887368,"question_id":76235394,"body_markdown":"I&#39;m seeing something strange after upgrading my app to SpringBoot 3 from SpringBoot 2.\r\n\r\nThe application relies on an existing database (MySQL) which doesn&#39;t use good practices. One of them is using `Y` `N` for booleans stored in a VARCHAR.\r\n\r\nTo make things easier on the Java side, I created a converter that looks like this:\r\n\r\n``` java\r\n@Converter\r\npublic class BooleanToStringConverter implements AttributeConverter&lt;Boolean, String&gt; {\r\n\r\n    @Override\r\n    public String convertToDatabaseColumn(Boolean attribute) {\r\n        if (attribute == null) {\r\n            return null;\r\n        }\r\n        return attribute ? &quot;Y&quot; : &quot;N&quot;;\r\n    }\r\n\r\n    @Override\r\n    public Boolean convertToEntityAttribute(String dbData) {\r\n        if (dbData == null) {\r\n            return null;\r\n        }\r\n        return dbData.equals(&quot;Y&quot;);\r\n    }\r\n}\r\n```\r\n\r\nAnd on my beans I use it as:\r\n``` java\r\n@Column(name = &quot;DELIVERED&quot;)\r\n@Convert(converter = BooleanToStringConverter.class)\r\nprivate Boolean delivered;\r\n```\r\n\r\nSo far so good.\r\n\r\nIf I create a repository to query all delivered entities I&#39;d write something like this in SpringBoot 2:\r\n\r\n```\r\nList&lt;MyClass&gt; findAllByDeliveredIsTrue();\r\n```\r\n\r\nBut if I run this in SpringBoot 3 it returns an empty list.\r\n\r\nI need to write the query manually to make it work.\r\n\r\n```\r\n@Query(&quot;SELECT c FROM MyClass c WHERE c.delivered = true&quot;)\r\nList&lt;MyClass&gt; findAllByDeliveredIsTrue();\r\n```\r\n\r\nAny idea why it&#39;s happening?\r\n\r\n\r\n----------\r\nEdit:\r\n\r\nI&#39;ve enabled SQL Logs and definitely queries are created differently. For sake of simplicity I translated some things on the post because on real scenario the database is in Spanish and it uses `S`/`N` instead of `Y`/`N`.\r\n\r\n```java\r\nJava service\r\n    @PostConstruct\r\n    public void init() {\r\n        log.error(&quot;DEBUG INIT&quot;);\r\n        repo.findFirstByActiuIsTrueOrderByDataDesc();\r\n        repo.findFirstByActiuIsTrueOrderByDataDesc1(); ///Working case\r\n        log.error(&quot;DEBUG END&quot;);\r\n    }\r\n\r\n```\r\n```java\r\nRepository\r\n\r\n//Failing case\r\nOptional&lt;Condicio&gt; findFirstByActiuIsTrueOrderByDataDesc();\r\n\r\n\r\n@Query(&quot;SELECT c FROM Condicio c WHERE c.actiu = true ORDER BY c.data ASC&quot;)\r\nOptional&lt;Condicio&gt; findFirstByActiuIsTrueOrderByDataDesc1(); //Working case\r\n\r\n```\r\n \r\n\r\n```\r\n2023-05-13T10:23:19.336+02:00 ERROR 42936 --- [  restartedMain] c.n.a.backend.service.CondicioService    : DEBUG INIT\r\nHibernate: select c1_0.COND_CONDICIO,c1_0.COND_ACTIU,c1_0.COND_DATA,c1_0.COND_DESCRIPCIO from CONDICIONS c1_0 where c1_0.COND_ACTIU order by c1_0.COND_DATA desc limit ?\r\nHibernate: select c1_0.COND_CONDICIO,c1_0.COND_ACTIU,c1_0.COND_DATA,c1_0.COND_DESCRIPCIO from CONDICIONS c1_0 where c1_0.COND_ACTIU=&#39;S&#39; order by c1_0.COND_DATA asc\r\n2023-05-13T10:23:19.451+02:00 ERROR 42936 --- [  restartedMain] c.n.a.backend.service.CondicioService    : DEBUG END\r\n```\r\n","title":"SpringBoot 3 (Data) keyword isTrue doesn&#39;t work","body":"<p>I'm seeing something strange after upgrading my app to SpringBoot 3 from SpringBoot 2.</p>\n<p>The application relies on an existing database (MySQL) which doesn't use good practices. One of them is using <code>Y</code> <code>N</code> for booleans stored in a VARCHAR.</p>\n<p>To make things easier on the Java side, I created a converter that looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Converter\npublic class BooleanToStringConverter implements AttributeConverter&lt;Boolean, String&gt; {\n\n    @Override\n    public String convertToDatabaseColumn(Boolean attribute) {\n        if (attribute == null) {\n            return null;\n        }\n        return attribute ? &quot;Y&quot; : &quot;N&quot;;\n    }\n\n    @Override\n    public Boolean convertToEntityAttribute(String dbData) {\n        if (dbData == null) {\n            return null;\n        }\n        return dbData.equals(&quot;Y&quot;);\n    }\n}\n</code></pre>\n<p>And on my beans I use it as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Column(name = &quot;DELIVERED&quot;)\n@Convert(converter = BooleanToStringConverter.class)\nprivate Boolean delivered;\n</code></pre>\n<p>So far so good.</p>\n<p>If I create a repository to query all delivered entities I'd write something like this in SpringBoot 2:</p>\n<pre><code>List&lt;MyClass&gt; findAllByDeliveredIsTrue();\n</code></pre>\n<p>But if I run this in SpringBoot 3 it returns an empty list.</p>\n<p>I need to write the query manually to make it work.</p>\n<pre><code>@Query(&quot;SELECT c FROM MyClass c WHERE c.delivered = true&quot;)\nList&lt;MyClass&gt; findAllByDeliveredIsTrue();\n</code></pre>\n<p>Any idea why it's happening?</p>\n<hr />\n<p>Edit:</p>\n<p>I've enabled SQL Logs and definitely queries are created differently. For sake of simplicity I translated some things on the post because on real scenario the database is in Spanish and it uses <code>S</code>/<code>N</code> instead of <code>Y</code>/<code>N</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Java service\n    @PostConstruct\n    public void init() {\n        log.error(&quot;DEBUG INIT&quot;);\n        repo.findFirstByActiuIsTrueOrderByDataDesc();\n        repo.findFirstByActiuIsTrueOrderByDataDesc1(); ///Working case\n        log.error(&quot;DEBUG END&quot;);\n    }\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Repository\n\n//Failing case\nOptional&lt;Condicio&gt; findFirstByActiuIsTrueOrderByDataDesc();\n\n\n@Query(&quot;SELECT c FROM Condicio c WHERE c.actiu = true ORDER BY c.data ASC&quot;)\nOptional&lt;Condicio&gt; findFirstByActiuIsTrueOrderByDataDesc1(); //Working case\n\n</code></pre>\n<pre><code>2023-05-13T10:23:19.336+02:00 ERROR 42936 --- [  restartedMain] c.n.a.backend.service.CondicioService    : DEBUG INIT\nHibernate: select c1_0.COND_CONDICIO,c1_0.COND_ACTIU,c1_0.COND_DATA,c1_0.COND_DESCRIPCIO from CONDICIONS c1_0 where c1_0.COND_ACTIU order by c1_0.COND_DATA desc limit ?\nHibernate: select c1_0.COND_CONDICIO,c1_0.COND_ACTIU,c1_0.COND_DATA,c1_0.COND_DESCRIPCIO from CONDICIONS c1_0 where c1_0.COND_ACTIU='S' order by c1_0.COND_DATA asc\n2023-05-13T10:23:19.451+02:00 ERROR 42936 --- [  restartedMain] c.n.a.backend.service.CondicioService    : DEBUG END\n</code></pre>\n"},{"tags":["java","database","hibernate","join"],"comments":[{"owner":{"account_id":39274,"reputation":6968,"user_id":113173,"accept_rate":75,"display_name":"jdc0589"},"score":1,"creation_date":1282605099,"post_id":3552330,"comment_id":3721769,"body_markdown":"By convention, you should not really be interacting between multiple databases like this, even if some do support it. You should get the information you need from each database separately and consolidate into instances of some business object yourself.","body":"By convention, you should not really be interacting between multiple databases like this, even if some do support it. You should get the information you need from each database separately and consolidate into instances of some business object yourself."},{"owner":{"account_id":189507,"reputation":121,"user_id":428873,"display_name":"Oberoc"},"score":0,"creation_date":1282605997,"post_id":3552330,"comment_id":3721843,"body_markdown":"@JDC0589 Are you referring to the Repository Pattern or some of the other exotic ways that I am trying to coax Hibernate into doing what I need it to do?","body":"@JDC0589 Are you referring to the Repository Pattern or some of the other exotic ways that I am trying to coax Hibernate into doing what I need it to do?"}],"answers":[{"tags":[],"owner":{"account_id":62054,"reputation":22899,"user_id":184581,"accept_rate":62,"display_name":"Mike Q"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1282604829,"creation_date":1282604829,"answer_id":3552375,"question_id":3552330,"body_markdown":"You have a couple of problems unfortunately.\r\n\r\n- Hibernate does not supporting joining across multiple &quot;physical&quot; database instances\r\n- Out of the box, most database don&#39;t support joining across multiple &quot;physical&quot; database instances\r\n\r\nFundamentally DBs are only good/performant at joining tables that are in the same database.  There are ways of joining across databases but if the size of both tables is big this can be a problem, and peformance may suffer.  Do some googling on &quot;oracle join across database&quot; and you&#39;ll find some pointers on how to do this but it involves fiddling around with Oracle create a virtual link from one DB to the other.\r\n\r\nI would consider either doing the join in memory, if you are comfortable the data set will fit within the memory constraints AND you are only doing this in one special case.\r\n\r\nIf you&#39;ll need to do different joins between these two databases then I would go for a more permanent solution, like the Oracle linking above.\r\n","title":"Doing a join over 2 tables in different databases using Hibernate","body":"<p>You have a couple of problems unfortunately.</p>\n\n<ul>\n<li>Hibernate does not supporting joining across multiple \"physical\" database instances</li>\n<li>Out of the box, most database don't support joining across multiple \"physical\" database instances</li>\n</ul>\n\n<p>Fundamentally DBs are only good/performant at joining tables that are in the same database.  There are ways of joining across databases but if the size of both tables is big this can be a problem, and peformance may suffer.  Do some googling on \"oracle join across database\" and you'll find some pointers on how to do this but it involves fiddling around with Oracle create a virtual link from one DB to the other.</p>\n\n<p>I would consider either doing the join in memory, if you are comfortable the data set will fit within the memory constraints AND you are only doing this in one special case.</p>\n\n<p>If you'll need to do different joins between these two databases then I would go for a more permanent solution, like the Oracle linking above.</p>\n"},{"tags":[],"owner":{"account_id":140076,"reputation":14954,"user_id":346112,"accept_rate":97,"display_name":"Jim Tough"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684742944,"creation_date":1282606558,"answer_id":3552498,"question_id":3552330,"body_markdown":"I have no experience with doing this myself, but I know that Oracle supports database &quot;links&quot; ([tag:dblink]) between two separate database instances.  Maybe this article will help you?\r\n\r\n[Post on Hibernate forums about using Oracle link between two instances][1]\r\n\r\n\r\n  [1]: https://forum.hibernate.org/viewtopic.php?t=994403&amp;sid=c54ddfe21ace9706fd9fddd4a335c43e","title":"Doing a join over 2 tables in different databases using Hibernate","body":"<p>I have no experience with doing this myself, but I know that Oracle supports database &quot;links&quot; (<a href=\"/questions/tagged/dblink\" class=\"post-tag\" title=\"show questions tagged &#39;dblink&#39;\" aria-label=\"show questions tagged &#39;dblink&#39;\" rel=\"tag\" aria-labelledby=\"tag-dblink-tooltip-container\">dblink</a>) between two separate database instances.  Maybe this article will help you?</p>\n<p><a href=\"https://forum.hibernate.org/viewtopic.php?t=994403&amp;sid=c54ddfe21ace9706fd9fddd4a335c43e\" rel=\"nofollow noreferrer\">Post on Hibernate forums about using Oracle link between two instances</a></p>\n"}],"owner":{"account_id":189507,"reputation":121,"user_id":428873,"display_name":"Oberoc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11610,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":2,"score":12,"last_activity_date":1684742944,"creation_date":1282604129,"question_id":3552330,"body_markdown":"I have two tables in two separate **Oracle databases** (not schemas) that I need to **join in Hibernate**.  Currently, I have two Hibernate sessions going out to the separate databases. Before anybody says look at **Hibernate Shards**, I have spent a better part of a day looking at that sub-project and have found that: it is for horizontal partitioned data (all the tables must be in all of the databases AFAIK), there is no way for one to tell Shards to look only in one database ([Hibernate Shards Docs][1]), and is no longer being worked on.\r\n\r\nThings that I have thought about to try to solve this problem:  \r\n\r\n * Doing a `findAll()` or some restricted variant of that on both of the tables, and manually doing the join using some loops. (Ok for very small tables - prohibitive from small tables on up)\r\n\r\n * Have the sessions do some kind of interaction (I have no idea if this is even feasible - will have to look at the Hibernate Session API)  \r\n\r\n * Removing the database name from the URL string of different hibernate-xxxx.cfg.xml and insert them into the separate hbm.xml files like this:    \r\n`&lt;class name=&quot;foo&quot; table=&quot;foo_table&quot; schema=&quot;foo_schema&quot; catalog=&quot;foo_db&quot;&gt;`  \r\n(Doesn&#39;t seem to work from my initial tests and that seems like truck sized security hole)  \r\n \r\n * Use the Repository Pattern (Unsure if my Java-Fu is strong enough)\r\n\r\nIs there something that I&#39;m overlooking in one of the cases above or can it be another way that I haven&#39;t listed above?\r\n\r\n  [1]: http://bit.ly/bEuXKw","title":"Doing a join over 2 tables in different databases using Hibernate","body":"<p>I have two tables in two separate <strong>Oracle databases</strong> (not schemas) that I need to <strong>join in Hibernate</strong>.  Currently, I have two Hibernate sessions going out to the separate databases. Before anybody says look at <strong>Hibernate Shards</strong>, I have spent a better part of a day looking at that sub-project and have found that: it is for horizontal partitioned data (all the tables must be in all of the databases AFAIK), there is no way for one to tell Shards to look only in one database (<a href=\"http://bit.ly/bEuXKw\" rel=\"noreferrer\">Hibernate Shards Docs</a>), and is no longer being worked on.</p>\n\n<p>Things that I have thought about to try to solve this problem:  </p>\n\n<ul>\n<li><p>Doing a <code>findAll()</code> or some restricted variant of that on both of the tables, and manually doing the join using some loops. (Ok for very small tables - prohibitive from small tables on up)</p></li>\n<li><p>Have the sessions do some kind of interaction (I have no idea if this is even feasible - will have to look at the Hibernate Session API)  </p></li>\n<li><p>Removing the database name from the URL string of different hibernate-xxxx.cfg.xml and insert them into the separate hbm.xml files like this:<br>\n<code>&lt;class name=\"foo\" table=\"foo_table\" schema=\"foo_schema\" catalog=\"foo_db\"&gt;</code><br>\n(Doesn't seem to work from my initial tests and that seems like truck sized security hole)  </p></li>\n<li><p>Use the Repository Pattern (Unsure if my Java-Fu is strong enough)</p></li>\n</ul>\n\n<p>Is there something that I'm overlooking in one of the cases above or can it be another way that I haven't listed above?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":2044914,"reputation":324,"user_id":1825224,"display_name":"jbowman"},"score":0,"creation_date":1449854455,"post_id":34228942,"comment_id":56202069,"body_markdown":"What have you tried so far? Are you having problems with code you&#39;ve written or are we to undertake the entire task for you?","body":"What have you tried so far? Are you having problems with code you&#39;ve written or are we to undertake the entire task for you?"},{"owner":{"account_id":2227343,"reputation":7884,"user_id":1965774,"accept_rate":95,"display_name":"Pandemonium"},"score":2,"creation_date":1449854561,"post_id":34228942,"comment_id":56202128,"body_markdown":"Read the doc! This is a simple problem any programming language should be able to do. I&#39;m not familiar with Java but here is the pseudocode you might want to run by:\n1. Loop through all characters in the string\n2. If &quot;_&quot; is found, remove it\n3. Capitalize the next character\n4. Return the new string","body":"Read the doc! This is a simple problem any programming language should be able to do. I&#39;m not familiar with Java but here is the pseudocode you might want to run by: 1. Loop through all characters in the string 2. If &quot;_&quot; is found, remove it 3. Capitalize the next character 4. Return the new string"},{"owner":{"account_id":7412091,"reputation":169,"user_id":5639151,"display_name":"achin"},"score":1,"creation_date":1449854592,"post_id":34228942,"comment_id":56202149,"body_markdown":"You can split the string with _ and then use StringUtils.join after capitalizing the first char of all (except first) splitted string parts","body":"You can split the string with _ and then use StringUtils.join after capitalizing the first char of all (except first) splitted string parts"}],"answers":[{"tags":[],"owner":{"account_id":6346397,"reputation":4691,"user_id":4926817,"accept_rate":92,"display_name":"Noam Hacker"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1449854539,"creation_date":1449854539,"answer_id":34229081,"question_id":34228942,"body_markdown":"Take a look at oracle&#39;s documentation for the [string](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html) class, notably [substring](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#substring(int,%20int)), [charAt](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#charAt(int)), [indexOf](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#indexOf(int)), and [toUpperCase](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#toUpperCase())\r\n\r\n(You can use these as puzzle pieces to solve your problem)\r\n\r\n","title":"From snake_case to camelCase in Java","body":"<p>Take a look at oracle's documentation for the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html\" rel=\"nofollow\">string</a> class, notably <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#substring(int,%20int)\" rel=\"nofollow\">substring</a>, <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#charAt(int)\" rel=\"nofollow\">charAt</a>, <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#indexOf(int)\" rel=\"nofollow\">indexOf</a>, and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#toUpperCase()\" rel=\"nofollow\">toUpperCase</a></p>\n\n<p>(You can use these as puzzle pieces to solve your problem)</p>\n"},{"tags":[],"owner":{"account_id":7456745,"reputation":61,"user_id":5669775,"display_name":"hallgren"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1621432864,"creation_date":1449855368,"answer_id":34229320,"question_id":34228942,"body_markdown":"This isn&#39;t pretty, but it works:\r\n\r\n    String phrase = &quot;camel_case&quot;;\r\n    String[] words = phrase.split(&quot;_&quot;);\r\n    String newPhrase = words[0];\r\n    for(int i=1; i&lt;words.length; i++){\r\n      newPhrase += words[i].substring(0,1).toUpperCase() + words[i].substring(1);\r\n    }","title":"From snake_case to camelCase in Java","body":"<p>This isn't pretty, but it works:</p>\n<pre><code>String phrase = &quot;camel_case&quot;;\nString[] words = phrase.split(&quot;_&quot;);\nString newPhrase = words[0];\nfor(int i=1; i&lt;words.length; i++){\n  newPhrase += words[i].substring(0,1).toUpperCase() + words[i].substring(1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7453773,"reputation":372,"user_id":5667615,"display_name":"Sher Alam"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1589694662,"creation_date":1449859118,"answer_id":34230342,"question_id":34228942,"body_markdown":"This might be pretty, and it works\r\n\r\n    public class Test {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tString phrase = &quot;always_use_camel_back_notation_in_java&quot;;\r\n    \t\twhile(phrase.contains(&quot;_&quot;)) {\r\n    \t\t\t    phrase = phrase.replaceFirst(&quot;_[a-z]&quot;, String.valueOf(Character.toUpperCase(phrase.charAt(phrase.indexOf(&quot;_&quot;) + 1))));\r\n    \t\t    }\r\n    \t\t    System.out.println(phrase);\r\n    \t    }\r\n        }","title":"From snake_case to camelCase in Java","body":"<p>This might be pretty, and it works</p>\n\n<pre><code>public class Test {\n\n    public static void main(String[] args) {\n        String phrase = \"always_use_camel_back_notation_in_java\";\n        while(phrase.contains(\"_\")) {\n                phrase = phrase.replaceFirst(\"_[a-z]\", String.valueOf(Character.toUpperCase(phrase.charAt(phrase.indexOf(\"_\") + 1))));\n            }\n            System.out.println(phrase);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1449860666,"creation_date":1449860666,"answer_id":34230748,"question_id":34228942,"body_markdown":"Using `split(&quot;_&quot;)` and looping over those parts is one way to do it. \r\n\r\nHere is an alternative using a `StringBuilder`. \r\n\r\n    String s = &quot;make_me_camel_case&quot;;\r\n    StringBuilder sb = new StringBuilder(s);\r\n\r\n    for (int i = 0; i &lt; sb.length(); i++) {\r\n        if (sb.charAt(i) == &#39;_&#39;) {\r\n            sb.deleteCharAt(i);\r\n            sb.replace(i, i+1, String.valueOf(Character.toUpperCase(sb.charAt(i))));\r\n        }\r\n    }\r\n\r\n    System.out.println(sb.toString()); // makeMeCamelCase","title":"From snake_case to camelCase in Java","body":"<p>Using <code>split(\"_\")</code> and looping over those parts is one way to do it. </p>\n\n<p>Here is an alternative using a <code>StringBuilder</code>. </p>\n\n<pre><code>String s = \"make_me_camel_case\";\nStringBuilder sb = new StringBuilder(s);\n\nfor (int i = 0; i &lt; sb.length(); i++) {\n    if (sb.charAt(i) == '_') {\n        sb.deleteCharAt(i);\n        sb.replace(i, i+1, String.valueOf(Character.toUpperCase(sb.charAt(i))));\n    }\n}\n\nSystem.out.println(sb.toString()); // makeMeCamelCase\n</code></pre>\n"},{"tags":[],"owner":{"account_id":433987,"reputation":5865,"user_id":819651,"accept_rate":90,"display_name":"Lu&#237;s Soares"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1551976741,"creation_date":1527119191,"answer_id":50498978,"question_id":34228942,"body_markdown":"You can use [`toCamelCase`][1] util:\r\n\r\n    CaseUtils.toCamelCase(&quot;camel_case&quot;, false, new char[]{&#39;_&#39;}); // returns &quot;camelCase&quot;\r\n\r\nfrom [Apache Commons Text][1].\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/CaseUtils.html#toCamelCase(java.lang.String,boolean,char...)","title":"From snake_case to camelCase in Java","body":"<p>You can use <a href=\"https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/CaseUtils.html#toCamelCase(java.lang.String,boolean,char...)\" rel=\"noreferrer\"><code>toCamelCase</code></a> util:</p>\n\n<pre><code>CaseUtils.toCamelCase(\"camel_case\", false, new char[]{'_'}); // returns \"camelCase\"\n</code></pre>\n\n<p>from <a href=\"https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/CaseUtils.html#toCamelCase(java.lang.String,boolean,char...)\" rel=\"noreferrer\">Apache Commons Text</a>.</p>\n"},{"tags":[],"owner":{"account_id":6606513,"reputation":1158,"user_id":5103183,"accept_rate":50,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1576014179,"creation_date":1576014179,"answer_id":59275805,"question_id":34228942,"body_markdown":"Also Guava&#39;s [CaseFormat][1] offers quite a neat solution that allows you to transform from and to camel case and even other specific cases.\r\n\r\n    CaseFormat.LOWER_UNDERSCORE.to(CaseFormat.LOWER_CAMEL, &quot;camel_case&quot;); // returns camelCase\r\n    CaseFormat.UPPER_UNDERSCORE.to(CaseFormat.UPPER_CAMEL, &quot;CAMEL_CASE&quot;); // returns CamelCase\r\n    CaseFormat.LOWER_CAMEL.to(CaseFormat.UPPER_UNDERSCORE, &quot;camelCase&quot;); // returns CAMEL_CASE\r\n    CaseFormat.UPPER_CAMEL.to(CaseFormat.LOWER_HYPHEN, &quot;CamelCase&quot;); // returns camel-case\r\n\r\n  [1]: https://github.com/google/guava/wiki/StringsExplained#caseformat","title":"From snake_case to camelCase in Java","body":"<p>Also Guava's <a href=\"https://github.com/google/guava/wiki/StringsExplained#caseformat\" rel=\"noreferrer\">CaseFormat</a> offers quite a neat solution that allows you to transform from and to camel case and even other specific cases.</p>\n\n<pre><code>CaseFormat.LOWER_UNDERSCORE.to(CaseFormat.LOWER_CAMEL, \"camel_case\"); // returns camelCase\nCaseFormat.UPPER_UNDERSCORE.to(CaseFormat.UPPER_CAMEL, \"CAMEL_CASE\"); // returns CamelCase\nCaseFormat.LOWER_CAMEL.to(CaseFormat.UPPER_UNDERSCORE, \"camelCase\"); // returns CAMEL_CASE\nCaseFormat.UPPER_CAMEL.to(CaseFormat.LOWER_HYPHEN, \"CamelCase\"); // returns camel-case\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1621438138,"creation_date":1621434059,"answer_id":67605103,"question_id":34228942,"body_markdown":"# Java SE 8+\r\n\r\nUsing [Java-8 Stream API][1], we can do it in a single statement.\r\n\r\n    import java.util.Arrays;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString str = &quot;snake_case_to_camel_case&quot;;\r\n    \r\n    \t\tstr = str.indexOf(&quot;_&quot;) != -1\r\n    \t\t\t\t? str.substring(0, str.indexOf(&quot;_&quot;)) + \r\n    \t\t\t\t\tArrays.stream(str.substring(str.indexOf(&quot;_&quot;) + 1).split(&quot;_&quot;))\r\n    \t\t\t\t\t\t.map(s -&gt; Character.toUpperCase(s.charAt(0)) + s.substring(1)).collect(Collectors.joining())\r\n    \t\t\t\t: str;\r\n    \r\n    \t\tSystem.out.println(str);\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    snakeCaseToCamelCase\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;][2]\r\n\r\n# Java SE 9+\r\n\r\n[`Matcher#replaceAll​(Function&lt;MatchResult, String&gt; replacer)`][3] introduced with Java SE 9, makes it further easy.\r\n\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString str = &quot;snake_case_to_camel_case&quot;;\r\n    \r\n    \t\tstr = Pattern.compile(&quot;_([a-z])&quot;)\r\n    \t\t\t\t\t.matcher(str)\r\n    \t\t\t\t\t.replaceAll(m -&gt; m.group(1).toUpperCase());\r\n    \r\n    \t\tSystem.out.println(str);\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    snakeCaseToCamelCase\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;][4]\r\n\r\n\r\n  [1]: https://www.oracle.com/technical-resources/articles/java/ma14-java-se-8-streams.html\r\n  [2]: https://ideone.com/zXu0gN\r\n  [3]: https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html#replaceAll-java.util.function.Function-\r\n  [4]: https://ideone.com/YmquyW\r\n","title":"From snake_case to camelCase in Java","body":"<h1>Java SE 8+</h1>\n<p>Using <a href=\"https://www.oracle.com/technical-resources/articles/java/ma14-java-se-8-streams.html\" rel=\"noreferrer\">Java-8 Stream API</a>, we can do it in a single statement.</p>\n<pre><code>import java.util.Arrays;\nimport java.util.stream.Collectors;\n\npublic class Main {\n    public static void main(String[] args) {\n        String str = &quot;snake_case_to_camel_case&quot;;\n\n        str = str.indexOf(&quot;_&quot;) != -1\n                ? str.substring(0, str.indexOf(&quot;_&quot;)) + \n                    Arrays.stream(str.substring(str.indexOf(&quot;_&quot;) + 1).split(&quot;_&quot;))\n                        .map(s -&gt; Character.toUpperCase(s.charAt(0)) + s.substring(1)).collect(Collectors.joining())\n                : str;\n\n        System.out.println(str);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>snakeCaseToCamelCase\n</code></pre>\n<p><a href=\"https://ideone.com/zXu0gN\" rel=\"noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<h1>Java SE 9+</h1>\n<p><a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html#replaceAll-java.util.function.Function-\" rel=\"noreferrer\"><code>Matcher#replaceAll​(Function&lt;MatchResult, String&gt; replacer)</code></a> introduced with Java SE 9, makes it further easy.</p>\n<pre><code>import java.util.regex.Pattern;\n\npublic class Main {\n    public static void main(String[] args) {\n        String str = &quot;snake_case_to_camel_case&quot;;\n\n        str = Pattern.compile(&quot;_([a-z])&quot;)\n                    .matcher(str)\n                    .replaceAll(m -&gt; m.group(1).toUpperCase());\n\n        System.out.println(str);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>snakeCaseToCamelCase\n</code></pre>\n<p><a href=\"https://ideone.com/YmquyW\" rel=\"noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n"},{"tags":[],"owner":{"account_id":12558993,"reputation":44,"user_id":9137528,"display_name":"Mohammed El Amine Mahmoudi"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1650489617,"creation_date":1649146942,"answer_id":71748439,"question_id":34228942,"body_markdown":"    \r\n    import org.apache.commons.lang3.text.WordUtils;\r\n\r\n    public String snakeToCamelCase(String snakeWord) {\r\n        String camelWord = snakeWord.replaceAll(&quot;_&quot;, &quot; &quot;);\r\n        camelWord = WordUtils.capitalizeFully(camelWord);\r\n        return camelWord.replaceAll(&quot; &quot;, &quot;&quot;);\r\n    }","title":"From snake_case to camelCase in Java","body":"<pre><code>import org.apache.commons.lang3.text.WordUtils;\n\npublic String snakeToCamelCase(String snakeWord) {\n    String camelWord = snakeWord.replaceAll(&quot;_&quot;, &quot; &quot;);\n    camelWord = WordUtils.capitalizeFully(camelWord);\n    return camelWord.replaceAll(&quot; &quot;, &quot;&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":543250,"reputation":18874,"user_id":912319,"accept_rate":62,"display_name":"Kanagavelu Sugumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683788637,"creation_date":1683786358,"answer_id":76224702,"question_id":34228942,"body_markdown":"    /**\r\n     * Converts AlphaNumeric String to camelcase based on any non AlphaNumeric char as delimiter\r\n     * @param input\r\n     * @return camelCase String\r\n     */\r\n    public static String toCamelCase(String input) {\r\n\r\n        StringBuilder result = new StringBuilder(input.length());\r\n        boolean toUpper = false;\r\n        for (int i = 0; i &lt; input.length(); i++) {\r\n\r\n            if (Character.isAlphabetic(input.charAt(i))) {\r\n\r\n                if (toUpper) {\r\n\r\n                    result.append(Character.toUpperCase(input.charAt(i)));\r\n                    toUpper = false;\r\n                } else {\r\n\r\n                    result.append(Character.toLowerCase(input.charAt(i)));\r\n                }\r\n            } else if (Character.isDigit(input.charAt(i))){\r\n\r\n                result.append(input.charAt(i));\r\n            } else {\r\n\r\n                toUpper = true;\r\n            }\r\n        }\r\n        return result.toString();\r\n    }\r\n\r\n    @Test\r\n    public void toCamelCaseTest() {\r\n\r\n        List&lt;String&gt; inputs = List.of(&quot;Hello World&quot;, &quot;helloWorld&quot;,\r\n                &quot;Hello_World&quot;, &quot;helloWorld&quot;,\r\n                &quot;Hello-World&quot;, &quot;helloWorld&quot;,\r\n                &quot;HELLO WORLD&quot;, &quot;helloWorld&quot;,\r\n                &quot;HELlo_WORld&quot;, &quot;helloWorld&quot;,\r\n                &quot;Hello1world&quot;, &quot;hello1world&quot;,\r\n                &quot;2Hello world&quot;, &quot;2helloWorld&quot;\r\n        );\r\n        for (int i = 0; i &lt; inputs.size();) {\r\n            Truth.assertThat(StringUtils.toCamelCase(inputs.get(i++)))\r\n                    .isEqualTo(inputs.get(i++));\r\n        }\r\n    }","title":"From snake_case to camelCase in Java","body":"<pre><code>/**\n * Converts AlphaNumeric String to camelcase based on any non AlphaNumeric char as delimiter\n * @param input\n * @return camelCase String\n */\npublic static String toCamelCase(String input) {\n\n    StringBuilder result = new StringBuilder(input.length());\n    boolean toUpper = false;\n    for (int i = 0; i &lt; input.length(); i++) {\n\n        if (Character.isAlphabetic(input.charAt(i))) {\n\n            if (toUpper) {\n\n                result.append(Character.toUpperCase(input.charAt(i)));\n                toUpper = false;\n            } else {\n\n                result.append(Character.toLowerCase(input.charAt(i)));\n            }\n        } else if (Character.isDigit(input.charAt(i))){\n\n            result.append(input.charAt(i));\n        } else {\n\n            toUpper = true;\n        }\n    }\n    return result.toString();\n}\n\n@Test\npublic void toCamelCaseTest() {\n\n    List&lt;String&gt; inputs = List.of(&quot;Hello World&quot;, &quot;helloWorld&quot;,\n            &quot;Hello_World&quot;, &quot;helloWorld&quot;,\n            &quot;Hello-World&quot;, &quot;helloWorld&quot;,\n            &quot;HELLO WORLD&quot;, &quot;helloWorld&quot;,\n            &quot;HELlo_WORld&quot;, &quot;helloWorld&quot;,\n            &quot;Hello1world&quot;, &quot;hello1world&quot;,\n            &quot;2Hello world&quot;, &quot;2helloWorld&quot;\n    );\n    for (int i = 0; i &lt; inputs.size();) {\n        Truth.assertThat(StringUtils.toCamelCase(inputs.get(i++)))\n                .isEqualTo(inputs.get(i++));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684742895,"creation_date":1684742895,"answer_id":76304166,"question_id":34228942,"body_markdown":"This task can be done with the `String.split` method, and a for-loop.\r\n\r\n```java\r\nString convert(String string) {\r\n    String[] strings = string.split(&quot;_+&quot;);\r\n    StringBuilder converted = new StringBuilder();\r\n    String stringA, stringB;\r\n    for (String value : strings) {\r\n        if (converted.isEmpty()) {\r\n            if (!value.isEmpty()) converted.append(value.toLowerCase());\r\n        } else {\r\n            stringA = value.substring(0, 1).toUpperCase();\r\n            stringB = value.substring(1).toLowerCase();\r\n            converted.append(stringA).append(stringB);\r\n        }\r\n    }\r\n    return converted.toString();\r\n}\r\n```\r\n\r\nInput\r\n\r\n```none\r\nconvert_snake_case_to_camel_case\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nconvertSnakeCaseToCamelCase\r\n```","title":"From snake_case to camelCase in Java","body":"<p>This task can be done with the <code>String.split</code> method, and a for-loop.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String convert(String string) {\n    String[] strings = string.split(&quot;_+&quot;);\n    StringBuilder converted = new StringBuilder();\n    String stringA, stringB;\n    for (String value : strings) {\n        if (converted.isEmpty()) {\n            if (!value.isEmpty()) converted.append(value.toLowerCase());\n        } else {\n            stringA = value.substring(0, 1).toUpperCase();\n            stringB = value.substring(1).toLowerCase();\n            converted.append(stringA).append(stringB);\n        }\n    }\n    return converted.toString();\n}\n</code></pre>\n<p>Input</p>\n<pre class=\"lang-none prettyprint-override\"><code>convert_snake_case_to_camel_case\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>convertSnakeCaseToCamelCase\n</code></pre>\n"}],"owner":{"account_id":5862812,"reputation":241,"user_id":4617902,"display_name":"Domenico"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35788,"favorite_count":0,"down_vote_count":2,"up_vote_count":24,"answer_count":10,"score":22,"last_activity_date":1684742895,"creation_date":1449854011,"question_id":34228942,"body_markdown":"Can anyone tell me how to convert a string in snake_case as: \r\n    \r\n    camel_case\r\n\r\nto a string in camelCase as:\r\n\r\n    camelCase\r\n\r\nin Java?\r\n\r\nThank you in advance.","title":"From snake_case to camelCase in Java","body":"<p>Can anyone tell me how to convert a string in snake_case as: </p>\n\n<pre><code>camel_case\n</code></pre>\n\n<p>to a string in camelCase as:</p>\n\n<pre><code>camelCase\n</code></pre>\n\n<p>in Java?</p>\n\n<p>Thank you in advance.</p>\n"},{"tags":["java","android","linux","filesystems"],"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1344190107,"post_id":11818802,"comment_id":15710007,"body_markdown":"Why would moving files between two different file systems cause a crash to begin with?  The files themselves are kludges of binary data; the file system only represents how that kludge of data is stored, represented, and removed.","body":"Why would moving files between two different file systems cause a crash to begin with?  The files themselves are kludges of binary data; the file system only represents how that kludge of data is stored, represented, and removed."},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":1,"creation_date":1344190307,"post_id":11818802,"comment_id":15710050,"body_markdown":"Moving a file in itself wouldn&#39;t be expected to cause a crash, but using `mv` on a file _whilst it is still being written to_ probably would (since in general a system that writes to a file should be able to assume that the file stays in the same location from write-opening to write-closing). I am trying to understand if the latter case holds true for all Linux (or Java, or Android) systems. Extra scout/brownie points for anyone who can explain why this succeeds!","body":"Moving a file in itself wouldn&#39;t be expected to cause a crash, but using <code>mv</code> on a file <i>whilst it is still being written to</i> probably would (since in general a system that writes to a file should be able to assume that the file stays in the same location from write-opening to write-closing). I am trying to understand if the latter case holds true for all Linux (or Java, or Android) systems. Extra scout/brownie points for anyone who can explain why this succeeds!"},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1589837928,"post_id":11818802,"comment_id":109447667,"body_markdown":"@ain&#39;tshabby: please don&#39;t edit posts here until you&#39;ve had some practice with the platform. I&#39;ve rejected the edit because it inverts the meaning of the title.","body":"@ain&#39;tshabby: please don&#39;t edit posts here until you&#39;ve had some practice with the platform. I&#39;ve rejected the edit because it inverts the meaning of the title."}],"answers":[{"tags":[],"owner":{"account_id":318397,"reputation":203598,"user_id":635608,"display_name":"Mat"},"down_vote_count":0,"up_vote_count":64,"is_accepted":true,"score":64,"last_activity_date":1344193075,"creation_date":1344192474,"answer_id":11819101,"question_id":11818802,"body_markdown":"When you move a file **inside the same filesystem**, the file itself (the _inode_) isn&#39;t moved at all. The only thing that changes are the directory entries in that filesystem. (The system call invoked by `mv` in this case is [`rename(2)`][1] - check that page for additional information and restrictions.)\r\n\r\nWhen a process opens a file, the filename is passed to the OS to indicate which file is meant, but the file descriptor you get back isn&#39;t linked to that name at all (you can&#39;t get back a filename from it) &amp;ndash; it is linked to the inode.  \r\nSince the inode remains unchanged when you rename a file (inside the same filesystem), processes that have it open can happily keep reading from and writing to it &amp;ndash; nothing changed for them, their file descriptor is still valid and pointing to the right data.\r\n\r\nSame thing if you delete a file. Processes can keep reading and writing from it even if the file is no longer reachable through any directory entry. (This can lead to confusing situations where `df` reports that your disk is full, but `du` says you&#39;re using much less space that `df` reports. The blocks assigned to deleted files that are still open won&#39;t be released until those processes close their file descriptor.)\r\n\r\nIf the `mv` moves the file across filesystems, then the behavior is different since inodes are specific to each filesystem. In that case, `mv` will actually copy the data over, creating a new inode (and directory entry) on the destination filesystem. When the copy is over, the old file is unlinked, and removed _if_ there are no open filehandles on it, as above.  \r\nIn your case, if you had crossed a filesystem boundary, you&#39;d have a partial file in the destination. And your upload process happily writing to a deleted file you can&#39;t easily access, possibly filling up that filesystem, until the upload finished at which point the inode would get dropped.\r\n\r\nSome posts on [Unix &amp; Linux][2] that you could find interesting:\r\n\r\n* [How are directories implemented in Unix filesystems?][3]\r\n* [What is a Superblock, Inode, Dentry and a File?][4]\r\n\r\n[1]: http://www.kernel.org/doc/man-pages/online/pages/man2/rename.2.html\r\n[2]: https://unix.stackexchange.com/\r\n[3]: https://unix.stackexchange.com/questions/18605/how-are-directories-implemented-in-unix-filesystems\r\n[4]: https://unix.stackexchange.com/questions/4402/what-is-a-superblock-inode-dentry-and-a-file","title":"Why can I successfully move a file in Linux while it is being written to?","body":"<p>When you move a file <strong>inside the same filesystem</strong>, the file itself (the <em>inode</em>) isn't moved at all. The only thing that changes are the directory entries in that filesystem. (The system call invoked by <code>mv</code> in this case is <a href=\"http://www.kernel.org/doc/man-pages/online/pages/man2/rename.2.html\" rel=\"noreferrer\"><code>rename(2)</code></a> - check that page for additional information and restrictions.)</p>\n\n<p>When a process opens a file, the filename is passed to the OS to indicate which file is meant, but the file descriptor you get back isn't linked to that name at all (you can't get back a filename from it) &ndash; it is linked to the inode.<br>\nSince the inode remains unchanged when you rename a file (inside the same filesystem), processes that have it open can happily keep reading from and writing to it &ndash; nothing changed for them, their file descriptor is still valid and pointing to the right data.</p>\n\n<p>Same thing if you delete a file. Processes can keep reading and writing from it even if the file is no longer reachable through any directory entry. (This can lead to confusing situations where <code>df</code> reports that your disk is full, but <code>du</code> says you're using much less space that <code>df</code> reports. The blocks assigned to deleted files that are still open won't be released until those processes close their file descriptor.)</p>\n\n<p>If the <code>mv</code> moves the file across filesystems, then the behavior is different since inodes are specific to each filesystem. In that case, <code>mv</code> will actually copy the data over, creating a new inode (and directory entry) on the destination filesystem. When the copy is over, the old file is unlinked, and removed <em>if</em> there are no open filehandles on it, as above.<br>\nIn your case, if you had crossed a filesystem boundary, you'd have a partial file in the destination. And your upload process happily writing to a deleted file you can't easily access, possibly filling up that filesystem, until the upload finished at which point the inode would get dropped.</p>\n\n<p>Some posts on <a href=\"https://unix.stackexchange.com/\">Unix &amp; Linux</a> that you could find interesting:</p>\n\n<ul>\n<li><a href=\"https://unix.stackexchange.com/questions/18605/how-are-directories-implemented-in-unix-filesystems\">How are directories implemented in Unix filesystems?</a></li>\n<li><a href=\"https://unix.stackexchange.com/questions/4402/what-is-a-superblock-inode-dentry-and-a-file\">What is a Superblock, Inode, Dentry and a File?</a></li>\n</ul>\n"}],"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14791,"favorite_count":0,"down_vote_count":6,"up_vote_count":37,"accepted_answer_id":11819101,"answer_count":1,"score":31,"last_activity_date":1684742673,"creation_date":1344189897,"question_id":11818802,"body_markdown":"I think this question  is technical enough for Stack Overflow and, probably, too programming-oriented for _Android_. I am intrigued as to how files are handled in Android (or Java or Linux, as appropriate), since I did something with my new smartphone and I&#39;d curious to know how it happened.\r\n\r\nI was transferring a file from my laptop to my Android phone via Bluetooth. I saw the new file in the file explorer and assumed it was fully transferred so I moved it from `/sdcard/bluetooth` to `/sdcard/torrents`. After I had done so, I noticed it was in fact still being transferred. To my surprise, it successfully completed, confirmed with a notification icon on the phone, and by a manual MD5 check on both sides. In most systems the file move would have caused a crash.\r\n\r\nWhat is the reason for this successful transfer? I&#39;m aware that in general, the file path is separate to the file location on the file system (in this case, an SD card). I imagine that the Bluetooth app has opened a handle to the file, and when I did the file move, a table of &#39;open files&#39; was updated with a new path. Is this feature generally true of any Linux system? Could I do a `mv` on a file being written and expect the copy - in its new location - to be correct?","title":"Why can I successfully move a file in Linux while it is being written to?","body":"<p>I think this question  is technical enough for Stack Overflow and, probably, too programming-oriented for <em>Android</em>. I am intrigued as to how files are handled in Android (or Java or Linux, as appropriate), since I did something with my new smartphone and I'd curious to know how it happened.</p>\n<p>I was transferring a file from my laptop to my Android phone via Bluetooth. I saw the new file in the file explorer and assumed it was fully transferred so I moved it from <code>/sdcard/bluetooth</code> to <code>/sdcard/torrents</code>. After I had done so, I noticed it was in fact still being transferred. To my surprise, it successfully completed, confirmed with a notification icon on the phone, and by a manual MD5 check on both sides. In most systems the file move would have caused a crash.</p>\n<p>What is the reason for this successful transfer? I'm aware that in general, the file path is separate to the file location on the file system (in this case, an SD card). I imagine that the Bluetooth app has opened a handle to the file, and when I did the file move, a table of 'open files' was updated with a new path. Is this feature generally true of any Linux system? Could I do a <code>mv</code> on a file being written and expect the copy - in its new location - to be correct?</p>\n"},{"tags":["java","sql-server","stored-procedures","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1486803523,"post_id":42169951,"comment_id":71511945,"body_markdown":"Related: http://stackoverflow.com/questions/14213824/java-sql-statement-hasresultset and http://stackoverflow.com/questions/24694442/expecting-multiple-resultsets-but-only-get-one and http://stackoverflow.com/questions/32561550/jdbc-sql-server-raised-error-handling-in-multi-statement-stored-procedures","body":"Related: <a href=\"http://stackoverflow.com/questions/14213824/java-sql-statement-hasresultset\" title=\"java sql statement hasresultset\">stackoverflow.com/questions/14213824/&hellip;</a> and <a href=\"http://stackoverflow.com/questions/24694442/expecting-multiple-resultsets-but-only-get-one\" title=\"expecting multiple resultsets but only get one\">stackoverflow.com/questions/24694442/&hellip;</a> and <a href=\"http://stackoverflow.com/questions/32561550/jdbc-sql-server-raised-error-handling-in-multi-statement-stored-procedures\" title=\"jdbc sql server raised error handling in multi statement stored procedures\">stackoverflow.com/questions/32561550/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2460030,"reputation":118378,"user_id":2144390,"accept_rate":100,"display_name":"Gord Thompson"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1538776449,"creation_date":1486767221,"answer_id":42169952,"question_id":42169951,"body_markdown":"When we execute a stored procedure in JDBC we get back a series of zero or more &quot;results&quot;. We can then process those &quot;results&quot; sequentially by calling `CallableStatement#getMoreResults()`. Each &quot;result&quot; can contain\r\n\r\n- zero or more rows of data that we can retrieve with a `ResultSet` object,\r\n- an update count for a DML statement (INSERT, UPDATE, DELETE) that we can retrieve with `CallableStatement#getUpdateCount()`, or\r\n- an error that throws an SQLServerException.\r\n\r\nFor &quot;Issue 1&quot; the problem is often that the stored procedure does not begin with `SET NOCOUNT ON;` and executes a DML statement before doing a SELECT to produce a result set. The update count for the DML is returned as the first &quot;result&quot;, and the data rows are &quot;stuck behind it&quot; until we call `getMoreResults`.\r\n\r\n&quot;Issue 2&quot; is essentially same problem. The stored procedure produces a &quot;result&quot; (usually a SELECT, or possibly an update count) before the error occurs. The error is returned in a subsequent &quot;result&quot; and does not cause an exception until we &quot;retrieve&quot; it using `getMoreResults`.\r\n\r\nIn many cases the problem can be avoided by simply adding `SET NOCOUNT ON;` as the first executable statement in the stored procedure. However, a change to the stored procedure is not always possible and the fact remains that in order to get *everything* back from the stored procedure we need to keep calling `getMoreResults` until, as the Javadoc says:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    There are no more results when the following is true: \r\n    \r\n         // stmt is a Statement object\r\n         ((stmt.getMoreResults() == false) &amp;&amp; (stmt.getUpdateCount() == -1))\r\n\r\nThat sounds simple enough but as usual, &quot;the devil is in the details&quot;, as illustrated by the following example. For a SQL Server stored procedure ...\r\n\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n    ALTER PROCEDURE dbo.TroublesomeSP AS\r\n    BEGIN\r\n        -- note: no `SET NOCOUNT ON;`\r\n        DECLARE @tbl TABLE (id VARCHAR(3) PRIMARY KEY);\r\n        \r\n        DROP TABLE NonExistent;\r\n        INSERT INTO @tbl (id) VALUES (&#39;001&#39;);\r\n        SELECT id FROM @tbl;\r\n        INSERT INTO @tbl (id) VALUES (&#39;001&#39;);  -- duplicate key error\r\n        SELECT 1/0;  -- error _inside_ ResultSet\r\n        INSERT INTO @tbl (id) VALUES (&#39;101&#39;);\r\n        INSERT INTO @tbl (id) VALUES (&#39;201&#39;),(&#39;202&#39;);\r\n        SELECT id FROM @tbl;\r\n    END\r\n\r\n... the following Java code will return everything ...\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    try (CallableStatement cs = conn.prepareCall(&quot;{call dbo.TroublesomeSP}&quot;)) {\r\n        boolean resultSetAvailable = false;\r\n        int numberOfResultsProcessed = 0;\r\n        try {\r\n            resultSetAvailable = cs.execute();\r\n        } catch (SQLServerException sse) {\r\n            System.out.printf(&quot;Exception thrown on execute: %s%n%n&quot;, sse.getMessage());\r\n            numberOfResultsProcessed++;\r\n        }\r\n        int updateCount = -2;  // initialize to impossible(?) value\r\n        while (true) {\r\n            boolean exceptionOccurred = true; \r\n            do {\r\n                try {\r\n                    if (numberOfResultsProcessed &gt; 0) {\r\n                        resultSetAvailable = cs.getMoreResults();\r\n                    }\r\n                    exceptionOccurred = false;\r\n                    updateCount = cs.getUpdateCount();\r\n                } catch (SQLServerException sse) {\r\n                    System.out.printf(&quot;Current result is an exception: %s%n%n&quot;, sse.getMessage());\r\n                }\r\n                numberOfResultsProcessed++;\r\n            } while (exceptionOccurred);\r\n\r\n            if ((!resultSetAvailable) &amp;&amp; (updateCount == -1)) {\r\n                break;  // we&#39;re done\r\n            }\r\n\r\n            if (resultSetAvailable) {\r\n                System.out.println(&quot;Current result is a ResultSet:&quot;);\r\n                try (ResultSet rs = cs.getResultSet()) {\r\n                    try {\r\n                        while (rs.next()) {\r\n                            System.out.println(rs.getString(1));\r\n                        }\r\n                    } catch (SQLServerException sse) {\r\n                        System.out.printf(&quot;Exception while processing ResultSet: %s%n&quot;, sse.getMessage());\r\n                    }\r\n                }\r\n            } else {\r\n                System.out.printf(&quot;Current result is an update count: %d %s affected%n&quot;,\r\n                        updateCount,\r\n                        updateCount == 1 ? &quot;row was&quot; : &quot;rows were&quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n        System.out.println(&quot;[end of results]&quot;);\r\n    }\r\n\r\n... producing the following console output:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    Exception thrown on execute: Cannot drop the table &#39;NonExistent&#39;, because it does not exist or you do not have permission.\r\n\r\n    Current result is an update count: 1 row was affected\r\n\r\n    Current result is a ResultSet:\r\n    001\r\n\r\n    Current result is an exception: Violation of PRIMARY KEY constraint &#39;PK__#314D4EA__3213E83F3335971A&#39;. Cannot insert duplicate key in object &#39;dbo.@tbl&#39;. The duplicate key value is (001).\r\n\r\n    Current result is a ResultSet:\r\n    Exception while processing ResultSet: Divide by zero error encountered.\r\n\r\n    Current result is an update count: 1 row was affected\r\n\r\n    Current result is an update count: 2 rows were affected\r\n\r\n    Current result is a ResultSet:\r\n    001\r\n    101\r\n    201\r\n    202\r\n\r\n    [end of results]\r\n","title":"How to get *everything* back from a stored procedure using JDBC","body":"<p>When we execute a stored procedure in JDBC we get back a series of zero or more \"results\". We can then process those \"results\" sequentially by calling <code>CallableStatement#getMoreResults()</code>. Each \"result\" can contain</p>\n\n<ul>\n<li>zero or more rows of data that we can retrieve with a <code>ResultSet</code> object,</li>\n<li>an update count for a DML statement (INSERT, UPDATE, DELETE) that we can retrieve with <code>CallableStatement#getUpdateCount()</code>, or</li>\n<li>an error that throws an SQLServerException.</li>\n</ul>\n\n<p>For \"Issue 1\" the problem is often that the stored procedure does not begin with <code>SET NOCOUNT ON;</code> and executes a DML statement before doing a SELECT to produce a result set. The update count for the DML is returned as the first \"result\", and the data rows are \"stuck behind it\" until we call <code>getMoreResults</code>.</p>\n\n<p>\"Issue 2\" is essentially same problem. The stored procedure produces a \"result\" (usually a SELECT, or possibly an update count) before the error occurs. The error is returned in a subsequent \"result\" and does not cause an exception until we \"retrieve\" it using <code>getMoreResults</code>.</p>\n\n<p>In many cases the problem can be avoided by simply adding <code>SET NOCOUNT ON;</code> as the first executable statement in the stored procedure. However, a change to the stored procedure is not always possible and the fact remains that in order to get <em>everything</em> back from the stored procedure we need to keep calling <code>getMoreResults</code> until, as the Javadoc says:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>There are no more results when the following is true: \n\n     // stmt is a Statement object\n     ((stmt.getMoreResults() == false) &amp;&amp; (stmt.getUpdateCount() == -1))\n</code></pre>\n\n<p>That sounds simple enough but as usual, \"the devil is in the details\", as illustrated by the following example. For a SQL Server stored procedure ...</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>ALTER PROCEDURE dbo.TroublesomeSP AS\nBEGIN\n    -- note: no `SET NOCOUNT ON;`\n    DECLARE @tbl TABLE (id VARCHAR(3) PRIMARY KEY);\n\n    DROP TABLE NonExistent;\n    INSERT INTO @tbl (id) VALUES ('001');\n    SELECT id FROM @tbl;\n    INSERT INTO @tbl (id) VALUES ('001');  -- duplicate key error\n    SELECT 1/0;  -- error _inside_ ResultSet\n    INSERT INTO @tbl (id) VALUES ('101');\n    INSERT INTO @tbl (id) VALUES ('201'),('202');\n    SELECT id FROM @tbl;\nEND\n</code></pre>\n\n<p>... the following Java code will return everything ...</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>try (CallableStatement cs = conn.prepareCall(\"{call dbo.TroublesomeSP}\")) {\n    boolean resultSetAvailable = false;\n    int numberOfResultsProcessed = 0;\n    try {\n        resultSetAvailable = cs.execute();\n    } catch (SQLServerException sse) {\n        System.out.printf(\"Exception thrown on execute: %s%n%n\", sse.getMessage());\n        numberOfResultsProcessed++;\n    }\n    int updateCount = -2;  // initialize to impossible(?) value\n    while (true) {\n        boolean exceptionOccurred = true; \n        do {\n            try {\n                if (numberOfResultsProcessed &gt; 0) {\n                    resultSetAvailable = cs.getMoreResults();\n                }\n                exceptionOccurred = false;\n                updateCount = cs.getUpdateCount();\n            } catch (SQLServerException sse) {\n                System.out.printf(\"Current result is an exception: %s%n%n\", sse.getMessage());\n            }\n            numberOfResultsProcessed++;\n        } while (exceptionOccurred);\n\n        if ((!resultSetAvailable) &amp;&amp; (updateCount == -1)) {\n            break;  // we're done\n        }\n\n        if (resultSetAvailable) {\n            System.out.println(\"Current result is a ResultSet:\");\n            try (ResultSet rs = cs.getResultSet()) {\n                try {\n                    while (rs.next()) {\n                        System.out.println(rs.getString(1));\n                    }\n                } catch (SQLServerException sse) {\n                    System.out.printf(\"Exception while processing ResultSet: %s%n\", sse.getMessage());\n                }\n            }\n        } else {\n            System.out.printf(\"Current result is an update count: %d %s affected%n\",\n                    updateCount,\n                    updateCount == 1 ? \"row was\" : \"rows were\");\n        }\n        System.out.println();\n    }\n    System.out.println(\"[end of results]\");\n}\n</code></pre>\n\n<p>... producing the following console output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Exception thrown on execute: Cannot drop the table 'NonExistent', because it does not exist or you do not have permission.\n\nCurrent result is an update count: 1 row was affected\n\nCurrent result is a ResultSet:\n001\n\nCurrent result is an exception: Violation of PRIMARY KEY constraint 'PK__#314D4EA__3213E83F3335971A'. Cannot insert duplicate key in object 'dbo.@tbl'. The duplicate key value is (001).\n\nCurrent result is a ResultSet:\nException while processing ResultSet: Divide by zero error encountered.\n\nCurrent result is an update count: 1 row was affected\n\nCurrent result is an update count: 2 rows were affected\n\nCurrent result is a ResultSet:\n001\n101\n201\n202\n\n[end of results]\n</code></pre>\n"}],"owner":{"account_id":2460030,"reputation":118378,"user_id":2144390,"accept_rate":100,"display_name":"Gord Thompson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4674,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":42169952,"answer_count":1,"score":4,"last_activity_date":1684742590,"creation_date":1486767221,"question_id":42169951,"body_markdown":"I occasionally encounter two forms of strange behaviour when using JDBC to work with SQL Server stored procedures:\r\n\r\n**Issue 1:** I run a stored procedure in SQL Server Management Studio (SSMS) and it returns a result set. However, when I try\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    try (CallableStatement cs = conn.prepareCall(&quot;{call dbo.TroublesomeSP}&quot;)) {\r\n        ResultSet rs = cs.executeQuery();\r\n\r\nI get the exception\r\n\r\n&gt; com.microsoft.sqlserver.jdbc.SQLServerException: The statement did not return a result set.\r\n\r\n**Issue 2:** I run a stored procedure in SSMS and it raises an error, but when I use JDBC to `.execute` the stored procedure no exception is thrown.\r\n\r\nWhy do these issues occur and how can I avoid them?\r\n","title":"How to get *everything* back from a stored procedure using JDBC","body":"<p>I occasionally encounter two forms of strange behaviour when using JDBC to work with SQL Server stored procedures:</p>\n\n<p><strong>Issue 1:</strong> I run a stored procedure in SQL Server Management Studio (SSMS) and it returns a result set. However, when I try</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>try (CallableStatement cs = conn.prepareCall(\"{call dbo.TroublesomeSP}\")) {\n    ResultSet rs = cs.executeQuery();\n</code></pre>\n\n<p>I get the exception</p>\n\n<blockquote>\n  <p>com.microsoft.sqlserver.jdbc.SQLServerException: The statement did not return a result set.</p>\n</blockquote>\n\n<p><strong>Issue 2:</strong> I run a stored procedure in SSMS and it raises an error, but when I use JDBC to <code>.execute</code> the stored procedure no exception is thrown.</p>\n\n<p>Why do these issues occur and how can I avoid them?</p>\n"},{"tags":["java","garbage-collection","g1gc","concurrent-mark-sweep"],"comments":[{"owner":{"account_id":83448,"reputation":1396,"user_id":233965,"accept_rate":93,"display_name":"IceMan"},"score":0,"creation_date":1470351086,"post_id":38752782,"comment_id":64928476,"body_markdown":"Is the G1 flag in the last command `-XX:+G1GC` a typo?","body":"Is the G1 flag in the last command <code>-XX:+G1GC</code> a typo?"},{"owner":{"account_id":418291,"reputation":1283,"user_id":794763,"display_name":"Ashu Pachauri"},"score":0,"creation_date":1470427066,"post_id":38752782,"comment_id":64964137,"body_markdown":"@IceMan Yes it was, thanks for pointing it out. I just corrected it.","body":"@IceMan Yes it was, thanks for pointing it out. I just corrected it."}],"answers":[{"tags":[],"owner":{"account_id":1443334,"reputation":41522,"user_id":1362755,"display_name":"the8472"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1684742505,"creation_date":1470392894,"answer_id":38787003,"question_id":38752782,"body_markdown":"&gt; but cannot get it compressed pointer optimization to kick in for heap sizes above 32736 MB\r\n\r\nThat&#39;s normal because objects are aligned to 8byte boundaries by default, which means the lowest 3 bits are always zero and can be eliminated by a shift, which in turn means 32bit object pointers can at most address 4GB * 8 worth of objects with that alignment.\r\n\r\nYou need to bump the object alignment to 16 bytes via `-XX:ObjectAlignmentInBytes=16` if you want to use more than 32GB with compressed oops. Note that this makes small objects larger, i.e. wastes some memory, so you will have to measure whether it actually gains you anything.\r\n\r\n[This answer][1] has some additional diagnostic options that might be of interest.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/37251787/1362755","title":"UseCompressedOops kick-in threshold different for G1 and CMS","body":"<blockquote>\n<p>but cannot get it compressed pointer optimization to kick in for heap sizes above 32736 MB</p>\n</blockquote>\n<p>That's normal because objects are aligned to 8byte boundaries by default, which means the lowest 3 bits are always zero and can be eliminated by a shift, which in turn means 32bit object pointers can at most address 4GB * 8 worth of objects with that alignment.</p>\n<p>You need to bump the object alignment to 16 bytes via <code>-XX:ObjectAlignmentInBytes=16</code> if you want to use more than 32GB with compressed oops. Note that this makes small objects larger, i.e. wastes some memory, so you will have to measure whether it actually gains you anything.</p>\n<p><a href=\"https://stackoverflow.com/a/37251787/1362755\">This answer</a> has some additional diagnostic options that might be of interest.</p>\n"}],"owner":{"account_id":418291,"reputation":1283,"user_id":794763,"display_name":"Ashu Pachauri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1622,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1684742505,"creation_date":1470255139,"question_id":38752782,"body_markdown":"I am running a 64 bit Java 1.8 Hotspot JVM by Oracle. I have been trying to wrap my head around a difference in behavior of JVM to kick in compressed object pointers when different GC mechanisms are used. For example:\r\n\r\n    $ java -XX:+UseConcMarkSweepGC -XX:+PrintFlagsFinal -Xms32766m -Xmx32766m\r\n    \r\n    bool UseCompressedClassPointers        := true        {lp64_product}\r\n    bool UseCompressedOops                 := true        {lp64_product}\r\n\r\n    $ java -XX:+UseConcMarkSweepGC -XX:+PrintFlagsFinal -Xms32767m -Xmx32767m\r\n    \r\n    bool UseCompressedClassPointers        = false        {lp64_product}\r\n    bool UseCompressedOops                 = false        {lp64_product}\r\n\r\n    $ java -XX:+UseG1GC -XX:+PrintFlagsFinal -Xms32736m -Xmx32736m\r\n    \r\n    bool UseCompressedClassPointers        := true        {lp64_product}\r\n    bool UseCompressedOops                 := true        {lp64_product}\r\n\r\n    $ java -XX:+UseG1GC -XX:+PrintFlagsFinal -Xms32737m -Xmx32737m\r\n    \r\n    bool UseCompressedClassPointers        = false        {lp64_product}\r\n    bool UseCompressedOops                 = false        {lp64_product}\r\n\r\nI have tried changing a few other G1GC knobs but cannot get compressed pointer optimization to kick in for heap sizes above 32736 MB for G1. But, as you can see clearly that CMS can use compressed pointers for heap sizes up to 32766 MB. I am trying to understand what controls this threshold for different GC algorithms.","title":"UseCompressedOops kick-in threshold different for G1 and CMS","body":"<p>I am running a 64 bit Java 1.8 Hotspot JVM by Oracle. I have been trying to wrap my head around a difference in behavior of JVM to kick in compressed object pointers when different GC mechanisms are used. For example:</p>\n\n<pre><code>$ java -XX:+UseConcMarkSweepGC -XX:+PrintFlagsFinal -Xms32766m -Xmx32766m\n\nbool UseCompressedClassPointers        := true        {lp64_product}\nbool UseCompressedOops                 := true        {lp64_product}\n\n$ java -XX:+UseConcMarkSweepGC -XX:+PrintFlagsFinal -Xms32767m -Xmx32767m\n\nbool UseCompressedClassPointers        = false        {lp64_product}\nbool UseCompressedOops                 = false        {lp64_product}\n\n$ java -XX:+UseG1GC -XX:+PrintFlagsFinal -Xms32736m -Xmx32736m\n\nbool UseCompressedClassPointers        := true        {lp64_product}\nbool UseCompressedOops                 := true        {lp64_product}\n\n$ java -XX:+UseG1GC -XX:+PrintFlagsFinal -Xms32737m -Xmx32737m\n\nbool UseCompressedClassPointers        = false        {lp64_product}\nbool UseCompressedOops                 = false        {lp64_product}\n</code></pre>\n\n<p>I have tried changing a few other G1GC knobs but cannot get compressed pointer optimization to kick in for heap sizes above 32736 MB for G1. But, as you can see clearly that CMS can use compressed pointers for heap sizes up to 32766 MB. I am trying to understand what controls this threshold for different GC algorithms.</p>\n"},{"tags":["java","exception","iterator","resultset"],"comments":[{"owner":{"account_id":1299032,"reputation":5308,"user_id":1249325,"accept_rate":50,"display_name":"KhAn SaAb"},"score":0,"creation_date":1369217523,"post_id":16689044,"comment_id":24017419,"body_markdown":"i thing your query return single record and you are trying fetch more than that.","body":"i thing your query return single record and you are trying fetch more than that."},{"owner":{"account_id":2257919,"reputation":31815,"user_id":1988693,"accept_rate":76,"display_name":"drew moore"},"score":2,"creation_date":1369217638,"post_id":16689044,"comment_id":24017475,"body_markdown":"This is unrelated to the given exception, but `String[] perfiles = {};` is highly problematic. Adding anything to `perfiles`, even at index 0, will throw an `ArrayIndexOutOfBoundsException`","body":"This is unrelated to the given exception, but <code>String[] perfiles = {};</code> is highly problematic. Adding anything to <code>perfiles</code>, even at index 0, will throw an <code>ArrayIndexOutOfBoundsException</code>"},{"owner":{"account_id":2775963,"reputation":3,"user_id":2389548,"display_name":"bateras"},"score":0,"creation_date":1369220751,"post_id":16689044,"comment_id":24019161,"body_markdown":"so how do i pass the resulset to an array?","body":"so how do i pass the resulset to an array?"},{"owner":{"account_id":2775963,"reputation":3,"user_id":2389548,"display_name":"bateras"},"score":0,"creation_date":1369220939,"post_id":16689044,"comment_id":24019261,"body_markdown":"this is the query\n    `String PERFILESQUERY = &quot;SELECT * FROM perfiles&quot;;`","body":"this is the query     <code>String PERFILESQUERY = &quot;SELECT * FROM perfiles&quot;;</code>"},{"owner":{"account_id":2775963,"reputation":3,"user_id":2389548,"display_name":"bateras"},"score":0,"creation_date":1369301780,"post_id":16689044,"comment_id":24055544,"body_markdown":"At last it was an inocent glitch in other part of the code. **I left an statement opened** so the first query was working but these others weren&#39;t. I closed them all after getting the data and _changed the array for an arraylist [just in case]_ and it&#39;s **working properly now**.\nThank you all for your help","body":"At last it was an inocent glitch in other part of the code. <b>I left an statement opened</b> so the first query was working but these others weren&#39;t. I closed them all after getting the data and <i>changed the array for an arraylist [just in case]</i> and it&#39;s <b>working properly now</b>. Thank you all for your help"}],"owner":{"account_id":2775963,"reputation":3,"user_id":2389548,"display_name":"bateras"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":396,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684742315,"creation_date":1369217226,"question_id":16689044,"body_markdown":"I&#39;m having some bad trouble related to a resulset.\r\nI have one statement, resulset, ... with the very same structure and it works but this one doesn&#39;t.\r\nI&#39;ve seen some people with similar problems but related to the lack of .next(). As you can see, I already have it and I still don&#39;t understand.\r\n\r\nconex is the Connection, which it&#39;s received from the session of a jsp.\r\n\r\nLet&#39;s see if you can enlight me\r\n\r\n    public String[] getPerfiles(Connection conex) throws SQLException {\r\n        String[] perfiles = {};\r\n        int i = 0;\r\n        Statement st = conex.createStatement();\r\n        ResultSet rs1 = st.executeQuery(q.PERFILESQUERY);\r\n        while (rs1.next()) {\r\n            perfiles[i] = rs1.getString(2);\r\n            i++;\r\n        }\r\n        return perfiles;\r\n    }\r\n\r\nThe Query\r\n\r\n        String PERFILESQUERY = &quot;SELECT * FROM perfiles&quot;;\r\n\r\nHere is the error trace\r\n\r\n&gt; Exception occurred in target VM: Before start of result set \r\n&gt; java.sql.SQLException: Before start of result set \tat\r\n&gt; com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1078) \tat\r\n&gt; com.mysql.jdbc.SQLError.createSQLException(SQLError.java:989) \tat\r\n&gt; com.mysql.jdbc.SQLError.createSQLException(SQLError.java:975) \tat\r\n&gt; com.mysql.jdbc.SQLError.createSQLException(SQLError.java:920) \tat\r\n&gt; com.mysql.jdbc.ResultSetImpl.checkRowPos(ResultSetImpl.java:855) \tat\r\n&gt; com.mysql.jdbc.ResultSetImpl.getStringInternal(ResultSetImpl.java:5773)\r\n&gt; \tat com.mysql.jdbc.ResultSetImpl.getString(ResultSetImpl.java:5693)\r\n&gt; \tat clases.Funciones.getPerfiles(Funciones.java:123) \tat\r\n&gt; org.apache.jsp.formUsuario_jsp._jspService(formUsuario_jsp.java:101)\r\n&gt; \tat\r\n&gt; org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:111)\r\n&gt; \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:770) \tat","title":"SQL exception before Start (with .next())","body":"<p>I'm having some bad trouble related to a resulset.\nI have one statement, resulset, ... with the very same structure and it works but this one doesn't.\nI've seen some people with similar problems but related to the lack of .next(). As you can see, I already have it and I still don't understand.</p>\n\n<p>conex is the Connection, which it's received from the session of a jsp.</p>\n\n<p>Let's see if you can enlight me</p>\n\n<pre><code>public String[] getPerfiles(Connection conex) throws SQLException {\n    String[] perfiles = {};\n    int i = 0;\n    Statement st = conex.createStatement();\n    ResultSet rs1 = st.executeQuery(q.PERFILESQUERY);\n    while (rs1.next()) {\n        perfiles[i] = rs1.getString(2);\n        i++;\n    }\n    return perfiles;\n}\n</code></pre>\n\n<p>The Query</p>\n\n<pre><code>    String PERFILESQUERY = \"SELECT * FROM perfiles\";\n</code></pre>\n\n<p>Here is the error trace</p>\n\n<blockquote>\n  <p>Exception occurred in target VM: Before start of result set \n  java.sql.SQLException: Before start of result set     at\n  com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1078)    at\n  com.mysql.jdbc.SQLError.createSQLException(SQLError.java:989)     at\n  com.mysql.jdbc.SQLError.createSQLException(SQLError.java:975)     at\n  com.mysql.jdbc.SQLError.createSQLException(SQLError.java:920)     at\n  com.mysql.jdbc.ResultSetImpl.checkRowPos(ResultSetImpl.java:855)  at\n  com.mysql.jdbc.ResultSetImpl.getStringInternal(ResultSetImpl.java:5773)\n    at com.mysql.jdbc.ResultSetImpl.getString(ResultSetImpl.java:5693)\n    at clases.Funciones.getPerfiles(Funciones.java:123)     at\n  org.apache.jsp.formUsuario_jsp._jspService(formUsuario_jsp.java:101)\n    at\n  org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:111)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:770)     at</p>\n</blockquote>\n"},{"tags":["java","calendar"],"answers":[{"tags":[],"owner":{"account_id":2029491,"reputation":9823,"user_id":1813616,"display_name":"Uwe Plonus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1370962951,"creation_date":1370962951,"answer_id":17047400,"question_id":17046756,"body_markdown":"This is a nice example...\r\n\r\nThe `Calendar` is not easy to handle. You problem is the evaluation of the date.\r\n\r\nThe date of the `Calendar` is newly evaluated if you call e.g. `getTime()` or `add()`.\r\n\r\nIn the second (correct) example you call `getTime()` after setting the first day of the week and the calendar is set to `2013-06-06`. After that you change the day of the week and set the calendar new (via `getTime()`). Therefore it is now set to Monday.\r\n\r\nIn the first example you set the `Calendar` to the date and set the day of week. This leads to an invalid date (temporarily). `2013-06-06` is a Thursday and you set Monday. Now which one is the correct day of week? The `Calendar` implementation now chooses Thursday.\r\n\r\nThis is also [well documented](http://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html) in the Javadoc. The section is named **Calendar Fields Resolution**.","title":"Calendar add behaviour","body":"<p>This is a nice example...</p>\n\n<p>The <code>Calendar</code> is not easy to handle. You problem is the evaluation of the date.</p>\n\n<p>The date of the <code>Calendar</code> is newly evaluated if you call e.g. <code>getTime()</code> or <code>add()</code>.</p>\n\n<p>In the second (correct) example you call <code>getTime()</code> after setting the first day of the week and the calendar is set to <code>2013-06-06</code>. After that you change the day of the week and set the calendar new (via <code>getTime()</code>). Therefore it is now set to Monday.</p>\n\n<p>In the first example you set the <code>Calendar</code> to the date and set the day of week. This leads to an invalid date (temporarily). <code>2013-06-06</code> is a Thursday and you set Monday. Now which one is the correct day of week? The <code>Calendar</code> implementation now chooses Thursday.</p>\n\n<p>This is also <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html\" rel=\"nofollow\">well documented</a> in the Javadoc. The section is named <strong>Calendar Fields Resolution</strong>.</p>\n"}],"owner":{"account_id":770961,"reputation":125,"user_id":811968,"accept_rate":40,"display_name":"Dmitry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684742268,"creation_date":1370961262,"question_id":17046756,"body_markdown":"Want to get first day of the next week (next monday), but call to `getTime()` changes the Calendar object. \r\n\r\nPlease tell me the right way to get first day of the next week.\r\n\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Calendar;\r\n    import java.util.GregorianCalendar;\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            {\r\n                final SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n                final Calendar cal = new GregorianCalendar( 2013, 5, 6 );\r\n                cal.setFirstDayOfWeek( Calendar.MONDAY );\r\n                //System.out.println( sdf.format( cal.getTime() ) );\r\n                cal.set( Calendar.DAY_OF_WEEK,  Calendar.MONDAY );\r\n                System.out.println( sdf.format( cal.getTime() ) );  // 2013-06-06\r\n                cal.add( Calendar.WEEK_OF_YEAR, 1 );\r\n                System.out.println( sdf.format( cal.getTime() ) );  // 2013-06-13\r\n            }\r\n            {\r\n                final SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n                final Calendar cal = new GregorianCalendar( 2013, 5, 6 );\r\n                cal.setFirstDayOfWeek( Calendar.MONDAY );\r\n                System.out.println( sdf.format( cal.getTime() ) );  // 2013-06-06\r\n                cal.set( Calendar.DAY_OF_WEEK,  Calendar.MONDAY );\r\n                System.out.println( sdf.format( cal.getTime() ) );  // 2013-06-03\r\n                cal.add( Calendar.WEEK_OF_YEAR, 1 );\r\n                System.out.println( sdf.format( cal.getTime() ) );  // 2013-06-10\r\n            }\r\n        }\r\n    }\r\n","title":"Calendar add behaviour","body":"<p>Want to get first day of the next week (next monday), but call to <code>getTime()</code> changes the Calendar object. </p>\n\n<p>Please tell me the right way to get first day of the next week.</p>\n\n<pre><code>import java.text.SimpleDateFormat;\nimport java.util.Calendar;\nimport java.util.GregorianCalendar;\npublic class Main {\n    public static void main(String[] args) {\n        {\n            final SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n            final Calendar cal = new GregorianCalendar( 2013, 5, 6 );\n            cal.setFirstDayOfWeek( Calendar.MONDAY );\n            //System.out.println( sdf.format( cal.getTime() ) );\n            cal.set( Calendar.DAY_OF_WEEK,  Calendar.MONDAY );\n            System.out.println( sdf.format( cal.getTime() ) );  // 2013-06-06\n            cal.add( Calendar.WEEK_OF_YEAR, 1 );\n            System.out.println( sdf.format( cal.getTime() ) );  // 2013-06-13\n        }\n        {\n            final SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n            final Calendar cal = new GregorianCalendar( 2013, 5, 6 );\n            cal.setFirstDayOfWeek( Calendar.MONDAY );\n            System.out.println( sdf.format( cal.getTime() ) );  // 2013-06-06\n            cal.set( Calendar.DAY_OF_WEEK,  Calendar.MONDAY );\n            System.out.println( sdf.format( cal.getTime() ) );  // 2013-06-03\n            cal.add( Calendar.WEEK_OF_YEAR, 1 );\n            System.out.println( sdf.format( cal.getTime() ) );  // 2013-06-10\n        }\n    }\n}\n</code></pre>\n"},{"tags":["python","java","node.js","json","regex-group"],"comments":[{"owner":{"account_id":8361573,"reputation":573,"user_id":6279677,"display_name":"Suchandra T"},"score":0,"creation_date":1684741032,"post_id":76303655,"comment_id":134555437,"body_markdown":"As the error suggests it is not able to find .tf file in the current directory.","body":"As the error suggests it is not able to find .tf file in the current directory."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1684741847,"post_id":76303655,"comment_id":134555600,"body_markdown":"What do *any* of the tags have to do with your question?  Is this a *programming* question at all?","body":"What do <i>any</i> of the tags have to do with your question?  Is this a <i>programming</i> question at all?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1684741950,"post_id":76303655,"comment_id":134555612,"body_markdown":"(And how does the question demonstrate research effort?  How is it useful and clear?   What command did you run? What args?  An EC2 *what* ...)","body":"(And how does the question demonstrate research effort?  How is it useful and clear?   What command did you run? What args?  An EC2 <i>what</i> ...)"}],"owner":{"account_id":28651873,"reputation":17,"user_id":21938698,"display_name":"vino"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":0,"score":0,"last_activity_date":1684742186,"creation_date":1684738536,"question_id":76303655,"body_markdown":"The details are thus;\r\n\r\n     Error: No configuration files\r\n    │ \r\n    │ Plan requires configuration to be present. Planning without a configuration would mark everything for\r\n    │ destruction, which is normally not what is desired. If you would like to destroy everything, run plan with the\r\n    │ -destroy option. Otherwise, create a Terraform configuration file (.tf file) and try again.\r\n\r\nHave try to resolve it with alias &quot;env&quot; but it does not seem to be go. ","title":"How can I resolve this issue I have with creating an Ec2 on terraform please?","body":"<p>The details are thus;</p>\n<pre><code> Error: No configuration files\n│ \n│ Plan requires configuration to be present. Planning without a configuration would mark everything for\n│ destruction, which is normally not what is desired. If you would like to destroy everything, run plan with the\n│ -destroy option. Otherwise, create a Terraform configuration file (.tf file) and try again.\n</code></pre>\n<p>Have try to resolve it with alias &quot;env&quot; but it does not seem to be go.</p>\n"},{"tags":["java","openapi","swagger-3.0"],"answers":[{"tags":[],"owner":{"account_id":3965207,"reputation":1481,"user_id":3271380,"accept_rate":80,"display_name":"ulrich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624892888,"creation_date":1624892888,"answer_id":68165786,"question_id":66174633,"body_markdown":"I was getting the same issue today when using \r\n\r\n    @ApiResponse(\r\n        responseCode = &quot;200&quot;, \r\n        content = @Content(mediaType = &quot;application/json&quot;, schema = @Schema(implementation = MyDto.class)), \r\n        description = &quot;Returns MyDto.&quot;)\r\n\r\nwith `io.swagger.v3.oas.annotations.media.Schema` from `swagger 2.1.9`.\r\n\r\nAfter trying different swagger versions (which were producing other errors in my setup), it worked when downgrading to `swagger 2.0.10`.\r\n","title":"Overriding any parameter in io.swagger.v3.oas.annotations.media.Schema throws exception","body":"<p>I was getting the same issue today when using</p>\n<pre><code>@ApiResponse(\n    responseCode = &quot;200&quot;, \n    content = @Content(mediaType = &quot;application/json&quot;, schema = @Schema(implementation = MyDto.class)), \n    description = &quot;Returns MyDto.&quot;)\n</code></pre>\n<p>with <code>io.swagger.v3.oas.annotations.media.Schema</code> from <code>swagger 2.1.9</code>.</p>\n<p>After trying different swagger versions (which were producing other errors in my setup), it worked when downgrading to <code>swagger 2.0.10</code>.</p>\n"},{"tags":[],"owner":{"account_id":23126524,"reputation":1,"user_id":17232222,"display_name":"Wilmar Zapata"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683126896,"creation_date":1683126896,"answer_id":76165538,"question_id":66174633,"body_markdown":"I changed `@Schema(type = &quot;integer&quot;)` by `@Schema(implementation = Integer.class)`","title":"Overriding any parameter in io.swagger.v3.oas.annotations.media.Schema throws exception","body":"<p>I changed <code>@Schema(type = &quot;integer&quot;)</code> by <code>@Schema(implementation = Integer.class)</code></p>\n"},{"tags":[],"owner":{"account_id":954177,"reputation":785,"user_id":979765,"accept_rate":71,"display_name":"Ahmad R. Nazemi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684742051,"creation_date":1684742051,"answer_id":76304056,"question_id":66174633,"body_markdown":"Add this Dependency\r\n```xml\r\n &lt;dependency&gt;\r\n            &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n            &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.10&lt;/version&gt;\r\n &lt;/dependency&gt;","title":"Overriding any parameter in io.swagger.v3.oas.annotations.media.Schema throws exception","body":"<p>Add this Dependency</p>\n<pre class=\"lang-xml prettyprint-override\"><code> &lt;dependency&gt;\n            &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n            &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\n            &lt;version&gt;2.2.10&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":16506411,"reputation":1143,"user_id":11926338,"display_name":"Pavel Petrashov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6946,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1684742051,"creation_date":1613143973,"question_id":66174633,"body_markdown":"I have this open API annotation\r\n\r\n   \r\n\r\n        @GET\r\n        @Operation(method = &quot;Get orders&quot;, description = &quot;GetOrdersRoute&quot;,\r\n                parameters = {\r\n                        @Parameter(in = ParameterIn.QUERY, name = &quot;batchSize&quot;, required = true,\r\n                                schema = @Schema(type = &quot;&quot;)),\r\n                        @Parameter(in = ParameterIn.QUERY, name = &quot;fromDate&quot;, required = true),\r\n                        @Parameter(in = ParameterIn.QUERY, name = &quot;filter&quot;, required = true)},\r\n                responses = {\r\n                        @ApiResponse(description = &quot;The order&quot;,\r\n                                content = @Content(mediaType = &quot;application/json&quot;,\r\n                                        schema = @Schema(implementation = OrderDto.class)))})\r\n        @Override\r\n        public String handle(@Parameter(hidden = true) Request request, @Parameter(hidden = true) Response response) {\r\n            return api.exec();\r\n        }\r\n\r\n It works. But when I add to `@Parameter` to `@Schema` any value like `schema = @Schema(type = &quot;integer&quot;))` I get an exception:\r\n\r\n\t\r\n\r\n    java.lang.NoSuchMethodError: org.apache.commons.lang3.math.NumberUtils.isCreatable(Ljava/lang/String;)Z\r\n\r\nIn other words:  `@Schema(type = &quot;&quot;))` works fine but  `@Schema(type = &quot;integer&quot;))` doesn&#39;t work.\r\n\r\nAnd not only `type` parameter in `@Schema` annotation. Any override parameter in  `@Schema` annotation throws this exception.\r\n\r\nBut `@Schema` in `@ApiResponse` works fine with any override parameter.","title":"Overriding any parameter in io.swagger.v3.oas.annotations.media.Schema throws exception","body":"<p>I have this open API annotation</p>\n<pre><code>    @GET\n    @Operation(method = &quot;Get orders&quot;, description = &quot;GetOrdersRoute&quot;,\n            parameters = {\n                    @Parameter(in = ParameterIn.QUERY, name = &quot;batchSize&quot;, required = true,\n                            schema = @Schema(type = &quot;&quot;)),\n                    @Parameter(in = ParameterIn.QUERY, name = &quot;fromDate&quot;, required = true),\n                    @Parameter(in = ParameterIn.QUERY, name = &quot;filter&quot;, required = true)},\n            responses = {\n                    @ApiResponse(description = &quot;The order&quot;,\n                            content = @Content(mediaType = &quot;application/json&quot;,\n                                    schema = @Schema(implementation = OrderDto.class)))})\n    @Override\n    public String handle(@Parameter(hidden = true) Request request, @Parameter(hidden = true) Response response) {\n        return api.exec();\n    }\n</code></pre>\n<p>It works. But when I add to <code>@Parameter</code> to <code>@Schema</code> any value like <code>schema = @Schema(type = &quot;integer&quot;))</code> I get an exception:</p>\n<pre><code>java.lang.NoSuchMethodError: org.apache.commons.lang3.math.NumberUtils.isCreatable(Ljava/lang/String;)Z\n</code></pre>\n<p>In other words:  <code>@Schema(type = &quot;&quot;))</code> works fine but  <code>@Schema(type = &quot;integer&quot;))</code> doesn't work.</p>\n<p>And not only <code>type</code> parameter in <code>@Schema</code> annotation. Any override parameter in  <code>@Schema</code> annotation throws this exception.</p>\n<p>But <code>@Schema</code> in <code>@ApiResponse</code> works fine with any override parameter.</p>\n"},{"tags":["java","gradle","swagger","swagger-codegen"],"answers":[{"tags":[],"owner":{"account_id":7129150,"reputation":307,"user_id":5451050,"accept_rate":64,"display_name":"Alok Nath Saha"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1629378118,"creation_date":1629378118,"answer_id":68848391,"question_id":68843312,"body_markdown":"I was able to get the dependency issue fixed by adding the swagger-annotations library during the compile time in the build.gradle file:\r\n\r\n    dependencies {\r\n    implementation &quot;io.swagger.core.v3:swagger-annotations:2.1.10&quot;\r\n    }","title":"Package io.swagger.v3.oas.annotations.media does not exist (Swagger Codegen)","body":"<p>I was able to get the dependency issue fixed by adding the swagger-annotations library during the compile time in the build.gradle file:</p>\n<pre><code>dependencies {\nimplementation &quot;io.swagger.core.v3:swagger-annotations:2.1.10&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":954177,"reputation":785,"user_id":979765,"accept_rate":71,"display_name":"Ahmad R. Nazemi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684741981,"creation_date":1684741981,"answer_id":76304047,"question_id":68843312,"body_markdown":"Add this dependency\r\n```code\r\n &lt;dependency&gt;\r\n            &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n            &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.10&lt;/version&gt;\r\n&lt;/dependency&gt;```","title":"Package io.swagger.v3.oas.annotations.media does not exist (Swagger Codegen)","body":"<p>Add this dependency</p>\n<pre><code> &lt;dependency&gt;\n            &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n            &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\n            &lt;version&gt;2.2.10&lt;/version&gt;\n&lt;/dependency&gt;```\n</code></pre>\n"}],"owner":{"account_id":7129150,"reputation":307,"user_id":5451050,"accept_rate":64,"display_name":"Alok Nath Saha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18126,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1684741981,"creation_date":1629356324,"question_id":68843312,"body_markdown":"I&#39;m generate a java client using swagger codegen cli tool (version 3.0.25) in gradle:\r\n\r\n    task doCodeGenSdk(type: JavaExec) {\r\n    main = &quot;io.swagger.codegen.v3.Codegen&quot;\r\n    classpath = configurations.codeGenCli\r\n    inputs.files file(&quot;${swaggerSpecDir}/*.json&quot;)\r\n    outputs.dir file(&quot;${codeGenDirSdk}&quot;)\r\n    args = [&quot;generate&quot;, &quot;--lang&quot;, &quot;java&quot;, &quot;--input-spec&quot;, &quot;${swaggerSpecFile}&quot;,\r\n            &quot;--config&quot;, &quot;${swaggerConfig}&quot;,\r\n            &quot;--template-dir&quot;, &quot;${swaggerTemplateDir}&quot;,\r\n            &quot;--output&quot;, &quot;${codeGenDirSdk}&quot;]\r\n    systemProperty &quot;apiTests&quot;, &quot;false&quot;\r\n    systemProperty &quot;apiDocs&quot;, &quot;false&quot;\r\n    systemProperty &quot;modelTests&quot;, &quot;false&quot;\r\n    systemProperty &quot;modelDocs&quot;, &quot;false&quot;}\r\n\r\nThe swagger config file is as shown below:\r\n\r\n    {\r\n    &quot;library&quot;: &quot;resttemplate&quot;,\r\n    &quot;artifactVersion&quot;: &quot;__VERSION__&quot;,\r\n    &quot;artifactId&quot;: &quot;__ARTIFACT_ID__&quot;,\r\n    &quot;modelPackage&quot;: &quot;com.model&quot;,\r\n    &quot;apiPackage&quot;: &quot;com.api&quot;,\r\n    &quot;invokerPackage&quot;: &quot;com.invoker&quot;,\r\n    &quot;dateLibrary&quot;: &quot;java8&quot;,\r\n    &quot;apiTests&quot;: false,\r\n    &quot;java8&quot;: true,\r\n    &quot;serializableModel&quot;: true,\r\n    &quot;useBeanValidation&quot;: true,\r\n    &quot;performBeanValidation&quot;: true}\r\n\r\nThe template-directory has the following mustache files:\r\n\r\n    ApiClient.mustache, generatedAnnotation.mustache, licenseInfo.mustach, pojo.mustache\r\n\r\nThe gradle file:\r\n\r\n    buildscript {\r\n    repositories {\r\n        maven {\r\n            url &quot;https://plugins.gradle.org/m2/&quot;\r\n        }\r\n    }\r\n    dependencies {\r\n        classpath &quot;io.swagger.core.v3:swagger-gradle-plugin:2.1.10&quot;\r\n      }\r\n    }\r\n    apply plugin: io.swagger.v3.plugins.gradle.SwaggerPlugin\r\n    configurations {\r\n        codeGenCli\r\n    }\r\n    dependencies {\r\n        codeGenCli &quot;io.swagger.codegen.v3:swagger-codegen-cli:3.0.25&quot;\r\n    }\r\n\r\nThe swagger codegen generates the files in the build directory, however there are import error for some of the packages.\r\n\r\n    error: package io.swagger.v3.oas.annotations.media does not exist\r\n\r\n\r\nWe were using swagger codegen tool to generate client code using swagger spec file in 2.0.\r\n\r\nThis is the first time, we&#39;re trying to generate a client using a swagger spec file in 3.0. \r\n\r\nAny help would be much appreciated.\r\n\r\n\r\n","title":"Package io.swagger.v3.oas.annotations.media does not exist (Swagger Codegen)","body":"<p>I'm generate a java client using swagger codegen cli tool (version 3.0.25) in gradle:</p>\n<pre><code>task doCodeGenSdk(type: JavaExec) {\nmain = &quot;io.swagger.codegen.v3.Codegen&quot;\nclasspath = configurations.codeGenCli\ninputs.files file(&quot;${swaggerSpecDir}/*.json&quot;)\noutputs.dir file(&quot;${codeGenDirSdk}&quot;)\nargs = [&quot;generate&quot;, &quot;--lang&quot;, &quot;java&quot;, &quot;--input-spec&quot;, &quot;${swaggerSpecFile}&quot;,\n        &quot;--config&quot;, &quot;${swaggerConfig}&quot;,\n        &quot;--template-dir&quot;, &quot;${swaggerTemplateDir}&quot;,\n        &quot;--output&quot;, &quot;${codeGenDirSdk}&quot;]\nsystemProperty &quot;apiTests&quot;, &quot;false&quot;\nsystemProperty &quot;apiDocs&quot;, &quot;false&quot;\nsystemProperty &quot;modelTests&quot;, &quot;false&quot;\nsystemProperty &quot;modelDocs&quot;, &quot;false&quot;}\n</code></pre>\n<p>The swagger config file is as shown below:</p>\n<pre><code>{\n&quot;library&quot;: &quot;resttemplate&quot;,\n&quot;artifactVersion&quot;: &quot;__VERSION__&quot;,\n&quot;artifactId&quot;: &quot;__ARTIFACT_ID__&quot;,\n&quot;modelPackage&quot;: &quot;com.model&quot;,\n&quot;apiPackage&quot;: &quot;com.api&quot;,\n&quot;invokerPackage&quot;: &quot;com.invoker&quot;,\n&quot;dateLibrary&quot;: &quot;java8&quot;,\n&quot;apiTests&quot;: false,\n&quot;java8&quot;: true,\n&quot;serializableModel&quot;: true,\n&quot;useBeanValidation&quot;: true,\n&quot;performBeanValidation&quot;: true}\n</code></pre>\n<p>The template-directory has the following mustache files:</p>\n<pre><code>ApiClient.mustache, generatedAnnotation.mustache, licenseInfo.mustach, pojo.mustache\n</code></pre>\n<p>The gradle file:</p>\n<pre><code>buildscript {\nrepositories {\n    maven {\n        url &quot;https://plugins.gradle.org/m2/&quot;\n    }\n}\ndependencies {\n    classpath &quot;io.swagger.core.v3:swagger-gradle-plugin:2.1.10&quot;\n  }\n}\napply plugin: io.swagger.v3.plugins.gradle.SwaggerPlugin\nconfigurations {\n    codeGenCli\n}\ndependencies {\n    codeGenCli &quot;io.swagger.codegen.v3:swagger-codegen-cli:3.0.25&quot;\n}\n</code></pre>\n<p>The swagger codegen generates the files in the build directory, however there are import error for some of the packages.</p>\n<pre><code>error: package io.swagger.v3.oas.annotations.media does not exist\n</code></pre>\n<p>We were using swagger codegen tool to generate client code using swagger spec file in 2.0.</p>\n<p>This is the first time, we're trying to generate a client using a swagger spec file in 3.0.</p>\n<p>Any help would be much appreciated.</p>\n"},{"tags":["java","spring","jms","activemq","spring-jms"],"comments":[{"owner":{"account_id":2784842,"reputation":67271,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"score":0,"creation_date":1399822353,"post_id":23593980,"comment_id":36215330,"body_markdown":"On what basis do you say same message is redelivered after fixed interval. Can you show logs?","body":"On what basis do you say same message is redelivered after fixed interval. Can you show logs?"},{"owner":{"account_id":3605469,"reputation":1723,"user_id":3007732,"accept_rate":64,"display_name":"Ayelet"},"score":0,"creation_date":1399824043,"post_id":23593980,"comment_id":36215849,"body_markdown":"See my edit - as you can tell, there are fixed 5 seconds intervals between re-deliveries.","body":"See my edit - as you can tell, there are fixed 5 seconds intervals between re-deliveries."},{"owner":{"account_id":2784842,"reputation":67271,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"score":0,"creation_date":1399824321,"post_id":23593980,"comment_id":36215966,"body_markdown":"Ans is it for the same message?","body":"Ans is it for the same message?"},{"owner":{"account_id":3605469,"reputation":1723,"user_id":3007732,"accept_rate":64,"display_name":"Ayelet"},"score":0,"creation_date":1399824435,"post_id":23593980,"comment_id":36216018,"body_markdown":"Yes, as I already said, these are all re-deliveries of the same message.","body":"Yes, as I already said, these are all re-deliveries of the same message."},{"owner":{"account_id":1474276,"reputation":4564,"user_id":1385087,"display_name":"Konstantin V. Salikhov"},"score":0,"creation_date":1399832220,"post_id":23593980,"comment_id":36218861,"body_markdown":"try to use different consumer cache settings at listener container","body":"try to use different consumer cache settings at listener container"},{"owner":{"account_id":1474276,"reputation":4564,"user_id":1385087,"display_name":"Konstantin V. Salikhov"},"score":0,"creation_date":1399832267,"post_id":23593980,"comment_id":36218880,"body_markdown":"http://forum.spring.io/forum/spring-projects/integration/jms/114247-jms-dmlc-not-caching-connection-when-using-tx-despite-cachelevel-cache-consumer","body":"<a href=\"http://forum.spring.io/forum/spring-projects/integration/jms/114247-jms-dmlc-not-caching-connection-when-using-tx-despite-cachelevel-cache-consumer\" rel=\"nofollow noreferrer\">forum.spring.io/forum/spring-projects/integration/jms/&hellip;</a>"},{"owner":{"account_id":1474276,"reputation":4564,"user_id":1385087,"display_name":"Konstantin V. Salikhov"},"score":0,"creation_date":1399832305,"post_id":23593980,"comment_id":36218902,"body_markdown":"http://tmielke.blogspot.ru/2012/03/camel-jms-with-transactions-lessons.html","body":"<a href=\"http://tmielke.blogspot.ru/2012/03/camel-jms-with-transactions-lessons.html\" rel=\"nofollow noreferrer\">tmielke.blogspot.ru/2012/03/&hellip;</a>"},{"owner":{"account_id":3605469,"reputation":1723,"user_id":3007732,"accept_rate":64,"display_name":"Ayelet"},"score":0,"creation_date":1399875791,"post_id":23593980,"comment_id":36230078,"body_markdown":"@Konstantin V. Salikhov - I changed the cache level to &quot;none&quot;, but it didn&#39;t make any difference.","body":"@Konstantin V. Salikhov - I changed the cache level to &quot;none&quot;, but it didn&#39;t make any difference."},{"owner":{"account_id":4999088,"reputation":333,"user_id":4018646,"accept_rate":60,"display_name":"tyfyh"},"score":1,"creation_date":1546778681,"post_id":23593980,"comment_id":94956546,"body_markdown":"in my case the problem was with cache settings, I changed cache level to &quot;CACHE_CONSUMER&quot; and it started to work","body":"in my case the problem was with cache settings, I changed cache level to &quot;CACHE_CONSUMER&quot; and it started to work"}],"answers":[{"tags":[],"owner":{"account_id":3605469,"reputation":1723,"user_id":3007732,"accept_rate":64,"display_name":"Ayelet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1399879153,"creation_date":1399879153,"answer_id":23603151,"question_id":23593980,"body_markdown":"So, I think I found the problem:\r\nWhen I was testing the policy before, I threw JMSException to get the messages to be re-delivered.\r\n\r\nOne I changed the exception that was thrown to Exception/RuntimeException, the exponential back off worked.\r\n\r\nI&#39;m not sure why JMSException causes the exponential back off policy to be ignored...Does anyone have any ideas?","title":"Spring JMS - Exponential message re-delivery policy is ignored","body":"<p>So, I think I found the problem:\nWhen I was testing the policy before, I threw JMSException to get the messages to be re-delivered.</p>\n\n<p>One I changed the exception that was thrown to Exception/RuntimeException, the exponential back off worked.</p>\n\n<p>I'm not sure why JMSException causes the exponential back off policy to be ignored...Does anyone have any ideas?</p>\n"},{"tags":[],"owner":{"account_id":2338104,"reputation":9101,"user_id":2049986,"accept_rate":89,"display_name":"Jacob van Lingen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684741977,"creation_date":1684741977,"answer_id":76304043,"question_id":23593980,"body_markdown":"To make @tyfyh&#39;s comment stand out a little more, let&#39;s expand it as an answer. By setting the cache level to [CACHE_CONSUMER][1], it means that the JMS consumer (message receiver) is cached, allowing it to be reused for multiple message deliveries. This caching behavior can impact the redelivery behavior and handling of exceptions, and a such fix above problem.\r\n\r\nYou can define the DefaultJmsListenerContainerFactory yourself:\r\n\r\n    @Bean\r\n    public DefaultJmsListenerContainerFactory jmsListenerContainerFactory(PlatformTransactionManager txManager, ConnectionFactory connectionFactory) {\r\n      var factory = new DefaultJmsListenerContainerFactory();\r\n      factory.setTransactionManager(txManager);\r\n      factory.setConnectionFactory(connectionFactory);\r\n      factory.setCacheLevel(DefaultMessageListenerContainer.CACHE_CONSUMER);\r\n\r\n      return factory;\r\n    }\r\n\r\nOr use existing bean and just set the cache level:\r\n\r\n    @Configuration\r\n    public class JmsListenerConfig {\r\n\r\n      private final DefaultJmsListenerContainerFactory factory;\r\n\r\n      public JmsListenerConfig(DefaultJmsListenerContainerFactory factory) {\r\n        this.factory = factory;\r\n      }\r\n\r\n      @PostConstruct\r\n      public void customizeJmsListenerContainerFactory() {\r\n        factory.setCacheLevel(DefaultMessageListenerContainer.CACHE_CONSUMER);\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/listener/DefaultMessageListenerContainer.html#CACHE_CONSUMER","title":"Spring JMS - Exponential message re-delivery policy is ignored","body":"<p>To make @tyfyh's comment stand out a little more, let's expand it as an answer. By setting the cache level to <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/listener/DefaultMessageListenerContainer.html#CACHE_CONSUMER\" rel=\"nofollow noreferrer\">CACHE_CONSUMER</a>, it means that the JMS consumer (message receiver) is cached, allowing it to be reused for multiple message deliveries. This caching behavior can impact the redelivery behavior and handling of exceptions, and a such fix above problem.</p>\n<p>You can define the DefaultJmsListenerContainerFactory yourself:</p>\n<pre><code>@Bean\npublic DefaultJmsListenerContainerFactory jmsListenerContainerFactory(PlatformTransactionManager txManager, ConnectionFactory connectionFactory) {\n  var factory = new DefaultJmsListenerContainerFactory();\n  factory.setTransactionManager(txManager);\n  factory.setConnectionFactory(connectionFactory);\n  factory.setCacheLevel(DefaultMessageListenerContainer.CACHE_CONSUMER);\n\n  return factory;\n}\n</code></pre>\n<p>Or use existing bean and just set the cache level:</p>\n<pre><code>@Configuration\npublic class JmsListenerConfig {\n\n  private final DefaultJmsListenerContainerFactory factory;\n\n  public JmsListenerConfig(DefaultJmsListenerContainerFactory factory) {\n    this.factory = factory;\n  }\n\n  @PostConstruct\n  public void customizeJmsListenerContainerFactory() {\n    factory.setCacheLevel(DefaultMessageListenerContainer.CACHE_CONSUMER);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":3605469,"reputation":1723,"user_id":3007732,"accept_rate":64,"display_name":"Ayelet"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7029,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1684741977,"creation_date":1399819539,"question_id":23593980,"body_markdown":"We&#39;re trying to set a re-delivery policy for ActiveMQ using spring jms. We&#39;ve set an exponential back-off for the re-deliveries, but it seems to be ignored - the intervals between the message re-deliveries are fixed instead of exponentially growing.\r\n\r\nDoes anyone know what might be the problem? This is our spring-jms configuration:\r\n\r\n\t&lt;bean id=&quot;connectionFactory&quot; class=&quot;org.apache.activemq.ActiveMQConnectionFactory&quot;\r\n\t\tp:brokerURL=&quot;${activemq_url}&quot;&gt;\r\n\t\t&lt;property name=&quot;redeliveryPolicy&quot; ref=&quot;redeliveryPolicy&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;redeliveryPolicy&quot; class=&quot;org.apache.activemq.RedeliveryPolicy&quot;&gt;\r\n\t\t&lt;property name=&quot;queue&quot; value=&quot;*&quot; /&gt;\r\n\t\t&lt;property name=&quot;initialRedeliveryDelay&quot; value=&quot;10000&quot; /&gt;\r\n\t\t&lt;property name=&quot;redeliveryDelay&quot; value=&quot;10000&quot; /&gt;\r\n\t\t&lt;property name=&quot;maximumRedeliveries&quot; value=&quot;-1&quot; /&gt;\r\n\t\t&lt;property name=&quot;useExponentialBackOff&quot; value=&quot;true&quot; /&gt;\r\n\t\t&lt;property name=&quot;backOffMultiplier&quot; value=&quot;5&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;cachingConnectionFactory&quot; class=&quot;org.springframework.jms.connection.CachingConnectionFactory&quot; \r\n\t\tp:targetConnectionFactory-ref=&quot;connectionFactory&quot; p:sessionCacheSize=&quot;10&quot; \r\n\t\t/&gt;\r\n\r\n\t&lt;!-- A JmsTemplate instance that uses the cached connection and destination --&gt;\r\n\t&lt;bean id=&quot;jmsTemplate&quot; class=&quot;org.springframework.jms.core.JmsTemplate&quot;&gt;\r\n\t\t&lt;property name=&quot;connectionFactory&quot; ref=&quot;cachingConnectionFactory&quot; /&gt;\r\n\t\t&lt;property name=&quot;messageConverter&quot; ref=&quot;messageConverter&quot; /&gt;\r\n\t\t&lt;property name=&quot;sessionTransacted&quot; value=&quot;true&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;!-- The Spring message listener container configuration --&gt;\r\n\t&lt;jms:listener-container container-type=&quot;default&quot;\r\n\t\tdestination-type=&quot;queue&quot; connection-factory=&quot;connectionFactory&quot;\r\n\t\tacknowledge=&quot;transacted&quot; concurrency=&quot;1&quot; cache=&quot;consumer&quot;&gt;\r\n\t\t&lt;jms:listener destination=&quot;testQueue&quot; ref=&quot;testService&quot;\r\n\t\t\tmethod=&quot;onMessage&quot; /&gt;\r\n\t&lt;/jms:listener-container&gt;\r\n\r\nThanks!\r\n\r\n**EDIT:** This is a log example, the re-deliveries happen every 5 seconds:\r\n\r\n    11 May 2014 18:52:00  WARN DefaultMessageListenerContainer - Execution of JMS message listener failed, and no ErrorHandler has been set.\r\n    javax.jms.JMSException: Sun May 11 18:52:00 IDT 2014\r\n\tat ...\r\n    11 May 2014 18:52:05  WARN DefaultMessageListenerContainer - Execution of JMS message listener failed, and no ErrorHandler has been set.\r\n    javax.jms.JMSException: Sun May 11 18:52:05 IDT 2014\r\n\tat ...\r\n    11 May 2014 18:52:10  WARN DefaultMessageListenerContainer - Execution of JMS message listener failed, and no ErrorHandler has been set.\r\n    javax.jms.JMSException: Sun May 11 18:52:10 IDT 2014\r\n\tat ...\r\n    11 May 2014 18:52:15  WARN DefaultMessageListenerContainer - Execution of JMS message listener failed, and no ErrorHandler has been set.\r\n    javax.jms.JMSException: Sun May 11 18:52:15 IDT 2014\r\n\tat ...\r\n    11 May 2014 18:52:20  WARN DefaultMessageListenerContainer - Execution of JMS message listener failed, and no ErrorHandler has been set.\r\n    javax.jms.JMSException: Sun May 11 18:52:20 IDT 2014\r\n\tat ...","title":"Spring JMS - Exponential message re-delivery policy is ignored","body":"<p>We're trying to set a re-delivery policy for ActiveMQ using spring jms. We've set an exponential back-off for the re-deliveries, but it seems to be ignored - the intervals between the message re-deliveries are fixed instead of exponentially growing.</p>\n\n<p>Does anyone know what might be the problem? This is our spring-jms configuration:</p>\n\n<pre><code>&lt;bean id=\"connectionFactory\" class=\"org.apache.activemq.ActiveMQConnectionFactory\"\n    p:brokerURL=\"${activemq_url}\"&gt;\n    &lt;property name=\"redeliveryPolicy\" ref=\"redeliveryPolicy\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"redeliveryPolicy\" class=\"org.apache.activemq.RedeliveryPolicy\"&gt;\n    &lt;property name=\"queue\" value=\"*\" /&gt;\n    &lt;property name=\"initialRedeliveryDelay\" value=\"10000\" /&gt;\n    &lt;property name=\"redeliveryDelay\" value=\"10000\" /&gt;\n    &lt;property name=\"maximumRedeliveries\" value=\"-1\" /&gt;\n    &lt;property name=\"useExponentialBackOff\" value=\"true\" /&gt;\n    &lt;property name=\"backOffMultiplier\" value=\"5\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"cachingConnectionFactory\" class=\"org.springframework.jms.connection.CachingConnectionFactory\" \n    p:targetConnectionFactory-ref=\"connectionFactory\" p:sessionCacheSize=\"10\" \n    /&gt;\n\n&lt;!-- A JmsTemplate instance that uses the cached connection and destination --&gt;\n&lt;bean id=\"jmsTemplate\" class=\"org.springframework.jms.core.JmsTemplate\"&gt;\n    &lt;property name=\"connectionFactory\" ref=\"cachingConnectionFactory\" /&gt;\n    &lt;property name=\"messageConverter\" ref=\"messageConverter\" /&gt;\n    &lt;property name=\"sessionTransacted\" value=\"true\" /&gt;\n&lt;/bean&gt;\n\n&lt;!-- The Spring message listener container configuration --&gt;\n&lt;jms:listener-container container-type=\"default\"\n    destination-type=\"queue\" connection-factory=\"connectionFactory\"\n    acknowledge=\"transacted\" concurrency=\"1\" cache=\"consumer\"&gt;\n    &lt;jms:listener destination=\"testQueue\" ref=\"testService\"\n        method=\"onMessage\" /&gt;\n&lt;/jms:listener-container&gt;\n</code></pre>\n\n<p>Thanks!</p>\n\n<p><strong>EDIT:</strong> This is a log example, the re-deliveries happen every 5 seconds:</p>\n\n<pre><code>11 May 2014 18:52:00  WARN DefaultMessageListenerContainer - Execution of JMS message listener failed, and no ErrorHandler has been set.\njavax.jms.JMSException: Sun May 11 18:52:00 IDT 2014\nat ...\n11 May 2014 18:52:05  WARN DefaultMessageListenerContainer - Execution of JMS message listener failed, and no ErrorHandler has been set.\njavax.jms.JMSException: Sun May 11 18:52:05 IDT 2014\nat ...\n11 May 2014 18:52:10  WARN DefaultMessageListenerContainer - Execution of JMS message listener failed, and no ErrorHandler has been set.\njavax.jms.JMSException: Sun May 11 18:52:10 IDT 2014\nat ...\n11 May 2014 18:52:15  WARN DefaultMessageListenerContainer - Execution of JMS message listener failed, and no ErrorHandler has been set.\njavax.jms.JMSException: Sun May 11 18:52:15 IDT 2014\nat ...\n11 May 2014 18:52:20  WARN DefaultMessageListenerContainer - Execution of JMS message listener failed, and no ErrorHandler has been set.\njavax.jms.JMSException: Sun May 11 18:52:20 IDT 2014\nat ...\n</code></pre>\n"},{"tags":["java","json","log4j"],"comments":[{"owner":{"account_id":239780,"reputation":3693,"user_id":509614,"accept_rate":88,"display_name":"Dennis"},"score":0,"creation_date":1583578440,"post_id":24652128,"comment_id":107169461,"body_markdown":"Any reason for the f-bomb?","body":"Any reason for the f-bomb?"}],"answers":[{"tags":[],"owner":{"account_id":3628710,"reputation":333,"user_id":3025557,"accept_rate":80,"display_name":"nimble_ninja"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1416853201,"creation_date":1416853201,"answer_id":27111550,"question_id":24652128,"body_markdown":"I&#39;m basing my response on [this manual reference][1].\r\n\r\n1) Apparently the only parameters the JSONLayout takes are charset, compact, complete, properties, and locationInfo.  Unfortunately based on my limited research, removing endOfBatch and loggerFqcn doesn&#39;t appear possible.  (This is odd, however, since the example output in the referenced manual does not include these fields.)\r\n\r\n2) This is almost certainly not possible.  The concept of a log entry in log4j involves a string message, possibly a throwable, a log level, and a few other static things.  Custom fields aren&#39;t possible without writing a custom class.  [This SO question][2] describes doing that, though for the purpose of that question, MDC was used in the end.  MDC wouldn&#39;t serve your purposes since you want to have custom fields that are different in each entry.  I&#39;m not sure what you mean by &quot;flatten.&quot;\r\n\r\n3) Unfortunately this doesn&#39;t look like it&#39;s available either.  PatternLayout is much more customizable; AFAIK you will have to customize JSONLayout yourself.\r\n\r\n\r\n  [1]: http://logging.apache.org/log4j/2.0/manual/layouts.html\r\n  [2]: https://stackoverflow.com/questions/1687473/log4j-custom-fields","title":"How to modify log4j JsonLayout field names","body":"<p>I'm basing my response on <a href=\"http://logging.apache.org/log4j/2.0/manual/layouts.html\" rel=\"nofollow noreferrer\">this manual reference</a>.</p>\n\n<p>1) Apparently the only parameters the JSONLayout takes are charset, compact, complete, properties, and locationInfo.  Unfortunately based on my limited research, removing endOfBatch and loggerFqcn doesn't appear possible.  (This is odd, however, since the example output in the referenced manual does not include these fields.)</p>\n\n<p>2) This is almost certainly not possible.  The concept of a log entry in log4j involves a string message, possibly a throwable, a log level, and a few other static things.  Custom fields aren't possible without writing a custom class.  <a href=\"https://stackoverflow.com/questions/1687473/log4j-custom-fields\">This SO question</a> describes doing that, though for the purpose of that question, MDC was used in the end.  MDC wouldn't serve your purposes since you want to have custom fields that are different in each entry.  I'm not sure what you mean by \"flatten.\"</p>\n\n<p>3) Unfortunately this doesn't look like it's available either.  PatternLayout is much more customizable; AFAIK you will have to customize JSONLayout yourself.</p>\n"},{"tags":[],"owner":{"account_id":6704479,"reputation":31,"user_id":5169965,"display_name":"user5169965"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1441963409,"creation_date":1441961203,"answer_id":32519271,"question_id":24652128,"body_markdown":"You can customize `JacksonFactory` class to include only field names that you want  in log entry. Default implementation in `JacksonFactory` is excluding only two fields from log entry which are location and properties (that too based on parameters properties and source). But if you want to exclude more fields you could add more field names to exclude in set of properties to exclude, Here is the example \r\n\r\n    ObjectWriter newWriter(final boolean locationInfo, final boolean properties, final boolean compact) {\r\n            final SimpleFilterProvider filters = new SimpleFilterProvider();\r\n            final Set&lt;String&gt; except = new HashSet&lt;&gt;(5);\r\n            if (!locationInfo) {\r\n                except.add(this.getPropertNameForSource());\r\n            }\r\n            if (!properties) {\r\n                except.add(this.getPropertNameForContextMap());\r\n        }\r\n\r\n        except.add(this.getPropertNameForNanoTime());\r\n      \r\n        except.add(&quot;loggerFqcn&quot;);\r\n        except.add(&quot;endOfBatch&quot;);\r\n        filters.addFilter(Log4jLogEvent.class.getName(), SimpleBeanPropertyFilter.serializeAllExcept(except));\r\n\r\n        final ObjectWriter writer = this.newObjectMapper().writer(compact ? this.newCompactPrinter() : this.newPrettyPrinter());\r\n\r\n        return writer.with(filters);\r\n    }\r\n","title":"How to modify log4j JsonLayout field names","body":"<p>You can customize <code>JacksonFactory</code> class to include only field names that you want  in log entry. Default implementation in <code>JacksonFactory</code> is excluding only two fields from log entry which are location and properties (that too based on parameters properties and source). But if you want to exclude more fields you could add more field names to exclude in set of properties to exclude, Here is the example </p>\n\n<pre><code>ObjectWriter newWriter(final boolean locationInfo, final boolean properties, final boolean compact) {\n        final SimpleFilterProvider filters = new SimpleFilterProvider();\n        final Set&lt;String&gt; except = new HashSet&lt;&gt;(5);\n        if (!locationInfo) {\n            except.add(this.getPropertNameForSource());\n        }\n        if (!properties) {\n            except.add(this.getPropertNameForContextMap());\n    }\n\n    except.add(this.getPropertNameForNanoTime());\n\n    except.add(\"loggerFqcn\");\n    except.add(\"endOfBatch\");\n    filters.addFilter(Log4jLogEvent.class.getName(), SimpleBeanPropertyFilter.serializeAllExcept(except));\n\n    final ObjectWriter writer = this.newObjectMapper().writer(compact ? this.newCompactPrinter() : this.newPrettyPrinter());\n\n    return writer.with(filters);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":337029,"reputation":43,"user_id":665049,"display_name":"user665049"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524673726,"creation_date":1524673726,"answer_id":50027159,"question_id":24652128,"body_markdown":"It is possible to do this with a Log4j extension. See https://github.com/metamx/sumologic-log4j2-appender/blob/master/src/main/java/com/sumologic/log4j/core/SumoJsonLayout.java#L117-L237 for an example. Basically you can extend `LogEvent` with whatever Jackson annotations you want to customize how things are printed out, but then you need some kind of layout in order to coerce the events into your custom-field-named event object.","title":"How to modify log4j JsonLayout field names","body":"<p>It is possible to do this with a Log4j extension. See <a href=\"https://github.com/metamx/sumologic-log4j2-appender/blob/master/src/main/java/com/sumologic/log4j/core/SumoJsonLayout.java#L117-L237\" rel=\"nofollow noreferrer\">https://github.com/metamx/sumologic-log4j2-appender/blob/master/src/main/java/com/sumologic/log4j/core/SumoJsonLayout.java#L117-L237</a> for an example. Basically you can extend <code>LogEvent</code> with whatever Jackson annotations you want to customize how things are printed out, but then you need some kind of layout in order to coerce the events into your custom-field-named event object.</p>\n"},{"tags":[],"owner":{"account_id":2892776,"reputation":3221,"user_id":2481153,"display_name":"HungNM2"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1624774642,"creation_date":1624774642,"answer_id":68148523,"question_id":24652128,"body_markdown":"user [JsonTemplateLayout][1]:\r\n\r\n\r\n**Pom.xml:**\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;log4j-layout-template-json&lt;/artifactId&gt;\r\n        &lt;version&gt;2.14.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**log4j2.xml:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration status=&quot;INFO&quot;&gt;\r\n    \t&lt;Appenders&gt;\r\n    \t\t&lt;Console name=&quot;console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n    \t\t\t&lt;JsonTemplateLayout eventTemplateUri=&quot;classpath:JsonTemplateLayout.json&quot; /&gt;\r\n    \t\t&lt;/Console&gt;\r\n    \t&lt;/Appenders&gt;\r\n    \t&lt;Loggers&gt;\r\n    \t\t&lt;Logger name=&quot;com.logging.a.b&quot; level=&quot;error&quot; additivity=&quot;false&quot;&gt;\r\n    \t\t\t&lt;AppenderRef ref=&quot;console&quot; /&gt;\r\n    \t\t&lt;/Logger&gt;\r\n    \t&lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\n**src/main/resources/JsonTemplateLayout.json:**\r\n\r\n    {\r\n    \t&quot;version&quot;: &quot;1.1&quot;,\r\n    \t&quot;hostName&quot;: &quot;${hostName}&quot;,\r\n    \t&quot;field1&quot;: &quot;${env:JAVA_HOME}&quot;,\r\n    \t&quot;field2&quot;: &quot;${sys:os.name}&quot;,\r\n    \t&quot;time&quot;: {\r\n    \t\t&quot;$resolver&quot;: &quot;timestamp&quot;,\r\n    \t\t&quot;pattern&quot;: {\r\n    \t\t\t&quot;format&quot;: &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;,\r\n    \t\t\t&quot;timeZone&quot;: &quot;UTC&quot;\r\n    \t\t}\r\n    \t},\r\n    \t&quot;level&quot;: {\r\n    \t\t&quot;$resolver&quot;: &quot;level&quot;,\r\n    \t\t&quot;field&quot;: &quot;name&quot;\r\n    \t},\r\n    \t&quot;loggerName&quot;: {\r\n    \t\t&quot;$resolver&quot;: &quot;logger&quot;,\r\n    \t\t&quot;field&quot;: &quot;name&quot;\r\n    \t},\r\n    \t&quot;message&quot;: {\r\n    \t\t&quot;$resolver&quot;: &quot;message&quot;,\r\n    \t\t&quot;stringified&quot;: true\r\n    \t},\r\n    \t&quot;source&quot;: {\r\n    \t\t&quot;class&quot;: {\r\n    \t\t\t&quot;$resolver&quot;: &quot;source&quot;,\r\n    \t\t\t&quot;field&quot;: &quot;className&quot;\r\n    \t\t},\r\n    \t\t&quot;method&quot;: {\r\n    \t\t\t&quot;$resolver&quot;: &quot;source&quot;,\r\n    \t\t\t&quot;field&quot;: &quot;methodName&quot;\r\n    \t\t},\r\n    \t\t&quot;file&quot;: {\r\n    \t\t\t&quot;$resolver&quot;: &quot;source&quot;,\r\n    \t\t\t&quot;field&quot;: &quot;fileName&quot;\r\n    \t\t},\r\n    \t\t&quot;line&quot;: {\r\n    \t\t\t&quot;$resolver&quot;: &quot;source&quot;,\r\n    \t\t\t&quot;field&quot;: &quot;lineNumber&quot;\r\n    \t\t}\r\n    \t},\r\n    }\r\n\r\nYou can add and remove fields, or change name of fields by changing the above template file.\r\nSee more examples here: [json template file][2]\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/manual/json-template-layout.html\r\n  [2]: https://github.com/apache/logging-log4j2/tree/master/log4j-layout-template-json/src/main/resources","title":"How to modify log4j JsonLayout field names","body":"<p>user <a href=\"https://logging.apache.org/log4j/2.x/manual/json-template-layout.html\" rel=\"nofollow noreferrer\">JsonTemplateLayout</a>:</p>\n<p><strong>Pom.xml:</strong></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-layout-template-json&lt;/artifactId&gt;\n    &lt;version&gt;2.14.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>log4j2.xml:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;INFO&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;JsonTemplateLayout eventTemplateUri=&quot;classpath:JsonTemplateLayout.json&quot; /&gt;\n        &lt;/Console&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Logger name=&quot;com.logging.a.b&quot; level=&quot;error&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;console&quot; /&gt;\n        &lt;/Logger&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p><strong>src/main/resources/JsonTemplateLayout.json:</strong></p>\n<pre><code>{\n    &quot;version&quot;: &quot;1.1&quot;,\n    &quot;hostName&quot;: &quot;${hostName}&quot;,\n    &quot;field1&quot;: &quot;${env:JAVA_HOME}&quot;,\n    &quot;field2&quot;: &quot;${sys:os.name}&quot;,\n    &quot;time&quot;: {\n        &quot;$resolver&quot;: &quot;timestamp&quot;,\n        &quot;pattern&quot;: {\n            &quot;format&quot;: &quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;,\n            &quot;timeZone&quot;: &quot;UTC&quot;\n        }\n    },\n    &quot;level&quot;: {\n        &quot;$resolver&quot;: &quot;level&quot;,\n        &quot;field&quot;: &quot;name&quot;\n    },\n    &quot;loggerName&quot;: {\n        &quot;$resolver&quot;: &quot;logger&quot;,\n        &quot;field&quot;: &quot;name&quot;\n    },\n    &quot;message&quot;: {\n        &quot;$resolver&quot;: &quot;message&quot;,\n        &quot;stringified&quot;: true\n    },\n    &quot;source&quot;: {\n        &quot;class&quot;: {\n            &quot;$resolver&quot;: &quot;source&quot;,\n            &quot;field&quot;: &quot;className&quot;\n        },\n        &quot;method&quot;: {\n            &quot;$resolver&quot;: &quot;source&quot;,\n            &quot;field&quot;: &quot;methodName&quot;\n        },\n        &quot;file&quot;: {\n            &quot;$resolver&quot;: &quot;source&quot;,\n            &quot;field&quot;: &quot;fileName&quot;\n        },\n        &quot;line&quot;: {\n            &quot;$resolver&quot;: &quot;source&quot;,\n            &quot;field&quot;: &quot;lineNumber&quot;\n        }\n    },\n}\n</code></pre>\n<p>You can add and remove fields, or change name of fields by changing the above template file.\nSee more examples here: <a href=\"https://github.com/apache/logging-log4j2/tree/master/log4j-layout-template-json/src/main/resources\" rel=\"nofollow noreferrer\">json template file</a></p>\n"},{"tags":[],"owner":{"account_id":15375039,"reputation":508,"user_id":11092008,"display_name":"Shapur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684741876,"creation_date":1684741876,"answer_id":76304028,"question_id":24652128,"body_markdown":"You can use the solution in the below link to customize these attributes.\r\n\r\nhttps://stackoverflow.com/a/76303815/11092008","title":"How to modify log4j JsonLayout field names","body":"<p>You can use the solution in the below link to customize these attributes.</p>\n<p><a href=\"https://stackoverflow.com/a/76303815/11092008\">https://stackoverflow.com/a/76303815/11092008</a></p>\n"}],"owner":{"account_id":330259,"reputation":5603,"user_id":654269,"accept_rate":93,"display_name":"Majid Azimi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14889,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":5,"score":8,"last_activity_date":1684741876,"creation_date":1404904251,"question_id":24652128,"body_markdown":"I have configured log4j 2 with this config file to write my `MapMessage` to console:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration status=&quot;ERROR&quot;&gt;\r\n        &lt;Properties&gt;\r\n            &lt;Property name=&quot;disableThreadContext&quot;&gt;true&lt;/Property&gt;\r\n            &lt;Property name=&quot;disableThreadContextStack&quot;&gt;true&lt;/Property&gt;\r\n            &lt;Property name=&quot;disableThreadContextMap&quot;&gt;true&lt;/Property&gt;\r\n            &lt;Property name=&quot;log4j2.disable.jmx&quot;&gt;true&lt;/Property&gt;\r\n        &lt;/Properties&gt;\r\n        &lt;Appenders&gt;\r\n            &lt;Console name=&quot;CONSOLE&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n                &lt;JsonLayout locationInfo=&quot;true&quot; complete=&quot;false&quot; /&gt;\r\n            &lt;/Console&gt;\r\n        &lt;/Appenders&gt;\r\n        &lt;Loggers&gt;\r\n            &lt;logger name=&quot;ir.cvas.logger&quot; level=&quot;info&quot; /&gt;\r\n            &lt;Root level=&quot;warn&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;CONSOLE&quot;/&gt;\r\n            &lt;/Root&gt;\r\n        &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\nThe output of this configuration is like:\r\n\r\n    {\r\n      &quot;timeMillis&quot; : 1404902036494,\r\n      &quot;thread&quot; : &quot;main&quot;,\r\n      &quot;level&quot; : &quot;ERROR&quot;,\r\n      &quot;loggerName&quot; : &quot;ir.cvas.log4j.json.Main&quot;,\r\n      &quot;message&quot; : &quot;description=\\&quot;I&#39;m so fucked...\\&quot; id=\\&quot;12312312312312321\\&quot;&quot;,\r\n      &quot;endOfBatch&quot; : false,\r\n      &quot;loggerFqcn&quot; : &quot;org.apache.logging.log4j.spi.AbstractLogger&quot;,\r\n      &quot;source&quot; : {\r\n        &quot;class&quot; : &quot;ir.cvas.log4j.json.Main&quot;,\r\n        &quot;method&quot; : &quot;main&quot;,\r\n        &quot;file&quot; : &quot;Main.java&quot;,\r\n        &quot;line&quot; : 24\r\n      }\r\n    }\r\n\r\n 1. I need to remove some fields from output such as `endOfBatch` and `loggerFqcn`. Is it possible?\r\n 2. I don&#39;t really like how `MapMessage` is converted. I would want something like Json object instead of single string, Something like thisthis: `&quot;message&quot;: { &quot;description&quot;=&quot;I&#39;m so fucked...&quot;, &quot;id&quot;=&quot;12312312312312321&quot; }` or at least flatten `MapMessage` fields in to log message.\r\n 3. I want to convert timestamp field to unix time with milliseconds removed.\r\n\r\nCan anyone help?","title":"How to modify log4j JsonLayout field names","body":"<p>I have configured log4j 2 with this config file to write my <code>MapMessage</code> to console:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;Configuration status=\"ERROR\"&gt;\n    &lt;Properties&gt;\n        &lt;Property name=\"disableThreadContext\"&gt;true&lt;/Property&gt;\n        &lt;Property name=\"disableThreadContextStack\"&gt;true&lt;/Property&gt;\n        &lt;Property name=\"disableThreadContextMap\"&gt;true&lt;/Property&gt;\n        &lt;Property name=\"log4j2.disable.jmx\"&gt;true&lt;/Property&gt;\n    &lt;/Properties&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=\"CONSOLE\" target=\"SYSTEM_OUT\"&gt;\n            &lt;JsonLayout locationInfo=\"true\" complete=\"false\" /&gt;\n        &lt;/Console&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;logger name=\"ir.cvas.logger\" level=\"info\" /&gt;\n        &lt;Root level=\"warn\"&gt;\n            &lt;AppenderRef ref=\"CONSOLE\"/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n\n<p>The output of this configuration is like:</p>\n\n<pre><code>{\n  \"timeMillis\" : 1404902036494,\n  \"thread\" : \"main\",\n  \"level\" : \"ERROR\",\n  \"loggerName\" : \"ir.cvas.log4j.json.Main\",\n  \"message\" : \"description=\\\"I'm so fucked...\\\" id=\\\"12312312312312321\\\"\",\n  \"endOfBatch\" : false,\n  \"loggerFqcn\" : \"org.apache.logging.log4j.spi.AbstractLogger\",\n  \"source\" : {\n    \"class\" : \"ir.cvas.log4j.json.Main\",\n    \"method\" : \"main\",\n    \"file\" : \"Main.java\",\n    \"line\" : 24\n  }\n}\n</code></pre>\n\n<ol>\n<li>I need to remove some fields from output such as <code>endOfBatch</code> and <code>loggerFqcn</code>. Is it possible?</li>\n<li>I don't really like how <code>MapMessage</code> is converted. I would want something like Json object instead of single string, Something like thisthis: <code>\"message\": { \"description\"=\"I'm so fucked...\", \"id\"=\"12312312312312321\" }</code> or at least flatten <code>MapMessage</code> fields in to log message.</li>\n<li>I want to convert timestamp field to unix time with milliseconds removed.</li>\n</ol>\n\n<p>Can anyone help?</p>\n"},{"tags":["java","arrays","string","for-loop"],"comments":[{"owner":{"account_id":28203287,"reputation":31,"user_id":21556763,"display_name":"Jharokha "},"score":0,"creation_date":1680666199,"post_id":75935395,"comment_id":133935040,"body_markdown":"`list.removeIf(e-&gt;e.replaceAll(&quot;\\\\W+&quot;,&quot;&quot;).length() ==0 );` worked for me","body":"<code>list.removeIf(e-&gt;e.replaceAll(&quot;\\\\W+&quot;,&quot;&quot;).length() ==0 );</code> worked for me"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684386910,"post_id":75935395,"comment_id":134511467,"body_markdown":"What about contracted words, like &quot;can&#39;t&quot; or &quot;don&#39;t&quot;?  Also, hyphenated words, like &quot;stack-overflow&quot;.  Should they be filtered?","body":"What about contracted words, like &quot;can&#39;t&quot; or &quot;don&#39;t&quot;?  Also, hyphenated words, like &quot;stack-overflow&quot;.  Should they be filtered?"}],"answers":[{"tags":[],"owner":{"account_id":9866227,"reputation":48,"user_id":7307613,"display_name":"Akbar  Amanov"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1681104798,"creation_date":1680665383,"answer_id":75935427,"question_id":75935395,"body_markdown":"I suggest you add `i--;` to the end of your `if` clause, or use another datastructure like `Stack` or something similar. \r\n\r\nAfter `List.remove()`, all your indexes will have shifted. ","title":"Strictly checking for alphanumeric in string not special characters","body":"<p>I suggest you add <code>i--;</code> to the end of your <code>if</code> clause, or use another datastructure like <code>Stack</code> or something similar.</p>\n<p>After <code>List.remove()</code>, all your indexes will have shifted.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680666007,"creation_date":1680666007,"answer_id":75935464,"question_id":75935395,"body_markdown":"3 lines of code and 4 problems. Impressive :)\r\n\r\n&gt; `if(StringUtils.isAlphanumeric(list.get(i)));`\r\n\r\nThe semi-colon __is__ the instruction that is being run, i.e. nothing. And then the next line (`list.remove(i);`) is therefore always run. Just use braces, or at least, no semi-colons at the end of an `if`.\r\n\r\n&gt; `list.remove(i);`\r\n\r\nThis shifts all elements down by one, effectively, making you skip entries. For example, if element &#39;0&#39; is to be removed, you remove it, and then what used to be element 1, is now element 0. But, `i` is going to go to `1`, so, you don&#39;t look at this at all. Either copy data over to a new list, or iterate from the end (`for (int i = list.size() -1; i &gt;= 0; i--)`).\r\n\r\n&gt; `short`\r\n\r\nNo. `int`. short is less efficient (I&#39;m guessing you think it&#39;s more efficient. It is less so. Writing code casually more performant is effectively impossible so stop it. Just write code that is easy to understand. If you don&#39;t know how, make it look like every example and snippet. If you think you know better, it takes about 15 years before you might actually be likely to be right when you do).\r\n\r\n&gt; `if(StringUtils.isAlphanumeric(list.get(i)))`\r\n\r\nI believe you meant `if (!StringUtils...)` - you want to remove them if they are __not__ alphanumeric.\r\n","title":"Strictly checking for alphanumeric in string not special characters","body":"<p>3 lines of code and 4 problems. Impressive :)</p>\n<blockquote>\n<p><code>if(StringUtils.isAlphanumeric(list.get(i)));</code></p>\n</blockquote>\n<p>The semi-colon <strong>is</strong> the instruction that is being run, i.e. nothing. And then the next line (<code>list.remove(i);</code>) is therefore always run. Just use braces, or at least, no semi-colons at the end of an <code>if</code>.</p>\n<blockquote>\n<p><code>list.remove(i);</code></p>\n</blockquote>\n<p>This shifts all elements down by one, effectively, making you skip entries. For example, if element '0' is to be removed, you remove it, and then what used to be element 1, is now element 0. But, <code>i</code> is going to go to <code>1</code>, so, you don't look at this at all. Either copy data over to a new list, or iterate from the end (<code>for (int i = list.size() -1; i &gt;= 0; i--)</code>).</p>\n<blockquote>\n<p><code>short</code></p>\n</blockquote>\n<p>No. <code>int</code>. short is less efficient (I'm guessing you think it's more efficient. It is less so. Writing code casually more performant is effectively impossible so stop it. Just write code that is easy to understand. If you don't know how, make it look like every example and snippet. If you think you know better, it takes about 15 years before you might actually be likely to be right when you do).</p>\n<blockquote>\n<p><code>if(StringUtils.isAlphanumeric(list.get(i)))</code></p>\n</blockquote>\n<p>I believe you meant <code>if (!StringUtils...)</code> - you want to remove them if they are <strong>not</strong> alphanumeric.</p>\n"},{"tags":[],"owner":{"account_id":18341423,"reputation":63,"user_id":13357589,"display_name":"EpicOweo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680666688,"creation_date":1680666077,"answer_id":75935470,"question_id":75935395,"body_markdown":"If you want to remove the strings with special characters, you should be checking if the string is *not* alphanumeric rather than if it is. Also, you need to put curly braces after your if statement rather than a semicolon:\r\n\r\n```\r\n for(short i=0;i&lt;list.size();i++) {\r\n         if(!StringUtils.isAlphanumeric(list.get(i))) {\r\n                 list.remove(i);\r\n         }\r\n }\r\n```\r\n\r\nEDIT: Also, while I don&#39;t believe that @rzwitserloot&#39;s sarcasm at the beginning of their comment was warranted, they do have a good point regarding `list.remove(i)` shifting the array.\r\n\r\nUpdated code:\r\n```\r\n for(short i=list.size()-1;i&gt;=0;i--) {\r\n         if(!StringUtils.isAlphanumeric(list.get(i))) {\r\n                 list.remove(i);\r\n         }\r\n }\r\n```\r\n ","title":"Strictly checking for alphanumeric in string not special characters","body":"<p>If you want to remove the strings with special characters, you should be checking if the string is <em>not</em> alphanumeric rather than if it is. Also, you need to put curly braces after your if statement rather than a semicolon:</p>\n<pre><code> for(short i=0;i&lt;list.size();i++) {\n         if(!StringUtils.isAlphanumeric(list.get(i))) {\n                 list.remove(i);\n         }\n }\n</code></pre>\n<p>EDIT: Also, while I don't believe that @rzwitserloot's sarcasm at the beginning of their comment was warranted, they do have a good point regarding <code>list.remove(i)</code> shifting the array.</p>\n<p>Updated code:</p>\n<pre><code> for(short i=list.size()-1;i&gt;=0;i--) {\n         if(!StringUtils.isAlphanumeric(list.get(i))) {\n                 list.remove(i);\n         }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680671059,"creation_date":1680671059,"answer_id":75935805,"question_id":75935395,"body_markdown":"Here&#39;s a 1-liner:\r\n\r\n    list.removeIf(s -&gt; s.matches(&quot;[^a-zA-Z0-9]*&quot;));\r\n\r\nThe works by removing strings that are made entirely of non-alphanumeric chars.","title":"Strictly checking for alphanumeric in string not special characters","body":"<p>Here's a 1-liner:</p>\n<pre><code>list.removeIf(s -&gt; s.matches(&quot;[^a-zA-Z0-9]*&quot;));\n</code></pre>\n<p>The works by removing strings that are made entirely of non-alphanumeric chars.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684741857,"creation_date":1684387268,"answer_id":76277940,"question_id":75935395,"body_markdown":"The reason why your code isn&#39;t working is because you&#39;re trying to remove an item in a list that you&#39;re iterating over.  \r\nThis will throw a `ConcurrentModificationException`.\r\n\r\nTo avoid this, use an iterator, and make sure `list` is assigned an `ArrayList`.\r\n\r\n```java\r\nIterator&lt;String&gt; iterator = list.iterator();\r\nwhile (iterator.hasNext()) {\r\n    if (!StringUtils.isAlphanumeric(iterator.next()))\r\n        iterator.remove();\r\n}\r\n```","title":"Strictly checking for alphanumeric in string not special characters","body":"<p>The reason why your code isn't working is because you're trying to remove an item in a list that you're iterating over.<br />\nThis will throw a <code>ConcurrentModificationException</code>.</p>\n<p>To avoid this, use an iterator, and make sure <code>list</code> is assigned an <code>ArrayList</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Iterator&lt;String&gt; iterator = list.iterator();\nwhile (iterator.hasNext()) {\n    if (!StringUtils.isAlphanumeric(iterator.next()))\n        iterator.remove();\n}\n</code></pre>\n"}],"owner":{"account_id":28203287,"reputation":31,"user_id":21556763,"display_name":"Jharokha "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":5,"score":-1,"last_activity_date":1684741857,"creation_date":1680664891,"question_id":75935395,"body_markdown":"I am having list of strings `&quot;This is plain text&quot; ,&quot;[]&quot;,&quot;{}&quot;,&quot;()&quot;`  i want to filter out all those where there is only special characters for e.g i want to exclude `&quot;[]&quot;,&quot;{}&quot;,&quot;()&quot;` as there isn&#39;t any number or char (A-Z ,a-z ,0-9).\r\n\r\n     `\r\n              for(short i=0;i&lt;list.size();i++) {\r\n\t\t\t    \tif(StringUtils.isAlphanumeric(list.get(i)))\r\n\t\t\t\t     list.remove(i);\r\n     \t\t\t}`    \r\n\r\nBut it is not working . Not removing `[] , () ,{}`","title":"Strictly checking for alphanumeric in string not special characters","body":"<p>I am having list of strings <code>&quot;This is plain text&quot; ,&quot;[]&quot;,&quot;{}&quot;,&quot;()&quot;</code>  i want to filter out all those where there is only special characters for e.g i want to exclude <code>&quot;[]&quot;,&quot;{}&quot;,&quot;()&quot;</code> as there isn't any number or char (A-Z ,a-z ,0-9).</p>\n<pre><code> `\n          for(short i=0;i&lt;list.size();i++) {\n                if(StringUtils.isAlphanumeric(list.get(i)))\n                 list.remove(i);\n            }`    \n</code></pre>\n<p>But it is not working . Not removing <code>[] , () ,{}</code></p>\n"},{"tags":["java","string","split"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":1,"creation_date":1435952834,"post_id":31213333,"comment_id":50428028,"body_markdown":"Just do `substring()` in a loop.","body":"Just do <code>substring()</code> in a loop."},{"owner":{"account_id":6315972,"reputation":1776,"user_id":4905916,"display_name":"Filip Bulovic"},"score":0,"creation_date":1435952965,"post_id":31213333,"comment_id":50428079,"body_markdown":"Check here [http://stackoverflow.com/questions/5235401/split-string-into-array-of-character-strings","body":"Check here [<a href=\"http://stackoverflow.com/questions/5235401/split-string-into-array-of-character-strings\" title=\"split string into array of character strings\">stackoverflow.com/questions/5235401/&hellip;</a>"},{"owner":{"account_id":1284503,"reputation":665,"user_id":1237872,"accept_rate":6,"display_name":"Sanket990"},"score":0,"creation_date":1435953057,"post_id":31213333,"comment_id":50428111,"body_markdown":"Thanks Flip Bulovic but I am getting my crieteria wiss solution below answer","body":"Thanks Flip Bulovic but I am getting my crieteria wiss solution below answer"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1435953376,"post_id":31213333,"comment_id":50428227,"body_markdown":"@FilipBulovic [Since Java 8 we don&#39;t need `(?!^)` magic anymore](http://stackoverflow.com/q/22718744/1393766).","body":"@FilipBulovic <a href=\"http://stackoverflow.com/q/22718744/1393766\">Since Java 8 we don&#39;t need <code>(?!^)</code> magic anymore</a>."}],"answers":[{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1684517838,"creation_date":1435952798,"answer_id":31213381,"question_id":31213333,"body_markdown":"`String#split` method simply searches for places to split, it can&#39;t add anything new to result. In other words you can&#39;t split like\r\n\r\n    &quot;abc&quot;` -&gt; [&quot;ab&quot;, &quot;bc&quot;]\r\n\r\nbecause `b` can appear in only one element in resulting array. \r\n\r\nWhat you can do is use `Pattern`/`Matcher`, specifically `Matcher#find()` method and consume one character at a time, while &quot;peeking&quot; at next character without consuming it. The &quot;peeking&quot; part can be achieved with [look-around mechanism][1] because it is [zero-length][2] technique. \r\n\r\nDemo:\r\n\r\n    Pattern p = Pattern.compile(&quot;.(?=(.))&quot;);\r\n    Matcher m = p.matcher(yourString);\r\n    while(m.find()){\r\n        System.out.println(m.group() + m.group(1));\r\n    }\r\n\r\nAlternatively you can also use `String#substring(start, end)`\r\n\r\n\tString data = &quot;Testing&quot;;\r\n\tfor (int i=0; i&lt;data.length()-1; i++){\r\n\t\tSystem.out.println(data.substring(i,i+2));\r\n\t}\r\n\r\nor using `String#charAt(index)`\r\n\r\n    String data = &quot;Testing&quot;;\r\n    for (int i = 0; i &lt; data.length() - 1;i++) {\r\n        System.out.append(data.charAt(i)).println(data.charAt(i+1));\r\n    }\r\n\r\n\r\n\r\n  [1]: http://www.regular-expressions.info/lookaround.html\r\n  [2]: http://www.regular-expressions.info/zerolength.html\r\n","title":"How to split a string into overlapping pairs of characters","body":"<p><code>String#split</code> method simply searches for places to split, it can't add anything new to result. In other words you can't split like</p>\n<pre><code>&quot;abc&quot;` -&gt; [&quot;ab&quot;, &quot;bc&quot;]\n</code></pre>\n<p>because <code>b</code> can appear in only one element in resulting array.</p>\n<p>What you can do is use <code>Pattern</code>/<code>Matcher</code>, specifically <code>Matcher#find()</code> method and consume one character at a time, while &quot;peeking&quot; at next character without consuming it. The &quot;peeking&quot; part can be achieved with <a href=\"http://www.regular-expressions.info/lookaround.html\" rel=\"nofollow noreferrer\">look-around mechanism</a> because it is <a href=\"http://www.regular-expressions.info/zerolength.html\" rel=\"nofollow noreferrer\">zero-length</a> technique.</p>\n<p>Demo:</p>\n<pre><code>Pattern p = Pattern.compile(&quot;.(?=(.))&quot;);\nMatcher m = p.matcher(yourString);\nwhile(m.find()){\n    System.out.println(m.group() + m.group(1));\n}\n</code></pre>\n<p>Alternatively you can also use <code>String#substring(start, end)</code></p>\n<pre><code>String data = &quot;Testing&quot;;\nfor (int i=0; i&lt;data.length()-1; i++){\n    System.out.println(data.substring(i,i+2));\n}\n</code></pre>\n<p>or using <code>String#charAt(index)</code></p>\n<pre><code>String data = &quot;Testing&quot;;\nfor (int i = 0; i &lt; data.length() - 1;i++) {\n    System.out.append(data.charAt(i)).println(data.charAt(i+1));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1447035405,"creation_date":1447035405,"answer_id":33601511,"question_id":31213333,"body_markdown":"As [@pshemo&#39;s answer][1] said, a split consumes input, so you can&#39;t get a given character from the input in two parts of the split.\r\n\r\nHowever, here a one-line solution that gets the job done:\r\n\r\n    Arrays.stream(s.split(&quot;&quot;)).reduce((a, b) -&gt; {System.out.println(a + b); return b;});\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/31213381/256196","title":"How to split a string into overlapping pairs of characters","body":"<p>As <a href=\"https://stackoverflow.com/a/31213381/256196\">@pshemo's answer</a> said, a split consumes input, so you can't get a given character from the input in two parts of the split.</p>\n\n<p>However, here a one-line solution that gets the job done:</p>\n\n<pre><code>Arrays.stream(s.split(\"\")).reduce((a, b) -&gt; {System.out.println(a + b); return b;});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684741570,"creation_date":1684741570,"answer_id":76303998,"question_id":31213333,"body_markdown":"It would be quicker, theoretically, to just use a for-loop.\r\n\r\n```java\r\nList&lt;String&gt; split(String string) {\r\n    List&lt;String&gt; split = new ArrayList&lt;&gt;();\r\n    for (int index = 0; index &lt; string.length() - 1; index++)\r\n        split.add(string.substring(index, index + 2));\r\n    return split;\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n[Te, es, st, ti, in, ng]\r\n```","title":"How to split a string into overlapping pairs of characters","body":"<p>It would be quicker, theoretically, to just use a for-loop.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; split(String string) {\n    List&lt;String&gt; split = new ArrayList&lt;&gt;();\n    for (int index = 0; index &lt; string.length() - 1; index++)\n        split.add(string.substring(index, index + 2));\n    return split;\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[Te, es, st, ti, in, ng]\n</code></pre>\n"}],"owner":{"account_id":1284503,"reputation":665,"user_id":1237872,"accept_rate":6,"display_name":"Sanket990"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1518,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1684741570,"creation_date":1435952604,"question_id":31213333,"body_markdown":"I need to split a string into pairs of characters, but where the pairs overlap. For example, I have a string `Testing`, and I want the output:\r\n\r\n\t[Te, es, st, ti, in, ng]\r\n\r\nI tried some things with `String.split` but I am not getting the right output:\r\n\r\n\tString s = &quot;Testing&quot;;\r\n\tSystem.out.println(java.util.Arrays.toString(s.split(&quot;(?&lt;=\\\\G..)&quot;)));\r\n\r\nThat gives me:\r\n\r\n\t[Te, st, in, g]\r\n\r\nCan anyone help me?","title":"How to split a string into overlapping pairs of characters","body":"<p>I need to split a string into pairs of characters, but where the pairs overlap. For example, I have a string <code>Testing</code>, and I want the output:</p>\n\n<pre><code>[Te, es, st, ti, in, ng]\n</code></pre>\n\n<p>I tried some things with <code>String.split</code> but I am not getting the right output:</p>\n\n<pre><code>String s = \"Testing\";\nSystem.out.println(java.util.Arrays.toString(s.split(\"(?&lt;=\\\\G..)\")));\n</code></pre>\n\n<p>That gives me:</p>\n\n<pre><code>[Te, st, in, g]\n</code></pre>\n\n<p>Can anyone help me?</p>\n"},{"tags":["java","controller","javafx","fxml"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1393956914,"post_id":22178533,"comment_id":33665076,"body_markdown":"possible duplicate of [Passing Parameters JavaFX FXML](http://stackoverflow.com/questions/14187963/passing-parameters-javafx-fxml)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/14187963/passing-parameters-javafx-fxml\">Passing Parameters JavaFX FXML</a>"},{"owner":{"account_id":1345093,"reputation":2590,"user_id":1286009,"accept_rate":75,"display_name":"Hendrik Ebbers"},"score":0,"creation_date":1394028647,"post_id":22178533,"comment_id":33701145,"body_markdown":"You can use the DataFX Controller Framework and inject the same datamodel in both controllers: http://www.guigarage.com/2013/12/datafx-controller-framework-preview/","body":"You can use the DataFX Controller Framework and inject the same datamodel in both controllers: <a href=\"http://www.guigarage.com/2013/12/datafx-controller-framework-preview/\" rel=\"nofollow noreferrer\">guigarage.com/2013/12/datafx-controller-framework-preview</a>"}],"answers":[{"tags":[],"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1393957614,"creation_date":1393957614,"answer_id":22179980,"question_id":22178533,"body_markdown":"Two ways come into my mind:\r\n\r\n1. Based on the &quot;Nested Controllers&quot; section of &quot;Introduction to FXML&quot; ([link][1]), you could inject the children controllers (2 &amp; 3) into the parent (1) and have the parent coordinate their interactions:\r\n\r\n    FXML (1):\r\n\r\n        &lt;fx:include source=&quot;FolderList.fxml&quot; fx:id=&quot;list&quot; /&gt;\r\n        ...\r\n        &lt;fx:include source=&quot;FolderFormAdd.fxml&quot; fx:id=&quot;addForm&quot; /&gt;\r\n\r\n    Java (1) (beware the names of the fields; must match `&lt;fx:id&gt;Controller`, i.e.):\r\n\r\n        public class FolderController extends AbstractController {\r\n            @FXML private FolderListController listController;\r\n            @FXML private FolderFormAddController addFormController;\r\n            void initialize() {\r\n                // add code to coordinate them\r\n            }\r\n        }\r\n\r\n    **I do not like this solution much for this case, as it leads to strong coupling between the components.** On the other hand, it may be the quickest.\r\n\r\n2. Use an event bus (e.g. from [Google Guava][2]). This can actually decouple your logic (e.g. the list component listens to the `PersonAdded` event, no matter how it was created; the form generates this event, without caring who is listening - if any). I think I would prefer this solution in your case. The event bus can optionally be retrieved using dependency injection.\r\n\r\nCheck out the answer pointed by the comment from jewelsea, it is great - I have already upvoted it myself :)\r\n\r\n\r\n  [1]: http://docs.oracle.com/javafx/2/api/javafx/fxml/doc-files/introduction_to_fxml.html#nested_controllers\r\n  [2]: http://code.google.com/p/guava-libraries/wiki/EventBusExplained","title":"Communication between two JavaFx controllers","body":"<p>Two ways come into my mind:</p>\n\n<ol>\n<li><p>Based on the \"Nested Controllers\" section of \"Introduction to FXML\" (<a href=\"http://docs.oracle.com/javafx/2/api/javafx/fxml/doc-files/introduction_to_fxml.html#nested_controllers\" rel=\"noreferrer\">link</a>), you could inject the children controllers (2 &amp; 3) into the parent (1) and have the parent coordinate their interactions:</p>\n\n<p>FXML (1):</p>\n\n<pre><code>&lt;fx:include source=\"FolderList.fxml\" fx:id=\"list\" /&gt;\n...\n&lt;fx:include source=\"FolderFormAdd.fxml\" fx:id=\"addForm\" /&gt;\n</code></pre>\n\n<p>Java (1) (beware the names of the fields; must match <code>&lt;fx:id&gt;Controller</code>, i.e.):</p>\n\n<pre><code>public class FolderController extends AbstractController {\n    @FXML private FolderListController listController;\n    @FXML private FolderFormAddController addFormController;\n    void initialize() {\n        // add code to coordinate them\n    }\n}\n</code></pre>\n\n<p><strong>I do not like this solution much for this case, as it leads to strong coupling between the components.</strong> On the other hand, it may be the quickest.</p></li>\n<li><p>Use an event bus (e.g. from <a href=\"http://code.google.com/p/guava-libraries/wiki/EventBusExplained\" rel=\"noreferrer\">Google Guava</a>). This can actually decouple your logic (e.g. the list component listens to the <code>PersonAdded</code> event, no matter how it was created; the form generates this event, without caring who is listening - if any). I think I would prefer this solution in your case. The event bus can optionally be retrieved using dependency injection.</p></li>\n</ol>\n\n<p>Check out the answer pointed by the comment from jewelsea, it is great - I have already upvoted it myself :)</p>\n"},{"tags":[],"owner":{"account_id":2767605,"reputation":196,"user_id":2382934,"display_name":"Jim Daehn"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1423770723,"creation_date":1423770723,"answer_id":28486560,"question_id":22178533,"body_markdown":"Nikos makes a good point (Software Engineering principle) about coupling. There is one way though, to accomplish the &quot;spirit&quot; of the first (simple) approach and not encroach upon this principle by using the Mediator pattern. As taken from wikipedia (which is referencing the GoF):\r\n\r\n&gt; &quot;The essence of the Mediator Pattern is to &quot;define an object that encapsulates how a set of objects interact&quot;. It promotes loose coupling by keeping objects from referring to each other explicitly, and it allows their interaction to be varied independently. Client classes can use the mediator to send messages to other clients, and can receive messages from other clients via an event on the mediator class.&quot;\r\n\r\nHere you can consider your Controllers as the clients. What you need to have happen then is use the mediator to mediate &quot;conversations&quot; between each other.\r\n\r\nFirst create a mediator interface:\r\n\r\n    public interface IMediateControllers {\r\n        void registerController2(Controller2 controller);\r\n        void registerController3(Controller3 controller);\r\n        void controller2DoSomething();\r\n        void controller3OperateOn(String data);\r\n    }\r\n\r\nAnd then a concrete mediator (as a Singleton)\r\n\r\n    public class ControllerMediator implements IMediateControllers {\r\n        private Controller2 controller2;\r\n        private Controller3 controller3;\r\n\r\n        @Override\r\n        void registerController2(Controller2 controller) {\r\n            controller2 = controller;\r\n        }\r\n\r\n        @Override\r\n        void registerController3(Controller3 controller) {\r\n            controller3 = controller;\r\n        }\r\n\r\n        @Override\r\n        void controller2DoSomething() {\r\n             controller2.doSomething();\r\n        }\r\n\r\n        void controller3OperateOn(String data) {\r\n            controller3.operateOn(data);\r\n        }\r\n\r\n        /**\r\n         * Everything below here is in support of Singleton pattern\r\n         */\r\n        private ControllerMediator() {}\r\n\r\n        public static ControllerMediator getInstance() {\r\n            return ControllerMediatorHolder.INSTANCE;\r\n        }\r\n\r\n        private static class ControllerMediatorHolder {\r\n            private static final ControllerMediator INSTANCE = new ControllerMediator();\r\n        }\r\n    }\r\n\r\nNow, since Controller1 has Controller2 and Controller3 injected (as noted in the fxml file), you could do the following in Controller1::initialize() method:\r\n\r\n    @Override\r\n    public void initialize(Url url, ResourceBundle resource) {\r\n        ControllerMediator.getInstance().registerController2(controller2Controller);\r\n        ControllerMediator.getInstance().registerController3(controller3Controller);\r\n     }\r\n\r\n\r\nNow, anywhere you need Controller2 to communicate with Controller3, you simple use the mediator:\r\n\r\n    // ... somewhere in Controller2\r\n    ControllerMediator.getInstance().controller3OperateOn(&quot;my data&quot;);\r\n\r\nand Controller 3 can communicate back to Controller2 using the same mediator:\r\n \r\n    // ... somewhere in Controller3\r\n    ControllerMediator.getInstance().controller2DoSomething();\r\n\r\nOf course, this relies on Controller2 having implemented the `doSomething()` operation and Controller3 having implemented the `operateOn(String data)` operation.\r\n\r\nThe important thing is that you&#39;ve decoupled Controller2 and Controller3 (they don&#39;t know about each other). I just used this pattern in a little project I&#39;m working on right now (inspired by Nikos&#39; first solution, but thinking immediately of the Mediator pattern to remove the coupling he (properly) griped about.","title":"Communication between two JavaFx controllers","body":"<p>Nikos makes a good point (Software Engineering principle) about coupling. There is one way though, to accomplish the \"spirit\" of the first (simple) approach and not encroach upon this principle by using the Mediator pattern. As taken from wikipedia (which is referencing the GoF):</p>\n\n<blockquote>\n  <p>\"The essence of the Mediator Pattern is to \"define an object that encapsulates how a set of objects interact\". It promotes loose coupling by keeping objects from referring to each other explicitly, and it allows their interaction to be varied independently. Client classes can use the mediator to send messages to other clients, and can receive messages from other clients via an event on the mediator class.\"</p>\n</blockquote>\n\n<p>Here you can consider your Controllers as the clients. What you need to have happen then is use the mediator to mediate \"conversations\" between each other.</p>\n\n<p>First create a mediator interface:</p>\n\n<pre><code>public interface IMediateControllers {\n    void registerController2(Controller2 controller);\n    void registerController3(Controller3 controller);\n    void controller2DoSomething();\n    void controller3OperateOn(String data);\n}\n</code></pre>\n\n<p>And then a concrete mediator (as a Singleton)</p>\n\n<pre><code>public class ControllerMediator implements IMediateControllers {\n    private Controller2 controller2;\n    private Controller3 controller3;\n\n    @Override\n    void registerController2(Controller2 controller) {\n        controller2 = controller;\n    }\n\n    @Override\n    void registerController3(Controller3 controller) {\n        controller3 = controller;\n    }\n\n    @Override\n    void controller2DoSomething() {\n         controller2.doSomething();\n    }\n\n    void controller3OperateOn(String data) {\n        controller3.operateOn(data);\n    }\n\n    /**\n     * Everything below here is in support of Singleton pattern\n     */\n    private ControllerMediator() {}\n\n    public static ControllerMediator getInstance() {\n        return ControllerMediatorHolder.INSTANCE;\n    }\n\n    private static class ControllerMediatorHolder {\n        private static final ControllerMediator INSTANCE = new ControllerMediator();\n    }\n}\n</code></pre>\n\n<p>Now, since Controller1 has Controller2 and Controller3 injected (as noted in the fxml file), you could do the following in Controller1::initialize() method:</p>\n\n<pre><code>@Override\npublic void initialize(Url url, ResourceBundle resource) {\n    ControllerMediator.getInstance().registerController2(controller2Controller);\n    ControllerMediator.getInstance().registerController3(controller3Controller);\n }\n</code></pre>\n\n<p>Now, anywhere you need Controller2 to communicate with Controller3, you simple use the mediator:</p>\n\n<pre><code>// ... somewhere in Controller2\nControllerMediator.getInstance().controller3OperateOn(\"my data\");\n</code></pre>\n\n<p>and Controller 3 can communicate back to Controller2 using the same mediator:</p>\n\n<pre><code>// ... somewhere in Controller3\nControllerMediator.getInstance().controller2DoSomething();\n</code></pre>\n\n<p>Of course, this relies on Controller2 having implemented the <code>doSomething()</code> operation and Controller3 having implemented the <code>operateOn(String data)</code> operation.</p>\n\n<p>The important thing is that you've decoupled Controller2 and Controller3 (they don't know about each other). I just used this pattern in a little project I'm working on right now (inspired by Nikos' first solution, but thinking immediately of the Mediator pattern to remove the coupling he (properly) griped about.</p>\n"},{"tags":[],"owner":{"account_id":12587682,"reputation":282,"user_id":9173346,"display_name":"Nicholas_Jones"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515094592,"creation_date":1515094592,"answer_id":48102343,"question_id":22178533,"body_markdown":"I figured out an easy to implement solution for programmers who are confused on how to pass fx:controller=&quot;Controller&quot; from their FXML files into the Main Class, and/or Controllers. To allow for an object reference between these Classes.\r\n\r\nFrom Main.java -&gt; start method: (With fx:controller=&quot;Controller&quot;) in FXML File\r\n\r\n        FXMLLoader loader = new FXMLLoader();\r\n        Parent root = loader.load(getClass().getResource(&quot;Window1.fxml&quot;).openStream());\r\n        Controller controller = loader.getController();\r\n        controller.setReferenceToController(controller);\r\n\r\nThe last line [controller.setReferenceToController(controller);] passes the object &quot;Controller&quot; loaded from the FXML file to itself. \r\n\r\nIn the Controller Class:\r\n\r\n        private Controller controller;\r\n        private DataProcess data;\r\n        \r\n        public void setReferenceToController(Controller controller){\r\n        this.controller = controller;\r\n        data = new DataProcess(controller);\r\n    }\r\n\r\nNow each time you open or start a new &quot;Window&quot; or create a separate class(such as DataProcess) just pass the controller object references between them. This will allow full communication between controllers, FXML, and Classes.\r\n\r\nExample of methods:\r\n\r\n   \r\n\r\n        public DataProcess(Controller controller) {\r\n                this.controller = controller;\r\n            }\r\n    \r\n        //Call this method from Controller\r\n        public void handleSaveClick(){\r\n            if(file != null){\r\n                \r\n            //save a bunch of data\r\n            controller.setSaveStatus(true);\r\n            \r\n            }\r\n            else\r\n            controller.setSaveStatus(false);\r\n\r\n\r\n\r\nHope this Helps.\r\n\r\n\r\n\r\n","title":"Communication between two JavaFx controllers","body":"<p>I figured out an easy to implement solution for programmers who are confused on how to pass fx:controller=\"Controller\" from their FXML files into the Main Class, and/or Controllers. To allow for an object reference between these Classes.</p>\n\n<p>From Main.java -> start method: (With fx:controller=\"Controller\") in FXML File</p>\n\n<pre><code>    FXMLLoader loader = new FXMLLoader();\n    Parent root = loader.load(getClass().getResource(\"Window1.fxml\").openStream());\n    Controller controller = loader.getController();\n    controller.setReferenceToController(controller);\n</code></pre>\n\n<p>The last line [controller.setReferenceToController(controller);] passes the object \"Controller\" loaded from the FXML file to itself. </p>\n\n<p>In the Controller Class:</p>\n\n<pre><code>    private Controller controller;\n    private DataProcess data;\n\n    public void setReferenceToController(Controller controller){\n    this.controller = controller;\n    data = new DataProcess(controller);\n}\n</code></pre>\n\n<p>Now each time you open or start a new \"Window\" or create a separate class(such as DataProcess) just pass the controller object references between them. This will allow full communication between controllers, FXML, and Classes.</p>\n\n<p>Example of methods:</p>\n\n<pre><code>    public DataProcess(Controller controller) {\n            this.controller = controller;\n        }\n\n    //Call this method from Controller\n    public void handleSaveClick(){\n        if(file != null){\n\n        //save a bunch of data\n        controller.setSaveStatus(true);\n\n        }\n        else\n        controller.setSaveStatus(false);\n</code></pre>\n\n<p>Hope this Helps.</p>\n"},{"tags":[],"owner":{"account_id":25403785,"reputation":1,"user_id":19212823,"display_name":"AK."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684741359,"creation_date":1684739914,"answer_id":76303804,"question_id":22178533,"body_markdown":"so this is my first time answering a question. I am really new to programming. So what I discovered was you can only communicate with a controller only if you have the specific FXMLLoader you used to load that specific controller. \r\n\r\nEven if you create a new FXMLLoader with the resource it&#39;s of no use. You need the exact one you used to load that specific scene.\r\n\r\nWhat I did was whenever I loaded a controller I go and store the FXMLLoader used in a method. And when I need to access that controller I get it from that method.\r\n\r\n`MyController controller = MyMethod.getMyControllerFXMLLoader().getController;\r\ncontroller.methodYouNeedToAccess();`\r\n\r\n\r\n`getMyControllerFXMLLoader()` is the method I created so that it returns that specific fxmlloader.`MyMethod` is the class I specifically created to do this.\r\n\r\nAlso when that controller is closed the FXMLLoader value for that controller is set to become null.\r\n\r\nThis works really well. Whether it abides by the rules and regulations I don&#39;t really know.\r\n","title":"Communication between two JavaFx controllers","body":"<p>so this is my first time answering a question. I am really new to programming. So what I discovered was you can only communicate with a controller only if you have the specific FXMLLoader you used to load that specific controller.</p>\n<p>Even if you create a new FXMLLoader with the resource it's of no use. You need the exact one you used to load that specific scene.</p>\n<p>What I did was whenever I loaded a controller I go and store the FXMLLoader used in a method. And when I need to access that controller I get it from that method.</p>\n<p><code>MyController controller = MyMethod.getMyControllerFXMLLoader().getController; controller.methodYouNeedToAccess();</code></p>\n<p><code>getMyControllerFXMLLoader()</code> is the method I created so that it returns that specific fxmlloader.<code>MyMethod</code> is the class I specifically created to do this.</p>\n<p>Also when that controller is closed the FXMLLoader value for that controller is set to become null.</p>\n<p>This works really well. Whether it abides by the rules and regulations I don't really know.</p>\n"}],"owner":{"account_id":1077771,"reputation":3845,"user_id":1075543,"accept_rate":80,"display_name":"jbrtrnd"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27062,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":22179980,"answer_count":4,"score":12,"last_activity_date":1684741359,"creation_date":1393953282,"question_id":22178533,"body_markdown":"I made a structure to of Controllers and Views (fxml) to separate my code as much as I could, and I&#39;m wondering how to communicate between 2 controllers. I mean, a controller have to call some functions of another controller to set it up to date.\r\n\r\nI think a schema of my current structure will be more explicit:\r\n\r\n\r\n&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Controller 1\r\n&lt;br /&gt;\r\n&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;\\\r\n&lt;br /&gt;\r\n&amp;nbsp;&amp;nbsp;&amp;nbsp;fx:include&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;fx:include\r\n&lt;br /&gt;\r\n&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;\\\r\n&lt;br /&gt;\r\nController2&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Controller3\r\n\r\nEach controller has is own fxml view.\r\n&lt;br /&gt;\r\n- Controller 1 : a container controller which has a TabPane element with 2 tabs (each tab correspond to 1 controller)\r\n&lt;br /&gt;\r\n- Controller 2 : a list\r\n&lt;br /&gt;\r\n- Controller 3 : a form\r\n&lt;br /&gt;&lt;br /&gt;\r\nYou&#39;ve probably guessed that I want my form (controller 3) to automatically update my list (controller 2).\r\nFor the moment, the form is only a &quot;creation form&quot;, so I just want to add row in my list.\r\n&lt;br /&gt;\r\n&lt;br /&gt;\r\nI&#39;ve already tried to get my Controller 2 with FXMLoader and call the functions to relaod my tableView, no success..\r\n&lt;br /&gt;\r\n&lt;br /&gt;\r\n***Controller 1 (.java + .fxml) :***\r\n\r\n    package pappu.controllers;\r\n    \r\n    import pappu.core.controller.AbstractController;\r\n    \r\n    public class FolderController extends AbstractController\r\n    {\r\n    \t\r\n    }\r\n\r\n&lt;br /&gt;\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import java.lang.*?&gt;\r\n    &lt;?import javafx.scene.control.*?&gt;\r\n    &lt;?import javafx.scene.layout.*?&gt;\r\n    \r\n    &lt;VBox fx:id=&quot;view&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; xmlns=&quot;http://javafx.com/javafx/2.2&quot; fx:controller=&quot;pappu.controllers.FolderController&quot;&gt;\r\n      &lt;TabPane&gt;\r\n        &lt;tabs&gt;\r\n          &lt;Tab text=&quot;RECHERCHE&quot;&gt;\r\n            &lt;content&gt;\r\n              &lt;AnchorPane id=&quot;Content&quot;&gt;\r\n                &lt;children&gt;\r\n                \t&lt;fx:include source=&quot;FolderList.fxml&quot; /&gt;  \r\n                &lt;/children&gt;\r\n              &lt;/AnchorPane&gt;\r\n            &lt;/content&gt;\r\n          &lt;/Tab&gt;\r\n          &lt;Tab text=&quot;DOSSIER&quot;&gt;\r\n            &lt;content&gt;\r\n              &lt;AnchorPane id=&quot;Content&quot;&gt;\r\n              \t&lt;children&gt;\r\n              \t\t&lt;fx:include source=&quot;FolderFormAdd.fxml&quot; /&gt;  \r\n            \t&lt;/children&gt;\r\n              &lt;/AnchorPane&gt;\r\n            &lt;/content&gt;\r\n          &lt;/Tab&gt;\r\n        &lt;/tabs&gt;\r\n      &lt;/TabPane&gt;\r\n    &lt;/VBox&gt;\r\n\r\n***Controller 2 (.java + .fxml) :***\r\n\r\n    package pappu.controllers;\r\n    \r\n    import java.net.URL;\r\n    import java.util.Date;\r\n    import java.util.List;\r\n    import java.util.ResourceBundle;\r\n    \r\n    import org.hibernate.Session;\r\n    \r\n    import javafx.beans.property.SimpleStringProperty;\r\n    import javafx.beans.value.ObservableValue;\r\n    import javafx.collections.FXCollections;\r\n    import javafx.collections.ObservableList;\r\n    import javafx.fxml.FXML;\r\n    import javafx.fxml.Initializable;\r\n    import javafx.scene.control.TableColumn;\r\n    import javafx.scene.control.TableColumn.CellDataFeatures;\r\n    import javafx.scene.control.TableView;\r\n    import javafx.scene.control.cell.PropertyValueFactory;\r\n    import javafx.util.Callback;\r\n    import pappu.core.controller.AbstractController;\r\n    import pappu.entities.Folder;\r\n    \r\n    public class FolderListController extends AbstractController implements Initializable\r\n    {\r\n    \t/**\r\n    \t * TableView object\r\n    \t */\r\n    \t@FXML private TableView&lt;Folder&gt; foldersTableView;\r\n    \t\r\n    \t/**\r\n    \t * FolderNumber column object\r\n    \t */\r\n    \t@FXML private TableColumn&lt;Folder, String&gt; colFolderNumber;\r\n    \t\r\n    \t/**\r\n    \t * Person column object\r\n    \t */\r\n    \t@FXML private TableColumn&lt;Folder, String&gt; colPerson;\r\n    \t\r\n    \t/**\r\n    \t * Birthday date column object\r\n    \t */\r\n    \t@FXML private TableColumn&lt;Folder, Date&gt; colBirthdayDate;\r\n    \t\r\n    \t/**\r\n    \t * List of folders\r\n    \t */\r\n    \tprivate static List&lt;Folder&gt; foldersList;\r\n    \t\r\n    \t/**\r\n    \t * Constructor\r\n    \t * Will make a call to initializeFoldersList()\r\n    \t */\r\n    \tpublic FolderListController()\r\n    \t{\r\n    \t\tinitializeFoldersList();\r\n    \t}\r\n    \t\r\n    \t\r\n    \t/**\r\n    \t * Initialize implementation of the Initializable interface\r\n    \t * \r\n    \t * @param location\r\n    \t * @param resources\r\n    \t */\r\n    \t@Override \r\n    \tpublic void initialize(URL location, ResourceBundle resources) \r\n    \t{\r\n    \t\tinitializeTableColumns();\r\n    \t\tloadData();\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Query the database to retrieve the folder list\r\n    \t */\r\n    \t@SuppressWarnings(&quot;unchecked&quot;) \r\n    \tpublic void initializeFoldersList()\r\n    \t{\r\n    \t\tSession session = sessionFactory.getCurrentSession();\r\n    \t\tsession.beginTransaction();\r\n    \t\tfoldersList = session.createQuery(&quot;from Folder&quot;).list();\r\n    \t\tsession.close();\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Initialize columns binding to folders properties\r\n    \t */\r\n    \tpublic void initializeTableColumns()\r\n    \t{\r\n    \t\tcolFolderNumber.setCellValueFactory(\r\n    \t\t          new PropertyValueFactory&lt;Folder,String&gt;(&quot;folderNumber&quot;)\r\n    \t\t              );\r\n    \t\tcolPerson.setCellValueFactory(\r\n    \t\t\t\tnew Callback&lt;CellDataFeatures&lt;Folder, String&gt;, ObservableValue&lt;String&gt;&gt;() {\r\n    \t\t\t\t     public ObservableValue&lt;String&gt; call(CellDataFeatures&lt;Folder, String&gt; p) {\r\n    \t\t\t\t         return new SimpleStringProperty(p.getValue().getFirstName() + &quot; &quot; + p.getValue().getLastName());\r\n    \t\t\t\t     }}\r\n              );\r\n    \t\tcolBirthdayDate.setCellValueFactory(\r\n    \t\t          new PropertyValueFactory&lt;Folder,Date&gt;(&quot;birthdayDate&quot;)\r\n    \t\t              );\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Put the folders list in the TableView object\r\n    \t */\r\n    \tpublic void loadData()\r\n    \t{\t\r\n    \t\tObservableList&lt;Folder&gt; listFold = FXCollections.observableArrayList(foldersList);\t\t\r\n    \t\tfoldersTableView.setItems(listFold);\r\n    \t}\t\r\n    }\r\n\r\n&lt;br /&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import java.lang.*?&gt;\r\n    &lt;?import javafx.scene.control.*?&gt;\r\n    &lt;?import javafx.scene.layout.*?&gt;\r\n    &lt;?import javafx.scene.control.Label?&gt;\r\n    \r\n    \r\n    &lt;VBox fx:id=&quot;view&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; xmlns=&quot;http://javafx.com/javafx/2.2&quot; fx:controller=&quot;pappu.controllers.FolderListController&quot;&gt;\r\n    \t&lt;Label fx:id=&quot;lblTest&quot;&gt;&lt;/Label&gt;\r\n    \t&lt;TableView fx:id=&quot;foldersTableView&quot;&gt;\r\n    \t\t&lt;columns&gt;\r\n    \t\t    &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;N&#176;&quot; fx:id=&quot;colFolderNumber&quot;&gt;\r\n    \t\t    &lt;/TableColumn&gt;\r\n    \t\t    &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Personne&quot; fx:id=&quot;colPerson&quot;&gt;\r\n    \t\t    &lt;/TableColumn&gt;\r\n    \t\t    &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Date de naissance&quot; fx:id=&quot;colBirthdayDate&quot;&gt;\r\n    \t\t    &lt;/TableColumn&gt;\r\n    \t \t&lt;/columns&gt;\r\n    \t&lt;/TableView&gt;\r\n    &lt;/VBox&gt;\r\n\r\n\r\n***Controller 3 (.java + .fxml) :***\r\n\r\n    package pappu.controllers;\r\n    \r\n    import java.io.IOException;\r\n    import java.net.URL;\r\n    import java.util.ResourceBundle;\r\n    \r\n    import org.hibernate.Session;\r\n    import org.springframework.context.annotation.AnnotationConfigApplicationContext;\r\n    \r\n    import javafx.fxml.FXML;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.fxml.Initializable;\r\n    import javafx.scene.control.TextField;\r\n    import javafx.scene.layout.Pane;\r\n    import pappu.core.AppFactory;\r\n    import pappu.core.controller.AbstractController;\r\n    import pappu.entities.Folder;\r\n    import pappu.entities.Gender;\r\n    \r\n    public class FolderFormAddController extends AbstractController\r\n    {\t\r\n    \t@FXML TextField folderNumber;\r\n    \t@FXML TextField firstName;\r\n    \t@FXML TextField lastName;\r\n    \tpublic void submitForm() throws IOException\r\n    \t{\t\r\n    \t\tSession session = sessionFactory.getCurrentSession();\r\n    \t\tsession.beginTransaction();\r\n    \t\t\r\n    \t\tFolder folder = new Folder();\r\n    \t\t\r\n    \t\tfolder.setFolderNumber(folderNumber.getText());\r\n    \t\tfolder.setFirstName(firstName.getText());\r\n    \t\tfolder.setLastName(lastName.getText());\r\n    \t\tfolder.setGender(Gender.m);\r\n    \t\t\r\n    \t\tsession.save(folder);\r\n    \t\tsession.getTransaction().commit();\r\n                // This doesn&#39;t work.. even tried with a simple Label\r\n    \t\tAppFactory app = new AppFactory();\r\n    \t\tFolderListController flc = app.folderListController();\r\n    \t\tflc.initializeFoldersList();\r\n    \t\tflc.loadData();\r\n    \t}\r\n    }\r\n\r\n&lt;br /&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import java.lang.*?&gt;\r\n    &lt;?import javafx.scene.control.*?&gt;\r\n    &lt;?import javafx.scene.layout.*?&gt;\r\n    \r\n    &lt;VBox fx:id=&quot;view&quot; prefHeight=&quot;216.0&quot; prefWidth=&quot;421.0&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; xmlns=&quot;http://javafx.com/javafx/2.2&quot; fx:controller=&quot;pappu.controllers.FolderFormAddController&quot;&gt;\r\n      &lt;children&gt;\r\n        &lt;Label prefHeight=&quot;26.0&quot; prefWidth=&quot;102.0&quot; text=&quot;Num&#233;ro de dossier&quot; /&gt;\r\n        &lt;TextField prefWidth=&quot;200.0&quot; fx:id=&quot;folderNumber&quot;/&gt;\r\n        &lt;Label text=&quot;Pr&#233;nom&quot; /&gt;\r\n        &lt;TextField prefWidth=&quot;200.0&quot; fx:id=&quot;firstName&quot;/&gt;\r\n        &lt;Label text=&quot;Nom&quot; /&gt;\r\n        &lt;TextField prefWidth=&quot;200.0&quot; fx:id=&quot;lastName&quot;/&gt;\r\n        &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#submitForm&quot; text=&quot;Enregistrer&quot; /&gt;\r\n      &lt;/children&gt;\r\n    &lt;/VBox&gt;\r\n\r\n\r\n**Precisions:**  \r\nI made my application on this base:\r\nhttp://www.zenjava.com/2011/10/25/views-within-views-controllers-within-controllers/ and I use JavaFX 2 on Java JDK 7\r\n\r\nI feel something missing in global functioning of a JavaFX application.\r\n","title":"Communication between two JavaFx controllers","body":"<p>I made a structure to of Controllers and Views (fxml) to separate my code as much as I could, and I'm wondering how to communicate between 2 controllers. I mean, a controller have to call some functions of another controller to set it up to date.</p>\n\n<p>I think a schema of my current structure will be more explicit:</p>\n\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Controller 1\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\n<br />\n&nbsp;&nbsp;&nbsp;fx:include&nbsp;&nbsp;&nbsp;&nbsp;fx:include\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\n<br />\nController2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Controller3</p>\n\n<p>Each controller has is own fxml view.\n<br />\n- Controller 1 : a container controller which has a TabPane element with 2 tabs (each tab correspond to 1 controller)\n<br />\n- Controller 2 : a list\n<br />\n- Controller 3 : a form\n<br /><br />\nYou've probably guessed that I want my form (controller 3) to automatically update my list (controller 2).\nFor the moment, the form is only a \"creation form\", so I just want to add row in my list.\n<br />\n<br />\nI've already tried to get my Controller 2 with FXMLoader and call the functions to relaod my tableView, no success..\n<br />\n<br />\n<strong><em>Controller 1 (.java + .fxml) :</em></strong></p>\n\n<pre><code>package pappu.controllers;\n\nimport pappu.core.controller.AbstractController;\n\npublic class FolderController extends AbstractController\n{\n\n}\n</code></pre>\n\n<p><br />\n    </p>\n\n<pre><code>&lt;?import java.lang.*?&gt;\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n\n&lt;VBox fx:id=\"view\" xmlns:fx=\"http://javafx.com/fxml/1\" xmlns=\"http://javafx.com/javafx/2.2\" fx:controller=\"pappu.controllers.FolderController\"&gt;\n  &lt;TabPane&gt;\n    &lt;tabs&gt;\n      &lt;Tab text=\"RECHERCHE\"&gt;\n        &lt;content&gt;\n          &lt;AnchorPane id=\"Content\"&gt;\n            &lt;children&gt;\n                &lt;fx:include source=\"FolderList.fxml\" /&gt;  \n            &lt;/children&gt;\n          &lt;/AnchorPane&gt;\n        &lt;/content&gt;\n      &lt;/Tab&gt;\n      &lt;Tab text=\"DOSSIER\"&gt;\n        &lt;content&gt;\n          &lt;AnchorPane id=\"Content\"&gt;\n            &lt;children&gt;\n                &lt;fx:include source=\"FolderFormAdd.fxml\" /&gt;  \n            &lt;/children&gt;\n          &lt;/AnchorPane&gt;\n        &lt;/content&gt;\n      &lt;/Tab&gt;\n    &lt;/tabs&gt;\n  &lt;/TabPane&gt;\n&lt;/VBox&gt;\n</code></pre>\n\n<p><strong><em>Controller 2 (.java + .fxml) :</em></strong></p>\n\n<pre><code>package pappu.controllers;\n\nimport java.net.URL;\nimport java.util.Date;\nimport java.util.List;\nimport java.util.ResourceBundle;\n\nimport org.hibernate.Session;\n\nimport javafx.beans.property.SimpleStringProperty;\nimport javafx.beans.value.ObservableValue;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableColumn.CellDataFeatures;\nimport javafx.scene.control.TableView;\nimport javafx.scene.control.cell.PropertyValueFactory;\nimport javafx.util.Callback;\nimport pappu.core.controller.AbstractController;\nimport pappu.entities.Folder;\n\npublic class FolderListController extends AbstractController implements Initializable\n{\n    /**\n     * TableView object\n     */\n    @FXML private TableView&lt;Folder&gt; foldersTableView;\n\n    /**\n     * FolderNumber column object\n     */\n    @FXML private TableColumn&lt;Folder, String&gt; colFolderNumber;\n\n    /**\n     * Person column object\n     */\n    @FXML private TableColumn&lt;Folder, String&gt; colPerson;\n\n    /**\n     * Birthday date column object\n     */\n    @FXML private TableColumn&lt;Folder, Date&gt; colBirthdayDate;\n\n    /**\n     * List of folders\n     */\n    private static List&lt;Folder&gt; foldersList;\n\n    /**\n     * Constructor\n     * Will make a call to initializeFoldersList()\n     */\n    public FolderListController()\n    {\n        initializeFoldersList();\n    }\n\n\n    /**\n     * Initialize implementation of the Initializable interface\n     * \n     * @param location\n     * @param resources\n     */\n    @Override \n    public void initialize(URL location, ResourceBundle resources) \n    {\n        initializeTableColumns();\n        loadData();\n    }\n\n    /**\n     * Query the database to retrieve the folder list\n     */\n    @SuppressWarnings(\"unchecked\") \n    public void initializeFoldersList()\n    {\n        Session session = sessionFactory.getCurrentSession();\n        session.beginTransaction();\n        foldersList = session.createQuery(\"from Folder\").list();\n        session.close();\n    }\n\n    /**\n     * Initialize columns binding to folders properties\n     */\n    public void initializeTableColumns()\n    {\n        colFolderNumber.setCellValueFactory(\n                  new PropertyValueFactory&lt;Folder,String&gt;(\"folderNumber\")\n                      );\n        colPerson.setCellValueFactory(\n                new Callback&lt;CellDataFeatures&lt;Folder, String&gt;, ObservableValue&lt;String&gt;&gt;() {\n                     public ObservableValue&lt;String&gt; call(CellDataFeatures&lt;Folder, String&gt; p) {\n                         return new SimpleStringProperty(p.getValue().getFirstName() + \" \" + p.getValue().getLastName());\n                     }}\n          );\n        colBirthdayDate.setCellValueFactory(\n                  new PropertyValueFactory&lt;Folder,Date&gt;(\"birthdayDate\")\n                      );\n\n    }\n\n    /**\n     * Put the folders list in the TableView object\n     */\n    public void loadData()\n    {   \n        ObservableList&lt;Folder&gt; listFold = FXCollections.observableArrayList(foldersList);       \n        foldersTableView.setItems(listFold);\n    }   \n}\n</code></pre>\n\n<p><br /></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;?import java.lang.*?&gt;\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n\n\n&lt;VBox fx:id=\"view\" xmlns:fx=\"http://javafx.com/fxml/1\" xmlns=\"http://javafx.com/javafx/2.2\" fx:controller=\"pappu.controllers.FolderListController\"&gt;\n    &lt;Label fx:id=\"lblTest\"&gt;&lt;/Label&gt;\n    &lt;TableView fx:id=\"foldersTableView\"&gt;\n        &lt;columns&gt;\n            &lt;TableColumn prefWidth=\"75.0\" text=\"N°\" fx:id=\"colFolderNumber\"&gt;\n            &lt;/TableColumn&gt;\n            &lt;TableColumn prefWidth=\"75.0\" text=\"Personne\" fx:id=\"colPerson\"&gt;\n            &lt;/TableColumn&gt;\n            &lt;TableColumn prefWidth=\"75.0\" text=\"Date de naissance\" fx:id=\"colBirthdayDate\"&gt;\n            &lt;/TableColumn&gt;\n        &lt;/columns&gt;\n    &lt;/TableView&gt;\n&lt;/VBox&gt;\n</code></pre>\n\n<p><strong><em>Controller 3 (.java + .fxml) :</em></strong></p>\n\n<pre><code>package pappu.controllers;\n\nimport java.io.IOException;\nimport java.net.URL;\nimport java.util.ResourceBundle;\n\nimport org.hibernate.Session;\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\n\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.Pane;\nimport pappu.core.AppFactory;\nimport pappu.core.controller.AbstractController;\nimport pappu.entities.Folder;\nimport pappu.entities.Gender;\n\npublic class FolderFormAddController extends AbstractController\n{   \n    @FXML TextField folderNumber;\n    @FXML TextField firstName;\n    @FXML TextField lastName;\n    public void submitForm() throws IOException\n    {   \n        Session session = sessionFactory.getCurrentSession();\n        session.beginTransaction();\n\n        Folder folder = new Folder();\n\n        folder.setFolderNumber(folderNumber.getText());\n        folder.setFirstName(firstName.getText());\n        folder.setLastName(lastName.getText());\n        folder.setGender(Gender.m);\n\n        session.save(folder);\n        session.getTransaction().commit();\n            // This doesn't work.. even tried with a simple Label\n        AppFactory app = new AppFactory();\n        FolderListController flc = app.folderListController();\n        flc.initializeFoldersList();\n        flc.loadData();\n    }\n}\n</code></pre>\n\n<p><br /></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;?import java.lang.*?&gt;\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n\n&lt;VBox fx:id=\"view\" prefHeight=\"216.0\" prefWidth=\"421.0\" xmlns:fx=\"http://javafx.com/fxml/1\" xmlns=\"http://javafx.com/javafx/2.2\" fx:controller=\"pappu.controllers.FolderFormAddController\"&gt;\n  &lt;children&gt;\n    &lt;Label prefHeight=\"26.0\" prefWidth=\"102.0\" text=\"Numéro de dossier\" /&gt;\n    &lt;TextField prefWidth=\"200.0\" fx:id=\"folderNumber\"/&gt;\n    &lt;Label text=\"Prénom\" /&gt;\n    &lt;TextField prefWidth=\"200.0\" fx:id=\"firstName\"/&gt;\n    &lt;Label text=\"Nom\" /&gt;\n    &lt;TextField prefWidth=\"200.0\" fx:id=\"lastName\"/&gt;\n    &lt;Button mnemonicParsing=\"false\" onAction=\"#submitForm\" text=\"Enregistrer\" /&gt;\n  &lt;/children&gt;\n&lt;/VBox&gt;\n</code></pre>\n\n<p><strong>Precisions:</strong><br>\nI made my application on this base:\n<a href=\"http://www.zenjava.com/2011/10/25/views-within-views-controllers-within-controllers/\" rel=\"noreferrer\">http://www.zenjava.com/2011/10/25/views-within-views-controllers-within-controllers/</a> and I use JavaFX 2 on Java JDK 7</p>\n\n<p>I feel something missing in global functioning of a JavaFX application.</p>\n"},{"tags":["java","maven","tomcat","plugins","tomcat8.5"],"answers":[{"tags":[],"owner":{"account_id":13024677,"reputation":11,"user_id":9413021,"display_name":"guest"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519652049,"creation_date":1519644592,"answer_id":48987475,"question_id":47363490,"body_markdown":"I had faced the same issue.\r\n\r\nTurned out maven tomcat plugin tried to upload as `admin` even though I specified another username. I then set tomcat user to `admin` with blank password and it worked.\r\n\r\nLame workaround but at least now you know where to look into.","title":"Tomcat deploy using tomcat7-maven-plugin fails with error &quot;Cannot invoke Tomcat manager: Connection reset by peer: socket write error&quot;","body":"<p>I had faced the same issue.</p>\n\n<p>Turned out maven tomcat plugin tried to upload as <code>admin</code> even though I specified another username. I then set tomcat user to <code>admin</code> with blank password and it worked.</p>\n\n<p>Lame workaround but at least now you know where to look into.</p>\n"},{"tags":[],"owner":{"account_id":11601050,"reputation":294,"user_id":8498147,"accept_rate":57,"display_name":"Patz"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1519833691,"creation_date":1519832537,"answer_id":49033346,"question_id":47363490,"body_markdown":"I resolved the issue. Problem was that the admin user I was using had access for the manager-gui and manager-status. For the deployment, it needs manager-script role access. I created new user having this role and used that one in my `pom.xml` and it worked.\r\n\r\nFollowing is the entry I added in `tomcat-users.xml`:\r\n\r\n    &lt;user username=&quot;script&quot; password=&quot;xxxx&quot; roles=&quot;manager-script,manager-jmx&quot;/&gt;","title":"Tomcat deploy using tomcat7-maven-plugin fails with error &quot;Cannot invoke Tomcat manager: Connection reset by peer: socket write error&quot;","body":"<p>I resolved the issue. Problem was that the admin user I was using had access for the manager-gui and manager-status. For the deployment, it needs manager-script role access. I created new user having this role and used that one in my <code>pom.xml</code> and it worked.</p>\n\n<p>Following is the entry I added in <code>tomcat-users.xml</code>:</p>\n\n<pre><code>&lt;user username=\"script\" password=\"xxxx\" roles=\"manager-script,manager-jmx\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28230192,"reputation":1,"user_id":21579530,"display_name":"Ben Brand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680769811,"creation_date":1680769811,"answer_id":75947375,"question_id":47363490,"body_markdown":"Relatively late to this one. I came across this issue when porting from Ubuntu to Windows 11. \r\n\r\nAdding the username/password for Tomcat to the POM resolved the problem (and, of course, having the tomcat-users.xml set up for that user). \r\n\r\nStrangely enough, on Linux, it all worked without that combo. O well.","title":"Tomcat deploy using tomcat7-maven-plugin fails with error &quot;Cannot invoke Tomcat manager: Connection reset by peer: socket write error&quot;","body":"<p>Relatively late to this one. I came across this issue when porting from Ubuntu to Windows 11.</p>\n<p>Adding the username/password for Tomcat to the POM resolved the problem (and, of course, having the tomcat-users.xml set up for that user).</p>\n<p>Strangely enough, on Linux, it all worked without that combo. O well.</p>\n"},{"tags":[],"owner":{"account_id":28652191,"reputation":1,"user_id":21938958,"display_name":"Dicluu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684741203,"creation_date":1684740675,"answer_id":76303894,"question_id":47363490,"body_markdown":"The same exception appears when you didn&#39;t make install (mvn install tomcat7:deploy) and trying to deploy WAR (mvn tomcat7:deploy)\r\n\r\nBy the way, your IDE can use own maven so be careful when you configurating settings.xml \r\n\r\nAnother one case this exception appears it&#39;s when your WAR file already deployed on tomcat, so you need to redeploy (mvn tomcat7:redeploy)","title":"Tomcat deploy using tomcat7-maven-plugin fails with error &quot;Cannot invoke Tomcat manager: Connection reset by peer: socket write error&quot;","body":"<p>The same exception appears when you didn't make install (mvn install tomcat7:deploy) and trying to deploy WAR (mvn tomcat7:deploy)</p>\n<p>By the way, your IDE can use own maven so be careful when you configurating settings.xml</p>\n<p>Another one case this exception appears it's when your WAR file already deployed on tomcat, so you need to redeploy (mvn tomcat7:redeploy)</p>\n"}],"owner":{"account_id":11601050,"reputation":294,"user_id":8498147,"accept_rate":57,"display_name":"Patz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6299,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1684741203,"creation_date":1510988526,"question_id":47363490,"body_markdown":"I am trying to set auto-deploy for my war to Tomcat using the Tomcat7-Maven-Plugin. However, its failing to deploy the file. From the console messages, it looks like it starts deploying but gets interrupted in between after ard 2 MB of transfer. Same happens for all retries and finally it fails.\r\n\r\n    $ mvn tomcat7:redeploy\r\n\t\t.\r\n\t\t.\r\n\t\t.  \r\n\t[INFO] Deploying war to http://localhost:8080/policy-service\r\n    Uploading: http://localhost:8080/manager/text/deploy?path=%2Fpolicy-service&amp;update=true\r\n    2244/52241 KB\r\n    [INFO] I/O exception (java.net.SocketException) caught when processing request: Connection reset by peer: socket write error\r\n    [INFO] Retrying request\r\n    Uploading: http://localhost:8080/manager/text/deploy?path=%2Fpolicy-service&amp;update=true\r\n    2242/52241 KB\r\n    [INFO] I/O exception (java.net.SocketException) caught when processing request: Connection reset by peer: socket write error\r\n    [INFO] Retrying request\r\n    Uploading: http://localhost:8080/manager/text/deploy?path=%2Fpolicy-service&amp;update=true\r\n    2242/52241 KB\r\n    [INFO] I/O exception (java.net.SocketException) caught when processing request: Connection reset by peer: socket write error\r\n    [INFO] Retrying request\r\n    Uploading: http://localhost:8080/manager/text/deploy?path=%2Fpolicy-service&amp;update=true\r\n    2242/52241 KB\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n                                    \r\nI tried all possible solutions which I could gather, but no luck:\r\n\r\n1. Changing POM config url from /manager/text to /manager/html.\r\n2. Not allocating manager-script or manager-jmx role to the same user having manager-gui role in tomcat-users.xml.\r\n3. Setting connector timeout from 20 sec to 60 sec in server.xml \r\n    &lt;Connector connectionTimeout=&quot;60000&quot; ...&gt;\r\n4. Changed max-file-size from default 50 MB to 80 MB. (As my war file size is 55 MBs.)\r\n\r\nSome additional details as follows:\r\n\r\n - Pom.xml snippet:\r\n\r\n\t\t&lt;plugins&gt;\t\t\t \r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\t\t\t\r\n\t\t\t\r\n\t\t\t&lt;plugin&gt;\r\n\t\t     &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\r\n\t\t     &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\r\n\t\t     &lt;version&gt;2.2&lt;/version&gt;\r\n\t\t     &lt;configuration&gt;  \r\n\t\t\t\t\t  &lt;url&gt;http://localhost:8080/manager/text&lt;/url&gt;  \r\n\t\t\t\t\t  &lt;server&gt;TomcatServer&lt;/server&gt;    \r\n\t\t\t\t\t  &lt;username&gt;xxx&lt;/username&gt;  \r\n\t\t\t\t\t  &lt;password&gt;xxx&lt;/password&gt;\r\n\t\t\t\t\t  &lt;path&gt;/policy-service&lt;/path&gt;   \r\n \t\t\t\t&lt;/configuration&gt;\r\n        \t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\r\n - Maven verion: 3.5.2\r\n\r\n - Tomcat version: 8.5.32 \r\n\r\n - JDK version: 1.8.0_144 \r\n\r\n - Full stack trace of the exception I get while deploying war to tomcat\r\n\r\n          [ERROR] Failed to execute goal org.apache.tomcat.maven:tomcat7-maven-plugin:2.2:redeploy (default-cli) on project policy-service: Cannot invoke Tomcat manager: Connection reset by peer: socket write error -&gt; [Help 1]\r\n          org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.tomcat.maven:tomcat7-maven-plugin:2.2:redeploy (default-cli) on project policy-service: Cannot invoke Tomcat manager\r\n              at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\r\n              at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:154)\r\n              at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:146)\r\n              at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n              at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n              at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:51)\r\n              at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n              at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:309)\r\n              at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:194)\r\n              at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:107)\r\n              at org.apache.maven.cli.MavenCli.execute (MavenCli.java:955)\r\n              at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:290)\r\n              at org.apache.maven.cli.MavenCli.main (MavenCli.java:194)\r\n              at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n              at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n              at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n              at java.lang.reflect.Method.invoke (Method.java:498)\r\n              at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:289)\r\n              at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:229)\r\n              at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:415)\r\n              at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:356)\r\n          Caused by: org.apache.maven.plugin.MojoExecutionException: Cannot invoke Tomcat manager\r\n              at org.apache.tomcat.maven.plugin.tomcat7.AbstractCatalinaMojo.execute (AbstractCatalinaMojo.java:141)\r\n              at org.apache.tomcat.maven.plugin.tomcat7.AbstractWarCatalinaMojo.execute (AbstractWarCatalinaMojo.java:68)\r\n              at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:134)\r\n              at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:208)\r\n              at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:154)\r\n              at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:146)\r\n              at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n              at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n              at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:51)\r\n              at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n              at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:309)\r\n              at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:194)\r\n              at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:107)\r\n              at org.apache.maven.cli.MavenCli.execute (MavenCli.java:955)\r\n              at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:290)\r\n              at org.apache.maven.cli.MavenCli.main (MavenCli.java:194)\r\n              at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n              at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n              at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n              at java.lang.reflect.Method.invoke (Method.java:498)\r\n              at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:289)\r\n              at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:229)\r\n              at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:415)\r\n              at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:356)\r\n          Caused by: java.net.SocketException: Connection reset by peer: socket write error\r\n              at java.net.SocketOutputStream.socketWrite0 (Native Method)\r\n              at java.net.SocketOutputStream.socketWrite (SocketOutputStream.java:111)\r\n              at java.net.SocketOutputStream.write (SocketOutputStream.java:155)\r\n              at org.apache.http.impl.io.AbstractSessionOutputBuffer.write (AbstractSessionOutputBuffer.java:181)\r\n              at org.apache.http.impl.conn.LoggingSessionOutputBuffer.write (LoggingSessionOutputBuffer.java:73)\r\n              at org.apache.http.impl.io.ContentLengthOutputStream.write (ContentLengthOutputStream.java:115)\r\n              at org.apache.tomcat.maven.common.deployer.TomcatManager$RequestEntityImplementation.writeTo (TomcatManager.java:880)\r\n              at org.apache.http.entity.HttpEntityWrapper.writeTo (HttpEntityWrapper.java:89)\r\n              at org.apache.http.impl.client.EntityEnclosingRequestWrapper$EntityWrapper.writeTo (EntityEnclosingRequestWrapper.java:108)\r\n              at org.apache.http.impl.entity.EntitySerializer.serialize (EntitySerializer.java:117)\r\n              at org.apache.http.impl.AbstractHttpClientConnection.sendRequestEntity (AbstractHttpClientConnection.java:265)\r\n              at org.apache.http.impl.conn.ManagedClientConnectionImpl.sendRequestEntity (ManagedClientConnectionImpl.java:203)\r\n              at org.apache.http.protocol.HttpRequestExecutor.doSendRequest (HttpRequestExecutor.java:236)\r\n              at org.apache.http.protocol.HttpRequestExecutor.execute (HttpRequestExecutor.java:121)\r\n              at org.apache.http.impl.client.DefaultRequestDirector.tryExecute (DefaultRequestDirector.java:682)\r\n              at org.apache.http.impl.client.DefaultRequestDirector.execute (DefaultRequestDirector.java:486)\r\n              at org.apache.http.impl.client.AbstractHttpClient.doExecute (AbstractHttpClient.java:863)\r\n              at org.apache.http.impl.client.CloseableHttpClient.execute (CloseableHttpClient.java:82)\r\n              at org.apache.tomcat.maven.common.deployer.TomcatManager.invoke (TomcatManager.java:742)\r\n              at org.apache.tomcat.maven.common.deployer.TomcatManager.deployImpl (TomcatManager.java:705)\r\n              at org.apache.tomcat.maven.common.deployer.TomcatManager.deploy (TomcatManager.java:388)\r\n              at org.apache.tomcat.maven.plugin.tomcat7.deploy.AbstractDeployWarMojo.deployWar (AbstractDeployWarMojo.java:85)\r\n              at org.apache.tomcat.maven.plugin.tomcat7.deploy.AbstractDeployMojo.invokeManager (AbstractDeployMojo.java:82)\r\n              at org.apache.tomcat.maven.plugin.tomcat7.AbstractCatalinaMojo.execute (AbstractCatalinaMojo.java:132)\r\n              at org.apache.tomcat.maven.plugin.tomcat7.AbstractWarCatalinaMojo.execute (AbstractWarCatalinaMojo.java:68)\r\n              at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:134)\r\n              at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:208)\r\n              at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:154)\r\n              at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:146)\r\n              at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n              at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n              at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:51)\r\n              at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n              at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:309)\r\n              at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:194)\r\n              at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:107)\r\n              at org.apache.maven.cli.MavenCli.execute (MavenCli.java:955)\r\n              at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:290)\r\n              at org.apache.maven.cli.MavenCli.main (MavenCli.java:194)\r\n              at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n              at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n              at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n              at java.lang.reflect.Method.invoke (Method.java:498)\r\n              at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:289)\r\n              at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:229)\r\n              at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:415)\r\n              at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:356)","title":"Tomcat deploy using tomcat7-maven-plugin fails with error &quot;Cannot invoke Tomcat manager: Connection reset by peer: socket write error&quot;","body":"<p>I am trying to set auto-deploy for my war to Tomcat using the Tomcat7-Maven-Plugin. However, its failing to deploy the file. From the console messages, it looks like it starts deploying but gets interrupted in between after ard 2 MB of transfer. Same happens for all retries and finally it fails.</p>\n\n<pre><code>$ mvn tomcat7:redeploy\n    .\n    .\n    .  \n[INFO] Deploying war to http://localhost:8080/policy-service\nUploading: http://localhost:8080/manager/text/deploy?path=%2Fpolicy-service&amp;update=true\n2244/52241 KB\n[INFO] I/O exception (java.net.SocketException) caught when processing request: Connection reset by peer: socket write error\n[INFO] Retrying request\nUploading: http://localhost:8080/manager/text/deploy?path=%2Fpolicy-service&amp;update=true\n2242/52241 KB\n[INFO] I/O exception (java.net.SocketException) caught when processing request: Connection reset by peer: socket write error\n[INFO] Retrying request\nUploading: http://localhost:8080/manager/text/deploy?path=%2Fpolicy-service&amp;update=true\n2242/52241 KB\n[INFO] I/O exception (java.net.SocketException) caught when processing request: Connection reset by peer: socket write error\n[INFO] Retrying request\nUploading: http://localhost:8080/manager/text/deploy?path=%2Fpolicy-service&amp;update=true\n2242/52241 KB\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n\n<p>I tried all possible solutions which I could gather, but no luck:</p>\n\n<ol>\n<li>Changing POM config url from /manager/text to /manager/html.</li>\n<li>Not allocating manager-script or manager-jmx role to the same user having manager-gui role in tomcat-users.xml.</li>\n<li>Setting connector timeout from 20 sec to 60 sec in server.xml \n</li>\n<li>Changed max-file-size from default 50 MB to 80 MB. (As my war file size is 55 MBs.)</li>\n</ol>\n\n<p>Some additional details as follows:</p>\n\n<ul>\n<li><p>Pom.xml snippet:</p>\n\n<pre><code>&lt;plugins&gt;            \n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n            &lt;source&gt;1.8&lt;/source&gt;\n            &lt;target&gt;1.8&lt;/target&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;           \n\n    &lt;plugin&gt;\n     &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\n     &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\n     &lt;version&gt;2.2&lt;/version&gt;\n     &lt;configuration&gt;  \n              &lt;url&gt;http://localhost:8080/manager/text&lt;/url&gt;  \n              &lt;server&gt;TomcatServer&lt;/server&gt;    \n              &lt;username&gt;xxx&lt;/username&gt;  \n              &lt;password&gt;xxx&lt;/password&gt;\n              &lt;path&gt;/policy-service&lt;/path&gt;   \n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre></li>\n<li><p>Maven verion: 3.5.2</p></li>\n<li><p>Tomcat version: 8.5.32 </p></li>\n<li><p>JDK version: 1.8.0_144 </p></li>\n<li><p>Full stack trace of the exception I get while deploying war to tomcat</p>\n\n<pre><code>  [ERROR] Failed to execute goal org.apache.tomcat.maven:tomcat7-maven-plugin:2.2:redeploy (default-cli) on project policy-service: Cannot invoke Tomcat manager: Connection reset by peer: socket write error -&gt; [Help 1]\n  org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.tomcat.maven:tomcat7-maven-plugin:2.2:redeploy (default-cli) on project policy-service: Cannot invoke Tomcat manager\n      at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\n      at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:154)\n      at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:146)\n      at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n      at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n      at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:51)\n      at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n      at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:309)\n      at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:194)\n      at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:107)\n      at org.apache.maven.cli.MavenCli.execute (MavenCli.java:955)\n      at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:290)\n      at org.apache.maven.cli.MavenCli.main (MavenCli.java:194)\n      at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n      at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n      at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n      at java.lang.reflect.Method.invoke (Method.java:498)\n      at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:289)\n      at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:229)\n      at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:415)\n      at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:356)\n  Caused by: org.apache.maven.plugin.MojoExecutionException: Cannot invoke Tomcat manager\n      at org.apache.tomcat.maven.plugin.tomcat7.AbstractCatalinaMojo.execute (AbstractCatalinaMojo.java:141)\n      at org.apache.tomcat.maven.plugin.tomcat7.AbstractWarCatalinaMojo.execute (AbstractWarCatalinaMojo.java:68)\n      at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:134)\n      at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:208)\n      at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:154)\n      at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:146)\n      at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n      at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n      at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:51)\n      at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n      at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:309)\n      at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:194)\n      at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:107)\n      at org.apache.maven.cli.MavenCli.execute (MavenCli.java:955)\n      at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:290)\n      at org.apache.maven.cli.MavenCli.main (MavenCli.java:194)\n      at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n      at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n      at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n      at java.lang.reflect.Method.invoke (Method.java:498)\n      at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:289)\n      at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:229)\n      at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:415)\n      at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:356)\n  Caused by: java.net.SocketException: Connection reset by peer: socket write error\n      at java.net.SocketOutputStream.socketWrite0 (Native Method)\n      at java.net.SocketOutputStream.socketWrite (SocketOutputStream.java:111)\n      at java.net.SocketOutputStream.write (SocketOutputStream.java:155)\n      at org.apache.http.impl.io.AbstractSessionOutputBuffer.write (AbstractSessionOutputBuffer.java:181)\n      at org.apache.http.impl.conn.LoggingSessionOutputBuffer.write (LoggingSessionOutputBuffer.java:73)\n      at org.apache.http.impl.io.ContentLengthOutputStream.write (ContentLengthOutputStream.java:115)\n      at org.apache.tomcat.maven.common.deployer.TomcatManager$RequestEntityImplementation.writeTo (TomcatManager.java:880)\n      at org.apache.http.entity.HttpEntityWrapper.writeTo (HttpEntityWrapper.java:89)\n      at org.apache.http.impl.client.EntityEnclosingRequestWrapper$EntityWrapper.writeTo (EntityEnclosingRequestWrapper.java:108)\n      at org.apache.http.impl.entity.EntitySerializer.serialize (EntitySerializer.java:117)\n      at org.apache.http.impl.AbstractHttpClientConnection.sendRequestEntity (AbstractHttpClientConnection.java:265)\n      at org.apache.http.impl.conn.ManagedClientConnectionImpl.sendRequestEntity (ManagedClientConnectionImpl.java:203)\n      at org.apache.http.protocol.HttpRequestExecutor.doSendRequest (HttpRequestExecutor.java:236)\n      at org.apache.http.protocol.HttpRequestExecutor.execute (HttpRequestExecutor.java:121)\n      at org.apache.http.impl.client.DefaultRequestDirector.tryExecute (DefaultRequestDirector.java:682)\n      at org.apache.http.impl.client.DefaultRequestDirector.execute (DefaultRequestDirector.java:486)\n      at org.apache.http.impl.client.AbstractHttpClient.doExecute (AbstractHttpClient.java:863)\n      at org.apache.http.impl.client.CloseableHttpClient.execute (CloseableHttpClient.java:82)\n      at org.apache.tomcat.maven.common.deployer.TomcatManager.invoke (TomcatManager.java:742)\n      at org.apache.tomcat.maven.common.deployer.TomcatManager.deployImpl (TomcatManager.java:705)\n      at org.apache.tomcat.maven.common.deployer.TomcatManager.deploy (TomcatManager.java:388)\n      at org.apache.tomcat.maven.plugin.tomcat7.deploy.AbstractDeployWarMojo.deployWar (AbstractDeployWarMojo.java:85)\n      at org.apache.tomcat.maven.plugin.tomcat7.deploy.AbstractDeployMojo.invokeManager (AbstractDeployMojo.java:82)\n      at org.apache.tomcat.maven.plugin.tomcat7.AbstractCatalinaMojo.execute (AbstractCatalinaMojo.java:132)\n      at org.apache.tomcat.maven.plugin.tomcat7.AbstractWarCatalinaMojo.execute (AbstractWarCatalinaMojo.java:68)\n      at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:134)\n      at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:208)\n      at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:154)\n      at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:146)\n      at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n      at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n      at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:51)\n      at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n      at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:309)\n      at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:194)\n      at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:107)\n      at org.apache.maven.cli.MavenCli.execute (MavenCli.java:955)\n      at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:290)\n      at org.apache.maven.cli.MavenCli.main (MavenCli.java:194)\n      at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n      at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n      at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n      at java.lang.reflect.Method.invoke (Method.java:498)\n      at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:289)\n      at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:229)\n      at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:415)\n      at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:356)\n</code></pre></li>\n</ul>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1684705979,"post_id":76302062,"comment_id":134552014,"body_markdown":"The solution is to use a `ScrollPane`. In what way does the code in your question not work for you? Please provide a [mre].","body":"The solution is to use a <code>ScrollPane</code>. In what way does the code in your question not work for you? Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1684706007,"post_id":76302062,"comment_id":134552016,"body_markdown":"The other option is to use a `ListView`, which is preferred if you have a significant number of graphs to display.","body":"The other option is to use a <code>ListView</code>, which is preferred if you have a significant number of graphs to display."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1684717522,"post_id":76302062,"comment_id":134552959,"body_markdown":"“the code I found doesn&#39;t work” —How can you tell?","body":"“the code I found doesn&#39;t work” —How can you tell?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1684731700,"post_id":76302062,"comment_id":134554070,"body_markdown":"You wrote in your question: _the code I found doesn&#39;t work in my version of the library_ What &quot;library&quot; are you referring to? Is the code in your question the code that you found?","body":"You wrote in your question: <i>the code I found doesn&#39;t work in my version of the library</i> What &quot;library&quot; are you referring to? Is the code in your question the code that you found?"},{"owner":{"account_id":20509166,"reputation":37,"user_id":18729480,"display_name":"PluggaRose"},"score":0,"creation_date":1684735722,"post_id":76302062,"comment_id":134554507,"body_markdown":"I understand that a minimal reproducible example is needed here.  But as I said earlier I am new to javafx.  I just need to put 7 lines of charts in one window so that it looks at least not pinched. Does it make sense to add even more code here - I don&#39;t think so.  Because you certainly don&#39;t need my calculations.","body":"I understand that a minimal reproducible example is needed here.  But as I said earlier I am new to javafx.  I just need to put 7 lines of charts in one window so that it looks at least not pinched. Does it make sense to add even more code here - I don&#39;t think so.  Because you certainly don&#39;t need my calculations."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1684737185,"post_id":76302062,"comment_id":134554772,"body_markdown":"&quot;_Does it make sense to add even more code here - I don&#39;t think so._&quot; – But we **do** think so. Or at least we think you should show your actual attempt (in the form of a [mre]). From our perspective, you have apparently already found a solution. So, we don&#39;t really understand what you&#39;re actually asking. You state using a `ScrollPane` &quot;doesn&#39;t work&quot;. But **how** doesn&#39;t it work? What did you try? In other words, a [mre] would help us help you (plus any errors you&#39;re getting).","body":"&quot;<i>Does it make sense to add even more code here - I don&#39;t think so.</i>&quot; – But we <b>do</b> think so. Or at least we think you should show your actual attempt (in the form of a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>). From our perspective, you have apparently already found a solution. So, we don&#39;t really understand what you&#39;re actually asking. You state using a <code>ScrollPane</code> &quot;doesn&#39;t work&quot;. But <b>how</b> doesn&#39;t it work? What did you try? In other words, a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> would help us help you (plus any errors you&#39;re getting)."},{"owner":{"account_id":20509166,"reputation":37,"user_id":18729480,"display_name":"PluggaRose"},"score":0,"creation_date":1684739836,"post_id":76302062,"comment_id":134555217,"body_markdown":"OK, I was wrong. Now I will add a little explanation of how it should look like.","body":"OK, I was wrong. Now I will add a little explanation of how it should look like."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1684743823,"post_id":76302062,"comment_id":134556016,"body_markdown":"&quot;_There is no setContent method when I try to repeat the example_&quot; – I think this was the piece of information we were missing. As you can see in [the documentation](https://openjfx.io/javadoc/20/javafx.controls/javafx/scene/control/ScrollPane.html#setContent(javafx.scene.Node)), that method does indeed exist and has existed since JavaFX 2.0 (which is approximately 10 major versions older than the version you&#39;re using). My guess is you erroneously imported `java.awt.ScrollPane`. But `javafx.scene.control.ScrollPane` is the class you want to import.","body":"&quot;<i>There is no setContent method when I try to repeat the example</i>&quot; – I think this was the piece of information we were missing. As you can see in <a href=\"https://openjfx.io/javadoc/20/javafx.controls/javafx/scene/control/ScrollPane.html#setContent(javafx.scene.Node)\" rel=\"nofollow noreferrer\">the documentation</a>, that method does indeed exist and has existed since JavaFX 2.0 (which is approximately 10 major versions older than the version you&#39;re using). My guess is you erroneously imported <code>java.awt.ScrollPane</code>. But <code>javafx.scene.control.ScrollPane</code> is the class you want to import."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1684744023,"post_id":76302062,"comment_id":134556058,"body_markdown":"As a general rule, unless you really know what you&#39;re doing, avoid importing anything from the `java.awt.*` or `java.swing.*` packages when creating a JavaFX application. All code related to the JavaFX standard library is in packages starting with `javafx.*`.","body":"As a general rule, unless you really know what you&#39;re doing, avoid importing anything from the <code>java.awt.*</code> or <code>java.swing.*</code> packages when creating a JavaFX application. All code related to the JavaFX standard library is in packages starting with <code>javafx.*</code>."},{"owner":{"account_id":20509166,"reputation":37,"user_id":18729480,"display_name":"PluggaRose"},"score":1,"creation_date":1684744340,"post_id":76302062,"comment_id":134556126,"body_markdown":"Yes, you&#39;re right. The example did not say that you need to use ``javafx.scene.control.ScrollPane``. And Intellij IDEA suggested importing the wrong class. Thanks for the help.","body":"Yes, you&#39;re right. The example did not say that you need to use <code>javafx.scene.control.ScrollPane</code>. And Intellij IDEA suggested importing the wrong class. Thanks for the help."}],"owner":{"account_id":20509166,"reputation":37,"user_id":18729480,"display_name":"PluggaRose"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1684748887,"answer_count":0,"score":1,"last_activity_date":1684741167,"creation_date":1684705886,"question_id":76302062,"body_markdown":"I&#39;m new to javafx. My task is to make several graphs in one window. But the problem is that there are too many of them and they do not fit in the window correctly. \r\n\r\nIn other cases I used GridPane and it worked. But now I am faced with the problem described above. How can I implement a scrollable window in the likeness of a grid? If possible, provide a link to the example/documentation.\r\n\r\nAt the moment, my charts look like this. And they look acceptable. Do not pay attention to the signatures, they will be made later.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI use the GridPane to determine the position of the graphs. Here is my code:\r\n\r\n```\r\n        GridPane pane = new GridPane();\r\n        pane.add(lineChart0,0,0);\r\n        pane.add(lineChart1,1,0);\r\n        pane.add(lineChart2,2,0);\r\n        pane.add(lineChart3,0,1);\r\n        pane.add(lineChart4,1,1);\r\n        pane.add(lineChart5,2,1);\r\n        pane.add(lineChart6,3,1);\r\n        pane.add(lineChart7,0,2);\r\n        pane.add(lineChart8,1,2);\r\n        pane.add(lineChart9,2,2);\r\n        pane.add(lineChart10,3,2);\r\n        pane.add(lineChart11,0,3);\r\n        pane.add(lineChart12,1,3);\r\n        pane.add(lineChart13,2,3);\r\n        pane.add(lineChart14,3,3);\r\n\r\n\r\n        Scene scene = new Scene(pane, 1920, 1000);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n```\r\n\r\nBut now I need to add some more charts lines. When I add these lines, this happens:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nData signatures and the last chart line disappear.  Don&#39;t pay attention to the empty spaces in the grid. Here I&#39;m just checking how charts will behave with a given number of rows.\r\n\r\n```\r\n        GridPane pane = new GridPane();\r\n        pane.add(lineChart0,0,0);\r\n        pane.add(lineChart1,1,0);\r\n        pane.add(lineChart2,2,0);\r\n        pane.add(lineChart3,0,1);\r\n        pane.add(lineChart4,1,1);\r\n        pane.add(lineChart5,2,1);\r\n        pane.add(lineChart6,3,1);\r\n        pane.add(lineChart7,0,2);\r\n        pane.add(lineChart8,1,2);\r\n        pane.add(lineChart9,2,2);\r\n        pane.add(lineChart10,3,2);\r\n        pane.add(lineChart11,0,3);\r\n        pane.add(lineChart12,1,4);\r\n        pane.add(lineChart13,2,5);\r\n        pane.add(lineChart14,3,6);\r\n\r\n\r\n        Scene scene = new Scene(pane, 1920, 1000);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n```\r\n\r\nI need the graphs to be displayed correctly in one window. According to my idea, this can be done by scrolling the page. But maybe my idea is wrong. I tried to find an example of how to combine grid pane and scrollpane, but code  that I found doesn&#39;t work in my version of the library(17.0.2). There is no ```setContent``` method when I try to repeat the example. Here is an example of this code:\r\n```\r\nScrollPane scrollPane = new ScrollPane();\r\n\r\nGridPane gridPane = new GridPane();\r\ngridPane.add(new Label(&quot;Name:&quot;), 0, 0);\r\ngridPane.add(new TextField(), 1, 0);\r\ngridPane.add(new Label(&quot;Description:&quot;), 0, 1);\r\ngridPane.add(new TextArea(), 1, 1);\r\n\r\nscrollPane.setContent(gridPane);\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wJ8Ed.png\r\n  [2]: https://i.stack.imgur.com/i7EO9.png","title":"Scrollable grid in javafx","body":"<p>I'm new to javafx. My task is to make several graphs in one window. But the problem is that there are too many of them and they do not fit in the window correctly.</p>\n<p>In other cases I used GridPane and it worked. But now I am faced with the problem described above. How can I implement a scrollable window in the likeness of a grid? If possible, provide a link to the example/documentation.</p>\n<p>At the moment, my charts look like this. And they look acceptable. Do not pay attention to the signatures, they will be made later.</p>\n<p><a href=\"https://i.stack.imgur.com/wJ8Ed.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wJ8Ed.png\" alt=\"enter image description here\" /></a></p>\n<p>I use the GridPane to determine the position of the graphs. Here is my code:</p>\n<pre><code>        GridPane pane = new GridPane();\n        pane.add(lineChart0,0,0);\n        pane.add(lineChart1,1,0);\n        pane.add(lineChart2,2,0);\n        pane.add(lineChart3,0,1);\n        pane.add(lineChart4,1,1);\n        pane.add(lineChart5,2,1);\n        pane.add(lineChart6,3,1);\n        pane.add(lineChart7,0,2);\n        pane.add(lineChart8,1,2);\n        pane.add(lineChart9,2,2);\n        pane.add(lineChart10,3,2);\n        pane.add(lineChart11,0,3);\n        pane.add(lineChart12,1,3);\n        pane.add(lineChart13,2,3);\n        pane.add(lineChart14,3,3);\n\n\n        Scene scene = new Scene(pane, 1920, 1000);\n        stage.setScene(scene);\n        stage.show();\n</code></pre>\n<p>But now I need to add some more charts lines. When I add these lines, this happens:</p>\n<p><a href=\"https://i.stack.imgur.com/i7EO9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i7EO9.png\" alt=\"enter image description here\" /></a></p>\n<p>Data signatures and the last chart line disappear.  Don't pay attention to the empty spaces in the grid. Here I'm just checking how charts will behave with a given number of rows.</p>\n<pre><code>        GridPane pane = new GridPane();\n        pane.add(lineChart0,0,0);\n        pane.add(lineChart1,1,0);\n        pane.add(lineChart2,2,0);\n        pane.add(lineChart3,0,1);\n        pane.add(lineChart4,1,1);\n        pane.add(lineChart5,2,1);\n        pane.add(lineChart6,3,1);\n        pane.add(lineChart7,0,2);\n        pane.add(lineChart8,1,2);\n        pane.add(lineChart9,2,2);\n        pane.add(lineChart10,3,2);\n        pane.add(lineChart11,0,3);\n        pane.add(lineChart12,1,4);\n        pane.add(lineChart13,2,5);\n        pane.add(lineChart14,3,6);\n\n\n        Scene scene = new Scene(pane, 1920, 1000);\n        stage.setScene(scene);\n        stage.show();\n</code></pre>\n<p>I need the graphs to be displayed correctly in one window. According to my idea, this can be done by scrolling the page. But maybe my idea is wrong. I tried to find an example of how to combine grid pane and scrollpane, but code  that I found doesn't work in my version of the library(17.0.2). There is no <code>setContent</code> method when I try to repeat the example. Here is an example of this code:</p>\n<pre><code>ScrollPane scrollPane = new ScrollPane();\n\nGridPane gridPane = new GridPane();\ngridPane.add(new Label(&quot;Name:&quot;), 0, 0);\ngridPane.add(new TextField(), 1, 0);\ngridPane.add(new Label(&quot;Description:&quot;), 0, 1);\ngridPane.add(new TextArea(), 1, 1);\n\nscrollPane.setContent(gridPane);\n</code></pre>\n"},{"tags":["java","simpledateformat"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684741107,"creation_date":1435847954,"answer_id":31187578,"question_id":31187493,"body_markdown":"You can use the overload of `parse` which takes a `ParsePosition`:\r\n\r\n    public static Date parseDate(final String text, final String[] acceptedFormats) {\r\n        ParsePosition position = new ParsePosition(0);\r\n        for (String format : acceptedFormats) {\r\n            // TODO: Specify time zone and locale\r\n            SimpleDateFormat sdf = new SimpleDateFormat(format);\r\n            Date date = sdf.parse(text, position);\r\n            if (date != null &amp;&amp; position.getIndex() == text.length()) {\r\n                return date;\r\n            }\r\n            position.setIndex(0);\r\n        }\r\n        return null; // dateString does not match any accepted format\r\n    }\r\n\r\nNote the check that the parse position is the length of the string - that prevents false positives where *some* of the text has been parsed, but there&#39;s more left over - such as a format of &quot;yyyy-MM-dd&quot; and text of &quot;2015-07-02T15:40&quot;.","title":"SimpleDateFormat try parse, avoid empty catch block","body":"<p>You can use the overload of <code>parse</code> which takes a <code>ParsePosition</code>:</p>\n<pre><code>public static Date parseDate(final String text, final String[] acceptedFormats) {\n    ParsePosition position = new ParsePosition(0);\n    for (String format : acceptedFormats) {\n        // TODO: Specify time zone and locale\n        SimpleDateFormat sdf = new SimpleDateFormat(format);\n        Date date = sdf.parse(text, position);\n        if (date != null &amp;&amp; position.getIndex() == text.length()) {\n            return date;\n        }\n        position.setIndex(0);\n    }\n    return null; // dateString does not match any accepted format\n}\n</code></pre>\n<p>Note the check that the parse position is the length of the string - that prevents false positives where <em>some</em> of the text has been parsed, but there's more left over - such as a format of &quot;yyyy-MM-dd&quot; and text of &quot;2015-07-02T15:40&quot;.</p>\n"}],"owner":{"account_id":4747063,"reputation":1250,"user_id":3838107,"accept_rate":28,"display_name":"lucian.marcuta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1834,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1684741107,"creation_date":1435847711,"question_id":31187493,"body_markdown":"I implemented the following method that can be used to convert a String to an accepted format: \r\n\r\n    public static Date parseDate(final String dateString, final String[] acceptedFormats) {\r\n            for (String format : acceptedFormats) {\r\n                try {\r\n                    return new SimpleDateFormat(format).parse(dateString);\r\n                } catch (ParseException e) {\r\n                    // dateString does not have this format\r\n                }\r\n            }\r\n            return null; // dateString does not match any accepted format\r\n        }\r\n\r\nAs I read from some Java books, it`s not a good practice to use exceptions to control the flow. In this case, I use an empty catch block and that`s not a good practice. Can you help me to to write a method that does the same thing but in a different way? \r\nI have to mention that I am not allowed to use external libs( I know that there a lib from apachee that can do this thing in a nice manner)","title":"SimpleDateFormat try parse, avoid empty catch block","body":"<p>I implemented the following method that can be used to convert a String to an accepted format: </p>\n\n<pre><code>public static Date parseDate(final String dateString, final String[] acceptedFormats) {\n        for (String format : acceptedFormats) {\n            try {\n                return new SimpleDateFormat(format).parse(dateString);\n            } catch (ParseException e) {\n                // dateString does not have this format\n            }\n        }\n        return null; // dateString does not match any accepted format\n    }\n</code></pre>\n\n<p>As I read from some Java books, it<code>s not a good practice to use exceptions to control the flow. In this case, I use an empty catch block and that</code>s not a good practice. Can you help me to to write a method that does the same thing but in a different way? \nI have to mention that I am not allowed to use external libs( I know that there a lib from apachee that can do this thing in a nice manner)</p>\n"},{"tags":["java","mongodb","mongo-java-driver"],"answers":[{"tags":[],"owner":{"account_id":2824708,"reputation":199,"user_id":2427589,"display_name":"Dilyano Senders"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1551252897,"creation_date":1551076822,"answer_id":54860746,"question_id":54860650,"body_markdown":"For the find command to execute, you need to authenticate with mongo first.\r\nAn example of how you may be doing authentication:\r\n\r\n\tMongo mongo = new Mongo(&quot;localhost&quot;, 27017);\r\n\tDB db = mongo.getDB(&quot;testdb&quot;);\r\n\t\t\t\r\n\tboolean auth = db.authenticate(&quot;testdb&quot;, &quot;password&quot;.toCharArray());\r\n\tif (auth) {\r\n\t\t\t\r\n\t\tDBCollection table = db.getCollection(&quot;user&quot;);\r\n\r\n\t\tBasicDBObject document = new BasicDBObject();\r\n\t\tdocument.put(&quot;name&quot;, &quot;mkyong&quot;);\r\n\t\ttable.insert(document);\r\n\t\r\n\t\tSystem.out.println(&quot;Login is successful!&quot;);\r\n\t} else {\r\n\t\tSystem.out.println(&quot;Login is failed!&quot;);\r\n\t}\r\n\r\nThis should work fine for you. \r\n\r\nYou can check the example code in this article: https://www.mkyong.com/mongodb/java-authentication-access-to-mongodb/\r\n\r\nWhen using the mongo-java-driver the following would be appropriate:\r\n- note this is not using the deprecated method anymore, but setting the writeconcern to Journaled (which is recommended)\r\n\r\n    \r\n\r\n    String username = &quot;test&quot;;\r\n    String database = &quot;something&quot;;\r\n    String password = &quot;secret&quot;;\r\n\r\n    MongoCredential mongoCredential = MongoCredential.createCredential(username, database, password.toCharArray());\r\n    MongoClientOptions options = MongoClientOptions.builder()\r\n    .writeConcern(WriteConcern.JOURNALED).build();\r\n    \r\n    MongoClient mongoClient = new MongoClient(new ServerAddress(&quot;host1&quot;, 27017), Arrays.asList(mongoCredential), options);\r\n\r\n\r\n\r\n \r\n","title":"JAVA com.mongodb.MongoQueryException: Query failed with error code 13 and error message &#39;command find requires authentication&#39;","body":"<p>For the find command to execute, you need to authenticate with mongo first.\nAn example of how you may be doing authentication:</p>\n\n<pre><code>Mongo mongo = new Mongo(\"localhost\", 27017);\nDB db = mongo.getDB(\"testdb\");\n\nboolean auth = db.authenticate(\"testdb\", \"password\".toCharArray());\nif (auth) {\n\n    DBCollection table = db.getCollection(\"user\");\n\n    BasicDBObject document = new BasicDBObject();\n    document.put(\"name\", \"mkyong\");\n    table.insert(document);\n\n    System.out.println(\"Login is successful!\");\n} else {\n    System.out.println(\"Login is failed!\");\n}\n</code></pre>\n\n<p>This should work fine for you. </p>\n\n<p>You can check the example code in this article: <a href=\"https://www.mkyong.com/mongodb/java-authentication-access-to-mongodb/\" rel=\"nofollow noreferrer\">https://www.mkyong.com/mongodb/java-authentication-access-to-mongodb/</a></p>\n\n<p>When using the mongo-java-driver the following would be appropriate:\n- note this is not using the deprecated method anymore, but setting the writeconcern to Journaled (which is recommended)</p>\n\n<pre><code>String username = \"test\";\nString database = \"something\";\nString password = \"secret\";\n\nMongoCredential mongoCredential = MongoCredential.createCredential(username, database, password.toCharArray());\nMongoClientOptions options = MongoClientOptions.builder()\n.writeConcern(WriteConcern.JOURNALED).build();\n\nMongoClient mongoClient = new MongoClient(new ServerAddress(\"host1\", 27017), Arrays.asList(mongoCredential), options);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4900086,"reputation":3091,"user_id":3948697,"accept_rate":67,"display_name":"Atul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684741098,"creation_date":1684741098,"answer_id":76303938,"question_id":54860650,"body_markdown":"If you are using **MongoDB Atlas**, then you have to give access to the DB for the given Role of a db user.\r\n\r\nThe issue is mainly because of the permissions not given to the user to access it.","title":"JAVA com.mongodb.MongoQueryException: Query failed with error code 13 and error message &#39;command find requires authentication&#39;","body":"<p>If you are using <strong>MongoDB Atlas</strong>, then you have to give access to the DB for the given Role of a db user.</p>\n<p>The issue is mainly because of the permissions not given to the user to access it.</p>\n"}],"owner":{"account_id":12800258,"reputation":77,"user_id":9261801,"display_name":"Deepak Aggarwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13431,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684741098,"creation_date":1551076284,"question_id":54860650,"body_markdown":"&gt; com.mongodb.MongoQueryException: Query failed with error code 13 and\r\n&gt; error message &#39;command find requires authentication&#39;\r\n\r\nHow to create a mongo client using a password in java.\r\n\r\nI know there was method like this:\r\n\r\n    public MongoClient(final ServerAddress addr, final List&lt;MongoCredential&gt; credentialsList);\r\n\r\nBut it is shown as deprecated, there is another method which requires MongoClientOptions:\r\n\r\n    public MongoClient(final ServerAddress addr, final MongoCredential credential, final MongoClientOptions options)\r\n\r\nBut I do not have any options to send. So, is there any way I can create mongo client in java using a password?","title":"JAVA com.mongodb.MongoQueryException: Query failed with error code 13 and error message &#39;command find requires authentication&#39;","body":"<blockquote>\n  <p>com.mongodb.MongoQueryException: Query failed with error code 13 and\n  error message 'command find requires authentication'</p>\n</blockquote>\n\n<p>How to create a mongo client using a password in java.</p>\n\n<p>I know there was method like this:</p>\n\n<pre><code>public MongoClient(final ServerAddress addr, final List&lt;MongoCredential&gt; credentialsList);\n</code></pre>\n\n<p>But it is shown as deprecated, there is another method which requires MongoClientOptions:</p>\n\n<pre><code>public MongoClient(final ServerAddress addr, final MongoCredential credential, final MongoClientOptions options)\n</code></pre>\n\n<p>But I do not have any options to send. So, is there any way I can create mongo client in java using a password?</p>\n"},{"tags":["java","sockets"],"comments":[{"owner":{"account_id":20059,"reputation":80086,"user_id":47550,"accept_rate":89,"display_name":"Paul Sasik"},"score":0,"creation_date":1298733951,"post_id":5127687,"comment_id":5751847,"body_markdown":"Your question has more to do with management of internet protocols and communications settings rather than programming. It would be better asked at ServerFault.com. Btw, your problem is multi-layered. It&#39;s fairly easy to get going on a home or even company network but when you get into the wild you have to account for firewalls, DNS, ISPs (which often do not allow server traffic) etc. If you want to code at the socket level, you will definitely have to learn TCP/IP inside out. No escaping it.","body":"Your question has more to do with management of internet protocols and communications settings rather than programming. It would be better asked at ServerFault.com. Btw, your problem is multi-layered. It&#39;s fairly easy to get going on a home or even company network but when you get into the wild you have to account for firewalls, DNS, ISPs (which often do not allow server traffic) etc. If you want to code at the socket level, you will definitely have to learn TCP/IP inside out. No escaping it."},{"owner":{"account_id":85749,"reputation":43318,"user_id":238884,"accept_rate":60,"display_name":"Michael Lorton"},"score":1,"creation_date":1298769841,"post_id":5127687,"comment_id":5755753,"body_markdown":"Regarding the strategy discussed in your edit.  There&#39;s a dead-easy way to get started: [Google App Engine](http://code.google.com/appengine/).  You have to learned a tiny bit about servlets and a tiny bit about Google-specific data stores, but total work should be less than an hour.","body":"Regarding the strategy discussed in your edit.  There&#39;s a dead-easy way to get started: <a href=\"http://code.google.com/appengine/\" rel=\"nofollow noreferrer\">Google App Engine</a>.  You have to learned a tiny bit about servlets and a tiny bit about Google-specific data stores, but total work should be less than an hour."},{"owner":{"account_id":259097,"reputation":7157,"user_id":541729,"accept_rate":83,"display_name":"Kritz"},"score":0,"creation_date":1298796785,"post_id":5127687,"comment_id":5757683,"body_markdown":"@Malvolio. Thanks, that sounds like a great idea. Would it be much more difficult if I create my own server that does this than using the google app engine?","body":"@Malvolio. Thanks, that sounds like a great idea. Would it be much more difficult if I create my own server that does this than using the google app engine?"},{"owner":{"account_id":85749,"reputation":43318,"user_id":238884,"accept_rate":60,"display_name":"Michael Lorton"},"score":1,"creation_date":1298798006,"post_id":5127687,"comment_id":5757798,"body_markdown":"The issue is, you need to find a host.  You have to find somebody with a data center who will let you use a computer.  There are a lot of commercial outfits out there who will do it for money, there are even some other (partially) free ones, including [Amazon Web Services](http://aws.amazon.com/), you could even set up your own data center, with just a static IP and an unused Linux box.  GAE is just the easiest, about an hour&#39;s work.  On AWS&#39;s free-tier Beanstalk service, probably two hours.  Those are the only ones I&#39;ve tried myself this month, but the others would probably be comparable.","body":"The issue is, you need to find a host.  You have to find somebody with a data center who will let you use a computer.  There are a lot of commercial outfits out there who will do it for money, there are even some other (partially) free ones, including <a href=\"http://aws.amazon.com/\" rel=\"nofollow noreferrer\">Amazon Web Services</a>, you could even set up your own data center, with just a static IP and an unused Linux box.  GAE is just the easiest, about an hour&#39;s work.  On AWS&#39;s free-tier Beanstalk service, probably two hours.  Those are the only ones I&#39;ve tried myself this month, but the others would probably be comparable."}],"answers":[{"tags":[],"owner":{"account_id":153959,"reputation":17661,"user_id":369591,"accept_rate":88,"display_name":"Brandon Frohbieter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1298733598,"creation_date":1298733598,"answer_id":5127711,"question_id":5127687,"body_markdown":"No need to write networking code for this, unless it really floats your boat. Take a look at SCP. http://amath.colorado.edu/computing/software/man/scp.html. There is a windows implementation where you can download putty (windows ssh client), and it is on most linux distributions. Alternatively, you could set up an FTP or SSH server on one or both of the machines.\r\n\r\n&quot;a fixed name for my computer that I can use instead of entering the IP address&quot; would be a domain name, these are purchasable online for a few bucks.","title":"How do I send data between two computers over the internet","body":"<p>No need to write networking code for this, unless it really floats your boat. Take a look at SCP. <a href=\"http://amath.colorado.edu/computing/software/man/scp.html\" rel=\"nofollow\">http://amath.colorado.edu/computing/software/man/scp.html</a>. There is a windows implementation where you can download putty (windows ssh client), and it is on most linux distributions. Alternatively, you could set up an FTP or SSH server on one or both of the machines.</p>\n\n<p>\"a fixed name for my computer that I can use instead of entering the IP address\" would be a domain name, these are purchasable online for a few bucks.</p>\n"},{"tags":[],"owner":{"account_id":110651,"reputation":22074,"user_id":292712,"accept_rate":83,"display_name":"Jerome WAGNER"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1298733809,"creation_date":1298733809,"answer_id":5127729,"question_id":5127687,"body_markdown":"using a direct socket connection with a port like 3333 is usually complicated because different network configurations.\r\n\r\nfirewalls will make a pleasure preventing the connection, or killing it from time to time.\r\n\r\nmaintaining a 2-way connection can be a nighmare. the SIP protocol is struggling with this kind of problems.\r\n\r\nFor a simple application, i suggest you look into the [comet technology][1], where your clients can establish an http connection with a shared server. The server can then bridge commands between them.\r\n\r\nhtml5 will also bring the [websocket protocol][2] to the table.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Comet_%28programming%29\r\n  [2]: http://en.wikipedia.org/wiki/WebSockets","title":"How do I send data between two computers over the internet","body":"<p>using a direct socket connection with a port like 3333 is usually complicated because different network configurations.</p>\n\n<p>firewalls will make a pleasure preventing the connection, or killing it from time to time.</p>\n\n<p>maintaining a 2-way connection can be a nighmare. the SIP protocol is struggling with this kind of problems.</p>\n\n<p>For a simple application, i suggest you look into the <a href=\"http://en.wikipedia.org/wiki/Comet_%28programming%29\" rel=\"nofollow\">comet technology</a>, where your clients can establish an http connection with a shared server. The server can then bridge commands between them.</p>\n\n<p>html5 will also bring the <a href=\"http://en.wikipedia.org/wiki/WebSockets\" rel=\"nofollow\">websocket protocol</a> to the table.</p>\n"},{"tags":[],"owner":{"account_id":258256,"reputation":24473,"user_id":540312,"accept_rate":87,"display_name":"Sergei Tachenov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1298735929,"creation_date":1298734479,"answer_id":5127790,"question_id":5127687,"body_markdown":"&gt; I got the IP address by right-clicking\r\n&gt; on the connection, status, support.\r\n\r\nNot sure about the &quot;support&quot; part, and I&#39;m not on a Windows machine right now, but I think that the most easy and reliable way to figure out the IP address on Windows is to run &quot;ipconfig&quot; from the command line (Win+R, type &quot;cmd&quot;, then &quot;ipconfig&quot; in the opened window). This, of course, should be done on the server side.\r\n\r\nHowever, the problem is that depending on the ISP your IP address may be not within the Internet, but within a local ISP network (so-called NAT). In this case, you&#39;ll need to use some sort of black magic called [TCP hole punching][1], which is very complicated and not guaranteed to work. You can figure out if your address is local or not by looking at it. For IPv4 local addresses are almost always like 10.x.x.x or 172.16-31.x.x, or 192.168.x.x. Don&#39;t know about IPv6.\r\n\r\nYou can also check your IP by visiting one of the special sites like [www.whatismyip.com][2]. If the address they tell you is different from the one you see by running &quot;ipconfig&quot; or looking at the connection properties, then you&#39;re almost certainly behind a NAT (or your ISP is using a transparent proxy, but that&#39;s rare).\r\n\r\nIf you are directly connected to Internet (no local addresses and NAT), then you should also check if you have any firewall software and either to configure it to allow connections to the port you use, or make sure it&#39;s in &quot;ask the user&quot; (and not &quot;silently reject&quot;) mode, or just disable it completely (this may put your computer at risk, especially if there is no anti-virus software or the system isn&#39;t up-to-date).\r\n\r\n&gt; Also, is it possible to get a fixed\r\n&gt; name for my computer that I can use\r\n&gt; instead of entering the IP address, as\r\n&gt; this changes every time I connect to\r\n&gt; the internet using my mobile phone?\r\n\r\nYes, it&#39;s possible. There is the thing called DynDNS, and there are DynDNS providers like [DynDNS.com][3], where you can get a third-level domain name for free (like mycoolpc.dyndns.org). You&#39;ll have to install and configure some DynDNS client on your PC that will tell the DynDNS server its new IP each time each changed. I don&#39;t know anything about particular clients to use because I&#39;m using the one built-in in my home router.\r\n\r\n\r\n  [1]: http://www.brynosaurus.com/pub/net/p2pnat/\r\n  [2]: http://www.whatismyip.com/\r\n  [3]: http://www.dyndns.com/","title":"How do I send data between two computers over the internet","body":"<blockquote>\n  <p>I got the IP address by right-clicking\n  on the connection, status, support.</p>\n</blockquote>\n\n<p>Not sure about the \"support\" part, and I'm not on a Windows machine right now, but I think that the most easy and reliable way to figure out the IP address on Windows is to run \"ipconfig\" from the command line (Win+R, type \"cmd\", then \"ipconfig\" in the opened window). This, of course, should be done on the server side.</p>\n\n<p>However, the problem is that depending on the ISP your IP address may be not within the Internet, but within a local ISP network (so-called NAT). In this case, you'll need to use some sort of black magic called <a href=\"http://www.brynosaurus.com/pub/net/p2pnat/\" rel=\"nofollow\">TCP hole punching</a>, which is very complicated and not guaranteed to work. You can figure out if your address is local or not by looking at it. For IPv4 local addresses are almost always like 10.x.x.x or 172.16-31.x.x, or 192.168.x.x. Don't know about IPv6.</p>\n\n<p>You can also check your IP by visiting one of the special sites like <a href=\"http://www.whatismyip.com/\" rel=\"nofollow\">www.whatismyip.com</a>. If the address they tell you is different from the one you see by running \"ipconfig\" or looking at the connection properties, then you're almost certainly behind a NAT (or your ISP is using a transparent proxy, but that's rare).</p>\n\n<p>If you are directly connected to Internet (no local addresses and NAT), then you should also check if you have any firewall software and either to configure it to allow connections to the port you use, or make sure it's in \"ask the user\" (and not \"silently reject\") mode, or just disable it completely (this may put your computer at risk, especially if there is no anti-virus software or the system isn't up-to-date).</p>\n\n<blockquote>\n  <p>Also, is it possible to get a fixed\n  name for my computer that I can use\n  instead of entering the IP address, as\n  this changes every time I connect to\n  the internet using my mobile phone?</p>\n</blockquote>\n\n<p>Yes, it's possible. There is the thing called DynDNS, and there are DynDNS providers like <a href=\"http://www.dyndns.com/\" rel=\"nofollow\">DynDNS.com</a>, where you can get a third-level domain name for free (like mycoolpc.dyndns.org). You'll have to install and configure some DynDNS client on your PC that will tell the DynDNS server its new IP each time each changed. I don't know anything about particular clients to use because I'm using the one built-in in my home router.</p>\n"},{"tags":[],"owner":{"account_id":85749,"reputation":43318,"user_id":238884,"accept_rate":60,"display_name":"Michael Lorton"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1684740955,"creation_date":1298734647,"answer_id":5127804,"question_id":5127687,"body_markdown":"When you connected to the server that serves StackOverflow, did you type in the IP address?  It&#39;s 64.34.119.12, if that jogs your memory.\r\n\r\nYou probably didn&#39;t.  You probably typed &quot;stackoverflow.com&quot;.  There&#39;s a huge, complex, clever, and [in some ways][1], poorly implemented system called [DNS][2] that translates sensible and human-readable names into IP addresses.\r\n\r\nOne problem with DNS, though, is you need a &quot;static IP&quot;, which is exactly what it sounds like: an IP address that doesn&#39;t change, which is exactly what you don&#39;t have.\r\n\r\nSo, what can you do?\r\n\r\n 1. You can buy a static IP account from your ISP (pretty expensive)\r\n 2. You can use some proxy out in the Internet (a machine that *does* have a static IP and is willing to bounce your packets back and forth -- I&#39;m not aware of any service\\* that does this for you; you could write one and put it up on Amazon Web Services or Google App Engine, both of which would be free at your level of usage, but they&#39;d be slow, since every packet trying to cross your living room would have have to go via some data-center in Virginia).\r\n 3. You can keep doing what you&#39;re doing, looking in the net-configuration of your machine.\r\n 4. You could speed (3) up a little by having your server program look up its own IP address and print it out where you could see it and type it into the server by hand.\r\n 5. You can use DynDNS, as Sergey mentioned (this is the &quot;right&quot; solution, in that it&#39;s very general, it just might be a little complicated to set up)\r\n 6. You can use [multi-casting][3].\r\n\r\nMulti-casting is an interesting solution, and it may work for you.  The idea is, when your server starts up, it announces to the net, &quot;Here I am, I&#39;m providing X server, here&#39;s my IP address, talk to me.&quot;  The problem is, a multi-cast won&#39;t leave your living room.  Obviously, if every multi-cast were spread to every computer on the Internet, the whole thing would collapse, so your router will ignore, and not route, multi-cast packets.  That may or may not be a deal-breaker for you.  **EDIT** Re-reading your question, I see it *is* a deal-breaker for you.  I&#39;d go with #5, but be aware there may be routing issues (address translations that prevent a server from knowing the address that other computers can find it at) or fire-wall issues (that is, your ISP may prevent your server from receiving incoming packets even if the address is correct).\r\n\r\n\r\n  [1]: http://www.h-online.com/security/news/item/Massive-DNS-security-problem-endangers-the-internet-736419.html\r\n  [2]: http://en.wikipedia.org/wiki/Domain_Name_System\r\n  [3]: http://en.wikipedia.org/wiki/IP_multicast\r\n\r\n\\* in the dozen odd years since I wrote this reply, several such services have arisen, including Ngrok, Localtunnel, Serveo, Teleconsole, and Pagekite.","title":"How do I send data between two computers over the internet","body":"<p>When you connected to the server that serves StackOverflow, did you type in the IP address?  It's 64.34.119.12, if that jogs your memory.</p>\n<p>You probably didn't.  You probably typed &quot;stackoverflow.com&quot;.  There's a huge, complex, clever, and <a href=\"http://www.h-online.com/security/news/item/Massive-DNS-security-problem-endangers-the-internet-736419.html\" rel=\"nofollow noreferrer\">in some ways</a>, poorly implemented system called <a href=\"http://en.wikipedia.org/wiki/Domain_Name_System\" rel=\"nofollow noreferrer\">DNS</a> that translates sensible and human-readable names into IP addresses.</p>\n<p>One problem with DNS, though, is you need a &quot;static IP&quot;, which is exactly what it sounds like: an IP address that doesn't change, which is exactly what you don't have.</p>\n<p>So, what can you do?</p>\n<ol>\n<li>You can buy a static IP account from your ISP (pretty expensive)</li>\n<li>You can use some proxy out in the Internet (a machine that <em>does</em> have a static IP and is willing to bounce your packets back and forth -- I'm not aware of any service* that does this for you; you could write one and put it up on Amazon Web Services or Google App Engine, both of which would be free at your level of usage, but they'd be slow, since every packet trying to cross your living room would have have to go via some data-center in Virginia).</li>\n<li>You can keep doing what you're doing, looking in the net-configuration of your machine.</li>\n<li>You could speed (3) up a little by having your server program look up its own IP address and print it out where you could see it and type it into the server by hand.</li>\n<li>You can use DynDNS, as Sergey mentioned (this is the &quot;right&quot; solution, in that it's very general, it just might be a little complicated to set up)</li>\n<li>You can use <a href=\"http://en.wikipedia.org/wiki/IP_multicast\" rel=\"nofollow noreferrer\">multi-casting</a>.</li>\n</ol>\n<p>Multi-casting is an interesting solution, and it may work for you.  The idea is, when your server starts up, it announces to the net, &quot;Here I am, I'm providing X server, here's my IP address, talk to me.&quot;  The problem is, a multi-cast won't leave your living room.  Obviously, if every multi-cast were spread to every computer on the Internet, the whole thing would collapse, so your router will ignore, and not route, multi-cast packets.  That may or may not be a deal-breaker for you.  <strong>EDIT</strong> Re-reading your question, I see it <em>is</em> a deal-breaker for you.  I'd go with #5, but be aware there may be routing issues (address translations that prevent a server from knowing the address that other computers can find it at) or fire-wall issues (that is, your ISP may prevent your server from receiving incoming packets even if the address is correct).</p>\n<p>* in the dozen odd years since I wrote this reply, several such services have arisen, including Ngrok, Localtunnel, Serveo, Teleconsole, and Pagekite.</p>\n"}],"owner":{"account_id":259097,"reputation":7157,"user_id":541729,"accept_rate":83,"display_name":"Kritz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30026,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":5127804,"answer_count":4,"score":10,"last_activity_date":1684740955,"creation_date":1298733260,"question_id":5127687,"body_markdown":"I have been struggling with this for the entire day now, I hope somebody can help me with this.\r\n\r\nMy problem is fairly simple: I wish to transfer data (mostly simple commands) from one PC to another over the internet. \r\n\r\nI have been able to achieve this using sockets in Java when both computers are connected to my home router. I then connected both computers to the internet using two different mobile phones and attempted to transmit the data again. I used the mobile phones as this provides a direct route to the internet and if I use my router I have to set up port forwarding, at least, that is how I understand it.\r\n\r\nI think the problem lies in the method that I set up the client socket. I used: \r\n\r\n    Socket kkSocket = new Socket(ipAddress, 3333);\r\n\r\nwhere ipAddress is the IP address of the computer running the server. I got the IP address by right-clicking on the connection, status, support. Is that the correct IP address to use or where can I obtain the address of the server? Also, is it possible to get a fixed name for my computer that I can use instead of entering the IP address, as this changes every time I connect to the internet using my mobile phone?\r\n\r\nAlternatively, are there better methods to solving my problem such as using http, and if so, where can I find more information about this?\r\n\r\n**EDIT:**\r\nWould it be possible to have the server program running on a server on the internet somewhere. My original server would then be a client that send information to this server. This server would then pass this information to my original client and vice versa. That way, the IP address of my computer won&#39;t matter, as I only need to know the address of the server hosted somewhere on the web. Does this seem like a better solution? Where do I begin implementing such a solution? \r\n\r\nThanks!\r\n\r\n","title":"How do I send data between two computers over the internet","body":"<p>I have been struggling with this for the entire day now, I hope somebody can help me with this.</p>\n\n<p>My problem is fairly simple: I wish to transfer data (mostly simple commands) from one PC to another over the internet. </p>\n\n<p>I have been able to achieve this using sockets in Java when both computers are connected to my home router. I then connected both computers to the internet using two different mobile phones and attempted to transmit the data again. I used the mobile phones as this provides a direct route to the internet and if I use my router I have to set up port forwarding, at least, that is how I understand it.</p>\n\n<p>I think the problem lies in the method that I set up the client socket. I used: </p>\n\n<pre><code>Socket kkSocket = new Socket(ipAddress, 3333);\n</code></pre>\n\n<p>where ipAddress is the IP address of the computer running the server. I got the IP address by right-clicking on the connection, status, support. Is that the correct IP address to use or where can I obtain the address of the server? Also, is it possible to get a fixed name for my computer that I can use instead of entering the IP address, as this changes every time I connect to the internet using my mobile phone?</p>\n\n<p>Alternatively, are there better methods to solving my problem such as using http, and if so, where can I find more information about this?</p>\n\n<p><strong>EDIT:</strong>\nWould it be possible to have the server program running on a server on the internet somewhere. My original server would then be a client that send information to this server. This server would then pass this information to my original client and vice versa. That way, the IP address of my computer won't matter, as I only need to know the address of the server hosted somewhere on the web. Does this seem like a better solution? Where do I begin implementing such a solution? </p>\n\n<p>Thanks!</p>\n"},{"tags":["java","logging","log4j2","spring-logback","spring-boot-2"],"comments":[{"owner":{"account_id":2892776,"reputation":3221,"user_id":2481153,"display_name":"HungNM2"},"score":0,"creation_date":1624774728,"post_id":61620495,"comment_id":120445855,"body_markdown":"the same question:  https://stackoverflow.com/questions/24652128/how-to-modify-log4j-jsonlayout-field-names/68148523#68148523","body":"the same question:  <a href=\"https://stackoverflow.com/questions/24652128/how-to-modify-log4j-jsonlayout-field-names/68148523#68148523\" title=\"how to modify log4j jsonlayout field names\">stackoverflow.com/questions/24652128/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":16580238,"reputation":263,"user_id":11981028,"display_name":"Han"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1588709883,"creation_date":1588709883,"answer_id":61622284,"question_id":61620495,"body_markdown":"If you want to log only `level` and `loggerName` than customize like below in your configuration file.\r\n```\r\n...\r\n&lt;PatternLayout&gt;\r\n    &lt;pattern&gt;{&quot;level&quot;:&quot;%p&quot;,&quot;loggerName&quot;:&quot;%c&quot;}&lt;/pattern&gt;\r\n&lt;/PatternLayout&gt;\r\n...\r\n```\r\n\r\nThe parameter are described at [here](https://logging.apache.org/log4j/2.x/manual/layouts.html). Find `Patterns` at `Pattern Layout`.","title":"How to customize or remove default attributes in Log4j2 - JSON Layout","body":"<p>If you want to log only <code>level</code> and <code>loggerName</code> than customize like below in your configuration file.</p>\n\n<pre><code>...\n&lt;PatternLayout&gt;\n    &lt;pattern&gt;{\"level\":\"%p\",\"loggerName\":\"%c\"}&lt;/pattern&gt;\n&lt;/PatternLayout&gt;\n...\n</code></pre>\n\n<p>The parameter are described at <a href=\"https://logging.apache.org/log4j/2.x/manual/layouts.html\" rel=\"nofollow noreferrer\">here</a>. Find <code>Patterns</code> at <code>Pattern Layout</code>.</p>\n"},{"tags":[],"owner":{"account_id":15375039,"reputation":508,"user_id":11092008,"display_name":"Shapur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684740744,"creation_date":1684740028,"answer_id":76303815,"question_id":61620495,"body_markdown":"For this purpose, I slightly changed the `JSONLayout` class and created the new `JSONLayoutV2` class. \r\nYou can use the `JSONLayoutV2` class to customize these attributes until the `JSONLayout` class is modified.\r\n\r\n\r\n    &lt;JSONLayoutV2 objectMessageAsJsonObject=&quot;true&quot; thread=&quot;true&quot; threadId=&quot;true&quot; eventEol=&quot;true&quot; complete=&quot;true&quot; compact=&quot;false&quot;  properties=&quot;true&quot; /&gt;\r\n\r\n`JSONLayoutV2` class:\r\n\r\n    package org.apache.logging.log4j.core.layout;\r\n    \r\n    import com.fasterxml.jackson.databind.ObjectWriter;\r\n    import com.fasterxml.jackson.databind.ser.impl.SimpleBeanPropertyFilter;\r\n    import com.fasterxml.jackson.databind.ser.impl.SimpleFilterProvider;\r\n    import org.apache.logging.log4j.core.LogEvent;\r\n    import org.apache.logging.log4j.core.config.Configuration;\r\n    import org.apache.logging.log4j.core.config.DefaultConfiguration;\r\n    import org.apache.logging.log4j.core.config.plugins.Plugin;\r\n    import org.apache.logging.log4j.core.config.plugins.PluginBuilderAttribute;\r\n    import org.apache.logging.log4j.core.config.plugins.PluginBuilderFactory;\r\n    import org.apache.logging.log4j.core.config.plugins.PluginElement;\r\n    import org.apache.logging.log4j.core.impl.Log4jLogEvent;\r\n    import org.apache.logging.log4j.core.util.KeyValuePair;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.Writer;\r\n    import java.nio.charset.Charset;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.util.HashMap;\r\n    import java.util.HashSet;\r\n    import java.util.Map;\r\n    import java.util.Set;\r\n    \r\n    \r\n    @Plugin(\r\n            name = &quot;JsonLayoutV2&quot;,\r\n            category = &quot;Core&quot;,\r\n            elementType = &quot;layout&quot;,\r\n            printObject = true\r\n    )\r\n    public final class JsonLayoutV2 extends AbstractJacksonLayout {\r\n        private static final String DEFAULT_FOOTER = &quot;]&quot;;\r\n        private static final String DEFAULT_HEADER = &quot;[&quot;;\r\n        static final String CONTENT_TYPE = &quot;application/json&quot;;\r\n    \r\n        /** @deprecated */\r\n        @Deprecated\r\n        protected JsonLayoutV2(final Configuration config, final boolean locationInfo, final boolean properties, final boolean encodeThreadContextAsList, final boolean complete, final boolean compact, final boolean eventEol, final String endOfLine, final String headerPattern, final String footerPattern, final Charset charset, final boolean includeStacktrace) {\r\n            super(config, (new JacksonFactory.JSON(encodeThreadContextAsList, includeStacktrace, false, false)).newWriter(locationInfo, properties, compact), charset, compact, complete, eventEol, endOfLine, PatternLayout.newSerializerBuilder().setConfiguration(config).setPattern(headerPattern).setDefaultPattern(&quot;[&quot;).build(), PatternLayout.newSerializerBuilder().setConfiguration(config).setPattern(footerPattern).setDefaultPattern(&quot;]&quot;).build(), false, (KeyValuePair[])null);\r\n        }\r\n    \r\n        private JsonLayoutV2(final Configuration config, final boolean locationInfo, final boolean properties, final boolean encodeThreadContextAsList, final boolean complete, final boolean compact, final boolean eventEol, final String endOfLine, final String headerPattern, final String footerPattern, final Charset charset, final boolean includeStacktrace, final boolean stacktraceAsString, final boolean includeNullDelimiter, final boolean includeTimeMillis, final KeyValuePair[] additionalFields, final boolean objectMessageAsJsonObject,\r\n                             final boolean instant, final boolean loggerFqcn, final boolean endOfBatch, final boolean loggerName, final boolean thread, final boolean threadId, final boolean threadPriority) {\r\n    //        super(config, (new JacksonFactory.JSON(encodeThreadContextAsList, includeStacktrace, stacktraceAsString, objectMessageAsJsonObject)).newWriter(locationInfo, properties, compact, includeTimeMillis), charset, compact, complete, eventEol, endOfLine, PatternLayout.newSerializerBuilder().setConfiguration(config).setPattern(headerPattern).setDefaultPattern(&quot;[&quot;).build(), PatternLayout.newSerializerBuilder().setConfiguration(config).setPattern(footerPattern).setDefaultPattern(&quot;]&quot;).build(), includeNullDelimiter, additionalFields);\r\n            super(config, newWriter((new JacksonFactory.JSON(encodeThreadContextAsList, includeStacktrace, stacktraceAsString, objectMessageAsJsonObject)), locationInfo, properties, compact, includeTimeMillis,\r\n                    instant,  loggerFqcn,  endOfBatch,  loggerName,  thread,  threadId,  threadPriority), charset, compact, complete, eventEol, endOfLine, PatternLayout.newSerializerBuilder().setConfiguration(config).setPattern(headerPattern).setDefaultPattern(&quot;[&quot;).build(), PatternLayout.newSerializerBuilder().setConfiguration(config).setPattern(footerPattern).setDefaultPattern(&quot;]&quot;).build(), includeNullDelimiter, additionalFields);\r\n        }\r\n    \r\n        static ObjectWriter newWriter(JacksonFactory.JSON jacksonFactory, final boolean locationInfo, final boolean properties, final boolean compact, final boolean includeMillis,\r\n                                      final boolean instant, final boolean loggerFqcn, final boolean endOfBatch, final boolean loggerName, final boolean thread, final boolean threadId, final boolean threadPriority) {\r\n            SimpleFilterProvider filters = new SimpleFilterProvider();\r\n            Set&lt;String&gt; except = new HashSet(3);\r\n            if (!locationInfo) {\r\n                except.add(jacksonFactory.getPropertNameForSource());\r\n            }\r\n    \r\n            if (!properties) {\r\n                except.add(jacksonFactory.getPropertNameForContextMap());\r\n            }\r\n    \r\n            if (includeMillis) {\r\n                except.add(jacksonFactory.getPropertyNameForInstant());\r\n            } else {\r\n                except.add(jacksonFactory.getPropertyNameForTimeMillis());\r\n            }\r\n    \r\n            if (!instant)           except.add(&quot;instant&quot;);\r\n            if (!loggerFqcn)        except.add(&quot;loggerFqcn&quot;);\r\n            if (!endOfBatch)        except.add(&quot;endOfBatch&quot;);\r\n            if (!loggerName)        except.add(&quot;loggerName&quot;);\r\n            if (!thread)            except.add(&quot;thread&quot;);\r\n            if (!threadId)          except.add(&quot;threadId&quot;);\r\n            if (!threadPriority)    except.add(&quot;threadPriority&quot;);\r\n    \r\n            except.add(jacksonFactory.getPropertNameForNanoTime());\r\n            filters.addFilter(Log4jLogEvent.class.getName(), SimpleBeanPropertyFilter.serializeAllExcept(except));\r\n            ObjectWriter writer = jacksonFactory.newObjectMapper().writer(compact ? jacksonFactory.newCompactPrinter() : jacksonFactory.newPrettyPrinter());\r\n            return writer.with(filters);\r\n        }\r\n    \r\n        public byte[] getHeader() {\r\n            if (!this.complete) {\r\n                return null;\r\n            } else {\r\n                StringBuilder buf = new StringBuilder();\r\n                String str = this.serializeToString(this.getHeaderSerializer());\r\n                if (str != null) {\r\n                    buf.append(str);\r\n                }\r\n    \r\n                buf.append(this.eol);\r\n                return this.getBytes(buf.toString());\r\n            }\r\n        }\r\n    \r\n        public byte[] getFooter() {\r\n            if (!this.complete) {\r\n                return null;\r\n            } else {\r\n                StringBuilder buf = new StringBuilder();\r\n                buf.append(this.eol);\r\n                String str = this.serializeToString(this.getFooterSerializer());\r\n                if (str != null) {\r\n                    buf.append(str);\r\n                }\r\n    \r\n                buf.append(this.eol);\r\n                return this.getBytes(buf.toString());\r\n            }\r\n        }\r\n    \r\n        public Map&lt;String, String&gt; getContentFormat() {\r\n            Map&lt;String, String&gt; result = new HashMap();\r\n            result.put(&quot;version&quot;, &quot;2.0&quot;);\r\n            return result;\r\n        }\r\n    \r\n        public String getContentType() {\r\n            return &quot;application/json; charset=&quot; + this.getCharset();\r\n        }\r\n    \r\n        /** @deprecated */\r\n    //    @Deprecated\r\n    //    public static JsonLayoutV2 createLayout(final Configuration config, final boolean locationInfo, final boolean properties, final boolean propertiesAsList, final boolean complete, final boolean compact, final boolean eventEol, final String headerPattern, final String footerPattern, final Charset charset, final boolean includeStacktrace) {\r\n    //        boolean encodeThreadContextAsList = properties &amp;&amp; propertiesAsList;\r\n    //        return new JsonLayoutV2(config, locationInfo, properties, encodeThreadContextAsList, complete, compact, eventEol, (String)null, headerPattern, footerPattern, charset, includeStacktrace, false, false, false, (KeyValuePair[])null, false);\r\n    //    }\r\n    \r\n        @PluginBuilderFactory\r\n        public static &lt;B extends Builder&lt;B&gt;&gt; B newBuilder() {\r\n            return (B) new Builder();\r\n        }\r\n    \r\n        public static JsonLayoutV2 createDefaultLayout() {\r\n            return new JsonLayoutV2(new DefaultConfiguration(), false, false, false, false, false, false, (String)null, &quot;[&quot;, &quot;]&quot;, StandardCharsets.UTF_8, true, false, false, false, (KeyValuePair[])null, false,\r\n                    false,false,false,false,false,false,false);\r\n        }\r\n    \r\n        public void toSerializable(final LogEvent event, final Writer writer) throws IOException {\r\n            if (this.complete &amp;&amp; this.eventCount &gt; 0L) {\r\n                writer.append(&quot;, &quot;);\r\n            }\r\n    \r\n            super.toSerializable(event, writer);\r\n        }\r\n    \r\n        public static class Builder&lt;B extends Builder&lt;B&gt;&gt; extends AbstractJacksonLayout.Builder&lt;B&gt; implements org.apache.logging.log4j.core.util.Builder&lt;JsonLayoutV2&gt; {\r\n            @PluginBuilderAttribute\r\n            private boolean propertiesAsList;\r\n            @PluginBuilderAttribute\r\n            private boolean objectMessageAsJsonObject;\r\n            @PluginElement(&quot;AdditionalField&quot;)\r\n            private KeyValuePair[] additionalFields;\r\n    \r\n            @PluginBuilderAttribute\r\n            private boolean instant;\r\n    \r\n            @PluginBuilderAttribute\r\n            private boolean loggerFqcn;\r\n    \r\n            @PluginBuilderAttribute\r\n            private boolean endOfBatch;\r\n    \r\n            @PluginBuilderAttribute\r\n            private boolean loggerName;\r\n    \r\n            @PluginBuilderAttribute\r\n            private boolean thread;\r\n    \r\n            @PluginBuilderAttribute\r\n            private boolean threadId;\r\n    \r\n            @PluginBuilderAttribute\r\n            private boolean threadPriority;\r\n    \r\n            public Builder() {\r\n                this.setCharset(StandardCharsets.UTF_8);\r\n            }\r\n    \r\n            public JsonLayoutV2 build() {\r\n                boolean encodeThreadContextAsList = this.isProperties() &amp;&amp; this.propertiesAsList;\r\n                String headerPattern = this.toStringOrNull(this.getHeader());\r\n                String footerPattern = this.toStringOrNull(this.getFooter());\r\n                return new JsonLayoutV2(this.getConfiguration(), this.isLocationInfo(), this.isProperties(), encodeThreadContextAsList, this.isComplete(), this.isCompact(), this.getEventEol(), this.getEndOfLine(), headerPattern, footerPattern, this.getCharset(), this.isIncludeStacktrace(), this.isStacktraceAsString(), this.isIncludeNullDelimiter(), this.isIncludeTimeMillis(), this.getAdditionalFields(), this.getObjectMessageAsJsonObject(),\r\n                        instant, loggerFqcn, endOfBatch, loggerName, thread, threadId, threadPriority);\r\n            }\r\n    \r\n            public boolean isPropertiesAsList() {\r\n                return this.propertiesAsList;\r\n            }\r\n    \r\n            public B setPropertiesAsList(final boolean propertiesAsList) {\r\n                this.propertiesAsList = propertiesAsList;\r\n                return this.asBuilder();\r\n            }\r\n    \r\n            public boolean getObjectMessageAsJsonObject() {\r\n                return this.objectMessageAsJsonObject;\r\n            }\r\n    \r\n            public B setObjectMessageAsJsonObject(final boolean objectMessageAsJsonObject) {\r\n                this.objectMessageAsJsonObject = objectMessageAsJsonObject;\r\n                return this.asBuilder();\r\n            }\r\n    \r\n            public KeyValuePair[] getAdditionalFields() {\r\n                return this.additionalFields;\r\n            }\r\n    \r\n            public B setAdditionalFields(final KeyValuePair[] additionalFields) {\r\n                this.additionalFields = additionalFields;\r\n                return this.asBuilder();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How to customize or remove default attributes in Log4j2 - JSON Layout","body":"<p>For this purpose, I slightly changed the <code>JSONLayout</code> class and created the new <code>JSONLayoutV2</code> class.\nYou can use the <code>JSONLayoutV2</code> class to customize these attributes until the <code>JSONLayout</code> class is modified.</p>\n<pre><code>&lt;JSONLayoutV2 objectMessageAsJsonObject=&quot;true&quot; thread=&quot;true&quot; threadId=&quot;true&quot; eventEol=&quot;true&quot; complete=&quot;true&quot; compact=&quot;false&quot;  properties=&quot;true&quot; /&gt;\n</code></pre>\n<p><code>JSONLayoutV2</code> class:</p>\n<pre><code>package org.apache.logging.log4j.core.layout;\n\nimport com.fasterxml.jackson.databind.ObjectWriter;\nimport com.fasterxml.jackson.databind.ser.impl.SimpleBeanPropertyFilter;\nimport com.fasterxml.jackson.databind.ser.impl.SimpleFilterProvider;\nimport org.apache.logging.log4j.core.LogEvent;\nimport org.apache.logging.log4j.core.config.Configuration;\nimport org.apache.logging.log4j.core.config.DefaultConfiguration;\nimport org.apache.logging.log4j.core.config.plugins.Plugin;\nimport org.apache.logging.log4j.core.config.plugins.PluginBuilderAttribute;\nimport org.apache.logging.log4j.core.config.plugins.PluginBuilderFactory;\nimport org.apache.logging.log4j.core.config.plugins.PluginElement;\nimport org.apache.logging.log4j.core.impl.Log4jLogEvent;\nimport org.apache.logging.log4j.core.util.KeyValuePair;\n\nimport java.io.IOException;\nimport java.io.Writer;\nimport java.nio.charset.Charset;\nimport java.nio.charset.StandardCharsets;\nimport java.util.HashMap;\nimport java.util.HashSet;\nimport java.util.Map;\nimport java.util.Set;\n\n\n@Plugin(\n        name = &quot;JsonLayoutV2&quot;,\n        category = &quot;Core&quot;,\n        elementType = &quot;layout&quot;,\n        printObject = true\n)\npublic final class JsonLayoutV2 extends AbstractJacksonLayout {\n    private static final String DEFAULT_FOOTER = &quot;]&quot;;\n    private static final String DEFAULT_HEADER = &quot;[&quot;;\n    static final String CONTENT_TYPE = &quot;application/json&quot;;\n\n    /** @deprecated */\n    @Deprecated\n    protected JsonLayoutV2(final Configuration config, final boolean locationInfo, final boolean properties, final boolean encodeThreadContextAsList, final boolean complete, final boolean compact, final boolean eventEol, final String endOfLine, final String headerPattern, final String footerPattern, final Charset charset, final boolean includeStacktrace) {\n        super(config, (new JacksonFactory.JSON(encodeThreadContextAsList, includeStacktrace, false, false)).newWriter(locationInfo, properties, compact), charset, compact, complete, eventEol, endOfLine, PatternLayout.newSerializerBuilder().setConfiguration(config).setPattern(headerPattern).setDefaultPattern(&quot;[&quot;).build(), PatternLayout.newSerializerBuilder().setConfiguration(config).setPattern(footerPattern).setDefaultPattern(&quot;]&quot;).build(), false, (KeyValuePair[])null);\n    }\n\n    private JsonLayoutV2(final Configuration config, final boolean locationInfo, final boolean properties, final boolean encodeThreadContextAsList, final boolean complete, final boolean compact, final boolean eventEol, final String endOfLine, final String headerPattern, final String footerPattern, final Charset charset, final boolean includeStacktrace, final boolean stacktraceAsString, final boolean includeNullDelimiter, final boolean includeTimeMillis, final KeyValuePair[] additionalFields, final boolean objectMessageAsJsonObject,\n                         final boolean instant, final boolean loggerFqcn, final boolean endOfBatch, final boolean loggerName, final boolean thread, final boolean threadId, final boolean threadPriority) {\n//        super(config, (new JacksonFactory.JSON(encodeThreadContextAsList, includeStacktrace, stacktraceAsString, objectMessageAsJsonObject)).newWriter(locationInfo, properties, compact, includeTimeMillis), charset, compact, complete, eventEol, endOfLine, PatternLayout.newSerializerBuilder().setConfiguration(config).setPattern(headerPattern).setDefaultPattern(&quot;[&quot;).build(), PatternLayout.newSerializerBuilder().setConfiguration(config).setPattern(footerPattern).setDefaultPattern(&quot;]&quot;).build(), includeNullDelimiter, additionalFields);\n        super(config, newWriter((new JacksonFactory.JSON(encodeThreadContextAsList, includeStacktrace, stacktraceAsString, objectMessageAsJsonObject)), locationInfo, properties, compact, includeTimeMillis,\n                instant,  loggerFqcn,  endOfBatch,  loggerName,  thread,  threadId,  threadPriority), charset, compact, complete, eventEol, endOfLine, PatternLayout.newSerializerBuilder().setConfiguration(config).setPattern(headerPattern).setDefaultPattern(&quot;[&quot;).build(), PatternLayout.newSerializerBuilder().setConfiguration(config).setPattern(footerPattern).setDefaultPattern(&quot;]&quot;).build(), includeNullDelimiter, additionalFields);\n    }\n\n    static ObjectWriter newWriter(JacksonFactory.JSON jacksonFactory, final boolean locationInfo, final boolean properties, final boolean compact, final boolean includeMillis,\n                                  final boolean instant, final boolean loggerFqcn, final boolean endOfBatch, final boolean loggerName, final boolean thread, final boolean threadId, final boolean threadPriority) {\n        SimpleFilterProvider filters = new SimpleFilterProvider();\n        Set&lt;String&gt; except = new HashSet(3);\n        if (!locationInfo) {\n            except.add(jacksonFactory.getPropertNameForSource());\n        }\n\n        if (!properties) {\n            except.add(jacksonFactory.getPropertNameForContextMap());\n        }\n\n        if (includeMillis) {\n            except.add(jacksonFactory.getPropertyNameForInstant());\n        } else {\n            except.add(jacksonFactory.getPropertyNameForTimeMillis());\n        }\n\n        if (!instant)           except.add(&quot;instant&quot;);\n        if (!loggerFqcn)        except.add(&quot;loggerFqcn&quot;);\n        if (!endOfBatch)        except.add(&quot;endOfBatch&quot;);\n        if (!loggerName)        except.add(&quot;loggerName&quot;);\n        if (!thread)            except.add(&quot;thread&quot;);\n        if (!threadId)          except.add(&quot;threadId&quot;);\n        if (!threadPriority)    except.add(&quot;threadPriority&quot;);\n\n        except.add(jacksonFactory.getPropertNameForNanoTime());\n        filters.addFilter(Log4jLogEvent.class.getName(), SimpleBeanPropertyFilter.serializeAllExcept(except));\n        ObjectWriter writer = jacksonFactory.newObjectMapper().writer(compact ? jacksonFactory.newCompactPrinter() : jacksonFactory.newPrettyPrinter());\n        return writer.with(filters);\n    }\n\n    public byte[] getHeader() {\n        if (!this.complete) {\n            return null;\n        } else {\n            StringBuilder buf = new StringBuilder();\n            String str = this.serializeToString(this.getHeaderSerializer());\n            if (str != null) {\n                buf.append(str);\n            }\n\n            buf.append(this.eol);\n            return this.getBytes(buf.toString());\n        }\n    }\n\n    public byte[] getFooter() {\n        if (!this.complete) {\n            return null;\n        } else {\n            StringBuilder buf = new StringBuilder();\n            buf.append(this.eol);\n            String str = this.serializeToString(this.getFooterSerializer());\n            if (str != null) {\n                buf.append(str);\n            }\n\n            buf.append(this.eol);\n            return this.getBytes(buf.toString());\n        }\n    }\n\n    public Map&lt;String, String&gt; getContentFormat() {\n        Map&lt;String, String&gt; result = new HashMap();\n        result.put(&quot;version&quot;, &quot;2.0&quot;);\n        return result;\n    }\n\n    public String getContentType() {\n        return &quot;application/json; charset=&quot; + this.getCharset();\n    }\n\n    /** @deprecated */\n//    @Deprecated\n//    public static JsonLayoutV2 createLayout(final Configuration config, final boolean locationInfo, final boolean properties, final boolean propertiesAsList, final boolean complete, final boolean compact, final boolean eventEol, final String headerPattern, final String footerPattern, final Charset charset, final boolean includeStacktrace) {\n//        boolean encodeThreadContextAsList = properties &amp;&amp; propertiesAsList;\n//        return new JsonLayoutV2(config, locationInfo, properties, encodeThreadContextAsList, complete, compact, eventEol, (String)null, headerPattern, footerPattern, charset, includeStacktrace, false, false, false, (KeyValuePair[])null, false);\n//    }\n\n    @PluginBuilderFactory\n    public static &lt;B extends Builder&lt;B&gt;&gt; B newBuilder() {\n        return (B) new Builder();\n    }\n\n    public static JsonLayoutV2 createDefaultLayout() {\n        return new JsonLayoutV2(new DefaultConfiguration(), false, false, false, false, false, false, (String)null, &quot;[&quot;, &quot;]&quot;, StandardCharsets.UTF_8, true, false, false, false, (KeyValuePair[])null, false,\n                false,false,false,false,false,false,false);\n    }\n\n    public void toSerializable(final LogEvent event, final Writer writer) throws IOException {\n        if (this.complete &amp;&amp; this.eventCount &gt; 0L) {\n            writer.append(&quot;, &quot;);\n        }\n\n        super.toSerializable(event, writer);\n    }\n\n    public static class Builder&lt;B extends Builder&lt;B&gt;&gt; extends AbstractJacksonLayout.Builder&lt;B&gt; implements org.apache.logging.log4j.core.util.Builder&lt;JsonLayoutV2&gt; {\n        @PluginBuilderAttribute\n        private boolean propertiesAsList;\n        @PluginBuilderAttribute\n        private boolean objectMessageAsJsonObject;\n        @PluginElement(&quot;AdditionalField&quot;)\n        private KeyValuePair[] additionalFields;\n\n        @PluginBuilderAttribute\n        private boolean instant;\n\n        @PluginBuilderAttribute\n        private boolean loggerFqcn;\n\n        @PluginBuilderAttribute\n        private boolean endOfBatch;\n\n        @PluginBuilderAttribute\n        private boolean loggerName;\n\n        @PluginBuilderAttribute\n        private boolean thread;\n\n        @PluginBuilderAttribute\n        private boolean threadId;\n\n        @PluginBuilderAttribute\n        private boolean threadPriority;\n\n        public Builder() {\n            this.setCharset(StandardCharsets.UTF_8);\n        }\n\n        public JsonLayoutV2 build() {\n            boolean encodeThreadContextAsList = this.isProperties() &amp;&amp; this.propertiesAsList;\n            String headerPattern = this.toStringOrNull(this.getHeader());\n            String footerPattern = this.toStringOrNull(this.getFooter());\n            return new JsonLayoutV2(this.getConfiguration(), this.isLocationInfo(), this.isProperties(), encodeThreadContextAsList, this.isComplete(), this.isCompact(), this.getEventEol(), this.getEndOfLine(), headerPattern, footerPattern, this.getCharset(), this.isIncludeStacktrace(), this.isStacktraceAsString(), this.isIncludeNullDelimiter(), this.isIncludeTimeMillis(), this.getAdditionalFields(), this.getObjectMessageAsJsonObject(),\n                    instant, loggerFqcn, endOfBatch, loggerName, thread, threadId, threadPriority);\n        }\n\n        public boolean isPropertiesAsList() {\n            return this.propertiesAsList;\n        }\n\n        public B setPropertiesAsList(final boolean propertiesAsList) {\n            this.propertiesAsList = propertiesAsList;\n            return this.asBuilder();\n        }\n\n        public boolean getObjectMessageAsJsonObject() {\n            return this.objectMessageAsJsonObject;\n        }\n\n        public B setObjectMessageAsJsonObject(final boolean objectMessageAsJsonObject) {\n            this.objectMessageAsJsonObject = objectMessageAsJsonObject;\n            return this.asBuilder();\n        }\n\n        public KeyValuePair[] getAdditionalFields() {\n            return this.additionalFields;\n        }\n\n        public B setAdditionalFields(final KeyValuePair[] additionalFields) {\n            this.additionalFields = additionalFields;\n            return this.asBuilder();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8146898,"reputation":453,"user_id":6135309,"display_name":"Ravikumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3000,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":61622284,"answer_count":2,"score":3,"last_activity_date":1684740744,"creation_date":1588703792,"question_id":61620495,"body_markdown":"In `Spring Boot 2` application I have configured `Log4j2` with `JsonLayout` like below\r\n\r\n```    \r\n    ....\r\n    \r\n    &lt;Appenders&gt;\r\n        &lt;Console name=&quot;ConsoleJSONAppender&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n            &lt;JsonLayout complete=&quot;false&quot; compact=&quot;false&quot;&gt;\r\n            &lt;/JsonLayout&gt;\r\n        &lt;/Console&gt;\r\n    &lt;/Appenders&gt; \r\n    &lt;Logger name=&quot;CONSOLE_JSON_APPENDER&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\r\n        &lt;AppenderRef ref=&quot;ConsoleJSONAppender&quot; /&gt;\r\n    &lt;/Logger&gt;\r\n    \r\n    .....\r\n```\r\n\r\nand I got output like below\r\n\r\n```\r\n    {\r\n            &quot;timeMillis&quot; : 1496306649058,\r\n            &quot;thread&quot; : &quot;main&quot;,\r\n            &quot;level&quot; : &quot;INFO&quot;,\r\n            &quot;loggerName&quot; : &quot;ConsoleJSONAppender&quot;,\r\n            &quot;message&quot; : &quot;Json Message&quot;,\r\n            &quot;endOfBatch&quot; : false,\r\n            &quot;loggerFqcn&quot; : &quot;org.apache.logging.log4j.spi.AbstractLogger&quot;,\r\n            &quot;threadId&quot; : 1,\r\n            &quot;threadPriority&quot; : 5\r\n    }\r\n    \r\n```\r\n\r\nOutput is fine but ***I don&#39;t want attributes like &quot;endofBatch&quot;, &quot;threadPriority&quot; and others*** but it is getting displayed in logs, ***how to avoid unwanted (default) attributes in `JsonLayout` based logs***.","title":"How to customize or remove default attributes in Log4j2 - JSON Layout","body":"<p>In <code>Spring Boot 2</code> application I have configured <code>Log4j2</code> with <code>JsonLayout</code> like below</p>\n\n<pre><code>    ....\n\n    &lt;Appenders&gt;\n        &lt;Console name=\"ConsoleJSONAppender\" target=\"SYSTEM_OUT\"&gt;\n            &lt;JsonLayout complete=\"false\" compact=\"false\"&gt;\n            &lt;/JsonLayout&gt;\n        &lt;/Console&gt;\n    &lt;/Appenders&gt; \n    &lt;Logger name=\"CONSOLE_JSON_APPENDER\" level=\"INFO\" additivity=\"false\"&gt;\n        &lt;AppenderRef ref=\"ConsoleJSONAppender\" /&gt;\n    &lt;/Logger&gt;\n\n    .....\n</code></pre>\n\n<p>and I got output like below</p>\n\n<pre><code>    {\n            \"timeMillis\" : 1496306649058,\n            \"thread\" : \"main\",\n            \"level\" : \"INFO\",\n            \"loggerName\" : \"ConsoleJSONAppender\",\n            \"message\" : \"Json Message\",\n            \"endOfBatch\" : false,\n            \"loggerFqcn\" : \"org.apache.logging.log4j.spi.AbstractLogger\",\n            \"threadId\" : 1,\n            \"threadPriority\" : 5\n    }\n\n</code></pre>\n\n<p>Output is fine but <strong><em>I don't want attributes like \"endofBatch\", \"threadPriority\" and others</em></strong> but it is getting displayed in logs, <strong><em>how to avoid unwanted (default) attributes in <code>JsonLayout</code> based logs</em></strong>.</p>\n"},{"tags":["java","encoding","utf-8","ascii","apache-tika"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":3,"creation_date":1684424768,"post_id":76282246,"comment_id":134518626,"body_markdown":"Encoding detection is not 100%. Also `ASCII` is a subset of `UTF8`, so there should not be any issues. Run tests to make sure things are fine. Encoding can be a headache. Everyone suggests reading [this](https://www.joelonsoftware.com/2003/10/08/the-absolute-minimum-every-software-developer-absolutely-positively-must-know-about-unicode-and-character-sets-no-excuses/). Good luck!","body":"Encoding detection is not 100%. Also <code>ASCII</code> is a subset of <code>UTF8</code>, so there should not be any issues. Run tests to make sure things are fine. Encoding can be a headache. Everyone suggests reading <a href=\"https://www.joelonsoftware.com/2003/10/08/the-absolute-minimum-every-software-developer-absolutely-positively-must-know-about-unicode-and-character-sets-no-excuses/\" rel=\"nofollow noreferrer\">this</a>. Good luck!"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":2,"creation_date":1684424957,"post_id":76282246,"comment_id":134518678,"body_markdown":"I don&#39;t think you have to worry about your machine encoding. I think you just need to know the file encoding. If you know that, read using the file encoding. You can write to whatever encoding you like, given you do the proper conversion. I would suggest you keep using `UTF8`.","body":"I don&#39;t think you have to worry about your machine encoding. I think you just need to know the file encoding. If you know that, read using the file encoding. You can write to whatever encoding you like, given you do the proper conversion. I would suggest you keep using <code>UTF8</code>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1684425701,"post_id":76282246,"comment_id":134518859,"body_markdown":"It&#39;s conceivably impossible to distinguish between UTF-8 and ASCII depending on the content (because there *might* be no difference/distinction)","body":"It&#39;s conceivably impossible to distinguish between UTF-8 and ASCII depending on the content (because there <i>might</i> be no difference/distinction)"},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1684426262,"post_id":76282246,"comment_id":134518993,"body_markdown":"The `detectEncoding(String filePath)` code you&#39;ve shown will never detect file encoding as `new InputStreamReader(bis)` uses the default charset and so `isr.getEncoding()` always equals `Charset.defaultCharset()` whatever file you read, it isn&#39;t autodetected from reading the file.","body":"The <code>detectEncoding(String filePath)</code> code you&#39;ve shown will never detect file encoding as <code>new InputStreamReader(bis)</code> uses the default charset and so <code>isr.getEncoding()</code> always equals <code>Charset.defaultCharset()</code> whatever file you read, it isn&#39;t autodetected from reading the file."},{"owner":{"account_id":24342544,"reputation":39,"user_id":18279733,"display_name":"anonimos"},"score":0,"creation_date":1684426357,"post_id":76282246,"comment_id":134519016,"body_markdown":"Problem is that in the file I have lines such as TR&#239;&#191;&#189;&#239;&#191;&#189; and on my local machine this symbol are replaced with ?? and it is important to be UTF because I create a signature based on the content of the file. The problem is that on my local machine I have a signature and on deployed machine I have another one because of ASCII encoding. When setting the encoding to UTF8 by passing as argument to the JVM than same signature is generated on both machines.","body":"Problem is that in the file I have lines such as TR&#239;&#191;&#189;&#239;&#191;&#189; and on my local machine this symbol are replaced with ?? and it is important to be UTF because I create a signature based on the content of the file. The problem is that on my local machine I have a signature and on deployed machine I have another one because of ASCII encoding. When setting the encoding to UTF8 by passing as argument to the JVM than same signature is generated on both machines."},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1684426602,"post_id":76282246,"comment_id":134519076,"body_markdown":"You need to be looking at code that writes the file as that is what is determing the file encoding, and then use the same charset for reads.","body":"You need to be looking at code that writes the file as that is what is determing the file encoding, and then use the same charset for reads."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1684427220,"post_id":76282246,"comment_id":134519189,"body_markdown":"*Problem is that in the file I have lines such as TR&#239;&#191;&#189;&#239;&#191;&#189;* That *already* looks like garbage... And you don&#39;t show us *how* you&#39;re generating the sig (the read op) so it&#39;s difficult to help","body":"<i>Problem is that in the file I have lines such as TR&#239;&#191;&#189;&#239;&#191;&#189;</i> That <i>already</i> looks like garbage... And you don&#39;t show us <i>how</i> you&#39;re generating the sig (the read op) so it&#39;s difficult to help"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1684438335,"post_id":76282246,"comment_id":134521509,"body_markdown":"Your problem is likely file *writing*, not file *reading*. Until recently, the character encoding for Java file writing defaulted to the default of the host OS. In Java 18+, [UTF-8 is the default](https://openjdk.org/jeps/400) for most purposes. I did not see any disclosure in your Question about file creation. I’m voting to close for lack of debugging details.","body":"Your problem is likely file <i>writing</i>, not file <i>reading</i>. Until recently, the character encoding for Java file writing defaulted to the default of the host OS. In Java 18+, <a href=\"https://openjdk.org/jeps/400\" rel=\"nofollow noreferrer\">UTF-8 is the default</a> for most purposes. I did not see any disclosure in your Question about file creation. I’m voting to close for lack of debugging details."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1684438886,"post_id":76282246,"comment_id":134521618,"body_markdown":"FYI, every 8-bit US-ASCII file is also a UTF-8 file.","body":"FYI, every 8-bit US-ASCII file is also a UTF-8 file."},{"owner":{"account_id":24342544,"reputation":39,"user_id":18279733,"display_name":"anonimos"},"score":0,"creation_date":1684480242,"post_id":76282246,"comment_id":134526329,"body_markdown":"@BasilBourque I&#39;ve added more information on the description.","body":"@BasilBourque I&#39;ve added more information on the description."},{"owner":{"account_id":24342544,"reputation":39,"user_id":18279733,"display_name":"anonimos"},"score":0,"creation_date":1684481113,"post_id":76282246,"comment_id":134526504,"body_markdown":"@BasilBourque you got me thinking: when setting `LineNumberReader fin = new LineNumberReader(new InputStreamReader(new FileInputStream(fileName), StandardCharsets.UTF_8))`, my understanding is that I read the file and I say that the chars in it should be interpreted as utf8 chars, regardless of the actual encoding of the file. I am wrong?","body":"@BasilBourque you got me thinking: when setting <code>LineNumberReader fin = new LineNumberReader(new InputStreamReader(new FileInputStream(fileName), StandardCharsets.UTF_8))</code>, my understanding is that I read the file and I say that the chars in it should be interpreted as utf8 chars, regardless of the actual encoding of the file. I am wrong?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1684486807,"post_id":76282246,"comment_id":134527576,"body_markdown":"You&#39;re dead right. Got to say, again, that the portion I mentioned looks a bit garbagey","body":"You&#39;re dead right. Got to say, again, that the portion I mentioned looks a bit garbagey"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1684487835,"post_id":76282246,"comment_id":134527798,"body_markdown":"Also `String.getBytes()` is dangerous without specifying an encoding","body":"Also <code>String.getBytes()</code> is dangerous without specifying an encoding"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1684530088,"post_id":76282246,"comment_id":134535996,"body_markdown":"For what it&#39;s worth: The [Unicode replacement character](https://www.fileformat.info/info/unicode/char/fffd/index.htm) � has a UTF-8 value of `0xEF 0xBF 0xBD`. When you attempt to display that character using ISO-8859-1, you get those three `&#239;`, `&#191;`, `&#189;` characters you mentioned in an earlier comment - because those three characters have those three bytes in ISO-8859-1 (and maybe other encodings also, such as Windows-1252). (As has already been said, your problem is likely file writing, not file reading.)","body":"For what it&#39;s worth: The <a href=\"https://www.fileformat.info/info/unicode/char/fffd/index.htm\" rel=\"nofollow noreferrer\">Unicode replacement character</a> � has a UTF-8 value of <code>0xEF 0xBF 0xBD</code>. When you attempt to display that character using ISO-8859-1, you get those three <code>&#239;</code>, <code>&#191;</code>, <code>&#189;</code> characters you mentioned in an earlier comment - because those three characters have those three bytes in ISO-8859-1 (and maybe other encodings also, such as Windows-1252). (As has already been said, your problem is likely file writing, not file reading.)"},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1684580004,"post_id":76282246,"comment_id":134539792,"body_markdown":"@anonimos For your last edit adding `encodeAsMD5`: of course you will get different signatures on machines with different file.encoding as `value.getBytes()` uses the platform encoding to derive the bytes that you pass on to the digest. Thats why they only match when you pass in the same character set UTF-8.","body":"@anonimos For your last edit adding <code>encodeAsMD5</code>: of course you will get different signatures on machines with different file.encoding as <code>value.getBytes()</code> uses the platform encoding to derive the bytes that you pass on to the digest. Thats why they only match when you pass in the same character set UTF-8."}],"answers":[{"tags":[],"owner":{"account_id":24342544,"reputation":39,"user_id":18279733,"display_name":"anonimos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684740401,"creation_date":1684740401,"answer_id":76303863,"question_id":76282246,"body_markdown":"Thanks a lot for your answers. You were right, the problem was with the encoding method, specifically with `byte[] messageDigest = md.digest(value.getBytes());`. Changing the line to: `byte[] messageDigest = md.digest(value.getBytes(StandardCharsets.UTF_8));`\r\ndid the trick so no need for passing the encoding to the JVM.","title":"different encoding for the same file on different machines even though the encoding is explicitly set by java code when reading the file","body":"<p>Thanks a lot for your answers. You were right, the problem was with the encoding method, specifically with <code>byte[] messageDigest = md.digest(value.getBytes());</code>. Changing the line to: <code>byte[] messageDigest = md.digest(value.getBytes(StandardCharsets.UTF_8));</code>\ndid the trick so no need for passing the encoding to the JVM.</p>\n"}],"owner":{"account_id":24342544,"reputation":39,"user_id":18279733,"display_name":"anonimos"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684740401,"creation_date":1684423580,"question_id":76282246,"body_markdown":"I have a file that my java code reads inside a job and sets the encoding to be UTF8 in this line:\r\n```\r\nLineNumberReader fin = new LineNumberReader(new InputStreamReader(new FileInputStream(mutationInputFileName), StandardCharsets.UTF_8));\r\n```\r\nRight after this line I ckeck the encoding: \t\tdetectEncoding(mutationInputFileName);\r\n\r\nWhen I run the job locally on my mac, the encoding of the file is UTF8. When I run the code on the deploy machine is ASCII.\r\nI&#39;m using tika to detect the file encoding:\r\n```\t\r\npublic void detectEncoding(String filePath) {\r\n\t\ttry (FileInputStream fis = new FileInputStream(filePath);\r\n\t\t\t BufferedInputStream bis = new BufferedInputStream(fis);\r\n\t\t\t InputStreamReader isr = new InputStreamReader(bis)) {\r\n\r\n\t\t\tString encoding = isr.getEncoding();\r\n\t\t\tSystem.out.println(&quot;Detected encoding of file: &quot; + filePath + &quot; is : &quot; + encoding);\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n```\r\n\r\nI&#39;ve added :\t\t\r\n```\r\nSystem.out.println(&quot;System encoding: &quot;+System.getProperty(&quot;file.encoding&quot;));\r\n```\r\nto see more and on my local machine it is stil utf8, on the deploy machine it is: System encoding: ANSI_X3.4-1968. The deploy machine uses linux and I&#39;m using java 8 on both machines.\r\n\r\nEven more strange is that if in terminal I check the encoding with: file -bi text1.txt on my local machine says: &quot;regular file&quot; but on the deployed version:&quot;text/plain; charset=utf-8&quot;.\r\nI managed to set the encoding to be UTF8 on the deployed machine by giving  \r\n```\r\n-Dfile.encoding=UTF-8\r\n``` \r\nas arguments of the program when running the class.\r\n\r\nAny idea why LineNumberReader fin = new LineNumberReader(new InputStreamReader(new FileInputStream(mutationInputFileName), StandardCharsets.UTF_8)) doesn&#39;t set the encoding to utf-8 on the deploy machine?\r\n\r\n-- adding a bit more infos\r\nI am talking about same file, let&#39;s say file1.txt. I&#39;ve downloaded the file from  the deploy machine. This file is created by another process that I cannot access.  The steps are:\r\n\r\n 1. LineNumberReader fin = new LineNumberReader(new InputStreamReader(new FileInputStream(mutationInputFileName), StandardCharsets.UTF_8)); -- here I would expect to have the contet file in UTF8\r\n 2. detectEncoding(mutationInputFileName); \r\n 3. extract information from the file: using fin.lines() and String[] cols = line.split(TAB_SEPARATOR, -1); to get the columns. I&#39;m interested in cols[0] which might have special characters such as &#239;&#191;&#189;&#239;&#191;&#189;.\r\n 4. encoding the signature as md5\r\n```\r\nString signature = encodeAsMD5(signatureBeforeEncoding)\r\n```\r\nwhere signatureBeforeEncoding is col[0] and :\r\n```\r\n\tpublic static String encodeAsMD5(String value) {\r\n\t\tMessageDigest md = null;\r\n\t\ttry {\r\n\t\t\tmd = MessageDigest.getInstance(&quot;MD5&quot;);\r\n\t\t} catch (NoSuchAlgorithmException e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t\tbyte[] messageDigest = md.digest(value.getBytes());\r\n\t\tBigInteger number = new BigInteger(1, messageDigest);\r\n\t\treturn number.toString(16);\r\n\t}\r\n```\r\nI get different signature on local machine vs dev. I get same signature if I pass   \r\n```\r\n-Dfile.encoding=UTF-8\r\n``` \r\nas arguments of the program when running the class.\r\n\r\n","title":"different encoding for the same file on different machines even though the encoding is explicitly set by java code when reading the file","body":"<p>I have a file that my java code reads inside a job and sets the encoding to be UTF8 in this line:</p>\n<pre><code>LineNumberReader fin = new LineNumberReader(new InputStreamReader(new FileInputStream(mutationInputFileName), StandardCharsets.UTF_8));\n</code></pre>\n<p>Right after this line I ckeck the encoding:         detectEncoding(mutationInputFileName);</p>\n<p>When I run the job locally on my mac, the encoding of the file is UTF8. When I run the code on the deploy machine is ASCII.\nI'm using tika to detect the file encoding:</p>\n<pre><code>public void detectEncoding(String filePath) {\n        try (FileInputStream fis = new FileInputStream(filePath);\n             BufferedInputStream bis = new BufferedInputStream(fis);\n             InputStreamReader isr = new InputStreamReader(bis)) {\n\n            String encoding = isr.getEncoding();\n            System.out.println(&quot;Detected encoding of file: &quot; + filePath + &quot; is : &quot; + encoding);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>I've added :</p>\n<pre><code>System.out.println(&quot;System encoding: &quot;+System.getProperty(&quot;file.encoding&quot;));\n</code></pre>\n<p>to see more and on my local machine it is stil utf8, on the deploy machine it is: System encoding: ANSI_X3.4-1968. The deploy machine uses linux and I'm using java 8 on both machines.</p>\n<p>Even more strange is that if in terminal I check the encoding with: file -bi text1.txt on my local machine says: &quot;regular file&quot; but on the deployed version:&quot;text/plain; charset=utf-8&quot;.\nI managed to set the encoding to be UTF8 on the deployed machine by giving</p>\n<pre><code>-Dfile.encoding=UTF-8\n</code></pre>\n<p>as arguments of the program when running the class.</p>\n<p>Any idea why LineNumberReader fin = new LineNumberReader(new InputStreamReader(new FileInputStream(mutationInputFileName), StandardCharsets.UTF_8)) doesn't set the encoding to utf-8 on the deploy machine?</p>\n<p>-- adding a bit more infos\nI am talking about same file, let's say file1.txt. I've downloaded the file from  the deploy machine. This file is created by another process that I cannot access.  The steps are:</p>\n<ol>\n<li>LineNumberReader fin = new LineNumberReader(new InputStreamReader(new FileInputStream(mutationInputFileName), StandardCharsets.UTF_8)); -- here I would expect to have the contet file in UTF8</li>\n<li>detectEncoding(mutationInputFileName);</li>\n<li>extract information from the file: using fin.lines() and String[] cols = line.split(TAB_SEPARATOR, -1); to get the columns. I'm interested in cols[0] which might have special characters such as ï¿½ï¿½.</li>\n<li>encoding the signature as md5</li>\n</ol>\n<pre><code>String signature = encodeAsMD5(signatureBeforeEncoding)\n</code></pre>\n<p>where signatureBeforeEncoding is col[0] and :</p>\n<pre><code>    public static String encodeAsMD5(String value) {\n        MessageDigest md = null;\n        try {\n            md = MessageDigest.getInstance(&quot;MD5&quot;);\n        } catch (NoSuchAlgorithmException e) {\n            throw new RuntimeException(e);\n        }\n        byte[] messageDigest = md.digest(value.getBytes());\n        BigInteger number = new BigInteger(1, messageDigest);\n        return number.toString(16);\n    }\n</code></pre>\n<p>I get different signature on local machine vs dev. I get same signature if I pass</p>\n<pre><code>-Dfile.encoding=UTF-8\n</code></pre>\n<p>as arguments of the program when running the class.</p>\n"},{"tags":["java","android","mongodb","kotlin","realm"],"comments":[{"owner":{"account_id":3399229,"reputation":34668,"user_id":2851937,"accept_rate":67,"display_name":"Jay"},"score":0,"creation_date":1684673080,"post_id":76299504,"comment_id":134548196,"body_markdown":"Question: Does it work if you delete all local data on client reset and allow the app to re-sync to the server? (assuming the schema matches the schema on the server)","body":"Question: Does it work if you delete all local data on client reset and allow the app to re-sync to the server? (assuming the schema matches the schema on the server)"}],"answers":[{"tags":[],"owner":{"account_id":4911774,"reputation":539,"user_id":7011829,"display_name":"Vikash Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684740096,"creation_date":1684740096,"answer_id":76303823,"question_id":76299504,"body_markdown":"Here is the solution I found which was nowhere mentioned. As I&#39;m new to mongo db I had to go through lots of documentation reading but nowhere I found that when client reset occurs or if there is any issue with sync we must check logs in mongo db atlas. \r\n\r\nLogs give us the exact reason why syncing has stopped and we can fix it accordingly. After fixing my client reset code started working properly.\r\n[![enter image description here][1]][1]  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/snvMK.png\r\n\r\nHope it helps. ","title":"Unable to perform client reset after doing schema changes using given sample in mongo db for realm android java sdk","body":"<p>Here is the solution I found which was nowhere mentioned. As I'm new to mongo db I had to go through lots of documentation reading but nowhere I found that when client reset occurs or if there is any issue with sync we must check logs in mongo db atlas.</p>\n<p>Logs give us the exact reason why syncing has stopped and we can fix it accordingly. After fixing my client reset code started working properly.\n<a href=\"https://i.stack.imgur.com/snvMK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/snvMK.png\" alt=\"enter image description here\" /></a></p>\n<p>Hope it helps.</p>\n"}],"owner":{"account_id":4911774,"reputation":539,"user_id":7011829,"display_name":"Vikash Sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684740096,"creation_date":1684666416,"question_id":76299504,"body_markdown":"Unable to perform client reset after doing schema changes using given sample in mongo db for realm android java sdk. But i was able to perform client reset after toggling sync in atlas.  The problem lies client reset not happening after breaking schema changes. Even I fixed schema.\r\nThis is the given sample in Mongo reference. And is there any process where we could now client reset triggers??\r\n\r\n    String appID = YOUR_APP_ID; // replace this with your App ID\r\n    App app = null;\r\n    AtomicReference&lt;App&gt; globalApp = new AtomicReference&lt;&gt;(app);\r\n    // accessing the app from within the lambda below requires an effectively final object\r\n    app = new App(new AppConfiguration.Builder(appID)\r\n            .defaultSyncClientResetStrategy(new DiscardUnsyncedChangesStrategy() {\r\n                @Override\r\n                public void onBeforeReset(Realm realm) {\r\n                    Log.w(&quot;EXAMPLE&quot;, &quot;Beginning client reset for &quot; + realm.getPath());\r\n                }\r\n                @Override\r\n                public void onAfterReset(Realm before, Realm after) {\r\n                    Log.w(&quot;EXAMPLE&quot;, &quot;Finished client reset for &quot; + before.getPath());\r\n                }\r\n                @Override\r\n                public void onError(SyncSession session, ClientResetRequiredError error) {\r\n                    Log.e(&quot;EXAMPLE&quot;, &quot;Couldn&#39;t handle the client reset automatically.&quot; +\r\n                            &quot; Falling back to manual client reset execution: &quot;\r\n                            + error.getErrorMessage());\r\n                    // close all instances of your realm -- this application only uses one\r\n                    globalRealm.close();\r\n                    try {\r\n                        Log.w(&quot;EXAMPLE&quot;, &quot;About to execute the client reset.&quot;);\r\n                        // execute the client reset, moving the current realm to a backup file\r\n                        error.executeClientReset();\r\n                        Log.w(&quot;EXAMPLE&quot;, &quot;Executed the client reset.&quot;);\r\n                    } catch (IllegalStateException e) {\r\n                        Log.e(&quot;EXAMPLE&quot;, &quot;Failed to execute the client reset: &quot; + e.getMessage());\r\n                        // The client reset can only proceed if there are no open realms.\r\n                        // if execution failed, ask the user to restart the app, and we&#39;ll client reset\r\n                        // when we first open the app connection.\r\n                        AlertDialog restartDialog = new AlertDialog.Builder(activity)\r\n                                .setMessage(&quot;Sync error. Restart the application to resume sync.&quot;)\r\n                                .setTitle(&quot;Restart to Continue&quot;)\r\n                                .create();\r\n                        restartDialog.show();\r\n                    }\r\n                    // open a new instance of the realm. This initializes a new file for the new realm\r\n                    // and downloads the backend state. Do this in a background thread so we can wait\r\n                    // for server changes to fully download.\r\n                    ExecutorService executor = Executors.newSingleThreadExecutor();\r\n                    executor.execute(() -&gt; {\r\n                        Realm newRealm = Realm.getInstance(globalConfig);\r\n                        // ensure that the backend state is fully downloaded before proceeding\r\n                        try {\r\n                            globalApp.get().getSync().getSession(globalConfig).downloadAllServerChanges(10000,\r\n                                    TimeUnit.MILLISECONDS);\r\n                        } catch (InterruptedException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                        Log.w(&quot;EXAMPLE&quot;,\r\n                                &quot;Downloaded server changes for a fresh instance of the realm.&quot;);\r\n                        newRealm.close();\r\n                    });\r\n                    // execute the recovery logic on a background thread\r\n                    try {\r\n                        executor.awaitTermination(20000, TimeUnit.MILLISECONDS);\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            })\r\n            .build());\r\n    globalApp.set(app);\r\n\r\n","title":"Unable to perform client reset after doing schema changes using given sample in mongo db for realm android java sdk","body":"<p>Unable to perform client reset after doing schema changes using given sample in mongo db for realm android java sdk. But i was able to perform client reset after toggling sync in atlas.  The problem lies client reset not happening after breaking schema changes. Even I fixed schema.\nThis is the given sample in Mongo reference. And is there any process where we could now client reset triggers??</p>\n<pre><code>String appID = YOUR_APP_ID; // replace this with your App ID\nApp app = null;\nAtomicReference&lt;App&gt; globalApp = new AtomicReference&lt;&gt;(app);\n// accessing the app from within the lambda below requires an effectively final object\napp = new App(new AppConfiguration.Builder(appID)\n        .defaultSyncClientResetStrategy(new DiscardUnsyncedChangesStrategy() {\n            @Override\n            public void onBeforeReset(Realm realm) {\n                Log.w(&quot;EXAMPLE&quot;, &quot;Beginning client reset for &quot; + realm.getPath());\n            }\n            @Override\n            public void onAfterReset(Realm before, Realm after) {\n                Log.w(&quot;EXAMPLE&quot;, &quot;Finished client reset for &quot; + before.getPath());\n            }\n            @Override\n            public void onError(SyncSession session, ClientResetRequiredError error) {\n                Log.e(&quot;EXAMPLE&quot;, &quot;Couldn't handle the client reset automatically.&quot; +\n                        &quot; Falling back to manual client reset execution: &quot;\n                        + error.getErrorMessage());\n                // close all instances of your realm -- this application only uses one\n                globalRealm.close();\n                try {\n                    Log.w(&quot;EXAMPLE&quot;, &quot;About to execute the client reset.&quot;);\n                    // execute the client reset, moving the current realm to a backup file\n                    error.executeClientReset();\n                    Log.w(&quot;EXAMPLE&quot;, &quot;Executed the client reset.&quot;);\n                } catch (IllegalStateException e) {\n                    Log.e(&quot;EXAMPLE&quot;, &quot;Failed to execute the client reset: &quot; + e.getMessage());\n                    // The client reset can only proceed if there are no open realms.\n                    // if execution failed, ask the user to restart the app, and we'll client reset\n                    // when we first open the app connection.\n                    AlertDialog restartDialog = new AlertDialog.Builder(activity)\n                            .setMessage(&quot;Sync error. Restart the application to resume sync.&quot;)\n                            .setTitle(&quot;Restart to Continue&quot;)\n                            .create();\n                    restartDialog.show();\n                }\n                // open a new instance of the realm. This initializes a new file for the new realm\n                // and downloads the backend state. Do this in a background thread so we can wait\n                // for server changes to fully download.\n                ExecutorService executor = Executors.newSingleThreadExecutor();\n                executor.execute(() -&gt; {\n                    Realm newRealm = Realm.getInstance(globalConfig);\n                    // ensure that the backend state is fully downloaded before proceeding\n                    try {\n                        globalApp.get().getSync().getSession(globalConfig).downloadAllServerChanges(10000,\n                                TimeUnit.MILLISECONDS);\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                    Log.w(&quot;EXAMPLE&quot;,\n                            &quot;Downloaded server changes for a fresh instance of the realm.&quot;);\n                    newRealm.close();\n                });\n                // execute the recovery logic on a background thread\n                try {\n                    executor.awaitTermination(20000, TimeUnit.MILLISECONDS);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        })\n        .build());\nglobalApp.set(app);\n</code></pre>\n"},{"tags":["java","string","split","java.util.scanner"],"comments":[{"owner":{"account_id":434849,"reputation":9817,"user_id":821110,"accept_rate":95,"display_name":"W.K.S"},"score":1,"creation_date":1326661967,"post_id":8873351,"comment_id":11089704,"body_markdown":"Could you please edit your question to include punctuation. Its really hard to understand what your question is.","body":"Could you please edit your question to include punctuation. Its really hard to understand what your question is."}],"answers":[{"tags":[],"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1326662235,"creation_date":1326661478,"answer_id":8873377,"question_id":8873351,"body_markdown":"Put `keyboard.nextLine()` after this line:\r\n\r\n    int answer=keyboard.nextInt();\r\n\r\nThis is a common problem that usually happens when you use `nextLine()` method after `nextInt()` method of `Scanner` class.\r\n\r\nWhat actually happens is that when the user enters an integer at `int answer = keyboard.nextInt();`, the scanner will take the digits only and leave the new-line character `\\n`. So you need to do a trick by calling `keyboard.nextLine();` just to discard that new-line character and then you can call `String input = keyboard.nextLine();` without any problem.","title":"Reading Strings next() and nextLine() Java","body":"<p>Put <code>keyboard.nextLine()</code> after this line:</p>\n\n<pre><code>int answer=keyboard.nextInt();\n</code></pre>\n\n<p>This is a common problem that usually happens when you use <code>nextLine()</code> method after <code>nextInt()</code> method of <code>Scanner</code> class.</p>\n\n<p>What actually happens is that when the user enters an integer at <code>int answer = keyboard.nextInt();</code>, the scanner will take the digits only and leave the new-line character <code>\\n</code>. So you need to do a trick by calling <code>keyboard.nextLine();</code> just to discard that new-line character and then you can call <code>String input = keyboard.nextLine();</code> without any problem.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684739493,"creation_date":1684739493,"answer_id":76303761,"question_id":8873351,"body_markdown":"My first suggestion is to just add the entire line, split on a space, to a `String` array.  \r\nThen, assign `answer` the 0 index of the array, utilizing the `Integer.parseInt` method.\r\n\r\nHere is your code, refactored.\r\n\r\n```java\r\nScanner keyboard = new Scanner(System.in);\r\nString[] strings = keyboard.nextLine().split(&quot; &quot;);\r\nint answer = Integer.parseInt(strings[0]);\r\nint left = 0, right = 0, forward = 0, back = 0;\r\nfor (int countA = 0; countA &lt; answer; countA++) {\r\n    for (String string : strings) {\r\n        switch (string.toLowerCase()) {\r\n            case &quot;left&quot; -&gt; left++;\r\n            case &quot;right&quot; -&gt; right++;\r\n            case &quot;forward&quot; -&gt; forward++;\r\n            case &quot;back&quot; -&gt; back++;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nInput\r\n\r\n```none\r\n10 left right back left\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nanswer = 10\r\nstrings = [10, left, right, back, left]\r\nleft = 20\r\nright = 10\r\nforward = 0\r\nback = 10\r\n```","title":"Reading Strings next() and nextLine() Java","body":"<p>My first suggestion is to just add the entire line, split on a space, to a <code>String</code> array.<br />\nThen, assign <code>answer</code> the 0 index of the array, utilizing the <code>Integer.parseInt</code> method.</p>\n<p>Here is your code, refactored.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner keyboard = new Scanner(System.in);\nString[] strings = keyboard.nextLine().split(&quot; &quot;);\nint answer = Integer.parseInt(strings[0]);\nint left = 0, right = 0, forward = 0, back = 0;\nfor (int countA = 0; countA &lt; answer; countA++) {\n    for (String string : strings) {\n        switch (string.toLowerCase()) {\n            case &quot;left&quot; -&gt; left++;\n            case &quot;right&quot; -&gt; right++;\n            case &quot;forward&quot; -&gt; forward++;\n            case &quot;back&quot; -&gt; back++;\n        }\n    }\n}\n</code></pre>\n<p>Input</p>\n<pre class=\"lang-none prettyprint-override\"><code>10 left right back left\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>answer = 10\nstrings = [10, left, right, back, left]\nleft = 20\nright = 10\nforward = 0\nback = 10\n</code></pre>\n"}],"owner":{"account_id":1078756,"reputation":447,"user_id":1076331,"display_name":"user1076331"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42234,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1684739493,"creation_date":1326661257,"question_id":8873351,"body_markdown":"The problem is I cant read the variable input with next() cause when I try to split (.split&quot; &quot;) every whitespace then the array just get the first two words I type so I had to use keyboard.nextLine() and the splitting process works the way it should work and I get all the words in the array but the problem is that If I use nextLine() then I have to create another keyboard object to read the first variable (answer) and that is the only way I can make it work here is the code\r\n\r\n\r\n\r\n        Scanner keyboard=new Scanner(System.in);\r\n        Scanner keyboard2=new Scanner(System.in);//just to make answer word\r\n\r\n        int answer=keyboard.nextInt();//if I don&#39;t use the keyboard2 here then the program will not work as it should work, but if I use next() instead of nextLine down there this will not be a problem but then the splitting part is a problem(this variable counts number of lines the program will have).\r\n\r\n        int current=1;\r\n        int left=0,right=0,forward=0,back=0;\r\n        \r\n        for(int count=0;count&lt;answer;count++,current++)\r\n        {\r\n            String input=keyboard.nextLine();\r\n            String array[]=input.split(&quot; &quot;);\r\n            for (int counter=0;counter&lt;array.length;counter++)\r\n            {\r\n                if (array[counter].equalsIgnoreCase(&quot;left&quot;))\r\n                {\r\n                    left++;\r\n                }\r\n                else if (array[counter].equalsIgnoreCase(&quot;right&quot;))\r\n                {     \r\n                    right++;\r\n                }\r\n                else if (array[counter].equalsIgnoreCase(&quot;forward&quot;))\r\n                {\r\n                    forward++;   \r\n                }\r\n                else if (array[counter].equalsIgnoreCase(&quot;back&quot;))\r\n                {     \r\n                    back++;\r\n                }\r\n            }\r\n\r\n       }\r\n    }\r\n\r\nThanks :)","title":"Reading Strings next() and nextLine() Java","body":"<p>The problem is I cant read the variable input with next() cause when I try to split (.split\" \") every whitespace then the array just get the first two words I type so I had to use keyboard.nextLine() and the splitting process works the way it should work and I get all the words in the array but the problem is that If I use nextLine() then I have to create another keyboard object to read the first variable (answer) and that is the only way I can make it work here is the code</p>\n\n<pre><code>    Scanner keyboard=new Scanner(System.in);\n    Scanner keyboard2=new Scanner(System.in);//just to make answer word\n\n    int answer=keyboard.nextInt();//if I don't use the keyboard2 here then the program will not work as it should work, but if I use next() instead of nextLine down there this will not be a problem but then the splitting part is a problem(this variable counts number of lines the program will have).\n\n    int current=1;\n    int left=0,right=0,forward=0,back=0;\n\n    for(int count=0;count&lt;answer;count++,current++)\n    {\n        String input=keyboard.nextLine();\n        String array[]=input.split(\" \");\n        for (int counter=0;counter&lt;array.length;counter++)\n        {\n            if (array[counter].equalsIgnoreCase(\"left\"))\n            {\n                left++;\n            }\n            else if (array[counter].equalsIgnoreCase(\"right\"))\n            {     \n                right++;\n            }\n            else if (array[counter].equalsIgnoreCase(\"forward\"))\n            {\n                forward++;   \n            }\n            else if (array[counter].equalsIgnoreCase(\"back\"))\n            {     \n                back++;\n            }\n        }\n\n   }\n}\n</code></pre>\n\n<p>Thanks :)</p>\n"},{"tags":["java","spring","mapstruct"],"comments":[{"owner":{"account_id":1212711,"reputation":2020,"user_id":1180963,"accept_rate":75,"display_name":"eduyayo"},"score":0,"creation_date":1684534497,"post_id":76292575,"comment_id":134536549,"body_markdown":"does your IDE show a warningabout the duplication?","body":"does your IDE show a warningabout the duplication?"},{"owner":{"account_id":28515520,"reputation":15,"user_id":21824932,"display_name":"Oleksandr Zhytariuk"},"score":0,"creation_date":1684583785,"post_id":76292575,"comment_id":134540194,"body_markdown":"@eduyayo no my IDE doesnt show warning","body":"@eduyayo no my IDE doesnt show warning"}],"answers":[{"tags":[],"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684606056,"creation_date":1684606056,"answer_id":76296695,"question_id":76292575,"body_markdown":"One solution is to group together multiple mapping annotations into a custom annotation. For example, you can create an annotation for ignoring audit mappings:\r\n```java\r\n@Target({ElementType.METHOD})\r\n@Retention(RUNTIME)\r\n@Mapping(target = &quot;createdAt&quot;, ignore = true)\r\n@Mapping(target = &quot;updatedAt&quot;, ignore = true)\r\n@Mapping(target = &quot;createdBy&quot;, ignore = true)\r\n@Mapping(target = &quot;modifiedBy&quot;, ignore = true)\r\npublic @interface IgnoreAuditMapping {}\r\n```\r\nThe annotation can be used in mappers to reduce duplication:\r\n```\r\n@Mapper(config = MapperConfiguration.class)\r\npublic interface CategoryMapper {\r\n    ...\r\n\r\n    @IgnoreAuditMapping\r\n    @Mapping(target = &quot;id&quot;, ignore = true)\r\n    @Mapping(target = &quot;quizzes&quot;, ignore = true)\r\n    @Mapping(target = &quot;parentCategory.createdAt&quot;, ignore = true)\r\n    @Mapping(target = &quot;parentCategory.updatedAt&quot;, ignore = true)\r\n    @Mapping(target = &quot;parentCategory.createdBy&quot;, ignore = true)\r\n    @Mapping(target = &quot;parentCategory.modifiedBy&quot;, ignore = true)\r\n    @Mapping(target = &quot;parentCategory.id&quot;, ignore = true)\r\n    @Mapping(target = &quot;parentCategory.quizzes&quot;, ignore = true)\r\n    Category toCategory(final CategoryDto categoryDto);\r\n\r\n    ...\r\n}\r\n```\r\n","title":"Efficiently removing duplicate @Mapping annotations for audit fields in MapStruct Spring Core","body":"<p>One solution is to group together multiple mapping annotations into a custom annotation. For example, you can create an annotation for ignoring audit mappings:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Target({ElementType.METHOD})\n@Retention(RUNTIME)\n@Mapping(target = &quot;createdAt&quot;, ignore = true)\n@Mapping(target = &quot;updatedAt&quot;, ignore = true)\n@Mapping(target = &quot;createdBy&quot;, ignore = true)\n@Mapping(target = &quot;modifiedBy&quot;, ignore = true)\npublic @interface IgnoreAuditMapping {}\n</code></pre>\n<p>The annotation can be used in mappers to reduce duplication:</p>\n<pre><code>@Mapper(config = MapperConfiguration.class)\npublic interface CategoryMapper {\n    ...\n\n    @IgnoreAuditMapping\n    @Mapping(target = &quot;id&quot;, ignore = true)\n    @Mapping(target = &quot;quizzes&quot;, ignore = true)\n    @Mapping(target = &quot;parentCategory.createdAt&quot;, ignore = true)\n    @Mapping(target = &quot;parentCategory.updatedAt&quot;, ignore = true)\n    @Mapping(target = &quot;parentCategory.createdBy&quot;, ignore = true)\n    @Mapping(target = &quot;parentCategory.modifiedBy&quot;, ignore = true)\n    @Mapping(target = &quot;parentCategory.id&quot;, ignore = true)\n    @Mapping(target = &quot;parentCategory.quizzes&quot;, ignore = true)\n    Category toCategory(final CategoryDto categoryDto);\n\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":28515520,"reputation":15,"user_id":21824932,"display_name":"Oleksandr Zhytariuk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76296695,"answer_count":1,"score":1,"last_activity_date":1684739239,"creation_date":1684532617,"question_id":76292575,"body_markdown":"There are ways how can I remove the same ignore mapping without reapeated @Mapping annotations on different methods, for example audit fields in one short annotation or interface like IgnoreMappingAuditionFields or other ways?\r\nSo what ways you can recommend for resolve this problem?\r\n\r\n\r\n\r\n\r\n\r\n```\r\n@Mapper(config = MapperConfiguration.class)\r\npublic interface CategoryMapper {\r\n    CategoryDto toDto(final Category category);\r\n\r\n    @Mapping(target = &quot;createdAt&quot;, ignore = true)\r\n    @Mapping(target = &quot;updatedAt&quot;, ignore = true)\r\n    @Mapping(target = &quot;createdBy&quot;, ignore = true)\r\n    @Mapping(target = &quot;modifiedBy&quot;, ignore = true)\r\n    @Mapping(target = &quot;id&quot;, ignore = true)\r\n    @Mapping(target = &quot;quizzes&quot;, ignore = true)\r\n    @Mapping(target = &quot;parentCategory.createdAt&quot;, ignore = true)\r\n    @Mapping(target = &quot;parentCategory.updatedAt&quot;, ignore = true)\r\n    @Mapping(target = &quot;parentCategory.createdBy&quot;, ignore = true)\r\n    @Mapping(target = &quot;parentCategory.modifiedBy&quot;, ignore = true)\r\n    @Mapping(target = &quot;parentCategory.id&quot;, ignore = true)\r\n    @Mapping(target = &quot;parentCategory.quizzes&quot;, ignore = true)\r\n    Category toCategory(final CategoryDto categoryDto);\r\n\r\n    @Mapping(target = &quot;createdAt&quot;, ignore = true)\r\n    @Mapping(target = &quot;updatedAt&quot;, ignore = true)\r\n    @Mapping(target = &quot;createdBy&quot;, ignore = true)\r\n    @Mapping(target = &quot;modifiedBy&quot;, ignore = true)\r\n    @Mapping(target = &quot;id&quot;, ignore = true)\r\n    @Mapping(target = &quot;quizzes&quot;, ignore = true)\r\n    @Mapping(target = &quot;parentCategory.createdAt&quot;, ignore = true)\r\n    @Mapping(target = &quot;parentCategory.updatedAt&quot;, ignore = true)\r\n    @Mapping(target = &quot;parentCategory.createdBy&quot;, ignore = true)\r\n    @Mapping(target = &quot;parentCategory.modifiedBy&quot;, ignore = true)\r\n    @Mapping(target = &quot;parentCategory.id&quot;, ignore = true)\r\n    @Mapping(target = &quot;parentCategory.quizzes&quot;, ignore = true)\r\n    @Mapping(target = &quot;parentCategory&quot;, ignore = true)\r\n    @Mapping(target = &quot;childCategories&quot;, ignore = true)\r\n    Category toDomain(final CategoryCreationRequest categoryCreationRequest);\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nRemove repeated fields","title":"Efficiently removing duplicate @Mapping annotations for audit fields in MapStruct Spring Core","body":"<p>There are ways how can I remove the same ignore mapping without reapeated @Mapping annotations on different methods, for example audit fields in one short annotation or interface like IgnoreMappingAuditionFields or other ways?\nSo what ways you can recommend for resolve this problem?</p>\n<pre><code>@Mapper(config = MapperConfiguration.class)\npublic interface CategoryMapper {\n    CategoryDto toDto(final Category category);\n\n    @Mapping(target = &quot;createdAt&quot;, ignore = true)\n    @Mapping(target = &quot;updatedAt&quot;, ignore = true)\n    @Mapping(target = &quot;createdBy&quot;, ignore = true)\n    @Mapping(target = &quot;modifiedBy&quot;, ignore = true)\n    @Mapping(target = &quot;id&quot;, ignore = true)\n    @Mapping(target = &quot;quizzes&quot;, ignore = true)\n    @Mapping(target = &quot;parentCategory.createdAt&quot;, ignore = true)\n    @Mapping(target = &quot;parentCategory.updatedAt&quot;, ignore = true)\n    @Mapping(target = &quot;parentCategory.createdBy&quot;, ignore = true)\n    @Mapping(target = &quot;parentCategory.modifiedBy&quot;, ignore = true)\n    @Mapping(target = &quot;parentCategory.id&quot;, ignore = true)\n    @Mapping(target = &quot;parentCategory.quizzes&quot;, ignore = true)\n    Category toCategory(final CategoryDto categoryDto);\n\n    @Mapping(target = &quot;createdAt&quot;, ignore = true)\n    @Mapping(target = &quot;updatedAt&quot;, ignore = true)\n    @Mapping(target = &quot;createdBy&quot;, ignore = true)\n    @Mapping(target = &quot;modifiedBy&quot;, ignore = true)\n    @Mapping(target = &quot;id&quot;, ignore = true)\n    @Mapping(target = &quot;quizzes&quot;, ignore = true)\n    @Mapping(target = &quot;parentCategory.createdAt&quot;, ignore = true)\n    @Mapping(target = &quot;parentCategory.updatedAt&quot;, ignore = true)\n    @Mapping(target = &quot;parentCategory.createdBy&quot;, ignore = true)\n    @Mapping(target = &quot;parentCategory.modifiedBy&quot;, ignore = true)\n    @Mapping(target = &quot;parentCategory.id&quot;, ignore = true)\n    @Mapping(target = &quot;parentCategory.quizzes&quot;, ignore = true)\n    @Mapping(target = &quot;parentCategory&quot;, ignore = true)\n    @Mapping(target = &quot;childCategories&quot;, ignore = true)\n    Category toDomain(final CategoryCreationRequest categoryCreationRequest);\n}\n</code></pre>\n<p>Remove repeated fields</p>\n"},{"tags":["java","maven","intellij-idea","javafx","jpackage"],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1684738866,"creation_date":1684592260,"answer_id":76295676,"question_id":76295523,"body_markdown":"As mentioned by @Slaw in comments below, you have used the wrong module name. You can confirm the module name of a jar by viewing the [module definition][1]. This tells you the name of the module to use with jpackage eg `org.controlsfx.controls` or will print `No module descriptor found.  Derived automatic module.` if a non module jar:\r\n\r\n    jar --file=controlsfx.jar --describe-module\r\n    org.controlsfx.controls@11.1.2 jar:file:///c:/dev/mods/controlsfx.jar!/module-info.class\r\n    ... plus details of exports\r\n\r\nThe `jpackage` command will use `jlink` internally to build a runtime image that contains all the modules listed:\r\n\r\n    jpackage --input myinput --add-modules javafx.controls,org.controlsfx.controls --module-path c:\\xyz...\\javafx-jmods-NN --module-path c:\\abc...\\controlsfx.jar  --dest myoutput {otherargs}\r\n\r\nAfter installation you can check which modules are in the installed runtime with:\r\n\r\n     C:\\Program Files\\XYZ\\runtime\\bin\\java --list-modules\r\n     ...\r\n     javafx.controls@somever\r\n     ...\r\n     org.controlsfx.controls@somever\r\n\r\n\r\nAlternatively you can use a jar (module or non module) with `jpackage` by copying the jar into your target release structure somewhere under the `--input` directory. Then it will be picked up as a classpath jar dependency (inside the release directories) rather than as a module dependency (inside the runtime image as above).\r\n\r\nYou can check if a jar was added as as classpath dependency by looking at the generated `{launcher}.cfg`, it should contain a line:\r\n\r\n     app.classpath=$APPDIR\\whateverplaceunder--input.dir\\controlsfx.jar\r\n\r\n  [1]: https://stackoverflow.com/questions/46616520/list-modules-in-jar-file/46617033#comment134547336_46617033","title":"Jpackage with ControlsFX","body":"<p>As mentioned by @Slaw in comments below, you have used the wrong module name. You can confirm the module name of a jar by viewing the <a href=\"https://stackoverflow.com/questions/46616520/list-modules-in-jar-file/46617033#comment134547336_46617033\">module definition</a>. This tells you the name of the module to use with jpackage eg <code>org.controlsfx.controls</code> or will print <code>No module descriptor found.  Derived automatic module.</code> if a non module jar:</p>\n<pre><code>jar --file=controlsfx.jar --describe-module\norg.controlsfx.controls@11.1.2 jar:file:///c:/dev/mods/controlsfx.jar!/module-info.class\n... plus details of exports\n</code></pre>\n<p>The <code>jpackage</code> command will use <code>jlink</code> internally to build a runtime image that contains all the modules listed:</p>\n<pre><code>jpackage --input myinput --add-modules javafx.controls,org.controlsfx.controls --module-path c:\\xyz...\\javafx-jmods-NN --module-path c:\\abc...\\controlsfx.jar  --dest myoutput {otherargs}\n</code></pre>\n<p>After installation you can check which modules are in the installed runtime with:</p>\n<pre><code> C:\\Program Files\\XYZ\\runtime\\bin\\java --list-modules\n ...\n javafx.controls@somever\n ...\n org.controlsfx.controls@somever\n</code></pre>\n<p>Alternatively you can use a jar (module or non module) with <code>jpackage</code> by copying the jar into your target release structure somewhere under the <code>--input</code> directory. Then it will be picked up as a classpath jar dependency (inside the release directories) rather than as a module dependency (inside the runtime image as above).</p>\n<p>You can check if a jar was added as as classpath dependency by looking at the generated <code>{launcher}.cfg</code>, it should contain a line:</p>\n<pre><code> app.classpath=$APPDIR\\whateverplaceunder--input.dir\\controlsfx.jar\n</code></pre>\n"}],"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":76295676,"answer_count":1,"score":4,"last_activity_date":1684738866,"creation_date":1684589976,"question_id":76295523,"body_markdown":"I’m having some issues including Controlsfx when using Jpackage.\r\n\r\nI have set up a project in IntelliJ with JavaFX using a Archetype from Maven Central. Works fine with JavaFX in IntelliJ. I can package it with Maven (from IntelliJ) and use JPackage for making an exe-installer, that also works fine. I’m using this command with JPackage:\r\n\r\n    jpackage --input C:\\...\\target --add-modules javafx.controls --module-path C:\\...\\openjfx-20.0.1_windows-x64_bin-jmods\\javafx-jmods-20.0.1 --module-path --win-console --dest c:\\outputs --main-jar tests-1.0-SNAPSHOT.jar --main-class tests.App\r\n\r\nNow I want to incorporate ControlsFX so I download the ControlsFX .JAR from Maven: https://mvnrepository.com/artifact/org.controlsfx/controlsfx/11.1.2IntelliJ \r\nIn IntelliJ I add it as a Module. All fine, I wan use ControlsFX in my project.\r\n\r\nNow I want to make an exe-installer (like above without ControlsFX) so I add ControlsFX to my JPackage command:\r\n\r\n    jpackage --input C:\\...\\target --add-modules javafx.controls,controlsfx --module-path C:\\...\\openjfx-20.0.1_windows-x64_bin-jmods\\javafx-jmods-20.0.1 --module-path C:\\..\\controlsfx --win-console --dest c:\\test --main-jar tests-1.0-SNAPSHOT.jar --main-class tests.App\r\n\r\nWhen running the command I get this:\r\n\r\njava.lang.module.FindException: Module controlsfx not found\r\n\r\nI know my issue is related to the command I pass to JPackage but cant figure out what is.\r\n\r\n","title":"Jpackage with ControlsFX","body":"<p>I’m having some issues including Controlsfx when using Jpackage.</p>\n<p>I have set up a project in IntelliJ with JavaFX using a Archetype from Maven Central. Works fine with JavaFX in IntelliJ. I can package it with Maven (from IntelliJ) and use JPackage for making an exe-installer, that also works fine. I’m using this command with JPackage:</p>\n<pre><code>jpackage --input C:\\...\\target --add-modules javafx.controls --module-path C:\\...\\openjfx-20.0.1_windows-x64_bin-jmods\\javafx-jmods-20.0.1 --module-path --win-console --dest c:\\outputs --main-jar tests-1.0-SNAPSHOT.jar --main-class tests.App\n</code></pre>\n<p>Now I want to incorporate ControlsFX so I download the ControlsFX .JAR from Maven: <a href=\"https://mvnrepository.com/artifact/org.controlsfx/controlsfx/11.1.2IntelliJ\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.controlsfx/controlsfx/11.1.2IntelliJ</a>\nIn IntelliJ I add it as a Module. All fine, I wan use ControlsFX in my project.</p>\n<p>Now I want to make an exe-installer (like above without ControlsFX) so I add ControlsFX to my JPackage command:</p>\n<pre><code>jpackage --input C:\\...\\target --add-modules javafx.controls,controlsfx --module-path C:\\...\\openjfx-20.0.1_windows-x64_bin-jmods\\javafx-jmods-20.0.1 --module-path C:\\..\\controlsfx --win-console --dest c:\\test --main-jar tests-1.0-SNAPSHOT.jar --main-class tests.App\n</code></pre>\n<p>When running the command I get this:</p>\n<p>java.lang.module.FindException: Module controlsfx not found</p>\n<p>I know my issue is related to the command I pass to JPackage but cant figure out what is.</p>\n"},{"tags":["java","string","diacritics"],"comments":[{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":0,"creation_date":1680032153,"post_id":75870129,"comment_id":133827016,"body_markdown":"Nice work! The code works, that&#39;s most important. The `public static void main(String[] args)` already is a method. But you can just rename it to whatever you want, remove the argument, and you&#39;ll have your method. It would probably be best as `public static String removeDiacritics(String textWithDiacritics)` that takes the input string as a parameter and returns the text without diacritics instead of printing it out. Then you can use that from your main method.","body":"Nice work! The code works, that&#39;s most important. The <code>public static void main(String[] args)</code> already is a method. But you can just rename it to whatever you want, remove the argument, and you&#39;ll have your method. It would probably be best as <code>public static String removeDiacritics(String textWithDiacritics)</code> that takes the input string as a parameter and returns the text without diacritics instead of printing it out. Then you can use that from your main method."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1684644055,"post_id":75870129,"comment_id":134545723,"body_markdown":"Just a comment on &quot;normal&quot; letters-  that isn&#39;t really how things work in all languages.  In some, they think of the letter with the diacritics as a different letter.  For example, &#252; in some languages is not a u with an attachment, they are different letters and the speakers do not think of the two as being related in any way.","body":"Just a comment on &quot;normal&quot; letters-  that isn&#39;t really how things work in all languages.  In some, they think of the letter with the diacritics as a different letter.  For example, &#252; in some languages is not a u with an attachment, they are different letters and the speakers do not think of the two as being related in any way."},{"owner":{"account_id":5688520,"reputation":7765,"user_id":4497253,"display_name":"CoronA"},"score":0,"creation_date":1684644339,"post_id":75870129,"comment_id":134545733,"body_markdown":"Does this link help? https://www.baeldung.com/java-remove-accents-from-text. It uses `java.text.Normalizer` to split the composed characters and then removes the attached accents.","body":"Does this link help? <a href=\"https://www.baeldung.com/java-remove-accents-from-text\" rel=\"nofollow noreferrer\">baeldung.com/java-remove-accents-from-text</a>. It uses <code>java.text.Normalizer</code> to split the composed characters and then removes the attached accents."}],"answers":[{"tags":[],"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680039176,"creation_date":1680039176,"answer_id":75871254,"question_id":75870129,"body_markdown":"There&#39;s still more to do, but the below code could give you a basic idea on how to create various methods.\r\n\r\nI separated two methods out of the original code. You could improve it still, first and foremost go ahead and create a `private static void printReversed()` method to contain the reverse-text printing code. Next, slightly more advanced and more involved would be making all the methods return something instead of directly printing out stuff (like `removeDiacritics()` does). In programming we generally frown upon methods with &quot;side-effects&quot; (like printing) and prefer pure methods that take something in, transform it and return something back, so that the calling code can do whatever it wants with it. Like printing :).\r\n\r\n```java\r\npublic class Main {\r\n\r\n\tpublic static void main(String... args) {\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tString input = sc.nextLine();\r\n\t\tSystem.out.println(input);\r\n\t\tSystem.out.println();\r\n\r\n\t\tprintStatistics(input);\r\n\r\n\t\tchar[] reversedText = input.toCharArray();\r\n\t\tfor (int i = (reversedText.length) - 1; i &gt;= 0; i--) {\r\n\t\t\tSystem.out.print(reversedText[i]);\r\n\t\t}\r\n\t\tSystem.out.println();\r\n\r\n\t\tString normalized = removeDiacritics(input);\r\n\t\tSystem.out.println(normalized);\r\n\t}\r\n\r\n\tprivate static void printStatistics(String input) {\r\n\t\tString[] sentences = input.split(&quot;\\\\. &quot;);\r\n\r\n\t\tint sentenceCount = 0;\r\n\t\tint vowelCount = 0;\r\n\t\tint consonantCount = 0;\r\n\t\tfor (String sentence : sentences) {\r\n\t\t\tvowelCount = 0;\r\n\t\t\tconsonantCount = 0;\r\n\t\t\tsentenceCount++;\r\n\t\t\tSystem.out.println(sentence);\r\n\t\t\tString[] words = sentence.split(&quot; &quot;);\r\n\t\t\tSystem.out.println(&quot;Number of words is &quot; + words.length);\r\n\t\t\tString lowerCase = sentence.toLowerCase();\r\n\t\t\tchar[] chars = lowerCase.toCharArray();\r\n\t\t\tSystem.out.println(&quot;Number of characters is &quot; + sentence.length());\r\n\t\t\tfor (char c : chars) {\r\n\t\t\t\tif (c == &#39;a&#39; || c == &#39;e&#39; || c == &#39;i&#39; || c == &#39;o&#39; || c == &#39;u&#39; || c == &#39;y&#39;) {\r\n\t\t\t\t\tvowelCount++;\r\n\t\t\t\t} else if (c == &#39;h&#39; || c == &#39;k&#39; || c == &#39;r&#39; || c == &#39;d&#39; || c == &#39;t&#39; || c == &#39;n&#39;) {\r\n\t\t\t\t\tconsonantCount++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;Number of vowels is &quot; + vowelCount);\r\n\t\t\tSystem.out.println(&quot;Number of consonants is &quot; + consonantCount);\r\n\t\t}\r\n\t\tSystem.out.println();\r\n\t\tSystem.out.println(&quot;Number of sentences is &quot; + sentenceCount);\r\n\t\tSystem.out.println();\r\n\t}\r\n\r\n\tprivate static String removeDiacritics(String textWithDiacritics) {\r\n\t\tchar[] normalizedText = textWithDiacritics.toCharArray();\r\n\t\tchar[] diacritics = { &#39;ě&#39;, &#39;š&#39;, &#39;č&#39;, &#39;ř&#39;, &#39;ž&#39;, &#39;&#253;&#39;, &#39;&#225;&#39;, &#39;&#237;&#39;, &#39;&#233;&#39;, &#39;&#250;&#39;, &#39;ů&#39;, &#39;Ě&#39;, &#39;Š&#39;, &#39;Č&#39;, &#39;Ř&#39;, &#39;Ž&#39;, &#39;&#221;&#39;, &#39;&#193;&#39;, &#39;&#205;&#39;, &#39;&#201;&#39;, &#39;&#218;&#39;, &#39;Ů&#39; };\r\n\t\tchar[] normal = { &#39;e&#39;, &#39;s&#39;, &#39;c&#39;, &#39;r&#39;, &#39;z&#39;, &#39;y&#39;, &#39;a&#39;, &#39;i&#39;, &#39;e&#39;, &#39;u&#39;, &#39;u&#39;, &#39;E&#39;, &#39;S&#39;, &#39;C&#39;, &#39;R&#39;, &#39;Z&#39;, &#39;Y&#39;, &#39;A&#39;, &#39;I&#39;, &#39;E&#39;, &#39;U&#39;, &#39;U&#39; };\r\n\t\tfor (int i = 0; i &lt; normalizedText.length; i++) {\r\n\t\t\tchar c = normalizedText[i];\r\n\t\t\tint index = -1;\r\n\t\t\tfor (int j = 0; j &lt; diacritics.length; j++) {\r\n\t\t\t\tif (c == diacritics[j]) {\r\n\t\t\t\t\tindex = j;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (index != -1) {\r\n\t\t\t\tnormalizedText[i] = normal[index];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn String.valueOf(normalizedText);\r\n\t}\r\n}\r\n```","title":"Work with Strings, Java, Diacritic Method","body":"<p>There's still more to do, but the below code could give you a basic idea on how to create various methods.</p>\n<p>I separated two methods out of the original code. You could improve it still, first and foremost go ahead and create a <code>private static void printReversed()</code> method to contain the reverse-text printing code. Next, slightly more advanced and more involved would be making all the methods return something instead of directly printing out stuff (like <code>removeDiacritics()</code> does). In programming we generally frown upon methods with &quot;side-effects&quot; (like printing) and prefer pure methods that take something in, transform it and return something back, so that the calling code can do whatever it wants with it. Like printing :).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n\n    public static void main(String... args) {\n        Scanner sc = new Scanner(System.in);\n        String input = sc.nextLine();\n        System.out.println(input);\n        System.out.println();\n\n        printStatistics(input);\n\n        char[] reversedText = input.toCharArray();\n        for (int i = (reversedText.length) - 1; i &gt;= 0; i--) {\n            System.out.print(reversedText[i]);\n        }\n        System.out.println();\n\n        String normalized = removeDiacritics(input);\n        System.out.println(normalized);\n    }\n\n    private static void printStatistics(String input) {\n        String[] sentences = input.split(&quot;\\\\. &quot;);\n\n        int sentenceCount = 0;\n        int vowelCount = 0;\n        int consonantCount = 0;\n        for (String sentence : sentences) {\n            vowelCount = 0;\n            consonantCount = 0;\n            sentenceCount++;\n            System.out.println(sentence);\n            String[] words = sentence.split(&quot; &quot;);\n            System.out.println(&quot;Number of words is &quot; + words.length);\n            String lowerCase = sentence.toLowerCase();\n            char[] chars = lowerCase.toCharArray();\n            System.out.println(&quot;Number of characters is &quot; + sentence.length());\n            for (char c : chars) {\n                if (c == 'a' || c == 'e' || c == 'i' || c == 'o' || c == 'u' || c == 'y') {\n                    vowelCount++;\n                } else if (c == 'h' || c == 'k' || c == 'r' || c == 'd' || c == 't' || c == 'n') {\n                    consonantCount++;\n                }\n            }\n            System.out.println(&quot;Number of vowels is &quot; + vowelCount);\n            System.out.println(&quot;Number of consonants is &quot; + consonantCount);\n        }\n        System.out.println();\n        System.out.println(&quot;Number of sentences is &quot; + sentenceCount);\n        System.out.println();\n    }\n\n    private static String removeDiacritics(String textWithDiacritics) {\n        char[] normalizedText = textWithDiacritics.toCharArray();\n        char[] diacritics = { 'ě', 'š', 'č', 'ř', 'ž', 'ý', 'á', 'í', 'é', 'ú', 'ů', 'Ě', 'Š', 'Č', 'Ř', 'Ž', 'Ý', 'Á', 'Í', 'É', 'Ú', 'Ů' };\n        char[] normal = { 'e', 's', 'c', 'r', 'z', 'y', 'a', 'i', 'e', 'u', 'u', 'E', 'S', 'C', 'R', 'Z', 'Y', 'A', 'I', 'E', 'U', 'U' };\n        for (int i = 0; i &lt; normalizedText.length; i++) {\n            char c = normalizedText[i];\n            int index = -1;\n            for (int j = 0; j &lt; diacritics.length; j++) {\n                if (c == diacritics[j]) {\n                    index = j;\n                    break;\n                }\n            }\n            if (index != -1) {\n                normalizedText[i] = normal[index];\n            }\n        }\n\n        return String.valueOf(normalizedText);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684644046,"creation_date":1684643128,"answer_id":76298295,"question_id":75870129,"body_markdown":"To replace all the diacritics with normal characters, you&#39;ll need a way to map one character to another.  \r\nIt appears you have this already, 2 separate arrays, where the index indicates the relationship.\r\n\r\nI was able to produce valid results with the following method.\r\n\r\n```java\r\nString replace(String string) {\r\n    char[] diacritics = { &#39;ě&#39;, &#39;š&#39;, &#39;č&#39;, &#39;ř&#39;, &#39;ž&#39;, &#39;&#253;&#39;, &#39;&#225;&#39;, &#39;&#237;&#39;, &#39;&#233;&#39;, &#39;&#250;&#39;, &#39;ů&#39;, &#39;Ě&#39;, &#39;Š&#39;, &#39;Č&#39;, &#39;Ř&#39;, &#39;Ž&#39;, &#39;&#221;&#39;, &#39;&#193;&#39;, &#39;&#205;&#39;, &#39;&#201;&#39;, &#39;&#218;&#39;, &#39;Ů&#39; };\r\n    char[] normal = { &#39;e&#39;, &#39;s&#39;, &#39;c&#39;, &#39;r&#39;, &#39;z&#39;, &#39;y&#39;, &#39;a&#39;, &#39;i&#39;, &#39;e&#39;, &#39;u&#39;, &#39;u&#39;, &#39;E&#39;, &#39;S&#39;, &#39;C&#39;, &#39;R&#39;, &#39;Z&#39;, &#39;Y&#39;, &#39;A&#39;, &#39;I&#39;, &#39;E&#39;, &#39;U&#39;, &#39;U&#39; };\r\n    int index = 0;\r\n    for (char character : diacritics)\r\n        string = string.replace(character, normal[index++]);\r\n    return string;\r\n}\r\n```\r\n\r\nExample output\r\n\r\n```none\r\nexpos&#233; = expose\r\nlam&#233; = lame\r\nmat&#233; = mate\r\nros&#233; = rose\r\nr&#233;sum&#233; = resume\r\n```\r\n\r\nI reviewed your code, and made a few changes as recommendations.  \r\nYou can replace the vowel and consonant counting procedures with regular expression pattern matching.\r\n\r\n\r\n```java\r\nScanner sc = new Scanner(System.in);\r\nString input = sc.nextLine();\r\nSystem.out.println(input);\r\nString[] sentences = input.split(&quot;\\\\. &quot;);\r\nchar[] reversedText = input.toCharArray();\r\nchar[] normalizedText;\r\nint sentenceCount = 0, vowelCount, consonantCount;\r\nfor (String sentence : sentences) {\r\n    vowelCount = consonantCount = 0;\r\n    sentenceCount++;\r\n    System.out.println(sentence);\r\n    String[] words = sentence.split(&quot; &quot;);\r\n    System.out.println(&quot;Number of words is &quot; + words.length);\r\n    String lowerCase = sentence.toLowerCase();\r\n    char[] chars = lowerCase.toCharArray();\r\n    System.out.println(&quot;Number of characters is &quot; + sentence.length());\r\n    for (char c : chars) {\r\n        if (String.valueOf(c).matches(&quot;[aeiouy]&quot;)) vowelCount++;\r\n        else if (String.valueOf(c).matches(&quot;[hkrdtn]&quot;)) consonantCount++;\r\n    }\r\n    System.out.println(&quot;Number of vowels is &quot; + vowelCount);\r\n    System.out.println(&quot;Number of consonants is &quot; + consonantCount);\r\n}\r\nSystem.out.println(&quot; &quot;);\r\nSystem.out.println(&quot;Number of sentences is &quot; + sentenceCount);\r\nfor (int i = (reversedText.length) - 1; i &gt;= 0; i--)\r\n    System.out.print(reversedText[i]);\r\nSystem.out.println(&quot; &quot;);\r\nnormalizedText = replace(input).toCharArray();\r\nSystem.out.println(normalizedText);\r\n```","title":"Work with Strings, Java, Diacritic Method","body":"<p>To replace all the diacritics with normal characters, you'll need a way to map one character to another.<br />\nIt appears you have this already, 2 separate arrays, where the index indicates the relationship.</p>\n<p>I was able to produce valid results with the following method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String replace(String string) {\n    char[] diacritics = { 'ě', 'š', 'č', 'ř', 'ž', 'ý', 'á', 'í', 'é', 'ú', 'ů', 'Ě', 'Š', 'Č', 'Ř', 'Ž', 'Ý', 'Á', 'Í', 'É', 'Ú', 'Ů' };\n    char[] normal = { 'e', 's', 'c', 'r', 'z', 'y', 'a', 'i', 'e', 'u', 'u', 'E', 'S', 'C', 'R', 'Z', 'Y', 'A', 'I', 'E', 'U', 'U' };\n    int index = 0;\n    for (char character : diacritics)\n        string = string.replace(character, normal[index++]);\n    return string;\n}\n</code></pre>\n<p>Example output</p>\n<pre class=\"lang-none prettyprint-override\"><code>exposé = expose\nlamé = lame\nmaté = mate\nrosé = rose\nrésumé = resume\n</code></pre>\n<p>I reviewed your code, and made a few changes as recommendations.<br />\nYou can replace the vowel and consonant counting procedures with regular expression pattern matching.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner sc = new Scanner(System.in);\nString input = sc.nextLine();\nSystem.out.println(input);\nString[] sentences = input.split(&quot;\\\\. &quot;);\nchar[] reversedText = input.toCharArray();\nchar[] normalizedText;\nint sentenceCount = 0, vowelCount, consonantCount;\nfor (String sentence : sentences) {\n    vowelCount = consonantCount = 0;\n    sentenceCount++;\n    System.out.println(sentence);\n    String[] words = sentence.split(&quot; &quot;);\n    System.out.println(&quot;Number of words is &quot; + words.length);\n    String lowerCase = sentence.toLowerCase();\n    char[] chars = lowerCase.toCharArray();\n    System.out.println(&quot;Number of characters is &quot; + sentence.length());\n    for (char c : chars) {\n        if (String.valueOf(c).matches(&quot;[aeiouy]&quot;)) vowelCount++;\n        else if (String.valueOf(c).matches(&quot;[hkrdtn]&quot;)) consonantCount++;\n    }\n    System.out.println(&quot;Number of vowels is &quot; + vowelCount);\n    System.out.println(&quot;Number of consonants is &quot; + consonantCount);\n}\nSystem.out.println(&quot; &quot;);\nSystem.out.println(&quot;Number of sentences is &quot; + sentenceCount);\nfor (int i = (reversedText.length) - 1; i &gt;= 0; i--)\n    System.out.print(reversedText[i]);\nSystem.out.println(&quot; &quot;);\nnormalizedText = replace(input).toCharArray();\nSystem.out.println(normalizedText);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684738088,"creation_date":1684738088,"answer_id":76303616,"question_id":75870129,"body_markdown":"I would rewrite your code to break out each operation into its own, unit-testable and well named, method:\r\n\r\n```\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        String input = sc.nextLine();\r\n        System.out.println(input);\r\n        String[] sentences = input.split(&quot; ?\\\\. ?&quot;);\r\n        for (String sentence : sentences) {\r\n            System.out.println(&quot;Number of words is &quot; + countWords(sentence));\r\n            System.out.println(&quot;Number of characters is &quot; + sentence.length());\r\n            System.out.println(&quot;Reversed is &quot; + new StringBuilder(sentence).reverse());\r\n            System.out.println(&quot;Diacritics removed is &quot; + removeDiacritics(sentence));\r\n            System.out.println(&quot;Number of vowels is &quot; + countVowels(sentence));\r\n            System.out.println(&quot;Number of consonants is &quot; + countConsonants(sentence));\r\n        }\r\n    }\r\n\r\n    private static final Map&lt;String, String&gt; DIACRITIC_MAPPINGS = new HashMap&lt;&gt;() {{\r\n        put(&quot;ě&quot;, &quot;e&quot;);\r\n        put(&quot;š&quot;, &quot;s&quot;);\r\n        put(&quot;č&quot;, &quot;c&quot;);\r\n        put(&quot;ř&quot;, &quot;r&quot;);\r\n        put(&quot;ž&quot;, &quot;z&quot;);\r\n        put(&quot;&#253;&quot;, &quot;y&quot;);\r\n        put(&quot;&#225;&quot;, &quot;a&quot;);\r\n        put(&quot;&#237;&quot;, &quot;i&quot;);\r\n        put(&quot;&#233;&quot;, &quot;e&quot;);\r\n        put(&quot;&#250;&quot;, &quot;u&quot;);\r\n        put(&quot;ů&quot;, &quot;u&quot;);\r\n        put(&quot;Ě&quot;, &quot;E&quot;);\r\n        put(&quot;Š&quot;, &quot;S&quot;);\r\n        put(&quot;Č&quot;, &quot;C&quot;);\r\n        put(&quot;Ř&quot;, &quot;R&quot;);\r\n        put(&quot;Ž&quot;, &quot;Z&quot;);\r\n        put(&quot;&#221;&quot;, &quot;Y&quot;);\r\n        put(&quot;&#193;&quot;, &quot;A&quot;);\r\n        put(&quot;&#205;&quot;, &quot;I&quot;);\r\n        put(&quot;&#201;&quot;, &quot;E&quot;);\r\n        put(&quot;&#218;&quot;, &quot;U&quot;);\r\n        put(&quot;Ů&quot;, &quot;U&quot;);\r\n    }};\r\n\r\n    private static final Pattern DIACRITICS = Pattern.compile(&#39;[&#39; + String.join(&quot;&quot;, DIACRITIC_MAPPINGS.keySet()) + &#39;]&#39;);\r\n\r\n    public static int countWords(String str) {\r\n        return str.trim().split(&quot; +&quot;).length;\r\n    }\r\n\r\n    public static int countVowels(String str) {\r\n        return str.replaceAll(&quot;(?i)[^aeiou]&quot;, &quot;&quot;).length();\r\n    }\r\n\r\n    public static int countConsonants(String str) {\r\n        return str.replaceAll(&quot;(?i)[ .aeiou]&quot;, &quot;&quot;).length();\r\n    }\r\n\r\n    public static String removeDiacritics(String str) {\r\n        return DIACRITICS.matcher(str).replaceAll(mr -&gt; DIACRITIC_MAPPINGS.get(mr.group()));\r\n    }\r\n}\r\n```","title":"Work with Strings, Java, Diacritic Method","body":"<p>I would rewrite your code to break out each operation into its own, unit-testable and well named, method:</p>\n<pre><code>    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        String input = sc.nextLine();\n        System.out.println(input);\n        String[] sentences = input.split(&quot; ?\\\\. ?&quot;);\n        for (String sentence : sentences) {\n            System.out.println(&quot;Number of words is &quot; + countWords(sentence));\n            System.out.println(&quot;Number of characters is &quot; + sentence.length());\n            System.out.println(&quot;Reversed is &quot; + new StringBuilder(sentence).reverse());\n            System.out.println(&quot;Diacritics removed is &quot; + removeDiacritics(sentence));\n            System.out.println(&quot;Number of vowels is &quot; + countVowels(sentence));\n            System.out.println(&quot;Number of consonants is &quot; + countConsonants(sentence));\n        }\n    }\n\n    private static final Map&lt;String, String&gt; DIACRITIC_MAPPINGS = new HashMap&lt;&gt;() {{\n        put(&quot;ě&quot;, &quot;e&quot;);\n        put(&quot;š&quot;, &quot;s&quot;);\n        put(&quot;č&quot;, &quot;c&quot;);\n        put(&quot;ř&quot;, &quot;r&quot;);\n        put(&quot;ž&quot;, &quot;z&quot;);\n        put(&quot;ý&quot;, &quot;y&quot;);\n        put(&quot;á&quot;, &quot;a&quot;);\n        put(&quot;í&quot;, &quot;i&quot;);\n        put(&quot;é&quot;, &quot;e&quot;);\n        put(&quot;ú&quot;, &quot;u&quot;);\n        put(&quot;ů&quot;, &quot;u&quot;);\n        put(&quot;Ě&quot;, &quot;E&quot;);\n        put(&quot;Š&quot;, &quot;S&quot;);\n        put(&quot;Č&quot;, &quot;C&quot;);\n        put(&quot;Ř&quot;, &quot;R&quot;);\n        put(&quot;Ž&quot;, &quot;Z&quot;);\n        put(&quot;Ý&quot;, &quot;Y&quot;);\n        put(&quot;Á&quot;, &quot;A&quot;);\n        put(&quot;Í&quot;, &quot;I&quot;);\n        put(&quot;É&quot;, &quot;E&quot;);\n        put(&quot;Ú&quot;, &quot;U&quot;);\n        put(&quot;Ů&quot;, &quot;U&quot;);\n    }};\n\n    private static final Pattern DIACRITICS = Pattern.compile('[' + String.join(&quot;&quot;, DIACRITIC_MAPPINGS.keySet()) + ']');\n\n    public static int countWords(String str) {\n        return str.trim().split(&quot; +&quot;).length;\n    }\n\n    public static int countVowels(String str) {\n        return str.replaceAll(&quot;(?i)[^aeiou]&quot;, &quot;&quot;).length();\n    }\n\n    public static int countConsonants(String str) {\n        return str.replaceAll(&quot;(?i)[ .aeiou]&quot;, &quot;&quot;).length();\n    }\n\n    public static String removeDiacritics(String str) {\n        return DIACRITICS.matcher(str).replaceAll(mr -&gt; DIACRITIC_MAPPINGS.get(mr.group()));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27545743,"reputation":21,"user_id":21021708,"display_name":"QuackGaming1220"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1684738088,"creation_date":1680030219,"question_id":75870129,"body_markdown":"```\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n            public static void main(String[] args) {\r\n                Scanner sc = new Scanner(System.in);\r\n                String input = sc.nextLine();\r\n                System.out.println(input);\r\n                String[] sentences = input.split(&quot;\\\\. &quot;);\r\n                char[] reversedText = input.toCharArray();\r\n                char[] normalizedText = input.toCharArray();\r\n                int sentenceCount = 0;\r\n                int vowelCount = 0;\r\n                int consonantCount = 0;\r\n                for (String sentence : sentences) {\r\n                    vowelCount = 0;\r\n                    consonantCount = 0;\r\n                    sentenceCount++;\r\n                    System.out.println(sentence);\r\n                    String[] words = sentence.split(&quot; &quot;);\r\n                    System.out.println(&quot;Number of words is &quot; + words.length);\r\n                    String lowerCase = sentence.toLowerCase();\r\n                    char[] chars = lowerCase.toCharArray();\r\n                    System.out.println(&quot;Number of characters is &quot; + sentence.length());\r\n                    for (char c : chars) {\r\n                        if (c == &#39;a&#39; || c == &#39;e&#39; || c == &#39;i&#39; || c == &#39;o&#39; || c == &#39;u&#39; || c == &#39;y&#39;) {\r\n                            vowelCount++;\r\n                        } else if (c == &#39;h&#39; || c == &#39;k&#39; || c == &#39;r&#39; || c == &#39;d&#39; || c == &#39;t&#39; || c == &#39;n&#39;) {\r\n                            consonantCount++;\r\n                        }\r\n                    }\r\n                    System.out.println(&quot;Number of vowels is &quot; + vowelCount);\r\n                    System.out.println(&quot;Number of consonants is &quot; + consonantCount);\r\n                }\r\n                System.out.println(&quot; &quot;);\r\n                System.out.println(&quot;Number of sentences is &quot; + sentenceCount);\r\n                for (int i = (reversedText.length) - 1; i &gt;= 0; i--) {\r\n                    System.out.print(reversedText[i]);\r\n                }\r\n                System.out.println(&quot; &quot;);\r\n                char[] diacritics = {&#39;ě&#39;, &#39;š&#39;, &#39;č&#39;, &#39;ř&#39;, &#39;ž&#39;, &#39;&#253;&#39;, &#39;&#225;&#39;, &#39;&#237;&#39;, &#39;&#233;&#39;, &#39;&#250;&#39;, &#39;ů&#39;, &#39;Ě&#39;, &#39;Š&#39;, &#39;Č&#39;, &#39;Ř&#39;, &#39;Ž&#39;, &#39;&#221;&#39;, &#39;&#193;&#39;, &#39;&#205;&#39;, &#39;&#201;&#39;, &#39;&#218;&#39;, &#39;Ů&#39; };\r\n                char[] normal = {&#39;e&#39;, &#39;s&#39;, &#39;c&#39;, &#39;r&#39;, &#39;z&#39;, &#39;y&#39;, &#39;a&#39;, &#39;i&#39;, &#39;e&#39;, &#39;u&#39;, &#39;u&#39;, &#39;E&#39;, &#39;S&#39;, &#39;C&#39;, &#39;R&#39;, &#39;Z&#39;, &#39;Y&#39;, &#39;A&#39;, &#39;I&#39;, &#39;E&#39;, &#39;U&#39;, &#39;U&#39; };\r\n                for (int i = 0; i &lt; normalizedText.length; i++) {\r\n                    char c = normalizedText[i];\r\n                    int index = -1;\r\n                    for (int j = 0; j &lt; diacritics.length; j++) {\r\n                        if (c == diacritics[j]) {\r\n                            index = j;\r\n                            break;\r\n                        }\r\n                    }\r\n                    if (index != -1) {\r\n                        normalizedText[i] = normal[index];\r\n                    }\r\n                }\r\n\r\n                System.out.println(normalizedText);\r\n\r\n            }}\r\n```\r\nI was working with Strings.\r\nCan someone show me how to do this with a method? Also please point out things that are wrong with my code in general.\r\n\r\nI was trying to replace all of the diacritics, with &quot;normal&quot; text, this is what I came up with, but it&#180;s not a method but done manually.","title":"Work with Strings, Java, Diacritic Method","body":"<pre><code>import java.util.Scanner;\n\npublic class Main {\n            public static void main(String[] args) {\n                Scanner sc = new Scanner(System.in);\n                String input = sc.nextLine();\n                System.out.println(input);\n                String[] sentences = input.split(&quot;\\\\. &quot;);\n                char[] reversedText = input.toCharArray();\n                char[] normalizedText = input.toCharArray();\n                int sentenceCount = 0;\n                int vowelCount = 0;\n                int consonantCount = 0;\n                for (String sentence : sentences) {\n                    vowelCount = 0;\n                    consonantCount = 0;\n                    sentenceCount++;\n                    System.out.println(sentence);\n                    String[] words = sentence.split(&quot; &quot;);\n                    System.out.println(&quot;Number of words is &quot; + words.length);\n                    String lowerCase = sentence.toLowerCase();\n                    char[] chars = lowerCase.toCharArray();\n                    System.out.println(&quot;Number of characters is &quot; + sentence.length());\n                    for (char c : chars) {\n                        if (c == 'a' || c == 'e' || c == 'i' || c == 'o' || c == 'u' || c == 'y') {\n                            vowelCount++;\n                        } else if (c == 'h' || c == 'k' || c == 'r' || c == 'd' || c == 't' || c == 'n') {\n                            consonantCount++;\n                        }\n                    }\n                    System.out.println(&quot;Number of vowels is &quot; + vowelCount);\n                    System.out.println(&quot;Number of consonants is &quot; + consonantCount);\n                }\n                System.out.println(&quot; &quot;);\n                System.out.println(&quot;Number of sentences is &quot; + sentenceCount);\n                for (int i = (reversedText.length) - 1; i &gt;= 0; i--) {\n                    System.out.print(reversedText[i]);\n                }\n                System.out.println(&quot; &quot;);\n                char[] diacritics = {'ě', 'š', 'č', 'ř', 'ž', 'ý', 'á', 'í', 'é', 'ú', 'ů', 'Ě', 'Š', 'Č', 'Ř', 'Ž', 'Ý', 'Á', 'Í', 'É', 'Ú', 'Ů' };\n                char[] normal = {'e', 's', 'c', 'r', 'z', 'y', 'a', 'i', 'e', 'u', 'u', 'E', 'S', 'C', 'R', 'Z', 'Y', 'A', 'I', 'E', 'U', 'U' };\n                for (int i = 0; i &lt; normalizedText.length; i++) {\n                    char c = normalizedText[i];\n                    int index = -1;\n                    for (int j = 0; j &lt; diacritics.length; j++) {\n                        if (c == diacritics[j]) {\n                            index = j;\n                            break;\n                        }\n                    }\n                    if (index != -1) {\n                        normalizedText[i] = normal[index];\n                    }\n                }\n\n                System.out.println(normalizedText);\n\n            }}\n</code></pre>\n<p>I was working with Strings.\nCan someone show me how to do this with a method? Also please point out things that are wrong with my code in general.</p>\n<p>I was trying to replace all of the diacritics, with &quot;normal&quot; text, this is what I came up with, but it´s not a method but done manually.</p>\n"},{"tags":["java","maven","intellij-idea","javadoc","maven-javadoc-plugin"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1684686650,"post_id":76300711,"comment_id":134549827,"body_markdown":"You need to attach the javadocs when building your artifact in its Pom.xml. Then they go together in the maven repository b","body":"You need to attach the javadocs when building your artifact in its Pom.xml. Then they go together in the maven repository b"},{"owner":{"account_id":7221749,"reputation":175,"user_id":5511940,"accept_rate":75,"display_name":"Francis Rubio"},"score":0,"creation_date":1684688257,"post_id":76300711,"comment_id":134550025,"body_markdown":"When I build my project, it produces two JAR files. How do I attach the javadocs JAR to the artifact?","body":"When I build my project, it produces two JAR files. How do I attach the javadocs JAR to the artifact?"}],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1684692626,"creation_date":1684688552,"answer_id":76301015,"question_id":76300711,"body_markdown":"Pure Maven (good IDEs should recognize these):\r\n```lang-bash\r\nmvn dependency:resolve -Dclassifier=javadoc\r\n```\r\n\r\nRef: https://maven.apache.org/plugins/maven-dependency-plugin/resolve-mojo.html\r\n\r\nNotes: It&#39;s rather unusual (unless explicitly ordered) to &quot;package&quot; (dependency) javadocs with the main artifact... In maven, &quot;we&quot; rather maintain (own!) artifacts for &quot;main&quot;/sources/and javadocs (See: https://maven.apache.org/repository/guide-central-repository-upload.html)\r\n\r\nAs mentioned, good IDEs should be capable of processing the &quot;local repository&quot; for javadoc (and source) artifacts of undrlying dependencies.\r\n\r\nTo &quot;download sources&quot; use:\r\n```lang-bash\r\nmvn dependency:sources\r\n```\r\n\r\nRef: https://maven.apache.org/plugins/maven-dependency-plugin/sources-mojo.html ;)\r\n\r\n\r\n----------\r\nWhen your (remote) Repository does not comply with &quot;central requirements&quot; (has no &quot;source&quot; and &quot;javadoc&quot; artifacts attached),\r\nalso to eliminate (any) `&lt;scope&gt;system&lt;/scope&gt;` dependency, I would strongly recommend (to &quot;mavenize&quot; the dependencies and) install/deploy sources and javadocs artifacts for this:\r\n- locally with: `mvn install:install ...`\r\n- to a &quot;repo&quot;: `mvn deploy:...`\r\n\r\nFor &quot;mavenize&quot; refer to:\r\n- locally: https://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html\r\n- for &quot;deployments&quot;: https://maven.apache.org/guides/mini/guide-3rd-party-jars-remote.html\r\n\r\nSpecifically for sources and javadocs artifacts (once you have/generate these):\r\n\r\n- deploy: https://maven.apache.org/plugins/maven-deploy-plugin/examples/deploying-sources-javadoc.html\r\n- accordingly with &quot;install-file&quot;\r\n\r\n\r\n----------\r\n\r\n\r\nThe &quot;pure IDE&quot; way, would be to link to the (external!) sources/javadocs (in file system/zip/jar archive):\r\n... See screenshot:\r\n\r\n[![screenshot][1]][1]\r\n\r\n- `com.example:my-dep:0.0.1-SNAPSHOT` is my (fake) `system` scoped dependency.\r\n- After &quot;applying&quot; changes and confirming the warn dialog (iml vs pom, re-import...), IntelliJ should recoginze javadocs and sources.\r\n- According to the warning our &quot;modifications&quot; get lost in case of a &quot;maven re-import&quot;.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/C7GsK.png","title":"How to add a Javadoc JAR file to a Maven project in IntelliJ IDEA?","body":"<p>Pure Maven (good IDEs should recognize these):</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn dependency:resolve -Dclassifier=javadoc\n</code></pre>\n<p>Ref: <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/resolve-mojo.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-dependency-plugin/resolve-mojo.html</a></p>\n<p>Notes: It's rather unusual (unless explicitly ordered) to &quot;package&quot; (dependency) javadocs with the main artifact... In maven, &quot;we&quot; rather maintain (own!) artifacts for &quot;main&quot;/sources/and javadocs (See: <a href=\"https://maven.apache.org/repository/guide-central-repository-upload.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/repository/guide-central-repository-upload.html</a>)</p>\n<p>As mentioned, good IDEs should be capable of processing the &quot;local repository&quot; for javadoc (and source) artifacts of undrlying dependencies.</p>\n<p>To &quot;download sources&quot; use:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn dependency:sources\n</code></pre>\n<p>Ref: <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/sources-mojo.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-dependency-plugin/sources-mojo.html</a> ;)</p>\n<hr />\n<p>When your (remote) Repository does not comply with &quot;central requirements&quot; (has no &quot;source&quot; and &quot;javadoc&quot; artifacts attached),\nalso to eliminate (any) <code>&lt;scope&gt;system&lt;/scope&gt;</code> dependency, I would strongly recommend (to &quot;mavenize&quot; the dependencies and) install/deploy sources and javadocs artifacts for this:</p>\n<ul>\n<li>locally with: <code>mvn install:install ...</code></li>\n<li>to a &quot;repo&quot;: <code>mvn deploy:...</code></li>\n</ul>\n<p>For &quot;mavenize&quot; refer to:</p>\n<ul>\n<li>locally: <a href=\"https://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html</a></li>\n<li>for &quot;deployments&quot;: <a href=\"https://maven.apache.org/guides/mini/guide-3rd-party-jars-remote.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/guides/mini/guide-3rd-party-jars-remote.html</a></li>\n</ul>\n<p>Specifically for sources and javadocs artifacts (once you have/generate these):</p>\n<ul>\n<li>deploy: <a href=\"https://maven.apache.org/plugins/maven-deploy-plugin/examples/deploying-sources-javadoc.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-deploy-plugin/examples/deploying-sources-javadoc.html</a></li>\n<li>accordingly with &quot;install-file&quot;</li>\n</ul>\n<hr />\n<p>The &quot;pure IDE&quot; way, would be to link to the (external!) sources/javadocs (in file system/zip/jar archive):\n... See screenshot:</p>\n<p><a href=\"https://i.stack.imgur.com/C7GsK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C7GsK.png\" alt=\"screenshot\" /></a></p>\n<ul>\n<li><code>com.example:my-dep:0.0.1-SNAPSHOT</code> is my (fake) <code>system</code> scoped dependency.</li>\n<li>After &quot;applying&quot; changes and confirming the warn dialog (iml vs pom, re-import...), IntelliJ should recoginze javadocs and sources.</li>\n<li>According to the warning our &quot;modifications&quot; get lost in case of a &quot;maven re-import&quot;.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684737896,"creation_date":1684691191,"answer_id":76301182,"question_id":76300711,"body_markdown":"There is a more general maven-style way and should be preferred over the &quot;IDE way&quot;. You can use a local &quot;fake&quot; repository inside your project. Add the jar files to your repo. The maven call depends on the type of the jar.\r\n\r\n**The jar:**\r\n\r\n    mvn deploy:deploy-file \\\r\n      -DgroupId=org.example \\\r\n      -DartifactId=mylib\\\r\n      -Dversion=1.1 \\\r\n      -Dfile=/path/to/mylib-1.1.jar \\\r\n      -Dpackaging=jar \\\r\n      -Durl=file://path/to/your-project/fake-repo\r\n\r\n**The sources:**\r\n\r\n    mvn deploy:deploy-file \\\r\n      -DgroupId=org.example \\\r\n      -DartifactId=mylib\\\r\n      -Dversion=1.1 \\\r\n      -Dfile=/path/to/mylib-1.1-sources.jar \\\r\n      -Dpackaging=jar \\\r\n      -Durl=file://path/to/your-project/fake-repo \\\r\n      -Dclassifier=sources\r\n\r\n**The javadoc:**\r\n\r\n    mvn deploy:deploy-file \\\r\n      -DgroupId=org.example \\\r\n      -DartifactId=mylib\\\r\n      -Dversion=1.1 \\\r\n      -Dfile=/path/to/mylib-1.1-javadoc.jar \\\r\n      -Dpackaging=jar \\\r\n      -Durl=file://path/to/your-project/fake-repo \\\r\n      -Dclassifier=javadoc\r\n\r\nThe next step is adding the repo and the dependency to your pom:\r\n\r\n    &lt;repositories&gt;\r\n      &lt;repository&gt;\r\n        &lt;id&gt;fake-repo&lt;/id&gt;\r\n        &lt;name&gt;Just a fake repository.&lt;/name&gt;\r\n        &lt;url&gt;file://${project.basedir}/fake-repo&lt;/url&gt;\r\n      &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mylib&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;","title":"How to add a Javadoc JAR file to a Maven project in IntelliJ IDEA?","body":"<p>There is a more general maven-style way and should be preferred over the &quot;IDE way&quot;. You can use a local &quot;fake&quot; repository inside your project. Add the jar files to your repo. The maven call depends on the type of the jar.</p>\n<p><strong>The jar:</strong></p>\n<pre><code>mvn deploy:deploy-file \\\n  -DgroupId=org.example \\\n  -DartifactId=mylib\\\n  -Dversion=1.1 \\\n  -Dfile=/path/to/mylib-1.1.jar \\\n  -Dpackaging=jar \\\n  -Durl=file://path/to/your-project/fake-repo\n</code></pre>\n<p><strong>The sources:</strong></p>\n<pre><code>mvn deploy:deploy-file \\\n  -DgroupId=org.example \\\n  -DartifactId=mylib\\\n  -Dversion=1.1 \\\n  -Dfile=/path/to/mylib-1.1-sources.jar \\\n  -Dpackaging=jar \\\n  -Durl=file://path/to/your-project/fake-repo \\\n  -Dclassifier=sources\n</code></pre>\n<p><strong>The javadoc:</strong></p>\n<pre><code>mvn deploy:deploy-file \\\n  -DgroupId=org.example \\\n  -DartifactId=mylib\\\n  -Dversion=1.1 \\\n  -Dfile=/path/to/mylib-1.1-javadoc.jar \\\n  -Dpackaging=jar \\\n  -Durl=file://path/to/your-project/fake-repo \\\n  -Dclassifier=javadoc\n</code></pre>\n<p>The next step is adding the repo and the dependency to your pom:</p>\n<pre><code>&lt;repositories&gt;\n  &lt;repository&gt;\n    &lt;id&gt;fake-repo&lt;/id&gt;\n    &lt;name&gt;Just a fake repository.&lt;/name&gt;\n    &lt;url&gt;file://${project.basedir}/fake-repo&lt;/url&gt;\n  &lt;/repository&gt;\n&lt;/repositories&gt;\n\n&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;mylib&lt;/artifactId&gt;\n    &lt;version&gt;1.1&lt;/version&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":7221749,"reputation":175,"user_id":5511940,"accept_rate":75,"display_name":"Francis Rubio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76301182,"answer_count":2,"score":2,"last_activity_date":1684737896,"creation_date":1684684082,"question_id":76300711,"body_markdown":"I am making a local Java utility library and building it into a JAR file. I am also building a JAR file for the Javadocs. \r\n\r\nThese are the JAR files generated by Maven:\r\n\r\n[![inside target/ directory, JAR files called redacted-libraries-0.0.1.jar and redacted-libraries-0.0.1-javadocs.jar][1]][1]\r\n\r\nNow, I am trying to use the Javadocs JAR file with IntelliJ IDEA by importing it in File &gt; Project Structure, and it works. I get hints and documentation for code references in my IDE. But as soon as I reload my Maven project, the Javadocs are gone and I have to manually add it back.\r\n\r\nI am also getting this warning from IntelliJ everytime I add the Javadoc JAR file back.\r\n\r\n[![Library &#39;Maven:com.redacted-library.0.0.1&#39; is imported from Maven. Any changes made in its configuration might be lost after reimporting.][2]][2]\r\n\r\nWhat is the proper way of adding a Javadoc JAR file into a Maven project?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G3hzP.png\r\n  [2]: https://i.stack.imgur.com/Ptmzo.png","title":"How to add a Javadoc JAR file to a Maven project in IntelliJ IDEA?","body":"<p>I am making a local Java utility library and building it into a JAR file. I am also building a JAR file for the Javadocs.</p>\n<p>These are the JAR files generated by Maven:</p>\n<p><a href=\"https://i.stack.imgur.com/G3hzP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G3hzP.png\" alt=\"inside target/ directory, JAR files called redacted-libraries-0.0.1.jar and redacted-libraries-0.0.1-javadocs.jar\" /></a></p>\n<p>Now, I am trying to use the Javadocs JAR file with IntelliJ IDEA by importing it in File &gt; Project Structure, and it works. I get hints and documentation for code references in my IDE. But as soon as I reload my Maven project, the Javadocs are gone and I have to manually add it back.</p>\n<p>I am also getting this warning from IntelliJ everytime I add the Javadoc JAR file back.</p>\n<p><a href=\"https://i.stack.imgur.com/Ptmzo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ptmzo.png\" alt=\"Library 'Maven:com.redacted-library.0.0.1' is imported from Maven. Any changes made in its configuration might be lost after reimporting.\" /></a></p>\n<p>What is the proper way of adding a Javadoc JAR file into a Maven project?</p>\n"},{"tags":["java","stack-trace","systemexit"],"answers":[{"tags":[],"owner":{"account_id":28637891,"reputation":196,"user_id":21927668,"display_name":"Almaz Shakirov"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1684737862,"creation_date":1684524049,"answer_id":76291918,"question_id":76290683,"body_markdown":"How about using shutdown hook?\r\nIt could be like this:\r\n\r\n    Thread printStackTracesOnShutdownHook = new Thread(() -&gt; {\r\n        LOG.info(&quot;Shutdown hook called&quot;);\r\n        for (Map.Entry&lt;Thread, StackTraceElement[]&gt; pair : \r\n                 Thread.getAllStackTraces().entrySet()) {\r\n            LOG.info(pair.getKey() + &quot; : &quot; + Arrays.toString(pair.getValue()));\r\n        }\r\n    });\r\n\r\n    Runtime.getRuntime().addShutdownHook(printStackTracesOnShutdownHook);\r\n\r\nYou can add this code somewhere in your application (where it will be executed). Then on shutdown `printStackTracesOnShutdownHook` will write to logs all stackTraces. And you will be able to find from these stackTraces where `System.exit()` was called.","title":"Is there a way to log stacktrace which called System.exit in Java","body":"<p>How about using shutdown hook?\nIt could be like this:</p>\n<pre><code>Thread printStackTracesOnShutdownHook = new Thread(() -&gt; {\n    LOG.info(&quot;Shutdown hook called&quot;);\n    for (Map.Entry&lt;Thread, StackTraceElement[]&gt; pair : \n             Thread.getAllStackTraces().entrySet()) {\n        LOG.info(pair.getKey() + &quot; : &quot; + Arrays.toString(pair.getValue()));\n    }\n});\n\nRuntime.getRuntime().addShutdownHook(printStackTracesOnShutdownHook);\n</code></pre>\n<p>You can add this code somewhere in your application (where it will be executed). Then on shutdown <code>printStackTracesOnShutdownHook</code> will write to logs all stackTraces. And you will be able to find from these stackTraces where <code>System.exit()</code> was called.</p>\n"}],"owner":{"account_id":101412,"reputation":5107,"user_id":272869,"accept_rate":96,"display_name":"VextoR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":76291918,"answer_count":1,"score":4,"last_activity_date":1684737862,"creation_date":1684511699,"question_id":76290683,"body_markdown":"I think there is a way to do this with `SecurityManager`, but I don&#39;t want to introduce it in an App just for this.\r\n\r\nIs there a way to catch and log stacktrace of what called exit() using some other solution?","title":"Is there a way to log stacktrace which called System.exit in Java","body":"<p>I think there is a way to do this with <code>SecurityManager</code>, but I don't want to introduce it in an App just for this.</p>\n<p>Is there a way to catch and log stacktrace of what called exit() using some other solution?</p>\n"},{"tags":["java","amazon-web-services","spring-3","aws-xray","jakarta-migration"],"comments":[{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1669738900,"post_id":74616492,"comment_id":131708869,"body_markdown":"Sounds like a Spring lib issue vs an AWS issue.","body":"Sounds like a Spring lib issue vs an AWS issue."},{"owner":{"account_id":18773357,"reputation":11,"user_id":13689708,"display_name":"snnhbyb"},"score":0,"creation_date":1669875889,"post_id":74616492,"comment_id":131743512,"body_markdown":"@smac2020 thx for the comment. As I understand still there is no update for aws in spring. So just waiting for that","body":"@smac2020 thx for the comment. As I understand still there is no update for aws in spring. So just waiting for that"}],"answers":[{"tags":[],"owner":{"account_id":19339303,"reputation":36,"user_id":14139229,"display_name":"Adam Shaw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670954478,"creation_date":1670953983,"answer_id":74789039,"question_id":74616492,"body_markdown":"Thanks for bringing this to our attention.\r\n\r\nThere is an issue with the latest version of Spring since it is using Jakarta instead of javax.\r\n\r\nI will add this as a work item for us.","title":"Cannot access javax.servlet.Filter class file for javax.servlet.Filter not found","body":"<p>Thanks for bringing this to our attention.</p>\n<p>There is an issue with the latest version of Spring since it is using Jakarta instead of javax.</p>\n<p>I will add this as a work item for us.</p>\n"},{"tags":[],"owner":{"account_id":17074189,"reputation":163,"user_id":12354182,"display_name":"cherish sham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684737800,"creation_date":1684737800,"answer_id":76303589,"question_id":74616492,"body_markdown":"This is fixed in latest upgrade.  \r\nYou need to import com.amazonaws:aws-xray-recorder-sdk-core:2.14.0 \r\nand other related libraries","title":"Cannot access javax.servlet.Filter class file for javax.servlet.Filter not found","body":"<p>This is fixed in latest upgrade.<br />\nYou need to import com.amazonaws:aws-xray-recorder-sdk-core:2.14.0\nand other related libraries</p>\n"}],"owner":{"account_id":18773357,"reputation":11,"user_id":13689708,"display_name":"snnhbyb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":549,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1684737800,"creation_date":1669735982,"question_id":74616492,"body_markdown":"I&#39;m working in a project and right now I&#39;m migrating the project to Spring 3.0. So I made some changes in some classes. I can not share the classes because of the job rules but this class about the AwsXrayConfig class. And using filter. But when I try to build project I&#39;m getting this &quot;cannot access javax.servlet.Filter&quot; error. In the class I already updated javax to jakarta but AWSXRayServletFilter still using com.amazon.xray.javax.servlet.AWSXRayServletFilter library. So I&#39;m stuck here. Also I&#39;m not sure about looking the true place? Is that about jakarta or spring or aws libraries I&#39;&#39;m not sure. Any ideas? Thx\r\n\r\nI already removed import part about AWSXRayServletFilter but it&#39;s complaining. I changed javax.servlet.Filter to jakarta.servlet.Filter. Thats it","title":"Cannot access javax.servlet.Filter class file for javax.servlet.Filter not found","body":"<p>I'm working in a project and right now I'm migrating the project to Spring 3.0. So I made some changes in some classes. I can not share the classes because of the job rules but this class about the AwsXrayConfig class. And using filter. But when I try to build project I'm getting this &quot;cannot access javax.servlet.Filter&quot; error. In the class I already updated javax to jakarta but AWSXRayServletFilter still using com.amazon.xray.javax.servlet.AWSXRayServletFilter library. So I'm stuck here. Also I'm not sure about looking the true place? Is that about jakarta or spring or aws libraries I''m not sure. Any ideas? Thx</p>\n<p>I already removed import part about AWSXRayServletFilter but it's complaining. I changed javax.servlet.Filter to jakarta.servlet.Filter. Thats it</p>\n"},{"tags":["java","jakarta-ee","jvm","classloader","hotdeploy"],"comments":[{"owner":{"account_id":7821678,"reputation":2208,"user_id":5914654,"display_name":"vincrichaud"},"score":1,"creation_date":1521733897,"post_id":49432964,"comment_id":85867871,"body_markdown":"Have you tried ?","body":"Have you tried ?"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1521733941,"post_id":49432964,"comment_id":85867891,"body_markdown":"You should not do this.  A better bet would be to use a JVM that allows hot redeploy.","body":"You should not do this.  A better bet would be to use a JVM that allows hot redeploy."},{"owner":{"account_id":2756352,"reputation":10990,"user_id":2374302,"accept_rate":86,"display_name":"Axel Amthor"},"score":1,"creation_date":1521734144,"post_id":49432964,"comment_id":85868039,"body_markdown":"An Idea would be an OSGI environment like Apache Felix or Equinox. These enable dynamic loading, starting and stopping of soocalled bundles etc.","body":"An Idea would be an OSGI environment like Apache Felix or Equinox. These enable dynamic loading, starting and stopping of soocalled bundles etc."},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1521734179,"post_id":49432964,"comment_id":85868063,"body_markdown":"So people and/or automated testing runs 24/7?  There is no time slice to update the server?  Which is more important: deploy fixed defects or keep the environment up?","body":"So people and/or automated testing runs 24/7?  There is no time slice to update the server?  Which is more important: deploy fixed defects or keep the environment up?"},{"owner":{"account_id":12939056,"reputation":35,"user_id":9355458,"accept_rate":0,"display_name":"Ram"},"score":0,"creation_date":1521734311,"post_id":49432964,"comment_id":85868152,"body_markdown":"actually its a small teating environment and almost no scope for OSGI, Apache Flex.  seems the requirement is to write a java program to dovthe job ...         will that be possible ?","body":"actually its a small teating environment and almost no scope for OSGI, Apache Flex.  seems the requirement is to write a java program to dovthe job ...         will that be possible ?"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1521735125,"post_id":49432964,"comment_id":85868753,"body_markdown":"Why would a deploy/restart of a small test environment be so disruptive?  How much time, 5 minutes?  Over lunch?  Scheduled at night?  Assuming it is possible, would it be acceptable to have the test environment not as close as the production environment?","body":"Why would a deploy/restart of a small test environment be so disruptive?  How much time, 5 minutes?  Over lunch?  Scheduled at night?  Assuming it is possible, would it be acceptable to have the test environment not as close as the production environment?"},{"owner":{"account_id":1443334,"reputation":41522,"user_id":1362755,"display_name":"the8472"},"score":0,"creation_date":1521924552,"post_id":49432964,"comment_id":85941980,"body_markdown":"consider multiple nodes + rolling restarts","body":"consider multiple nodes + rolling restarts"}],"answers":[{"tags":[],"owner":{"account_id":4500391,"reputation":2003,"user_id":3659052,"accept_rate":55,"display_name":"logger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521734218,"creation_date":1521734218,"answer_id":49433170,"question_id":49432964,"body_markdown":"No you cannot, you would need to have the container on the server side. Although for your server like tomcat, jboss, websphere etc. you can configure them to hot deploy but the server side would still needs restart once new class file is placed. If you are trying to hot deploy a class file you can try using JRebel it will allow you to hot deploy the class file without actually restarting because it is managed within JRebel container. (also note that JRebel is not free)","title":"Java Program to load an changed class without server restart","body":"<p>No you cannot, you would need to have the container on the server side. Although for your server like tomcat, jboss, websphere etc. you can configure them to hot deploy but the server side would still needs restart once new class file is placed. If you are trying to hot deploy a class file you can try using JRebel it will allow you to hot deploy the class file without actually restarting because it is managed within JRebel container. (also note that JRebel is not free)</p>\n"},{"tags":[],"owner":{"account_id":5677340,"reputation":280,"user_id":4489994,"display_name":"Abhay Phougat"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1684737139,"creation_date":1684734279,"answer_id":76303318,"question_id":49432964,"body_markdown":"There are quite a few solutions/plugins which help you with hot-deployment of java code saving you with complete build and server restart. I had used jRebel earlier available at https://www.jrebel.com/products/jrebel. There are other such solutions/tools that can help you with the hot deployment. ","title":"Java Program to load an changed class without server restart","body":"<p>There are quite a few solutions/plugins which help you with hot-deployment of java code saving you with complete build and server restart. I had used jRebel earlier available at <a href=\"https://www.jrebel.com/products/jrebel\" rel=\"nofollow noreferrer\">https://www.jrebel.com/products/jrebel</a>. There are other such solutions/tools that can help you with the hot deployment.</p>\n"}],"owner":{"account_id":12939056,"reputation":35,"user_id":9355458,"accept_rate":0,"display_name":"Ram"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":798,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1684737139,"creation_date":1521733629,"question_id":49432964,"body_markdown":"I need a java/j2ee program, that will load an updated class file when the server is still on. In our Web Application testing environment few classes(Java files) are being frequently changed to fix defects and need to load them in JVM fresh.\r\nWe can not restart the server to impact on going testing .\r\n\r\nCan we write a program to load it using class loader?","title":"Java Program to load an changed class without server restart","body":"<p>I need a java/j2ee program, that will load an updated class file when the server is still on. In our Web Application testing environment few classes(Java files) are being frequently changed to fix defects and need to load them in JVM fresh.\nWe can not restart the server to impact on going testing .</p>\n\n<p>Can we write a program to load it using class loader?</p>\n"},{"tags":["java","junit","mockito","junit4"],"answers":[{"tags":[],"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684736951,"creation_date":1684690040,"answer_id":76301111,"question_id":76300968,"body_markdown":"Actually, it`s very simple. You just need to use **@InjectMocks** instead **@Mock** for the service that you are testing:\r\n\r\n    @InjectMocks\r\n    private CarService carService;\r\n\r\nThis annotation says that Mockito will properly inject all mocks into your service(VinService into CarService).\r\n\r\n**Updated for comment**\r\nif you have somewhere initializing your service then you can easily add your mock inside test.\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n        public class CarServiceTest {\r\n    \r\n            private static final String VIN = &quot;1G100000000000000&quot;\r\n    \r\n            @InjectMocks\r\n            private CarService carService;\r\n    \r\n            @Test\r\n            void vinShouldBeCheckedSuccessfully() {\r\n                VinService vinService = Mockito.mock(VinService.class);\r\n    \r\n                //when\r\n                carService.checkCar(VIN);\r\n    \r\n                //then\r\n                Mockito.verify(vinService, Mockito.times(1)).checkVIN(\r\n                    Mockito.anyList(),\r\n                    Mockito.anyString(),\r\n                    Mockito.any()); // Consumer parameter\r\n            }\r\n        }","title":"NotAMockException when trying to use verify method","body":"<p>Actually, it`s very simple. You just need to use <strong>@InjectMocks</strong> instead <strong>@Mock</strong> for the service that you are testing:</p>\n<pre><code>@InjectMocks\nprivate CarService carService;\n</code></pre>\n<p>This annotation says that Mockito will properly inject all mocks into your service(VinService into CarService).</p>\n<p><strong>Updated for comment</strong>\nif you have somewhere initializing your service then you can easily add your mock inside test.</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\n    public class CarServiceTest {\n\n        private static final String VIN = &quot;1G100000000000000&quot;\n\n        @InjectMocks\n        private CarService carService;\n\n        @Test\n        void vinShouldBeCheckedSuccessfully() {\n            VinService vinService = Mockito.mock(VinService.class);\n\n            //when\n            carService.checkCar(VIN);\n\n            //then\n            Mockito.verify(vinService, Mockito.times(1)).checkVIN(\n                Mockito.anyList(),\n                Mockito.anyString(),\n                Mockito.any()); // Consumer parameter\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":17968187,"reputation":79,"user_id":13057627,"display_name":"TheFastestTurtle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76301111,"answer_count":1,"score":0,"last_activity_date":1684736951,"creation_date":1684687780,"question_id":76300968,"body_markdown":"My first steps with unit tests and Mockito. I would like to use verify() method to check if it was called once.\r\n\r\n\r\n    public class CarService {\r\n    \r\n        private final VinService vinService;\r\n    \r\n        public void checkCar(String VIN) {\r\n            (here there is some business logic like:create list, pass the VIN, and add Consumer)\r\n    \r\n            vinService.checkVin(list, VIN, consumer); //checkVin inside VinService.class is also void\r\n        }\r\n    }\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    public class CarServiceTest {\r\n    \r\n        private static final String VIN = &quot;1G100000000000000&quot;\r\n    \r\n        @Mock\r\n        private CarService carService;\r\n    \r\n        @Mock\r\n        private VinService vinService;\r\n    \r\n        @Test\r\n        void vinShouldBeCheckedSuccessfully() {\r\n    \r\n            //when\r\n            carService.checkCar(VIN);\r\n    \r\n            //then\r\n            Mockito.verify(vinService, Mockito.times(1)).checkVIN(\r\n                    Mockito.anyList(),\r\n                    Mockito.anyString(),\r\n                    Mockito.any()); // Consumer parameter\r\n        }\r\n    }\r\n\r\nHowever I am getting the error:\r\n\r\n   \r\n\r\n     org.mockito.exceptions.misusing.NotAMockException: \r\n        Argument passed to verify() is of type VinService and is not a mock!\r\n        Make sure you place the parenthesis correctly!\r\n        See the examples of correct verifications:\r\n            verify(mock).someMethod();\r\n            verify(mock, times(10)).someMethod();\r\n            verify(mock, atLeastOnce()).someMethod();\r\n\r\nCould you help me to understand why?","title":"NotAMockException when trying to use verify method","body":"<p>My first steps with unit tests and Mockito. I would like to use verify() method to check if it was called once.</p>\n<pre><code>public class CarService {\n\n    private final VinService vinService;\n\n    public void checkCar(String VIN) {\n        (here there is some business logic like:create list, pass the VIN, and add Consumer)\n\n        vinService.checkVin(list, VIN, consumer); //checkVin inside VinService.class is also void\n    }\n}\n\n@ExtendWith(MockitoExtension.class)\npublic class CarServiceTest {\n\n    private static final String VIN = &quot;1G100000000000000&quot;\n\n    @Mock\n    private CarService carService;\n\n    @Mock\n    private VinService vinService;\n\n    @Test\n    void vinShouldBeCheckedSuccessfully() {\n\n        //when\n        carService.checkCar(VIN);\n\n        //then\n        Mockito.verify(vinService, Mockito.times(1)).checkVIN(\n                Mockito.anyList(),\n                Mockito.anyString(),\n                Mockito.any()); // Consumer parameter\n    }\n}\n</code></pre>\n<p>However I am getting the error:</p>\n<pre><code> org.mockito.exceptions.misusing.NotAMockException: \n    Argument passed to verify() is of type VinService and is not a mock!\n    Make sure you place the parenthesis correctly!\n    See the examples of correct verifications:\n        verify(mock).someMethod();\n        verify(mock, times(10)).someMethod();\n        verify(mock, atLeastOnce()).someMethod();\n</code></pre>\n<p>Could you help me to understand why?</p>\n"},{"tags":["java","plugins","minecraft"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1684736952,"post_id":76274261,"comment_id":134554724,"body_markdown":"So you are sure the player used with the method is the right one? Because I don&#39;t see issue myself","body":"So you are sure the player used with the method is the right one? Because I don&#39;t see issue myself"},{"owner":{"account_id":27396340,"reputation":5,"user_id":21196393,"display_name":"Nopfp"},"score":0,"creation_date":1684742021,"post_id":76274261,"comment_id":134555625,"body_markdown":"Yeah im sure. I have no idea why its not working.","body":"Yeah im sure. I have no idea why its not working."},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1684746898,"post_id":76274261,"comment_id":134556659,"body_markdown":"Can you show the first call of those method? Like part of event or command","body":"Can you show the first call of those method? Like part of event or command"},{"owner":{"account_id":27396340,"reputation":5,"user_id":21196393,"display_name":"Nopfp"},"score":0,"creation_date":1684749862,"post_id":76274261,"comment_id":134557335,"body_markdown":"You mean like how it starts? it starts when you join the game or type /gui. It checks if you&#39;re a bedrock player thats joining first.","body":"You mean like how it starts? it starts when you join the game or type /gui. It checks if you&#39;re a bedrock player thats joining first."},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1684754096,"post_id":76274261,"comment_id":134558124,"body_markdown":"Ok, and you&#39;re simply doing `CentoriUI23.getInstance().ui_screen_market(playerThatRanCommand)` ?","body":"Ok, and you&#39;re simply doing <code>CentoriUI23.getInstance().ui_screen_market(playerThatRanComm&zwnj;&#8203;and)</code> ?"},{"owner":{"account_id":27396340,"reputation":5,"user_id":21196393,"display_name":"Nopfp"},"score":0,"creation_date":1684774322,"post_id":76274261,"comment_id":134562676,"body_markdown":"uh not really lol.","body":"uh not really lol."}],"owner":{"account_id":27396340,"reputation":5,"user_id":21196393,"display_name":"Nopfp"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684736868,"creation_date":1684340804,"question_id":76274261,"body_markdown":"I&#39;m currently working on a plugin that includes a marketplace feature where players can open a GUI to browse and purchase items from other players. I have a method called `ui_screen_market` that displays a list of player names as buttons, and when a player clicks on a button, it should open a new GUI with the items that the corresponding player is selling. However, I&#39;m facing an issue where clicking on a username in the ui_screen_market GUI opens another person&#39;s screen instead of the expected player&#39;s shop GUI.\r\n\r\nI have tried debugging the code and verifying the values being passed to the methods, but I couldn&#39;t find any obvious mistakes. I suspect there might be an issue with how I&#39;m handling the button clicks or accessing the player&#39;s data.\r\n\r\nExpected behavior:\r\n\r\nClicking on a player&#39;s name in the ui_screen_market GUI should open a new GUI displaying the items that the corresponding player is selling.\r\n\r\nActual behavior:\r\n\r\nClicking on a player&#39;s name in the ui_screen_market GUI opens another person&#39;s shop GUI instead of the expected player&#39;s shop GUI.\r\n\r\nFull code: https://pastebin.com/3Vffumk3\r\n\r\nMethod with issue:\r\n\r\n    public void ui_screen_market_create(Player player) {\r\n        FloodgatePlayer floodgatePlayer = floodgateApi.getPlayer(player.getUniqueId());\r\n        if (floodgatePlayer != null) {\r\n            floodgatePlayer.sendForm(CustomForm.builder()\r\n                    .title(&quot;Centori UI / MARKET / CREATE&quot;)\r\n                    .input(&quot;Shop name&quot;)\r\n                    .toggle(&quot;Confirm shop creation&quot;)\r\n                    .validResultHandler(response -&gt; {\r\n                        player.sendMessage(&quot;Shop creation in progress...&quot;);\r\n                        boolean toggleValue = response.asToggle(1);\r\n                        String inputValue = response.asInput(0);\r\n                        if (toggleValue) {\r\n                            Plugin plugin = Bukkit.getPluginManager().getPlugin(&quot;CentoriUI23&quot;);\r\n                            assert plugin != null;\r\n                            File directory = new File(plugin.getDataFolder(), &quot;bdata/&quot; + floodgatePlayer.getUsername());\r\n                            boolean exists = directory.exists();\r\n\r\n                            if (exists) {\r\n                                player.sendMessage(&quot;An error occurred. Your shop might already exist.&quot;);\r\n                            } else {\r\n                                if (directory.mkdirs()) {\r\n                                    File file = new File(directory, &quot;shops.json&quot;);\r\n                                    try (FileWriter writer = new FileWriter(file)) {\r\n                                        writer.write(&quot;{\\n   &#39;shop-name&#39;: &#39;&quot; + inputValue + &quot;&#39; \\n }&quot;);\r\n                                        writer.flush();\r\n                                        player.sendMessage(&quot;Shop created with name: &quot; + inputValue);\r\n                                    } catch (IOException e) {\r\n                                        e.printStackTrace();\r\n                                        player.sendMessage(&quot;Something went wrong while creating the shop. Please open a ticket in Discord.&quot;);\r\n                                        System.err.println(&quot;Failed to write to file: &quot; + file.getAbsolutePath());\r\n                                    }\r\n                                } else {\r\n                                    player.sendMessage(&quot;Something went wrong while creating the directory. Please open a ticket in Discord.&quot;);\r\n                                    System.err.println(&quot;Failed to create the directory: &quot; + directory.getAbsolutePath());\r\n                                }\r\n                            }\r\n                        } else {\r\n                            player.sendMessage(&quot;Shop creation has been canceled&quot;);\r\n                        }\r\n                    })\r\n                    .closedOrInvalidResultHandler(response -&gt; {\r\n                        player.sendMessage(&quot;Form closed or invalid&quot;);\r\n                    })\r\n                    .build());\r\n        }\r\n    }\r\n    public void ui_screen_market(Player player) {\r\n        FloodgatePlayer floodgatePlayer = floodgateApi.getPlayer(player.getUniqueId());\r\n        if (floodgatePlayer != null) {\r\n            List&lt;String&gt; shopNames = new ArrayList&lt;&gt;();\r\n\r\n            Plugin plugin = Bukkit.getPluginManager().getPlugin(&quot;CentoriUI23&quot;);\r\n            assert plugin != null;\r\n            File bdataFolder = new File(plugin.getDataFolder(), &quot;bdata&quot;);\r\n            File[] shopDirectories = bdataFolder.listFiles();\r\n\r\n            if (shopDirectories != null) {\r\n                for (File directory : shopDirectories) {\r\n                    if (directory.isDirectory()) {\r\n                        shopNames.add(directory.getName());\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (!shopNames.isEmpty()) {\r\n                SimpleForm.Builder formBuilder = SimpleForm.builder()\r\n                        .title(&quot;Centori UI / MARKET TEST&quot;)\r\n                        .button(&quot;Go Back&quot;)\r\n                        .button(&quot;Create shop&quot;)\r\n                        .button(&quot;Delete shop&quot;)\r\n                        .button(&quot;Add item to your shop&quot;)\r\n                        .validResultHandler(response -&gt; {\r\n                            int clickedButtonId = response.getClickedButtonId();\r\n                            if (clickedButtonId == 0) {\r\n                                ui_screen_join_main(player);\r\n                            } else if (clickedButtonId == 1) {\r\n                                ui_screen_market_create(player);\r\n                            } else if (clickedButtonId &gt;= 3) {\r\n                                String clickedShopName = shopNames.get(clickedButtonId - 3);\r\n                                openPlayerItemsGUI(player, clickedShopName); // Updated method call\r\n                            }\r\n                        })\r\n                        .closedOrInvalidResultHandler(response -&gt; {\r\n                            player.sendMessage(&quot;Form closed or invalid&quot;);\r\n                        });\r\n\r\n                for (String shopName : shopNames) {\r\n                    formBuilder.button(shopName);\r\n                }\r\n\r\n                floodgatePlayer.sendForm(formBuilder.build());\r\n            } else {\r\n                player.sendMessage(&quot;No shops found.&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    public void ui_screen_market_add(Player player) {\r\n        FloodgatePlayer floodgatePlayer = floodgateApi.getPlayer(player.getUniqueId());\r\n        if (floodgatePlayer != null) {\r\n            floodgatePlayer.sendForm(CustomForm.builder()\r\n                    .title(&quot;Centori UI / MARKET / ADD&quot;)\r\n                            .input(&quot;Enter Price&quot;)\r\n                            .slider(&quot;Amount to sell for price&quot;,1,64)\r\n                            .toggle(&quot;I confirm that the item in my possession will not be returned to me. (the item in your hand)&quot;)\r\n                    .validResultHandler(response -&gt; {\r\n                        ItemStack heldItem = player.getInventory().getItemInMainHand();\r\n\r\n                            if (heldItem.getType() != Material.AIR) {\r\n\r\n                                Material heldMaterial = heldItem.getType();\r\n                                String itemName = heldItem.getType().toString();\r\n                                int itemPrice = Integer.parseInt(Objects.requireNonNull(response.asInput(0)));\r\n                                int itemAmount = heldItem.getAmount();\r\n                                if (itemAmount &lt; response.asSlider(1)) {\r\n                                    player.sendMessage(&quot;You dont have enough of this item.&quot;);\r\n                                } else {\r\n                                    JsonObject itemObject = new JsonObject();\r\n                                    itemObject.addProperty(&quot;price&quot;, itemPrice);\r\n                                    itemObject.addProperty(&quot;amount&quot;, itemAmount);\r\n                                    String itemDetails = itemObject.toString();\r\n                                    Plugin plugin = Bukkit.getPluginManager().getPlugin(&quot;&quot;);\r\n                                    player.getInventory().setItemInMainHand(null);\r\n                                }\r\n\r\n                            } else {\r\n                                // The player is not holding any item or holding air\r\n                                player.sendMessage(&quot;You are not holding anything.&quot;);\r\n                            }\r\n                    })\r\n                    .closedOrInvalidResultHandler(response -&gt; {\r\n                        player.sendMessage(&quot;GUI closed, type /gui to reopen!&quot;);\r\n                    })\r\n                    .build());\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    private void openPlayerItemsGUI(Player player, String playerName) {\r\n        FloodgatePlayer floodgatePlayer = floodgateApi.getPlayer(player.getUniqueId());\r\n        if (floodgatePlayer != null) {\r\n            SimpleForm.Builder formBuilder = SimpleForm.builder()\r\n                    .title(&quot;Items for Sale by: &quot; + playerName)\r\n                    .validResultHandler(response -&gt; {\r\n                        player.sendMessage(&quot;Loading...&quot;);\r\n                        // Implement the click event handling for the item buttons\r\n                        // Add your desired logic here based on the clicked button\r\n                    })\r\n                    .closedOrInvalidResultHandler(response -&gt; {\r\n                        player.sendMessage(&quot;Form closed or invalid&quot;);\r\n                    });\r\n\r\n            Plugin plugin = Bukkit.getPluginManager().getPlugin(&quot;CentoriUI23&quot;);\r\n            assert plugin != null;\r\n            File bdataFolder = new File(plugin.getDataFolder(), &quot;bdata&quot;);\r\n            File playerDirectory = new File(bdataFolder, playerName); // Use playerName parameter directly\r\n            File itemsFile = new File(playerDirectory, &quot;items.json&quot;);\r\n            if (!playerDirectory.exists()) {\r\n                player.sendMessage(&quot;Player directory does not exist: &quot; + playerName);\r\n                return;\r\n            }\r\n\r\n            // Check if the items file exists\r\n            if (!itemsFile.exists()) {\r\n                player.sendMessage(&quot;Items file does not exist: &quot; + itemsFile.getAbsolutePath());\r\n                return;\r\n            }\r\n            if (itemsFile.exists()) {\r\n                try (FileReader reader = new FileReader(itemsFile)) {\r\n                    JsonParser parser = new JsonParser();\r\n                    JsonElement jsonElement = parser.parse(reader);\r\n                    JsonObject jsonObject = jsonElement.getAsJsonObject();\r\n\r\n                    for (Map.Entry&lt;String, JsonElement&gt; entry : jsonObject.entrySet()) {\r\n                        String itemName = entry.getKey();\r\n                        String itemDetails = entry.getValue().getAsString();\r\n\r\n                        // Extract price and amount from the item details\r\n                        String[] priceAmount = itemDetails.split(&quot;\\\\. amount &quot;);\r\n                        int itemPrice = Integer.parseInt(priceAmount[0].split(&quot;:&quot;)[1].trim());\r\n                        int itemAmount = Integer.parseInt(priceAmount[1].trim());\r\n\r\n                        // Add the item as a button to the form\r\n                        formBuilder.button(itemName + &quot; - Price: &quot; + itemPrice + &quot;, Amount: &quot; + itemAmount);\r\n                    }\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n\r\n            floodgatePlayer.sendForm(formBuilder.build());\r\n        }\r\n    }\r\n","title":"Issue with opening correct player&#39;s shop GUI in ui_screen_market method","body":"<p>I'm currently working on a plugin that includes a marketplace feature where players can open a GUI to browse and purchase items from other players. I have a method called <code>ui_screen_market</code> that displays a list of player names as buttons, and when a player clicks on a button, it should open a new GUI with the items that the corresponding player is selling. However, I'm facing an issue where clicking on a username in the ui_screen_market GUI opens another person's screen instead of the expected player's shop GUI.</p>\n<p>I have tried debugging the code and verifying the values being passed to the methods, but I couldn't find any obvious mistakes. I suspect there might be an issue with how I'm handling the button clicks or accessing the player's data.</p>\n<p>Expected behavior:</p>\n<p>Clicking on a player's name in the ui_screen_market GUI should open a new GUI displaying the items that the corresponding player is selling.</p>\n<p>Actual behavior:</p>\n<p>Clicking on a player's name in the ui_screen_market GUI opens another person's shop GUI instead of the expected player's shop GUI.</p>\n<p>Full code: <a href=\"https://pastebin.com/3Vffumk3\" rel=\"nofollow noreferrer\">https://pastebin.com/3Vffumk3</a></p>\n<p>Method with issue:</p>\n<pre><code>public void ui_screen_market_create(Player player) {\n    FloodgatePlayer floodgatePlayer = floodgateApi.getPlayer(player.getUniqueId());\n    if (floodgatePlayer != null) {\n        floodgatePlayer.sendForm(CustomForm.builder()\n                .title(&quot;Centori UI / MARKET / CREATE&quot;)\n                .input(&quot;Shop name&quot;)\n                .toggle(&quot;Confirm shop creation&quot;)\n                .validResultHandler(response -&gt; {\n                    player.sendMessage(&quot;Shop creation in progress...&quot;);\n                    boolean toggleValue = response.asToggle(1);\n                    String inputValue = response.asInput(0);\n                    if (toggleValue) {\n                        Plugin plugin = Bukkit.getPluginManager().getPlugin(&quot;CentoriUI23&quot;);\n                        assert plugin != null;\n                        File directory = new File(plugin.getDataFolder(), &quot;bdata/&quot; + floodgatePlayer.getUsername());\n                        boolean exists = directory.exists();\n\n                        if (exists) {\n                            player.sendMessage(&quot;An error occurred. Your shop might already exist.&quot;);\n                        } else {\n                            if (directory.mkdirs()) {\n                                File file = new File(directory, &quot;shops.json&quot;);\n                                try (FileWriter writer = new FileWriter(file)) {\n                                    writer.write(&quot;{\\n   'shop-name': '&quot; + inputValue + &quot;' \\n }&quot;);\n                                    writer.flush();\n                                    player.sendMessage(&quot;Shop created with name: &quot; + inputValue);\n                                } catch (IOException e) {\n                                    e.printStackTrace();\n                                    player.sendMessage(&quot;Something went wrong while creating the shop. Please open a ticket in Discord.&quot;);\n                                    System.err.println(&quot;Failed to write to file: &quot; + file.getAbsolutePath());\n                                }\n                            } else {\n                                player.sendMessage(&quot;Something went wrong while creating the directory. Please open a ticket in Discord.&quot;);\n                                System.err.println(&quot;Failed to create the directory: &quot; + directory.getAbsolutePath());\n                            }\n                        }\n                    } else {\n                        player.sendMessage(&quot;Shop creation has been canceled&quot;);\n                    }\n                })\n                .closedOrInvalidResultHandler(response -&gt; {\n                    player.sendMessage(&quot;Form closed or invalid&quot;);\n                })\n                .build());\n    }\n}\npublic void ui_screen_market(Player player) {\n    FloodgatePlayer floodgatePlayer = floodgateApi.getPlayer(player.getUniqueId());\n    if (floodgatePlayer != null) {\n        List&lt;String&gt; shopNames = new ArrayList&lt;&gt;();\n\n        Plugin plugin = Bukkit.getPluginManager().getPlugin(&quot;CentoriUI23&quot;);\n        assert plugin != null;\n        File bdataFolder = new File(plugin.getDataFolder(), &quot;bdata&quot;);\n        File[] shopDirectories = bdataFolder.listFiles();\n\n        if (shopDirectories != null) {\n            for (File directory : shopDirectories) {\n                if (directory.isDirectory()) {\n                    shopNames.add(directory.getName());\n                }\n            }\n        }\n\n        if (!shopNames.isEmpty()) {\n            SimpleForm.Builder formBuilder = SimpleForm.builder()\n                    .title(&quot;Centori UI / MARKET TEST&quot;)\n                    .button(&quot;Go Back&quot;)\n                    .button(&quot;Create shop&quot;)\n                    .button(&quot;Delete shop&quot;)\n                    .button(&quot;Add item to your shop&quot;)\n                    .validResultHandler(response -&gt; {\n                        int clickedButtonId = response.getClickedButtonId();\n                        if (clickedButtonId == 0) {\n                            ui_screen_join_main(player);\n                        } else if (clickedButtonId == 1) {\n                            ui_screen_market_create(player);\n                        } else if (clickedButtonId &gt;= 3) {\n                            String clickedShopName = shopNames.get(clickedButtonId - 3);\n                            openPlayerItemsGUI(player, clickedShopName); // Updated method call\n                        }\n                    })\n                    .closedOrInvalidResultHandler(response -&gt; {\n                        player.sendMessage(&quot;Form closed or invalid&quot;);\n                    });\n\n            for (String shopName : shopNames) {\n                formBuilder.button(shopName);\n            }\n\n            floodgatePlayer.sendForm(formBuilder.build());\n        } else {\n            player.sendMessage(&quot;No shops found.&quot;);\n        }\n    }\n}\n\n\n\n\n\npublic void ui_screen_market_add(Player player) {\n    FloodgatePlayer floodgatePlayer = floodgateApi.getPlayer(player.getUniqueId());\n    if (floodgatePlayer != null) {\n        floodgatePlayer.sendForm(CustomForm.builder()\n                .title(&quot;Centori UI / MARKET / ADD&quot;)\n                        .input(&quot;Enter Price&quot;)\n                        .slider(&quot;Amount to sell for price&quot;,1,64)\n                        .toggle(&quot;I confirm that the item in my possession will not be returned to me. (the item in your hand)&quot;)\n                .validResultHandler(response -&gt; {\n                    ItemStack heldItem = player.getInventory().getItemInMainHand();\n\n                        if (heldItem.getType() != Material.AIR) {\n\n                            Material heldMaterial = heldItem.getType();\n                            String itemName = heldItem.getType().toString();\n                            int itemPrice = Integer.parseInt(Objects.requireNonNull(response.asInput(0)));\n                            int itemAmount = heldItem.getAmount();\n                            if (itemAmount &lt; response.asSlider(1)) {\n                                player.sendMessage(&quot;You dont have enough of this item.&quot;);\n                            } else {\n                                JsonObject itemObject = new JsonObject();\n                                itemObject.addProperty(&quot;price&quot;, itemPrice);\n                                itemObject.addProperty(&quot;amount&quot;, itemAmount);\n                                String itemDetails = itemObject.toString();\n                                Plugin plugin = Bukkit.getPluginManager().getPlugin(&quot;&quot;);\n                                player.getInventory().setItemInMainHand(null);\n                            }\n\n                        } else {\n                            // The player is not holding any item or holding air\n                            player.sendMessage(&quot;You are not holding anything.&quot;);\n                        }\n                })\n                .closedOrInvalidResultHandler(response -&gt; {\n                    player.sendMessage(&quot;GUI closed, type /gui to reopen!&quot;);\n                })\n                .build());\n    }\n}\n\n\n\n\n\n\nprivate void openPlayerItemsGUI(Player player, String playerName) {\n    FloodgatePlayer floodgatePlayer = floodgateApi.getPlayer(player.getUniqueId());\n    if (floodgatePlayer != null) {\n        SimpleForm.Builder formBuilder = SimpleForm.builder()\n                .title(&quot;Items for Sale by: &quot; + playerName)\n                .validResultHandler(response -&gt; {\n                    player.sendMessage(&quot;Loading...&quot;);\n                    // Implement the click event handling for the item buttons\n                    // Add your desired logic here based on the clicked button\n                })\n                .closedOrInvalidResultHandler(response -&gt; {\n                    player.sendMessage(&quot;Form closed or invalid&quot;);\n                });\n\n        Plugin plugin = Bukkit.getPluginManager().getPlugin(&quot;CentoriUI23&quot;);\n        assert plugin != null;\n        File bdataFolder = new File(plugin.getDataFolder(), &quot;bdata&quot;);\n        File playerDirectory = new File(bdataFolder, playerName); // Use playerName parameter directly\n        File itemsFile = new File(playerDirectory, &quot;items.json&quot;);\n        if (!playerDirectory.exists()) {\n            player.sendMessage(&quot;Player directory does not exist: &quot; + playerName);\n            return;\n        }\n\n        // Check if the items file exists\n        if (!itemsFile.exists()) {\n            player.sendMessage(&quot;Items file does not exist: &quot; + itemsFile.getAbsolutePath());\n            return;\n        }\n        if (itemsFile.exists()) {\n            try (FileReader reader = new FileReader(itemsFile)) {\n                JsonParser parser = new JsonParser();\n                JsonElement jsonElement = parser.parse(reader);\n                JsonObject jsonObject = jsonElement.getAsJsonObject();\n\n                for (Map.Entry&lt;String, JsonElement&gt; entry : jsonObject.entrySet()) {\n                    String itemName = entry.getKey();\n                    String itemDetails = entry.getValue().getAsString();\n\n                    // Extract price and amount from the item details\n                    String[] priceAmount = itemDetails.split(&quot;\\\\. amount &quot;);\n                    int itemPrice = Integer.parseInt(priceAmount[0].split(&quot;:&quot;)[1].trim());\n                    int itemAmount = Integer.parseInt(priceAmount[1].trim());\n\n                    // Add the item as a button to the form\n                    formBuilder.button(itemName + &quot; - Price: &quot; + itemPrice + &quot;, Amount: &quot; + itemAmount);\n                }\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n\n        floodgatePlayer.sendForm(formBuilder.build());\n    }\n}\n</code></pre>\n"},{"tags":["java","linux","ssl","tls1.2","nessus"],"comments":[{"owner":{"account_id":3701398,"reputation":116662,"user_id":3081018,"display_name":"Steffen Ullrich"},"score":0,"creation_date":1663751582,"post_id":73797872,"comment_id":130310994,"body_markdown":"What does Nessus even scan? You show running openssl and nmap running against port 8443 - is this really what Nessus also does?","body":"What does Nessus even scan? You show running openssl and nmap running against port 8443 - is this really what Nessus also does?"},{"owner":{"account_id":19469961,"reputation":91,"user_id":14242535,"display_name":"Learner"},"score":0,"creation_date":1663759984,"post_id":73797872,"comment_id":130314025,"body_markdown":"@SteffenUllrich..No, Nessus doesn&#39;t scan against port 8443. But it scans the entire server.","body":"@SteffenUllrich..No, Nessus doesn&#39;t scan against port 8443. But it scans the entire server."},{"owner":{"account_id":3701398,"reputation":116662,"user_id":3081018,"display_name":"Steffen Ullrich"},"score":1,"creation_date":1663763473,"post_id":73797872,"comment_id":130315239,"body_markdown":"If the results from Nessus regarding TLS 1.0 are not from scanning port 8443 but a different port, then you need to look at the configuration of whatever is running on this port instead.","body":"If the results from Nessus regarding TLS 1.0 are not from scanning port 8443 but a different port, then you need to look at the configuration of whatever is running on this port instead."},{"owner":{"account_id":19469961,"reputation":91,"user_id":14242535,"display_name":"Learner"},"score":0,"creation_date":1664889008,"post_id":73797872,"comment_id":130569318,"body_markdown":"@SteffenUllrich..Please find my edited details at the end of my question.","body":"@SteffenUllrich..Please find my edited details at the end of my question."}],"answers":[{"tags":[],"owner":{"account_id":2611193,"reputation":1067,"user_id":2261349,"display_name":"Znik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684736414,"creation_date":1684736414,"answer_id":76303469,"question_id":73797872,"body_markdown":"Nessus is only scanner. This situation tells you. default tools and system services are secured, but it is not tomcat run inside JVM.\r\nYou have two ways for resolve this one:\r\n1. Disable old crypto protocols globally in JVM or Tomcat. Usually it is in JVM. You can do int in mail JVM config for all java process, or by specyfing variable for JVM run. It is described here: https://stackoverflow.com/questions/41181696/disabling-tlsv1-0-in-java8\r\n2. Better way, is configuring apache as a proxy to tomcat, and completly disable tomcat for allowing TCP connection. You can do it by loopback netwok.","title":"How to fix &quot;TLS Version 1.0 Protocol Detection and TLS Version 1.1 Protocol Deprecated&quot; Nessus Scan Vulnerability","body":"<p>Nessus is only scanner. This situation tells you. default tools and system services are secured, but it is not tomcat run inside JVM.\nYou have two ways for resolve this one:</p>\n<ol>\n<li>Disable old crypto protocols globally in JVM or Tomcat. Usually it is in JVM. You can do int in mail JVM config for all java process, or by specyfing variable for JVM run. It is described here: <a href=\"https://stackoverflow.com/questions/41181696/disabling-tlsv1-0-in-java8\">Disabling TLSv1.0 in java8</a></li>\n<li>Better way, is configuring apache as a proxy to tomcat, and completly disable tomcat for allowing TCP connection. You can do it by loopback netwok.</li>\n</ol>\n"}],"owner":{"account_id":19469961,"reputation":91,"user_id":14242535,"display_name":"Learner"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3873,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1684736414,"creation_date":1663750100,"question_id":73797872,"body_markdown":"We are running our Java Application on RHEL 8.5 OS platform. In our Apache&#39;s ssl.conf file, we have enabled only TLSv1.2 protocol. And we are not using TLSv1 and TLSv1.1 protocols in our application. \r\n\r\nFrom the below details, it is confirmed that the above protocols are disabled from an OS perspective also.\r\n\r\n```\r\nupdate-crypto-policies --show\r\nDEFAULT\r\n```\r\n\r\nFrom RHEL, it is confirmed that &quot;The TLS versions TLS 1.0 and TLS 1.1 protocols are disabled in the DEFAULT system-wide cryptographic policy level. &quot;\r\n\r\nAnd from the below command results, it is confirmed that TLS 1.0 and TLS 1.1 is disabled from the Application Side.\r\n\r\n```\r\n[root@test ~]# openssl s_client -connect &lt;IP_ADDRESS&gt;:8443 -tls1\r\nCONNECTED(00000003)\r\n139679030896448:error:1409442E:SSL routines:ssl3_read_bytes:tlsv1 alert protocol version:ssl/record/rec_layer_s3.c:1544:SSL alert number 70\r\n---\r\nno peer certificate available\r\n---\r\nNo client certificate CA names sent\r\n---\r\nSSL handshake has read 7 bytes and written 104 bytes\r\nVerification: OK\r\n---\r\nNew, (NONE), Cipher is (NONE)\r\nSecure Renegotiation IS NOT supported\r\nCompression: NONE\r\nExpansion: NONE\r\nNo ALPN negotiated\r\nSSL-Session:\r\n    Protocol  : TLSv1\r\n    Cipher    : 0000\r\n    Session-ID:\r\n    Session-ID-ctx:\r\n    Master-Key:\r\n    PSK identity: None\r\n    PSK identity hint: None\r\n    SRP username: None\r\n    Start Time: 1662128840\r\n    Timeout   : 7200 (sec)\r\n    Verify return code: 0 (ok)\r\n    Extended master secret: no\r\n-----------------------------------------\r\n\r\n[root@test ~]# nmap -sV --script ssl-enum-ciphers -p 8443 &lt;IP_ADDRESS&gt;\r\nStarting Nmap 7.70 ( https://nmap.org ) at 2022-09-20 20:02 IST\r\nmass_dns: warning: Unable to open /etc/resolv.conf. Try using --system-dns or specify valid servers with --dns-servers\r\nmass_dns: warning: Unable to determine any DNS servers. Reverse DNS is disabled. Try using --system-dns or specify valid servers with --dns-servers\r\nNmap scan report for XXXXX (IP_ADDRESS)\r\nHost is up (0.00067s latency).\r\n\r\nPORT     STATE SERVICE  VERSION\r\n8443/tcp open  ssl/http Apache httpd\r\n|_http-server-header: Apache\r\n| ssl-enum-ciphers:\r\n|   TLSv1.2:\r\n|     ciphers:\r\n|       TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 (secp256r1) - A\r\n|       TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384 (secp256r1) - A\r\n|       TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 (secp256r1) - A\r\n|     compressors:\r\n|       NULL\r\n|     cipher preference: client\r\n|_  least strength: A\r\nMAC Address: 00:50:56:A7:92:7B (VMware)\r\n\r\nService detection performed. Please report any incorrect results at https://nmap.org/submit/ .\r\nNmap done: 1 IP address (1 host up) scanned in 12.90 seconds\r\n\r\n-----------------------------------------\r\n```\r\n\r\nPlease find the configurations on &quot;ssl.conf&quot;,\r\n```\r\nSSLProtocol -ALL +TLSv1.2\r\nSSLCipherSuite ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES128-SHA256:AES256-CCM:DHE-RSA-AES256-CCM\r\n```\r\n\r\nBut we are in confusion that why the Nessus scan vulnerability shows the TLS 1.0 and TLS 1.1 protocols even though those 2 protocols are disabled in all possibilities.\r\n\r\nVulnerability Details are listed below,\r\n\r\n 1. 104743 TLS Version 1.0 Protocol Detection\r\n 2. 157288 TLS Version 1.1 Protocol Deprecated\r\n\r\n\r\nFrom Nessus team, we came to know that port 4567 is using the below ciphers,\r\n```\r\nTLS1_DHE_DSS_WITH_AES_128_CBC_SHA256\r\nTLS1_DHE_DSS_WITH_AES_256_CBC_SHA256\r\nTLS1_CK_DHE_DSS_WITH_AES_128_CBC_SHA\r\nTLS1_CK_DHE_DSS_WITH_AES_256_CBC_SHA\r\nTLS1_CK_DHE_DSS_WITH_3DES_EDE_CBC_SHA\r\n```\r\n\r\nIn our application, we are using port 4567 as TRUSTSTORE_PORT where it is downloading the required certificates for the application to run.\r\n\r\nBut we enabled only the TLSv1.2 protocol. How the TLS1 ciphers are enabled?\r\n\r\nPlease let me know how to overcome these vulnerabilities.\r\n\r\nThanks in Advance.\r\n\r\n\r\n","title":"How to fix &quot;TLS Version 1.0 Protocol Detection and TLS Version 1.1 Protocol Deprecated&quot; Nessus Scan Vulnerability","body":"<p>We are running our Java Application on RHEL 8.5 OS platform. In our Apache's ssl.conf file, we have enabled only TLSv1.2 protocol. And we are not using TLSv1 and TLSv1.1 protocols in our application.</p>\n<p>From the below details, it is confirmed that the above protocols are disabled from an OS perspective also.</p>\n<pre><code>update-crypto-policies --show\nDEFAULT\n</code></pre>\n<p>From RHEL, it is confirmed that &quot;The TLS versions TLS 1.0 and TLS 1.1 protocols are disabled in the DEFAULT system-wide cryptographic policy level. &quot;</p>\n<p>And from the below command results, it is confirmed that TLS 1.0 and TLS 1.1 is disabled from the Application Side.</p>\n<pre><code>[root@test ~]# openssl s_client -connect &lt;IP_ADDRESS&gt;:8443 -tls1\nCONNECTED(00000003)\n139679030896448:error:1409442E:SSL routines:ssl3_read_bytes:tlsv1 alert protocol version:ssl/record/rec_layer_s3.c:1544:SSL alert number 70\n---\nno peer certificate available\n---\nNo client certificate CA names sent\n---\nSSL handshake has read 7 bytes and written 104 bytes\nVerification: OK\n---\nNew, (NONE), Cipher is (NONE)\nSecure Renegotiation IS NOT supported\nCompression: NONE\nExpansion: NONE\nNo ALPN negotiated\nSSL-Session:\n    Protocol  : TLSv1\n    Cipher    : 0000\n    Session-ID:\n    Session-ID-ctx:\n    Master-Key:\n    PSK identity: None\n    PSK identity hint: None\n    SRP username: None\n    Start Time: 1662128840\n    Timeout   : 7200 (sec)\n    Verify return code: 0 (ok)\n    Extended master secret: no\n-----------------------------------------\n\n[root@test ~]# nmap -sV --script ssl-enum-ciphers -p 8443 &lt;IP_ADDRESS&gt;\nStarting Nmap 7.70 ( https://nmap.org ) at 2022-09-20 20:02 IST\nmass_dns: warning: Unable to open /etc/resolv.conf. Try using --system-dns or specify valid servers with --dns-servers\nmass_dns: warning: Unable to determine any DNS servers. Reverse DNS is disabled. Try using --system-dns or specify valid servers with --dns-servers\nNmap scan report for XXXXX (IP_ADDRESS)\nHost is up (0.00067s latency).\n\nPORT     STATE SERVICE  VERSION\n8443/tcp open  ssl/http Apache httpd\n|_http-server-header: Apache\n| ssl-enum-ciphers:\n|   TLSv1.2:\n|     ciphers:\n|       TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 (secp256r1) - A\n|       TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384 (secp256r1) - A\n|       TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 (secp256r1) - A\n|     compressors:\n|       NULL\n|     cipher preference: client\n|_  least strength: A\nMAC Address: 00:50:56:A7:92:7B (VMware)\n\nService detection performed. Please report any incorrect results at https://nmap.org/submit/ .\nNmap done: 1 IP address (1 host up) scanned in 12.90 seconds\n\n-----------------------------------------\n</code></pre>\n<p>Please find the configurations on &quot;ssl.conf&quot;,</p>\n<pre><code>SSLProtocol -ALL +TLSv1.2\nSSLCipherSuite ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES128-SHA256:AES256-CCM:DHE-RSA-AES256-CCM\n</code></pre>\n<p>But we are in confusion that why the Nessus scan vulnerability shows the TLS 1.0 and TLS 1.1 protocols even though those 2 protocols are disabled in all possibilities.</p>\n<p>Vulnerability Details are listed below,</p>\n<ol>\n<li>104743 TLS Version 1.0 Protocol Detection</li>\n<li>157288 TLS Version 1.1 Protocol Deprecated</li>\n</ol>\n<p>From Nessus team, we came to know that port 4567 is using the below ciphers,</p>\n<pre><code>TLS1_DHE_DSS_WITH_AES_128_CBC_SHA256\nTLS1_DHE_DSS_WITH_AES_256_CBC_SHA256\nTLS1_CK_DHE_DSS_WITH_AES_128_CBC_SHA\nTLS1_CK_DHE_DSS_WITH_AES_256_CBC_SHA\nTLS1_CK_DHE_DSS_WITH_3DES_EDE_CBC_SHA\n</code></pre>\n<p>In our application, we are using port 4567 as TRUSTSTORE_PORT where it is downloading the required certificates for the application to run.</p>\n<p>But we enabled only the TLSv1.2 protocol. How the TLS1 ciphers are enabled?</p>\n<p>Please let me know how to overcome these vulnerabilities.</p>\n<p>Thanks in Advance.</p>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb"],"owner":{"account_id":22960907,"reputation":43,"user_id":17090789,"display_name":"Thomas124124"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684736314,"creation_date":1684313793,"question_id":76270267,"body_markdown":"In the past while using DynamoDBMapper I was able to get information after batch put items about the error message. Right now doing the batch using EnchancedDynamoDBClient I can only get key of that item. Any way to get information why the batch for specific item didint work?\r\n\r\n```\r\nprivate void saveToDb(DynamoDbTable&lt;PartImportWarehouse&gt;partStockDataTable, List&lt;PartImportWarehouse&gt; modifiedImportaWrehouse, DynamoDbEnhancedClient dynamoDbEnhancedClient) {\r\n        WriteBatch.Builder&lt;PartImportWarehouse&gt; writeBatchBuilder = WriteBatch.builder(PartImportWarehouse.class)\r\n                .mappedTableResource(partStockDataTable);\r\n\r\n        modifiedImportaWrehouse.forEach(writeBatchBuilder::addPutItem);\r\n\r\n        BatchWriteItemEnhancedRequest batchRequestBuilder = BatchWriteItemEnhancedRequest.builder()\r\n                .addWriteBatch(writeBatchBuilder.build())\r\n                .build();\r\n\r\n        BatchWriteResult batchWriteResult = dynamoDbEnhancedClient.batchWriteItem(batchRequestBuilder);\r\n\r\n        if (!CollectionUtils.isEmpty(batchWriteResult.unprocessedPutItemsForTable(partStockDataTable))) {\r\n            log.warn(batchWriteResult.unprocessedPutItemsForTable(partStockDataTable).stream()\r\n                    .map(i -&gt; &quot;issue with &quot; + i.getKey())\r\n                    .collect(Collectors.joining(&quot;, &quot;)));\r\n        }\r\n    }\r\n\r\n```\r\n\r\n@Edit\r\nIn past I was able to get partial response for failed part with code like:\r\n[![enter image description here][1]][1]\r\nDont mind the errors. I havent reloaded the project. But I was able to get errors for each part.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kRLCO.png","title":"DynamoDB enchanced client batch error response","body":"<p>In the past while using DynamoDBMapper I was able to get information after batch put items about the error message. Right now doing the batch using EnchancedDynamoDBClient I can only get key of that item. Any way to get information why the batch for specific item didint work?</p>\n<pre><code>private void saveToDb(DynamoDbTable&lt;PartImportWarehouse&gt;partStockDataTable, List&lt;PartImportWarehouse&gt; modifiedImportaWrehouse, DynamoDbEnhancedClient dynamoDbEnhancedClient) {\n        WriteBatch.Builder&lt;PartImportWarehouse&gt; writeBatchBuilder = WriteBatch.builder(PartImportWarehouse.class)\n                .mappedTableResource(partStockDataTable);\n\n        modifiedImportaWrehouse.forEach(writeBatchBuilder::addPutItem);\n\n        BatchWriteItemEnhancedRequest batchRequestBuilder = BatchWriteItemEnhancedRequest.builder()\n                .addWriteBatch(writeBatchBuilder.build())\n                .build();\n\n        BatchWriteResult batchWriteResult = dynamoDbEnhancedClient.batchWriteItem(batchRequestBuilder);\n\n        if (!CollectionUtils.isEmpty(batchWriteResult.unprocessedPutItemsForTable(partStockDataTable))) {\n            log.warn(batchWriteResult.unprocessedPutItemsForTable(partStockDataTable).stream()\n                    .map(i -&gt; &quot;issue with &quot; + i.getKey())\n                    .collect(Collectors.joining(&quot;, &quot;)));\n        }\n    }\n\n</code></pre>\n<p>@Edit\nIn past I was able to get partial response for failed part with code like:\n<a href=\"https://i.stack.imgur.com/kRLCO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kRLCO.png\" alt=\"enter image description here\" /></a>\nDont mind the errors. I havent reloaded the project. But I was able to get errors for each part.</p>\n"},{"tags":["java","apache-camel","camel-routes"],"owner":{"account_id":28651418,"reputation":1,"user_id":21938324,"display_name":"Pew Die"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684735877,"creation_date":1684735615,"question_id":76303408,"body_markdown":"I have multiple messages which should be sent to a MQ &#39;foo&#39;.\r\nAfter sending a message from &#39;route-1&#39;, the program should wait for a reply on MQ &#39;bar&#39;. \r\nOnly after getting a reply on queue &#39;bar&#39;, the next message should be sent.\r\n\r\n[Apache camel Documentation](https://camel.apache.org/manual/faq/how-can-i-stop-a-route-from-a-route.html)\r\n\r\nI have followed the steps given in the documentation. All the messages are getting routed and then the route is getting suspended.\r\n\r\ninput.txt\r\n`msg1,msg2,msg3,msg4,msg5`\r\n\r\nbeans.xml\r\n```\r\n    &lt;camelContext id=&quot;orc-1&quot; xmlns=&quot;http://camel.apache.org/schema/spring&quot;&gt;\r\n        &lt;route id=&quot;route-1&quot;&gt;\r\n            &lt;from uri=&quot;file://D://camelInput?fileName=input.txt&quot; /&gt;\r\n            &lt;split&gt;\r\n                &lt;tokenize token=&quot;,&quot; /&gt;\r\n                &lt;log message=&quot;${body}&quot; /&gt;\r\n                &lt;to uri=&quot;jms:queue:foo&quot; /&gt;\r\n                &lt;process ref=&quot;postProcessor&quot; /&gt;\r\n            &lt;/split&gt;\r\n        &lt;/route&gt;\r\n        &lt;route id=&quot;route-2&quot;&gt;\r\n            &lt;from uri=&quot;jms:queue:bar&quot; /&gt;\r\n\t\t&lt;!--restart route-1--&gt;\r\n        &lt;/route&gt;\r\n    &lt;/camelContext&gt;\r\n```\r\n\r\nPostProcessor.java\r\n```\r\npublic class PostProcessor implements Processor {\r\n\r\n    Thread stop;\r\n\r\n    @Override\r\n    public void process(Exchange exchange) throws Exception {\r\n        // stop this route using a thread that will stop\r\n        // this route gracefully while we are still running\r\n        if (stop == null) {\r\n            stop = new Thread() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        exchange.getContext().getRouteController().suspendRoute(&quot;route-1&quot;);\r\n                    } catch (Exception e) {\r\n                        // ignore\r\n                    }\r\n                }\r\n            };\r\n        }\r\n        // start the thread that stops this route\r\n        stop.start();\r\n    }\r\n}\r\n\r\n```\r\n\r\nlogs\r\n\r\n```\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::               (v2.7.11)\r\n\r\n2023-05-22 11:01:52.812  INFO 23484 --- [           main] com.persistent.camel.CamelApplication    : Starting CamelApplication using Java 14.0.2 on PSL-5Q47XM3 with PID 23484 (D:\\camel\\camel\\target\\classes started by shashank_mugatkar in D:\\camel\\camel)\r\n2023-05-22 11:01:52.815  INFO 23484 --- [           main] com.persistent.camel.CamelApplication    : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-05-22 11:01:54.951  INFO 23484 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.3 (orc-1) is starting\r\n2023-05-22 11:01:55.146  INFO 23484 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:3)\r\n2023-05-22 11:01:55.147  INFO 23484 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route-1 (file://D://camelInput)\r\n2023-05-22 11:01:55.147  INFO 23484 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route-2 (jms://queue:bar)\r\n2023-05-22 11:01:55.147  INFO 23484 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route-3 (direct://suspendRoute1)\r\n2023-05-22 11:01:55.147  INFO 23484 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.3 (orc-1) started in 453ms (build:64ms init:195ms start:194ms)\r\n2023-05-22 11:01:55.157  INFO 23484 --- [           main] com.persistent.camel.CamelApplication    : Started CamelApplication in 2.742 seconds (JVM running for 3.157)\r\n2023-05-22 11:01:56.007  INFO 23484 --- [/D://camelInput] route-1                                  : msg0\r\n2023-05-22 11:01:56.035  INFO 23484 --- [/D://camelInput] route-1                                  : msg1\r\n2023-05-22 11:01:56.040  INFO 23484 --- [ - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 2 inflight and pending exchanges to complete, timeout in 45 seconds. Inflights per route: [route-1 = 2]\r\n2023-05-22 11:01:56.050 ERROR 23484 --- [/D://camelInput] o.a.c.p.e.DefaultErrorHandler            : Failed delivery for (MessageId: 23D21B5DF3A3295-0000000000000001 on ExchangeId: 23D21B5DF3A3295-0000000000000001). Exhausted after delivery attempt: 1 caught: java.lang.IllegalThreadStateException\r\n\r\nMessage History (source location and message history is disabled)\r\n---------------------------------------------------------------------------------------------------------------------------------------\r\nSource                                   ID                             Processor                                          Elapsed (ms)\r\n                                         route-1/route-1                from[file://D://camelInput?fileName=input.txt]          2539704\r\n\t...\r\n                                         route-1/process1               ref:postProcessor                                             0\r\n\r\nStacktrace\r\n---------------------------------------------------------------------------------------------------------------------------------------\r\n\r\njava.lang.IllegalThreadStateException: null\r\n\tat java.base/java.lang.Thread.start(Thread.java:792) ~[na:na]\r\n\tat com.persistent.camel.PostProcessor.process(PostProcessor.java:27) ~[classes/:na]\r\n\tat org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:65) ~[camel-support-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$SimpleTask.run(RedeliveryErrorHandler.java:477) ~[camel-core-processor-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:181) ~[camel-base-engine-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59) ~[camel-base-engine-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.processor.Pipeline.process(Pipeline.java:165) ~[camel-core-processor-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:392) ~[camel-base-engine-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.component.file.GenericFileConsumer.processExchange(GenericFileConsumer.java:492) ~[camel-file-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.component.file.GenericFileConsumer.processBatch(GenericFileConsumer.java:245) ~[camel-file-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.component.file.GenericFileConsumer.poll(GenericFileConsumer.java:206) ~[camel-file-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.support.ScheduledPollConsumer.doRun(ScheduledPollConsumer.java:202) ~[camel-support-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.support.ScheduledPollConsumer.run(ScheduledPollConsumer.java:116) ~[camel-support-3.20.3.jar:3.20.3]\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305) ~[na:na]\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\r\n\r\n2023-05-22 11:01:56.051  INFO 23484 --- [/D://camelInput] route-1                                  : msg2\r\n2023-05-22 11:01:56.061 ERROR 23484 --- [/D://camelInput] o.a.c.p.e.DefaultErrorHandler            : Failed delivery for (MessageId: 23D21B5DF3A3295-0000000000000002 on ExchangeId: 23D21B5DF3A3295-0000000000000002). Exhausted after delivery attempt: 1 caught: java.lang.IllegalThreadStateException\r\n\r\nMessage History (source location and message history is disabled)\r\n---------------------------------------------------------------------------------------------------------------------------------------\r\nSource                                   ID                             Processor                                          Elapsed (ms)\r\n                                         route-1/route-1                from[file://D://camelInput?fileName=input.txt]          2539720\r\n\t...\r\n                                         route-1/process1               ref:postProcessor                                             0\r\n\r\nStacktrace\r\n---------------------------------------------------------------------------------------------------------------------------------------\r\n\r\njava.lang.IllegalThreadStateException: null\r\n\tat java.base/java.lang.Thread.start(Thread.java:792) ~[na:na]\r\n\tat com.persistent.camel.PostProcessor.process(PostProcessor.java:27) ~[classes/:na]\r\n\tat org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:65) ~[camel-support-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$SimpleTask.run(RedeliveryErrorHandler.java:477) ~[camel-core-processor-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:181) ~[camel-base-engine-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59) ~[camel-base-engine-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.processor.Pipeline.process(Pipeline.java:165) ~[camel-core-processor-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:392) ~[camel-base-engine-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.component.file.GenericFileConsumer.processExchange(GenericFileConsumer.java:492) ~[camel-file-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.component.file.GenericFileConsumer.processBatch(GenericFileConsumer.java:245) ~[camel-file-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.component.file.GenericFileConsumer.poll(GenericFileConsumer.java:206) ~[camel-file-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.support.ScheduledPollConsumer.doRun(ScheduledPollConsumer.java:202) ~[camel-support-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.support.ScheduledPollConsumer.run(ScheduledPollConsumer.java:116) ~[camel-support-3.20.3.jar:3.20.3]\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305) ~[na:na]\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\r\n\r\n2023-05-22 11:01:56.062  INFO 23484 --- [/D://camelInput] route-1                                  : msg3\r\n2023-05-22 11:01:56.072 ERROR 23484 --- [/D://camelInput] o.a.c.p.e.DefaultErrorHandler            : Failed delivery for (MessageId: 23D21B5DF3A3295-0000000000000003 on ExchangeId: 23D21B5DF3A3295-0000000000000003). Exhausted after delivery attempt: 1 caught: java.lang.IllegalThreadStateException\r\n\r\nMessage History (source location and message history is disabled)\r\n---------------------------------------------------------------------------------------------------------------------------------------\r\nSource                                   ID                             Processor                                          Elapsed (ms)\r\n                                         route-1/route-1                from[file://D://camelInput?fileName=input.txt]          2539730\r\n\t...\r\n                                         route-1/process1               ref:postProcessor                                             0\r\n\r\nStacktrace\r\n---------------------------------------------------------------------------------------------------------------------------------------\r\n\r\njava.lang.IllegalThreadStateException: null\r\n\tat java.base/java.lang.Thread.start(Thread.java:792) ~[na:na]\r\n\tat com.persistent.camel.PostProcessor.process(PostProcessor.java:27) ~[classes/:na]\r\n\tat org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:65) ~[camel-support-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$SimpleTask.run(RedeliveryErrorHandler.java:477) ~[camel-core-processor-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:181) ~[camel-base-engine-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59) ~[camel-base-engine-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.processor.Pipeline.process(Pipeline.java:165) ~[camel-core-processor-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:392) ~[camel-base-engine-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.component.file.GenericFileConsumer.processExchange(GenericFileConsumer.java:492) ~[camel-file-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.component.file.GenericFileConsumer.processBatch(GenericFileConsumer.java:245) ~[camel-file-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.component.file.GenericFileConsumer.poll(GenericFileConsumer.java:206) ~[camel-file-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.support.ScheduledPollConsumer.doRun(ScheduledPollConsumer.java:202) ~[camel-support-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.support.ScheduledPollConsumer.run(ScheduledPollConsumer.java:116) ~[camel-support-3.20.3.jar:3.20.3]\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305) ~[na:na]\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\r\n\r\n2023-05-22 11:01:56.072  INFO 23484 --- [/D://camelInput] route-1                                  : msg4\r\n\r\n2023-05-22 11:01:56.083 ERROR 23484 --- [/D://camelInput] o.a.c.p.e.DefaultErrorHandler            : Failed delivery for (MessageId: 23D21B5DF3A3295-0000000000000004 on ExchangeId: 23D21B5DF3A3295-0000000000000004). Exhausted after delivery attempt: 1 caught: java.lang.IllegalThreadStateException\r\n\r\nMessage History (source location and message history is disabled)\r\n---------------------------------------------------------------------------------------------------------------------------------------\r\nSource                                   ID                             Processor                                          Elapsed (ms)\r\n                                         route-1/route-1                from[file://D://camelInput?fileName=input.txt]          2539741\r\n\t...\r\n                                         route-1/process1               ref:postProcessor                                             0\r\n\r\nStacktrace\r\n---------------------------------------------------------------------------------------------------------------------------------------\r\n\r\njava.lang.IllegalThreadStateException: null\r\n\tat java.base/java.lang.Thread.start(Thread.java:792) ~[na:na]\r\n\tat com.persistent.camel.PostProcessor.process(PostProcessor.java:27) ~[classes/:na]\r\n\tat org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:65) ~[camel-support-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$SimpleTask.run(RedeliveryErrorHandler.java:477) ~[camel-core-processor-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:181) ~[camel-base-engine-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59) ~[camel-base-engine-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.processor.Pipeline.process(Pipeline.java:165) ~[camel-core-processor-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:392) ~[camel-base-engine-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.component.file.GenericFileConsumer.processExchange(GenericFileConsumer.java:492) ~[camel-file-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.component.file.GenericFileConsumer.processBatch(GenericFileConsumer.java:245) ~[camel-file-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.component.file.GenericFileConsumer.poll(GenericFileConsumer.java:206) ~[camel-file-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.support.ScheduledPollConsumer.doRun(ScheduledPollConsumer.java:202) ~[camel-support-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.support.ScheduledPollConsumer.run(ScheduledPollConsumer.java:116) ~[camel-support-3.20.3.jar:3.20.3]\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305) ~[na:na]\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\r\n\r\n2023-05-22 11:01:56.083  WARN 23484 --- [/D://camelInput] o.a.c.c.file.GenericFileOnCompletion     : Rollback file strategy: org.apache.camel.component.file.strategy.GenericFileRenameProcessStrategy@4436c7b8 for file: GenericFile[D:\\camelInput\\input.txt]\r\n2023-05-22 11:01:57.047  INFO 23484 --- [       Thread-3] o.a.c.impl.engine.AbstractCamelContext   : Suspended route-1 (file://D://camelInput)\r\n\r\n```\r\n\r\n\r\n","title":"Suspend and Resume Apache Camel routes","body":"<p>I have multiple messages which should be sent to a MQ 'foo'.\nAfter sending a message from 'route-1', the program should wait for a reply on MQ 'bar'.\nOnly after getting a reply on queue 'bar', the next message should be sent.</p>\n<p><a href=\"https://camel.apache.org/manual/faq/how-can-i-stop-a-route-from-a-route.html\" rel=\"nofollow noreferrer\">Apache camel Documentation</a></p>\n<p>I have followed the steps given in the documentation. All the messages are getting routed and then the route is getting suspended.</p>\n<p>input.txt\n<code>msg1,msg2,msg3,msg4,msg5</code></p>\n<p>beans.xml</p>\n<pre><code>    &lt;camelContext id=&quot;orc-1&quot; xmlns=&quot;http://camel.apache.org/schema/spring&quot;&gt;\n        &lt;route id=&quot;route-1&quot;&gt;\n            &lt;from uri=&quot;file://D://camelInput?fileName=input.txt&quot; /&gt;\n            &lt;split&gt;\n                &lt;tokenize token=&quot;,&quot; /&gt;\n                &lt;log message=&quot;${body}&quot; /&gt;\n                &lt;to uri=&quot;jms:queue:foo&quot; /&gt;\n                &lt;process ref=&quot;postProcessor&quot; /&gt;\n            &lt;/split&gt;\n        &lt;/route&gt;\n        &lt;route id=&quot;route-2&quot;&gt;\n            &lt;from uri=&quot;jms:queue:bar&quot; /&gt;\n        &lt;!--restart route-1--&gt;\n        &lt;/route&gt;\n    &lt;/camelContext&gt;\n</code></pre>\n<p>PostProcessor.java</p>\n<pre><code>public class PostProcessor implements Processor {\n\n    Thread stop;\n\n    @Override\n    public void process(Exchange exchange) throws Exception {\n        // stop this route using a thread that will stop\n        // this route gracefully while we are still running\n        if (stop == null) {\n            stop = new Thread() {\n                @Override\n                public void run() {\n                    try {\n                        exchange.getContext().getRouteController().suspendRoute(&quot;route-1&quot;);\n                    } catch (Exception e) {\n                        // ignore\n                    }\n                }\n            };\n        }\n        // start the thread that stops this route\n        stop.start();\n    }\n}\n\n</code></pre>\n<p>logs</p>\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::               (v2.7.11)\n\n2023-05-22 11:01:52.812  INFO 23484 --- [           main] com.persistent.camel.CamelApplication    : Starting CamelApplication using Java 14.0.2 on PSL-5Q47XM3 with PID 23484 (D:\\camel\\camel\\target\\classes started by shashank_mugatkar in D:\\camel\\camel)\n2023-05-22 11:01:52.815  INFO 23484 --- [           main] com.persistent.camel.CamelApplication    : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-05-22 11:01:54.951  INFO 23484 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.3 (orc-1) is starting\n2023-05-22 11:01:55.146  INFO 23484 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:3)\n2023-05-22 11:01:55.147  INFO 23484 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route-1 (file://D://camelInput)\n2023-05-22 11:01:55.147  INFO 23484 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route-2 (jms://queue:bar)\n2023-05-22 11:01:55.147  INFO 23484 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route-3 (direct://suspendRoute1)\n2023-05-22 11:01:55.147  INFO 23484 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.3 (orc-1) started in 453ms (build:64ms init:195ms start:194ms)\n2023-05-22 11:01:55.157  INFO 23484 --- [           main] com.persistent.camel.CamelApplication    : Started CamelApplication in 2.742 seconds (JVM running for 3.157)\n2023-05-22 11:01:56.007  INFO 23484 --- [/D://camelInput] route-1                                  : msg0\n2023-05-22 11:01:56.035  INFO 23484 --- [/D://camelInput] route-1                                  : msg1\n2023-05-22 11:01:56.040  INFO 23484 --- [ - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 2 inflight and pending exchanges to complete, timeout in 45 seconds. Inflights per route: [route-1 = 2]\n2023-05-22 11:01:56.050 ERROR 23484 --- [/D://camelInput] o.a.c.p.e.DefaultErrorHandler            : Failed delivery for (MessageId: 23D21B5DF3A3295-0000000000000001 on ExchangeId: 23D21B5DF3A3295-0000000000000001). Exhausted after delivery attempt: 1 caught: java.lang.IllegalThreadStateException\n\nMessage History (source location and message history is disabled)\n---------------------------------------------------------------------------------------------------------------------------------------\nSource                                   ID                             Processor                                          Elapsed (ms)\n                                         route-1/route-1                from[file://D://camelInput?fileName=input.txt]          2539704\n    ...\n                                         route-1/process1               ref:postProcessor                                             0\n\nStacktrace\n---------------------------------------------------------------------------------------------------------------------------------------\n\njava.lang.IllegalThreadStateException: null\n    at java.base/java.lang.Thread.start(Thread.java:792) ~[na:na]\n    at com.persistent.camel.PostProcessor.process(PostProcessor.java:27) ~[classes/:na]\n    at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:65) ~[camel-support-3.20.3.jar:3.20.3]\n    at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$SimpleTask.run(RedeliveryErrorHandler.java:477) ~[camel-core-processor-3.20.3.jar:3.20.3]\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:181) ~[camel-base-engine-3.20.3.jar:3.20.3]\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59) ~[camel-base-engine-3.20.3.jar:3.20.3]\n    at org.apache.camel.processor.Pipeline.process(Pipeline.java:165) ~[camel-core-processor-3.20.3.jar:3.20.3]\n    at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:392) ~[camel-base-engine-3.20.3.jar:3.20.3]\n    at org.apache.camel.component.file.GenericFileConsumer.processExchange(GenericFileConsumer.java:492) ~[camel-file-3.20.3.jar:3.20.3]\n    at org.apache.camel.component.file.GenericFileConsumer.processBatch(GenericFileConsumer.java:245) ~[camel-file-3.20.3.jar:3.20.3]\n    at org.apache.camel.component.file.GenericFileConsumer.poll(GenericFileConsumer.java:206) ~[camel-file-3.20.3.jar:3.20.3]\n    at org.apache.camel.support.ScheduledPollConsumer.doRun(ScheduledPollConsumer.java:202) ~[camel-support-3.20.3.jar:3.20.3]\n    at org.apache.camel.support.ScheduledPollConsumer.run(ScheduledPollConsumer.java:116) ~[camel-support-3.20.3.jar:3.20.3]\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305) ~[na:na]\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\n\n2023-05-22 11:01:56.051  INFO 23484 --- [/D://camelInput] route-1                                  : msg2\n2023-05-22 11:01:56.061 ERROR 23484 --- [/D://camelInput] o.a.c.p.e.DefaultErrorHandler            : Failed delivery for (MessageId: 23D21B5DF3A3295-0000000000000002 on ExchangeId: 23D21B5DF3A3295-0000000000000002). Exhausted after delivery attempt: 1 caught: java.lang.IllegalThreadStateException\n\nMessage History (source location and message history is disabled)\n---------------------------------------------------------------------------------------------------------------------------------------\nSource                                   ID                             Processor                                          Elapsed (ms)\n                                         route-1/route-1                from[file://D://camelInput?fileName=input.txt]          2539720\n    ...\n                                         route-1/process1               ref:postProcessor                                             0\n\nStacktrace\n---------------------------------------------------------------------------------------------------------------------------------------\n\njava.lang.IllegalThreadStateException: null\n    at java.base/java.lang.Thread.start(Thread.java:792) ~[na:na]\n    at com.persistent.camel.PostProcessor.process(PostProcessor.java:27) ~[classes/:na]\n    at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:65) ~[camel-support-3.20.3.jar:3.20.3]\n    at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$SimpleTask.run(RedeliveryErrorHandler.java:477) ~[camel-core-processor-3.20.3.jar:3.20.3]\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:181) ~[camel-base-engine-3.20.3.jar:3.20.3]\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59) ~[camel-base-engine-3.20.3.jar:3.20.3]\n    at org.apache.camel.processor.Pipeline.process(Pipeline.java:165) ~[camel-core-processor-3.20.3.jar:3.20.3]\n    at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:392) ~[camel-base-engine-3.20.3.jar:3.20.3]\n    at org.apache.camel.component.file.GenericFileConsumer.processExchange(GenericFileConsumer.java:492) ~[camel-file-3.20.3.jar:3.20.3]\n    at org.apache.camel.component.file.GenericFileConsumer.processBatch(GenericFileConsumer.java:245) ~[camel-file-3.20.3.jar:3.20.3]\n    at org.apache.camel.component.file.GenericFileConsumer.poll(GenericFileConsumer.java:206) ~[camel-file-3.20.3.jar:3.20.3]\n    at org.apache.camel.support.ScheduledPollConsumer.doRun(ScheduledPollConsumer.java:202) ~[camel-support-3.20.3.jar:3.20.3]\n    at org.apache.camel.support.ScheduledPollConsumer.run(ScheduledPollConsumer.java:116) ~[camel-support-3.20.3.jar:3.20.3]\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305) ~[na:na]\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\n\n2023-05-22 11:01:56.062  INFO 23484 --- [/D://camelInput] route-1                                  : msg3\n2023-05-22 11:01:56.072 ERROR 23484 --- [/D://camelInput] o.a.c.p.e.DefaultErrorHandler            : Failed delivery for (MessageId: 23D21B5DF3A3295-0000000000000003 on ExchangeId: 23D21B5DF3A3295-0000000000000003). Exhausted after delivery attempt: 1 caught: java.lang.IllegalThreadStateException\n\nMessage History (source location and message history is disabled)\n---------------------------------------------------------------------------------------------------------------------------------------\nSource                                   ID                             Processor                                          Elapsed (ms)\n                                         route-1/route-1                from[file://D://camelInput?fileName=input.txt]          2539730\n    ...\n                                         route-1/process1               ref:postProcessor                                             0\n\nStacktrace\n---------------------------------------------------------------------------------------------------------------------------------------\n\njava.lang.IllegalThreadStateException: null\n    at java.base/java.lang.Thread.start(Thread.java:792) ~[na:na]\n    at com.persistent.camel.PostProcessor.process(PostProcessor.java:27) ~[classes/:na]\n    at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:65) ~[camel-support-3.20.3.jar:3.20.3]\n    at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$SimpleTask.run(RedeliveryErrorHandler.java:477) ~[camel-core-processor-3.20.3.jar:3.20.3]\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:181) ~[camel-base-engine-3.20.3.jar:3.20.3]\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59) ~[camel-base-engine-3.20.3.jar:3.20.3]\n    at org.apache.camel.processor.Pipeline.process(Pipeline.java:165) ~[camel-core-processor-3.20.3.jar:3.20.3]\n    at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:392) ~[camel-base-engine-3.20.3.jar:3.20.3]\n    at org.apache.camel.component.file.GenericFileConsumer.processExchange(GenericFileConsumer.java:492) ~[camel-file-3.20.3.jar:3.20.3]\n    at org.apache.camel.component.file.GenericFileConsumer.processBatch(GenericFileConsumer.java:245) ~[camel-file-3.20.3.jar:3.20.3]\n    at org.apache.camel.component.file.GenericFileConsumer.poll(GenericFileConsumer.java:206) ~[camel-file-3.20.3.jar:3.20.3]\n    at org.apache.camel.support.ScheduledPollConsumer.doRun(ScheduledPollConsumer.java:202) ~[camel-support-3.20.3.jar:3.20.3]\n    at org.apache.camel.support.ScheduledPollConsumer.run(ScheduledPollConsumer.java:116) ~[camel-support-3.20.3.jar:3.20.3]\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305) ~[na:na]\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\n\n2023-05-22 11:01:56.072  INFO 23484 --- [/D://camelInput] route-1                                  : msg4\n\n2023-05-22 11:01:56.083 ERROR 23484 --- [/D://camelInput] o.a.c.p.e.DefaultErrorHandler            : Failed delivery for (MessageId: 23D21B5DF3A3295-0000000000000004 on ExchangeId: 23D21B5DF3A3295-0000000000000004). Exhausted after delivery attempt: 1 caught: java.lang.IllegalThreadStateException\n\nMessage History (source location and message history is disabled)\n---------------------------------------------------------------------------------------------------------------------------------------\nSource                                   ID                             Processor                                          Elapsed (ms)\n                                         route-1/route-1                from[file://D://camelInput?fileName=input.txt]          2539741\n    ...\n                                         route-1/process1               ref:postProcessor                                             0\n\nStacktrace\n---------------------------------------------------------------------------------------------------------------------------------------\n\njava.lang.IllegalThreadStateException: null\n    at java.base/java.lang.Thread.start(Thread.java:792) ~[na:na]\n    at com.persistent.camel.PostProcessor.process(PostProcessor.java:27) ~[classes/:na]\n    at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:65) ~[camel-support-3.20.3.jar:3.20.3]\n    at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$SimpleTask.run(RedeliveryErrorHandler.java:477) ~[camel-core-processor-3.20.3.jar:3.20.3]\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:181) ~[camel-base-engine-3.20.3.jar:3.20.3]\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59) ~[camel-base-engine-3.20.3.jar:3.20.3]\n    at org.apache.camel.processor.Pipeline.process(Pipeline.java:165) ~[camel-core-processor-3.20.3.jar:3.20.3]\n    at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:392) ~[camel-base-engine-3.20.3.jar:3.20.3]\n    at org.apache.camel.component.file.GenericFileConsumer.processExchange(GenericFileConsumer.java:492) ~[camel-file-3.20.3.jar:3.20.3]\n    at org.apache.camel.component.file.GenericFileConsumer.processBatch(GenericFileConsumer.java:245) ~[camel-file-3.20.3.jar:3.20.3]\n    at org.apache.camel.component.file.GenericFileConsumer.poll(GenericFileConsumer.java:206) ~[camel-file-3.20.3.jar:3.20.3]\n    at org.apache.camel.support.ScheduledPollConsumer.doRun(ScheduledPollConsumer.java:202) ~[camel-support-3.20.3.jar:3.20.3]\n    at org.apache.camel.support.ScheduledPollConsumer.run(ScheduledPollConsumer.java:116) ~[camel-support-3.20.3.jar:3.20.3]\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305) ~[na:na]\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\n\n2023-05-22 11:01:56.083  WARN 23484 --- [/D://camelInput] o.a.c.c.file.GenericFileOnCompletion     : Rollback file strategy: org.apache.camel.component.file.strategy.GenericFileRenameProcessStrategy@4436c7b8 for file: GenericFile[D:\\camelInput\\input.txt]\n2023-05-22 11:01:57.047  INFO 23484 --- [       Thread-3] o.a.c.impl.engine.AbstractCamelContext   : Suspended route-1 (file://D://camelInput)\n\n</code></pre>\n"},{"tags":["java","selenium-webdriver","jenkins","extentreports"],"owner":{"account_id":28555200,"reputation":1,"user_id":21859515,"display_name":"Vishva Nagaria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684735678,"creation_date":1684735678,"question_id":76303412,"body_markdown":"in jenkins when run the freestyle project it show the blank report.\r\n\r\n[enter image description here](https://i.stack.imgur.com/PDVbL.png)\r\n\r\n-- i need all the log which run in my local machine but does not generate in the jenkins. also it generated the html file but it show blank white page. ","title":"Is there a way to retrieve logs not generated in Jenkins for a freestyle project using ExtentReports, Selenium, and Java?","body":"<p>in jenkins when run the freestyle project it show the blank report.</p>\n<p><a href=\"https://i.stack.imgur.com/PDVbL.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>-- i need all the log which run in my local machine but does not generate in the jenkins. also it generated the html file but it show blank white page.</p>\n"},{"tags":["java","rabbitmq","spring-rabbit"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1525727621,"creation_date":1525727621,"answer_id":50222513,"question_id":50222164,"body_markdown":"It doesn&#39;t work that way, you can&#39;t autowire containers for `@RabbitListener`s; they are not beans; they are created by the container factory and registered in the registry. Instead you have to retrieve them from the registry (by id).\r\n\r\nHowever, since you have `autoStartup` set to false, it shouldn&#39;t be &quot;stealing&quot; messages from your `@RabbitListener`.\r\n\r\nGenerally, DEBUG logging should help.","title":"Compressing and decompressing Spring RabbitMQ messages with a DirectMessageListenerContainer","body":"<p>It doesn't work that way, you can't autowire containers for <code>@RabbitListener</code>s; they are not beans; they are created by the container factory and registered in the registry. Instead you have to retrieve them from the registry (by id).</p>\n\n<p>However, since you have <code>autoStartup</code> set to false, it shouldn't be \"stealing\" messages from your <code>@RabbitListener</code>.</p>\n\n<p>Generally, DEBUG logging should help.</p>\n"},{"tags":[],"owner":{"account_id":3673566,"reputation":2692,"user_id":3060133,"accept_rate":92,"display_name":"Shirishkumar Bari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684735455,"creation_date":1684735455,"answer_id":76303396,"question_id":50222164,"body_markdown":"The official guide explains it at [https://docs.spring.io/spring-amqp/reference/html/#post-processing][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-amqp/reference/html/#post-processing\r\n\r\nBasically there are couple of options i.e. \r\n\r\n 1. Configure Message convertor like below \r\n\r\n        public class CompressionMessageConverter {\r\n        public static MessageConverter messageConverter() {\r\n            final MessageConverter simpleMessageConverter = new SimpleMessageConverter();\r\n            return new MessageConverter() {\r\n                @Override\r\n                public Message toMessage(Object messagePayload, MessageProperties messageProperties)\r\n                        throws MessageConversionException {\r\n                    final Message m = simpleMessageConverter.toMessage(messagePayload, messageProperties);\r\n                    final ByteArrayOutputStream os = new ByteArrayOutputStream();\r\n                    try (GZIPOutputStream gz = new GZIPOutputStream(os)) {\r\n                        gz.write(m.getBody());\r\n                    } catch (IOException e) {\r\n                        throw new MessageConversionException(e.getMessage());\r\n                    }\r\n    \r\n                    return new Message(os.toByteArray(), messageProperties);\r\n                }\r\n    \r\n                @Override\r\n                public Object fromMessage(Message messagePayload) throws MessageConversionException {\r\n                    final ByteArrayOutputStream os = new ByteArrayOutputStream();\r\n                    try (GZIPInputStream is = new GZIPInputStream(new ByteArrayInputStream(messagePayload.getBody()))) {\r\n                        byte[] b = new byte[2048];\r\n                        int r;\r\n                        while ((r = is.read(b)) != -1) {\r\n                            os.write(b, 0, r);\r\n                        }\r\n                    } catch (IOException ioException) {\r\n                        throw new RuntimeException(ioException);\r\n                    }\r\n    \r\n                    return simpleMessageConverter.fromMessage(new Message(os.toByteArray(), messagePayload.getMessageProperties()));\r\n                }\r\n            };\r\n        }\r\n   \r\n  Use it in RabbitTemplate as \r\n\r\n    rabbitTemplate.setMessageConverter(CompressionMessageConverter .messageConverter());\r\n\r\n \r\n2. Use post processors\r\n    \r\n    rabbitTemplate.setBeforePublishPostProcessors(new GZipPostProcessor());\r\n    rabbitTemplate.setAfterReceivePostProcessors(new GUnzipPostProcessor());\r\n\r\n","title":"Compressing and decompressing Spring RabbitMQ messages with a DirectMessageListenerContainer","body":"<p>The official guide explains it at <a href=\"https://docs.spring.io/spring-amqp/reference/html/#post-processing\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-amqp/reference/html/#post-processing</a></p>\n<p>Basically there are couple of options i.e.</p>\n<ol>\n<li><p>Configure Message convertor like below</p>\n<pre><code>public class CompressionMessageConverter {\npublic static MessageConverter messageConverter() {\n    final MessageConverter simpleMessageConverter = new SimpleMessageConverter();\n    return new MessageConverter() {\n        @Override\n        public Message toMessage(Object messagePayload, MessageProperties messageProperties)\n                throws MessageConversionException {\n            final Message m = simpleMessageConverter.toMessage(messagePayload, messageProperties);\n            final ByteArrayOutputStream os = new ByteArrayOutputStream();\n            try (GZIPOutputStream gz = new GZIPOutputStream(os)) {\n                gz.write(m.getBody());\n            } catch (IOException e) {\n                throw new MessageConversionException(e.getMessage());\n            }\n\n            return new Message(os.toByteArray(), messageProperties);\n        }\n\n        @Override\n        public Object fromMessage(Message messagePayload) throws MessageConversionException {\n            final ByteArrayOutputStream os = new ByteArrayOutputStream();\n            try (GZIPInputStream is = new GZIPInputStream(new ByteArrayInputStream(messagePayload.getBody()))) {\n                byte[] b = new byte[2048];\n                int r;\n                while ((r = is.read(b)) != -1) {\n                    os.write(b, 0, r);\n                }\n            } catch (IOException ioException) {\n                throw new RuntimeException(ioException);\n            }\n\n            return simpleMessageConverter.fromMessage(new Message(os.toByteArray(), messagePayload.getMessageProperties()));\n        }\n    };\n}\n</code></pre>\n</li>\n</ol>\n<p>Use it in RabbitTemplate as</p>\n<pre><code>rabbitTemplate.setMessageConverter(CompressionMessageConverter .messageConverter());\n</code></pre>\n<ol start=\"2\">\n<li><p>Use post processors</p>\n<p>rabbitTemplate.setBeforePublishPostProcessors(new GZipPostProcessor());\nrabbitTemplate.setAfterReceivePostProcessors(new GUnzipPostProcessor());</p>\n</li>\n</ol>\n"}],"owner":{"account_id":13256005,"reputation":75,"user_id":9572083,"display_name":"Harry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2413,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":50222513,"answer_count":2,"score":2,"last_activity_date":1684735455,"creation_date":1525725868,"question_id":50222164,"body_markdown":"I have modified my RabbitMQ from a previous post (https://stackoverflow.com/questions/49566278/spring-rabbit-json-deserialization-for-arraylist-contents) to now use a DirectMessageListener with MessagePostProcessors to GZip and GUnzip the message payloads.\r\n\r\nHowever, it doesn&#39;t appear to be working as the breakpoints are not activated, but also because my `RabbitListener`s are no longer receiving messages, whereas they did with a `SimpleMessageFactoryListenerContainer`.\r\nAlso, it appears the SimpleMessageListenerContainer(?) is still being used.  On a side-note, I am autowiring the `DirectMessageListenerContainer` so I can dynamically set the queues I used.\r\n***\r\n***spring-rabbit: 2.0.3.RELEASE.***\r\n***spring-boot:  2.0.1.RELEASE.***\r\n***\r\n\r\n**RabbitMQ configuration:**\r\n\r\n    @Configuration\r\n    @EnableRabbit\r\n    public class MessagingConfiguration implements ShutdownListener {\r\n\t\r\n\t\t@Autowired\r\n\t\tprivate RabbitListenerEndpointRegistry registry;\r\n\t\r\n\t\t@Autowired\r\n\t\tprivate DirectMessageListenerContainer container;\r\n\t\t\r\n\t\t@Bean\r\n\t\tpublic DirectMessageListenerContainer messageListenerContainer(final ConnectionFactory connectionFactory) {\r\n\t\t\tfinal DirectMessageListenerContainer listenerContainer = new DirectMessageListenerContainer();\r\n\t\t\tlistenerContainer.setConnectionFactory(connectionFactory);\r\n\t\t\tlistenerContainer.setMessageConverter(jsonConverter()); // i.e.@RabbitListener to use Jackson2JsonMessageConverter\r\n\t\t\tlistenerContainer.setAutoStartup(false);\r\n\t\t\t// container.setErrorHandler(errorHandler);\r\n\t\t\tfinal MessageListenerAdapter messageListener = new MessageListenerAdapter(new Object() {\r\n\t\t\t\t@SuppressWarnings(&quot;unused&quot;)\r\n\t\t\t\tpublic String handleMessage(final String message) {\r\n\t\t\t\t\treturn message.toUpperCase();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tmessageListener.setBeforeSendReplyPostProcessors(new GZipPostProcessor());\r\n\t\t\tlistenerContainer.setMessageListener(messageListener);\r\n\t\t\tlistenerContainer.setAfterReceivePostProcessors(new GUnzipPostProcessor());\r\n\t\t\treturn listenerContainer;\r\n\t\t}\r\n\r\n\t\t@EventListener(ApplicationDatabaseReadyEvent.class)\r\n\t\tpublic void onApplicationDatabaseReadyEvent() {\r\n\t\t\tlog.info(&quot;Starting all RabbitMQ Listeners...&quot;); //$NON-NLS-1$\r\n\t\t\tfor (final MessageListenerContainer listenerContainer : registry.getListenerContainers()) {\r\n\t\t\t\tlistenerContainer.start();\r\n\t\t\t}\r\n\t\t\tlog.info(&quot;Register is running: {}&quot;, registry.isRunning()); //$NON-NLS-1$\r\n\t\t\tlog.info(&quot;Started all RabbitMQ Listeners.&quot;); //$NON-NLS-1$\r\n\t\t}\r\n\r\n\t\t@Bean\r\n\t\tpublic List&lt;Declarable&gt; bindings() {\r\n\t\tfinal List&lt;Declarable&gt; declarations = new ArrayList&lt;&gt;();\r\n\t\t\tfinal FanoutExchange exchange = new FanoutExchange(&quot;fx&quot;, true, false);\r\n\t\t\tfinal Queue queue = QueueBuilder.durable(&quot;orders&quot;).build();\r\n\t\t\tdeclarations.add(exchange);\r\n\t\t\tdeclarations.add(queue);\r\n\t\t\tdeclarations.add(BindingBuilder.bind(queue).to(exchange));\r\n\t\t    List&lt;String&gt; q = new ArrayList&lt;&gt;();\r\n\t\t    q.add(queue.getName());\r\n\t\tcontainer.addQueueNames(q.toArray(new String[queues.size()]));\r\n\r\n\t\t\treturn declarations;\r\n\t\t}\r\n\t\r\n\t\t@Bean\r\n\t\tpublic Jackson2JsonMessageConverter jsonConverter() {\r\n\t\t\tfinal Jackson2JsonMessageConverter converter = new Jackson2JsonMessageConverter();\r\n\t\t\tconverter.setClassMapper(classMapper());\r\n\t\t\treturn converter;\r\n\t\t}\r\n\r\n\t\tprivate static DefaultJackson2JavaTypeMapper classMapper() {\r\n\t\t\tfinal DefaultJackson2JavaTypeMapper classMapper = new DefaultJackson2JavaTypeMapper();\r\n\t\t\tclassMapper.setTrustedPackages(&quot;*&quot;); //$NON-NLS-1$  //TODO add trusted packages\r\n\t\t\treturn classMapper;\r\n\t\t}\r\n\r\n\t\t@ConditionalOnProperty(name = &quot;consumer&quot;, havingValue = &quot;true&quot;)\r\n\t\t@Bean\r\n\t\tpublic ConsumerListener listenerConsumer() {\r\n\t\t\treturn new ConsumerListener();\r\n\t\t}\r\n\t\r\n\t\t@ConditionalOnProperty(name = &quot;producer&quot;, havingValue = &quot;true&quot;)\r\n\t\t@Bean\r\n\t\tpublic ProducerListener listenerProducer() {\r\n\t\t\treturn new ProducerListener();\r\n\t\t}\r\n\t\r\n\t\t@Bean\r\n\t\tpublic RabbitAdmin rabbitAdmin(final CachingConnectionFactory connectionFactory) {\r\n\t\t\treturn new RabbitAdmin(connectionFactory);\r\n\t\t}\r\n\t\r\n\t\t@Bean\r\n\t\tpublic RabbitTemplate rabbitTemplate(final ConnectionFactory connectionFactory) {\r\n\t\t\tfinal RabbitTemplate rabbitTemplate = new RabbitTemplate(connectionFactory);\r\n\t\t\trabbitTemplate.setMessageConverter(jsonConverter()); // convert all sent messages to JSON\r\n\t\t\trabbitTemplate.setReplyTimeout(TimeUnit.SECONDS.toMillis(3));\r\n\t\t\trabbitTemplate.setReceiveTimeout(TimeUnit.SECONDS.toMillis(3));\r\n\t\t\treturn rabbitTemplate;\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic void shutdownCompleted(final ShutdownSignalException arg0) {\r\n\t\t}\r\n\t}\r\n\r\n","title":"Compressing and decompressing Spring RabbitMQ messages with a DirectMessageListenerContainer","body":"<p>I have modified my RabbitMQ from a previous post (<a href=\"https://stackoverflow.com/questions/49566278/spring-rabbit-json-deserialization-for-arraylist-contents\">spring-rabbit JSON deserialization for ArrayList contents</a>) to now use a DirectMessageListener with MessagePostProcessors to GZip and GUnzip the message payloads.</p>\n\n<p>However, it doesn't appear to be working as the breakpoints are not activated, but also because my <code>RabbitListener</code>s are no longer receiving messages, whereas they did with a <code>SimpleMessageFactoryListenerContainer</code>.\nAlso, it appears the SimpleMessageListenerContainer(?) is still being used.  On a side-note, I am autowiring the <code>DirectMessageListenerContainer</code> so I can dynamically set the queues I used.</p>\n\n<hr>\n\n<p><strong><em>spring-rabbit: 2.0.3.RELEASE.</em></strong>\n<strong><em>spring-boot:  2.0.1.RELEASE.</em></strong></p>\n\n<hr>\n\n<p><strong>RabbitMQ configuration:</strong></p>\n\n<pre><code>@Configuration\n@EnableRabbit\npublic class MessagingConfiguration implements ShutdownListener {\n\n    @Autowired\n    private RabbitListenerEndpointRegistry registry;\n\n    @Autowired\n    private DirectMessageListenerContainer container;\n\n    @Bean\n    public DirectMessageListenerContainer messageListenerContainer(final ConnectionFactory connectionFactory) {\n        final DirectMessageListenerContainer listenerContainer = new DirectMessageListenerContainer();\n        listenerContainer.setConnectionFactory(connectionFactory);\n        listenerContainer.setMessageConverter(jsonConverter()); // i.e.@RabbitListener to use Jackson2JsonMessageConverter\n        listenerContainer.setAutoStartup(false);\n        // container.setErrorHandler(errorHandler);\n        final MessageListenerAdapter messageListener = new MessageListenerAdapter(new Object() {\n            @SuppressWarnings(\"unused\")\n            public String handleMessage(final String message) {\n                return message.toUpperCase();\n            }\n        });\n        messageListener.setBeforeSendReplyPostProcessors(new GZipPostProcessor());\n        listenerContainer.setMessageListener(messageListener);\n        listenerContainer.setAfterReceivePostProcessors(new GUnzipPostProcessor());\n        return listenerContainer;\n    }\n\n    @EventListener(ApplicationDatabaseReadyEvent.class)\n    public void onApplicationDatabaseReadyEvent() {\n        log.info(\"Starting all RabbitMQ Listeners...\"); //$NON-NLS-1$\n        for (final MessageListenerContainer listenerContainer : registry.getListenerContainers()) {\n            listenerContainer.start();\n        }\n        log.info(\"Register is running: {}\", registry.isRunning()); //$NON-NLS-1$\n        log.info(\"Started all RabbitMQ Listeners.\"); //$NON-NLS-1$\n    }\n\n    @Bean\n    public List&lt;Declarable&gt; bindings() {\n    final List&lt;Declarable&gt; declarations = new ArrayList&lt;&gt;();\n        final FanoutExchange exchange = new FanoutExchange(\"fx\", true, false);\n        final Queue queue = QueueBuilder.durable(\"orders\").build();\n        declarations.add(exchange);\n        declarations.add(queue);\n        declarations.add(BindingBuilder.bind(queue).to(exchange));\n        List&lt;String&gt; q = new ArrayList&lt;&gt;();\n        q.add(queue.getName());\n    container.addQueueNames(q.toArray(new String[queues.size()]));\n\n        return declarations;\n    }\n\n    @Bean\n    public Jackson2JsonMessageConverter jsonConverter() {\n        final Jackson2JsonMessageConverter converter = new Jackson2JsonMessageConverter();\n        converter.setClassMapper(classMapper());\n        return converter;\n    }\n\n    private static DefaultJackson2JavaTypeMapper classMapper() {\n        final DefaultJackson2JavaTypeMapper classMapper = new DefaultJackson2JavaTypeMapper();\n        classMapper.setTrustedPackages(\"*\"); //$NON-NLS-1$  //TODO add trusted packages\n        return classMapper;\n    }\n\n    @ConditionalOnProperty(name = \"consumer\", havingValue = \"true\")\n    @Bean\n    public ConsumerListener listenerConsumer() {\n        return new ConsumerListener();\n    }\n\n    @ConditionalOnProperty(name = \"producer\", havingValue = \"true\")\n    @Bean\n    public ProducerListener listenerProducer() {\n        return new ProducerListener();\n    }\n\n    @Bean\n    public RabbitAdmin rabbitAdmin(final CachingConnectionFactory connectionFactory) {\n        return new RabbitAdmin(connectionFactory);\n    }\n\n    @Bean\n    public RabbitTemplate rabbitTemplate(final ConnectionFactory connectionFactory) {\n        final RabbitTemplate rabbitTemplate = new RabbitTemplate(connectionFactory);\n        rabbitTemplate.setMessageConverter(jsonConverter()); // convert all sent messages to JSON\n        rabbitTemplate.setReplyTimeout(TimeUnit.SECONDS.toMillis(3));\n        rabbitTemplate.setReceiveTimeout(TimeUnit.SECONDS.toMillis(3));\n        return rabbitTemplate;\n    }\n\n    @Override\n    public void shutdownCompleted(final ShutdownSignalException arg0) {\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","jackson"],"answers":[{"tags":[],"owner":{"account_id":10637559,"reputation":2455,"user_id":7833793,"display_name":"R4N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684535524,"creation_date":1684535524,"answer_id":76292768,"question_id":76292553,"body_markdown":"You&#39;re attempting to map a json object to a json array (the json sample you provided starts and ends with curly braces `{}`)\r\n\r\nIf you&#39;re controlling the json, you should be able to switch the format to something like this if you want to map it directly to a json array of EstatePropertyCreatorDto&#39;s:\r\n\r\n```\r\n[\r\n        {\r\n            &quot;id&quot;: &quot;8bd050b0-6578-443a-8e22-bf48318734ce&quot;,\r\n            &quot;title&quot;: &quot;test title&quot;,\r\n            &quot;type&quot;: &quot;APARTMENT&quot;,\r\n            &quot;floor&quot;: &quot;5&quot;,\r\n            &quot;details&quot;: &quot;This details should be aware of!&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;69786c5f-e35a-476d-82de-1d5833a12818&quot;,\r\n            &quot;title&quot;: &quot;test title for 2nd&quot;,\r\n            &quot;type&quot;: &quot;GARAGE&quot;,\r\n            &quot;alias&quot;: &quot;jamie garage&quot;,\r\n            &quot;floor&quot;: &quot;1&quot;,\r\n            &quot;details&quot;: &quot;Details for Jamie Garage&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;c935f330-eebe-4d35-818d-d2248fc8ca9e&quot;,\r\n            &quot;title&quot;: &quot;test title for 3rd&quot;,\r\n            &quot;type&quot;: &quot;OFFICE&quot;,\r\n            &quot;floor&quot;: &quot;2&quot;,\r\n            &quot;details&quot;: &quot;Details for Jamie office&quot;,\r\n            &quot;commonParts&quot;: &quot;Office common parts&quot;\r\n        }\r\n    ]\r\n```\r\n\r\nIn which case it should be able to be mapped to the straight json array\r\n\r\n\r\nIf you&#39;re not controlling the json, you&#39;ll need an additional wrapper class along these lines:\r\n\r\n```\r\npublic class MappedObject {\r\n\r\n    public MappedObject() {\r\n    }\r\n\r\n    List&lt;EstatePropertyCreatorDto&gt; estateProperties;\r\n\r\n    public List&lt;EstatePropertyCreatorDto&gt; getEstateProperties() {\r\n        return estateProperties;\r\n    }\r\n\r\n    public void setEstateProperties(List&lt;EstatePropertyCreatorDto&gt; estateProperties) {\r\n        this.estateProperties = estateProperties;\r\n    }\r\n}\r\n```\r\n\r\nwhich should allow the json object to be properly mapped and the list be filled/mapped with the estateProperties jsonArray","title":"JSON Parse Error com.fasterxml.jackson.databind.exc.MismatchedInputException","body":"<p>You're attempting to map a json object to a json array (the json sample you provided starts and ends with curly braces <code>{}</code>)</p>\n<p>If you're controlling the json, you should be able to switch the format to something like this if you want to map it directly to a json array of EstatePropertyCreatorDto's:</p>\n<pre><code>[\n        {\n            &quot;id&quot;: &quot;8bd050b0-6578-443a-8e22-bf48318734ce&quot;,\n            &quot;title&quot;: &quot;test title&quot;,\n            &quot;type&quot;: &quot;APARTMENT&quot;,\n            &quot;floor&quot;: &quot;5&quot;,\n            &quot;details&quot;: &quot;This details should be aware of!&quot;\n        },\n        {\n            &quot;id&quot;: &quot;69786c5f-e35a-476d-82de-1d5833a12818&quot;,\n            &quot;title&quot;: &quot;test title for 2nd&quot;,\n            &quot;type&quot;: &quot;GARAGE&quot;,\n            &quot;alias&quot;: &quot;jamie garage&quot;,\n            &quot;floor&quot;: &quot;1&quot;,\n            &quot;details&quot;: &quot;Details for Jamie Garage&quot;\n        },\n        {\n            &quot;id&quot;: &quot;c935f330-eebe-4d35-818d-d2248fc8ca9e&quot;,\n            &quot;title&quot;: &quot;test title for 3rd&quot;,\n            &quot;type&quot;: &quot;OFFICE&quot;,\n            &quot;floor&quot;: &quot;2&quot;,\n            &quot;details&quot;: &quot;Details for Jamie office&quot;,\n            &quot;commonParts&quot;: &quot;Office common parts&quot;\n        }\n    ]\n</code></pre>\n<p>In which case it should be able to be mapped to the straight json array</p>\n<p>If you're not controlling the json, you'll need an additional wrapper class along these lines:</p>\n<pre><code>public class MappedObject {\n\n    public MappedObject() {\n    }\n\n    List&lt;EstatePropertyCreatorDto&gt; estateProperties;\n\n    public List&lt;EstatePropertyCreatorDto&gt; getEstateProperties() {\n        return estateProperties;\n    }\n\n    public void setEstateProperties(List&lt;EstatePropertyCreatorDto&gt; estateProperties) {\n        this.estateProperties = estateProperties;\n    }\n}\n</code></pre>\n<p>which should allow the json object to be properly mapped and the list be filled/mapped with the estateProperties jsonArray</p>\n"}],"owner":{"account_id":19763397,"reputation":13,"user_id":14471993,"display_name":"martoiliev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76292768,"answer_count":1,"score":1,"last_activity_date":1684732995,"creation_date":1684532278,"question_id":76292553,"body_markdown":"POST Request with `@RequestBody` of `List&lt;T&gt;` -&gt; then I am getting the Json Parse Error Cannot deserialize value of type `java.util.ArrayList&lt;&quot;my path to the DTO class&quot;&gt;` from Object value `(token JsonToken.START_OBJECT); `\r\n\r\nnested exception is \r\n\r\n&gt; com.fasterxml.jackson.databind.exc.MismatchedInputException\r\n\r\n\r\nHere is my DTO \r\n\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@ToString\r\npublic class EstatePropertyCreatorDto {\r\n\r\n    private UUID id;\r\n    private String title;\r\n    @NotNull private PropertyTypes type;\r\n    @Null private String alias;\r\n    @NotNull private String floor;\r\n    @NotNull private String details;\r\n    @Null private String commonParts;\r\n}\r\n```\r\n\r\nAnd Here is my controller method: \r\n```\r\n\r\n    @PostMapping(&quot;/{buildingId}/properties&quot;)\r\n    public List&lt;EstatePropertyCreatorDto&gt; addPropertiesToBuilding(@PathVariable UUID buildingId, @RequestBody List&lt;EstatePropertyCreatorDto&gt; estateProperties) {\r\n        buildingService.addPropertiesToBuilding(buildingId, estateProperties);\r\n\r\n        return List.of(&quot;Once I reach the method I will implement the return&quot;);\r\n    }\r\n```\r\n\r\nAnd here is my post request body: \r\n\r\n```\r\n  {\r\n    &quot;estateProperties&quot;: [\r\n        {\r\n            &quot;id&quot;: &quot;8bd050b0-6578-443a-8e22-bf48318734ce&quot;,\r\n            &quot;title&quot;: &quot;test title&quot;,\r\n            &quot;type&quot;: &quot;APARTMENT&quot;,\r\n            &quot;floor&quot;: &quot;5&quot;,\r\n            &quot;details&quot;: &quot;This details should be aware of!&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;69786c5f-e35a-476d-82de-1d5833a12818&quot;,\r\n            &quot;title&quot;: &quot;test title for 2nd&quot;,\r\n            &quot;type&quot;: &quot;GARAGE&quot;,\r\n            &quot;alias&quot;: &quot;jamie garage&quot;,\r\n            &quot;floor&quot;: &quot;1&quot;,\r\n            &quot;details&quot;: &quot;Details for Jamie Garage&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;c935f330-eebe-4d35-818d-d2248fc8ca9e&quot;,\r\n            &quot;title&quot;: &quot;test title for 3rd&quot;,\r\n            &quot;type&quot;: &quot;OFFICE&quot;,\r\n            &quot;floor&quot;: &quot;2&quot;,\r\n            &quot;details&quot;: &quot;Details for Jamie office&quot;,\r\n            &quot;commonParts&quot;: &quot;Office common parts&quot;\r\n        }\r\n    ]\r\n  }\r\n```\r\n\r\nThen I am getting the following error: \r\n\r\n```\r\nCannot deserialize value of type `java.util.ArrayList&lt;&gt; from Object value (token `JsonToken.START_OBJECT`); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException\r\n```","title":"JSON Parse Error com.fasterxml.jackson.databind.exc.MismatchedInputException","body":"<p>POST Request with <code>@RequestBody</code> of <code>List&lt;T&gt;</code> -&gt; then I am getting the Json Parse Error Cannot deserialize value of type <code>java.util.ArrayList&lt;&quot;my path to the DTO class&quot;&gt;</code> from Object value <code>(token JsonToken.START_OBJECT); </code></p>\n<p>nested exception is</p>\n<blockquote>\n<p>com.fasterxml.jackson.databind.exc.MismatchedInputException</p>\n</blockquote>\n<p>Here is my DTO</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@ToString\npublic class EstatePropertyCreatorDto {\n\n    private UUID id;\n    private String title;\n    @NotNull private PropertyTypes type;\n    @Null private String alias;\n    @NotNull private String floor;\n    @NotNull private String details;\n    @Null private String commonParts;\n}\n</code></pre>\n<p>And Here is my controller method:</p>\n<pre><code>\n    @PostMapping(&quot;/{buildingId}/properties&quot;)\n    public List&lt;EstatePropertyCreatorDto&gt; addPropertiesToBuilding(@PathVariable UUID buildingId, @RequestBody List&lt;EstatePropertyCreatorDto&gt; estateProperties) {\n        buildingService.addPropertiesToBuilding(buildingId, estateProperties);\n\n        return List.of(&quot;Once I reach the method I will implement the return&quot;);\n    }\n</code></pre>\n<p>And here is my post request body:</p>\n<pre><code>  {\n    &quot;estateProperties&quot;: [\n        {\n            &quot;id&quot;: &quot;8bd050b0-6578-443a-8e22-bf48318734ce&quot;,\n            &quot;title&quot;: &quot;test title&quot;,\n            &quot;type&quot;: &quot;APARTMENT&quot;,\n            &quot;floor&quot;: &quot;5&quot;,\n            &quot;details&quot;: &quot;This details should be aware of!&quot;\n        },\n        {\n            &quot;id&quot;: &quot;69786c5f-e35a-476d-82de-1d5833a12818&quot;,\n            &quot;title&quot;: &quot;test title for 2nd&quot;,\n            &quot;type&quot;: &quot;GARAGE&quot;,\n            &quot;alias&quot;: &quot;jamie garage&quot;,\n            &quot;floor&quot;: &quot;1&quot;,\n            &quot;details&quot;: &quot;Details for Jamie Garage&quot;\n        },\n        {\n            &quot;id&quot;: &quot;c935f330-eebe-4d35-818d-d2248fc8ca9e&quot;,\n            &quot;title&quot;: &quot;test title for 3rd&quot;,\n            &quot;type&quot;: &quot;OFFICE&quot;,\n            &quot;floor&quot;: &quot;2&quot;,\n            &quot;details&quot;: &quot;Details for Jamie office&quot;,\n            &quot;commonParts&quot;: &quot;Office common parts&quot;\n        }\n    ]\n  }\n</code></pre>\n<p>Then I am getting the following error:</p>\n<pre><code>Cannot deserialize value of type `java.util.ArrayList&lt;&gt; from Object value (token `JsonToken.START_OBJECT`); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1684732539,"post_id":76303173,"comment_id":134554161,"body_markdown":"Here is a similar question I answered, the links to tutorials might be helpful https://stackoverflow.com/a/76110117/217324. I&#39;m not a fan of the code posted here, using ID for equals is not the best idea and the ID generation is normally done with annotations on the entities, you don&#39;t use a repository for it. My preference would be not to use the abstract classes.","body":"Here is a similar question I answered, the links to tutorials might be helpful <a href=\"https://stackoverflow.com/a/76110117/217324\">stackoverflow.com/a/76110117/217324</a>. I&#39;m not a fan of the code posted here, using ID for equals is not the best idea and the ID generation is normally done with annotations on the entities, you don&#39;t use a repository for it. My preference would be not to use the abstract classes."},{"owner":{"account_id":23254441,"reputation":49,"user_id":17341714,"display_name":"user17341714"},"score":0,"creation_date":1684732708,"post_id":76303173,"comment_id":134554181,"body_markdown":"Hey ty for your response. But im still not understanding it :(","body":"Hey ty for your response. But im still not understanding it :("},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":1,"creation_date":1684732851,"post_id":76303173,"comment_id":134554194,"body_markdown":"If this code is a representative sample of what the book is like, you need to find a better book.","body":"If this code is a representative sample of what the book is like, you need to find a better book."},{"owner":{"account_id":23254441,"reputation":49,"user_id":17341714,"display_name":"user17341714"},"score":0,"creation_date":1684733139,"post_id":76303173,"comment_id":134554223,"body_markdown":"can you care to explain?","body":"can you care to explain?"},{"owner":{"account_id":13838923,"reputation":115,"user_id":9989781,"display_name":"Mirza Prangon"},"score":0,"creation_date":1684733242,"post_id":76303173,"comment_id":134554232,"body_markdown":"Are you looking for `@jakarta.persistence.Id` and \n`@jakarta.persistence.GeneratedValue(strategy=jakarta.persistence.GenerationType.AUTO)` annotations? The column in the DB will also need to be configured to auto generate like so `id   INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY`. You can find more [here](https://www.baeldung.com/jpa-get-auto-generated-id).","body":"Are you looking for <code>@jakarta.persistence.Id</code> and  <code>@jakarta.persistence.GeneratedValue(strategy=jakarta.persist&zwnj;&#8203;ence.GenerationType.&zwnj;&#8203;AUTO)</code> annotations? The column in the DB will also need to be configured to auto generate like so <code>id   INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY</code>. You can find more <a href=\"https://www.baeldung.com/jpa-get-auto-generated-id\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":23254441,"reputation":49,"user_id":17341714,"display_name":"user17341714"},"score":0,"creation_date":1684733634,"post_id":76303173,"comment_id":134554263,"body_markdown":"@MirzaPrangon the book seemed to miss out on the implementation of generator.getNextUniqueId(). Idts its mentioned anywhere to annotate the id column. Im asking help for the implementation of the getNextUniqueId() method","body":"@MirzaPrangon the book seemed to miss out on the implementation of generator.getNextUniqueId(). Idts its mentioned anywhere to annotate the id column. Im asking help for the implementation of the getNextUniqueId() method"}],"owner":{"account_id":23254441,"reputation":49,"user_id":17341714,"display_name":"user17341714"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":435,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684732113,"creation_date":1684732113,"question_id":76303173,"body_markdown":"I am working on a CRUD application by referring to Practical Guide to Building API backend with Spring Boot by Wim Deblauwe. I&#39;m stuck in the part where they are telling to implement an unique id generator whenever we create an instance of the entity class to save to the database. Could someone please help with the implementation part of the id generator as I tried but failed miserably.\r\n\r\n```\r\nAbstractEntityId.java\r\npackage com.example.orm.jpa;\r\nimport com.example.util.ArtifactForFramework;\r\nimport javax.persistence.MappedSuperclass;\r\nimport java.io.Serializable;\r\nimport java.util.Objects;\r\nimport static com.google.common.base.MoreObjects.toStringHelper;\r\n@MappedSuperclass\r\npublic abstract class AbstractEntityId&lt;T extends Serializable&gt; implements Serializable,\r\nEntityId&lt;T&gt; {\r\n  private T id;\r\n  @ArtifactForFramework\r\n  protected AbstractEntityId() {\r\n  }\r\n  protected AbstractEntityId(T id) {\r\n  this.id = Objects.requireNonNull(id);\r\n  }\r\n  @Override\r\n\r\n  public T getId() {\r\n  return id;\r\n  }\r\n  @Override\r\n  public String asString() {\r\n  return id.toString();\r\n  }\r\n  @Override\r\n  public boolean equals(Object o) {\r\n  boolean result = false;\r\n  if (this == o) {\r\n  result = true;\r\n  } else if (o instanceof AbstractEntityId) {\r\n  AbstractEntityId other = (AbstractEntityId) o;\r\n  result = Objects.equals(id, other.id);\r\n  }\r\n  return result;\r\n  }\r\n  @Override\r\n  public int hashCode() {\r\n  return Objects.hash(id);\r\n  }\r\n  @Override\r\n  public String toString() {\r\n  return toStringHelper(this)\r\n  .add(&quot;id&quot;, id)\r\n  .toString();\r\n  }\r\n}\r\n```\r\n```\r\nAbstractEntity.java\r\n\r\npackage com.example.orm.jpa;\r\nimport com.example.util.ArtifactForFramework;\r\nimport javax.persistence.EmbeddedId;\r\nimport javax.persistence.MappedSuperclass;\r\nimport java.util.Objects;\r\nimport static com.google.common.base.MoreObjects.toStringHelper;\r\nimport static com.google.common.base.Preconditions.checkNotNull;\r\n/**\r\n * Abstract super class for entities. We are assuming that early primary key\r\n * generation will be used.\r\n *\r\n\r\n * @param &lt;T&gt; the type of {@link EntityId} that will be used for this entity\r\n */\r\n@MappedSuperclass\r\npublic abstract class AbstractEntity&lt;T extends EntityId&gt; implements Entity&lt;T&gt; {\r\n  @EmbeddedId\r\n  private T id;\r\n  @ArtifactForFramework\r\n  protected AbstractEntity() {\r\n  }\r\n  public AbstractEntity(T id) {\r\n  this.id = checkNotNull(id);\r\n  }\r\n  @Override\r\n  public T getId() {\r\n  return id;\r\n  }\r\n  @Override\r\n  public boolean equals(Object obj) {\r\n  boolean result = false;\r\n  if (this == obj) {\r\n  result = true;\r\n  } else if (obj instanceof AbstractEntity) {\r\n  AbstractEntity other = (AbstractEntity) obj;\r\n  result = Objects.equals(id, other.id);\r\n  }\r\n  return result;\r\n  }\r\n  @Override\r\n  public int hashCode() {\r\n  return Objects.hash(id);\r\n  }\r\n  @Override\r\n  public String toString() {\r\n  return toStringHelper(this)\r\n  .add(&quot;id&quot;, id)\r\n  .toString();\r\n\r\n  }\r\n}\r\n```\r\n\r\n```\r\nEntityId.java\r\npackage com.example.orm.jpa;\r\nimport java.io.Serializable;\r\n/**\r\n * Interface for primary keys of entities.\r\n *\r\n * @param &lt;T&gt; the underlying type of the entity id\r\n */\r\npublic interface EntityId&lt;T&gt; extends Serializable {\r\n  T getId();\r\n  String asString(); ①\r\n}\r\n```\r\n\r\n```\r\npackage com.example.copsboot.user;\r\npublic interface UserRepositoryCustom {\r\n  UserId nextId();\r\n}\r\n```\r\n```\r\npublic interface UserRepository extends CrudRepository&lt;User, UUID&gt;, UserRepositoryCustom\r\n{\r\n}\r\n```\r\n```\r\npackage com.example.copsboot.user;\r\nimport com.example.orm.jpa.UniqueIdGenerator;\r\nimport java.util.UUID;\r\npublic class UserRepositoryImpl implements UserRepositoryCustom {\r\n  private final UniqueIdGenerator&lt;UUID&gt; generator;\r\n  public UserRepositoryImpl(UniqueIdGenerator&lt;UUID&gt; generator) {\r\n  this.generator = generator;\r\n  }\r\n  @Override\r\n  public UserId nextId() {\r\n  return new UserId(generator.getNextUniqueId());\r\n  }\r\n}\r\n```\r\n\r\nThe last section of code is where they are asking for the generation(generator.getNextUniqueId()). All the above codes are for context. It could be really helpful if someone also explained why they are implementing these abstract entity classes for id generation. \r\n\r\nThanks in advance\r\n","title":"Dont know how to create an Unique Id Generator [Spring Boot]","body":"<p>I am working on a CRUD application by referring to Practical Guide to Building API backend with Spring Boot by Wim Deblauwe. I'm stuck in the part where they are telling to implement an unique id generator whenever we create an instance of the entity class to save to the database. Could someone please help with the implementation part of the id generator as I tried but failed miserably.</p>\n<pre><code>AbstractEntityId.java\npackage com.example.orm.jpa;\nimport com.example.util.ArtifactForFramework;\nimport javax.persistence.MappedSuperclass;\nimport java.io.Serializable;\nimport java.util.Objects;\nimport static com.google.common.base.MoreObjects.toStringHelper;\n@MappedSuperclass\npublic abstract class AbstractEntityId&lt;T extends Serializable&gt; implements Serializable,\nEntityId&lt;T&gt; {\n  private T id;\n  @ArtifactForFramework\n  protected AbstractEntityId() {\n  }\n  protected AbstractEntityId(T id) {\n  this.id = Objects.requireNonNull(id);\n  }\n  @Override\n\n  public T getId() {\n  return id;\n  }\n  @Override\n  public String asString() {\n  return id.toString();\n  }\n  @Override\n  public boolean equals(Object o) {\n  boolean result = false;\n  if (this == o) {\n  result = true;\n  } else if (o instanceof AbstractEntityId) {\n  AbstractEntityId other = (AbstractEntityId) o;\n  result = Objects.equals(id, other.id);\n  }\n  return result;\n  }\n  @Override\n  public int hashCode() {\n  return Objects.hash(id);\n  }\n  @Override\n  public String toString() {\n  return toStringHelper(this)\n  .add(&quot;id&quot;, id)\n  .toString();\n  }\n}\n</code></pre>\n<pre><code>AbstractEntity.java\n\npackage com.example.orm.jpa;\nimport com.example.util.ArtifactForFramework;\nimport javax.persistence.EmbeddedId;\nimport javax.persistence.MappedSuperclass;\nimport java.util.Objects;\nimport static com.google.common.base.MoreObjects.toStringHelper;\nimport static com.google.common.base.Preconditions.checkNotNull;\n/**\n * Abstract super class for entities. We are assuming that early primary key\n * generation will be used.\n *\n\n * @param &lt;T&gt; the type of {@link EntityId} that will be used for this entity\n */\n@MappedSuperclass\npublic abstract class AbstractEntity&lt;T extends EntityId&gt; implements Entity&lt;T&gt; {\n  @EmbeddedId\n  private T id;\n  @ArtifactForFramework\n  protected AbstractEntity() {\n  }\n  public AbstractEntity(T id) {\n  this.id = checkNotNull(id);\n  }\n  @Override\n  public T getId() {\n  return id;\n  }\n  @Override\n  public boolean equals(Object obj) {\n  boolean result = false;\n  if (this == obj) {\n  result = true;\n  } else if (obj instanceof AbstractEntity) {\n  AbstractEntity other = (AbstractEntity) obj;\n  result = Objects.equals(id, other.id);\n  }\n  return result;\n  }\n  @Override\n  public int hashCode() {\n  return Objects.hash(id);\n  }\n  @Override\n  public String toString() {\n  return toStringHelper(this)\n  .add(&quot;id&quot;, id)\n  .toString();\n\n  }\n}\n</code></pre>\n<pre><code>EntityId.java\npackage com.example.orm.jpa;\nimport java.io.Serializable;\n/**\n * Interface for primary keys of entities.\n *\n * @param &lt;T&gt; the underlying type of the entity id\n */\npublic interface EntityId&lt;T&gt; extends Serializable {\n  T getId();\n  String asString(); ①\n}\n</code></pre>\n<pre><code>package com.example.copsboot.user;\npublic interface UserRepositoryCustom {\n  UserId nextId();\n}\n</code></pre>\n<pre><code>public interface UserRepository extends CrudRepository&lt;User, UUID&gt;, UserRepositoryCustom\n{\n}\n</code></pre>\n<pre><code>package com.example.copsboot.user;\nimport com.example.orm.jpa.UniqueIdGenerator;\nimport java.util.UUID;\npublic class UserRepositoryImpl implements UserRepositoryCustom {\n  private final UniqueIdGenerator&lt;UUID&gt; generator;\n  public UserRepositoryImpl(UniqueIdGenerator&lt;UUID&gt; generator) {\n  this.generator = generator;\n  }\n  @Override\n  public UserId nextId() {\n  return new UserId(generator.getNextUniqueId());\n  }\n}\n</code></pre>\n<p>The last section of code is where they are asking for the generation(generator.getNextUniqueId()). All the above codes are for context. It could be really helpful if someone also explained why they are implementing these abstract entity classes for id generation.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684386356,"post_id":76277691,"comment_id":134511420,"body_markdown":"Can you provide the code for the `Person` class?  Or, at least an outline.","body":"Can you provide the code for the <code>Person</code> class?  Or, at least an outline."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1684389603,"post_id":76277691,"comment_id":134511760,"body_markdown":"it would be better to not rely on Exceptions to check for `null`... this can eventually hide some errors, like something else being `null` (e.g. `a` or `b`)","body":"it would be better to not rely on Exceptions to check for <code>null</code>... this can eventually hide some errors, like something else being <code>null</code> (e.g. <code>a</code> or <code>b</code>)"}],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684383720,"creation_date":1684383720,"answer_id":76277712,"question_id":76277691,"body_markdown":"You could pass in a `String` as well. This is common practice for some of the precondition tools in Java. Take a look at [`Objects#requireNonNull(T)`][1] vs [`Objects#requireNonNull(T,String)`][2].\r\n\r\nSo, like this.\r\n\r\n```java\r\n    private static void ignoringExc(RunnableExc r, String message) {\r\n        try {\r\n            r.run();\r\n        } catch (Exception e) {\r\n            log.error(message);\r\n        }\r\n    }\r\n\r\n    @FunctionalInterface\r\n    private interface RunnableExc {\r\n        void run() throws Exception;\r\n    }\r\n```\r\n\r\nWhich would then allow you to do this.\r\n\r\n```java\r\nignoringExc(() -&gt; a.setAddress(b.getPerson(&quot;address&quot;)), &quot;address message&quot;);\r\nignoringExc(() -&gt; a.setName(b.getPerson(&quot;name&quot;)),       &quot;name message&quot;);\r\nignoringExc(() -&gt; a.setAge(b.getPerson(&quot;age&quot;)),         &quot;age message&quot;);\r\n...\r\n```\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Objects.html#requireNonNull(T)\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Objects.html#requireNonNull(T,java.lang.String)","title":"Passing variable to an exception","body":"<p>You could pass in a <code>String</code> as well. This is common practice for some of the precondition tools in Java. Take a look at <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Objects.html#requireNonNull(T)\" rel=\"nofollow noreferrer\"><code>Objects#requireNonNull(T)</code></a> vs <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Objects.html#requireNonNull(T,java.lang.String)\" rel=\"nofollow noreferrer\"><code>Objects#requireNonNull(T,String)</code></a>.</p>\n<p>So, like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private static void ignoringExc(RunnableExc r, String message) {\n        try {\n            r.run();\n        } catch (Exception e) {\n            log.error(message);\n        }\n    }\n\n    @FunctionalInterface\n    private interface RunnableExc {\n        void run() throws Exception;\n    }\n</code></pre>\n<p>Which would then allow you to do this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ignoringExc(() -&gt; a.setAddress(b.getPerson(&quot;address&quot;)), &quot;address message&quot;);\nignoringExc(() -&gt; a.setName(b.getPerson(&quot;name&quot;)),       &quot;name message&quot;);\nignoringExc(() -&gt; a.setAge(b.getPerson(&quot;age&quot;)),         &quot;age message&quot;);\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1684731180,"creation_date":1684390594,"answer_id":76278201,"question_id":76277691,"body_markdown":"You shouldn&#39;t be using `NullPointerException` to do null checks. Throwing an exception is relatively expensive, as @user16320675 points out, other NPE&#39;s may occur, and you are also catching `Exception` which will ignore other problems.\r\n\r\nInstead, use a function like:\r\n```\r\n    static &lt;T&gt; void setIfNotNull(T value, Consumer&lt;T&gt; setter) {\r\n        if (value != null) {\r\n            setter.accept(value);\r\n        } else {\r\n            // logging if needed\r\n        }\r\n    }\r\n```\r\n\r\nand call it like this:\r\n```\r\n        setIfNotNull(b.getName(), a::setName);\r\n```\r\n\r\nOf course you could also consider making the setters on `A` silently ignore `null` instead of throwing an exception, but that depends on your requirements.\r\n\r\n","title":"Passing variable to an exception","body":"<p>You shouldn't be using <code>NullPointerException</code> to do null checks. Throwing an exception is relatively expensive, as @user16320675 points out, other NPE's may occur, and you are also catching <code>Exception</code> which will ignore other problems.</p>\n<p>Instead, use a function like:</p>\n<pre><code>    static &lt;T&gt; void setIfNotNull(T value, Consumer&lt;T&gt; setter) {\n        if (value != null) {\n            setter.accept(value);\n        } else {\n            // logging if needed\n        }\n    }\n</code></pre>\n<p>and call it like this:</p>\n<pre><code>        setIfNotNull(b.getName(), a::setName);\n</code></pre>\n<p>Of course you could also consider making the setters on <code>A</code> silently ignore <code>null</code> instead of throwing an exception, but that depends on your requirements.</p>\n"}],"owner":{"account_id":22913397,"reputation":19,"user_id":17050343,"display_name":"manyProblem"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76277712,"answer_count":2,"score":0,"last_activity_date":1684731180,"creation_date":1684383259,"question_id":76277691,"body_markdown":"```\r\n\tprivate static void ignoringExc(RunnableExc r) {\r\n\t\ttry {\r\n\t\t\tr.run();\r\n\t\t} catch (Exception e) {\r\n\t\t\tlog.error(&quot;&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\t@FunctionalInterface\r\n\tprivate interface RunnableExc {\r\n\t\tvoid run() throws Exception;\r\n\t}\r\n\r\n```\r\n\r\nI have multiple variables that need to be set into a Person a. However, some variables from Person b may be null. So I use the above function to avoid null pointer exception error. But  I want to customise the error message in log.error() in ignoringExc function, such as &quot;The age of Person B is null&quot;. How to do that?\r\n\r\n```\r\nignoringExc(() -&gt; a.setAddress(b.getPerson(&quot;address&quot;)));\r\nignoringExc(() -&gt; a.setName(b.getPerson(&quot;name&quot;)));\r\nignoringExc(() -&gt; a.setAge(b.getPerson(&quot;age&quot;)));\r\n...\r\n```","title":"Passing variable to an exception","body":"<pre><code>    private static void ignoringExc(RunnableExc r) {\n        try {\n            r.run();\n        } catch (Exception e) {\n            log.error(&quot;&quot;);\n        }\n    }\n\n    @FunctionalInterface\n    private interface RunnableExc {\n        void run() throws Exception;\n    }\n\n</code></pre>\n<p>I have multiple variables that need to be set into a Person a. However, some variables from Person b may be null. So I use the above function to avoid null pointer exception error. But  I want to customise the error message in log.error() in ignoringExc function, such as &quot;The age of Person B is null&quot;. How to do that?</p>\n<pre><code>ignoringExc(() -&gt; a.setAddress(b.getPerson(&quot;address&quot;)));\nignoringExc(() -&gt; a.setName(b.getPerson(&quot;name&quot;)));\nignoringExc(() -&gt; a.setAge(b.getPerson(&quot;age&quot;)));\n...\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1684722079,"post_id":76302694,"comment_id":134553305,"body_markdown":"Don&#39;t you need nested for loops to adequately and deeply copy the 2D array? Or a single for loop and arraycopy calls?","body":"Don&#39;t you need nested for loops to adequately and deeply copy the 2D array? Or a single for loop and arraycopy calls?"},{"owner":{"account_id":472765,"reputation":22562,"user_id":881441,"display_name":"Stephen Quan"},"score":1,"creation_date":1684722306,"post_id":76302694,"comment_id":134553319,"body_markdown":"Despite a copy being implied the line `int[][] copyArr = arr;` actually doesn&#39;t do a deep copy of `arr`. Both `copyArr` and `arr` are pointing to the same thing. So, any changes made to `copyArr` will change `arr`.  This question is possibly a duplicate of: https://stackoverflow.com/questions/1564832/how-do-i-do-a-deep-copy-of-a-2d-array-in-java","body":"Despite a copy being implied the line <code>int[][] copyArr = arr;</code> actually doesn&#39;t do a deep copy of <code>arr</code>. Both <code>copyArr</code> and <code>arr</code> are pointing to the same thing. So, any changes made to <code>copyArr</code> will change <code>arr</code>.  This question is possibly a duplicate of: <a href=\"https://stackoverflow.com/questions/1564832/how-do-i-do-a-deep-copy-of-a-2d-array-in-java\" title=\"how do i do a deep copy of a 2d array in java\">stackoverflow.com/questions/1564832/&hellip;</a>"},{"owner":{"account_id":28650617,"reputation":11,"user_id":21937652,"display_name":"Kian Power"},"score":0,"creation_date":1684722659,"post_id":76302694,"comment_id":134553340,"body_markdown":"Thank you, you were right about the copying confusion. I used a loop instead to iterate through and create a replica array and it works now.","body":"Thank you, you were right about the copying confusion. I used a loop instead to iterate through and create a replica array and it works now."}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684722377,"creation_date":1684722377,"answer_id":76302720,"question_id":76302694,"body_markdown":"Assigning a variable to another variable in Java doesn&#39;t create a copy. It creates a second reference to the same object, or array in this case. You need to use a method to actually create a copy if that is your intention: https://www.baeldung.com/java-array-copy","title":"Method is changing the value of the 2d array but I don&#39;t want it to","body":"<p>Assigning a variable to another variable in Java doesn't create a copy. It creates a second reference to the same object, or array in this case. You need to use a method to actually create a copy if that is your intention: <a href=\"https://www.baeldung.com/java-array-copy\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-array-copy</a></p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684729176,"creation_date":1684724033,"answer_id":76302789,"question_id":76302694,"body_markdown":"You won&#39;t be able to just assign `copyArr` to `arr` to make a legitimate copy.  \r\nDoing so will cause any updates within `arr` to also happen in `copyArr`.\r\n\r\n_How that is useful, I&#39;m not sure._\r\n\r\nYou&#39;ll need to iterate over the values of `arr` and assign them to the corresponding indices of `copyArr`.\r\n\r\nIt&#39;s fairly simple, you can use the following code.\r\n\r\n```java\r\nint[][] copyArr = new int[arr.length][];\r\nfor (int index = 0; index &lt; arr.length; index++)\r\n    System.arraycopy(arr[i], 0, copyArr[i], 0, arr.length);\r\n```","title":"Method is changing the value of the 2d array but I don&#39;t want it to","body":"<p>You won't be able to just assign <code>copyArr</code> to <code>arr</code> to make a legitimate copy.<br />\nDoing so will cause any updates within <code>arr</code> to also happen in <code>copyArr</code>.</p>\n<p><em>How that is useful, I'm not sure.</em></p>\n<p>You'll need to iterate over the values of <code>arr</code> and assign them to the corresponding indices of <code>copyArr</code>.</p>\n<p>It's fairly simple, you can use the following code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[][] copyArr = new int[arr.length][];\nfor (int index = 0; index &lt; arr.length; index++)\n    System.arraycopy(arr[i], 0, copyArr[i], 0, arr.length);\n</code></pre>\n"}],"owner":{"account_id":28650617,"reputation":11,"user_id":21937652,"display_name":"Kian Power"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1684729176,"creation_date":1684721881,"question_id":76302694,"body_markdown":"    public static int[][] submatrix(int[][] arr, int i, int j)\r\n    {\r\n        int[][] copyArr = arr;\r\n        int[][] newArr = new int[copyArr.length - 1][copyArr[0].length - 1];\r\n        \r\n        for(int k = 0; k &lt; copyArr[0].length; k++)\r\n        {\r\n            copyArr[j - 1][k] = 0;\r\n        }\r\n        \r\n        for(int x = 0; x &lt; copyArr.length; x++)\r\n        {\r\n            copyArr[x][i - 1] = 0;\r\n        }\r\n        printMatrix(copyArr);\r\n        System.out.println();\r\n        int row = 0;\r\n        int col = 0;\r\n        \r\n        for(int x = 0; x &lt; copyArr.length; x++)\r\n        {\r\n            for(int y = 0; y &lt; copyArr[0].length; y++)\r\n            {\r\n                if(copyArr[x][y] != 0)\r\n                {\r\n                    newArr[row][col] = copyArr[x][y];\r\n                    col += 1;\r\n                    if(col == newArr[0].length)\r\n                    {\r\n                        col -= newArr[0].length;\r\n                        row += 1;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return newArr;\r\n    }\r\n\r\nWhen I run this and use the 2d array: \r\n\r\nint[][] matrixI = new int[][]{{11, 12, 13, 14}, {21, 22, 23, 24}, {31, 32, 33, 34}, {41, 42, 43, 44}};\r\n\r\nIt correctly calculates the sub matrix, but when I call the method again on the same 2d array with different parameters(for the row and column I am getting rid of) it uses the array that was made when I called it the first time. I tried to use a copy of the array to avoid it changing the value of the inputted arr but it is still changing it. \r\n\r\nThe program is changing my value of arr when I dont want it to. ","title":"Method is changing the value of the 2d array but I don&#39;t want it to","body":"<pre><code>public static int[][] submatrix(int[][] arr, int i, int j)\n{\n    int[][] copyArr = arr;\n    int[][] newArr = new int[copyArr.length - 1][copyArr[0].length - 1];\n    \n    for(int k = 0; k &lt; copyArr[0].length; k++)\n    {\n        copyArr[j - 1][k] = 0;\n    }\n    \n    for(int x = 0; x &lt; copyArr.length; x++)\n    {\n        copyArr[x][i - 1] = 0;\n    }\n    printMatrix(copyArr);\n    System.out.println();\n    int row = 0;\n    int col = 0;\n    \n    for(int x = 0; x &lt; copyArr.length; x++)\n    {\n        for(int y = 0; y &lt; copyArr[0].length; y++)\n        {\n            if(copyArr[x][y] != 0)\n            {\n                newArr[row][col] = copyArr[x][y];\n                col += 1;\n                if(col == newArr[0].length)\n                {\n                    col -= newArr[0].length;\n                    row += 1;\n                }\n            }\n        }\n    }\n    return newArr;\n}\n</code></pre>\n<p>When I run this and use the 2d array:</p>\n<p>int[][] matrixI = new int[][]{{11, 12, 13, 14}, {21, 22, 23, 24}, {31, 32, 33, 34}, {41, 42, 43, 44}};</p>\n<p>It correctly calculates the sub matrix, but when I call the method again on the same 2d array with different parameters(for the row and column I am getting rid of) it uses the array that was made when I called it the first time. I tried to use a copy of the array to avoid it changing the value of the inputted arr but it is still changing it.</p>\n<p>The program is changing my value of arr when I dont want it to.</p>\n"},{"tags":["java","spring","hibernate"],"owner":{"account_id":28651078,"reputation":1,"user_id":21938043,"display_name":"T&#226;n Nguy&#234;n Huy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684729053,"creation_date":1684729053,"question_id":76303014,"body_markdown":"When a new order arises, I want to update the number of products again and an error occurred.\r\nThe program reported an error in the command:productDao.updateProduct(product); \r\n```\r\n@RequestMapping(&quot;checkOut&quot;)\r\n    public String checkOut(HttpSession session, Model model) {\r\n        Orders orders = new Orders();\r\n        List&lt;OrderDetail&gt; orderDetailList = (List&lt;OrderDetail&gt;) session.getAttribute(&quot;orderDetailList&quot;);\r\n        User user = (User) session.getAttribute(&quot;user&quot;);\r\n        int totalPrice = 0;\r\n        for (OrderDetail orderDetail : orderDetailList) {\r\n            totalPrice = totalPrice + orderDetail.getUnitPrice() * orderDetail.getQuantity();\r\n        }\r\n        int shipPrice = 40000;\r\n        int totalPriceOrder = totalPrice + shipPrice;\r\n        if (orderDetailList.size() != 0) {\r\n            orders.setShipAddress(user.getAddress());\r\n            orders.setUser(user);\r\n            orders.setStatus(1);\r\n            orders.setTotalPrice(totalPriceOrder);\r\n            LocalDate currentDate = LocalDate.now();\r\n            orders.setOrderDate(java.sql.Date.valueOf(currentDate));\r\n        }\r\n        boolean bl = ordersDao.insertOrders(orders);\r\n        if (bl) {\r\n            int temp = 0;\r\n            for (OrderDetail orderDetail : orderDetailList) {\r\n                orderDetail.setOrders(orders);\r\n                orderDetailDao.insertOrderDetail(orderDetail);\r\n\r\n                Product product = orderDetail.getProduct();\r\n                int quantityToReduce = orderDetail.getQuantity();\r\n                int currentQuantity = product.getQuantity();\r\n                if (currentQuantity &gt;= quantityToReduce) {\r\n                    product.setQuantity(currentQuantity - quantityToReduce);\r\n                    productDao.updateProduct(product);\r\n                }\r\n\r\n                temp++;\r\n            }\r\n\r\n            if (temp == orderDetailList.size()) {\r\n                orderDetailList.clear();\r\n                session.setAttribute(&quot;orderDetailList&quot;, orderDetailList);\r\n            }\r\n        }\r\n        if (orderDetailList.size() == 0) {\r\n            Thread thread = new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    sendMail(user.getEmail(), mailAutoDao.getMailById(2).getMailType(), mailAutoDao.getMailById(2).getMailContent());\r\n                }\r\n            });\r\n            thread.start();\r\n            return &quot;redirect:/home&quot;;\r\n        } else {\r\n            return &quot;redirect:/listCart&quot;;\r\n        }\r\n    }\r\n```\r\nMy program gives an error when trying to update a product\r\nMy DAO function: \r\n```\r\n@Override\r\n\tpublic boolean updateProduct(Product product) {\r\n\t\tSession session = sessionFactory.openSession();\r\n\t\tTransaction tx = session.beginTransaction();\r\n\t\ttry {\r\n\t\t\tsession.update(product);\r\n\t\t\ttx.commit();\r\n\t\t\treturn true;\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\ttx.rollback();\r\n\t\t\t// TODO: handle exception\r\n\t\t}finally {\r\n\t\t\tsession.close();\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n```\r\nWhen I go to the admin page to update the product, everything goes normally, the error only appears when the user makes a purchase\r\n\r\n\r\n\r\nI tried many ways to fix it but couldn&#39;t, hope you can help, thanks","title":"Illegal attempt to associate a collection with two open sessions. Collection","body":"<p>When a new order arises, I want to update the number of products again and an error occurred.\nThe program reported an error in the command:productDao.updateProduct(product);</p>\n<pre><code>@RequestMapping(&quot;checkOut&quot;)\n    public String checkOut(HttpSession session, Model model) {\n        Orders orders = new Orders();\n        List&lt;OrderDetail&gt; orderDetailList = (List&lt;OrderDetail&gt;) session.getAttribute(&quot;orderDetailList&quot;);\n        User user = (User) session.getAttribute(&quot;user&quot;);\n        int totalPrice = 0;\n        for (OrderDetail orderDetail : orderDetailList) {\n            totalPrice = totalPrice + orderDetail.getUnitPrice() * orderDetail.getQuantity();\n        }\n        int shipPrice = 40000;\n        int totalPriceOrder = totalPrice + shipPrice;\n        if (orderDetailList.size() != 0) {\n            orders.setShipAddress(user.getAddress());\n            orders.setUser(user);\n            orders.setStatus(1);\n            orders.setTotalPrice(totalPriceOrder);\n            LocalDate currentDate = LocalDate.now();\n            orders.setOrderDate(java.sql.Date.valueOf(currentDate));\n        }\n        boolean bl = ordersDao.insertOrders(orders);\n        if (bl) {\n            int temp = 0;\n            for (OrderDetail orderDetail : orderDetailList) {\n                orderDetail.setOrders(orders);\n                orderDetailDao.insertOrderDetail(orderDetail);\n\n                Product product = orderDetail.getProduct();\n                int quantityToReduce = orderDetail.getQuantity();\n                int currentQuantity = product.getQuantity();\n                if (currentQuantity &gt;= quantityToReduce) {\n                    product.setQuantity(currentQuantity - quantityToReduce);\n                    productDao.updateProduct(product);\n                }\n\n                temp++;\n            }\n\n            if (temp == orderDetailList.size()) {\n                orderDetailList.clear();\n                session.setAttribute(&quot;orderDetailList&quot;, orderDetailList);\n            }\n        }\n        if (orderDetailList.size() == 0) {\n            Thread thread = new Thread(new Runnable() {\n                @Override\n                public void run() {\n                    sendMail(user.getEmail(), mailAutoDao.getMailById(2).getMailType(), mailAutoDao.getMailById(2).getMailContent());\n                }\n            });\n            thread.start();\n            return &quot;redirect:/home&quot;;\n        } else {\n            return &quot;redirect:/listCart&quot;;\n        }\n    }\n</code></pre>\n<p>My program gives an error when trying to update a product\nMy DAO function:</p>\n<pre><code>@Override\n    public boolean updateProduct(Product product) {\n        Session session = sessionFactory.openSession();\n        Transaction tx = session.beginTransaction();\n        try {\n            session.update(product);\n            tx.commit();\n            return true;\n        } catch (Exception e) {\n            e.printStackTrace();\n            tx.rollback();\n            // TODO: handle exception\n        }finally {\n            session.close();\n        }\n        return false;\n    }\n</code></pre>\n<p>When I go to the admin page to update the product, everything goes normally, the error only appears when the user makes a purchase</p>\n<p>I tried many ways to fix it but couldn't, hope you can help, thanks</p>\n"},{"tags":["java","algorithm","performance","lambda"],"comments":[{"owner":{"account_id":4254130,"reputation":13758,"user_id":3480246,"display_name":"Jan"},"score":3,"creation_date":1451887687,"post_id":34585444,"comment_id":56916252,"body_markdown":"Have you **repeatedly** run this method and measured time?","body":"Have you <b>repeatedly</b> run this method and measured time?"},{"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":6,"creation_date":1451888072,"post_id":34585444,"comment_id":56916360,"body_markdown":"See http://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java","body":"See <a href=\"http://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java\" title=\"how do i write a correct micro benchmark in java\">stackoverflow.com/questions/504103/&hellip;</a>"},{"owner":{"account_id":258256,"reputation":24473,"user_id":540312,"accept_rate":87,"display_name":"Sergei Tachenov"},"score":0,"creation_date":1451893505,"post_id":34585444,"comment_id":56918380,"body_markdown":"I don&#39;t have access to the test cases, so I can&#39;t exactly run it repeatedly. I don&#39;t know what LeetCode does to achieve this weird performance, so the question is this: what it _could_ be doing to make it that bad?","body":"I don&#39;t have access to the test cases, so I can&#39;t exactly run it repeatedly. I don&#39;t know what LeetCode does to achieve this weird performance, so the question is this: what it <i>could</i> be doing to make it that bad?"},{"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"score":14,"creation_date":1451895203,"post_id":34585444,"comment_id":56919054,"body_markdown":"If the code is executed only once (for the examples on [leetcode](https://leetcode.com/problems/insert-interval/)) the decreasing execution time might be related due to the fact that the lambda bytecode is **generated at runtime**. Whereas your anonymous comparator class is created **at compile time**.","body":"If the code is executed only once (for the examples on <a href=\"https://leetcode.com/problems/insert-interval/\" rel=\"nofollow noreferrer\">leetcode</a>) the decreasing execution time might be related due to the fact that the lambda bytecode is <b>generated at runtime</b>. Whereas your anonymous comparator class is created <b>at compile time</b>."},{"owner":{"account_id":258256,"reputation":24473,"user_id":540312,"accept_rate":87,"display_name":"Sergei Tachenov"},"score":0,"creation_date":1451902813,"post_id":34585444,"comment_id":56922721,"body_markdown":"I believe that should really be the answer, thank you! I had no idea. I thought that lambdas were something like syntactic sugar for anonymous classes.","body":"I believe that should really be the answer, thank you! I had no idea. I thought that lambdas were something like syntactic sugar for anonymous classes."},{"owner":{"account_id":8655,"reputation":20729,"user_id":15689,"accept_rate":91,"display_name":"Brian Knoblauch"},"score":0,"creation_date":1452113634,"post_id":34585444,"comment_id":57031025,"body_markdown":"So far, my anecdotal experience (from my own use cases) is that lambdas are just slower than anonymous classes.  However, by like a few percent, not any 20x...","body":"So far, my anecdotal experience (from my own use cases) is that lambdas are just slower than anonymous classes.  However, by like a few percent, not any 20x..."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":82,"is_accepted":true,"score":82,"last_activity_date":1597054216,"creation_date":1452111808,"answer_id":34642063,"question_id":34585444,"body_markdown":"You are obviously encountering the first-time initialization overhead of lambda expressions. As already mentioned in the comments, the classes for lambda expressions are generated at runtime rather than being loaded from your class path.\r\n\r\nHowever, being generated isn’t the cause for the slowdown. After all, generating a class having a simple structure can be even faster than loading the same bytes from an external source. And the inner class has to be loaded too. But when the application hasn’t used lambda expressions before&#185;, even the framework for generating the lambda classes has to be loaded (Oracle’s current implementation uses ASM under the hood). This is the actual cause of the slowdown, loading and initialization of a dozen internally used classes, not the lambda expression itself&#178;.\r\n\r\nYou can easily verify this. In your current code using lambda expressions, you have two identical expressions `(i1, i2) -&gt; Integer.compare(i1.start, i2.start)`. The current implementation doesn’t recognize this (actually, the compiler doesn’t provide a hint neither). So here, two lambda instances, having even different classes, are generated. You can refactor the code to have only one comparator, similar to your inner class variant:\r\n\r\n    final Comparator&lt;? super Interval&gt; comparator\r\n      = (i1, i2) -&gt; Integer.compare(i1.start, i2.start);\r\n    int start = Collections.binarySearch(intervals, newInterval, comparator);\r\n    int skip = start &gt;= 0 ? start : -start - 1;\r\n    int end = Collections.binarySearch(intervals.subList(skip, intervals.size()),\r\n                                       new Interval(newInterval.end, 0),\r\n                                       comparator);\r\n\r\nYou won’t notice any significant performance difference, as it’s not the number of lambda expressions that matters, but just the class loading and initialization of the framework, which happens exactly once.\r\n\r\nYou can even max it out by inserting additional lambda expressions like\r\n\r\n    final Comparator&lt;? super Interval&gt; comparator1\r\n        = (i1, i2) -&gt; Integer.compare(i1.start, i2.start);\r\n    final Comparator&lt;? super Interval&gt; comparator2\r\n        = (i1, i2) -&gt; Integer.compare(i1.start, i2.start);\r\n    final Comparator&lt;? super Interval&gt; comparator3\r\n        = (i1, i2) -&gt; Integer.compare(i1.start, i2.start);\r\n    final Comparator&lt;? super Interval&gt; comparator4\r\n        = (i1, i2) -&gt; Integer.compare(i1.start, i2.start);\r\n    final Comparator&lt;? super Interval&gt; comparator5\r\n        = (i1, i2) -&gt; Integer.compare(i1.start, i2.start);\r\n\r\nwithout seeing any slowdown. It’s really the initial overhead of the very first lambda expression of the entire runtime you are noticing here. Since Leetcode itself apparently doesn’t use lambda expressions before entering your code, whose execution time gets measured, this overhead adds to your execution time here.\r\n\r\nSee also [“How will Java lambda functions be compiled?”](https://stackoverflow.com/questions/16827262/how-will-java-lambda-functions-be-compiled) and [“Does a lambda expression create an object on the heap every time it&#39;s executed?”](https://stackoverflow.com/questions/27524445/does-a-lambda-expression-create-an-object-on-the-heap-every-time-its-executed)\r\n\r\n&#185; This implies that JDK code that will be executed before handing control over to your application doesn’t use lambda expressions itself. Since this code stems from times before the introduction of lambda expressions, this is usually the case. With newer JDKs, modular software will be initialized by different, newer code, which seems to use lambda expressions, so the initialization of the runtime facility can’t be measured within the application anymore in these setups.\r\n\r\n&#178; The initialization time has been reduced significantly in newer JDKs. There are different possible causes, general performance improvements, dedicated lambda optimizations, or both. Improving initialization time in general, is an issue that the JDK developers did not forget.","title":"Java lambdas 20 times slower than anonymous classes","body":"<p>You are obviously encountering the first-time initialization overhead of lambda expressions. As already mentioned in the comments, the classes for lambda expressions are generated at runtime rather than being loaded from your class path.</p>\n<p>However, being generated isn’t the cause for the slowdown. After all, generating a class having a simple structure can be even faster than loading the same bytes from an external source. And the inner class has to be loaded too. But when the application hasn’t used lambda expressions before¹, even the framework for generating the lambda classes has to be loaded (Oracle’s current implementation uses ASM under the hood). This is the actual cause of the slowdown, loading and initialization of a dozen internally used classes, not the lambda expression itself².</p>\n<p>You can easily verify this. In your current code using lambda expressions, you have two identical expressions <code>(i1, i2) -&gt; Integer.compare(i1.start, i2.start)</code>. The current implementation doesn’t recognize this (actually, the compiler doesn’t provide a hint neither). So here, two lambda instances, having even different classes, are generated. You can refactor the code to have only one comparator, similar to your inner class variant:</p>\n<pre><code>final Comparator&lt;? super Interval&gt; comparator\n  = (i1, i2) -&gt; Integer.compare(i1.start, i2.start);\nint start = Collections.binarySearch(intervals, newInterval, comparator);\nint skip = start &gt;= 0 ? start : -start - 1;\nint end = Collections.binarySearch(intervals.subList(skip, intervals.size()),\n                                   new Interval(newInterval.end, 0),\n                                   comparator);\n</code></pre>\n<p>You won’t notice any significant performance difference, as it’s not the number of lambda expressions that matters, but just the class loading and initialization of the framework, which happens exactly once.</p>\n<p>You can even max it out by inserting additional lambda expressions like</p>\n<pre><code>final Comparator&lt;? super Interval&gt; comparator1\n    = (i1, i2) -&gt; Integer.compare(i1.start, i2.start);\nfinal Comparator&lt;? super Interval&gt; comparator2\n    = (i1, i2) -&gt; Integer.compare(i1.start, i2.start);\nfinal Comparator&lt;? super Interval&gt; comparator3\n    = (i1, i2) -&gt; Integer.compare(i1.start, i2.start);\nfinal Comparator&lt;? super Interval&gt; comparator4\n    = (i1, i2) -&gt; Integer.compare(i1.start, i2.start);\nfinal Comparator&lt;? super Interval&gt; comparator5\n    = (i1, i2) -&gt; Integer.compare(i1.start, i2.start);\n</code></pre>\n<p>without seeing any slowdown. It’s really the initial overhead of the very first lambda expression of the entire runtime you are noticing here. Since Leetcode itself apparently doesn’t use lambda expressions before entering your code, whose execution time gets measured, this overhead adds to your execution time here.</p>\n<p>See also <a href=\"https://stackoverflow.com/questions/16827262/how-will-java-lambda-functions-be-compiled\">“How will Java lambda functions be compiled?”</a> and <a href=\"https://stackoverflow.com/questions/27524445/does-a-lambda-expression-create-an-object-on-the-heap-every-time-its-executed\">“Does a lambda expression create an object on the heap every time it's executed?”</a></p>\n<p>¹ This implies that JDK code that will be executed before handing control over to your application doesn’t use lambda expressions itself. Since this code stems from times before the introduction of lambda expressions, this is usually the case. With newer JDKs, modular software will be initialized by different, newer code, which seems to use lambda expressions, so the initialization of the runtime facility can’t be measured within the application anymore in these setups.</p>\n<p>² The initialization time has been reduced significantly in newer JDKs. There are different possible causes, general performance improvements, dedicated lambda optimizations, or both. Improving initialization time in general, is an issue that the JDK developers did not forget.</p>\n"}],"owner":{"account_id":258256,"reputation":24473,"user_id":540312,"accept_rate":87,"display_name":"Sergei Tachenov"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24264,"favorite_count":0,"down_vote_count":1,"up_vote_count":51,"accepted_answer_id":34642063,"answer_count":1,"score":50,"last_activity_date":1684726214,"creation_date":1451887086,"question_id":34585444,"body_markdown":"I&#39;ve seen a lot of questions here about Java lambdas performance, but most of them go like &quot;Lambdas are slightly faster, but become slower when using closures&quot; or &quot;Warm-up vs execution times are different&quot; or other such things.\r\n\r\nHowever, I hit a rather strange thing here. Consider [this LeetCode problem][1]:\r\n\r\n&gt; Given a set of non-overlapping intervals, insert a new interval into\r\n&gt; the intervals (merge if necessary).\r\n&gt; \r\n&gt; You may assume that the intervals were initially sorted according to\r\n&gt; their start times.\r\n\r\nThe problem was tagged hard, so I assumed that a linear approach is not what they want there. So I decided to come up with a clever way to combine binary search with modifications to the input list. Now the problem is not very clear on modifying the input list—it says &quot;insert&quot;, even though the signature requires to return a reference to list, but never mind that for now. Here&#39;s the full code, but only the first few lines are relevant to this question. I&#39;m keeping the rest here just so that anyone can try it:\r\n```\r\npublic List&lt;Interval&gt; insert(List&lt;Interval&gt; intervals, Interval newInterval) {\r\n    int start = Collections.binarySearch(intervals, newInterval,\r\n                                         (i1, i2) -&gt; Integer.compare(i1.start, i2.start));\r\n    int skip = start &gt;= 0 ? start : -start - 1;\r\n    int end = Collections.binarySearch(intervals.subList(skip, intervals.size()),\r\n                                       new Interval(newInterval.end, 0),\r\n                                       (i1, i2) -&gt; Integer.compare(i1.start, i2.start));\r\n    if (end &gt;= 0) {\r\n        end += skip; // back to original indexes\r\n    } else {\r\n        end -= skip; // ditto\r\n    }\r\n    int newStart = newInterval.start;\r\n    int headEnd;\r\n    if (-start - 2 &gt;= 0) {\r\n        Interval prev = intervals.get(-start - 2);\r\n        if (prev.end &lt; newInterval.start) {\r\n            // the new interval doesn&#39;t overlap the one before the insertion point\r\n            headEnd = -start - 1;\r\n        } else {\r\n            newStart = prev.start;\r\n            headEnd = -start - 2;\r\n        }\r\n    } else if (start &gt;= 0) {\r\n        // merge the first interval\r\n        headEnd = start;\r\n    } else { // start == -1, insertion point = 0\r\n        headEnd = 0;\r\n    }\r\n    int newEnd = newInterval.end;\r\n    int tailStart;\r\n    if (-end - 2 &gt;= 0) {\r\n        // merge the end with the previous interval\r\n        newEnd = Math.max(newEnd, intervals.get(-end - 2).end);\r\n        tailStart = -end - 1;\r\n    } else if (end &gt;= 0) {\r\n        newEnd = intervals.get(end).end;\r\n        tailStart = end + 1;\r\n    } else { // end == -1, insertion point = 0\r\n        tailStart = 0;\r\n    }\r\n    intervals.subList(headEnd, tailStart).clear();\r\n    intervals.add(headEnd, new Interval(newStart, newEnd));\r\n    return intervals;\r\n}\r\n```\r\nThis worked fine and got accepted, but with 80 ms runtime, while most solutions were 4-5 ms and some 18-19 ms. When I looked them up, they were all linear and very primitive. Not something one would expect from a problem tagged &quot;hard&quot;.\r\n\r\nBut here comes the question: my solution is also linear at worst case (because add/clear operations are linear time). Why is it _that_ slower? And then I did this:\r\n```\r\nComparator&lt;Interval&gt; comparator = new Comparator&lt;Interval&gt;() {\r\n    @Override\r\n    public int compare(Interval i1, Interval i2) {\r\n        return Integer.compare(i1.start, i2.start);\r\n    }\r\n};\r\nint start = Collections.binarySearch(intervals, newInterval, comparator);\r\nint skip = start &gt;= 0 ? start : -start - 1;\r\nint end = Collections.binarySearch(intervals.subList(skip, intervals.size()),\r\n                                   new Interval(newInterval.end, 0),\r\n                                   comparator);\r\n```\r\nFrom 80 ms down to 4 ms! What&#39;s going on here? Unfortunately I have no idea what kind of tests LeetCode runs or under what environment, but still, isn&#39;t 20 times too much?\r\n\r\n  [1]: https://leetcode.com/problems/insert-interval/","title":"Java lambdas 20 times slower than anonymous classes","body":"<p>I've seen a lot of questions here about Java lambdas performance, but most of them go like &quot;Lambdas are slightly faster, but become slower when using closures&quot; or &quot;Warm-up vs execution times are different&quot; or other such things.</p>\n<p>However, I hit a rather strange thing here. Consider <a href=\"https://leetcode.com/problems/insert-interval/\" rel=\"nofollow noreferrer\">this LeetCode problem</a>:</p>\n<blockquote>\n<p>Given a set of non-overlapping intervals, insert a new interval into\nthe intervals (merge if necessary).</p>\n<p>You may assume that the intervals were initially sorted according to\ntheir start times.</p>\n</blockquote>\n<p>The problem was tagged hard, so I assumed that a linear approach is not what they want there. So I decided to come up with a clever way to combine binary search with modifications to the input list. Now the problem is not very clear on modifying the input list—it says &quot;insert&quot;, even though the signature requires to return a reference to list, but never mind that for now. Here's the full code, but only the first few lines are relevant to this question. I'm keeping the rest here just so that anyone can try it:</p>\n<pre><code>public List&lt;Interval&gt; insert(List&lt;Interval&gt; intervals, Interval newInterval) {\n    int start = Collections.binarySearch(intervals, newInterval,\n                                         (i1, i2) -&gt; Integer.compare(i1.start, i2.start));\n    int skip = start &gt;= 0 ? start : -start - 1;\n    int end = Collections.binarySearch(intervals.subList(skip, intervals.size()),\n                                       new Interval(newInterval.end, 0),\n                                       (i1, i2) -&gt; Integer.compare(i1.start, i2.start));\n    if (end &gt;= 0) {\n        end += skip; // back to original indexes\n    } else {\n        end -= skip; // ditto\n    }\n    int newStart = newInterval.start;\n    int headEnd;\n    if (-start - 2 &gt;= 0) {\n        Interval prev = intervals.get(-start - 2);\n        if (prev.end &lt; newInterval.start) {\n            // the new interval doesn't overlap the one before the insertion point\n            headEnd = -start - 1;\n        } else {\n            newStart = prev.start;\n            headEnd = -start - 2;\n        }\n    } else if (start &gt;= 0) {\n        // merge the first interval\n        headEnd = start;\n    } else { // start == -1, insertion point = 0\n        headEnd = 0;\n    }\n    int newEnd = newInterval.end;\n    int tailStart;\n    if (-end - 2 &gt;= 0) {\n        // merge the end with the previous interval\n        newEnd = Math.max(newEnd, intervals.get(-end - 2).end);\n        tailStart = -end - 1;\n    } else if (end &gt;= 0) {\n        newEnd = intervals.get(end).end;\n        tailStart = end + 1;\n    } else { // end == -1, insertion point = 0\n        tailStart = 0;\n    }\n    intervals.subList(headEnd, tailStart).clear();\n    intervals.add(headEnd, new Interval(newStart, newEnd));\n    return intervals;\n}\n</code></pre>\n<p>This worked fine and got accepted, but with 80 ms runtime, while most solutions were 4-5 ms and some 18-19 ms. When I looked them up, they were all linear and very primitive. Not something one would expect from a problem tagged &quot;hard&quot;.</p>\n<p>But here comes the question: my solution is also linear at worst case (because add/clear operations are linear time). Why is it <em>that</em> slower? And then I did this:</p>\n<pre><code>Comparator&lt;Interval&gt; comparator = new Comparator&lt;Interval&gt;() {\n    @Override\n    public int compare(Interval i1, Interval i2) {\n        return Integer.compare(i1.start, i2.start);\n    }\n};\nint start = Collections.binarySearch(intervals, newInterval, comparator);\nint skip = start &gt;= 0 ? start : -start - 1;\nint end = Collections.binarySearch(intervals.subList(skip, intervals.size()),\n                                   new Interval(newInterval.end, 0),\n                                   comparator);\n</code></pre>\n<p>From 80 ms down to 4 ms! What's going on here? Unfortunately I have no idea what kind of tests LeetCode runs or under what environment, but still, isn't 20 times too much?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1556557,"reputation":1548,"user_id":1447477,"accept_rate":80,"display_name":"Matter Cat"},"score":0,"creation_date":1437450184,"post_id":31529908,"comment_id":51020849,"body_markdown":"Also you haven&#39;t used `setContentView` in your `onCreate`. Not related to the permission error but you need to fix that before it&#39;ll work.","body":"Also you haven&#39;t used <code>setContentView</code> in your <code>onCreate</code>. Not related to the permission error but you need to fix that before it&#39;ll work."},{"owner":{"account_id":4686941,"reputation":2426,"user_id":3794140,"accept_rate":67,"display_name":"Sheychan"},"score":0,"creation_date":1437450265,"post_id":31529908,"comment_id":51020871,"body_markdown":"@MatterCat it might be a service or a fragment","body":"@MatterCat it might be a service or a fragment"},{"owner":{"account_id":1556557,"reputation":1548,"user_id":1447477,"accept_rate":80,"display_name":"Matter Cat"},"score":0,"creation_date":1437450332,"post_id":31529908,"comment_id":51020878,"body_markdown":"If they&#39;re just starting out, it&#39;s most likely that it&#39;s an Activity. I suppose that&#39;s fair, though.","body":"If they&#39;re just starting out, it&#39;s most likely that it&#39;s an Activity. I suppose that&#39;s fair, though."},{"owner":{"account_id":4686941,"reputation":2426,"user_id":3794140,"accept_rate":67,"display_name":"Sheychan"},"score":0,"creation_date":1437451993,"post_id":31529908,"comment_id":51021242,"body_markdown":"@MatterCat hmmm yup true, but we should focus on his error, the permission error.","body":"@MatterCat hmmm yup true, but we should focus on his error, the permission error."},{"owner":{"account_id":5961850,"reputation":25,"user_id":4686783,"display_name":"snwflake"},"score":0,"creation_date":1438940921,"post_id":31529908,"comment_id":51667210,"body_markdown":"it is indeed a service, i may just started out with java, but i am familiar with service based architecture in software development.","body":"it is indeed a service, i may just started out with java, but i am familiar with service based architecture in software development."}],"answers":[{"tags":[],"owner":{"account_id":4686941,"reputation":2426,"user_id":3794140,"accept_rate":67,"display_name":"Sheychan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1437450141,"creation_date":1437450141,"answer_id":31529976,"question_id":31529908,"body_markdown":"Use small caps on ANDROID.PERMISSION\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;","title":"Permission Denied in order to load Image from Android Internal Storage","body":"<p>Use small caps on ANDROID.PERMISSION</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\"/&gt;\n</code></pre>\n"}],"owner":{"account_id":5961850,"reputation":25,"user_id":4686783,"display_name":"snwflake"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4938,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":31529976,"answer_count":1,"score":1,"last_activity_date":1684725831,"creation_date":1437449721,"question_id":31529908,"body_markdown":"Started learning java and app development. I tried to display a single Picture with a hard-coded path. I got left with an Error telling me, that the necessary permissions are missing:\r\n\r\n***Unable to decode stream: java.io.FileNotFoundException: /storage/emulated/0/media/logo.jpg: open failed: EACCES (Permission denied)***\r\n\r\n***AndroidManifest.xml*:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.snwflake22.helloworld&quot; &gt;\r\n        &lt;uses-permission android:name=&quot;ANDROID.PERMISSION.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;ANDROID.PERMISSION.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n        &lt;application\r\n        (...)\r\n        &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\n\r\n\r\nThe function itself looks like this:\r\n \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        File image = new File(Environment.getExternalStorageDirectory()+&quot;/media/&quot;, &quot;logo.jpg&quot;);\r\n        BitmapFactory.Options bmOptions = new BitmapFactory.Options();\r\n        Bitmap bitmap = BitmapFactory.decodeFile(image.getAbsolutePath(), bmOptions);\r\n        ImageView imageView = (ImageView) findViewById(R.id.imageView);\r\n        imageView.setImageBitmap(bitmap);\r\n    }\r\n\r\n\r\nAre there any other permissions I need to set to access the storage? or the media folder?\r\n","title":"Permission Denied in order to load Image from Android Internal Storage","body":"<p>Started learning java and app development. I tried to display a single Picture with a hard-coded path. I got left with an Error telling me, that the necessary permissions are missing:</p>\n<p><em><strong>Unable to decode stream: java.io.FileNotFoundException: /storage/emulated/0/media/logo.jpg: open failed: EACCES (Permission denied)</strong></em></p>\n<p><strong><em>AndroidManifest.xml</em>:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\npackage=&quot;com.snwflake22.helloworld&quot; &gt;\n    &lt;uses-permission android:name=&quot;ANDROID.PERMISSION.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;ANDROID.PERMISSION.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;application\n    (...)\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>The function itself looks like this:</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    File image = new File(Environment.getExternalStorageDirectory()+&quot;/media/&quot;, &quot;logo.jpg&quot;);\n    BitmapFactory.Options bmOptions = new BitmapFactory.Options();\n    Bitmap bitmap = BitmapFactory.decodeFile(image.getAbsolutePath(), bmOptions);\n    ImageView imageView = (ImageView) findViewById(R.id.imageView);\n    imageView.setImageBitmap(bitmap);\n}\n</code></pre>\n<p>Are there any other permissions I need to set to access the storage? or the media folder?</p>\n"},{"tags":["java","json","arraylist","json-deserialization"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1684727688,"post_id":76301356,"comment_id":134553700,"body_markdown":"I found a few answers, [Jackson: is there a way to serialize POJOs directly to treemodel?](https://stackoverflow.com/questions/6967583/jackson-is-there-a-way-to-serialize-pojos-directly-to-treemodel), and [Convert Java Object to JsonNode in Jackson](https://stackoverflow.com/questions/11828368/convert-java-object-to-jsonnode-in-jackson)","body":"I found a few answers, <a href=\"https://stackoverflow.com/questions/6967583/jackson-is-there-a-way-to-serialize-pojos-directly-to-treemodel\">Jackson: is there a way to serialize POJOs directly to treemodel?</a>, and <a href=\"https://stackoverflow.com/questions/11828368/convert-java-object-to-jsonnode-in-jackson\">Convert Java Object to JsonNode in Jackson</a>"}],"owner":{"account_id":315708,"reputation":187,"user_id":631523,"accept_rate":0,"display_name":"Orgil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684725410,"creation_date":1684693736,"question_id":76301356,"body_markdown":"How to convert json to ArrayList&lt;ArrayList&lt;Object&gt;&gt; in java.\r\n&lt;br&gt;Corresponding c# code using NewtonJson is like:\r\n\r\n    JsonConvert.DeserializeObject&lt;List&lt;List&lt;Object&gt;&gt;&gt;(jsonstr)\r\n\r\nBut what would it be in Java? I could not find package for this.&lt;br&gt;If target type were some class then it would be easy using gson. But my problem is target type being double list ArrayList&lt;ArrayList&lt;Object&gt;&gt;.\r\n\r\nRegards Orgil.D","title":"how to convert json to ArrayList&lt;ArrayList&lt;String&gt;&gt; in java like JsonConvert.DeserializeObject&lt;List&lt;List&lt;object&gt;&gt;&gt;(jsonstr) in c#","body":"<p>How to convert json to ArrayList&lt;ArrayList&gt; in java.\n<br>Corresponding c# code using NewtonJson is like:</p>\n<pre><code>JsonConvert.DeserializeObject&lt;List&lt;List&lt;Object&gt;&gt;&gt;(jsonstr)\n</code></pre>\n<p>But what would it be in Java? I could not find package for this.<br>If target type were some class then it would be easy using gson. But my problem is target type being double list ArrayList&lt;ArrayList&gt;.</p>\n<p>Regards Orgil.D</p>\n"},{"tags":["java","package","file-structure"],"comments":[{"owner":{"account_id":7630,"reputation":22523,"user_id":13295,"accept_rate":92,"display_name":"Lance Roberts"},"score":1,"creation_date":1249580715,"post_id":1240387,"comment_id":1066532,"body_markdown":"What OS are you dealing with?","body":"What OS are you dealing with?"}],"answers":[{"tags":[],"owner":{"account_id":43112,"reputation":58953,"user_id":125844,"accept_rate":85,"display_name":"notnoop"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1249580726,"creation_date":1249580726,"answer_id":1240400,"question_id":1240387,"body_markdown":"You can try unzipping/unjarring rt.jar, which is usually available in `$JAVA_HOME/lib/rt.jar`.  The jar file should include the classfiles of all the `JDK`, if that is what you are asking about.","title":"Where are the Java System Packages stored?","body":"<p>You can try unzipping/unjarring rt.jar, which is usually available in <code>$JAVA_HOME/lib/rt.jar</code>.  The jar file should include the classfiles of all the <code>JDK</code>, if that is what you are asking about.</p>\n"},{"tags":[],"owner":{"account_id":7745,"reputation":189755,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1249581309,"creation_date":1249580759,"answer_id":1240405,"question_id":1240387,"body_markdown":"If you want a list of packages in the standard installation, just go to the [Javadocs][1] and look in the upper left corner.\r\n\r\nIf you want to see the .class files, they&#39;re in `lib\\rt.jar` in the JRE directory (`.jar` is the same as `.zip`, so you can open it with anything that can open zip files).\r\n\r\nIf you want to see the source code, look in `src.zip` in the JDK directory. If it&#39;s not there, you probably elected not to install it when you installed the JDK.\r\n\r\nKeep in mind that packages are represented as folders on disk, so you might be a little disappointed by what you see.\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/index.html","title":"Where are the Java System Packages stored?","body":"<p>If you want a list of packages in the standard installation, just go to the <a href=\"http://java.sun.com/javase/6/docs/api/index.html\" rel=\"noreferrer\">Javadocs</a> and look in the upper left corner.</p>\n\n<p>If you want to see the .class files, they're in <code>lib\\rt.jar</code> in the JRE directory (<code>.jar</code> is the same as <code>.zip</code>, so you can open it with anything that can open zip files).</p>\n\n<p>If you want to see the source code, look in <code>src.zip</code> in the JDK directory. If it's not there, you probably elected not to install it when you installed the JDK.</p>\n\n<p>Keep in mind that packages are represented as folders on disk, so you might be a little disappointed by what you see.</p>\n"},{"tags":[],"owner":{"account_id":20694,"reputation":24019,"user_id":49713,"accept_rate":80,"display_name":"lavinio"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1249581111,"creation_date":1249580798,"answer_id":1240407,"question_id":1240387,"body_markdown":"Assuming you mean the packages that include the class libraries like java.lang.* and java.util.*, these live in the &quot;lib&quot; directory under wherever your Java Runtime Environment (JRE) is installed.\r\n\r\nOn Windows, it would be something like this:\r\n\r\n    C:\\Program Files\\Java\\j2re1.4.2_12\\lib\r\n\r\nIn there, you should see files like `rt.jar` which contains the core Java classes and `charsets.jar` which contains many of the extended encoding support for EBCDIC and the CJK languages.\r\n\r\nIn a parallel `bin` directory are the executables for Java and related utilities.\r\n\r\nIf you&#39;ve installed the Java Development Kit (JDK), in the directory above where you find the libs you will probably find a `src.jar` file. This can be unpacked either with the `jar.exe` utility, or with a standard *zip*-style tool, and contains the Java sources to the standard class library.\r\n\r\nSome of Java, such as the virtual machine itself, is machine-specific, and will be part of some of the DLL&#39;s or EXE&#39;s present.\r\n\r\n","title":"Where are the Java System Packages stored?","body":"<p>Assuming you mean the packages that include the class libraries like java.lang.* and java.util.*, these live in the \"lib\" directory under wherever your Java Runtime Environment (JRE) is installed.</p>\n\n<p>On Windows, it would be something like this:</p>\n\n<pre><code>C:\\Program Files\\Java\\j2re1.4.2_12\\lib\n</code></pre>\n\n<p>In there, you should see files like <code>rt.jar</code> which contains the core Java classes and <code>charsets.jar</code> which contains many of the extended encoding support for EBCDIC and the CJK languages.</p>\n\n<p>In a parallel <code>bin</code> directory are the executables for Java and related utilities.</p>\n\n<p>If you've installed the Java Development Kit (JDK), in the directory above where you find the libs you will probably find a <code>src.jar</code> file. This can be unpacked either with the <code>jar.exe</code> utility, or with a standard <em>zip</em>-style tool, and contains the Java sources to the standard class library.</p>\n\n<p>Some of Java, such as the virtual machine itself, is machine-specific, and will be part of some of the DLL's or EXE's present.</p>\n"},{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1249601681,"creation_date":1249601681,"answer_id":1242097,"question_id":1240387,"body_markdown":"My JDK 1.6.0_13 has a src.zip containing all the source code.  Give that a look.\r\n\r\n","title":"Where are the Java System Packages stored?","body":"<p>My JDK 1.6.0_13 has a src.zip containing all the source code.  Give that a look.</p>\n"},{"tags":[],"owner":{"account_id":3949260,"reputation":1019,"user_id":3260410,"display_name":"Venkataswamy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1391483389,"creation_date":1391483389,"answer_id":21542271,"question_id":1240387,"body_markdown":"**Windows:**\r\n\r\nFor compressed compiled java packages( Java Class Library, JCL): program files/java/jdk/jre/lib/rt.jar\r\n\r\nFor source of packages: program files/java/jdk/src.zip\r\n\r\nwe can use any unzipping software to look into them. ","title":"Where are the Java System Packages stored?","body":"<p><strong>Windows:</strong></p>\n\n<p>For compressed compiled java packages( Java Class Library, JCL): program files/java/jdk/jre/lib/rt.jar</p>\n\n<p>For source of packages: program files/java/jdk/src.zip</p>\n\n<p>we can use any unzipping software to look into them. </p>\n"},{"tags":[],"owner":{"account_id":2027945,"reputation":4954,"user_id":1812434,"accept_rate":57,"display_name":"Venkata Raju"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1591892696,"creation_date":1545493002,"answer_id":53897006,"question_id":1240387,"body_markdown":"From Java 9 onwards `rt.jar` was [removed](http://openjdk.java.net/jeps/220)\r\n\r\n&gt; The class and resource files previously stored in `lib/rt.jar`, `lib/tools.jar`, `lib/dt.jar`, and various other internal JAR files are now stored in a more efficient format in implementation-specific files in the lib directory. The format of these files is not specified and is subject to change without notice.\r\n\r\nThe System class files can now be accessed as shown below\r\n\r\n    FileSystem fs = FileSystems.getFileSystem(URI.create(&quot;jrt:/&quot;));\r\n\tPath objClassFilePath = fs.getPath(&quot;modules&quot;, &quot;java.base&quot;, &quot;java/lang/Object.class&quot;);","title":"Where are the Java System Packages stored?","body":"<p>From Java 9 onwards <code>rt.jar</code> was <a href=\"http://openjdk.java.net/jeps/220\" rel=\"noreferrer\">removed</a></p>\n\n<blockquote>\n  <p>The class and resource files previously stored in <code>lib/rt.jar</code>, <code>lib/tools.jar</code>, <code>lib/dt.jar</code>, and various other internal JAR files are now stored in a more efficient format in implementation-specific files in the lib directory. The format of these files is not specified and is subject to change without notice.</p>\n</blockquote>\n\n<p>The System class files can now be accessed as shown below</p>\n\n<pre><code>FileSystem fs = FileSystems.getFileSystem(URI.create(\"jrt:/\"));\nPath objClassFilePath = fs.getPath(\"modules\", \"java.base\", \"java/lang/Object.class\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11897465,"reputation":23,"user_id":8706420,"display_name":"Rahul Gupta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565248724,"creation_date":1565248724,"answer_id":57407176,"question_id":1240387,"body_markdown":"As answered by @VenkataRaju i would like to put 2 more points that \r\n\r\n 1. we have ./bin, ./conf, ./include, ./jmods, ./legal, ./lib\r\n 2. we can see all the classlist in ./lib/classlist and ./lib/src.jar\r\n in java 11\r\n","title":"Where are the Java System Packages stored?","body":"<p>As answered by @VenkataRaju i would like to put 2 more points that </p>\n\n<ol>\n<li>we have ./bin, ./conf, ./include, ./jmods, ./legal, ./lib</li>\n<li>we can see all the classlist in ./lib/classlist and ./lib/src.jar\nin java 11</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":15191583,"reputation":551,"user_id":10962180,"display_name":"Levon Minasian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657696963,"creation_date":1657696963,"answer_id":72962376,"question_id":1240387,"body_markdown":"`rt.jar` is removed since Java 9. So, to find sources of JCL you should:\r\n```\r\nsudo find / -name java.base\r\n```","title":"Where are the Java System Packages stored?","body":"<p><code>rt.jar</code> is removed since Java 9. So, to find sources of JCL you should:</p>\n<pre><code>sudo find / -name java.base\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28650798,"reputation":1,"user_id":21937801,"display_name":"Manoranjan Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684725225,"creation_date":1684725225,"answer_id":76302834,"question_id":1240387,"body_markdown":"In a JDK version 18.0.1.1, all packages are present in the jrt-fs.jar file.\r\n\r\n\r\npath:- jdk-18.0.1.1\\lib\\jrt-fs.jar.\r\n\r\ninside this jrt-fs.jar file, all pre-defined classes are present in the package path like java\\io for java.io, java\\lang for java.lang, java\\util for java.util, java\\sql for java.sql etc..","title":"Where are the Java System Packages stored?","body":"<p>In a JDK version 18.0.1.1, all packages are present in the jrt-fs.jar file.</p>\n<p>path:- jdk-18.0.1.1\\lib\\jrt-fs.jar.</p>\n<p>inside this jrt-fs.jar file, all pre-defined classes are present in the package path like java\\io for java.io, java\\lang for java.lang, java\\util for java.util, java\\sql for java.sql etc..</p>\n"}],"owner":{"account_id":50331,"reputation":910,"user_id":150110,"accept_rate":36,"display_name":"asb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75083,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"answer_count":9,"score":23,"last_activity_date":1684725225,"creation_date":1249580576,"question_id":1240387,"body_markdown":"I want to see all the java packages. Where are the packages stored in my machine? Can anyone help. I did search in jdk folder and found awt.dll and all. But its only a few. Can i see all of them?","title":"Where are the Java System Packages stored?","body":"<p>I want to see all the java packages. Where are the packages stored in my machine? Can anyone help. I did search in jdk folder and found awt.dll and all. But its only a few. Can i see all of them?</p>\n"},{"tags":["java","list","search","contains"],"comments":[{"owner":{"account_id":218057,"reputation":67728,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":0,"creation_date":1379426772,"post_id":18852059,"comment_id":27815218,"body_markdown":"Your stated goal and your code example don&#39;t seem to match. Do you want to compare the objects only on the basis of one field value?","body":"Your stated goal and your code example don&#39;t seem to match. Do you want to compare the objects only on the basis of one field value?"},{"owner":{"account_id":1306954,"reputation":11661,"user_id":1255746,"accept_rate":78,"display_name":"Josh M"},"score":1,"creation_date":1379426779,"post_id":18852059,"comment_id":27815224,"body_markdown":"Override the `equals(Object)` method of your custom object?","body":"Override the <code>equals(Object)</code> method of your custom object?"},{"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"score":1,"creation_date":1379431229,"post_id":18852059,"comment_id":27818186,"body_markdown":"`for(Person p:list) if (p.getName().equals(&quot;John&quot;) return true; return false;`\nYou won&#39;t find a more concise way in Java I&#39;m afraid.","body":"<code>for(Person p:list) if (p.getName().equals(&quot;John&quot;) return true; return false;</code> You won&#39;t find a more concise way in Java I&#39;m afraid."},{"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"score":0,"creation_date":1424793822,"post_id":18852059,"comment_id":45691150,"body_markdown":"@Rajdeep sorry, I don&#39;t understand your question. `p.equals(p)` _should_ always be true, so I&#39;m confused what you&#39;re trying to achieve. Hopefully if you [ask a new question](http://stackoverflow.com/questions/ask) you can get better help.","body":"@Rajdeep sorry, I don&#39;t understand your question. <code>p.equals(p)</code> <i>should</i> always be true, so I&#39;m confused what you&#39;re trying to achieve. Hopefully if you <a href=\"http://stackoverflow.com/questions/ask\">ask a new question</a> you can get better help."}],"answers":[{"tags":[],"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1379426787,"creation_date":1379426787,"answer_id":18852137,"question_id":18852059,"body_markdown":"`contains` method uses `equals` internally. So you need to override the `equals` method for your class as per your need.\r\n\r\nBtw this does not look syntatically correct: \r\n\r\n    new Object().setName(&quot;John&quot;)","title":"Java List.contains(Object with field value equal to x)","body":"<p><code>contains</code> method uses <code>equals</code> internally. So you need to override the <code>equals</code> method for your class as per your need.</p>\n\n<p>Btw this does not look syntatically correct: </p>\n\n<pre><code>new Object().setName(\"John\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1453171211,"creation_date":1379426838,"answer_id":18852162,"question_id":18852059,"body_markdown":"# Google Guava\r\n\r\nIf you&#39;re using [Guava][1], you can take a functional approach and do the following\r\n\r\n    FluentIterable.from(list).find(new Predicate&lt;MyObject&gt;() {\r\n       public boolean apply(MyObject input) {\r\n          return &quot;John&quot;.equals(input.getName());\r\n       }\r\n    }).Any();\r\n\r\nwhich looks a little verbose. However the predicate is an object and you can provide different variants for different searches. Note how the library itself separates the iteration of the collection and the function you wish to apply. You don&#39;t have to override `equals()` for a particular behaviour.\r\n\r\nAs noted below, the [java.util.Stream](http://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html) framework built into Java 8 and later provides something similar.\r\n\r\n\r\n  [1]: http://code.google.com/p/guava-libraries/","title":"Java List.contains(Object with field value equal to x)","body":"<h1>Google Guava</h1>\n\n<p>If you're using <a href=\"http://code.google.com/p/guava-libraries/\">Guava</a>, you can take a functional approach and do the following</p>\n\n<pre><code>FluentIterable.from(list).find(new Predicate&lt;MyObject&gt;() {\n   public boolean apply(MyObject input) {\n      return \"John\".equals(input.getName());\n   }\n}).Any();\n</code></pre>\n\n<p>which looks a little verbose. However the predicate is an object and you can provide different variants for different searches. Note how the library itself separates the iteration of the collection and the function you wish to apply. You don't have to override <code>equals()</code> for a particular behaviour.</p>\n\n<p>As noted below, the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\">java.util.Stream</a> framework built into Java 8 and later provides something similar.</p>\n"},{"tags":[],"owner":{"account_id":15903,"reputation":323433,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1467983788,"creation_date":1379427060,"answer_id":18852245,"question_id":18852059,"body_markdown":"`Collection.contains()` is implemented by calling `equals()` on each object until one returns `true`.\r\n\r\nSo one way to implement this is to override `equals()` but of course, you can only have one equals.\r\n\r\nFrameworks like [Guava][1] therefore use predicates for this. With `Iterables.find(list, predicate)`, you can search for arbitrary fields by putting the test into the predicate.\r\n\r\nOther languages built on top of the VM have this built in. In [Groovy][2], for example, you simply write:\r\n\r\n    def result = list.find{ it.name == &#39;John&#39; }\r\n\r\nJava 8 made all our lives easier, too:\r\n\r\n    List&lt;Foo&gt; result = list.stream()\r\n        .filter(it -&gt; &quot;John&quot;.equals(it.getName())\r\n        .collect(Collectors.toList());\r\n\r\nIf you care about things like this, I suggest the book &quot;Beyond Java&quot;. It contains many examples for the numerous shortcomings of Java and how other languages do better.\r\n\r\n  [1]: https://code.google.com/p/guava-libraries/\r\n  [2]: http://groovy.codehaus.org/","title":"Java List.contains(Object with field value equal to x)","body":"<p><code>Collection.contains()</code> is implemented by calling <code>equals()</code> on each object until one returns <code>true</code>.</p>\n\n<p>So one way to implement this is to override <code>equals()</code> but of course, you can only have one equals.</p>\n\n<p>Frameworks like <a href=\"https://code.google.com/p/guava-libraries/\" rel=\"noreferrer\">Guava</a> therefore use predicates for this. With <code>Iterables.find(list, predicate)</code>, you can search for arbitrary fields by putting the test into the predicate.</p>\n\n<p>Other languages built on top of the VM have this built in. In <a href=\"http://groovy.codehaus.org/\" rel=\"noreferrer\">Groovy</a>, for example, you simply write:</p>\n\n<pre><code>def result = list.find{ it.name == 'John' }\n</code></pre>\n\n<p>Java 8 made all our lives easier, too:</p>\n\n<pre><code>List&lt;Foo&gt; result = list.stream()\n    .filter(it -&gt; \"John\".equals(it.getName())\n    .collect(Collectors.toList());\n</code></pre>\n\n<p>If you care about things like this, I suggest the book \"Beyond Java\". It contains many examples for the numerous shortcomings of Java and how other languages do better.</p>\n"},{"tags":[],"owner":{"account_id":1306954,"reputation":11661,"user_id":1255746,"accept_rate":78,"display_name":"Josh M"},"down_vote_count":1,"up_vote_count":395,"is_accepted":true,"score":394,"last_activity_date":1662384460,"creation_date":1379427318,"answer_id":18852327,"question_id":18852059,"body_markdown":"# Streams\r\n\r\nIf you are using Java 8, perhaps you could try something like this:\r\n\r\n    public boolean containsName(final List&lt;MyObject&gt; list, final String name){\r\n        return list.stream().filter(o -&gt; o.getName().equals(name)).findFirst().isPresent();\r\n    }\r\n\r\nOr alternatively, you could try something like this:\r\n\r\n    public boolean containsName(final List&lt;MyObject&gt; list, final String name){\r\n        return list.stream().map(MyObject::getName).filter(name::equals).findFirst().isPresent();\r\n    }\r\n\r\nThis method will return `true` if the `List&lt;MyObject&gt;` contains a `MyObject` with the name `name`. If you want to perform an operation on each of the `MyObject`s that `getName().equals(name)`, then you could try something like this:\r\n\r\n    public void perform(final List&lt;MyObject&gt; list, final String name){\r\n        list.stream().filter(o -&gt; o.getName().equals(name)).forEach(\r\n                o -&gt; {\r\n                    //...\r\n                }\r\n        );\r\n    }\r\n\r\nWhere `o` represents a `MyObject` instance.\r\n\r\nAlternatively, as the comments suggest (Thanks MK10), you could use the `Stream#anyMatch` method:\r\n\r\n    public boolean containsName(final List&lt;MyObject&gt; list, final String name){\r\n        return list.stream().anyMatch(o -&gt; name.equals(o.getName()));\r\n    }","title":"Java List.contains(Object with field value equal to x)","body":"<h1>Streams</h1>\n<p>If you are using Java 8, perhaps you could try something like this:</p>\n<pre><code>public boolean containsName(final List&lt;MyObject&gt; list, final String name){\n    return list.stream().filter(o -&gt; o.getName().equals(name)).findFirst().isPresent();\n}\n</code></pre>\n<p>Or alternatively, you could try something like this:</p>\n<pre><code>public boolean containsName(final List&lt;MyObject&gt; list, final String name){\n    return list.stream().map(MyObject::getName).filter(name::equals).findFirst().isPresent();\n}\n</code></pre>\n<p>This method will return <code>true</code> if the <code>List&lt;MyObject&gt;</code> contains a <code>MyObject</code> with the name <code>name</code>. If you want to perform an operation on each of the <code>MyObject</code>s that <code>getName().equals(name)</code>, then you could try something like this:</p>\n<pre><code>public void perform(final List&lt;MyObject&gt; list, final String name){\n    list.stream().filter(o -&gt; o.getName().equals(name)).forEach(\n            o -&gt; {\n                //...\n            }\n    );\n}\n</code></pre>\n<p>Where <code>o</code> represents a <code>MyObject</code> instance.</p>\n<p>Alternatively, as the comments suggest (Thanks MK10), you could use the <code>Stream#anyMatch</code> method:</p>\n<pre><code>public boolean containsName(final List&lt;MyObject&gt; list, final String name){\n    return list.stream().anyMatch(o -&gt; name.equals(o.getName()));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1712852,"reputation":10572,"user_id":1570523,"display_name":"Debojit Saikia"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1453170799,"creation_date":1379427348,"answer_id":18852332,"question_id":18852059,"body_markdown":"# Binary Search\r\n\r\nYou can use [Collections.binarySearch][1] to search an element in your list (assuming the list is sorted):\r\n\r\n    Collections.binarySearch(list, new YourObject(&quot;a1&quot;, &quot;b&quot;,\r\n    \t\t\t\t&quot;c&quot;), new Comparator&lt;YourObject&gt;() {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic int compare(YourObject o1, YourObject o2) {\r\n    \t\t\t\treturn o1.getName().compareTo(o2.getName());\r\n    \t\t\t}\r\n    \t\t});\r\n\r\nwhich will return a negative number if the object is not present in the collection or else it will return the `index` of the object. With this you can search for objects with different searching strategies.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#binarySearch(java.util.List,%20T,%20java.util.Comparator)","title":"Java List.contains(Object with field value equal to x)","body":"<h1>Binary Search</h1>\n\n<p>You can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#binarySearch(java.util.List,%20T,%20java.util.Comparator)\" rel=\"noreferrer\">Collections.binarySearch</a> to search an element in your list (assuming the list is sorted):</p>\n\n<pre><code>Collections.binarySearch(list, new YourObject(\"a1\", \"b\",\n                \"c\"), new Comparator&lt;YourObject&gt;() {\n\n            @Override\n            public int compare(YourObject o1, YourObject o2) {\n                return o1.getName().compareTo(o2.getName());\n            }\n        });\n</code></pre>\n\n<p>which will return a negative number if the object is not present in the collection or else it will return the <code>index</code> of the object. With this you can search for objects with different searching strategies.</p>\n"},{"tags":[],"owner":{"account_id":1708399,"reputation":8104,"user_id":1566990,"accept_rate":67,"display_name":"James Dunn"},"down_vote_count":2,"up_vote_count":87,"is_accepted":false,"score":85,"last_activity_date":1379431216,"creation_date":1379429068,"answer_id":18852968,"question_id":18852059,"body_markdown":"&lt;p&gt;&lt;b&gt;You have two choices.&lt;/b&gt;&lt;/p&gt;\r\n&lt;p&gt;1.  The first choice, which is preferable, is to override the `equals()` method in your Object class.&lt;/p&gt;\r\n&lt;p&gt;Let&#39;s say, for example, you have this Object class:&lt;/p&gt;\r\n\r\n    public class MyObject {\r\n        private String name;\r\n        private String location;\r\n        //getters and setters\r\n    }\r\n&lt;p&gt;Now let&#39;s say you only care about the MyObject&#39;s name, that it should be unique so if two `MyObject`s have the same name they should be considered equal.  In that case, you would want to override the `equals()` method (and also the `hashcode()` method) so that it compares the names to determine equality.&lt;/p&gt;\r\n&lt;p&gt;Once you&#39;ve done this, you can check to see if a Collection contains a MyObject with the name &quot;foo&quot; by like so:&lt;/p&gt;\r\n\r\n    MyObject object = new MyObject();\r\n    object.setName(&quot;foo&quot;);\r\n    collection.contains(object);\r\n\r\n&lt;p&gt;However, this might not be an option for you if:&lt;/p&gt;\r\n&lt;ul&gt;\r\n&lt;li&gt;You are using both the name and location to check for equality, but you only want to check if a Collection has any `MyObject`s with a certain location.  In this case, you&#39;ve already overridden `equals()`.&lt;/li&gt;\r\n&lt;li&gt;`MyObject` is part of an API that you don&#39;t have liberty to change.&lt;/li&gt;\r\n&lt;/ul&gt;\r\n&lt;i&gt;If either of these are the case, you&#39;ll want option 2:&lt;/i&gt;\r\n&lt;p&gt;2.  Write your own utility method:&lt;/p&gt;\r\n\r\n    public static boolean containsLocation(Collection&lt;MyObject&gt; c, String location) {\r\n        for(MyObject o : c) {\r\n            if(o != null &amp;&amp; o.getLocation.equals(location)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n&lt;p&gt;Alternatively, you could extend ArrayList&lt;MyObject&gt; (or some other collection) and then add your own method to it:&lt;/p&gt;\r\n\r\n    public boolean containsLocation(String location) {\r\n        for(MyObject o : this) {\r\n            if(o != null &amp;&amp; o.getLocation.equals(location)) {\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n            \r\n&lt;p&gt;Unfortunately there&#39;s not a better way around it.&lt;/p&gt;\r\n\r\n","title":"Java List.contains(Object with field value equal to x)","body":"<p><b>You have two choices.</b></p>\n\n<p>1.  The first choice, which is preferable, is to override the `equals()` method in your Object class.</p>\n\n<p>Let's say, for example, you have this Object class:</p>\n\n<pre><code>public class MyObject {\n    private String name;\n    private String location;\n    //getters and setters\n}\n</code></pre>\n\n<p>Now let's say you only care about the MyObject's name, that it should be unique so if two `MyObject`s have the same name they should be considered equal.  In that case, you would want to override the `equals()` method (and also the `hashcode()` method) so that it compares the names to determine equality.</p>\n\n<p>Once you've done this, you can check to see if a Collection contains a MyObject with the name \"foo\" by like so:</p>\n\n<pre><code>MyObject object = new MyObject();\nobject.setName(\"foo\");\ncollection.contains(object);\n</code></pre>\n\n<p>However, this might not be an option for you if:</p>\n\n<ul>\n<li>You are using both the name and location to check for equality, but you only want to check if a Collection has any `MyObject`s with a certain location.  In this case, you've already overridden `equals()`.</li>\n<li>`MyObject` is part of an API that you don't have liberty to change.</li>\n</ul>\n\n<p><i>If either of these are the case, you'll want option 2:</i></p>\n\n<p>2.  Write your own utility method:</p>\n\n<pre><code>public static boolean containsLocation(Collection&lt;MyObject&gt; c, String location) {\n    for(MyObject o : c) {\n        if(o != null &amp;&amp; o.getLocation.equals(location)) {\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n\n<p>Alternatively, you could extend ArrayList (or some other collection) and then add your own method to it:</p>\n\n<pre><code>public boolean containsLocation(String location) {\n    for(MyObject o : this) {\n        if(o != null &amp;&amp; o.getLocation.equals(location)) {\n                return true;\n            }\n        }\n        return false;\n    }\n</code></pre>\n\n<p>Unfortunately there's not a better way around it.</p>\n"},{"tags":[],"owner":{"account_id":12059,"reputation":26552,"user_id":23572,"accept_rate":63,"display_name":"Craig P. Motlin"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1453208336,"creation_date":1379443982,"answer_id":18857682,"question_id":18852059,"body_markdown":"# Eclipse Collections\r\n\r\nIf you&#39;re using [Eclipse Collections][1], you can use the `anySatisfy()` method. Either adapt your `List` in a `ListAdapter` or change your `List` into a `ListIterable` if possible.\r\n\r\n    ListIterable&lt;MyObject&gt; list = ...;\r\n\r\n    boolean result =\r\n        list.anySatisfy(myObject -&gt; myObject.getName().equals(&quot;John&quot;));\r\n\r\nIf you&#39;ll do operations like this frequently, it&#39;s better to extract a method which answers whether the type has the attribute.\r\n\r\n    public class MyObject\r\n    {\r\n        private final String name;\r\n    \r\n        public MyObject(String name)\r\n        {\r\n            this.name = name;\r\n        }\r\n        \r\n        public boolean named(String name)\r\n        {\r\n            return Objects.equals(this.name, name);\r\n        }\r\n    }\r\n\r\nYou can use the alternate form `anySatisfyWith()` together with a method reference.\r\n\r\n    boolean result = list.anySatisfyWith(MyObject::named, &quot;John&quot;);\r\n\r\nIf you cannot change your `List` into a `ListIterable`, here&#39;s how you&#39;d use `ListAdapter`.\r\n\r\n    boolean result = \r\n        ListAdapter.adapt(list).anySatisfyWith(MyObject::named, &quot;John&quot;);\r\n\r\nNote: I am a committer for Eclipse ollections.\r\n\r\n\r\n  [1]: https://github.com/eclipse/eclipse-collections","title":"Java List.contains(Object with field value equal to x)","body":"<h1>Eclipse Collections</h1>\n\n<p>If you're using <a href=\"https://github.com/eclipse/eclipse-collections\" rel=\"nofollow\">Eclipse Collections</a>, you can use the <code>anySatisfy()</code> method. Either adapt your <code>List</code> in a <code>ListAdapter</code> or change your <code>List</code> into a <code>ListIterable</code> if possible.</p>\n\n<pre><code>ListIterable&lt;MyObject&gt; list = ...;\n\nboolean result =\n    list.anySatisfy(myObject -&gt; myObject.getName().equals(\"John\"));\n</code></pre>\n\n<p>If you'll do operations like this frequently, it's better to extract a method which answers whether the type has the attribute.</p>\n\n<pre><code>public class MyObject\n{\n    private final String name;\n\n    public MyObject(String name)\n    {\n        this.name = name;\n    }\n\n    public boolean named(String name)\n    {\n        return Objects.equals(this.name, name);\n    }\n}\n</code></pre>\n\n<p>You can use the alternate form <code>anySatisfyWith()</code> together with a method reference.</p>\n\n<pre><code>boolean result = list.anySatisfyWith(MyObject::named, \"John\");\n</code></pre>\n\n<p>If you cannot change your <code>List</code> into a <code>ListIterable</code>, here's how you'd use <code>ListAdapter</code>.</p>\n\n<pre><code>boolean result = \n    ListAdapter.adapt(list).anySatisfyWith(MyObject::named, \"John\");\n</code></pre>\n\n<p>Note: I am a committer for Eclipse ollections.</p>\n"},{"tags":[],"owner":{"account_id":2141855,"reputation":211,"user_id":1900307,"display_name":"Magda"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1442406255,"creation_date":1442405199,"answer_id":32608149,"question_id":18852059,"body_markdown":"If you need to perform this `List.contains(Object with field value equal to x)` repeatedly, a simple and efficient workaround would be:\r\n\r\n    List&lt;field obj type&gt; fieldOfInterestValues = new ArrayList&lt;field obj type&gt;;\r\n    for(Object obj : List) {\r\n        fieldOfInterestValues.add(obj.getFieldOfInterest());\r\n    }\r\n\r\nThen the `List.contains(Object with field value equal to x)` would be have the same result as `fieldOfInterestValues.contains(x);`","title":"Java List.contains(Object with field value equal to x)","body":"<p>If you need to perform this <code>List.contains(Object with field value equal to x)</code> repeatedly, a simple and efficient workaround would be:</p>\n\n<pre><code>List&lt;field obj type&gt; fieldOfInterestValues = new ArrayList&lt;field obj type&gt;;\nfor(Object obj : List) {\n    fieldOfInterestValues.add(obj.getFieldOfInterest());\n}\n</code></pre>\n\n<p>Then the <code>List.contains(Object with field value equal to x)</code> would be have the same result as <code>fieldOfInterestValues.contains(x);</code></p>\n"},{"tags":[],"owner":{"account_id":485835,"reputation":8478,"user_id":902383,"accept_rate":90,"display_name":"user902383"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1453170763,"creation_date":1442406064,"answer_id":32608461,"question_id":18852059,"body_markdown":"# `Predicate`\r\n\r\nIf you dont use Java 8, or library which gives you more functionality for dealing with collections, you could implement something which can be more reusable than your solution.\r\n\r\n    interface Predicate&lt;T&gt;{\r\n    \t\tboolean contains(T item);\r\n    \t}\r\n    \t\r\n    \tstatic class CollectionUtil{\r\n    \t\t\r\n    \t\tpublic static &lt;T&gt; T find(final Collection&lt;T&gt; collection,final  Predicate&lt;T&gt; predicate){\r\n    \t\t\tfor (T item : collection){\r\n    \t\t\t\tif (predicate.contains(item)){\r\n    \t\t\t\t\treturn item;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t// and many more methods to deal with collection\t\r\n    \t}\r\n\r\ni&#39;m using something like that, i have predicate interface, and i&#39;m passing it implementation to my util class.\r\n\r\n What is advantage of doing this in my way? you have one method which deals with searching in any type collection. and you dont have to create separate methods if you want to search by different field. alll what you need to do is provide different predicate which can be destroyed as soon as it no longer usefull/\r\n\r\nif you want to use it, all what you need to do is call method and define tyour predicate\r\n\r\n    CollectionUtil.find(list, new Predicate&lt;MyObject&gt;{\r\n        public boolean contains(T item){\r\n            return &quot;John&quot;.equals(item.getName());\r\n         }\r\n    });","title":"Java List.contains(Object with field value equal to x)","body":"<h1><code>Predicate</code></h1>\n\n<p>If you dont use Java 8, or library which gives you more functionality for dealing with collections, you could implement something which can be more reusable than your solution.</p>\n\n<pre><code>interface Predicate&lt;T&gt;{\n        boolean contains(T item);\n    }\n\n    static class CollectionUtil{\n\n        public static &lt;T&gt; T find(final Collection&lt;T&gt; collection,final  Predicate&lt;T&gt; predicate){\n            for (T item : collection){\n                if (predicate.contains(item)){\n                    return item;\n                }\n            }\n            return null;\n        }\n    // and many more methods to deal with collection    \n    }\n</code></pre>\n\n<p>i'm using something like that, i have predicate interface, and i'm passing it implementation to my util class.</p>\n\n<p>What is advantage of doing this in my way? you have one method which deals with searching in any type collection. and you dont have to create separate methods if you want to search by different field. alll what you need to do is provide different predicate which can be destroyed as soon as it no longer usefull/</p>\n\n<p>if you want to use it, all what you need to do is call method and define tyour predicate</p>\n\n<pre><code>CollectionUtil.find(list, new Predicate&lt;MyObject&gt;{\n    public boolean contains(T item){\n        return \"John\".equals(item.getName());\n     }\n});\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user7110558"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1486725598,"creation_date":1486725598,"answer_id":42158130,"question_id":18852059,"body_markdown":"# Map #\r\n\r\nYou could create a `Hashmap&lt;String, Object&gt;` using one of the values as a key, and then seeing if `yourHashMap.keySet().contains(yourValue)` returns true.","title":"Java List.contains(Object with field value equal to x)","body":"<h1>Map</h1>\n\n<p>You could create a <code>Hashmap&lt;String, Object&gt;</code> using one of the values as a key, and then seeing if <code>yourHashMap.keySet().contains(yourValue)</code> returns true.</p>\n"},{"tags":[],"owner":{"account_id":7957692,"reputation":1544,"user_id":6006402,"display_name":"Pasha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503380067,"creation_date":1503380067,"answer_id":45809583,"question_id":18852059,"body_markdown":"Despite JAVA 8 SDK there is a lot of collection tools libraries can help you to work with, for instance:\r\n [http://commons.apache.org/proper/commons-collections/][1]\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-collections/\r\n\r\n\r\n    Predicate condition = new Predicate() {\r\n       boolean evaluate(Object obj) {\r\n            return ((Sample)obj).myField.equals(&quot;myVal&quot;);\r\n       }\r\n    };\r\n    List result = CollectionUtils.select( list, condition );","title":"Java List.contains(Object with field value equal to x)","body":"<p>Despite JAVA 8 SDK there is a lot of collection tools libraries can help you to work with, for instance:\n <a href=\"http://commons.apache.org/proper/commons-collections/\" rel=\"nofollow noreferrer\">http://commons.apache.org/proper/commons-collections/</a></p>\n\n<pre><code>Predicate condition = new Predicate() {\n   boolean evaluate(Object obj) {\n        return ((Sample)obj).myField.equals(\"myVal\");\n   }\n};\nList result = CollectionUtils.select( list, condition );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7022638,"reputation":58830,"user_id":5381331,"accept_rate":60,"display_name":"Linh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1511232933,"creation_date":1511232933,"answer_id":47404446,"question_id":18852059,"body_markdown":"Here is a solution using [Guava][1]\r\n\r\n    private boolean checkUserListContainName(List&lt;User&gt; userList, final String targetName){\r\n    \r\n        return FluentIterable.from(userList).anyMatch(new Predicate&lt;User&gt;() {\r\n            @Override\r\n            public boolean apply(@Nullable User input) {\r\n                return input.getName().equals(targetName);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n  [1]: https://github.com/google/guava","title":"Java List.contains(Object with field value equal to x)","body":"<p>Here is a solution using <a href=\"https://github.com/google/guava\" rel=\"nofollow noreferrer\">Guava</a></p>\n\n<pre><code>private boolean checkUserListContainName(List&lt;User&gt; userList, final String targetName){\n\n    return FluentIterable.from(userList).anyMatch(new Predicate&lt;User&gt;() {\n        @Override\n        public boolean apply(@Nullable User input) {\n            return input.getName().equals(targetName);\n        }\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2928505,"reputation":2489,"user_id":2561119,"accept_rate":89,"display_name":"GabrielBB"},"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1647193018,"creation_date":1540230309,"answer_id":52934936,"question_id":18852059,"body_markdown":"This is how to do it using Java 8+ :\r\n\r\n    boolean isJohnAlive = list.stream().anyMatch(o -&gt; &quot;John&quot;.equals(o.getName());","title":"Java List.contains(Object with field value equal to x)","body":"<p>This is how to do it using Java 8+ :</p>\n<pre><code>boolean isJohnAlive = list.stream().anyMatch(o -&gt; &quot;John&quot;.equals(o.getName());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21876842,"reputation":1,"user_id":16165755,"display_name":"Amit Singh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1684724955,"creation_date":1684621286,"answer_id":76297558,"question_id":18852059,"body_markdown":"Try this:\r\n\r\n    list.stream().filter(req -&gt; \r\n    req.getName().equals(&quot;John&quot;)).findFirst().isPresent()","title":"Java List.contains(Object with field value equal to x)","body":"<p>Try this:</p>\n<pre><code>list.stream().filter(req -&gt; \nreq.getName().equals(&quot;John&quot;)).findFirst().isPresent()\n</code></pre>\n"}],"owner":{"account_id":2510282,"reputation":12462,"user_id":2182928,"accept_rate":97,"display_name":"Rudi Kershaw"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":610847,"favorite_count":0,"down_vote_count":1,"up_vote_count":292,"accepted_answer_id":18852327,"answer_count":14,"score":291,"last_activity_date":1684724955,"creation_date":1379426557,"question_id":18852059,"body_markdown":"I want to check whether a `List` contains an object that has a field with a certain value. Now, I could use a loop to go through and check, but I was curious if there was anything more code efficient. \r\n\r\nSomething like;\r\n\r\n    if(list.contains(new Object().setName(&quot;John&quot;))){\r\n        //Do some stuff\r\n    }\r\n\r\nI know the above code doesn&#39;t do anything, it&#39;s just to demonstrate roughly what I am trying to achieve.\r\n\r\nAlso, just to clarify, the reason I don&#39;t want to use a simple loop is because this code will currently go inside a loop that is inside a loop which is inside a loop. For readability I don&#39;t want to keep adding loops to these loops. So I wondered if there were any simple(ish) alternatives.","title":"Java List.contains(Object with field value equal to x)","body":"<p>I want to check whether a <code>List</code> contains an object that has a field with a certain value. Now, I could use a loop to go through and check, but I was curious if there was anything more code efficient. </p>\n\n<p>Something like;</p>\n\n<pre><code>if(list.contains(new Object().setName(\"John\"))){\n    //Do some stuff\n}\n</code></pre>\n\n<p>I know the above code doesn't do anything, it's just to demonstrate roughly what I am trying to achieve.</p>\n\n<p>Also, just to clarify, the reason I don't want to use a simple loop is because this code will currently go inside a loop that is inside a loop which is inside a loop. For readability I don't want to keep adding loops to these loops. So I wondered if there were any simple(ish) alternatives.</p>\n"},{"tags":["java","azure","azure-active-directory","azure-functions","azure-appservice"],"answers":[{"tags":[],"owner":{"account_id":16194832,"reputation":582,"user_id":11692715,"display_name":"Mohit Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684724506,"creation_date":1684724506,"answer_id":76302809,"question_id":76301186,"body_markdown":"In my case, I didn&#39;t have Managed Identity turned on for the Api Function (and App Service which will inherit Api Function&#39;s Managed Identity)\r\n\r\n 1. To turn this on you need to navigate through the sidebar to Identity\r\n\r\n    &lt;img src=&quot;https://i.stack.imgur.com/YUfAo.png&quot; height=&quot;400&quot; /&gt;\r\n 2. Then you need to turn System Assigned status On\r\n    &lt;img src=&quot;https://i.stack.imgur.com/6bDRX.png&quot; height=&quot;300&quot; /&gt;\r\n 3. Then you need to assign the required role which was &quot;Storage Blob Data Contributor&quot;\r\n    &lt;img src=&quot;https://i.stack.imgur.com/5G3qy.png&quot; height=&quot;300&quot; /&gt;\r\n\r\nCaution: I added &quot;Contributor&quot; role instead of &quot;Storage Blob Data Contributor&quot; which didn&#39;t worked and gave me 403. My thinking here was it will be more superior role but didn&#39;t work that way.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9HwVb.png","title":"How to save a file to Azure Storage Account through App Service?","body":"<p>In my case, I didn't have Managed Identity turned on for the Api Function (and App Service which will inherit Api Function's Managed Identity)</p>\n<ol>\n<li><p>To turn this on you need to navigate through the sidebar to Identity</p>\n<img src=\"https://i.stack.imgur.com/YUfAo.png\" height=\"400\" />\n</li>\n<li><p>Then you need to turn System Assigned status On\n<img src=\"https://i.stack.imgur.com/6bDRX.png\" height=\"300\" /></p>\n</li>\n<li><p>Then you need to assign the required role which was &quot;Storage Blob Data Contributor&quot;\n<img src=\"https://i.stack.imgur.com/5G3qy.png\" height=\"300\" /></p>\n</li>\n</ol>\n<p>Caution: I added &quot;Contributor&quot; role instead of &quot;Storage Blob Data Contributor&quot; which didn't worked and gave me 403. My thinking here was it will be more superior role but didn't work that way.\n<a href=\"https://i.stack.imgur.com/9HwVb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9HwVb.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":16194832,"reputation":582,"user_id":11692715,"display_name":"Mohit Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684724506,"creation_date":1684691262,"question_id":76301186,"body_markdown":"I am new to Azure. What I am **trying to do is upload a file to Azure Storage Account** from  a **spring boot** application running inside a **Azure App Function** (using **Azure App Service**)?\r\n\r\nThe **code** I am using **to get the Azure Credentials**\r\n```java\r\nDefaultAzureCredential defaultCredential = new DefaultAzureCredentialBuilder().build();\r\n```\r\n\r\nbut this code throws **exception**:\r\n\r\n```text\r\nResult: Failure Exception: CredentialUnavailableException: EnvironmentCredential authentication unavailable. \r\nEnvironment variables are not fully configured.To mitigate this issue, please refer to the troubleshooting \r\nguidelines here at https://aka.ms/azsdk/java/identity/environmentcredential/troubleshoot Managed Identity \r\nauthentication is not available. SharedTokenCacheCredential authentication unavailable. No accounts were \r\nfound in the cache. IntelliJ Authentication not available. Please log in with Azure Tools for IntelliJ plugin \r\nin the IDE. AzureCliCredential authentication unavailable. Azure CLI not installed.To mitigate this issue, \r\nplease refer to the troubleshooting guidelines here at https://aka.ms/azsdk/java/identity/azclicredential/troubleshoot \r\nAzure PowerShell authentication failed using defaultpowershell(pwsh) with following error: Unable to execute \r\nPowerShell. Please make sure that it is installed in your system. Azure PowerShell authentication failed using powershell-core(powershell) with following error: Encountered error when deserializing response from Azure Power Shell.To mitigate this issue, please refer to the troubleshooting guidelines here at https://aka.ms/azure-identity-java-default-azure-credential-troubleshoot Stack: java.lang.reflect.InvocationTargetException at\r\n```\r\n\r\nIf I try to run this **locally then there is no problem**, but **in the Azure App Service it throws this error**. \r\n\r\nCan anybody help me regarding adding the right code to get the credentials?","title":"How to save a file to Azure Storage Account through App Service?","body":"<p>I am new to Azure. What I am <strong>trying to do is upload a file to Azure Storage Account</strong> from  a <strong>spring boot</strong> application running inside a <strong>Azure App Function</strong> (using <strong>Azure App Service</strong>)?</p>\n<p>The <strong>code</strong> I am using <strong>to get the Azure Credentials</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>DefaultAzureCredential defaultCredential = new DefaultAzureCredentialBuilder().build();\n</code></pre>\n<p>but this code throws <strong>exception</strong>:</p>\n<pre><code>Result: Failure Exception: CredentialUnavailableException: EnvironmentCredential authentication unavailable. \nEnvironment variables are not fully configured.To mitigate this issue, please refer to the troubleshooting \nguidelines here at https://aka.ms/azsdk/java/identity/environmentcredential/troubleshoot Managed Identity \nauthentication is not available. SharedTokenCacheCredential authentication unavailable. No accounts were \nfound in the cache. IntelliJ Authentication not available. Please log in with Azure Tools for IntelliJ plugin \nin the IDE. AzureCliCredential authentication unavailable. Azure CLI not installed.To mitigate this issue, \nplease refer to the troubleshooting guidelines here at https://aka.ms/azsdk/java/identity/azclicredential/troubleshoot \nAzure PowerShell authentication failed using defaultpowershell(pwsh) with following error: Unable to execute \nPowerShell. Please make sure that it is installed in your system. Azure PowerShell authentication failed using powershell-core(powershell) with following error: Encountered error when deserializing response from Azure Power Shell.To mitigate this issue, please refer to the troubleshooting guidelines here at https://aka.ms/azure-identity-java-default-azure-credential-troubleshoot Stack: java.lang.reflect.InvocationTargetException at\n</code></pre>\n<p>If I try to run this <strong>locally then there is no problem</strong>, but <strong>in the Azure App Service it throws this error</strong>.</p>\n<p>Can anybody help me regarding adding the right code to get the credentials?</p>\n"},{"tags":["java","maven","karate","cucumber-java","web-api-testing"],"comments":[{"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1684735651,"post_id":76302750,"comment_id":134554496,"body_markdown":"we don&#39;t support old versions of karate so please upgrade. the linked Q&amp;A shows someone successfully running karate on maven + eclipse","body":"we don&#39;t support old versions of karate so please upgrade. the linked Q&amp;A shows someone successfully running karate on maven + eclipse"}],"owner":{"account_id":1472673,"reputation":33,"user_id":1383816,"accept_rate":20,"display_name":"sampath"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1684729493,"answer_count":0,"score":1,"last_activity_date":1684723239,"creation_date":1684723239,"question_id":76302750,"body_markdown":"Am unable to execute Karate Feature file. What am missing?\r\nAm using Eclipse IDE and trying to execute the feature file as &quot;Run As&quot; &gt;&gt; &quot;Cucumber Feature&quot;\r\n\r\nI have followed below methods but nothing is able to resolve the below error:\r\n\r\n**Method 1:**\r\nGo to Project Properties &gt;&gt; Java compiler &gt;&gt; Compiler &gt;&gt; JDK compliance level and modify to Java SE - 1.8\r\nModify to 1.7, 1.8, 14, 15 and checked\r\n\r\n**Method 2:**\r\nGo to Preferences &gt;&gt; Java &gt;&gt; Installed JREs and Preferences &gt;&gt; Java &gt;&gt; Installed JREs &gt;&gt; Execution Environments\r\nModify to JAVASE-1.7, JAVASE-1.8, JAVASE-14, JAVASE-15\r\n\r\n**Method 3:**\r\nGo to Run Configurations &gt;&gt; Runtime JRE &gt;&gt; Execution environment &gt;&gt; JAVASE-1.7, JAVASE-1.8, JAVASE-14, JAVASE-15.\r\n\r\n\r\nI have tried above 3 methods but still am receiving error as &quot;main&quot; java.lang.NoClassDefFoundError: jdk/nashorn/api/scripting/ScriptObjectMirror\r\n\r\n\r\n**pom.xml:**\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n \r\n    &lt;groupId&gt;org.sam.kdsl.pract&lt;/groupId&gt;\r\n    &lt;artifactId&gt;myproject&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n \r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;maven.compiler.version&gt;3.8.1&lt;/maven.compiler.version&gt;\r\n        &lt;!--&lt;maven.surefire.version&gt;2.22.2&lt;/maven.surefire.version&gt;--&gt;\r\n        &lt;maven.surefire.version&gt;3.0.0-M1&lt;/maven.surefire.version&gt;      \r\n        &lt;karate.version&gt;0.9.5&lt;/karate.version&gt;\r\n    &lt;/properties&gt;    \r\n\r\n    &lt;dependencies&gt;         \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.intuit.karate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;karate-junit5&lt;/artifactId&gt;\r\n            &lt;version&gt;${karate.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;com.intuit.karate&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;karate-apache&lt;/artifactId&gt;\r\n\t    &lt;version&gt;${karate.version}&lt;/version&gt;\r\n\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n   &lt;dependency&gt;\r\n    &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n    &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n    &lt;version&gt;7.12.0&lt;/version&gt;\r\n  &lt;/dependency&gt;     \t\t\r\n        \t\t\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;testResources&gt;\r\n            &lt;testResource&gt;\r\n                &lt;directory&gt;src/test/java&lt;/directory&gt;\r\n                &lt;excludes&gt;\r\n                    &lt;exclude&gt;**/*.java&lt;/exclude&gt;\r\n                &lt;/excludes&gt;\r\n            &lt;/testResource&gt;\r\n        &lt;/testResources&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven.compiler.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                    &lt;compilerArgument&gt;-Werror&lt;/compilerArgument&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven.surefire.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;argLine&gt;-Dfile.encoding=UTF-8&lt;/argLine&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;          \r\n        &lt;/plugins&gt;        \r\n    &lt;/build&gt;       \r\n    \r\n&lt;/project&gt;\r\n```\r\n\r\n**Java version**\r\n```\r\nJ:\\My Drive\\API\\Karate-DSL\\karate-dsl1&gt;echo %JAVA_HOME%\r\nC:\\Program Files\\Java\\jdk1.8.0_261\r\nJ:\\My Drive\\API\\Karate-DSL\\karate-dsl1&gt;\r\n```\r\n\r\n**Maven version**\r\n\r\n```\r\nJ:\\My Drive\\API\\Karate-DSL\\karate-dsl1&gt;mvn --version\r\nApache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f)\r\nMaven home: C:\\maven\\apache-maven-3.6.3\\bin\\..\r\nJava version: 1.8.0_261, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk1.8.0_261\\jre\r\nDefault locale: en_US, platform encoding: Cp1252\r\nOS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\r\n\r\nJ:\\My Drive\\API\\Karate-DSL\\karate-dsl1&gt;\r\n```\r\n\r\n**Error captured from Eclipse IDE Console**\r\n```\r\n\r\ncommand: J:/My Drive/API/Karate-DSL/kdsl/myproject/src/test/java/examples/users/users.feature --glue classpath: --plugin pretty --monochrome\r\n21:01:45.065 [main] INFO  com.intuit.karate.Runner - waiting for parallel features to complete ...\r\nKarate version: 0.9.5\r\n======================================================\r\nelapsed:   0.03 | threads:    1 | thread time: 0.00 \r\nfeatures:     0 | ignored:    0 | efficiency: 0.00\r\nscenarios:    0 | passed:     0 | failed: 0\r\n======================================================\r\n\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: jdk/nashorn/api/scripting/ScriptObjectMirror\r\n\tat com.intuit.karate.JsonUtils.&lt;clinit&gt;(JsonUtils.java:108)\r\n\tat com.intuit.karate.core.Engine.saveStatsJson(Engine.java:439)\r\n\tat com.intuit.karate.Runner.parallel(Runner.java:356)\r\n\tat com.intuit.karate.Runner$Builder.parallel(Runner.java:181)\r\n\tat com.intuit.karate.cli.Main.main(Main.java:66)\r\n\tat cucumber.api.cli.Main.main(Main.java:34)\r\nCaused by: java.lang.ClassNotFoundException: jdk.nashorn.api.scripting.ScriptObjectMirror\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\t... 6 more\r\n```\r\n\r\n**Feature file**\r\n```\r\nFeature: sample karate test script\r\n  for help, see: https://github.com/karatelabs/karate/wiki/IDE-Support\r\n\r\n  Background:\r\n    * url &#39;https://jsonplaceholder.typicode.com&#39;\r\n\r\n  Scenario: get all users and then get the first user by id\r\n    Given path &#39;users&#39;\r\n    When method get\r\n    Then status 200\r\n\r\n    * def first = response[0]\r\n\r\n    Given path &#39;users&#39;, first.id\r\n    When method get\r\n    Then status 200\r\n\r\n  Scenario: create a user and then get it by id\r\n    * def user =\r\n      &quot;&quot;&quot;\r\n      {\r\n        &quot;name&quot;: &quot;Test User&quot;,\r\n        &quot;username&quot;: &quot;testuser&quot;,\r\n        &quot;email&quot;: &quot;test@user.com&quot;,\r\n        &quot;address&quot;: {\r\n          &quot;street&quot;: &quot;Has No Name&quot;,\r\n          &quot;suite&quot;: &quot;Apt. 123&quot;,\r\n          &quot;city&quot;: &quot;Electri&quot;,\r\n          &quot;zipcode&quot;: &quot;54321-6789&quot;\r\n        }\r\n      }\r\n      &quot;&quot;&quot;\r\n\r\n    Given url &#39;https://jsonplaceholder.typicode.com/users&#39;\r\n    And request user\r\n    When method post\r\n    Then status 201\r\n\r\n    * def id = response.id\r\n    * print &#39;created id is: &#39;, id\r\n\r\n    Given path id\r\n    # When method get\r\n    # Then status 200\r\n    # And match response contains user\r\n  \r\n```","title":"Not able to execute Karate Feature file on windows 10","body":"<p>Am unable to execute Karate Feature file. What am missing?\nAm using Eclipse IDE and trying to execute the feature file as &quot;Run As&quot; &gt;&gt; &quot;Cucumber Feature&quot;</p>\n<p>I have followed below methods but nothing is able to resolve the below error:</p>\n<p><strong>Method 1:</strong>\nGo to Project Properties &gt;&gt; Java compiler &gt;&gt; Compiler &gt;&gt; JDK compliance level and modify to Java SE - 1.8\nModify to 1.7, 1.8, 14, 15 and checked</p>\n<p><strong>Method 2:</strong>\nGo to Preferences &gt;&gt; Java &gt;&gt; Installed JREs and Preferences &gt;&gt; Java &gt;&gt; Installed JREs &gt;&gt; Execution Environments\nModify to JAVASE-1.7, JAVASE-1.8, JAVASE-14, JAVASE-15</p>\n<p><strong>Method 3:</strong>\nGo to Run Configurations &gt;&gt; Runtime JRE &gt;&gt; Execution environment &gt;&gt; JAVASE-1.7, JAVASE-1.8, JAVASE-14, JAVASE-15.</p>\n<p>I have tried above 3 methods but still am receiving error as &quot;main&quot; java.lang.NoClassDefFoundError: jdk/nashorn/api/scripting/ScriptObjectMirror</p>\n<p><strong>pom.xml:</strong></p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n \n    &lt;groupId&gt;org.sam.kdsl.pract&lt;/groupId&gt;\n    &lt;artifactId&gt;myproject&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n \n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;maven.compiler.version&gt;3.8.1&lt;/maven.compiler.version&gt;\n        &lt;!--&lt;maven.surefire.version&gt;2.22.2&lt;/maven.surefire.version&gt;--&gt;\n        &lt;maven.surefire.version&gt;3.0.0-M1&lt;/maven.surefire.version&gt;      \n        &lt;karate.version&gt;0.9.5&lt;/karate.version&gt;\n    &lt;/properties&gt;    \n\n    &lt;dependencies&gt;         \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.intuit.karate&lt;/groupId&gt;\n            &lt;artifactId&gt;karate-junit5&lt;/artifactId&gt;\n            &lt;version&gt;${karate.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.intuit.karate&lt;/groupId&gt;\n        &lt;artifactId&gt;karate-apache&lt;/artifactId&gt;\n        &lt;version&gt;${karate.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n   &lt;dependency&gt;\n    &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n    &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n    &lt;version&gt;7.12.0&lt;/version&gt;\n  &lt;/dependency&gt;             \n                \n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;testResources&gt;\n            &lt;testResource&gt;\n                &lt;directory&gt;src/test/java&lt;/directory&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;**/*.java&lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/testResource&gt;\n        &lt;/testResources&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven.compiler.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                    &lt;compilerArgument&gt;-Werror&lt;/compilerArgument&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven.surefire.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;argLine&gt;-Dfile.encoding=UTF-8&lt;/argLine&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;          \n        &lt;/plugins&gt;        \n    &lt;/build&gt;       \n    \n&lt;/project&gt;\n</code></pre>\n<p><strong>Java version</strong></p>\n<pre><code>J:\\My Drive\\API\\Karate-DSL\\karate-dsl1&gt;echo %JAVA_HOME%\nC:\\Program Files\\Java\\jdk1.8.0_261\nJ:\\My Drive\\API\\Karate-DSL\\karate-dsl1&gt;\n</code></pre>\n<p><strong>Maven version</strong></p>\n<pre><code>J:\\My Drive\\API\\Karate-DSL\\karate-dsl1&gt;mvn --version\nApache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f)\nMaven home: C:\\maven\\apache-maven-3.6.3\\bin\\..\nJava version: 1.8.0_261, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk1.8.0_261\\jre\nDefault locale: en_US, platform encoding: Cp1252\nOS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\n\nJ:\\My Drive\\API\\Karate-DSL\\karate-dsl1&gt;\n</code></pre>\n<p><strong>Error captured from Eclipse IDE Console</strong></p>\n<pre><code>\ncommand: J:/My Drive/API/Karate-DSL/kdsl/myproject/src/test/java/examples/users/users.feature --glue classpath: --plugin pretty --monochrome\n21:01:45.065 [main] INFO  com.intuit.karate.Runner - waiting for parallel features to complete ...\nKarate version: 0.9.5\n======================================================\nelapsed:   0.03 | threads:    1 | thread time: 0.00 \nfeatures:     0 | ignored:    0 | efficiency: 0.00\nscenarios:    0 | passed:     0 | failed: 0\n======================================================\n\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: jdk/nashorn/api/scripting/ScriptObjectMirror\n    at com.intuit.karate.JsonUtils.&lt;clinit&gt;(JsonUtils.java:108)\n    at com.intuit.karate.core.Engine.saveStatsJson(Engine.java:439)\n    at com.intuit.karate.Runner.parallel(Runner.java:356)\n    at com.intuit.karate.Runner$Builder.parallel(Runner.java:181)\n    at com.intuit.karate.cli.Main.main(Main.java:66)\n    at cucumber.api.cli.Main.main(Main.java:34)\nCaused by: java.lang.ClassNotFoundException: jdk.nashorn.api.scripting.ScriptObjectMirror\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 6 more\n</code></pre>\n<p><strong>Feature file</strong></p>\n<pre><code>Feature: sample karate test script\n  for help, see: https://github.com/karatelabs/karate/wiki/IDE-Support\n\n  Background:\n    * url 'https://jsonplaceholder.typicode.com'\n\n  Scenario: get all users and then get the first user by id\n    Given path 'users'\n    When method get\n    Then status 200\n\n    * def first = response[0]\n\n    Given path 'users', first.id\n    When method get\n    Then status 200\n\n  Scenario: create a user and then get it by id\n    * def user =\n      &quot;&quot;&quot;\n      {\n        &quot;name&quot;: &quot;Test User&quot;,\n        &quot;username&quot;: &quot;testuser&quot;,\n        &quot;email&quot;: &quot;test@user.com&quot;,\n        &quot;address&quot;: {\n          &quot;street&quot;: &quot;Has No Name&quot;,\n          &quot;suite&quot;: &quot;Apt. 123&quot;,\n          &quot;city&quot;: &quot;Electri&quot;,\n          &quot;zipcode&quot;: &quot;54321-6789&quot;\n        }\n      }\n      &quot;&quot;&quot;\n\n    Given url 'https://jsonplaceholder.typicode.com/users'\n    And request user\n    When method post\n    Then status 201\n\n    * def id = response.id\n    * print 'created id is: ', id\n\n    Given path id\n    # When method get\n    # Then status 200\n    # And match response contains user\n  \n</code></pre>\n"},{"tags":["java","selenium","webdriver"],"comments":[{"owner":{"account_id":9978796,"reputation":2603,"user_id":7382406,"accept_rate":75,"display_name":"Jainish Kapadia"},"score":0,"creation_date":1491196398,"post_id":43171988,"comment_id":73427294,"body_markdown":"Can you please explain why won&#39;t use your driver as static?","body":"Can you please explain why won&#39;t use your driver as static?"}],"answers":[{"tags":[],"owner":{"account_id":10427913,"reputation":967,"user_id":7688585,"display_name":"Akarsh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491185207,"creation_date":1491159703,"answer_id":43172323,"question_id":43171988,"body_markdown":"Initialize web driver in base class constructor and extend Base class in Test class then assign driver to Base.driver.\r\n\r\nTry below code\r\n\r\n**Base Class:**\r\n\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n\r\n    public class Base \r\n    {\r\n    public WebDriver driver;\r\n\r\n    public Base(){\r\n    \tdriver = new ChromeDriver();\r\n    }\r\n    }\r\n\r\n\r\n**UseFunction class:**\r\n\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n\r\n    public class useFunction\r\n     {\r\n\t     WebDriver driver;\r\n\r\n      public useFunction(WebDriver driver)\r\n      {\r\n        this.driver = driver;\r\n      }\r\n\r\n      public void func1()\r\n      {\r\n        driver.findElement(By.id(&quot;id of the element&quot;)).click(); \r\n      }\r\n      }\r\n**Test1 class:**\r\n\r\n    import org.testng.annotations.Test;\r\n\r\n    public class Test1{\r\n\r\n\t@Test\r\n\tpublic void testMethod1()\r\n\t{\r\n\t\tBase base = new Base();\r\n\t\tuseFunction funObj = new useFunction(base.driver);\r\n\t\tfunObj.func1(); \r\n\r\n\t}\r\n    }\r\n\r\nTry it and let me know if it works for you\r\n","title":"How to use the initialized Webdriver instance from Base class to child class java","body":"<p>Initialize web driver in base class constructor and extend Base class in Test class then assign driver to Base.driver.</p>\n\n<p>Try below code</p>\n\n<p><strong>Base Class:</strong></p>\n\n<pre><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class Base \n{\npublic WebDriver driver;\n\npublic Base(){\n    driver = new ChromeDriver();\n}\n}\n</code></pre>\n\n<p><strong>UseFunction class:</strong></p>\n\n<pre><code>import org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\n\npublic class useFunction\n {\n     WebDriver driver;\n\n  public useFunction(WebDriver driver)\n  {\n    this.driver = driver;\n  }\n\n  public void func1()\n  {\n    driver.findElement(By.id(\"id of the element\")).click(); \n  }\n  }\n</code></pre>\n\n<p><strong>Test1 class:</strong></p>\n\n<pre><code>import org.testng.annotations.Test;\n\npublic class Test1{\n\n@Test\npublic void testMethod1()\n{\n    Base base = new Base();\n    useFunction funObj = new useFunction(base.driver);\n    funObj.func1(); \n\n}\n}\n</code></pre>\n\n<p>Try it and let me know if it works for you</p>\n"},{"tags":[],"owner":{"account_id":26153184,"reputation":1,"user_id":19840815,"display_name":"Nitin Navadiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684720973,"creation_date":1684439274,"answer_id":76284009,"question_id":43171988,"body_markdown":"\r\n```\r\npublic WebDriver Base() {\r\n\r\n  WebDriverManager.edgedriver().setup(); //Change for Chrome.\r\n\r\n\tEdgeOptions options = new EdgeOptions();\r\n\toptions.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n\r\n\tWebDriver ed = new EdgeDriver(options);\r\n\ted.manage().window().maximize();\r\n\ted.manage().timeouts().implicitlyWait(Duration.ofSeconds(30));\r\n\r\n\treturn ed;\r\n}\r\n```\r\n\r\nTest1:\r\n\r\n```\r\npublic class Test1 extends Base {\r\n\r\n\tpublic void Test1_TestNG() throws InterruptedException {\r\n\r\n\t\tWebDriver ed = Base();\r\n\t\ted.manage().timeouts().implicitlyWait(Duration.ofSeconds(30));\r\n\t}\t\r\n}\r\n```\r\nNow you can use &quot;ed&quot; WebDriver for any methods (OR) further Web Based automation, by simply calling &quot;ed&quot; WebDriver.","title":"How to use the initialized Webdriver instance from Base class to child class java","body":"<pre><code>public WebDriver Base() {\n\n  WebDriverManager.edgedriver().setup(); //Change for Chrome.\n\n    EdgeOptions options = new EdgeOptions();\n    options.addArguments(&quot;--remote-allow-origins=*&quot;);\n\n    WebDriver ed = new EdgeDriver(options);\n    ed.manage().window().maximize();\n    ed.manage().timeouts().implicitlyWait(Duration.ofSeconds(30));\n\n    return ed;\n}\n</code></pre>\n<p>Test1:</p>\n<pre><code>public class Test1 extends Base {\n\n    public void Test1_TestNG() throws InterruptedException {\n\n        WebDriver ed = Base();\n        ed.manage().timeouts().implicitlyWait(Duration.ofSeconds(30));\n    }   \n}\n</code></pre>\n<p>Now you can use &quot;ed&quot; WebDriver for any methods (OR) further Web Based automation, by simply calling &quot;ed&quot; WebDriver.</p>\n"}],"owner":{"account_id":4417825,"reputation":1,"user_id":3598844,"display_name":"user3598844"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6866,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1684720973,"creation_date":1491157645,"question_id":43171988,"body_markdown":"    public class Base \r\n    {\r\n        public WebDriver driver;\r\n        \r\n        @BeforeMethod \r\n        public void setUp()\r\n        {\r\n            driver = new FirefoxDriver();\r\n        }\r\n    \r\n    }\r\n    \r\n    public class useFunction extends Base\r\n    {\r\n       \r\n        public useFunction(WebDriver driver)\r\n        {\r\n            this.driver = driver;\r\n        }\r\n    \r\n        public void func1()\r\n        {\r\n            driver.findElement().click();  //driver is null\r\n            --------\r\n            ---------\r\n        }\r\n    }\r\n    \r\n    Public class Test extends Base\r\n    {\r\n        useFunction funObj = new useFunction(driver);\r\n        @Test\r\n        public void testMethod1()\r\n       {\r\n           funObj.func1();\r\n           ----\r\n           ------ \r\n         \r\n      }\r\n    }\r\n\r\n**How can i use the initialized value of WebDriver instance in `UseFunction class` without declaring the Webdriver instance as static.** When i pass the driver in constructor of `UseFunction class` while creating its object inside `Test class`, getting Null Pointer Exception","title":"How to use the initialized Webdriver instance from Base class to child class java","body":"<pre><code>public class Base \n{\n    public WebDriver driver;\n\n    @BeforeMethod \n    public void setUp()\n    {\n        driver = new FirefoxDriver();\n    }\n\n}\n\npublic class useFunction extends Base\n{\n\n    public useFunction(WebDriver driver)\n    {\n        this.driver = driver;\n    }\n\n    public void func1()\n    {\n        driver.findElement().click();  //driver is null\n        --------\n        ---------\n    }\n}\n\nPublic class Test extends Base\n{\n    useFunction funObj = new useFunction(driver);\n    @Test\n    public void testMethod1()\n   {\n       funObj.func1();\n       ----\n       ------ \n\n  }\n}\n</code></pre>\n\n<p><strong>How can i use the initialized value of WebDriver instance in <code>UseFunction class</code> without declaring the Webdriver instance as static.</strong> When i pass the driver in constructor of <code>UseFunction class</code> while creating its object inside <code>Test class</code>, getting Null Pointer Exception</p>\n"},{"tags":["java","spring","spring-boot","thymeleaf","lazy-loading"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684740243,"post_id":76302636,"comment_id":134555276,"body_markdown":"server side rendering only applies to the HTML not the images. Those are still downloaded by the browser after is receives the HTML. But I would suggest to reconsider rendering a page with all your projects, instead use pages and render say 50 and include a search box to limit the ones you want to view.","body":"server side rendering only applies to the HTML not the images. Those are still downloaded by the browser after is receives the HTML. But I would suggest to reconsider rendering a page with all your projects, instead use pages and render say 50 and include a search box to limit the ones you want to view."}],"owner":{"account_id":15525089,"reputation":99,"user_id":11200149,"display_name":"NoobSailboat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684720541,"creation_date":1684720541,"question_id":76302636,"body_markdown":"**TLDR: I store *images* on a server with their *location* as a string on the *DB*. How can I *lazy* load these images in a *Thymeleaf* HTML page if I have a lot of images? How I access my images: `&lt;img th:src=&quot;@{${project.imagePath}}&quot;&gt;`**\r\n\r\nI understand lazy loading when it comes to something like: `@OneToMany(fetch = FetchType.LAZY, mappedBy=&quot;...&quot;, cascade=...)`. If you have a Restaurant then you may want to lazy load Reviews. My question is a bit different.\r\n\r\nI have a model `Project(id, name, description, imagePath, ...)` with a MySQL table associated with it. Images are stored in the local directory/server directory and the location of the image is stored on the Project table as a string. I then use `&lt;img th:src=&quot;@{${project.imagePath}}&quot;&gt;` in Thymeleaf to display the image in the browser.\r\n\r\nThese Projects are added as a `List&lt;Project&gt;` to the Model. `model.addAttribute(&quot;projects&quot;, projectRepository.findAll());` Then in Thymeleaf I loop over the `projects` object and display each `project`. \r\n\r\nBasic HTML/Thymeleaf:\r\n``` \r\n\t&lt;div th:each=&quot;project : ${projects}&quot; class=&quot;col&quot;&gt;\r\n\t\t&lt;img th:src=&quot;@{${project.imagePath}}&quot;&gt;\t\r\n\t\t&lt;h1 th:text=&quot;${project.name}&quot;&gt;&lt;/h1&gt;\r\n\t\t&lt;p class=&quot;project-description-text&quot; th:text=&quot;${project.description}&quot;&gt;&lt;/p&gt;\t\t\t\t\t\r\n\t&lt;/div&gt; \r\n```\r\n\r\nIf I have 500+ **projects** with their own corresponding **images** that will take a lot of time to load the page and the user won&#39;t see the first images on their screen let alone the ones they have to scroll for without waiting too long. I know separate the projects by pages, but is there a way to just load the images as the user scrolls down. \r\n\r\nI&#39;ve read about [loading=&quot;lazy&quot;][1]. I could understand that may work if my &lt;img&gt; tag src was a link tag to another page, **but will *loading=&quot;lazy&quot;* work with *server-side rendering* as the one Thymeleaf does and *the way I store my images*?** What could be a possible solution for my case?\r\n\r\nThank you! &lt;3\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/Performance/Lazy_loading","title":"Lazy Load Images using Spring Boot &amp; Thymeleaf","body":"<p><strong>TLDR: I store <em>images</em> on a server with their <em>location</em> as a string on the <em>DB</em>. How can I <em>lazy</em> load these images in a <em>Thymeleaf</em> HTML page if I have a lot of images? How I access my images: <code>&lt;img th:src=&quot;@{${project.imagePath}}&quot;&gt;</code></strong></p>\n<p>I understand lazy loading when it comes to something like: <code>@OneToMany(fetch = FetchType.LAZY, mappedBy=&quot;...&quot;, cascade=...)</code>. If you have a Restaurant then you may want to lazy load Reviews. My question is a bit different.</p>\n<p>I have a model <code>Project(id, name, description, imagePath, ...)</code> with a MySQL table associated with it. Images are stored in the local directory/server directory and the location of the image is stored on the Project table as a string. I then use <code>&lt;img th:src=&quot;@{${project.imagePath}}&quot;&gt;</code> in Thymeleaf to display the image in the browser.</p>\n<p>These Projects are added as a <code>List&lt;Project&gt;</code> to the Model. <code>model.addAttribute(&quot;projects&quot;, projectRepository.findAll());</code> Then in Thymeleaf I loop over the <code>projects</code> object and display each <code>project</code>.</p>\n<p>Basic HTML/Thymeleaf:</p>\n<pre><code>    &lt;div th:each=&quot;project : ${projects}&quot; class=&quot;col&quot;&gt;\n        &lt;img th:src=&quot;@{${project.imagePath}}&quot;&gt;  \n        &lt;h1 th:text=&quot;${project.name}&quot;&gt;&lt;/h1&gt;\n        &lt;p class=&quot;project-description-text&quot; th:text=&quot;${project.description}&quot;&gt;&lt;/p&gt;                   \n    &lt;/div&gt; \n</code></pre>\n<p>If I have 500+ <strong>projects</strong> with their own corresponding <strong>images</strong> that will take a lot of time to load the page and the user won't see the first images on their screen let alone the ones they have to scroll for without waiting too long. I know separate the projects by pages, but is there a way to just load the images as the user scrolls down.</p>\n<p>I've read about <a href=\"https://developer.mozilla.org/en-US/docs/Web/Performance/Lazy_loading\" rel=\"nofollow noreferrer\">loading=&quot;lazy&quot;</a>. I could understand that may work if my  tag src was a link tag to another page, <strong>but will <em>loading=&quot;lazy&quot;</em> work with <em>server-side rendering</em> as the one Thymeleaf does and <em>the way I store my images</em>?</strong> What could be a possible solution for my case?</p>\n<p>Thank you! &lt;3</p>\n"},{"tags":["java","spring","unit-testing","spring-cloud-contract"],"answers":[{"tags":[],"owner":{"account_id":1976110,"reputation":10792,"user_id":1773866,"display_name":"Marcin Grzejszczak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649689068,"creation_date":1649689068,"answer_id":71830022,"question_id":71754132,"body_markdown":"You can turn on the array size check. Check the docs https://docs.spring.io/spring-cloud-contract/docs/current/reference/html/project-features.html#contract-limitations . For your convenience I&#39;m copying the part of the docs\r\n\r\n&gt;  The support for verifying the size of JSON arrays is experimental. If you want to turn it on, set the value of the following system property to true: spring.cloud.contract.verifier.assert.size. By default, this feature is set to false. You can also set the assertJsonSize property in the plugin configuration. ","title":"Spring Cloud Contract generates weak tests using bodyFromFile in contract file","body":"<p>You can turn on the array size check. Check the docs <a href=\"https://docs.spring.io/spring-cloud-contract/docs/current/reference/html/project-features.html#contract-limitations\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-cloud-contract/docs/current/reference/html/project-features.html#contract-limitations</a> . For your convenience I'm copying the part of the docs</p>\n<blockquote>\n<p>The support for verifying the size of JSON arrays is experimental. If you want to turn it on, set the value of the following system property to true: spring.cloud.contract.verifier.assert.size. By default, this feature is set to false. You can also set the assertJsonSize property in the plugin configuration.</p>\n</blockquote>\n"}],"owner":{"account_id":3775646,"reputation":133,"user_id":3136557,"display_name":"Roman Maksimenko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684719716,"creation_date":1649171056,"question_id":71754132,"body_markdown":"I try to implement simple contract for `get users` REST Endpoit. I expect that Spring Cloud Contract generates test whitch checks json response more strongly. Can anyone know how to configure test generator?  \r\nMy contract `yaml` file here:\r\n```description: |\r\n  Get Users contract\r\nrequest:\r\n  method: GET\r\n  url: /users\r\n  headers:\r\n    Content-Type: application/json\r\nresponse:\r\n  status: 200\r\n  bodyFromFile: get_users_response.json\r\n  headers:\r\n    Content-Type: application/json\r\n```\r\nand `get_users_response.json`:\r\n```\r\n[\r\n  {\r\n    &quot;id&quot;: 1,\r\n    &quot;name&quot;: &quot;User1&quot;\r\n  },\r\n  {\r\n    &quot;id&quot;: 2,\r\n    &quot;name&quot;: &quot;User2&quot;\r\n  }\r\n]\r\n```\r\nSpring Cloud Contract generates:\r\n```\r\n...\r\nassertThatJson(parsedJson).array().contains(&quot;[&#39;id&#39;]&quot;).isEqualTo(1);\r\nassertThatJson(parsedJson).array().contains(&quot;[&#39;name&#39;]&quot;).isEqualTo(&quot;User1&quot;);\r\nassertThatJson(parsedJson).array().contains(&quot;[&#39;id&#39;]&quot;).isEqualTo(2);\r\nassertThatJson(parsedJson).array().contains(&quot;[&#39;name&#39;]&quot;).isEqualTo(&quot;User2&quot;);\r\n...\r\n```\r\nBut I assumed something like this:\r\n```\r\n//check the correspondent element\r\nassertThatJson(parsedJson).elementWithIndex(0).field(&quot;[&#39;id&#39;]&quot;).isEqualTo(1);\r\nassertThatJson(parsedJson).elementWithIndex(0).field(&quot;[&#39;name&#39;]&quot;).isEqualTo(&quot;&quot;);\r\nassertThatJson(parsedJson).elementWithIndex(1).field(&quot;[&#39;id&#39;]&quot;).isEqualTo(2);\r\nassertThatJson(parsedJson).elementWithIndex(1).field(&quot;[name&#39;]&quot;).isEqualTo(1);\r\n//and check array size\r\nassertThatJson(parsedJson).array().hasSize(2);\r\n```\r\n","title":"Spring Cloud Contract generates weak tests using bodyFromFile in contract file","body":"<p>I try to implement simple contract for <code>get users</code> REST Endpoit. I expect that Spring Cloud Contract generates test whitch checks json response more strongly. Can anyone know how to configure test generator?<br />\nMy contract <code>yaml</code> file here:</p>\n<pre><code>  Get Users contract\nrequest:\n  method: GET\n  url: /users\n  headers:\n    Content-Type: application/json\nresponse:\n  status: 200\n  bodyFromFile: get_users_response.json\n  headers:\n    Content-Type: application/json\n</code></pre>\n<p>and <code>get_users_response.json</code>:</p>\n<pre><code>[\n  {\n    &quot;id&quot;: 1,\n    &quot;name&quot;: &quot;User1&quot;\n  },\n  {\n    &quot;id&quot;: 2,\n    &quot;name&quot;: &quot;User2&quot;\n  }\n]\n</code></pre>\n<p>Spring Cloud Contract generates:</p>\n<pre><code>...\nassertThatJson(parsedJson).array().contains(&quot;['id']&quot;).isEqualTo(1);\nassertThatJson(parsedJson).array().contains(&quot;['name']&quot;).isEqualTo(&quot;User1&quot;);\nassertThatJson(parsedJson).array().contains(&quot;['id']&quot;).isEqualTo(2);\nassertThatJson(parsedJson).array().contains(&quot;['name']&quot;).isEqualTo(&quot;User2&quot;);\n...\n</code></pre>\n<p>But I assumed something like this:</p>\n<pre><code>//check the correspondent element\nassertThatJson(parsedJson).elementWithIndex(0).field(&quot;['id']&quot;).isEqualTo(1);\nassertThatJson(parsedJson).elementWithIndex(0).field(&quot;['name']&quot;).isEqualTo(&quot;&quot;);\nassertThatJson(parsedJson).elementWithIndex(1).field(&quot;['id']&quot;).isEqualTo(2);\nassertThatJson(parsedJson).elementWithIndex(1).field(&quot;[name']&quot;).isEqualTo(1);\n//and check array size\nassertThatJson(parsedJson).array().hasSize(2);\n</code></pre>\n"},{"tags":["java","swing","jcombobox"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1684697976,"post_id":76301046,"comment_id":134551243,"body_markdown":"note: null layout (along with hard-coding sizes/locationsl is __wrong__","body":"note: null layout (along with hard-coding sizes/locationsl is <b>wrong</b>"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1684704935,"post_id":76301046,"comment_id":134551928,"body_markdown":"Why?  So many questions.  How do you intend to display the selected item to the user?  I&#39;d consider starting with just a button and working up a custom solution from there","body":"Why?  So many questions.  How do you intend to display the selected item to the user?  I&#39;d consider starting with just a button and working up a custom solution from there"},{"owner":{"account_id":28648645,"reputation":3,"user_id":21936091,"display_name":"Bufflak"},"score":0,"creation_date":1684706075,"post_id":76301046,"comment_id":134552020,"body_markdown":"@MadProgrammer The selected item will be displayed to the user somewhere else. The reason i didn&#39;t want a custom solution is because i assumed there is an easy way to override either the size of the editor and set it to &quot;0&quot;, or disable it completely.\nI did try to set it&#39;s size by overriding the configureEditor method, but that didn&#39;t help.","body":"@MadProgrammer The selected item will be displayed to the user somewhere else. The reason i didn&#39;t want a custom solution is because i assumed there is an easy way to override either the size of the editor and set it to &quot;0&quot;, or disable it completely. I did try to set it&#39;s size by overriding the configureEditor method, but that didn&#39;t help."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1684706451,"post_id":76301046,"comment_id":134552061,"body_markdown":"Consider the intend of the component.  It&#39;s designed to be a compound component which shows the currently selected &quot;selected item&quot; and provide a means for the user to select a different item, all in a visually compact manner.  It&#39;s a self contained package, so, no I don&#39;t think there&#39;d be an easy way to simply break it - especially when you also add in the UI delegate, which could easily implement the functionality it&#39;s own way.  Personally, I&#39;d just start with a button `[...]` and go from there, but I&#39;d still have questions over it&#39;s usefulness and UX acceptability from the users perspective","body":"Consider the intend of the component.  It&#39;s designed to be a compound component which shows the currently selected &quot;selected item&quot; and provide a means for the user to select a different item, all in a visually compact manner.  It&#39;s a self contained package, so, no I don&#39;t think there&#39;d be an easy way to simply break it - especially when you also add in the UI delegate, which could easily implement the functionality it&#39;s own way.  Personally, I&#39;d just start with a button <code>[...]</code> and go from there, but I&#39;d still have questions over it&#39;s usefulness and UX acceptability from the users perspective"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1684714264,"post_id":76301046,"comment_id":134552699,"body_markdown":"One idea is to use a `JButton` and a [Popup](https://docs.oracle.com/javase/8/docs/api/javax/swing/Popup.html) together.","body":"One idea is to use a <code>JButton</code> and a <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/Popup.html\" rel=\"nofollow noreferrer\">Popup</a> together."}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684719305,"creation_date":1684719305,"answer_id":76302598,"question_id":76301046,"body_markdown":"I created the following GUI using a `JButton` and a `Popup` from the `PopupFactory`.\r\n\r\n[![Example][1]][1]\r\n\r\nThere&#39;s a `JLabel` at the top to show the selection and a `JButton` to show the item options.  Unfortunately, I couldn&#39;t print the GUI when the item list is displayed.\r\n\r\nWhen you left-click the `JButton`, the list of items appear under the `JButton`.  When you select an item, the list disappears and the selected item is displayed.\r\n\r\nThis is a proof of concept.  You would need to add code to hide the list when the Esc key is pressed to cancel the list, as one example.\r\n\r\nHere&#39;s the complete runnable code.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Dimension;\r\n    import java.awt.FlowLayout;\r\n    import java.awt.Point;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JList;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.ListSelectionModel;\r\n    import javax.swing.Popup;\r\n    import javax.swing.PopupFactory;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class ItemSelectorExample implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new ItemSelectorExample());\r\n    \t}\r\n    \r\n    \tprivate int margin;\r\n    \r\n    \tprivate JButton button;\r\n    \r\n    \tprivate JFrame frame;\r\n    \r\n    \tprivate JLabel label;\r\n    \r\n    \tprivate JPanel buttonPanel;\r\n    \r\n    \tprivate Popup popup;\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tthis.margin = 5;\r\n    \r\n    \t\tframe = new JFrame();\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \t\tthis.buttonPanel = createButtonPanel();\r\n    \t\tframe.add(buttonPanel, BorderLayout.CENTER);\r\n    \r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tprivate JPanel createButtonPanel() {\r\n    \t\tJPanel panel = new JPanel(new BorderLayout());\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(margin, margin, margin,\r\n    \t\t\t\tmargin));\r\n    \r\n    \t\tlabel = new JLabel(&quot; &quot;);\r\n    \t\tpanel.add(label, BorderLayout.NORTH);\r\n    \r\n    \t\tbutton = new JButton(&quot;Items&quot;);\r\n    \t\tbutton.addActionListener(event -&gt; {\r\n    \t\t\tpopup = createItemSelectionPanel();\r\n    \t\t\tpopup.show();\r\n    \t\t});\r\n    \t\tpanel.add(button, BorderLayout.CENTER);\r\n    \r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    \tprivate Popup createItemSelectionPanel() {\r\n    \t\tJPanel panel = new JPanel(new FlowLayout());\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(margin, margin, margin,\r\n    \t\t\t\tmargin));\r\n    \r\n    \t\tString[] items = new String[9];\r\n    \t\tfor (int index = 0; index &lt; items.length; index++) {\r\n    \t\t\titems[index] = &quot;Item &quot; + (index + 1);\r\n    \t\t}\r\n    \r\n    \t\tJList&lt;String&gt; list = new JList&lt;&gt;(items);\r\n    \t\tlist.setVisibleRowCount(4);\r\n    \t\tlist.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\r\n    \t\tlist.addListSelectionListener(event -&gt; {\r\n    \t\t\tString item = (String) list.getSelectedValue();\r\n    \t\t\tlabel.setText(item);\r\n    \t\t\tpopup.hide();\r\n    \t\t});\r\n    \t\tJScrollPane scrollPane = new JScrollPane(list);\r\n    \t\tDimension sp = scrollPane.getPreferredSize();\r\n    \t\tDimension bp = buttonPanel.getSize();\r\n    \t\tDimension b = button.getPreferredSize();\r\n    \t\tPoint s = button.getLocationOnScreen();\r\n    \r\n    \t\tint width = bp.width - margin - margin;\r\n    \t\tscrollPane.setPreferredSize(new Dimension(width, sp.height));\r\n    \r\n    \t\tPopupFactory factory = PopupFactory.getSharedInstance();\r\n    \t\tPopup popup = factory.getPopup(panel, scrollPane, s.x, s.y + b.height);\r\n    \r\n    \t\treturn popup;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TYfVo.png\r\n","title":"JComboBox how to remove editor","body":"<p>I created the following GUI using a <code>JButton</code> and a <code>Popup</code> from the <code>PopupFactory</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/TYfVo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TYfVo.png\" alt=\"Example\" /></a></p>\n<p>There's a <code>JLabel</code> at the top to show the selection and a <code>JButton</code> to show the item options.  Unfortunately, I couldn't print the GUI when the item list is displayed.</p>\n<p>When you left-click the <code>JButton</code>, the list of items appear under the <code>JButton</code>.  When you select an item, the list disappears and the selected item is displayed.</p>\n<p>This is a proof of concept.  You would need to add code to hide the list when the Esc key is pressed to cancel the list, as one example.</p>\n<p>Here's the complete runnable code.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport java.awt.FlowLayout;\nimport java.awt.Point;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JList;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.ListSelectionModel;\nimport javax.swing.Popup;\nimport javax.swing.PopupFactory;\nimport javax.swing.SwingUtilities;\n\npublic class ItemSelectorExample implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new ItemSelectorExample());\n    }\n\n    private int margin;\n\n    private JButton button;\n\n    private JFrame frame;\n\n    private JLabel label;\n\n    private JPanel buttonPanel;\n\n    private Popup popup;\n\n    @Override\n    public void run() {\n        this.margin = 5;\n\n        frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        this.buttonPanel = createButtonPanel();\n        frame.add(buttonPanel, BorderLayout.CENTER);\n\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JPanel createButtonPanel() {\n        JPanel panel = new JPanel(new BorderLayout());\n        panel.setBorder(BorderFactory.createEmptyBorder(margin, margin, margin,\n                margin));\n\n        label = new JLabel(&quot; &quot;);\n        panel.add(label, BorderLayout.NORTH);\n\n        button = new JButton(&quot;Items&quot;);\n        button.addActionListener(event -&gt; {\n            popup = createItemSelectionPanel();\n            popup.show();\n        });\n        panel.add(button, BorderLayout.CENTER);\n\n        return panel;\n    }\n\n    private Popup createItemSelectionPanel() {\n        JPanel panel = new JPanel(new FlowLayout());\n        panel.setBorder(BorderFactory.createEmptyBorder(margin, margin, margin,\n                margin));\n\n        String[] items = new String[9];\n        for (int index = 0; index &lt; items.length; index++) {\n            items[index] = &quot;Item &quot; + (index + 1);\n        }\n\n        JList&lt;String&gt; list = new JList&lt;&gt;(items);\n        list.setVisibleRowCount(4);\n        list.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\n        list.addListSelectionListener(event -&gt; {\n            String item = (String) list.getSelectedValue();\n            label.setText(item);\n            popup.hide();\n        });\n        JScrollPane scrollPane = new JScrollPane(list);\n        Dimension sp = scrollPane.getPreferredSize();\n        Dimension bp = buttonPanel.getSize();\n        Dimension b = button.getPreferredSize();\n        Point s = button.getLocationOnScreen();\n\n        int width = bp.width - margin - margin;\n        scrollPane.setPreferredSize(new Dimension(width, sp.height));\n\n        PopupFactory factory = PopupFactory.getSharedInstance();\n        Popup popup = factory.getPopup(panel, scrollPane, s.x, s.y + b.height);\n\n        return popup;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":28648645,"reputation":3,"user_id":21936091,"display_name":"Bufflak"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76302598,"answer_count":1,"score":-1,"last_activity_date":1684719305,"creation_date":1684689005,"question_id":76301046,"body_markdown":"I want to remove the editor from a JComboBox to make the arrow button span \r\nthe entire width of the box.\r\n\r\nI tried to use a custom ComboBoxUI to set the size and color of the arrow button.\r\nThis partially works, but because i couldn&#39;t figure out how to remove the editor, \r\nthe button is only half the width of the entire box.\r\n\r\n**The main class:**\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\npublic class Box {\r\n\tpublic Box() {\r\n\r\n\t\tJFrame frame = new JFrame(&quot;frame&quot;);\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.setSize(400,250);\r\n\r\n\t\tJPanel panel = new JPanel();\r\n\t\tpanel.setLayout(null);\r\n\t\tframe.add(panel);\r\n\r\n\t\tString[] items = { &quot;&quot;, &quot;item1&quot;, &quot;item2&quot;, &quot;item3&quot;, &quot;item4&quot; };\r\n\t\tJComboBox&lt;String&gt; box = new JComboBox&lt;&gt;(items);\r\n\t\tbox.setBounds(100,20,200,50);\r\n\t\tUIManager.put(&quot;ComboBox.squareButton&quot;, Boolean.FALSE);\r\n\t\tbox.setUI(new ComboUI());\r\n\t\tbox.setBorder(BorderFactory.createMatteBorder(2,2,2,2, Color.BLACK));\r\n\t\tpanel.add(box);\r\n\r\n\t\tframe.setVisible(true);\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t}\r\n\tpublic static void main(String[] args) {\r\n\t\tnew Box();\r\n\t}\r\n}\r\n\r\n```\r\n\r\n**And the custom ComboBoxUI:**\r\n\r\n\r\n```\r\nimport javax.swing.*;\r\nimport javax.swing.plaf.basic.BasicComboBoxUI;\r\nimport java.awt.*;\r\npublic class ComboUI extends BasicComboBoxUI {\r\n\t\t@Override\r\n\t\tprotected JButton createArrowButton() {\r\n\t\t\tfinal JButton button = new JButton(&quot;Items&quot;);\r\n\t\t\tbutton.setBackground(Color.GRAY);\r\n\t\t\tbutton.setForeground(Color.WHITE);\r\n\t\t\tbutton.setBounds(0,0, 200,40);\r\n\t\t\treturn button;\r\n\t\t}\r\n\t}\r\n```\r\n\r\nThis code results in this:\r\n\r\nArrow button half the size of combo box&quot;\r\n\r\n[![https://i.stack.imgur.com/vxCd4.png][1]][1]\r\n\r\nWhat i would like instead is this:\r\n\r\nArrow button same size as combo box:\r\n\r\n[![https://i.stack.imgur.com/VsTGv.png][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vxCd4.png\r\n  [2]: https://i.stack.imgur.com/VsTGv.png","title":"JComboBox how to remove editor","body":"<p>I want to remove the editor from a JComboBox to make the arrow button span\nthe entire width of the box.</p>\n<p>I tried to use a custom ComboBoxUI to set the size and color of the arrow button.\nThis partially works, but because i couldn't figure out how to remove the editor,\nthe button is only half the width of the entire box.</p>\n<p><strong>The main class:</strong></p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\npublic class Box {\n    public Box() {\n\n        JFrame frame = new JFrame(&quot;frame&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(400,250);\n\n        JPanel panel = new JPanel();\n        panel.setLayout(null);\n        frame.add(panel);\n\n        String[] items = { &quot;&quot;, &quot;item1&quot;, &quot;item2&quot;, &quot;item3&quot;, &quot;item4&quot; };\n        JComboBox&lt;String&gt; box = new JComboBox&lt;&gt;(items);\n        box.setBounds(100,20,200,50);\n        UIManager.put(&quot;ComboBox.squareButton&quot;, Boolean.FALSE);\n        box.setUI(new ComboUI());\n        box.setBorder(BorderFactory.createMatteBorder(2,2,2,2, Color.BLACK));\n        panel.add(box);\n\n        frame.setVisible(true);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    }\n    public static void main(String[] args) {\n        new Box();\n    }\n}\n\n</code></pre>\n<p><strong>And the custom ComboBoxUI:</strong></p>\n<pre><code>import javax.swing.*;\nimport javax.swing.plaf.basic.BasicComboBoxUI;\nimport java.awt.*;\npublic class ComboUI extends BasicComboBoxUI {\n        @Override\n        protected JButton createArrowButton() {\n            final JButton button = new JButton(&quot;Items&quot;);\n            button.setBackground(Color.GRAY);\n            button.setForeground(Color.WHITE);\n            button.setBounds(0,0, 200,40);\n            return button;\n        }\n    }\n</code></pre>\n<p>This code results in this:</p>\n<p>Arrow button half the size of combo box&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/vxCd4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vxCd4.png\" alt=\"https://i.stack.imgur.com/vxCd4.png\" /></a></p>\n<p>What i would like instead is this:</p>\n<p>Arrow button same size as combo box:</p>\n<p><a href=\"https://i.stack.imgur.com/VsTGv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VsTGv.png\" alt=\"https://i.stack.imgur.com/VsTGv.png\" /></a></p>\n"},{"tags":["java","swing","jpanel","awt"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1684716332,"post_id":76302467,"comment_id":134552867,"body_markdown":"`JLayeredPane` doesn&#39;t have a layout manager applied by default, so none of the components will be give any kind of sizing (default `0x0`); `File directory = new File(&quot;src/bin/&quot;);` &lt;- Don&#39;t reference `src` in your code, it won&#39;t exist once you export the project.","body":"<code>JLayeredPane</code> doesn&#39;t have a layout manager applied by default, so none of the components will be give any kind of sizing (default <code>0x0</code>); <code>File directory = new File(&quot;src&#47;bin&#47;&quot;);</code> &lt;- Don&#39;t reference <code>src</code> in your code, it won&#39;t exist once you export the project."},{"owner":{"account_id":25481264,"reputation":193,"user_id":19277574,"display_name":"fullstacknoob"},"score":0,"creation_date":1684716560,"post_id":76302467,"comment_id":134552886,"body_markdown":"@MadProgrammer when trying to apply a layout manager by doing e.g. `layeredPane.setLayout(new BorderLayout());` I get an error saying `cannot add to layout: constraint must be a string (or null)` which references the second parameter of `layeredPane.add(background, Integer.valueOf(0));`. can you pls explain what you mean by the `src` not existing once i export the project?","body":"@MadProgrammer when trying to apply a layout manager by doing e.g. <code>layeredPane.setLayout(new BorderLayout());</code> I get an error saying <code>cannot add to layout: constraint must be a string (or null)</code> which references the second parameter of <code>layeredPane.add(background, Integer.valueOf(0));</code>. can you pls explain what you mean by the <code>src</code> not existing once i export the project?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1684716563,"post_id":76302467,"comment_id":134552887,"body_markdown":"No need to use a JLayeredPane. Just use your BackgroundImage component as the content pane (with a BorderLayout) and add your panel with the CardLayout to the content pane. Of course an component you add to the content pane must use `setOpaque(false)` so you can see the background image. Also the panels you add to the CardLayout must be non-opaque.","body":"No need to use a JLayeredPane. Just use your BackgroundImage component as the content pane (with a BorderLayout) and add your panel with the CardLayout to the content pane. Of course an component you add to the content pane must use <code>setOpaque(false)</code> so you can see the background image. Also the panels you add to the CardLayout must be non-opaque."},{"owner":{"account_id":25481264,"reputation":193,"user_id":19277574,"display_name":"fullstacknoob"},"score":0,"creation_date":1684716758,"post_id":76302467,"comment_id":134552899,"body_markdown":"@camickr could you please show me how you would apply your solution in an answer? i tried applying what you wrote which made the background image show up but the JPanel cards are still not showing up. the JPanels still seem to be behind each other","body":"@camickr could you please show me how you would apply your solution in an answer? i tried applying what you wrote which made the background image show up but the JPanel cards are still not showing up. the JPanels still seem to be behind each other"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1684716969,"post_id":76302467,"comment_id":134552913,"body_markdown":"@fullstacknoob Yes, then you&#39;d need to use `JLayeredPane#setLayer` instead","body":"@fullstacknoob Yes, then you&#39;d need to use <code>JLayeredPane#setLayer</code> instead"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1684718020,"post_id":76302467,"comment_id":134553000,"body_markdown":"Sorry, I can&#39;t help with random lines of code posted. The issue may be in code not provided. Post a proper [mre] demonstrating the problem. We should be able to copy/paste/compile/test. That is why I suggested first getting the code to work without the image, just the background color so we can see if all the panels are added/displayed properly. Also note the &quot;navbar&quot; is not required for an MRE. The point of the MRE is to simplify the problem and get that working. Then you add more logic instead of trying to write all the logic at the start.","body":"Sorry, I can&#39;t help with random lines of code posted. The issue may be in code not provided. Post a proper <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem. We should be able to copy/paste/compile/test. That is why I suggested first getting the code to work without the image, just the background color so we can see if all the panels are added/displayed properly. Also note the &quot;navbar&quot; is not required for an MRE. The point of the MRE is to simplify the problem and get that working. Then you add more logic instead of trying to write all the logic at the start."}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1684717407,"creation_date":1684716966,"answer_id":76302510,"question_id":76302467,"body_markdown":"Swing has a parent/child relationship. You would have a structure like:\r\n\r\n- frame\r\n    - BackgroundImage (using BorderLayout) as the content pane\r\n        - non opaque panel (using CardLayout)\r\n            - non opaque panel \r\n            - non opaque panel\r\n\r\nBasic solution is:\r\n\r\n    JPanel background = new BackgroundImage();\r\n    background.setBackground( Color.YELLOW );\r\n    background.setLayout( new BorderLayout() );\r\n    frame.setContentPane( background );\r\n    \r\n    JPanel cards = new JPanel( new CardLayout() );\r\n    cards.setOpaque( false );\r\n    background.add( cards );\r\n    \r\n    JPanel card1 = new JPanel();\r\n    card1.add( new JLabel(&quot;Label for first card&quot;) );\r\n    card1.setOpaque( false );\r\n    cards.add(card1, &quot;card1&quot;);\r\n    \r\n    JPanel card2 = new JPanel();\r\n    card2.add( new JLabel(&quot;Label for second card&quot;) );\r\n    card2.setOpaque( false );\r\n    cards.add(card2, &quot;card2&quot;);\r\n\r\nSo first get the above code working so you see the background color of your panel and one of the cards displaying. If you have problems then you can post your code showing exactly what you have done. Once that works, then you replace the basic components with your custom components. If it stops working you know what you just changed. ","title":"Java Swing JLayeredPane not showing CardLayout cards &amp; background image","body":"<p>Swing has a parent/child relationship. You would have a structure like:</p>\n<ul>\n<li>frame\n<ul>\n<li>BackgroundImage (using BorderLayout) as the content pane\n<ul>\n<li>non opaque panel (using CardLayout)\n<ul>\n<li>non opaque panel</li>\n<li>non opaque panel</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>Basic solution is:</p>\n<pre><code>JPanel background = new BackgroundImage();\nbackground.setBackground( Color.YELLOW );\nbackground.setLayout( new BorderLayout() );\nframe.setContentPane( background );\n\nJPanel cards = new JPanel( new CardLayout() );\ncards.setOpaque( false );\nbackground.add( cards );\n\nJPanel card1 = new JPanel();\ncard1.add( new JLabel(&quot;Label for first card&quot;) );\ncard1.setOpaque( false );\ncards.add(card1, &quot;card1&quot;);\n\nJPanel card2 = new JPanel();\ncard2.add( new JLabel(&quot;Label for second card&quot;) );\ncard2.setOpaque( false );\ncards.add(card2, &quot;card2&quot;);\n</code></pre>\n<p>So first get the above code working so you see the background color of your panel and one of the cards displaying. If you have problems then you can post your code showing exactly what you have done. Once that works, then you replace the basic components with your custom components. If it stops working you know what you just changed.</p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684717431,"creation_date":1684717431,"answer_id":76302531,"question_id":76302467,"body_markdown":"If you want to use `JLayeredPane` this way, then you will need to apply a suitable layout manager to it, for example...\r\n\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.CardLayout;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.IOException;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JLayeredPane;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new MainPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public interface Navigatable {\r\n            enum View {\r\n                MENU, CONTENT;\r\n            }\r\n            public void show(View view);\r\n        }\r\n\r\n        public class MainPane extends JPanel implements Navigatable {\r\n\r\n            private JLayeredPane layeredPane;\r\n\r\n            private JPanel contentPane;\r\n            private CardLayout cardLayout;\r\n\r\n            private MenuPane menuPane;\r\n\r\n            public MainPane() {\r\n                setLayout(new BorderLayout());\r\n\r\n                layeredPane = new JLayeredPane();\r\n                add(layeredPane);\r\n\r\n                layeredPane.setLayout(new GridBagLayout());\r\n\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 0;\r\n                gbc.weightx = 1;\r\n                gbc.weighty = 1;\r\n                gbc.fill = GridBagConstraints.BOTH;\r\n\r\n                BackgroundPane backgroundPane = new BackgroundPane();\r\n                layeredPane.add(backgroundPane, gbc);\r\n                layeredPane.setLayer(backgroundPane, Integer.valueOf(0));\r\n\r\n                cardLayout = new CardLayout();\r\n                contentPane = new JPanel(cardLayout);\r\n                contentPane.setOpaque(false);\r\n\r\n                layeredPane.add(contentPane, gbc);\r\n                layeredPane.setLayer(contentPane, Integer.valueOf(1));\r\n\r\n                contentPane.add(new MenuPane(this), Navigatable.View.MENU.name());\r\n                JLabel label = new JLabel(&quot;This is the content&quot;);\r\n                label.setHorizontalAlignment(JLabel.CENTER);\r\n                contentPane.add(label, Navigatable.View.CONTENT.name());\r\n            }\r\n\r\n            @Override\r\n            public void show(View view) {\r\n                cardLayout.show(contentPane, view.name());\r\n            }\r\n        }\r\n\r\n        public class MenuPane extends JPanel {\r\n            public MenuPane(Navigatable navigatable) {\r\n                setOpaque(false);\r\n                setLayout(new GridBagLayout());\r\n                setBorder(new EmptyBorder(32, 32, 32, 32));\r\n\r\n                JButton btn = new JButton(&quot;Show me the content&quot;);\r\n                add(btn);\r\n\r\n                btn.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        navigatable.show(Navigatable.View.CONTENT);\r\n                    }\r\n                });\r\n            }       \r\n        }\r\n\r\n        public class BackgroundPane extends JPanel {\r\n\r\n            private BufferedImage bgImage;\r\n\r\n            public BackgroundPane() {\r\n                try {\r\n                    bgImage = ImageIO.read(getClass().getResource(&quot;/images/Mando01-50.png&quot;));\r\n                } catch (IOException ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                if (bgImage != null) {\r\n                    return new Dimension(bgImage.getWidth(), bgImage.getHeight());\r\n                }\r\n                return new Dimension(200, 200);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                if (bgImage == null) {\r\n                    return;\r\n                }\r\n                int x = (getWidth() - bgImage.getWidth()) / 2;\r\n                int y = (getHeight() - bgImage.getHeight()) / 2;\r\n                g.drawImage(bgImage, x, y, this);\r\n            }\r\n        }\r\n    }\r\n\r\nBut, a generally better solution would probably be to make use of the background pane directly, for example...\r\n\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.CardLayout;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.IOException;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new MainPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public interface Navigatable {\r\n            enum View {\r\n                MENU, CONTENT;\r\n            }\r\n            public void show(View view);\r\n        }\r\n\r\n        public class MainPane extends JPanel implements Navigatable {\r\n\r\n            private BackgroundPane backgroundPane;\r\n            private CardLayout cardLayout;\r\n\r\n            private MenuPane menuPane;\r\n\r\n            public MainPane() {\r\n                setLayout(new BorderLayout());\r\n\r\n                cardLayout = new CardLayout();\r\n                backgroundPane = new BackgroundPane();\r\n                backgroundPane.setLayout(cardLayout);\r\n                add(backgroundPane);\r\n\r\n                backgroundPane.add(new MenuPane(this), Navigatable.View.MENU.name());\r\n                JLabel label = new JLabel(&quot;This is the content&quot;);\r\n                label.setHorizontalAlignment(JLabel.CENTER);\r\n                backgroundPane.add(label, Navigatable.View.CONTENT.name());\r\n            }\r\n\r\n            @Override\r\n            public void show(View view) {\r\n                cardLayout.show(backgroundPane, view.name());\r\n            }\r\n        }\r\n\r\n        public class MenuPane extends JPanel {\r\n            public MenuPane(Navigatable navigatable) {\r\n                setOpaque(false);\r\n                setLayout(new GridBagLayout());\r\n                setBorder(new EmptyBorder(32, 32, 32, 32));\r\n\r\n                JButton btn = new JButton(&quot;Show me the content&quot;);\r\n                add(btn);\r\n\r\n                btn.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        navigatable.show(Navigatable.View.CONTENT);\r\n                    }\r\n                });\r\n            }       \r\n        }\r\n\r\n        public class BackgroundPane extends JPanel {\r\n\r\n            private BufferedImage bgImage;\r\n\r\n            public BackgroundPane() {\r\n                try {\r\n                    bgImage = ImageIO.read(getClass().getResource(&quot;/images/Mando01-50.png&quot;));\r\n                } catch (IOException ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                if (bgImage != null) {\r\n                    return new Dimension(bgImage.getWidth(), bgImage.getHeight());\r\n                }\r\n                return new Dimension(200, 200);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                if (bgImage == null) {\r\n                    return;\r\n                }\r\n                int x = (getWidth() - bgImage.getWidth()) / 2;\r\n                int y = (getHeight() - bgImage.getHeight()) / 2;\r\n                g.drawImage(bgImage, x, y, this);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Java Swing JLayeredPane not showing CardLayout cards &amp; background image","body":"<p>If you want to use <code>JLayeredPane</code> this way, then you will need to apply a suitable layout manager to it, for example...</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.CardLayout;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport javax.imageio.ImageIO;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JLayeredPane;\nimport javax.swing.JPanel;\nimport javax.swing.border.EmptyBorder;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new MainPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public interface Navigatable {\n        enum View {\n            MENU, CONTENT;\n        }\n        public void show(View view);\n    }\n\n    public class MainPane extends JPanel implements Navigatable {\n\n        private JLayeredPane layeredPane;\n\n        private JPanel contentPane;\n        private CardLayout cardLayout;\n\n        private MenuPane menuPane;\n\n        public MainPane() {\n            setLayout(new BorderLayout());\n\n            layeredPane = new JLayeredPane();\n            add(layeredPane);\n\n            layeredPane.setLayout(new GridBagLayout());\n\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n            gbc.weightx = 1;\n            gbc.weighty = 1;\n            gbc.fill = GridBagConstraints.BOTH;\n\n            BackgroundPane backgroundPane = new BackgroundPane();\n            layeredPane.add(backgroundPane, gbc);\n            layeredPane.setLayer(backgroundPane, Integer.valueOf(0));\n\n            cardLayout = new CardLayout();\n            contentPane = new JPanel(cardLayout);\n            contentPane.setOpaque(false);\n\n            layeredPane.add(contentPane, gbc);\n            layeredPane.setLayer(contentPane, Integer.valueOf(1));\n\n            contentPane.add(new MenuPane(this), Navigatable.View.MENU.name());\n            JLabel label = new JLabel(&quot;This is the content&quot;);\n            label.setHorizontalAlignment(JLabel.CENTER);\n            contentPane.add(label, Navigatable.View.CONTENT.name());\n        }\n\n        @Override\n        public void show(View view) {\n            cardLayout.show(contentPane, view.name());\n        }\n    }\n\n    public class MenuPane extends JPanel {\n        public MenuPane(Navigatable navigatable) {\n            setOpaque(false);\n            setLayout(new GridBagLayout());\n            setBorder(new EmptyBorder(32, 32, 32, 32));\n\n            JButton btn = new JButton(&quot;Show me the content&quot;);\n            add(btn);\n\n            btn.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    navigatable.show(Navigatable.View.CONTENT);\n                }\n            });\n        }       \n    }\n\n    public class BackgroundPane extends JPanel {\n\n        private BufferedImage bgImage;\n\n        public BackgroundPane() {\n            try {\n                bgImage = ImageIO.read(getClass().getResource(&quot;/images/Mando01-50.png&quot;));\n            } catch (IOException ex) {\n                ex.printStackTrace();\n            }\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            if (bgImage != null) {\n                return new Dimension(bgImage.getWidth(), bgImage.getHeight());\n            }\n            return new Dimension(200, 200);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            if (bgImage == null) {\n                return;\n            }\n            int x = (getWidth() - bgImage.getWidth()) / 2;\n            int y = (getHeight() - bgImage.getHeight()) / 2;\n            g.drawImage(bgImage, x, y, this);\n        }\n    }\n}\n</code></pre>\n<p>But, a generally better solution would probably be to make use of the background pane directly, for example...</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.CardLayout;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.GridBagLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport javax.imageio.ImageIO;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.border.EmptyBorder;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new MainPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public interface Navigatable {\n        enum View {\n            MENU, CONTENT;\n        }\n        public void show(View view);\n    }\n\n    public class MainPane extends JPanel implements Navigatable {\n\n        private BackgroundPane backgroundPane;\n        private CardLayout cardLayout;\n\n        private MenuPane menuPane;\n\n        public MainPane() {\n            setLayout(new BorderLayout());\n\n            cardLayout = new CardLayout();\n            backgroundPane = new BackgroundPane();\n            backgroundPane.setLayout(cardLayout);\n            add(backgroundPane);\n\n            backgroundPane.add(new MenuPane(this), Navigatable.View.MENU.name());\n            JLabel label = new JLabel(&quot;This is the content&quot;);\n            label.setHorizontalAlignment(JLabel.CENTER);\n            backgroundPane.add(label, Navigatable.View.CONTENT.name());\n        }\n\n        @Override\n        public void show(View view) {\n            cardLayout.show(backgroundPane, view.name());\n        }\n    }\n\n    public class MenuPane extends JPanel {\n        public MenuPane(Navigatable navigatable) {\n            setOpaque(false);\n            setLayout(new GridBagLayout());\n            setBorder(new EmptyBorder(32, 32, 32, 32));\n\n            JButton btn = new JButton(&quot;Show me the content&quot;);\n            add(btn);\n\n            btn.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    navigatable.show(Navigatable.View.CONTENT);\n                }\n            });\n        }       \n    }\n\n    public class BackgroundPane extends JPanel {\n\n        private BufferedImage bgImage;\n\n        public BackgroundPane() {\n            try {\n                bgImage = ImageIO.read(getClass().getResource(&quot;/images/Mando01-50.png&quot;));\n            } catch (IOException ex) {\n                ex.printStackTrace();\n            }\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            if (bgImage != null) {\n                return new Dimension(bgImage.getWidth(), bgImage.getHeight());\n            }\n            return new Dimension(200, 200);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            if (bgImage == null) {\n                return;\n            }\n            int x = (getWidth() - bgImage.getWidth()) / 2;\n            int y = (getHeight() - bgImage.getHeight()) / 2;\n            g.drawImage(bgImage, x, y, this);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25481264,"reputation":193,"user_id":19277574,"display_name":"fullstacknoob"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76302531,"answer_count":2,"score":-1,"last_activity_date":1684717614,"creation_date":1684716144,"question_id":76302467,"body_markdown":"I&#39;m using Java 17 for a little project. I&#39;m doing the Layout with the AWT `CardLayout` and the graphical components with Swing.\r\n\r\nI want to change my currently active `JPanel` in `Window.java` whenever I click on one of the `JMenuBarItem`s inside my `Navbar.java` class but show my background image from my `BackgroundImage` class all the time by using a `JLayeredPane`.\r\n\r\nWindow.java:\r\n\r\n    public class Window extends JFrame {\r\n    JPanel cards;\r\n    JLayeredPane layeredPane;\r\n    \r\n    JPanel openPok&#233;dex = new OpenPok&#233;dexPanel();\r\n    \r\n    public Window() {\r\n\taddWindowListener(new WindowAdapter() {\r\n\t    public void windowClosing (WindowEvent e) {\r\n\t\tdispose();\r\n\t    }\r\n\t});\r\n\t\r\n\tthis.setSize(800, 600);\r\n\t\r\n\tlayeredPane = new JLayeredPane();\r\n\tthis.setContentPane(layeredPane);\r\n\t\r\n\tBackgroundImage background = new BackgroundImage();\r\n\tlayeredPane.add(background, Integer.valueOf(0));\r\n\t\r\n\tcards = new JPanel(new CardLayout());\r\n\tlayeredPane.add(cards, Integer.valueOf(1));\r\n\t\r\n\tcards.add(openPok&#233;dex, &quot;openPokedex&quot;);\r\n\t\r\n\tNavbar bar = new Navbar(cards, this);\r\n\tthis.setJMenuBar(bar);\r\n\t\r\n\tthis.setVisible(true);\r\n    }\r\n    \r\n    public void switchPanel(String panelName) {\r\n        CardLayout cardLayout = (CardLayout) cards.getLayout();\r\n        cardLayout.show(cards, panelName);\r\n        System.out.println(panelName);\r\n    }\r\n    }\r\n\r\nNavbar.java:\r\n\r\n    public class Navbar extends JMenuBar{\r\n    JPanel cards;\r\n    Window window;\r\n    \r\n    public Navbar(JPanel cards, Window window) {\r\n\tthis.cards = cards;\r\n\tthis.window = window;\r\n\t\r\n\tJMenu pokedex = new JMenu(&quot;Pok&#233;dex&quot;);\r\n\tJMenuItem openPokedex = new JMenuItem(&quot;Open&quot;);\r\n\tpokedex.add(openPokedex);\r\n\t\r\n\tthis.add(pokedex);\r\n\t\r\n\t// Events\r\n\topenPokedex.addActionListener(e -&gt; window.switchPanel(&quot;openPokedex&quot;));\r\n    }\r\n    }\r\n\r\nOpenPok&#233;dexPanel.java:\r\n\r\n    public class OpenPok&#233;dexPanel extends JPanel {\r\n    \r\n    OpenPok&#233;dexPanel() {\r\n\t// tried doing transparent background but made no difference\r\n\t//this.setOpaque(false);\r\n\t//this.setBackground(new Color(255, 255, 255, 0));\r\n\t\r\n    // pretty much irrelevant. just to see if the panel is actually there\r\n\tJButton pok&#233;monButton = new JButton(&quot;Pok&#233;mon&quot;);\r\n\tthis.add(pok&#233;monButton);\r\n    }\r\n    }\r\n\r\nBackgroundImage.java:\r\n\r\n    public class BackgroundImage extends JComponent {\r\n    BufferedImage image = null;\r\n    \r\n    public BackgroundImage() {\r\n\tFile bgimage = null;\r\n\t\r\n\tFile directory = new File(&quot;src/bin/&quot;);\r\n\t\r\n\tif (directory.isDirectory()) {\r\n\t    File[] files = directory.listFiles();\r\n\t    \r\n\t    if (files != null &amp;&amp; files.length &gt; 0) {\r\n\t\tRandom rng = new Random();\r\n\t\tFile randomFile = files[rng.nextInt(files.length)];\r\n\t\tbgimage = randomFile;\r\n\t\t\r\n\t    } else {\r\n\t\tSystem.out.println(&quot;No images!&quot;);\r\n\t    }\r\n\t} else {\r\n\t    System.out.println(&quot;Not a directory!&quot;);\r\n\t}\r\n\t\r\n\ttry {\r\n\t    image = ImageIO.read(bgimage);\r\n\t} catch (IOException e) {\r\n\t    e.printStackTrace();\r\n\t}\r\n    }\r\n    \r\n    @Override\r\n    protected void paintComponent(Graphics g) {\r\n\tsuper.paintComponent(g);\r\n\tif (image != null) {\r\n\t    g.drawImage(image, 0, 0, getWidth(), getHeight(), this);\r\n\t}\r\n    }\r\n    }\r\n\r\nBefore trying to combine the `BackgroudImage` with the `CardLayout`, the background image worked fine but the `JPanel`s weren&#39;t showing up because they apparently spawned behind my background image. I want to have a permanent background with `JPanel` displaying content on top.\r\nAt the moment it only shows a white screen when starting the program\r\n\r\n\r\n**EDIT 1**\r\n\r\nI modified `OpenPok&#233;dexPanel` JPanel class:\r\n\r\n    public class OpenPok&#233;dexPanel extends JPanel {\r\n    \r\n    OpenPok&#233;dexPanel() {\r\n\t\r\n\tthis.setOpaque(false); // added this again\r\n\t//this.setBackground(new Color(255, 255, 255, 0));\r\n\t\r\n\tJButton pok&#233;monButton = new JButton(&quot;Pok&#233;mon&quot;);\r\n\tthis.add(pok&#233;monButton);\r\n    }\r\n    }\r\n\r\nand I modified the main `Window` class. I removed the `JLayeredPane` and added the following code as @camickr suggested:\r\n\t\r\n\tBackgroundImage background = new BackgroundImage();\r\n\tthis.setLayout(new BorderLayout());\r\n\tthis.setContentPane(background);\r\n\t\r\n\tcards = new JPanel(new CardLayout());\r\n\tcards.setOpaque(false);\r\n\tbackground.add(cards);\r\n\t\r\n\tcards.add(openPok&#233;dex, &quot;openPokedex&quot;);\r\n\r\nThe background image shows up but the `JPanel` card `openPok&#233;dex` won&#39;t show up as well on click.","title":"Java Swing JLayeredPane not showing CardLayout cards &amp; background image","body":"<p>I'm using Java 17 for a little project. I'm doing the Layout with the AWT <code>CardLayout</code> and the graphical components with Swing.</p>\n<p>I want to change my currently active <code>JPanel</code> in <code>Window.java</code> whenever I click on one of the <code>JMenuBarItem</code>s inside my <code>Navbar.java</code> class but show my background image from my <code>BackgroundImage</code> class all the time by using a <code>JLayeredPane</code>.</p>\n<p>Window.java:</p>\n<pre><code>public class Window extends JFrame {\nJPanel cards;\nJLayeredPane layeredPane;\n\nJPanel openPokédex = new OpenPokédexPanel();\n\npublic Window() {\naddWindowListener(new WindowAdapter() {\n    public void windowClosing (WindowEvent e) {\n    dispose();\n    }\n});\n\nthis.setSize(800, 600);\n\nlayeredPane = new JLayeredPane();\nthis.setContentPane(layeredPane);\n\nBackgroundImage background = new BackgroundImage();\nlayeredPane.add(background, Integer.valueOf(0));\n\ncards = new JPanel(new CardLayout());\nlayeredPane.add(cards, Integer.valueOf(1));\n\ncards.add(openPokédex, &quot;openPokedex&quot;);\n\nNavbar bar = new Navbar(cards, this);\nthis.setJMenuBar(bar);\n\nthis.setVisible(true);\n}\n\npublic void switchPanel(String panelName) {\n    CardLayout cardLayout = (CardLayout) cards.getLayout();\n    cardLayout.show(cards, panelName);\n    System.out.println(panelName);\n}\n}\n</code></pre>\n<p>Navbar.java:</p>\n<pre><code>public class Navbar extends JMenuBar{\nJPanel cards;\nWindow window;\n\npublic Navbar(JPanel cards, Window window) {\nthis.cards = cards;\nthis.window = window;\n\nJMenu pokedex = new JMenu(&quot;Pokédex&quot;);\nJMenuItem openPokedex = new JMenuItem(&quot;Open&quot;);\npokedex.add(openPokedex);\n\nthis.add(pokedex);\n\n// Events\nopenPokedex.addActionListener(e -&gt; window.switchPanel(&quot;openPokedex&quot;));\n}\n}\n</code></pre>\n<p>OpenPokédexPanel.java:</p>\n<pre><code>public class OpenPokédexPanel extends JPanel {\n\nOpenPokédexPanel() {\n// tried doing transparent background but made no difference\n//this.setOpaque(false);\n//this.setBackground(new Color(255, 255, 255, 0));\n\n// pretty much irrelevant. just to see if the panel is actually there\nJButton pokémonButton = new JButton(&quot;Pokémon&quot;);\nthis.add(pokémonButton);\n}\n}\n</code></pre>\n<p>BackgroundImage.java:</p>\n<pre><code>public class BackgroundImage extends JComponent {\nBufferedImage image = null;\n\npublic BackgroundImage() {\nFile bgimage = null;\n\nFile directory = new File(&quot;src/bin/&quot;);\n\nif (directory.isDirectory()) {\n    File[] files = directory.listFiles();\n    \n    if (files != null &amp;&amp; files.length &gt; 0) {\n    Random rng = new Random();\n    File randomFile = files[rng.nextInt(files.length)];\n    bgimage = randomFile;\n    \n    } else {\n    System.out.println(&quot;No images!&quot;);\n    }\n} else {\n    System.out.println(&quot;Not a directory!&quot;);\n}\n\ntry {\n    image = ImageIO.read(bgimage);\n} catch (IOException e) {\n    e.printStackTrace();\n}\n}\n\n@Override\nprotected void paintComponent(Graphics g) {\nsuper.paintComponent(g);\nif (image != null) {\n    g.drawImage(image, 0, 0, getWidth(), getHeight(), this);\n}\n}\n}\n</code></pre>\n<p>Before trying to combine the <code>BackgroudImage</code> with the <code>CardLayout</code>, the background image worked fine but the <code>JPanel</code>s weren't showing up because they apparently spawned behind my background image. I want to have a permanent background with <code>JPanel</code> displaying content on top.\nAt the moment it only shows a white screen when starting the program</p>\n<p><strong>EDIT 1</strong></p>\n<p>I modified <code>OpenPokédexPanel</code> JPanel class:</p>\n<pre><code>public class OpenPokédexPanel extends JPanel {\n\nOpenPokédexPanel() {\n\nthis.setOpaque(false); // added this again\n//this.setBackground(new Color(255, 255, 255, 0));\n\nJButton pokémonButton = new JButton(&quot;Pokémon&quot;);\nthis.add(pokémonButton);\n}\n}\n</code></pre>\n<p>and I modified the main <code>Window</code> class. I removed the <code>JLayeredPane</code> and added the following code as @camickr suggested:</p>\n<pre><code>BackgroundImage background = new BackgroundImage();\nthis.setLayout(new BorderLayout());\nthis.setContentPane(background);\n\ncards = new JPanel(new CardLayout());\ncards.setOpaque(false);\nbackground.add(cards);\n\ncards.add(openPokédex, &quot;openPokedex&quot;);\n</code></pre>\n<p>The background image shows up but the <code>JPanel</code> card <code>openPokédex</code> won't show up as well on click.</p>\n"},{"tags":["java","sql","database","postgresql","sql-execution-plan"],"comments":[{"owner":{"account_id":13414743,"reputation":886,"user_id":9679725,"display_name":"Joe DiNottra"},"score":0,"creation_date":1683729552,"post_id":76219095,"comment_id":134411856,"body_markdown":"Unfortunately that solution is for a different use case. It seems the main answer there is hardcoding the parameter in the second call. That is not realistic for my use case. It can be a massive parameter or may not be rendered correctly as String (e.g. float value).","body":"Unfortunately that solution is for a different use case. It seems the main answer there is hardcoding the parameter in the second call. That is not realistic for my use case. It can be a massive parameter or may not be rendered correctly as String (e.g. float value)."},{"owner":{"account_id":9513375,"reputation":16512,"user_id":7070613,"display_name":"Adrian Klaver"},"score":0,"creation_date":1683731699,"post_id":76219095,"comment_id":134412479,"body_markdown":"I don&#39;t use Java, but a little digging found this [Server prepare](https://jdbc.postgresql.org/documentation/server-prepare/) *Server Prepared Statements Motivation*. It seems you might need to do: `ps1 = conn.prepareStatement( &quot;select * from documents where content = ?&quot;);`","body":"I don&#39;t use Java, but a little digging found this <a href=\"https://jdbc.postgresql.org/documentation/server-prepare/\" rel=\"nofollow noreferrer\">Server prepare</a> <i>Server Prepared Statements Motivation</i>. It seems you might need to do: <code>ps1 = conn.prepareStatement( &quot;select * from documents where content = ?&quot;);</code>"},{"owner":{"account_id":13414743,"reputation":886,"user_id":9679725,"display_name":"Joe DiNottra"},"score":0,"creation_date":1683731923,"post_id":76219095,"comment_id":134412548,"body_markdown":"That&#39;s what I&#39;m doing (in the second call). The first one **must use $1** to create a PostgreSQL procedure. I don&#39;t understand why the question was closed. The related answer is for a different question.","body":"That&#39;s what I&#39;m doing (in the second call). The first one <b>must use $1</b> to create a PostgreSQL procedure. I don&#39;t understand why the question was closed. The related answer is for a different question."},{"owner":{"account_id":9513375,"reputation":16512,"user_id":7070613,"display_name":"Adrian Klaver"},"score":1,"creation_date":1683732175,"post_id":76219095,"comment_id":134412607,"body_markdown":"1) I voted to reopen the question as it is different. 2) That is not what you are doing, you are using `prepare` and it&#39;s placeholder `$1` in your version of the query. If I understand the docs correctly that taken care of for you by `PreparedStatement`.","body":"1) I voted to reopen the question as it is different. 2) That is not what you are doing, you are using <code>prepare</code> and it&#39;s placeholder <code>$1</code> in your version of the query. If I understand the docs correctly that taken care of for you by <code>PreparedStatement</code>."}],"answers":[{"tags":[],"owner":{"account_id":6169361,"reputation":20329,"user_id":4808122,"accept_rate":89,"display_name":"Marmite Bomber"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683802440,"creation_date":1683802440,"answer_id":76226845,"question_id":76219095,"body_markdown":"You don&#39;t need to replace the `$1` with the *bind variable value*, but you can&#39;t apparently use the bind variable in the `explain execute` statement - here it must be stated.\r\n\r\nSo this sequence works fine (pseudocode)\r\n\r\n    prep = con.prepareStatement(&quot;prepare x(integer) as select id, pad from jdbn.document where id = $1&quot;)\r\n    prep.execute();\r\n    \r\n    stmt = con.prepareStatement(&quot;explain execute x (42)&quot;)\r\n    rs = stmt.executeQuery()\r\n\r\nAs described in the previously marked as duplicated [question][1] you get for first few execution a *custom plan* (i.e. you see the variable in the condition, here `id = 42`) and finaly a *generic plan* (i.e. with a predicate `id = $1`)\r\n\r\nYour *trick* with `null` fails as PostgreSql knows that  `id = null` returns nothing (I&#39;m using vague formulation to avoid to be neither *true* nor *false*) and makes a *dummy* plan e.g. `One-Time Filter: false`\r\n\r\n\r\nYou may force to produce a *generic plan* with the [`plan_cache_mode`][2] parameter\r\n\r\n    con.createStatement().execute(&quot;set plan_cache_mode = force_generic_plan&quot;)\r\n\r\nin which case the the first explained plan is generic. It seem that with this setting the `null` parameter does not lead to a dummy plan (but I&#39;m not sure if there are not other caveats).\r\n\r\nSo I&#39;d say you should always define the data type of the variable `prepare x(integer) ...`  but I&#39;m not sure and have no experience if you can get a meaningfull execution plan with the combination of `force_generic_plan`  and passing `null` (similar to Oracle functionality) or if you realy must pass representation sample value(s) or the parameter(s).\r\n\r\n**Final Note** all the discussion here is focused on *well designed prepared statements*, i.e. any possible value passed will lead to a single same excution plan. For *other* statements it is not meaningfull, as there is *no single execution plan*.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/44899432/4808122\r\n  [2]: https://www.postgresql.org/docs/current/runtime-config-query.html","title":"How do I get a PostgreSQL execution plan with parameters?","body":"<p>You don't need to replace the <code>$1</code> with the <em>bind variable value</em>, but you can't apparently use the bind variable in the <code>explain execute</code> statement - here it must be stated.</p>\n<p>So this sequence works fine (pseudocode)</p>\n<pre><code>prep = con.prepareStatement(&quot;prepare x(integer) as select id, pad from jdbn.document where id = $1&quot;)\nprep.execute();\n\nstmt = con.prepareStatement(&quot;explain execute x (42)&quot;)\nrs = stmt.executeQuery()\n</code></pre>\n<p>As described in the previously marked as duplicated <a href=\"https://stackoverflow.com/a/44899432/4808122\">question</a> you get for first few execution a <em>custom plan</em> (i.e. you see the variable in the condition, here <code>id = 42</code>) and finaly a <em>generic plan</em> (i.e. with a predicate <code>id = $1</code>)</p>\n<p>Your <em>trick</em> with <code>null</code> fails as PostgreSql knows that  <code>id = null</code> returns nothing (I'm using vague formulation to avoid to be neither <em>true</em> nor <em>false</em>) and makes a <em>dummy</em> plan e.g. <code>One-Time Filter: false</code></p>\n<p>You may force to produce a <em>generic plan</em> with the <a href=\"https://www.postgresql.org/docs/current/runtime-config-query.html\" rel=\"nofollow noreferrer\"><code>plan_cache_mode</code></a> parameter</p>\n<pre><code>con.createStatement().execute(&quot;set plan_cache_mode = force_generic_plan&quot;)\n</code></pre>\n<p>in which case the the first explained plan is generic. It seem that with this setting the <code>null</code> parameter does not lead to a dummy plan (but I'm not sure if there are not other caveats).</p>\n<p>So I'd say you should always define the data type of the variable <code>prepare x(integer) ...</code>  but I'm not sure and have no experience if you can get a meaningfull execution plan with the combination of <code>force_generic_plan</code>  and passing <code>null</code> (similar to Oracle functionality) or if you realy must pass representation sample value(s) or the parameter(s).</p>\n<p><strong>Final Note</strong> all the discussion here is focused on <em>well designed prepared statements</em>, i.e. any possible value passed will lead to a single same excution plan. For <em>other</em> statements it is not meaningfull, as there is <em>no single execution plan</em>.</p>\n"},{"tags":[],"owner":{"account_id":16625247,"reputation":339,"user_id":12014524,"display_name":"Hacı Celal Aygar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684717061,"creation_date":1684717061,"answer_id":76302514,"question_id":76219095,"body_markdown":"you can try this line\r\n\r\n\r\n    PreparedStatement ps1 = conn.prepareStatement(\r\n      &quot;prepare x as select * from documents where content = &#39;&quot;+ 1 +&quot;&#39;&quot;);\r\n    ps1.execute();\r\n\r\ninstead of \r\n\r\n       PreparedStatement ps1 = conn.prepareStatement(\r\n          &quot;prepare x as select * from documents where content = $1&quot;);\r\n        ps1.execute();","title":"How do I get a PostgreSQL execution plan with parameters?","body":"<p>you can try this line</p>\n<pre><code>PreparedStatement ps1 = conn.prepareStatement(\n  &quot;prepare x as select * from documents where content = '&quot;+ 1 +&quot;'&quot;);\nps1.execute();\n</code></pre>\n<p>instead of</p>\n<pre><code>   PreparedStatement ps1 = conn.prepareStatement(\n      &quot;prepare x as select * from documents where content = $1&quot;);\n    ps1.execute();\n</code></pre>\n"}],"owner":{"account_id":13414743,"reputation":886,"user_id":9679725,"display_name":"Joe DiNottra"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1684717061,"creation_date":1683725669,"question_id":76219095,"body_markdown":"My application has a myriad of queries and I wanted to get the execution plan of some of them. Most if not\r\nall of the queries have multiple parameters and I can&#39;t find how to get the execution plan for any non-trivial query in PostgreSQL.\r\n\r\nThe real cases are much more involved but here&#39;s a simple, representative case of a query (just one parameter for simplicity):\r\n\r\n```java\r\nConnection conn = DriverManager.getConnection(&quot;...&quot;, &quot;...&quot;, &quot;...&quot;);\r\n\r\nPreparedStatement ps1 = conn.prepareStatement(\r\n  &quot;prepare x as select * from documents where content = $1&quot;);\r\nps1.execute();\r\n\r\nPreparedStatement ps2 = conn.prepareStatement(\r\n  &quot;explain (format json) execute x (?)&quot;);\r\nps2.setString(1, &quot;Very long content here...&quot;); // Binds the parameter\r\nResultSet rs = ps2.executeQuery(); // Error here!\r\n\r\nwhile (rs.next()) {\r\n  System.out.println(rs.getString(1));\r\n}\r\n```\r\n    \r\nWhen I run this, I get the error:\r\n\r\n&gt; ERROR: there is no parameter $1\r\n&gt; Position: 34\r\n\r\nIf I **hardcode** the parameter (e.g. replacing `$1` with `&#39;a&#39;`) everything works well and I get a plan. However, if I try to use a JDBC parameter it doesn&#39;t work. Hardcoding the parameter is not realistic for my use case since it can be a massive parameter or may not be rendered correctly as String (e.g. float value).\r\n\r\nI also tried using `null` instead of `?` and it doesn&#39;t crash, but \r\nit returns an execution plan that is wrong; it seems it somehow short-circuits the logic and returns something totally off reality.\r\n\r\nWhat am I doing wrong?","title":"How do I get a PostgreSQL execution plan with parameters?","body":"<p>My application has a myriad of queries and I wanted to get the execution plan of some of them. Most if not\nall of the queries have multiple parameters and I can't find how to get the execution plan for any non-trivial query in PostgreSQL.</p>\n<p>The real cases are much more involved but here's a simple, representative case of a query (just one parameter for simplicity):</p>\n<pre class=\"lang-java prettyprint-override\"><code>Connection conn = DriverManager.getConnection(&quot;...&quot;, &quot;...&quot;, &quot;...&quot;);\n\nPreparedStatement ps1 = conn.prepareStatement(\n  &quot;prepare x as select * from documents where content = $1&quot;);\nps1.execute();\n\nPreparedStatement ps2 = conn.prepareStatement(\n  &quot;explain (format json) execute x (?)&quot;);\nps2.setString(1, &quot;Very long content here...&quot;); // Binds the parameter\nResultSet rs = ps2.executeQuery(); // Error here!\n\nwhile (rs.next()) {\n  System.out.println(rs.getString(1));\n}\n</code></pre>\n<p>When I run this, I get the error:</p>\n<blockquote>\n<p>ERROR: there is no parameter $1\nPosition: 34</p>\n</blockquote>\n<p>If I <strong>hardcode</strong> the parameter (e.g. replacing <code>$1</code> with <code>'a'</code>) everything works well and I get a plan. However, if I try to use a JDBC parameter it doesn't work. Hardcoding the parameter is not realistic for my use case since it can be a massive parameter or may not be rendered correctly as String (e.g. float value).</p>\n<p>I also tried using <code>null</code> instead of <code>?</code> and it doesn't crash, but\nit returns an execution plan that is wrong; it seems it somehow short-circuits the logic and returns something totally off reality.</p>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","swing","timer","awt","timertask"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1684715582,"post_id":76302446,"comment_id":134552820,"body_markdown":"Use a Swing `Timer` instead of `java.util.Timer`. Don&#39;t start timer in `paint` - in fact, don&#39;t override `paint` and don&#39;t paint directly to the frame, use a `JPanel` instead - see [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) and [How to Use Swing Timers](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html) - for [example](https://stackoverflow.com/questions/23443503/changing-background-color-on-every-clock-tick/23443563#23443563)","body":"Use a Swing <code>Timer</code> instead of <code>java.util.Timer</code>. Don&#39;t start timer in <code>paint</code> - in fact, don&#39;t override <code>paint</code> and don&#39;t paint directly to the frame, use a <code>JPanel</code> instead - see <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">How to Use Swing Timers</a> - for <a href=\"https://stackoverflow.com/questions/23443503/changing-background-color-on-every-clock-tick/23443563#23443563\">example</a>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":3,"creation_date":1684715741,"post_id":76302446,"comment_id":134552832,"body_markdown":"A painting method is for painting only. Don&#39;t have Timer logic in the painting method. Painting is done by using the Graphics object passed to the paintComponent() method of a JPanel. See: https://stackoverflow.com/a/54028681/131872 for an example of using a Swing Timer for animation.","body":"A painting method is for painting only. Don&#39;t have Timer logic in the painting method. Painting is done by using the Graphics object passed to the paintComponent() method of a JPanel. See: <a href=\"https://stackoverflow.com/a/54028681/131872\">stackoverflow.com/a/54028681/131872</a> for an example of using a Swing Timer for animation."},{"owner":{"account_id":19616408,"reputation":1,"user_id":14357777,"display_name":"alex miranda"},"score":0,"creation_date":1684719601,"post_id":76302446,"comment_id":134553129,"body_markdown":"For additional code context, you can view the full file on my github [link](https://github.com/boxtop312/comp-sci-IntelliJ-IDEA/blob/main/src/Physics_Final.java)","body":"For additional code context, you can view the full file on my github <a href=\"https://github.com/boxtop312/comp-sci-IntelliJ-IDEA/blob/main/src/Physics_Final.java\" rel=\"nofollow noreferrer\">link</a>"}],"owner":{"account_id":19616408,"reputation":1,"user_id":14357777,"display_name":"alex miranda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684715528,"creation_date":1684715528,"question_id":76302446,"body_markdown":"When i use Timer and TimerTask to have it run the code every second it doesn&#39;t draw to the JFrame but still runs the code.\r\n\r\n```\r\npublic void drawObject(Graphics g, int scale){\r\n        g.setColor(colors[rand]);\r\n        g.fillOval(xPos,yPos,scale*size,scale*size);\r\n    }\r\n```\r\n\r\n\r\n```\r\n    public void paint(Graphics g) {\r\n        setBackground(Color.WHITE);\r\n\r\n        Timer timer = new Timer();\r\n        TimerTask task = new TimerTask() {\r\n            boolean ting = false;\r\n            public void run() {\r\n                if(ting){\r\n                    g.setColor(Color.white);\r\n                    g.fillRect(0, 0, getWidth(), getHeight());\r\n                }\r\n                for(int i=0;i&lt;jTP.physicsObjectArrayList.size();i++){\r\n                    jTP.physicsObjectArrayList.get(i).drawObject(g,scale);\r\n                    System.out.println(&quot;test&quot;);\r\n                }\r\n                for(int i=0;i&lt;jTP.physicsObjectArrayList.size();i++) {\r\n                    jTP.physicsObjectArrayList.get(i).setxPos(jTP.physicsObjectArrayList.get(i).getxPos()+getForceX(i)+getVelocityX(i));\r\n                    jTP.physicsObjectArrayList.get(i).setyPos(jTP.physicsObjectArrayList.get(i).getyPos()+getForceY(i)+getVelocityY(i)+getGravity(i));\r\n                }\r\n                ting = true;\r\n            }\r\n        };\r\n\r\n        timer.scheduleAtFixedRate(task, new Date(System.currentTimeMillis()), (long) 1000.0);\r\n```\r\n\r\nI am expecting it to draw the circle but it doesn&#39;t but it does print test to the command line. when i comment out the timer stuff it does draw the circle but then it doesn&#39;t have the delays","title":"Redrawing the contents of a AWT JFrame every second","body":"<p>When i use Timer and TimerTask to have it run the code every second it doesn't draw to the JFrame but still runs the code.</p>\n<pre><code>public void drawObject(Graphics g, int scale){\n        g.setColor(colors[rand]);\n        g.fillOval(xPos,yPos,scale*size,scale*size);\n    }\n</code></pre>\n<pre><code>    public void paint(Graphics g) {\n        setBackground(Color.WHITE);\n\n        Timer timer = new Timer();\n        TimerTask task = new TimerTask() {\n            boolean ting = false;\n            public void run() {\n                if(ting){\n                    g.setColor(Color.white);\n                    g.fillRect(0, 0, getWidth(), getHeight());\n                }\n                for(int i=0;i&lt;jTP.physicsObjectArrayList.size();i++){\n                    jTP.physicsObjectArrayList.get(i).drawObject(g,scale);\n                    System.out.println(&quot;test&quot;);\n                }\n                for(int i=0;i&lt;jTP.physicsObjectArrayList.size();i++) {\n                    jTP.physicsObjectArrayList.get(i).setxPos(jTP.physicsObjectArrayList.get(i).getxPos()+getForceX(i)+getVelocityX(i));\n                    jTP.physicsObjectArrayList.get(i).setyPos(jTP.physicsObjectArrayList.get(i).getyPos()+getForceY(i)+getVelocityY(i)+getGravity(i));\n                }\n                ting = true;\n            }\n        };\n\n        timer.scheduleAtFixedRate(task, new Date(System.currentTimeMillis()), (long) 1000.0);\n</code></pre>\n<p>I am expecting it to draw the circle but it doesn't but it does print test to the command line. when i comment out the timer stuff it does draw the circle but then it doesn't have the delays</p>\n"},{"tags":["java","json","jackson","fasterxml"],"comments":[{"owner":{"account_id":17853137,"reputation":3,"user_id":12968431,"display_name":"Bala Ganesan"},"score":0,"creation_date":1684575067,"post_id":76294414,"comment_id":134539330,"body_markdown":"Please Note: My incoming JSON string is dynamic, can&#39;t fit into single POJO class","body":"Please Note: My incoming JSON string is dynamic, can&#39;t fit into single POJO class"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684590528,"creation_date":1684590528,"answer_id":76295556,"question_id":76294414,"body_markdown":"Try this.\r\n\r\n\tpublic static void main(String[] args) throws JsonMappingException, JsonProcessingException {\r\n\t\tObjectMapper mapper = new ObjectMapper();\r\n\t\tString inputJsonString = &quot;{\\&quot;key1\\&quot;:\\&quot;bla bla bla bla\\&quot;,\\&quot;key2\\&quot;:{\\&quot;key21\\&quot;:\\&quot;bla bla bla\\&quot;},\\&quot;key3\\&quot;:[{\\&quot;key21\\&quot;:\\&quot;bla bla bla\\&quot;}]}&quot;;\r\n\t\tSystem.out.println(inputJsonString);\r\n\t\tJsonNode jsonNode = mapper.readTree(inputJsonString);\r\n\r\n\t\ttruncateStringValues(jsonNode);\r\n\r\n\t\tSystem.out.println(jsonNode);\r\n\r\n\t}\r\n\r\n\tprivate static void truncateStringValues(JsonNode jsonNode) throws JsonMappingException, JsonProcessingException {\r\n\t\tif (jsonNode.isArray()) {\r\n\t\t\tfor (JsonNode arrayItem : jsonNode) {\r\n\t\t\t\ttruncateStringValues(arrayItem);\r\n\t\t\t}\r\n\r\n\t\t} else if (jsonNode.isObject()) {\r\n\t\t\tIterator&lt;Entry&lt;String, JsonNode&gt;&gt; fields = jsonNode.fields();\r\n\t\t\twhile (fields.hasNext()) {\r\n\t\t\t\tEntry&lt;String, JsonNode&gt; jsonField = fields.next();\r\n\t\t\t\tJsonNode jsonFieldValue = jsonField.getValue();\r\n\t\t\t\tif (!jsonFieldValue.isContainerNode()) {\r\n\t\t\t\t\t((ObjectNode) jsonNode).put(jsonField.getKey(), jsonFieldValue.asText().substring(0, 5));\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttruncateStringValues(jsonFieldValue);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n","title":"limit the size of the string value of all keys with Jackson","body":"<p>Try this.</p>\n<pre><code>public static void main(String[] args) throws JsonMappingException, JsonProcessingException {\n    ObjectMapper mapper = new ObjectMapper();\n    String inputJsonString = &quot;{\\&quot;key1\\&quot;:\\&quot;bla bla bla bla\\&quot;,\\&quot;key2\\&quot;:{\\&quot;key21\\&quot;:\\&quot;bla bla bla\\&quot;},\\&quot;key3\\&quot;:[{\\&quot;key21\\&quot;:\\&quot;bla bla bla\\&quot;}]}&quot;;\n    System.out.println(inputJsonString);\n    JsonNode jsonNode = mapper.readTree(inputJsonString);\n\n    truncateStringValues(jsonNode);\n\n    System.out.println(jsonNode);\n\n}\n\nprivate static void truncateStringValues(JsonNode jsonNode) throws JsonMappingException, JsonProcessingException {\n    if (jsonNode.isArray()) {\n        for (JsonNode arrayItem : jsonNode) {\n            truncateStringValues(arrayItem);\n        }\n\n    } else if (jsonNode.isObject()) {\n        Iterator&lt;Entry&lt;String, JsonNode&gt;&gt; fields = jsonNode.fields();\n        while (fields.hasNext()) {\n            Entry&lt;String, JsonNode&gt; jsonField = fields.next();\n            JsonNode jsonFieldValue = jsonField.getValue();\n            if (!jsonFieldValue.isContainerNode()) {\n                ((ObjectNode) jsonNode).put(jsonField.getKey(), jsonFieldValue.asText().substring(0, 5));\n            } else {\n                truncateStringValues(jsonFieldValue);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12440653,"reputation":3,"user_id":9059036,"display_name":"mukham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684711039,"creation_date":1684619978,"answer_id":76297510,"question_id":76294414,"body_markdown":"Nice answer, [@John Williams][1]!\r\n\r\nJust a quick note: If the string to be truncated is less than 5 characters, there&#39;s a chance of encountering `java.lang.StringIndexOutOfBoundsException`. To handle this, you can use `Math.min` with substring. Here&#39;s an example:\r\n\r\n    String text = jsonFieldValue.asText();\r\n    objectNode.put(entry.getKey(), text.substring(0, Math.min(text.length(), 5)));\r\n\r\nThis ensures safe truncation. Thanks!\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/8041003/john-williams","title":"limit the size of the string value of all keys with Jackson","body":"<p>Nice answer, <a href=\"https://stackoverflow.com/users/8041003/john-williams\">@John Williams</a>!</p>\n<p>Just a quick note: If the string to be truncated is less than 5 characters, there's a chance of encountering <code>java.lang.StringIndexOutOfBoundsException</code>. To handle this, you can use <code>Math.min</code> with substring. Here's an example:</p>\n<pre><code>String text = jsonFieldValue.asText();\nobjectNode.put(entry.getKey(), text.substring(0, Math.min(text.length(), 5)));\n</code></pre>\n<p>This ensures safe truncation. Thanks!</p>\n"}],"owner":{"account_id":17853137,"reputation":3,"user_id":12968431,"display_name":"Bala Ganesan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":576,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76295556,"answer_count":2,"score":0,"last_activity_date":1684711039,"creation_date":1684574426,"question_id":76294414,"body_markdown":"I have a dynamic nested json string and I wanted to limit the string value of all keys to have max length of 5 chars.\r\n\r\nUsing: Java fasterxml.jackson\r\n\r\nFor Json String like below:\r\n\r\n```\r\nString inputJsonString = &quot;{\\&quot;key1\\&quot;:\\&quot;bla bla bla bla\\&quot;,\\&quot;key2\\&quot;:{\\&quot;key21\\&quot;:\\&quot;bla bla bla\\&quot;}}&quot;;\r\n```\r\n\r\nI wanted this result:\r\n\r\n```\r\nString outputJsonString = &quot;{\\&quot;key1\\&quot;:\\&quot;bla b\\&quot;,\\&quot;key2\\&quot;:{\\&quot;key21\\&quot;:\\&quot;bla b\\&quot;}}&quot;;\r\n```\r\n\r\nFor Json String like this:\r\n\r\n```\r\nString inputJsonString = &quot;{\\&quot;fname\\&quot;:\\&quot;bla bla bla bla\\&quot;,\\&quot;address\\&quot;:{\\&quot;street\\&quot;:\\&quot;bla bla bla\\&quot;}}&quot;;\r\n```\r\n\r\nI wanted this result:\r\n\r\n```\r\nString outputJsonString = &quot;{\\&quot;fname\\&quot;:\\&quot;bla b\\&quot;,\\&quot;address\\&quot;:{\\&quot;street\\&quot;:\\&quot;bla b\\&quot;}}&quot;;\r\n```\r\n","title":"limit the size of the string value of all keys with Jackson","body":"<p>I have a dynamic nested json string and I wanted to limit the string value of all keys to have max length of 5 chars.</p>\n<p>Using: Java fasterxml.jackson</p>\n<p>For Json String like below:</p>\n<pre><code>String inputJsonString = &quot;{\\&quot;key1\\&quot;:\\&quot;bla bla bla bla\\&quot;,\\&quot;key2\\&quot;:{\\&quot;key21\\&quot;:\\&quot;bla bla bla\\&quot;}}&quot;;\n</code></pre>\n<p>I wanted this result:</p>\n<pre><code>String outputJsonString = &quot;{\\&quot;key1\\&quot;:\\&quot;bla b\\&quot;,\\&quot;key2\\&quot;:{\\&quot;key21\\&quot;:\\&quot;bla b\\&quot;}}&quot;;\n</code></pre>\n<p>For Json String like this:</p>\n<pre><code>String inputJsonString = &quot;{\\&quot;fname\\&quot;:\\&quot;bla bla bla bla\\&quot;,\\&quot;address\\&quot;:{\\&quot;street\\&quot;:\\&quot;bla bla bla\\&quot;}}&quot;;\n</code></pre>\n<p>I wanted this result:</p>\n<pre><code>String outputJsonString = &quot;{\\&quot;fname\\&quot;:\\&quot;bla b\\&quot;,\\&quot;address\\&quot;:{\\&quot;street\\&quot;:\\&quot;bla b\\&quot;}}&quot;;\n</code></pre>\n"},{"tags":["java","spring-boot","docker","logging","newrelic"],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684710691,"creation_date":1684585169,"answer_id":76295199,"question_id":76294341,"body_markdown":"It really depends on what your application is logging and at what log level. Increase the levels from debug and trace to at least info. Those are usually too verbose and show too many details. It depends on spring boot if it will show the actual information that you want. Else you need to add your own logger to the application.","title":"Logs with unwanted value","body":"<p>It really depends on what your application is logging and at what log level. Increase the levels from debug and trace to at least info. Those are usually too verbose and show too many details. It depends on spring boot if it will show the actual information that you want. Else you need to add your own logger to the application.</p>\n"}],"owner":{"account_id":9122040,"reputation":1213,"user_id":6787187,"accept_rate":71,"display_name":"Alpit Anand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684710691,"creation_date":1684573233,"question_id":76294341,"body_markdown":"I have been trying to do the logging part in My Springboot appication.\r\nMy logs are filled with unwanted stuff\r\n\r\n`&quot;\\u0006stdout\\u0010��������\\u0017\\u001a�\\u00012023-05-20 08:48:38.366 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA : GET /dg/public/course]\\u0000\\u0000\\u0000�\\u0000\\u0000\\u0000�&quot;`\r\n\r\nJust wanted the ` GET /dg/public/course`\r\n\r\nHow can i achieve that.\r\nThis is my logback.\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration&gt;\r\n    \r\n      &lt;property name=&quot;LOGS&quot; value=&quot;/tmp/logs&quot; /&gt;\r\n    \r\n      &lt;appender name=&quot;Console&quot;\r\n        class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\r\n          &lt;Pattern&gt;\r\n            %black(%d{ISO8601}) %highlight(%-5level) [%blue(%t)] %yellow(%C{1.}): %msg%n%throwable\r\n          &lt;/Pattern&gt;\r\n        &lt;/layout&gt;\r\n      &lt;/appender&gt;\r\n    \r\n      &lt;appender name=&quot;RollingFile&quot;\r\n        class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n        &lt;file&gt;${LOGS}/spring-boot-logger.log&lt;/file&gt;\r\n        &lt;encoder\r\n          class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\r\n          &lt;Pattern&gt;%d %p %C{1.} [%t] %m%n&lt;/Pattern&gt;\r\n        &lt;/encoder&gt;\r\n    \r\n        &lt;rollingPolicy\r\n          class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n          &lt;!-- rollover daily and when the file reaches 10 MegaBytes --&gt;\r\n          &lt;fileNamePattern&gt;${LOGS}/archived/spring-boot-logger-%d{yyyy-MM-dd}.%i.log\r\n          &lt;/fileNamePattern&gt;\r\n          &lt;timeBasedFileNamingAndTriggeringPolicy\r\n            class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\r\n            &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;\r\n          &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\r\n        &lt;/rollingPolicy&gt;\r\n      &lt;/appender&gt;\r\n    \r\n      &lt;!-- LOG everything at INFO level --&gt;\r\n      &lt;root level=&quot;info&quot;&gt;\r\n        &lt;appender-ref ref=&quot;RollingFile&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;Console&quot; /&gt;\r\n      &lt;/root&gt;\r\n    \r\n      &lt;!-- LOG &quot;com.teaching.gradzee*&quot; at TRACE level --&gt;\r\n      &lt;logger name=&quot;com.teaching.gradzee&quot; level=&quot;trace&quot; additivity=&quot;false&quot;&gt;\r\n        &lt;appender-ref ref=&quot;RollingFile&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;Console&quot; /&gt;\r\n      &lt;/logger&gt;\r\n      &lt;logger name=&quot;org.hibernate.SQL&quot; level=&quot;ERROR&quot; /&gt;\r\n      &lt;logger name=&quot;org.springframework.web.filter.CommonsRequestLoggingFilter&quot; level=&quot;DEBUG&quot;/&gt;\r\n    &lt;!--  &lt;logger name=&quot;org.zalando.logbook&quot; level=&quot;TRACE&quot; /&gt;--&gt;\r\n    &lt;/configuration&gt;\r\n\r\n\r\nUsing new relic for logging.\r\n\r\nAgent is running in ec2, my application is in Docker","title":"Logs with unwanted value","body":"<p>I have been trying to do the logging part in My Springboot appication.\nMy logs are filled with unwanted stuff</p>\n<p><code>&quot;\\u0006stdout\\u0010��������\\u0017\\u001a�\\u00012023-05-20 08:48:38.366 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA : GET /dg/public/course]\\u0000\\u0000\\u0000�\\u0000\\u0000\\u0000�&quot;</code></p>\n<p>Just wanted the <code> GET /dg/public/course</code></p>\n<p>How can i achieve that.\nThis is my logback.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n\n  &lt;property name=&quot;LOGS&quot; value=&quot;/tmp/logs&quot; /&gt;\n\n  &lt;appender name=&quot;Console&quot;\n    class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\n      &lt;Pattern&gt;\n        %black(%d{ISO8601}) %highlight(%-5level) [%blue(%t)] %yellow(%C{1.}): %msg%n%throwable\n      &lt;/Pattern&gt;\n    &lt;/layout&gt;\n  &lt;/appender&gt;\n\n  &lt;appender name=&quot;RollingFile&quot;\n    class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n    &lt;file&gt;${LOGS}/spring-boot-logger.log&lt;/file&gt;\n    &lt;encoder\n      class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\n      &lt;Pattern&gt;%d %p %C{1.} [%t] %m%n&lt;/Pattern&gt;\n    &lt;/encoder&gt;\n\n    &lt;rollingPolicy\n      class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n      &lt;!-- rollover daily and when the file reaches 10 MegaBytes --&gt;\n      &lt;fileNamePattern&gt;${LOGS}/archived/spring-boot-logger-%d{yyyy-MM-dd}.%i.log\n      &lt;/fileNamePattern&gt;\n      &lt;timeBasedFileNamingAndTriggeringPolicy\n        class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\n        &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;\n      &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\n    &lt;/rollingPolicy&gt;\n  &lt;/appender&gt;\n\n  &lt;!-- LOG everything at INFO level --&gt;\n  &lt;root level=&quot;info&quot;&gt;\n    &lt;appender-ref ref=&quot;RollingFile&quot; /&gt;\n    &lt;appender-ref ref=&quot;Console&quot; /&gt;\n  &lt;/root&gt;\n\n  &lt;!-- LOG &quot;com.teaching.gradzee*&quot; at TRACE level --&gt;\n  &lt;logger name=&quot;com.teaching.gradzee&quot; level=&quot;trace&quot; additivity=&quot;false&quot;&gt;\n    &lt;appender-ref ref=&quot;RollingFile&quot; /&gt;\n    &lt;appender-ref ref=&quot;Console&quot; /&gt;\n  &lt;/logger&gt;\n  &lt;logger name=&quot;org.hibernate.SQL&quot; level=&quot;ERROR&quot; /&gt;\n  &lt;logger name=&quot;org.springframework.web.filter.CommonsRequestLoggingFilter&quot; level=&quot;DEBUG&quot;/&gt;\n&lt;!--  &lt;logger name=&quot;org.zalando.logbook&quot; level=&quot;TRACE&quot; /&gt;--&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>Using new relic for logging.</p>\n<p>Agent is running in ec2, my application is in Docker</p>\n"},{"tags":["java","string","format","output","printf"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1674141167,"post_id":75174341,"comment_id":132655292,"body_markdown":"You need to parse the string into separate variables. Ex: `000001BilboBagginsEsq.1020` -&gt; `int id = 1; String firstName = Bilbo; etc...` Is there a consistent format to the lines?","body":"You need to parse the string into separate variables. Ex: <code>000001BilboBagginsEsq.1020</code> -&gt; <code>int id = 1; String firstName = Bilbo; etc...</code> Is there a consistent format to the lines?"},{"owner":{"account_id":26416079,"reputation":31,"user_id":20064471,"display_name":"olearymw"},"score":0,"creation_date":1674141289,"post_id":75174341,"comment_id":132655338,"body_markdown":"The data points are in separate variables but they are entered via user input in a separate program in the same project and are stored in a CSV variable as CSVPersonData = ID + firstName + lastName + Title + YOB;  Is this the format you are referring to?","body":"The data points are in separate variables but they are entered via user input in a separate program in the same project and are stored in a CSV variable as CSVPersonData = ID + firstName + lastName + Title + YOB;  Is this the format you are referring to?"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1674141742,"post_id":75174341,"comment_id":132655526,"body_markdown":"Still a bit confused. Is `CSVPersonData` a `String`? Why does it not have commas separating the fields? `000001,Bilbo,Baggins,Esq.,1020`? That&#39;s what the `C` in `CSV` stands for.","body":"Still a bit confused. Is <code>CSVPersonData</code> a <code>String</code>? Why does it not have commas separating the fields? <code>000001,Bilbo,Baggins,Esq.,1020</code>? That&#39;s what the <code>C</code> in <code>CSV</code> stands for."},{"owner":{"account_id":26416079,"reputation":31,"user_id":20064471,"display_name":"olearymw"},"score":0,"creation_date":1674143416,"post_id":75174341,"comment_id":132656145,"body_markdown":"Sorry I know it is confusing, yes it is a string that contains ID, First Name, Last Name, Title, and YOB.  I realized I did not want the commas in the output but I haven&#39;t renamed the variable which I probably should.  I just want them to display with space in between.","body":"Sorry I know it is confusing, yes it is a string that contains ID, First Name, Last Name, Title, and YOB.  I realized I did not want the commas in the output but I haven&#39;t renamed the variable which I probably should.  I just want them to display with space in between."},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1674144813,"post_id":75174341,"comment_id":132656672,"body_markdown":"When smash all the data together like that you need some way to unsmash it. There needs to be a pattern. Assuming the first and last fields are always numbers, and the inner 3 fields are capital letters followed by lower case letters, you can use regex: `&quot;(\\\\d+)([A-Z][a-z]+)([A-Z][a-z]+)([A-Z][a-z.]+)(\\\\d+)&quot;`","body":"When smash all the data together like that you need some way to unsmash it. There needs to be a pattern. Assuming the first and last fields are always numbers, and the inner 3 fields are capital letters followed by lower case letters, you can use regex: <code>&quot;(\\\\d+)([A-Z][a-z]+)([A-Z][a-z]+)([A-Z][a-z.]+)(\\\\d+)&quot;</code>"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684710506,"creation_date":1684710506,"answer_id":76302274,"question_id":75174341,"body_markdown":"The fields have no delimiter, it appears.\r\n\r\nThe text `000001BilboBagginsEsq.1020` needs to be delimited somehow.\r\n\r\nFor the sake of argument, I&#39;m going to presume the first field is a number, and second is a word, starting with an uppercase letter, same with the third and forth field, and the fifth field is a number.\r\n\r\nThere are a few approaches you can take to accomplish this task.\r\n\r\nI recommend using a `Pattern` and `Matcher` to capture the values.  \r\nYou can then use a basic `class` structure to hold the data for each line.\r\n\r\nConsider the following class.\r\n\r\n```java\r\nclass Entry {\r\n    String fieldA, firstName, secondName, title, fieldE;\r\n\r\n    static Entry parse(String string) {\r\n        Entry entry = new Entry();\r\n        String regex = &quot;(\\\\d+)([A-Z][a-z._]+)([A-Z][a-z._]+)([A-Z][a-z._]+)(\\\\d+)&quot;;\r\n        Pattern pattern = Pattern.compile(regex);\r\n        Matcher matcher = pattern.matcher(string);\r\n        if (matcher.find()) {\r\n            entry.fieldA = matcher.group(1);\r\n            entry.firstName = matcher.group(2);\r\n            entry.secondName = matcher.group(3);\r\n            entry.title = matcher.group(4);\r\n            entry.fieldE = matcher.group(5);\r\n        }\r\n        return entry;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        String string;\r\n        string = &quot;%-15s&quot;.formatted(fieldA);\r\n        string += &quot;%-15s&quot;.formatted(firstName);\r\n        string += &quot;%-15s&quot;.formatted(secondName);\r\n        string += &quot;%-15s&quot;.formatted(title);\r\n        string += &quot;%s&quot;.formatted(fieldE);\r\n        return string;\r\n    }\r\n}\r\n```\r\n\r\nThe `parse` method is static, and can be used to return an instance of `Entry`, given the line.  \r\nThe `toString` method will be used to format the data into a `String`, which we can then print to the standard-out.\r\n\r\nYou can then use the following method to read a file, line-for-line, and print the data out.\r\n\r\n```java\r\nvoid print(String path) throws IOException {\r\n    try (BufferedReader reader = new BufferedReader(new FileReader(path))) {\r\n        Entry entry;\r\n        String line;\r\n        int count = 0;\r\n        while ((line = reader.readLine()) != null)\r\n            System.out.println(++count + &quot; &quot; + Entry.parse(line));\r\n    }\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n1 000001         Bilbo          Baggins        Esq.           1020\r\n```","title":"Printing Spaces When Reading From a File","body":"<p>The fields have no delimiter, it appears.</p>\n<p>The text <code>000001BilboBagginsEsq.1020</code> needs to be delimited somehow.</p>\n<p>For the sake of argument, I'm going to presume the first field is a number, and second is a word, starting with an uppercase letter, same with the third and forth field, and the fifth field is a number.</p>\n<p>There are a few approaches you can take to accomplish this task.</p>\n<p>I recommend using a <code>Pattern</code> and <code>Matcher</code> to capture the values.<br />\nYou can then use a basic <code>class</code> structure to hold the data for each line.</p>\n<p>Consider the following class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Entry {\n    String fieldA, firstName, secondName, title, fieldE;\n\n    static Entry parse(String string) {\n        Entry entry = new Entry();\n        String regex = &quot;(\\\\d+)([A-Z][a-z._]+)([A-Z][a-z._]+)([A-Z][a-z._]+)(\\\\d+)&quot;;\n        Pattern pattern = Pattern.compile(regex);\n        Matcher matcher = pattern.matcher(string);\n        if (matcher.find()) {\n            entry.fieldA = matcher.group(1);\n            entry.firstName = matcher.group(2);\n            entry.secondName = matcher.group(3);\n            entry.title = matcher.group(4);\n            entry.fieldE = matcher.group(5);\n        }\n        return entry;\n    }\n\n    @Override\n    public String toString() {\n        String string;\n        string = &quot;%-15s&quot;.formatted(fieldA);\n        string += &quot;%-15s&quot;.formatted(firstName);\n        string += &quot;%-15s&quot;.formatted(secondName);\n        string += &quot;%-15s&quot;.formatted(title);\n        string += &quot;%s&quot;.formatted(fieldE);\n        return string;\n    }\n}\n</code></pre>\n<p>The <code>parse</code> method is static, and can be used to return an instance of <code>Entry</code>, given the line.<br />\nThe <code>toString</code> method will be used to format the data into a <code>String</code>, which we can then print to the standard-out.</p>\n<p>You can then use the following method to read a file, line-for-line, and print the data out.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void print(String path) throws IOException {\n    try (BufferedReader reader = new BufferedReader(new FileReader(path))) {\n        Entry entry;\n        String line;\n        int count = 0;\n        while ((line = reader.readLine()) != null)\n            System.out.println(++count + &quot; &quot; + Entry.parse(line));\n    }\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>1 000001         Bilbo          Baggins        Esq.           1020\n</code></pre>\n"}],"owner":{"account_id":26416079,"reputation":31,"user_id":20064471,"display_name":"olearymw"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684710506,"creation_date":1674140942,"question_id":75174341,"body_markdown":"I am trying to print the contents of a file that is read using a while loop after the user selects it from the JChooser prompt window.  The file is written in a program and contains an ID, first name, last name, title, and year of birth that is stored in a written data file as &quot;000001BilboBagginsEsq.1020&quot;  I am trying to use another program to choose the data file print the contents to the console such that it displays as:\r\n\r\n\r\n    000001          Bilbo              Baggins           Esq.          1020\r\n\r\n\r\nI want to use the printf statement to format the data that is read and stored in the &quot;rec&quot; variable in this manner, but when I pass in the data from the file it seems to ignore the printf format and prints the data like this in the console:\r\n\r\n    1 000001BilboBagginsEsq.1020\r\n\r\n \r\n\r\n\r\nMy program uses the JChooser to pick a file and print its contents using a while loop:\r\n\r\n                    \r\n```\r\nwhile(reader.ready())\r\n                {\r\n                    rec = reader.readLine();\r\n                    line++;                    \r\n                    System.out.printf(&quot;\\n%4d %-60s &quot;, line, rec);\r\n                }\r\n                    reader.close();\r\nSystem.out.println(&quot;\\n\\nData file read!&quot;); \r\n```\r\n\r\n\r\nAny help on this would be appreciated.\r\n\r\n\r\n\r\n\r\nI tried formatting the rec using printf, expecting the output to display:\r\n\r\n    000001          Bilbo              Baggins           Esq.          1020\r\n\r\nBut instead it still prints:\r\n\r\n    1 000001BilboBagginsEsq.1020","title":"Printing Spaces When Reading From a File","body":"<p>I am trying to print the contents of a file that is read using a while loop after the user selects it from the JChooser prompt window.  The file is written in a program and contains an ID, first name, last name, title, and year of birth that is stored in a written data file as &quot;000001BilboBagginsEsq.1020&quot;  I am trying to use another program to choose the data file print the contents to the console such that it displays as:</p>\n<pre><code>000001          Bilbo              Baggins           Esq.          1020\n</code></pre>\n<p>I want to use the printf statement to format the data that is read and stored in the &quot;rec&quot; variable in this manner, but when I pass in the data from the file it seems to ignore the printf format and prints the data like this in the console:</p>\n<pre><code>1 000001BilboBagginsEsq.1020\n</code></pre>\n<p>My program uses the JChooser to pick a file and print its contents using a while loop:</p>\n<pre><code>while(reader.ready())\n                {\n                    rec = reader.readLine();\n                    line++;                    \n                    System.out.printf(&quot;\\n%4d %-60s &quot;, line, rec);\n                }\n                    reader.close();\nSystem.out.println(&quot;\\n\\nData file read!&quot;); \n</code></pre>\n<p>Any help on this would be appreciated.</p>\n<p>I tried formatting the rec using printf, expecting the output to display:</p>\n<pre><code>000001          Bilbo              Baggins           Esq.          1020\n</code></pre>\n<p>But instead it still prints:</p>\n<pre><code>1 000001BilboBagginsEsq.1020\n</code></pre>\n"},{"tags":["java","python","interface","interaction"],"comments":[{"owner":{"account_id":2045,"reputation":2940,"user_id":2815,"accept_rate":82,"display_name":"Petriborg"},"score":0,"creation_date":1262274195,"post_id":1984445,"comment_id":1902295,"body_markdown":"How does the python program take input? This doesn&#39;t make a lot of sense, does it read from a directory every X minutes, or from STDIO? Do you exec the code yourself or what?","body":"How does the python program take input? This doesn&#39;t make a lot of sense, does it read from a directory every X minutes, or from STDIO? Do you exec the code yourself or what?"}],"answers":[{"tags":[],"owner":{"account_id":57112,"reputation":37790,"user_id":171061,"accept_rate":76,"display_name":"Steven Schlansker"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1262246232,"creation_date":1262246232,"answer_id":1984453,"question_id":1984445,"body_markdown":"Look into [Jython][1] - you can run Python programs directly from Java code, and interact seamlessly back and forth.\r\n\r\n\r\n  [1]: http://www.jython.org/","title":"Interaction between Java App and Python App","body":"<p>Look into <a href=\"http://www.jython.org/\" rel=\"nofollow noreferrer\">Jython</a> - you can run Python programs directly from Java code, and interact seamlessly back and forth.</p>\n"},{"tags":[],"owner":{"account_id":16963,"reputation":13521,"user_id":37494,"accept_rate":95,"display_name":"Perpetualcoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1262246312,"creation_date":1262246312,"answer_id":1984457,"question_id":1984445,"body_markdown":"Expose one of the two as a service of some kind, web service maybe. Another option is to port the python code to Jython","title":"Interaction between Java App and Python App","body":"<p>Expose one of the two as a service of some kind, web service maybe. Another option is to port the python code to Jython</p>\n"},{"tags":[],"owner":{"account_id":71337,"reputation":26066,"user_id":206417,"accept_rate":71,"display_name":"Dave Kirby"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1262250101,"creation_date":1262250101,"answer_id":1984611,"question_id":1984445,"body_markdown":"One possible solution is [jpype][1].  This allows you to launch a JVM from Python and pass data back and forth between them.\r\n\r\nAnother solution may be to write the Python program as a filter (reading data from stdin and writing result to stdout) then run it as a pipe.  However I do not know how well Java supports this - according to the Sun docs their concept of pipes only supports communication between threads on the same JVM.  \r\n\r\n\r\n  [1]: http://jpype.sourceforge.net/","title":"Interaction between Java App and Python App","body":"<p>One possible solution is <a href=\"http://jpype.sourceforge.net/\" rel=\"nofollow noreferrer\">jpype</a>.  This allows you to launch a JVM from Python and pass data back and forth between them.</p>\n\n<p>Another solution may be to write the Python program as a filter (reading data from stdin and writing result to stdout) then run it as a pipe.  However I do not know how well Java supports this - according to the Sun docs their concept of pipes only supports communication between threads on the same JVM.  </p>\n"},{"tags":[],"owner":{"account_id":5890,"reputation":13624,"user_id":9686,"accept_rate":69,"display_name":"helios"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1262251348,"creation_date":1262251348,"answer_id":1984649,"question_id":1984445,"body_markdown":"I don&#39;t know nothing about Jython and the like. I guess it&#39;s the best solution if you can execute two programs without executing a new process each time the Java app needs to transform text. Anyway a simple proof of concept is to execute a separate process from the Java App to make it work. Next you can enhance the execution with all that tools.\r\n\r\n**Executing a separate process from Java**\r\n\r\n    String[] envprops = new String[] {&quot;PROP1=VAL1&quot;, &quot;PROP2=VAL2&quot; };\r\n    Process pythonProc = Runtime.getRuntime().exec(\r\n       &quot;the command to execute the python app&quot;, \r\n        envprops, \r\n        new File(&quot;/workingdirectory&quot;));\r\n    \r\n    // get an outputstream to write into the standard input of python\r\n    OutputStream toPython = pythonProc.getOutputStream();\r\n    \r\n    // get an inputstream to read from the standard output of python\r\n    InputStream fromPython = pythonProc.getInputStream();\r\n    \r\n    // send something\r\n    toPython.write(.....);\r\n    // receive something\r\n    fromPython.read(....);\r\n\r\n**Important: chars are NOT bytes**\r\n\r\nA lot of people understimate this.\r\n\r\nBe careful with char to byte conversions (remember Writers/Readers are for chars, Input/OutputStreams are for bytes, encoding is necesary for convertir one to another, you can use `OuputStreamWriter` to convert string to bytes and send, `InputStreamReader` to convert bytes to chars and read them).\r\n","title":"Interaction between Java App and Python App","body":"<p>I don't know nothing about Jython and the like. I guess it's the best solution if you can execute two programs without executing a new process each time the Java app needs to transform text. Anyway a simple proof of concept is to execute a separate process from the Java App to make it work. Next you can enhance the execution with all that tools.</p>\n\n<p><strong>Executing a separate process from Java</strong></p>\n\n<pre><code>String[] envprops = new String[] {\"PROP1=VAL1\", \"PROP2=VAL2\" };\nProcess pythonProc = Runtime.getRuntime().exec(\n   \"the command to execute the python app\", \n    envprops, \n    new File(\"/workingdirectory\"));\n\n// get an outputstream to write into the standard input of python\nOutputStream toPython = pythonProc.getOutputStream();\n\n// get an inputstream to read from the standard output of python\nInputStream fromPython = pythonProc.getInputStream();\n\n// send something\ntoPython.write(.....);\n// receive something\nfromPython.read(....);\n</code></pre>\n\n<p><strong>Important: chars are NOT bytes</strong></p>\n\n<p>A lot of people understimate this.</p>\n\n<p>Be careful with char to byte conversions (remember Writers/Readers are for chars, Input/OutputStreams are for bytes, encoding is necesary for convertir one to another, you can use <code>OuputStreamWriter</code> to convert string to bytes and send, <code>InputStreamReader</code> to convert bytes to chars and read them).</p>\n"},{"tags":[],"owner":{"account_id":44313,"reputation":2180,"user_id":129994,"accept_rate":65,"display_name":"Rod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1262251350,"creation_date":1262251350,"answer_id":1984650,"question_id":1984445,"body_markdown":"An option is making the python application work as a server, listens for request via sockets (TCP).","title":"Interaction between Java App and Python App","body":"<p>An option is making the python application work as a server, listens for request via sockets (TCP).</p>\n"},{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1684710219,"creation_date":1262266974,"answer_id":1985463,"question_id":1984445,"body_markdown":"Use [ProcessBuilder](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ProcessBuilder.html) to  execute your [Python](https://docs.python.org/3/) code as a filter:\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.InputStreamReader;\r\n    \r\n    public class PBTest {\r\n    \r\n        public static void main(String[] args) {\r\n            ProcessBuilder pb = new ProcessBuilder(\r\n                &quot;python3&quot;, &quot;-c&quot;, &quot;print(42)&quot;);\r\n            pb.redirectErrorStream(true);\r\n            try {\r\n                Process p = pb.start();\r\n                String s;\r\n                BufferedReader stdout = new BufferedReader(\r\n                    new InputStreamReader(p.getInputStream()));\r\n                while ((s = stdout.readLine()) != null) {\r\n                    System.out.println(s);\r\n                }\r\n                System.out.println(&quot;Exit value: &quot; + p.waitFor());\r\n                p.getInputStream().close();\r\n                p.getOutputStream().close();\r\n                p.getErrorStream().close();\r\n            } catch (Exception ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Interaction between Java App and Python App","body":"<p>Use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ProcessBuilder.html\" rel=\"nofollow noreferrer\">ProcessBuilder</a> to  execute your <a href=\"https://docs.python.org/3/\" rel=\"nofollow noreferrer\">Python</a> code as a filter:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.InputStreamReader;\n\npublic class PBTest {\n\n    public static void main(String[] args) {\n        ProcessBuilder pb = new ProcessBuilder(\n            &quot;python3&quot;, &quot;-c&quot;, &quot;print(42)&quot;);\n        pb.redirectErrorStream(true);\n        try {\n            Process p = pb.start();\n            String s;\n            BufferedReader stdout = new BufferedReader(\n                new InputStreamReader(p.getInputStream()));\n            while ((s = stdout.readLine()) != null) {\n                System.out.println(s);\n            }\n            System.out.println(&quot;Exit value: &quot; + p.waitFor());\n            p.getInputStream().close();\n            p.getOutputStream().close();\n            p.getErrorStream().close();\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":44313,"reputation":2180,"user_id":129994,"accept_rate":65,"display_name":"Rod"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6713,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":6,"score":3,"last_activity_date":1684710219,"creation_date":1262245962,"question_id":1984445,"body_markdown":"I have a python application which I cant edit its a black box from my point of view. The python application knows how to process text and return processed text.\r\nI have another application written in Java which knows how to collect non processed texts.\r\n\r\nCurrent state, the python app works in batch mode every x minutes.\r\n\r\nI want to make the python \r\n\r\nprocessing part of the process: Java app collects text and request the python app to process and return processed text as part of a flow.\r\n\r\nWhat do you think is the simplest solution for this?\r\n\r\nThanks,\r\nRod","title":"Interaction between Java App and Python App","body":"<p>I have a python application which I cant edit its a black box from my point of view. The python application knows how to process text and return processed text.\nI have another application written in Java which knows how to collect non processed texts.</p>\n\n<p>Current state, the python app works in batch mode every x minutes.</p>\n\n<p>I want to make the python </p>\n\n<p>processing part of the process: Java app collects text and request the python app to process and return processed text as part of a flow.</p>\n\n<p>What do you think is the simplest solution for this?</p>\n\n<p>Thanks,\nRod</p>\n"},{"tags":["java","jpa","jparepository"],"answers":[{"tags":[],"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684707454,"creation_date":1684706929,"answer_id":76302120,"question_id":76302053,"body_markdown":"JPA does not use your constructor. JPA specification requires no-arg constructor. You JPA implementation can create one for you if you don&#39;t provide one no-arg constructor (For example openjpa does it, see https://openjpa.apache.org/builds/1.2.3/apache-openjpa/docs/jpa_overview_pc.html#jpa_overview_pc_no_arg).\r\n\r\nThat&#39;s why your code works when you change the getter to compute the age value.\r\n\r\nIf you don&#39;t want to recompute the age every time the getter is called you can :\r\n\r\n - compute the age when the birth date is set, in the setDateOfBirth() method.\r\n - lazily compute and store the age in the getAge() method. Something like :\r\n\r\n```\r\n\r\n    public Integer getAge() {\r\n      if (age == null &amp;&amp; dateOfBirth != null) {\r\n        age = Period.between(dateOfBirth, LocalDate.now()).getYears();\r\n       }\r\n       return age;\r\n    }\r\n\r\n```\r\n","title":"Class entity returned from method findAll of JpaRepository has field value of null on field calculated inside the constructor","body":"<p>JPA does not use your constructor. JPA specification requires no-arg constructor. You JPA implementation can create one for you if you don't provide one no-arg constructor (For example openjpa does it, see <a href=\"https://openjpa.apache.org/builds/1.2.3/apache-openjpa/docs/jpa_overview_pc.html#jpa_overview_pc_no_arg\" rel=\"nofollow noreferrer\">https://openjpa.apache.org/builds/1.2.3/apache-openjpa/docs/jpa_overview_pc.html#jpa_overview_pc_no_arg</a>).</p>\n<p>That's why your code works when you change the getter to compute the age value.</p>\n<p>If you don't want to recompute the age every time the getter is called you can :</p>\n<ul>\n<li>compute the age when the birth date is set, in the setDateOfBirth() method.</li>\n<li>lazily compute and store the age in the getAge() method. Something like :</li>\n</ul>\n<pre><code>\n    public Integer getAge() {\n      if (age == null &amp;&amp; dateOfBirth != null) {\n        age = Period.between(dateOfBirth, LocalDate.now()).getYears();\n       }\n       return age;\n    }\n\n</code></pre>\n"}],"owner":{"account_id":21257039,"reputation":3,"user_id":15638373,"display_name":"Jo&#227;o Hass"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76302120,"answer_count":1,"score":0,"last_activity_date":1684707454,"creation_date":1684705760,"question_id":76302053,"body_markdown":"I have a Student class that has some fields, including &quot;age&quot; and &quot;dateOfBirth&quot;. The age value is calculated and attributed inside the constructor, based on the dateOfBirth, as following:\r\n\r\n\r\n```java\r\n//Student.java\r\n\r\nprivate Integer id;\r\nprivate String name;\r\nprivate String email;\r\nprivate LocalDate dateOfBirth;\r\n@Transient\r\nprivate Integer age;\r\n\r\npublic Student(String name, String email, LocalDate dateOfBirth) {\r\n    this.name = name; // ex: &quot;John Doe&quot;\r\n    this.email = email; // ex: &quot;johndoe@gmail.com&quot;\r\n    this.dateOfBirth = dateOfBirth; // ex: LocalDate.of(2002, Month.MAY, 1));\r\n    this.age = Period.between(dateOfBirth, LocalDate.now()).getYears(); // result: 21\r\n}\r\n```\r\n\r\nThe ``getAge()`` method inside the Student class returns the age field value\r\n\r\n\r\n```java\r\n//Student.java\r\n\r\npublic Integer getAge() {\r\n    return age; // Returns the expected value (21)\r\n}\r\n```\r\n\r\n*(getters for every other field have the same structure as the ``getAge()``: they return the field&#39;s value)*\r\n\r\nI also have a simple Repository, to query data from DB. It extends from the ``JpaRepository`` and has nothing inside it:\r\n\r\n```java\r\n//StudentRepository.java\r\n\r\n@Repository\r\npublic interface StudentRepository extends JpaRepository&lt;Student, Integer&gt; { }\r\n```\r\n\r\nInside the StudentController class, I have a route to ``&quot;/&quot;``, which simply gets all the students from DB and return them:\r\n\r\n```java\r\n//StudentController.java\r\n\r\n@GetMapping(&quot;/&quot;)\r\npublic List&lt;Student&gt; getStudents() {\r\n     return studentService.getStudents();\r\n}\r\n```\r\n\r\nThe result I was expecting is the following, with the age field&#39;s value being 21:\r\n\r\n\r\n```json\r\n[{&quot;id&quot;:1,&quot;name&quot;:&quot;John Doe&quot;,&quot;email&quot;:&quot;johndoe@gmail.com&quot;,&quot;dateOfBirth&quot;:&quot;2002-05-01&quot;,&quot;age&quot;:21}]\r\n```\r\n\r\nInstead, I got a ``null`` value for the age field:\r\n\r\n\r\n```json\r\n[{&quot;id&quot;:1,&quot;name&quot;:&quot;John Doe&quot;,&quot;email&quot;:&quot;johndoe@gmail.com&quot;,&quot;dateOfBirth&quot;:&quot;2002-05-01&quot;,&quot;age&quot;:null}]\r\n```\r\n\r\nBut if I change the ``getAge()`` method implementation of the Student class to:\r\n\r\n\r\n```java\r\n// Student.java\r\n\r\n public Integer getAge() {\r\n    return Period.between(dateOfBirth, LocalDate.now()).getYears();\r\n}\r\n```\r\n\r\nI get the ``21`` as expected, not ``null``. \r\n\r\n\r\n```json\r\n[{&quot;id&quot;:1,&quot;name&quot;:&quot;John Doe&quot;,&quot;email&quot;:&quot;johndoe@gmail.com&quot;,&quot;dateOfBirth&quot;:&quot;2002-05-01&quot;,&quot;age&quot;:21}]\r\n```","title":"Class entity returned from method findAll of JpaRepository has field value of null on field calculated inside the constructor","body":"<p>I have a Student class that has some fields, including &quot;age&quot; and &quot;dateOfBirth&quot;. The age value is calculated and attributed inside the constructor, based on the dateOfBirth, as following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//Student.java\n\nprivate Integer id;\nprivate String name;\nprivate String email;\nprivate LocalDate dateOfBirth;\n@Transient\nprivate Integer age;\n\npublic Student(String name, String email, LocalDate dateOfBirth) {\n    this.name = name; // ex: &quot;John Doe&quot;\n    this.email = email; // ex: &quot;johndoe@gmail.com&quot;\n    this.dateOfBirth = dateOfBirth; // ex: LocalDate.of(2002, Month.MAY, 1));\n    this.age = Period.between(dateOfBirth, LocalDate.now()).getYears(); // result: 21\n}\n</code></pre>\n<p>The <code>getAge()</code> method inside the Student class returns the age field value</p>\n<pre class=\"lang-java prettyprint-override\"><code>//Student.java\n\npublic Integer getAge() {\n    return age; // Returns the expected value (21)\n}\n</code></pre>\n<p><em>(getters for every other field have the same structure as the <code>getAge()</code>: they return the field's value)</em></p>\n<p>I also have a simple Repository, to query data from DB. It extends from the <code>JpaRepository</code> and has nothing inside it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//StudentRepository.java\n\n@Repository\npublic interface StudentRepository extends JpaRepository&lt;Student, Integer&gt; { }\n</code></pre>\n<p>Inside the StudentController class, I have a route to <code>&quot;/&quot;</code>, which simply gets all the students from DB and return them:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//StudentController.java\n\n@GetMapping(&quot;/&quot;)\npublic List&lt;Student&gt; getStudents() {\n     return studentService.getStudents();\n}\n</code></pre>\n<p>The result I was expecting is the following, with the age field's value being 21:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[{&quot;id&quot;:1,&quot;name&quot;:&quot;John Doe&quot;,&quot;email&quot;:&quot;johndoe@gmail.com&quot;,&quot;dateOfBirth&quot;:&quot;2002-05-01&quot;,&quot;age&quot;:21}]\n</code></pre>\n<p>Instead, I got a <code>null</code> value for the age field:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[{&quot;id&quot;:1,&quot;name&quot;:&quot;John Doe&quot;,&quot;email&quot;:&quot;johndoe@gmail.com&quot;,&quot;dateOfBirth&quot;:&quot;2002-05-01&quot;,&quot;age&quot;:null}]\n</code></pre>\n<p>But if I change the <code>getAge()</code> method implementation of the Student class to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Student.java\n\n public Integer getAge() {\n    return Period.between(dateOfBirth, LocalDate.now()).getYears();\n}\n</code></pre>\n<p>I get the <code>21</code> as expected, not <code>null</code>.</p>\n<pre class=\"lang-json prettyprint-override\"><code>[{&quot;id&quot;:1,&quot;name&quot;:&quot;John Doe&quot;,&quot;email&quot;:&quot;johndoe@gmail.com&quot;,&quot;dateOfBirth&quot;:&quot;2002-05-01&quot;,&quot;age&quot;:21}]\n</code></pre>\n"},{"tags":["java","json","spring-data-jpa","jackson"],"comments":[{"owner":{"account_id":14999839,"reputation":138,"user_id":10827862,"display_name":"smileis2333"},"score":0,"creation_date":1684398153,"post_id":76220447,"comment_id":134513023,"body_markdown":"could you post the code that about your use case","body":"could you post the code that about your use case"},{"owner":{"account_id":2842013,"reputation":1289,"user_id":2441441,"accept_rate":65,"display_name":"user2441441"},"score":0,"creation_date":1684505611,"post_id":76220447,"comment_id":134531449,"body_markdown":"@similieis2333 which code? I mean code about what? I thought my example was code","body":"@similieis2333 which code? I mean code about what? I thought my example was code"}],"answers":[{"tags":[],"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684707332,"creation_date":1684707332,"answer_id":76302143,"question_id":76220447,"body_markdown":"&gt; How would this deserializing work if I know that I&#39;m de-serializing Employee.class, but the Json for employees that I receive does not have the entityType as a property at all?\r\n\r\nIf *you* know that the JSON represents an `Employee` and not a `Contractor` (e.g. based on the source) then you can invoke the mapper passing the `Employee` class.  But if you are using this in a general case where you want the deserialization to return either `Employee` or `Contractor` then there needs to be a _discriminator_ so the deserializer can choose the correct concrete class itself.  (Consider the case where two subclasses have identical fields, but nevertheless are being modelled as different classes - there would be no way for the serializer to guess which class it should instantiate.)\r\n\r\n(1) I suggest that you accept the permanent addition of `entityType` in the superclass - and in particular you should serialize it so that the JSON then carries the type info.  And (2) you should remove the `@JsonIgnoreProperties...` so that the type info *is* available to the deserializer.\r\n\r\nTo enforce the correct type automatically here&#39;s what you can do: (3) `BaseClass` should require `entityType` in its constructor and you can code the correct type in `Employee` and `Contractor` constructors so they pass the type to `BaseClass`.\r\n\r\nAs you are now managing the `entityType` yourself, I think (4) the `@JsonTypeInfo` should be:\r\n\r\n```\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.EXISTING_PROPERTY, property = &quot;entityType&quot;, visible = true)\r\n                                                                    ^^^^^^^^^\r\n```\r\n\r\nThis approach is compatible with JPA.  I am using Jackson, Spring Data and Mongo as my backing store.  In the case of Mongo, Spring adds a `_class` field as its own different way to handle the de/serialisation.  The `_class` field occurs in the database but is not in the java object.  So this approach is using two parallel methods of type management and they do not collide; in fact this allows finer-grain control should you need slightly different external (JSON) models compared to the backing store.","title":"JPA and Jackson with Inheritance - How to get this to work?","body":"<blockquote>\n<p>How would this deserializing work if I know that I'm de-serializing Employee.class, but the Json for employees that I receive does not have the entityType as a property at all?</p>\n</blockquote>\n<p>If <em>you</em> know that the JSON represents an <code>Employee</code> and not a <code>Contractor</code> (e.g. based on the source) then you can invoke the mapper passing the <code>Employee</code> class.  But if you are using this in a general case where you want the deserialization to return either <code>Employee</code> or <code>Contractor</code> then there needs to be a <em>discriminator</em> so the deserializer can choose the correct concrete class itself.  (Consider the case where two subclasses have identical fields, but nevertheless are being modelled as different classes - there would be no way for the serializer to guess which class it should instantiate.)</p>\n<p>(1) I suggest that you accept the permanent addition of <code>entityType</code> in the superclass - and in particular you should serialize it so that the JSON then carries the type info.  And (2) you should remove the <code>@JsonIgnoreProperties...</code> so that the type info <em>is</em> available to the deserializer.</p>\n<p>To enforce the correct type automatically here's what you can do: (3) <code>BaseClass</code> should require <code>entityType</code> in its constructor and you can code the correct type in <code>Employee</code> and <code>Contractor</code> constructors so they pass the type to <code>BaseClass</code>.</p>\n<p>As you are now managing the <code>entityType</code> yourself, I think (4) the <code>@JsonTypeInfo</code> should be:</p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.EXISTING_PROPERTY, property = &quot;entityType&quot;, visible = true)\n                                                                    ^^^^^^^^^\n</code></pre>\n<p>This approach is compatible with JPA.  I am using Jackson, Spring Data and Mongo as my backing store.  In the case of Mongo, Spring adds a <code>_class</code> field as its own different way to handle the de/serialisation.  The <code>_class</code> field occurs in the database but is not in the java object.  So this approach is using two parallel methods of type management and they do not collide; in fact this allows finer-grain control should you need slightly different external (JSON) models compared to the backing store.</p>\n"}],"owner":{"account_id":2842013,"reputation":1289,"user_id":2441441,"accept_rate":65,"display_name":"user2441441"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684707332,"creation_date":1683733909,"question_id":76220447,"body_markdown":"I think this can be better explained with an example(code is below). Suppose I have BaseClass and some sub-classes like Employee, Contractor etc. I do not want a database table for BaseClass(Hence using @MappedSuperClass).\r\nBaseClass has some common fields, but entityType is not a valid database field in any subclass like Employee, Contrator (Hence I denoted it as @Transient).\r\nNow I get back a json that has all the Employee values, it does not have endDate value that is in the BaseClass. I want to set the BaseClass&#39;s common fields like endDate in the Employee class and save it to the Employee table.\r\n\r\nWhen retrieving I want to retrieve all Employees that have an endDate as some value. This should be possible because I did save the endDate when saving my Employee records.\r\n\r\nAdditional Info: I&#39;m having trouble getting this to work. I&#39;m using openAPI and I understood that I need this discriminator column to have a super class-sub class relationship generated - https://stackoverflow.com/questions/76105116/inheritance-from-empty-abstract-class-using-openapi-3-0/76105322?noredirect=1#comment134400499_76105322. \r\n\r\n\r\n          @JsonIgnoreProperties(\r\n      value = &quot;entityType&quot;, // ignore manually set entityType, it will be automatically generated by Jackson during serialization\r\n      allowSetters = true // allows the entityType to be set during deserialization\r\n    )\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;entityType&quot;, visible = true)\r\n    @JsonSubTypes({\r\n      @JsonSubTypes.Type(value = Employee.class, name = &quot;Employee&quot;)\r\n       @JsonSubTypes.Type(value = Contractor.class, name = &quot;Contractor&quot;)\r\n    }) \r\n      @jakarta.persistence.MappedSuperclass\r\n      public abstract BaseClass{\r\n       //common to all sub-classes\r\n       LocalDate endDate;\r\n\r\n       /**\r\n        Gets or Sets entityType\r\n       */\r\n       public enum EntityTypeEnum {\r\n        Employee(&quot;Employee&quot;);\r\n        Contractor(&quot;Contractor&quot;);\r\n    \r\n        private String value;\r\n    \r\n        EntityTypeEnum(String value) {\r\n          this.value = value;\r\n        }\r\n    \r\n        @JsonValue\r\n        public String getValue() {\r\n          return value;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n          return String.valueOf(value);\r\n        }\r\n    \r\n        @JsonCreator\r\n        public static EntityTypeEnum fromValue(String value) {\r\n          for (EntityTypeEnum b : EntityTypeEnum.values()) {\r\n            if (b.value.equals(value)) {\r\n              return b;\r\n            }\r\n          }\r\n          throw new IllegalArgumentException(&quot;Unexpected value &#39;&quot; + value + &quot;&#39;&quot;);\r\n        }\r\n      }\r\n    \r\n         @JsonProperty(&quot;entityType&quot;)\r\n         @jakarta.persistence.Transient\r\n         private EntityTypeEnum entityType;\r\n    \r\n        }\r\n    \r\n        public Employee extends BaseClass {...}\r\n    \r\n        public Contractor extends BaseClass{...}\r\n\r\nHow would this deserializing work if I know that I&#39;m de-serializing Employee.class, but the Json for employees that I receive does not have the entityType as a property at all? Currently I get &#39;missing type id property &#39;entityType&#39;&#39;\r\nI want to de-serialize a json of Employees to List&lt;Employee&gt; class. The Json does not have entityType or any superclass(i.e. BaseClass from the above example) fields. \r\n\r\nSo to summarize, I want Jackson and JPA to play nicely with each other. \r\n 1. I want to Jackson to correctly read a json, where the json has only the Employee related values(no superclass values yet) (At runtime I will know that I have Employee.class).\r\n 2. I want to save this to the Employees table after setting my own values like endDate(which are in the BaseClass).\r\n 3. I want to retrive this later, from the Employees table, knowing taht I have the endDate and Employee.class value at runtime.\r\n\r\nHope this makes sense. If not let me rephrase my questions:\r\nOpenAPI requires me to use the discriminator, in this case we call it entityType, for the inheritance to work when the classes are generated. But when I do that, Jackson complains that it cannot find the property id entityType when serializing a json. The json obviously does not have a field called entityType because we created this field.\r\nI tired variaous apporached including using :\r\n1.  \r\n\r\n     objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n\r\n2.\r\n   \r\n\r\n    objectMapper.enable(DeserializationFeature.READ_UNKNOWN_ENUM_VALUES_USING_DEFAULT_VALUE);\r\n\r\n3.\r\nAdding the following to the top of the BaseClass:\r\n\r\n    @JsonIgnoreProperties(\r\n      value = &quot;entityType&quot;, // ignore manually set entityType, it will be automatically generated by Jackson during serialization\r\n      allowSetters = true // allows the entityType to be set during deserialization\r\n    )\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;entityType&quot;)\r\n\r\nand I still get this error com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve subtype of [simple type, class Employee]: missing type id property &#39;entityType&#39;\r\n","title":"JPA and Jackson with Inheritance - How to get this to work?","body":"<p>I think this can be better explained with an example(code is below). Suppose I have BaseClass and some sub-classes like Employee, Contractor etc. I do not want a database table for BaseClass(Hence using @MappedSuperClass).\nBaseClass has some common fields, but entityType is not a valid database field in any subclass like Employee, Contrator (Hence I denoted it as @Transient).\nNow I get back a json that has all the Employee values, it does not have endDate value that is in the BaseClass. I want to set the BaseClass's common fields like endDate in the Employee class and save it to the Employee table.</p>\n<p>When retrieving I want to retrieve all Employees that have an endDate as some value. This should be possible because I did save the endDate when saving my Employee records.</p>\n<p>Additional Info: I'm having trouble getting this to work. I'm using openAPI and I understood that I need this discriminator column to have a super class-sub class relationship generated - <a href=\"https://stackoverflow.com/questions/76105116/inheritance-from-empty-abstract-class-using-openapi-3-0/76105322?noredirect=1#comment134400499_76105322\">Inheritance from empty abstract class using openapi 3.0</a>.</p>\n<pre><code>      @JsonIgnoreProperties(\n  value = &quot;entityType&quot;, // ignore manually set entityType, it will be automatically generated by Jackson during serialization\n  allowSetters = true // allows the entityType to be set during deserialization\n)\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;entityType&quot;, visible = true)\n@JsonSubTypes({\n  @JsonSubTypes.Type(value = Employee.class, name = &quot;Employee&quot;)\n   @JsonSubTypes.Type(value = Contractor.class, name = &quot;Contractor&quot;)\n}) \n  @jakarta.persistence.MappedSuperclass\n  public abstract BaseClass{\n   //common to all sub-classes\n   LocalDate endDate;\n\n   /**\n    Gets or Sets entityType\n   */\n   public enum EntityTypeEnum {\n    Employee(&quot;Employee&quot;);\n    Contractor(&quot;Contractor&quot;);\n\n    private String value;\n\n    EntityTypeEnum(String value) {\n      this.value = value;\n    }\n\n    @JsonValue\n    public String getValue() {\n      return value;\n    }\n\n    @Override\n    public String toString() {\n      return String.valueOf(value);\n    }\n\n    @JsonCreator\n    public static EntityTypeEnum fromValue(String value) {\n      for (EntityTypeEnum b : EntityTypeEnum.values()) {\n        if (b.value.equals(value)) {\n          return b;\n        }\n      }\n      throw new IllegalArgumentException(&quot;Unexpected value '&quot; + value + &quot;'&quot;);\n    }\n  }\n\n     @JsonProperty(&quot;entityType&quot;)\n     @jakarta.persistence.Transient\n     private EntityTypeEnum entityType;\n\n    }\n\n    public Employee extends BaseClass {...}\n\n    public Contractor extends BaseClass{...}\n</code></pre>\n<p>How would this deserializing work if I know that I'm de-serializing Employee.class, but the Json for employees that I receive does not have the entityType as a property at all? Currently I get 'missing type id property 'entityType''\nI want to de-serialize a json of Employees to List class. The Json does not have entityType or any superclass(i.e. BaseClass from the above example) fields.</p>\n<p>So to summarize, I want Jackson and JPA to play nicely with each other.</p>\n<ol>\n<li>I want to Jackson to correctly read a json, where the json has only the Employee related values(no superclass values yet) (At runtime I will know that I have Employee.class).</li>\n<li>I want to save this to the Employees table after setting my own values like endDate(which are in the BaseClass).</li>\n<li>I want to retrive this later, from the Employees table, knowing taht I have the endDate and Employee.class value at runtime.</li>\n</ol>\n<p>Hope this makes sense. If not let me rephrase my questions:\nOpenAPI requires me to use the discriminator, in this case we call it entityType, for the inheritance to work when the classes are generated. But when I do that, Jackson complains that it cannot find the property id entityType when serializing a json. The json obviously does not have a field called entityType because we created this field.\nI tired variaous apporached including using :\n1.</p>\n<pre><code> objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n</code></pre>\n<ol start=\"2\">\n<li></li>\n</ol>\n<pre><code>objectMapper.enable(DeserializationFeature.READ_UNKNOWN_ENUM_VALUES_USING_DEFAULT_VALUE);\n</code></pre>\n<ol start=\"3\">\n<li></li>\n</ol>\n<p>Adding the following to the top of the BaseClass:</p>\n<pre><code>@JsonIgnoreProperties(\n  value = &quot;entityType&quot;, // ignore manually set entityType, it will be automatically generated by Jackson during serialization\n  allowSetters = true // allows the entityType to be set during deserialization\n)\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;entityType&quot;)\n</code></pre>\n<p>and I still get this error com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve subtype of [simple type, class Employee]: missing type id property 'entityType'</p>\n"},{"tags":["java","spring-boot","openstreetmap","graphhopper"],"owner":{"account_id":28620230,"reputation":1,"user_id":21913423,"display_name":"SVG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684707268,"creation_date":1684707268,"question_id":76302141,"body_markdown":"I have a local instance of graphhopper running on the back-end using java spring boot.\r\nthis is the code: \r\n\r\n\r\n\r\n```\r\npackage com.example.greenpathsbe.Services;\r\n\r\nimport com.graphhopper.GraphHopper;\r\nimport com.graphhopper.GraphHopperConfig;\r\nimport com.graphhopper.ResponsePath;\r\nimport com.graphhopper.reader.osm.GraphHopperOSM;\r\nimport com.graphhopper.config.Profile;\r\nimport com.graphhopper.util.Instruction;\r\nimport com.graphhopper.util.PointList;\r\nimport com.graphhopper.util.shapes.GHPoint;\r\nimport org.apache.commons.csv.CSVFormat;\r\nimport org.apache.commons.csv.CSVRecord;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport javax.annotation.PostConstruct;\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\n@Service\r\npublic class GraphHopperService {\r\n\r\n    @Value(&quot;${graphhopper.data.path}&quot;)\r\n    private String dataPath;\r\n\r\n    @Value(&quot;${graphhopper.data.pathToCsv}&quot;)\r\n    private String path;\r\n    private String graphFolder = &quot;./graphFolder&quot;;\r\n\r\n    private List&lt;Profile&gt; profiles;\r\n    private GraphHopper graphHopper;\r\n\r\n\r\n\r\n    @PostConstruct\r\n    public void init() {\r\n        Profile profile = new Profile(&quot;my_profile&quot;)\r\n                .setVehicle(&quot;foot&quot;)\r\n                \r\n                .setWeighting(&quot;shortest&quot;);\r\n        profile.getHints().put(&quot;instructions&quot;, &quot;true&quot;);\r\n        profiles = new ArrayList&lt;&gt;();\r\n        profiles.add(profile);\r\n        graphHopper = new GraphHopperOSM();\r\n        graphHopper.setOSMFile(dataPath + &quot;eindhoven.osm.pbf&quot;);\r\n        graphHopper.init(new GraphHopperConfig().setProfiles(profiles));\r\n        graphHopper.setGraphHopperLocation(graphFolder);\r\n        graphHopper.getCHPreparationHandler();\r\n        graphHopper.importOrLoad();\r\n    }\r\n\r\n    public GraphHopper getGraphHopper() {\r\n        return graphHopper;\r\n    }\r\n    public List&lt;CustomPath&gt; createCustomPaths(List&lt;ResponsePath&gt; responsePaths) {\r\n        List&lt;CustomPath&gt; customPaths = new ArrayList&lt;&gt;();\r\n        for (ResponsePath responsePath : responsePaths) {\r\n            CustomPath customPath = new CustomPath();\r\n            List&lt;Coordinate&gt; coordinates = new ArrayList&lt;&gt;();\r\n            for (GHPoint point : responsePath.getPoints()) {\r\n                Coordinate coordinate = new Coordinate();\r\n                coordinate.setLatitude(point.getLat());\r\n                coordinate.setLongitude(point.getLon());\r\n                coordinates.add(coordinate);\r\n            }\r\n            customPath.setNodes(coordinates.size());\r\n            customPath.setCoordinates(coordinates);\r\n            List&lt;PathSegment&gt; pathSegments = new ArrayList&lt;&gt;();\r\n            for (Instruction instruction : responsePath.getInstructions()) {\r\n                PathSegment pathSegment = new PathSegment();\r\n                pathSegment.setId(instruction.getSign());\r\n                pathSegment.setName(instruction.getName());\r\n                pathSegment.setDistance(instruction.getDistance());\r\n                pathSegment.setTime(instruction.getTime());\r\n                pathSegments.add(pathSegment);\r\n            }\r\n            customPath.setPathSegments(pathSegments);\r\n            customPaths.add(customPath);\r\n        }\r\n        return customPaths;\r\n    }\r\n    public CustomPath createCustomPath(ResponsePath responsePath) {\r\n        CustomPath customPath = new CustomPath();\r\n        List&lt;Coordinate&gt; coordinates = new ArrayList&lt;&gt;();\r\n        for (GHPoint point : responsePath.getPoints()) {\r\n            Coordinate coordinate = new Coordinate();\r\n            coordinate.setLatitude(point.getLat());\r\n            coordinate.setLongitude(point.getLon());\r\n            coordinates.add(coordinate);\r\n        }\r\n        customPath.setNodes(coordinates.size());\r\n        customPath.setCoordinates(coordinates);\r\n        List&lt;PathSegment&gt; pathSegments = new ArrayList&lt;&gt;();\r\n        for (Instruction instruction : responsePath.getInstructions()) {\r\n            PathSegment pathSegment = new PathSegment();\r\n            pathSegment.setId(instruction.getSign());\r\n            pathSegment.setName(instruction.getName());\r\n            pathSegment.setDistance(instruction.getDistance());\r\n            pathSegment.setTime(instruction.getTime());\r\n            pathSegments.add(pathSegment);\r\n        }\r\n        customPath.setPathSegments(pathSegments);\r\n        return customPath;\r\n    }\r\n}\r\n\r\n\r\n```\r\nThis is the controller which I call in the front-end: \r\n\r\n\r\n```\r\npackage com.example.greenpathsbe.controller;\r\n\r\nimport com.example.greenpathsbe.Services.CustomPath;\r\nimport com.example.greenpathsbe.Services.ExtendedResponsePath;\r\nimport com.example.greenpathsbe.Services.GraphHopperService;\r\nimport com.graphhopper.GHRequest;\r\nimport com.graphhopper.GHResponse;\r\nimport com.graphhopper.ResponsePath;\r\nimport com.graphhopper.util.Parameters;\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.converter.HttpMessageNotWritableException;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport com.graphhopper.routing.Path;\r\n\r\nimport java.lang.reflect.Parameter;\r\nimport java.util.List;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/routes&quot;)\r\n@AllArgsConstructor\r\n@CrossOrigin(origins = &quot;http://localhost:3000/&quot;)\r\npublic class RouteController {\r\n    @Autowired\r\n    private GraphHopperService graphHopperService;\r\n\r\n    @GetMapping\r\n    public List&lt;CustomPath&gt; getRoute(\r\n            @RequestParam(&quot;fromLat&quot;) double fromLat,\r\n            @RequestParam(&quot;fromLng&quot;) double fromLng,\r\n            @RequestParam(&quot;toLat&quot;) double toLat,\r\n            @RequestParam(&quot;toLng&quot;) double toLng) {\r\n\r\n            System.out.println(&quot;fromLat: &quot; + fromLat);\r\n            System.out.println(&quot;fromLng: &quot; + fromLng);\r\n            System.out.println(&quot;toLat: &quot; + toLat);\r\n            System.out.println(&quot;toLng: &quot; + toLng);\r\n            GHRequest request = new GHRequest(fromLat, fromLng, toLat, toLng).setProfile(&quot;my_profile&quot;).setAlgorithm(Parameters.Algorithms.ALT_ROUTE);\r\n            request.getHints().put(&quot;instructions&quot;, &quot;true&quot;);  // Might be useless\r\n            GHResponse response = graphHopperService.getGraphHopper().route(request);\r\n            List&lt;ResponsePath&gt; responsePaths = response.getAll();\r\n            System.out.println(&quot;response: &quot; + response);\r\n\r\n          //  return graphHopperService.createCustomPath(response.getBest());\r\n            return graphHopperService.createCustomPaths(responsePaths);\r\n\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI am trying to make it so it will return multiple routes between point A and B. Right now I get a maximum of 2 routes which is not sufficient for my needs. Any ideas what can I do?","title":"Return multiple routes using Graphhopper","body":"<p>I have a local instance of graphhopper running on the back-end using java spring boot.\nthis is the code:</p>\n<pre><code>package com.example.greenpathsbe.Services;\n\nimport com.graphhopper.GraphHopper;\nimport com.graphhopper.GraphHopperConfig;\nimport com.graphhopper.ResponsePath;\nimport com.graphhopper.reader.osm.GraphHopperOSM;\nimport com.graphhopper.config.Profile;\nimport com.graphhopper.util.Instruction;\nimport com.graphhopper.util.PointList;\nimport com.graphhopper.util.shapes.GHPoint;\nimport org.apache.commons.csv.CSVFormat;\nimport org.apache.commons.csv.CSVRecord;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.stereotype.Service;\n\nimport javax.annotation.PostConstruct;\nimport java.io.*;\nimport java.util.*;\n\n@Service\npublic class GraphHopperService {\n\n    @Value(&quot;${graphhopper.data.path}&quot;)\n    private String dataPath;\n\n    @Value(&quot;${graphhopper.data.pathToCsv}&quot;)\n    private String path;\n    private String graphFolder = &quot;./graphFolder&quot;;\n\n    private List&lt;Profile&gt; profiles;\n    private GraphHopper graphHopper;\n\n\n\n    @PostConstruct\n    public void init() {\n        Profile profile = new Profile(&quot;my_profile&quot;)\n                .setVehicle(&quot;foot&quot;)\n                \n                .setWeighting(&quot;shortest&quot;);\n        profile.getHints().put(&quot;instructions&quot;, &quot;true&quot;);\n        profiles = new ArrayList&lt;&gt;();\n        profiles.add(profile);\n        graphHopper = new GraphHopperOSM();\n        graphHopper.setOSMFile(dataPath + &quot;eindhoven.osm.pbf&quot;);\n        graphHopper.init(new GraphHopperConfig().setProfiles(profiles));\n        graphHopper.setGraphHopperLocation(graphFolder);\n        graphHopper.getCHPreparationHandler();\n        graphHopper.importOrLoad();\n    }\n\n    public GraphHopper getGraphHopper() {\n        return graphHopper;\n    }\n    public List&lt;CustomPath&gt; createCustomPaths(List&lt;ResponsePath&gt; responsePaths) {\n        List&lt;CustomPath&gt; customPaths = new ArrayList&lt;&gt;();\n        for (ResponsePath responsePath : responsePaths) {\n            CustomPath customPath = new CustomPath();\n            List&lt;Coordinate&gt; coordinates = new ArrayList&lt;&gt;();\n            for (GHPoint point : responsePath.getPoints()) {\n                Coordinate coordinate = new Coordinate();\n                coordinate.setLatitude(point.getLat());\n                coordinate.setLongitude(point.getLon());\n                coordinates.add(coordinate);\n            }\n            customPath.setNodes(coordinates.size());\n            customPath.setCoordinates(coordinates);\n            List&lt;PathSegment&gt; pathSegments = new ArrayList&lt;&gt;();\n            for (Instruction instruction : responsePath.getInstructions()) {\n                PathSegment pathSegment = new PathSegment();\n                pathSegment.setId(instruction.getSign());\n                pathSegment.setName(instruction.getName());\n                pathSegment.setDistance(instruction.getDistance());\n                pathSegment.setTime(instruction.getTime());\n                pathSegments.add(pathSegment);\n            }\n            customPath.setPathSegments(pathSegments);\n            customPaths.add(customPath);\n        }\n        return customPaths;\n    }\n    public CustomPath createCustomPath(ResponsePath responsePath) {\n        CustomPath customPath = new CustomPath();\n        List&lt;Coordinate&gt; coordinates = new ArrayList&lt;&gt;();\n        for (GHPoint point : responsePath.getPoints()) {\n            Coordinate coordinate = new Coordinate();\n            coordinate.setLatitude(point.getLat());\n            coordinate.setLongitude(point.getLon());\n            coordinates.add(coordinate);\n        }\n        customPath.setNodes(coordinates.size());\n        customPath.setCoordinates(coordinates);\n        List&lt;PathSegment&gt; pathSegments = new ArrayList&lt;&gt;();\n        for (Instruction instruction : responsePath.getInstructions()) {\n            PathSegment pathSegment = new PathSegment();\n            pathSegment.setId(instruction.getSign());\n            pathSegment.setName(instruction.getName());\n            pathSegment.setDistance(instruction.getDistance());\n            pathSegment.setTime(instruction.getTime());\n            pathSegments.add(pathSegment);\n        }\n        customPath.setPathSegments(pathSegments);\n        return customPath;\n    }\n}\n\n\n</code></pre>\n<p>This is the controller which I call in the front-end:</p>\n<pre><code>package com.example.greenpathsbe.controller;\n\nimport com.example.greenpathsbe.Services.CustomPath;\nimport com.example.greenpathsbe.Services.ExtendedResponsePath;\nimport com.example.greenpathsbe.Services.GraphHopperService;\nimport com.graphhopper.GHRequest;\nimport com.graphhopper.GHResponse;\nimport com.graphhopper.ResponsePath;\nimport com.graphhopper.util.Parameters;\nimport lombok.AllArgsConstructor;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.converter.HttpMessageNotWritableException;\nimport org.springframework.web.bind.annotation.*;\nimport com.graphhopper.routing.Path;\n\nimport java.lang.reflect.Parameter;\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;/routes&quot;)\n@AllArgsConstructor\n@CrossOrigin(origins = &quot;http://localhost:3000/&quot;)\npublic class RouteController {\n    @Autowired\n    private GraphHopperService graphHopperService;\n\n    @GetMapping\n    public List&lt;CustomPath&gt; getRoute(\n            @RequestParam(&quot;fromLat&quot;) double fromLat,\n            @RequestParam(&quot;fromLng&quot;) double fromLng,\n            @RequestParam(&quot;toLat&quot;) double toLat,\n            @RequestParam(&quot;toLng&quot;) double toLng) {\n\n            System.out.println(&quot;fromLat: &quot; + fromLat);\n            System.out.println(&quot;fromLng: &quot; + fromLng);\n            System.out.println(&quot;toLat: &quot; + toLat);\n            System.out.println(&quot;toLng: &quot; + toLng);\n            GHRequest request = new GHRequest(fromLat, fromLng, toLat, toLng).setProfile(&quot;my_profile&quot;).setAlgorithm(Parameters.Algorithms.ALT_ROUTE);\n            request.getHints().put(&quot;instructions&quot;, &quot;true&quot;);  // Might be useless\n            GHResponse response = graphHopperService.getGraphHopper().route(request);\n            List&lt;ResponsePath&gt; responsePaths = response.getAll();\n            System.out.println(&quot;response: &quot; + response);\n\n          //  return graphHopperService.createCustomPath(response.getBest());\n            return graphHopperService.createCustomPaths(responsePaths);\n\n    }\n\n\n}\n</code></pre>\n<p>I am trying to make it so it will return multiple routes between point A and B. Right now I get a maximum of 2 routes which is not sufficient for my needs. Any ideas what can I do?</p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-data-jpa","factory-pattern"],"answers":[{"tags":[],"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1684707227,"creation_date":1684703301,"answer_id":76301927,"question_id":76301832,"body_markdown":"Some details that could be important are missing in your question (packages of the classes involved in your problem, for example) but I guess that, for any reason, the ApplicationContext you instantiate in your ProcessFileFactory does not discover the DoctorRepository class.\r\n\r\nI suggest to change your factory this way :\r\n\r\n```\r\n    @Component\r\n    public class ProcessFileFactory implements org.springframework.context.ApplicationContextAware {\r\n\r\n        private static ApplicationContext applicationContext;\r\n\r\n        public static ProcessImportFiles getInstance(String fileType) {\r\n            if (ImportTypes.DOCTORS.toString().equals(fileType)) {\r\n                return applicationContext.getBean(&quot;processDoctorFile&quot;, ProcessImportFiles.class);\r\n            }\r\n            if (ImportTypes.PATIENTS.toString().equals(fileType)) {\r\n                return applicationContext.getBean(&quot;processPatientFile&quot;, ProcessImportFiles.class);\r\n            }\r\n\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n    \tpublic void setApplicationContext(ApplicationContext context)\r\n\t\t\tthrows BeansException {\r\n\t\t    this.applicationContext = context;\r\n\t    }\r\n    }\r\n```\r\n\r\nWhen you implement ApplicationContextAware interface, you ask Spring to inject into your class the existing application context.\r\n\r\nBut, to be honest, there is a solution that, I think, would be cleaner as it would just use Dependency Injection instead of getting beans from the application context.\r\n\r\nChange your `ProcessImportFiles` this way :\r\n\r\n```\r\n    public interface ProcessImportFiles {\r\n\r\n      String getManagedFileType();\r\n\r\n      void processImportFile(String fileName, Sheet sheet);\r\n\r\n    }\r\n```\r\n\r\nImplementation example of the interface for `ProcessPatientFile`:\r\n\r\n```\r\n@Service\r\npublic class ProcessPatientFile implements ProcessImportFiles {\r\n\r\n    @Override\r\n    public String getManagedFileType() {\r\n        return ImportTypes.PATIENTS.toString();\r\n    }\r\n\r\n    @Override\r\n    public void processImportFile(String fileName, Sheet sheet) {\r\n\r\n        System.out.println(&quot;I&#39;m processing a PATIENTS file&quot;);\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\nThen change your `ProcessFileFactory` class this way :\r\n\r\n```\r\n    @Component\r\n    public class ProcessFileFactory {\r\n\r\n      private Map&lt;String, ProcessImportFiles&gt; importFileProcessorsByType;\r\n\r\n      public ProcessFileFactory(Collection&lt;ProcessImportFiles&gt; importFileProcessors) {\r\n\r\n        importFileProcessorsByType = importFileProcessors.stream().collect(Collectors.toMap(\r\n            ProcessImportFiles::getManagedFileType,\r\n            processor -&gt; processor\r\n        ));\r\n\r\n      }\r\n\r\n      public ProcessImportFiles getInstance(String fileType) {\r\n        return importFileProcessorsByType.get(fileType);\r\n      }\r\n\r\n    }\r\n```\r\n\r\nSpring will automatically inject all beans implementing your interface into your factory. The internal map of your factory will retrieve the expected implementation according to the fileType.\r\n\r\nBy the way, if one day, you need to code new implementations of the `ProcessImportFiles` interface, your factory will work without any change.","title":"Repository not injected in service class when initialized through a factory class","body":"<p>Some details that could be important are missing in your question (packages of the classes involved in your problem, for example) but I guess that, for any reason, the ApplicationContext you instantiate in your ProcessFileFactory does not discover the DoctorRepository class.</p>\n<p>I suggest to change your factory this way :</p>\n<pre><code>    @Component\n    public class ProcessFileFactory implements org.springframework.context.ApplicationContextAware {\n\n        private static ApplicationContext applicationContext;\n\n        public static ProcessImportFiles getInstance(String fileType) {\n            if (ImportTypes.DOCTORS.toString().equals(fileType)) {\n                return applicationContext.getBean(&quot;processDoctorFile&quot;, ProcessImportFiles.class);\n            }\n            if (ImportTypes.PATIENTS.toString().equals(fileType)) {\n                return applicationContext.getBean(&quot;processPatientFile&quot;, ProcessImportFiles.class);\n            }\n\n            return null;\n        }\n\n        @Override\n        public void setApplicationContext(ApplicationContext context)\n            throws BeansException {\n            this.applicationContext = context;\n        }\n    }\n</code></pre>\n<p>When you implement ApplicationContextAware interface, you ask Spring to inject into your class the existing application context.</p>\n<p>But, to be honest, there is a solution that, I think, would be cleaner as it would just use Dependency Injection instead of getting beans from the application context.</p>\n<p>Change your <code>ProcessImportFiles</code> this way :</p>\n<pre><code>    public interface ProcessImportFiles {\n\n      String getManagedFileType();\n\n      void processImportFile(String fileName, Sheet sheet);\n\n    }\n</code></pre>\n<p>Implementation example of the interface for <code>ProcessPatientFile</code>:</p>\n<pre><code>@Service\npublic class ProcessPatientFile implements ProcessImportFiles {\n\n    @Override\n    public String getManagedFileType() {\n        return ImportTypes.PATIENTS.toString();\n    }\n\n    @Override\n    public void processImportFile(String fileName, Sheet sheet) {\n\n        System.out.println(&quot;I'm processing a PATIENTS file&quot;);\n\n    }\n}\n</code></pre>\n<p>Then change your <code>ProcessFileFactory</code> class this way :</p>\n<pre><code>    @Component\n    public class ProcessFileFactory {\n\n      private Map&lt;String, ProcessImportFiles&gt; importFileProcessorsByType;\n\n      public ProcessFileFactory(Collection&lt;ProcessImportFiles&gt; importFileProcessors) {\n\n        importFileProcessorsByType = importFileProcessors.stream().collect(Collectors.toMap(\n            ProcessImportFiles::getManagedFileType,\n            processor -&gt; processor\n        ));\n\n      }\n\n      public ProcessImportFiles getInstance(String fileType) {\n        return importFileProcessorsByType.get(fileType);\n      }\n\n    }\n</code></pre>\n<p>Spring will automatically inject all beans implementing your interface into your factory. The internal map of your factory will retrieve the expected implementation according to the fileType.</p>\n<p>By the way, if one day, you need to code new implementations of the <code>ProcessImportFiles</code> interface, your factory will work without any change.</p>\n"},{"tags":[],"owner":{"account_id":22649232,"reputation":1287,"user_id":16824146,"display_name":"mr.Penguin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684705903,"creation_date":1684705903,"answer_id":76302063,"question_id":76301832,"body_markdown":"I rewrote your code and struct it again to look more readable, this is how I proceeded: \r\n\r\nFirst, this is the structure: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAssuming this is your ProcessDoctorFile service:\r\n\r\n    @Service\r\n    public class ProcessDoctorFileService implements ProcessImportFiles {\r\n        @Autowired\r\n        private DoctorRepository doctorRepository;\r\n    \r\n        @Override\r\n        public void processImportFile(String fileName, Sheet sheet) {\r\n            System.out.println(fileName + &quot; &gt; ProcessDoctorFileService&quot;);\r\n        }\r\n    }\r\n\r\nsame thing for the patient service:\r\n\r\n    @Service\r\n    public class ProcessPatientFileService implements ProcessImportFiles {\r\n        @Autowired\r\n        private PatientRepository doctorRepository;\r\n    \r\n        @Override\r\n        public void processImportFile(String fileName, Sheet sheet) {\r\n            System.out.println(fileName + &quot; &gt; ProcessPatientFileService&quot;);\r\n        }\r\n    }\r\n\r\nNow the factory: \r\n\r\n    public class ProcessFileFactory   {\r\n        public static ProcessImportFiles getInstance(String fileType) {\r\n            if (ImportTypes.DOCTORS.toString().equals(fileType)) {\r\n                return ApplicationContextProvider.getApplicationContext().getBean(&quot;processDoctorFileService&quot;, ProcessImportFiles.class);\r\n            }\r\n            if (ImportTypes.PATIENTS.toString().equals(fileType)) {\r\n                return ApplicationContextProvider.getApplicationContext().getBean(&quot;processPatientFileService&quot;, ProcessImportFiles.class);\r\n            }\r\n    \r\n            return null;\r\n        }\r\n    }\r\n\r\nTo be sure that you don&#39;t get a null application context, you should get it in another class and then inject it into your factory, use ApplicationContextAware interface to make spring boot provide the application context for you:\r\n\r\n\r\n    @Component\r\n    public class ApplicationContextProvider implements ApplicationContextAware {\r\n    \r\n        private static ApplicationContext applicationContext;\r\n    \r\n        @Override\r\n        public void setApplicationContext(ApplicationContext applicationContext) {\r\n            ApplicationContextProvider.applicationContext = applicationContext;\r\n        }\r\n    \r\n        public static ApplicationContext getApplicationContext() {\r\n            return applicationContext;\r\n        }\r\n    }\r\n\r\n\r\nlet&#39;s test what we did until now using a CommandLineRunner:\r\n\r\n    @SpringBootApplication\r\n    public class StackoverflowApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(StackoverflowApplication.class, args);\r\n        }\r\n    \r\n        @Bean\r\n        CommandLineRunner commandLineRunner(){\r\n            return args -&gt; {\r\n                Sheet sheet = new Sheet();\r\n                ProcessFileFactory.getInstance(ImportTypes.DOCTORS.name()).processImportFile(&quot;file name for doctors&quot;,sheet);\r\n                ProcessFileFactory.getInstance(ImportTypes.PATIENTS.name()).processImportFile(&quot;file name for patients&quot;,sheet);\r\n            };\r\n        }\r\n    \r\n    }\r\n\r\n \r\nResult in the console:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Lb9gs.png\r\n  [2]: https://i.stack.imgur.com/Vm58Y.png","title":"Repository not injected in service class when initialized through a factory class","body":"<p>I rewrote your code and struct it again to look more readable, this is how I proceeded:</p>\n<p>First, this is the structure:</p>\n<p><a href=\"https://i.stack.imgur.com/Lb9gs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Lb9gs.png\" alt=\"enter image description here\" /></a></p>\n<p>Assuming this is your ProcessDoctorFile service:</p>\n<pre><code>@Service\npublic class ProcessDoctorFileService implements ProcessImportFiles {\n    @Autowired\n    private DoctorRepository doctorRepository;\n\n    @Override\n    public void processImportFile(String fileName, Sheet sheet) {\n        System.out.println(fileName + &quot; &gt; ProcessDoctorFileService&quot;);\n    }\n}\n</code></pre>\n<p>same thing for the patient service:</p>\n<pre><code>@Service\npublic class ProcessPatientFileService implements ProcessImportFiles {\n    @Autowired\n    private PatientRepository doctorRepository;\n\n    @Override\n    public void processImportFile(String fileName, Sheet sheet) {\n        System.out.println(fileName + &quot; &gt; ProcessPatientFileService&quot;);\n    }\n}\n</code></pre>\n<p>Now the factory:</p>\n<pre><code>public class ProcessFileFactory   {\n    public static ProcessImportFiles getInstance(String fileType) {\n        if (ImportTypes.DOCTORS.toString().equals(fileType)) {\n            return ApplicationContextProvider.getApplicationContext().getBean(&quot;processDoctorFileService&quot;, ProcessImportFiles.class);\n        }\n        if (ImportTypes.PATIENTS.toString().equals(fileType)) {\n            return ApplicationContextProvider.getApplicationContext().getBean(&quot;processPatientFileService&quot;, ProcessImportFiles.class);\n        }\n\n        return null;\n    }\n}\n</code></pre>\n<p>To be sure that you don't get a null application context, you should get it in another class and then inject it into your factory, use ApplicationContextAware interface to make spring boot provide the application context for you:</p>\n<pre><code>@Component\npublic class ApplicationContextProvider implements ApplicationContextAware {\n\n    private static ApplicationContext applicationContext;\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) {\n        ApplicationContextProvider.applicationContext = applicationContext;\n    }\n\n    public static ApplicationContext getApplicationContext() {\n        return applicationContext;\n    }\n}\n</code></pre>\n<p>let's test what we did until now using a CommandLineRunner:</p>\n<pre><code>@SpringBootApplication\npublic class StackoverflowApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(StackoverflowApplication.class, args);\n    }\n\n    @Bean\n    CommandLineRunner commandLineRunner(){\n        return args -&gt; {\n            Sheet sheet = new Sheet();\n            ProcessFileFactory.getInstance(ImportTypes.DOCTORS.name()).processImportFile(&quot;file name for doctors&quot;,sheet);\n            ProcessFileFactory.getInstance(ImportTypes.PATIENTS.name()).processImportFile(&quot;file name for patients&quot;,sheet);\n        };\n    }\n\n}\n</code></pre>\n<p>Result in the console:\n<a href=\"https://i.stack.imgur.com/Vm58Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vm58Y.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":28649523,"reputation":13,"user_id":21936783,"display_name":"Bubbles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76301927,"answer_count":2,"score":1,"last_activity_date":1684707227,"creation_date":1684701466,"question_id":76301832,"body_markdown":"I have multiple implementations for a method, so I decided to use Factory design pattern for it. Here is the implementation for factory class:\r\n\r\n```\r\n@Component\r\npublic class ProcessFileFactory {\r\n\r\n    private static ApplicationContext applicationContext;\r\n\r\n    public ProcessFileFactory() {\r\n        applicationContext = new AnnotationConfigApplicationContext(\r\n                ProcessDoctorFile.class,\r\n                ProcessPatientFile.class\r\n        );\r\n    }\r\n\r\n    public static ProcessImportFiles getInstance(String fileType) {\r\n        if (ImportTypes.DOCTORS.toString().equals(fileType)) {\r\n            return applicationContext.getBean(&quot;processDoctorFile&quot;, ProcessImportFiles.class);\r\n        }\r\n        if (ImportTypes.PATIENTS.toString().equals(fileType)) {\r\n            return applicationContext.getBean(&quot;processPatientFile&quot;, ProcessImportFiles.class);\r\n        }\r\n\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nProcessImportFiles is the interface where I defined the method which has to be implemented differently. And here is one implementation of the method from the interface:\r\n\r\n\r\n```\r\n@Service\r\npublic class ProcessDoctorFile implements ProcessImportFiles {\r\n    @Autowired\r\n    private DoctorRepository doctorRepository;\r\n\r\n    @Override\r\n    public void processImportFile(String fileName, Sheet sheet) {\r\n        System.out.println(&quot;doctors&quot;);\r\n    }\r\n}\r\n```\r\n\r\nAlso, this is how I call the the method in the rest controller:\r\n\r\n```\r\n ProcessFileFactory.getInstance(fileType).processImportFile(file.getName(), sheet);\r\n```\r\n\r\nBut I receive this error:\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;processFileFactory&#39; defined in file [C:\\Workspace\\MedicalStatistics\\target\\classes\\app\\one\\MedicalStatistics\\importService\\ProcessFileFactory.class]: Failed to instantiate [app.one.MedicalStatistics.importService.ProcessFileFactory]: Constructor threw exception\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1306) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1198) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917) ~[spring-context-6.0.6.jar:6.0.6]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.6.jar:6.0.6]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat app.one.MedicalStatistics.MedicalStatisticsApplication.main(MedicalStatisticsApplication.java:16) ~[classes/:na]\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [app.one.MedicalStatistics.importService.ProcessFileFactory]: Constructor threw exception\r\n\tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:223) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1300) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\t... 17 common frames omitted\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;processDoctorFile&#39;: Unsatisfied dependency expressed through field &#39;doctorRepository&#39;: No qualifying bean of type &#39;app.one.MedicalStatistics.repository.DoctorRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:712) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1408) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917) ~[spring-context-6.0.6.jar:6.0.6]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.6.jar:6.0.6]\r\n\tat org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:93) ~[spring-context-6.0.6.jar:6.0.6]\r\n\tat app.one.MedicalStatistics.importService.ProcessFileFactory.&lt;init&gt;(ProcessFileFactory.java:24) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67) ~[na:na]\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500) ~[na:na]\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:484) ~[na:na]\r\n\tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:197) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\t... 19 common frames omitted\r\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;app.one.MedicalStatistics.repository.DoctorRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1812) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1371) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\t... 38 common frames omitted\r\n```\r\n\r\n\r\n\r\n\r\nIf I comment the declaration for DoctorRepository the application starts and design pattern works as expected. The problem appeared when I defined a repo in my service for updating data in DB. I tried to create a constructor to initialize the repository, also multiple annotations, but nothing works. Any idea how to fix it?","title":"Repository not injected in service class when initialized through a factory class","body":"<p>I have multiple implementations for a method, so I decided to use Factory design pattern for it. Here is the implementation for factory class:</p>\n<pre><code>@Component\npublic class ProcessFileFactory {\n\n    private static ApplicationContext applicationContext;\n\n    public ProcessFileFactory() {\n        applicationContext = new AnnotationConfigApplicationContext(\n                ProcessDoctorFile.class,\n                ProcessPatientFile.class\n        );\n    }\n\n    public static ProcessImportFiles getInstance(String fileType) {\n        if (ImportTypes.DOCTORS.toString().equals(fileType)) {\n            return applicationContext.getBean(&quot;processDoctorFile&quot;, ProcessImportFiles.class);\n        }\n        if (ImportTypes.PATIENTS.toString().equals(fileType)) {\n            return applicationContext.getBean(&quot;processPatientFile&quot;, ProcessImportFiles.class);\n        }\n\n        return null;\n    }\n}\n</code></pre>\n<p>ProcessImportFiles is the interface where I defined the method which has to be implemented differently. And here is one implementation of the method from the interface:</p>\n<pre><code>@Service\npublic class ProcessDoctorFile implements ProcessImportFiles {\n    @Autowired\n    private DoctorRepository doctorRepository;\n\n    @Override\n    public void processImportFile(String fileName, Sheet sheet) {\n        System.out.println(&quot;doctors&quot;);\n    }\n}\n</code></pre>\n<p>Also, this is how I call the the method in the rest controller:</p>\n<pre><code> ProcessFileFactory.getInstance(fileType).processImportFile(file.getName(), sheet);\n</code></pre>\n<p>But I receive this error:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'processFileFactory' defined in file [C:\\Workspace\\MedicalStatistics\\target\\classes\\app\\one\\MedicalStatistics\\importService\\ProcessFileFactory.class]: Failed to instantiate [app.one.MedicalStatistics.importService.ProcessFileFactory]: Constructor threw exception\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1306) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1198) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917) ~[spring-context-6.0.6.jar:6.0.6]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.6.jar:6.0.6]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.4.jar:3.0.4]\n    at app.one.MedicalStatistics.MedicalStatisticsApplication.main(MedicalStatisticsApplication.java:16) ~[classes/:na]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [app.one.MedicalStatistics.importService.ProcessFileFactory]: Constructor threw exception\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:223) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1300) ~[spring-beans-6.0.6.jar:6.0.6]\n    ... 17 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'processDoctorFile': Unsatisfied dependency expressed through field 'doctorRepository': No qualifying bean of type 'app.one.MedicalStatistics.repository.DoctorRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:712) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1408) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917) ~[spring-context-6.0.6.jar:6.0.6]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.6.jar:6.0.6]\n    at org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:93) ~[spring-context-6.0.6.jar:6.0.6]\n    at app.one.MedicalStatistics.importService.ProcessFileFactory.&lt;init&gt;(ProcessFileFactory.java:24) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:484) ~[na:na]\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:197) ~[spring-beans-6.0.6.jar:6.0.6]\n    ... 19 common frames omitted\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'app.one.MedicalStatistics.repository.DoctorRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1812) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1371) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709) ~[spring-beans-6.0.6.jar:6.0.6]\n    ... 38 common frames omitted\n</code></pre>\n<p>If I comment the declaration for DoctorRepository the application starts and design pattern works as expected. The problem appeared when I defined a repo in my service for updating data in DB. I tried to create a constructor to initialize the repository, also multiple annotations, but nothing works. Any idea how to fix it?</p>\n"},{"tags":["java","google-kubernetes-engine","hashicorp-vault","vault","gke-networking"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1633945350,"post_id":69523940,"comment_id":122886306,"body_markdown":"Can you `ping` host `vault.example.com` port 443 from that client host?","body":"Can you <code>ping</code> host <code>vault.example.com</code> port 443 from that client host?"},{"owner":{"account_id":2529794,"reputation":286,"user_id":7778447,"accept_rate":0,"display_name":"GTXBxaKgCANmT9D9"},"score":0,"creation_date":1633945965,"post_id":69523940,"comment_id":122886555,"body_markdown":"@user207421 ping has nothing to do with tcp port 443. telnet &amp; curl works ok :) As I&#39;ve mentioned vault works ok &amp; most part of request from same pod go through without any problems at all so it&#39;s not a firewall issue or smth like that otherwise it wouldn&#39;t work at all.","body":"@user207421 ping has nothing to do with tcp port 443. telnet &amp; curl works ok :) As I&#39;ve mentioned vault works ok &amp; most part of request from same pod go through without any problems at all so it&#39;s not a firewall issue or smth like that otherwise it wouldn&#39;t work at all."}],"answers":[{"tags":[],"owner":{"account_id":16628169,"reputation":21,"user_id":12016712,"display_name":"aaronhughes"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1684706056,"creation_date":1684706056,"answer_id":76302068,"question_id":69523940,"body_markdown":"I ran into a similar (maybe even identical issue) of intermittent timeouts on requests to my vault server container irrespective of route (ingress, service, directly to pod).\r\n\r\n\r\nI believe in truth my issue was running Vault in dev mode, HA (high availability) mode saw the issue subside:\r\n\r\nhttps://support.hashicorp.com/hc/en-us/articles/4406662733587-HCP-Vault-Development-tier-intermittent-request-timeout-IO-errors\r\n\r\nBut I would love to know if you have found a more creative solution as it feels terribly wasteful running such a heavy instance of vault for each development bundle when it is pretty much entirely used for app startup in my organisation.","title":"Hashicorp Vault + &quot;java.net.SocketTimeoutException: connect timed out&quot; on GKE","body":"<p>I ran into a similar (maybe even identical issue) of intermittent timeouts on requests to my vault server container irrespective of route (ingress, service, directly to pod).</p>\n<p>I believe in truth my issue was running Vault in dev mode, HA (high availability) mode saw the issue subside:</p>\n<p><a href=\"https://support.hashicorp.com/hc/en-us/articles/4406662733587-HCP-Vault-Development-tier-intermittent-request-timeout-IO-errors\" rel=\"nofollow noreferrer\">https://support.hashicorp.com/hc/en-us/articles/4406662733587-HCP-Vault-Development-tier-intermittent-request-timeout-IO-errors</a></p>\n<p>But I would love to know if you have found a more creative solution as it feels terribly wasteful running such a heavy instance of vault for each development bundle when it is pretty much entirely used for app startup in my organisation.</p>\n"}],"owner":{"account_id":2529794,"reputation":286,"user_id":7778447,"accept_rate":0,"display_name":"GTXBxaKgCANmT9D9"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":619,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684706056,"creation_date":1633944496,"question_id":69523940,"body_markdown":"I have a 3 node HA Hashicorp Vault deployed to GKE (tried both with Raft &amp; Consul backends).\r\n\r\nA pod with java app is also running in GKE.\r\n\r\nIntermittently I see `java.net.SocketTimeoutException: connect timed out` but mostly it works ok.\r\n\r\nI&#39;ve checked the Vault config, no resource quotas are configured, I&#39;ve tried using just internal service instead of ingress + google lb &amp; it&#39;s still the same.\r\n\r\nFull log entry looks like this:\r\n```\r\nmessage:Failed executing getCredentials using address https://vault.example.com:443, open timeout 30, read timeout 30 and credentials Credentials(id=0, tenantId=1, vendorName=fortinet, values={}) @timestamp:Oct 11, 2021 @ 12:02:29.386 @version:1 logger_name:com.example.secret.service.impl.SecretStoreServiceImpl thread_name:http-nio-8080-exec-24 level:ERROR level_value:40,000 stack_trace:com.bettercloud.vault.VaultException: com.bettercloud.vault.rest.RestException: java.net.SocketTimeoutException: connect timed out at com.bettercloud.vault.api.Logical.read(Logical.java:118) at com.bettercloud.vault.api.Logical.read(Logical.java:74) at com.example.secret.service.impl.SecretStoreServiceImpl.getCredentials(SecretStoreServiceImpl.java:49) at com.example.secret.service.impl.SecretStoreServiceImpl.getCredentials(SecretStoreServiceImpl.java:77) at com.example.secret.controller.SecretStoreController.getCredentials(SecretStoreController.java:32) at jdk.internal.reflect.GeneratedMethodAccessor46.invoke(Unknown Source) at\r\n```\r\n\r\nWhat could be the problem?\r\n\r\nI&#39;ve enabled metrics &amp; see no problems with resources &amp; etc &amp; no errors in audit logs (even though there&#39;re lots of logs in audit &amp; I may have missed smth)...","title":"Hashicorp Vault + &quot;java.net.SocketTimeoutException: connect timed out&quot; on GKE","body":"<p>I have a 3 node HA Hashicorp Vault deployed to GKE (tried both with Raft &amp; Consul backends).</p>\n<p>A pod with java app is also running in GKE.</p>\n<p>Intermittently I see <code>java.net.SocketTimeoutException: connect timed out</code> but mostly it works ok.</p>\n<p>I've checked the Vault config, no resource quotas are configured, I've tried using just internal service instead of ingress + google lb &amp; it's still the same.</p>\n<p>Full log entry looks like this:</p>\n<pre><code>message:Failed executing getCredentials using address https://vault.example.com:443, open timeout 30, read timeout 30 and credentials Credentials(id=0, tenantId=1, vendorName=fortinet, values={}) @timestamp:Oct 11, 2021 @ 12:02:29.386 @version:1 logger_name:com.example.secret.service.impl.SecretStoreServiceImpl thread_name:http-nio-8080-exec-24 level:ERROR level_value:40,000 stack_trace:com.bettercloud.vault.VaultException: com.bettercloud.vault.rest.RestException: java.net.SocketTimeoutException: connect timed out at com.bettercloud.vault.api.Logical.read(Logical.java:118) at com.bettercloud.vault.api.Logical.read(Logical.java:74) at com.example.secret.service.impl.SecretStoreServiceImpl.getCredentials(SecretStoreServiceImpl.java:49) at com.example.secret.service.impl.SecretStoreServiceImpl.getCredentials(SecretStoreServiceImpl.java:77) at com.example.secret.controller.SecretStoreController.getCredentials(SecretStoreController.java:32) at jdk.internal.reflect.GeneratedMethodAccessor46.invoke(Unknown Source) at\n</code></pre>\n<p>What could be the problem?</p>\n<p>I've enabled metrics &amp; see no problems with resources &amp; etc &amp; no errors in audit logs (even though there're lots of logs in audit &amp; I may have missed smth)...</p>\n"},{"tags":["java","microsoft-graph-api","microsoft-graph-sdks","microsoft-graph-edu"],"owner":{"account_id":7184196,"reputation":129,"user_id":5486863,"display_name":"Mark Rensen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1684705552,"creation_date":1681479446,"question_id":76015698,"body_markdown":"I&#39;m trying to send feedback on a submission in my java application. \r\nIn teams I would submit it in the feedback box here: \r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis is the request I&#39;m sending with `GraphClient`: \r\n\r\n```\r\n_userClient.education()\r\n  .classes(classId)\r\n  .assignments(assignmentsId)\r\n  .submissions(submissionID)\r\n  .outcomes()\r\n  .buildRequest()\r\n  .post(outcome);\r\n```\r\n\r\nAnd this is how I get the outcome:\r\n\r\n```\r\nEducationItemBody body = new EducationItemBody();\r\nbody.content = message;\r\nbody.contentType = BodyType.TEXT;\r\n\r\nEducationFeedback feedback = new EducationFeedback();\r\nfeedback.text = body;\r\n\r\nEducationFeedbackOutcome outcome = new EducationFeedbackOutcome();\r\noutcome.feedback = feedback;\r\noutcome.publishedFeedback = feedback;\r\n```\r\n\r\nI know that there are different types of `EducationOutcomes` as described in [the documentation][2]. I&#39;ve based my Graph request on [the request for posting an education outcome with a file-based resource][3], however I just want a text-based feedback, so I&#39;ve used the `EducationFeedbackOutcome` model. I tried using the `EducationFeedbackResourceOutcome` model as described in the example, but it doesn&#39;t exist in the Graph SDK\r\n\r\nNow when I send the request I get an error: \r\n\r\n```json\r\n{\r\n  &quot;error&quot;: {\r\n    &quot;code&quot;: &quot;20243&quot;,\r\n    &quot;message&quot;: &quot;Invalid request body. Resource cannot be null.&quot;,\r\n    &quot;innerError&quot;: {\r\n      &quot;date&quot;: &quot;2023-04-14T13:24:55&quot;,\r\n      &quot;request-id&quot;: &quot;6fdd2196-6d77-4414-93ae-b7d2ef92d14a&quot;,\r\n      &quot;client-request-id&quot;: &quot;3cf86b17-59b9-4c9e-9687-49af6e25626d&quot;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nIt seems that it expects a resource, but that is neither what I want, nor what I can give. I&#39;ve filled out all the fields in the EducationOutcome. There is no &quot;resource&quot;  field.\r\n\r\nHow can I submit feedback to an assignment using java? Maybe I need to use a different edpoint?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rkId1.png\r\n  [2]: https://learn.microsoft.com/en-us/graph/api/resources/educationoutcome?view=graph-rest-1.0\r\n  [3]: https://learn.microsoft.com/en-us/graph/api/educationfeedbackresourceoutcome-post-outcomes?view=graph-rest-1.0&amp;tabs=http","title":"How can I send feedback on a submitted assginment in java?","body":"<p>I'm trying to send feedback on a submission in my java application.\nIn teams I would submit it in the feedback box here:</p>\n<p><a href=\"https://i.stack.imgur.com/rkId1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rkId1.png\" alt=\"enter image description here\" /></a></p>\n<p>This is the request I'm sending with <code>GraphClient</code>:</p>\n<pre><code>_userClient.education()\n  .classes(classId)\n  .assignments(assignmentsId)\n  .submissions(submissionID)\n  .outcomes()\n  .buildRequest()\n  .post(outcome);\n</code></pre>\n<p>And this is how I get the outcome:</p>\n<pre><code>EducationItemBody body = new EducationItemBody();\nbody.content = message;\nbody.contentType = BodyType.TEXT;\n\nEducationFeedback feedback = new EducationFeedback();\nfeedback.text = body;\n\nEducationFeedbackOutcome outcome = new EducationFeedbackOutcome();\noutcome.feedback = feedback;\noutcome.publishedFeedback = feedback;\n</code></pre>\n<p>I know that there are different types of <code>EducationOutcomes</code> as described in <a href=\"https://learn.microsoft.com/en-us/graph/api/resources/educationoutcome?view=graph-rest-1.0\" rel=\"nofollow noreferrer\">the documentation</a>. I've based my Graph request on <a href=\"https://learn.microsoft.com/en-us/graph/api/educationfeedbackresourceoutcome-post-outcomes?view=graph-rest-1.0&amp;tabs=http\" rel=\"nofollow noreferrer\">the request for posting an education outcome with a file-based resource</a>, however I just want a text-based feedback, so I've used the <code>EducationFeedbackOutcome</code> model. I tried using the <code>EducationFeedbackResourceOutcome</code> model as described in the example, but it doesn't exist in the Graph SDK</p>\n<p>Now when I send the request I get an error:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;error&quot;: {\n    &quot;code&quot;: &quot;20243&quot;,\n    &quot;message&quot;: &quot;Invalid request body. Resource cannot be null.&quot;,\n    &quot;innerError&quot;: {\n      &quot;date&quot;: &quot;2023-04-14T13:24:55&quot;,\n      &quot;request-id&quot;: &quot;6fdd2196-6d77-4414-93ae-b7d2ef92d14a&quot;,\n      &quot;client-request-id&quot;: &quot;3cf86b17-59b9-4c9e-9687-49af6e25626d&quot;\n    }\n  }\n}\n</code></pre>\n<p>It seems that it expects a resource, but that is neither what I want, nor what I can give. I've filled out all the fields in the EducationOutcome. There is no &quot;resource&quot;  field.</p>\n<p>How can I submit feedback to an assignment using java? Maybe I need to use a different edpoint?</p>\n"},{"tags":["java","synchronization","symmetricds"],"answers":[{"tags":[],"owner":{"account_id":41432,"reputation":6891,"user_id":120398,"accept_rate":80,"display_name":"David Fraser"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1291651189,"creation_date":1291651189,"answer_id":4368277,"question_id":4264569,"body_markdown":"Look at the [Project Reviews on sourceforge][2]: for example, [Miguel Angel Rasero Peral][1] reported using it in production between 30 Postgresql databases on the project reviews page but [later reported some foreign key issues][3]\r\n\r\n  [1]: https://sourceforge.net/users/skuda\r\n  [2]: https://sourceforge.net/projects/symmetricds/reviews/\r\n  [3]: https://sourceforge.net/projects/symmetricds/forums/forum/739235/topic/3760220?message=8525305","title":"SymmetricDS in the wild (production)?","body":"<p>Look at the <a href=\"https://sourceforge.net/projects/symmetricds/reviews/\" rel=\"nofollow\">Project Reviews on sourceforge</a>: for example, <a href=\"https://sourceforge.net/users/skuda\" rel=\"nofollow\">Miguel Angel Rasero Peral</a> reported using it in production between 30 Postgresql databases on the project reviews page but <a href=\"https://sourceforge.net/projects/symmetricds/forums/forum/739235/topic/3760220?message=8525305\" rel=\"nofollow\">later reported some foreign key issues</a></p>\n"},{"tags":[],"owner":{"account_id":89490,"reputation":1108,"user_id":246873,"display_name":"chenson42"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1344242128,"creation_date":1291931855,"answer_id":4403544,"question_id":4264569,"body_markdown":"Here is a [blog article][1] about SymmetricDS.  JumpMind is working on re-branding their website which will include case studies for SymmetricDS.  It should be live by the first of the year.\r\n\r\n\r\n  [1]: https://blogs.oracle.com/retail/entry/data_replication_for_stores","title":"SymmetricDS in the wild (production)?","body":"<p>Here is a <a href=\"https://blogs.oracle.com/retail/entry/data_replication_for_stores\" rel=\"nofollow\">blog article</a> about SymmetricDS.  JumpMind is working on re-branding their website which will include case studies for SymmetricDS.  It should be live by the first of the year.</p>\n"},{"tags":[],"owner":{"account_id":145430,"reputation":5284,"user_id":355232,"accept_rate":62,"display_name":"sbrattla"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1554843329,"creation_date":1313747438,"answer_id":7119841,"question_id":4264569,"body_markdown":"I ended up choosing SymmetricDS for my company after having investigated database replication/synchronization for quite some time. My main issue was that i have a database table which represents physical files that needs to be replicated along with the database. SymmetricDS even takes care of this.\r\n\r\nThe software is highly configurable, and the fact that you can plug in extension points (to take care of, for instance, file replication) makes it a powerful tool.\r\n\r\nI haven&#39;t had it up and running very long, but it appears to be working very well. Even though the learning curve is steep in the beginning (with regard to configuration), i&#39;d say that it is worth the time it takes to learn it!\r\n\r\nUPDATE : I&#39;ve had SymmetricDS running for almost 4 years now, and it has not failed a single time. It seems to be the [Toyota Hilux][1] of replication software : it just works. I&#39;m replicating a local internal database to a remote external database. We&#39;re not talking about a huge amount of data to be replicated, but still there&#39;s a fair amount of activity going on. Replication is fast (seconds). Also, if for some reason you&#39;d like to &quot;populate&quot; the external node from scratch, you can easily do this with SymmetricDS as well. Thus, you can use SymmetricDS from start and have it to first populate the external node from scratch as well as take care of continuous replication. \r\n\r\nI&#39;ve got replication set up both ways (for different tables, never tried same table), and this works very well as well.\r\n\nUPDATE 2 : 8 years later and it&#39;s still running stable. I have not made much changes to the setup it is replicating, but it is certainly doing its job\n\r\n\r\n  [1]: http://www.topgear.com/uk/tv-show/series-3/episode-5","title":"SymmetricDS in the wild (production)?","body":"<p>I ended up choosing SymmetricDS for my company after having investigated database replication/synchronization for quite some time. My main issue was that i have a database table which represents physical files that needs to be replicated along with the database. SymmetricDS even takes care of this.</p>\n\n<p>The software is highly configurable, and the fact that you can plug in extension points (to take care of, for instance, file replication) makes it a powerful tool.</p>\n\n<p>I haven't had it up and running very long, but it appears to be working very well. Even though the learning curve is steep in the beginning (with regard to configuration), i'd say that it is worth the time it takes to learn it!</p>\n\n<p>UPDATE : I've had SymmetricDS running for almost 4 years now, and it has not failed a single time. It seems to be the <a href=\"http://www.topgear.com/uk/tv-show/series-3/episode-5\" rel=\"noreferrer\">Toyota Hilux</a> of replication software : it just works. I'm replicating a local internal database to a remote external database. We're not talking about a huge amount of data to be replicated, but still there's a fair amount of activity going on. Replication is fast (seconds). Also, if for some reason you'd like to \"populate\" the external node from scratch, you can easily do this with SymmetricDS as well. Thus, you can use SymmetricDS from start and have it to first populate the external node from scratch as well as take care of continuous replication. </p>\n\n<p>I've got replication set up both ways (for different tables, never tried same table), and this works very well as well.</p>\n\n<p>UPDATE 2 : 8 years later and it's still running stable. I have not made much changes to the setup it is replicating, but it is certainly doing its job</p>\n"},{"tags":[],"owner":{"account_id":336475,"reputation":654,"user_id":664146,"display_name":"syserr0r"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1425944214,"creation_date":1425944214,"answer_id":28953694,"question_id":4264569,"body_markdown":"We are using SymmetricDS between a MySQL server and 2 PostgreSQL servers (one of which is on a poor [&lt;1Mbit] ADSL connection) fairly successfully on a small-ish database (pg_dump was 1.2G last week, ~15k rows INSERT/UPDATE&#39;ed a day) .\r\n\r\nConfiguration can be hard to wrap your head around and we have/have-had some foreign key issues (which *may* not be due to the way we apply schema updates for this application).\r\n\r\nPersonally I found the few issues we had non-trivial and somewhat frustrating to debug, but we have had significantly fewer issues since upgrading to the 3.x releases (of which the remainder could be attributed to operator error rather than faults in the application).\r\n\r\nMy main missing feature is sync of the PostgreSQL sequences, but we work around that by setting the increment to 10 on all servers and offsetting each server to a different value (the MySQL server is primarily read-only, so ymmv there)","title":"SymmetricDS in the wild (production)?","body":"<p>We are using SymmetricDS between a MySQL server and 2 PostgreSQL servers (one of which is on a poor [&lt;1Mbit] ADSL connection) fairly successfully on a small-ish database (pg_dump was 1.2G last week, ~15k rows INSERT/UPDATE'ed a day) .</p>\n\n<p>Configuration can be hard to wrap your head around and we have/have-had some foreign key issues (which <em>may</em> not be due to the way we apply schema updates for this application).</p>\n\n<p>Personally I found the few issues we had non-trivial and somewhat frustrating to debug, but we have had significantly fewer issues since upgrading to the 3.x releases (of which the remainder could be attributed to operator error rather than faults in the application).</p>\n\n<p>My main missing feature is sync of the PostgreSQL sequences, but we work around that by setting the increment to 10 on all servers and offsetting each server to a different value (the MySQL server is primarily read-only, so ymmv there)</p>\n"}],"owner":{"account_id":38908,"reputation":8308,"user_id":111991,"accept_rate":76,"display_name":"Ryan Fernandes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6390,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":4403544,"answer_count":4,"score":10,"last_activity_date":1684704994,"creation_date":1290585717,"question_id":4264569,"body_markdown":"I&#39;ve been looking at some options to synchronize data between a few POS (Point of Sales) devices and the server.\r\n\r\n[SymmetricDS][1] seems to be one of the options with a business friendly license.\r\nBeing a Codehaus project does guarantee a certain degree of quality, so I&#39;m ok with that.\r\n\r\nThey seem to have &#39;been there, done that, got the [T-Shirt][2]&#39;...but\r\nit would be nice if they had a &quot;who&#39;s using SymmetricDS&quot; page on their site.\r\n\r\nDoes anyone know of a production grade implementation of SymmetricDS?\r\n\r\n*I&#39;d be even happier to hear if a fellow Stacker has implemented SymmetricDS.*\r\n\r\n  [1]: http://symmetricds.codehaus.org/\r\n  [2]: http://www.cafepress.com/symmetricds","title":"SymmetricDS in the wild (production)?","body":"<p>I've been looking at some options to synchronize data between a few POS (Point of Sales) devices and the server.</p>\n\n<p><a href=\"http://symmetricds.codehaus.org/\" rel=\"noreferrer\">SymmetricDS</a> seems to be one of the options with a business friendly license.\nBeing a Codehaus project does guarantee a certain degree of quality, so I'm ok with that.</p>\n\n<p>They seem to have 'been there, done that, got the <a href=\"http://www.cafepress.com/symmetricds\" rel=\"noreferrer\">T-Shirt</a>'...but\nit would be nice if they had a \"who's using SymmetricDS\" page on their site.</p>\n\n<p>Does anyone know of a production grade implementation of SymmetricDS?</p>\n\n<p><em>I'd be even happier to hear if a fellow Stacker has implemented SymmetricDS.</em></p>\n"},{"tags":["java","data-structures"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1684694313,"post_id":76301358,"comment_id":134550795,"body_markdown":"If your method is declared to return something, you must return something (or throw an exception; a special kind of &quot;return value&quot;). `peek` without returning anything doesn&#39;t make sense (because then you are not peeking)","body":"If your method is declared to return something, you must return something (or throw an exception; a special kind of &quot;return value&quot;). <code>peek</code> without returning anything doesn&#39;t make sense (because then you are not peeking)"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1684697412,"post_id":76301358,"comment_id":134551186,"body_markdown":"Within the exception code block: `System.out.println(&quot;Stack is empty&quot;); return top;`. Remove the `return Integer.MIN_VALUE;` line.","body":"Within the exception code block: <code>System.out.println(&quot;Stack is empty&quot;); return top;</code>. Remove the <code>return Integer.MIN_VALUE;</code> line."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1684712589,"post_id":76301358,"comment_id":134552577,"body_markdown":"It would be better to let it throw the exception. The caller needs to know there was nothing there, as opposed to Integer.MIN_VALUE which could be a real value on the stack. But actually if the application calls `peek()` when there is nothing on the stack, that is an application bug.","body":"It would be better to let it throw the exception. The caller needs to know there was nothing there, as opposed to Integer.MIN_VALUE which could be a real value on the stack. But actually if the application calls <code>peek()</code> when there is nothing on the stack, that is an application bug."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1684694312,"creation_date":1684694312,"answer_id":76301395,"question_id":76301358,"body_markdown":"Yes. Throw an `Exception`. You could simply throw the one you are currently catching.\r\n\r\n    public int peek() throws ArrayIndexOutOfBoundsException {\r\n        return arr[top];\r\n    }\r\n\r\nYou could return an `Optional&lt;Integer&gt;` like\r\n\r\n\tpublic Optional&lt;Integer&gt; peek() {\r\n\t\ttry {\r\n\t\t\treturn Optional.of(arr[top]);\r\n\t\t} catch (ArrayIndexOutOfBoundsException e) {\r\n\t\t\tSystem.out.println(&quot;Stack is empty&quot;);\r\n\t\t}\r\n\t\treturn Optional.empty();\r\n\t}\r\n\r\nOr you could return an `Integer` and make it `null`. Warning, this is possibly a **billion dollar mistake**&lt;sup&gt;1&lt;/sup&gt;. Like,\r\n\r\n\tpublic Integer peek() {\r\n\t\ttry {\r\n\t\t\treturn arr[top];\r\n\t\t} catch (ArrayIndexOutOfBoundsException e) {\r\n\t\t\tSystem.out.println(&quot;Stack is empty&quot;);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n&lt;sup&gt;1&lt;/sup&gt;&lt;sub&gt;[Null References The Billion Dollar Mistake](https://youtu.be/ybrQvs4x0Ps)&lt;/sub&gt;","title":"Any alternate way to implement the peek method?","body":"<p>Yes. Throw an <code>Exception</code>. You could simply throw the one you are currently catching.</p>\n<pre><code>public int peek() throws ArrayIndexOutOfBoundsException {\n    return arr[top];\n}\n</code></pre>\n<p>You could return an <code>Optional&lt;Integer&gt;</code> like</p>\n<pre><code>public Optional&lt;Integer&gt; peek() {\n    try {\n        return Optional.of(arr[top]);\n    } catch (ArrayIndexOutOfBoundsException e) {\n        System.out.println(&quot;Stack is empty&quot;);\n    }\n    return Optional.empty();\n}\n</code></pre>\n<p>Or you could return an <code>Integer</code> and make it <code>null</code>. Warning, this is possibly a <strong>billion dollar mistake</strong><sup>1</sup>. Like,</p>\n<pre><code>public Integer peek() {\n    try {\n        return arr[top];\n    } catch (ArrayIndexOutOfBoundsException e) {\n        System.out.println(&quot;Stack is empty&quot;);\n    }\n    return null;\n}\n</code></pre>\n<p><sup>1</sup><sub><a href=\"https://youtu.be/ybrQvs4x0Ps\" rel=\"nofollow noreferrer\">Null References The Billion Dollar Mistake</a></sub></p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684704121,"creation_date":1684704121,"answer_id":76301973,"question_id":76301358,"body_markdown":"I see what you&#39;re saying; only return a value if there is one, otherwise print a message.\r\n\r\nThis is where exceptions are actually useful.\r\n\r\nHave your method throw an exception, and catch it wherever you are calling the `peek` method.\r\n\r\n```java\r\npublic int peek() throws ArrayIndexOutOfBoundsException {\r\n    return arr[top];\r\n}\r\n```\r\n\r\n```java\r\nvoid example() {\r\n    int value;\r\n    try {\r\n        value = stack.peek();\r\n    } catch (ArrayIndexOutOfBoundsException exception) {\r\n        System.out.println(&quot;stack is empty&quot;);\r\n    }\r\n}\r\n```\r\n\r\nIt&#39;s a matter of re-ordering and re-thinking your control-flow.  \r\nWhich for a situation like this, is typically at ground-level, and easy to implement.","title":"Any alternate way to implement the peek method?","body":"<p>I see what you're saying; only return a value if there is one, otherwise print a message.</p>\n<p>This is where exceptions are actually useful.</p>\n<p>Have your method throw an exception, and catch it wherever you are calling the <code>peek</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int peek() throws ArrayIndexOutOfBoundsException {\n    return arr[top];\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>void example() {\n    int value;\n    try {\n        value = stack.peek();\n    } catch (ArrayIndexOutOfBoundsException exception) {\n        System.out.println(&quot;stack is empty&quot;);\n    }\n}\n</code></pre>\n<p>It's a matter of re-ordering and re-thinking your control-flow.<br />\nWhich for a situation like this, is typically at ground-level, and easy to implement.</p>\n"}],"owner":{"account_id":28648977,"reputation":35,"user_id":21936341,"display_name":"paneer_curry"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76301395,"answer_count":2,"score":2,"last_activity_date":1684704121,"creation_date":1684693749,"question_id":76301358,"body_markdown":"I am learning data structures on my own and have been trying to implement them using Java. Currently I am attempting to implement a array based stack. In the `peek` method when the stack is empty I am currently catching `ArrayIndexOutOfBoundsException` and then returning `Integer.MIN_VALUE` to stop the program from quitting and getting it ready for further push operations. Is there any other way to implement the `peek` method so that it just prints the message inside the `catch` block without returning the Integer.MIN_VALUE.\r\n\r\n```\r\npublic class Stack {\r\n    int[] arr;\r\n    int top = -1;\r\n    int currSize = 10;\r\n\r\n    /* Constructor */\r\n    public Stack() {\r\n        arr = new int[10];\r\n    }\r\n\r\n    public void push(int data) {\r\n        if (top ==  arr.length - 1) {\r\n            resize();\r\n        }\r\n        top++;\r\n        arr[top] = data;\r\n    }\r\n\r\n    /*\r\n    public void pop() {\r\n        arr[top] = 0;\r\n        top--;\r\n    }\r\n    */\r\n\r\n    public int peek() {\r\n        try {\r\n            return arr[top];\r\n        } catch (ArrayIndexOutOfBoundsException e) {\r\n            System.out.println(&quot;Stack is empty&quot;);\r\n        }\r\n        return Integer.MIN_VALUE;\r\n    }\r\n\r\n    /* Resizes the array when space runs out */\r\n    public void resize() {\r\n        int[] newArr = new int[2 * currSize];\r\n        currSize = 2 * currSize;\r\n        for (int i = 0; i &lt; newArr.length / 2; i++) {\r\n            newArr[i] = arr[i];\r\n        }\r\n        arr = newArr;\r\n        newArr = null;\r\n    }\r\n\r\n    /* Show elements in stack */\r\n    public void show() {\r\n        for (int i = 0; i &lt;= top; i++) {\r\n            System.out.print(arr[i] + &quot; -&gt; &quot;);\r\n        }\r\n        System.out.println();\r\n    }\r\n\r\n    /* Rturn the no of elements in stack */\r\n    public int getSize() {\r\n        return top + 1;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Stack st = new Stack();\r\n        System.out.println(st.peek());\r\n    }\r\n}\r\n```\r\n\r\n\r\nI tried omitting the `Integer.MIN_VALUE` return statement but the program wouldn&#39;t compile.\r\n\r\nI was expecting that after the message in `catch` block had been printed the control would return from the `peek` method to the `main` method and resume executing the other statements in main method (probably any push operations).\r\n\r\nA solution which occurs to me is the I change the `peek` method return type to void, print the top most value and the return `null` but I don&#39;t want to take this path because I may want to store the return value and use it in some other parts of program.","title":"Any alternate way to implement the peek method?","body":"<p>I am learning data structures on my own and have been trying to implement them using Java. Currently I am attempting to implement a array based stack. In the <code>peek</code> method when the stack is empty I am currently catching <code>ArrayIndexOutOfBoundsException</code> and then returning <code>Integer.MIN_VALUE</code> to stop the program from quitting and getting it ready for further push operations. Is there any other way to implement the <code>peek</code> method so that it just prints the message inside the <code>catch</code> block without returning the Integer.MIN_VALUE.</p>\n<pre><code>public class Stack {\n    int[] arr;\n    int top = -1;\n    int currSize = 10;\n\n    /* Constructor */\n    public Stack() {\n        arr = new int[10];\n    }\n\n    public void push(int data) {\n        if (top ==  arr.length - 1) {\n            resize();\n        }\n        top++;\n        arr[top] = data;\n    }\n\n    /*\n    public void pop() {\n        arr[top] = 0;\n        top--;\n    }\n    */\n\n    public int peek() {\n        try {\n            return arr[top];\n        } catch (ArrayIndexOutOfBoundsException e) {\n            System.out.println(&quot;Stack is empty&quot;);\n        }\n        return Integer.MIN_VALUE;\n    }\n\n    /* Resizes the array when space runs out */\n    public void resize() {\n        int[] newArr = new int[2 * currSize];\n        currSize = 2 * currSize;\n        for (int i = 0; i &lt; newArr.length / 2; i++) {\n            newArr[i] = arr[i];\n        }\n        arr = newArr;\n        newArr = null;\n    }\n\n    /* Show elements in stack */\n    public void show() {\n        for (int i = 0; i &lt;= top; i++) {\n            System.out.print(arr[i] + &quot; -&gt; &quot;);\n        }\n        System.out.println();\n    }\n\n    /* Rturn the no of elements in stack */\n    public int getSize() {\n        return top + 1;\n    }\n\n    public static void main(String[] args) {\n        Stack st = new Stack();\n        System.out.println(st.peek());\n    }\n}\n</code></pre>\n<p>I tried omitting the <code>Integer.MIN_VALUE</code> return statement but the program wouldn't compile.</p>\n<p>I was expecting that after the message in <code>catch</code> block had been printed the control would return from the <code>peek</code> method to the <code>main</code> method and resume executing the other statements in main method (probably any push operations).</p>\n<p>A solution which occurs to me is the I change the <code>peek</code> method return type to void, print the top most value and the return <code>null</code> but I don't want to take this path because I may want to store the return value and use it in some other parts of program.</p>\n"},{"tags":["java","regex","string","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684703550,"creation_date":1684703235,"answer_id":76301922,"question_id":75183769,"body_markdown":"First off, the timestamp and file extension is always going to be the same amount of characters, so you don&#39;t need a character class.\r\n\r\nSo, given `File_[TimeStamp:yyyyMMdd_HHmm].csv`.\r\n\r\nThe pattern `\\[TimeStamp(:[^\\[\\]]+)?\\]` can be reduced to the following.\r\n\r\n```regex\r\n\\[TimeStamp(.{14}).{5}\r\n```\r\n\r\nNow, you&#39;re saying that you&#39;d like to be able to match not only the text &quot;TimeStamp&quot;, but also other values.\r\n\r\nYou can place the text `TimeStamp` within a non-capturing group, and use the `|` specifier, to delimit a set of possible values.\r\n\r\n```regex\r\n\\[(?:TimeStamp|Asia/Tokyo)(.{14}).{5}\r\n```\r\n\r\nSo now, both of the following values will match.\r\n\r\n```none\r\nFile_[TimeStamp:yyyyMMdd_HHmm].csv\r\nFile_[Asia/Tokyo:yyyyMMdd_HHmm].csv\r\n```\r\n\r\nFurthermore, you&#39;re saying that you want it to match a ZoneId which is provided at runtime.\r\n\r\nYou can use the `String.format` for this, using the `%s` specifier to interpolate a `String` value into a `String`.\r\n\r\nConsider the following.  \r\nI&#39;ve excluded the ZoneId value, as I&#39;m not sure what your variable name will be.\r\n\r\n```java\r\nString regex = &quot;\\\\[(?:TimeStamp|%s)(.{14}).{5}&quot;;\r\nString zoneId = Pattern.quote(/* zoneId */);\r\nregex = regex.formatted(zoneId);\r\n```\r\n\r\nIf I used `America/Phoenix` as a ZoneId value, and we output the value of `regex`, we&#39;ll get the following.\r\n\r\n```none\r\n\\[(?:TimeStamp|\\QAmerica/Phoenix\\E)(.{14}).{5}\r\n```\r\n\r\nIn conclusion, you can re-factor you code, as follows.\r\n\r\n```java\r\nprivate static final String DEFAULT_FORMAT = &quot;yyyyMMddHHmmss&quot;;\r\nprivate static final String TIMESTAMP_REGEX = &quot;\\\\[TimeStamp(.{14}).{5}&quot;;\r\n\r\npublic static String processFileName(String value, String regex) {\r\n    LocalDateTime dateTime = LocalDateTime.now();\r\n    Matcher matcher = Pattern.compile(regex).matcher(value);\r\n    while (matcher.find()) {\r\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(DEFAULT_FORMAT);\r\n        if (matcher.group(1) != null)\r\n            dtf = DateTimeFormatter.ofPattern(matcher.group(1).substring(1));\r\n        value = value.replace(matcher.group(0), dtf.format(dateTime));\r\n    }\r\n    return value;\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nFile_20230521_1711\r\n```","title":"Correct Regex for Passing Time Zone in Java","body":"<p>First off, the timestamp and file extension is always going to be the same amount of characters, so you don't need a character class.</p>\n<p>So, given <code>File_[TimeStamp:yyyyMMdd_HHmm].csv</code>.</p>\n<p>The pattern <code>\\[TimeStamp(:[^\\[\\]]+)?\\]</code> can be reduced to the following.</p>\n<pre><code>\\[TimeStamp(.{14}).{5}\n</code></pre>\n<p>Now, you're saying that you'd like to be able to match not only the text &quot;TimeStamp&quot;, but also other values.</p>\n<p>You can place the text <code>TimeStamp</code> within a non-capturing group, and use the <code>|</code> specifier, to delimit a set of possible values.</p>\n<pre><code>\\[(?:TimeStamp|Asia/Tokyo)(.{14}).{5}\n</code></pre>\n<p>So now, both of the following values will match.</p>\n<pre class=\"lang-none prettyprint-override\"><code>File_[TimeStamp:yyyyMMdd_HHmm].csv\nFile_[Asia/Tokyo:yyyyMMdd_HHmm].csv\n</code></pre>\n<p>Furthermore, you're saying that you want it to match a ZoneId which is provided at runtime.</p>\n<p>You can use the <code>String.format</code> for this, using the <code>%s</code> specifier to interpolate a <code>String</code> value into a <code>String</code>.</p>\n<p>Consider the following.<br />\nI've excluded the ZoneId value, as I'm not sure what your variable name will be.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String regex = &quot;\\\\[(?:TimeStamp|%s)(.{14}).{5}&quot;;\nString zoneId = Pattern.quote(/* zoneId */);\nregex = regex.formatted(zoneId);\n</code></pre>\n<p>If I used <code>America/Phoenix</code> as a ZoneId value, and we output the value of <code>regex</code>, we'll get the following.</p>\n<pre class=\"lang-none prettyprint-override\"><code>\\[(?:TimeStamp|\\QAmerica/Phoenix\\E)(.{14}).{5}\n</code></pre>\n<p>In conclusion, you can re-factor you code, as follows.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final String DEFAULT_FORMAT = &quot;yyyyMMddHHmmss&quot;;\nprivate static final String TIMESTAMP_REGEX = &quot;\\\\[TimeStamp(.{14}).{5}&quot;;\n\npublic static String processFileName(String value, String regex) {\n    LocalDateTime dateTime = LocalDateTime.now();\n    Matcher matcher = Pattern.compile(regex).matcher(value);\n    while (matcher.find()) {\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(DEFAULT_FORMAT);\n        if (matcher.group(1) != null)\n            dtf = DateTimeFormatter.ofPattern(matcher.group(1).substring(1));\n        value = value.replace(matcher.group(0), dtf.format(dateTime));\n    }\n    return value;\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>File_20230521_1711\n</code></pre>\n"}],"owner":{"account_id":19090376,"reputation":15,"user_id":13940769,"display_name":"Biswajit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684703550,"creation_date":1674216212,"question_id":75183769,"body_markdown":"I am currently using a regex to interprete the below format.\r\n\r\nFile Name : File_[TimeStamp:yyyyMMdd_HHmm].csv and regex for interpreting the format is : &quot;\\\\[TimeStamp(:[^\\\\[\\\\]]+)?\\\\]&quot; .\r\nit will return a String with timestamp value : File_20230120_1716.csv\r\n\r\n\r\nThe sample code which support interpreting the timestamp format in the filename:\r\n```\r\nimport java.time.LocalDateTime;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\npublic class Test {\r\n\tprivate static final String DEFAULT_FORMAT= &quot;yyyyMMddHHmmss&quot;;\r\n\tprivate static final String TIMESTAMP_REGEX = &quot;\\\\[TimeStamp(:[^\\\\[\\\\]]+)?\\\\]&quot;;\r\n\tpublic  static String processFileName(String value, String regex ) {\r\n\t\tLocalDateTime dateTime=LocalDateTime.now();\r\n\t\tMatcher matcher=Pattern.compile(regex, Pattern.DOTALL).matcher(value);\r\n\t\twhile(matcher.find()) {\r\n\t\t\tDateTimeFormatter dtf=DateTimeFormatter.ofPattern(DEFAULT_FORMAT);\r\n\t\t\tif(matcher.group(1)!=null) {\r\n\t\t\t\tdtf=DateTimeFormatter.ofPattern(matcher.group(1).replaceFirst(&quot;:&quot;, &quot;&quot;));\r\n\t\t\t}\r\n\t\t\tvalue=value.replace(matcher.group(0), dtf.format(dateTime));\r\n\t\t}\r\n\t\treturn value;\r\n\t}\r\n\tpublic static void main(String args[]) {\r\n\t\t\r\n\t\tString str=processFileName(&quot;File_[TimeStamp:yyyyMMdd_HHmm].csv&quot;, TIMESTAMP_REGEX);\r\n\t\tSystem.out.println(str);\r\n\t   }\r\n}\r\n```\r\nOutput: File_20230120_1716.csv\r\nCurrently I can use File_[TimeStamp:yyyyMMdd_HHmm].csv or File_[TimeStamp].csv formats to interprete with above regex.\r\n\r\n\r\nBut I wanted to modify the above &quot;\\\\[TimeStamp(:[^\\\\[\\\\]]+)?\\\\]&quot; sothat it can interpret ZonId also in this format : File_[TimeStam|Asia\\Tokyo:yyyyMMdd_HHmm].csv.\r\nBased upon ZoneId from the input I will modify the LocalDateTime value.","title":"Correct Regex for Passing Time Zone in Java","body":"<p>I am currently using a regex to interprete the below format.</p>\n<p>File Name : File_[TimeStamp:yyyyMMdd_HHmm].csv and regex for interpreting the format is : &quot;\\[TimeStamp(:[^\\[\\]]+)?\\]&quot; .\nit will return a String with timestamp value : File_20230120_1716.csv</p>\n<p>The sample code which support interpreting the timestamp format in the filename:</p>\n<pre><code>import java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Test {\n    private static final String DEFAULT_FORMAT= &quot;yyyyMMddHHmmss&quot;;\n    private static final String TIMESTAMP_REGEX = &quot;\\\\[TimeStamp(:[^\\\\[\\\\]]+)?\\\\]&quot;;\n    public  static String processFileName(String value, String regex ) {\n        LocalDateTime dateTime=LocalDateTime.now();\n        Matcher matcher=Pattern.compile(regex, Pattern.DOTALL).matcher(value);\n        while(matcher.find()) {\n            DateTimeFormatter dtf=DateTimeFormatter.ofPattern(DEFAULT_FORMAT);\n            if(matcher.group(1)!=null) {\n                dtf=DateTimeFormatter.ofPattern(matcher.group(1).replaceFirst(&quot;:&quot;, &quot;&quot;));\n            }\n            value=value.replace(matcher.group(0), dtf.format(dateTime));\n        }\n        return value;\n    }\n    public static void main(String args[]) {\n        \n        String str=processFileName(&quot;File_[TimeStamp:yyyyMMdd_HHmm].csv&quot;, TIMESTAMP_REGEX);\n        System.out.println(str);\n       }\n}\n</code></pre>\n<p>Output: File_20230120_1716.csv\nCurrently I can use File_[TimeStamp:yyyyMMdd_HHmm].csv or File_[TimeStamp].csv formats to interprete with above regex.</p>\n<p>But I wanted to modify the above &quot;\\[TimeStamp(:[^\\[\\]]+)?\\]&quot; sothat it can interpret ZonId also in this format : File_[TimeStam|Asia\\Tokyo:yyyyMMdd_HHmm].csv.\nBased upon ZoneId from the input I will modify the LocalDateTime value.</p>\n"},{"tags":["java","android","xml","button","android-activity"],"comments":[{"owner":{"account_id":1558119,"reputation":1333,"user_id":1448637,"accept_rate":67,"display_name":"DmitryK"},"score":1,"creation_date":1357616154,"post_id":14207392,"comment_id":19701967,"body_markdown":"Find your answer here: http://stackoverflow.com/questions/736571/using-intent-in-an-android-application-to-show-another-activity","body":"Find your answer here: <a href=\"http://stackoverflow.com/questions/736571/using-intent-in-an-android-application-to-show-another-activity\" title=\"using intent in an android application to show another activity\">stackoverflow.com/questions/736571/&hellip;</a>"},{"owner":{"account_id":1857124,"reputation":391,"user_id":1682454,"accept_rate":92,"display_name":"Androyds"},"score":2,"creation_date":1357616873,"post_id":14207392,"comment_id":19702119,"body_markdown":"please research more on tutorial regarding this. there are bunch on the web..","body":"please research more on tutorial regarding this. there are bunch on the web.."},{"owner":{"account_id":1980300,"reputation":28633,"user_id":1777090,"accept_rate":89,"display_name":"MysticMagicϡ"},"score":1,"creation_date":1357621117,"post_id":14207392,"comment_id":19703029,"body_markdown":"Have you given android:onClick=&quot;click1&quot; property for button in activity_main.xml?","body":"Have you given android:onClick=&quot;click1&quot; property for button in activity_main.xml?"},{"owner":{"account_id":307669,"reputation":22223,"user_id":1466188,"accept_rate":69,"display_name":"Dipak Keshariya"},"score":0,"creation_date":1357649568,"post_id":14207392,"comment_id":19714540,"body_markdown":"@user1956735 Please see my answer, it will solve your problem.","body":"@user1956735 Please see my answer, it will solve your problem."},{"owner":{"account_id":1444109,"reputation":3612,"user_id":1363270,"accept_rate":60,"display_name":"Rob Avery IV"},"score":0,"creation_date":1357659545,"post_id":14207392,"comment_id":19720439,"body_markdown":"There is more than one way to do this.","body":"There is more than one way to do this."},{"owner":{"account_id":1444109,"reputation":3612,"user_id":1363270,"accept_rate":60,"display_name":"Rob Avery IV"},"score":0,"creation_date":1357660017,"post_id":14207392,"comment_id":19720739,"body_markdown":"FYI before you post a very simple and juvenile question on Stackoverflow, make sure to see if the question hasn&#39;t already been answered and to do some research before posting. A lack of research is frowned upon. Trust me, been there, done that.","body":"FYI before you post a very simple and juvenile question on Stackoverflow, make sure to see if the question hasn&#39;t already been answered and to do some research before posting. A lack of research is frowned upon. Trust me, been there, done that."}],"answers":[{"tags":[],"owner":{"account_id":1272135,"reputation":25812,"user_id":1228170,"display_name":"Bhavesh Patadiya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1357620907,"creation_date":1357620907,"answer_id":14208420,"question_id":14207392,"body_markdown":"Change your FirstyActivity to: \r\n \r\n\r\n    @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            Button btn_go=(Button)findViewById(R.id.YOUR_BUTTON_ID);\r\n            \tbtn_go.setOnClickListener(new OnClickListener() {\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void onClick(View v) {\r\n    \t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\t  Log.i(&quot;clicks&quot;,&quot;You Clicked B1&quot;);\r\n                  Intent i=new Intent(\r\n                         MainActivity.this,\r\n                         MainActivity2.class);\r\n                  startActivity(i);\r\n                }\r\n    \t\t}\r\n    \t});\r\n     \r\n    }\r\n\r\nHope it will help you.","title":"Android Button click go to another xml page","body":"<p>Change your FirstyActivity to: </p>\n\n<pre><code>@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        Button btn_go=(Button)findViewById(R.id.YOUR_BUTTON_ID);\n            btn_go.setOnClickListener(new OnClickListener() {\n\n            @Override\n            public void onClick(View v) {\n                // TODO Auto-generated method stub\n                  Log.i(\"clicks\",\"You Clicked B1\");\n              Intent i=new Intent(\n                     MainActivity.this,\n                     MainActivity2.class);\n              startActivity(i);\n            }\n        }\n    });\n\n}\n</code></pre>\n\n<p>Hope it will help you.</p>\n"},{"tags":[],"owner":{"account_id":307669,"reputation":22223,"user_id":1466188,"accept_rate":69,"display_name":"Dipak Keshariya"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1357621589,"creation_date":1357621589,"answer_id":14208509,"question_id":14207392,"body_markdown":"Write below code in your MainActivity.java file instead of your code.\r\n\r\n    public class MainActivity extends Activity implements OnClickListener {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n\r\n            Button mBtn1 = (Button) findViewById(R.id.mBtn1);\r\n            mBtn1.setOnClickListener(this);\r\n        }\r\n    \r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            // Inflate the menu; this adds items to the action bar if it is present.\r\n            getMenuInflater().inflate(R.menu.activity_main, menu);\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public void onClick(View v) {\r\n            Log.i(&quot;clicks&quot;,&quot;You Clicked B1&quot;);\r\n            Intent i=new Intent(MainActivity.this, MainActivity2.class);\r\n            startActivity(i);\r\n        }\r\n    }\r\n\r\nAnd Declare MainActivity2 into your Androidmanifest.xml file using below code.\r\n\r\n    &lt;activity\r\n        android:name=&quot;.MainActivity2&quot;\r\n        android:label=&quot;@string/title_activity_main&quot;&gt;\r\n    &lt;/activity&gt;","title":"Android Button click go to another xml page","body":"<p>Write below code in your MainActivity.java file instead of your code.</p>\n\n<pre><code>public class MainActivity extends Activity implements OnClickListener {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        Button mBtn1 = (Button) findViewById(R.id.mBtn1);\n        mBtn1.setOnClickListener(this);\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        // Inflate the menu; this adds items to the action bar if it is present.\n        getMenuInflater().inflate(R.menu.activity_main, menu);\n        return true;\n    }\n\n    @Override\n    public void onClick(View v) {\n        Log.i(\"clicks\",\"You Clicked B1\");\n        Intent i=new Intent(MainActivity.this, MainActivity2.class);\n        startActivity(i);\n    }\n}\n</code></pre>\n\n<p>And Declare MainActivity2 into your Androidmanifest.xml file using below code.</p>\n\n<pre><code>&lt;activity\n    android:name=\".MainActivity2\"\n    android:label=\"@string/title_activity_main\"&gt;\n&lt;/activity&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1444109,"reputation":3612,"user_id":1363270,"accept_rate":60,"display_name":"Rob Avery IV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1357659953,"creation_date":1357659953,"answer_id":14218738,"question_id":14207392,"body_markdown":"There is more than one way to do this.\r\n\r\nHere is a good resource straight from Google:\r\nhttp://developer.android.com/training/basics/firstapp/starting-activity.html\r\n\r\nAt developer.android.com, they have numerous tutorials explaining just about everything you need to know about android. They even provide detailed API for each class.\r\n\r\nIf that doesn&#39;t help, there are NUMEROUS different resources that can help you with this question and other android questions.","title":"Android Button click go to another xml page","body":"<p>There is more than one way to do this.</p>\n\n<p>Here is a good resource straight from Google:\n<a href=\"http://developer.android.com/training/basics/firstapp/starting-activity.html\" rel=\"nofollow\">http://developer.android.com/training/basics/firstapp/starting-activity.html</a></p>\n\n<p>At developer.android.com, they have numerous tutorials explaining just about everything you need to know about android. They even provide detailed API for each class.</p>\n\n<p>If that doesn't help, there are NUMEROUS different resources that can help you with this question and other android questions.</p>\n"}],"owner":{"account_id":2216229,"reputation":79,"user_id":1956735,"display_name":"Dmitry"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104830,"favorite_count":0,"down_vote_count":3,"up_vote_count":5,"accepted_answer_id":14208509,"answer_count":3,"score":2,"last_activity_date":1684702416,"creation_date":1357612604,"question_id":14207392,"body_markdown":"So what I&#39;ve done in Eclipse, in layouts I have: activity_main.xml  and activity_main2.xml. What I tried is to create a button in activity_main.xml and on click to go on screen of activity_main2.xml\r\n\r\nso in `com.example.myfirstapp` I have\r\n\r\nMainActivity.Java:\r\n\r\n    package com.example.myfirstapp;\r\n\r\n    import android.os.Bundle;\r\n    import android.app.Activity;\r\n    import android.content.Intent;\r\n    import android.util.Log;\r\n    import android.view.Menu;\r\n    import android.view.View;\r\n    \r\n    public class MainActivity extends Activity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n        }\r\n    \r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            // Inflate the menu; this adds items to the action bar if it is present.\r\n            getMenuInflater().inflate(R.menu.activity_main, menu);\r\n            return true;\r\n        }\r\n        \r\n        public void click1(View v) {\r\n        \tLog.i(&quot;clicks&quot;,&quot;You Clicked B1&quot;);\r\n          \tIntent i=new Intent(\r\n        \t             MainActivity.this,\r\n        \t             MainActivity2.class);\r\n        \tstartActivity(i);\r\n        }\r\n    }\r\n\r\nMainActivity2.java\r\n\r\n\r\n\r\n    package com.example.myfirstapp;\r\n    \r\n    import android.os.Bundle;\r\n    import android.view.Menu;\r\n    import android.app.Activity;\r\n    \r\n    public class MainActivity2 extends Activity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main2);\r\n        }\r\n    \r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            // Inflate the menu; this adds items to the action bar if it is present.\r\n            getMenuInflater().inflate(R.menu.activity_main, menu);\r\n            return true;\r\n        }\r\n    }","title":"Android Button click go to another xml page","body":"<p>So what I've done in Eclipse, in layouts I have: activity_main.xml  and activity_main2.xml. What I tried is to create a button in activity_main.xml and on click to go on screen of activity_main2.xml</p>\n\n<p>so in <code>com.example.myfirstapp</code> I have</p>\n\n<p>MainActivity.Java:</p>\n\n<pre><code>package com.example.myfirstapp;\n\nimport android.os.Bundle;\nimport android.app.Activity;\nimport android.content.Intent;\nimport android.util.Log;\nimport android.view.Menu;\nimport android.view.View;\n\npublic class MainActivity extends Activity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        // Inflate the menu; this adds items to the action bar if it is present.\n        getMenuInflater().inflate(R.menu.activity_main, menu);\n        return true;\n    }\n\n    public void click1(View v) {\n        Log.i(\"clicks\",\"You Clicked B1\");\n        Intent i=new Intent(\n                     MainActivity.this,\n                     MainActivity2.class);\n        startActivity(i);\n    }\n}\n</code></pre>\n\n<p>MainActivity2.java</p>\n\n<pre><code>package com.example.myfirstapp;\n\nimport android.os.Bundle;\nimport android.view.Menu;\nimport android.app.Activity;\n\npublic class MainActivity2 extends Activity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main2);\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        // Inflate the menu; this adds items to the action bar if it is present.\n        getMenuInflater().inflate(R.menu.activity_main, menu);\n        return true;\n    }\n}\n</code></pre>\n"},{"tags":["java","string","replace","character"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":3,"creation_date":1674392559,"post_id":75200481,"comment_id":132700697,"body_markdown":"`expression = expression.replace(character, &#39; &#39;);` will replace *all* `character` occurances. So `&quot;11+&quot;.replace(&#39;1&#39;,&#39; &#39;)` will become `&quot;  +&quot;`. To replace *first* occurrence of that character you may want to use `replaceFirst`. Since it uses regex, you want to generate regex which represents that character (in case such character is regex metacharacter like `+`). To do that you can use `Pattern.quote` but it expects String. So you also need to convert your `character` to String first. Final version could look like `expression = expression.replaceFirst(Pattern.quote(&quot;&quot;+character), &quot;&quot;);`.","body":"<code>expression = expression.replace(character, &#39; &#39;);</code> will replace <i>all</i> <code>character</code> occurances. So <code>&quot;11+&quot;.replace(&#39;1&#39;,&#39; &#39;)</code> will become <code>&quot;  +&quot;</code>. To replace <i>first</i> occurrence of that character you may want to use <code>replaceFirst</code>. Since it uses regex, you want to generate regex which represents that character (in case such character is regex metacharacter like <code>+</code>). To do that you can use <code>Pattern.quote</code> but it expects String. So you also need to convert your <code>character</code> to String first. Final version could look like <code>expression = expression.replaceFirst(Pattern.quote(&quot;&quot;+character), &quot;&quot;);</code>."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1674392679,"post_id":75200481,"comment_id":132700723,"body_markdown":"Same for player inventory. BTW replacing character with `&quot;&quot;` (empty string) instead of `&#39; &#39;` (space) also lets you avoid `inventoryPlayer1 = inventoryPlayer1.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);` since you are not adding any spaces now.","body":"Same for player inventory. BTW replacing character with <code>&quot;&quot;</code> (empty string) instead of <code>&#39; &#39;</code> (space) also lets you avoid <code>inventoryPlayer1 = inventoryPlayer1.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);</code> since you are not adding any spaces now."},{"owner":{"account_id":22773857,"reputation":69,"user_id":16930849,"display_name":"Noname"},"score":0,"creation_date":1674393237,"post_id":75200481,"comment_id":132700805,"body_markdown":"Thank you! I don&#39;t understand how to implement this still. But I will try to figure it out. Just replacing this &quot;expression = expression.replaceFirst...&quot; doesn&#39;t work. So I&#39;ll just see how you meant it and hopefully I&#39;ll get it. Thanks for your help","body":"Thank you! I don&#39;t understand how to implement this still. But I will try to figure it out. Just replacing this &quot;expression = expression.replaceFirst...&quot; doesn&#39;t work. So I&#39;ll just see how you meant it and hopefully I&#39;ll get it. Thanks for your help"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1674396175,"post_id":75200481,"comment_id":132701296,"body_markdown":"You are welcome. BTW if instead of String you can use other structures like List then you could use `yourList.remove(element)` which would remove *first* occurrence of that element from your list.","body":"You are welcome. BTW if instead of String you can use other structures like List then you could use <code>yourList.remove(element)</code> which would remove <i>first</i> occurrence of that element from your list."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684701623,"creation_date":1684701623,"answer_id":76301839,"question_id":75200481,"body_markdown":"It looks like you&#39;re trying to remove any repeated characters.\r\n\r\nThe following regular expression pattern will match any character that is immediately followed by the same character.\r\n\r\n```regex\r\n(.)\\1\r\n```\r\n\r\nYou can use this within a `String.replaceAll` method.\r\n\r\n```java\r\nString string = &quot;111234++&quot;\r\nwhile (string.matches(&quot;.*(.)\\\\1.*&quot;))\r\n    string = string.replaceAll(&quot;(.)\\\\1&quot;, &quot;$1&quot;);\r\n```\r\n\r\nThe `string.matches` call is asserting that `string` contains at least 1 repeated set.  \r\nAnd, the `string.replaceAll` call is replacing the double-occurrence with a single occurrence.","title":"Trying to remove unknown and specific characters once from a string","body":"<p>It looks like you're trying to remove any repeated characters.</p>\n<p>The following regular expression pattern will match any character that is immediately followed by the same character.</p>\n<pre><code>(.)\\1\n</code></pre>\n<p>You can use this within a <code>String.replaceAll</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string = &quot;111234++&quot;\nwhile (string.matches(&quot;.*(.)\\\\1.*&quot;))\n    string = string.replaceAll(&quot;(.)\\\\1&quot;, &quot;$1&quot;);\n</code></pre>\n<p>The <code>string.matches</code> call is asserting that <code>string</code> contains at least 1 repeated set.<br />\nAnd, the <code>string.replaceAll</code> call is replacing the double-occurrence with a single occurrence.</p>\n"}],"owner":{"account_id":22773857,"reputation":69,"user_id":16930849,"display_name":"Noname"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684701623,"creation_date":1674391257,"question_id":75200481,"body_markdown":"I have a command line argument that looks like this:\r\n`&quot;111234++&quot;`. It is not hard-coded, so it could vary. Just for the sake of example, I&#39;ll stick to that specific input though.  \r\nThen there is going to be another expression, like this one: &quot;11+&quot;. My ultimate goal is the removal of these occurrences from the input string. This means, the following string: &quot;111234++&quot; should get converted into this the smaller one right here: &quot;1234+&quot;. For some reason I can&#39;t get this to work. Here is what I tried:\r\n\r\n    if (isExpressionInInventory(expression, inventoryPlayer1)) {\r\n        for (int i = 0; i &lt; expression.length(); i++) {\r\n            char character  = expression.charAt(i);\r\n            for (int j = 0; j &lt; inventoryPlayer1.length(); j++) {\r\n                if (inventoryPlayer1.charAt(j) == character) {\r\n                    inventoryPlayer1 = inventoryPlayer1.replace(character, &#39; &#39;);\r\n                    expression = expression.replace(character, &#39; &#39;);\r\n                }\r\n            }\r\n        }\r\n        inventoryPlayer1 = inventoryPlayer1.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);\r\n    }\r\n\r\n___\r\nI tried iterating over the string-expression and store the character consecutively. My first character should be &quot;1&quot; then.. The nested for loop iterates through the inventory &quot;111234++&quot; and replaces each occurrence of the character with an empty character. This is the moment where my program has its flaw. I only want to replace one occurrence of that character. Sadly, I have no idea how to tackle this issue.. \r\nThanks for any help in advance!\r\n","title":"Trying to remove unknown and specific characters once from a string","body":"<p>I have a command line argument that looks like this:\n<code>&quot;111234++&quot;</code>. It is not hard-coded, so it could vary. Just for the sake of example, I'll stick to that specific input though.<br />\nThen there is going to be another expression, like this one: &quot;11+&quot;. My ultimate goal is the removal of these occurrences from the input string. This means, the following string: &quot;111234++&quot; should get converted into this the smaller one right here: &quot;1234+&quot;. For some reason I can't get this to work. Here is what I tried:</p>\n<pre><code>if (isExpressionInInventory(expression, inventoryPlayer1)) {\n    for (int i = 0; i &lt; expression.length(); i++) {\n        char character  = expression.charAt(i);\n        for (int j = 0; j &lt; inventoryPlayer1.length(); j++) {\n            if (inventoryPlayer1.charAt(j) == character) {\n                inventoryPlayer1 = inventoryPlayer1.replace(character, ' ');\n                expression = expression.replace(character, ' ');\n            }\n        }\n    }\n    inventoryPlayer1 = inventoryPlayer1.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);\n}\n</code></pre>\n<hr />\n<p>I tried iterating over the string-expression and store the character consecutively. My first character should be &quot;1&quot; then.. The nested for loop iterates through the inventory &quot;111234++&quot; and replaces each occurrence of the character with an empty character. This is the moment where my program has its flaw. I only want to replace one occurrence of that character. Sadly, I have no idea how to tackle this issue..\nThanks for any help in advance!</p>\n"},{"tags":["java","eclipse","build.gradle"],"answers":[{"tags":[],"owner":{"account_id":15903,"reputation":323433,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1437736239,"creation_date":1407760481,"answer_id":25243438,"question_id":25243342,"body_markdown":"The real error is this:\r\n\r\n    Connection to http://repo1.maven.org refused\r\n\r\nGradle needs to download the dependencies listed in the error message to be able to compile the project.\r\n\r\nYou&#39;re probably behind a firewall or your Internet connection isn&#39;t working. You need to make sure Gradle can access `http://repo1.maven.org`.\r\n\r\nNote: Maven Central (http://repo1.maven.org) can be accessed with a browser. If you see the message &quot;Browsing for this directory has been disabled&quot; that means your browser could connect to the server (the error is a special message my Maven Central, not a standard HTTP error message).\r\n\r\nIf you see this but Maven or Gradle fail, then you need to check your browser&#39;s/OS&#39;s proxy settings and configure your tool accordingly.\r\n\r\nRelated:\r\n\r\n* https://stackoverflow.com/questions/1251192/how-do-i-use-maven-through-a-proxy\r\n* https://stackoverflow.com/questions/5991194/gradle-proxy-configuration","title":"Gradle build is failing [Could not resolve all dependencies for configuration &#39;:compile&#39;.]","body":"<p>The real error is this:</p>\n\n<pre><code>Connection to http://repo1.maven.org refused\n</code></pre>\n\n<p>Gradle needs to download the dependencies listed in the error message to be able to compile the project.</p>\n\n<p>You're probably behind a firewall or your Internet connection isn't working. You need to make sure Gradle can access <code>http://repo1.maven.org</code>.</p>\n\n<p>Note: Maven Central (<a href=\"http://repo1.maven.org\">http://repo1.maven.org</a>) can be accessed with a browser. If you see the message \"Browsing for this directory has been disabled\" that means your browser could connect to the server (the error is a special message my Maven Central, not a standard HTTP error message).</p>\n\n<p>If you see this but Maven or Gradle fail, then you need to check your browser's/OS's proxy settings and configure your tool accordingly.</p>\n\n<p>Related:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/1251192/how-do-i-use-maven-through-a-proxy\">How do I use Maven through a proxy?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/5991194/gradle-proxy-configuration\">Gradle proxy configuration</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3101610,"reputation":488,"user_id":2625592,"display_name":"deveth0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1407760713,"creation_date":1407760713,"answer_id":25243517,"question_id":25243342,"body_markdown":"It looks like you don&#39;t have a working internet connection or haven&#39;t configured your proxy/firewall. \r\nPlease check if you can access repo1.maven.org from commandline or a browser.","title":"Gradle build is failing [Could not resolve all dependencies for configuration &#39;:compile&#39;.]","body":"<p>It looks like you don't have a working internet connection or haven't configured your proxy/firewall. \nPlease check if you can access repo1.maven.org from commandline or a browser.</p>\n"},{"tags":[],"owner":{"account_id":2315367,"reputation":8964,"user_id":2032561,"accept_rate":64,"display_name":"Bharatesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1429867782,"creation_date":1429867782,"answer_id":29843753,"question_id":25243342,"body_markdown":"@Aaron Digulla said I have firewall problem.  \r\n\r\nI was having problem with __GSON dependency__, (hope it will solve other dependecy problems also) and this answer solved the problem. Stack Overflow [Could not resolve all dependencies for configuration &#39;:classpath&#39;](https://stackoverflow.com/a/26671662/2032561)\r\n\r\n@Kangars post :\r\nThis is what i have in my __gradle.build__ for build script and allprojects\r\n\r\n    buildscript {\r\n    repositories {\r\n        jcenter {\r\n            url &quot;http://jcenter.bintray.com/&quot;\r\n        }\r\n      }\r\n    }\r\n    \r\n    allprojects {\r\n    repositories {\r\n        jcenter {\r\n            url &quot;http://jcenter.bintray.com/&quot;\r\n        }\r\n      }\r\n    }\r\n","title":"Gradle build is failing [Could not resolve all dependencies for configuration &#39;:compile&#39;.]","body":"<p>@Aaron Digulla said I have firewall problem.  </p>\n\n<p>I was having problem with <strong>GSON dependency</strong>, (hope it will solve other dependecy problems also) and this answer solved the problem. Stack Overflow <a href=\"https://stackoverflow.com/a/26671662/2032561\">Could not resolve all dependencies for configuration ':classpath'</a></p>\n\n<p>@Kangars post :\nThis is what i have in my <strong>gradle.build</strong> for build script and allprojects</p>\n\n<pre><code>buildscript {\nrepositories {\n    jcenter {\n        url \"http://jcenter.bintray.com/\"\n    }\n  }\n}\n\nallprojects {\nrepositories {\n    jcenter {\n        url \"http://jcenter.bintray.com/\"\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":110362,"reputation":1148,"user_id":292049,"accept_rate":45,"display_name":"user292049"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556218197,"creation_date":1448453073,"answer_id":33916077,"question_id":25243342,"body_markdown":"I used the steps below to fix it.\r\n\r\n1. Go to command prompt and set the java opts.\r\n\r\n        SET JAVA_OPTS=-Dhttp.proxyHost=your_proxy_server_name -Dhttp.proxyPort=your_proxy_port -Dhttp.nonProxyHosts=127.0.0.1\r\n\r\n2. Then build your Gradle application and all the connection refused errors no longer appear.\r\n\r\n `gradle clean build distZip`\r\n\r\n","title":"Gradle build is failing [Could not resolve all dependencies for configuration &#39;:compile&#39;.]","body":"<p>I used the steps below to fix it.</p>\n\n<ol>\n<li><p>Go to command prompt and set the java opts.</p>\n\n<pre><code>SET JAVA_OPTS=-Dhttp.proxyHost=your_proxy_server_name -Dhttp.proxyPort=your_proxy_port -Dhttp.nonProxyHosts=127.0.0.1\n</code></pre></li>\n<li><p>Then build your Gradle application and all the connection refused errors no longer appear.</p>\n\n<p><code>gradle clean build distZip</code></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2398173,"reputation":607,"user_id":2096566,"accept_rate":83,"display_name":"phoenix"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1453398181,"creation_date":1453398181,"answer_id":34930698,"question_id":25243342,"body_markdown":"Using --refresh-dependencies switch with gradle, helped me to resolve this issue.","title":"Gradle build is failing [Could not resolve all dependencies for configuration &#39;:compile&#39;.]","body":"<p>Using --refresh-dependencies switch with gradle, helped me to resolve this issue.</p>\n"},{"tags":[],"owner":{"account_id":7066261,"reputation":41,"user_id":5409502,"display_name":"george"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1456141192,"creation_date":1456141192,"answer_id":35552666,"question_id":25243342,"body_markdown":"This is because of slow internet connection or you haven&#39;t configure proxy settings correctly. Gradle needs to download some dependencies , if it cant access the repository it fires this error. All you have to do is check your internet connection and make sure gradle can access the maven repository.","title":"Gradle build is failing [Could not resolve all dependencies for configuration &#39;:compile&#39;.]","body":"<p>This is because of slow internet connection or you haven't configure proxy settings correctly. Gradle needs to download some dependencies , if it cant access the repository it fires this error. All you have to do is check your internet connection and make sure gradle can access the maven repository.</p>\n"},{"tags":[],"owner":{"account_id":93940,"reputation":5106,"user_id":256770,"accept_rate":31,"display_name":"Farrukh Najmi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1532713451,"creation_date":1532713451,"answer_id":51563062,"question_id":25243342,"body_markdown":"In my case the problem was resolved when I changed my gradle version from 4.6 to 4.7.","title":"Gradle build is failing [Could not resolve all dependencies for configuration &#39;:compile&#39;.]","body":"<p>In my case the problem was resolved when I changed my gradle version from 4.6 to 4.7.</p>\n"},{"tags":[],"owner":{"account_id":8218074,"reputation":784,"user_id":6183652,"display_name":"noob"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571908890,"creation_date":1538915622,"answer_id":52688524,"question_id":25243342,"body_markdown":"The root cause\r\n`Connection to http://repo1.maven.org refused`\r\nindicates that the build is failing as gradle is not able to fetch some dependencies from the repository.\r\n\r\n\r\nHere is a list of causes and corresponding resolutions you might want to try:\r\n\r\n1. Internet connectivity issues - Have a good internet speed and connectivity\r\n2. Firewall (system or third party) - Ensure firewall is not blocking access to the repository\r\n3. Working behind a proxy - https://stackoverflow.com/questions/5991194/gradle-proxy-configuration\r\n4. Firewall or some random application meddling with proxy application&lt;sup&gt;1&lt;/sup&gt; - Kill the process meddling with the proxy application\r\n5. The proxy application causes certificate problems&lt;sup&gt;2&lt;/sup&gt; - Import proxy application&#39;s certificate\r\n\r\n*References:*\r\n\r\n1. [Telerik forum&#39;s answer on how to fix internet connectivity issue while using Fiddler](https://www.telerik.com/forums/fiddler-causes-my-internet-access-to-stop-working#2Q_DSu6nmE66fQo3ZYUiOw)\r\n2. [Telerik forum&#39;s answer on secure connection issue while using Fiddler](https://www.telerik.com/forums/your-connection-is-not-private-whenever-i-start-fiddler#Z6f4xKmGN0C-1SizhehzAw)","title":"Gradle build is failing [Could not resolve all dependencies for configuration &#39;:compile&#39;.]","body":"<p>The root cause\n<code>Connection to http://repo1.maven.org refused</code>\nindicates that the build is failing as gradle is not able to fetch some dependencies from the repository.</p>\n\n<p>Here is a list of causes and corresponding resolutions you might want to try:</p>\n\n<ol>\n<li>Internet connectivity issues - Have a good internet speed and connectivity</li>\n<li>Firewall (system or third party) - Ensure firewall is not blocking access to the repository</li>\n<li>Working behind a proxy - <a href=\"https://stackoverflow.com/questions/5991194/gradle-proxy-configuration\">Gradle proxy configuration</a></li>\n<li>Firewall or some random application meddling with proxy application<sup>1</sup> - Kill the process meddling with the proxy application</li>\n<li>The proxy application causes certificate problems<sup>2</sup> - Import proxy application's certificate</li>\n</ol>\n\n<p><em>References:</em></p>\n\n<ol>\n<li><a href=\"https://www.telerik.com/forums/fiddler-causes-my-internet-access-to-stop-working#2Q_DSu6nmE66fQo3ZYUiOw\" rel=\"nofollow noreferrer\">Telerik forum's answer on how to fix internet connectivity issue while using Fiddler</a></li>\n<li><a href=\"https://www.telerik.com/forums/your-connection-is-not-private-whenever-i-start-fiddler#Z6f4xKmGN0C-1SizhehzAw\" rel=\"nofollow noreferrer\">Telerik forum's answer on secure connection issue while using Fiddler</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6696284,"reputation":332,"user_id":5164200,"display_name":"Fred"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1661750645,"creation_date":1661750645,"answer_id":73524407,"question_id":25243342,"body_markdown":"For my case it was a poor connection issue so the IDE couldn&#39;t get resources online","title":"Gradle build is failing [Could not resolve all dependencies for configuration &#39;:compile&#39;.]","body":"<p>For my case it was a poor connection issue so the IDE couldn't get resources online</p>\n"},{"tags":[],"owner":{"account_id":21579625,"reputation":11,"user_id":15911029,"display_name":"Vy Nguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684701478,"creation_date":1684701478,"answer_id":76301833,"question_id":25243342,"body_markdown":"Mine worked after turning on the VPN. Although the build seems to take a long time and seems to stall at 85%, the service is actually building and I&#39;m able to load it","title":"Gradle build is failing [Could not resolve all dependencies for configuration &#39;:compile&#39;.]","body":"<p>Mine worked after turning on the VPN. Although the build seems to take a long time and seems to stall at 85%, the service is actually building and I'm able to load it</p>\n"}],"owner":{"account_id":3347567,"reputation":397,"user_id":2812410,"accept_rate":33,"display_name":"Prajyod Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158847,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":10,"score":17,"last_activity_date":1684701478,"creation_date":1407760180,"question_id":25243342,"body_markdown":"I am trying for so many days to resolve this exception , followed many blogs and couldn&#39;t find  solution. when I run a bundle.gradle by giving jettyRun as command ![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/5E2OC.jpg\r\n\r\n    I am getting an exception \r\n    \r\n    \r\n       \r\n        **FAILURE: Build failed with an exception.\r\n        \r\n            * What went wrong:\r\n            Could not resolve all dependencies for configuration &#39;:compile&#39;.\r\n            &gt; Could not resolve javax.servlet:servlet-api:2.5.\r\n              Required by:\r\n                  :1-SimpleServlet:unspecified\r\n               &gt; Could not GET &#39;http://repo1.maven.org/maven2/javax/servlet/servlet-api/2.5/servlet-api-2.5.pom&#39;.\r\n                  &gt; Connection to http://repo1.maven.org refused\r\n            &gt; Could not resolve org.apache.commons:commons-io:1.3.2.\r\n              Required by:\r\n                  :1-SimpleServlet:unspecified\r\n               &gt; Could not GET &#39;http://repo1.maven.org/maven2/org/apache/commons/commons-io/1.3.2/commons-io-1.3.2.pom&#39;.\r\n                  &gt; Connection to http://repo1.maven.org refused**\r\n        \r\n      \r\n\r\n","title":"Gradle build is failing [Could not resolve all dependencies for configuration &#39;:compile&#39;.]","body":"<p>I am trying for so many days to resolve this exception , followed many blogs and couldn't find  solution. when I run a bundle.gradle by giving jettyRun as command <img src=\"https://i.stack.imgur.com/5E2OC.jpg\" alt=\"enter image description here\"></p>\n\n<pre><code>I am getting an exception \n\n\n\n    **FAILURE: Build failed with an exception.\n\n        * What went wrong:\n        Could not resolve all dependencies for configuration ':compile'.\n        &gt; Could not resolve javax.servlet:servlet-api:2.5.\n          Required by:\n              :1-SimpleServlet:unspecified\n           &gt; Could not GET 'http://repo1.maven.org/maven2/javax/servlet/servlet-api/2.5/servlet-api-2.5.pom'.\n              &gt; Connection to http://repo1.maven.org refused\n        &gt; Could not resolve org.apache.commons:commons-io:1.3.2.\n          Required by:\n              :1-SimpleServlet:unspecified\n           &gt; Could not GET 'http://repo1.maven.org/maven2/org/apache/commons/commons-io/1.3.2/commons-io-1.3.2.pom'.\n              &gt; Connection to http://repo1.maven.org refused**\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","dependency-injection"],"comments":[{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":5,"creation_date":1381781326,"post_id":19368378,"comment_id":28700772,"body_markdown":"You should certainly read this article - http://martinfowler.com/articles/injection.html","body":"You should certainly read this article - <a href=\"http://martinfowler.com/articles/injection.html\" rel=\"nofollow noreferrer\">martinfowler.com/articles/injection.html</a>"},{"owner":{"account_id":104911,"reputation":119202,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"score":1,"creation_date":1381781429,"post_id":19368378,"comment_id":28700825,"body_markdown":"Looks like you have read an old Spring in Action Book. Since Spring 3.0, there is not so much bean definition left in the xml.","body":"Looks like you have read an old Spring in Action Book. Since Spring 3.0, there is not so much bean definition left in the xml."},{"owner":{"account_id":1553656,"reputation":8158,"user_id":1445444,"accept_rate":81,"display_name":"Horse Voice"},"score":0,"creation_date":1381789999,"post_id":19368378,"comment_id":28704448,"body_markdown":"I did read Spring 3. You gotta help me by explaining how little xml configuration = inversion of control. How can that be?","body":"I did read Spring 3. You gotta help me by explaining how little xml configuration = inversion of control. How can that be?"},{"owner":{"account_id":1553656,"reputation":8158,"user_id":1445444,"accept_rate":81,"display_name":"Horse Voice"},"score":0,"creation_date":1381848013,"post_id":19368378,"comment_id":28727310,"body_markdown":"Ralph, could you explain? How the xml has decreased in spring 3. How does autowiring allow decoupling?","body":"Ralph, could you explain? How the xml has decreased in spring 3. How does autowiring allow decoupling?"}],"answers":[{"tags":[],"owner":{"account_id":1266527,"reputation":2643,"user_id":1223719,"accept_rate":95,"display_name":"aglassman"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1381781599,"creation_date":1381781599,"answer_id":19368496,"question_id":19368378,"body_markdown":"You don&#39;t truly appreciate Spring until you&#39;ve had to do things the hard way.  The hard way being maintaining multiple large projects without a coherent framework.  If you have 4 big enterprise wide applications that all have their own way of starting themselves, and managing resources, you&#39;re in for a headache.  If you know that each application uses spring, then just look for the application context xml!  This also makes it incredibly easy to setup a new context for different environments, and test cases, all without mucking up your code base.","title":"What is the point of dependency injection as used in Spring?","body":"<p>You don't truly appreciate Spring until you've had to do things the hard way.  The hard way being maintaining multiple large projects without a coherent framework.  If you have 4 big enterprise wide applications that all have their own way of starting themselves, and managing resources, you're in for a headache.  If you know that each application uses spring, then just look for the application context xml!  This also makes it incredibly easy to setup a new context for different environments, and test cases, all without mucking up your code base.</p>\n"},{"tags":[],"owner":{"account_id":445968,"reputation":4827,"user_id":838733,"accept_rate":83,"display_name":"nietonfir"},"down_vote_count":1,"up_vote_count":15,"is_accepted":true,"score":14,"last_activity_date":1684701185,"creation_date":1381782386,"answer_id":19368689,"question_id":19368378,"body_markdown":"Three Words: **INVERSION OF CONTROL**\r\n\r\nIn a nutshell:\r\nAs soon as you instantiate &quot;the good old way&quot; you create tight coupling, e.g.: your controller depends on a specific template engine, your entities on a concrete database layer, etc. And that&#39;s something you want to prevent and where the dependency injection container (DIC) comes in very handy. It manages your services and you don&#39;t really have to care anymore about specific implementations as long as those implement the same interface.\r\n\r\nImagine a simple storage layer class called `InMemoryLayer` that gets instantiated by you when you need it. Now you want to switch it for an awesome new open-source GitHub solution called `SuperSecretRemoteCloudLayer`. Normally you would now hit &quot;Search and Replace&quot; in your IDE of choice and replace all occurrences of `InMemoryLayer` with the `SuperSecretRemoteCloudLayer`. But that&#39;s not handy and quite error-prone, why would you want to do all that hard work by hand? The DIC can do that for you and all *you* need to take care of, is that both `*Layer` implement the same interface (so your application won&#39;t break).","title":"What is the point of dependency injection as used in Spring?","body":"<p>Three Words: <strong>INVERSION OF CONTROL</strong></p>\n<p>In a nutshell:\nAs soon as you instantiate &quot;the good old way&quot; you create tight coupling, e.g.: your controller depends on a specific template engine, your entities on a concrete database layer, etc. And that's something you want to prevent and where the dependency injection container (DIC) comes in very handy. It manages your services and you don't really have to care anymore about specific implementations as long as those implement the same interface.</p>\n<p>Imagine a simple storage layer class called <code>InMemoryLayer</code> that gets instantiated by you when you need it. Now you want to switch it for an awesome new open-source GitHub solution called <code>SuperSecretRemoteCloudLayer</code>. Normally you would now hit &quot;Search and Replace&quot; in your IDE of choice and replace all occurrences of <code>InMemoryLayer</code> with the <code>SuperSecretRemoteCloudLayer</code>. But that's not handy and quite error-prone, why would you want to do all that hard work by hand? The DIC can do that for you and all <em>you</em> need to take care of, is that both <code>*Layer</code> implement the same interface (so your application won't break).</p>\n"},{"tags":[],"owner":{"display_name":"user41871"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1381787471,"creation_date":1381787471,"answer_id":19369886,"question_id":19368378,"body_markdown":"Spring&#39;s big deal is more about dependency injection, not XML-based configuration. As others have noted, Spring has been moving away from XML-based configuration. But DI is core to Spring.\r\n\r\nThe a-ha is that DI offers a different model for linking components together. Instead of components creating each other directly (and thus being tightly coupled), the components stop doing that, and you inject the linkages from a central location. It turns out that this helps with testing and transaction management in particular.\r\n","title":"What is the point of dependency injection as used in Spring?","body":"<p>Spring's big deal is more about dependency injection, not XML-based configuration. As others have noted, Spring has been moving away from XML-based configuration. But DI is core to Spring.</p>\n\n<p>The a-ha is that DI offers a different model for linking components together. Instead of components creating each other directly (and thus being tightly coupled), the components stop doing that, and you inject the linkages from a central location. It turns out that this helps with testing and transaction management in particular.</p>\n"}],"owner":{"account_id":1553656,"reputation":8158,"user_id":1445444,"accept_rate":81,"display_name":"Horse Voice"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5299,"favorite_count":0,"down_vote_count":1,"up_vote_count":15,"accepted_answer_id":19368689,"answer_count":3,"score":14,"last_activity_date":1684701185,"creation_date":1381781174,"question_id":19368378,"body_markdown":"I have been reading the book Spring in Action for a few weeks now to learn about the spring framework. I have about 2 years of programming experience mostly in java with some distractions here and there in Ruby and Python.\r\n\r\nAfter reading the first few chapters, I didn&#39;t quite get what the big deal is about dependency injection in spring. I was expecting a AHAAA moment but didn&#39;t quite experience that yet. I&#39;m sure I&#39;m missing something important.\r\n\r\nWhy would I want to wire my beans in xml rather than instantiating them the good old way with the `= new myclass();`\r\n\r\nI understand I can wire beans in the xml via constructor args and properties as well as configure datasources in spring so that I can hide away connection details in an xml file. But  why? There is more to this especially when it comes to good software design. Can some one explain the big deal?","title":"What is the point of dependency injection as used in Spring?","body":"<p>I have been reading the book Spring in Action for a few weeks now to learn about the spring framework. I have about 2 years of programming experience mostly in java with some distractions here and there in Ruby and Python.</p>\n\n<p>After reading the first few chapters, I didn't quite get what the big deal is about dependency injection in spring. I was expecting a AHAAA moment but didn't quite experience that yet. I'm sure I'm missing something important.</p>\n\n<p>Why would I want to wire my beans in xml rather than instantiating them the good old way with the <code>= new myclass();</code></p>\n\n<p>I understand I can wire beans in the xml via constructor args and properties as well as configure datasources in spring so that I can hide away connection details in an xml file. But  why? There is more to this especially when it comes to good software design. Can some one explain the big deal?</p>\n"},{"tags":["java","string","file","file-handling"],"comments":[{"owner":{"account_id":27413892,"reputation":186,"user_id":20913415,"display_name":"Flavian Iuga"},"score":1,"creation_date":1674575041,"post_id":75223726,"comment_id":132740611,"body_markdown":"isn&#39;t this just: itemID[1] ? based on your stated desired output, no matter the split limit","body":"isn&#39;t this just: itemID[1] ? based on your stated desired output, no matter the split limit"},{"owner":{"account_id":18340378,"reputation":45,"user_id":13356804,"display_name":"Y3LLZ"},"score":0,"creation_date":1674575310,"post_id":75223726,"comment_id":132740720,"body_markdown":"@JohnnyMopp I overthought the output! This worked perfectly, thanks for simplifying it!","body":"@JohnnyMopp I overthought the output! This worked perfectly, thanks for simplifying it!"},{"owner":{"account_id":18340378,"reputation":45,"user_id":13356804,"display_name":"Y3LLZ"},"score":0,"creation_date":1674575382,"post_id":75223726,"comment_id":132740749,"body_markdown":"@FlavianIuga Yes it is, I overthought the output! Thank you!","body":"@FlavianIuga Yes it is, I overthought the output! Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":398248,"reputation":942,"user_id":762826,"accept_rate":80,"display_name":"Jako"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674575569,"creation_date":1674574940,"answer_id":75223829,"question_id":75223726,"body_markdown":"What about something using String.indexOf and String.substring functions (https://docs.oracle.com/javase/7/docs/api/java/lang/String.html)\r\n\r\n    int indexSecondOccurence = line.indexOf(&quot;,&quot;, line.indexOf(&quot;,&quot;) + 1);\r\n    System.out.println(line.substring(0, indexSecondOccurence + 1));\r\n\r\n","title":"Stop printing line of text from a file after a character appears a second time","body":"<p>What about something using String.indexOf and String.substring functions (<a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/lang/String.html</a>)</p>\n<pre><code>int indexSecondOccurence = line.indexOf(&quot;,&quot;, line.indexOf(&quot;,&quot;) + 1);\nSystem.out.println(line.substring(0, indexSecondOccurence + 1));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19290314,"reputation":1,"user_id":14100502,"display_name":"ToniKdao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674576209,"creation_date":1674576037,"answer_id":75224079,"question_id":75223726,"body_markdown":"I&#39;d suggest to modify your code as follows.\r\n```\r\n...\r\n        String[] itemID = line.split(&quot;,&quot;, 3); //attempt to use a regex limit\r\n        if(itemID[0].equals(test)) {\r\n            System.out.println(String.join (&quot;,&quot;, itemID[0],itemID[1]));\r\n        }\r\n...\r\n\r\n```\r\nThe split() call will produce an array with maximum 3 elements. First two will be the string pieces that you need. The last element is the remaining &quot;tail&quot; of the original string.\r\nNow we only need to merge the pieces back with the join() method.\r\nHope this helps.","title":"Stop printing line of text from a file after a character appears a second time","body":"<p>I'd suggest to modify your code as follows.</p>\n<pre><code>...\n        String[] itemID = line.split(&quot;,&quot;, 3); //attempt to use a regex limit\n        if(itemID[0].equals(test)) {\n            System.out.println(String.join (&quot;,&quot;, itemID[0],itemID[1]));\n        }\n...\n\n</code></pre>\n<p>The split() call will produce an array with maximum 3 elements. First two will be the string pieces that you need. The last element is the remaining &quot;tail&quot; of the original string.\nNow we only need to merge the pieces back with the join() method.\nHope this helps.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684701016,"creation_date":1684700568,"answer_id":76301787,"question_id":75223726,"body_markdown":"With `String.split`, the limit parameter is going to be the maximum number of `String` array values you want returned.  \r\nFor example, `&quot;A,B,C,D&quot;`, with a limit of 2 will return `[&quot;A&quot;, &quot;B,C,D&quot;]`.\r\n\r\nIn terms of the use of `String.split` on the data.  \r\nIf the quoted text item, in this case, &quot;Stanley #2 Philips Screwdriver&quot;, is guaranteed not to contain a `,`, then `split` is the method to go with.\r\nFrom there, your `0` index will contain `&quot;14&quot;`, and your `1` index will contain `&quot;Stanley #2 Philips Screwdriver&quot;`.\r\n\r\nIn regard to printing your data, just concatenate the values.\r\n\r\n```java\r\nString itemID[] = line.split(&quot;,&quot;, 5);\r\nSystem.out.println(itemID[0] + &quot;, &quot; + itemID[1]);\r\n```\r\n\r\nSo, in conclusion, you can do the following with the given data\r\n`14, &quot;Stanley #2 Philips Screwdriver&quot;, true, 6.95`.\r\n\r\n```java\r\nString string = &quot;14, \\&quot;Stanley #2 Philips Screwdriver\\&quot;, true, 6.95&quot;;\r\nString[] strings = string.split(&quot;, &quot;);\r\nString id = strings[0];\r\nString description = strings[1];\r\nSystem.out.println(id);\r\nSystem.out.println(description);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n14\r\n&quot;Stanley #2 Philips Screwdriver&quot;\r\n```","title":"Stop printing line of text from a file after a character appears a second time","body":"<p>With <code>String.split</code>, the limit parameter is going to be the maximum number of <code>String</code> array values you want returned.<br />\nFor example, <code>&quot;A,B,C,D&quot;</code>, with a limit of 2 will return <code>[&quot;A&quot;, &quot;B,C,D&quot;]</code>.</p>\n<p>In terms of the use of <code>String.split</code> on the data.<br />\nIf the quoted text item, in this case, &quot;Stanley #2 Philips Screwdriver&quot;, is guaranteed not to contain a <code>,</code>, then <code>split</code> is the method to go with.\nFrom there, your <code>0</code> index will contain <code>&quot;14&quot;</code>, and your <code>1</code> index will contain <code>&quot;Stanley #2 Philips Screwdriver&quot;</code>.</p>\n<p>In regard to printing your data, just concatenate the values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String itemID[] = line.split(&quot;,&quot;, 5);\nSystem.out.println(itemID[0] + &quot;, &quot; + itemID[1]);\n</code></pre>\n<p>So, in conclusion, you can do the following with the given data\n<code>14, &quot;Stanley #2 Philips Screwdriver&quot;, true, 6.95</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string = &quot;14, \\&quot;Stanley #2 Philips Screwdriver\\&quot;, true, 6.95&quot;;\nString[] strings = string.split(&quot;, &quot;);\nString id = strings[0];\nString description = strings[1];\nSystem.out.println(id);\nSystem.out.println(description);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>14\n&quot;Stanley #2 Philips Screwdriver&quot;\n</code></pre>\n"}],"owner":{"account_id":18340378,"reputation":45,"user_id":13356804,"display_name":"Y3LLZ"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1684701016,"creation_date":1674574408,"question_id":75223726,"body_markdown":"I am currently trying to stop printing a line of text after a ```,``` character is read on that line a second time from a text file. Example; ```14, &quot;Stanley #2 Philips Screwdriver&quot;, true, 6.95```. Stop reading and print out the text after the ```,``` character is read a second time. So the output text should look like ```14, &quot;Stanley #2 Philips Screwdriver&quot;```. I tried to use a limit on the regex to achieve this but, it just omits all the commas and prints out the entire text. This is what my code looks like so far; \r\n```\t\r\npublic static void fileReader() throws FileNotFoundException {\r\n\t\tFile file = new File(&quot;/Users/14077/Downloads/inventory.txt&quot;);\r\n\t\tScanner scan = new Scanner(file);\r\n\t\tString test = &quot;4452&quot;;\r\n\t\t\r\n\t\twhile (scan.hasNext()) {\r\n\t\t\tString line = scan.nextLine();\r\n\t\t\tString[] itemID = line.split(&quot;,&quot;, 5); //attempt to use a regex limit\r\n\t\t\tif(itemID[0].equals(test)) {\r\n\t\t\t\tfor(String a : itemID)\r\n                System.out.println(a);\r\n\t\t\t}//end if \r\n\t\t\t\r\n\t\t}//end while \t\r\n\t\t\r\n\t}//end fileReader\r\n```\r\n\r\nI also tried to print just part of the text up until the first comma like;\r\n```\r\nString itemID[] = line.split(&quot;,&quot;, 5);\r\n       System.out.println(itemID[0]);\r\n``` \r\nBut no luck, it just prints 14. Please any help will be appreciated. ","title":"Stop printing line of text from a file after a character appears a second time","body":"<p>I am currently trying to stop printing a line of text after a <code>,</code> character is read on that line a second time from a text file. Example; <code>14, &quot;Stanley #2 Philips Screwdriver&quot;, true, 6.95</code>. Stop reading and print out the text after the <code>,</code> character is read a second time. So the output text should look like <code>14, &quot;Stanley #2 Philips Screwdriver&quot;</code>. I tried to use a limit on the regex to achieve this but, it just omits all the commas and prints out the entire text. This is what my code looks like so far;</p>\n<pre><code>public static void fileReader() throws FileNotFoundException {\n        File file = new File(&quot;/Users/14077/Downloads/inventory.txt&quot;);\n        Scanner scan = new Scanner(file);\n        String test = &quot;4452&quot;;\n        \n        while (scan.hasNext()) {\n            String line = scan.nextLine();\n            String[] itemID = line.split(&quot;,&quot;, 5); //attempt to use a regex limit\n            if(itemID[0].equals(test)) {\n                for(String a : itemID)\n                System.out.println(a);\n            }//end if \n            \n        }//end while    \n        \n    }//end fileReader\n</code></pre>\n<p>I also tried to print just part of the text up until the first comma like;</p>\n<pre><code>String itemID[] = line.split(&quot;,&quot;, 5);\n       System.out.println(itemID[0]);\n</code></pre>\n<p>But no luck, it just prints 14. Please any help will be appreciated.</p>\n"},{"tags":["java","jenkins","groovy","continuous-integration","jenkins-pipeline"],"answers":[{"tags":[],"owner":{"account_id":14305614,"reputation":72,"user_id":10333632,"display_name":"sagstetterC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684700724,"creation_date":1684700724,"answer_id":76301797,"question_id":76298736,"body_markdown":"you can use the `when` block for this see [Pipeline Syntax][1].\r\n\r\nexample:\r\n\r\n    stage(&#39;FC&#39;) {\r\n       when { expression { return params.Build_type == &#39;FC&#39; } }\r\n       steps {\r\n          echo &quot;D6-EPS EXECUTED&quot;}\r\n       }\r\n    }\r\n\r\n  [1]: https://www.jenkins.io/doc/book/pipeline/syntax/#when","title":"Implementing conditional execution of Jenkins pipeline stages based on the &#39;choice&#39; parameter","body":"<p>you can use the <code>when</code> block for this see <a href=\"https://www.jenkins.io/doc/book/pipeline/syntax/#when\" rel=\"nofollow noreferrer\">Pipeline Syntax</a>.</p>\n<p>example:</p>\n<pre><code>stage('FC') {\n   when { expression { return params.Build_type == 'FC' } }\n   steps {\n      echo &quot;D6-EPS EXECUTED&quot;}\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":28646123,"reputation":3,"user_id":21934074,"display_name":"Nikil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76301797,"answer_count":1,"score":0,"last_activity_date":1684700724,"creation_date":1684653743,"question_id":76298736,"body_markdown":"     pipeline {\r\n      parameters {\r\n    choice choices: [&#39;ME&#39;, &#39;FC&#39;, &#39;ME_and_FC&#39;], description: &#39;Pick Something&#39;, name: &#39;Build_type&#39;\r\n     }\r\n      agent {\r\n        node{\r\n            label &#39;Slave_APP_Train_32&#39;\r\n            customWorkspace &#39;App_WS&#39;\r\n        }\r\n     }\r\n    stages {\r\n        stage(&#39;FC&#39;) { steps {echo &quot;D6-EPS EXECUTED&quot;}}\r\n        stage(&#39;FC&#39;) { steps {echo &quot;D6-EPS EXECUTED&quot;}}\r\n        stage(&#39;FC&#39;) { steps {echo &quot;D6-EPS EXECUTED&quot;}}\r\n          stage(&#39;parallel&#39;){\r\n              parallel {\r\n                \r\n                stage(&#39;ME&#39;) {\r\n                    stages {\r\n                        stage(&#39;D6 SRA&#39;) { steps {echo &quot;D6-EPS EXECUTED&quot;}}\r\n                       \r\n                    }\r\n                }\r\n                stage(&#39;ME&#39;) {\r\n                    stages {\r\n                        stage(&#39;D6 EPS&#39;) { steps {echo &quot;D6-EPS EXECUTED&quot;}}\r\n                       \r\n                    }\r\n                }\r\n                stage(&#39;ME&#39;) {\r\n                    stages {\r\n                        stage(&#39;C3 EPS&#39;) { steps {echo &quot;D6-EPS EXECUTED&quot;}}\r\n                       \r\n                    }\r\n                }\r\n            }\r\n          }\r\n        \r\n        }\r\n      }`\r\n\r\n\r\n\r\n Need some conditional statement to call the ME and FC stages ,so that it runs based on the choices given in the choice parameter  \r\n\r\n This my script, i am not sure how to call the choice parameter with if condition \r\n    Say for FC all the FC stages should run , for ME all the ME stages should run \r\n\r\n\r\n    I tried by calling with this command if(${params.Build_type==&#39;ME&#39;}||${params.Build_type==&#39;ME_and_FC&#39;})\r\n     [ERROR](https://i.stack.imgur.com/x0BWA.png) it shows like not a valid syntax \r\n\r\n    Can someone help me to figure it out`","title":"Implementing conditional execution of Jenkins pipeline stages based on the &#39;choice&#39; parameter","body":"<pre><code> pipeline {\n  parameters {\nchoice choices: ['ME', 'FC', 'ME_and_FC'], description: 'Pick Something', name: 'Build_type'\n }\n  agent {\n    node{\n        label 'Slave_APP_Train_32'\n        customWorkspace 'App_WS'\n    }\n }\nstages {\n    stage('FC') { steps {echo &quot;D6-EPS EXECUTED&quot;}}\n    stage('FC') { steps {echo &quot;D6-EPS EXECUTED&quot;}}\n    stage('FC') { steps {echo &quot;D6-EPS EXECUTED&quot;}}\n      stage('parallel'){\n          parallel {\n            \n            stage('ME') {\n                stages {\n                    stage('D6 SRA') { steps {echo &quot;D6-EPS EXECUTED&quot;}}\n                   \n                }\n            }\n            stage('ME') {\n                stages {\n                    stage('D6 EPS') { steps {echo &quot;D6-EPS EXECUTED&quot;}}\n                   \n                }\n            }\n            stage('ME') {\n                stages {\n                    stage('C3 EPS') { steps {echo &quot;D6-EPS EXECUTED&quot;}}\n                   \n                }\n            }\n        }\n      }\n    \n    }\n  }`\n</code></pre>\n<p>Need some conditional statement to call the ME and FC stages ,so that it runs based on the choices given in the choice parameter</p>\n<p>This my script, i am not sure how to call the choice parameter with if condition\nSay for FC all the FC stages should run , for ME all the ME stages should run</p>\n<pre><code>I tried by calling with this command if(${params.Build_type=='ME'}||${params.Build_type=='ME_and_FC'})\n [ERROR](https://i.stack.imgur.com/x0BWA.png) it shows like not a valid syntax \n\nCan someone help me to figure it out`\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","embedded-mongodb"],"comments":[{"owner":{"account_id":8879412,"reputation":159,"user_id":6630210,"display_name":"jundev"},"score":0,"creation_date":1684705916,"post_id":76301758,"comment_id":134552007,"body_markdown":"Have you tried to Mock the UserRepository?","body":"Have you tried to Mock the UserRepository?"},{"owner":{"account_id":14370996,"reputation":900,"user_id":10380766,"display_name":"Hofbr"},"score":0,"creation_date":1684710330,"post_id":76301758,"comment_id":134552416,"body_markdown":"I haven&#39;t wanted to Mock so far. My reasoning is that if my tests are failing because an embedded MongoDB instance can&#39;t be started, then even if I mock UserRepository, I might still run into the same problem with other parts of my application that interact with MongoDB. Why do you think I should Mock as opposed to using an embedded version of MongoDB?","body":"I haven&#39;t wanted to Mock so far. My reasoning is that if my tests are failing because an embedded MongoDB instance can&#39;t be started, then even if I mock UserRepository, I might still run into the same problem with other parts of my application that interact with MongoDB. Why do you think I should Mock as opposed to using an embedded version of MongoDB?"}],"owner":{"account_id":14370996,"reputation":900,"user_id":10380766,"display_name":"Hofbr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":455,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684700527,"creation_date":1684700045,"question_id":76301758,"body_markdown":"I have an experimental Spring Boot Service that uses MongoDB. I&#39;ve tried to write some unit tests with the `&#39;de.flapdoodle.embed:de.flapdoodle.embed.mongo&#39;` dependency. However, the tests are generating an error:\r\n```\r\njava.lang.IllegalStateException: Failed to load ApplicationContext. \r\n```\r\nWhen running debug level logging the only additional info I see is\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;embeddedMongoServer&#39; defined in class path resource [org/springframework/boot/autoconfigure/mongo/embedded/EmbeddedMongoAutoConfiguration.class]: Invocation of init method failed; nested exception is java.lang.RuntimeException: Could not start process: &lt;EOF&gt;\r\n```\r\nHere is the unit test class:\r\n## UserRepositoryTest\r\n```java\r\npackage com.gitgrub.userservice.repository;\r\n\r\nimport com.gitgrub.userservice.model.User;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTest;\r\nimport org.springframework.test.context.ActiveProfiles;\r\n\r\nimport static org.junit.jupiter.api.Assertions.*;\r\n\r\n@DataMongoTest\r\n@ActiveProfiles(&quot;test&quot;)\r\nclass UserRepositoryTest {\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Test\r\n    void findByUsername() {\r\n        String testUsername = &quot;testUser&quot;;\r\n        User user = new User(testUsername, &quot;test@example.com&quot;, &quot;password&quot;);\r\n        userRepository.save(user);\r\n\r\n        User foundUser = userRepository.findByUsername(testUsername);\r\n        assertNotNull(foundUser);\r\n        assertEquals(testUsername, foundUser.getUsername());\r\n    }\r\n\r\n    @Test\r\n    void findByEmail() {\r\n        String testEmail = &quot;test@example.com&quot;;\r\n        User user = new User(&quot;testUser&quot;, testEmail, &quot;password&quot;);\r\n        userRepository.save(user);\r\n\r\n        User foundUser = userRepository.findByEmail(testEmail);\r\n        assertNotNull(foundUser);\r\n        assertEquals(testEmail, foundUser.getEmail());\r\n    }\r\n\r\n    @Test\r\n    void findByUsernameOrEmail() {\r\n        String testUsername = &quot;testUser&quot;;\r\n        String testEmail = &quot;test@example.com&quot;;\r\n        User user1 = new User(testUsername, &quot;user1@example.com&quot;, &quot;password&quot;);\r\n        User user2 = new User(&quot;user2&quot;, testEmail, &quot;password&quot;);\r\n\r\n        userRepository.save(user1);\r\n        userRepository.save(user2);\r\n\r\n        User foundUser1 = userRepository.findByUsernameOrEmail(testUsername, &quot;&quot;);\r\n        assertNotNull(foundUser1);\r\n        assertEquals(testUsername, foundUser1.getUsername());\r\n\r\n        User foundUser2 = userRepository.findByUsernameOrEmail(&quot;&quot;, testEmail);\r\n        assertNotNull(foundUser2);\r\n        assertEquals(testEmail, foundUser2.getEmail());\r\n    }\r\n}\r\n```\r\n\r\nHere is the main project interface that&#39;s being tested:\r\n## UserRepository\r\n```java\r\n/**\r\n * UserRepository is an interface for a data access object (DAO) that handles User data.\r\n * It extends MongoRepository to leverage Spring Data MongoDB&#39;s functionality,\r\n * including CRUD operations and database queries.\r\n *\r\n * This repository provides methods for finding a user by username, by email,\r\n * or by either username or email.\r\n *\r\n * The repository is used by other components of the application (like services and controllers)\r\n * to interact with the User data in the database.\r\n *\r\n */\r\n\r\npackage com.gitgrub.userservice.repository;\r\n\r\nimport com.gitgrub.userservice.model.User;\r\nimport org.springframework.data.mongodb.repository.MongoRepository;\r\n\r\npublic interface UserRepository extends MongoRepository&lt;User, String&gt; {\r\n    User findByUsername(String username);\r\n\r\n    User findByEmail(String email);\r\n\r\n    User findByUsernameOrEmail(String username, String email);\r\n\r\n}\r\n```","title":"Error creating bean with name &#39;embeddedMongoServer&#39;","body":"<p>I have an experimental Spring Boot Service that uses MongoDB. I've tried to write some unit tests with the <code>'de.flapdoodle.embed:de.flapdoodle.embed.mongo'</code> dependency. However, the tests are generating an error:</p>\n<pre><code>java.lang.IllegalStateException: Failed to load ApplicationContext. \n</code></pre>\n<p>When running debug level logging the only additional info I see is</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'embeddedMongoServer' defined in class path resource [org/springframework/boot/autoconfigure/mongo/embedded/EmbeddedMongoAutoConfiguration.class]: Invocation of init method failed; nested exception is java.lang.RuntimeException: Could not start process: &lt;EOF&gt;\n</code></pre>\n<p>Here is the unit test class:</p>\n<h2>UserRepositoryTest</h2>\n<pre class=\"lang-java prettyprint-override\"><code>package com.gitgrub.userservice.repository;\n\nimport com.gitgrub.userservice.model.User;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTest;\nimport org.springframework.test.context.ActiveProfiles;\n\nimport static org.junit.jupiter.api.Assertions.*;\n\n@DataMongoTest\n@ActiveProfiles(&quot;test&quot;)\nclass UserRepositoryTest {\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @Test\n    void findByUsername() {\n        String testUsername = &quot;testUser&quot;;\n        User user = new User(testUsername, &quot;test@example.com&quot;, &quot;password&quot;);\n        userRepository.save(user);\n\n        User foundUser = userRepository.findByUsername(testUsername);\n        assertNotNull(foundUser);\n        assertEquals(testUsername, foundUser.getUsername());\n    }\n\n    @Test\n    void findByEmail() {\n        String testEmail = &quot;test@example.com&quot;;\n        User user = new User(&quot;testUser&quot;, testEmail, &quot;password&quot;);\n        userRepository.save(user);\n\n        User foundUser = userRepository.findByEmail(testEmail);\n        assertNotNull(foundUser);\n        assertEquals(testEmail, foundUser.getEmail());\n    }\n\n    @Test\n    void findByUsernameOrEmail() {\n        String testUsername = &quot;testUser&quot;;\n        String testEmail = &quot;test@example.com&quot;;\n        User user1 = new User(testUsername, &quot;user1@example.com&quot;, &quot;password&quot;);\n        User user2 = new User(&quot;user2&quot;, testEmail, &quot;password&quot;);\n\n        userRepository.save(user1);\n        userRepository.save(user2);\n\n        User foundUser1 = userRepository.findByUsernameOrEmail(testUsername, &quot;&quot;);\n        assertNotNull(foundUser1);\n        assertEquals(testUsername, foundUser1.getUsername());\n\n        User foundUser2 = userRepository.findByUsernameOrEmail(&quot;&quot;, testEmail);\n        assertNotNull(foundUser2);\n        assertEquals(testEmail, foundUser2.getEmail());\n    }\n}\n</code></pre>\n<p>Here is the main project interface that's being tested:</p>\n<h2>UserRepository</h2>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * UserRepository is an interface for a data access object (DAO) that handles User data.\n * It extends MongoRepository to leverage Spring Data MongoDB's functionality,\n * including CRUD operations and database queries.\n *\n * This repository provides methods for finding a user by username, by email,\n * or by either username or email.\n *\n * The repository is used by other components of the application (like services and controllers)\n * to interact with the User data in the database.\n *\n */\n\npackage com.gitgrub.userservice.repository;\n\nimport com.gitgrub.userservice.model.User;\nimport org.springframework.data.mongodb.repository.MongoRepository;\n\npublic interface UserRepository extends MongoRepository&lt;User, String&gt; {\n    User findByUsername(String username);\n\n    User findByEmail(String email);\n\n    User findByUsernameOrEmail(String username, String email);\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","tomcat","webserver"],"comments":[{"owner":{"account_id":2408344,"reputation":375,"user_id":2104151,"accept_rate":50,"display_name":"techprat"},"score":0,"creation_date":1684641352,"post_id":76297913,"comment_id":134545611,"body_markdown":"if you want to serve only static content why do you need a web application, you can deploy your static content in a http server. you dont need a servlet container.\nLook at this simple tutorial: https://dev.to/tikam02/deploying-static-website-in-apache24-1k63","body":"if you want to serve only static content why do you need a web application, you can deploy your static content in a http server. you dont need a servlet container. Look at this simple tutorial: <a href=\"https://dev.to/tikam02/deploying-static-website-in-apache24-1k63\" rel=\"nofollow noreferrer\">dev.to/tikam02/deploying-static-website-in-apache24-1k63</a>"},{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":1,"creation_date":1684651230,"post_id":76297913,"comment_id":134546142,"body_markdown":"why dont u try creating your won embedded tomcat app to understand better how it works? https://devcenter.heroku.com/articles/create-a-java-web-application-using-embedded-tomcat","body":"why dont u try creating your won embedded tomcat app to understand better how it works? <a href=\"https://devcenter.heroku.com/articles/create-a-java-web-application-using-embedded-tomcat\" rel=\"nofollow noreferrer\">devcenter.heroku.com/articles/&hellip;</a>"},{"owner":{"account_id":24679262,"reputation":43,"user_id":18573229,"display_name":"Ieris19"},"score":0,"creation_date":1684673843,"post_id":76297913,"comment_id":134548312,"body_markdown":"@techprat I am aware I don&#39;t need a web application, but I am interested in the ease it provides. All I need to do is hit package and spring-boot tooling will produce a web archive that can be immediately deployed anywhere with a JVM from a single file, serving my whole website. The concern for thinning out the dependencies is only because I know spring-boot will run other components automatically, and just a simple desire for a slightly more optimal solution. In short, I am using a servlet container because its easier to setup (spring-boot also provides default settings that work)","body":"@techprat I am aware I don&#39;t need a web application, but I am interested in the ease it provides. All I need to do is hit package and spring-boot tooling will produce a web archive that can be immediately deployed anywhere with a JVM from a single file, serving my whole website. The concern for thinning out the dependencies is only because I know spring-boot will run other components automatically, and just a simple desire for a slightly more optimal solution. In short, I am using a servlet container because its easier to setup (spring-boot also provides default settings that work)"},{"owner":{"account_id":24679262,"reputation":43,"user_id":18573229,"display_name":"Ieris19"},"score":0,"creation_date":1684673924,"post_id":76297913,"comment_id":134548320,"body_markdown":"@JAsgarov I could create my own tomcat app, I even considered that. But as I mentioned in my other comment, I am interested in the help spring-boot provides to package everything as a simple web archive that can be deployed immediately anywhere with java, not setup or settings required","body":"@JAsgarov I could create my own tomcat app, I even considered that. But as I mentioned in my other comment, I am interested in the help spring-boot provides to package everything as a simple web archive that can be deployed immediately anywhere with java, not setup or settings required"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1684679087,"post_id":76297913,"comment_id":134548917,"body_markdown":"Tomcat can be embedded in a Java JAR-based project (no WAR is needed). Is that the piece of the jigsaw you are missing? Tomcat [provides](https://mvnrepository.com/search?q=tomcat-embed) `embed-core`, `embed-jasper`, `embed-websocket`, etc. to support this. You can instantiate the embedded Tomcat process in your own code: `Tomcat tomcat = new Tomcat();` and so on. I don&#39;t know the specific details - but I assume Spring uses these Tomcat classes in its Spring-Boot-Starter-Web (for example).","body":"Tomcat can be embedded in a Java JAR-based project (no WAR is needed). Is that the piece of the jigsaw you are missing? Tomcat <a href=\"https://mvnrepository.com/search?q=tomcat-embed\" rel=\"nofollow noreferrer\">provides</a> <code>embed-core</code>, <code>embed-jasper</code>, <code>embed-websocket</code>, etc. to support this. You can instantiate the embedded Tomcat process in your own code: <code>Tomcat tomcat = new Tomcat();</code> and so on. I don&#39;t know the specific details - but I assume Spring uses these Tomcat classes in its Spring-Boot-Starter-Web (for example)."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1684679202,"post_id":76297913,"comment_id":134548932,"body_markdown":"&quot;_I am trying to create a war archive_&quot; - in other words, you don&#39;t create a WAR - you create a JAR to do this. See also frameworks such as [Javalin](https://javalin.io/), which do something similar. Javalin uses embedded Jetty, not embedded Tomcat. Maybe I have missed the point of your question?","body":"&quot;<i>I am trying to create a war archive</i>&quot; - in other words, you don&#39;t create a WAR - you create a JAR to do this. See also frameworks such as <a href=\"https://javalin.io/\" rel=\"nofollow noreferrer\">Javalin</a>, which do something similar. Javalin uses embedded Jetty, not embedded Tomcat. Maybe I have missed the point of your question?"},{"owner":{"account_id":24679262,"reputation":43,"user_id":18573229,"display_name":"Ieris19"},"score":0,"creation_date":1684694196,"post_id":76297913,"comment_id":134550779,"body_markdown":"@andrewJames Perhaps I haven&#39;t explained myself, spring-boot automatically creates a WAR archive that includes all dependencies, a custom class loader, alongside the build output, such that the archive is effectively a runnable java application. I am unsure why spring-boot packages as war and not jar, but in essence it&#39;s not different. Although I should perhaps look deeper into the Tomcat classes, since you make it sound like it would require little effort to create a similar setup with Tomcat alone","body":"@andrewJames Perhaps I haven&#39;t explained myself, spring-boot automatically creates a WAR archive that includes all dependencies, a custom class loader, alongside the build output, such that the archive is effectively a runnable java application. I am unsure why spring-boot packages as war and not jar, but in essence it&#39;s not different. Although I should perhaps look deeper into the Tomcat classes, since you make it sound like it would require little effort to create a similar setup with Tomcat alone"},{"owner":{"account_id":24679262,"reputation":43,"user_id":18573229,"display_name":"Ieris19"},"score":0,"creation_date":1684694376,"post_id":76297913,"comment_id":134550809,"body_markdown":"@andrewJames As per my other comments, the WAR is to all effects and purposes identical to a JAR, I am unsure why spring-boot packages the application as a war, but I can run it all the same through `java -jar archive.war`. In short, I was just wondering how does Spring achieve this behavior, in hopes of being able to just trim out the fat instead of having to replicate the behavior","body":"@andrewJames As per my other comments, the WAR is to all effects and purposes identical to a JAR, I am unsure why spring-boot packages the application as a war, but I can run it all the same through <code>java -jar archive.war</code>. In short, I was just wondering how does Spring achieve this behavior, in hopes of being able to just trim out the fat instead of having to replicate the behavior"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1684695040,"post_id":76297913,"comment_id":134550875,"body_markdown":"This is what confuses me: &quot;_spring-boot automatically creates a WAR_&quot;. Can you show how you are doing this? Maybe by editing your question? Spring Boot (for me) automatically creates a JAR, not a WAR, unless [I explicitly tell it to create a WAR](https://www.baeldung.com/spring-boot-war-tomcat-deploy).","body":"This is what confuses me: &quot;<i>spring-boot automatically creates a WAR</i>&quot;. Can you show how you are doing this? Maybe by editing your question? Spring Boot (for me) automatically creates a JAR, not a WAR, unless <a href=\"https://www.baeldung.com/spring-boot-war-tomcat-deploy\" rel=\"nofollow noreferrer\">I explicitly tell it to create a WAR</a>."},{"owner":{"account_id":24679262,"reputation":43,"user_id":18573229,"display_name":"Ieris19"},"score":1,"creation_date":1684699828,"post_id":76297913,"comment_id":134551437,"body_markdown":"@andrewJames I actually just checked, funnily enough, I got confused reading the documentation and copied from the example for the war, under the impression that the jar option would produce a shaded jar, however, I just rechecked to source my claim and found out I completely misunderstood the article and both JAR and WAR can be used. However, the resulting archive is identical except for the folder containing compiled sources is BOOT-INF or WEB-INF depending on the packaging so jar or war shouldn&#39;t matter","body":"@andrewJames I actually just checked, funnily enough, I got confused reading the documentation and copied from the example for the war, under the impression that the jar option would produce a shaded jar, however, I just rechecked to source my claim and found out I completely misunderstood the article and both JAR and WAR can be used. However, the resulting archive is identical except for the folder containing compiled sources is BOOT-INF or WEB-INF depending on the packaging so jar or war shouldn&#39;t matter"}],"owner":{"account_id":24679262,"reputation":43,"user_id":18573229,"display_name":"Ieris19"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684700118,"creation_date":1684631421,"question_id":76297913,"body_markdown":"As the title states, I wonder how is spring-boot internally using Tomcat to serve requests, specifically, static files located in certain folders.\r\n\r\nI am trying to create a war* archive that contains a deployable website and trying to get it to be as small as possible, since I only want it to serve static files, and I have managed the exact desired output with spring-boot-starter-web, but would like to rid myself of all unnecessary dependencies.\r\n\r\n\\* (EDIT: as a side note, I have found out that making it a war archive is irrelevant since spring-boot is able to produce a jar under the exact same mechanism, but otherwise, they should function all the same)\r\n\r\nHowever, I have been unable to find much (or really any) documentation on how this is achieved by spring-boot, not even by looking at the sources although I admit I am unfamiliar with spring-boot sources or non-boot spring projects in general.\r\n\r\nI haven&#39;t found a way to actually start the same sort of behavior without the web starter\r\n\r\n\r\nEDIT: For those wondering how the archive is created, here&#39;s a link to Spring&#39;s documentation on it: [&quot;The Executable Jar Format&quot;][1]\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/executable-jar.html","title":"How is the embedded Tomcat behaviour in spring-boot-starter-web achieved?","body":"<p>As the title states, I wonder how is spring-boot internally using Tomcat to serve requests, specifically, static files located in certain folders.</p>\n<p>I am trying to create a war* archive that contains a deployable website and trying to get it to be as small as possible, since I only want it to serve static files, and I have managed the exact desired output with spring-boot-starter-web, but would like to rid myself of all unnecessary dependencies.</p>\n<p>* (EDIT: as a side note, I have found out that making it a war archive is irrelevant since spring-boot is able to produce a jar under the exact same mechanism, but otherwise, they should function all the same)</p>\n<p>However, I have been unable to find much (or really any) documentation on how this is achieved by spring-boot, not even by looking at the sources although I admit I am unfamiliar with spring-boot sources or non-boot spring projects in general.</p>\n<p>I haven't found a way to actually start the same sort of behavior without the web starter</p>\n<p>EDIT: For those wondering how the archive is created, here's a link to Spring's documentation on it: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/executable-jar.html\" rel=\"nofollow noreferrer\">&quot;The Executable Jar Format&quot;</a></p>\n"},{"tags":["java","string","recursion"],"comments":[{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":1,"creation_date":1674868517,"post_id":75264144,"comment_id":132812144,"body_markdown":"Idk why you included recursion in the title, this does not require it. All you have to do is iterate over each character in the string, cut it when you hit the start point letter, take the tail. Then iterate over the tail until you reach the end point letter, cut the string and fetch the head.","body":"Idk why you included recursion in the title, this does not require it. All you have to do is iterate over each character in the string, cut it when you hit the start point letter, take the tail. Then iterate over the tail until you reach the end point letter, cut the string and fetch the head."},{"owner":{"account_id":27639273,"reputation":11,"user_id":21096553,"display_name":"Anh Nghi&#234;m"},"score":0,"creation_date":1674870761,"post_id":75264144,"comment_id":132812398,"body_markdown":"I figured we could do it the easier way but the assisngment require me to do with recursion","body":"I figured we could do it the easier way but the assisngment require me to do with recursion"},{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1674871484,"post_id":75264144,"comment_id":132812477,"body_markdown":"Any iteration can be refactored into being a recursion.","body":"Any iteration can be refactored into being a recursion."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674923367,"creation_date":1674923367,"answer_id":75269144,"question_id":75264144,"body_markdown":"Try this:\r\n\r\npublic static String getmiddle(String s, char start, char end) {\r\n\r\n\tif (s.charAt(0) != start &amp;&amp; s.charAt(s.length() - 1) != end) {\r\n\r\n\t\treturn getmiddle(s.substring(1, s.length() - 2), start, end);\r\n\r\n\t} else if (s.charAt(0) != start) {\r\n\t\treturn getmiddle(s.substring(1), start, end);\r\n\t} else if (s.charAt(s.length() - 1) != end) {\r\n\t\treturn getmiddle(s.substring(0, s.length() - 2), start, end);\r\n\r\n\t} else {\r\n\t\treturn s.substring(1, s.length() - 1);\r\n\t}\r\n\r\n}\r\n\r\n","title":"Recursion of a string with 2 specific start and end point","body":"<p>Try this:</p>\n<p>public static String getmiddle(String s, char start, char end) {</p>\n<pre><code>if (s.charAt(0) != start &amp;&amp; s.charAt(s.length() - 1) != end) {\n\n    return getmiddle(s.substring(1, s.length() - 2), start, end);\n\n} else if (s.charAt(0) != start) {\n    return getmiddle(s.substring(1), start, end);\n} else if (s.charAt(s.length() - 1) != end) {\n    return getmiddle(s.substring(0, s.length() - 2), start, end);\n\n} else {\n    return s.substring(1, s.length() - 1);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684699686,"creation_date":1684699686,"answer_id":76301729,"question_id":75264144,"body_markdown":"Recursion is confusing, since there is not necessarily one way to derive the data.\r\n\r\nOne approach is to write your control-flow, as though all conditions have already been met.  \r\nWhich is the complete opposite of just basic control-flow.\r\n\r\nThe following method will return `ascr` for `javascript`, using `v` and `i`.\r\n\r\n```java\r\npublic static String getmiddle(String s, char start, char end) {\r\n    if (s.charAt(0) == start &amp;&amp; s.charAt(s.length() - 1) == end)\r\n        return s.substring(1, s.length() - 1);\r\n    else if (s.charAt(0) != start)\r\n        s = getmiddle(s.substring(1), start, end);\r\n    else if (s.charAt(s.length() - 1) != end)\r\n        s = getmiddle(s.substring(0, s.length() - 1), start, end);\r\n    return s;\r\n}\r\n```\r\n\r\nYour code deviated at the following conditional-statement, `if (str.charAt(0) != end)`.\r\n\r\nYou would want to be checking the last character, here, `s.length() - 1`, as opposed to the first, at `0`.","title":"Recursion of a string with 2 specific start and end point","body":"<p>Recursion is confusing, since there is not necessarily one way to derive the data.</p>\n<p>One approach is to write your control-flow, as though all conditions have already been met.<br />\nWhich is the complete opposite of just basic control-flow.</p>\n<p>The following method will return <code>ascr</code> for <code>javascript</code>, using <code>v</code> and <code>i</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String getmiddle(String s, char start, char end) {\n    if (s.charAt(0) == start &amp;&amp; s.charAt(s.length() - 1) == end)\n        return s.substring(1, s.length() - 1);\n    else if (s.charAt(0) != start)\n        s = getmiddle(s.substring(1), start, end);\n    else if (s.charAt(s.length() - 1) != end)\n        s = getmiddle(s.substring(0, s.length() - 1), start, end);\n    return s;\n}\n</code></pre>\n<p>Your code deviated at the following conditional-statement, <code>if (str.charAt(0) != end)</code>.</p>\n<p>You would want to be checking the last character, here, <code>s.length() - 1</code>, as opposed to the first, at <code>0</code>.</p>\n"}],"owner":{"account_id":27639273,"reputation":11,"user_id":21096553,"display_name":"Anh Nghi&#234;m"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1684699686,"creation_date":1674860432,"question_id":75264144,"body_markdown":"I am stuck on the assignment which require to write a recursion method to return everything between 2 specific points.\r\nFor example, if the input is &quot;javascript&quot; with &quot;v&quot; as start point and &quot;i&quot; as end point, we have to return &quot;ascr&quot;\r\n\r\n\r\n    public static String getmiddle(String s, char start, char end) {\r\n        if (s.charAt(0)!=start) {\r\n            getmiddle(s.substring(1), start, end);  \r\n        }\r\n\r\n        str = str.substring(1);\r\n\r\n        if (str.charAt(0) != end) {\r\n            return s.substring(0,1) + getmiddle(s.substring(1), start, end);\r\n        } else {\r\n            return &quot;&quot;;\r\n        }\r\n    }\r\n\r\nThis is what I did. The first if method I try to remove the first part before the start point, but I couldn&#39;t figure out my 2nd part.","title":"Recursion of a string with 2 specific start and end point","body":"<p>I am stuck on the assignment which require to write a recursion method to return everything between 2 specific points.\nFor example, if the input is &quot;javascript&quot; with &quot;v&quot; as start point and &quot;i&quot; as end point, we have to return &quot;ascr&quot;</p>\n<pre><code>public static String getmiddle(String s, char start, char end) {\n    if (s.charAt(0)!=start) {\n        getmiddle(s.substring(1), start, end);  \n    }\n\n    str = str.substring(1);\n\n    if (str.charAt(0) != end) {\n        return s.substring(0,1) + getmiddle(s.substring(1), start, end);\n    } else {\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n<p>This is what I did. The first if method I try to remove the first part before the start point, but I couldn't figure out my 2nd part.</p>\n"},{"tags":["java","postgresql","hibernate","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":5475023,"reputation":90,"user_id":4353227,"accept_rate":100,"display_name":"Suresh Kumar"},"score":0,"creation_date":1684699091,"post_id":76301581,"comment_id":134551365,"body_markdown":"Refer this https://stackoverflow.com/questions/1795649/jpa-persisting-a-one-to-many-relationship","body":"Refer this <a href=\"https://stackoverflow.com/questions/1795649/jpa-persisting-a-one-to-many-relationship\" title=\"jpa persisting a one to many relationship\">stackoverflow.com/questions/1795649/&hellip;</a>"}],"owner":{"account_id":7544112,"reputation":565,"user_id":5727808,"display_name":"TrollBearPig"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684699575,"creation_date":1684697286,"question_id":76301581,"body_markdown":"**Context:**\r\n\r\nLets say I have 3 entities. Entity A (Portfolio) which contains a list of Entity B (Categories) which contains a list of Entity C (CategoryItems)\r\n\r\nLet&#39;s say I already have a Portfolio with some categories and category items persisted.\r\n\r\n**Problem**: \r\n\r\nIf I have a list of Categories and nested CategoryItems. Some of which have ID&#39;s as they have already been persisted, and some which are new objects and have null ID&#39;s. And maybe some of the category items have been updated and are now nested under a different category. \r\n\r\nIs their any easy way to persist this using Hibernate? \r\n\r\nOr do we need to manually handle the merge by iterating through the new updated Categories and Items and handle the updates / create the new items. \r\n\r\n\r\n","title":"Spring JPA how to persist a nested object","body":"<p><strong>Context:</strong></p>\n<p>Lets say I have 3 entities. Entity A (Portfolio) which contains a list of Entity B (Categories) which contains a list of Entity C (CategoryItems)</p>\n<p>Let's say I already have a Portfolio with some categories and category items persisted.</p>\n<p><strong>Problem</strong>:</p>\n<p>If I have a list of Categories and nested CategoryItems. Some of which have ID's as they have already been persisted, and some which are new objects and have null ID's. And maybe some of the category items have been updated and are now nested under a different category.</p>\n<p>Is their any easy way to persist this using Hibernate?</p>\n<p>Or do we need to manually handle the merge by iterating through the new updated Categories and Items and handle the updates / create the new items.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1674909476,"post_id":75267477,"comment_id":132816881,"body_markdown":"Welcome to SO.  Let&#39;s clarify your question before writing any code.  Are you taking a list of words and filtering them, separating them in two groups?  Or are you modifying the words?","body":"Welcome to SO.  Let&#39;s clarify your question before writing any code.  Are you taking a list of words and filtering them, separating them in two groups?  Or are you modifying the words?"}],"answers":[{"tags":[],"owner":{"account_id":25516174,"reputation":36,"user_id":19306998,"display_name":"Aditya Punetha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674907812,"creation_date":1674907812,"answer_id":75267538,"question_id":75267477,"body_markdown":"```\r\n\r\n    String[] words = {&quot;Ants&quot;, &quot;Bears&quot;, &quot;Cats&quot;, &quot;Dogs&quot;, &quot;Falcons&quot;};\r\n\r\n    System.out.println(&quot;Without plurals\\tWith plurals&quot;);\r\n    for (String word : words) {\r\n        String withoutS = word.replaceAll(&quot;s$&quot;, &quot;&quot;);\r\n        System.out.println(withoutS + &quot;\\t\\t\\t&quot; + word);\r\n    }\r\n\r\n```\r\n\r\nOutput:\r\n```\r\nWithout plurals\tWith plurals\r\nAnt\t\t\tAnts\r\nBear\t\t\tBears\r\nCat\t\t\tCats\r\nDog\t\t\tDogs\r\nFalcon\t\t\tFalcons\r\n```","title":"How to separate this into 2 separate columns?","body":"<pre><code>\n    String[] words = {&quot;Ants&quot;, &quot;Bears&quot;, &quot;Cats&quot;, &quot;Dogs&quot;, &quot;Falcons&quot;};\n\n    System.out.println(&quot;Without plurals\\tWith plurals&quot;);\n    for (String word : words) {\n        String withoutS = word.replaceAll(&quot;s$&quot;, &quot;&quot;);\n        System.out.println(withoutS + &quot;\\t\\t\\t&quot; + word);\n    }\n\n</code></pre>\n<p>Output:</p>\n<pre><code>Without plurals With plurals\nAnt         Ants\nBear            Bears\nCat         Cats\nDog         Dogs\nFalcon          Falcons\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684698941,"creation_date":1684698357,"answer_id":76301643,"question_id":75267477,"body_markdown":"Here is a basic implementation, to generate 2 columns of `String` values.\r\n\r\n```java\r\nString columns(String string) {\r\n    String[] strings = string.split(&quot; &quot;);\r\n    int widthA = 0;\r\n    for (int index = 0; index &lt; strings.length; index += 2) {\r\n        if (strings[index].length() &gt; widthA)\r\n            widthA = strings[index].length();\r\n    }\r\n    int widthB = 0;\r\n    for (int index = 0; index &lt; strings.length; index += 2) {\r\n        if (strings[index + 1].length() &gt; widthB)\r\n            widthB = strings[index + 1].length();\r\n    }\r\n    StringBuilder columns = new StringBuilder();\r\n    for (int index = 0; index &lt; strings.length; index += 2) {\r\n        columns.append((&quot;%-&quot; + widthB + &quot;s &quot;).formatted(strings[index + 1]));\r\n        columns.append((&quot;%-&quot; + widthA + &quot;s%n&quot;).formatted(strings[index]));\r\n    }\r\n    return columns.toString();\r\n}\r\n```\r\n\r\nOutput using the data you provided, is as follows.\r\n\r\n```none\r\nAnt    AntS   \r\nBear   BearS  \r\nCat    CatS   \r\nDog    DogS   \r\nFalcon FalconS\r\n```\r\n\r\nAlternately, if you are looking for two arrays, as opposed to two text columns, you can use the following method.\r\n\r\n```java\r\nString[][] columns(String string) {\r\n    String[] strings = string.split(&quot; &quot;);\r\n    String[][] columns = new String[2][strings.length / 2];\r\n    for (int indexA = 0, indexB = 0; indexA &lt; strings.length; indexA += 2, indexB++) {\r\n        columns[0][indexB] = strings[indexA + 1];\r\n        columns[1][indexB] = strings[indexA];\r\n    }\r\n    return columns;\r\n}\r\n```\r\n\r\nIf we printed the data, we&#39;d get the following output.\r\n\r\n```none\r\n[Ant, Bear, Cat, Dog, Falcon]\r\n[AntS, BearS, CatS, DogS, FalconS]\r\n```","title":"How to separate this into 2 separate columns?","body":"<p>Here is a basic implementation, to generate 2 columns of <code>String</code> values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String columns(String string) {\n    String[] strings = string.split(&quot; &quot;);\n    int widthA = 0;\n    for (int index = 0; index &lt; strings.length; index += 2) {\n        if (strings[index].length() &gt; widthA)\n            widthA = strings[index].length();\n    }\n    int widthB = 0;\n    for (int index = 0; index &lt; strings.length; index += 2) {\n        if (strings[index + 1].length() &gt; widthB)\n            widthB = strings[index + 1].length();\n    }\n    StringBuilder columns = new StringBuilder();\n    for (int index = 0; index &lt; strings.length; index += 2) {\n        columns.append((&quot;%-&quot; + widthB + &quot;s &quot;).formatted(strings[index + 1]));\n        columns.append((&quot;%-&quot; + widthA + &quot;s%n&quot;).formatted(strings[index]));\n    }\n    return columns.toString();\n}\n</code></pre>\n<p>Output using the data you provided, is as follows.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Ant    AntS   \nBear   BearS  \nCat    CatS   \nDog    DogS   \nFalcon FalconS\n</code></pre>\n<p>Alternately, if you are looking for two arrays, as opposed to two text columns, you can use the following method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[][] columns(String string) {\n    String[] strings = string.split(&quot; &quot;);\n    String[][] columns = new String[2][strings.length / 2];\n    for (int indexA = 0, indexB = 0; indexA &lt; strings.length; indexA += 2, indexB++) {\n        columns[0][indexB] = strings[indexA + 1];\n        columns[1][indexB] = strings[indexA];\n    }\n    return columns;\n}\n</code></pre>\n<p>If we printed the data, we'd get the following output.</p>\n<pre class=\"lang-none prettyprint-override\"><code>[Ant, Bear, Cat, Dog, Falcon]\n[AntS, BearS, CatS, DogS, FalconS]\n</code></pre>\n"}],"owner":{"account_id":27642511,"reputation":11,"user_id":21099176,"display_name":"mightyboshy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1684698941,"creation_date":1674907225,"question_id":75267477,"body_markdown":"AntS\r\nAnt \r\nBearS\r\nBear \r\nCatS\r\nCat \r\nDogS\r\nDog \r\nFalconS\r\nFalcon \r\n\r\n    String five = word;\r\n    String Sremove = five.replace(&quot;s&quot;, &quot;S&quot;);\r\n                \r\n    System.out.println(Sremove);\r\n        \r\n            \r\n    //Display without plurals\r\n    String remove = word;\r\n    String withoutS = remove.replace(&quot;s&quot;,&quot; &quot;);\r\n      \r\n    System.out.println(withoutS);\r\n\r\nWhat I want is the 1st column are the words without plurals, and the 2nd column are the one with plurals.\r\n\r\nI can&#39;t find solutions so I went here","title":"How to separate this into 2 separate columns?","body":"<p>AntS\nAnt\nBearS\nBear\nCatS\nCat\nDogS\nDog\nFalconS\nFalcon</p>\n<pre><code>String five = word;\nString Sremove = five.replace(&quot;s&quot;, &quot;S&quot;);\n            \nSystem.out.println(Sremove);\n    \n        \n//Display without plurals\nString remove = word;\nString withoutS = remove.replace(&quot;s&quot;,&quot; &quot;);\n  \nSystem.out.println(withoutS);\n</code></pre>\n<p>What I want is the 1st column are the words without plurals, and the 2nd column are the one with plurals.</p>\n<p>I can't find solutions so I went here</p>\n"},{"tags":["java","junit5"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1684633205,"post_id":76295701,"comment_id":134545203,"body_markdown":"Perhaps something is calling `DataSource.getDataSource()` before junit calls `setup()`. You can add some logging to check this. It isn&#39;t clear why you have written the `init` method. Why do you think that `init` will have any effect? Do you understand how your `DataSource.getDataSource()` method works? That `ds` is `static` and that it will only call `initdatabase()` once?","body":"Perhaps something is calling <code>DataSource.getDataSource()</code> before junit calls <code>setup()</code>. You can add some logging to check this. It isn&#39;t clear why you have written the <code>init</code> method. Why do you think that <code>init</code> will have any effect? Do you understand how your <code>DataSource.getDataSource()</code> method works? That <code>ds</code> is <code>static</code> and that it will only call <code>initdatabase()</code> once?"}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684593592,"creation_date":1684593592,"answer_id":76295772,"question_id":76295701,"body_markdown":"Instead of using system properties to configure the database make your classore easily configurable and testable. You could implement a singleton pattern and an initializing method for example.\r\n\r\nHaving said that, using a different database for production than for testing may not reproduce the exact behavior.","title":"Implementation of BeforeEach within a single method","body":"<p>Instead of using system properties to configure the database make your classore easily configurable and testable. You could implement a singleton pattern and an initializing method for example.</p>\n<p>Having said that, using a different database for production than for testing may not reproduce the exact behavior.</p>\n"},{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684594417,"creation_date":1684594417,"answer_id":76295831,"question_id":76295701,"body_markdown":"I understand that you want to configure a different datasource for tests. This can be done without any code just by providing a different `application.properties` file.\r\n\r\nAssuming your `application.properties` are in the `src/main/resources`. Make a copy of it and put it in the folder `src/test/resources`. In this file you can modify the properties for the tests. They will be found only by the tests. Application will still use the original file.","title":"Implementation of BeforeEach within a single method","body":"<p>I understand that you want to configure a different datasource for tests. This can be done without any code just by providing a different <code>application.properties</code> file.</p>\n<p>Assuming your <code>application.properties</code> are in the <code>src/main/resources</code>. Make a copy of it and put it in the folder <code>src/test/resources</code>. In this file you can modify the properties for the tests. They will be found only by the tests. Application will still use the original file.</p>\n"}],"owner":{"account_id":19575528,"reputation":25,"user_id":14325679,"display_name":"Alex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76295772,"answer_count":2,"score":0,"last_activity_date":1684698037,"creation_date":1684592603,"question_id":76295701,"body_markdown":"My project has a DataSource class that implements the database connection parameters, as well as the initialization of the database connection:\r\n\r\n    public class DataSource {\r\n        private static HikariConfig config = new HikariConfig();\r\n        private static HikariDataSource ds;\r\n     \r\n        public static HikariDataSource getDataSource() {\r\n            if (ds == null) {\r\n                config.setJdbcUrl(System.getProperty(&quot;jdbcUrl&quot;,&quot;jdbc:postgresql://localhost:5433/postgres&quot;));\r\n                config.setUsername(System.getProperty(&quot;jdbcUser&quot;,&quot;postgres&quot;));\r\n                config.setPassword(System.getProperty(&quot;jdbcPassword&quot;,&quot;postgres&quot;));\r\n                ds = new HikariDataSource(config);\r\n     \r\n                initDatabase();\r\n            }\r\n            return ds;\r\n        }\r\n     \r\n        private static void initDatabase() {\r\n            try {\r\n                DatabaseConnection connection = new JdbcConnection(ds.getConnection());\r\n                Database database = DatabaseFactory.getInstance().findCorrectDatabaseImplementation(connection);\r\n                Liquibase liquibase = new Liquibase(\r\n                        System.getProperty(&quot;liquibaseFile&quot;,&quot;liquibase.xml&quot;),\r\n                        new ClassLoaderResourceAccessor(),\r\n                        database);\r\n                liquibase.update(new Contexts());\r\n            } catch (SQLException | LiquibaseException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n     \r\n        public static Connection getConnection() throws SQLException {\r\n            return ds.getConnection();\r\n        }\r\n    }\r\n\r\nThe JUnit library is used to develop unit tests for project dao methods. A base class has been created with the help of which the parameters for connecting to the database are redefined (in this case, to H2):\r\n\r\n    public class Base {\r\n     \r\n        @BeforeAll\r\n        static void setup() {\r\n            System.setProperty(&quot;jdbcUrl&quot;, &quot;jdbc:h2:mem:test_&quot; + UUID.randomUUID());\r\n            System.setProperty(&quot;jdbcUser&quot;, &quot;sa&quot;);\r\n            System.setProperty(&quot;jdbcPassword&quot;, &quot;&quot;);\r\n            System.setProperty(&quot;liquibaseFile&quot;, &quot;liquibase_test.xml&quot;);\r\n        }\r\n     \r\n        @BeforeEach\r\n        void init() {\r\n            setup();\r\n        }\r\n    }\r\n\r\nHow can I make sure that System.setProperty properties are redefined within a single method? It is important that the behavior of the method is similar to that of @BeforeEach instead of the @BeforeAll annotation.\r\nI tried to put @BeforeEach instead of @BeforeAll, removing static, but when the test is executed, the postgress database is accessed, and not H2, as required by the condition.\r\n","title":"Implementation of BeforeEach within a single method","body":"<p>My project has a DataSource class that implements the database connection parameters, as well as the initialization of the database connection:</p>\n<pre><code>public class DataSource {\n    private static HikariConfig config = new HikariConfig();\n    private static HikariDataSource ds;\n \n    public static HikariDataSource getDataSource() {\n        if (ds == null) {\n            config.setJdbcUrl(System.getProperty(&quot;jdbcUrl&quot;,&quot;jdbc:postgresql://localhost:5433/postgres&quot;));\n            config.setUsername(System.getProperty(&quot;jdbcUser&quot;,&quot;postgres&quot;));\n            config.setPassword(System.getProperty(&quot;jdbcPassword&quot;,&quot;postgres&quot;));\n            ds = new HikariDataSource(config);\n \n            initDatabase();\n        }\n        return ds;\n    }\n \n    private static void initDatabase() {\n        try {\n            DatabaseConnection connection = new JdbcConnection(ds.getConnection());\n            Database database = DatabaseFactory.getInstance().findCorrectDatabaseImplementation(connection);\n            Liquibase liquibase = new Liquibase(\n                    System.getProperty(&quot;liquibaseFile&quot;,&quot;liquibase.xml&quot;),\n                    new ClassLoaderResourceAccessor(),\n                    database);\n            liquibase.update(new Contexts());\n        } catch (SQLException | LiquibaseException e) {\n            throw new RuntimeException(e);\n        }\n    }\n \n    public static Connection getConnection() throws SQLException {\n        return ds.getConnection();\n    }\n}\n</code></pre>\n<p>The JUnit library is used to develop unit tests for project dao methods. A base class has been created with the help of which the parameters for connecting to the database are redefined (in this case, to H2):</p>\n<pre><code>public class Base {\n \n    @BeforeAll\n    static void setup() {\n        System.setProperty(&quot;jdbcUrl&quot;, &quot;jdbc:h2:mem:test_&quot; + UUID.randomUUID());\n        System.setProperty(&quot;jdbcUser&quot;, &quot;sa&quot;);\n        System.setProperty(&quot;jdbcPassword&quot;, &quot;&quot;);\n        System.setProperty(&quot;liquibaseFile&quot;, &quot;liquibase_test.xml&quot;);\n    }\n \n    @BeforeEach\n    void init() {\n        setup();\n    }\n}\n</code></pre>\n<p>How can I make sure that System.setProperty properties are redefined within a single method? It is important that the behavior of the method is similar to that of @BeforeEach instead of the @BeforeAll annotation.\nI tried to put @BeforeEach instead of @BeforeAll, removing static, but when the test is executed, the postgress database is accessed, and not H2, as required by the condition.</p>\n"},{"tags":["java","docker","selenium"],"comments":[{"owner":{"account_id":1387645,"reputation":7926,"user_id":1319284,"accept_rate":69,"display_name":"kutschkem"},"score":0,"creation_date":1606901796,"post_id":65105218,"comment_id":115100761,"body_markdown":"You say you have verified the file is available. Have you verified the file is available **inside the docker container**?","body":"You say you have verified the file is available. Have you verified the file is available <b>inside the docker container</b>?"},{"owner":{"account_id":16127083,"reputation":143,"user_id":11641612,"display_name":"Farhaan Shaik"},"score":0,"creation_date":1606902430,"post_id":65105218,"comment_id":115101022,"body_markdown":"I printed the files that are available in that specific location. And from logs verified the file is available but the driver is unable to upload.","body":"I printed the files that are available in that specific location. And from logs verified the file is available but the driver is unable to upload."},{"owner":{"account_id":9132670,"reputation":18589,"user_id":6793637,"accept_rate":0,"display_name":"PDHide"},"score":0,"creation_date":1606906230,"post_id":65105218,"comment_id":115102790,"body_markdown":"What you mean by run it on a docker container ? Docker container as the hub ?","body":"What you mean by run it on a docker container ? Docker container as the hub ?"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":1,"creation_date":1606907709,"post_id":65105218,"comment_id":115103511,"body_markdown":"Docker container file system is isolated from host system. So you cannot just run your script in docker and expect it will access anything you have at your host. You need to mount a folder on your host to a folder inside the container or copy the file to container file system (both options are taken when build an image to run).","body":"Docker container file system is isolated from host system. So you cannot just run your script in docker and expect it will access anything you have at your host. You need to mount a folder on your host to a folder inside the container or copy the file to container file system (both options are taken when build an image to run)."},{"owner":{"account_id":16127083,"reputation":143,"user_id":11641612,"display_name":"Farhaan Shaik"},"score":0,"creation_date":1606911065,"post_id":65105218,"comment_id":115104952,"body_markdown":"@PDHide, I ran in docker using the selenium stand alone chrome you can find the related info here https://github.com/SeleniumHQ/docker-selenium#standalone","body":"@PDHide, I ran in docker using the selenium stand alone chrome you can find the related info here <a href=\"https://github.com/SeleniumHQ/docker-selenium#standalone\" rel=\"nofollow noreferrer\">github.com/SeleniumHQ/docker-selenium#standalone</a>"},{"owner":{"account_id":16127083,"reputation":143,"user_id":11641612,"display_name":"Farhaan Shaik"},"score":0,"creation_date":1606911331,"post_id":65105218,"comment_id":115105063,"body_markdown":"@AlexeyR. you are correct and yes I also did a volume mapping where I have mapped my required folder to the container, and to check if all the files are available I have printed the files that are in folders into logs and verified the required files are available and I am sure this issue is more related to selenium.","body":"@AlexeyR. you are correct and yes I also did a volume mapping where I have mapped my required folder to the container, and to check if all the files are available I have printed the files that are in folders into logs and verified the required files are available and I am sure this issue is more related to selenium."}],"answers":[{"tags":[],"owner":{"account_id":12888464,"reputation":155,"user_id":9321181,"display_name":"Karen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684697940,"creation_date":1606905675,"answer_id":65106461,"question_id":65105218,"body_markdown":"You need to add a path configuration. \r\nCreate a file browsers.json\r\nadd this script there\r\n```json\r\n{\r\n  &quot;chrome&quot;: {\r\n        &quot;default&quot;: &quot;85.0&quot;,\r\n        &quot;versions&quot;: {\r\n            &quot;85.0&quot;: {\r\n                &quot;image&quot;: &quot;selenoid/vnc:chrome_85.0&quot;,\r\n                &quot;port&quot;: &quot;4444&quot;,\r\n                &quot;volumes&quot;: [&quot;/home/ubuntu/your-project:/opt/docker&quot;]\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nand run with this `--browsers-json browsers.json` argument\r\n\r\nthis example is for selenoid, but if you don&#39;t use selenoid, just add `&quot;volumes&quot;: [&quot;/home/ubuntu/your-project:/opt/docker&quot;]` to your selenium grid config. ","title":"Docker Selenium standalone server is Unable to upload a file to the grid browser in the container","body":"<p>You need to add a path configuration.\nCreate a file browsers.json\nadd this script there</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;chrome&quot;: {\n        &quot;default&quot;: &quot;85.0&quot;,\n        &quot;versions&quot;: {\n            &quot;85.0&quot;: {\n                &quot;image&quot;: &quot;selenoid/vnc:chrome_85.0&quot;,\n                &quot;port&quot;: &quot;4444&quot;,\n                &quot;volumes&quot;: [&quot;/home/ubuntu/your-project:/opt/docker&quot;]\n            }\n        }\n    }\n}\n</code></pre>\n<p>and run with this <code>--browsers-json browsers.json</code> argument</p>\n<p>this example is for selenoid, but if you don't use selenoid, just add <code>&quot;volumes&quot;: [&quot;/home/ubuntu/your-project:/opt/docker&quot;]</code> to your selenium grid config.</p>\n"},{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1606912104,"creation_date":1606912104,"answer_id":65108101,"question_id":65105218,"body_markdown":"You mounted the volume to container where your test code is running. However you need to mount the volume to the container where the browser is running.\r\n\r\nThe thing is that when your code says to the web app &quot;hey, this is the file that you need to upload&quot;, the test code sends not a file itself but a path that is passed to the browser. Then browser tries to look up that file and build appropriate request to the server.\r\n\r\nSo the file hast to be within the container where the browser is running.","title":"Docker Selenium standalone server is Unable to upload a file to the grid browser in the container","body":"<p>You mounted the volume to container where your test code is running. However you need to mount the volume to the container where the browser is running.</p>\n<p>The thing is that when your code says to the web app &quot;hey, this is the file that you need to upload&quot;, the test code sends not a file itself but a path that is passed to the browser. Then browser tries to look up that file and build appropriate request to the server.</p>\n<p>So the file hast to be within the container where the browser is running.</p>\n"},{"tags":[],"owner":{"account_id":16127083,"reputation":143,"user_id":11641612,"display_name":"Farhaan Shaik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606916064,"creation_date":1606916064,"answer_id":65109139,"question_id":65105218,"body_markdown":"thank you all for the answer&#39;s so the working solution I found are two one is as @Alexey mentioned I should also volume map my script folder to the selenium container as well as below:\r\n\r\n    selenium:\r\n       volumes :\r\n         - .:/workspace\r\n\r\nAbove is a docker oriented solution,  the other one I found is with selenium grid where the grid can detect the files using a file detector, it can be done by adding the following snipet.\r\n\r\n    remoteDriver.setFileDetector(new LocalFileDetector());\r\n\r\nBoth the solutions are working and have solved my problem.\r\n\r\n\r\n","title":"Docker Selenium standalone server is Unable to upload a file to the grid browser in the container","body":"<p>thank you all for the answer's so the working solution I found are two one is as @Alexey mentioned I should also volume map my script folder to the selenium container as well as below:</p>\n<pre><code>selenium:\n   volumes :\n     - .:/workspace\n</code></pre>\n<p>Above is a docker oriented solution,  the other one I found is with selenium grid where the grid can detect the files using a file detector, it can be done by adding the following snipet.</p>\n<pre><code>remoteDriver.setFileDetector(new LocalFileDetector());\n</code></pre>\n<p>Both the solutions are working and have solved my problem.</p>\n"}],"owner":{"account_id":16127083,"reputation":143,"user_id":11641612,"display_name":"Farhaan Shaik"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":942,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":65108101,"answer_count":3,"score":1,"last_activity_date":1684697940,"creation_date":1606900776,"question_id":65105218,"body_markdown":"I have a selenium script that to upload an attachment runs on maven and java and is working fine when run from Local.\r\n\r\nWhen I run it on docker container using selenium standalone server receiving the following exception\r\n\r\n    org.openqa.selenium.InvalidArgumentException: invalid argument: File not found :\r\n\r\nNot sure how to resolve it inside the container, I have verified the file is available\r\n\r\nThe docker compose file Iam using is as follows:\r\n\r\n        version : &#39;3&#39;\r\n    services :\r\n      maven:\r\n        container_name : Maven-Java\r\n        image : maven:3.5.3-jdk-8-alpine\r\n        volumes :\r\n          - .:/workspace\r\n          - ~/.m2:/root/.m2\r\n        depends_on :\r\n          - selenium\r\n        command : mvn -f /workspace test\r\n      selenium:\r\n        container_name : selenium\r\n        image : selenium/standalone-chrome:latest\r\n        volumes:\r\n          - /dev/shm:/dev/shm\r\n        ports :\r\n          - 4444:4444\r\n\r\n","title":"Docker Selenium standalone server is Unable to upload a file to the grid browser in the container","body":"<p>I have a selenium script that to upload an attachment runs on maven and java and is working fine when run from Local.</p>\n<p>When I run it on docker container using selenium standalone server receiving the following exception</p>\n<pre><code>org.openqa.selenium.InvalidArgumentException: invalid argument: File not found :\n</code></pre>\n<p>Not sure how to resolve it inside the container, I have verified the file is available</p>\n<p>The docker compose file Iam using is as follows:</p>\n<pre><code>    version : '3'\nservices :\n  maven:\n    container_name : Maven-Java\n    image : maven:3.5.3-jdk-8-alpine\n    volumes :\n      - .:/workspace\n      - ~/.m2:/root/.m2\n    depends_on :\n      - selenium\n    command : mvn -f /workspace test\n  selenium:\n    container_name : selenium\n    image : selenium/standalone-chrome:latest\n    volumes:\n      - /dev/shm:/dev/shm\n    ports :\n      - 4444:4444\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684549204,"post_id":76293171,"comment_id":134537572,"body_markdown":"Debug with `mvn -X ...` and confirm your theory first.","body":"Debug with <code>mvn -X ...</code> and confirm your theory first."},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":1,"creation_date":1684549216,"post_id":76293171,"comment_id":134537574,"body_markdown":"Have you tried `mvn -U clean install ` ?","body":"Have you tried <code>mvn -U clean install </code> ?"},{"owner":{"account_id":2457081,"reputation":1393,"user_id":2142023,"accept_rate":68,"display_name":"DarkVision"},"score":0,"creation_date":1684550156,"post_id":76293171,"comment_id":134537630,"body_markdown":"you know that mvn clean install -o work in offline assuming you build the other project has -SNAPSHOT if not you can always do the ugly way build the Jar and define in dependency the systemPath to the jar himself","body":"you know that mvn clean install -o work in offline assuming you build the other project has -SNAPSHOT if not you can always do the ugly way build the Jar and define in dependency the systemPath to the jar himself"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1684572266,"post_id":76293171,"comment_id":134539091,"body_markdown":"I would recommend to take a deep look into https://maven.apache.org/resolver/remote-repository-filtering.html","body":"I would recommend to take a deep look into <a href=\"https://maven.apache.org/resolver/remote-repository-filtering.html\" rel=\"nofollow noreferrer\">maven.apache.org/resolver/remote-repository-filtering.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":21985741,"reputation":104,"user_id":16260040,"display_name":"Swapnil"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1684594269,"creation_date":1684554257,"answer_id":76293429,"question_id":76293171,"body_markdown":"    &lt;dependency&gt;\r\n      &lt;groupId&gt;groupId&lt;/groupId&gt;\r\n      &lt;artifactId&gt;artifactId&lt;/artifactId&gt;\r\n      &lt;version&gt;version&lt;/version&gt;\r\n      &lt;scope&gt;system&lt;/scope&gt;\r\n      &lt;systemPath&gt;file path/jar-file.jar&lt;/systemPath&gt;\r\n    &lt;/dependency&gt;\r\n\r\nYou can Add this into your `pom.xml` file then update your project. ","title":"Java/maven: how to force my project to use the local version of a dependency?","body":"<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;groupId&lt;/groupId&gt;\n  &lt;artifactId&gt;artifactId&lt;/artifactId&gt;\n  &lt;version&gt;version&lt;/version&gt;\n  &lt;scope&gt;system&lt;/scope&gt;\n  &lt;systemPath&gt;file path/jar-file.jar&lt;/systemPath&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>You can Add this into your <code>pom.xml</code> file then update your project.</p>\n"},{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684576633,"creation_date":1684576633,"answer_id":76294563,"question_id":76293171,"body_markdown":"First of all: Version ranges like `(0,0),` are evil.\r\n\r\nSure, they are allowed in Maven, but they cause all kind of pain, and they are considered deprecated by many.\r\n\r\nSo, what should you do?\r\n\r\nIf your project Y and project X are so tightly coupled that project Y always needs the latest version of project X, you usually set up a multi-module project with both of them. Then you always build both together, problem solved.\r\n\r\nIf this is not the way for you to go, you can use a `-SNAPSHOT` version of project X in project Y while developing. This allows for easier updates because you do not always need to change the version of the dependency when you rebuild X. Beware, though, that if you build the same SNAPSHOT versions locally and on the build server, it might be confusing which one actually &quot;wins&quot; and is drawn, depending on the specified update policy.","title":"Java/maven: how to force my project to use the local version of a dependency?","body":"<p>First of all: Version ranges like <code>(0,0),</code> are evil.</p>\n<p>Sure, they are allowed in Maven, but they cause all kind of pain, and they are considered deprecated by many.</p>\n<p>So, what should you do?</p>\n<p>If your project Y and project X are so tightly coupled that project Y always needs the latest version of project X, you usually set up a multi-module project with both of them. Then you always build both together, problem solved.</p>\n<p>If this is not the way for you to go, you can use a <code>-SNAPSHOT</code> version of project X in project Y while developing. This allows for easier updates because you do not always need to change the version of the dependency when you rebuild X. Beware, though, that if you build the same SNAPSHOT versions locally and on the build server, it might be confusing which one actually &quot;wins&quot; and is drawn, depending on the specified update policy.</p>\n"}],"owner":{"account_id":1999161,"reputation":2268,"user_id":1790598,"accept_rate":59,"display_name":"mrjayviper"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1684697837,"creation_date":1684544691,"question_id":76293171,"body_markdown":"Might be best explained with an example:\r\n\r\n- I have 2 custom maven projects (let&#39;s call them projectX and projectY).\r\n- projectY is dependent on projectX. projectX has been added to projectY via\r\n\r\n  ```\r\n  &lt;dependency&gt;\r\n      &lt;groupId&gt;com.projectx.core&lt;/groupId&gt;\r\n      &lt;artifactId&gt;projectx.core&lt;/artifactId&gt;\r\n      &lt;version&gt;(0.0),&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n  ```\r\n- In projectX, I made some changes to Constants.java and added a new public constant.\r\n- I&#39;m trying to access this new constant in projectY, but it&#39;s not working. I&#39;m getting this error =&gt; &quot;cannot find symbol: insert-constant-name-here&quot;\r\n- It seems to me that projectY is still referencing an older version of projectX. I believe projectY is still referencing whatever the latest version of projectX is that&#39;s available in our remote mvn repo.\r\n- I have a feeling that if I build projectX and push it to the remote mvn repo, everything will work fine. I cannot do this yet as I need to make more changes to projectX.\r\n","title":"Java/maven: how to force my project to use the local version of a dependency?","body":"<p>Might be best explained with an example:</p>\n<ul>\n<li><p>I have 2 custom maven projects (let's call them projectX and projectY).</p>\n</li>\n<li><p>projectY is dependent on projectX. projectX has been added to projectY via</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.projectx.core&lt;/groupId&gt;\n    &lt;artifactId&gt;projectx.core&lt;/artifactId&gt;\n    &lt;version&gt;(0.0),&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n</li>\n<li><p>In projectX, I made some changes to Constants.java and added a new public constant.</p>\n</li>\n<li><p>I'm trying to access this new constant in projectY, but it's not working. I'm getting this error =&gt; &quot;cannot find symbol: insert-constant-name-here&quot;</p>\n</li>\n<li><p>It seems to me that projectY is still referencing an older version of projectX. I believe projectY is still referencing whatever the latest version of projectX is that's available in our remote mvn repo.</p>\n</li>\n<li><p>I have a feeling that if I build projectX and push it to the remote mvn repo, everything will work fine. I cannot do this yet as I need to make more changes to projectX.</p>\n</li>\n</ul>\n"},{"tags":["java","string","sorting"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":3,"creation_date":1674949222,"post_id":75271649,"comment_id":132823777,"body_markdown":"You should create a class and put the id and value in the class.  Add each instance of the class to a list and sort the list as required.","body":"You should create a class and put the id and value in the class.  Add each instance of the class to a list and sort the list as required."},{"owner":{"account_id":14632062,"reputation":585,"user_id":10671013,"display_name":"Tan Yu Hau Sean"},"score":1,"creation_date":1674965258,"post_id":75271649,"comment_id":132825342,"body_markdown":"other options to consider: Records instead of classes to cut out on boiler plate code, or you could use Tuples (Pair)","body":"other options to consider: Records instead of classes to cut out on boiler plate code, or you could use Tuples (Pair)"}],"answers":[{"tags":[],"owner":{"account_id":16236257,"reputation":11,"user_id":11723691,"display_name":"Gudi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674951521,"creation_date":1674951521,"answer_id":75271808,"question_id":75271649,"body_markdown":"Here is the full [snippet][2], but as WJS [commented][1], create a class:\r\n\r\n    public class Person {\r\n        private String id;\r\n        private int score;\r\n        ...\r\n    }\r\n\r\nThen add these to a List:\r\n\r\n    ...\r\n    String[] parts = s.split(&quot; &quot;);\r\n        \r\n    List&lt;Person&gt; people = new ArrayList&lt;&gt;();\r\n    for (int i = 0; i &lt; parts.length; i += 2) {\r\n        String id = parts[i];\r\n        int score = Integer.parseInt(parts[i+1]);\r\n        people.add(new Person(id, score));\r\n    }\r\n\r\nThen you sort the list by passing a comparator which compares `scores` and if you need it back in a String, join the list with spaces:\r\n\r\n    people.sort((p1, p2) -&gt; Integer.compare(p1.score, p2.score));    \r\n    String result = people.stream().map(Person::toString).collect(Collectors.joining(&quot;,&quot;));\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/75271649/sort-specific-parts-in-string#comment132823777_75271649\r\n  [2]:  http://tpcg.io/_K8FBFS ","title":"Sort specific parts in String","body":"<p>Here is the full <a href=\"http://tpcg.io/_K8FBFS\" rel=\"nofollow noreferrer\">snippet</a>, but as WJS <a href=\"https://stackoverflow.com/questions/75271649/sort-specific-parts-in-string#comment132823777_75271649\">commented</a>, create a class:</p>\n<pre><code>public class Person {\n    private String id;\n    private int score;\n    ...\n}\n</code></pre>\n<p>Then add these to a List:</p>\n<pre><code>...\nString[] parts = s.split(&quot; &quot;);\n    \nList&lt;Person&gt; people = new ArrayList&lt;&gt;();\nfor (int i = 0; i &lt; parts.length; i += 2) {\n    String id = parts[i];\n    int score = Integer.parseInt(parts[i+1]);\n    people.add(new Person(id, score));\n}\n</code></pre>\n<p>Then you sort the list by passing a comparator which compares <code>scores</code> and if you need it back in a String, join the list with spaces:</p>\n<pre><code>people.sort((p1, p2) -&gt; Integer.compare(p1.score, p2.score));    \nString result = people.stream().map(Person::toString).collect(Collectors.joining(&quot;,&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674960868,"creation_date":1674960868,"answer_id":75272336,"question_id":75271649,"body_markdown":"Ok, here is how I did it. I used a record instead of a class as it creates the getters implicitly.  No setters since a record is immutable.\r\n\r\nrecord and data string\r\n```\r\nrecord Data (int id, int score) {\r\n  @Override\r\n  public String toString() {\r\n      return&quot;id=%d, score=%d&quot;.formatted(id, score);\r\n  }\r\n}\r\nString data = &quot;1 456 2 100 3 600 1 400&quot;;\r\n```\r\n- create the list to hold the data\r\n- split on one or more white space characters\r\n- then for each `(id, score) pair`, create an instance of `Data` (I converted both to ints)\r\n- add the instance to the list\r\n- and sort the list\r\n```\r\nList&lt;Data&gt; list = new ArrayList&lt;&gt;();\r\nString[] items = data.split(&quot;\\\\s+&quot;);\r\nfor(int i = 0; i &lt; items.length; i+=2) {\r\n    list.add(new Data(Integer.parseInt(items[i]), Integer.parseInt(items[i+1])));\r\n}\r\nlist.sort(Comparator.comparingInt(Data::value));\r\nfor (Data d : list) {\r\n    System.out.println(d);\r\n}\r\n```\r\nprints\r\n```\r\nid=2, score=100\r\nid=1, score=400\r\nid=1, score=456\r\nid=3, score=600\r\n\r\n\r\n","title":"Sort specific parts in String","body":"<p>Ok, here is how I did it. I used a record instead of a class as it creates the getters implicitly.  No setters since a record is immutable.</p>\n<p>record and data string</p>\n<pre><code>record Data (int id, int score) {\n  @Override\n  public String toString() {\n      return&quot;id=%d, score=%d&quot;.formatted(id, score);\n  }\n}\nString data = &quot;1 456 2 100 3 600 1 400&quot;;\n</code></pre>\n<ul>\n<li>create the list to hold the data</li>\n<li>split on one or more white space characters</li>\n<li>then for each <code>(id, score) pair</code>, create an instance of <code>Data</code> (I converted both to ints)</li>\n<li>add the instance to the list</li>\n<li>and sort the list</li>\n</ul>\n<pre><code>List&lt;Data&gt; list = new ArrayList&lt;&gt;();\nString[] items = data.split(&quot;\\\\s+&quot;);\nfor(int i = 0; i &lt; items.length; i+=2) {\n    list.add(new Data(Integer.parseInt(items[i]), Integer.parseInt(items[i+1])));\n}\nlist.sort(Comparator.comparingInt(Data::value));\nfor (Data d : list) {\n    System.out.println(d);\n}\n</code></pre>\n<p>prints</p>\n<pre><code>id=2, score=100\nid=1, score=400\nid=1, score=456\nid=3, score=600\n\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684697284,"creation_date":1684696905,"answer_id":76301555,"question_id":75271649,"body_markdown":"Great question.\r\n\r\nWhat you can do is use the score as the `key`, and use a list of id&#39;s at the `value`.\r\n\r\nConsider the following.\r\n\r\n```java\r\nMap&lt;Integer, List&lt;Integer&gt;&gt; parse(String string) {\r\n    Map&lt;Integer, List&lt;Integer&gt;&gt; map = new TreeMap&lt;&gt;();\r\n    String[] strings = string.split(&quot; &quot;);\r\n    int id, score;\r\n    for (int index = 0; index &lt; strings.length; index += 2) {\r\n        id = Integer.parseInt(strings[index]);\r\n        score = Integer.parseInt(strings[index + 1]);\r\n        if (map.containsKey(score)) map.get(score).add(id);\r\n        else map.put(score, new ArrayList(Arrays.asList(id)));\r\n    }\r\n    return map;\r\n}\r\n```\r\n\r\nIf we parsed a value of `&quot;1 456 2 100 3 600 1 400&quot;`, we get the following.\r\n\r\n```none\r\n{100=[2], 400=[1], 456=[1], 600=[3]}\r\n```\r\n\r\nAnd, as demonstration, if parsed a value of `&quot;1 456 2 100 3 600 1 400 5 456 6 600&quot;`, we would get this.\r\n\r\n```none\r\n{100=[2], 400=[1], 456=[1, 5], 600=[3, 6]}\r\n```\r\n\r\nThen, for access, you can implement a method similar to the following.\r\n\r\n```java\r\n/** @return null if not found */\r\nList&lt;Integer&gt; scores(int id, Map&lt;Integer, List&lt;Integer&gt;&gt; map) {\r\n    List&lt;Integer&gt; scores = new ArrayList&lt;&gt;();\r\n    for (Map.Entry&lt;Integer, List&lt;Integer&gt;&gt; entry : map.entrySet()) {\r\n        if (entry.getValue().contains(id))\r\n            scores.add(entry.getKey());\r\n    }\r\n    if (scores.isEmpty()) scores = null;\r\n    return scores;\r\n}\r\n```\r\n\r\nOutput for `scores(1, parse(&quot;1 456 2 100 3 600 1 400&quot;))` is the following.\r\n\r\n```none\r\n[400, 456]\r\n```","title":"Sort specific parts in String","body":"<p>Great question.</p>\n<p>What you can do is use the score as the <code>key</code>, and use a list of id's at the <code>value</code>.</p>\n<p>Consider the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Integer, List&lt;Integer&gt;&gt; parse(String string) {\n    Map&lt;Integer, List&lt;Integer&gt;&gt; map = new TreeMap&lt;&gt;();\n    String[] strings = string.split(&quot; &quot;);\n    int id, score;\n    for (int index = 0; index &lt; strings.length; index += 2) {\n        id = Integer.parseInt(strings[index]);\n        score = Integer.parseInt(strings[index + 1]);\n        if (map.containsKey(score)) map.get(score).add(id);\n        else map.put(score, new ArrayList(Arrays.asList(id)));\n    }\n    return map;\n}\n</code></pre>\n<p>If we parsed a value of <code>&quot;1 456 2 100 3 600 1 400&quot;</code>, we get the following.</p>\n<pre class=\"lang-none prettyprint-override\"><code>{100=[2], 400=[1], 456=[1], 600=[3]}\n</code></pre>\n<p>And, as demonstration, if parsed a value of <code>&quot;1 456 2 100 3 600 1 400 5 456 6 600&quot;</code>, we would get this.</p>\n<pre class=\"lang-none prettyprint-override\"><code>{100=[2], 400=[1], 456=[1, 5], 600=[3, 6]}\n</code></pre>\n<p>Then, for access, you can implement a method similar to the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/** @return null if not found */\nList&lt;Integer&gt; scores(int id, Map&lt;Integer, List&lt;Integer&gt;&gt; map) {\n    List&lt;Integer&gt; scores = new ArrayList&lt;&gt;();\n    for (Map.Entry&lt;Integer, List&lt;Integer&gt;&gt; entry : map.entrySet()) {\n        if (entry.getValue().contains(id))\n            scores.add(entry.getKey());\n    }\n    if (scores.isEmpty()) scores = null;\n    return scores;\n}\n</code></pre>\n<p>Output for <code>scores(1, parse(&quot;1 456 2 100 3 600 1 400&quot;))</code> is the following.</p>\n<pre class=\"lang-none prettyprint-override\"><code>[400, 456]\n</code></pre>\n"}],"owner":{"account_id":20172033,"reputation":21,"user_id":14794638,"display_name":"Glandorf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1684697284,"creation_date":1674948978,"question_id":75271649,"body_markdown":"Alright so, I have a String which contains:\r\n```1 456 2 100 3 600 1 400```\r\n\r\nThe 1 is the Id of a person which got a score of 456 and 400.\r\n2 is the Id of a person which got a score of 100 etc.\r\n\r\nI need the String to sort by **values** and not by **id&#39;s**. It should look like this: ```2 100 1 400 1 456 3 600```\r\n\r\nI already tried putting it into a hashmap and sorting it, but since a hashmap doesn&#39;t take identical keys, this is not an option.","title":"Sort specific parts in String","body":"<p>Alright so, I have a String which contains:\n<code>1 456 2 100 3 600 1 400</code></p>\n<p>The 1 is the Id of a person which got a score of 456 and 400.\n2 is the Id of a person which got a score of 100 etc.</p>\n<p>I need the String to sort by <strong>values</strong> and not by <strong>id's</strong>. It should look like this: <code>2 100 1 400 1 456 3 600</code></p>\n<p>I already tried putting it into a hashmap and sorting it, but since a hashmap doesn't take identical keys, this is not an option.</p>\n"},{"tags":["java","spring-boot","jwt","cryptography","oauth2resourceserver"],"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684697146,"creation_date":1684697146,"question_id":76301568,"body_markdown":"I was going through **Symmetric and Assymetric Signatures for JWT** in Spring Security. I came accross this video by **Dan Vega**- https://www.youtube.com/watchv=66DtzkhBlSA&amp;list=PLZV0a2jwt22s5NCKOwSmHVagoDW8nflaC&amp;index=6&amp;ab_channel=DanVega  \r\nHere, in the **SecurityConfig.java**, **Jwt Encoder** and Jwt Decoder are created.\r\n```\r\n @Bean\r\n    public JwtEncoder jwtEncoder() {\r\n        return new NimbusJwtEncoder(new ImmutableSecret&lt;&gt;(jwtKey.getBytes()));\r\n    }\r\n    //Decoder\r\n    @Bean\r\n    public JwtDecoder jwtDecoder() {\r\n        byte[] bytes = jwtKey.getBytes();\r\n        SecretKeySpec originalKey = new SecretKeySpec(bytes, 0, bytes.length, &quot;RSA&quot;);\r\n        logger.info(&quot;Original Key: {}&quot;, originalKey.getEncoded());\r\n        return NimbusJwtDecoder.withSecretKey(originalKey).macAlgorithm(MacAlgorithm.HS512).build();\r\n    }\r\n```\r\n**Generating token-**  \r\n```\r\npackage com.ayushsingh.jwtsymmetric_keydemo.service;\r\n\r\nimport java.time.Instant;\r\nimport java.time.temporal.ChronoUnit;\r\nimport java.util.stream.Collectors;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.oauth2.jose.jws.MacAlgorithm;\r\nimport org.springframework.security.oauth2.jwt.JwsHeader;\r\nimport org.springframework.security.oauth2.jwt.JwtClaimsSet;\r\nimport org.springframework.security.oauth2.jwt.JwtEncoder;\r\nimport org.springframework.security.oauth2.jwt.JwtEncoderParameters;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class TokenService {\r\n\r\n    @Autowired\r\n    private JwtEncoder jwtEncoder;\r\n\r\n    // Method to generate the token\r\n    public String generateToken(Authentication authentication) {\r\n        Instant now = Instant.now(); \r\n        String scope = authentication.getAuthorities().stream()\r\n     \r\n                .map(GrantedAuthority::getAuthority)\r\n              \r\n                .filter(authority -&gt; !authority.startsWith(&quot;ROLE&quot;))\r\n                .collect(Collectors.joining(&quot; &quot;));\r\n        JwtClaimsSet claims = JwtClaimsSet.builder()\r\n                .issuer(&quot;self&quot;) \r\n                .issuedAt(now) \r\n                .expiresAt(now.plus(1, ChronoUnit.HOURS))\r\n                .subject(authentication.getName())\r\n                .claim(&quot;scope&quot;, scope)\r\n                .build();\r\n        var encodedParameters = JwtEncoderParameters.from(JwsHeader.with(MacAlgorithm.HS512).build(), claims); \r\n        return this.jwtEncoder.encode(encodedParameters).getTokenValue(); \r\n\r\n    }\r\n}\r\n\r\n```\r\n**My queries-**  \r\nI understand that we are using the same symmetric key for encryption here as explained in the video and here- https://www.pingidentity.com/en/resources/blog/post/jwt-security-nobody-talks-about.html#:~:text=using%20asymmetric%20signatures.-,Asymmetric%20JWT%20Signatures,verified%20with%20the%20public%20key.  \r\nBut, I am not able to understand why we require a **SecretKeySpec** in the **decoder-**  \r\n```\r\n @Bean\r\n    public JwtDecoder jwtDecoder() {\r\n        byte[] bytes = jwtKey.getBytes();\r\n        SecretKeySpec originalKey = new SecretKeySpec(bytes, 0, bytes.length, &quot;RSA&quot;);\r\n        logger.info(&quot;Original Key: {}&quot;, originalKey.getEncoded());\r\n        return NimbusJwtDecoder.withSecretKey(originalKey).macAlgorithm(MacAlgorithm.HS512).build();\r\n    }\r\n```\r\nWhat does SecretKeySpec exactly do and why we use RSA here? Here, **jwtKey** 9faa372517ac1d389758d3750fc07acf00f542277f26fec1ce4593e93f64e338. The output for \r\n```\r\nlogger.info(&quot;Original Key: {}&quot;, originalKey.getEncoded());\r\n```\r\nis- \r\n```\r\n Original Key: [57, 102, 97, 97, 51, 55, 50, 53, 49, 55, 97, 99, 49, 100, 51, 56, 57, 55, 53, 56, 100, 51, 55, 53, 48, 102, 99, 48, 55, 97, 99, 102, 48, 48, 102, 53, 52, 50, 50, 55, 55, 102, 50, 54, 102, 101, 99, 49, 99, 101, 52, 53, 57, 51, 101, 57, 51, 102, 54, 52, 101, 51, 51, 56]\r\n\r\n```\r\nWhy are we using **RSA** in the decoder! It is not used anywhere else in the implementation. Please help me understand!","title":"Role of SecretKeySpec in NimbusJwtDecoder: Spring Security and JWT","body":"<p>I was going through <strong>Symmetric and Assymetric Signatures for JWT</strong> in Spring Security. I came accross this video by <strong>Dan Vega</strong>- <a href=\"https://www.youtube.com/watchv=66DtzkhBlSA&amp;list=PLZV0a2jwt22s5NCKOwSmHVagoDW8nflaC&amp;index=6&amp;ab_channel=DanVega\" rel=\"nofollow noreferrer\">https://www.youtube.com/watchv=66DtzkhBlSA&amp;list=PLZV0a2jwt22s5NCKOwSmHVagoDW8nflaC&amp;index=6&amp;ab_channel=DanVega</a><br />\nHere, in the <strong>SecurityConfig.java</strong>, <strong>Jwt Encoder</strong> and Jwt Decoder are created.</p>\n<pre><code> @Bean\n    public JwtEncoder jwtEncoder() {\n        return new NimbusJwtEncoder(new ImmutableSecret&lt;&gt;(jwtKey.getBytes()));\n    }\n    //Decoder\n    @Bean\n    public JwtDecoder jwtDecoder() {\n        byte[] bytes = jwtKey.getBytes();\n        SecretKeySpec originalKey = new SecretKeySpec(bytes, 0, bytes.length, &quot;RSA&quot;);\n        logger.info(&quot;Original Key: {}&quot;, originalKey.getEncoded());\n        return NimbusJwtDecoder.withSecretKey(originalKey).macAlgorithm(MacAlgorithm.HS512).build();\n    }\n</code></pre>\n<p><strong>Generating token-</strong></p>\n<pre><code>package com.ayushsingh.jwtsymmetric_keydemo.service;\n\nimport java.time.Instant;\nimport java.time.temporal.ChronoUnit;\nimport java.util.stream.Collectors;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.oauth2.jose.jws.MacAlgorithm;\nimport org.springframework.security.oauth2.jwt.JwsHeader;\nimport org.springframework.security.oauth2.jwt.JwtClaimsSet;\nimport org.springframework.security.oauth2.jwt.JwtEncoder;\nimport org.springframework.security.oauth2.jwt.JwtEncoderParameters;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class TokenService {\n\n    @Autowired\n    private JwtEncoder jwtEncoder;\n\n    // Method to generate the token\n    public String generateToken(Authentication authentication) {\n        Instant now = Instant.now(); \n        String scope = authentication.getAuthorities().stream()\n     \n                .map(GrantedAuthority::getAuthority)\n              \n                .filter(authority -&gt; !authority.startsWith(&quot;ROLE&quot;))\n                .collect(Collectors.joining(&quot; &quot;));\n        JwtClaimsSet claims = JwtClaimsSet.builder()\n                .issuer(&quot;self&quot;) \n                .issuedAt(now) \n                .expiresAt(now.plus(1, ChronoUnit.HOURS))\n                .subject(authentication.getName())\n                .claim(&quot;scope&quot;, scope)\n                .build();\n        var encodedParameters = JwtEncoderParameters.from(JwsHeader.with(MacAlgorithm.HS512).build(), claims); \n        return this.jwtEncoder.encode(encodedParameters).getTokenValue(); \n\n    }\n}\n\n</code></pre>\n<p><strong>My queries-</strong><br />\nI understand that we are using the same symmetric key for encryption here as explained in the video and here- <a href=\"https://www.pingidentity.com/en/resources/blog/post/jwt-security-nobody-talks-about.html#:%7E:text=using%20asymmetric%20signatures.-,Asymmetric%20JWT%20Signatures,verified%20with%20the%20public%20key\" rel=\"nofollow noreferrer\">https://www.pingidentity.com/en/resources/blog/post/jwt-security-nobody-talks-about.html#:~:text=using%20asymmetric%20signatures.-,Asymmetric%20JWT%20Signatures,verified%20with%20the%20public%20key</a>.<br />\nBut, I am not able to understand why we require a <strong>SecretKeySpec</strong> in the <strong>decoder-</strong></p>\n<pre><code> @Bean\n    public JwtDecoder jwtDecoder() {\n        byte[] bytes = jwtKey.getBytes();\n        SecretKeySpec originalKey = new SecretKeySpec(bytes, 0, bytes.length, &quot;RSA&quot;);\n        logger.info(&quot;Original Key: {}&quot;, originalKey.getEncoded());\n        return NimbusJwtDecoder.withSecretKey(originalKey).macAlgorithm(MacAlgorithm.HS512).build();\n    }\n</code></pre>\n<p>What does SecretKeySpec exactly do and why we use RSA here? Here, <strong>jwtKey</strong> 9faa372517ac1d389758d3750fc07acf00f542277f26fec1ce4593e93f64e338. The output for</p>\n<pre><code>logger.info(&quot;Original Key: {}&quot;, originalKey.getEncoded());\n</code></pre>\n<p>is-</p>\n<pre><code> Original Key: [57, 102, 97, 97, 51, 55, 50, 53, 49, 55, 97, 99, 49, 100, 51, 56, 57, 55, 53, 56, 100, 51, 55, 53, 48, 102, 99, 48, 55, 97, 99, 102, 48, 48, 102, 53, 52, 50, 50, 55, 55, 102, 50, 54, 102, 101, 99, 49, 99, 101, 52, 53, 57, 51, 101, 57, 51, 102, 54, 52, 101, 51, 51, 56]\n\n</code></pre>\n<p>Why are we using <strong>RSA</strong> in the decoder! It is not used anywhere else in the implementation. Please help me understand!</p>\n"},{"tags":["java","sorting","linked-list","insert","duplicates"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1506586519,"post_id":46464179,"comment_id":79883108,"body_markdown":"Why not just use a `Set`?","body":"Why not just use a <code>Set</code>?"},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":5,"creation_date":1506586526,"post_id":46464179,"comment_id":79883112,"body_markdown":"Just use `LinkedHashSet`.","body":"Just use <code>LinkedHashSet</code>."},{"owner":{"account_id":7334154,"reputation":873,"user_id":5586115,"display_name":"Frank"},"score":0,"creation_date":1506586578,"post_id":46464179,"comment_id":79883152,"body_markdown":"with set or other data structure don&#39;t forget to implement hashcode and equals for not primitive types","body":"with set or other data structure don&#39;t forget to implement hashcode and equals for not primitive types"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1506586618,"post_id":46464179,"comment_id":79883178,"body_markdown":"Where is `insertWord` defined?","body":"Where is <code>insertWord</code> defined?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1506586683,"post_id":46464179,"comment_id":79883227,"body_markdown":"Your logic fails if it duplicates the last element. You should `return` instead of `break`, and insert unconditionally at the end.","body":"Your logic fails if it duplicates the last element. You should <code>return</code> instead of <code>break</code>, and insert unconditionally at the end."},{"owner":{"account_id":11240701,"reputation":83,"user_id":8245121,"display_name":"William &#197;kerman"},"score":0,"creation_date":1506586721,"post_id":46464179,"comment_id":79883251,"body_markdown":"@shmosel In another main class.","body":"@shmosel In another main class."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1506586768,"post_id":46464179,"comment_id":79883291,"body_markdown":"What&#39;s the logic of scanning for `insertWord` when trying to insert `word`?","body":"What&#39;s the logic of scanning for <code>insertWord</code> when trying to insert <code>word</code>?"},{"owner":{"account_id":11240701,"reputation":83,"user_id":8245121,"display_name":"William &#197;kerman"},"score":0,"creation_date":1506587774,"post_id":46464179,"comment_id":79883938,"body_markdown":"@shmosel see edit, meant `insertWord` to be inserted.","body":"@shmosel see edit, meant <code>insertWord</code> to be inserted."},{"owner":{"account_id":10878617,"reputation":2606,"user_id":7998319,"display_name":"gati sahu"},"score":0,"creation_date":1506588303,"post_id":46464179,"comment_id":79884318,"body_markdown":"Any specific reason not using set.What I am seeing you need a collection which will contain unique word","body":"Any specific reason not using set.What I am seeing you need a collection which will contain unique word"},{"owner":{"account_id":11240701,"reputation":83,"user_id":8245121,"display_name":"William &#197;kerman"},"score":0,"creation_date":1506597222,"post_id":46464179,"comment_id":79890234,"body_markdown":"I used the `list.size()` method to see how large it was after the last time I used it during execution. Then I created a array with that size. Then the time reduced by 15 seconds! Memory ain&#39;t a concern for me.","body":"I used the <code>list.size()</code> method to see how large it was after the last time I used it during execution. Then I created a array with that size. Then the time reduced by 15 seconds! Memory ain&#39;t a concern for me."}],"answers":[{"tags":[],"owner":{"account_id":3245001,"reputation":1589,"user_id":2736843,"accept_rate":75,"display_name":"aUserHimself"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506589350,"creation_date":1506587918,"answer_id":46464644,"question_id":46464179,"body_markdown":"If you would still like to use a `LinkedList` data structure (not a `Set`) and do this with `Java8`, here it is an easy and faster solution:\r\n   \r\n    LinkedList&lt;WordInDocument&gt; list = new LinkedList&lt;&gt;();\r\n    \r\n    public void insert (WordInDocument insertWord) {\r\n        // try to find any matching element\r\n        Optional&lt;WordInDocument&gt; optionalExistingWord =\r\n            list\r\n            .stream()\r\n            .parallel()\r\n            .filter(element -&gt; element.word.equalsIgnoreCase(insertWord.word))\r\n            .findAny();\r\n        // if none is found, add the new element to the list\r\n        if(!optionalExistingWord.isPresent()) {\r\n            list.add(insertWord);\r\n        }\r\n    }\r\n    ","title":"No duplicates after insertion","body":"<p>If you would still like to use a <code>LinkedList</code> data structure (not a <code>Set</code>) and do this with <code>Java8</code>, here it is an easy and faster solution:</p>\n\n<pre><code>LinkedList&lt;WordInDocument&gt; list = new LinkedList&lt;&gt;();\n\npublic void insert (WordInDocument insertWord) {\n    // try to find any matching element\n    Optional&lt;WordInDocument&gt; optionalExistingWord =\n        list\n        .stream()\n        .parallel()\n        .filter(element -&gt; element.word.equalsIgnoreCase(insertWord.word))\n        .findAny();\n    // if none is found, add the new element to the list\n    if(!optionalExistingWord.isPresent()) {\n        list.add(insertWord);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506588759,"creation_date":1506588759,"answer_id":46464955,"question_id":46464179,"body_markdown":"You can remove duplicates via TreeSet:\r\n\r\n\t\tLinkedList&lt;WordInDocument&gt; list = new LinkedList&lt;&gt;();\r\n\t\tTreeSet&lt;WordInDocument&gt; set = new TreeSet&lt;&gt;(\r\n\t\t\t\tnew Comparator&lt;WordInDocument&gt;() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic int compare(WordInDocument d1, WordInDocument d2) {\r\n\t\t\t\t\t\treturn d1.word.compareToIgnoreCase(d2.word);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\tset.addAll(list);\r\n\t\tlist = new LinkedList&lt;WordInDocument&gt;(set);\r\n\r\nthis should be faster","title":"No duplicates after insertion","body":"<p>You can remove duplicates via TreeSet:</p>\n\n<pre><code>    LinkedList&lt;WordInDocument&gt; list = new LinkedList&lt;&gt;();\n    TreeSet&lt;WordInDocument&gt; set = new TreeSet&lt;&gt;(\n            new Comparator&lt;WordInDocument&gt;() {\n                @Override\n                public int compare(WordInDocument d1, WordInDocument d2) {\n                    return d1.word.compareToIgnoreCase(d2.word);\n                }\n            });\n    set.addAll(list);\n    list = new LinkedList&lt;WordInDocument&gt;(set);\n</code></pre>\n\n<p>this should be faster</p>\n"}],"owner":{"account_id":11240701,"reputation":83,"user_id":8245121,"display_name":"William &#197;kerman"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684696690,"creation_date":1506586455,"question_id":46464179,"body_markdown":"I&#39;m (was) trying to make a LinkedList that removes duplicates during the insertion. This is my code:\r\n \r\n    LinkedList&lt;WordInDocument&gt; list = new LinkedList&lt;WordInDocument&gt;();\r\n    /**\r\n     * Insert a word.\r\n\t * \r\n\t * @param insertWord The word that&#39;ll be inserted for, the word and it&#39;s Part Of Speech. \r\n     * If you print &quot;insertWord.word&quot; you&#39;ll get the String of the word.\r\n\t */\r\n\tpublic void insert (Word insertWord) {\r\n\t\tListIterator&lt;WordInDocument&gt; listIt = list.listIterator();\r\n\t\tWordInDocument entry = new WordInDocument(insertWord);\r\n\t\tif (list.isEmpty()) {\r\n\t\t\tlistIt.add(entry);\r\n\t\t}\r\n\t\telse {\r\n\t\t\twhile (listIt.hasNext()) {\r\n                //the iterator iterate with this if-statement, \r\n                //if the iterator finds a equal word, then break\r\n\t\t\t\tif (listIt.next().wordInEntry.word.equalsIgnoreCase(insertWord.word)) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//only true if an equal word wasn&#39;t found, then ad the word at the end\r\n\t\t\tif (!listIt.hasNext()) {\r\n\t\t\t\tlistIt.add (entry);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nBut if it&#39;s a lot of inputs then it takes a long time to execute this (around 1 minute). Is their any better way of removing duplicate values during insertion?\r\n\r\nEDIT:  \r\nThanks for the help. I solved it by using &quot;binary insertion&quot; as I call it. That way it also is sorted after every insertion which I intended to do after the last insertion. Here is my code:\r\n\r\n    WordInDocument[] list = new WordInDocument[MAX_INDEX];\r\n    int currentMaxIndex = 0;\r\n\t/**\r\n\t * Insert a word, it uses binary search to find where to put it, if the\r\n     * current word doesn&#39;t exists, then insert it, this can bee called &quot;Binary insert&quot;.\r\n\t * If the current word already exists, then ignore.\r\n\t * \r\n\t * @param insertword The word that&#39;ll be inserted for, the word and it&#39;s Part Of Speech. \r\n     * If you print &quot;insertWord.word&quot; you&#39;ll get the String of the word.\r\n\t */\r\n\tpublic void insert(Word insertword) { // put element into array\r\n\t\tWordInDocument entry = new WordInDocument(insertword);\r\n        //First element\r\n\t\tif (list[0] == null) {\r\n\t\t\tlist[0] = entry;\r\n\t\t\tcurrentMaxIndex++;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tint inputIndex = binaryInsert(insertword);\r\n\t\t//It&#39;s at the end\r\n\t\tif (list[inputIndex] == null) {\r\n\t\t\tlist[inputIndex] = entry;\r\n\t\t\tcurrentMaxIndex++; \r\n\t\t\treturn;\r\n\t\t}\r\n\t\t//It&#39;s equal to another word\r\n\t\tif (list[inputIndex].wordInEntry.word.equalsIgnoreCase(word.word)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t//It&#39;s between two entries\r\n\t\tfor (int i = currentMaxIndex; i &gt; inputIndex; i--) { // move bigger ones one up.\r\n\t\t\tlist[i] = list[i - 1];\r\n\t\t}\r\n\t\tlist[inputIndex] = entry;\r\n\t\tcurrentMaxIndex++;\r\n\t}\r\n\t\r\n\t private int binaryInsert(Word word) {\r\n\t\tint lowerBound = 0;\r\n\t\tint upperBound = currentMaxIndex - 1;\r\n        int compareStrings = list[mid].wordInEntry.word.compareToIgnoreCase(word.word);\r\n\t\twhile (true) {\r\n\t\t\tint mid = (upperBound + lowerBound) / 2;\r\n\t\t\tif (lowerBound == mid) {\r\n\t\t\t\tif (compareStrings &gt; 0) {\r\n\t\t\t\t\treturn mid;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (compareStrings &lt; 0) {\r\n\t\t\t\tlowerBound = mid + 1; // its in the upper\r\n\t\t\t\tif (lowerBound &gt; upperBound) {\r\n\t\t\t\t\treturn mid += 1;\r\n\t\t\t\t}\r\n\t\t\t} else if (lowerBound &gt; upperBound) {\r\n\t\t\t\treturn mid;\r\n\t\t\t} else {\r\n\t\t\t\tupperBound = mid - 1; // its in the lower\r\n\t\t\t}\r\n\t\t}\r\n\t }\r\n\r\nNow it takes 2 seconds instead of 45 seconds.","title":"No duplicates after insertion","body":"<p>I'm (was) trying to make a LinkedList that removes duplicates during the insertion. This is my code:</p>\n<pre><code>LinkedList&lt;WordInDocument&gt; list = new LinkedList&lt;WordInDocument&gt;();\n/**\n * Insert a word.\n * \n * @param insertWord The word that'll be inserted for, the word and it's Part Of Speech. \n * If you print &quot;insertWord.word&quot; you'll get the String of the word.\n */\npublic void insert (Word insertWord) {\n    ListIterator&lt;WordInDocument&gt; listIt = list.listIterator();\n    WordInDocument entry = new WordInDocument(insertWord);\n    if (list.isEmpty()) {\n        listIt.add(entry);\n    }\n    else {\n        while (listIt.hasNext()) {\n            //the iterator iterate with this if-statement, \n            //if the iterator finds a equal word, then break\n            if (listIt.next().wordInEntry.word.equalsIgnoreCase(insertWord.word)) {\n                break;\n            }\n        }\n        //only true if an equal word wasn't found, then ad the word at the end\n        if (!listIt.hasNext()) {\n            listIt.add (entry);\n        }\n    }\n}\n</code></pre>\n<p>But if it's a lot of inputs then it takes a long time to execute this (around 1 minute). Is their any better way of removing duplicate values during insertion?</p>\n<p>EDIT:<br />\nThanks for the help. I solved it by using &quot;binary insertion&quot; as I call it. That way it also is sorted after every insertion which I intended to do after the last insertion. Here is my code:</p>\n<pre><code>WordInDocument[] list = new WordInDocument[MAX_INDEX];\nint currentMaxIndex = 0;\n/**\n * Insert a word, it uses binary search to find where to put it, if the\n * current word doesn't exists, then insert it, this can bee called &quot;Binary insert&quot;.\n * If the current word already exists, then ignore.\n * \n * @param insertword The word that'll be inserted for, the word and it's Part Of Speech. \n * If you print &quot;insertWord.word&quot; you'll get the String of the word.\n */\npublic void insert(Word insertword) { // put element into array\n    WordInDocument entry = new WordInDocument(insertword);\n    //First element\n    if (list[0] == null) {\n        list[0] = entry;\n        currentMaxIndex++;\n        return;\n    }\n    int inputIndex = binaryInsert(insertword);\n    //It's at the end\n    if (list[inputIndex] == null) {\n        list[inputIndex] = entry;\n        currentMaxIndex++; \n        return;\n    }\n    //It's equal to another word\n    if (list[inputIndex].wordInEntry.word.equalsIgnoreCase(word.word)) {\n        return;\n    }\n    //It's between two entries\n    for (int i = currentMaxIndex; i &gt; inputIndex; i--) { // move bigger ones one up.\n        list[i] = list[i - 1];\n    }\n    list[inputIndex] = entry;\n    currentMaxIndex++;\n}\n\n private int binaryInsert(Word word) {\n    int lowerBound = 0;\n    int upperBound = currentMaxIndex - 1;\n    int compareStrings = list[mid].wordInEntry.word.compareToIgnoreCase(word.word);\n    while (true) {\n        int mid = (upperBound + lowerBound) / 2;\n        if (lowerBound == mid) {\n            if (compareStrings &gt; 0) {\n                return mid;\n            }\n        }\n        if (compareStrings &lt; 0) {\n            lowerBound = mid + 1; // its in the upper\n            if (lowerBound &gt; upperBound) {\n                return mid += 1;\n            }\n        } else if (lowerBound &gt; upperBound) {\n            return mid;\n        } else {\n            upperBound = mid - 1; // its in the lower\n        }\n    }\n }\n</code></pre>\n<p>Now it takes 2 seconds instead of 45 seconds.</p>\n"},{"tags":["javascript","java","string","object","properties"],"comments":[{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":4,"creation_date":1675064706,"post_id":75281407,"comment_id":132840036,"body_markdown":"There is, if you&#39;re prepared to go down the dark road of [Java reflection](https://www.oracle.com/technical-resources/articles/java/javareflection.html).","body":"There is, if you&#39;re prepared to go down the dark road of <a href=\"https://www.oracle.com/technical-resources/articles/java/javareflection.html\" rel=\"nofollow noreferrer\">Java reflection</a>."},{"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"score":1,"creation_date":1675064972,"post_id":75281407,"comment_id":132840092,"body_markdown":"For simple use cases though, you generally don&#39;t want to","body":"For simple use cases though, you generally don&#39;t want to"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684695215,"post_id":75281407,"comment_id":134550896,"body_markdown":"@RobbyCornelissen, lol, I agree to an extent.  There are some complexities with reflection, although the fundamentals aren&#39;t too extraneous.  It&#39;s incredibly abstract, in terms of how it&#39;s structured, in relation to the general portion of the JDK.","body":"@RobbyCornelissen, lol, I agree to an extent.  There are some complexities with reflection, although the fundamentals aren&#39;t too extraneous.  It&#39;s incredibly abstract, in terms of how it&#39;s structured, in relation to the general portion of the JDK."}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675066379,"creation_date":1675066379,"answer_id":75281680,"question_id":75281407,"body_markdown":"You could use the [Apache OGNL language](https://commons.apache.org/proper/commons-ognl/language-guide.html), it is an external dependency that allows you to access properties with names in strings. \r\n\r\nIt has many more features, but you cannot expect that it simply expands your Java syntax - you will have to evaluate a String that contains an expression in that language.\r\n\r\nIn some cases you can embed it, like in Apache Camel, where it is &quot;just another expression language&quot;.","title":"Is there a way of accessing the properties of an object in java by using a string to represent the property&#39;s name, just like in JavaScript?","body":"<p>You could use the <a href=\"https://commons.apache.org/proper/commons-ognl/language-guide.html\" rel=\"nofollow noreferrer\">Apache OGNL language</a>, it is an external dependency that allows you to access properties with names in strings.</p>\n<p>It has many more features, but you cannot expect that it simply expands your Java syntax - you will have to evaluate a String that contains an expression in that language.</p>\n<p>In some cases you can embed it, like in Apache Camel, where it is &quot;just another expression language&quot;.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684695251,"creation_date":1684685591,"answer_id":76300816,"question_id":75281407,"body_markdown":"No, it&#39;s not part of the syntax.\r\n\r\n[Oracle, Chapter 18 - Syntax](https://docs.oracle.com/javase/specs/jls/se7/html/jls-18.html)\r\n\r\nYou could use reflection, if that suits your needs.  \r\nJava reflection offers the ability to access objects, fields, and methods via `String` values, and other methods, if need be.\r\n\r\nConsider the following class.\r\n\r\n```java\r\nclass Example {\r\n    String string = &quot;stack overflow&quot;;\r\n\r\n    int method(int valueA, int valueB) {\r\n        return valueA + valueB;\r\n    }\r\n}\r\n```\r\n\r\nIf you want to access the field `string`, you can use the following.\r\n\r\n```java\r\nExample example = new Example();\r\nField field = example.getClass().getDeclaredField(&quot;string&quot;);\r\nString string = field.get(example);\r\n```\r\n\r\nIf you want to call `method`, you can use the following.\r\n\r\n```java\r\nExample example = new Example();\r\nMethod method = example.getClass().getDeclaredMethod(&quot;method&quot;, int.class, int.class);\r\nint value = (int) method.invoke(example, 1, 2);\r\n```","title":"Is there a way of accessing the properties of an object in java by using a string to represent the property&#39;s name, just like in JavaScript?","body":"<p>No, it's not part of the syntax.</p>\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-18.html\" rel=\"nofollow noreferrer\">Oracle, Chapter 18 - Syntax</a></p>\n<p>You could use reflection, if that suits your needs.<br />\nJava reflection offers the ability to access objects, fields, and methods via <code>String</code> values, and other methods, if need be.</p>\n<p>Consider the following class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Example {\n    String string = &quot;stack overflow&quot;;\n\n    int method(int valueA, int valueB) {\n        return valueA + valueB;\n    }\n}\n</code></pre>\n<p>If you want to access the field <code>string</code>, you can use the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Example example = new Example();\nField field = example.getClass().getDeclaredField(&quot;string&quot;);\nString string = field.get(example);\n</code></pre>\n<p>If you want to call <code>method</code>, you can use the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Example example = new Example();\nMethod method = example.getClass().getDeclaredMethod(&quot;method&quot;, int.class, int.class);\nint value = (int) method.invoke(example, 1, 2);\n</code></pre>\n"}],"owner":{"account_id":14357818,"reputation":213,"user_id":10371141,"display_name":"Dark Rebellion"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":296,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1684695251,"creation_date":1675064474,"question_id":75281407,"body_markdown":"In JavaScript you can access a property of an object in two ways:\r\n```\r\nobject.property\r\nobject[&quot;property&quot;]\r\n```\r\nIn Java, I am only aware of the first way. Is there a way to access a Java object&#39;s properties by using a string as well?","title":"Is there a way of accessing the properties of an object in java by using a string to represent the property&#39;s name, just like in JavaScript?","body":"<p>In JavaScript you can access a property of an object in two ways:</p>\n<pre><code>object.property\nobject[&quot;property&quot;]\n</code></pre>\n<p>In Java, I am only aware of the first way. Is there a way to access a Java object's properties by using a string as well?</p>\n"},{"tags":["java","string","recursion"],"comments":[{"owner":{"account_id":967624,"reputation":10828,"user_id":990750,"accept_rate":50,"display_name":"Tarik"},"score":0,"creation_date":1684679557,"post_id":76300384,"comment_id":134548973,"body_markdown":"Duplicate words or duplicate characters?","body":"Duplicate words or duplicate characters?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1684679633,"post_id":76300384,"comment_id":134548978,"body_markdown":"We can&#39;t run debugger on code which *doesn&#39;t compile*. Note that there is no *declaration of `i`* variable in your example. There is `idx`.","body":"We can&#39;t run debugger on code which <i>doesn&#39;t compile</i>. Note that there is no <i>declaration of <code>i</code></i> variable in your example. There is <code>idx</code>."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1684679900,"post_id":76300384,"comment_id":134549010,"body_markdown":"Anyway as already mentioned in previous (now deleted) comment, at `DeDupe(s,idx++,s1);` the `idx++` returns original value of `idx`, not incremented one. You need `idx+1` or `++idx` instead.","body":"Anyway as already mentioned in previous (now deleted) comment, at <code>DeDupe(s,idx++,s1);</code> the <code>idx++</code> returns original value of <code>idx</code>, not incremented one. You need <code>idx+1</code> or <code>++idx</code> instead."},{"owner":{"account_id":967624,"reputation":10828,"user_id":990750,"accept_rate":50,"display_name":"Tarik"},"score":0,"creation_date":1684679989,"post_id":76300384,"comment_id":134549023,"body_markdown":"Assuming you want to deduplicate characters: The base case is that a single character is a deduplicated string. In case of 2 or more characters, deduplicate substring 0 to n-2 then check that if character n is contained in the deduplicated substring","body":"Assuming you want to deduplicate characters: The base case is that a single character is a deduplicated string. In case of 2 or more characters, deduplicate substring 0 to n-2 then check that if character n is contained in the deduplicated substring"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1684680350,"creation_date":1684680350,"answer_id":76300461,"question_id":76300384,"body_markdown":"You are use the &quot;postfix&quot; unary operator on your recursive call to `DeDupe`.\r\n\r\n```java\r\nDeDupe(s,i++,s1);\r\n```\r\n\r\nSo, essentially, `i` stays at `0`, and loops indefinitely.\r\n\r\nChange it to a &quot;prefix&quot; operator, or just `i + 1`, to get a result.","title":"I am getting stack overflow error in the following code ... not sure what am i missing here?","body":"<p>You are use the &quot;postfix&quot; unary operator on your recursive call to <code>DeDupe</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>DeDupe(s,i++,s1);\n</code></pre>\n<p>So, essentially, <code>i</code> stays at <code>0</code>, and loops indefinitely.</p>\n<p>Change it to a &quot;prefix&quot; operator, or just <code>i + 1</code>, to get a result.</p>\n"},{"tags":[],"owner":{"account_id":23477672,"reputation":45,"user_id":17530250,"display_name":"Pavol Varga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684682422,"creation_date":1684682422,"answer_id":76300610,"question_id":76300384,"body_markdown":"I see that &quot;DeDupe&quot; method of yours is void,&lt;br&gt;\r\nbut even the String is an object in java,&lt;br&gt;\r\nit is not passed by a reference but as a value,&lt;br&gt;\r\nbecause String is immutable.&lt;br&gt;\r\nAnd after all the processing, no result is produced anyway.","title":"I am getting stack overflow error in the following code ... not sure what am i missing here?","body":"<p>I see that &quot;DeDupe&quot; method of yours is void,<br>\nbut even the String is an object in java,<br>\nit is not passed by a reference but as a value,<br>\nbecause String is immutable.<br>\nAnd after all the processing, no result is produced anyway.</p>\n"}],"owner":{"account_id":20645978,"reputation":11,"user_id":15157488,"display_name":"Yukta Jaiswal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1684693906,"creation_date":1684679134,"question_id":76300384,"body_markdown":"\r\n````\r\nimport java.util.Scanner;\r\n\r\npublic class RemoveDuplicates {\r\n\tpublic static boolean ar[]=new boolean[26];\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tScanner sc=new Scanner(System.in);\r\n\t\tString s=sc.nextLine();\r\n\t\tDeDupe(s,0,&quot;&quot;);\r\n\r\n\t}\r\n\tpublic static void DeDupe(String s,int idx,String s1)\r\n\t{\r\n\t\tif(idx==s.length())\r\n\t\t{\r\n\t\t\tSystem.out.println(s1);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(ar[s.charAt(idx)-&#39;a&#39;]==false)\r\n\t\t{\r\n\t\t\ts1+=s.charAt(idx);\r\n\t\t\t//System.out.print(s1);\r\n\t\t\tar[s.charAt(idx)-&#39;a&#39;]=true;\r\n\t\t}\r\n\t\tDeDupe(s,idx++,s1);\r\n\t}\r\n\r\n}\r\n````\r\n\r\n\r\n\r\n\r\nTrying to solve remove duplicates from string question using recursion... i am getting stack overflow error ..added the base condition not sure what am i missing","title":"I am getting stack overflow error in the following code ... not sure what am i missing here?","body":"<pre><code>import java.util.Scanner;\n\npublic class RemoveDuplicates {\n    public static boolean ar[]=new boolean[26];\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        Scanner sc=new Scanner(System.in);\n        String s=sc.nextLine();\n        DeDupe(s,0,&quot;&quot;);\n\n    }\n    public static void DeDupe(String s,int idx,String s1)\n    {\n        if(idx==s.length())\n        {\n            System.out.println(s1);\n            return;\n        }\n        if(ar[s.charAt(idx)-'a']==false)\n        {\n            s1+=s.charAt(idx);\n            //System.out.print(s1);\n            ar[s.charAt(idx)-'a']=true;\n        }\n        DeDupe(s,idx++,s1);\n    }\n\n}\n</code></pre>\n<p>Trying to solve remove duplicates from string question using recursion... i am getting stack overflow error ..added the base condition not sure what am i missing</p>\n"},{"tags":["java","sql","ms-access-2016","callable-statement","dynamic-queries"],"owner":{"account_id":24662153,"reputation":21,"user_id":18558259,"display_name":"AvivAvocado"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684693070,"creation_date":1684693070,"question_id":76301311,"body_markdown":"I am trying to execute an append, delete and update query in my java code. I use mc access database and I have the queries prepeared in my database and they work just fine when I execute them from access directly.\r\nAlso, I have a few Select queries that work just fine from the code. The problem occurs only with the update/delete/etc.\r\n\r\nThe following is my Consts class that establishes the connection to the database and the consts that have the queries saved in them:\r\n\r\n```\r\npackage entity;\r\n\r\nimport java.net.URLDecoder;\r\n\r\n///**\r\n //* http://www.javapractices.com/topic/TopicAction.do?Id=2\r\n //*/\r\npublic final class Consts {\r\n\tprivate Consts() {\r\n\t\tthrow new AssertionError();\r\n\t}\r\n\r\n\tprotected static final String DB_FILEPATH = getDBPath();\r\n\tpublic static final String CONN_STR = &quot;jdbc:ucanaccess://&quot; + DB_FILEPATH + &quot;;COLUMNORDER=DISPLAY&quot;;\r\n\t\r\n\t\r\n\t//----------------------------------------- PARTICIPANT LIST QUERIES -----------------------------------------/\r\n\tpublic static final String SQL_SEL_APPROVED_PARTICIPANT = &quot;{ call qryFindApprovedFriends(?) }&quot;;\r\n\tpublic static final String SQL_SEL_WAITING_PARTICIPANT = &quot;{ call qryFindWaitingFriends(?) }&quot;;\r\n\tpublic static final String SQL_UPD_TO_APPROVED_PARTICIPANT = &quot;{ call qryUpdParticipantToApproved(?,?) }&quot;;// think how to find the friend and add to friendList maybe add find qry\r\n\tpublic static final String SQL_UPD_TO_DENIED_PARTICIPANT = &quot;{ call qryUpdParticipantToDenied(?,?) }&quot;;\r\n\tpublic static final String SQL_DEL_FRIEND = &quot;{ call qryDelFriend(?,?) }&quot;;\r\n\tpublic static final String SQL_INS_NEW_FRIEND_REQUEST = &quot;{ call qryInsNewFriend(?,?) }&quot;;\r\n\t\r\n\r\n\t/**\r\n\t * find the correct path of the DB file\r\n     * @return the path of the DB file (from eclipse or with runnable file)\r\n\t */\r\n\tprivate static String getDBPath() {\r\n\t\ttry {\r\n\t\t\tString path = Consts.class.getProtectionDomain().getCodeSource().getLocation().getPath();\r\n\t\t\tString decoded = URLDecoder.decode(path, &quot;UTF-8&quot;);\r\n\t\t\t// System.out.println(decoded) - Can help to check the returned path\r\n\t\t\tif (decoded.contains(&quot;.jar&quot;)) {\r\n\t\t\t\tdecoded = decoded.substring(0, decoded.lastIndexOf(&#39;/&#39;));\r\n\t\t\t\treturn decoded + &quot;/database/HW1_Database_211923158_207975632.accdb&quot;;\r\n\t\t\t} else {\r\n\t\t\t\tdecoded = decoded.substring(0, decoded.lastIndexOf(&quot;bin/&quot;));\r\n\t\t\t\tSystem.out.println(decoded);\r\n\t\t\t\treturn decoded + &quot;//HW1_Database_211923158_207975632.accdb&quot;;\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nNext, I have ParticipantLogic class that actually handels all the callings to the queries. The problem occurs in removeFriend, addFriend methods inside the try block, when the code tries to connect to the related queries in my database and throws this exception: UCAExc:::3.0.7 user lacks privilege or object not found: QRYINSNEWFRIEND.\r\n \r\n```\r\npackage control;\r\nimport entity.Participant;\r\nimport java.sql.CallableStatement;\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.util.ArrayList;\r\nimport entity.Consts;\r\n\r\npublic class ParticipantLogic {\r\n\tprivate static ParticipantLogic _instance;\r\n\r\n\tprivate ParticipantLogic() {\r\n\t}\r\n\r\n\tpublic static ParticipantLogic getInstance() {\r\n\t\tif (_instance == null)\r\n\t\t\t_instance = new ParticipantLogic();\r\n\t\treturn _instance;\r\n\t}\r\n\t// select all approved participant\r\n\t\r\n\tpublic ArrayList&lt;Participant&gt; getApprovedParticipant(long firstPhone) {\r\n\t\tArrayList&lt;Participant&gt; results = new ArrayList&lt;Participant&gt;();\r\n\t\ttry {\r\n\t\t\tClass.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\r\n\t\t\ttry (Connection conn = DriverManager.getConnection(Consts.CONN_STR);\r\n\t\t\t\t\tPreparedStatement stmt = conn.prepareStatement(Consts.SQL_SEL_APPROVED_PARTICIPANT))\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\tstmt.setLong(1, firstPhone);\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tResultSet rs = stmt.executeQuery();\r\n\t\t\t\twhile (rs.next()) {\r\n\t\t\t\t\tint i = 1;\r\n\t\t\t\t\tresults.add(new Participant(rs.getLong(i++), rs.getString(i++), rs.getString(i++)));\r\n\t\t\t\t}\r\n\t\t\t} catch (SQLException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t} catch (ClassNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn results;\r\n\t}\r\n\t\r\n\t// select all waiting participant\r\n\t\r\n\tpublic ArrayList&lt;Participant&gt; getWaitingParticipant(Long phone) {\r\n\t\t\tArrayList&lt;Participant&gt; results = new ArrayList&lt;Participant&gt;();\r\n\t\t\ttry {\r\n\t\t\t\tClass.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\r\n\t\t\t\ttry (Connection conn = DriverManager.getConnection(Consts.CONN_STR);\r\n\t\t\t\t\t\tPreparedStatement stmt = conn.prepareStatement(Consts.SQL_SEL_WAITING_PARTICIPANT))\r\n\t\t\t\t\t\t\t\t{\t\t\t\t\t\t\r\n\t\t\t\t\t\tstmt.setLong(1, phone);\r\n\t\t\t\t\t\tResultSet rs = stmt.executeQuery(); \r\n\t\t\t\t\twhile (rs.next()) {\r\n\t\t\t\t\t\tint i = 1;\r\n\t\t\t\t\t\tresults.add(new Participant(rs.getLong(i++), rs.getString(i++), rs.getString(i++)));\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (SQLException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t} catch (ClassNotFoundException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\treturn results;\r\n\t\t}\r\n\t\t//delete friend \r\n\t\t\r\n\t\tpublic boolean removeFriend(long firstPhone,long secondphone) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tClass.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\r\n\t\t\t\t\t\ttry (Connection conn = DriverManager.getConnection(Consts.CONN_STR);\r\n\t\t\t\t\t\t\t\tCallableStatement stmt = conn.prepareCall(Consts.SQL_DEL_FRIEND)) {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tstmt.setLong(1, firstPhone);\r\n\t\t\t\t\t\t\tstmt.setLong(2, secondphone);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tstmt.executeUpdate();\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t} catch (SQLException e) {\r\n\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (ClassNotFoundException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t// new friend request\r\n\t\tpublic boolean addFriend(long firstPhone,long secondphone) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tSystem.out.println(&quot;test1&quot;);\r\n\t\t\t\t\t\tClass.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\r\n\t\t\t\t\t\ttry (Connection conn = DriverManager.getConnection(Consts.CONN_STR);\r\n\t\t\t\t\t\t\t\tCallableStatement stmt = conn.prepareCall(Consts.SQL_INS_NEW_FRIEND_REQUEST)) {\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;test2&quot;);\r\n\t\t\t\t\t\t\tint i = 1;\r\n\t\t\t\t\t\t\tstmt.setLong(i++, firstPhone); // can&#39;t be null\r\n\t\t\t\t\t\t\tstmt.setLong(i++, secondphone); // can&#39;t be null\r\n\t\t\t\t\t\t\tstmt.executeUpdate();\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;test3&quot;);\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t} catch (SQLException e) {\r\n\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (ClassNotFoundException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t//accept friend \r\n\t\tpublic boolean acceptFriend(long firstPhone,long secondphone ) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tClass.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\r\n\t\t\t\t\t\ttry (Connection conn = DriverManager.getConnection(Consts.CONN_STR);\r\n\t\t\t\t\t\t\t\tCallableStatement stmt = conn.prepareCall(Consts.SQL_UPD_TO_APPROVED_PARTICIPANT)) {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tint i = 1;\r\n\t\t\t\t\t\t\tstmt.setLong(i++, firstPhone); // can&#39;t be null\r\n\t\t\t\t\t\t\tstmt.setLong(i++, secondphone); // can&#39;t be null\r\n\t\t\t\t\t\t\tstmt.setString(i++, &quot;APPROVED&quot;);\r\n\t\t\t\t\t\t\tstmt.executeUpdate();\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t} catch (SQLException e) {\r\n\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (ClassNotFoundException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t//decline friend \r\n\t\tpublic boolean declineFriend(long firstPhone,long secondphone ) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tClass.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\r\n\t\t\t\t\t\ttry (Connection conn = DriverManager.getConnection(Consts.CONN_STR);\r\n\t\t\t\t\t\t\t\tCallableStatement stmt = conn.prepareCall(Consts. SQL_UPD_TO_DENIED_PARTICIPANT)) {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tint i = 1;\r\n\t\t\t\t\t\t\tstmt.setLong(i++, firstPhone); // can&#39;t be null\r\n\t\t\t\t\t\t\tstmt.setLong(i++, secondphone); // can&#39;t be null\r\n\t\t\t\t\t\t\tstmt.setString(i++, &quot;DENIED&quot;);\r\n\t\t\t\t\t\t\tstmt.executeUpdate();\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t} catch (SQLException e) {\r\n\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (ClassNotFoundException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\t\r\n\r\n}\r\n```\r\nAlso, I don&#39;t know if this helps but here are the SQL for the queries:\r\nqryInsNewFriend:\r\n\r\n```\r\nINSERT INTO TblFriends ( ParticipantPhone, FriendPhone, Status )\r\nSELECT [1] AS Expr1, [2] AS Expr2, &quot;WAITING&quot; AS Expr3;\r\n\r\n```\r\nqryDelFriend:\r\n\r\n```\r\nDELETE TblFriends.ParticipantPhone, TblFriends.FriendPhone\r\nFROM TblFriends\r\nWHERE (((TblFriends.ParticipantPhone)=[1]) AND ((TblFriends.FriendPhone)=[2]));\r\n\r\n```\r\nI tried to check my security options and everything is fine. I tried to repair my database, also I created a new database with the same entries and connected that database to the code to see if the problem occurs again and it did. I tested this on a different computer and this happend again. I tried to change Callable to PrepearedStatement and it didn&#39;t work. Moreover, this code snnipet inside ParticipantLogic was given to us by our instructors in uni and other students used this same code with minor changes to variable names and everything worked fine for them. I can&#39;t find a reason for this code to not work.\r\nAlso, I didn&#39;t test the other two update queries but I assume they have the same problem as it seems it has something to do with the query type.\r\n\r\nThanks from advance.","title":"UCAExc:::3.0.7 user lacks privilege or object not found, when trying to execute specifically update/delete/append queries","body":"<p>I am trying to execute an append, delete and update query in my java code. I use mc access database and I have the queries prepeared in my database and they work just fine when I execute them from access directly.\nAlso, I have a few Select queries that work just fine from the code. The problem occurs only with the update/delete/etc.</p>\n<p>The following is my Consts class that establishes the connection to the database and the consts that have the queries saved in them:</p>\n<pre><code>package entity;\n\nimport java.net.URLDecoder;\n\n///**\n //* http://www.javapractices.com/topic/TopicAction.do?Id=2\n //*/\npublic final class Consts {\n    private Consts() {\n        throw new AssertionError();\n    }\n\n    protected static final String DB_FILEPATH = getDBPath();\n    public static final String CONN_STR = &quot;jdbc:ucanaccess://&quot; + DB_FILEPATH + &quot;;COLUMNORDER=DISPLAY&quot;;\n    \n    \n    //----------------------------------------- PARTICIPANT LIST QUERIES -----------------------------------------/\n    public static final String SQL_SEL_APPROVED_PARTICIPANT = &quot;{ call qryFindApprovedFriends(?) }&quot;;\n    public static final String SQL_SEL_WAITING_PARTICIPANT = &quot;{ call qryFindWaitingFriends(?) }&quot;;\n    public static final String SQL_UPD_TO_APPROVED_PARTICIPANT = &quot;{ call qryUpdParticipantToApproved(?,?) }&quot;;// think how to find the friend and add to friendList maybe add find qry\n    public static final String SQL_UPD_TO_DENIED_PARTICIPANT = &quot;{ call qryUpdParticipantToDenied(?,?) }&quot;;\n    public static final String SQL_DEL_FRIEND = &quot;{ call qryDelFriend(?,?) }&quot;;\n    public static final String SQL_INS_NEW_FRIEND_REQUEST = &quot;{ call qryInsNewFriend(?,?) }&quot;;\n    \n\n    /**\n     * find the correct path of the DB file\n     * @return the path of the DB file (from eclipse or with runnable file)\n     */\n    private static String getDBPath() {\n        try {\n            String path = Consts.class.getProtectionDomain().getCodeSource().getLocation().getPath();\n            String decoded = URLDecoder.decode(path, &quot;UTF-8&quot;);\n            // System.out.println(decoded) - Can help to check the returned path\n            if (decoded.contains(&quot;.jar&quot;)) {\n                decoded = decoded.substring(0, decoded.lastIndexOf('/'));\n                return decoded + &quot;/database/HW1_Database_211923158_207975632.accdb&quot;;\n            } else {\n                decoded = decoded.substring(0, decoded.lastIndexOf(&quot;bin/&quot;));\n                System.out.println(decoded);\n                return decoded + &quot;//HW1_Database_211923158_207975632.accdb&quot;;\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n}\n</code></pre>\n<p>Next, I have ParticipantLogic class that actually handels all the callings to the queries. The problem occurs in removeFriend, addFriend methods inside the try block, when the code tries to connect to the related queries in my database and throws this exception: UCAExc:::3.0.7 user lacks privilege or object not found: QRYINSNEWFRIEND.</p>\n<pre><code>package control;\nimport entity.Participant;\nimport java.sql.CallableStatement;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.util.ArrayList;\nimport entity.Consts;\n\npublic class ParticipantLogic {\n    private static ParticipantLogic _instance;\n\n    private ParticipantLogic() {\n    }\n\n    public static ParticipantLogic getInstance() {\n        if (_instance == null)\n            _instance = new ParticipantLogic();\n        return _instance;\n    }\n    // select all approved participant\n    \n    public ArrayList&lt;Participant&gt; getApprovedParticipant(long firstPhone) {\n        ArrayList&lt;Participant&gt; results = new ArrayList&lt;Participant&gt;();\n        try {\n            Class.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\n            try (Connection conn = DriverManager.getConnection(Consts.CONN_STR);\n                    PreparedStatement stmt = conn.prepareStatement(Consts.SQL_SEL_APPROVED_PARTICIPANT))\n                            {\n                    stmt.setLong(1, firstPhone);\n                    \n                    \n                    ResultSet rs = stmt.executeQuery();\n                while (rs.next()) {\n                    int i = 1;\n                    results.add(new Participant(rs.getLong(i++), rs.getString(i++), rs.getString(i++)));\n                }\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n        }\n        return results;\n    }\n    \n    // select all waiting participant\n    \n    public ArrayList&lt;Participant&gt; getWaitingParticipant(Long phone) {\n            ArrayList&lt;Participant&gt; results = new ArrayList&lt;Participant&gt;();\n            try {\n                Class.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\n                try (Connection conn = DriverManager.getConnection(Consts.CONN_STR);\n                        PreparedStatement stmt = conn.prepareStatement(Consts.SQL_SEL_WAITING_PARTICIPANT))\n                                {                       \n                        stmt.setLong(1, phone);\n                        ResultSet rs = stmt.executeQuery(); \n                    while (rs.next()) {\n                        int i = 1;\n                        results.add(new Participant(rs.getLong(i++), rs.getString(i++), rs.getString(i++)));\n                    }\n                } catch (SQLException e) {\n                    e.printStackTrace();\n                }\n            } catch (ClassNotFoundException e) {\n                e.printStackTrace();\n            }\n            return results;\n        }\n        //delete friend \n        \n        public boolean removeFriend(long firstPhone,long secondphone) {\n                    try {\n                        Class.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\n                        try (Connection conn = DriverManager.getConnection(Consts.CONN_STR);\n                                CallableStatement stmt = conn.prepareCall(Consts.SQL_DEL_FRIEND)) {\n                            \n                            stmt.setLong(1, firstPhone);\n                            stmt.setLong(2, secondphone);\n                        \n                            stmt.executeUpdate();\n                            return true;\n                            \n                        } catch (SQLException e) {\n                            e.printStackTrace();\n                        }\n                    } catch (ClassNotFoundException e) {\n                        e.printStackTrace();\n                    }\n                    return false;\n                }\n        // new friend request\n        public boolean addFriend(long firstPhone,long secondphone) {\n                    try {\n                        System.out.println(&quot;test1&quot;);\n                        Class.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\n                        try (Connection conn = DriverManager.getConnection(Consts.CONN_STR);\n                                CallableStatement stmt = conn.prepareCall(Consts.SQL_INS_NEW_FRIEND_REQUEST)) {\n                            System.out.println(&quot;test2&quot;);\n                            int i = 1;\n                            stmt.setLong(i++, firstPhone); // can't be null\n                            stmt.setLong(i++, secondphone); // can't be null\n                            stmt.executeUpdate();\n                            System.out.println(&quot;test3&quot;);\n                            return true;\n                            \n                        } catch (SQLException e) {\n                            e.printStackTrace();\n                        }\n                    } catch (ClassNotFoundException e) {\n                        e.printStackTrace();\n                    }\n                    return false;\n                }\n                \n                \n                \n        //accept friend \n        public boolean acceptFriend(long firstPhone,long secondphone ) {\n                    try {\n                        Class.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\n                        try (Connection conn = DriverManager.getConnection(Consts.CONN_STR);\n                                CallableStatement stmt = conn.prepareCall(Consts.SQL_UPD_TO_APPROVED_PARTICIPANT)) {\n                            \n                            int i = 1;\n                            stmt.setLong(i++, firstPhone); // can't be null\n                            stmt.setLong(i++, secondphone); // can't be null\n                            stmt.setString(i++, &quot;APPROVED&quot;);\n                            stmt.executeUpdate();\n                            return true;\n                            \n                            \n                        } catch (SQLException e) {\n                            e.printStackTrace();\n                        }\n                    } catch (ClassNotFoundException e) {\n                        e.printStackTrace();\n                    }\n                    return false;\n                }\n        //decline friend \n        public boolean declineFriend(long firstPhone,long secondphone ) {\n                    try {\n                        Class.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\n                        try (Connection conn = DriverManager.getConnection(Consts.CONN_STR);\n                                CallableStatement stmt = conn.prepareCall(Consts. SQL_UPD_TO_DENIED_PARTICIPANT)) {\n                            \n                            int i = 1;\n                            stmt.setLong(i++, firstPhone); // can't be null\n                            stmt.setLong(i++, secondphone); // can't be null\n                            stmt.setString(i++, &quot;DENIED&quot;);\n                            stmt.executeUpdate();\n                            return true;\n                            \n                            \n                        } catch (SQLException e) {\n                            e.printStackTrace();\n                        }\n                    } catch (ClassNotFoundException e) {\n                        e.printStackTrace();\n                    }\n                    return false;\n                }   \n\n}\n</code></pre>\n<p>Also, I don't know if this helps but here are the SQL for the queries:\nqryInsNewFriend:</p>\n<pre><code>INSERT INTO TblFriends ( ParticipantPhone, FriendPhone, Status )\nSELECT [1] AS Expr1, [2] AS Expr2, &quot;WAITING&quot; AS Expr3;\n\n</code></pre>\n<p>qryDelFriend:</p>\n<pre><code>DELETE TblFriends.ParticipantPhone, TblFriends.FriendPhone\nFROM TblFriends\nWHERE (((TblFriends.ParticipantPhone)=[1]) AND ((TblFriends.FriendPhone)=[2]));\n\n</code></pre>\n<p>I tried to check my security options and everything is fine. I tried to repair my database, also I created a new database with the same entries and connected that database to the code to see if the problem occurs again and it did. I tested this on a different computer and this happend again. I tried to change Callable to PrepearedStatement and it didn't work. Moreover, this code snnipet inside ParticipantLogic was given to us by our instructors in uni and other students used this same code with minor changes to variable names and everything worked fine for them. I can't find a reason for this code to not work.\nAlso, I didn't test the other two update queries but I assume they have the same problem as it seems it has something to do with the query type.</p>\n<p>Thanks from advance.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9573,"page":419,"page_size":100}
