{"items":[{"tags":["java","spring-boot","junit"],"comments":[{"owner":{"account_id":9339990,"reputation":1712,"user_id":6933090,"display_name":"Yevhenii Semenov"},"score":1,"creation_date":1684770161,"post_id":76307807,"comment_id":134561747,"body_markdown":"Your `BaseServiceTest` is missing the `@SpringBootTest` annotation. Without it, spring features do not work.","body":"Your <code>BaseServiceTest</code> is missing the <code>@SpringBootTest</code> annotation. Without it, spring features do not work."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1684771560,"post_id":76307807,"comment_id":134562063,"body_markdown":"@YevheniiSemenov I revised it but nothing changed. I still got the error `java.lang.NullPointerException: Cannot invoke &quot;org.springframework.http.ResponseEntity.getBody()&quot; because &quot;responseEntity&quot; is null`","body":"@YevheniiSemenov I revised it but nothing changed. I still got the error <code>java.lang.NullPointerException: Cannot invoke &quot;org.springframework.http.ResponseEntity.getBody()&quot; because &quot;responseEntity&quot; is null</code>"},{"owner":{"account_id":9339990,"reputation":1712,"user_id":6933090,"display_name":"Yevhenii Semenov"},"score":0,"creation_date":1684771893,"post_id":76307807,"comment_id":134562158,"body_markdown":"You should also make your constants not static, define getters for them and inject `Constants` bean to your tests through `@Autowire` instead of using it directly.","body":"You should also make your constants not static, define getters for them and inject <code>Constants</code> bean to your tests through <code>@Autowire</code> instead of using it directly."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1684772948,"post_id":76307807,"comment_id":134562401,"body_markdown":"@YevheniiSemenov I got the right url and api key from there as last. Thank you for your response.","body":"@YevheniiSemenov I got the right url and api key from there as last. Thank you for your response."}],"answers":[{"comments":[{"owner":{"account_id":23089415,"reputation":83,"user_id":17200488,"display_name":"kehsihba19"},"score":0,"creation_date":1684773548,"post_id":76308227,"comment_id":134562523,"body_markdown":"Accessing the `application-test.yml` requires loaded application context and unit test runs in isolated environment without the application context. This is why we use @SpringBootTest annotation to load up application context and access the application properties file.","body":"Accessing the <code>application-test.yml</code> requires loaded application context and unit test runs in isolated environment without the application context. This is why we use @SpringBootTest annotation to load up application context and access the application properties file."}],"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684773024,"creation_date":1684773024,"answer_id":76308227,"question_id":76307807,"body_markdown":"After I added @SpingBootTest annotation in BaseServiceTest and clicked &quot;Invalid Cache&quot; , the issue was disappeared.\r\n\r\nHere is BaseServiceTest shown below\r\n\r\n    @SpringBootTest\r\n    @ExtendWith(MockitoExtension.class)\r\n    @ActiveProfiles(value = &quot;test&quot;)\r\n    public abstract class BaseServiceTest {\r\n    \r\n    }","title":"Spring Boot Junit Test - Cannot get some values from application-test.yml (returns null)","body":"<p>After I added @SpingBootTest annotation in BaseServiceTest and clicked &quot;Invalid Cache&quot; , the issue was disappeared.</p>\n<p>Here is BaseServiceTest shown below</p>\n<pre><code>@SpringBootTest\n@ExtendWith(MockitoExtension.class)\n@ActiveProfiles(value = &quot;test&quot;)\npublic abstract class BaseServiceTest {\n\n}\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76308227,"answer_count":1,"score":0,"last_activity_date":1684778860,"creation_date":1684769748,"question_id":76307807,"body_markdown":"I have a problem to write the JUnit Test with the usage of resttemplate.\r\n\r\nWhen I run the testCalculateRate, I got this error message shown below\r\n\r\n```java\r\njava.lang.NullPointerException: Cannot invoke &quot;org.springframework.http.ResponseEntity.getBody()&quot; because &quot;responseEntity&quot; is null\r\n``` \r\n\r\nNext, I debug the code\r\n\r\n`getExchangeUrl` returns this null2023-05-22?symbols=USD%2CGBP&amp;base=EUR as `EXCHANGE_API_BASE_URL` returns null. `EXCHANGE_API_API_KEY` also returns null.\r\n\r\n\r\nHere is the Constants shown below\r\n\r\n```java\r\n@Component\r\npublic class Constants {\r\n\r\n    public static String EXCHANGE_API_BASE_URL;\r\n    public static String EXCHANGE_API_API_KEY;\r\n\r\n    public static String EXCHANGE_CACHE_NAME;\r\n    public static Integer EXCHANGE_API_CALL_LIMIT;\r\n\r\n    @Value(&quot;${exchange-api.api-url}&quot;)\r\n    public void setExchangeApiBaseUrl(String apiUrl) {\r\n        EXCHANGE_API_BASE_URL = apiUrl;\r\n    }\r\n\r\n    @Value(&quot;${exchange-api.api-key}&quot;)\r\n    public void setExchangeApiKey(String apiKey) {\r\n        EXCHANGE_API_API_KEY = apiKey;\r\n    }\r\n\r\n    @Value(&quot;${exchange-api.cache-name}&quot;)\r\n    public void setExchangeCacheName(String cacheName) {\r\n        EXCHANGE_CACHE_NAME = cacheName;\r\n    }\r\n\r\n    @Value(&quot;${exchange-api.api-call-limit}&quot;)\r\n    public void setExchangeApiCallLimit(Integer apiCallLimit) {\r\n        EXCHANGE_API_CALL_LIMIT = apiCallLimit;\r\n    }\r\n\r\n}\r\n```\r\n    \r\nHere is the relevant part of application-test.yml\r\n\r\n```yaml\r\nexchange-api:\r\n  api-url: https://api.apilayer.com/exchangerates_data/\r\n  api-key: ${EXCHANGE_API_API_KEY:default-key}\r\n  api-call-limit: 60\r\n  cache-name: exchanges\r\n  cache-ttl: 10000\r\n```\r\n\r\n\r\nHere RateServiceTest shown below\r\n\r\n```java\r\n    import static com.exchangeapi.currencyexchange.constants.Constants.EXCHANGE_API_API_KEY;\r\n    import static com.exchangeapi.currencyexchange.constants.Constants.EXCHANGE_API_BASE_URL;\r\n    \r\n    class RateServiceTest extends BaseServiceTest {\r\n    \r\n        @Mock\r\n        private RateRepository rateRepository;\r\n    \r\n        @Mock\r\n        private RestTemplate restTemplate;\r\n    \r\n        @InjectMocks\r\n        private RateService rateService;\r\n    \r\n        @Test\r\n        void testCalculateRate() {\r\n    \r\n            // Initialize mocks\r\n            MockitoAnnotations.openMocks(this);\r\n    \r\n            // Mocked data\r\n            EnumCurrency base = EnumCurrency.EUR;\r\n            List&lt;EnumCurrency&gt; targets = Arrays.asList(EnumCurrency.USD, EnumCurrency.GBP);\r\n            LocalDate date = LocalDate.of(2023, 5, 22);\r\n    \r\n            // Mocked rate entity\r\n            RateEntity mockedRateEntity = new RateEntity();\r\n            mockedRateEntity.setBase(base);\r\n            mockedRateEntity.setDate(date);\r\n            Map&lt;EnumCurrency, Double&gt; rates = new HashMap&lt;&gt;();\r\n            rates.put(EnumCurrency.USD, 1.2);\r\n            rates.put(EnumCurrency.GBP, 0.9);\r\n            mockedRateEntity.setRates(rates);\r\n    \r\n            // Mock repository behavior\r\n            when(rateRepository.findOneByDate(date)).thenReturn(Optional.of(mockedRateEntity));\r\n    \r\n            // Mock API response\r\n            RateResponse mockedRateResponse = RateResponse.builder()\r\n                    .base(base)\r\n                    .rates(rates)\r\n                    .date(date)\r\n                    .build();\r\n    \r\n            // Create a HttpHeaders object and set the &quot;apikey&quot; header\r\n            HttpHeaders headers = new HttpHeaders();\r\n            headers.add(&quot;apikey&quot;, EXCHANGE_API_API_KEY);\r\n    \r\n            // Create a mock response entity with the expected headers and body\r\n            ResponseEntity&lt;RateResponse&gt; mockedResponseEntity = ResponseEntity.ok()\r\n                    .headers(headers)\r\n                    .body(mockedRateResponse);\r\n    \r\n            // Mock RestTemplate behavior\r\n            when(restTemplate.exchange(\r\n                    anyString(),\r\n                    eq(HttpMethod.GET),\r\n                    any(HttpEntity.class),\r\n                    eq(RateResponse.class)\r\n            )).thenReturn(mockedResponseEntity);\r\n    \r\n            // Call the method\r\n            RateDto result = rateService.calculateRate(base, targets, date);\r\n    \r\n            // Verify repository method was called\r\n            verify(rateRepository, times(1)).findOneByDate(date);\r\n    \r\n            // Verify API call was made\r\n            String expectedUrl = getExchangeUrl(date, base, targets);\r\n            HttpHeaders expectedHeaders = new HttpHeaders();\r\n            expectedHeaders.add(&quot;apikey&quot;, EXCHANGE_API_API_KEY);\r\n            HttpEntity&lt;String&gt; expectedHttpEntity = new HttpEntity&lt;&gt;(expectedHeaders);\r\n            verify(restTemplate, times(1)).exchange(\r\n                    eq(expectedUrl),\r\n                    eq(HttpMethod.GET),\r\n                    eq(expectedHttpEntity),\r\n                    eq(RateResponse.class)\r\n            );\r\n    \r\n            // Verify the result\r\n            assertThat(result.getBase()).isEqualTo(base);\r\n            assertThat(result.getDate()).isEqualTo(date);\r\n            assertThat(result.getRates()).hasSize(2);\r\n            assertThat(result.getRates()).containsExactlyInAnyOrder(\r\n                    new RateInfoDto(EnumCurrency.USD, 1.2),\r\n                    new RateInfoDto(EnumCurrency.GBP, 0.9)\r\n            );\r\n        }\r\n    \r\n        private String getExchangeUrl(LocalDate rateDate, EnumCurrency base, List&lt;EnumCurrency&gt; targets) {\r\n    \r\n            String symbols = String.join(&quot;%2C&quot;, targets.stream().map(EnumCurrency::name).toArray(String[]::new));\r\n            return EXCHANGE_API_BASE_URL + rateDate + &quot;?symbols=&quot; + symbols + &quot;&amp;base=&quot; + base;\r\n        }\r\n    }\r\n```\r\n\r\nHow can I fix the issue?\r\n\r\nHere is the repo : [Link][1]\r\n\r\n\r\n  [1]: https://github.com/Rapter1990/currencyexchange","title":"Spring Boot Junit Test - Cannot get some values from application-test.yml (returns null)","body":"<p>I have a problem to write the JUnit Test with the usage of resttemplate.</p>\n<p>When I run the testCalculateRate, I got this error message shown below</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.lang.NullPointerException: Cannot invoke &quot;org.springframework.http.ResponseEntity.getBody()&quot; because &quot;responseEntity&quot; is null\n</code></pre>\n<p>Next, I debug the code</p>\n<p><code>getExchangeUrl</code> returns this null2023-05-22?symbols=USD%2CGBP&amp;base=EUR as <code>EXCHANGE_API_BASE_URL</code> returns null. <code>EXCHANGE_API_API_KEY</code> also returns null.</p>\n<p>Here is the Constants shown below</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class Constants {\n\n    public static String EXCHANGE_API_BASE_URL;\n    public static String EXCHANGE_API_API_KEY;\n\n    public static String EXCHANGE_CACHE_NAME;\n    public static Integer EXCHANGE_API_CALL_LIMIT;\n\n    @Value(&quot;${exchange-api.api-url}&quot;)\n    public void setExchangeApiBaseUrl(String apiUrl) {\n        EXCHANGE_API_BASE_URL = apiUrl;\n    }\n\n    @Value(&quot;${exchange-api.api-key}&quot;)\n    public void setExchangeApiKey(String apiKey) {\n        EXCHANGE_API_API_KEY = apiKey;\n    }\n\n    @Value(&quot;${exchange-api.cache-name}&quot;)\n    public void setExchangeCacheName(String cacheName) {\n        EXCHANGE_CACHE_NAME = cacheName;\n    }\n\n    @Value(&quot;${exchange-api.api-call-limit}&quot;)\n    public void setExchangeApiCallLimit(Integer apiCallLimit) {\n        EXCHANGE_API_CALL_LIMIT = apiCallLimit;\n    }\n\n}\n</code></pre>\n<p>Here is the relevant part of application-test.yml</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>exchange-api:\n  api-url: https://api.apilayer.com/exchangerates_data/\n  api-key: ${EXCHANGE_API_API_KEY:default-key}\n  api-call-limit: 60\n  cache-name: exchanges\n  cache-ttl: 10000\n</code></pre>\n<p>Here RateServiceTest shown below</p>\n<pre class=\"lang-java prettyprint-override\"><code>    import static com.exchangeapi.currencyexchange.constants.Constants.EXCHANGE_API_API_KEY;\n    import static com.exchangeapi.currencyexchange.constants.Constants.EXCHANGE_API_BASE_URL;\n    \n    class RateServiceTest extends BaseServiceTest {\n    \n        @Mock\n        private RateRepository rateRepository;\n    \n        @Mock\n        private RestTemplate restTemplate;\n    \n        @InjectMocks\n        private RateService rateService;\n    \n        @Test\n        void testCalculateRate() {\n    \n            // Initialize mocks\n            MockitoAnnotations.openMocks(this);\n    \n            // Mocked data\n            EnumCurrency base = EnumCurrency.EUR;\n            List&lt;EnumCurrency&gt; targets = Arrays.asList(EnumCurrency.USD, EnumCurrency.GBP);\n            LocalDate date = LocalDate.of(2023, 5, 22);\n    \n            // Mocked rate entity\n            RateEntity mockedRateEntity = new RateEntity();\n            mockedRateEntity.setBase(base);\n            mockedRateEntity.setDate(date);\n            Map&lt;EnumCurrency, Double&gt; rates = new HashMap&lt;&gt;();\n            rates.put(EnumCurrency.USD, 1.2);\n            rates.put(EnumCurrency.GBP, 0.9);\n            mockedRateEntity.setRates(rates);\n    \n            // Mock repository behavior\n            when(rateRepository.findOneByDate(date)).thenReturn(Optional.of(mockedRateEntity));\n    \n            // Mock API response\n            RateResponse mockedRateResponse = RateResponse.builder()\n                    .base(base)\n                    .rates(rates)\n                    .date(date)\n                    .build();\n    \n            // Create a HttpHeaders object and set the &quot;apikey&quot; header\n            HttpHeaders headers = new HttpHeaders();\n            headers.add(&quot;apikey&quot;, EXCHANGE_API_API_KEY);\n    \n            // Create a mock response entity with the expected headers and body\n            ResponseEntity&lt;RateResponse&gt; mockedResponseEntity = ResponseEntity.ok()\n                    .headers(headers)\n                    .body(mockedRateResponse);\n    \n            // Mock RestTemplate behavior\n            when(restTemplate.exchange(\n                    anyString(),\n                    eq(HttpMethod.GET),\n                    any(HttpEntity.class),\n                    eq(RateResponse.class)\n            )).thenReturn(mockedResponseEntity);\n    \n            // Call the method\n            RateDto result = rateService.calculateRate(base, targets, date);\n    \n            // Verify repository method was called\n            verify(rateRepository, times(1)).findOneByDate(date);\n    \n            // Verify API call was made\n            String expectedUrl = getExchangeUrl(date, base, targets);\n            HttpHeaders expectedHeaders = new HttpHeaders();\n            expectedHeaders.add(&quot;apikey&quot;, EXCHANGE_API_API_KEY);\n            HttpEntity&lt;String&gt; expectedHttpEntity = new HttpEntity&lt;&gt;(expectedHeaders);\n            verify(restTemplate, times(1)).exchange(\n                    eq(expectedUrl),\n                    eq(HttpMethod.GET),\n                    eq(expectedHttpEntity),\n                    eq(RateResponse.class)\n            );\n    \n            // Verify the result\n            assertThat(result.getBase()).isEqualTo(base);\n            assertThat(result.getDate()).isEqualTo(date);\n            assertThat(result.getRates()).hasSize(2);\n            assertThat(result.getRates()).containsExactlyInAnyOrder(\n                    new RateInfoDto(EnumCurrency.USD, 1.2),\n                    new RateInfoDto(EnumCurrency.GBP, 0.9)\n            );\n        }\n    \n        private String getExchangeUrl(LocalDate rateDate, EnumCurrency base, List&lt;EnumCurrency&gt; targets) {\n    \n            String symbols = String.join(&quot;%2C&quot;, targets.stream().map(EnumCurrency::name).toArray(String[]::new));\n            return EXCHANGE_API_BASE_URL + rateDate + &quot;?symbols=&quot; + symbols + &quot;&amp;base=&quot; + base;\n        }\n    }\n</code></pre>\n<p>How can I fix the issue?</p>\n<p>Here is the repo : <a href=\"https://github.com/Rapter1990/currencyexchange\" rel=\"nofollow noreferrer\">Link</a></p>\n"},{"tags":["java","spring-boot","lombok","constructor-injection"],"comments":[{"owner":{"account_id":19012323,"reputation":3256,"user_id":13878023,"display_name":"Sujitmohanty30"},"score":0,"creation_date":1597250803,"post_id":63380477,"comment_id":112074147,"body_markdown":"Does this help ? https://stackoverflow.com/questions/37671467/lombok-requiredargsconstructor-not-working and if you want to inject already available beans withing spring context e.g. any repository just making them final will inject them. `private final SomeRepository repository`","body":"Does this help ? <a href=\"https://stackoverflow.com/questions/37671467/lombok-requiredargsconstructor-not-working\" title=\"lombok requiredargsconstructor not working\">stackoverflow.com/questions/37671467/&hellip;</a> and if you want to inject already available beans withing spring context e.g. any repository just making them final will inject them. <code>private final SomeRepository repository</code>"},{"owner":{"account_id":14429141,"reputation":101,"user_id":10422980,"display_name":"Techno"},"score":0,"creation_date":1597250943,"post_id":63380477,"comment_id":112074214,"body_markdown":"In this case its not compiling. In my case it gives error as: Parameter 0 of constructor in com.abc.Test required a bean of type &#39;java.lang.String&#39; that could not be found","body":"In this case its not compiling. In my case it gives error as: Parameter 0 of constructor in com.abc.Test required a bean of type &#39;java.lang.String&#39; that could not be found"},{"owner":{"account_id":19012323,"reputation":3256,"user_id":13878023,"display_name":"Sujitmohanty30"},"score":0,"creation_date":1597251012,"post_id":63380477,"comment_id":112074252,"body_markdown":"did you annotate the String variable as @NonNull ?","body":"did you annotate the String variable as @NonNull ?"},{"owner":{"account_id":10235034,"reputation":10879,"user_id":7554328,"display_name":"Darren Forsythe"},"score":0,"creation_date":1597251774,"post_id":63380477,"comment_id":112074600,"body_markdown":"Don&#39;t add Lombok for this. It&#39;s expecting a String bean, not a value to be injected from properties. Use `@Value(&quot;${xyz&quot;})` on the constructor paramter. \n\nYou _can_ use lombok, but it gets really messy to apply annotations to the consturctor. See `onConstructor` documentation,","body":"Don&#39;t add Lombok for this. It&#39;s expecting a String bean, not a value to be injected from properties. Use <code>@Value(&quot;${xyz&quot;})</code> on the constructor paramter.   You <i>can</i> use lombok, but it gets really messy to apply annotations to the consturctor. See <code>onConstructor</code> documentation,"},{"owner":{"account_id":15928516,"reputation":357,"user_id":14187109,"display_name":"Sergey Zh."},"score":0,"creation_date":1641941654,"post_id":63380477,"comment_id":124939023,"body_markdown":"As of Spring 4.3 https://stackoverflow.com/questions/68538851/lombok-and-autowired/70653475#70653475","body":"As of Spring 4.3 <a href=\"https://stackoverflow.com/questions/68538851/lombok-and-autowired/70653475#70653475\" title=\"lombok and autowired\">stackoverflow.com/questions/68538851/lombok-and-autowired/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":19323872,"reputation":353,"user_id":14168816,"display_name":"Lennonry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598562869,"creation_date":1598562869,"answer_id":63624251,"question_id":63380477,"body_markdown":"The `@Service` annotation needs to be removed and the bean must be created in a `@Configuration` class with a `@Bean` annotated method returning that class type.\r\n\r\n```java\r\n//Test.java\r\npackage com.abc;\r\n\r\nimport lombok.RequiredArgsConstructor;\r\nimport lombok.ToString;\r\n\r\n@RequiredArgsConstructor\r\n@ToString\r\npublic class Test {\r\n\r\nprivate final String str;\r\nprivate String str5;\r\n\r\n}\r\n```\r\n\r\n```java\r\n//DemoApplication.java\r\npackage com.abc;\r\n\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.Bean;\r\n\r\n@SpringBootApplication\r\npublic class DemoApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n\r\n\t@Bean\r\n\tTest buildTest(@Value(&quot;${xyz}&quot;) String value) {\r\n\t\treturn new Test(value);\r\n\t}\r\n\r\n}\r\n\r\n```\r\nnote: `@SpringBootApplication` implies `@Configuration`\r\n\r\n\r\n```java\r\n//DemoApplicationTests.java\r\npackage com.abc;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\n\r\n@SpringBootTest\r\nclass DemoApplicationTests {\r\n\r\n\t@Autowired\r\n\tcom.abc.Test test;\r\n\r\n\t@Test\r\n\tvoid contextLoads() {\r\n\t\tSystem.out.println(test);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n```properties\r\n#application.properties\r\nxyz=print me\r\n```\r\n\r\n**Result:**\r\n```\r\nTest(str=print me, str5=null)\r\n```\r\n\r\n\r\n","title":"lombok @RequiredArgsConstructor how to inject value to the constructor spring boot","body":"<p>The <code>@Service</code> annotation needs to be removed and the bean must be created in a <code>@Configuration</code> class with a <code>@Bean</code> annotated method returning that class type.</p>\n<pre class=\"lang-java prettyprint-override\"><code>//Test.java\npackage com.abc;\n\nimport lombok.RequiredArgsConstructor;\nimport lombok.ToString;\n\n@RequiredArgsConstructor\n@ToString\npublic class Test {\n\nprivate final String str;\nprivate String str5;\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>//DemoApplication.java\npackage com.abc;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\n\n@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n    @Bean\n    Test buildTest(@Value(&quot;${xyz}&quot;) String value) {\n        return new Test(value);\n    }\n\n}\n\n</code></pre>\n<p>note: <code>@SpringBootApplication</code> implies <code>@Configuration</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>//DemoApplicationTests.java\npackage com.abc;\n\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\n\n@SpringBootTest\nclass DemoApplicationTests {\n\n    @Autowired\n    com.abc.Test test;\n\n    @Test\n    void contextLoads() {\n        System.out.println(test);\n    }\n\n}\n</code></pre>\n<pre><code>#application.properties\nxyz=print me\n</code></pre>\n<p><strong>Result:</strong></p>\n<pre><code>Test(str=print me, str5=null)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8546725,"reputation":697,"user_id":8152918,"display_name":"Fede Garcia"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603980689,"creation_date":1603980188,"answer_id":64592703,"question_id":63380477,"body_markdown":"In this case I think you are better off either annotating the field :\r\n\r\n    @Service\r\n    public class Test{\r\n\r\n        @Value(&quot;${xyz}&quot;)\r\n        private String str;\r\n\r\n        private String str5;\r\n    \r\n        // more code\r\n    }\r\n\r\nor defining explicitly the constructor with an annotated parameter:\r\n\r\n    @Service\r\n    public class Test{\r\n\r\n        private final String str;\r\n\r\n        private String str5;\r\n    \r\n        public Test(@Value(&quot;${xyz}&quot;) String str) {\r\n            this.str = str;\r\n        }\r\n        // more code\r\n    }\r\n\r\nAnd if you have other *final* fields you can combine lombok constructor generation with field annotation like this as noted in https://stackoverflow.com/questions/52321988 \r\n\r\n    @RequiredArgsConstructor\r\n    @Service\r\n    public class Test{\r\n\r\n        @Value(&quot;${xyz}&quot;)\r\n        private String str;\r\n\r\n        private final String str5;\r\n    \r\n        // more code\r\n    }\r\n","title":"lombok @RequiredArgsConstructor how to inject value to the constructor spring boot","body":"<p>In this case I think you are better off either annotating the field :</p>\n<pre><code>@Service\npublic class Test{\n\n    @Value(&quot;${xyz}&quot;)\n    private String str;\n\n    private String str5;\n\n    // more code\n}\n</code></pre>\n<p>or defining explicitly the constructor with an annotated parameter:</p>\n<pre><code>@Service\npublic class Test{\n\n    private final String str;\n\n    private String str5;\n\n    public Test(@Value(&quot;${xyz}&quot;) String str) {\n        this.str = str;\n    }\n    // more code\n}\n</code></pre>\n<p>And if you have other <em>final</em> fields you can combine lombok constructor generation with field annotation like this as noted in <a href=\"https://stackoverflow.com/questions/52321988\">Best practice for @Value fields, Lombok, and Constructor Injection?</a></p>\n<pre><code>@RequiredArgsConstructor\n@Service\npublic class Test{\n\n    @Value(&quot;${xyz}&quot;)\n    private String str;\n\n    private final String str5;\n\n    // more code\n}\n</code></pre>\n"}],"owner":{"account_id":14429141,"reputation":101,"user_id":10422980,"display_name":"Techno"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17854,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1684778790,"creation_date":1597248319,"question_id":63380477,"body_markdown":"I have a class with lombok @RequiredArgsConstructor:\r\n\r\n    @RequiredArgsConstructor\r\n    @Service\r\n    public class Test{\r\n    \r\n    private final String str;\r\n    private String str5;\r\n    \r\n    // more code\r\n    \r\n    }\r\n\r\nIn non-spring boot we provide in xml as:\r\n\r\n    &lt;bean id=&quot;Test&quot; class=&quot;com.abc.Test&quot;&gt;\r\n    \t\t&lt;constructor-arg index=&quot;0&quot; value=&quot;${xyz}&quot;/&gt;\r\n    \t&lt;/bean&gt;\r\n\r\n\r\nhow to achieve same from spring boot may be via application.properties but how to inject\r\n","title":"lombok @RequiredArgsConstructor how to inject value to the constructor spring boot","body":"<p>I have a class with lombok @RequiredArgsConstructor:</p>\n<pre><code>@RequiredArgsConstructor\n@Service\npublic class Test{\n\nprivate final String str;\nprivate String str5;\n\n// more code\n\n}\n</code></pre>\n<p>In non-spring boot we provide in xml as:</p>\n<pre><code>&lt;bean id=&quot;Test&quot; class=&quot;com.abc.Test&quot;&gt;\n        &lt;constructor-arg index=&quot;0&quot; value=&quot;${xyz}&quot;/&gt;\n    &lt;/bean&gt;\n</code></pre>\n<p>how to achieve same from spring boot may be via application.properties but how to inject</p>\n"},{"tags":["java","jframe","jpanel"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1684778545,"post_id":76308774,"comment_id":134563528,"body_markdown":"It only creates white space when its aspect ratio is too tall to remain square otherwise. It looks to me it does a rather good job. The only other thing you could do is to constrain to always square by using a resize listener","body":"It only creates white space when its aspect ratio is too tall to remain square otherwise. It looks to me it does a rather good job. The only other thing you could do is to constrain to always square by using a resize listener"}],"owner":{"account_id":27711107,"reputation":1,"user_id":21153774,"display_name":"Emre Tekmen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684777875,"creation_date":1684777875,"question_id":76308774,"body_markdown":"Resizing application window creates black space and tears. I am a beginner programmer trying to create a simple chessboard that scales appropriately when you drag the borders of the window to resize. I was able to achieve this for the most part, however dragging the window creates a lot of artifacts and black space, and sometimes when releasing the mouse the frame does not properly fit the panel. \r\n\r\n[Try it Yourself](https://drive.google.com/drive/folders/17xHYEM6Q79uhsJABeZL3ssnrH9dyIgOK?usp=sharing)\r\n\r\nSource Code\r\n```\r\nimport java.awt.*;\r\nimport javax.swing.*;\r\nimport java.awt.event.ComponentAdapter;\r\nimport java.awt.event.ComponentEvent;\r\nimport java.awt.event.ComponentListener;\r\n\r\npublic class Hello\r\n{ \r\n    public static void main(String[] args) \r\n    {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            Board bd = new Board();\r\n        });\r\n        \r\n    }\r\n}\r\n\r\nclass ChessBoardPanel extends JPanel {\r\n    private boolean white = false;\r\n    public int cellSize;\r\n\r\n    ChessBoardPanel(int chessBoardSize) {\r\n        cellSize = chessBoardSize / 8;\r\n    }\r\n//draw the ChessBoard\r\n    @Override\r\n    protected void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        for (int i = 0; i &lt; 8; i++) {\r\n            for (int j = 0; j &lt; 8; j++) {\r\n                if (white)\r\n                    g.setColor(new Color(232, 191, 174));\r\n                else\r\n                    g.setColor(new Color(92, 52, 36));\r\n                g.fillRect(i * cellSize, j * cellSize, cellSize, cellSize);\r\n                white = !white;\r\n            }\r\n            white = !white;\r\n        }\r\n    }\r\n}\r\n\r\nclass Board {\r\n    int chessBoardSize = 512;\r\n    JFrame frame = new JFrame(&quot;Chess Board&quot;);\r\n    ChessBoardPanel panel = new ChessBoardPanel(chessBoardSize);\r\n    //listens for when the application is resized\r\n    ComponentAdapter ca = new ComponentAdapter() {\r\n        @Override\r\n        public void componentResized(ComponentEvent e) {\r\n            //resize panel by repainting\r\n            Insets insets = frame.getInsets();\r\n            chessBoardSize = frame.getSize().width - insets.left - insets.right;\r\n            panel.cellSize = chessBoardSize / 8;\r\n            panel.repaint();\r\n            //fit frame to panel\r\n            Dimension prefDimension = new Dimension(panel.cellSize * 8, panel.cellSize * 8);\r\n            panel.setPreferredSize(prefDimension);\r\n            frame.pack();\r\n        };\r\n    };\r\n    \r\n    Board() {\r\n        frame.addComponentListener(ca);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        Dimension prefDimension = new Dimension(panel.cellSize * 8, panel.cellSize * 8);\r\n        panel.setPreferredSize(prefDimension);\r\n        frame.getContentPane().add(panel);\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n        frame.setLocationRelativeTo(null);\r\n        panel.repaint(); // Call repaint to trigger paintComponent\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\n\r\nMy suspicion is that the problem lies within the Component Adapter where I set the preferred Dimensions to the dimensions of the chessboard and then re-pack the frame to fit the panel. I liked this idea because originally you could drag the width or height of the frame and it would create additional white space that I didn&#39;t want to see. If you see any egregious coding practices here feel free to educate me.","title":"Resizing application window with JFrame and JPanel creates black space and tears, sometimes does not fit frame to panel properly","body":"<p>Resizing application window creates black space and tears. I am a beginner programmer trying to create a simple chessboard that scales appropriately when you drag the borders of the window to resize. I was able to achieve this for the most part, however dragging the window creates a lot of artifacts and black space, and sometimes when releasing the mouse the frame does not properly fit the panel.</p>\n<p><a href=\"https://drive.google.com/drive/folders/17xHYEM6Q79uhsJABeZL3ssnrH9dyIgOK?usp=sharing\" rel=\"nofollow noreferrer\">Try it Yourself</a></p>\n<p>Source Code</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport java.awt.event.ComponentAdapter;\nimport java.awt.event.ComponentEvent;\nimport java.awt.event.ComponentListener;\n\npublic class Hello\n{ \n    public static void main(String[] args) \n    {\n        SwingUtilities.invokeLater(() -&gt; {\n            Board bd = new Board();\n        });\n        \n    }\n}\n\nclass ChessBoardPanel extends JPanel {\n    private boolean white = false;\n    public int cellSize;\n\n    ChessBoardPanel(int chessBoardSize) {\n        cellSize = chessBoardSize / 8;\n    }\n//draw the ChessBoard\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        for (int i = 0; i &lt; 8; i++) {\n            for (int j = 0; j &lt; 8; j++) {\n                if (white)\n                    g.setColor(new Color(232, 191, 174));\n                else\n                    g.setColor(new Color(92, 52, 36));\n                g.fillRect(i * cellSize, j * cellSize, cellSize, cellSize);\n                white = !white;\n            }\n            white = !white;\n        }\n    }\n}\n\nclass Board {\n    int chessBoardSize = 512;\n    JFrame frame = new JFrame(&quot;Chess Board&quot;);\n    ChessBoardPanel panel = new ChessBoardPanel(chessBoardSize);\n    //listens for when the application is resized\n    ComponentAdapter ca = new ComponentAdapter() {\n        @Override\n        public void componentResized(ComponentEvent e) {\n            //resize panel by repainting\n            Insets insets = frame.getInsets();\n            chessBoardSize = frame.getSize().width - insets.left - insets.right;\n            panel.cellSize = chessBoardSize / 8;\n            panel.repaint();\n            //fit frame to panel\n            Dimension prefDimension = new Dimension(panel.cellSize * 8, panel.cellSize * 8);\n            panel.setPreferredSize(prefDimension);\n            frame.pack();\n        };\n    };\n    \n    Board() {\n        frame.addComponentListener(ca);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        Dimension prefDimension = new Dimension(panel.cellSize * 8, panel.cellSize * 8);\n        panel.setPreferredSize(prefDimension);\n        frame.getContentPane().add(panel);\n        frame.pack();\n        frame.setVisible(true);\n        frame.setLocationRelativeTo(null);\n        panel.repaint(); // Call repaint to trigger paintComponent\n    }\n}\n\n\n</code></pre>\n<p>My suspicion is that the problem lies within the Component Adapter where I set the preferred Dimensions to the dimensions of the chessboard and then re-pack the frame to fit the panel. I liked this idea because originally you could drag the width or height of the frame and it would create additional white space that I didn't want to see. If you see any egregious coding practices here feel free to educate me.</p>\n"},{"tags":["java","mysql","gradle","dependencies","build.gradle"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684778816,"post_id":76308769,"comment_id":134563597,"body_markdown":"That is not an exception, it is a path to a Java source file. What are the actual code, the actual exception and error message, and the actual gradle configuration?","body":"That is not an exception, it is a path to a Java source file. What are the actual code, the actual exception and error message, and the actual gradle configuration?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1684815988,"post_id":76308769,"comment_id":134568063,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28656496,"reputation":1,"user_id":21942415,"display_name":"Samuel Kuta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684777821,"creation_date":1684777821,"question_id":76308769,"body_markdown":"I&#39;m pretty new to Gradle so excuse my confusion.\r\n\r\nI&#39;ve put the MySQL Java Connector from Maven Repos to my Gradle dependencies inside build.gradle,\r\nbut when I try this : Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;); I get this exception: /home/charming/Porkramming/javaApps/chatApplication/app/src/main/java/charming/actualCode/App.java\r\n\r\nI can run ./gradlew build succesfully, and there&#39;s even mysql-connector-8.0.32.jar file in gradle build/lib directory.\r\n\r\n\r\n\r\nI&#39;ve tried following a lot of tutorials, but most of them resort to manual download and editing classPath through the IDE, which I both don&#39;t want to do, and I don&#39;t really know how to do since I&#39;m using VSCode as my IDE and i&#39;m not sure where I could configure the java class build path.","title":"JBDC driver not working as gradle dependency","body":"<p>I'm pretty new to Gradle so excuse my confusion.</p>\n<p>I've put the MySQL Java Connector from Maven Repos to my Gradle dependencies inside build.gradle,\nbut when I try this : Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;); I get this exception: /home/charming/Porkramming/javaApps/chatApplication/app/src/main/java/charming/actualCode/App.java</p>\n<p>I can run ./gradlew build succesfully, and there's even mysql-connector-8.0.32.jar file in gradle build/lib directory.</p>\n<p>I've tried following a lot of tutorials, but most of them resort to manual download and editing classPath through the IDE, which I both don't want to do, and I don't really know how to do since I'm using VSCode as my IDE and i'm not sure where I could configure the java class build path.</p>\n"},{"tags":["java","android","sockets"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1684784619,"post_id":76308749,"comment_id":134564729,"body_markdown":"`if (runThreads)\n                        input = new DataInputStream(socket.getInputStream());` Remove that statement. You already opened it just before the while loop.","body":"<code>if (runThreads)                         input = new DataInputStream(socket.getInputStream());</code> Remove that statement. You already opened it just before the while loop."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1684784680,"post_id":76308749,"comment_id":134564742,"body_markdown":"You cannot use a Toast() there where you read or write to sockets.","body":"You cannot use a Toast() there where you read or write to sockets."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1684784745,"post_id":76308749,"comment_id":134564754,"body_markdown":"`then receive it back from the server through another socket ` ? What do you mean with &#39;another socket&#39;? Where do you have it?","body":"<code>then receive it back from the server through another socket </code> ? What do you mean with &#39;another socket&#39;? Where do you have it?"},{"owner":{"account_id":18940147,"reputation":3,"user_id":13820392,"display_name":"MaelTheMeal"},"score":0,"creation_date":1684790179,"post_id":76308749,"comment_id":134565691,"body_markdown":"@blackapps I&#39;m going to be honest, I don&#39;t even know why the `if (runThreads)` line was there, but  I removed it and it didn&#39;t fix it. Regarding the Toast(), removing it also didn&#39;t fix the issue. I&#39;ve realised that the first time that the fragment is loaded, it works perfectly, but the issue arises for every other time which the fragment is opened apart from the first time","body":"@blackapps I&#39;m going to be honest, I don&#39;t even know why the <code>if (runThreads)</code> line was there, but  I removed it and it didn&#39;t fix it. Regarding the Toast(), removing it also didn&#39;t fix the issue. I&#39;ve realised that the first time that the fragment is loaded, it works perfectly, but the issue arises for every other time which the fragment is opened apart from the first time"}],"owner":{"account_id":18940147,"reputation":3,"user_id":13820392,"display_name":"MaelTheMeal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684777720,"creation_date":1684777720,"question_id":76308749,"body_markdown":"I am trying to request information through a socket on an Android client and then receive it back from the server through another socket but I am not receiving the information sent from server on the client side.\r\n\r\nThis is the code for my client on Android:\r\n\r\n```\r\npublic View onCreateView(@NonNull LayoutInflater inflater,\r\n                             ViewGroup container, Bundle savedInstanceState)\r\n    {\r\n        binding = FragmentBinding.inflate(inflater, container, false);\r\n\r\n        runThreads = true;\r\n        new ResponseListener().start();\r\n        queryAllOrders();\r\n\r\n        return binding.getRoot();\r\n    }\r\n\r\n    private void queryAllOrders()\r\n    {\r\n        try\r\n        {\r\n            if (socket != null)\r\n            {\r\n                DataOutputStream output = new DataOutputStream(socket.getOutputStream());\r\n                output.writeUTF(&quot;&#167;&#167;Q0&quot;);\r\n                output.flush();\r\n                Toast.makeText(getContext(), &quot;Orders queried successfully&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n            else\r\n                Toast.makeText(getContext(), &quot;Error querying orders&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n        catch (IOException e)\r\n        {\r\n            e.printStackTrace();\r\n            Toast.makeText(getContext(), &quot;Error querying orders&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n    private static class ResponseListener extends Thread\r\n    {\r\n        @Override\r\n        public void run()\r\n        {\r\n            try\r\n            {\r\n                DataInputStream input = new DataInputStream(socket.getInputStream());;\r\n                while (runThreads)\r\n                {\r\n                    String mes = input.readUTF();\r\n                    if (mes.startsWith(&quot;&#167;&#167;R0&quot;))\r\n                    {\r\n                        ContextCompat.getMainExecutor(MainApplication.getAppContext()).execute(() -&gt;\r\n                                Toast.makeText(MainApplication.getAppContext(), &quot;Response received successfully&quot;, Toast.LENGTH_SHORT).show());\r\n                        System.out.println(&quot;Response received successfully | Message: &quot; + mes);\r\n                    }\r\n                    if (runThreads)\r\n                        input = new DataInputStream(socket.getInputStream());\r\n                }\r\n                input.close();\r\n            } catch (Exception e)\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onDestroyView()\r\n    {\r\n        super.onDestroyView();\r\n        binding = null;\r\n        runThreads = false;\r\n    }\r\n}\r\n```\r\n\r\nAnd this is the thread on my server which detects an input:\r\n\r\n```\r\n    private static class ClientInput extends Thread\r\n    {\r\n        private final int clientId;\r\n        private final Socket socket;\r\n\r\n        DataInputStream input;\r\n        DataOutputStream output;\r\n\r\n        public ClientInput(int clientId, Socket socket) throws IOException\r\n        {\r\n            this.clientId = clientId;\r\n            this.socket = socket;\r\n\r\n            input = new DataInputStream(socket.getInputStream());\r\n            output = new DataOutputStream(socket.getOutputStream());\r\n        }\r\n\r\n        @Override\r\n        public void run()\r\n        {\r\n            try\r\n            {\r\n                while (runThreads)\r\n                {\r\n                    String mes = input.readUTF();\r\n\r\n                    if (mes.startsWith(&quot;&#167;&#167;Q&quot;))\r\n                    {\r\n                        if (mes.charAt(3) == &#39;0&#39;)\r\n                        {\r\n                            StringBuilder response = new StringBuilder(&quot;&#167;&#167;R0%&quot;);\r\n                            for (Order order : orders)\r\n                            {\r\n                                response.append(order.toString());\r\n                                response.append(&quot;%&quot;);\r\n                            }\r\n                            response.deleteCharAt(response.length() - 1);\r\n                            serverWrite(&quot;\\nSent all orders to client with ID: &quot; + clientId + &quot; | Host : &quot; +  socket.getInetAddress().getCanonicalHostName());\r\n                            serverWrite(&quot;Orders: &quot; + response);\r\n                            output.writeUTF(response.toString());\r\n                            output.flush();\r\n                        }\r\n                    }\r\n                }\r\n            } catch (IOException e)\r\n            {\r\n                if (e.getMessage() == null)\r\n                    serverWrite(&quot;\\nConnection with a client lost&quot;);\r\n                else\r\n                {\r\n                    if (e.getMessage().equals(&quot;Connection reset&quot;))\r\n                        serverWrite(&quot;\\nConnection with a client lost&quot;);\r\n                    else\r\n                        e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nWhen I open the fragment on the client, it sends the request to the server and on the server-side, I see that a response is sent back to the client. However, I don&#39;t receive that response on the client and the code stays on the `input.readUTF()`.","title":"Android client app not getting server response despite server successfully sending socket","body":"<p>I am trying to request information through a socket on an Android client and then receive it back from the server through another socket but I am not receiving the information sent from server on the client side.</p>\n<p>This is the code for my client on Android:</p>\n<pre><code>public View onCreateView(@NonNull LayoutInflater inflater,\n                             ViewGroup container, Bundle savedInstanceState)\n    {\n        binding = FragmentBinding.inflate(inflater, container, false);\n\n        runThreads = true;\n        new ResponseListener().start();\n        queryAllOrders();\n\n        return binding.getRoot();\n    }\n\n    private void queryAllOrders()\n    {\n        try\n        {\n            if (socket != null)\n            {\n                DataOutputStream output = new DataOutputStream(socket.getOutputStream());\n                output.writeUTF(&quot;§§Q0&quot;);\n                output.flush();\n                Toast.makeText(getContext(), &quot;Orders queried successfully&quot;, Toast.LENGTH_SHORT).show();\n            }\n            else\n                Toast.makeText(getContext(), &quot;Error querying orders&quot;, Toast.LENGTH_SHORT).show();\n        }\n        catch (IOException e)\n        {\n            e.printStackTrace();\n            Toast.makeText(getContext(), &quot;Error querying orders&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n\n    private static class ResponseListener extends Thread\n    {\n        @Override\n        public void run()\n        {\n            try\n            {\n                DataInputStream input = new DataInputStream(socket.getInputStream());;\n                while (runThreads)\n                {\n                    String mes = input.readUTF();\n                    if (mes.startsWith(&quot;§§R0&quot;))\n                    {\n                        ContextCompat.getMainExecutor(MainApplication.getAppContext()).execute(() -&gt;\n                                Toast.makeText(MainApplication.getAppContext(), &quot;Response received successfully&quot;, Toast.LENGTH_SHORT).show());\n                        System.out.println(&quot;Response received successfully | Message: &quot; + mes);\n                    }\n                    if (runThreads)\n                        input = new DataInputStream(socket.getInputStream());\n                }\n                input.close();\n            } catch (Exception e)\n            {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    @Override\n    public void onDestroyView()\n    {\n        super.onDestroyView();\n        binding = null;\n        runThreads = false;\n    }\n}\n</code></pre>\n<p>And this is the thread on my server which detects an input:</p>\n<pre><code>    private static class ClientInput extends Thread\n    {\n        private final int clientId;\n        private final Socket socket;\n\n        DataInputStream input;\n        DataOutputStream output;\n\n        public ClientInput(int clientId, Socket socket) throws IOException\n        {\n            this.clientId = clientId;\n            this.socket = socket;\n\n            input = new DataInputStream(socket.getInputStream());\n            output = new DataOutputStream(socket.getOutputStream());\n        }\n\n        @Override\n        public void run()\n        {\n            try\n            {\n                while (runThreads)\n                {\n                    String mes = input.readUTF();\n\n                    if (mes.startsWith(&quot;§§Q&quot;))\n                    {\n                        if (mes.charAt(3) == '0')\n                        {\n                            StringBuilder response = new StringBuilder(&quot;§§R0%&quot;);\n                            for (Order order : orders)\n                            {\n                                response.append(order.toString());\n                                response.append(&quot;%&quot;);\n                            }\n                            response.deleteCharAt(response.length() - 1);\n                            serverWrite(&quot;\\nSent all orders to client with ID: &quot; + clientId + &quot; | Host : &quot; +  socket.getInetAddress().getCanonicalHostName());\n                            serverWrite(&quot;Orders: &quot; + response);\n                            output.writeUTF(response.toString());\n                            output.flush();\n                        }\n                    }\n                }\n            } catch (IOException e)\n            {\n                if (e.getMessage() == null)\n                    serverWrite(&quot;\\nConnection with a client lost&quot;);\n                else\n                {\n                    if (e.getMessage().equals(&quot;Connection reset&quot;))\n                        serverWrite(&quot;\\nConnection with a client lost&quot;);\n                    else\n                        e.printStackTrace();\n                }\n            }\n        }\n    }\n</code></pre>\n<p>When I open the fragment on the client, it sends the request to the server and on the server-side, I see that a response is sent back to the client. However, I don't receive that response on the client and the code stays on the <code>input.readUTF()</code>.</p>\n"},{"tags":["java","list","concurrency","thread-safety"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1684537114,"post_id":76292701,"comment_id":134536856,"body_markdown":"I don&#39;t think you need synchronization. If you&#39;re not mutating, the only issue is safe publication, which you can address by making it `volatile`.","body":"I don&#39;t think you need synchronization. If you&#39;re not mutating, the only issue is safe publication, which you can address by making it <code>volatile</code>."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1684564628,"post_id":76292701,"comment_id":134538393,"body_markdown":"Can we assume that `list` is actually `private` and that this class contains no other methods that access or mutate the `list` variable or the `List` that it refers to?","body":"Can we assume that <code>list</code> is actually <code>private</code> and that this class contains no other methods that access or mutate the <code>list</code> variable or the <code>List</code> that it refers to?"}],"answers":[{"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1684537673,"post_id":76292800,"comment_id":134536900,"body_markdown":"You also don&#39;t need `volatile` if you&#39;re using `unmodifiableList()`.","body":"You also don&#39;t need <code>volatile</code> if you&#39;re using <code>unmodifiableList()</code>."},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":1,"creation_date":1684538939,"post_id":76292800,"comment_id":134536995,"body_markdown":"@shmosel I think you&#39;d still need it for the publication across threads, right? Not so much for the contents themselves (they&#39;re accessed internally via a `final`), but to guarantee that the other thread even sees the new reference in a timely fashion.","body":"@shmosel I think you&#39;d still need it for the publication across threads, right? Not so much for the contents themselves (they&#39;re accessed internally via a <code>final</code>), but to guarantee that the other thread even sees the new reference in a timely fashion."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1684540626,"post_id":76292800,"comment_id":134537137,"body_markdown":"Good point. But the list itself is thread-safe, so it could be useful in cases where immediate visibility is not a requirement, e.g. Guava&#39;s `@LazyInit` fields.","body":"Good point. But the list itself is thread-safe, so it could be useful in cases where immediate visibility is not a requirement, e.g. Guava&#39;s <code>@LazyInit</code> fields."},{"owner":{"account_id":5195570,"reputation":416,"user_id":4157010,"accept_rate":50,"display_name":"eriee"},"score":0,"creation_date":1684544365,"post_id":76292800,"comment_id":134537359,"body_markdown":"What if there are multiple threads trying to call refresh()?","body":"What if there are multiple threads trying to call refresh()?"},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":1,"creation_date":1684551786,"post_id":76292800,"comment_id":134537711,"body_markdown":"@eriee Without `synchronized`, they will both execute at the same time, and then whichever happens to write to `list` last will &quot;win.&quot; With `synchronized`, it&#39;ll be similar except that the refreshes will all be one at a time. Either way, you may be hitting your DB more than you want, in which case you may want a separate `lastUpdated` field so you can do rate limiting. In that case, you probably do want `synchronized`, so that &quot;check lastUpdated, fetch list, update lastUpdated is atomic.","body":"@eriee Without <code>synchronized</code>, they will both execute at the same time, and then whichever happens to write to <code>list</code> last will &quot;win.&quot; With <code>synchronized</code>, it&#39;ll be similar except that the refreshes will all be one at a time. Either way, you may be hitting your DB more than you want, in which case you may want a separate <code>lastUpdated</code> field so you can do rate limiting. In that case, you probably do want <code>synchronized</code>, so that &quot;check lastUpdated, fetch list, update lastUpdated is atomic."},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":1,"creation_date":1684551968,"post_id":76292800,"comment_id":134537720,"body_markdown":"In all of those cases, if `last` is either an AtomicReference or `volatile`, the get does not need to be synchronized; if it&#39;s neither (as in your code snippet above), it should be. But there&#39;s also no harm in having both be synchronized even if the field is AtomicReference or volatile, so if you find that easier to reason about, you should feel free to add synchronized to both!","body":"In all of those cases, if <code>last</code> is either an AtomicReference or <code>volatile</code>, the get does not need to be synchronized; if it&#39;s neither (as in your code snippet above), it should be. But there&#39;s also no harm in having both be synchronized even if the field is AtomicReference or volatile, so if you find that easier to reason about, you should feel free to add synchronized to both!"}],"tags":[],"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"comment_count":6,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1684597875,"creation_date":1684535901,"answer_id":76292800,"question_id":76292701,"body_markdown":"Yes, what you have will work.\r\n\r\nIf you don&#39;t need to coordinate the list&#39;s refresh with any other state, you could also use a `final AtomicReference&lt;List&lt;Foo&gt;&gt;`, or even use a `volatile List&lt;Foo&gt;`. In either of those cases, you would not need to mark your methods as `synchronized`: both [`AtomicReference`][1] and `volatile` have cross-reference memory guarantees, as long as the object being assigned/set to the field isn&#39;t mutated after that assignment.\r\n\r\nFor that to work, it&#39;s crucial that the `List` isn&#39;t mutated, _and_ that none of its `Foo`s are (unless they&#39;re thread-safe). If it were me, I would wrap the List in a [`Collections.unmodifiableList`][2] or some other unmodifiable list such as [`List.copyOf`][3], and add a comment to the effect of &quot;this needs to be unmodifiable for thread-safety&quot;, so that someone else doesn&#39;t later change that without realizing what they&#39;re breaking. (It&#39;ll be hard to write a unit test that detects that error — more likely, you&#39;ll just hit in prod, unpredictably.)\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/atomic/AtomicReference.html\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#unmodifiableList(java.util.List)\r\n  [3]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#copyOf(java.util.Collection)","title":"Thread safe read and instantiate a list","body":"<p>Yes, what you have will work.</p>\n<p>If you don't need to coordinate the list's refresh with any other state, you could also use a <code>final AtomicReference&lt;List&lt;Foo&gt;&gt;</code>, or even use a <code>volatile List&lt;Foo&gt;</code>. In either of those cases, you would not need to mark your methods as <code>synchronized</code>: both <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/atomic/AtomicReference.html\" rel=\"nofollow noreferrer\"><code>AtomicReference</code></a> and <code>volatile</code> have cross-reference memory guarantees, as long as the object being assigned/set to the field isn't mutated after that assignment.</p>\n<p>For that to work, it's crucial that the <code>List</code> isn't mutated, <em>and</em> that none of its <code>Foo</code>s are (unless they're thread-safe). If it were me, I would wrap the List in a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#unmodifiableList(java.util.List)\" rel=\"nofollow noreferrer\"><code>Collections.unmodifiableList</code></a> or some other unmodifiable list such as <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#copyOf(java.util.Collection)\" rel=\"nofollow noreferrer\"><code>List.copyOf</code></a>, and add a comment to the effect of &quot;this needs to be unmodifiable for thread-safety&quot;, so that someone else doesn't later change that without realizing what they're breaking. (It'll be hard to write a unit test that detects that error — more likely, you'll just hit in prod, unpredictably.)</p>\n"},{"comments":[{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1684700379,"post_id":76293985,"comment_id":134551496,"body_markdown":"Great callout with the iteration style! And just to round it out a bit more, if someone wants to use the `for (int i=` style, they still can if they first copy the `list` to a local reference (`List&lt;Foo&gt; local = list`), and then iterate over that.","body":"Great callout with the iteration style! And just to round it out a bit more, if someone wants to use the <code>for (int i=</code> style, they still can if they first copy the <code>list</code> to a local reference (<code>List&lt;Foo&gt; local = list</code>), and then iterate over that."},{"owner":{"account_id":5195570,"reputation":416,"user_id":4157010,"accept_rate":50,"display_name":"eriee"},"score":1,"creation_date":1684777050,"post_id":76293985,"comment_id":134563235,"body_markdown":"updated the question to make list `private` and add for-loop logic.","body":"updated the question to make list <code>private</code> and add for-loop logic."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1684745088,"creation_date":1684567001,"answer_id":76293985,"question_id":76292701,"body_markdown":"People have suggested using `volatile` or an `AtomicReference` as an alternative to `synchronized` or a `Lock`.\r\n\r\nIf you do this, the correctness / thread-safety will depend on *how* the `getFoo` method &quot;loops&quot; the list.  For example:\r\n\r\n        private volatile List&lt;Foo&gt; list = new ArrayList&lt;&gt;();\r\n\r\n        public Foo getFoo(Condition x) {\r\n            for (Foo foo: list) {\r\n               ...\r\n            }\r\n        }\r\n\r\nwill be OK because the `list` variable is read exactly once, but\r\n\r\n        public Foo getFoo(Condition x) {\r\n            for (int i = 0; i &lt; list.size(); i++) {\r\n               Foo f = list.get(i);\r\n               ...\r\n            }\r\n        }\r\n\r\nwill not be OK.  This can be addressed by assigning `list` to a local variable and iterating *that*.\r\n\r\nCorrectness / thread-safety will also depend on whether or not `getFoo` is specified to return a `Foo` that is (still) in the list when `getFoo` returns.  Consider what happens if `refresh()` is called while a `getFoo` is in progress.  If we use `synchronized` (as per the original code) then the `getFoo` returns a `Foo` that is still in the list at the point of return.  If we don&#39;t, then `getFoo` may return a list that has already been removed from the list.  Indeed, you could imagine a scenario with 3 threads like this:\r\n\r\n        Thread 1 calls getFoo(c)\r\n        Thread 2 calls refresh which empties the list\r\n        Thread 2 refresh completes\r\n        Thread 3 calls getFoo(c)\r\n        Thread 3 quickly returns null because no Foo matches in the new list\r\n        ...\r\n        time passes\r\n        ...\r\n        Thread 1 returns a non-null matching Foo from the old list\r\n\r\nThere is also the issue of whether `list` or the `List` that it refers to can be accessed via other routes; e.g. since the example shows `list` as not declared as `private`, it could be accessed and even mutated from another class.  (This can be addressed too.)\r\n\r\n------------------------\r\n\r\nThread-safety is a surprisingly rubbery concept.  The normal definition is that code that is correct when there is only one thread is also correct in all situations where two or more threads.  In this case, &quot;correct&quot; means that it (provably) satisfies the formal requirements for the code.\r\n  \r\nBut here we don&#39;t have either a clear statement of the formal requirements or complete versions of the code.   So therefore we cannot say **with 100% certainty** that *any* of the versions is thread-safe.\r\n","title":"Thread safe read and instantiate a list","body":"<p>People have suggested using <code>volatile</code> or an <code>AtomicReference</code> as an alternative to <code>synchronized</code> or a <code>Lock</code>.</p>\n<p>If you do this, the correctness / thread-safety will depend on <em>how</em> the <code>getFoo</code> method &quot;loops&quot; the list.  For example:</p>\n<pre><code>    private volatile List&lt;Foo&gt; list = new ArrayList&lt;&gt;();\n\n    public Foo getFoo(Condition x) {\n        for (Foo foo: list) {\n           ...\n        }\n    }\n</code></pre>\n<p>will be OK because the <code>list</code> variable is read exactly once, but</p>\n<pre><code>    public Foo getFoo(Condition x) {\n        for (int i = 0; i &lt; list.size(); i++) {\n           Foo f = list.get(i);\n           ...\n        }\n    }\n</code></pre>\n<p>will not be OK.  This can be addressed by assigning <code>list</code> to a local variable and iterating <em>that</em>.</p>\n<p>Correctness / thread-safety will also depend on whether or not <code>getFoo</code> is specified to return a <code>Foo</code> that is (still) in the list when <code>getFoo</code> returns.  Consider what happens if <code>refresh()</code> is called while a <code>getFoo</code> is in progress.  If we use <code>synchronized</code> (as per the original code) then the <code>getFoo</code> returns a <code>Foo</code> that is still in the list at the point of return.  If we don't, then <code>getFoo</code> may return a list that has already been removed from the list.  Indeed, you could imagine a scenario with 3 threads like this:</p>\n<pre><code>    Thread 1 calls getFoo(c)\n    Thread 2 calls refresh which empties the list\n    Thread 2 refresh completes\n    Thread 3 calls getFoo(c)\n    Thread 3 quickly returns null because no Foo matches in the new list\n    ...\n    time passes\n    ...\n    Thread 1 returns a non-null matching Foo from the old list\n</code></pre>\n<p>There is also the issue of whether <code>list</code> or the <code>List</code> that it refers to can be accessed via other routes; e.g. since the example shows <code>list</code> as not declared as <code>private</code>, it could be accessed and even mutated from another class.  (This can be addressed too.)</p>\n<hr />\n<p>Thread-safety is a surprisingly rubbery concept.  The normal definition is that code that is correct when there is only one thread is also correct in all situations where two or more threads.  In this case, &quot;correct&quot; means that it (provably) satisfies the formal requirements for the code.</p>\n<p>But here we don't have either a clear statement of the formal requirements or complete versions of the code.   So therefore we cannot say <strong>with 100% certainty</strong> that <em>any</em> of the versions is thread-safe.</p>\n"}],"owner":{"account_id":5195570,"reputation":416,"user_id":4157010,"accept_rate":50,"display_name":"eriee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1684776979,"creation_date":1684534556,"question_id":76292701,"body_markdown":"I need to implement a list as the following:\r\n```\r\nprivate List&lt;Foo&gt; list = new ArrayList&lt;&gt;();\r\n\r\npublic synchronized Foo getFoo(Condition condition) {\r\n    // loop the list and get a foo that meets the condition\r\n    for (Foo foo: list) {\r\n        if(condition.check(foo)) {\r\n            return foo;\r\n        }\r\n    }\r\n    return null;\r\n}\r\n\r\npublic synchronized void refresh() {\r\n    list = new ArrayList&lt;&gt;(fetchFromDB());\r\n}\r\n```\r\nIs there better way to avoid synchronized method to make the read and instantiate thread safe? I think CopyOnWriteArrayList won&#39;t help here because there are no mutative operations on the same list and every time we just create a new list. Am I right?\r\n\r\n-----\r\nUPDATED: to clarify, the list will only be fully set by the refresh() method, there is no other mutation to the list.\r\n","title":"Thread safe read and instantiate a list","body":"<p>I need to implement a list as the following:</p>\n<pre><code>private List&lt;Foo&gt; list = new ArrayList&lt;&gt;();\n\npublic synchronized Foo getFoo(Condition condition) {\n    // loop the list and get a foo that meets the condition\n    for (Foo foo: list) {\n        if(condition.check(foo)) {\n            return foo;\n        }\n    }\n    return null;\n}\n\npublic synchronized void refresh() {\n    list = new ArrayList&lt;&gt;(fetchFromDB());\n}\n</code></pre>\n<p>Is there better way to avoid synchronized method to make the read and instantiate thread safe? I think CopyOnWriteArrayList won't help here because there are no mutative operations on the same list and every time we just create a new list. Am I right?</p>\n<hr />\n<p>UPDATED: to clarify, the list will only be fully set by the refresh() method, there is no other mutation to the list.</p>\n"},{"tags":["java","spring-boot","amazon-ses"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1682015863,"post_id":76066726,"comment_id":134153490,"body_markdown":"Can you add your main class for this project? It seems to be coming from some configuration in there somewhere.","body":"Can you add your main class for this project? It seems to be coming from some configuration in there somewhere."},{"owner":{"account_id":14364542,"reputation":101,"user_id":10375999,"display_name":"Abe"},"score":0,"creation_date":1682016298,"post_id":76066726,"comment_id":134153571,"body_markdown":"@grekier I have added the main class, but I have not modified that file at all so not sure it will help","body":"@grekier I have added the main class, but I have not modified that file at all so not sure it will help"},{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1682016840,"post_id":76066726,"comment_id":134153676,"body_markdown":"I see... that&#39;s definitively not the issue... Do you have any other classes annotated with `@Configuration` or `@Import` maybe? BTW, class name should start with an uppercase in Java","body":"I see... that&#39;s definitively not the issue... Do you have any other classes annotated with <code>@Configuration</code> or <code>@Import</code> maybe? BTW, class name should start with an uppercase in Java"},{"owner":{"account_id":14364542,"reputation":101,"user_id":10375999,"display_name":"Abe"},"score":0,"creation_date":1682020303,"post_id":76066726,"comment_id":134154312,"body_markdown":"Oh  thats not the actual class name, I just put that there for confidentiality purposes.  and yes I do have another config file, but its for my dynamoDB configuration. and that works fine","body":"Oh  thats not the actual class name, I just put that there for confidentiality purposes.  and yes I do have another config file, but its for my dynamoDB configuration. and that works fine"},{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1682108741,"post_id":76066726,"comment_id":134169476,"body_markdown":"So I&#39;m not sure where it is coming from but, in any cases, the error is caused because something somewhere is annotated with something that needs AmazonRdsInstanceConfiguration and it isn&#39;t there. Obviously you could add `spring-cloud-aws-jdbc` as a dependency but, if it is not in use, it would be better to figure out why it&#39;s expected","body":"So I&#39;m not sure where it is coming from but, in any cases, the error is caused because something somewhere is annotated with something that needs AmazonRdsInstanceConfiguration and it isn&#39;t there. Obviously you could add <code>spring-cloud-aws-jdbc</code> as a dependency but, if it is not in use, it would be better to figure out why it&#39;s expected"},{"owner":{"account_id":14364542,"reputation":101,"user_id":10375999,"display_name":"Abe"},"score":0,"creation_date":1682268603,"post_id":76066726,"comment_id":134184936,"body_markdown":"Yea that was what I found when looking into it, but it seems that adding that dependency requires you to use things that I don&#39;t need, and thus throws even more errors at me","body":"Yea that was what I found when looking into it, but it seems that adding that dependency requires you to use things that I don&#39;t need, and thus throws even more errors at me"}],"answers":[{"tags":[],"owner":{"account_id":17773412,"reputation":1,"user_id":21267185,"display_name":"Sebastian James"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684775891,"creation_date":1684775891,"answer_id":76308558,"question_id":76066726,"body_markdown":"*I don&#39;t have enough reputations to provide as a comment, so forced to give what worked for me as an answer.*\r\n\r\nI got the same error while working on a project. I updated my application-local.yml like below which resolved it. \r\n```\r\ncloud:\r\n  aws:\r\n    rds:\r\n      enabled: false\r\n```\r\nI feel this is just a fix to the problem but not actually figuring out the root cause behind the issue. I&#39;ll update when I get more info on the issue. ","title":"Getting &quot;java.lang.ClassNotFoundException: io.awspring.cloud.jdbc.config.annotation.AmazonRdsInstanceConfiguration&quot; when working with Amazon SES","body":"<p><em>I don't have enough reputations to provide as a comment, so forced to give what worked for me as an answer.</em></p>\n<p>I got the same error while working on a project. I updated my application-local.yml like below which resolved it.</p>\n<pre><code>cloud:\n  aws:\n    rds:\n      enabled: false\n</code></pre>\n<p>I feel this is just a fix to the problem but not actually figuring out the root cause behind the issue. I'll update when I get more info on the issue.</p>\n"}],"owner":{"account_id":14364542,"reputation":101,"user_id":10375999,"display_name":"Abe"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":814,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684775891,"creation_date":1682011215,"question_id":76066726,"body_markdown":"I am trying to get my spring application to run with Amazon SES but keep getting an exception during the build process saying &quot;java.lang.ClassNotFoundException: io.awspring.cloud.jdbc.config.annotation.AmazonRdsInstanceConfiguration&quot; I was following an example online at https://stackabuse.com/guide-to-simple-email-service-aws-ses-with-spring-boot-and-spring-cloud/\r\n\r\nHere is my Config file\r\n\r\n```\r\nimport com.amazonaws.auth.AWSStaticCredentialsProvider;\r\nimport com.amazonaws.auth.BasicAWSCredentials;\r\nimport com.amazonaws.services.simpleemail.AmazonSimpleEmailService;\r\nimport com.amazonaws.services.simpleemail.AmazonSimpleEmailServiceClientBuilder;\r\nimport io.awspring.cloud.ses.SimpleEmailServiceMailSender;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.mail.MailSender;\r\n\r\n@Configuration\r\npublic class AmazonSESConfig {\r\n\r\n    @Value(&quot;${amazon.aws.accessKey}&quot;)\r\n    private String accessKey;\r\n    @Value(&quot;${amazon.aws.secretKey}&quot;)\r\n    private String secretKey;\r\n\r\n    @Value(&quot;${amazon.aws.region}&quot;)\r\n    private String region;\r\n\r\n    @Bean\r\n    public AmazonSimpleEmailService amazonSimpleEmailService() {\r\n        BasicAWSCredentials credentials = new BasicAWSCredentials(accessKey, secretKey);\r\n        return AmazonSimpleEmailServiceClientBuilder\r\n                .standard()\r\n                .withCredentials(new AWSStaticCredentialsProvider(credentials))\r\n                .withRegion(region)\r\n                .build();\r\n\r\n    }\r\n\r\n    @Bean\r\n    public MailSender mailSender(AmazonSimpleEmailService amazonSimpleEmailService) {\r\n        return new SimpleEmailServiceMailSender(amazonSimpleEmailService);\r\n    }\r\n}\r\n```\r\n\r\nHere is my properties file\r\n\r\n```\r\namazon.aws.accessKey=ACCESS_KEY\r\namazon.aws.secretKey=SECRET_KEY\r\namazon.aws.region=ca-central-1\r\n```\r\n\r\nHere is my service file\r\n\r\n```\r\n@Service\r\npublic class CorrespondenceService {\r\n\r\n    @Autowired\r\n    private MailSender mailSender;\r\n\r\n    public void sendMail(){\r\n    \r\n        SimpleMailMessage simpleMailMessage = new SimpleMailMessage();\r\n        simpleMailMessage.setFrom(&quot;testFromEmail@test.com&quot;);\r\n        simpleMailMessage.setTo(&quot;testToEmail@test.com&quot;);\r\n        simpleMailMessage.setSubject(&quot;Test&quot;);\r\n        simpleMailMessage.setText(&quot;This email is a test&quot;);\r\n\r\n        mailSender.send(simpleMailMessage);\r\n\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nFinally here is the error from the console.\r\n\r\n```\r\njava.lang.IllegalArgumentException: Could not find class [io.awspring.cloud.jdbc.config.annotation.AmazonRdsInstanceConfiguration]\r\n        at org.springframework.util.ClassUtils.resolveClassName(ClassUtils.java:334) ~[spring-core-5.3.19.jar:5.3.19]\r\n        at org.springframework.core.annotation.TypeMappedAnnotation.adapt(TypeMappedAnnotation.java:446) ~[spring-core-5.3.19.jar:5.3.19]\r\n        at org.springframework.core.annotation.TypeMappedAnnotation.getValue(TypeMappedAnnotation.java:369) ~[spring-core-5.3.19.jar:5.3.19]\r\n        at org.springframework.core.annotation.TypeMappedAnnotation.asMap(TypeMappedAnnotation.java:284) ~[spring-core-5.3.19.jar:5.3.19]\r\n        at org.springframework.core.annotation.AbstractMergedAnnotation.asAnnotationAttributes(AbstractMergedAnnotation.java:193) ~[spring-core-5.3.19.jar:5.3.19]\r\n        at org.springframework.core.type.AnnotatedTypeMetadata.getAnnotationAttributes(AnnotatedTypeMetadata.java:106) ~[spring-core-5.3.19.jar:5.3.19]\r\n        at org.springframework.core.type.AnnotatedTypeMetadata.getAnnotationAttributes(AnnotatedTypeMetadata.java:81) ~[spring-core-5.3.19.jar:5.3.19]\r\n        at org.springframework.context.annotation.AnnotationConfigUtils.attributesFor(AnnotationConfigUtils.java:285) ~[spring-context-5.3.19.jar:5.3.19]\r\n        at org.springframework.context.annotation.AnnotationBeanNameGenerator.determineBeanNameFromAnnotation(AnnotationBeanNameGenerator.java:103) ~[spring-context-5.3.19.jar:5.3.19]\r\n        at org.springframework.context.annotation.AnnotationBeanNameGenerator.generateBeanName(AnnotationBeanNameGenerator.java:82) ~[spring-context-5.3.19.jar:5.3.19]\r\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.registerBeanDefinitionForImportedConfigurationClass(ConfigurationClassBeanDefinitionReader.java:169) ~[spring-context-5.3.19.jar:5.3.19]\r\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:150) ~[spring-context-5.3.19.jar:5.3.19]\r\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129) ~[spring-context-5.3.19.jar:5.3.19]\r\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:343) ~[spring-context-5.3.19.jar:5.3.19]\r\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.19.jar:5.3.19]\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.19.jar:5.3.19]\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.19.jar:5.3.19]\r\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.19.jar:5.3.19]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.19.jar:5.3.19]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.7.jar:2.6.7]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.7.jar:2.6.7]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.7.jar:2.6.7]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.7.jar:2.6.7]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.7.jar:2.6.7]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.7.jar:2.6.7]\r\n        at *MY APPLICATION PATH*(MyApplication.java:10) ~[classes/:na]\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n        at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.6.7.jar:2.6.7]\r\nCaused by: java.lang.ClassNotFoundException: io.awspring.cloud.jdbc.config.annotation.AmazonRdsInstanceConfiguration\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n        at java.base/java.lang.Class.forName0(Native Method) ~[na:na]\r\n        at java.base/java.lang.Class.forName(Class.java:495) ~[na:na]\r\n        at java.base/java.lang.Class.forName(Class.java:474) ~[na:na]\r\n        at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:145) ~[spring-boot-devtools-2.6.7.jar:2.6.7]\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n        at java.base/java.lang.Class.forName0(Native Method) ~[na:na]\r\n        at java.base/java.lang.Class.forName(Class.java:495) ~[na:na]\r\n        at java.base/java.lang.Class.forName(Class.java:474) ~[na:na]\r\n        at org.springframework.util.ClassUtils.forName(ClassUtils.java:284) ~[spring-core-5.3.19.jar:5.3.19]\r\n        at org.springframework.util.ClassUtils.resolveClassName(ClassUtils.java:324) ~[spring-core-5.3.19.jar:5.3.19]\r\n        ... 28 common frames omitted\r\n\r\n```\r\nHere is the main class\r\n\r\n```\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class EmailApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(EmailApplication.class, args);\r\n\t}\r\n\r\n}\r\n```","title":"Getting &quot;java.lang.ClassNotFoundException: io.awspring.cloud.jdbc.config.annotation.AmazonRdsInstanceConfiguration&quot; when working with Amazon SES","body":"<p>I am trying to get my spring application to run with Amazon SES but keep getting an exception during the build process saying &quot;java.lang.ClassNotFoundException: io.awspring.cloud.jdbc.config.annotation.AmazonRdsInstanceConfiguration&quot; I was following an example online at <a href=\"https://stackabuse.com/guide-to-simple-email-service-aws-ses-with-spring-boot-and-spring-cloud/\" rel=\"nofollow noreferrer\">https://stackabuse.com/guide-to-simple-email-service-aws-ses-with-spring-boot-and-spring-cloud/</a></p>\n<p>Here is my Config file</p>\n<pre><code>import com.amazonaws.auth.AWSStaticCredentialsProvider;\nimport com.amazonaws.auth.BasicAWSCredentials;\nimport com.amazonaws.services.simpleemail.AmazonSimpleEmailService;\nimport com.amazonaws.services.simpleemail.AmazonSimpleEmailServiceClientBuilder;\nimport io.awspring.cloud.ses.SimpleEmailServiceMailSender;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.mail.MailSender;\n\n@Configuration\npublic class AmazonSESConfig {\n\n    @Value(&quot;${amazon.aws.accessKey}&quot;)\n    private String accessKey;\n    @Value(&quot;${amazon.aws.secretKey}&quot;)\n    private String secretKey;\n\n    @Value(&quot;${amazon.aws.region}&quot;)\n    private String region;\n\n    @Bean\n    public AmazonSimpleEmailService amazonSimpleEmailService() {\n        BasicAWSCredentials credentials = new BasicAWSCredentials(accessKey, secretKey);\n        return AmazonSimpleEmailServiceClientBuilder\n                .standard()\n                .withCredentials(new AWSStaticCredentialsProvider(credentials))\n                .withRegion(region)\n                .build();\n\n    }\n\n    @Bean\n    public MailSender mailSender(AmazonSimpleEmailService amazonSimpleEmailService) {\n        return new SimpleEmailServiceMailSender(amazonSimpleEmailService);\n    }\n}\n</code></pre>\n<p>Here is my properties file</p>\n<pre><code>amazon.aws.accessKey=ACCESS_KEY\namazon.aws.secretKey=SECRET_KEY\namazon.aws.region=ca-central-1\n</code></pre>\n<p>Here is my service file</p>\n<pre><code>@Service\npublic class CorrespondenceService {\n\n    @Autowired\n    private MailSender mailSender;\n\n    public void sendMail(){\n    \n        SimpleMailMessage simpleMailMessage = new SimpleMailMessage();\n        simpleMailMessage.setFrom(&quot;testFromEmail@test.com&quot;);\n        simpleMailMessage.setTo(&quot;testToEmail@test.com&quot;);\n        simpleMailMessage.setSubject(&quot;Test&quot;);\n        simpleMailMessage.setText(&quot;This email is a test&quot;);\n\n        mailSender.send(simpleMailMessage);\n\n\n    }\n\n}\n</code></pre>\n<p>Finally here is the error from the console.</p>\n<pre><code>java.lang.IllegalArgumentException: Could not find class [io.awspring.cloud.jdbc.config.annotation.AmazonRdsInstanceConfiguration]\n        at org.springframework.util.ClassUtils.resolveClassName(ClassUtils.java:334) ~[spring-core-5.3.19.jar:5.3.19]\n        at org.springframework.core.annotation.TypeMappedAnnotation.adapt(TypeMappedAnnotation.java:446) ~[spring-core-5.3.19.jar:5.3.19]\n        at org.springframework.core.annotation.TypeMappedAnnotation.getValue(TypeMappedAnnotation.java:369) ~[spring-core-5.3.19.jar:5.3.19]\n        at org.springframework.core.annotation.TypeMappedAnnotation.asMap(TypeMappedAnnotation.java:284) ~[spring-core-5.3.19.jar:5.3.19]\n        at org.springframework.core.annotation.AbstractMergedAnnotation.asAnnotationAttributes(AbstractMergedAnnotation.java:193) ~[spring-core-5.3.19.jar:5.3.19]\n        at org.springframework.core.type.AnnotatedTypeMetadata.getAnnotationAttributes(AnnotatedTypeMetadata.java:106) ~[spring-core-5.3.19.jar:5.3.19]\n        at org.springframework.core.type.AnnotatedTypeMetadata.getAnnotationAttributes(AnnotatedTypeMetadata.java:81) ~[spring-core-5.3.19.jar:5.3.19]\n        at org.springframework.context.annotation.AnnotationConfigUtils.attributesFor(AnnotationConfigUtils.java:285) ~[spring-context-5.3.19.jar:5.3.19]\n        at org.springframework.context.annotation.AnnotationBeanNameGenerator.determineBeanNameFromAnnotation(AnnotationBeanNameGenerator.java:103) ~[spring-context-5.3.19.jar:5.3.19]\n        at org.springframework.context.annotation.AnnotationBeanNameGenerator.generateBeanName(AnnotationBeanNameGenerator.java:82) ~[spring-context-5.3.19.jar:5.3.19]\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.registerBeanDefinitionForImportedConfigurationClass(ConfigurationClassBeanDefinitionReader.java:169) ~[spring-context-5.3.19.jar:5.3.19]\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:150) ~[spring-context-5.3.19.jar:5.3.19]\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129) ~[spring-context-5.3.19.jar:5.3.19]\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:343) ~[spring-context-5.3.19.jar:5.3.19]\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.19.jar:5.3.19]\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.19.jar:5.3.19]\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.19.jar:5.3.19]\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.19.jar:5.3.19]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.19.jar:5.3.19]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.7.jar:2.6.7]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.7.jar:2.6.7]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.7.jar:2.6.7]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.7.jar:2.6.7]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.7.jar:2.6.7]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.7.jar:2.6.7]\n        at *MY APPLICATION PATH*(MyApplication.java:10) ~[classes/:na]\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n        at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.6.7.jar:2.6.7]\nCaused by: java.lang.ClassNotFoundException: io.awspring.cloud.jdbc.config.annotation.AmazonRdsInstanceConfiguration\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n        at java.base/java.lang.Class.forName0(Native Method) ~[na:na]\n        at java.base/java.lang.Class.forName(Class.java:495) ~[na:na]\n        at java.base/java.lang.Class.forName(Class.java:474) ~[na:na]\n        at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:145) ~[spring-boot-devtools-2.6.7.jar:2.6.7]\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n        at java.base/java.lang.Class.forName0(Native Method) ~[na:na]\n        at java.base/java.lang.Class.forName(Class.java:495) ~[na:na]\n        at java.base/java.lang.Class.forName(Class.java:474) ~[na:na]\n        at org.springframework.util.ClassUtils.forName(ClassUtils.java:284) ~[spring-core-5.3.19.jar:5.3.19]\n        at org.springframework.util.ClassUtils.resolveClassName(ClassUtils.java:324) ~[spring-core-5.3.19.jar:5.3.19]\n        ... 28 common frames omitted\n\n</code></pre>\n<p>Here is the main class</p>\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class EmailApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(EmailApplication.class, args);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","eclipse","teamcenter"],"answers":[{"tags":[],"owner":{"account_id":431710,"reputation":3063,"user_id":815961,"accept_rate":51,"display_name":"Pavan Dittakavi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684775332,"creation_date":1684775332,"answer_id":76308494,"question_id":76226457,"body_markdown":"I tried the same code in a dummy project and see that it alteast compiles without any issue. Of course, I did not run this.\r\n\r\n[![Eclipse build - Simple Project][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/le4Fc.png\r\n\r\nHope this helps you!.","title":"Accessing profile data from teamcenter 13 3 user in Java","body":"<p>I tried the same code in a dummy project and see that it alteast compiles without any issue. Of course, I did not run this.</p>\n<p><a href=\"https://i.stack.imgur.com/le4Fc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/le4Fc.png\" alt=\"Eclipse build - Simple Project\" /></a></p>\n<p>Hope this helps you!.</p>\n"}],"owner":{"account_id":19526279,"reputation":43,"user_id":14287068,"display_name":"Yanosik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684775332,"creation_date":1683799699,"question_id":76226457,"body_markdown":"I&#39;m trying to return profile data from the the currently logged in user in teamcenter 13 3 using java 11.0.17 and Eclipse 2013 3. I&#39;ve tried the method submitted a while ago (https://stackoverflow.com/a/21730281/14287068) but I&#39;ve got problems with imports because either *com.teamcenter.rac.aif.AIFUtilit* and *com.teamcenter.rac.aif.AbstractAIFSessio* does not exist and I cannot use them. \r\n\r\nDoes anyone have any idea how to do this or provide some documentation because Siemens is not really helping.","title":"Accessing profile data from teamcenter 13 3 user in Java","body":"<p>I'm trying to return profile data from the the currently logged in user in teamcenter 13 3 using java 11.0.17 and Eclipse 2013 3. I've tried the method submitted a while ago (<a href=\"https://stackoverflow.com/a/21730281/14287068\">https://stackoverflow.com/a/21730281/14287068</a>) but I've got problems with imports because either <em>com.teamcenter.rac.aif.AIFUtilit</em> and <em>com.teamcenter.rac.aif.AbstractAIFSessio</em> does not exist and I cannot use them.</p>\n<p>Does anyone have any idea how to do this or provide some documentation because Siemens is not really helping.</p>\n"},{"tags":["java","spring-boot","apache-kafka-streams"],"owner":{"account_id":1698938,"reputation":1091,"user_id":1559603,"display_name":"Fatih Arslan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684775167,"creation_date":1684775167,"question_id":76308480,"body_markdown":"Is it possible to mark kafka stream processor classes as spring bean like @Component and inject some managed business logic ?\r\n\r\n```\r\n@Component\r\n@Scope(&quot;prototype&quot;) // is this necessary?\r\npublic class TestProcessor implements Processor&lt;Long, String, Long, Integer&gt; {\r\n    @Autowired\r\n    private AnotherSpringComponentBean bean2;\r\n\r\n    public TestProcessor(SpringBeanObject bean) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void init(ProcessorContext&lt;Long, Integer&gt; context) {\r\n        Processor.super.init(context);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void process(Record&lt;Long, String&gt; record) {\r\n        //forward code\r\n        bean2.doLogic();\r\n        bean.doJob();\r\n    }\r\n}\r\n```\r\n\r\n\r\nIn case of a topic with 20 partitions, I configure the num.stream.thread value to 20.\r\nWell, what i dont understand is how stream threads work with those processors managed by mean. Are they creating new processor object instances for their task executor? or every stream thread is constructed using TestTopology class?\r\n\r\nIm not sure if I explained my question though\r\n\r\n\r\ntopology\r\n\r\n```\r\n@Component\r\npublic class TestTopology {\r\n    @Autowired\r\n    private ApplicationContext ctx;\r\n\r\n    @Autowired\r\n    void start(StreamsBuilder streamsBuilder, SpringBeanObject bean) {\r\n        Topology t = streamsBuilder.build();\r\n        t.addSource(&quot;inTopic&quot;).addProcessor(&quot;processor1&quot;, () -&gt; new TestProcessor(bean)).addSink(&quot;outTopic&quot;, &quot;processor1&quot;);\r\n    }\r\n}\r\n```","title":"Is it possible to use Kafka Stream Processor API as Spring Beans","body":"<p>Is it possible to mark kafka stream processor classes as spring bean like @Component and inject some managed business logic ?</p>\n<pre><code>@Component\n@Scope(&quot;prototype&quot;) // is this necessary?\npublic class TestProcessor implements Processor&lt;Long, String, Long, Integer&gt; {\n    @Autowired\n    private AnotherSpringComponentBean bean2;\n\n    public TestProcessor(SpringBeanObject bean) {\n\n    }\n\n    @Override\n    public void init(ProcessorContext&lt;Long, Integer&gt; context) {\n        Processor.super.init(context);\n\n    }\n\n    @Override\n    public void process(Record&lt;Long, String&gt; record) {\n        //forward code\n        bean2.doLogic();\n        bean.doJob();\n    }\n}\n</code></pre>\n<p>In case of a topic with 20 partitions, I configure the num.stream.thread value to 20.\nWell, what i dont understand is how stream threads work with those processors managed by mean. Are they creating new processor object instances for their task executor? or every stream thread is constructed using TestTopology class?</p>\n<p>Im not sure if I explained my question though</p>\n<p>topology</p>\n<pre><code>@Component\npublic class TestTopology {\n    @Autowired\n    private ApplicationContext ctx;\n\n    @Autowired\n    void start(StreamsBuilder streamsBuilder, SpringBeanObject bean) {\n        Topology t = streamsBuilder.build();\n        t.addSource(&quot;inTopic&quot;).addProcessor(&quot;processor1&quot;, () -&gt; new TestProcessor(bean)).addSink(&quot;outTopic&quot;, &quot;processor1&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-kafka","quarkus","smallrye-reactive-messaging","kogito"],"comments":[{"owner":{"account_id":22672227,"reputation":121,"user_id":16843807,"display_name":"Francisco Javier Tirado Sarti"},"score":1,"creation_date":1685634720,"post_id":76244325,"comment_id":134691165,"body_markdown":"There was a configuration problem. See my answer [here](https://stackoverflow.com/a/76383369/16843807)","body":"There was a configuration problem. See my answer <a href=\"https://stackoverflow.com/a/76383369/16843807\">here</a>"}],"owner":{"account_id":20260580,"reputation":135,"user_id":14859042,"display_name":"codeforHarman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684774942,"creation_date":1684002711,"question_id":76244325,"body_markdown":"I have tried integrating Quarkus start and end with message using Smallrye Kafka.\r\nBut i am getting following error when i create kafka connections\r\n\r\n```\r\n Failed to start quarkus: java.lang.RuntimeException: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\r\n        [error]: Build step io.quarkus.arc.deployment.ArcProcessor#validate threw an exception: javax.enterprise.inject.spi.DeploymentException: javax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type org.kie.kogito.event.EventEmitter and qualifiers [@Default]\r\n        - java member: com.example.MyendMessageProducer_1#emitter\r\n        - declared on CLASS bean [types=[org.kie.kogito.services.event.impl.AbstractMessageProducer&lt;io.example.models.Location&gt;, java.lang.Object, com.example.MyendMessageProducer_1], qualifiers=[@Default, @Any], target=com.example.MyendMessageProducer_1]\r\n        The following beans match by type, but none have matching qualifiers:\r\n                - Bean [class=org.kie.kogito.app.SampleeventsEventEmitter, qualifiers=[@SampleeventsQualifier, @Any]]\r\n        at io.quarkus.arc.processor.BeanDeployment.processErrors(BeanDeployment.java:1209)\r\n        at io.quarkus.arc.processor.BeanDeployment.init(BeanDeployment.java:275)\r\n        at io.quarkus.arc.processor.BeanProcessor.initialize(BeanProcessor.java:134)\r\n        at io.quarkus.arc.deployment.ArcProcessor.validate(ArcProcessor.java:494)\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n        at io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:944)\r\n        at io.quarkus.builder.BuildContext.run(BuildContext.java:277)\r\n        at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n        at java.base/java.lang.Thread.run(Thread.java:1589)\r\n        at org.jboss.threads.JBossThread.run(JBossThread.java:501)\r\n```\r\n\r\nI have added the addons pom dependency for messaging\r\n```\r\n &lt;dependency&gt;\r\n      &lt;groupId&gt;org.kie.kogito&lt;/groupId&gt;\r\n      &lt;artifactId&gt;kogito-addons-quarkus-messaging&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nThe below are my properties for Kafka topics\r\n\r\n```\r\nmp.messaging.incoming.kogito_incoming_stream.connector=smallrye-kafka\r\nmp.messaging.incoming.kogito_incoming_stream.topic=sample-events\r\nmp.messaging.incoming.kogito_incoming_stream.value.deserializer=org.apache.kafka.common.serialization.StringDeserializer\r\nmp.messaging.incoming.kogito_incoming_stream.auto.offset.reset=earliest\r\n\r\nmp.messaging.incoming.kogito_incoming_event.connector=smallrye-kafka\r\nmp.messaging.incoming.kogito_incoming_event.topic=new-event\r\nmp.messaging.incoming.kogito_incoming_event.value.deserializer=org.apache.kafka.common.serialization.StringDeserializer\r\nmp.messaging.incoming.kogito_incoming_event.auto.offset.reset=earliest\r\n\r\nmp.messaging.outgoing.sample-events.connector=smallrye-kafka\r\nmp.messaging.outgoing.sample-events.topic=sample-events\r\nmp.messaging.outgoing.sample-events.value.serializer=org.apache.kafka.common.serialization.StringSerializer\r\n\r\nmp.messaging.outgoing.sample_new_event.connector=smallrye-kafka\r\nmp.messaging.outgoing.sample_new_event.topic=new-event\r\nmp.messaging.outgoing.sample_new_event.value.serializer=org.apache.kafka.common.serialization.StringSerializer\r\n\r\nquarkus.reactive-messaging.auto-connector-attachment=true\r\n```\r\n\r\nThe below are my versions of various dependencies\r\n```\r\n &lt;compiler-plugin.version&gt;3.8.1&lt;/compiler-plugin.version&gt;\r\n    &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    &lt;quarkus.platform.artifact-id&gt;quarkus-bom&lt;/quarkus.platform.artifact-id&gt;\r\n    &lt;quarkus.platform.group-id&gt;io.quarkus.platform&lt;/quarkus.platform.group-id&gt;\r\n    &lt;quarkus.platform.version&gt;2.10.2.Final&lt;/quarkus.platform.version&gt;\r\n    &lt;skipITs&gt;true&lt;/skipITs&gt;\r\n    &lt;surefire-plugin.version&gt;3.0.0-M7&lt;/surefire-plugin.version&gt;\r\n```\r\n\r\nAny idea on this?","title":"Quarkus Message Addons with Smallrye Kafka Throws error","body":"<p>I have tried integrating Quarkus start and end with message using Smallrye Kafka.\nBut i am getting following error when i create kafka connections</p>\n<pre><code> Failed to start quarkus: java.lang.RuntimeException: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\n        [error]: Build step io.quarkus.arc.deployment.ArcProcessor#validate threw an exception: javax.enterprise.inject.spi.DeploymentException: javax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type org.kie.kogito.event.EventEmitter and qualifiers [@Default]\n        - java member: com.example.MyendMessageProducer_1#emitter\n        - declared on CLASS bean [types=[org.kie.kogito.services.event.impl.AbstractMessageProducer&lt;io.example.models.Location&gt;, java.lang.Object, com.example.MyendMessageProducer_1], qualifiers=[@Default, @Any], target=com.example.MyendMessageProducer_1]\n        The following beans match by type, but none have matching qualifiers:\n                - Bean [class=org.kie.kogito.app.SampleeventsEventEmitter, qualifiers=[@SampleeventsQualifier, @Any]]\n        at io.quarkus.arc.processor.BeanDeployment.processErrors(BeanDeployment.java:1209)\n        at io.quarkus.arc.processor.BeanDeployment.init(BeanDeployment.java:275)\n        at io.quarkus.arc.processor.BeanProcessor.initialize(BeanProcessor.java:134)\n        at io.quarkus.arc.deployment.ArcProcessor.validate(ArcProcessor.java:494)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n        at io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:944)\n        at io.quarkus.builder.BuildContext.run(BuildContext.java:277)\n        at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\n        at java.base/java.lang.Thread.run(Thread.java:1589)\n        at org.jboss.threads.JBossThread.run(JBossThread.java:501)\n</code></pre>\n<p>I have added the addons pom dependency for messaging</p>\n<pre><code> &lt;dependency&gt;\n      &lt;groupId&gt;org.kie.kogito&lt;/groupId&gt;\n      &lt;artifactId&gt;kogito-addons-quarkus-messaging&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>The below are my properties for Kafka topics</p>\n<pre><code>mp.messaging.incoming.kogito_incoming_stream.connector=smallrye-kafka\nmp.messaging.incoming.kogito_incoming_stream.topic=sample-events\nmp.messaging.incoming.kogito_incoming_stream.value.deserializer=org.apache.kafka.common.serialization.StringDeserializer\nmp.messaging.incoming.kogito_incoming_stream.auto.offset.reset=earliest\n\nmp.messaging.incoming.kogito_incoming_event.connector=smallrye-kafka\nmp.messaging.incoming.kogito_incoming_event.topic=new-event\nmp.messaging.incoming.kogito_incoming_event.value.deserializer=org.apache.kafka.common.serialization.StringDeserializer\nmp.messaging.incoming.kogito_incoming_event.auto.offset.reset=earliest\n\nmp.messaging.outgoing.sample-events.connector=smallrye-kafka\nmp.messaging.outgoing.sample-events.topic=sample-events\nmp.messaging.outgoing.sample-events.value.serializer=org.apache.kafka.common.serialization.StringSerializer\n\nmp.messaging.outgoing.sample_new_event.connector=smallrye-kafka\nmp.messaging.outgoing.sample_new_event.topic=new-event\nmp.messaging.outgoing.sample_new_event.value.serializer=org.apache.kafka.common.serialization.StringSerializer\n\nquarkus.reactive-messaging.auto-connector-attachment=true\n</code></pre>\n<p>The below are my versions of various dependencies</p>\n<pre><code> &lt;compiler-plugin.version&gt;3.8.1&lt;/compiler-plugin.version&gt;\n    &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;quarkus.platform.artifact-id&gt;quarkus-bom&lt;/quarkus.platform.artifact-id&gt;\n    &lt;quarkus.platform.group-id&gt;io.quarkus.platform&lt;/quarkus.platform.group-id&gt;\n    &lt;quarkus.platform.version&gt;2.10.2.Final&lt;/quarkus.platform.version&gt;\n    &lt;skipITs&gt;true&lt;/skipITs&gt;\n    &lt;surefire-plugin.version&gt;3.0.0-M7&lt;/surefire-plugin.version&gt;\n</code></pre>\n<p>Any idea on this?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":1,"creation_date":1684747681,"post_id":76304418,"comment_id":134556844,"body_markdown":"The problem is probably because you have it in a `@Transactional` method. It will not update from DB as long as your are in the same transaction. You would need to fetch this after transaction is completed.","body":"The problem is probably because you have it in a <code>@Transactional</code> method. It will not update from DB as long as your are in the same transaction. You would need to fetch this after transaction is completed."},{"owner":{"account_id":25378677,"reputation":81,"user_id":19191401,"display_name":"huga721"},"score":0,"creation_date":1684747900,"post_id":76304418,"comment_id":134556881,"body_markdown":"@grekier Even though I delete `@Transactional` it still doesn&#39;t update while method is executing but it&#39;s updated after","body":"@grekier Even though I delete <code>@Transactional</code> it still doesn&#39;t update while method is executing but it&#39;s updated after"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684749305,"post_id":76304418,"comment_id":134557229,"body_markdown":"WHy should it? You aren&#39;t reloading `B` so why should it magically have `A` added to that representation?","body":"WHy should it? You aren&#39;t reloading <code>B</code> so why should it magically have <code>A</code> added to that representation?"},{"owner":{"account_id":25378677,"reputation":81,"user_id":19191401,"display_name":"huga721"},"score":0,"creation_date":1684749931,"post_id":76304418,"comment_id":134557351,"body_markdown":"@M.Deinum Reloading `B` with flush() method doesnt work","body":"@M.Deinum Reloading <code>B</code> with flush() method doesnt work"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684752720,"post_id":76304418,"comment_id":134557876,"body_markdown":"`flush` isn&#39;t a reload. You need to either call `refresh` with the entity or `flush` and `clear` the entitymanager and then reload `B`. Your edit isn&#39;t reloading either as it will take it from the first level cache. Part of your problem is that you aren&#39;t really managing the bi-directional relation ship, you are setting only 1 half and not the other.","body":"<code>flush</code> isn&#39;t a reload. You need to either call <code>refresh</code> with the entity or <code>flush</code> and <code>clear</code> the entitymanager and then reload <code>B</code>. Your edit isn&#39;t reloading either as it will take it from the first level cache. Part of your problem is that you aren&#39;t really managing the bi-directional relation ship, you are setting only 1 half and not the other."},{"owner":{"account_id":25378677,"reputation":81,"user_id":19191401,"display_name":"huga721"},"score":0,"creation_date":1684774974,"post_id":76304418,"comment_id":134562810,"body_markdown":"Thank you @M.Deinum `entityManager.refresh(a)` works fine. Is there any other way to make it work? For example calling second findEntityByUsername(username) without entity manager and without `@Transaction`? Since it&#39;s not annotated with `@Transaction` then Hibernate is not commiting the SQL statement under one commit, am I right?","body":"Thank you @M.Deinum <code>entityManager.refresh(a)</code> works fine. Is there any other way to make it work? For example calling second findEntityByUsername(username) without entity manager and without <code>@Transaction</code>? Since it&#39;s not annotated with <code>@Transaction</code> then Hibernate is not commiting the SQL statement under one commit, am I right?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1684820763,"post_id":76304418,"comment_id":134568595,"body_markdown":"It has nothing to do with `@Transactional` but your lack of understanding how hibernate works. Either manage both sides of the relation (when adding it to the colleciton, set the reference on the other side as well and/or vice-versa) or refresh the entity.","body":"It has nothing to do with <code>@Transactional</code> but your lack of understanding how hibernate works. Either manage both sides of the relation (when adding it to the colleciton, set the reference on the other side as well and/or vice-versa) or refresh the entity."}],"answers":[{"comments":[{"owner":{"account_id":25378677,"reputation":81,"user_id":19191401,"display_name":"huga721"},"score":0,"creation_date":1684749905,"post_id":76304965,"comment_id":134557345,"body_markdown":"I updated my question. Now I&#39;m reloading both tables but it doesn&#39;t. Also another call to method doesn&#39;t work","body":"I updated my question. Now I&#39;m reloading both tables but it doesn&#39;t. Also another call to method doesn&#39;t work"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1684753129,"post_id":76304965,"comment_id":134557946,"body_markdown":"Very mysterious.. I have updated my answer with a suggestion.","body":"Very mysterious.. I have updated my answer with a suggestion."},{"owner":{"account_id":25378677,"reputation":81,"user_id":19191401,"display_name":"huga721"},"score":0,"creation_date":1684775070,"post_id":76304965,"comment_id":134562829,"body_markdown":"Somehow it still didn&#39;t work, I edited question and updated the code and new service class like you suggested me too.","body":"Somehow it still didn&#39;t work, I edited question and updated the code and new service class like you suggested me too."}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684753077,"creation_date":1684749236,"answer_id":76304965,"question_id":76304418,"body_markdown":"Try wrapping the repo save() calls in @Transactional methods in a new service class. They need to be a a separate service to support transactional proxy.  \r\n\r\n","title":"Spring JPA/Hibernate problem with updating entity","body":"<p>Try wrapping the repo save() calls in @Transactional methods in a new service class. They need to be a a separate service to support transactional proxy.</p>\n"}],"owner":{"account_id":25378677,"reputation":81,"user_id":19191401,"display_name":"huga721"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684774679,"creation_date":1684745062,"question_id":76304418,"body_markdown":"Method in service is responsible for saving A Entity. A entity has @ManyToOne relation with B Entity. &lt;br&gt;\r\nA Entity\r\n```\r\n@Entity\r\npublic class A {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @ManyToOne\r\n    private B b;\r\n```\r\nB Entity\r\n```\r\n@Entity\r\npublic class B {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @OneToMany(mappedBy = &quot;A&quot;, cascade = CascadeType.REMOVE)\r\n    private List&lt;A&gt; A;\r\n\r\n```\r\nA Service method\r\n```\r\n    @Transactional\r\n    @Override\r\n    public ADTO createA (String username) {\r\n        B b = findEntityByUsername(username);\r\n        log.info(&quot;ACTUAL NUMBER OF A = {}&quot;, b.getA().size());\r\n        A a = AMapper.buildA(b);\r\n        ARepository.save(a);\r\n        log.info(&quot;ACTUAL NUMBER OF A = {}&quot;, b.getA().size());\r\n        return AMapper.buildADTO(a);\r\n    }\r\n```\r\nWhile executing createA method, I&#39;m calling ARepository.save to save entity, then im checking it in log if size of list changed, but it didn&#39;t. When I call createA method once again then it shows that the size of list changed and entity was saved. I want to have it in real time not after method was executed.\r\n&lt;br&gt;&lt;br&gt;\r\nEDIT\r\n&lt;br&gt;\r\nEntity manager refresh method `entityManager.refresh(b);` helped me to refresh A entity to get updated size List of A entity. But to make it work I need `@Transaction` annotation on `createA()` method. &lt;br&gt;\r\nWrapping repo save() method in separate class to support transactional proxy didnt work.\r\n```\r\n@Service\r\n@Transactional\r\n@RequiredArgsConstructor\r\npublic class ASaveService {\r\n\r\n    private final ARepository aRepository;\r\n\r\n    public void saveA(A a) {\r\n        aRepository.save(a);\r\n    }\r\n}\r\n```\r\nThis is what works now\r\n```\r\n    @Transactional\r\n    @Override\r\n    public ADTO createA (String username) {\r\n        B b = findEntityByUsername(username);\r\n        log.info(&quot;ACTUAL NUMBER OF A = {}&quot;, b.getA().size());\r\n        A a = AMapper.buildA(b);\r\n        ARepository.save(a);\r\n        entityManager.refresh(a);\r\n        log.info(&quot;ACTUAL NUMBER OF A = {}&quot;, b.getA().size());\r\n        return AMapper.buildADTO(a);\r\n    }\r\n```\r\nIs there any other way to make it work? For example calling second `findEntityByUsername(username)` without entity manager?\r\n","title":"Spring JPA/Hibernate problem with updating entity","body":"<p>Method in service is responsible for saving A Entity. A entity has @ManyToOne relation with B Entity. <br>\nA Entity</p>\n<pre><code>@Entity\npublic class A {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @ManyToOne\n    private B b;\n</code></pre>\n<p>B Entity</p>\n<pre><code>@Entity\npublic class B {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @OneToMany(mappedBy = &quot;A&quot;, cascade = CascadeType.REMOVE)\n    private List&lt;A&gt; A;\n\n</code></pre>\n<p>A Service method</p>\n<pre><code>    @Transactional\n    @Override\n    public ADTO createA (String username) {\n        B b = findEntityByUsername(username);\n        log.info(&quot;ACTUAL NUMBER OF A = {}&quot;, b.getA().size());\n        A a = AMapper.buildA(b);\n        ARepository.save(a);\n        log.info(&quot;ACTUAL NUMBER OF A = {}&quot;, b.getA().size());\n        return AMapper.buildADTO(a);\n    }\n</code></pre>\n<p>While executing createA method, I'm calling ARepository.save to save entity, then im checking it in log if size of list changed, but it didn't. When I call createA method once again then it shows that the size of list changed and entity was saved. I want to have it in real time not after method was executed.\n<br><br>\nEDIT\n<br>\nEntity manager refresh method <code>entityManager.refresh(b);</code> helped me to refresh A entity to get updated size List of A entity. But to make it work I need <code>@Transaction</code> annotation on <code>createA()</code> method. <br>\nWrapping repo save() method in separate class to support transactional proxy didnt work.</p>\n<pre><code>@Service\n@Transactional\n@RequiredArgsConstructor\npublic class ASaveService {\n\n    private final ARepository aRepository;\n\n    public void saveA(A a) {\n        aRepository.save(a);\n    }\n}\n</code></pre>\n<p>This is what works now</p>\n<pre><code>    @Transactional\n    @Override\n    public ADTO createA (String username) {\n        B b = findEntityByUsername(username);\n        log.info(&quot;ACTUAL NUMBER OF A = {}&quot;, b.getA().size());\n        A a = AMapper.buildA(b);\n        ARepository.save(a);\n        entityManager.refresh(a);\n        log.info(&quot;ACTUAL NUMBER OF A = {}&quot;, b.getA().size());\n        return AMapper.buildADTO(a);\n    }\n</code></pre>\n<p>Is there any other way to make it work? For example calling second <code>findEntityByUsername(username)</code> without entity manager?</p>\n"},{"tags":["javascript","java","flask","frontend","cytoscape.js"],"owner":{"account_id":21695217,"reputation":1,"user_id":16009254,"display_name":"user16009254"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684774413,"creation_date":1684687928,"question_id":76300982,"body_markdown":"i am trying to visualize DAG graph data through java Sockets (Server-Client) i used Flask to create a web Application . The Client Should is sending the DAG graph data to the server and the server send these data to flask and flask it gonna visualize them using Cytoscape.js. it seems that everythings is running well the server the client the flask and everything it printed to console , but no graph is beeing displayed  i mean it shows no DAG graph on the page when i run the server then the Flask and then the client , also on web Console no error is given , and still not showing and displaying the graph , why is that ? and how i can lets the graph to be displayed ? \r\n\r\n\r\n```\r\nserver : import java.io.*;\r\nimport java.net.*;\r\n\r\npublic class Server {\r\n    private String message;\r\n\r\n    public void run() {\r\n        try (ServerSocket serverSocket = new ServerSocket(12345)) { // The Server class sets up a server socket on port\r\n                                                                    // 12345 using ServerSocket.\r\n            System.out.println(&quot;Server is running and waiting for client to connect...&quot;);\r\n            while (true) {\r\n                Socket socket = serverSocket.accept(); // waits for a client to connect\r\n                System.out.println(&quot;Client is connected&quot;);\r\n\r\n                BufferedReader in = new BufferedReader(new InputStreamReader(socket.getInputStream())); // reader to\r\n                                                                                                        // read incoming\r\n                                                                                                        // messages from\r\n                                                                                                        // Cleint\r\n\r\n                message = in.readLine(); // read the message from client and store it in the message variable.\r\n\r\n                System.out.println(&quot;Received message from client: &quot; + message);\r\n\r\n                // Send the message to the Flask app using a GET request. It opens a connection\r\n                // to the URL, sends the request, and disconnects.\r\n                URL url = new URL(&quot;http://localhost:5000/send_message?message=&quot; + message);\r\n                HttpURLConnection con = (HttpURLConnection) url.openConnection();\r\n                con.setRequestMethod(&quot;GET&quot;);\r\n                con.getResponseCode();\r\n                con.disconnect();\r\n\r\n                // Send the message back to the client as a response\r\n                PrintWriter out = new PrintWriter(socket.getOutputStream(), true);\r\n                out.println(message);\r\n\r\n                socket.close(); // close the socket\r\n                System.out.println(&quot;Server is running and waiting for client to next message...&quot;);\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public String getMessage() {\r\n        return message;\r\n    }\r\n\r\n    // New method to return the message\r\n    public String getMessageResponse() {\r\n        return &quot;Message from client: &quot; + message;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Server server = new Server();\r\n        server.run();\r\n    }\r\n}\r\n2- Client : \r\nimport java.io.*;\r\nimport java.net.*;\r\n\r\npublic class Client {\r\n    public static void main(String[] args) {\r\n        try (Socket socket = new Socket(&quot;localhost&quot;, 12345)) {\r\n            PrintWriter out = new PrintWriter(socket.getOutputStream(), true);\r\n            out.println(&quot;node:1,node:2,relation:1-&gt;2&quot;);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n3-app.py : import json\r\nfrom flask import Flask, render_template, request\r\nimport urllib.parse\r\n\r\napp = Flask(__name__)\r\n\r\nnodes = {}\r\nedges = []\r\n\r\n\r\n@app.route(&quot;/&quot;)\r\ndef index():\r\n    print(&quot;nodes:&quot;, nodes)\r\n    print(&quot;edges:&quot;, edges)\r\n    return render_template(\r\n        &quot;index.html&quot;, nodes=json.dumps(nodes), edges=json.dumps(edges)\r\n    )\r\n\r\n\r\n@app.route(&quot;/receive_message&quot;)\r\ndef receive_message():\r\n    message = request.args.get(&quot;message&quot;)\r\n    print(&quot;Received message:&quot;, message)\r\n    return message\r\n\r\n\r\n@app.route(&quot;/send_message&quot;)\r\ndef send_message():\r\n    global nodes, edges\r\n\r\n    message = urllib.parse.unquote(request.args.get(&quot;message&quot;))\r\n    message_type, message_data = message.split(&quot;:&quot;, 1)\r\n\r\n    if message_type == &quot;node&quot;:\r\n        node_id = message_data\r\n        if node_id not in nodes:\r\n            nodes[node_id] = {&quot;id&quot;: node_id, &quot;label&quot;: node_id}\r\n    elif message_type == &quot;relation&quot;:\r\n        source_id, target_id = message_data.split(&quot;-&gt;&quot;)\r\n        if source_id not in nodes:\r\n            nodes[source_id] = {&quot;id&quot;: source_id, &quot;label&quot;: source_id}\r\n        if target_id not in nodes:\r\n            nodes[target_id] = {&quot;id&quot;: target_id, &quot;label&quot;: target_id}\r\n        edges.append(\r\n            {\r\n                &quot;id&quot;: f&quot;{source_id}-{target_id}&quot;,\r\n                &quot;source&quot;: source_id,\r\n                &quot;target&quot;: target_id,\r\n            }\r\n        )\r\n\r\n    return &quot;Message received and processed successfully.&quot;\r\n\r\n\r\nif __name__ == &quot;__main__&quot;:\r\n    app.run(debug=True)\r\n4-index.html : &lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n\r\n&lt;head&gt;\r\n    &lt;title&gt;DAG Graph Visualization&lt;/title&gt;\r\n    &lt;script src=&quot;https://unpkg.com/cytoscape/dist/cytoscape.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script src=&quot;https://unpkg.com/dagre/dist/dagre.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script src=&quot;https://unpkg.com/cytoscape-dagre/cytoscape-dagre.js&quot;&gt;&lt;/script&gt;\r\n\r\n    &lt;style&gt;\r\n        #cy {\r\n            height: 600px;\r\n            width: 800px;\r\n            display: block;\r\n        }\r\n    &lt;/style&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n    &lt;div id=&quot;cy&quot;&gt;&lt;/div&gt;\r\n\r\n    &lt;script&gt;\r\n        // Retrieve the nodes and edges data passed from the Flask app\r\n        var nodes = JSON.parse(&#39;{{ nodes | safe }}&#39;);\r\n        var edges = JSON.parse(&#39;{{ edges | safe }}&#39;);\r\n\r\n        // Create a new Cytoscape instance\r\n        var cy = cytoscape({\r\n            container: document.getElementById(&#39;cy&#39;),\r\n            elements: {\r\n                nodes: nodes,\r\n                edges: edges\r\n            },\r\n            layout: {\r\n                name: &#39;dagre&#39;\r\n            },\r\n            style: [\r\n                // Define your graph styling here\r\n                {\r\n                    selector: &#39;node&#39;,\r\n                    style: {\r\n                        &#39;background-color&#39;: &#39;blue&#39;,\r\n                        &#39;label&#39;: &#39;data(label)&#39;\r\n                    }\r\n                },\r\n                {\r\n                    selector: &#39;edge&#39;,\r\n                    style: {\r\n                        &#39;width&#39;: 2,\r\n                        &#39;line-color&#39;: &#39;black&#39;\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n\r\n        console.log(&#39;nodes:&#39;, nodes);\r\n        console.log(&#39;edges:&#39;, edges);\r\n\r\n        // Use the dagre layout\r\n        cy.layout({\r\n            name: &#39;dagre&#39;\r\n        }).run();\r\n    &lt;/script&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;","title":"Data Visualiztion Using Java Sockets and Flask Python and Cytoscape.js dagre","body":"<p>i am trying to visualize DAG graph data through java Sockets (Server-Client) i used Flask to create a web Application . The Client Should is sending the DAG graph data to the server and the server send these data to flask and flask it gonna visualize them using Cytoscape.js. it seems that everythings is running well the server the client the flask and everything it printed to console , but no graph is beeing displayed  i mean it shows no DAG graph on the page when i run the server then the Flask and then the client , also on web Console no error is given , and still not showing and displaying the graph , why is that ? and how i can lets the graph to be displayed ?</p>\n<pre><code>server : import java.io.*;\nimport java.net.*;\n\npublic class Server {\n    private String message;\n\n    public void run() {\n        try (ServerSocket serverSocket = new ServerSocket(12345)) { // The Server class sets up a server socket on port\n                                                                    // 12345 using ServerSocket.\n            System.out.println(&quot;Server is running and waiting for client to connect...&quot;);\n            while (true) {\n                Socket socket = serverSocket.accept(); // waits for a client to connect\n                System.out.println(&quot;Client is connected&quot;);\n\n                BufferedReader in = new BufferedReader(new InputStreamReader(socket.getInputStream())); // reader to\n                                                                                                        // read incoming\n                                                                                                        // messages from\n                                                                                                        // Cleint\n\n                message = in.readLine(); // read the message from client and store it in the message variable.\n\n                System.out.println(&quot;Received message from client: &quot; + message);\n\n                // Send the message to the Flask app using a GET request. It opens a connection\n                // to the URL, sends the request, and disconnects.\n                URL url = new URL(&quot;http://localhost:5000/send_message?message=&quot; + message);\n                HttpURLConnection con = (HttpURLConnection) url.openConnection();\n                con.setRequestMethod(&quot;GET&quot;);\n                con.getResponseCode();\n                con.disconnect();\n\n                // Send the message back to the client as a response\n                PrintWriter out = new PrintWriter(socket.getOutputStream(), true);\n                out.println(message);\n\n                socket.close(); // close the socket\n                System.out.println(&quot;Server is running and waiting for client to next message...&quot;);\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public String getMessage() {\n        return message;\n    }\n\n    // New method to return the message\n    public String getMessageResponse() {\n        return &quot;Message from client: &quot; + message;\n    }\n\n    public static void main(String[] args) {\n        Server server = new Server();\n        server.run();\n    }\n}\n2- Client : \nimport java.io.*;\nimport java.net.*;\n\npublic class Client {\n    public static void main(String[] args) {\n        try (Socket socket = new Socket(&quot;localhost&quot;, 12345)) {\n            PrintWriter out = new PrintWriter(socket.getOutputStream(), true);\n            out.println(&quot;node:1,node:2,relation:1-&gt;2&quot;);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n3-app.py : import json\nfrom flask import Flask, render_template, request\nimport urllib.parse\n\napp = Flask(__name__)\n\nnodes = {}\nedges = []\n\n\n@app.route(&quot;/&quot;)\ndef index():\n    print(&quot;nodes:&quot;, nodes)\n    print(&quot;edges:&quot;, edges)\n    return render_template(\n        &quot;index.html&quot;, nodes=json.dumps(nodes), edges=json.dumps(edges)\n    )\n\n\n@app.route(&quot;/receive_message&quot;)\ndef receive_message():\n    message = request.args.get(&quot;message&quot;)\n    print(&quot;Received message:&quot;, message)\n    return message\n\n\n@app.route(&quot;/send_message&quot;)\ndef send_message():\n    global nodes, edges\n\n    message = urllib.parse.unquote(request.args.get(&quot;message&quot;))\n    message_type, message_data = message.split(&quot;:&quot;, 1)\n\n    if message_type == &quot;node&quot;:\n        node_id = message_data\n        if node_id not in nodes:\n            nodes[node_id] = {&quot;id&quot;: node_id, &quot;label&quot;: node_id}\n    elif message_type == &quot;relation&quot;:\n        source_id, target_id = message_data.split(&quot;-&gt;&quot;)\n        if source_id not in nodes:\n            nodes[source_id] = {&quot;id&quot;: source_id, &quot;label&quot;: source_id}\n        if target_id not in nodes:\n            nodes[target_id] = {&quot;id&quot;: target_id, &quot;label&quot;: target_id}\n        edges.append(\n            {\n                &quot;id&quot;: f&quot;{source_id}-{target_id}&quot;,\n                &quot;source&quot;: source_id,\n                &quot;target&quot;: target_id,\n            }\n        )\n\n    return &quot;Message received and processed successfully.&quot;\n\n\nif __name__ == &quot;__main__&quot;:\n    app.run(debug=True)\n4-index.html : &lt;!DOCTYPE html&gt;\n&lt;html&gt;\n\n&lt;head&gt;\n    &lt;title&gt;DAG Graph Visualization&lt;/title&gt;\n    &lt;script src=&quot;https://unpkg.com/cytoscape/dist/cytoscape.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://unpkg.com/dagre/dist/dagre.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://unpkg.com/cytoscape-dagre/cytoscape-dagre.js&quot;&gt;&lt;/script&gt;\n\n    &lt;style&gt;\n        #cy {\n            height: 600px;\n            width: 800px;\n            display: block;\n        }\n    &lt;/style&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;div id=&quot;cy&quot;&gt;&lt;/div&gt;\n\n    &lt;script&gt;\n        // Retrieve the nodes and edges data passed from the Flask app\n        var nodes = JSON.parse('{{ nodes | safe }}');\n        var edges = JSON.parse('{{ edges | safe }}');\n\n        // Create a new Cytoscape instance\n        var cy = cytoscape({\n            container: document.getElementById('cy'),\n            elements: {\n                nodes: nodes,\n                edges: edges\n            },\n            layout: {\n                name: 'dagre'\n            },\n            style: [\n                // Define your graph styling here\n                {\n                    selector: 'node',\n                    style: {\n                        'background-color': 'blue',\n                        'label': 'data(label)'\n                    }\n                },\n                {\n                    selector: 'edge',\n                    style: {\n                        'width': 2,\n                        'line-color': 'black'\n                    }\n                }\n            ]\n        });\n\n        console.log('nodes:', nodes);\n        console.log('edges:', edges);\n\n        // Use the dagre layout\n        cy.layout({\n            name: 'dagre'\n        }).run();\n    &lt;/script&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","string","xml-parsing"],"comments":[{"owner":{"account_id":14587108,"reputation":155,"user_id":10535520,"display_name":"Stone"},"score":0,"creation_date":1682548760,"post_id":76115373,"comment_id":134235577,"body_markdown":"Please print out the value of &quot;fileLines.get(i)&quot;. I am afraid the value of &quot;fileLines.get(i)&quot;  is not the one you mentioned.","body":"Please print out the value of &quot;fileLines.get(i)&quot;. I am afraid the value of &quot;fileLines.get(i)&quot;  is not the one you mentioned."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1682602793,"post_id":76115373,"comment_id":134244321,"body_markdown":"You should really use an XML parser.","body":"You should really use an XML parser."},{"owner":{"account_id":28427755,"reputation":9,"user_id":21748860,"display_name":"joseph michaels"},"score":0,"creation_date":1682627327,"post_id":76115373,"comment_id":134249983,"body_markdown":"Okay, sure but can you tell me why I&#39;m having the error so I have something to work with Mark? This is the second program that i&#39;m using XML tags in, so I cant understand why &lt;/Price&gt;&lt;Product&gt; in my xml tag is giving me a error?","body":"Okay, sure but can you tell me why I&#39;m having the error so I have something to work with Mark? This is the second program that i&#39;m using XML tags in, so I cant understand why &lt;/Price&gt;&lt;Product&gt; in my xml tag is giving me a error?"},{"owner":{"account_id":28427755,"reputation":9,"user_id":21748860,"display_name":"joseph michaels"},"score":0,"creation_date":1682627510,"post_id":76115373,"comment_id":134250011,"body_markdown":"Stone, the fileLines.get(i) is returning a string representation of product. Specifically:  it returns &lt;Index&gt;1&lt;/Index&gt;&lt;Price&gt;$18.38&lt;/Price&gt;&lt;Product&gt;Takis Fuego, 1 Ounce (46 Pack)&lt;/Product&gt;&lt;SoldBy&gt; Sam&#39;s Club&lt;/SoldBy&gt;&lt;href&gt;https://www.google.com/shopping/product/14559077146163012667?hl=en&amp;sxsrf=ALiCzsb1Gfl32-pXt32h0QkkE-T57FtdxA:1670964406762&amp;psb=1&amp;q=takis&amp;prds=eto:15330784880350744537_0,pid:15387764403936018691,rsk:PC_15179594788466925291&amp;sa=X&amp;ved=0ahUKEwjPgJuOvsj-AhUJGlkFHSQsBpcQ8gIIpgooAA&lt;/href&gt; when i = 0. The index tag starts at one.","body":"Stone, the fileLines.get(i) is returning a string representation of product. Specifically:  it returns &lt;Index&gt;1&lt;/Index&gt;&lt;Price&gt;$18.38&lt;/Price&gt;&lt;Product&gt;Takis Fuego, 1 Ounce (46 Pack)&lt;/Product&gt;&lt;SoldBy&gt; Sam&#39;s Club&lt;/SoldBy&gt;&lt;href&gt;<a href=\"https://www.google.com/shopping/product/14559077146163012667?hl=en&amp;sxsrf=ALiCzsb1Gfl32-pXt32h0QkkE-T57FtdxA:1670964406762&amp;psb=1&amp;q=takis&amp;prds=eto:15330784880350744537_0,pid:15387764403936018691,rsk:PC_15179594788466925291&amp;sa=X&amp;ved=0ahUKEwjPgJuOvsj-AhUJGlkFHSQsBpcQ8gIIpgooAA&lt;/href\" rel=\"nofollow noreferrer\">google.com/shopping/product/&hellip;</a>&gt; when i = 0. The index tag starts at one."},{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1682628071,"post_id":76115373,"comment_id":134250113,"body_markdown":"You are doing `fileLines.get(i)` to get one line and then `fileLines.indexOf(&quot;&lt;/Price&gt;&quot;)` which searches all the lines, which seems wrong - what is `fileLines`, exactly?","body":"You are doing <code>fileLines.get(i)</code> to get one line and then <code>fileLines.indexOf(&quot;&lt;&#47;Price&gt;&quot;)</code> which searches all the lines, which seems wrong - what is <code>fileLines</code>, exactly?"},{"owner":{"account_id":28427755,"reputation":9,"user_id":21748860,"display_name":"joseph michaels"},"score":0,"creation_date":1682628702,"post_id":76115373,"comment_id":134250226,"body_markdown":"Sorry, so what I&#39;m trying to do is make my program read a .txt file containing a list of products. Each product is one line in the file with xml tags used to separate each part of the product.  After each line is read, its put into a list of strings I&#39;m calling fileLines. So specifically: I&#39;m retrieving 1 product as a string, breaking down the line using `substring();` with  `filelines.indexOf();` to refer to the start and end of the substring containing the price.","body":"Sorry, so what I&#39;m trying to do is make my program read a .txt file containing a list of products. Each product is one line in the file with xml tags used to separate each part of the product.  After each line is read, its put into a list of strings I&#39;m calling fileLines. So specifically: I&#39;m retrieving 1 product as a string, breaking down the line using <code>substring();</code> with  <code>filelines.indexOf();</code> to refer to the start and end of the substring containing the price."},{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1682631969,"post_id":76115373,"comment_id":134250747,"body_markdown":"Well, do you see the problem? `fileLines` is a _list of multiple strings_. You get the _string_ at index i. Then you try to find &quot;&lt;/Price&gt;&quot; in the _list_ instead of within the _string_ itself.","body":"Well, do you see the problem? <code>fileLines</code> is a <i>list of multiple strings</i>. You get the <i>string</i> at index i. Then you try to find &quot;&lt;/Price&gt;&quot; in the <i>list</i> instead of within the <i>string</i> itself."},{"owner":{"account_id":28427755,"reputation":9,"user_id":21748860,"display_name":"joseph michaels"},"score":0,"creation_date":1682632092,"post_id":76115373,"comment_id":134250766,"body_markdown":"Then why is my starting index `&lt;Price&gt;` fine, its in the same substring?","body":"Then why is my starting index <code>&lt;Price&gt;</code> fine, its in the same substring?"},{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1682632229,"post_id":76115373,"comment_id":134250788,"body_markdown":"It&#39;s not. `fileLines.indexOf(&quot;&lt;Price&gt;&quot;.trim()) + &quot;&lt;Price&gt;&quot;.trim().length()` -&gt; indexOf give you -1 again + the length of the string (7) gives you 6 (as shown in your error) but it should be 16 based on your actual string.","body":"It&#39;s not. <code>fileLines.indexOf(&quot;&lt;Price&gt;&quot;.trim()) + &quot;&lt;Price&gt;&quot;.trim().length()</code> -&gt; indexOf give you -1 again + the length of the string (7) gives you 6 (as shown in your error) but it should be 16 based on your actual string."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1682679507,"post_id":76115373,"comment_id":134257281,"body_markdown":"Why not using an XM parser again?","body":"Why not using an XM parser again?"}],"answers":[{"tags":[],"owner":{"account_id":28427755,"reputation":9,"user_id":21748860,"display_name":"joseph michaels"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684245040,"creation_date":1684085946,"answer_id":76248871,"question_id":76115373,"body_markdown":"Turns out the answer was annoyingly simple: Each time the loop executes the program looks at a string in the list `fileLines` to parse the data. \r\n\r\nThe problem occurs when I set the start and end lengths of the index, I needed to include `get(i)` to the command to make sure it was looking at a specific line:\r\n~~~\r\nint psi = fileLines.get(i).indexOf(&quot;&lt;Price&gt;&quot;);\r\nint pei = fileLines.get(i).indexOf(&quot;&lt;/Price&gt;&quot;);\r\nprice = fileLines.get(i).substring(psi + &quot;&lt;Price&gt;&quot;.length(), pei);\r\nSystem.out.println(price);\r\n~~~\r\n\r\nSorry if I did not explain myself well.","title":"Why is the end xml tag not parsing properly?","body":"<p>Turns out the answer was annoyingly simple: Each time the loop executes the program looks at a string in the list <code>fileLines</code> to parse the data.</p>\n<p>The problem occurs when I set the start and end lengths of the index, I needed to include <code>get(i)</code> to the command to make sure it was looking at a specific line:</p>\n<pre><code>int psi = fileLines.get(i).indexOf(&quot;&lt;Price&gt;&quot;);\nint pei = fileLines.get(i).indexOf(&quot;&lt;/Price&gt;&quot;);\nprice = fileLines.get(i).substring(psi + &quot;&lt;Price&gt;&quot;.length(), pei);\nSystem.out.println(price);\n</code></pre>\n<p>Sorry if I did not explain myself well.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684774370,"creation_date":1684629919,"answer_id":76297862,"question_id":76115373,"body_markdown":"I&#39;ve created a method to parse the value within the `Price` element.  \r\nI&#39;m using `+ 7` here, because the length of the text, `&lt;Price&gt;`, is 7 characters.  \r\n\r\n```java\r\nString price(String xml) {\r\n    return xml.substring(xml.indexOf(&quot;&lt;Price&gt;&quot;) + 7, xml.indexOf(&quot;&lt;/Price&gt;&quot;));\r\n}\r\n```\r\n\r\nYou can then utilize the method from within your `buildGUIFile`, as follows.\r\n\r\n```java\r\nprivate static void buildGUIFile() throws IOException {\r\n    List&lt;String&gt; fileLines = Files.readAllLines(fileName);\r\n    for (int i = 0; i &lt; (fileLines.size()); i++) {\r\n        resNum = i + 1;\r\n        price = price(fileLines.get(i).trim());\r\n    }\r\n}\r\n```\r\n\r\nFurthermore, if you wanted the `price` method to return a `float` or `double` value, you could use the following.\r\n\r\n```java\r\nfloat price(String xml) {\r\n    String string = xml.substring(xml.indexOf(&quot;&lt;Price&gt;&quot;) + 8, xml.indexOf(&quot;&lt;/Price&gt;&quot;));\r\n    return Float.parseFloat(string);\r\n}\r\n```","title":"Why is the end xml tag not parsing properly?","body":"<p>I've created a method to parse the value within the <code>Price</code> element.<br />\nI'm using <code>+ 7</code> here, because the length of the text, <code>&lt;Price&gt;</code>, is 7 characters.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String price(String xml) {\n    return xml.substring(xml.indexOf(&quot;&lt;Price&gt;&quot;) + 7, xml.indexOf(&quot;&lt;/Price&gt;&quot;));\n}\n</code></pre>\n<p>You can then utilize the method from within your <code>buildGUIFile</code>, as follows.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void buildGUIFile() throws IOException {\n    List&lt;String&gt; fileLines = Files.readAllLines(fileName);\n    for (int i = 0; i &lt; (fileLines.size()); i++) {\n        resNum = i + 1;\n        price = price(fileLines.get(i).trim());\n    }\n}\n</code></pre>\n<p>Furthermore, if you wanted the <code>price</code> method to return a <code>float</code> or <code>double</code> value, you could use the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>float price(String xml) {\n    String string = xml.substring(xml.indexOf(&quot;&lt;Price&gt;&quot;) + 8, xml.indexOf(&quot;&lt;/Price&gt;&quot;));\n    return Float.parseFloat(string);\n}\n</code></pre>\n"}],"owner":{"account_id":28427755,"reputation":9,"user_id":21748860,"display_name":"joseph michaels"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":2,"score":-2,"last_activity_date":1684774370,"creation_date":1682545948,"question_id":76115373,"body_markdown":"I&#39;m having issues parsing this line of XML text:\r\n~~~\r\n&lt;Index&gt;1&lt;/Index&gt;&lt;Price&gt;$18.38&lt;/Price&gt;&lt;Product&gt;Takis Fuego, 1 Ounce (46 Pack)&lt;/Product&gt;&lt;SoldBy&gt; Sam&#39;s Club&lt;/SoldBy&gt;&lt;href&gt;https://www.google.com/shopping/product/14559077146163012667?hl=en&amp;sxsrf=ALiCzsb1Gfl32-pXt32h0QkkE-T57FtdxA:1670964406762&amp;psb=1&amp;q=takis&amp;prds=eto:15330784880350744537_0,pid:15387764403936018691,rsk:PC_15179594788466925291&amp;sa=X&amp;ved=0ahUKEwjPgJuOvsj-AhUJGlkFHSQsBpcQ8gIIpgooAA&lt;/href&gt;\r\n~~~\r\nThis is the code responsible for parsing the text:\r\n~~~\r\n`private static void buildGUIFile() throws IOException {\r\n\t\t\r\n\t\tList&lt;String&gt; fileLines = Files.readAllLines(fileName);\r\n\t\tfor (int i = 0; i &lt; (fileLines.size()); i++) {\r\n\t\t\tresNum = i + 1;\r\n\t\t\tint beginIndex = fileLines.indexOf(&quot;&lt;Price&gt;&quot;);\r\n\t\t\tint endIndex = fileLines.indexOf(&quot;&lt;/Price&gt;&quot;);\r\n\t\t\ttry {\r\n\r\nprice = fileLines.get(i).trim().substring(fileLines.indexOf(&lt;Price&gt;&quot;.trim()) + &quot;&lt;Price&gt;&quot;.trim().length(), fileLines.indexOf(&quot;&lt;/Price&gt;&quot;.trim()));\r\n\r\n\t\t\t} catch (StringIndexOutOfBoundsException e) {\r\n\t\t\t\tSystem.out.println(&quot;endIndex&quot; + endIndex);\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}`\r\nThis is the code that formats each product in fileName:\r\n`public String xmlString() {\r\n\t\tString str = &quot;&lt;Index&gt;&quot; + resultNum + &quot;&lt;/Index&gt;&quot; + &quot;&lt;Price&gt;&quot; + Price + &quot;&lt;/Price&gt;&quot; + &quot;&lt;Product&gt;&quot; + Product\r\n\t\t\t\t+ &quot;&lt;/Product&gt;&quot; + &quot;&lt;SoldBy&gt; &quot; + Company + &quot;&lt;/SoldBy&gt;&quot; + &quot;&lt;href&gt;&quot; + link + &quot;&lt;/href&gt;&quot;;\r\n\t\treturn str;\r\n~~~\r\nThis is the stack trace when I run the program, calling the fileName:\r\n~~~\r\njava.lang.StringIndexOutOfBoundsException: begin 6, end -1, length 355\r\n\tat java.base/java.lang.String.checkBoundsBeginEnd(String.java:4601)\r\n\tat java.base/java.lang.String.substring(String.java:2704)\r\n\tat SeerWebCrawler.buildGUIFile(SeerWebCrawler.java:133)\r\n\tat SeerWebCrawler.main(SeerWebCrawler.java:58)\r\n~~~\r\nNow specifically the endindex of the substring appears to be what&#39;s causing the problem, I just don&#39;t understand what I am doing wrong here. Any help would be appreciated.","title":"Why is the end xml tag not parsing properly?","body":"<p>I'm having issues parsing this line of XML text:</p>\n<pre><code>&lt;Index&gt;1&lt;/Index&gt;&lt;Price&gt;$18.38&lt;/Price&gt;&lt;Product&gt;Takis Fuego, 1 Ounce (46 Pack)&lt;/Product&gt;&lt;SoldBy&gt; Sam's Club&lt;/SoldBy&gt;&lt;href&gt;https://www.google.com/shopping/product/14559077146163012667?hl=en&amp;sxsrf=ALiCzsb1Gfl32-pXt32h0QkkE-T57FtdxA:1670964406762&amp;psb=1&amp;q=takis&amp;prds=eto:15330784880350744537_0,pid:15387764403936018691,rsk:PC_15179594788466925291&amp;sa=X&amp;ved=0ahUKEwjPgJuOvsj-AhUJGlkFHSQsBpcQ8gIIpgooAA&lt;/href&gt;\n</code></pre>\n<p>This is the code responsible for parsing the text:</p>\n<pre><code>`private static void buildGUIFile() throws IOException {\n        \n        List&lt;String&gt; fileLines = Files.readAllLines(fileName);\n        for (int i = 0; i &lt; (fileLines.size()); i++) {\n            resNum = i + 1;\n            int beginIndex = fileLines.indexOf(&quot;&lt;Price&gt;&quot;);\n            int endIndex = fileLines.indexOf(&quot;&lt;/Price&gt;&quot;);\n            try {\n\nprice = fileLines.get(i).trim().substring(fileLines.indexOf(&lt;Price&gt;&quot;.trim()) + &quot;&lt;Price&gt;&quot;.trim().length(), fileLines.indexOf(&quot;&lt;/Price&gt;&quot;.trim()));\n\n            } catch (StringIndexOutOfBoundsException e) {\n                System.out.println(&quot;endIndex&quot; + endIndex);\n                e.printStackTrace();\n            }`\nThis is the code that formats each product in fileName:\n`public String xmlString() {\n        String str = &quot;&lt;Index&gt;&quot; + resultNum + &quot;&lt;/Index&gt;&quot; + &quot;&lt;Price&gt;&quot; + Price + &quot;&lt;/Price&gt;&quot; + &quot;&lt;Product&gt;&quot; + Product\n                + &quot;&lt;/Product&gt;&quot; + &quot;&lt;SoldBy&gt; &quot; + Company + &quot;&lt;/SoldBy&gt;&quot; + &quot;&lt;href&gt;&quot; + link + &quot;&lt;/href&gt;&quot;;\n        return str;\n</code></pre>\n<p>This is the stack trace when I run the program, calling the fileName:</p>\n<pre><code>java.lang.StringIndexOutOfBoundsException: begin 6, end -1, length 355\n    at java.base/java.lang.String.checkBoundsBeginEnd(String.java:4601)\n    at java.base/java.lang.String.substring(String.java:2704)\n    at SeerWebCrawler.buildGUIFile(SeerWebCrawler.java:133)\n    at SeerWebCrawler.main(SeerWebCrawler.java:58)\n</code></pre>\n<p>Now specifically the endindex of the substring appears to be what's causing the problem, I just don't understand what I am doing wrong here. Any help would be appreciated.</p>\n"},{"tags":["java","teamcenter","teamcenter-rac"],"answers":[{"tags":[],"owner":{"account_id":431710,"reputation":3063,"user_id":815961,"accept_rate":51,"display_name":"Pavan Dittakavi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684774266,"creation_date":1684774266,"answer_id":76308368,"question_id":74876403,"body_markdown":"You are looking at the wrong SOA API for a revise usecase. The SOA API `reviseObject` from `DataManagement` is what you should be using instead. You would specify the base item revision on which you are deriving a new revision and the API would hand you over the created revision in the output container - `reviseOutputMap` to be more precise.\r\n\r\n    DEBUG: 18:43:46,297 - CommunicationMonitorView.callMade:-1\r\n    [Call]  XXXXXXXXX.62715.03.600019154.00093 Internal-Core-2008-06-DataManagement:reviseObject (549 bytes)\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;ReviseObjectInput xmlns=&quot;http://teamcenter.com/Schemas/Internal/Core/2008-06/DataManagement&quot; deepCopyRequired=&quot;1&quot;&gt;        \r\n        &lt;info clientId=&quot;Ro8ASD1fL_4pcBAAAAAAAAAAAAA&quot; description=&quot;&quot; name=&quot;Test OOTB&quot; newRevId=&quot;B&quot; xmlns=&quot;http://teamcenter.com/Schemas/Core/2008-06/DataManagement&quot;&gt;    &lt;baseItemRevision uid=&quot;Ro8ASD1fL_4pcB&quot;/&gt;                \r\n            &lt;newItemRevisionMasterProperties&gt;                        \r\n                &lt;form uid=&quot;AAAAAAAAAAAAAA&quot;/&gt;                    \r\n            &lt;/newItemRevisionMasterProperties&gt;            \r\n        &lt;/info&gt;\r\n    &lt;/ReviseObjectInput&gt;\r\n\r\nThe sample response:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;ns1:ReviseResponse2 xmlns:ns1=&quot;http://teamcenter.com/Schemas/Core/2008-06/DataManagement&quot; xmlns:ns0=&quot;http://teamcenter.com/Schemas/Soa/2006-03/Base&quot;&gt;\r\n        &lt;ns1:reviseOutputMap key=&quot;RoKASD1fL_4pcBAAAAAAAAAAAAA&quot;&gt;\r\n            &lt;ns1:value&gt;\r\n                &lt;ns1:newItemRev uid=&quot;wnBASD3ML_4pcB&quot; className=&quot;ItemRevision&quot; type=&quot;ItemRevision&quot;/&gt;\r\n                &lt;ns1:relatedObjects action=&quot;0&quot; isSecondary=&quot;0&quot;&gt;\r\n                    &lt;ns1:relatedObject uid=&quot;wLLASD3ML_4pcB&quot; className=&quot;Form&quot; type=&quot;ItemRevision Master&quot;/&gt;\r\n                &lt;/ns1:relatedObjects&gt;\r\n            &lt;/ns1:value&gt;\r\n        &lt;/ns1:reviseOutputMap&gt;\r\n        &lt;ns0:ServiceData&gt;\r\n    .\r\n    .\r\n    .","title":"Create ItemRevision for existing Item in TC","body":"<p>You are looking at the wrong SOA API for a revise usecase. The SOA API <code>reviseObject</code> from <code>DataManagement</code> is what you should be using instead. You would specify the base item revision on which you are deriving a new revision and the API would hand you over the created revision in the output container - <code>reviseOutputMap</code> to be more precise.</p>\n<pre><code>DEBUG: 18:43:46,297 - CommunicationMonitorView.callMade:-1\n[Call]  XXXXXXXXX.62715.03.600019154.00093 Internal-Core-2008-06-DataManagement:reviseObject (549 bytes)\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;ReviseObjectInput xmlns=&quot;http://teamcenter.com/Schemas/Internal/Core/2008-06/DataManagement&quot; deepCopyRequired=&quot;1&quot;&gt;        \n    &lt;info clientId=&quot;Ro8ASD1fL_4pcBAAAAAAAAAAAAA&quot; description=&quot;&quot; name=&quot;Test OOTB&quot; newRevId=&quot;B&quot; xmlns=&quot;http://teamcenter.com/Schemas/Core/2008-06/DataManagement&quot;&gt;    &lt;baseItemRevision uid=&quot;Ro8ASD1fL_4pcB&quot;/&gt;                \n        &lt;newItemRevisionMasterProperties&gt;                        \n            &lt;form uid=&quot;AAAAAAAAAAAAAA&quot;/&gt;                    \n        &lt;/newItemRevisionMasterProperties&gt;            \n    &lt;/info&gt;\n&lt;/ReviseObjectInput&gt;\n</code></pre>\n<p>The sample response:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;ns1:ReviseResponse2 xmlns:ns1=&quot;http://teamcenter.com/Schemas/Core/2008-06/DataManagement&quot; xmlns:ns0=&quot;http://teamcenter.com/Schemas/Soa/2006-03/Base&quot;&gt;\n    &lt;ns1:reviseOutputMap key=&quot;RoKASD1fL_4pcBAAAAAAAAAAAAA&quot;&gt;\n        &lt;ns1:value&gt;\n            &lt;ns1:newItemRev uid=&quot;wnBASD3ML_4pcB&quot; className=&quot;ItemRevision&quot; type=&quot;ItemRevision&quot;/&gt;\n            &lt;ns1:relatedObjects action=&quot;0&quot; isSecondary=&quot;0&quot;&gt;\n                &lt;ns1:relatedObject uid=&quot;wLLASD3ML_4pcB&quot; className=&quot;Form&quot; type=&quot;ItemRevision Master&quot;/&gt;\n            &lt;/ns1:relatedObjects&gt;\n        &lt;/ns1:value&gt;\n    &lt;/ns1:reviseOutputMap&gt;\n    &lt;ns0:ServiceData&gt;\n.\n.\n.\n</code></pre>\n"}],"owner":{"account_id":10544866,"reputation":11,"user_id":7769491,"display_name":"Vladjkaaa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684774266,"creation_date":1671627469,"question_id":74876403,"body_markdown":"How to create next ItemRevision for exists Item?\r\n\r\nI&#39;m looks docs and see that I cant use CreateItems function, I must use CreateObject.\r\n\r\n```\r\nTCSession session = (TCSession) AIFUtility.getDefaultSession();\r\nDataManagementService dmservice = DataManagementService.getService(session);\r\n\r\nCreateInput irev = new CreateInput();\r\nirev.boName = &quot;ItemRevision&quot;;\r\nirev.stringProps.put( &quot;object_desc&quot;, &quot;object_desc&quot; );\r\nirev.stringProps.put( &quot;object_name&quot;, &quot;object_name_test&quot; );\r\nirev.stringProps.put( &quot;item_revision_id&quot;, &quot;01&quot; );\r\n\r\nCreateIn[] ci = new CreateIn[1];\r\nci[0] = new CreateIn();\r\nci[0].data = irev;\r\nci[0].clientId = Integer.valueOf(1).toString();\r\n\r\nCreateResponse cr = dmservice.createObjects(ci);\r\n```\r\n\r\nBut the error dissappers:\r\n&quot;Wrong symbol NULL object (in object) - required object not exists&quot;\r\n\r\nIt means that I must set some attribute to revision which must be link to existing Item.\r\n\r\nHow can I do it? Thanks\r\n\r\nTrying to create ItemRevision without creating Item","title":"Create ItemRevision for existing Item in TC","body":"<p>How to create next ItemRevision for exists Item?</p>\n<p>I'm looks docs and see that I cant use CreateItems function, I must use CreateObject.</p>\n<pre><code>TCSession session = (TCSession) AIFUtility.getDefaultSession();\nDataManagementService dmservice = DataManagementService.getService(session);\n\nCreateInput irev = new CreateInput();\nirev.boName = &quot;ItemRevision&quot;;\nirev.stringProps.put( &quot;object_desc&quot;, &quot;object_desc&quot; );\nirev.stringProps.put( &quot;object_name&quot;, &quot;object_name_test&quot; );\nirev.stringProps.put( &quot;item_revision_id&quot;, &quot;01&quot; );\n\nCreateIn[] ci = new CreateIn[1];\nci[0] = new CreateIn();\nci[0].data = irev;\nci[0].clientId = Integer.valueOf(1).toString();\n\nCreateResponse cr = dmservice.createObjects(ci);\n</code></pre>\n<p>But the error dissappers:\n&quot;Wrong symbol NULL object (in object) - required object not exists&quot;</p>\n<p>It means that I must set some attribute to revision which must be link to existing Item.</p>\n<p>How can I do it? Thanks</p>\n<p>Trying to create ItemRevision without creating Item</p>\n"},{"tags":["java","rest","jersey","jax-rs","payara"],"owner":{"account_id":28655435,"reputation":1,"user_id":21941613,"display_name":"Velizar Mitrev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684774124,"creation_date":1684774124,"question_id":76308361,"body_markdown":"Hello I am deploying an EAR on Payara Server, the EAR contains some WARs and some other modules. In one of the WARs I have a JAX-RS REST API, I wanted to generate an OpenAPI document, I saw that Payara generates it by default by using Eclipse MicroProfile, but the problem is that the resulting OpenAPI doesn&#39;t have any paths listed despite that I have a few working methods that I have annotated with @GET and @POST in my API WAR.\r\n\r\nI added my RestApplication class that extends Application like so:\r\n\r\n```\r\n@ApplicationPath(&quot;/api&quot;)\r\npublic class RestApplication extends Application {\r\n}\r\n```\r\nAnd my endpoint class looks like so:\r\n\r\n```\r\n@Path(&quot;/example&quot;)\r\npublic class ExampleResource {\r\n\r\n    @GET\r\n    @Path(&quot;/ping&quot;)\r\n    public Response ping() {\r\n        return Response.status(Response.Status.OK).entity(&quot;Ping works&quot;).build();\r\n    }\r\n}\r\n```\r\n\r\nThe REST API works as expected but the resulting openapi.yaml is:\r\n\r\n```\r\nopenapi: 3.0.0\r\ninfo:\r\n  title: Deployed Resources\r\n  version: 1.0.0\r\nservers:\r\n- url: http://192.168.5.5:8080/__wstx-services\r\n  description: Default Server.\r\n- url: https://192.168.5.5:8181/__wstx-services\r\n  description: Default Server.\r\npaths: {}\r\ncomponents: {}\r\n```\r\nSo the endpoint is not present in the OpenAPI documentation, am I missing something?","title":"Payara Server generates empty OpenAPI documentation","body":"<p>Hello I am deploying an EAR on Payara Server, the EAR contains some WARs and some other modules. In one of the WARs I have a JAX-RS REST API, I wanted to generate an OpenAPI document, I saw that Payara generates it by default by using Eclipse MicroProfile, but the problem is that the resulting OpenAPI doesn't have any paths listed despite that I have a few working methods that I have annotated with @GET and @POST in my API WAR.</p>\n<p>I added my RestApplication class that extends Application like so:</p>\n<pre><code>@ApplicationPath(&quot;/api&quot;)\npublic class RestApplication extends Application {\n}\n</code></pre>\n<p>And my endpoint class looks like so:</p>\n<pre><code>@Path(&quot;/example&quot;)\npublic class ExampleResource {\n\n    @GET\n    @Path(&quot;/ping&quot;)\n    public Response ping() {\n        return Response.status(Response.Status.OK).entity(&quot;Ping works&quot;).build();\n    }\n}\n</code></pre>\n<p>The REST API works as expected but the resulting openapi.yaml is:</p>\n<pre><code>openapi: 3.0.0\ninfo:\n  title: Deployed Resources\n  version: 1.0.0\nservers:\n- url: http://192.168.5.5:8080/__wstx-services\n  description: Default Server.\n- url: https://192.168.5.5:8181/__wstx-services\n  description: Default Server.\npaths: {}\ncomponents: {}\n</code></pre>\n<p>So the endpoint is not present in the OpenAPI documentation, am I missing something?</p>\n"},{"tags":["java","spring-boot","graphql","graphql-java"],"answers":[{"tags":[],"owner":{"account_id":34880,"reputation":7380,"user_id":98636,"display_name":"Elemental"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684773520,"creation_date":1684773520,"answer_id":76308288,"question_id":76304503,"body_markdown":"I not sure where your confusion lies - the graphql query is just a string from the point of view of Java - you just need to build the string dynamically.\r\n\r\nSo in response to your first question (how to pass a parameter):\r\n```\r\nString MyValue=&quot;java&quot;;\r\nGraphQLRequest request = GraphQLRequest.builder()\r\n                .query(&quot;query {\\n&quot; +\r\n                       &quot; testAPI(query:\\&quot;&quot;+MyValue+&quot;\\&quot;) {\\n&quot; +\r\n...\r\n```\r\nIn a similar manner the fields returned by the query can be controlled by building this string dynamically like:\r\n```\r\nString fields;\r\nif (briefVersion) fields=&quot;  page \\n pageCount \\n&quot;\r\nelse fields=&quot;  page \\n pageCount \\n ...{all the rest of the fields}&quot;\r\nGraphQLRequest request = GraphQLRequest.builder()\r\n                .query(&quot;query {\\n&quot; +\r\n                       &quot; testAPI(query:\\&quot;&quot;+MyValue+&quot;\\&quot;) {\\n&quot; +\r\n                       fields +\r\n                       &quot;}&quot;;\r\n```\r\n\r\nSo basically the graphQL query is just a string and you can treat it like a string; build it with a string builder (or String.join) and generally play with it as you wish before submitting it to graphql.\r\n\r\nThis is a bit different to the way it works in typescript/js where the graphql queries are preprocessed.","title":"Construct GraphQL Query in Java","body":"<p>I not sure where your confusion lies - the graphql query is just a string from the point of view of Java - you just need to build the string dynamically.</p>\n<p>So in response to your first question (how to pass a parameter):</p>\n<pre><code>String MyValue=&quot;java&quot;;\nGraphQLRequest request = GraphQLRequest.builder()\n                .query(&quot;query {\\n&quot; +\n                       &quot; testAPI(query:\\&quot;&quot;+MyValue+&quot;\\&quot;) {\\n&quot; +\n...\n</code></pre>\n<p>In a similar manner the fields returned by the query can be controlled by building this string dynamically like:</p>\n<pre><code>String fields;\nif (briefVersion) fields=&quot;  page \\n pageCount \\n&quot;\nelse fields=&quot;  page \\n pageCount \\n ...{all the rest of the fields}&quot;\nGraphQLRequest request = GraphQLRequest.builder()\n                .query(&quot;query {\\n&quot; +\n                       &quot; testAPI(query:\\&quot;&quot;+MyValue+&quot;\\&quot;) {\\n&quot; +\n                       fields +\n                       &quot;}&quot;;\n</code></pre>\n<p>So basically the graphQL query is just a string and you can treat it like a string; build it with a string builder (or String.join) and generally play with it as you wish before submitting it to graphql.</p>\n<p>This is a bit different to the way it works in typescript/js where the graphql queries are preprocessed.</p>\n"}],"owner":{"account_id":5648238,"reputation":158,"user_id":4989264,"accept_rate":14,"display_name":"ThatMan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684773520,"creation_date":1684745867,"question_id":76304503,"body_markdown":"I want to construct below query and pass params dynamically in Java.\r\n\r\n```\r\nquery {\r\n testAPI(query:&quot;java&quot;) {\r\n    page \r\n    pageCount \r\n    documents {\r\n      id\r\n      ... on Document {\r\n        title\r\n        updated\r\n        subjects{\r\n            id\r\n            name\r\n            url\r\n        }\r\n        rating {\r\n            average\r\n            count\r\n        }\r\n        categories {\r\n            id\r\n            name\r\n            url\r\n            subcategories {\r\n                id\r\n                name\r\n                url\r\n            }\r\n        }\r\n        images {\r\n            px100x100\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n```\r\n\r\nI am using below dependencies in my pom\r\n\r\n```\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;graphql-webclient-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nbelow is the code snippet, the way I am doing it right now,\r\n\r\n```\r\n\t\tWebClient webClient = WebClient.builder()\r\n\t\t\t\t.baseUrl(&quot;http://test.com/graphql&quot;)\r\n\t\t\t\t.build();\r\n\t\tGraphQLWebClient graphqlClient = GraphQLWebClient.newInstance(webClient, objectMapper);\r\n\r\n\t\tGraphQLRequest request = GraphQLRequest.builder()\r\n\t\t\t\t.query(&quot;query {\\n&quot; +\r\n\t\t\t\t\t\t&quot; testAPI(query:\\&quot;java\\&quot;) {\\n&quot; +\r\n\t\t\t\t\t\t&quot;    page \\n&quot; +\r\n\t\t\t\t\t\t&quot;    pageCount \\n&quot; +\r\n\t\t\t\t\t\t&quot;    documents {\\n&quot; +\r\n\t\t\t\t\t\t&quot;      id\\n&quot; +\r\n\t\t\t\t\t\t&quot;      ... on Document {\\n&quot; +\r\n\t\t\t\t\t\t&quot;        title\\n&quot; +\r\n\t\t\t\t\t\t&quot;        updated\\n&quot; +\r\n\t\t\t\t\t\t&quot;        subjects{\\n&quot; +\r\n\t\t\t\t\t\t&quot;            id\\n&quot; +\r\n\t\t\t\t\t\t&quot;            name\\n&quot; +\r\n\t\t\t\t\t\t&quot;            url\\n&quot; +\r\n\t\t\t\t\t\t&quot;        }\\n&quot; +\r\n\t\t\t\t\t\t&quot;        rating {\\n&quot; +\r\n\t\t\t\t\t\t&quot;            average\\n&quot; +\r\n\t\t\t\t\t\t&quot;            count\\n&quot; +\r\n\t\t\t\t\t\t&quot;        }\\n&quot; +\r\n\t\t\t\t\t\t&quot;        categories {\\n&quot; +\r\n\t\t\t\t\t\t&quot;            id\\n&quot; +\r\n\t\t\t\t\t\t&quot;            name\\n&quot; +\r\n\t\t\t\t\t\t&quot;            url\\n&quot; +\r\n\t\t\t\t\t\t&quot;            subcategories {\\n&quot; +\r\n\t\t\t\t\t\t&quot;                id\\n&quot; +\r\n\t\t\t\t\t\t&quot;                name\\n&quot; +\r\n\t\t\t\t\t\t&quot;                url\\n&quot; +\r\n\t\t\t\t\t\t&quot;            }\\n&quot; +\r\n\t\t\t\t\t\t&quot;        }\\n&quot; +\r\n\t\t\t\t\t\t&quot;        images {\\n&quot; +\r\n\t\t\t\t\t\t&quot;            px100x100\\n&quot; +\r\n\t\t\t\t\t\t&quot;        }\\n&quot; +\r\n\t\t\t\t\t\t&quot;      }\\n&quot; +\r\n\t\t\t\t\t\t&quot;    }\\n&quot; +\r\n\t\t\t\t\t\t&quot;  }\\n&quot; +\r\n\t\t\t\t\t\t&quot;}\\n&quot;)\r\n\t\t\t\t.build();\r\n\t\tGraphQLResponse block = graphqlClient.post(request)\r\n\t\t\t\t.block();\r\n```\r\n\r\nCurrently the search criteria in the query is a hard coded value(java). I need to achieve following things\r\n\r\n1. Make the search criteria dynamic. (Primary objective)\r\n2. Make the query construction dynamic i.e adding the required fields dynamically. (Secondary Objective)","title":"Construct GraphQL Query in Java","body":"<p>I want to construct below query and pass params dynamically in Java.</p>\n<pre><code>query {\n testAPI(query:&quot;java&quot;) {\n    page \n    pageCount \n    documents {\n      id\n      ... on Document {\n        title\n        updated\n        subjects{\n            id\n            name\n            url\n        }\n        rating {\n            average\n            count\n        }\n        categories {\n            id\n            name\n            url\n            subcategories {\n                id\n                name\n                url\n            }\n        }\n        images {\n            px100x100\n        }\n      }\n    }\n  }\n}\n\n</code></pre>\n<p>I am using below dependencies in my pom</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\n            &lt;artifactId&gt;graphql-webclient-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>below is the code snippet, the way I am doing it right now,</p>\n<pre><code>        WebClient webClient = WebClient.builder()\n                .baseUrl(&quot;http://test.com/graphql&quot;)\n                .build();\n        GraphQLWebClient graphqlClient = GraphQLWebClient.newInstance(webClient, objectMapper);\n\n        GraphQLRequest request = GraphQLRequest.builder()\n                .query(&quot;query {\\n&quot; +\n                        &quot; testAPI(query:\\&quot;java\\&quot;) {\\n&quot; +\n                        &quot;    page \\n&quot; +\n                        &quot;    pageCount \\n&quot; +\n                        &quot;    documents {\\n&quot; +\n                        &quot;      id\\n&quot; +\n                        &quot;      ... on Document {\\n&quot; +\n                        &quot;        title\\n&quot; +\n                        &quot;        updated\\n&quot; +\n                        &quot;        subjects{\\n&quot; +\n                        &quot;            id\\n&quot; +\n                        &quot;            name\\n&quot; +\n                        &quot;            url\\n&quot; +\n                        &quot;        }\\n&quot; +\n                        &quot;        rating {\\n&quot; +\n                        &quot;            average\\n&quot; +\n                        &quot;            count\\n&quot; +\n                        &quot;        }\\n&quot; +\n                        &quot;        categories {\\n&quot; +\n                        &quot;            id\\n&quot; +\n                        &quot;            name\\n&quot; +\n                        &quot;            url\\n&quot; +\n                        &quot;            subcategories {\\n&quot; +\n                        &quot;                id\\n&quot; +\n                        &quot;                name\\n&quot; +\n                        &quot;                url\\n&quot; +\n                        &quot;            }\\n&quot; +\n                        &quot;        }\\n&quot; +\n                        &quot;        images {\\n&quot; +\n                        &quot;            px100x100\\n&quot; +\n                        &quot;        }\\n&quot; +\n                        &quot;      }\\n&quot; +\n                        &quot;    }\\n&quot; +\n                        &quot;  }\\n&quot; +\n                        &quot;}\\n&quot;)\n                .build();\n        GraphQLResponse block = graphqlClient.post(request)\n                .block();\n</code></pre>\n<p>Currently the search criteria in the query is a hard coded value(java). I need to achieve following things</p>\n<ol>\n<li>Make the search criteria dynamic. (Primary objective)</li>\n<li>Make the query construction dynamic i.e adding the required fields dynamically. (Secondary Objective)</li>\n</ol>\n"},{"tags":["java","wildfly"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1684773651,"post_id":76308256,"comment_id":134562544,"body_markdown":"you sure there is nothing in the standalone.xml ?  What if you go to the admin console","body":"you sure there is nothing in the standalone.xml ?  What if you go to the admin console"},{"owner":{"account_id":28655911,"reputation":1,"user_id":21941984,"display_name":"Kavya Jindal"},"score":0,"creation_date":1684774423,"post_id":76308256,"comment_id":134562698,"body_markdown":"It&#39;s a remote JVM and the admin console is not setup yet. I have also confirmed via management CLI and the above war is not showing up in deployment folder.","body":"It&#39;s a remote JVM and the admin console is not setup yet. I have also confirmed via management CLI and the above war is not showing up in deployment folder."},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1684775510,"post_id":76308256,"comment_id":134562921,"body_markdown":"Strange.  maybe stop the service, delete the tmp folder and re-deploy?","body":"Strange.  maybe stop the service, delete the tmp folder and re-deploy?"},{"owner":{"account_id":28655911,"reputation":1,"user_id":21941984,"display_name":"Kavya Jindal"},"score":0,"creation_date":1684777857,"post_id":76308256,"comment_id":134563400,"body_markdown":"Tried the above steps. Still seeing the same error in logs.","body":"Tried the above steps. Still seeing the same error in logs."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1684793231,"post_id":76308256,"comment_id":134566072,"body_markdown":"What version of WildFly are you using? How did you undeploy the application?","body":"What version of WildFly are you using? How did you undeploy the application?"},{"owner":{"account_id":28655911,"reputation":1,"user_id":21941984,"display_name":"Kavya Jindal"},"score":0,"creation_date":1684824678,"post_id":76308256,"comment_id":134569272,"body_markdown":"Wildfly 26. We install rpms and have a script which adds/removes wars","body":"Wildfly 26. We install rpms and have a script which adds/removes wars"}],"owner":{"account_id":28655911,"reputation":1,"user_id":21941984,"display_name":"Kavya Jindal"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684773300,"creation_date":1684773300,"question_id":76308256,"body_markdown":"The following error keeps showing up in server logs:\r\n\r\n```\r\nDEBUG [org.jboss.as.controller.management-operation] (management-handler-thread - 97) WFLYCTL0017: Operation (&quot;read-resource&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;something.war&quot;)]) - failure description: &quot;WFLYCTL0216: Management resource &#39;[(\\&quot;deployment\\&quot; =&gt; \\&quot;something.war\\&quot;)]&#39; not found&quot;\r\n```\r\n\r\n`something.war` was undeployed and it was confirmed to not be existing in the deployments folder. Expectation was to not see metrics gathering messages from server for this war.\r\n\r\nHow can I fix the above issue?","title":"Wildfly is trying to gather metrics for a war that doesn&#39;t exist anymore","body":"<p>The following error keeps showing up in server logs:</p>\n<pre><code>DEBUG [org.jboss.as.controller.management-operation] (management-handler-thread - 97) WFLYCTL0017: Operation (&quot;read-resource&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;something.war&quot;)]) - failure description: &quot;WFLYCTL0216: Management resource '[(\\&quot;deployment\\&quot; =&gt; \\&quot;something.war\\&quot;)]' not found&quot;\n</code></pre>\n<p><code>something.war</code> was undeployed and it was confirmed to not be existing in the deployments folder. Expectation was to not see metrics gathering messages from server for this war.</p>\n<p>How can I fix the above issue?</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1684819549,"post_id":76308247,"comment_id":134568440,"body_markdown":"Are you sure that your device is connected to the internet?","body":"Are you sure that your device is connected to the internet?"},{"owner":{"account_id":23978601,"reputation":71,"user_id":17966373,"display_name":"ruff"},"score":0,"creation_date":1684853450,"post_id":76308247,"comment_id":134576209,"body_markdown":"Yes. The Auth functions work. Also, there is an onFailure listener.","body":"Yes. The Auth functions work. Also, there is an onFailure listener."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1684855044,"post_id":76308247,"comment_id":134576676,"body_markdown":"Have you tried to simply log something and not set a text to a view?","body":"Have you tried to simply log something and not set a text to a view?"}],"owner":{"account_id":23978601,"reputation":71,"user_id":17966373,"display_name":"ruff"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684773281,"creation_date":1684773210,"question_id":76308247,"body_markdown":"I have OnFailure and OnSuccess listeners to a get call in FireBase, with my FireBase permissions set allow to all (for debug). However, none of these listeners are ever fired. The user is authenticated successfully as well. Here&#39;s the code:\r\n\r\n     Globals.db = FirebaseFirestore.getInstance();\r\n        DocumentReference user = null;\r\n        if (!Globals.testMode)\r\n        user = Globals.db.collection(&quot;users&quot;).document(email.getText().toString());\r\n        else user = Globals.db.collection(&quot;users&quot;).document(Globals.testEmail);\r\n        System.out.println(&quot;DebugMode01: &quot; + Globals.fireAuth.toString());\r\n\r\n\r\n    if (Globals.fireAuth.getCurrentUser() != null){\r\n        System.out.printf(&quot;The user instance is correct.&quot;);\r\n    }\r\n\r\n\r\n\r\n        user.get().addOnSuccessListener(userDocument -&gt; {\r\n            Globals.initUser((String)userDocument.get(&quot;email&quot;),(String)userDocument.get(&quot;fname&quot;), (String)userDocument.get(&quot;lname&quot;));\r\n            warning.setVisibility(View.INVISIBLE);\r\n            Globals.endLoad();\r\n            Toast.makeText(LoginActivity.this, &quot;Login success!&quot;, Toast.LENGTH_LONG).show();\r\n        }).addOnFailureListener( x -&gt; {\r\n            Globals.endLoad();\r\n            warning.setText(&quot;Invalid error instance with the server.&quot;);\r\n            warning.setVisibility(View.VISIBLE);\r\n        }).addOnCanceledListener(() -&gt; {\r\n            warning.setText(&quot;This process was cancelled.&quot;);\r\n            Globals.endLoad();\r\n            warning.setVisibility(View.VISIBLE);\r\n        });\r\n\r\nWhy is this?","title":"Android Firebase listeners never fires","body":"<p>I have OnFailure and OnSuccess listeners to a get call in FireBase, with my FireBase permissions set allow to all (for debug). However, none of these listeners are ever fired. The user is authenticated successfully as well. Here's the code:</p>\n<pre><code> Globals.db = FirebaseFirestore.getInstance();\n    DocumentReference user = null;\n    if (!Globals.testMode)\n    user = Globals.db.collection(&quot;users&quot;).document(email.getText().toString());\n    else user = Globals.db.collection(&quot;users&quot;).document(Globals.testEmail);\n    System.out.println(&quot;DebugMode01: &quot; + Globals.fireAuth.toString());\n\n\nif (Globals.fireAuth.getCurrentUser() != null){\n    System.out.printf(&quot;The user instance is correct.&quot;);\n}\n\n\n\n    user.get().addOnSuccessListener(userDocument -&gt; {\n        Globals.initUser((String)userDocument.get(&quot;email&quot;),(String)userDocument.get(&quot;fname&quot;), (String)userDocument.get(&quot;lname&quot;));\n        warning.setVisibility(View.INVISIBLE);\n        Globals.endLoad();\n        Toast.makeText(LoginActivity.this, &quot;Login success!&quot;, Toast.LENGTH_LONG).show();\n    }).addOnFailureListener( x -&gt; {\n        Globals.endLoad();\n        warning.setText(&quot;Invalid error instance with the server.&quot;);\n        warning.setVisibility(View.VISIBLE);\n    }).addOnCanceledListener(() -&gt; {\n        warning.setText(&quot;This process was cancelled.&quot;);\n        Globals.endLoad();\n        warning.setVisibility(View.VISIBLE);\n    });\n</code></pre>\n<p>Why is this?</p>\n"},{"tags":["java","for-loop","switch-statement"],"comments":[{"owner":{"account_id":1888343,"reputation":176617,"user_id":1707091,"display_name":"rgettman"},"score":3,"creation_date":1684772536,"post_id":76308161,"comment_id":134562308,"body_markdown":"No `break` statements for cases 1, 2, and 3.","body":"No <code>break</code> statements for cases 1, 2, and 3."}],"owner":{"account_id":22829309,"reputation":339,"user_id":16978074,"display_name":"Elly"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1684773283,"answer_count":0,"score":0,"last_activity_date":1684772458,"creation_date":1684772458,"question_id":76308161,"body_markdown":"Hello everyone I&#39;m still studying java since I haven&#39;t used it for a long time. I found this exercise around and I didn&#39;t understand why the result is: one two three two three done\r\n```\r\n   public class Main{\r\n    public static void main(String[] args){\r\n      for(int i = 0; i &lt; 3; i++) { \r\n    \tswitch(i) { \r\n        \tcase 0: break; \r\n        \tcase 1: System.out.print(&quot;one &quot;); \r\n        \tcase 2: System.out.print(&quot;two &quot;); \r\n        \tcase 3: System.out.print(&quot;three &quot;); \r\n     } \r\n   } \r\n    System.out.println(&quot;done&quot;);\r\n    }\r\n   }\r\n\r\n```\r\n```\r\n 1&#176; STEP i=0 --&gt;nothing;\r\n 2&#176; STEP i=1 --&gt;print one ;\r\n 3&#176; STEP i=2 --&gt;print two ;\r\n```\r\nso my output should be: one two done; Why otput is:one two three two three done?","title":"switch inside for cycle in java","body":"<p>Hello everyone I'm still studying java since I haven't used it for a long time. I found this exercise around and I didn't understand why the result is: one two three two three done</p>\n<pre><code>   public class Main{\n    public static void main(String[] args){\n      for(int i = 0; i &lt; 3; i++) { \n        switch(i) { \n            case 0: break; \n            case 1: System.out.print(&quot;one &quot;); \n            case 2: System.out.print(&quot;two &quot;); \n            case 3: System.out.print(&quot;three &quot;); \n     } \n   } \n    System.out.println(&quot;done&quot;);\n    }\n   }\n\n</code></pre>\n<pre><code> 1° STEP i=0 --&gt;nothing;\n 2° STEP i=1 --&gt;print one ;\n 3° STEP i=2 --&gt;print two ;\n</code></pre>\n<p>so my output should be: one two done; Why otput is:one two three two three done?</p>\n"},{"tags":["java","android","android-activity","notifications"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1650288831,"post_id":71911095,"comment_id":127073569,"body_markdown":"Are the activities set to `exported=&quot;true&quot;`?","body":"Are the activities set to <code>exported=&quot;true&quot;</code>?"},{"owner":{"account_id":11027038,"reputation":186,"user_id":8099601,"display_name":"Nitzan Daloomy"},"score":0,"creation_date":1650288931,"post_id":71911095,"comment_id":127073609,"body_markdown":"yes, in the manifest there&#39;s exported=&quot;true&quot;","body":"yes, in the manifest there&#39;s exported=&quot;true&quot;"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1650288965,"post_id":71911095,"comment_id":127073625,"body_markdown":"Did you try `Intent.FLAG_IMMUTABLE`","body":"Did you try <code>Intent.FLAG_IMMUTABLE</code>"},{"owner":{"account_id":11027038,"reputation":186,"user_id":8099601,"display_name":"Nitzan Daloomy"},"score":0,"creation_date":1650289391,"post_id":71911095,"comment_id":127073780,"body_markdown":"Where? on the button&#39;s intent? yes.","body":"Where? on the button&#39;s intent? yes."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1650289432,"post_id":71911095,"comment_id":127073799,"body_markdown":"Hey, how are you able to use `this` in the `Intent openApp = new Intent(this, MainActivity.class);`?","body":"Hey, how are you able to use <code>this</code> in the <code>Intent openApp = new Intent(this, MainActivity.class);</code>?"},{"owner":{"account_id":11027038,"reputation":186,"user_id":8099601,"display_name":"Nitzan Daloomy"},"score":0,"creation_date":1650289535,"post_id":71911095,"comment_id":127073830,"body_markdown":"`this` is the `Service`&#39;s context, tried also using `getAppContext()` and `getBaseContext()`, but it didn&#39;t work","body":"<code>this</code> is the <code>Service</code>&#39;s context, tried also using <code>getAppContext()</code> and <code>getBaseContext()</code>, but it didn&#39;t work"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1650289593,"post_id":71911095,"comment_id":127073849,"body_markdown":"Huh? You are trying to open it from the `BroadcastReceiver` or from the `Service`? I am a bit confused right now","body":"Huh? You are trying to open it from the <code>BroadcastReceiver</code> or from the <code>Service</code>? I am a bit confused right now"},{"owner":{"account_id":11027038,"reputation":186,"user_id":8099601,"display_name":"Nitzan Daloomy"},"score":0,"creation_date":1650289649,"post_id":71911095,"comment_id":127073871,"body_markdown":"from the `Service`.","body":"from the <code>Service</code>."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1650289685,"post_id":71911095,"comment_id":127073883,"body_markdown":"Why not open it from the `BroadcastReceiver`? And how are you getting the click listener for the buttons? You need a pending intent and only 1 works at a time","body":"Why not open it from the <code>BroadcastReceiver</code>? And how are you getting the click listener for the buttons? You need a pending intent and only 1 works at a time"},{"owner":{"account_id":11027038,"reputation":186,"user_id":8099601,"display_name":"Nitzan Daloomy"},"score":0,"creation_date":1650289877,"post_id":71911095,"comment_id":127073941,"body_markdown":"I&#39;m not using a `BroadcastReceiver`. When the button is clicked, a `Service` intent is called, but with the action of the button, and when the service is started with this action I want to open the `MainActivity`, amongst other things","body":"I&#39;m not using a <code>BroadcastReceiver</code>. When the button is clicked, a <code>Service</code> intent is called, but with the action of the button, and when the service is started with this action I want to open the <code>MainActivity</code>, amongst other things"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1650289964,"post_id":71911095,"comment_id":127073975,"body_markdown":"how are you getting the click listener for the buttons? A pending intent? Can you share the code for that class?","body":"how are you getting the click listener for the buttons? A pending intent? Can you share the code for that class?"},{"owner":{"account_id":11027038,"reputation":186,"user_id":8099601,"display_name":"Nitzan Daloomy"},"score":0,"creation_date":1650290108,"post_id":71911095,"comment_id":127074039,"body_markdown":"yes, a `PendingIntent`. I&#39;d soon share the code for the button, but the whole class is too much code... It&#39;s the `TimerService` from my previous questions","body":"yes, a <code>PendingIntent</code>. I&#39;d soon share the code for the button, but the whole class is too much code... It&#39;s the <code>TimerService</code> from my previous questions"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1650290148,"post_id":71911095,"comment_id":127074050,"body_markdown":"ok. So, from the buttons in the notification, you are not doing the pause and start thing which I gave in the repo?","body":"ok. So, from the buttons in the notification, you are not doing the pause and start thing which I gave in the repo?"},{"owner":{"account_id":11027038,"reputation":186,"user_id":8099601,"display_name":"Nitzan Daloomy"},"score":0,"creation_date":1650290445,"post_id":71911095,"comment_id":127074134,"body_markdown":"nope. I only need a stop button.","body":"nope. I only need a stop button."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1650290555,"post_id":71911095,"comment_id":127074170,"body_markdown":"Ok. Share the code for that buttons","body":"Ok. Share the code for that buttons"},{"owner":{"account_id":11027038,"reputation":186,"user_id":8099601,"display_name":"Nitzan Daloomy"},"score":0,"creation_date":1650290925,"post_id":71911095,"comment_id":127074296,"body_markdown":"shared it. but again, I believe this code is irrelevant, the button reacts to the user clicking on it...","body":"shared it. but again, I believe this code is irrelevant, the button reacts to the user clicking on it..."},{"owner":{"account_id":11027038,"reputation":186,"user_id":8099601,"display_name":"Nitzan Daloomy"},"score":0,"creation_date":1650295528,"post_id":71911095,"comment_id":127075811,"body_markdown":"@Sambhav.K do you manage to succeed in doing it? are you able to open an `Activity` from the background when clicking a notifications button?","body":"@Sambhav.K do you manage to succeed in doing it? are you able to open an <code>Activity</code> from the background when clicking a notifications button?"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1650295835,"post_id":71911095,"comment_id":127075909,"body_markdown":"Sorry I had gone for some urgent work. Im back now. So, you want to open the main activity when you press the stop button?","body":"Sorry I had gone for some urgent work. Im back now. So, you want to open the main activity when you press the stop button?"},{"owner":{"account_id":11027038,"reputation":186,"user_id":8099601,"display_name":"Nitzan Daloomy"},"score":0,"creation_date":1650295871,"post_id":71911095,"comment_id":127075919,"body_markdown":"yes, that&#39;s what I&#39;m trying to do(:","body":"yes, that&#39;s what I&#39;m trying to do(:"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1650295892,"post_id":71911095,"comment_id":127075923,"body_markdown":"ok. Let em give an answer. Just 5 mins &#128578;","body":"ok. Let em give an answer. Just 5 mins 🙂"}],"answers":[{"comments":[{"owner":{"account_id":11027038,"reputation":186,"user_id":8099601,"display_name":"Nitzan Daloomy"},"score":0,"creation_date":1650296670,"post_id":71913906,"comment_id":127076153,"body_markdown":"it gives me a red line under `startActivity()`, saying &quot;`This intent launches a Service which launches activities; this indirection is bad for performance, and activities should be launched directly from the notification`&quot;","body":"it gives me a red line under <code>startActivity()</code>, saying &quot;<code>This intent launches a Service which launches activities; this indirection is bad for performance, and activities should be launched directly from the notification</code>&quot;"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1650296758,"post_id":71913906,"comment_id":127076180,"body_markdown":"Let me edit this and give another answer","body":"Let me edit this and give another answer"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1650297339,"post_id":71913906,"comment_id":127076352,"body_markdown":"Does my answer help you now @NitzanDaloomy?","body":"Does my answer help you now @NitzanDaloomy?"},{"owner":{"account_id":11027038,"reputation":186,"user_id":8099601,"display_name":"Nitzan Daloomy"},"score":0,"creation_date":1650311261,"post_id":71913906,"comment_id":127080489,"body_markdown":"After reading your suggestion, I don&#39;t understand - where&#39;s the code for opening the activity?","body":"After reading your suggestion, I don&#39;t understand - where&#39;s the code for opening the activity?"},{"owner":{"account_id":11027038,"reputation":186,"user_id":8099601,"display_name":"Nitzan Daloomy"},"score":0,"creation_date":1650311595,"post_id":71913906,"comment_id":127080590,"body_markdown":"not only this, I find it really hard to understand what&#39;s going on - what&#39;s the `createNotificationActionButton()` method is for, why is it better than how I did it, and how it actually works... where did you register your broadcast? I really got lost in here","body":"not only this, I find it really hard to understand what&#39;s going on - what&#39;s the <code>createNotificationActionButton()</code> method is for, why is it better than how I did it, and how it actually works... where did you register your broadcast? I really got lost in here"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1650341567,"post_id":71913906,"comment_id":127085754,"body_markdown":"@NitzanDaloomy. I will answer your questions here ~~~ `where&#39;s the code for opening the activity?`: I forgot to add the part to open the activity. I have added it now. `where did you register your broadcast?`: Also I had forgotten to register it in the service. I have added it. `what&#39;s the createNotificationActionButton() method is for?` It is used to make an action button for the notification. `why is it better than how I did I`: I can&#39;t say that. Your method is good for u and my method is good for me. But, I&#39;d prefer never to open activities from the service. Instead use Broadcast Receivers.","body":"@NitzanDaloomy. I will answer your questions here ~~~ <code>where&#39;s the code for opening the activity?</code>: I forgot to add the part to open the activity. I have added it now. <code>where did you register your broadcast?</code>: Also I had forgotten to register it in the service. I have added it. <code>what&#39;s the createNotificationActionButton() method is for?</code> It is used to make an action button for the notification. <code>why is it better than how I did I</code>: I can&#39;t say that. Your method is good for u and my method is good for me. But, I&#39;d prefer never to open activities from the service. Instead use Broadcast Receivers."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1650341766,"post_id":71913906,"comment_id":127085774,"body_markdown":"And lastly `and how it actually works`: It works with a easy method. First we have an intent in the activity which will be used to start and stop the service. When, we click the button in the notification, it sends a broadcast to the `StopwatchNotificationActionReceiver` class. There, when it receives a broadcast, it stops the service from the intent of the main activity and then opens the main activity. **Hope I have answered all your questions**","body":"And lastly <code>and how it actually works</code>: It works with a easy method. First we have an intent in the activity which will be used to start and stop the service. When, we click the button in the notification, it sends a broadcast to the <code>StopwatchNotificationActionReceiver</code> class. There, when it receives a broadcast, it stops the service from the intent of the main activity and then opens the main activity. <b>Hope I have answered all your questions</b>"},{"owner":{"account_id":11027038,"reputation":186,"user_id":8099601,"display_name":"Nitzan Daloomy"},"score":0,"creation_date":1650378952,"post_id":71913906,"comment_id":127097835,"body_markdown":"Tried what you suggested again, and again a red line jumped, with the same error, this tome under `addAction()` method: &quot;`This intent launches a BroadcastReceiver which launches activities; this indirection is bad for performance, and activities should be launched directly from the notification`&quot;","body":"Tried what you suggested again, and again a red line jumped, with the same error, this tome under <code>addAction()</code> method: &quot;<code>This intent launches a BroadcastReceiver which launches activities; this indirection is bad for performance, and activities should be launched directly from the notification</code>&quot;"},{"owner":{"account_id":11027038,"reputation":186,"user_id":8099601,"display_name":"Nitzan Daloomy"},"score":0,"creation_date":1650379230,"post_id":71913906,"comment_id":127097959,"body_markdown":"also tried to run this although there&#39;s a red line, and the activity just didn&#39;t open","body":"also tried to run this although there&#39;s a red line, and the activity just didn&#39;t open"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1650447551,"post_id":71913906,"comment_id":127116181,"body_markdown":"Now. I want to know whether or not you want to stop the timer on click of the stop button? If you want to stop, then use the broadcast receiver as mentioned by me or else just use a pending intent for that.","body":"Now. I want to know whether or not you want to stop the timer on click of the stop button? If you want to stop, then use the broadcast receiver as mentioned by me or else just use a pending intent for that."},{"owner":{"account_id":11027038,"reputation":186,"user_id":8099601,"display_name":"Nitzan Daloomy"},"score":0,"creation_date":1650449186,"post_id":71913906,"comment_id":127116838,"body_markdown":"I want to stop the timer, and open the app so I can do some other stuff that I can only do inside my app. That&#39;s why I need to be able to open the activity intent from outside the app. stopping the service was never a problem...","body":"I want to stop the timer, and open the app so I can do some other stuff that I can only do inside my app. That&#39;s why I need to be able to open the activity intent from outside the app. stopping the service was never a problem..."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1650452811,"post_id":71913906,"comment_id":127118223,"body_markdown":"Sorry for the late reply. Yes. My answer is edited according to that. Try that code","body":"Sorry for the late reply. Yes. My answer is edited according to that. Try that code"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1650452979,"post_id":71913906,"comment_id":127118284,"body_markdown":"Or even try the simple method given by me at the bottom","body":"Or even try the simple method given by me at the bottom"},{"owner":{"account_id":11027038,"reputation":186,"user_id":8099601,"display_name":"Nitzan Daloomy"},"score":0,"creation_date":1650453671,"post_id":71913906,"comment_id":127118506,"body_markdown":"Both of them show the same red lines I mentioned before :( (and they don&#39;t work)","body":"Both of them show the same red lines I mentioned before :( (and they don&#39;t work)"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1650454580,"post_id":71913906,"comment_id":127118819,"body_markdown":"Is it possible for you to open the activity and in the activity stop the timer","body":"Is it possible for you to open the activity and in the activity stop the timer"},{"owner":{"account_id":11027038,"reputation":186,"user_id":8099601,"display_name":"Nitzan Daloomy"},"score":0,"creation_date":1650454773,"post_id":71913906,"comment_id":127118877,"body_markdown":"In the meantime, if I cannot find a way to open the app using the stop button, I just won&#39;t show a button, and the user will have to go into the app and then stop the service. It would be better if they could just click the stop button and then it will all happen automatically for the users though, and that&#39;s why I brought up this question","body":"In the meantime, if I cannot find a way to open the app using the stop button, I just won&#39;t show a button, and the user will have to go into the app and then stop the service. It would be better if they could just click the stop button and then it will all happen automatically for the users though, and that&#39;s why I brought up this question"},{"owner":{"account_id":11027038,"reputation":186,"user_id":8099601,"display_name":"Nitzan Daloomy"},"score":0,"creation_date":1650461335,"post_id":71913906,"comment_id":127121679,"body_markdown":"found half a solution (:\ncheck out my answer to see it.","body":"found half a solution (: check out my answer to see it."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1650525194,"post_id":71913906,"comment_id":127139112,"body_markdown":"I have edited my answer. Look into the `Edit` section]","body":"I have edited my answer. Look into the <code>Edit</code> section]"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1650621288,"post_id":71913906,"comment_id":127167455,"body_markdown":"Hi @NitzanDaloomy. No response yet. Is there any error still?","body":"Hi @NitzanDaloomy. No response yet. Is there any error still?"},{"owner":{"account_id":11027038,"reputation":186,"user_id":8099601,"display_name":"Nitzan Daloomy"},"score":0,"creation_date":1650637865,"post_id":71913906,"comment_id":127173523,"body_markdown":"Hi, sorry to answer just now, a busy weekend. I&#39;ve seen your solution but didn&#39;t see anything that&#39;s supposed to solve my problem... check my answer (the one below yours), it explains why the activity won&#39;t open... if you have anything to solve what I referred to at the end of my answer that&#39;ll be great (:\nthanks for the help!","body":"Hi, sorry to answer just now, a busy weekend. I&#39;ve seen your solution but didn&#39;t see anything that&#39;s supposed to solve my problem... check my answer (the one below yours), it explains why the activity won&#39;t open... if you have anything to solve what I referred to at the end of my answer that&#39;ll be great (: thanks for the help!"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1650638298,"post_id":71913906,"comment_id":127173681,"body_markdown":"@NitzanDaloomy NP. Yes. I did see your answer. I have also solved ur problem. What I have done is that open the activity with an extra. In the `onResume()` I check if the extra is `r`. If yes, I stop the service and also stop the timer. You can view the result below it. That will do the task for you i guess.","body":"@NitzanDaloomy NP. Yes. I did see your answer. I have also solved ur problem. What I have done is that open the activity with an extra. In the <code>onResume()</code> I check if the extra is <code>r</code>. If yes, I stop the service and also stop the timer. You can view the result below it. That will do the task for you i guess."},{"owner":{"account_id":11027038,"reputation":186,"user_id":8099601,"display_name":"Nitzan Daloomy"},"score":0,"creation_date":1650642324,"post_id":71913906,"comment_id":127175270,"body_markdown":"But I don&#39;t get it. in order to get to `onResume()`, you have to open the app, and this requires the permissions, as I mentioned... Do you claim to solve the problem without the required permissions? and also to be able to open the app even if it&#39;s killed?","body":"But I don&#39;t get it. in order to get to <code>onResume()</code>, you have to open the app, and this requires the permissions, as I mentioned... Do you claim to solve the problem without the required permissions? and also to be able to open the app even if it&#39;s killed?"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1650646728,"post_id":71913906,"comment_id":127176759,"body_markdown":"Yes indeed @NitzanDaloomy. Try it out. It works like charm. But, did u check the sample video? You can see the result there","body":"Yes indeed @NitzanDaloomy. Try it out. It works like charm. But, did u check the sample video? You can see the result there"},{"owner":{"account_id":11027038,"reputation":186,"user_id":8099601,"display_name":"Nitzan Daloomy"},"score":0,"creation_date":1650661374,"post_id":71913906,"comment_id":127180961,"body_markdown":"Oh, great, I&#39;ll try that out as soon as I can! Thanks(:","body":"Oh, great, I&#39;ll try that out as soon as I can! Thanks(:"},{"owner":{"account_id":11027038,"reputation":186,"user_id":8099601,"display_name":"Nitzan Daloomy"},"score":0,"creation_date":1650661505,"post_id":71913906,"comment_id":127181003,"body_markdown":"Also, instead of stopping the service when I&#39;m in the app, I&#39;m not stopping it - the service is the main and only timer that runs, so I guess there&#39;s no need to use `onResume()` anymore?","body":"Also, instead of stopping the service when I&#39;m in the app, I&#39;m not stopping it - the service is the main and only timer that runs, so I guess there&#39;s no need to use <code>onResume()</code> anymore?"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1650687851,"post_id":71913906,"comment_id":127184454,"body_markdown":"hmmmm. So, you can remove the `stopService()` method in the `onResume()`. That will do the task","body":"hmmmm. So, you can remove the <code>stopService()</code> method in the <code>onResume()</code>. That will do the task"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1650811831,"post_id":71913906,"comment_id":127205625,"body_markdown":"Any updates @NitzanDaloomy?","body":"Any updates @NitzanDaloomy?"},{"owner":{"account_id":11027038,"reputation":186,"user_id":8099601,"display_name":"Nitzan Daloomy"},"score":0,"creation_date":1650820938,"post_id":71913906,"comment_id":127207761,"body_markdown":"tried your code, it makes sense that it&#39;ll work, and it does.\nbut it&#39;s not what I tried to do. I&#39;m trying to open the activity from the service at any time. In addition to the regular timer, I have a `CountdownTimer`, and in its `onFinish()` I&#39;m opening the activity, so opening the app from the service is required, and not from the notification. Anyway, it&#39;s a great way for opening the app using the notifications button. So I&#39;ll give you an upvote for that, but still, my solution solves better my problem. hope it&#39;ll get figured out how to solve it completely.","body":"tried your code, it makes sense that it&#39;ll work, and it does. but it&#39;s not what I tried to do. I&#39;m trying to open the activity from the service at any time. In addition to the regular timer, I have a <code>CountdownTimer</code>, and in its <code>onFinish()</code> I&#39;m opening the activity, so opening the app from the service is required, and not from the notification. Anyway, it&#39;s a great way for opening the app using the notifications button. So I&#39;ll give you an upvote for that, but still, my solution solves better my problem. hope it&#39;ll get figured out how to solve it completely."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1650822039,"post_id":71913906,"comment_id":127208019,"body_markdown":"Now. That becomes another question i guess. I have answered your question of opening activity from action button. What u r asking now is different. Why not ask another question?","body":"Now. That becomes another question i guess. I have answered your question of opening activity from action button. What u r asking now is different. Why not ask another question?"},{"owner":{"account_id":11027038,"reputation":186,"user_id":8099601,"display_name":"Nitzan Daloomy"},"score":0,"creation_date":1650834887,"post_id":71913906,"comment_id":127210809,"body_markdown":"I&#39;ll upload another answer then. I&#39;ll update you when I do it (:","body":"I&#39;ll upload another answer then. I&#39;ll update you when I do it (:"},{"owner":{"account_id":11027038,"reputation":186,"user_id":8099601,"display_name":"Nitzan Daloomy"},"score":0,"creation_date":1650883747,"post_id":71913906,"comment_id":127220685,"body_markdown":"I&#39;ve uploaded another [question](https://stackoverflow.com/q/71998322/8099601)","body":"I&#39;ve uploaded another <a href=\"https://stackoverflow.com/q/71998322/8099601\">question</a>"},{"owner":{"account_id":11027038,"reputation":186,"user_id":8099601,"display_name":"Nitzan Daloomy"},"score":0,"creation_date":1650885095,"post_id":71913906,"comment_id":127221095,"body_markdown":"are you the one who upvoted to it?","body":"are you the one who upvoted to it?"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1650958059,"post_id":71913906,"comment_id":127240463,"body_markdown":"No. Not me. @NitzanDaloomy","body":"No. Not me. @NitzanDaloomy"},{"owner":{"account_id":11027038,"reputation":186,"user_id":8099601,"display_name":"Nitzan Daloomy"},"score":0,"creation_date":1650985519,"post_id":71913906,"comment_id":127250966,"body_markdown":"Man :/ so who did it... I just can&#39;t understand why would someone do it without at least explaining... what&#39;s the point of it if it doesn&#39;t come with an explanation?","body":"Man :/ so who did it... I just can&#39;t understand why would someone do it without at least explaining... what&#39;s the point of it if it doesn&#39;t come with an explanation?"}],"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"comment_count":34,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1684771902,"creation_date":1650296270,"answer_id":71913906,"question_id":71911095,"body_markdown":"You can try to receive the click in a `BroadcastReceiver` and then open activity from there.\r\n\r\n1. Try this to add a action button o your notification:\r\n```java\r\ntimerNotificationBuilder.addAction(createNotificationActionButton(&quot;STOP&quot;);\r\n```\r\n\r\nWhere the `createNotificationActionButton` method is this:\r\n```java\r\npublic NotificationCompat.Action createNotificationActionButton(String text){\r\n        Intent intent = new Intent(this, StopwatchNotificationActionReceiver.class);\r\n\r\n        @SuppressLint(&quot;InlinedApi&quot;) PendingIntent pendingIntent = PendingIntent.getBroadcast(this, new Random().nextInt(100), intent, PendingIntent.FLAG_IMMUTABLE);\r\n\r\n        return new NotificationCompat.Action(0, text, pendingIntent);\r\n    }\r\n```\r\n\r\n2. Create a class named `StopwatchNotificationActionReceiver` and make it extent a `BroadcastReceiver`. This is the code for that class:\r\n```java\r\nimport android.content.BroadcastReceiver;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.util.Log;\r\n\r\npublic class StopwatchNotificationActionReceiver extends BroadcastReceiver {\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        PrefUtil.setIsRunningInBackground(context, false);\r\n        PrefUtil.setTimerSecondsPassed(context, 0);\r\n        PrefUtil.setWasTimerRunning(context, false);\r\n        context.stopService(MainActivity.serviceIntent);\r\n        Intent activityIntent = new Intent(context, MainActivity.class);\r\n        activityIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n        context.startActvity(activityIntent);\r\n    }\r\n}\r\n```\r\n\r\nAlso you need to register that receiver in your manifest like this:\r\n```xml\r\n&lt;receiver android:name=&quot;StopwatchNotificationActionReceiver&quot;/&gt;\r\n```\r\n\r\n3. Where the `MainActivity.serviceIntent` is a public static variable which looks like this:\r\n```java\r\npublic static Intent serviceIntent;\r\n```\r\n\r\nAnd this intent is only used to start the service like this:\r\n```java\r\n//In onCreate\r\nserviceIntent = new Intent(this, TimerService.class);\r\n\r\n//In onPause\r\nPrefUtil.setTimerSecondsPassed(this,seconds);\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                startForegroundService(serviceIntent);\r\n            }\r\n```\r\n\r\n\r\nOr you can try the simple method:\r\n```java\r\nif (action != null &amp;&amp; action.equals(ACTION_STOP_SERVICE)) {\r\n    Context context = this;\r\n    Intent activityIntent = new Intent(context, MainActivity.class);\r\n        activityIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n        context.startActvity(activityIntent);\r\n    killService();\r\n}\r\n```\r\n\r\n\r\n### Edit\r\n---\r\nAnother solution is here. Again. You need to refer to my [repo](https://github.com/sambhav2358/Backgroud-Stopwatch-Android) as I have made changes to the files in order to complete your task.  In the service class, refer to [this](https://github.com/sambhav2358/Backgroud-Stopwatch-Android/blob/498b70196cfa92095a250d4013050e9806341322/app/src/main/java/com/sambhav2358/testing/TimerService.java#L177) method. There, I start the activity if the action is reset(r). Or else, it opens the broadcast receiver. Then, in the activity, I receive that extra in the [`onResume()` method](https://github.com/sambhav2358/Backgroud-Stopwatch-Android/blob/498b70196cfa92095a250d4013050e9806341322/app/src/main/java/com/sambhav2358/testing/MainActivity.java#L154). If the reset button is not clicked, it opens the [Receiver class](https://github.com/sambhav2358/Backgroud-Stopwatch-Android/blob/main/app/src/main/java/com/sambhav2358/testing/StopwatchNotificationActionReceiver.java).\r\n\r\nAnd as always, you can view the result of the app [from here](https://gifyu.com/image/SL0ZR).\r\n\r\n\r\nI hope that code will do your work.","title":"Open Activity on notification button click when app is closed","body":"<p>You can try to receive the click in a <code>BroadcastReceiver</code> and then open activity from there.</p>\n<ol>\n<li>Try this to add a action button o your notification:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>timerNotificationBuilder.addAction(createNotificationActionButton(&quot;STOP&quot;);\n</code></pre>\n<p>Where the <code>createNotificationActionButton</code> method is this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public NotificationCompat.Action createNotificationActionButton(String text){\n        Intent intent = new Intent(this, StopwatchNotificationActionReceiver.class);\n\n        @SuppressLint(&quot;InlinedApi&quot;) PendingIntent pendingIntent = PendingIntent.getBroadcast(this, new Random().nextInt(100), intent, PendingIntent.FLAG_IMMUTABLE);\n\n        return new NotificationCompat.Action(0, text, pendingIntent);\n    }\n</code></pre>\n<ol start=\"2\">\n<li>Create a class named <code>StopwatchNotificationActionReceiver</code> and make it extent a <code>BroadcastReceiver</code>. This is the code for that class:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>import android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.util.Log;\n\npublic class StopwatchNotificationActionReceiver extends BroadcastReceiver {\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        PrefUtil.setIsRunningInBackground(context, false);\n        PrefUtil.setTimerSecondsPassed(context, 0);\n        PrefUtil.setWasTimerRunning(context, false);\n        context.stopService(MainActivity.serviceIntent);\n        Intent activityIntent = new Intent(context, MainActivity.class);\n        activityIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n        context.startActvity(activityIntent);\n    }\n}\n</code></pre>\n<p>Also you need to register that receiver in your manifest like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;receiver android:name=&quot;StopwatchNotificationActionReceiver&quot;/&gt;\n</code></pre>\n<ol start=\"3\">\n<li>Where the <code>MainActivity.serviceIntent</code> is a public static variable which looks like this:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public static Intent serviceIntent;\n</code></pre>\n<p>And this intent is only used to start the service like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//In onCreate\nserviceIntent = new Intent(this, TimerService.class);\n\n//In onPause\nPrefUtil.setTimerSecondsPassed(this,seconds);\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n                startForegroundService(serviceIntent);\n            }\n</code></pre>\n<p>Or you can try the simple method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (action != null &amp;&amp; action.equals(ACTION_STOP_SERVICE)) {\n    Context context = this;\n    Intent activityIntent = new Intent(context, MainActivity.class);\n        activityIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n        context.startActvity(activityIntent);\n    killService();\n}\n</code></pre>\n<h3>Edit</h3>\n<hr />\n<p>Another solution is here. Again. You need to refer to my <a href=\"https://github.com/sambhav2358/Backgroud-Stopwatch-Android\" rel=\"nofollow noreferrer\">repo</a> as I have made changes to the files in order to complete your task.  In the service class, refer to <a href=\"https://github.com/sambhav2358/Backgroud-Stopwatch-Android/blob/498b70196cfa92095a250d4013050e9806341322/app/src/main/java/com/sambhav2358/testing/TimerService.java#L177\" rel=\"nofollow noreferrer\">this</a> method. There, I start the activity if the action is reset(r). Or else, it opens the broadcast receiver. Then, in the activity, I receive that extra in the <a href=\"https://github.com/sambhav2358/Backgroud-Stopwatch-Android/blob/498b70196cfa92095a250d4013050e9806341322/app/src/main/java/com/sambhav2358/testing/MainActivity.java#L154\" rel=\"nofollow noreferrer\"><code>onResume()</code> method</a>. If the reset button is not clicked, it opens the <a href=\"https://github.com/sambhav2358/Backgroud-Stopwatch-Android/blob/main/app/src/main/java/com/sambhav2358/testing/StopwatchNotificationActionReceiver.java\" rel=\"nofollow noreferrer\">Receiver class</a>.</p>\n<p>And as always, you can view the result of the app <a href=\"https://gifyu.com/image/SL0ZR\" rel=\"nofollow noreferrer\">from here</a>.</p>\n<p>I hope that code will do your work.</p>\n"},{"tags":[],"owner":{"account_id":11027038,"reputation":186,"user_id":8099601,"display_name":"Nitzan Daloomy"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1650461273,"creation_date":1650461273,"answer_id":71940559,"question_id":71911095,"body_markdown":"I found it! See [this answer][1].\\\r\nThis answer suggests enabling `ScreeanOverlay` settings because as of Android 10 and later you can no longer open an activity from the background just by calling the lines I&#39;ve used.\\\r\nTo make it work, you&#39;d have to add this permission through your `Manifest.xml`:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot;/&gt;\r\n\r\nAnd then the user would have to enable the `Display over other apps` setting.\\\r\nI searched for an option to get the user to this setting more easily and found [this answer][2].\\\r\nThis answer gives a code that redirects the user to the `Display over other apps` setting\r\n\r\n```\r\nif (!Settings.canDrawOverlays(this)) {\r\n    Intent intent = new Intent(Settings.ACTION_MANAGE_OVERLAY_PERMISSION, Uri.parse(&quot;package:&quot; + getPackageName()));\r\n    startActivityForResult(intent, 0);\r\n}\r\n```\r\n\r\nand then I guide the user with the notification&#39;s content (text) on how to enable the setting.\\\r\nOnce the setting is enabled, The lines I&#39;ve used before work.\\\r\n\r\nSo, problem solved?\r\n\r\n\r\n## Not Completely Solved ##\r\nthis whole configuration described above works, but only if the app is not killed.\\\r\nIf the app was killed and I try the method listed above, the app joins the recent apps list, but won&#39;t open and show up.\\\r\nA solution that solves this issue as well will be accepted as an answer instead of this one.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/59067224/8099601\r\n  [2]: https://stackoverflow.com/a/40355440/8099601","title":"Open Activity on notification button click when app is closed","body":"<p>I found it! See <a href=\"https://stackoverflow.com/a/59067224/8099601\">this answer</a>.<br />\nThis answer suggests enabling <code>ScreeanOverlay</code> settings because as of Android 10 and later you can no longer open an activity from the background just by calling the lines I've used.<br />\nTo make it work, you'd have to add this permission through your <code>Manifest.xml</code>:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot;/&gt;\n</code></pre>\n<p>And then the user would have to enable the <code>Display over other apps</code> setting.<br />\nI searched for an option to get the user to this setting more easily and found <a href=\"https://stackoverflow.com/a/40355440/8099601\">this answer</a>.<br />\nThis answer gives a code that redirects the user to the <code>Display over other apps</code> setting</p>\n<pre><code>if (!Settings.canDrawOverlays(this)) {\n    Intent intent = new Intent(Settings.ACTION_MANAGE_OVERLAY_PERMISSION, Uri.parse(&quot;package:&quot; + getPackageName()));\n    startActivityForResult(intent, 0);\n}\n</code></pre>\n<p>and then I guide the user with the notification's content (text) on how to enable the setting.<br />\nOnce the setting is enabled, The lines I've used before work.\\</p>\n<p>So, problem solved?</p>\n<h2>Not Completely Solved</h2>\n<p>this whole configuration described above works, but only if the app is not killed.<br />\nIf the app was killed and I try the method listed above, the app joins the recent apps list, but won't open and show up.<br />\nA solution that solves this issue as well will be accepted as an answer instead of this one.</p>\n"}],"owner":{"account_id":11027038,"reputation":186,"user_id":8099601,"display_name":"Nitzan Daloomy"},"comment_count":20,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3785,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71913906,"answer_count":2,"score":3,"last_activity_date":1684771902,"creation_date":1650280810,"question_id":71911095,"body_markdown":"I&#39;m trying to open the `MainActivity` when the user clicks a button in my notification, while the app is only running in the background with a service. When the button is clicked, these lines are triggered in the `Service` class:\r\n\r\n```\r\nIntent openApp = new Intent(this, MainActivity.class);\r\nopenApp.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\nstartActivity(openApp);\r\n```\r\n\r\nI&#39;ve checked it, and the lines are triggered, so there&#39;s no problem in reacting to the button&#39;s click, the `Activity` won&#39;t open though.\r\n\r\nAny suggestions? Why isn&#39;t this working for me and how can I make it work?\r\n\r\n## Edit ##\r\nI was asked for some more code, so in my `onStartCommand()` inside my `Service`, if it starts with a stop-action within its `intent`, I call the `killService()` method, which kills the `Service`, starts the `MainActivity` and do some other stuff:\r\n\r\n```\r\nif (action != null &amp;&amp; action.equals(ACTION_STOP_SERVICE)) {\r\n    killService();\r\n}\r\n```\r\n\r\nTo set the `Notification`s button, I use this code:\r\n\r\n```\r\nIntent stopActionIntent = new Intent(this, TimerService.class);\r\n        stopActionIntent.setAction(ACTION_STOP_SERVICE);\r\n        PendingIntent stopActionPendingIntent = PendingIntent.getService(this, 1, stopActionIntent, PendingIntent.FLAG_IMMUTABLE);\r\n\r\ntimerNotificationBuilder.addAction(R.drawable.stop, &quot;Stop&quot;, stopActionPendingIntent);\r\n```\r\n\r\nAnd as I said, the button already reacts to the user clicking on it, so that&#39;s not the problem.","title":"Open Activity on notification button click when app is closed","body":"<p>I'm trying to open the <code>MainActivity</code> when the user clicks a button in my notification, while the app is only running in the background with a service. When the button is clicked, these lines are triggered in the <code>Service</code> class:</p>\n<pre><code>Intent openApp = new Intent(this, MainActivity.class);\nopenApp.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\nstartActivity(openApp);\n</code></pre>\n<p>I've checked it, and the lines are triggered, so there's no problem in reacting to the button's click, the <code>Activity</code> won't open though.</p>\n<p>Any suggestions? Why isn't this working for me and how can I make it work?</p>\n<h2>Edit</h2>\n<p>I was asked for some more code, so in my <code>onStartCommand()</code> inside my <code>Service</code>, if it starts with a stop-action within its <code>intent</code>, I call the <code>killService()</code> method, which kills the <code>Service</code>, starts the <code>MainActivity</code> and do some other stuff:</p>\n<pre><code>if (action != null &amp;&amp; action.equals(ACTION_STOP_SERVICE)) {\n    killService();\n}\n</code></pre>\n<p>To set the <code>Notification</code>s button, I use this code:</p>\n<pre><code>Intent stopActionIntent = new Intent(this, TimerService.class);\n        stopActionIntent.setAction(ACTION_STOP_SERVICE);\n        PendingIntent stopActionPendingIntent = PendingIntent.getService(this, 1, stopActionIntent, PendingIntent.FLAG_IMMUTABLE);\n\ntimerNotificationBuilder.addAction(R.drawable.stop, &quot;Stop&quot;, stopActionPendingIntent);\n</code></pre>\n<p>And as I said, the button already reacts to the user clicking on it, so that's not the problem.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":2791991,"reputation":4341,"user_id":2402061,"accept_rate":88,"display_name":"Ricky Mutschlechner"},"score":1,"creation_date":1684765543,"post_id":76307182,"comment_id":134560673,"body_markdown":"You may want to look into [Unsupported Media Type](https://www.baeldung.com/spring-415-unsupported-mediatype)","body":"You may want to look into <a href=\"https://www.baeldung.com/spring-415-unsupported-mediatype\" rel=\"nofollow noreferrer\">Unsupported Media Type</a>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684765636,"post_id":76307182,"comment_id":134560696,"body_markdown":"You aren&#39;t saving yourself from any work, infact you are actually taking up more work by only returning/forcing JSON.","body":"You aren&#39;t saving yourself from any work, infact you are actually taking up more work by only returning/forcing JSON."},{"owner":{"account_id":23980626,"reputation":7,"user_id":17968709,"display_name":"ylmzzsy"},"score":0,"creation_date":1684769794,"post_id":76307182,"comment_id":134561668,"body_markdown":"client&#39;s content type might be ```xml``` but at the same time it can ```accept``` ```html``` or other types. I want to ignore ```accept``` header as well","body":"client&#39;s content type might be <code>xml</code> but at the same time it can <code>accept</code> <code>html</code> or other types. I want to ignore <code>accept</code> header as well"},{"owner":{"account_id":23980626,"reputation":7,"user_id":17968709,"display_name":"ylmzzsy"},"score":0,"creation_date":1684770176,"post_id":76307182,"comment_id":134561751,"body_markdown":"@RickyMutschlechner and when I use ```consumes = {&quot;application/json&quot;}``` it still returns html response.","body":"@RickyMutschlechner and when I use <code>consumes = {&quot;application&#47;json&quot;}</code> it still returns html response."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1684800078,"post_id":76307182,"comment_id":134566701,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":23980626,"reputation":7,"user_id":17968709,"display_name":"ylmzzsy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684771865,"creation_date":1684771730,"answer_id":76308064,"question_id":76307182,"body_markdown":"I was able to achieve what I want using ```produces={&quot;application/json&quot;}```\r\n\r\nsee https://www.baeldung.com/spring-rest-custom-media-type for more info\r\n\r\n[here is the response][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZSxDq.png","title":"How to ignore Accept header in spring boot","body":"<p>I was able to achieve what I want using <code>produces={&quot;application/json&quot;}</code></p>\n<p>see <a href=\"https://www.baeldung.com/spring-rest-custom-media-type\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-rest-custom-media-type</a> for more info</p>\n<p><a href=\"https://i.stack.imgur.com/ZSxDq.png\" rel=\"nofollow noreferrer\">here is the response</a></p>\n"}],"owner":{"account_id":23980626,"reputation":7,"user_id":17968709,"display_name":"ylmzzsy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1684771865,"creation_date":1684765405,"question_id":76307182,"body_markdown":"I want my spring boot application only to return response in json format.\r\n\r\nSpring boot decides the response type according to request ```accept``` header. It deserializes response according to the header (json, xml or html)\r\n\r\nI know that my client works with json only. So there is no point for me to respond in xml and html formats.\r\n\r\nIf I am capable of returning xml and html responses, I expect my client to receive json response as well. Why do I have to prepare the response in xml, why don&#39;t my client is unable to understand json messages?\r\n\r\nYou may think that you have more than one client, you save work from all of them but I have more than one API as well so I also need to save work from myself as well...\r\n\r\nAssume the client is also a spring boot application. There is no point sending ```xml``` or ```json``` responses since both will deserialize to the same model object. So why is it my duty to prepare ```html``` or ```xml``` response? I want my application to be as simple as possible and these different response formats bring pointless complexity in my application. Or is it so?\r\n\r\nSo how can I configure this in spring boot?\r\n\r\nThanks in advance.\r\n\r\nI want to disable xml and html responses. Simply return ```404``` when these kind of requests are received or inform the client that this server only supports ```json``` response type (actually there should be a specific status code for this situation)\r\n\r\nOr since ```HTTP/1.1``` servers are allowed to return responses which are not acceptable according to the ```accept``` headers sent in the request, ignore the ```accept``` header and return ```json``` response. (https://stackoverflow.com/a/15027174/17968709)\r\n\r\nSo how can I configure this in spring boot?","title":"How to ignore Accept header in spring boot","body":"<p>I want my spring boot application only to return response in json format.</p>\n<p>Spring boot decides the response type according to request <code>accept</code> header. It deserializes response according to the header (json, xml or html)</p>\n<p>I know that my client works with json only. So there is no point for me to respond in xml and html formats.</p>\n<p>If I am capable of returning xml and html responses, I expect my client to receive json response as well. Why do I have to prepare the response in xml, why don't my client is unable to understand json messages?</p>\n<p>You may think that you have more than one client, you save work from all of them but I have more than one API as well so I also need to save work from myself as well...</p>\n<p>Assume the client is also a spring boot application. There is no point sending <code>xml</code> or <code>json</code> responses since both will deserialize to the same model object. So why is it my duty to prepare <code>html</code> or <code>xml</code> response? I want my application to be as simple as possible and these different response formats bring pointless complexity in my application. Or is it so?</p>\n<p>So how can I configure this in spring boot?</p>\n<p>Thanks in advance.</p>\n<p>I want to disable xml and html responses. Simply return <code>404</code> when these kind of requests are received or inform the client that this server only supports <code>json</code> response type (actually there should be a specific status code for this situation)</p>\n<p>Or since <code>HTTP/1.1</code> servers are allowed to return responses which are not acceptable according to the <code>accept</code> headers sent in the request, ignore the <code>accept</code> header and return <code>json</code> response. (<a href=\"https://stackoverflow.com/a/15027174/17968709\">https://stackoverflow.com/a/15027174/17968709</a>)</p>\n<p>So how can I configure this in spring boot?</p>\n"},{"tags":["java","path","jar","executable-jar"],"comments":[{"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"score":0,"creation_date":1324423277,"post_id":320542,"comment_id":10645036,"body_markdown":"See Fab&#39;s answer for a solution that works when paths include spaces. Also, note that some answers below address the question in the title (jar path), some address the question itself (path of folder containing jar), and some provide paths to classes inside the jar file.","body":"See Fab&#39;s answer for a solution that works when paths include spaces. Also, note that some answers below address the question in the title (jar path), some address the question itself (path of folder containing jar), and some provide paths to classes inside the jar file."},{"owner":{"account_id":1181199,"reputation":1984,"user_id":1156095,"accept_rate":88,"display_name":"Dino Fancellu"},"score":33,"creation_date":1327666193,"post_id":320542,"comment_id":23735066,"body_markdown":"Beware when using in ANT!\n============== I call String path = SomeClass.class.getProtectionDomain().getCodeSource().getLocation().getPath(); and get: /C:/apache-ant-1.7.1/lib/ant.jar Not very useful!","body":"Beware when using in ANT! ============== I call String path = SomeClass.class.getProtectionDomain().getCodeSource().getLoc&zwnj;&#8203;ation().getPath(); and get: /C:/apache-ant-1.7.1/lib/ant.jar Not very useful!"},{"owner":{"account_id":9187,"reputation":9248,"user_id":16873,"accept_rate":100,"display_name":"Thiago Chaves"},"score":0,"creation_date":1327687278,"post_id":320542,"comment_id":23735068,"body_markdown":"Interesting. The original code in which I used this was never run in ant, so it isn&#39;t an issue for me.","body":"Interesting. The original code in which I used this was never run in ant, so it isn&#39;t an issue for me."},{"owner":{"account_id":6006557,"reputation":2094,"user_id":4718314,"accept_rate":77,"display_name":"Buddy"},"score":2,"creation_date":1443785875,"post_id":320542,"comment_id":53640559,"body_markdown":"@Dino Fancellu, i experienced exactly what you described. Works during dev, fails when built to jar.","body":"@Dino Fancellu, i experienced exactly what you described. Works during dev, fails when built to jar."}],"answers":[{"comments":[{"owner":{"account_id":9187,"reputation":9248,"user_id":16873,"accept_rate":100,"display_name":"Thiago Chaves"},"score":0,"creation_date":1244040216,"post_id":320554,"comment_id":753159,"body_markdown":"My JAR file is obfuscated, so this answer does not solve my problem. But I haven&#39;t specified that in the question, so this is still a valid answer.","body":"My JAR file is obfuscated, so this answer does not solve my problem. But I haven&#39;t specified that in the question, so this is still a valid answer."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":12,"creation_date":1244040837,"post_id":320554,"comment_id":753222,"body_markdown":"If it&#39;s obfuscated, use Test.class.getName() and do appropriate munging.","body":"If it&#39;s obfuscated, use Test.class.getName() and do appropriate munging."},{"owner":{"account_id":1352194,"reputation":2624,"user_id":1291512,"accept_rate":58,"display_name":"WhiteAngel"},"score":0,"creation_date":1539758116,"post_id":320554,"comment_id":92612944,"body_markdown":"If there are no resources, `NPE` is thrown","body":"If there are no resources, <code>NPE</code> is thrown"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1539759956,"post_id":320554,"comment_id":92613847,"body_markdown":"@WhiteAngel: It shouldn&#39;t. I&#39;d expect that to print `null` instead, as `loader.getResource` would return null. If you tried to dereference the result instead of passing it to `System.out.println`, *then* it would throw an NPE. It&#39;s pretty rare that you don&#39;t know what resources are available though - and in cases where you *don&#39;t* know that, you can just add a null check in the normal way.","body":"@WhiteAngel: It shouldn&#39;t. I&#39;d expect that to print <code>null</code> instead, as <code>loader.getResource</code> would return null. If you tried to dereference the result instead of passing it to <code>System.out.println</code>, <i>then</i> it would throw an NPE. It&#39;s pretty rare that you don&#39;t know what resources are available though - and in cases where you <i>don&#39;t</i> know that, you can just add a null check in the normal way."},{"owner":{"account_id":1352194,"reputation":2624,"user_id":1291512,"accept_rate":58,"display_name":"WhiteAngel"},"score":0,"creation_date":1539760261,"post_id":320554,"comment_id":92614008,"body_markdown":"@JonSkeet So, you think that your solution that works in some particular case is a viable solution?","body":"@JonSkeet So, you think that your solution that works in some particular case is a viable solution?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1539761278,"post_id":320554,"comment_id":92614552,"body_markdown":"@WhiteAngel: I think a solution that works *for the question that was asked* is fine. Can you give an example where asking the ClassLoader of a class for the resource **of that class** would return null? That&#39;s the question that was being asked. It&#39;s not about some arbitrary resource that may or may not be present. (And as I pointed out before, the code I presented wouldn&#39;t throw an NPE. If you&#39;re seeing one, that would be in some other code that dereferenced the result.)","body":"@WhiteAngel: I think a solution that works <i>for the question that was asked</i> is fine. Can you give an example where asking the ClassLoader of a class for the resource <b>of that class</b> would return null? That&#39;s the question that was being asked. It&#39;s not about some arbitrary resource that may or may not be present. (And as I pointed out before, the code I presented wouldn&#39;t throw an NPE. If you&#39;re seeing one, that would be in some other code that dereferenced the result.)"},{"owner":{"account_id":1352194,"reputation":2624,"user_id":1291512,"accept_rate":58,"display_name":"WhiteAngel"},"score":2,"creation_date":1539761905,"post_id":320554,"comment_id":92614900,"body_markdown":"@JonSkeet there are so many problems with your answer: 1. There will be no `NPE` because you didn&#39;t answer on the question that was asked (path to JAR dir was asked and you answered on absolutely different question: path to class). 2. As pointed by others, and I got the same issue, it doesn&#39;t work for applets. 3. Returned path is not of canonical path representation at all: `jar:file:/listener/build/libs/listener-1.0.0-all.jar!/shared/Test.class`.","body":"@JonSkeet there are so many problems with your answer: 1. There will be no <code>NPE</code> because you didn&#39;t answer on the question that was asked (path to JAR dir was asked and you answered on absolutely different question: path to class). 2. As pointed by others, and I got the same issue, it doesn&#39;t work for applets. 3. Returned path is not of canonical path representation at all: <code>jar:file:&#47;listener&#47;build&#47;libs&#47;listener-1.0.0-all.jar!&#47;shared&zwnj;&#8203;&#47;Test.class</code>."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1539762289,"post_id":320554,"comment_id":92615068,"body_markdown":"@WhiteAngel: 1) The last line of my post indicates that you&#39;d need to look at the URL and pick that apart to get the jar file. I agree it&#39;s not the most complete answer, but I don&#39;t think it&#39;s really so bad to be worth arguing about (especially 10 years later...) 2) Applets weren&#39;t mentioned in any comments *here* - strangely enough, I don&#39;t have time to look at all comments on all answers on questions that I happened to post an answer to. 3) Again, I link to the format of the jar URL.","body":"@WhiteAngel: 1) The last line of my post indicates that you&#39;d need to look at the URL and pick that apart to get the jar file. I agree it&#39;s not the most complete answer, but I don&#39;t think it&#39;s really so bad to be worth arguing about (especially 10 years later...) 2) Applets weren&#39;t mentioned in any comments <i>here</i> - strangely enough, I don&#39;t have time to look at all comments on all answers on questions that I happened to post an answer to. 3) Again, I link to the format of the jar URL."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1539762381,"post_id":320554,"comment_id":92615112,"body_markdown":"@WhiteAngel: Is it the best answer I&#39;ve ever written? Nope. Is it as bad as you&#39;re making it out to be? No, I don&#39;t think so. (Particularly in terms of the claims you made around it throwing an NPE, which it doesn&#39;t.) I would suggest you add your own answer instead of making a fuss about this one. That would be a more positive approach.","body":"@WhiteAngel: Is it the best answer I&#39;ve ever written? Nope. Is it as bad as you&#39;re making it out to be? No, I don&#39;t think so. (Particularly in terms of the claims you made around it throwing an NPE, which it doesn&#39;t.) I would suggest you add your own answer instead of making a fuss about this one. That would be a more positive approach."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":9,"down_vote_count":2,"up_vote_count":29,"is_accepted":false,"score":27,"last_activity_date":1227703321,"creation_date":1227702871,"answer_id":320554,"question_id":320542,"body_markdown":"Use ClassLoader.getResource() to find the URL for your current class.\r\n\r\nFor example:\r\n\r\n    package foo;\r\n    \r\n    public class Test\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            ClassLoader loader = Test.class.getClassLoader();\r\n            System.out.println(loader.getResource(&quot;foo/Test.class&quot;));\r\n        }\r\n    }\r\n\r\n(This example taken from [a similar question][1].)\r\n\r\nTo find the directory, you&#39;d then need to take apart the URL manually. See the [JarClassLoader tutorial][2] for the format of a jar URL.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/227486/find-where-java-class-is-loaded-from\r\n  [2]: http://java.sun.com/docs/books/tutorial/deployment/jar/jarclassloader.html","title":"How to get the path of a running JAR file?","body":"<p>Use ClassLoader.getResource() to find the URL for your current class.</p>\n\n<p>For example:</p>\n\n<pre><code>package foo;\n\npublic class Test\n{\n    public static void main(String[] args)\n    {\n        ClassLoader loader = Test.class.getClassLoader();\n        System.out.println(loader.getResource(\"foo/Test.class\"));\n    }\n}\n</code></pre>\n\n<p>(This example taken from <a href=\"https://stackoverflow.com/questions/227486/find-where-java-class-is-loaded-from\">a similar question</a>.)</p>\n\n<p>To find the directory, you'd then need to take apart the URL manually. See the <a href=\"http://java.sun.com/docs/books/tutorial/deployment/jar/jarclassloader.html\" rel=\"nofollow noreferrer\">JarClassLoader tutorial</a> for the format of a jar URL.</p>\n"},{"comments":[{"owner":{"account_id":1246414,"reputation":6801,"user_id":1207769,"accept_rate":62,"display_name":"ctrueden"},"score":50,"creation_date":1353529534,"post_id":320595,"comment_id":18478290,"body_markdown":"The `toURI()` step is vital to avoid problems with special characters, including spaces and pluses.\n\nThe correct one-liner is: `return new File(MyClass.class.getProtectionDomain().getCodeSource().getLocation().toURI());`\n\nUsing `URLDecoder` does not work for many special characters. See my answer below for further details.","body":"The <code>toURI()</code> step is vital to avoid problems with special characters, including spaces and pluses.  The correct one-liner is: <code>return new File(MyClass.class.getProtectionDomain().getCodeSource().get&zwnj;&#8203;Location().toURI());</code>  Using <code>URLDecoder</code> does not work for many special characters. See my answer below for further details."},{"owner":{"account_id":82461,"reputation":4705,"user_id":231839,"accept_rate":88,"display_name":"Brain2000"},"score":0,"creation_date":1424733321,"post_id":320595,"comment_id":45663516,"body_markdown":"toURI() seems to break paths run from a network share.","body":"toURI() seems to break paths run from a network share."},{"owner":{"account_id":6006557,"reputation":2094,"user_id":4718314,"accept_rate":77,"display_name":"Buddy"},"score":6,"creation_date":1443785789,"post_id":320595,"comment_id":53640513,"body_markdown":"Note: this returns the path including the name of jar file","body":"Note: this returns the path including the name of jar file"},{"owner":{"account_id":1578490,"reputation":4780,"user_id":1464389,"accept_rate":49,"display_name":"F.O.O"},"score":11,"creation_date":1465559607,"post_id":320595,"comment_id":62964734,"body_markdown":"Doesn&#39;t this point to the jar file, instead of the running directory? You will have to do a on the result getParentFile() for this work.","body":"Doesn&#39;t this point to the jar file, instead of the running directory? You will have to do a on the result getParentFile() for this work."},{"owner":{"account_id":984229,"reputation":171,"user_id":1003157,"display_name":"Raymond Naseef"},"score":0,"creation_date":1510349600,"post_id":320595,"comment_id":81413633,"body_markdown":"@F.O.O. [A] Yes, it get&#39;s point to JAR file [B] No, it has No Relationship to the working directory.  Prove this by running `java -Duser.dir=TotallyDiffDir -cp [myjarpath] [myappclasspath]`: &#39;user.dir&#39; sets the current working directory, and this answer returns where code is in classpath","body":"@F.O.O. [A] Yes, it get&#39;s point to JAR file [B] No, it has No Relationship to the working directory.  Prove this by running <code>java -Duser.dir=TotallyDiffDir -cp [myjarpath] [myappclasspath]</code>: &#39;user.dir&#39; sets the current working directory, and this answer returns where code is in classpath"},{"owner":{"account_id":9022797,"reputation":2681,"user_id":6723250,"accept_rate":62,"display_name":"xeruf"},"score":0,"creation_date":1514895157,"post_id":320595,"comment_id":83093966,"body_markdown":"whats the point of the getPath() call? Why not simply construct the File from teh URI?","body":"whats the point of the getPath() call? Why not simply construct the File from teh URI?"},{"owner":{"account_id":2369006,"reputation":11938,"user_id":3096687,"accept_rate":67,"display_name":"bbarker"},"score":1,"creation_date":1522590059,"post_id":320595,"comment_id":86204508,"body_markdown":"Also, `getProtectionDomain` is null if you are getting your class from a stracktrace: `val strace = Thread.currentThread().getStackTrace; val path = strace(1).getClass.getProtectionDomain`","body":"Also, <code>getProtectionDomain</code> is null if you are getting your class from a stracktrace: <code>val strace = Thread.currentThread().getStackTrace; val path = strace(1).getClass.getProtectionDomain</code>"},{"owner":{"account_id":4895550,"reputation":854,"user_id":6341307,"display_name":"Mr00Anderson"},"score":2,"creation_date":1551197169,"post_id":320595,"comment_id":96548309,"body_markdown":"Using this method with up to Java 8; placing this method in a class that is in a external Jar, loaded via class-path, then the path of the external jar will be given instead of the actual running Jar.","body":"Using this method with up to Java 8; placing this method in a class that is in a external Jar, loaded via class-path, then the path of the external jar will be given instead of the actual running Jar."},{"owner":{"account_id":2234734,"reputation":979,"user_id":1971447,"accept_rate":100,"display_name":"P. Waksman"},"score":3,"creation_date":1608239179,"post_id":320595,"comment_id":115530311,"body_markdown":"this answer have a lot of upvot, I think is because of the date, but now a days this doesn&#39;t work, you will get a straigh exception when invoking the new File(URI), .toURI can also be null","body":"this answer have a lot of upvot, I think is because of the date, but now a days this doesn&#39;t work, you will get a straigh exception when invoking the new File(URI), .toURI can also be null"},{"owner":{"account_id":8557545,"reputation":1433,"user_id":6412684,"display_name":"Kymo Wang"},"score":0,"creation_date":1636347682,"post_id":320595,"comment_id":123523040,"body_markdown":"It doesn&#39;t work on windows. The path contains a preceding slash, e.g. `/c:/documents ` which is illegal for window file.","body":"It doesn&#39;t work on windows. The path contains a preceding slash, e.g. <code>&#47;c:&#47;documents </code> which is illegal for window file."},{"owner":{"account_id":9676064,"reputation":101,"user_id":7179524,"display_name":"S P"},"score":0,"creation_date":1701204442,"post_id":320595,"comment_id":136745897,"body_markdown":"My call to  ClassName.class.getProtectionDomain().getCodeSource().getLocation().toURI().getPath(); retuns the current working directory (i.e. &quot;.&quot;).  Has the behavior changed recently?  I am using OpenJDK 20.0.1","body":"My call to  ClassName.class.getProtectionDomain().getCodeSource().getLoc&zwnj;&#8203;ation().toURI().getP&zwnj;&#8203;ath(); retuns the current working directory (i.e. &quot;.&quot;).  Has the behavior changed recently?  I am using OpenJDK 20.0.1"}],"tags":[],"owner":{"account_id":8456,"reputation":22280,"user_id":15255,"accept_rate":89,"display_name":"Zarkonnen"},"comment_count":11,"down_vote_count":4,"up_vote_count":605,"is_accepted":true,"score":601,"last_activity_date":1555100236,"creation_date":1227703803,"answer_id":320595,"question_id":320542,"body_markdown":"    return new File(MyClass.class.getProtectionDomain().getCodeSource().getLocation()\r\n        .toURI()).getPath();\r\n\r\nReplace &quot;MyClass&quot; with the name of your class.\r\n\r\nObviously, this will do odd things if your class was loaded from a non-file location.","title":"How to get the path of a running JAR file?","body":"<pre><code>return new File(MyClass.class.getProtectionDomain().getCodeSource().getLocation()\n    .toURI()).getPath();\n</code></pre>\n\n<p>Replace \"MyClass\" with the name of your class.</p>\n\n<p>Obviously, this will do odd things if your class was loaded from a non-file location.</p>\n"},{"comments":[{"owner":{"account_id":669930,"reputation":63,"user_id":508801,"display_name":"ZZZ"},"score":1,"creation_date":1289858371,"post_id":4189058,"comment_id":4527451,"body_markdown":"That path string still needs to be simplified to your need. `String path = new File(getClass().getResource(&quot;&quot;).getPath()).getParentFile().getParent();\nFile jarDir = new File(path.substring(5));`","body":"That path string still needs to be simplified to your need. <code>String path = new File(getClass().getResource(&quot;&quot;).getPath()).getParentFile().g&zwnj;&#8203;etParent(); File jarDir = new File(path.substring(5));</code>"},{"owner":{"account_id":1246414,"reputation":6801,"user_id":1207769,"accept_rate":62,"display_name":"ctrueden"},"score":4,"creation_date":1354639807,"post_id":4189058,"comment_id":18825742,"body_markdown":"Both `getResource(&quot;&quot;)` and `getResource(&quot;.&quot;)` failed in my tests, when the class resided within a JAR file; both invocations returned null.","body":"Both <code>getResource(&quot;&quot;)</code> and <code>getResource(&quot;.&quot;)</code> failed in my tests, when the class resided within a JAR file; both invocations returned null."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1481846800,"post_id":4189058,"comment_id":69551293,"body_markdown":"This throws `NullPointerException`.","body":"This throws <code>NullPointerException</code>."}],"tags":[],"owner":{"account_id":669930,"reputation":63,"user_id":508801,"display_name":"ZZZ"},"comment_count":3,"down_vote_count":4,"up_vote_count":7,"is_accepted":false,"score":3,"last_activity_date":1316326461,"creation_date":1289857210,"answer_id":4189058,"question_id":320542,"body_markdown":"    String path = getClass().getResource(&quot;&quot;).getPath();\r\n\r\nThe path always refers to the resource within the jar file.","title":"How to get the path of a running JAR file?","body":"<pre><code>String path = getClass().getResource(\"\").getPath();\n</code></pre>\n\n<p>The path always refers to the resource within the jar file.</p>\n"},{"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":3,"creation_date":1302809773,"post_id":5667601,"comment_id":6469268,"body_markdown":"&quot;It should work in either Windows or Unix.&quot;  but will fail in any applet and every app. launched using JWS.","body":"&quot;It should work in either Windows or Unix.&quot;  but will fail in any applet and every app. launched using JWS."}],"tags":[],"owner":{"account_id":741327,"reputation":9,"user_id":708497,"display_name":"Bacup Lad"},"comment_count":1,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1340111419,"creation_date":1302804558,"answer_id":5667601,"question_id":320542,"body_markdown":"This method, called from code in the archive, returns the folder where the .jar file is. It should work in either Windows or Unix.\r\n\r\n&lt;pre&gt;&lt;code&gt;\r\n  private String getJarFolder() {\r\n    String name = this.getClass().getName().replace(&#39;.&#39;, &#39;/&#39;);\r\n    String s = this.getClass().getResource(&quot;/&quot; + name + &quot;.class&quot;).toString();\r\n    s = s.replace(&#39;/&#39;, File.separatorChar);\r\n    s = s.substring(0, s.indexOf(&quot;.jar&quot;)+4);\r\n    s = s.substring(s.lastIndexOf(&#39;:&#39;)-1);\r\n    return s.substring(0, s.lastIndexOf(File.separatorChar)+1);\r\n  } \r\n\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nDerived from code at: [Determine if running from JAR][1]\r\n\r\n[1]:http://www.rgagnon.com/javadetails/java-0391.html","title":"How to get the path of a running JAR file?","body":"<p>This method, called from code in the archive, returns the folder where the .jar file is. It should work in either Windows or Unix.</p>\n\n<pre><code>\n  private String getJarFolder() {\n    String name = this.getClass().getName().replace('.', '/');\n    String s = this.getClass().getResource(\"/\" + name + \".class\").toString();\n    s = s.replace('/', File.separatorChar);\n    s = s.substring(0, s.indexOf(\".jar\")+4);\n    s = s.substring(s.lastIndexOf(':')-1);\n    return s.substring(0, s.lastIndexOf(File.separatorChar)+1);\n  } \n\n</code></pre>\n\n<p>Derived from code at: <a href=\"http://www.rgagnon.com/javadetails/java-0391.html\" rel=\"nofollow\">Determine if running from JAR</a></p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1481846675,"post_id":5678263,"comment_id":69551257,"body_markdown":"There are several built-in ways to decode the path. No need to write your own code.","body":"There are several built-in ways to decode the path. No need to write your own code."}],"tags":[],"owner":{"account_id":738408,"reputation":45,"user_id":709985,"display_name":"bacup lad"},"comment_count":1,"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1302885809,"creation_date":1302877848,"answer_id":5678263,"question_id":320542,"body_markdown":"Actually here is a better version - the old one failed if a folder name had a space in it.\r\n\r\n  \r\n\r\n      private String getJarFolder() {\r\n        // get name and path\r\n        String name = getClass().getName().replace(&#39;.&#39;, &#39;/&#39;);\r\n        name = getClass().getResource(&quot;/&quot; + name + &quot;.class&quot;).toString();\r\n        // remove junk\r\n        name = name.substring(0, name.indexOf(&quot;.jar&quot;));\r\n        name = name.substring(name.lastIndexOf(&#39;:&#39;)-1, name.lastIndexOf(&#39;/&#39;)+1).replace(&#39;%&#39;, &#39; &#39;);\r\n        // remove escape characters\r\n        String s = &quot;&quot;;\r\n        for (int k=0; k&lt;name.length(); k++) {\r\n          s += name.charAt(k);\r\n          if (name.charAt(k) == &#39; &#39;) k += 2;\r\n        }\r\n        // replace &#39;/&#39; with system separator char\r\n        return s.replace(&#39;/&#39;, File.separatorChar);\r\n      }\r\n\r\n\r\nAs for failing with applets, you wouldn&#39;t usually have access to local files anyway. I don&#39;t know much about JWS but to handle local files might it not be possible to download the app.?","title":"How to get the path of a running JAR file?","body":"<p>Actually here is a better version - the old one failed if a folder name had a space in it.</p>\n\n<pre><code>  private String getJarFolder() {\n    // get name and path\n    String name = getClass().getName().replace('.', '/');\n    name = getClass().getResource(\"/\" + name + \".class\").toString();\n    // remove junk\n    name = name.substring(0, name.indexOf(\".jar\"));\n    name = name.substring(name.lastIndexOf(':')-1, name.lastIndexOf('/')+1).replace('%', ' ');\n    // remove escape characters\n    String s = \"\";\n    for (int k=0; k&lt;name.length(); k++) {\n      s += name.charAt(k);\n      if (name.charAt(k) == ' ') k += 2;\n    }\n    // replace '/' with system separator char\n    return s.replace('/', File.separatorChar);\n  }\n</code></pre>\n\n<p>As for failing with applets, you wouldn't usually have access to local files anyway. I don't know much about JWS but to handle local files might it not be possible to download the app.?</p>\n"},{"comments":[{"owner":{"account_id":349327,"reputation":2203,"user_id":684549,"accept_rate":100,"display_name":"will824"},"score":8,"creation_date":1317828545,"post_id":6849255,"comment_id":9312768,"body_markdown":"One more note: While calling this function from the Jar, the name of the jar is appended at the end for me, therefore had to execute: path.substring(0, path.lastIndexOf(&quot;/&quot;) + 1);","body":"One more note: While calling this function from the Jar, the name of the jar is appended at the end for me, therefore had to execute: path.substring(0, path.lastIndexOf(&quot;/&quot;) + 1);"},{"owner":{"account_id":5088,"reputation":42142,"user_id":8002,"accept_rate":78,"display_name":"pjz"},"score":13,"creation_date":1333056993,"post_id":6849255,"comment_id":12681848,"body_markdown":"/ isn&#39;t necessarily the path separator. You should do (new File(path)).getParentFile().getPath() instead.","body":"/ isn&#39;t necessarily the path separator. You should do (new File(path)).getParentFile().getPath() instead."},{"owner":{"account_id":115966,"reputation":3740,"user_id":304266,"accept_rate":88,"display_name":"ubuntudroid"},"score":10,"creation_date":1333452937,"post_id":6849255,"comment_id":12770415,"body_markdown":"No problems with JAR file name being appended here. The UTF conversion seems to be the perfect solution in combination with @Iviggiani one&#39;s (`URLDecoder.decode(ClassLoader.getSystemClassLoader().getResource(&quot;.&quot;).getPath(), &quot;UTF-8&quot;);`) on Linux. However, I didn&#39;t try on Windows.","body":"No problems with JAR file name being appended here. The UTF conversion seems to be the perfect solution in combination with @Iviggiani one&#39;s (<code>URLDecoder.decode(ClassLoader.getSystemClassLoader().getRes&zwnj;&#8203;ource(&quot;.&quot;).getPath()&zwnj;&#8203;, &quot;UTF-8&quot;);</code>) on Linux. However, I didn&#39;t try on Windows."},{"owner":{"account_id":185804,"reputation":3878,"user_id":422752,"accept_rate":94,"display_name":"giorgio79"},"score":2,"creation_date":1336805354,"post_id":6849255,"comment_id":13671126,"body_markdown":"Thank you, this allowed me to load files external to my JAR with FileInputStream in both Linux and Windows. Just had to add the decodedpath in front of the filename...","body":"Thank you, this allowed me to load files external to my JAR with FileInputStream in both Linux and Windows. Just had to add the decodedpath in front of the filename..."},{"owner":{"account_id":283839,"reputation":1006,"user_id":581580,"accept_rate":75,"display_name":"K.Barad"},"score":0,"creation_date":1340884792,"post_id":6849255,"comment_id":14774808,"body_markdown":"I regularly package files inside my executable jars (executables, more frequently default settings ) to make little utility tools.  The most important thing for me is to have a tool robust, that doesn&#39;t need external info and doesn&#39;t rely on anything but itself, so this is a great snippet for me!  Thanks","body":"I regularly package files inside my executable jars (executables, more frequently default settings ) to make little utility tools.  The most important thing for me is to have a tool robust, that doesn&#39;t need external info and doesn&#39;t rely on anything but itself, so this is a great snippet for me!  Thanks"},{"owner":{"account_id":1246414,"reputation":6801,"user_id":1207769,"accept_rate":62,"display_name":"ctrueden"},"score":13,"creation_date":1351620537,"post_id":6849255,"comment_id":17880060,"body_markdown":"Beware: it is not recommended to use `URLDecoder` to decode special characters. In particular, characters like `+` will be erroneously decoded to spaces. See my answer for details.","body":"Beware: it is not recommended to use <code>URLDecoder</code> to decode special characters. In particular, characters like <code>+</code> will be erroneously decoded to spaces. See my answer for details."},{"owner":{"account_id":519386,"reputation":1046,"user_id":1020714,"accept_rate":80,"display_name":"Lilian A. Moraru"},"score":0,"creation_date":1363216009,"post_id":6849255,"comment_id":21768390,"body_markdown":"This is the best solution(Fab&#39;s)... I wrote String path = URLDecoder.decode([MyClass].class.getProtectionDomain().getCodeSource().getLocation().getPath(), &quot;UTF-8&quot;);","body":"This is the best solution(Fab&#39;s)... I wrote String path = URLDecoder.decode([MyClass].class.getProtectionDomain().getC&zwnj;&#8203;odeSource().getLocat&zwnj;&#8203;ion().getPath(), &quot;UTF-8&quot;);"},{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":0,"creation_date":1374851576,"post_id":6849255,"comment_id":26118331,"body_markdown":"@LilianA.Moraru That&#39;s equivalent.","body":"@LilianA.Moraru That&#39;s equivalent."},{"owner":{"account_id":82461,"reputation":4705,"user_id":231839,"accept_rate":88,"display_name":"Brain2000"},"score":1,"creation_date":1424733354,"post_id":6849255,"comment_id":45663531,"body_markdown":"This solution also works with a network share, the other answer&#39;s used the function toURI(), which cuts off the first part of the share path.","body":"This solution also works with a network share, the other answer&#39;s used the function toURI(), which cuts off the first part of the share path."},{"owner":{"account_id":1670962,"reputation":3607,"user_id":1537441,"display_name":"krzychu"},"score":0,"creation_date":1584637227,"post_id":6849255,"comment_id":107504133,"body_markdown":"This solution does not work on Windows. The accepted answer works though.","body":"This solution does not work on Windows. The accepted answer works though."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1610148021,"post_id":6849255,"comment_id":116050341,"body_markdown":"If you use `URLDecoder.decode(path, StandardCharsets.UTF_8)` introduced in Java 10, you won&#39;t have to handle the `UnsupportedEncodingException`.","body":"If you use <code>URLDecoder.decode(path, StandardCharsets.UTF_8)</code> introduced in Java 10, you won&#39;t have to handle the <code>UnsupportedEncodingException</code>."}],"tags":[],"owner":{"account_id":789705,"reputation":2023,"user_id":866064,"display_name":"Fab"},"comment_count":11,"down_vote_count":4,"up_vote_count":203,"is_accepted":false,"score":199,"last_activity_date":1318425144,"creation_date":1311790961,"answer_id":6849255,"question_id":320542,"body_markdown":"Best solution for me:\r\n\r\n    String path = Test.class.getProtectionDomain().getCodeSource().getLocation().getPath();\r\n    String decodedPath = URLDecoder.decode(path, &quot;UTF-8&quot;);\r\n\r\nThis should solve the problem with spaces and special characters.\r\n","title":"How to get the path of a running JAR file?","body":"<p>Best solution for me:</p>\n\n<pre><code>String path = Test.class.getProtectionDomain().getCodeSource().getLocation().getPath();\nString decodedPath = URLDecoder.decode(path, \"UTF-8\");\n</code></pre>\n\n<p>This should solve the problem with spaces and special characters.</p>\n"},{"comments":[{"owner":{"account_id":1850587,"reputation":11630,"user_id":1677209,"accept_rate":73,"display_name":"T30"},"score":5,"creation_date":1393940661,"post_id":7060464,"comment_id":33653718,"body_markdown":"This works better for me, cause it gives the path of the Jar, not of the class!","body":"This works better for me, cause it gives the path of the Jar, not of the class!"},{"owner":{"account_id":2085696,"reputation":145,"user_id":1856745,"display_name":"Danielson Alves J&#250;nior"},"score":0,"creation_date":1581346055,"post_id":7060464,"comment_id":106391365,"body_markdown":"Worked for me too. Combine with Fab&#39;s answer and it get better!","body":"Worked for me too. Combine with Fab&#39;s answer and it get better!"},{"owner":{"account_id":10787773,"reputation":362,"user_id":7936276,"display_name":"kry"},"score":0,"creation_date":1627644780,"post_id":7060464,"comment_id":121217511,"body_markdown":"I concur, it&#39;s better as it returns the .jar, not the class the .jar calls.","body":"I concur, it&#39;s better as it returns the .jar, not the class the .jar calls."}],"tags":[],"owner":{"account_id":203782,"reputation":52318,"user_id":451634,"accept_rate":58,"display_name":"Benny Code"},"comment_count":3,"down_vote_count":1,"up_vote_count":71,"is_accepted":false,"score":70,"last_activity_date":1341442194,"creation_date":1313364802,"answer_id":7060464,"question_id":320542,"body_markdown":"You can also use:\r\n\r\n    CodeSource codeSource = YourMainClass.class.getProtectionDomain().getCodeSource();\r\n    File jarFile = new File(codeSource.getLocation().toURI().getPath());\r\n    String jarDir = jarFile.getParentFile().getPath();","title":"How to get the path of a running JAR file?","body":"<p>You can also use:</p>\n\n<pre><code>CodeSource codeSource = YourMainClass.class.getProtectionDomain().getCodeSource();\nFile jarFile = new File(codeSource.getLocation().toURI().getPath());\nString jarDir = jarFile.getParentFile().getPath();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":2,"creation_date":1317196608,"post_id":7579697,"comment_id":9192110,"body_markdown":"Did you try that in an applet, or an app. launched using Java Web Start?  My understanding is that it will fail in both situations (even if the app. is trusted).","body":"Did you try that in an applet, or an app. launched using Java Web Start?  My understanding is that it will fail in both situations (even if the app. is trusted)."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1331003498,"post_id":7579697,"comment_id":12144015,"body_markdown":"This solution can only return the location of &quot;.&quot; *within* the JAR file, not the location *of* the JAR file.","body":"This solution can only return the location of &quot;.&quot; <i>within</i> the JAR file, not the location <i>of</i> the JAR file."},{"owner":{"account_id":1246414,"reputation":6801,"user_id":1207769,"accept_rate":62,"display_name":"ctrueden"},"score":0,"creation_date":1351620596,"post_id":7579697,"comment_id":17880083,"body_markdown":"Beware: it is not recommended to use `URLDecoder` to decode special characters. In particular, characters like `+` will be erroneously decoded to spaces. See my answer for details.","body":"Beware: it is not recommended to use <code>URLDecoder</code> to decode special characters. In particular, characters like <code>+</code> will be erroneously decoded to spaces. See my answer for details."},{"owner":{"account_id":178454,"reputation":5330,"user_id":410439,"accept_rate":81,"display_name":"Ravi Parekh"},"score":0,"creation_date":1513751020,"post_id":7579697,"comment_id":82766359,"body_markdown":"In Spring boot, it will throw `NullPointerException`","body":"In Spring boot, it will throw <code>NullPointerException</code>"},{"owner":{"account_id":1352194,"reputation":2624,"user_id":1291512,"accept_rate":58,"display_name":"WhiteAngel"},"score":0,"creation_date":1539758363,"post_id":7579697,"comment_id":92613037,"body_markdown":"You will have `NPE` if there are no resources in JAR.","body":"You will have <code>NPE</code> if there are no resources in JAR."}],"tags":[],"owner":{"account_id":324959,"reputation":5864,"user_id":645854,"accept_rate":76,"display_name":"lviggiani"},"comment_count":5,"down_vote_count":3,"up_vote_count":7,"is_accepted":false,"score":4,"last_activity_date":1317197938,"creation_date":1317194808,"answer_id":7579697,"question_id":320542,"body_markdown":"the selected answer above is not working if you run your jar by click on it from Gnome desktop environment (not from any script or terminal).\r\n\r\nInstead, I have fond that the following solution is working everywhere:\r\n\r\n\t\ttry {\r\n\t\t\treturn URLDecoder.decode(ClassLoader.getSystemClassLoader().getResource(&quot;.&quot;).getPath(), &quot;UTF-8&quot;);\r\n\t\t} catch (UnsupportedEncodingException e) {\r\n\t\t\treturn &quot;&quot;;\r\n\t\t}\r\n\r\n","title":"How to get the path of a running JAR file?","body":"<p>the selected answer above is not working if you run your jar by click on it from Gnome desktop environment (not from any script or terminal).</p>\n\n<p>Instead, I have fond that the following solution is working everywhere:</p>\n\n<pre><code>    try {\n        return URLDecoder.decode(ClassLoader.getSystemClassLoader().getResource(\".\").getPath(), \"UTF-8\");\n    } catch (UnsupportedEncodingException e) {\n        return \"\";\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1246414,"reputation":6801,"user_id":1207769,"accept_rate":62,"display_name":"ctrueden"},"score":4,"creation_date":1351620565,"post_id":9924414,"comment_id":17880070,"body_markdown":"Beware: it is not recommended to use `URLDecoder` to decode special characters. In particular, characters like `+` will be erroneously decoded to spaces. See my answer for details.","body":"Beware: it is not recommended to use <code>URLDecoder</code> to decode special characters. In particular, characters like <code>+</code> will be erroneously decoded to spaces. See my answer for details."},{"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"score":0,"creation_date":1373884910,"post_id":9924414,"comment_id":25706872,"body_markdown":"Using special characters in file names is not recommended.","body":"Using special characters in file names is not recommended."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1481846719,"post_id":9924414,"comment_id":69551273,"body_markdown":"`URLDecoder`, despite its name, is for decoding URL and form parameter names and values, not URLs.","body":"<code>URLDecoder</code>, despite its name, is for decoding URL and form parameter names and values, not URLs."}],"tags":[],"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"comment_count":3,"down_vote_count":2,"up_vote_count":12,"is_accepted":false,"score":10,"last_activity_date":1449333818,"creation_date":1333020448,"answer_id":9924414,"question_id":320542,"body_markdown":"Here&#39;s upgrade to other comments, that seem to me incomplete for the specifics of \r\n&gt; using a relative &quot;folder&quot; outside .jar file (in the jar&#39;s same\r\n&gt; location):\r\n        \r\n    String path = \r\n      YourMainClassName.class.getProtectionDomain().\r\n      getCodeSource().getLocation().getPath();\r\n    \r\n    path = \r\n      URLDecoder.decode(\r\n        path, \r\n        &quot;UTF-8&quot;);\r\n    \r\n    BufferedImage img = \r\n      ImageIO.read(\r\n        new File((\r\n            new File(path).getParentFile().getPath()) +  \r\n            File.separator + \r\n            &quot;folder&quot; + \r\n            File.separator + \r\n            &quot;yourfile.jpg&quot;));","title":"How to get the path of a running JAR file?","body":"<p>Here's upgrade to other comments, that seem to me incomplete for the specifics of </p>\n\n<blockquote>\n  <p>using a relative \"folder\" outside .jar file (in the jar's same\n  location):</p>\n</blockquote>\n\n<pre><code>String path = \n  YourMainClassName.class.getProtectionDomain().\n  getCodeSource().getLocation().getPath();\n\npath = \n  URLDecoder.decode(\n    path, \n    \"UTF-8\");\n\nBufferedImage img = \n  ImageIO.read(\n    new File((\n        new File(path).getParentFile().getPath()) +  \n        File.separator + \n        \"folder\" + \n        File.separator + \n        \"yourfile.jpg\"));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2764833,"reputation":232392,"user_id":2380830,"accept_rate":89,"display_name":"Bathsheba"},"score":8,"creation_date":1378370830,"post_id":12733172,"comment_id":27429304,"body_markdown":"+1; the best answer to date: it will return the path using the correct notation for the OS. (e.g. \\ for windows).","body":"+1; the best answer to date: it will return the path using the correct notation for the OS. (e.g. \\ for windows)."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1546964532,"post_id":12733172,"comment_id":95024090,"body_markdown":"Regarding security, I believe I found that Java WebStart did not allow this.","body":"Regarding security, I believe I found that Java WebStart did not allow this."}],"tags":[],"owner":{"account_id":1246414,"reputation":6801,"user_id":1207769,"accept_rate":62,"display_name":"ctrueden"},"comment_count":2,"down_vote_count":0,"up_vote_count":176,"is_accepted":false,"score":176,"last_activity_date":1488310316,"creation_date":1349374080,"answer_id":12733172,"question_id":320542,"body_markdown":"To obtain the `File` for a given `Class`, there are two steps:\r\n\r\n 1. Convert the `Class` to a `URL`\r\n 2. Convert the `URL` to a `File`\r\n\r\nIt is important to understand both steps, and not conflate them.\r\n\r\nOnce you have the `File`, you can call `getParentFile` to get the containing folder, if that is what you need.\r\n\r\nStep 1: `Class` to `URL`\r\n------------------------\r\n\r\nAs discussed in other answers, there are two major ways to find a `URL` relevant to a `Class`.\r\n\r\n 1. `URL url = Bar.class.getProtectionDomain().getCodeSource().getLocation();`\r\n\r\n 2. `URL url = Bar.class.getResource(Bar.class.getSimpleName() + &quot;.class&quot;);`\r\n\r\nBoth have pros and cons.\r\n\r\nThe `getProtectionDomain` approach yields the base location of the class (e.g., the containing JAR file). However, it is possible that the Java runtime&#39;s security policy will throw `SecurityException` when calling `getProtectionDomain()`, so if your application needs to run in a variety of environments, it is best to test in all of them.\r\n\r\nThe `getResource` approach yields the full URL resource path of the class, from which you will need to perform additional string manipulation. It may be a `file:` path, but it could also be `jar:file:` or even something nastier like `bundleresource://346.fwk2106232034:4/foo/Bar.class` when executing within an OSGi framework. Conversely, the `getProtectionDomain` approach correctly yields a `file:` URL even from within OSGi.\r\n\r\nNote that both `getResource(&quot;&quot;)` and `getResource(&quot;.&quot;)` failed in my tests, when the class resided within a JAR file; both invocations returned null. So I recommend the #2 invocation shown above instead, as it seems safer.\r\n\r\nStep 2: `URL` to `File`\r\n-----------------------\r\n\r\nEither way, once you have a `URL`, the next step is convert to a `File`. This is its own challenge; see [Kohsuke Kawaguchi&#39;s blog post about it][1] for full details, but in short, you can use `new File(url.toURI())` as long as the URL is completely well-formed.\r\n\r\nLastly, I would *highly discourage* using `URLDecoder`. Some characters of the URL, `:` and `/` in particular, are not valid URL-encoded characters. From the [URLDecoder][2] Javadoc:\r\n&gt; It is assumed that all characters in the encoded string are one of the following: &quot;a&quot; through &quot;z&quot;, &quot;A&quot; through &quot;Z&quot;, &quot;0&quot; through &quot;9&quot;, and &quot;-&quot;, &quot;_&quot;, &quot;.&quot;, and &quot;*&quot;. The character &quot;%&quot; is allowed but is interpreted as the start of a special escaped sequence.\r\n&gt;\r\n&gt; ...\r\n&gt;\r\n&gt; There are two possible ways in which this decoder could deal with illegal strings. It could either leave illegal characters alone or it could throw an IllegalArgumentException. Which approach the decoder takes is left to the implementation.\r\n\r\nIn practice, `URLDecoder` generally does not throw `IllegalArgumentException` as threatened above. And if your file path has spaces encoded as `%20`, this approach may appear to work. However, if your file path has other non-alphameric characters such as `+` you will have problems with `URLDecoder` mangling your file path.\r\n\r\nWorking code\r\n------------\r\n\r\nTo achieve these steps, you might have methods like the following:\r\n\r\n    /**\r\n     * Gets the base location of the given class.\r\n     * &lt;p&gt;\r\n     * If the class is directly on the file system (e.g.,\r\n     * &quot;/path/to/my/package/MyClass.class&quot;) then it will return the base directory\r\n     * (e.g., &quot;file:/path/to&quot;).\r\n     * &lt;/p&gt;\r\n     * &lt;p&gt;\r\n     * If the class is within a JAR file (e.g.,\r\n     * &quot;/path/to/my-jar.jar!/my/package/MyClass.class&quot;) then it will return the\r\n     * path to the JAR (e.g., &quot;file:/path/to/my-jar.jar&quot;).\r\n     * &lt;/p&gt;\r\n     *\r\n     * @param c The class whose location is desired.\r\n     * @see FileUtils#urlToFile(URL) to convert the result to a {@link File}.\r\n     */\r\n    public static URL getLocation(final Class&lt;?&gt; c) {\r\n        if (c == null) return null; // could not load the class\r\n\r\n        // try the easy way first\r\n        try {\r\n            final URL codeSourceLocation =\r\n                c.getProtectionDomain().getCodeSource().getLocation();\r\n            if (codeSourceLocation != null) return codeSourceLocation;\r\n        }\r\n        catch (final SecurityException e) {\r\n            // NB: Cannot access protection domain.\r\n        }\r\n        catch (final NullPointerException e) {\r\n            // NB: Protection domain or code source is null.\r\n        }\r\n\r\n        // NB: The easy way failed, so we try the hard way. We ask for the class\r\n        // itself as a resource, then strip the class&#39;s path from the URL string,\r\n        // leaving the base path.\r\n\r\n        // get the class&#39;s raw resource path\r\n        final URL classResource = c.getResource(c.getSimpleName() + &quot;.class&quot;);\r\n        if (classResource == null) return null; // cannot find class resource\r\n\r\n        final String url = classResource.toString();\r\n        final String suffix = c.getCanonicalName().replace(&#39;.&#39;, &#39;/&#39;) + &quot;.class&quot;;\r\n        if (!url.endsWith(suffix)) return null; // weird URL\r\n\r\n        // strip the class&#39;s path from the URL string\r\n        final String base = url.substring(0, url.length() - suffix.length());\r\n\r\n        String path = base;\r\n\r\n        // remove the &quot;jar:&quot; prefix and &quot;!/&quot; suffix, if present\r\n        if (path.startsWith(&quot;jar:&quot;)) path = path.substring(4, path.length() - 2);\r\n\r\n        try {\r\n            return new URL(path);\r\n        }\r\n        catch (final MalformedURLException e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    } \r\n\r\n    /**\r\n     * Converts the given {@link URL} to its corresponding {@link File}.\r\n     * &lt;p&gt;\r\n     * This method is similar to calling {@code new File(url.toURI())} except that\r\n     * it also handles &quot;jar:file:&quot; URLs, returning the path to the JAR file.\r\n     * &lt;/p&gt;\r\n     * \r\n     * @param url The URL to convert.\r\n     * @return A file path suitable for use with e.g. {@link FileInputStream}\r\n     * @throws IllegalArgumentException if the URL does not correspond to a file.\r\n     */\r\n    public static File urlToFile(final URL url) {\r\n        return url == null ? null : urlToFile(url.toString());\r\n    }\r\n\r\n    /**\r\n     * Converts the given URL string to its corresponding {@link File}.\r\n     * \r\n     * @param url The URL to convert.\r\n     * @return A file path suitable for use with e.g. {@link FileInputStream}\r\n     * @throws IllegalArgumentException if the URL does not correspond to a file.\r\n     */\r\n    public static File urlToFile(final String url) {\r\n        String path = url;\r\n        if (path.startsWith(&quot;jar:&quot;)) {\r\n            // remove &quot;jar:&quot; prefix and &quot;!/&quot; suffix\r\n            final int index = path.indexOf(&quot;!/&quot;);\r\n            path = path.substring(4, index);\r\n        }\r\n        try {\r\n            if (PlatformUtils.isWindows() &amp;&amp; path.matches(&quot;file:[A-Za-z]:.*&quot;)) {\r\n                path = &quot;file:/&quot; + path.substring(5);\r\n            }\r\n            return new File(new URL(path).toURI());\r\n        }\r\n        catch (final MalformedURLException e) {\r\n            // NB: URL is not completely well-formed.\r\n        }\r\n        catch (final URISyntaxException e) {\r\n            // NB: URL is not completely well-formed.\r\n        }\r\n        if (path.startsWith(&quot;file:&quot;)) {\r\n            // pass through the URL as-is, minus &quot;file:&quot; prefix\r\n            path = path.substring(5);\r\n            return new File(path);\r\n        }\r\n        throw new IllegalArgumentException(&quot;Invalid URL: &quot; + url);\r\n    }\r\n\r\nYou can find these methods in the [SciJava Common](https://github.com/scijava/scijava-common) library:\r\n\r\n* [org.scijava.util.ClassUtils](https://github.com/scijava/scijava-common/blob/scijava-common-2.62.1/src/main/java/org/scijava/util/ClassUtils.java#L296-L355)\r\n* [org.scijava.util.FileUtils](https://github.com/scijava/scijava-common/blob/scijava-common-2.62.1/src/main/java/org/scijava/util/FileUtils.java#L221-L268).\r\n\r\n  [1]: http://weblogs.java.net/blog/kohsuke/archive/2007/04/how_to_convert.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/net/URLDecoder.html","title":"How to get the path of a running JAR file?","body":"<p>To obtain the <code>File</code> for a given <code>Class</code>, there are two steps:</p>\n\n<ol>\n<li>Convert the <code>Class</code> to a <code>URL</code></li>\n<li>Convert the <code>URL</code> to a <code>File</code></li>\n</ol>\n\n<p>It is important to understand both steps, and not conflate them.</p>\n\n<p>Once you have the <code>File</code>, you can call <code>getParentFile</code> to get the containing folder, if that is what you need.</p>\n\n<h2>Step 1: <code>Class</code> to <code>URL</code></h2>\n\n<p>As discussed in other answers, there are two major ways to find a <code>URL</code> relevant to a <code>Class</code>.</p>\n\n<ol>\n<li><p><code>URL url = Bar.class.getProtectionDomain().getCodeSource().getLocation();</code></p></li>\n<li><p><code>URL url = Bar.class.getResource(Bar.class.getSimpleName() + \".class\");</code></p></li>\n</ol>\n\n<p>Both have pros and cons.</p>\n\n<p>The <code>getProtectionDomain</code> approach yields the base location of the class (e.g., the containing JAR file). However, it is possible that the Java runtime's security policy will throw <code>SecurityException</code> when calling <code>getProtectionDomain()</code>, so if your application needs to run in a variety of environments, it is best to test in all of them.</p>\n\n<p>The <code>getResource</code> approach yields the full URL resource path of the class, from which you will need to perform additional string manipulation. It may be a <code>file:</code> path, but it could also be <code>jar:file:</code> or even something nastier like <code>bundleresource://346.fwk2106232034:4/foo/Bar.class</code> when executing within an OSGi framework. Conversely, the <code>getProtectionDomain</code> approach correctly yields a <code>file:</code> URL even from within OSGi.</p>\n\n<p>Note that both <code>getResource(\"\")</code> and <code>getResource(\".\")</code> failed in my tests, when the class resided within a JAR file; both invocations returned null. So I recommend the #2 invocation shown above instead, as it seems safer.</p>\n\n<h2>Step 2: <code>URL</code> to <code>File</code></h2>\n\n<p>Either way, once you have a <code>URL</code>, the next step is convert to a <code>File</code>. This is its own challenge; see <a href=\"http://weblogs.java.net/blog/kohsuke/archive/2007/04/how_to_convert.html\" rel=\"noreferrer\">Kohsuke Kawaguchi's blog post about it</a> for full details, but in short, you can use <code>new File(url.toURI())</code> as long as the URL is completely well-formed.</p>\n\n<p>Lastly, I would <em>highly discourage</em> using <code>URLDecoder</code>. Some characters of the URL, <code>:</code> and <code>/</code> in particular, are not valid URL-encoded characters. From the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/URLDecoder.html\" rel=\"noreferrer\">URLDecoder</a> Javadoc:</p>\n\n<blockquote>\n  <p>It is assumed that all characters in the encoded string are one of the following: \"a\" through \"z\", \"A\" through \"Z\", \"0\" through \"9\", and \"-\", \"_\", \".\", and \"*\". The character \"%\" is allowed but is interpreted as the start of a special escaped sequence.</p>\n  \n  <p>...</p>\n  \n  <p>There are two possible ways in which this decoder could deal with illegal strings. It could either leave illegal characters alone or it could throw an IllegalArgumentException. Which approach the decoder takes is left to the implementation.</p>\n</blockquote>\n\n<p>In practice, <code>URLDecoder</code> generally does not throw <code>IllegalArgumentException</code> as threatened above. And if your file path has spaces encoded as <code>%20</code>, this approach may appear to work. However, if your file path has other non-alphameric characters such as <code>+</code> you will have problems with <code>URLDecoder</code> mangling your file path.</p>\n\n<h2>Working code</h2>\n\n<p>To achieve these steps, you might have methods like the following:</p>\n\n<pre><code>/**\n * Gets the base location of the given class.\n * &lt;p&gt;\n * If the class is directly on the file system (e.g.,\n * \"/path/to/my/package/MyClass.class\") then it will return the base directory\n * (e.g., \"file:/path/to\").\n * &lt;/p&gt;\n * &lt;p&gt;\n * If the class is within a JAR file (e.g.,\n * \"/path/to/my-jar.jar!/my/package/MyClass.class\") then it will return the\n * path to the JAR (e.g., \"file:/path/to/my-jar.jar\").\n * &lt;/p&gt;\n *\n * @param c The class whose location is desired.\n * @see FileUtils#urlToFile(URL) to convert the result to a {@link File}.\n */\npublic static URL getLocation(final Class&lt;?&gt; c) {\n    if (c == null) return null; // could not load the class\n\n    // try the easy way first\n    try {\n        final URL codeSourceLocation =\n            c.getProtectionDomain().getCodeSource().getLocation();\n        if (codeSourceLocation != null) return codeSourceLocation;\n    }\n    catch (final SecurityException e) {\n        // NB: Cannot access protection domain.\n    }\n    catch (final NullPointerException e) {\n        // NB: Protection domain or code source is null.\n    }\n\n    // NB: The easy way failed, so we try the hard way. We ask for the class\n    // itself as a resource, then strip the class's path from the URL string,\n    // leaving the base path.\n\n    // get the class's raw resource path\n    final URL classResource = c.getResource(c.getSimpleName() + \".class\");\n    if (classResource == null) return null; // cannot find class resource\n\n    final String url = classResource.toString();\n    final String suffix = c.getCanonicalName().replace('.', '/') + \".class\";\n    if (!url.endsWith(suffix)) return null; // weird URL\n\n    // strip the class's path from the URL string\n    final String base = url.substring(0, url.length() - suffix.length());\n\n    String path = base;\n\n    // remove the \"jar:\" prefix and \"!/\" suffix, if present\n    if (path.startsWith(\"jar:\")) path = path.substring(4, path.length() - 2);\n\n    try {\n        return new URL(path);\n    }\n    catch (final MalformedURLException e) {\n        e.printStackTrace();\n        return null;\n    }\n} \n\n/**\n * Converts the given {@link URL} to its corresponding {@link File}.\n * &lt;p&gt;\n * This method is similar to calling {@code new File(url.toURI())} except that\n * it also handles \"jar:file:\" URLs, returning the path to the JAR file.\n * &lt;/p&gt;\n * \n * @param url The URL to convert.\n * @return A file path suitable for use with e.g. {@link FileInputStream}\n * @throws IllegalArgumentException if the URL does not correspond to a file.\n */\npublic static File urlToFile(final URL url) {\n    return url == null ? null : urlToFile(url.toString());\n}\n\n/**\n * Converts the given URL string to its corresponding {@link File}.\n * \n * @param url The URL to convert.\n * @return A file path suitable for use with e.g. {@link FileInputStream}\n * @throws IllegalArgumentException if the URL does not correspond to a file.\n */\npublic static File urlToFile(final String url) {\n    String path = url;\n    if (path.startsWith(\"jar:\")) {\n        // remove \"jar:\" prefix and \"!/\" suffix\n        final int index = path.indexOf(\"!/\");\n        path = path.substring(4, index);\n    }\n    try {\n        if (PlatformUtils.isWindows() &amp;&amp; path.matches(\"file:[A-Za-z]:.*\")) {\n            path = \"file:/\" + path.substring(5);\n        }\n        return new File(new URL(path).toURI());\n    }\n    catch (final MalformedURLException e) {\n        // NB: URL is not completely well-formed.\n    }\n    catch (final URISyntaxException e) {\n        // NB: URL is not completely well-formed.\n    }\n    if (path.startsWith(\"file:\")) {\n        // pass through the URL as-is, minus \"file:\" prefix\n        path = path.substring(5);\n        return new File(path);\n    }\n    throw new IllegalArgumentException(\"Invalid URL: \" + url);\n}\n</code></pre>\n\n<p>You can find these methods in the <a href=\"https://github.com/scijava/scijava-common\" rel=\"noreferrer\">SciJava Common</a> library:</p>\n\n<ul>\n<li><a href=\"https://github.com/scijava/scijava-common/blob/scijava-common-2.62.1/src/main/java/org/scijava/util/ClassUtils.java#L296-L355\" rel=\"noreferrer\">org.scijava.util.ClassUtils</a></li>\n<li><a href=\"https://github.com/scijava/scijava-common/blob/scijava-common-2.62.1/src/main/java/org/scijava/util/FileUtils.java#L221-L268\" rel=\"noreferrer\">org.scijava.util.FileUtils</a>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2594602,"reputation":31,"user_id":2248569,"display_name":"Denton"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1365156588,"creation_date":1365156588,"answer_id":15831228,"question_id":320542,"body_markdown":"    public static String dir() throws URISyntaxException\r\n\t{\r\n\t\tURI path=Main.class.getProtectionDomain().getCodeSource().getLocation().toURI();\r\n\t\tString name= Main.class.getPackage().getName()+&quot;.jar&quot;;\r\n\t\tString path2 = path.getRawPath();\r\n\t\tpath2=path2.substring(1);\r\n\r\n\t\tif (path2.contains(&quot;.jar&quot;))\r\n\t\t{\r\n\t\t\tpath2=path2.replace(name, &quot;&quot;);\r\n\t\t}\r\n\t\treturn path2;}\r\n\r\nWorks good on Windows","title":"How to get the path of a running JAR file?","body":"<pre><code>public static String dir() throws URISyntaxException\n{\n    URI path=Main.class.getProtectionDomain().getCodeSource().getLocation().toURI();\n    String name= Main.class.getPackage().getName()+\".jar\";\n    String path2 = path.getRawPath();\n    path2=path2.substring(1);\n\n    if (path2.contains(\".jar\"))\n    {\n        path2=path2.replace(name, \"\");\n    }\n    return path2;}\n</code></pre>\n\n<p>Works good on Windows</p>\n"},{"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1465831926,"post_id":16775059,"comment_id":63053574,"body_markdown":"Don’t do that.  URL.getPath() *does not* return a filename and it will fail in a lot of circumstances, such as file paths with spaces in them.","body":"Don’t do that.  URL.getPath() <i>does not</i> return a filename and it will fail in a lot of circumstances, such as file paths with spaces in them."}],"tags":[],"owner":{"account_id":2821694,"reputation":109,"user_id":2425320,"display_name":"Charlie"},"comment_count":1,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1371022416,"creation_date":1369663801,"answer_id":16775059,"question_id":320542,"body_markdown":"I had the the same problem and I solved it that way:\r\n\r\n    File currentJavaJarFile = new File(Main.class.getProtectionDomain().getCodeSource().getLocation().getPath());\t\r\n    String currentJavaJarFilePath = currentJavaJarFile.getAbsolutePath();\r\n    String currentRootDirectoryPath = currentJavaJarFilePath.replace(currentJavaJarFile.getName(), &quot;&quot;);\r\n\r\n\r\nI hope I was of help to you.","title":"How to get the path of a running JAR file?","body":"<p>I had the the same problem and I solved it that way:</p>\n\n<pre><code>File currentJavaJarFile = new File(Main.class.getProtectionDomain().getCodeSource().getLocation().getPath());   \nString currentJavaJarFilePath = currentJavaJarFile.getAbsolutePath();\nString currentRootDirectoryPath = currentJavaJarFilePath.replace(currentJavaJarFile.getName(), \"\");\n</code></pre>\n\n<p>I hope I was of help to you.</p>\n"},{"comments":[{"owner":{"account_id":2381386,"reputation":1052,"user_id":2083341,"accept_rate":61,"display_name":"Wilhelm Sorban"},"score":0,"creation_date":1515519925,"post_id":18341646,"comment_id":83327353,"body_markdown":"This will not work. If on Linux, the toUri() method will throw an exception, and you will not reach the else part, for linux.","body":"This will not work. If on Linux, the toUri() method will throw an exception, and you will not reach the else part, for linux."},{"owner":{"account_id":6493251,"reputation":519,"user_id":5026611,"display_name":"martian"},"score":0,"creation_date":1595507509,"post_id":18341646,"comment_id":111502779,"body_markdown":"broken for anonymous class","body":"broken for anonymous class"}],"tags":[],"owner":{"account_id":190118,"reputation":7421,"user_id":429873,"accept_rate":80,"display_name":"Dmitry Trofimov"},"comment_count":2,"down_vote_count":2,"up_vote_count":19,"is_accepted":false,"score":17,"last_activity_date":1377020515,"creation_date":1377020515,"answer_id":18341646,"question_id":320542,"body_markdown":"The only solution that works for me on Linux, Mac and Windows:\r\n\r\n    public static String getJarContainingFolder(Class aclass) throws Exception {\r\n      CodeSource codeSource = aclass.getProtectionDomain().getCodeSource();\r\n\r\n      File jarFile;\r\n\r\n      if (codeSource.getLocation() != null) {\r\n        jarFile = new File(codeSource.getLocation().toURI());\r\n      }\r\n      else {\r\n        String path = aclass.getResource(aclass.getSimpleName() + &quot;.class&quot;).getPath();\r\n        String jarFilePath = path.substring(path.indexOf(&quot;:&quot;) + 1, path.indexOf(&quot;!&quot;));\r\n        jarFilePath = URLDecoder.decode(jarFilePath, &quot;UTF-8&quot;);\r\n        jarFile = new File(jarFilePath);\r\n      }\r\n      return jarFile.getParentFile().getAbsolutePath();\r\n    }","title":"How to get the path of a running JAR file?","body":"<p>The only solution that works for me on Linux, Mac and Windows:</p>\n\n<pre><code>public static String getJarContainingFolder(Class aclass) throws Exception {\n  CodeSource codeSource = aclass.getProtectionDomain().getCodeSource();\n\n  File jarFile;\n\n  if (codeSource.getLocation() != null) {\n    jarFile = new File(codeSource.getLocation().toURI());\n  }\n  else {\n    String path = aclass.getResource(aclass.getSimpleName() + \".class\").getPath();\n    String jarFilePath = path.substring(path.indexOf(\":\") + 1, path.indexOf(\"!\"));\n    jarFilePath = URLDecoder.decode(jarFilePath, \"UTF-8\");\n    jarFile = new File(jarFilePath);\n  }\n  return jarFile.getParentFile().getAbsolutePath();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":483837,"reputation":10002,"user_id":899126,"accept_rate":100,"display_name":"Chris Forrence"},"score":3,"creation_date":1382547937,"post_id":18482428,"comment_id":29005242,"body_markdown":"As a note, Path is available starting in Java 7.","body":"As a note, Path is available starting in Java 7."}],"tags":[],"owner":{"account_id":2251953,"reputation":13178,"user_id":1983997,"accept_rate":78,"display_name":"mat_boy"},"comment_count":1,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1377694380,"creation_date":1377677044,"answer_id":18482428,"question_id":320542,"body_markdown":"I&#39;m surprised to see that none recently proposed to use [`Path`][1]. Here follows a citation: &quot;*The `Path` class includes various methods that can be used to obtain information about the path, access elements of the path, convert the path to other forms, or extract portions of a path*&quot;\r\n\r\nThus, a good alternative is to get the `Path` objest as:\r\n\r\n    Path path = Paths.get(Test.class.getProtectionDomain().getCodeSource().getLocation().toURI());\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html","title":"How to get the path of a running JAR file?","body":"<p>I'm surprised to see that none recently proposed to use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html\" rel=\"noreferrer\"><code>Path</code></a>. Here follows a citation: \"<em>The <code>Path</code> class includes various methods that can be used to obtain information about the path, access elements of the path, convert the path to other forms, or extract portions of a path</em>\"</p>\n\n<p>Thus, a good alternative is to get the <code>Path</code> objest as:</p>\n\n<pre><code>Path path = Paths.get(Test.class.getProtectionDomain().getCodeSource().getLocation().toURI());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3637739,"reputation":64,"user_id":3032706,"display_name":"TheGreatPsychoticBunny"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1392996208,"creation_date":1392996208,"answer_id":21938309,"question_id":320542,"body_markdown":"I tried to get the jar running path using \r\n\r\n    String folder = MyClassName.class.getProtectionDomain().getCodeSource().getLocation().getPath();\r\n\r\n  *c:\\app&gt;java -jar application.jar*\r\n\r\nRunning the jar application named &quot;application.jar&quot;, on Windows in the folder &quot;*c:\\app*&quot;, the value of the String variable &quot;folder&quot; was &quot;*\\c:\\app\\application.jar*&quot; and I had problems testing for path&#39;s correctness  \r\n\r\n    File test = new File(folder);\r\n    if(file.isDirectory() &amp;&amp; file.canRead()) { //always false }\r\n\r\nSo I tried to define &quot;test&quot; as:\r\n\r\n    String fold= new File(folder).getParentFile().getPath()\r\n    File test = new File(fold);\r\n\r\nto get path in a right format like &quot;*c:\\app*&quot; instead of &quot;*\\c:\\app\\application.jar*&quot; and I noticed that it work.","title":"How to get the path of a running JAR file?","body":"<p>I tried to get the jar running path using </p>\n\n<pre><code>String folder = MyClassName.class.getProtectionDomain().getCodeSource().getLocation().getPath();\n</code></pre>\n\n<p><em>c:\\app>java -jar application.jar</em></p>\n\n<p>Running the jar application named \"application.jar\", on Windows in the folder \"<em>c:\\app</em>\", the value of the String variable \"folder\" was \"<em>\\c:\\app\\application.jar</em>\" and I had problems testing for path's correctness  </p>\n\n<pre><code>File test = new File(folder);\nif(file.isDirectory() &amp;&amp; file.canRead()) { //always false }\n</code></pre>\n\n<p>So I tried to define \"test\" as:</p>\n\n<pre><code>String fold= new File(folder).getParentFile().getPath()\nFile test = new File(fold);\n</code></pre>\n\n<p>to get path in a right format like \"<em>c:\\app</em>\" instead of \"<em>\\c:\\app\\application.jar</em>\" and I noticed that it work.</p>\n"},{"tags":[],"owner":{"account_id":4114400,"reputation":87,"user_id":3376389,"display_name":"sudoBen"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1393890893,"creation_date":1393890893,"answer_id":22160106,"question_id":320542,"body_markdown":"I write in Java 7, and test in Windows 7 with Oracle&#39;s runtime, and Ubuntu with the open source runtime. This works perfect for those systems:\r\n\r\nThe path for the parent directory of any running jar file (assuming the class calling this code is a direct child of the jar archive itself):\r\n\r\n    try {\r\n        fooDir = new File(this.getClass().getClassLoader().getResource(&quot;&quot;).toURI());\r\n    } catch (URISyntaxException e) {\r\n        //may be sloppy, but don&#39;t really need anything here\r\n    }\r\n    fooDirPath = fooDir.toString(); // converts abstract (absolute) path to a String\r\n\r\nSo, the path of foo.jar would be:\r\n\r\n    fooPath = fooDirPath + File.separator + &quot;foo.jar&quot;;\r\n\r\nAgain, this wasn&#39;t tested on any Mac or older Windows\r\n","title":"How to get the path of a running JAR file?","body":"<p>I write in Java 7, and test in Windows 7 with Oracle's runtime, and Ubuntu with the open source runtime. This works perfect for those systems:</p>\n\n<p>The path for the parent directory of any running jar file (assuming the class calling this code is a direct child of the jar archive itself):</p>\n\n<pre><code>try {\n    fooDir = new File(this.getClass().getClassLoader().getResource(\"\").toURI());\n} catch (URISyntaxException e) {\n    //may be sloppy, but don't really need anything here\n}\nfooDirPath = fooDir.toString(); // converts abstract (absolute) path to a String\n</code></pre>\n\n<p>So, the path of foo.jar would be:</p>\n\n<pre><code>fooPath = fooDirPath + File.separator + \"foo.jar\";\n</code></pre>\n\n<p>Again, this wasn't tested on any Mac or older Windows</p>\n"},{"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1465832382,"post_id":30244209,"comment_id":63053891,"body_markdown":"URL.getPath() does not do what you think it does. Any special characters will be percent-encoded.","body":"URL.getPath() does not do what you think it does. Any special characters will be percent-encoded."}],"tags":[],"owner":{"account_id":114674,"reputation":4892,"user_id":301444,"accept_rate":78,"display_name":"Vasu"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1431627030,"creation_date":1431626539,"answer_id":30244209,"question_id":320542,"body_markdown":"The `getProtectionDomain` approach might not work sometimes e.g. when you have to find the jar for some of the core java classes (e.g in my case `StringBuilder` class within IBM JDK), however following works seamlessly:\r\n\r\n    public static void main(String[] args) {\r\n    \tSystem.out.println(findSource(MyClass.class));\r\n        // OR\r\n    \tSystem.out.println(findSource(String.class));\r\n    }\r\n     \r\n    public static String findSource(Class&lt;?&gt; clazz) {\r\n        String resourceToSearch = &#39;/&#39; + clazz.getName().replace(&quot;.&quot;, &quot;/&quot;) + &quot;.class&quot;;\r\n        java.net.URL location = clazz.getResource(resourceToSearch);\r\n        String sourcePath = location.getPath();\r\n        // Optional, Remove junk\r\n        return sourcePath.replace(&quot;file:&quot;, &quot;&quot;).replace(&quot;!&quot; + resourceToSearch, &quot;&quot;);\r\n    }","title":"How to get the path of a running JAR file?","body":"<p>The <code>getProtectionDomain</code> approach might not work sometimes e.g. when you have to find the jar for some of the core java classes (e.g in my case <code>StringBuilder</code> class within IBM JDK), however following works seamlessly:</p>\n\n<pre><code>public static void main(String[] args) {\n    System.out.println(findSource(MyClass.class));\n    // OR\n    System.out.println(findSource(String.class));\n}\n\npublic static String findSource(Class&lt;?&gt; clazz) {\n    String resourceToSearch = '/' + clazz.getName().replace(\".\", \"/\") + \".class\";\n    java.net.URL location = clazz.getResource(resourceToSearch);\n    String sourcePath = location.getPath();\n    // Optional, Remove junk\n    return sourcePath.replace(\"file:\", \"\").replace(\"!\" + resourceToSearch, \"\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5596408,"reputation":685,"user_id":4434038,"display_name":"NoSegfault"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1432233710,"creation_date":1432233710,"answer_id":30381871,"question_id":320542,"body_markdown":"I have another way to get the String location of a class.\r\n\r\n    URL path = Thread.currentThread().getContextClassLoader().getResource(&quot;&quot;);\r\n    Path p = Paths.get(path.toURI());\r\n    String location = p.toString();\r\nThe output String will have the form of &lt;br&gt;\r\n\r\n    C:\\Users\\Administrator\\new Workspace\\...\r\n\r\nThe spaces and other characters are handled, and in the form without `file:/`. So will be easier to use.","title":"How to get the path of a running JAR file?","body":"<p>I have another way to get the String location of a class.</p>\n\n<pre><code>URL path = Thread.currentThread().getContextClassLoader().getResource(\"\");\nPath p = Paths.get(path.toURI());\nString location = p.toString();\n</code></pre>\n\n<p>The output String will have the form of <br></p>\n\n<pre><code>C:\\Users\\Administrator\\new Workspace\\...\n</code></pre>\n\n<p>The spaces and other characters are handled, and in the form without <code>file:/</code>. So will be easier to use.</p>\n"},{"tags":[],"owner":{"account_id":2894473,"reputation":14600,"user_id":2482570,"accept_rate":73,"display_name":"Max Heiber"},"comment_count":0,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1459367438,"creation_date":1445360235,"answer_id":33242475,"question_id":320542,"body_markdown":"The simplest solution is to pass the path as an argument when running the jar.\r\n\r\nYou can automate this with a shell script (.bat in Windows, .sh anywhere else):\r\n\r\n    java -jar my-jar.jar .\r\n\r\n\r\nI used `.` to pass the current working directory.\r\n\r\n**UPDATE**\r\n\r\nYou may want to stick the jar file in a sub-directory so users don&#39;t accidentally click it. Your code should also check to make sure that the command line arguments have been supplied, and provide a good error message if the arguments are missing.","title":"How to get the path of a running JAR file?","body":"<p>The simplest solution is to pass the path as an argument when running the jar.</p>\n\n<p>You can automate this with a shell script (.bat in Windows, .sh anywhere else):</p>\n\n<pre><code>java -jar my-jar.jar .\n</code></pre>\n\n<p>I used <code>.</code> to pass the current working directory.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>You may want to stick the jar file in a sub-directory so users don't accidentally click it. Your code should also check to make sure that the command line arguments have been supplied, and provide a good error message if the arguments are missing.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1481846783,"post_id":33473211,"comment_id":69551286,"body_markdown":"`java.class.path` can be multivalued. *One* those values will certainly provide the directory or JAR file where the current class is located, but which one?","body":"<code>java.class.path</code> can be multivalued. <i>One</i> those values will certainly provide the directory or JAR file where the current class is located, but which one?"},{"owner":{"account_id":7032371,"reputation":3061,"user_id":5387592,"accept_rate":29,"display_name":"guillaume girod-vitouchkina"},"score":0,"creation_date":1492337911,"post_id":33473211,"comment_id":73929422,"body_markdown":"I confirm , I tried other solutions, but never get the jar filename. This works very simply ! thanks - +1","body":"I confirm , I tried other solutions, but never get the jar filename. This works very simply ! thanks - +1"}],"tags":[],"owner":{"account_id":6345586,"reputation":377,"user_id":4926275,"display_name":"phchen2"},"comment_count":2,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1462968041,"creation_date":1446451989,"answer_id":33473211,"question_id":320542,"body_markdown":"For getting the path of running jar file I have studied the above solutions and tried all methods which exist some difference each other. If these code are running in Eclipse IDE they all should be able to find the path of the file including the indicated class and open or create an indicated file with the found path.\r\n\r\nBut it is tricky, when run the runnable jar file directly or through the command line, it will be failed as the path of jar file gotten from the above methods will give an internal path in the jar file, that is it always gives a path as\r\n\r\nrsrc:project-name (maybe I should say that it is the package name of the main class file - the indicated class)\r\n\r\nI can not convert the rsrc:... path to an external path, that is when run the jar file outside the Eclipse IDE it can not get the path of jar file.\r\n\r\nThe only possible way for getting the path of running jar file outside Eclipse IDE is \r\n\r\n    System.getProperty(&quot;java.class.path&quot;)\r\n\r\nthis code line may return the living path (including the file name) of the running jar file (note that the return path is not the working directory), as the java document and some people said that it will return the paths of all class files in the same directory, but as my tests if in the same directory include many jar files, it only return the path of running jar (about the multiple paths issue indeed it happened in the Eclipse).\r\n\r\n","title":"How to get the path of a running JAR file?","body":"<p>For getting the path of running jar file I have studied the above solutions and tried all methods which exist some difference each other. If these code are running in Eclipse IDE they all should be able to find the path of the file including the indicated class and open or create an indicated file with the found path.</p>\n\n<p>But it is tricky, when run the runnable jar file directly or through the command line, it will be failed as the path of jar file gotten from the above methods will give an internal path in the jar file, that is it always gives a path as</p>\n\n<p>rsrc:project-name (maybe I should say that it is the package name of the main class file - the indicated class)</p>\n\n<p>I can not convert the rsrc:... path to an external path, that is when run the jar file outside the Eclipse IDE it can not get the path of jar file.</p>\n\n<p>The only possible way for getting the path of running jar file outside Eclipse IDE is </p>\n\n<pre><code>System.getProperty(\"java.class.path\")\n</code></pre>\n\n<p>this code line may return the living path (including the file name) of the running jar file (note that the return path is not the working directory), as the java document and some people said that it will return the paths of all class files in the same directory, but as my tests if in the same directory include many jar files, it only return the path of running jar (about the multiple paths issue indeed it happened in the Eclipse).</p>\n"},{"tags":[],"owner":{"account_id":358881,"reputation":1693,"user_id":699952,"accept_rate":75,"display_name":"Alexander"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1450074894,"creation_date":1450074894,"answer_id":34261049,"question_id":320542,"body_markdown":"Something that is frustrating is that when you are developing in Eclipse `MyClass.class.getProtectionDomain().getCodeSource().getLocation()` returns the `/bin` directory which is great, but when you compile it to a jar, the path includes the `/myjarname.jar` part which gives you illegal file names. \r\n\r\nTo have the code work both in the ide and once it is compiled to a jar, I use the following piece of code:\r\n\r\n    URL applicationRootPathURL = getClass().getProtectionDomain().getCodeSource().getLocation();\r\n    File applicationRootPath = new File(applicationRootPathURL.getPath());\r\n    File myFile;\r\n    if(applicationRootPath.isDirectory()){\r\n        myFile = new File(applicationRootPath, &quot;filename&quot;);\r\n    }\r\n    else{\r\n        myFile = new File(applicationRootPath.getParentFile(), &quot;filename&quot;);\r\n    }\r\n\r\n","title":"How to get the path of a running JAR file?","body":"<p>Something that is frustrating is that when you are developing in Eclipse <code>MyClass.class.getProtectionDomain().getCodeSource().getLocation()</code> returns the <code>/bin</code> directory which is great, but when you compile it to a jar, the path includes the <code>/myjarname.jar</code> part which gives you illegal file names. </p>\n\n<p>To have the code work both in the ide and once it is compiled to a jar, I use the following piece of code:</p>\n\n<pre><code>URL applicationRootPathURL = getClass().getProtectionDomain().getCodeSource().getLocation();\nFile applicationRootPath = new File(applicationRootPathURL.getPath());\nFile myFile;\nif(applicationRootPath.isDirectory()){\n    myFile = new File(applicationRootPath, \"filename\");\n}\nelse{\n    myFile = new File(applicationRootPath.getParentFile(), \"filename\");\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1481846842,"post_id":37747707,"comment_id":69551309,"body_markdown":"It can be a directory, if you&#39;re loading your classes from a filesystem instead of a JAR file, e.g. when debugging.","body":"It can be a directory, if you&#39;re loading your classes from a filesystem instead of a JAR file, e.g. when debugging."}],"tags":[],"owner":{"account_id":1578490,"reputation":4780,"user_id":1464389,"accept_rate":49,"display_name":"F.O.O"},"comment_count":1,"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1465559859,"creation_date":1465559859,"answer_id":37747707,"question_id":320542,"body_markdown":"Other answers seem to point to the code source which is Jar file location which is not a directory.\r\n\r\nUse\r\n\r\n    return new File(MyClass.class.getProtectionDomain().getCodeSource().getLocation().toURI().getPath()).getParentFile();","title":"How to get the path of a running JAR file?","body":"<p>Other answers seem to point to the code source which is Jar file location which is not a directory.</p>\n\n<p>Use</p>\n\n<pre><code>return new File(MyClass.class.getProtectionDomain().getCodeSource().getLocation().toURI().getPath()).getParentFile();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3761296,"reputation":131,"user_id":3126202,"display_name":"Fahad Alkamli"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1466524637,"creation_date":1466524637,"answer_id":37949237,"question_id":320542,"body_markdown":"Not really sure about the others but in my case it didn&#39;t work with a &quot;Runnable jar&quot; and i got it working by fixing codes together from phchen2 answer and another from this link :https://stackoverflow.com/questions/320542/how-to-get-the-path-of-a-running-jar-file?lq=1\r\nThe code:\r\n\r\n        \t\t   String path=new java.io.File(Server.class.getProtectionDomain()\r\n\t\t            .getCodeSource()\r\n\t\t            .getLocation()\r\n\t\t            .getPath())\r\n\t\t      .getAbsolutePath();\r\n\t\t   path=path.substring(0, path.lastIndexOf(&quot;.&quot;));\r\n\t\t   path=path+System.getProperty(&quot;java.class.path&quot;);\r\n\r\n","title":"How to get the path of a running JAR file?","body":"<p>Not really sure about the others but in my case it didn't work with a \"Runnable jar\" and i got it working by fixing codes together from phchen2 answer and another from this link :<a href=\"https://stackoverflow.com/questions/320542/how-to-get-the-path-of-a-running-jar-file?lq=1\">How to get the path of a running JAR file?</a>\nThe code:</p>\n\n<pre><code>               String path=new java.io.File(Server.class.getProtectionDomain()\n                .getCodeSource()\n                .getLocation()\n                .getPath())\n          .getAbsolutePath();\n       path=path.substring(0, path.lastIndexOf(\".\"));\n       path=path+System.getProperty(\"java.class.path\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7913261,"reputation":1438,"user_id":5976604,"accept_rate":21,"display_name":"Jelle den Burger"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1472565525,"creation_date":1472565525,"answer_id":39229561,"question_id":320542,"body_markdown":"I had to mess around a lot before I finally found a working (and short) solution. &lt;br&gt;\r\nIt is possible that the `jarLocation` comes with a prefix like `file:\\` or `jar:file\\`, which can be removed by using `String#substring()`.\r\n\r\n    URL jarLocationUrl = MyClass.class.getProtectionDomain().getCodeSource().getLocation();\r\n    String jarLocation = new File(jarLocationUrl.toString()).getParent();","title":"How to get the path of a running JAR file?","body":"<p>I had to mess around a lot before I finally found a working (and short) solution. <br>\nIt is possible that the <code>jarLocation</code> comes with a prefix like <code>file:\\</code> or <code>jar:file\\</code>, which can be removed by using <code>String#substring()</code>.</p>\n\n<pre><code>URL jarLocationUrl = MyClass.class.getProtectionDomain().getCodeSource().getLocation();\nString jarLocation = new File(jarLocationUrl.toString()).getParent();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6410016,"reputation":7025,"user_id":4970079,"accept_rate":76,"display_name":"GOXR3PLUS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1495199556,"creation_date":1495199556,"answer_id":44071072,"question_id":320542,"body_markdown":"**Mention that it is checked only in `Windows` but i think it works perfect on other Operating Systems [`Linux,MacOs,Solaris`] :).**\r\n\r\n\r\n----------\r\n\r\n\r\nI had **2** `.jar` files in the same directory . I wanted from the one `.jar` file to start the other `.jar` file which is in the same directory.\r\n\r\nThe problem is that when you start it from the `cmd` the current directory is `system32`.\r\n\r\n\r\n----------\r\n\r\n\r\n&gt; Warnings!\r\n\r\n - The below seems to work pretty well in all the test i have done even\r\n   with folder name `;][[;&#39;57f2g34g87-8+9-09!2#@!$%^^&amp;()` or `()%&amp;$%^@#`\r\n   it works well.\r\n - I am using the `ProcessBuilder` with the below as following:\r\n\r\n&#127810;..\r\n\r\n    //The class from which i called this was the class `Main`\r\n    String path = getBasePathForClass(Main.class);\r\n    String applicationPath=  new File(path + &quot;application.jar&quot;).getAbsolutePath();\r\n    \t\t\t\r\n    \t\t\t\t\r\n    System.out.println(&quot;Directory Path is : &quot;+applicationPath);\r\n    \t\t\t\t\r\n    //Your know try catch here\r\n    //Mention that sometimes it doesn&#39;t work for example with folder `;][[;&#39;57f2g34g87-8+9-09!2#@!$%^^&amp;()` \r\n    ProcessBuilder builder = new ProcessBuilder(&quot;java&quot;, &quot;-jar&quot;, applicationPath);\r\n    builder.redirectErrorStream(true);\r\n    Process process = builder.start();\r\n\r\n    //...code\r\n\r\n----------\r\n\r\n&#127810;`getBasePathForClass(Class&lt;?&gt; classs)`:\r\n\r\n        /**\r\n    \t * Returns the absolute path of the current directory in which the given\r\n    \t * class\r\n    \t * file is.\r\n    \t * \r\n    \t * @param classs\r\n    \t * @return The absolute path of the current directory in which the class\r\n    \t *         file is.\r\n    \t * @author GOXR3PLUS[StackOverFlow user] + bachden [StackOverFlow user]\r\n    \t */\r\n    \tpublic static final String getBasePathForClass(Class&lt;?&gt; classs) {\r\n    \t\t\r\n    \t\t// Local variables\r\n    \t\tFile file;\r\n    \t\tString basePath = &quot;&quot;;\r\n    \t\tboolean failed = false;\r\n    \t\t\r\n    \t\t// Let&#39;s give a first try\r\n    \t\ttry {\r\n    \t\t\tfile = new File(classs.getProtectionDomain().getCodeSource().getLocation().toURI().getPath());\r\n    \t\t\t\r\n    \t\t\tif (file.isFile() || file.getPath().endsWith(&quot;.jar&quot;) || file.getPath().endsWith(&quot;.zip&quot;)) {\r\n    \t\t\t\tbasePath = file.getParent();\r\n    \t\t\t} else {\r\n    \t\t\t\tbasePath = file.getPath();\r\n    \t\t\t}\r\n    \t\t} catch (URISyntaxException ex) {\r\n    \t\t\tfailed = true;\r\n    \t\t\tLogger.getLogger(classs.getName()).log(Level.WARNING,\r\n    \t\t\t        &quot;Cannot firgue out base path for class with way (1): &quot;, ex);\r\n    \t\t}\r\n    \t\t\r\n    \t\t// The above failed?\r\n    \t\tif (failed) {\r\n    \t\t\ttry {\r\n    \t\t\t\tfile = new File(classs.getClassLoader().getResource(&quot;&quot;).toURI().getPath());\r\n    \t\t\t\tbasePath = file.getAbsolutePath();\r\n    \t\t\t\t\r\n    \t\t\t\t// the below is for testing purposes...\r\n    \t\t\t\t// starts with File.separator?\r\n    \t\t\t\t// String l = local.replaceFirst(&quot;[&quot; + File.separator +\r\n    \t\t\t\t// &quot;/\\\\\\\\]&quot;, &quot;&quot;)\r\n    \t\t\t} catch (URISyntaxException ex) {\r\n    \t\t\t\tLogger.getLogger(classs.getName()).log(Level.WARNING,\r\n    \t\t\t\t        &quot;Cannot firgue out base path for class with way (2): &quot;, ex);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\t// fix to run inside eclipse\r\n    \t\tif (basePath.endsWith(File.separator + &quot;lib&quot;) || basePath.endsWith(File.separator + &quot;bin&quot;)\r\n    \t\t        || basePath.endsWith(&quot;bin&quot; + File.separator) || basePath.endsWith(&quot;lib&quot; + File.separator)) {\r\n    \t\t\tbasePath = basePath.substring(0, basePath.length() - 4);\r\n    \t\t}\r\n    \t\t// fix to run inside netbeans\r\n    \t\tif (basePath.endsWith(File.separator + &quot;build&quot; + File.separator + &quot;classes&quot;)) {\r\n    \t\t\tbasePath = basePath.substring(0, basePath.length() - 14);\r\n    \t\t}\r\n    \t\t// end fix\r\n    \t\tif (!basePath.endsWith(File.separator)) {\r\n    \t\t\tbasePath = basePath + File.separator;\r\n    \t\t}\r\n    \t\treturn basePath;\r\n    \t}\r\n","title":"How to get the path of a running JAR file?","body":"<p><strong>Mention that it is checked only in <code>Windows</code> but i think it works perfect on other Operating Systems [<code>Linux,MacOs,Solaris</code>] :).</strong></p>\n\n<hr>\n\n<p>I had <strong>2</strong> <code>.jar</code> files in the same directory . I wanted from the one <code>.jar</code> file to start the other <code>.jar</code> file which is in the same directory.</p>\n\n<p>The problem is that when you start it from the <code>cmd</code> the current directory is <code>system32</code>.</p>\n\n<hr>\n\n<blockquote>\n  <p>Warnings!</p>\n</blockquote>\n\n<ul>\n<li>The below seems to work pretty well in all the test i have done even\nwith folder name <code>;][[;'57f2g34g87-8+9-09!2#@!$%^^&amp;()</code> or <code>()%&amp;$%^@#</code>\nit works well.</li>\n<li>I am using the <code>ProcessBuilder</code> with the below as following:</li>\n</ul>\n\n<p>🍂..</p>\n\n<pre><code>//The class from which i called this was the class `Main`\nString path = getBasePathForClass(Main.class);\nString applicationPath=  new File(path + \"application.jar\").getAbsolutePath();\n\n\nSystem.out.println(\"Directory Path is : \"+applicationPath);\n\n//Your know try catch here\n//Mention that sometimes it doesn't work for example with folder `;][[;'57f2g34g87-8+9-09!2#@!$%^^&amp;()` \nProcessBuilder builder = new ProcessBuilder(\"java\", \"-jar\", applicationPath);\nbuilder.redirectErrorStream(true);\nProcess process = builder.start();\n\n//...code\n</code></pre>\n\n<hr>\n\n<p>🍂<code>getBasePathForClass(Class&lt;?&gt; classs)</code>:</p>\n\n<pre><code>    /**\n     * Returns the absolute path of the current directory in which the given\n     * class\n     * file is.\n     * \n     * @param classs\n     * @return The absolute path of the current directory in which the class\n     *         file is.\n     * @author GOXR3PLUS[StackOverFlow user] + bachden [StackOverFlow user]\n     */\n    public static final String getBasePathForClass(Class&lt;?&gt; classs) {\n\n        // Local variables\n        File file;\n        String basePath = \"\";\n        boolean failed = false;\n\n        // Let's give a first try\n        try {\n            file = new File(classs.getProtectionDomain().getCodeSource().getLocation().toURI().getPath());\n\n            if (file.isFile() || file.getPath().endsWith(\".jar\") || file.getPath().endsWith(\".zip\")) {\n                basePath = file.getParent();\n            } else {\n                basePath = file.getPath();\n            }\n        } catch (URISyntaxException ex) {\n            failed = true;\n            Logger.getLogger(classs.getName()).log(Level.WARNING,\n                    \"Cannot firgue out base path for class with way (1): \", ex);\n        }\n\n        // The above failed?\n        if (failed) {\n            try {\n                file = new File(classs.getClassLoader().getResource(\"\").toURI().getPath());\n                basePath = file.getAbsolutePath();\n\n                // the below is for testing purposes...\n                // starts with File.separator?\n                // String l = local.replaceFirst(\"[\" + File.separator +\n                // \"/\\\\\\\\]\", \"\")\n            } catch (URISyntaxException ex) {\n                Logger.getLogger(classs.getName()).log(Level.WARNING,\n                        \"Cannot firgue out base path for class with way (2): \", ex);\n            }\n        }\n\n        // fix to run inside eclipse\n        if (basePath.endsWith(File.separator + \"lib\") || basePath.endsWith(File.separator + \"bin\")\n                || basePath.endsWith(\"bin\" + File.separator) || basePath.endsWith(\"lib\" + File.separator)) {\n            basePath = basePath.substring(0, basePath.length() - 4);\n        }\n        // fix to run inside netbeans\n        if (basePath.endsWith(File.separator + \"build\" + File.separator + \"classes\")) {\n            basePath = basePath.substring(0, basePath.length() - 14);\n        }\n        // end fix\n        if (!basePath.endsWith(File.separator)) {\n            basePath = basePath + File.separator;\n        }\n        return basePath;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":54040,"reputation":3797,"user_id":161644,"accept_rate":30,"display_name":"John Lockwood"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504871914,"creation_date":1504871914,"answer_id":46116016,"question_id":320542,"body_markdown":"This code worked for me:\r\n\r\n    private static String getJarPath() throws IOException, URISyntaxException {\r\n        File f = new File(LicensingApp.class.getProtectionDomain().().getLocation().toURI());\r\n        String jarPath = f.getCanonicalPath().toString();\r\n        String jarDir = jarPath.substring( 0, jarPath.lastIndexOf( File.separator ));\r\n        return jarDir;\r\n      }\r\n\r\n","title":"How to get the path of a running JAR file?","body":"<p>This code worked for me:</p>\n\n<pre><code>private static String getJarPath() throws IOException, URISyntaxException {\n    File f = new File(LicensingApp.class.getProtectionDomain().().getLocation().toURI());\n    String jarPath = f.getCanonicalPath().toString();\n    String jarDir = jarPath.substring( 0, jarPath.lastIndexOf( File.separator ));\n    return jarDir;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1873887,"reputation":862,"user_id":1695537,"accept_rate":67,"display_name":"DragonGamer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1553169001,"creation_date":1553169001,"answer_id":55279816,"question_id":320542,"body_markdown":"Have tried several of the solutions up there but none yielded correct results for the (probably special) case that the runnable jar has been exported with &quot;Packaging external libraries&quot; in Eclipse. For some reason all solutions based on the ProtectionDomain do result in null in that case.\r\n\r\nFrom combining some solutions above I managed to achieve the following working code:\r\n\r\n\tString surroundingJar = null;\r\n\t\r\n\t// gets the path to the jar file if it exists; or the &quot;bin&quot; directory if calling from Eclipse\r\n\tString jarDir = new File(ClassLoader.getSystemClassLoader().getResource(&quot;.&quot;).getPath()).getAbsolutePath();\r\n\r\n\t// gets the &quot;bin&quot; directory if calling from eclipse or the name of the .jar file alone (without its path)\r\n\tString jarFileFromSys = System.getProperty(&quot;java.class.path&quot;).split(&quot;;&quot;)[0];\r\n\t\r\n\t// If both are equal that means it is running from an IDE like Eclipse\r\n\tif (jarFileFromSys.equals(jarDir))\r\n\t{\r\n\t\tSystem.out.println(&quot;RUNNING FROM IDE!&quot;);\r\n\t\t// The path to the jar is the &quot;bin&quot; directory in that case because there is no actual .jar file.\r\n\t\tsurroundingJar = jarDir;\r\n\t}\r\n\telse\r\n\t{\r\n\t\t// Combining the path and the name of the .jar file to achieve the final result\r\n\t\tsurroundingJar = jarDir + jarFileFromSys.substring(1);\r\n\t}\r\n\r\n\tSystem.out.println(&quot;JAR File: &quot; + surroundingJar);","title":"How to get the path of a running JAR file?","body":"<p>Have tried several of the solutions up there but none yielded correct results for the (probably special) case that the runnable jar has been exported with \"Packaging external libraries\" in Eclipse. For some reason all solutions based on the ProtectionDomain do result in null in that case.</p>\n\n<p>From combining some solutions above I managed to achieve the following working code:</p>\n\n<pre><code>String surroundingJar = null;\n\n// gets the path to the jar file if it exists; or the \"bin\" directory if calling from Eclipse\nString jarDir = new File(ClassLoader.getSystemClassLoader().getResource(\".\").getPath()).getAbsolutePath();\n\n// gets the \"bin\" directory if calling from eclipse or the name of the .jar file alone (without its path)\nString jarFileFromSys = System.getProperty(\"java.class.path\").split(\";\")[0];\n\n// If both are equal that means it is running from an IDE like Eclipse\nif (jarFileFromSys.equals(jarDir))\n{\n    System.out.println(\"RUNNING FROM IDE!\");\n    // The path to the jar is the \"bin\" directory in that case because there is no actual .jar file.\n    surroundingJar = jarDir;\n}\nelse\n{\n    // Combining the path and the name of the .jar file to achieve the final result\n    surroundingJar = jarDir + jarFileFromSys.substring(1);\n}\n\nSystem.out.println(\"JAR File: \" + surroundingJar);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2233181,"reputation":3815,"user_id":1970299,"accept_rate":72,"display_name":"Mehdi"},"score":0,"creation_date":1637461876,"post_id":56887852,"comment_id":123831839,"body_markdown":"This solution does not work if you&#39;re calling on that jar using an absolute command like this:\n/home/program/java8/bin/java -jar /home/program/myjar.jar\n\nIt points to /home/ directory instead of jar directory in this case. I tested it","body":"This solution does not work if you&#39;re calling on that jar using an absolute command like this: /home/program/java8/bin/java -jar /home/program/myjar.jar  It points to /home/ directory instead of jar directory in this case. I tested it"},{"owner":{"account_id":5851562,"reputation":1061,"user_id":4610114,"accept_rate":100,"display_name":"Franz D."},"score":0,"creation_date":1647049223,"post_id":56887852,"comment_id":126282664,"body_markdown":"If I&#39;m not mistaken, this just returns the current working directory.","body":"If I&#39;m not mistaken, this just returns the current working directory."}],"tags":[],"owner":{"account_id":10968097,"reputation":160,"user_id":8059259,"display_name":"Blarzek"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1562242887,"creation_date":1562242887,"answer_id":56887852,"question_id":320542,"body_markdown":"Try this:\r\n\r\n    String path = new File(&quot;&quot;).getAbsolutePath();","title":"How to get the path of a running JAR file?","body":"<p>Try this:</p>\n\n<pre><code>String path = new File(\"\").getAbsolutePath();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4844264,"reputation":475,"user_id":3908401,"display_name":"Jairo Mart&#237;nez"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1574388739,"creation_date":1574388739,"answer_id":58986478,"question_id":320542,"body_markdown":"This code worked for me to identify if the program is being executed inside a JAR file or IDE:\r\n\r\n```\r\nprivate static boolean isRunningOverJar() {\r\n    try {\r\n        String pathJar = Application.class.getResource(Application.class.getSimpleName() + &quot;.class&quot;).getFile();\r\n\r\n        if (pathJar.toLowerCase().contains(&quot;.jar&quot;)) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    } catch (Exception e) {\r\n        return false;\r\n    }\r\n}\r\n```\r\n\r\nIf I need to get the Windows full path of JAR file I am using this method:\r\n```\r\n    private static String getPathJar() {\r\n        try {\r\n            final URI jarUriPath =\r\n                    Application.class.getResource(Application.class.getSimpleName() + &quot;.class&quot;).toURI();\r\n            String jarStringPath = jarUriPath.toString().replace(&quot;jar:&quot;, &quot;&quot;);\r\n            String jarCleanPath  = Paths.get(new URI(jarStringPath)).toString();\r\n\r\n            if (jarCleanPath.toLowerCase().contains(&quot;.jar&quot;)) {\r\n                return jarCleanPath.substring(0, jarCleanPath.lastIndexOf(&quot;.jar&quot;) + 4);\r\n            } else {\r\n                return null;\r\n            }\r\n        } catch (Exception e) {\r\n            log.error(&quot;Error getting JAR path.&quot;, e);\r\n            return null;\r\n        }\r\n    }\r\n```\r\n\r\nMy complete code working with a Spring Boot application using `CommandLineRunner` implementation, to ensure that the application always be executed within of a console view (Double clicks by mistake in JAR file name), I am using the next code:\r\n\r\n```\r\n@SpringBootApplication\r\npublic class Application implements CommandLineRunner {\r\n    public static void main(String[] args) throws IOException {\r\n        Console console = System.console();\r\n\r\n        if (console == null &amp;&amp; !GraphicsEnvironment.isHeadless() &amp;&amp; isRunningOverJar()) {\r\n            Runtime.getRuntime().exec(new String[]{&quot;cmd&quot;, &quot;/c&quot;, &quot;start&quot;, &quot;cmd&quot;, &quot;/k&quot;,\r\n                    &quot;java -jar \\&quot;&quot; + getPathJar() + &quot;\\&quot;&quot;});\r\n        } else {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void run(String... args) {\r\n        /*\r\n        Additional code here...\r\n        */\r\n    }\r\n\r\n    private static boolean isRunningOverJar() {\r\n        try {\r\n            String pathJar = Application.class.getResource(Application.class.getSimpleName() + &quot;.class&quot;).getFile();\r\n\r\n            if (pathJar.toLowerCase().contains(&quot;.jar&quot;)) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        } catch (Exception e) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    private static String getPathJar() {\r\n        try {\r\n            final URI jarUriPath =\r\n                    Application.class.getResource(Application.class.getSimpleName() + &quot;.class&quot;).toURI();\r\n            String jarStringPath = jarUriPath.toString().replace(&quot;jar:&quot;, &quot;&quot;);\r\n            String jarCleanPath  = Paths.get(new URI(jarStringPath)).toString();\r\n\r\n            if (jarCleanPath.toLowerCase().contains(&quot;.jar&quot;)) {\r\n                return jarCleanPath.substring(0, jarCleanPath.lastIndexOf(&quot;.jar&quot;) + 4);\r\n            } else {\r\n                return null;\r\n            }\r\n        } catch (Exception e) {\r\n            return null;\r\n        }\r\n    }\r\n}\r\n```","title":"How to get the path of a running JAR file?","body":"<p>This code worked for me to identify if the program is being executed inside a JAR file or IDE:</p>\n\n<pre><code>private static boolean isRunningOverJar() {\n    try {\n        String pathJar = Application.class.getResource(Application.class.getSimpleName() + \".class\").getFile();\n\n        if (pathJar.toLowerCase().contains(\".jar\")) {\n            return true;\n        } else {\n            return false;\n        }\n    } catch (Exception e) {\n        return false;\n    }\n}\n</code></pre>\n\n<p>If I need to get the Windows full path of JAR file I am using this method:</p>\n\n<pre><code>    private static String getPathJar() {\n        try {\n            final URI jarUriPath =\n                    Application.class.getResource(Application.class.getSimpleName() + \".class\").toURI();\n            String jarStringPath = jarUriPath.toString().replace(\"jar:\", \"\");\n            String jarCleanPath  = Paths.get(new URI(jarStringPath)).toString();\n\n            if (jarCleanPath.toLowerCase().contains(\".jar\")) {\n                return jarCleanPath.substring(0, jarCleanPath.lastIndexOf(\".jar\") + 4);\n            } else {\n                return null;\n            }\n        } catch (Exception e) {\n            log.error(\"Error getting JAR path.\", e);\n            return null;\n        }\n    }\n</code></pre>\n\n<p>My complete code working with a Spring Boot application using <code>CommandLineRunner</code> implementation, to ensure that the application always be executed within of a console view (Double clicks by mistake in JAR file name), I am using the next code:</p>\n\n<pre><code>@SpringBootApplication\npublic class Application implements CommandLineRunner {\n    public static void main(String[] args) throws IOException {\n        Console console = System.console();\n\n        if (console == null &amp;&amp; !GraphicsEnvironment.isHeadless() &amp;&amp; isRunningOverJar()) {\n            Runtime.getRuntime().exec(new String[]{\"cmd\", \"/c\", \"start\", \"cmd\", \"/k\",\n                    \"java -jar \\\"\" + getPathJar() + \"\\\"\"});\n        } else {\n            SpringApplication.run(Application.class, args);\n        }\n    }\n\n    @Override\n    public void run(String... args) {\n        /*\n        Additional code here...\n        */\n    }\n\n    private static boolean isRunningOverJar() {\n        try {\n            String pathJar = Application.class.getResource(Application.class.getSimpleName() + \".class\").getFile();\n\n            if (pathJar.toLowerCase().contains(\".jar\")) {\n                return true;\n            } else {\n                return false;\n            }\n        } catch (Exception e) {\n            return false;\n        }\n    }\n\n    private static String getPathJar() {\n        try {\n            final URI jarUriPath =\n                    Application.class.getResource(Application.class.getSimpleName() + \".class\").toURI();\n            String jarStringPath = jarUriPath.toString().replace(\"jar:\", \"\");\n            String jarCleanPath  = Paths.get(new URI(jarStringPath)).toString();\n\n            if (jarCleanPath.toLowerCase().contains(\".jar\")) {\n                return jarCleanPath.substring(0, jarCleanPath.lastIndexOf(\".jar\") + 4);\n            } else {\n                return null;\n            }\n        } catch (Exception e) {\n            return null;\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6582887,"reputation":408,"user_id":5086634,"accept_rate":80,"display_name":"Eliezer Miron"},"score":0,"creation_date":1646876297,"post_id":62979122,"comment_id":126234436,"body_markdown":"Is this available only in java 1.12 onwards?","body":"Is this available only in java 1.12 onwards?"},{"owner":{"account_id":1212752,"reputation":746,"user_id":1180993,"display_name":"White_King"},"score":0,"creation_date":1654410497,"post_id":62979122,"comment_id":128081281,"body_markdown":"No, this will work for older versions as well.","body":"No, this will work for older versions as well."},{"owner":{"account_id":59435,"reputation":1210,"user_id":177832,"display_name":"David Larochette"},"score":2,"creation_date":1656914984,"post_id":62979122,"comment_id":128678038,"body_markdown":"The current working directory is not always the same as the executed jar directory","body":"The current working directory is not always the same as the executed jar directory"},{"owner":{"account_id":1212752,"reputation":746,"user_id":1180993,"display_name":"White_King"},"score":1,"creation_date":1657478838,"post_id":62979122,"comment_id":128814206,"body_markdown":"`new File(&quot;.&quot;).getCanonicalPath()` Will always give you the path where the class (inside the jar) is being executed (called) from","body":"<code>new File(&quot;.&quot;).getCanonicalPath()</code> Will always give you the path where the class (inside the jar) is being executed (called) from"},{"owner":{"account_id":3590209,"reputation":1021,"user_id":2996452,"accept_rate":62,"display_name":"Jokkeri"},"score":0,"creation_date":1678691034,"post_id":62979122,"comment_id":133575502,"body_markdown":"The 1st option does not answer the question &quot;How to get the path of a running JAR file?&quot; but only to getting &quot;current working directory&quot;. It may or may not be the same.","body":"The 1st option does not answer the question &quot;How to get the path of a running JAR file?&quot; but only to getting &quot;current working directory&quot;. It may or may not be the same."}],"tags":[],"owner":{"account_id":1212752,"reputation":746,"user_id":1180993,"display_name":"White_King"},"comment_count":5,"down_vote_count":3,"up_vote_count":17,"is_accepted":false,"score":14,"last_activity_date":1684771845,"creation_date":1595154827,"answer_id":62979122,"question_id":320542,"body_markdown":"If you are really looking for a simple way to get the folder in which your JAR is located you should use this implementation.\r\nSolutions like this are hard to find and many solutions are no longer supported, many others provide the path of the file instead of the actual directory. This is easier than other solutions you are going to find and works for Java version 1.12.\r\n\r\n    new File(&quot;.&quot;).getCanonicalPath()\r\nThis implementation assumes that the working directory (the one the user is standing when executing the jar) is the same as the executed JAR if this is not the case you can use this other one \r\nGathered from the other answers:\r\n\r\n    String localPath=new File(getClass().getProtectionDomain().getCodeSource().getLocation().toURI()).getParentFile().getPath()+&quot;\\\\&quot;; \r\n\r\nBoth will return a String with this format:\r\n\r\n    &quot;C:\\Users\\User\\Desktop\\Folder\\&quot;\r\nIn a simple and concise line.","title":"How to get the path of a running JAR file?","body":"<p>If you are really looking for a simple way to get the folder in which your JAR is located you should use this implementation.\nSolutions like this are hard to find and many solutions are no longer supported, many others provide the path of the file instead of the actual directory. This is easier than other solutions you are going to find and works for Java version 1.12.</p>\n<pre><code>new File(&quot;.&quot;).getCanonicalPath()\n</code></pre>\n<p>This implementation assumes that the working directory (the one the user is standing when executing the jar) is the same as the executed JAR if this is not the case you can use this other one\nGathered from the other answers:</p>\n<pre><code>String localPath=new File(getClass().getProtectionDomain().getCodeSource().getLocation().toURI()).getParentFile().getPath()+&quot;\\\\&quot;; \n</code></pre>\n<p>Both will return a String with this format:</p>\n<pre><code>&quot;C:\\Users\\User\\Desktop\\Folder\\&quot;\n</code></pre>\n<p>In a simple and concise line.</p>\n"},{"comments":[{"owner":{"account_id":3142733,"reputation":616,"user_id":2657875,"accept_rate":77,"display_name":"menteith"},"score":0,"creation_date":1644511277,"post_id":65349441,"comment_id":125631895,"body_markdown":"Confirmed. This solution works for Spring Boot.","body":"Confirmed. This solution works for Spring Boot."}],"tags":[],"owner":{"account_id":15578732,"reputation":636,"user_id":11239174,"display_name":"Devxln"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1608245213,"creation_date":1608245213,"answer_id":65349441,"question_id":320542,"body_markdown":"The above methods didn&#39;t work for me in my Spring environment, since Spring shades the actual classes into a package called BOOT-INF, thus not the actual location of the running file. I found another way to retrieve the running file through the `Permissions` object which have been granted to the running file:\r\n\r\n```java\r\n\r\npublic static Path getEnclosingDirectory() {\r\n    return Paths.get(FileUtils.class.getProtectionDomain().getPermissions()\r\n            .elements().nextElement().getName()).getParent();\r\n}\r\n```","title":"How to get the path of a running JAR file?","body":"<p>The above methods didn't work for me in my Spring environment, since Spring shades the actual classes into a package called BOOT-INF, thus not the actual location of the running file. I found another way to retrieve the running file through the <code>Permissions</code> object which have been granted to the running file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic static Path getEnclosingDirectory() {\n    return Paths.get(FileUtils.class.getProtectionDomain().getPermissions()\n            .elements().nextElement().getName()).getParent();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5068712,"reputation":2406,"user_id":4068123,"display_name":"Michael Sims"},"comment_count":0,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1617872172,"creation_date":1617872172,"answer_id":67000570,"question_id":320542,"body_markdown":"For something stupid simple, all you need is this one line:\r\n\r\nFor Windows users, change &quot;pwd&quot; to &quot;cd&quot;\r\n\r\n    runCommand(&quot;pwd&quot;);\r\n\r\nAnd just throw this method into the class:\r\n\r\n    public static String runCommand(String command) {\r\n    \tStringBuilder sb = new StringBuilder();\r\n    \ttry {\r\n    \t\tProcessBuilder pb = new ProcessBuilder(command);\r\n    \t\tfinal Process p = pb.start();\r\n    \t\tBufferedReader br = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n    \t\tString line;\r\n    \t\tsb.append(br.read());\r\n    \t\twhile ((line= br.readLine()) != null) sb.append(line).append(&quot;\\n&quot;);\r\n    \t}\r\n    \tcatch (IOException e) {e.printStackTrace();}\r\n    \treturn sb.toString();\r\n    }\r\n","title":"How to get the path of a running JAR file?","body":"<p>For something stupid simple, all you need is this one line:</p>\n<p>For Windows users, change &quot;pwd&quot; to &quot;cd&quot;</p>\n<pre><code>runCommand(&quot;pwd&quot;);\n</code></pre>\n<p>And just throw this method into the class:</p>\n<pre><code>public static String runCommand(String command) {\n    StringBuilder sb = new StringBuilder();\n    try {\n        ProcessBuilder pb = new ProcessBuilder(command);\n        final Process p = pb.start();\n        BufferedReader br = new BufferedReader(new InputStreamReader(p.getInputStream()));\n        String line;\n        sb.append(br.read());\n        while ((line= br.readLine()) != null) sb.append(line).append(&quot;\\n&quot;);\n    }\n    catch (IOException e) {e.printStackTrace();}\n    return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2233181,"reputation":3815,"user_id":1970299,"accept_rate":72,"display_name":"Mehdi"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1674379561,"creation_date":1637462568,"answer_id":70051410,"question_id":320542,"body_markdown":"For the jar file path:\r\n\r\n    String jarPath = new File(MyClass.class.getProtectionDomain().getCodeSource().getLocation()\r\n        .toURI()).getPath();\r\n\r\nFor getting the directory path of that jar file:\r\n\r\n    String dirPath = new File(MyClass.class.getProtectionDomain().getCodeSource().getLocation()\r\n                            .toURI()).getParent();\r\n\r\nThe results of the two lines above are like this:\r\n\r\n&gt; /home/user/MyPrograms/myapp/myjar.jar  (value of jarPath)\r\n\r\n&gt; /home/user/MyPrograms/myapp  (value of dirPath)","title":"How to get the path of a running JAR file?","body":"<p>For the jar file path:</p>\n<pre><code>String jarPath = new File(MyClass.class.getProtectionDomain().getCodeSource().getLocation()\n    .toURI()).getPath();\n</code></pre>\n<p>For getting the directory path of that jar file:</p>\n<pre><code>String dirPath = new File(MyClass.class.getProtectionDomain().getCodeSource().getLocation()\n                        .toURI()).getParent();\n</code></pre>\n<p>The results of the two lines above are like this:</p>\n<blockquote>\n<p>/home/user/MyPrograms/myapp/myjar.jar  (value of jarPath)</p>\n</blockquote>\n<blockquote>\n<p>/home/user/MyPrograms/myapp  (value of dirPath)</p>\n</blockquote>\n"}],"owner":{"account_id":9187,"reputation":9248,"user_id":16873,"accept_rate":100,"display_name":"Thiago Chaves"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":616894,"favorite_count":0,"down_vote_count":1,"up_vote_count":644,"accepted_answer_id":320595,"answer_count":33,"score":643,"last_activity_date":1684771845,"creation_date":1227702638,"question_id":320542,"body_markdown":"My code runs inside a JAR file, say **foo.jar**, and I need to know, in the code, in which folder the running **foo.jar** is.\r\n\r\nSo, if **foo.jar** is in `C:\\FOO\\`, I want to get that path no matter what my current working directory is.","title":"How to get the path of a running JAR file?","body":"<p>My code runs inside a JAR file, say <strong>foo.jar</strong>, and I need to know, in the code, in which folder the running <strong>foo.jar</strong> is.</p>\n\n<p>So, if <strong>foo.jar</strong> is in <code>C:\\FOO\\</code>, I want to get that path no matter what my current working directory is.</p>\n"},{"tags":["java","android","multithreading"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":2,"creation_date":1496125925,"post_id":44254289,"comment_id":75518140,"body_markdown":"Its unlikely to be due to a background thread-  the entire point of a background thread is that it happens on another timeslice so other threads don&#39;t become unresponsive.  Unless you have insane amounts of locking between them, your problem is elsewhere.  I&#39;d profile your app instead and see where your app is spending time.","body":"Its unlikely to be due to a background thread-  the entire point of a background thread is that it happens on another timeslice so other threads don&#39;t become unresponsive.  Unless you have insane amounts of locking between them, your problem is elsewhere.  I&#39;d profile your app instead and see where your app is spending time."},{"owner":{"account_id":13009440,"reputation":81,"user_id":9402979,"display_name":"Isidro Rodriguez"},"score":0,"creation_date":1685034431,"post_id":44254289,"comment_id":134608378,"body_markdown":"It could be due to memory leaks, too.","body":"It could be due to memory leaks, too."}],"answers":[{"comments":[{"owner":{"account_id":10471096,"reputation":9034,"user_id":7718924,"display_name":"York Shen"},"score":0,"creation_date":1496310093,"post_id":44254749,"comment_id":75613106,"body_markdown":"Try adb commands: adb kill-server and adb start-server, more adb commands details look at [this](https://developer.android.com/studio/command-line/adb.html?hl=ch-us)","body":"Try adb commands: adb kill-server and adb start-server, more adb commands details look at <a href=\"https://developer.android.com/studio/command-line/adb.html?hl=ch-us\" rel=\"nofollow noreferrer\">this</a>"}],"tags":[],"owner":{"account_id":10471096,"reputation":9034,"user_id":7718924,"display_name":"York Shen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496124739,"creation_date":1496124739,"answer_id":44254749,"question_id":44254289,"body_markdown":"You can use `DDMS` to monitor the `Threads` at runtime. Look at the `DDMS` [ document ][1].\r\n\r\n\r\n  [1]: https://developer.android.com/studio/profile/ddms.html#running","title":"How to see all the threads that are spawned by an android application","body":"<p>You can use <code>DDMS</code> to monitor the <code>Threads</code> at runtime. Look at the <code>DDMS</code> <a href=\"https://developer.android.com/studio/profile/ddms.html#running\" rel=\"nofollow noreferrer\"> document </a>.</p>\n"},{"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1496125980,"post_id":44255040,"comment_id":75518177,"body_markdown":"There&#39;s profilers built into android studio, no need to use home rolled inaccurate solutions like logs of time.","body":"There&#39;s profilers built into android studio, no need to use home rolled inaccurate solutions like logs of time."},{"owner":{"account_id":4732700,"reputation":2877,"user_id":3827850,"accept_rate":58,"display_name":"Ezio"},"score":0,"creation_date":1496126249,"post_id":44255040,"comment_id":75518328,"body_markdown":"@GabeSechan Can you help me on how to use those profilers","body":"@GabeSechan Can you help me on how to use those profilers"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1496126393,"post_id":44255040,"comment_id":75518407,"body_markdown":"@Ezio Way past my bedtime.  But start reading up on it at https://developer.android.com/studio/profile/traceview.html   It basically will keep track of how much time you spend in every function of your app, how many times they&#39;re all called, how much time is spend in functions called by every function, etc.  Its a valuable tool.  It will degrade performance a bit more while running it, but for this purpose it shouldn&#39;t matter.","body":"@Ezio Way past my bedtime.  But start reading up on it at <a href=\"https://developer.android.com/studio/profile/traceview.html\" rel=\"nofollow noreferrer\">developer.android.com/studio/profile/traceview.html</a>   It basically will keep track of how much time you spend in every function of your app, how many times they&#39;re all called, how much time is spend in functions called by every function, etc.  Its a valuable tool.  It will degrade performance a bit more while running it, but for this purpose it shouldn&#39;t matter."}],"tags":[],"owner":{"account_id":3864808,"reputation":1345,"user_id":3201586,"accept_rate":60,"display_name":"Ankit Khare"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496125871,"creation_date":1496125871,"answer_id":44255040,"question_id":44254289,"body_markdown":"I&#39;m not sure about how can you see threads but you can try following\r\n\r\n - Enable Strict mode in developer setting, you will see screen flashing red on heavy operations.\r\n - Add logs to your thread and print progress with time, by this you can know which method is taking time.\r\n\r\nMore on strict mode here:\r\nhttps://developer.android.com/reference/android/os/StrictMode.html\r\n\r\n ","title":"How to see all the threads that are spawned by an android application","body":"<p>I'm not sure about how can you see threads but you can try following</p>\n\n<ul>\n<li>Enable Strict mode in developer setting, you will see screen flashing red on heavy operations.</li>\n<li>Add logs to your thread and print progress with time, by this you can know which method is taking time.</li>\n</ul>\n\n<p>More on strict mode here:\n<a href=\"https://developer.android.com/reference/android/os/StrictMode.html\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/os/StrictMode.html</a></p>\n"},{"tags":[],"owner":{"account_id":10826624,"reputation":57,"user_id":7962346,"accept_rate":100,"display_name":"Sudhakar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496126488,"creation_date":1496126488,"answer_id":44255218,"question_id":44254289,"body_markdown":"You can use the build in tools to profile the app.\r\n\r\nSee here : https://developer.android.com/studio/profile/traceview.html","title":"How to see all the threads that are spawned by an android application","body":"<p>You can use the build in tools to profile the app.</p>\n\n<p>See here : <a href=\"https://developer.android.com/studio/profile/traceview.html\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/profile/traceview.html</a></p>\n"},{"tags":[],"owner":{"account_id":25067723,"reputation":1,"user_id":18921856,"display_name":"Khiladi Bhaiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684771653,"creation_date":1684771653,"answer_id":76308057,"question_id":44254289,"body_markdown":"I&#39;m not sure whether you can monitor the threads, but you may get the active Thread count of an app.\r\n\r\n```\r\nLog.d(&quot;ThreadCount : &quot;,&quot;&quot;+Thread.activeCount());\r\n```","title":"How to see all the threads that are spawned by an android application","body":"<p>I'm not sure whether you can monitor the threads, but you may get the active Thread count of an app.</p>\n<pre><code>Log.d(&quot;ThreadCount : &quot;,&quot;&quot;+Thread.activeCount());\n</code></pre>\n"}],"owner":{"account_id":4732700,"reputation":2877,"user_id":3827850,"accept_rate":58,"display_name":"Ezio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2798,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1684771653,"creation_date":1496122963,"question_id":44254289,"body_markdown":"I have an android application where I am performing some operations in background threads. For some reason my app becomes extremely slow and unresponsive after being used for few minutes. I am suspecting that it is because of some background thread, so I want to monitor the threads that my app is creating. However, I couldn&#39;t find a suitable tool where I can see and monitor those threads. Is there any way I monitor the background threads  at runtime.","title":"How to see all the threads that are spawned by an android application","body":"<p>I have an android application where I am performing some operations in background threads. For some reason my app becomes extremely slow and unresponsive after being used for few minutes. I am suspecting that it is because of some background thread, so I want to monitor the threads that my app is creating. However, I couldn't find a suitable tool where I can see and monitor those threads. Is there any way I monitor the background threads  at runtime.</p>\n"},{"tags":["java","spring","spring-boot","openapi","springdoc"],"comments":[{"owner":{"account_id":2580719,"reputation":5582,"user_id":2237467,"accept_rate":60,"display_name":"Snackoverflow"},"score":0,"creation_date":1646130070,"post_id":69310598,"comment_id":126042506,"body_markdown":"I have the same question. Did you find a solution? Also do you know *why* `&quot;nullable&quot;: true` hasn&#39;t been made the default for optional properties?","body":"I have the same question. Did you find a solution? Also do you know <i>why</i> <code>&quot;nullable&quot;: true</code> hasn&#39;t been made the default for optional properties?"},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1646150715,"post_id":69310598,"comment_id":126049914,"body_markdown":"@Snackoverflow I haven&#39;t found anything built-in, so I&#39;ve been using the [`OpenApiCustomizer`](https://stackoverflow.com/a/69310599/1108305) approach.  And I don&#39;t know why they made the decision to make things nullable by default.","body":"@Snackoverflow I haven&#39;t found anything built-in, so I&#39;ve been using the <a href=\"https://stackoverflow.com/a/69310599/1108305\"><code>OpenApiCustomizer</code></a> approach.  And I don&#39;t know why they made the decision to make things nullable by default."},{"owner":{"account_id":2580719,"reputation":5582,"user_id":2237467,"accept_rate":60,"display_name":"Snackoverflow"},"score":0,"creation_date":1646202819,"post_id":69310598,"comment_id":126062283,"body_markdown":"This is especially interesting for Kotlin, because there you have explicit nullable or non-nullable types. Turns out if you have a nullable property, then springdoc-openapi makes it optional (not required) but still not nullable. So according to the schema you can omit the property from JSON, but you may not have its value `null`. As of now, I am still not sure whether this is intended or a bug. Haven&#39;t really found any explanation online.","body":"This is especially interesting for Kotlin, because there you have explicit nullable or non-nullable types. Turns out if you have a nullable property, then springdoc-openapi makes it optional (not required) but still not nullable. So according to the schema you can omit the property from JSON, but you may not have its value <code>null</code>. As of now, I am still not sure whether this is intended or a bug. Haven&#39;t really found any explanation online."}],"answers":[{"comments":[{"owner":{"account_id":2580719,"reputation":5582,"user_id":2237467,"accept_rate":60,"display_name":"Snackoverflow"},"score":1,"creation_date":1646129917,"post_id":69310599,"comment_id":126042459,"body_markdown":"Note that you should handle `ComposedSchema` types differently. For example, if your schema has an `allOf` attribute with an object inside, the properties of that nested object should also be processed. The above code does not do so and just skips them because their `getProperties()` will return `null`.","body":"Note that you should handle <code>ComposedSchema</code> types differently. For example, if your schema has an <code>allOf</code> attribute with an object inside, the properties of that nested object should also be processed. The above code does not do so and just skips them because their <code>getProperties()</code> will return <code>null</code>."},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1646150786,"post_id":69310599,"comment_id":126049949,"body_markdown":"@Snackoverflow That is likely true, and something I&#39;ll have to play around with when I get the opportunity.  My code doesn&#39;t use `ComposedSchema` currently, so I haven&#39;t run into this myself.","body":"@Snackoverflow That is likely true, and something I&#39;ll have to play around with when I get the opportunity.  My code doesn&#39;t use <code>ComposedSchema</code> currently, so I haven&#39;t run into this myself."}],"tags":[],"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":2,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1632465597,"creation_date":1632465597,"answer_id":69310599,"question_id":69310598,"body_markdown":"One solution is to create a springdoc-openapi [`OpenApiCustomiser`](https://javadoc.io/static/org.springdoc/springdoc-openapi-common/1.5.10/org/springdoc/core/customizers/OpenApiCustomiser.html) Spring bean which sets all properties to `nullable` unless they are in the list of `required` properties.  This approach benefits from the built-in springdoc-openapi support for `@NotNull` and other such annotations, since the `required` property will have been calculated in the standard manner based on the presence of such properties.\r\n\r\n```lang-java\r\nimport io.swagger.v3.oas.models.OpenAPI;\r\nimport io.swagger.v3.oas.models.media.Schema;\r\nimport org.springdoc.core.customizers.OpenApiCustomiser;\r\nimport org.springframework.stereotype.Component;\r\nimport java.util.Map;\r\n\r\n@Component\r\npublic class NullableIfNotRequiredOpenApiCustomizer implements OpenApiCustomiser {\r\n    @Override\r\n    @SuppressWarnings({&quot;rawtypes&quot;, &quot;unchecked&quot;})\r\n    public void customise(OpenAPI openApi) {\r\n        for (Schema schema : openApi.getComponents().getSchemas().values()) {\r\n            if (schema.getProperties() == null) {\r\n                continue;\r\n            }\r\n\r\n            ((Map&lt;String, Schema&gt;) schema.getProperties()).forEach((String name, Schema value) -&gt; {\r\n                if (schema.getRequired() == null || !schema.getRequired().contains(name)) {\r\n                    value.setNullable(true);\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n```","title":"How can I make all optional OpenAPI parameters nullable using springdoc-openapi?","body":"<p>One solution is to create a springdoc-openapi <a href=\"https://javadoc.io/static/org.springdoc/springdoc-openapi-common/1.5.10/org/springdoc/core/customizers/OpenApiCustomiser.html\" rel=\"nofollow noreferrer\"><code>OpenApiCustomiser</code></a> Spring bean which sets all properties to <code>nullable</code> unless they are in the list of <code>required</code> properties.  This approach benefits from the built-in springdoc-openapi support for <code>@NotNull</code> and other such annotations, since the <code>required</code> property will have been calculated in the standard manner based on the presence of such properties.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import io.swagger.v3.oas.models.OpenAPI;\nimport io.swagger.v3.oas.models.media.Schema;\nimport org.springdoc.core.customizers.OpenApiCustomiser;\nimport org.springframework.stereotype.Component;\nimport java.util.Map;\n\n@Component\npublic class NullableIfNotRequiredOpenApiCustomizer implements OpenApiCustomiser {\n    @Override\n    @SuppressWarnings({&quot;rawtypes&quot;, &quot;unchecked&quot;})\n    public void customise(OpenAPI openApi) {\n        for (Schema schema : openApi.getComponents().getSchemas().values()) {\n            if (schema.getProperties() == null) {\n                continue;\n            }\n\n            ((Map&lt;String, Schema&gt;) schema.getProperties()).forEach((String name, Schema value) -&gt; {\n                if (schema.getRequired() == null || !schema.getRequired().contains(name)) {\n                    value.setNullable(true);\n                }\n            });\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1684771503,"post_id":76305114,"comment_id":134562047,"body_markdown":"Yep, that&#39;s something I mentioned in my question, and something I didn&#39;t want to have to do for every single property: &quot;It is trivial to manually mark any individual property as nullable: just add `@Schema(nullable = true)` to the field or accessor. However, in a large model with multiple properties, I would rather this be automatically determined in the same manner as the `required` property.&quot;","body":"Yep, that&#39;s something I mentioned in my question, and something I didn&#39;t want to have to do for every single property: &quot;It is trivial to manually mark any individual property as nullable: just add <code>@Schema(nullable = true)</code> to the field or accessor. However, in a large model with multiple properties, I would rather this be automatically determined in the same manner as the <code>required</code> property.&quot;"},{"owner":{"account_id":14598037,"reputation":1253,"user_id":10543130,"display_name":"usersina"},"score":0,"creation_date":1684772242,"post_id":76305114,"comment_id":134562236,"body_markdown":"Makes sense. In that case, I would consider creating an own custom class annotation that will apply the nullable part to all fields, if they don&#39;t have a `@Schema` annotation already. Not sure how much work that would be though.","body":"Makes sense. In that case, I would consider creating an own custom class annotation that will apply the nullable part to all fields, if they don&#39;t have a <code>@Schema</code> annotation already. Not sure how much work that would be though."}],"tags":[],"owner":{"account_id":14598037,"reputation":1253,"user_id":10543130,"display_name":"usersina"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684750272,"creation_date":1684750272,"answer_id":76305114,"question_id":69310598,"body_markdown":"You could directly annotate your attribute with `@Schema`. The key here is that both `nullable` and `requiredMode` will have to bet set.\r\n\r\n```java\r\nimport io.swagger.v3.oas.annotations.media.Schema;\r\nimport javax.validation.constraints.NotNull;\r\n\r\npublic class RequiredExample {\r\n    @NotNull\r\n    private String key;\r\n\r\n    @Schema(nullable = true, requiredMode = Schema.RequiredMode.REQUIRED)\r\n    private String value;\r\n\r\n    public String getKey() { return key; }\r\n    public void setKey(String key) { this.key = key; }\r\n    public String getValue() { return value; }\r\n    public void setValue(String value) { this.value = value; }\r\n}\r\n```\r\n\r\nFor some context, [this](https://github.com/anymaniax/orval/issues/862) was my exact use case.","title":"How can I make all optional OpenAPI parameters nullable using springdoc-openapi?","body":"<p>You could directly annotate your attribute with <code>@Schema</code>. The key here is that both <code>nullable</code> and <code>requiredMode</code> will have to bet set.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import io.swagger.v3.oas.annotations.media.Schema;\nimport javax.validation.constraints.NotNull;\n\npublic class RequiredExample {\n    @NotNull\n    private String key;\n\n    @Schema(nullable = true, requiredMode = Schema.RequiredMode.REQUIRED)\n    private String value;\n\n    public String getKey() { return key; }\n    public void setKey(String key) { this.key = key; }\n    public String getValue() { return value; }\n    public void setValue(String value) { this.value = value; }\n}\n</code></pre>\n<p>For some context, <a href=\"https://github.com/anymaniax/orval/issues/862\" rel=\"nofollow noreferrer\">this</a> was my exact use case.</p>\n"}],"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4587,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1684771448,"creation_date":1632465597,"question_id":69310598,"body_markdown":"The [springdoc-openapi](https://springdoc.org) library automatically marks certain properties as [required](https://swagger.io/docs/specification/data-models/data-types/#required) in the generated OpenAPI documentation.  For instance, properties annotated as `@NotNull` will be included in the list of required properties in the generated YAML file.\r\n\r\nOne thing the library does not do is mark optional properties as [`nullable: true`](https://swagger.io/docs/specification/data-models/data-types/#null).  However, by default a Spring Boot application will accept `null` in requests and return `null` in responses for optional properties.  This means that there is a discrepancy between the OpenAPI documentation and the behavior of the endpoint.\r\n\r\nIt is trivial to manually mark any individual property as nullable: just add `@Schema(nullable = true)` to the field or accessor.  However, in a large model with multiple properties, I would rather this be automatically determined in the same manner as the `required` property.  Namely, if the property is not required, I would want it to be `nullable`, and vice versa.\r\n\r\nHow can I get my optional properties marked as `nullable: true` in OpenAPI documentation generated by springdoc-openapi?\r\n\r\n## Example\r\n\r\n```lang-java\r\nimport io.swagger.v3.oas.annotations.media.Schema;\r\nimport javax.validation.constraints.NotNull;\r\n\r\npublic class RequiredExample {\r\n    @NotNull\r\n    private String key;\r\n\r\n    private String value;\r\n\r\n    public String getKey() { return key; }\r\n    public void setKey(String key) { this.key = key; }\r\n    public String getValue() { return value; }\r\n    public void setValue(String value) { this.value = value; }\r\n}\r\n```\r\n\r\n## Generated OpenAPI documentation:\r\n\r\n```lang-json\r\n&quot;components&quot;: {\r\n  &quot;schemas&quot;: {\r\n    &quot;RequiredExample&quot;: {\r\n      &quot;required&quot;: [\r\n        &quot;key&quot;\r\n      ],\r\n      &quot;type&quot;: &quot;object&quot;,\r\n      &quot;properties&quot;: {\r\n        &quot;key&quot;: {\r\n          &quot;type&quot;: &quot;string&quot;\r\n        },\r\n        &quot;value&quot;: {\r\n          &quot;type&quot;: &quot;string&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n## Desired OpenAPI documentation:\r\n\r\n```lang-json\r\n&quot;components&quot;: {\r\n  &quot;schemas&quot;: {\r\n    &quot;RequiredExample&quot;: {\r\n      &quot;required&quot;: [\r\n        &quot;key&quot;\r\n      ],\r\n      &quot;type&quot;: &quot;object&quot;,\r\n      &quot;properties&quot;: {\r\n        &quot;key&quot;: {\r\n          &quot;type&quot;: &quot;string&quot;\r\n        },\r\n        &quot;value&quot;: {\r\n          &quot;type&quot;: &quot;string&quot;\r\n          &quot;nullable&quot;: true\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n","title":"How can I make all optional OpenAPI parameters nullable using springdoc-openapi?","body":"<p>The <a href=\"https://springdoc.org\" rel=\"nofollow noreferrer\">springdoc-openapi</a> library automatically marks certain properties as <a href=\"https://swagger.io/docs/specification/data-models/data-types/#required\" rel=\"nofollow noreferrer\">required</a> in the generated OpenAPI documentation.  For instance, properties annotated as <code>@NotNull</code> will be included in the list of required properties in the generated YAML file.</p>\n<p>One thing the library does not do is mark optional properties as <a href=\"https://swagger.io/docs/specification/data-models/data-types/#null\" rel=\"nofollow noreferrer\"><code>nullable: true</code></a>.  However, by default a Spring Boot application will accept <code>null</code> in requests and return <code>null</code> in responses for optional properties.  This means that there is a discrepancy between the OpenAPI documentation and the behavior of the endpoint.</p>\n<p>It is trivial to manually mark any individual property as nullable: just add <code>@Schema(nullable = true)</code> to the field or accessor.  However, in a large model with multiple properties, I would rather this be automatically determined in the same manner as the <code>required</code> property.  Namely, if the property is not required, I would want it to be <code>nullable</code>, and vice versa.</p>\n<p>How can I get my optional properties marked as <code>nullable: true</code> in OpenAPI documentation generated by springdoc-openapi?</p>\n<h2>Example</h2>\n<pre class=\"lang-java prettyprint-override\"><code>import io.swagger.v3.oas.annotations.media.Schema;\nimport javax.validation.constraints.NotNull;\n\npublic class RequiredExample {\n    @NotNull\n    private String key;\n\n    private String value;\n\n    public String getKey() { return key; }\n    public void setKey(String key) { this.key = key; }\n    public String getValue() { return value; }\n    public void setValue(String value) { this.value = value; }\n}\n</code></pre>\n<h2>Generated OpenAPI documentation:</h2>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;components&quot;: {\n  &quot;schemas&quot;: {\n    &quot;RequiredExample&quot;: {\n      &quot;required&quot;: [\n        &quot;key&quot;\n      ],\n      &quot;type&quot;: &quot;object&quot;,\n      &quot;properties&quot;: {\n        &quot;key&quot;: {\n          &quot;type&quot;: &quot;string&quot;\n        },\n        &quot;value&quot;: {\n          &quot;type&quot;: &quot;string&quot;\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<h2>Desired OpenAPI documentation:</h2>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;components&quot;: {\n  &quot;schemas&quot;: {\n    &quot;RequiredExample&quot;: {\n      &quot;required&quot;: [\n        &quot;key&quot;\n      ],\n      &quot;type&quot;: &quot;object&quot;,\n      &quot;properties&quot;: {\n        &quot;key&quot;: {\n          &quot;type&quot;: &quot;string&quot;\n        },\n        &quot;value&quot;: {\n          &quot;type&quot;: &quot;string&quot;\n          &quot;nullable&quot;: true\n        }\n      }\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","spring-data","spring-data-elasticsearch"],"answers":[{"comments":[{"owner":{"account_id":1644520,"reputation":540,"user_id":1516291,"display_name":"Wang Tang"},"score":0,"creation_date":1684828725,"post_id":76307970,"comment_id":134570178,"body_markdown":"Thanks for the word of advice and the workaround hack, which we can use until we restructured to use different entities.","body":"Thanks for the word of advice and the workaround hack, which we can use until we restructured to use different entities."}],"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684771024,"creation_date":1684771024,"answer_id":76307970,"question_id":76307510,"body_markdown":"Don&#39;t use the same entity for multiple Spring Data modules. As you notice, this is an accident waiting to happen.\r\n\r\nYou could implement a `BeforeConvertCallback` (see the [reference documentation](https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.entity-callbacks)) and set the `myDate` property to null, so it won&#39;t be sent to Elasticsearch.","title":"Ignore property when persisting to ES, don&#39;t ignore when persisting to DB","body":"<p>Don't use the same entity for multiple Spring Data modules. As you notice, this is an accident waiting to happen.</p>\n<p>You could implement a <code>BeforeConvertCallback</code> (see the <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.entity-callbacks\" rel=\"nofollow noreferrer\">reference documentation</a>) and set the <code>myDate</code> property to null, so it won't be sent to Elasticsearch.</p>\n"}],"owner":{"account_id":1644520,"reputation":540,"user_id":1516291,"display_name":"Wang Tang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76307970,"answer_count":1,"score":0,"last_activity_date":1684771024,"creation_date":1684767759,"question_id":76307510,"body_markdown":"Using spring-data(-elasticsearch), I want to persist a property to a PSQL DB but not to Elasticsearch, i.e. the opposite to this question: https://stackoverflow.com/questions/71843478/spring-data-how-to-ignore-field-for-relational-database-but-not-in-elasticsearc\r\n\r\nIn other words:\r\n* when inserting this entity into ES, ignore `myDate`\r\n* when inserting this entity into a DB, persist `myDate`\r\n\r\n```java\r\n@Entity\r\n@Table(&quot;example&quot;)\r\n@Document(indexName = &quot;example&quot;)\r\npublic class Example implements Serializable {\r\n  \r\n  @Column(name = &quot;my_date&quot;)\r\n  @xyz\r\n  private Instant myDate;\r\n\r\n}\r\n```\r\n\r\nWhat should take the place of `@xyz` ? Is this possible at all?\r\n\r\n* `@org.springframework.data.annotation.Transient` excludes the property from both PSQL and ES\r\n* `@JsonIgnore` does nothing","title":"Ignore property when persisting to ES, don&#39;t ignore when persisting to DB","body":"<p>Using spring-data(-elasticsearch), I want to persist a property to a PSQL DB but not to Elasticsearch, i.e. the opposite to this question: <a href=\"https://stackoverflow.com/questions/71843478/spring-data-how-to-ignore-field-for-relational-database-but-not-in-elasticsearc\">Spring data: How to ignore field for relational database but not in elasticsearch?</a></p>\n<p>In other words:</p>\n<ul>\n<li>when inserting this entity into ES, ignore <code>myDate</code></li>\n<li>when inserting this entity into a DB, persist <code>myDate</code></li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(&quot;example&quot;)\n@Document(indexName = &quot;example&quot;)\npublic class Example implements Serializable {\n  \n  @Column(name = &quot;my_date&quot;)\n  @xyz\n  private Instant myDate;\n\n}\n</code></pre>\n<p>What should take the place of <code>@xyz</code> ? Is this possible at all?</p>\n<ul>\n<li><code>@org.springframework.data.annotation.Transient</code> excludes the property from both PSQL and ES</li>\n<li><code>@JsonIgnore</code> does nothing</li>\n</ul>\n"},{"tags":["javascript","java","node.js","spring","design-patterns"],"comments":[{"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1554827449,"post_id":55597337,"comment_id":97891218,"body_markdown":"Please take the [tour] (you get a badge!), have a look around, and read through the [help], in particular [*How do I ask a good question?*](/help/how-to-ask), [*What types of questions should I avoid asking?*](/help/dont-ask), and [*What topics can I ask about here?*](/help/on-topic) This question is **far** to broad and open-ended for SO&#39;s Q&amp;A format.","body":"Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> (you get a badge!), have a look around, and read through the <a href=\"https://stackoverflow.com/help\">help center</a>, in particular <a href=\"/help/how-to-ask\"><i>How do I ask a good question?</i></a>, <a href=\"/help/dont-ask\"><i>What types of questions should I avoid asking?</i></a>, and <a href=\"/help/on-topic\"><i>What topics can I ask about here?</i></a> This question is <b>far</b> to broad and open-ended for SO&#39;s Q&amp;A format."},{"owner":{"account_id":12536346,"reputation":980,"user_id":9122915,"accept_rate":50,"display_name":"Boudhayan Dev"},"score":0,"creation_date":1554827597,"post_id":55597337,"comment_id":97891276,"body_markdown":"Hi @T.J.Crowder. I can re-format the question if its needed. But I believe I am quite specific in my question. I am asking how can I refactor the above code by using layered architecture. If it is not possible, that&#39;s fine but if in case it is, I would like to know how.","body":"Hi @T.J.Crowder. I can re-format the question if its needed. But I believe I am quite specific in my question. I am asking how can I refactor the above code by using layered architecture. If it is not possible, that&#39;s fine but if in case it is, I would like to know how."},{"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":2,"creation_date":1554827850,"post_id":55597337,"comment_id":97891413,"body_markdown":"The format of the question isn&#39;t the problem, the content of the question is. There are hundreds of different possible equally-valid answers. The Node.js ecosystem is rich and varied, there&#39;s no one way you do this. Please do see the links above, in particular [this one](/help/dont-ask). It&#39;s not that it&#39;s not a perfectly reasonable question to ask, it&#39;s just not suited to the format of *this* site.","body":"The format of the question isn&#39;t the problem, the content of the question is. There are hundreds of different possible equally-valid answers. The Node.js ecosystem is rich and varied, there&#39;s no one way you do this. Please do see the links above, in particular <a href=\"/help/dont-ask\">this one</a>. It&#39;s not that it&#39;s not a perfectly reasonable question to ask, it&#39;s just not suited to the format of <i>this</i> site."},{"owner":{"account_id":4443400,"reputation":19150,"user_id":3617380,"display_name":"hackape"},"score":0,"creation_date":1554828486,"post_id":55597337,"comment_id":97891722,"body_markdown":"Although I&#39;d personally love to see some discussions on this topic, this question is indeed quite broad, that could need a series of blogs to properly answer. Paradigm introduce by framework like spring boot is more or less language agnostic. You might as well ask, how is spring boot designed so to make such layered architecture possible, in java, without even mentioning js. Knowing that answer, I could probably write a similar framework from scratch in js then.","body":"Although I&#39;d personally love to see some discussions on this topic, this question is indeed quite broad, that could need a series of blogs to properly answer. Paradigm introduce by framework like spring boot is more or less language agnostic. You might as well ask, how is spring boot designed so to make such layered architecture possible, in java, without even mentioning js. Knowing that answer, I could probably write a similar framework from scratch in js then."},{"owner":{"account_id":12536346,"reputation":980,"user_id":9122915,"accept_rate":50,"display_name":"Boudhayan Dev"},"score":0,"creation_date":1554828742,"post_id":55597337,"comment_id":97891853,"body_markdown":"@hackape makes sense. But in that case, how do you handle large NodeJS projects ? Or NodeJs not used at the same scale as that of Java ?","body":"@hackape makes sense. But in that case, how do you handle large NodeJS projects ? Or NodeJs not used at the same scale as that of Java ?"},{"owner":{"account_id":4443400,"reputation":19150,"user_id":3617380,"display_name":"hackape"},"score":0,"creation_date":1554828837,"post_id":55597337,"comment_id":97891895,"body_markdown":"Not like it&#39;s a bad question through. @TJCrowder Just curious, where do you suggest to be a proper place to raise a question like this one?","body":"Not like it&#39;s a bad question through. @TJCrowder Just curious, where do you suggest to be a proper place to raise a question like this one?"},{"owner":{"account_id":9685119,"reputation":6500,"user_id":7185241,"display_name":"1565986223"},"score":1,"creation_date":1554828862,"post_id":55597337,"comment_id":97891913,"body_markdown":"similar question is discussed to some extent here https://stackoverflow.com/questions/5178334/folder-structure-for-a-node-js-project","body":"similar question is discussed to some extent here <a href=\"https://stackoverflow.com/questions/5178334/folder-structure-for-a-node-js-project\" title=\"folder structure for a node js project\">stackoverflow.com/questions/5178334/&hellip;</a>"},{"owner":{"account_id":12536346,"reputation":980,"user_id":9122915,"accept_rate":50,"display_name":"Boudhayan Dev"},"score":0,"creation_date":1554829335,"post_id":55597337,"comment_id":97892120,"body_markdown":"Hi @naga-elixir-jar, This is more of code organization rather than logic separation. The top comment suggests we move our ORM models to a separate folder and express endpoints to controller. But the original problem still persists. The Business logic to handle the DB call is still being performed in the controller.","body":"Hi @naga-elixir-jar, This is more of code organization rather than logic separation. The top comment suggests we move our ORM models to a separate folder and express endpoints to controller. But the original problem still persists. The Business logic to handle the DB call is still being performed in the controller."},{"owner":{"account_id":4443400,"reputation":19150,"user_id":3617380,"display_name":"hackape"},"score":1,"creation_date":1554829417,"post_id":55597337,"comment_id":97892154,"body_markdown":"Hmm, I&#39;m not the best guy to answer your question. Not that experienced in backend js, but I&#39;ll try. Js community embrace things that&#39;s light-weighted. We got runtime that has native support for first class function, event loop and such. This way we tend to naturally seek solution in patterns like pipeline chaining, observable stream, pub/sub. We too have separation of concern, but just not like java style.","body":"Hmm, I&#39;m not the best guy to answer your question. Not that experienced in backend js, but I&#39;ll try. Js community embrace things that&#39;s light-weighted. We got runtime that has native support for first class function, event loop and such. This way we tend to naturally seek solution in patterns like pipeline chaining, observable stream, pub/sub. We too have separation of concern, but just not like java style."},{"owner":{"account_id":4443400,"reputation":19150,"user_id":3617380,"display_name":"hackape"},"score":0,"creation_date":1554829673,"post_id":55597337,"comment_id":97892268,"body_markdown":"Take express.js app for example. You can have multiple layers of middlewares handling one request. You can delegate to external service in middleware. You could say that our style is more functional-ish, as opposed to object oriented.","body":"Take express.js app for example. You can have multiple layers of middlewares handling one request. You can delegate to external service in middleware. You could say that our style is more functional-ish, as opposed to object oriented."},{"owner":{"account_id":12536346,"reputation":980,"user_id":9122915,"accept_rate":50,"display_name":"Boudhayan Dev"},"score":0,"creation_date":1554829883,"post_id":55597337,"comment_id":97892377,"body_markdown":"@hackape . I made myself familiar with those patterns but somehow I still can&#39;t understand how Node handles code re-use. For ex- in Java, Say I have a service class which returns Users whose status is True. And in one controller class, I will be returning that. Now, if need arises to include another controller class that needs to return users whose status is True but only limit the returned values to top 5, then that controller ca re-use the existing service. I don&#39;t know how this can be done in Node though !! Only way is to create a function which can be referenced by multiple endpoints.","body":"@hackape . I made myself familiar with those patterns but somehow I still can&#39;t understand how Node handles code re-use. For ex- in Java, Say I have a service class which returns Users whose status is True. And in one controller class, I will be returning that. Now, if need arises to include another controller class that needs to return users whose status is True but only limit the returned values to top 5, then that controller ca re-use the existing service. I don&#39;t know how this can be done in Node though !! Only way is to create a function which can be referenced by multiple endpoints."},{"owner":{"account_id":12536346,"reputation":980,"user_id":9122915,"accept_rate":50,"display_name":"Boudhayan Dev"},"score":0,"creation_date":1554830249,"post_id":55597337,"comment_id":97892542,"body_markdown":"Found similar discussion on SO - https://stackoverflow.com/questions/41875617/building-enterprise-app-with-node-express","body":"Found similar discussion on SO - <a href=\"https://stackoverflow.com/questions/41875617/building-enterprise-app-with-node-express\" title=\"building enterprise app with node express\">stackoverflow.com/questions/41875617/&hellip;</a>"},{"owner":{"account_id":4443400,"reputation":19150,"user_id":3617380,"display_name":"hackape"},"score":0,"creation_date":1554830288,"post_id":55597337,"comment_id":97892558,"body_markdown":"^ you know what, this is a concrete question to ask. Why not rephrase your question and add some java code example, then we discuss what&#39;s the mainstream js way to tackle the code re-use problem.","body":"^ you know what, this is a concrete question to ask. Why not rephrase your question and add some java code example, then we discuss what&#39;s the mainstream js way to tackle the code re-use problem."},{"owner":{"account_id":12536346,"reputation":980,"user_id":9122915,"accept_rate":50,"display_name":"Boudhayan Dev"},"score":0,"creation_date":1554831278,"post_id":55597337,"comment_id":97893011,"body_markdown":"@hackape Edited. Please take a look.","body":"@hackape Edited. Please take a look."},{"owner":{"account_id":1042959,"reputation":638693,"user_id":1048572,"accept_rate":77,"display_name":"Bergi"},"score":1,"creation_date":1554832587,"post_id":55597337,"comment_id":97893604,"body_markdown":"&quot;*Only way is to create a function which can be referenced by multiple endpoints.*&quot; - yes, that&#39;s precisely what you would do. (When need arises, otherwise YAGNI). You can put such functions in their own modules, files, or even write them as classes if you prefer that. I don&#39;t understand why you think this is not sufficient or scalable, or why you don&#39;t consider it to separate concerns.","body":"&quot;<i>Only way is to create a function which can be referenced by multiple endpoints.</i>&quot; - yes, that&#39;s precisely what you would do. (When need arises, otherwise YAGNI). You can put such functions in their own modules, files, or even write them as classes if you prefer that. I don&#39;t understand why you think this is not sufficient or scalable, or why you don&#39;t consider it to separate concerns."},{"owner":{"account_id":12536346,"reputation":980,"user_id":9122915,"accept_rate":50,"display_name":"Boudhayan Dev"},"score":0,"creation_date":1554864091,"post_id":55597337,"comment_id":97903273,"body_markdown":"@Bergi The reason is simple. Either I will have all or none. I do not want to hand-pick functions for pieces of logic that I feel could be re-used in the future. Either that should be the norm i.e write the business logic in functions and call them from the controllers or we do not have them at all and continue with the existing model. Selecting pieces of code here and there and wrapping them into functions does not actually seem very nice. There has to be a standard way to do this.","body":"@Bergi The reason is simple. Either I will have all or none. I do not want to hand-pick functions for pieces of logic that I feel could be re-used in the future. Either that should be the norm i.e write the business logic in functions and call them from the controllers or we do not have them at all and continue with the existing model. Selecting pieces of code here and there and wrapping them into functions does not actually seem very nice. There has to be a standard way to do this."},{"owner":{"account_id":4443400,"reputation":19150,"user_id":3617380,"display_name":"hackape"},"score":0,"creation_date":1554868153,"post_id":55597337,"comment_id":97904116,"body_markdown":"@BouhayanDev one of the thing that throw me away in java is, you&#39;re *forced* to create a class before using a function. I don&#39;t get the point why *grouping* functions within class suddenly make it more reusable. I&#39;m happy with scattered functions loosely grouped by well-named files, aka modules in js. Don&#39;t take me wrong, it&#39;s just I genuinely don&#39;t see the difference. What&#39;s the fundamental upside of using a class as a &quot;foldler&quot; against modules.","body":"@BouhayanDev one of the thing that throw me away in java is, you&#39;re <i>forced</i> to create a class before using a function. I don&#39;t get the point why <i>grouping</i> functions within class suddenly make it more reusable. I&#39;m happy with scattered functions loosely grouped by well-named files, aka modules in js. Don&#39;t take me wrong, it&#39;s just I genuinely don&#39;t see the difference. What&#39;s the fundamental upside of using a class as a &quot;foldler&quot; against modules."},{"owner":{"account_id":4443400,"reputation":19150,"user_id":3617380,"display_name":"hackape"},"score":0,"creation_date":1554868341,"post_id":55597337,"comment_id":97904155,"body_markdown":"However I do see upside of this function-all-over-the-place approach: I get to compose/composite them freely w/o worrying about their owning class. To me that seems much more reusable.","body":"However I do see upside of this function-all-over-the-place approach: I get to compose/composite them freely w/o worrying about their owning class. To me that seems much more reusable."},{"owner":{"account_id":12536346,"reputation":980,"user_id":9122915,"accept_rate":50,"display_name":"Boudhayan Dev"},"score":0,"creation_date":1554868374,"post_id":55597337,"comment_id":97904162,"body_markdown":"@hackape It just derives from the OOPS concept where the reasoning goes something like this - functions are analogous to behaviors whereas classes are analogous to real-life entities (ex TV, projector etc). Now, does it make sense to allow functionality without defining the container/owner of the functionality ? It doesn&#39;t. Hence this bundling of functions in class. However, I will agree with you, functionality wise there does not seem to be an issue whether I use module/class to hold my functions","body":"@hackape It just derives from the OOPS concept where the reasoning goes something like this - functions are analogous to behaviors whereas classes are analogous to real-life entities (ex TV, projector etc). Now, does it make sense to allow functionality without defining the container/owner of the functionality ? It doesn&#39;t. Hence this bundling of functions in class. However, I will agree with you, functionality wise there does not seem to be an issue whether I use module/class to hold my functions"},{"owner":{"account_id":4443400,"reputation":19150,"user_id":3617380,"display_name":"hackape"},"score":0,"creation_date":1554869534,"post_id":55597337,"comment_id":97904413,"body_markdown":"@BoudhayanDev my day job is authoring large scale web app, like WebIDE. I also find it more natural in many scenarios to use class, esp when exposing APIs to other parties. This upside roots in 2 reasons, a) state persistency, b) classes are indexed/symbolised/searchable in IDE, while files are not.","body":"@BoudhayanDev my day job is authoring large scale web app, like WebIDE. I also find it more natural in many scenarios to use class, esp when exposing APIs to other parties. This upside roots in 2 reasons, a) state persistency, b) classes are indexed/symbolised/searchable in IDE, while files are not."},{"owner":{"account_id":4443400,"reputation":19150,"user_id":3617380,"display_name":"hackape"},"score":2,"creation_date":1554869861,"post_id":55597337,"comment_id":97904493,"body_markdown":"I think you are feeling conceptual discomfort facing multi-paradigm goodness in js land. Java does have some burden going functional programming, but not in js. FP or OOP, I just go with whichever fits, depending on use case.","body":"I think you are feeling conceptual discomfort facing multi-paradigm goodness in js land. Java does have some burden going functional programming, but not in js. FP or OOP, I just go with whichever fits, depending on use case."},{"owner":{"account_id":12536346,"reputation":980,"user_id":9122915,"accept_rate":50,"display_name":"Boudhayan Dev"},"score":0,"creation_date":1554871349,"post_id":55597337,"comment_id":97904848,"body_markdown":"Yes that is the case here. i was thinking of replicating an existing Spring application using Node. But seems like Node was coupling all the layers into one single file. But I&#39;ll try destructuring it.","body":"Yes that is the case here. i was thinking of replicating an existing Spring application using Node. But seems like Node was coupling all the layers into one single file. But I&#39;ll try destructuring it."},{"owner":{"account_id":1042959,"reputation":638693,"user_id":1048572,"accept_rate":77,"display_name":"Bergi"},"score":0,"creation_date":1554883609,"post_id":55597337,"comment_id":97909915,"body_markdown":"@BoudhayanDev &quot;*Either I will have all or none.*&quot; - well if you want, you can of course always put everything in separate functions. It&#39;s just a convention, and you are encouraged to do what you feel comfortable with. The advantage of a loose style (instead of being forced by a framework to follow a particular model) is that it scales much better from simple and inlined to complex and separated. You only use what you need.","body":"@BoudhayanDev &quot;<i>Either I will have all or none.</i>&quot; - well if you want, you can of course always put everything in separate functions. It&#39;s just a convention, and you are encouraged to do what you feel comfortable with. The advantage of a loose style (instead of being forced by a framework to follow a particular model) is that it scales much better from simple and inlined to complex and separated. You only use what you need."}],"answers":[{"comments":[{"owner":{"account_id":12536346,"reputation":980,"user_id":9122915,"accept_rate":50,"display_name":"Boudhayan Dev"},"score":0,"creation_date":1554866966,"post_id":55598866,"comment_id":97903837,"body_markdown":"This would definitely work. But yes, I&#39;ll agree with you here that using classes to structure code in Node seems an ugly version of Java :p What I would like to know, is this really how large projects in Node are handled ? Or am I wrong in assuming the importance of layered architecture. Also, by &#39;it doesn&#39;t scale&#39; in my earlier comment I meant that, for me to separate out the logic from controller, I will need to write all that logic in a service class/function. But this abstraction needs to be done for all cases where there is a business logic. We can&#39;t cherry-pick function as we want","body":"This would definitely work. But yes, I&#39;ll agree with you here that using classes to structure code in Node seems an ugly version of Java :p What I would like to know, is this really how large projects in Node are handled ? Or am I wrong in assuming the importance of layered architecture. Also, by &#39;it doesn&#39;t scale&#39; in my earlier comment I meant that, for me to separate out the logic from controller, I will need to write all that logic in a service class/function. But this abstraction needs to be done for all cases where there is a business logic. We can&#39;t cherry-pick function as we want"},{"owner":{"account_id":12536346,"reputation":980,"user_id":9122915,"accept_rate":50,"display_name":"Boudhayan Dev"},"score":0,"creation_date":1554867164,"post_id":55598866,"comment_id":97903880,"body_markdown":"Also, what are your thoughts regarding the DB related ops ? Like if I have to persist/fetch something from DB, I will invoke the sql client connector and execute the query in NodeJs. This piece of logic can go directly in the service class. Is there a way to abstract this as well ? So, I am assuming to mock the repository behavior, we can create another module that basically has all the CRUD operations defined for a particular Entity in the form of functions. And these functions are then invoked in service layer. Then there would be clear separation of - Controller -&gt; Service -&gt; Repo ?","body":"Also, what are your thoughts regarding the DB related ops ? Like if I have to persist/fetch something from DB, I will invoke the sql client connector and execute the query in NodeJs. This piece of logic can go directly in the service class. Is there a way to abstract this as well ? So, I am assuming to mock the repository behavior, we can create another module that basically has all the CRUD operations defined for a particular Entity in the form of functions. And these functions are then invoked in service layer. Then there would be clear separation of - Controller -&gt; Service -&gt; Repo ?"},{"owner":{"account_id":12536346,"reputation":980,"user_id":9122915,"accept_rate":50,"display_name":"Boudhayan Dev"},"score":0,"creation_date":1554867300,"post_id":55598866,"comment_id":97903923,"body_markdown":"Lastly, why don&#39;t NodeJs tutorials/resources talk about this ? Is it  because Node isn&#39;t used for large scale projects where such problems would be encountered or there is an alternative strategy to handle such problems ?","body":"Lastly, why don&#39;t NodeJs tutorials/resources talk about this ? Is it  because Node isn&#39;t used for large scale projects where such problems would be encountered or there is an alternative strategy to handle such problems ?"},{"owner":{"account_id":4443400,"reputation":19150,"user_id":3617380,"display_name":"hackape"},"score":0,"creation_date":1554870439,"post_id":55598866,"comment_id":97904619,"body_markdown":"@BoudhayanDev 1. Hopefully answered in the comments under the question, don&#39;t see why cherry-pick fn unacceptable, maybe you just want to pass a bunch of related functions all at once, in that case you can wrap them in a plain object.","body":"@BoudhayanDev 1. Hopefully answered in the comments under the question, don&#39;t see why cherry-pick fn unacceptable, maybe you just want to pass a bunch of related functions all at once, in that case you can wrap them in a plain object."},{"owner":{"account_id":4443400,"reputation":19150,"user_id":3617380,"display_name":"hackape"},"score":0,"creation_date":1554870566,"post_id":55598866,"comment_id":97904655,"body_markdown":"@BoudhayanDev 2. I personally agree w/ your &quot;assumption&quot;, but again, im more a frontend guy, not best guy to answer.","body":"@BoudhayanDev 2. I personally agree w/ your &quot;assumption&quot;, but again, im more a frontend guy, not best guy to answer."},{"owner":{"account_id":4443400,"reputation":19150,"user_id":3617380,"display_name":"hackape"},"score":0,"creation_date":1554870995,"post_id":55598866,"comment_id":97904749,"body_markdown":"@BoudhayanDev 3. 2 reasons, 1st maybe they did talk about these, like in the other SO post you found, but you just don&#39;t recognize cus them looks unlike spring boot. 2nd such &quot;rigid&quot; and commonly agreed approach doesn&#39;t exist in js, in java this is prominent largely because spring boot is so dominant, and plus it&#39;s battery included. Express.js is dominated but no battery included, so everyone brings their own battery. Because the ease of multi-paradigm in js. People tend to use whatever solves their problem. Spring boot-ish setup for small project is simple overkill.","body":"@BoudhayanDev 3. 2 reasons, 1st maybe they did talk about these, like in the other SO post you found, but you just don&#39;t recognize cus them looks unlike spring boot. 2nd such &quot;rigid&quot; and commonly agreed approach doesn&#39;t exist in js, in java this is prominent largely because spring boot is so dominant, and plus it&#39;s battery included. Express.js is dominated but no battery included, so everyone brings their own battery. Because the ease of multi-paradigm in js. People tend to use whatever solves their problem. Spring boot-ish setup for small project is simple overkill."},{"owner":{"account_id":4443400,"reputation":19150,"user_id":3617380,"display_name":"hackape"},"score":0,"creation_date":1554871320,"post_id":55598866,"comment_id":97904833,"body_markdown":"And btw you&#39;re wrong about nodejs not for large-scale. taobao.com (Chinese amazon) use nodejs extensively. Imagine their PV and complexity.","body":"And btw you&#39;re wrong about nodejs not for large-scale. taobao.com (Chinese amazon) use nodejs extensively. Imagine their PV and complexity."},{"owner":{"account_id":12536346,"reputation":980,"user_id":9122915,"accept_rate":50,"display_name":"Boudhayan Dev"},"score":0,"creation_date":1554871691,"post_id":55598866,"comment_id":97904934,"body_markdown":"Like I said, I do not have much experience in Node so cannot say whether it is the right tool for big projects but having read your answers I agree that Node/Express has its own way to handle things. This reminds of another framework that I tried out couple of years back - called Flask (in Python). This pattern of not enforcing strict responsibilities to classes/functions seems to be common in all dynamically typed languages. I guess I&#39;ll just adapt to the Node way of doing things rather than trying to complicate it by following Java&#39;s code structuring.","body":"Like I said, I do not have much experience in Node so cannot say whether it is the right tool for big projects but having read your answers I agree that Node/Express has its own way to handle things. This reminds of another framework that I tried out couple of years back - called Flask (in Python). This pattern of not enforcing strict responsibilities to classes/functions seems to be common in all dynamically typed languages. I guess I&#39;ll just adapt to the Node way of doing things rather than trying to complicate it by following Java&#39;s code structuring."},{"owner":{"account_id":4443400,"reputation":19150,"user_id":3617380,"display_name":"hackape"},"score":0,"creation_date":1554872217,"post_id":55598866,"comment_id":97905050,"body_markdown":"@Boudhayan Dev yeah sure. It&#39;s always good to try out new stuff, broadens your horizon.","body":"@Boudhayan Dev yeah sure. It&#39;s always good to try out new stuff, broadens your horizon."},{"owner":{"account_id":3168547,"reputation":436,"user_id":2678033,"display_name":"bigkahunaburger"},"score":0,"creation_date":1555585360,"post_id":55598866,"comment_id":98166033,"body_markdown":"Yes, just do it nodejs way. By interpolating another layer of complexity with the node apps to follow some other architectural principle is not justified imho.\n\nYou can ofc abstract out per-Entity service layer classes, but due to what dynamic nature of language offers you, and what the driver you are using for DB is, you can also get fair amount of metadata for generating these classes.\n\nYou should take a look at knex.js and see what that can do for you ;)","body":"Yes, just do it nodejs way. By interpolating another layer of complexity with the node apps to follow some other architectural principle is not justified imho.  You can ofc abstract out per-Entity service layer classes, but due to what dynamic nature of language offers you, and what the driver you are using for DB is, you can also get fair amount of metadata for generating these classes.  You should take a look at knex.js and see what that can do for you ;)"}],"tags":[],"owner":{"account_id":4443400,"reputation":19150,"user_id":3617380,"display_name":"hackape"},"comment_count":10,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554835654,"creation_date":1554833621,"answer_id":55598866,"question_id":55597337,"body_markdown":"UserService.js\r\n```\r\nimport { userDetailRepository } from &#39;../models/user&#39;;\r\n\r\nclass UserService {\r\n    getUserDetail (status) {\r\n        const userDetail  = UserDetailRepository.findUserDetailByStatus(status);\r\n        return userDetail;\r\n    }\r\n}\r\n\r\nexport const userService = new UserService();\r\n```\r\n\r\nUserController.js\r\n```\r\nimport { userService } from &#39;../services/user&#39;;\r\n\r\n@RouterAdapter\r\nclass UserController {\r\n  @GetMapping(&quot;/getUserDetails&quot;)\r\n  getUserDetail() {\r\n    return userService.getUserDetail(true);\r\n  }\r\n  @GetMapping(&quot;/getUserDetailsTop10&quot;)\r\n  getUserDetailsTop10() {\r\n    return userService.getUserDetail(true).slice(10);\r\n  }\r\n}\r\n\r\nexport const userController = new UserController();\r\n```\r\n\r\napp.js\r\n```\r\nimport * as express from &#39;express&#39;;\r\nimport { userController } from &#39;./controllers/user&#39;;\r\n\r\nconst app = express();\r\napp.set(&#39;view engine&#39;,&#39;hbs&#39;);\r\n\r\napp.use(userController);\r\n\r\napp.listen(3000, () =&gt; {\r\n    console.log(&quot;Started server on port : 3000&quot;);\r\n});\r\n```\r\n\r\nI intentionally &quot;warp&quot; my js code to match with java style so perhaps you feel at home. Personally I don&#39;t write js this way, I prefer using function way more than class.\r\n\r\nI did not include the implementation of two decorators (`@RouterAdapter, @GetMapping`) I used, that&#39;s a detail not related to the discussion. I can assure you this is doable in js. The only thing missing is that js doesn&#39;t have runtime method overload, so I have to name 2 diff controller methods.\r\n\r\nThe point I&#39;m making here is that design patterns are mostly language agnostic. If you&#39;re familiar with the lang, you can always find a way to handle separation of concern well.\r\n\r\nNow I intentionally use class in above example, but a function acting as a UserService doesn&#39;t make it less reusable. I don&#39;t see why you think &quot;it doesn&#39;t scale&quot;.","title":"How to apply layered architecture of Java/Spring in NodeJs?","body":"<p>UserService.js</p>\n\n<pre><code>import { userDetailRepository } from '../models/user';\n\nclass UserService {\n    getUserDetail (status) {\n        const userDetail  = UserDetailRepository.findUserDetailByStatus(status);\n        return userDetail;\n    }\n}\n\nexport const userService = new UserService();\n</code></pre>\n\n<p>UserController.js</p>\n\n<pre><code>import { userService } from '../services/user';\n\n@RouterAdapter\nclass UserController {\n  @GetMapping(\"/getUserDetails\")\n  getUserDetail() {\n    return userService.getUserDetail(true);\n  }\n  @GetMapping(\"/getUserDetailsTop10\")\n  getUserDetailsTop10() {\n    return userService.getUserDetail(true).slice(10);\n  }\n}\n\nexport const userController = new UserController();\n</code></pre>\n\n<p>app.js</p>\n\n<pre><code>import * as express from 'express';\nimport { userController } from './controllers/user';\n\nconst app = express();\napp.set('view engine','hbs');\n\napp.use(userController);\n\napp.listen(3000, () =&gt; {\n    console.log(\"Started server on port : 3000\");\n});\n</code></pre>\n\n<p>I intentionally \"warp\" my js code to match with java style so perhaps you feel at home. Personally I don't write js this way, I prefer using function way more than class.</p>\n\n<p>I did not include the implementation of two decorators (<code>@RouterAdapter, @GetMapping</code>) I used, that's a detail not related to the discussion. I can assure you this is doable in js. The only thing missing is that js doesn't have runtime method overload, so I have to name 2 diff controller methods.</p>\n\n<p>The point I'm making here is that design patterns are mostly language agnostic. If you're familiar with the lang, you can always find a way to handle separation of concern well.</p>\n\n<p>Now I intentionally use class in above example, but a function acting as a UserService doesn't make it less reusable. I don't see why you think \"it doesn't scale\".</p>\n"},{"comments":[{"owner":{"account_id":12536346,"reputation":980,"user_id":9122915,"accept_rate":50,"display_name":"Boudhayan Dev"},"score":0,"creation_date":1554867525,"post_id":55599266,"comment_id":97903977,"body_markdown":"Hi. This approach would work. At least we have separated out the BL from controller. But what would you suggest to further split out the service module ? So, in my opinion it is always better to keep the DB related queries in a separate module/class. For ex - getUsers, saveUsers, getUserByID etc are all DB (ORM or otherwise) queries. So, if I am separating this out, does it make sense to introduce another module to abstract these queries ? Because I am not sure if using modules is the right way to do it mainly because I am new to JS. But I would love to know your thoughts.","body":"Hi. This approach would work. At least we have separated out the BL from controller. But what would you suggest to further split out the service module ? So, in my opinion it is always better to keep the DB related queries in a separate module/class. For ex - getUsers, saveUsers, getUserByID etc are all DB (ORM or otherwise) queries. So, if I am separating this out, does it make sense to introduce another module to abstract these queries ? Because I am not sure if using modules is the right way to do it mainly because I am new to JS. But I would love to know your thoughts."},{"owner":{"account_id":3168547,"reputation":436,"user_id":2678033,"display_name":"bigkahunaburger"},"score":0,"creation_date":1555585003,"post_id":55599266,"comment_id":98165835,"body_markdown":"It&#39;s not particularly tied to modules the thing that you are trying to achieve. It&#39;s related to your architectural decisions.\n\nIn my example, I have put ```await db.find(&#39;users&#39;, {...})``` in comment, but haven&#39;t said where it comes from. \nCertainly at the top of your module, you would have to ```require(&#39;./db&#39;)```, and in db.js module, implement your logic against database. Would it be implementing ORM or just using driver directly, it&#39;s up to you. But you would have to expose something out for BL. Hope it got that cleared out. Feel free to ask more.","body":"It&#39;s not particularly tied to modules the thing that you are trying to achieve. It&#39;s related to your architectural decisions.  In my example, I have put <code>await db.find(&#39;users&#39;, {...})</code> in comment, but haven&#39;t said where it comes from.  Certainly at the top of your module, you would have to <code>require(&#39;.&#47;db&#39;)</code>, and in db.js module, implement your logic against database. Would it be implementing ORM or just using driver directly, it&#39;s up to you. But you would have to expose something out for BL. Hope it got that cleared out. Feel free to ask more."}],"tags":[],"owner":{"account_id":3168547,"reputation":436,"user_id":2678033,"display_name":"bigkahunaburger"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554835151,"creation_date":1554835151,"answer_id":55599266,"question_id":55597337,"body_markdown":"An idea:\r\n\r\n    const express = require(&#39;express&#39;);\r\n\r\n    const app = express();\r\n    const { userDetails } = require(&#39;./usersBusinessLogic.js&#39;)\r\n    app.set(&#39;view engine&#39;,&#39;hbs&#39;);\r\n\r\n    app.get(&#39;/getUserDetails&#39;, async (req, res) =&gt;{\r\n      const limit = parseInt(req.query.limit || &#39;0&#39;)\r\n      if (IsNaN(limit)) {\r\n        res.status(400)\r\n        return res.end(&#39;limit expected to be a number&#39;)\r\n      }\r\n      const detailsResponse = await userDetails({ limit })\r\n      res.send();\r\n    });\r\nAnd then you write your logic as `function userDetails({ limit, ...rest } = { limit: 0 })`.\r\n\r\nIn another file i.e. `usersBusinessLogic.js`:\r\n\r\n    async function userDetails({ limit, ...restOfTheOptions } = { limit: 0 }) {\r\n      console.log({ limit, restOfTheOptions }) // TODO logic here.\r\n      // const result = await db.find(&#39;users&#39;, {...})\r\n      // return serialize(result)\r\n    }\r\n    \r\n    // function serialize(result) {\r\n    //  return JSON.stringify(result)\r\n    // }\r\n    \r\n    module.exports = {\r\n      userDetails\r\n    }\r\n\r\nAfter which you can call `GET /userDetails` or `GET /userDetails?limit=10`.\r\n\r\nLet me know what do you think.\r\n\r\n","title":"How to apply layered architecture of Java/Spring in NodeJs?","body":"<p>An idea:</p>\n\n<pre><code>const express = require('express');\n\nconst app = express();\nconst { userDetails } = require('./usersBusinessLogic.js')\napp.set('view engine','hbs');\n\napp.get('/getUserDetails', async (req, res) =&gt;{\n  const limit = parseInt(req.query.limit || '0')\n  if (IsNaN(limit)) {\n    res.status(400)\n    return res.end('limit expected to be a number')\n  }\n  const detailsResponse = await userDetails({ limit })\n  res.send();\n});\n</code></pre>\n\n<p>And then you write your logic as <code>function userDetails({ limit, ...rest } = { limit: 0 })</code>.</p>\n\n<p>In another file i.e. <code>usersBusinessLogic.js</code>:</p>\n\n<pre><code>async function userDetails({ limit, ...restOfTheOptions } = { limit: 0 }) {\n  console.log({ limit, restOfTheOptions }) // TODO logic here.\n  // const result = await db.find('users', {...})\n  // return serialize(result)\n}\n\n// function serialize(result) {\n//  return JSON.stringify(result)\n// }\n\nmodule.exports = {\n  userDetails\n}\n</code></pre>\n\n<p>After which you can call <code>GET /userDetails</code> or <code>GET /userDetails?limit=10</code>.</p>\n\n<p>Let me know what do you think.</p>\n"},{"comments":[{"owner":{"account_id":12536346,"reputation":980,"user_id":9122915,"accept_rate":50,"display_name":"Boudhayan Dev"},"score":0,"creation_date":1554866550,"post_id":55601503,"comment_id":97903758,"body_markdown":"Hi @Ian Segers , totally agree with you. I could go ahead and abstract the business logic in a separate module and then call from the controllers and that would work. But I would love to see NodeJs tutorials actually enforcing this. However, I am not sure how would I separate out the DB queries from the separate module (service functions). I would love to see a well structured NodeJS project that follows these coding standard.","body":"Hi @Ian Segers , totally agree with you. I could go ahead and abstract the business logic in a separate module and then call from the controllers and that would work. But I would love to see NodeJs tutorials actually enforcing this. However, I am not sure how would I separate out the DB queries from the separate module (service functions). I would love to see a well structured NodeJS project that follows these coding standard."}],"tags":[],"owner":{"account_id":367328,"reputation":1037,"user_id":713456,"accept_rate":62,"display_name":"Segers-Ian"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1554844855,"creation_date":1554844855,"answer_id":55601503,"question_id":55597337,"body_markdown":"Not really an answer... but some thoughts, as I come from C# and started as a NodeJs developer 3 years ago.\r\n\r\n**Dependency Injection**\r\n\r\nThis is (sadly) rarely used in many NodeJs projects that I see. There are some npm modules that provide this feature, but none of them have convinced me with a proper approach and API. Dependency Injection is still perfectly possible, only, a bit uglier because of some boilerplate code you have to write. So sadly no easy `@autowire` approaches. So yes you can do Dependency Injection like with Spring, but not as convenient. But let my opinion not stop you from researching Dependency Injection libraries for node.\r\n\r\n**Architecture**\r\n\r\nYou can still use the concepts of DTOs, Repositories, Services and Controllers. Only for some (odd) reason, the majority of tutorials and guides out there forget about common sense architecture and just throw everything within a single controller. Don&#39;t let them seduce you in forgetting about the concepts you learned in Java. Not that OOP and Java doesn&#39;t have flaws, but there is a difference in &quot;writing JavaScript style code&quot; and &quot;let&#39;s forget about proper architecture all together&quot;.\r\n\r\nDo note that you might see some more &quot;functional programming&quot; patterns rise in the NodeJs community, which is not bad (but neither is OOP).\r\n\r\n&gt; How to structure large projects having multiple endpoints and DB\r\n&gt; transactions.\r\n\r\nIgnore the bad examples you see out there, just follow your gut feeling from your Java experience how to structure your code, with the right layers, responsibilities and Design Patterns. Only keep in mind that you don&#39;t have interfaces and there is no easy alternative to that. So you&#39;ll have to learn to work your way around that, but you can still write elegant code without them.\r\n\r\n**Middleware**\r\n\r\nMiddleware is a common concept for NodeJs applications, they are similary-ish to the proxy/aspect oriented programming style. You might find example projects with excessive amount of middleware, don&#39;t let yourself be tempted by that either. Middleware is good for auth/serialisation/headers/security but not for business logic. I&#39;ve seen middleware hell and middleware driven development, it ain&#39;t pretty.\r\n\r\n**Repository**\r\n\r\nA lot of people use directly the MongoDb/Mongoose/SQL client without using the adapter pattern like Repository, leaking MongoDb queries all over their solution.\r\n\r\n\r\nMy advice for you would be, just use the same structure and approach you are familiar with, but with the tools that JavaScript gives you. I genuinely love JavaScript, but it makes me cringe when I look at the lack of design and architecture that I see in the mainstream resources, sure small projects and PoC&#39;s don&#39;t need extensive design, but often when project grow, they don&#39;t clean up. How you structure a project should be agnostic to the language and framework you are writing in.\r\n\r\nHappy coding &#128516;","title":"How to apply layered architecture of Java/Spring in NodeJs?","body":"<p>Not really an answer... but some thoughts, as I come from C# and started as a NodeJs developer 3 years ago.</p>\n\n<p><strong>Dependency Injection</strong></p>\n\n<p>This is (sadly) rarely used in many NodeJs projects that I see. There are some npm modules that provide this feature, but none of them have convinced me with a proper approach and API. Dependency Injection is still perfectly possible, only, a bit uglier because of some boilerplate code you have to write. So sadly no easy <code>@autowire</code> approaches. So yes you can do Dependency Injection like with Spring, but not as convenient. But let my opinion not stop you from researching Dependency Injection libraries for node.</p>\n\n<p><strong>Architecture</strong></p>\n\n<p>You can still use the concepts of DTOs, Repositories, Services and Controllers. Only for some (odd) reason, the majority of tutorials and guides out there forget about common sense architecture and just throw everything within a single controller. Don't let them seduce you in forgetting about the concepts you learned in Java. Not that OOP and Java doesn't have flaws, but there is a difference in \"writing JavaScript style code\" and \"let's forget about proper architecture all together\".</p>\n\n<p>Do note that you might see some more \"functional programming\" patterns rise in the NodeJs community, which is not bad (but neither is OOP).</p>\n\n<blockquote>\n  <p>How to structure large projects having multiple endpoints and DB\n  transactions.</p>\n</blockquote>\n\n<p>Ignore the bad examples you see out there, just follow your gut feeling from your Java experience how to structure your code, with the right layers, responsibilities and Design Patterns. Only keep in mind that you don't have interfaces and there is no easy alternative to that. So you'll have to learn to work your way around that, but you can still write elegant code without them.</p>\n\n<p><strong>Middleware</strong></p>\n\n<p>Middleware is a common concept for NodeJs applications, they are similary-ish to the proxy/aspect oriented programming style. You might find example projects with excessive amount of middleware, don't let yourself be tempted by that either. Middleware is good for auth/serialisation/headers/security but not for business logic. I've seen middleware hell and middleware driven development, it ain't pretty.</p>\n\n<p><strong>Repository</strong></p>\n\n<p>A lot of people use directly the MongoDb/Mongoose/SQL client without using the adapter pattern like Repository, leaking MongoDb queries all over their solution.</p>\n\n<p>My advice for you would be, just use the same structure and approach you are familiar with, but with the tools that JavaScript gives you. I genuinely love JavaScript, but it makes me cringe when I look at the lack of design and architecture that I see in the mainstream resources, sure small projects and PoC's don't need extensive design, but often when project grow, they don't clean up. How you structure a project should be agnostic to the language and framework you are writing in.</p>\n\n<p>Happy coding 😄</p>\n"},{"tags":[],"owner":{"account_id":11089340,"reputation":11,"user_id":8141835,"display_name":"spaghiajoeojo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684770720,"creation_date":1684770720,"answer_id":76307925,"question_id":55597337,"body_markdown":"**&lt;TL;DR&gt;**\r\nYou can do it with [express-beans][1].\r\n\r\nYou can generate a project with `npm create express-beans-server` and try by yourself.\r\n**&lt;/TL;DR&gt;**\r\n\r\nI know, it&#39;s an old question but it is worth to respond anyway because I was used to SpringBoot and then I wrote a lot of microservices in express.js. Express is a very well designed framework because it is simple and performant but if you have to write multiple endpoints and logic can be a real mess to organize your code. Fortunately in the near future decorators will be officially part of ECMAScript standard and I wrote a simple library to wrap up an express app and use decorators like `@Bean` to declare a Singleton just like SpringBoot.\r\n\r\nJust write an ExampleRouter.ts (it is typescript but it can be used also in js files):\r\n```\r\nimport { Request, Response } from &#39;express&#39;;\r\nimport { InjectBean, Route, RouterBean } from &#39;express-beans&#39;;\r\nimport ExampleService from &#39;../services/ExampleService&#39;;\r\n\r\n@RouterBean(&#39;/example&#39;)\r\nexport default class ExampleRouter {\r\n  @InjectBean(ExampleService)\r\n  private exampleService!: ExampleService;\r\n\r\n  @Route(&#39;GET&#39;, &#39;/hello&#39;)\r\n  getHello(_req: Request, res: Response) {\r\n    res.end(this.exampleService.example());\r\n  }\r\n}\r\n```\r\nThen an ExampleService.ts as follows:\r\n\r\n```\r\nimport { Bean } from &#39;express-beans&#39;;\r\n\r\n@Bean\r\nexport default class ExampleService {\r\n  private msg: string;\r\n\r\n  constructor() {\r\n    this.msg = &#39;hello world!&#39;;\r\n  }\r\n\r\n  example() {\r\n    return this.msg;\r\n  }\r\n}\r\n```\r\net voil&#224;!\r\n\r\nAll information and documentation (and code) is available on [GitHub][2] with MIT license\r\n\r\n\r\n  [1]: https://www.npmjs.com/package/express-beans\r\n  [2]: https://github.com/spaghiajoeojo/express-beans","title":"How to apply layered architecture of Java/Spring in NodeJs?","body":"<p><strong>&lt;TL;DR&gt;</strong>\nYou can do it with <a href=\"https://www.npmjs.com/package/express-beans\" rel=\"nofollow noreferrer\">express-beans</a>.</p>\n<p>You can generate a project with <code>npm create express-beans-server</code> and try by yourself.\n<strong>&lt;/TL;DR&gt;</strong></p>\n<p>I know, it's an old question but it is worth to respond anyway because I was used to SpringBoot and then I wrote a lot of microservices in express.js. Express is a very well designed framework because it is simple and performant but if you have to write multiple endpoints and logic can be a real mess to organize your code. Fortunately in the near future decorators will be officially part of ECMAScript standard and I wrote a simple library to wrap up an express app and use decorators like <code>@Bean</code> to declare a Singleton just like SpringBoot.</p>\n<p>Just write an ExampleRouter.ts (it is typescript but it can be used also in js files):</p>\n<pre><code>import { Request, Response } from 'express';\nimport { InjectBean, Route, RouterBean } from 'express-beans';\nimport ExampleService from '../services/ExampleService';\n\n@RouterBean('/example')\nexport default class ExampleRouter {\n  @InjectBean(ExampleService)\n  private exampleService!: ExampleService;\n\n  @Route('GET', '/hello')\n  getHello(_req: Request, res: Response) {\n    res.end(this.exampleService.example());\n  }\n}\n</code></pre>\n<p>Then an ExampleService.ts as follows:</p>\n<pre><code>import { Bean } from 'express-beans';\n\n@Bean\nexport default class ExampleService {\n  private msg: string;\n\n  constructor() {\n    this.msg = 'hello world!';\n  }\n\n  example() {\n    return this.msg;\n  }\n}\n</code></pre>\n<p>et voilà!</p>\n<p>All information and documentation (and code) is available on <a href=\"https://github.com/spaghiajoeojo/express-beans\" rel=\"nofollow noreferrer\">GitHub</a> with MIT license</p>\n"}],"owner":{"account_id":12536346,"reputation":980,"user_id":9122915,"accept_rate":50,"display_name":"Boudhayan Dev"},"comment_count":23,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1681,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":4,"score":4,"last_activity_date":1684770720,"creation_date":1554827338,"question_id":55597337,"body_markdown":"I have been trying to learn NodeJS for quite some time now. All the books and tutorials seems to follow similar pattern of  structuring their code. Example -\r\n\r\n    const express = require(&#39;express&#39;);\r\n    \r\n    const app = express();\r\n    app.set(&#39;view engine&#39;,&#39;hbs&#39;);\r\n    \r\n    app.get(&#39;/&#39;, (req, res) =&gt;{\r\n        res.render(&#39;index&#39;);\r\n    });\r\n\r\n    app.get(&#39;/getName&#39;, (req, res) =&gt;{\r\n        // Mock DB call to fetch Name\r\n        res.render(&#39;displayName&#39;);\r\n    });\r\n    \r\n    \r\n    app.listen(3000, () =&gt; {\r\n        console.log(&quot;Started server on port : 3000&quot;);\r\n    });\r\n\r\nAs you can see above, the /getName controller is performing DB call as well as returning the view. So the business logic as well as the CRUD operation is being done at the same place.\r\n\r\nI come from the world of `JAVA` and there we do it slightly differently. For example, a `Spring Boot` application would contain the following structure -\r\n\r\n* DTO\r\n* Repository\r\n* Service\r\n* Controller\r\n\r\nSo, `controller` classes are the actual endpoints which do not perform any business logic but call the underlying `service` class to handle all that. The `service` classes implement the business logic and persist/fetch data required for it with the help of the `repository` classes. The repository on the other hand handles the `CRUD` operations.\r\n\r\nThis seemed like a sane way to develop software. Given that each class has their defined roles, it becomes really easy to handle any change.\r\n\r\nI understand the `NodeJs` is a dynamic but -\r\n\r\n**1. Is there a way to separate out the functionality like we do in `Spring` ? If not,**\r\n\r\n**2. How to structure large projects having multiple endpoints and DB transactions.**\r\n\r\nRegards\r\n\r\n------\r\n\r\n**EDIT -**\r\n\r\nConsider the following scenario - \r\n\r\n*I have a requirement, where I need to fetch a list of users from the database whose status is True ( assume status is a boolean field in the model ).*\r\n\r\nIn Java -\r\n\r\n    @Service\r\n    public class UserService {\r\n    \r\n    \t@Autowired\r\n    \tUserDetailRepository userDetailRepository;\r\n    \r\n        @Override\r\n    \tpublic UserDetail getUserDetail (boolean status) {\r\n    \t\tUserDetail userDetail  = UserDetailRepository .findUserDetailByStatus(status);\r\n    \t\treturn userDetail  ;\r\n    \t}\r\n\r\n\r\nController.java -\r\n\r\n    @GetMapping(&quot;/getUserDetails&quot;)\r\n    \t\tpublic ArrayList&lt;UserDetail&gt; getUserDetail(){\r\n      \r\n            return UserService.getUserDetail(true);\r\n    }\r\n\r\n*Now, if the requirement changes and there needs to be a new endpoint that returns only top 10 user details whose status is true. In that case, we can add a new controller and just limit the returned results to 10. We can make use of the same business logic/ service class.*\r\n\r\nController.java\r\n\r\n    @GetMapping(&quot;/getUserDetailsTop10&quot;)\r\n        \t\tpublic ArrayList&lt;UserDetail&gt; getUserDetail(){\r\n          \r\n                List&lt;UserDetails&gt; users = UserService.getUserDetail(true);\r\n                // Filter the list to send top 10\r\n                // return users .\r\n        }\r\n\r\n\r\nIf I have to implement the same use case in NodeJS, I&#39;ll have to write the business logic to fetch the user twice -\r\n\r\n\r\n    const express = require(&#39;express&#39;);\r\n    \r\n    const app = express();\r\n    app.set(&#39;view engine&#39;,&#39;hbs&#39;);\r\n    \r\n    app.get(&#39;/getUserDetails&#39;, (req, res) =&gt;{\r\n        // Call DB and get users whose status is True\r\n        res.send(userdetails);\r\n    });\r\n    \r\n    app.get(&#39;/getUserDetailsTop10&#39;, (req, res) =&gt;{\r\n        // Call DB and get users whose status is True\r\n        // Filter the returned results and limit the result to 10 values only\r\n        res.send(userdetails);\r\n    });\r\n    \r\n    \r\n    app.listen(3000, () =&gt; {\r\n        console.log(&quot;Started server on port : 3000&quot;);\r\n    });\r\n\r\n\r\nAt best, I can abstract away this logic into a function, that will return a list of users with status True but then again this approach is not very scalable. There has to be a complete separation of Business logic from controller.\r\n","title":"How to apply layered architecture of Java/Spring in NodeJs?","body":"<p>I have been trying to learn NodeJS for quite some time now. All the books and tutorials seems to follow similar pattern of  structuring their code. Example -</p>\n\n<pre><code>const express = require('express');\n\nconst app = express();\napp.set('view engine','hbs');\n\napp.get('/', (req, res) =&gt;{\n    res.render('index');\n});\n\napp.get('/getName', (req, res) =&gt;{\n    // Mock DB call to fetch Name\n    res.render('displayName');\n});\n\n\napp.listen(3000, () =&gt; {\n    console.log(\"Started server on port : 3000\");\n});\n</code></pre>\n\n<p>As you can see above, the /getName controller is performing DB call as well as returning the view. So the business logic as well as the CRUD operation is being done at the same place.</p>\n\n<p>I come from the world of <code>JAVA</code> and there we do it slightly differently. For example, a <code>Spring Boot</code> application would contain the following structure -</p>\n\n<ul>\n<li>DTO</li>\n<li>Repository</li>\n<li>Service</li>\n<li>Controller</li>\n</ul>\n\n<p>So, <code>controller</code> classes are the actual endpoints which do not perform any business logic but call the underlying <code>service</code> class to handle all that. The <code>service</code> classes implement the business logic and persist/fetch data required for it with the help of the <code>repository</code> classes. The repository on the other hand handles the <code>CRUD</code> operations.</p>\n\n<p>This seemed like a sane way to develop software. Given that each class has their defined roles, it becomes really easy to handle any change.</p>\n\n<p>I understand the <code>NodeJs</code> is a dynamic but -</p>\n\n<p><strong>1. Is there a way to separate out the functionality like we do in <code>Spring</code> ? If not,</strong></p>\n\n<p><strong>2. How to structure large projects having multiple endpoints and DB transactions.</strong></p>\n\n<p>Regards</p>\n\n<hr>\n\n<p><strong>EDIT -</strong></p>\n\n<p>Consider the following scenario - </p>\n\n<p><em>I have a requirement, where I need to fetch a list of users from the database whose status is True ( assume status is a boolean field in the model ).</em></p>\n\n<p>In Java -</p>\n\n<pre><code>@Service\npublic class UserService {\n\n    @Autowired\n    UserDetailRepository userDetailRepository;\n\n    @Override\n    public UserDetail getUserDetail (boolean status) {\n        UserDetail userDetail  = UserDetailRepository .findUserDetailByStatus(status);\n        return userDetail  ;\n    }\n</code></pre>\n\n<p>Controller.java -</p>\n\n<pre><code>@GetMapping(\"/getUserDetails\")\n        public ArrayList&lt;UserDetail&gt; getUserDetail(){\n\n        return UserService.getUserDetail(true);\n}\n</code></pre>\n\n<p><em>Now, if the requirement changes and there needs to be a new endpoint that returns only top 10 user details whose status is true. In that case, we can add a new controller and just limit the returned results to 10. We can make use of the same business logic/ service class.</em></p>\n\n<p>Controller.java</p>\n\n<pre><code>@GetMapping(\"/getUserDetailsTop10\")\n            public ArrayList&lt;UserDetail&gt; getUserDetail(){\n\n            List&lt;UserDetails&gt; users = UserService.getUserDetail(true);\n            // Filter the list to send top 10\n            // return users .\n    }\n</code></pre>\n\n<p>If I have to implement the same use case in NodeJS, I'll have to write the business logic to fetch the user twice -</p>\n\n<pre><code>const express = require('express');\n\nconst app = express();\napp.set('view engine','hbs');\n\napp.get('/getUserDetails', (req, res) =&gt;{\n    // Call DB and get users whose status is True\n    res.send(userdetails);\n});\n\napp.get('/getUserDetailsTop10', (req, res) =&gt;{\n    // Call DB and get users whose status is True\n    // Filter the returned results and limit the result to 10 values only\n    res.send(userdetails);\n});\n\n\napp.listen(3000, () =&gt; {\n    console.log(\"Started server on port : 3000\");\n});\n</code></pre>\n\n<p>At best, I can abstract away this logic into a function, that will return a list of users with status True but then again this approach is not very scalable. There has to be a complete separation of Business logic from controller.</p>\n"},{"tags":["java","windows","jar","exe","launch4j"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":1,"creation_date":1684770950,"post_id":76307907,"comment_id":134561919,"body_markdown":"I think exe4j can bundle your jar and a JRE, I haven&#39;t used it for a will though","body":"I think exe4j can bundle your jar and a JRE, I haven&#39;t used it for a will though"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":3,"creation_date":1684771163,"post_id":76307907,"comment_id":134561969,"body_markdown":"No need for [3rd party](https://technojeeves.com/index.php/aliasjava1/111-making-native-installable-apps-with-java-9)","body":"No need for <a href=\"https://technojeeves.com/index.php/aliasjava1/111-making-native-installable-apps-with-java-9\" rel=\"nofollow noreferrer\">3rd party</a>"}],"owner":{"account_id":25378044,"reputation":53,"user_id":19190878,"display_name":"Bartolini"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684770572,"creation_date":1684770572,"question_id":76307907,"body_markdown":"I was wondering how I could package my .jar into a single clickable .exe file, that contains all java related stuff to run, dropping the need for installing JRE.\r\nThe solution I found was to do it using launch4j and having the .exe inside a folder with the JRE but I was wondering whether I could just bundle the JRE into the .exe witout the need to have it in the same folder as the JRE needed.","title":"Package a .jar into a single .exe alongside the needed JRE","body":"<p>I was wondering how I could package my .jar into a single clickable .exe file, that contains all java related stuff to run, dropping the need for installing JRE.\nThe solution I found was to do it using launch4j and having the .exe inside a folder with the JRE but I was wondering whether I could just bundle the JRE into the .exe witout the need to have it in the same folder as the JRE needed.</p>\n"},{"tags":["java","deployment","business-objects","business-objects-sdk"],"comments":[{"owner":{"account_id":1777799,"reputation":6787,"user_id":1621233,"accept_rate":25,"display_name":"Joe"},"score":1,"creation_date":1440602831,"post_id":32218333,"comment_id":52343824,"body_markdown":"I&#39;ve done exactly what you&#39;ve described.  I wrote mine using a combination of Java and PL/SQL.  For Java, I use Eclipse (I can&#39;t imagine doing Java/BO development without it).  For scheduling, I run it in BO as a Program Object.","body":"I&#39;ve done exactly what you&#39;ve described.  I wrote mine using a combination of Java and PL/SQL.  For Java, I use Eclipse (I can&#39;t imagine doing Java/BO development without it).  For scheduling, I run it in BO as a Program Object."}],"answers":[{"tags":[],"owner":{"account_id":3755548,"reputation":8177,"user_id":3165737,"accept_rate":91,"display_name":"DocZer&#248;"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1440581569,"creation_date":1440581569,"answer_id":32222915,"question_id":32218333,"body_markdown":"A few things I&#39;d like to remark:\r\n\r\n- Write your app in Java, especially if you&#39;re more comfortable with that language already. While the BOBJ SDK is largely available in .NET as well, for some reason it has always played second fiddle. Perhaps this has something to do with the fact that a very large part of the server codebase is written in Java as well, but that&#39;s just speculation.\r\n\r\n- While you can create an external app and schedule that using the Windows Scheduler, you could just as well implement the Program Object interface and publish your program as an object (a Program Object) inside of the BusinessObjects repository and schedule it using the built-in scheduling features. This also means that you can automatically have it notify you when it finishes, or fails, etc.\r\n\r\n- The purpose of your program (collecting information regarding users, user groups and documents) is quite straightforward. Keep in mind that you can test your queries using the Query Builder (web application that is deployed with BusinessObjects, the URL depends on the version you&#39;re using). \r\n\r\n- Query results only return 1000 records by default; if you need more, add the TOP xxx argument to your SELECT statement (were xxx is the maximum number of records you expect to retrieve).\r\n\r\n- Relationships (e.g. between users and user groups) are calculated on the fly by the CMS, so this is an expensive operation. When you query relationships, they will be returned as a list of integers, corresponding to the IDs of the objects they relate to.\r\n\r\nHere are some resources that may help you:\r\n\r\n- [SAP BOBJ SDK documentation][1] - you&#39;ll need to look at the documentation that relates to the *SAP BusinessObjects BI Platform*.\r\n- [Java SDK Application Development forum][2]\r\n- [SAP Support Portal][3] - The SAP notes can contains example code from time to time to help you out. You&#39;ll need an S-ID to search them to (meaning you need an active support contract).\r\n- [Sample Java code][4]\r\n\r\n\r\n  [1]: http://scn.sap.com/docs/DOC-8777\r\n  [2]: http://scn.sap.com/community/bi-platform/java-sdk\r\n  [3]: https://support.sap.com/home.html\r\n  [4]: http://scn.sap.com/docs/DOC-50604","title":"BusinessObjects SDK best practice in regards to deployment - custom audit database","body":"<p>A few things I'd like to remark:</p>\n\n<ul>\n<li><p>Write your app in Java, especially if you're more comfortable with that language already. While the BOBJ SDK is largely available in .NET as well, for some reason it has always played second fiddle. Perhaps this has something to do with the fact that a very large part of the server codebase is written in Java as well, but that's just speculation.</p></li>\n<li><p>While you can create an external app and schedule that using the Windows Scheduler, you could just as well implement the Program Object interface and publish your program as an object (a Program Object) inside of the BusinessObjects repository and schedule it using the built-in scheduling features. This also means that you can automatically have it notify you when it finishes, or fails, etc.</p></li>\n<li><p>The purpose of your program (collecting information regarding users, user groups and documents) is quite straightforward. Keep in mind that you can test your queries using the Query Builder (web application that is deployed with BusinessObjects, the URL depends on the version you're using). </p></li>\n<li><p>Query results only return 1000 records by default; if you need more, add the TOP xxx argument to your SELECT statement (were xxx is the maximum number of records you expect to retrieve).</p></li>\n<li><p>Relationships (e.g. between users and user groups) are calculated on the fly by the CMS, so this is an expensive operation. When you query relationships, they will be returned as a list of integers, corresponding to the IDs of the objects they relate to.</p></li>\n</ul>\n\n<p>Here are some resources that may help you:</p>\n\n<ul>\n<li><a href=\"http://scn.sap.com/docs/DOC-8777\" rel=\"nofollow\">SAP BOBJ SDK documentation</a> - you'll need to look at the documentation that relates to the <em>SAP BusinessObjects BI Platform</em>.</li>\n<li><a href=\"http://scn.sap.com/community/bi-platform/java-sdk\" rel=\"nofollow\">Java SDK Application Development forum</a></li>\n<li><a href=\"https://support.sap.com/home.html\" rel=\"nofollow\">SAP Support Portal</a> - The SAP notes can contains example code from time to time to help you out. You'll need an S-ID to search them to (meaning you need an active support contract).</li>\n<li><a href=\"http://scn.sap.com/docs/DOC-50604\" rel=\"nofollow\">Sample Java code</a></li>\n</ul>\n"}],"owner":{"account_id":1589089,"reputation":3400,"user_id":1472831,"accept_rate":96,"display_name":"uh_big_mike_boi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":618,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":32222915,"answer_count":1,"score":0,"last_activity_date":1684770184,"creation_date":1440565314,"question_id":32218333,"body_markdown":"I&#39;m looking to write an app that extracts info from the CMS.  This will get just all the users and user groups, and it will get all the reports and their paths.  I can worry about getting more later.  Maybe I can deploy it once and it will update nightly.  I was going to write it in Java and not .NET, I feel a bit more comfortable in Java. Although I do love Visual Studio, the last couple times I set it up it was a real pain if I didn&#39;t have the latest and greatest MSDN subscription to go with it.\r\n \r\n1.  I know I can just create an application that sits on the BOE box and schedule it with windows scheduler.  Has anyone done this before with an SAP BI SDK app?\r\n \r\n2.  While I appreciate knowing all the possible ways of doing something, I&#39;m not looking here to get all of the ways to do this.  Unless there is a single best practice that pretty much everyone does.\r\n \r\nThanks!","title":"BusinessObjects SDK best practice in regards to deployment - custom audit database","body":"<p>I'm looking to write an app that extracts info from the CMS.  This will get just all the users and user groups, and it will get all the reports and their paths.  I can worry about getting more later.  Maybe I can deploy it once and it will update nightly.  I was going to write it in Java and not .NET, I feel a bit more comfortable in Java. Although I do love Visual Studio, the last couple times I set it up it was a real pain if I didn't have the latest and greatest MSDN subscription to go with it.</p>\n\n<ol>\n<li><p>I know I can just create an application that sits on the BOE box and schedule it with windows scheduler.  Has anyone done this before with an SAP BI SDK app?</p></li>\n<li><p>While I appreciate knowing all the possible ways of doing something, I'm not looking here to get all of the ways to do this.  Unless there is a single best practice that pretty much everyone does.</p></li>\n</ol>\n\n<p>Thanks!</p>\n"},{"tags":["java","unix","tomcat7","business-objects"],"answers":[{"comments":[{"owner":{"account_id":5834140,"reputation":1,"user_id":5273721,"display_name":"Tamilselvi Selvaraj"},"score":0,"creation_date":1440752788,"post_id":32266498,"comment_id":52413384,"body_markdown":"I tried giving file permission mode chmod 777 to .business objects folder in the home directory. Tomcat is using the same owner as that of the accessed file (.business objects) in home directory. I could notice that the web application is not able to access any folder outside tomcat directory.","body":"I tried giving file permission mode chmod 777 to .business objects folder in the home directory. Tomcat is using the same owner as that of the accessed file (.business objects) in home directory. I could notice that the web application is not able to access any folder outside tomcat directory."},{"owner":{"account_id":3834259,"reputation":1003,"user_id":3179011,"accept_rate":75,"display_name":"Sok Pomaranczowy"},"score":0,"creation_date":1440753178,"post_id":32266498,"comment_id":52413619,"body_markdown":"Giving file permission on a directory is not enough. You should explicitly `chmod` on required file (`clusterinfo.properties` in your case as I assume you didn&#39;t `chmod` the directory with `-R` option?).","body":"Giving file permission on a directory is not enough. You should explicitly <code>chmod</code> on required file (<code>clusterinfo.properties</code> in your case as I assume you didn&#39;t <code>chmod</code> the directory with <code>-R</code> option?)."}],"tags":[],"owner":{"account_id":3834259,"reputation":1003,"user_id":3179011,"accept_rate":75,"display_name":"Sok Pomaranczowy"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440750136,"creation_date":1440750136,"answer_id":32266498,"question_id":32254887,"body_markdown":"Did you try to grant more permissions on this file with `chmod`. \r\nThe exception explicitly says that its `java.io.filePermission`. So the problem is that jvm can&#39;t read your properties file because your OS prevents it from doing so based on the file permissions. \r\nYou can see file permissions with `ls -l filepath`. \r\nI vaguely remember that you had to change owner of the accesed files in order for tomcat to work so `chown tomcat7 \\home\\&lt;user account of tomcat&gt;\\.businessobjects\\clusterinfo.properties` wouldn&#39;t hurt, but I don&#39;t remember if it was only applicable to deployed artifacts like *.war files or such.\r\n","title":"Tomcat 7 web configuration","body":"<p>Did you try to grant more permissions on this file with <code>chmod</code>. \nThe exception explicitly says that its <code>java.io.filePermission</code>. So the problem is that jvm can't read your properties file because your OS prevents it from doing so based on the file permissions. \nYou can see file permissions with <code>ls -l filepath</code>. \nI vaguely remember that you had to change owner of the accesed files in order for tomcat to work so <code>chown tomcat7 \\home\\&lt;user account of tomcat&gt;\\.businessobjects\\clusterinfo.properties</code> wouldn't hurt, but I don't remember if it was only applicable to deployed artifacts like *.war files or such.</p>\n"}],"owner":{"account_id":5834140,"reputation":1,"user_id":5273721,"display_name":"Tamilselvi Selvaraj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684770162,"creation_date":1440692929,"question_id":32254887,"body_markdown":"We have tomcat 7.0.55 in our Unix server. We have deployed web applications manually inside webapps folder of tomcat instance. By default the `clusterinfo.1200.properties` and log4j logs are stored in `.businessobjects` folder under home directory of the user account in which tomcat runs.\r\n\r\nWhile accessing the InfoView web application we get the below error\r\n\r\n&gt; &quot;AccessControlException:&quot;java.io.filePermission:Access Denied \\home\\&lt;user account of tomcat&gt;\\.businessobjects\\clusterinfo.properties&quot;\r\n\r\nTomcat 7 has restriction to access the file outside the tomcat directory on the first logon. However on refreshing the page we are able to access the application.\r\n\r\nI have tried the following steps.\r\n\r\n1. stopped the tomcat instance\r\n2. Moved `.buisnessobjects` from home directory to inside tomcat installed directory.\r\n3. Created symlink as `.businessobjects` in home directory to point to the folder inside tomcat directory.\r\n4. Started the tomcat instance.\r\n\r\nIt works. But I need to know where the configuration change has to be made in web application to place the clusterinfo property file and log4j file inside tomcat directory.\r\n\r\nI am a novice in Java. Please let me know the file and its location to make this changes.\r\n\r\nDesperately looking for a solution :-(\r\n","title":"Tomcat 7 web configuration","body":"<p>We have tomcat 7.0.55 in our Unix server. We have deployed web applications manually inside webapps folder of tomcat instance. By default the <code>clusterinfo.1200.properties</code> and log4j logs are stored in <code>.businessobjects</code> folder under home directory of the user account in which tomcat runs.</p>\n<p>While accessing the InfoView web application we get the below error</p>\n<blockquote>\n<p>&quot;AccessControlException:&quot;java.io.filePermission:Access Denied \\home&lt;user account of tomcat&gt;.businessobjects\\clusterinfo.properties&quot;</p>\n</blockquote>\n<p>Tomcat 7 has restriction to access the file outside the tomcat directory on the first logon. However on refreshing the page we are able to access the application.</p>\n<p>I have tried the following steps.</p>\n<ol>\n<li>stopped the tomcat instance</li>\n<li>Moved <code>.buisnessobjects</code> from home directory to inside tomcat installed directory.</li>\n<li>Created symlink as <code>.businessobjects</code> in home directory to point to the folder inside tomcat directory.</li>\n<li>Started the tomcat instance.</li>\n</ol>\n<p>It works. But I need to know where the configuration change has to be made in web application to place the clusterinfo property file and log4j file inside tomcat directory.</p>\n<p>I am a novice in Java. Please let me know the file and its location to make this changes.</p>\n<p>Desperately looking for a solution :-(</p>\n"},{"tags":["java","sql","hibernate","jpql","native-sql"],"owner":{"account_id":11514885,"reputation":631,"user_id":8438513,"accept_rate":70,"display_name":"HowToTellAChild"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684770023,"creation_date":1684770023,"question_id":76307844,"body_markdown":"I have the following entites in java:\r\n\r\n    A {\r\n     Long id;\r\n     List&lt;B&gt; elements\r\n    }\r\n    \r\n    B {\r\n     Long id;\r\n     String name;\r\n    }\r\n\r\nI want to write a query where I can retrieve all of the rows from table &#39;A&#39; where it&#39;s element has a certain &#39;name&#39; value. So if the filter value is X, and the Entity &#39;Q&#39; from table &#39;A&#39; has two relation in table &#39;B&#39;, like {id=1, name=X}, {id=2, name=Y}, then I want both of them in the parsed java object. Let me show you and example:\r\n\r\n    A table\r\n    \r\n    id\r\n    1\r\n    2\r\n    3\r\n    4\r\n    5\r\n    \r\n    B table\r\n    id\tname\tA_id\r\n    1\tX\t\t1\r\n    2\tY\t\t1\r\n    3\tX\t\t2\r\n    4\tW\t\t4\r\n    5\tX\t\t3\r\n    6\tX\t\t4\r\n    7\tY\t\t5\r\n\r\nIf I am filtering for name=X, the result should be like this:\r\n\r\n    [\r\n    \t{\r\n    \t\tid=1; \r\n    \t\telements=[\r\n    \t\t\t{id=1, name=X}, \r\n    \t\t\t{id=2, name=Y}\r\n    \t\t]\r\n    \t},\r\n    \t{\r\n    \t\tid=2; \r\n    \t\telements=[\r\n    \t\t\t{id=3, name=X}\r\n    \t\t]\r\n    \t},\r\n    \t{\r\n    \t\tid=3; \r\n    \t\telements=[\r\n    \t\t\t{id=5, name=X}\r\n    \t\t]\r\n    \t},\r\n    \t{\r\n    \t\tid=4; \r\n    \t\telements=[\r\n    \t\t\t{id=4, name=W},\r\n    \t\t\t{id=6, name=X}\r\n    \t\t]\r\n    \t}\r\n    ]\r\n\r\nIs there any single sql query where I can achive this? I don&#39;t want to employ EAGER fetching method. \r\n\r\n","title":"Return list type java entity field with jpql or native sql","body":"<p>I have the following entites in java:</p>\n<pre><code>A {\n Long id;\n List&lt;B&gt; elements\n}\n\nB {\n Long id;\n String name;\n}\n</code></pre>\n<p>I want to write a query where I can retrieve all of the rows from table 'A' where it's element has a certain 'name' value. So if the filter value is X, and the Entity 'Q' from table 'A' has two relation in table 'B', like {id=1, name=X}, {id=2, name=Y}, then I want both of them in the parsed java object. Let me show you and example:</p>\n<pre><code>A table\n\nid\n1\n2\n3\n4\n5\n\nB table\nid  name    A_id\n1   X       1\n2   Y       1\n3   X       2\n4   W       4\n5   X       3\n6   X       4\n7   Y       5\n</code></pre>\n<p>If I am filtering for name=X, the result should be like this:</p>\n<pre><code>[\n    {\n        id=1; \n        elements=[\n            {id=1, name=X}, \n            {id=2, name=Y}\n        ]\n    },\n    {\n        id=2; \n        elements=[\n            {id=3, name=X}\n        ]\n    },\n    {\n        id=3; \n        elements=[\n            {id=5, name=X}\n        ]\n    },\n    {\n        id=4; \n        elements=[\n            {id=4, name=W},\n            {id=6, name=X}\n        ]\n    }\n]\n</code></pre>\n<p>Is there any single sql query where I can achive this? I don't want to employ EAGER fetching method.</p>\n"},{"tags":["java","spring","spring-data-jpa"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":2,"creation_date":1684698221,"post_id":76301625,"comment_id":134551267,"body_markdown":"try a `Long` and add `@NotNull`, otherwise `null -&gt; 0 -&gt; valid` makes totally sense","body":"try a <code>Long</code> and add <code>@NotNull</code>, otherwise <code>null -&gt; 0 -&gt; valid</code> makes totally sense"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1684698324,"post_id":76301625,"comment_id":134551278,"body_markdown":"(if you want to allow `0` and not allow `null` that&#39;s the way to go..)","body":"(if you want to allow <code>0</code> and not allow <code>null</code> that&#39;s the way to go..)"}],"answers":[{"tags":[],"owner":{"account_id":21967042,"reputation":84,"user_id":16244113,"display_name":"mamJavad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684769959,"creation_date":1684769959,"answer_id":76307833,"question_id":76301625,"body_markdown":"for long value you cannot set null because its not wrapper . for test that send 0 for amount . \r\nfor strings in your dto test @NotEmpty","title":"@Valid not working on Spring when a incorrect request is sent","body":"<p>for long value you cannot set null because its not wrapper . for test that send 0 for amount .\nfor strings in your dto test @NotEmpty</p>\n"}],"owner":{"account_id":26575059,"reputation":1,"user_id":20200620,"display_name":"Mateo Rada"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684769959,"creation_date":1684697973,"question_id":76301625,"body_markdown":"I&#39;m trying to make some validations for the DTOs in my spring application, when i send a request with blank or null values it should throw an exception, but its not doing it and it goes into the method. This is what i have\r\n\r\n```\r\n@AllArgsConstructor\r\n@RestController\r\n@Validated\r\npublic class AccountController implements AccountAPI {\r\n    private final AccountService accountService;\r\n    @Override\r\n    public AccountResponseDTO save(@RequestBody @Valid AccountCreateDTO account){\r\n        return accountService.save(account);\r\n    }\r\n\r\n    @Override\r\n    public AccountResponseDTO withdraw(@RequestBody @Valid TransactionAccountDTO transaction){\r\n        return accountService.withdraw(transaction);\r\n    }\r\n\r\n    @Override\r\n    public AccountResponseDTO deposit(@RequestBody @Valid TransactionAccountDTO transaction){\r\n        return accountService.deposit(transaction);\r\n    }\r\n\r\n    @Override\r\n    public TransferResponseDTO transfer(@RequestBody @Valid TransferRequestDTO transaction){\r\n        return accountService.transfer(transaction);\r\n    }\r\n\r\n    @Override\r\n    public AccountResponseDTO enableAccount(@PathVariable String accountNumber){\r\n        return accountService.enableAccount(accountNumber);\r\n    }\r\n\r\n    @Override\r\n    public AccountResponseDTO disableAccount(@PathVariable String accountNumber){\r\n        return accountService.disableAccount(accountNumber);\r\n    }\r\n    @Override\r\n    public void testPath(@Valid @RequestBody TransferRequestDTO transaction){\r\n        System.out.println(&quot;It got here!&quot;);\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nI&#39;m using the testPath to &quot;test&quot; the validations to avoid problems with the service if the null or blank values go through.\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@Builder\r\npublic class TransferRequestDTO {\r\n    @NotBlank\r\n    private String originAccountNumber;\r\n    @NotBlank\r\n    private String destinationAccountNumber;\r\n    @Min(value = 0)\r\n    private long amount;\r\n}\r\n```\r\n\r\nThis is the DTO and when I try something like this in postmant:\r\n\r\n```\r\n{\r\n    &quot;originAccountNumber&quot;:&quot;&quot;,\r\n    &quot;destinationAccountNumber&quot;:&quot;&quot;,\r\n    &quot;amount&quot;:null\r\n}\r\n```\r\n\r\nIt prints the line inside the method when it should throw an exception for the validations\r\n\r\nI tried adding this to the pom (dependencies) but the problem its not gone\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAlso i tried adding @Validated in the controller class but nothing, am i missing something?","title":"@Valid not working on Spring when a incorrect request is sent","body":"<p>I'm trying to make some validations for the DTOs in my spring application, when i send a request with blank or null values it should throw an exception, but its not doing it and it goes into the method. This is what i have</p>\n<pre><code>@AllArgsConstructor\n@RestController\n@Validated\npublic class AccountController implements AccountAPI {\n    private final AccountService accountService;\n    @Override\n    public AccountResponseDTO save(@RequestBody @Valid AccountCreateDTO account){\n        return accountService.save(account);\n    }\n\n    @Override\n    public AccountResponseDTO withdraw(@RequestBody @Valid TransactionAccountDTO transaction){\n        return accountService.withdraw(transaction);\n    }\n\n    @Override\n    public AccountResponseDTO deposit(@RequestBody @Valid TransactionAccountDTO transaction){\n        return accountService.deposit(transaction);\n    }\n\n    @Override\n    public TransferResponseDTO transfer(@RequestBody @Valid TransferRequestDTO transaction){\n        return accountService.transfer(transaction);\n    }\n\n    @Override\n    public AccountResponseDTO enableAccount(@PathVariable String accountNumber){\n        return accountService.enableAccount(accountNumber);\n    }\n\n    @Override\n    public AccountResponseDTO disableAccount(@PathVariable String accountNumber){\n        return accountService.disableAccount(accountNumber);\n    }\n    @Override\n    public void testPath(@Valid @RequestBody TransferRequestDTO transaction){\n        System.out.println(&quot;It got here!&quot;);\n    }\n\n\n}\n</code></pre>\n<p>I'm using the testPath to &quot;test&quot; the validations to avoid problems with the service if the null or blank values go through.</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@Builder\npublic class TransferRequestDTO {\n    @NotBlank\n    private String originAccountNumber;\n    @NotBlank\n    private String destinationAccountNumber;\n    @Min(value = 0)\n    private long amount;\n}\n</code></pre>\n<p>This is the DTO and when I try something like this in postmant:</p>\n<pre><code>{\n    &quot;originAccountNumber&quot;:&quot;&quot;,\n    &quot;destinationAccountNumber&quot;:&quot;&quot;,\n    &quot;amount&quot;:null\n}\n</code></pre>\n<p>It prints the line inside the method when it should throw an exception for the validations</p>\n<p>I tried adding this to the pom (dependencies) but the problem its not gone</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Also i tried adding @Validated in the controller class but nothing, am i missing something?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1684769899,"post_id":76307806,"comment_id":134561693,"body_markdown":"Assuming `Warrior`, `Archer` etc. all inherit from a common class you should declare a variable of said class type before your `if...else....` statements and assign `new Warrior`, `new Archer` etc to that variable.","body":"Assuming <code>Warrior</code>, <code>Archer</code> etc. all inherit from a common class you should declare a variable of said class type before your <code>if...else....</code> statements and assign <code>new Warrior</code>, <code>new Archer</code> etc to that variable."}],"owner":{"account_id":27500746,"reputation":33,"user_id":20984506,"display_name":"taxEvader"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1684772109,"answer_count":0,"score":0,"last_activity_date":1684769731,"creation_date":1684769731,"question_id":76307806,"body_markdown":"I am initializing a character based on player input choosing 3 classes, but when I run the program using any function from these classes, I get an error saying that it cannot find the symbol &quot;user&quot; in line 46 of main.java.\r\n\r\n```\r\nimport java.util.Scanner;\r\nimport java.util.HashMap;\r\nimport java.util.ArrayList;\r\nclass Main {\r\n  public static void main(String[] args) {\r\n    Scanner userInput = new Scanner(System.in);\r\n    System.out.println(&quot;What is your name?&quot;);\r\n    String name = userInput.nextLine();\r\n    HashMap&lt;String, Integer&gt; inventory = new HashMap&lt;String,Integer&gt;();\r\n    String equippedItem = &quot;Simple Sword&quot;;\r\n    int playerStrength = 3;\r\n    while(true){\r\n      //assign variables\r\n      System.out.println(&quot;What class are you?\\nWarrior | Archer | Mage\\n(Type &#39;help&#39; for an explanation of the classes)&quot;);\r\n      String playerClass = userInput.nextLine();\r\n      if(playerClass.equals(&quot;help&quot;)==true){\r\n        System.out.println(&quot;Each class has a different set of weapons that can be equipped, &quot;);\r\n        continue;\r\n      }\r\n      else if(playerClass.equals(&quot;Warrior&quot;)==false &amp;&amp; playerClass.equals(&quot;Archer&quot;)==false &amp;&amp; playerClass.equals(&quot;Mage&quot;)==false){\r\n        System.out.println(&quot;Invalid Selection&quot;);\r\n        continue;\r\n      }\r\n      else if (playerClass.equals(&quot;Warrior&quot;)==true){\r\n        Warrior user = new Warrior(name);\r\n        inventory.put(&quot;Simple Sword&quot;,10);\r\n        equippedItem = &quot;Simple Sword&quot;;\r\n      }\r\n      else if (playerClass.equals(&quot;Archer&quot;)==true){\r\n        Archer user = new Archer(name);\r\n        inventory.put(&quot;Simple Bow&quot;,10);\r\n      }\r\n      else if (playerClass.equals(&quot;Mage&quot;)==true){\r\n        Mage user = new Mage(name);\r\n        inventory.put(&quot;Simple Fireball&quot;,10);\r\n      }\r\n      else{\r\n        System.exit(100);\r\n      }\r\n      int enemNum = 0;\r\n      while(true){\r\n        enemNum = enemNum + 1;\r\n        int weaponStrength = inventory.get(equippedItem);\r\n        int enemyDamage = enemNum*10;\r\n        int enemyHealth = enemNum*400;\r\n        int playerDamage = user.getDMG(playerStrength, weaponStrength);\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n\r\nEven if I put an else statement automatically defining the user as a warrior it gives me the same error. It only works if I remove the if statements and place a definition of the character as a warrior.","title":"Cannot find symbol when initializing a class in an if statement java","body":"<p>I am initializing a character based on player input choosing 3 classes, but when I run the program using any function from these classes, I get an error saying that it cannot find the symbol &quot;user&quot; in line 46 of main.java.</p>\n<pre><code>import java.util.Scanner;\nimport java.util.HashMap;\nimport java.util.ArrayList;\nclass Main {\n  public static void main(String[] args) {\n    Scanner userInput = new Scanner(System.in);\n    System.out.println(&quot;What is your name?&quot;);\n    String name = userInput.nextLine();\n    HashMap&lt;String, Integer&gt; inventory = new HashMap&lt;String,Integer&gt;();\n    String equippedItem = &quot;Simple Sword&quot;;\n    int playerStrength = 3;\n    while(true){\n      //assign variables\n      System.out.println(&quot;What class are you?\\nWarrior | Archer | Mage\\n(Type 'help' for an explanation of the classes)&quot;);\n      String playerClass = userInput.nextLine();\n      if(playerClass.equals(&quot;help&quot;)==true){\n        System.out.println(&quot;Each class has a different set of weapons that can be equipped, &quot;);\n        continue;\n      }\n      else if(playerClass.equals(&quot;Warrior&quot;)==false &amp;&amp; playerClass.equals(&quot;Archer&quot;)==false &amp;&amp; playerClass.equals(&quot;Mage&quot;)==false){\n        System.out.println(&quot;Invalid Selection&quot;);\n        continue;\n      }\n      else if (playerClass.equals(&quot;Warrior&quot;)==true){\n        Warrior user = new Warrior(name);\n        inventory.put(&quot;Simple Sword&quot;,10);\n        equippedItem = &quot;Simple Sword&quot;;\n      }\n      else if (playerClass.equals(&quot;Archer&quot;)==true){\n        Archer user = new Archer(name);\n        inventory.put(&quot;Simple Bow&quot;,10);\n      }\n      else if (playerClass.equals(&quot;Mage&quot;)==true){\n        Mage user = new Mage(name);\n        inventory.put(&quot;Simple Fireball&quot;,10);\n      }\n      else{\n        System.exit(100);\n      }\n      int enemNum = 0;\n      while(true){\n        enemNum = enemNum + 1;\n        int weaponStrength = inventory.get(equippedItem);\n        int enemyDamage = enemNum*10;\n        int enemyHealth = enemNum*400;\n        int playerDamage = user.getDMG(playerStrength, weaponStrength);\n      }\n    }\n  }\n}\n</code></pre>\n<p>Even if I put an else statement automatically defining the user as a warrior it gives me the same error. It only works if I remove the if statements and place a definition of the character as a warrior.</p>\n"},{"tags":["java","native","jna"],"comments":[{"owner":{"account_id":18256279,"reputation":659,"user_id":13290159,"display_name":"0x150"},"score":0,"creation_date":1684089844,"post_id":76226600,"comment_id":134462268,"body_markdown":"&quot;Invalid memory access&quot; often comes from invalid type mapping, aka the java method signature not matching up with the one from the native library below. Are you sure that the c# method signature is actually (II)I and doesn&#39;t contain some weird microsoft related `int` clone?","body":"&quot;Invalid memory access&quot; often comes from invalid type mapping, aka the java method signature not matching up with the one from the native library below. Are you sure that the c# method signature is actually (II)I and doesn&#39;t contain some weird microsoft related <code>int</code> clone?"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1684090064,"post_id":76226600,"comment_id":134462313,"body_markdown":"I don&#39;t see `int Add2(String string, String string2);` in your C#... why are you specifying *extra* methods? Also, it&#39;s `boolean Flag();` one place and `boolean _Flag();` the other.","body":"I don&#39;t see <code>int Add2(String string, String string2);</code> in your C#... why are you specifying <i>extra</i> methods? Also, it&#39;s <code>boolean Flag();</code> one place and <code>boolean _Flag();</code> the other."}],"answers":[{"comments":[{"owner":{"account_id":17147374,"reputation":1,"user_id":12410064,"display_name":"suman sourav"},"score":0,"creation_date":1684735097,"post_id":76249235,"comment_id":134554415,"body_markdown":"I tried 2 approaches  - \n1. build the code in 32bit and 64 bit both for dll and java. Still no luck.\n2. Tried to put explicit export statement - [DllExport( CallingConvention = CallingConvention.Cdecl)]\n \nStill no luck.. Any help here..","body":"I tried 2 approaches  -  1. build the code in 32bit and 64 bit both for dll and java. Still no luck. 2. Tried to put explicit export statement - [DllExport( CallingConvention = CallingConvention.Cdecl)]   Still no luck.. Any help here.."},{"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1684768406,"post_id":76249235,"comment_id":134561359,"body_markdown":"@sumansourav did you try changing the JNA inheritance to `StdCallLibrary`?","body":"@sumansourav did you try changing the JNA inheritance to <code>StdCallLibrary</code>?"},{"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1684769106,"post_id":76249235,"comment_id":134561521,"body_markdown":"@sumansourav your `_Add()` method may be properly mapped but the error/stack corruption could be in a different mapping that you call first.  As you have a mismatch between the methods you&#39;ve shown in C and Java, I am not confident you have shown us all the code involved here.  Please double-check all your function names and mappings.","body":"@sumansourav your <code>_Add()</code> method may be properly mapped but the error/stack corruption could be in a different mapping that you call first.  As you have a mismatch between the methods you&#39;ve shown in C and Java, I am not confident you have shown us all the code involved here.  Please double-check all your function names and mappings."},{"owner":{"account_id":17147374,"reputation":1,"user_id":12410064,"display_name":"suman sourav"},"score":0,"creation_date":1687426003,"post_id":76249235,"comment_id":134936237,"body_markdown":"The issue was because of the .net framework version. The dll was built out of 6.2 version. I build the dll on 4.6 and it worked.","body":"The issue was because of the .net framework version. The dll was built out of 6.2 version. I build the dll on 4.6 and it worked."},{"owner":{"account_id":17147374,"reputation":1,"user_id":12410064,"display_name":"suman sourav"},"score":0,"creation_date":1687426229,"post_id":76249235,"comment_id":134936290,"body_markdown":"Now, since this was just a simple add method, it was fine. But the actual requirement is to call a DLL which in turn calls other DLLs, make a db connection, and return me the decrypted password. But the JNA Library throws a memory invalid issue whenever it tries to load the global variables in dll or call another method from the invoked method. So, is it possible to use JNA for calling a dll that in turn calls other dlls and makes a DB connection??","body":"Now, since this was just a simple add method, it was fine. But the actual requirement is to call a DLL which in turn calls other DLLs, make a db connection, and return me the decrypted password. But the JNA Library throws a memory invalid issue whenever it tries to load the global variables in dll or call another method from the invoked method. So, is it possible to use JNA for calling a dll that in turn calls other dlls and makes a DB connection??"},{"owner":{"account_id":17147374,"reputation":1,"user_id":12410064,"display_name":"suman sourav"},"score":0,"creation_date":1700801916,"post_id":76249235,"comment_id":136700209,"body_markdown":"Does JNA support calling another DLL from the main DLL? The use case is  - we have a DLL exposed to Java and this DLL is calling multiple other DLLs to fetch the result. Is this a case supported by this library? If yes, do we have any references?  And do all the DLLs require  [DllExport] tag to be specified in all or invoked method as part of the execution flow across all the internal chained DLLs.","body":"Does JNA support calling another DLL from the main DLL? The use case is  - we have a DLL exposed to Java and this DLL is calling multiple other DLLs to fetch the result. Is this a case supported by this library? If yes, do we have any references?  And do all the DLLs require  [DllExport] tag to be specified in all or invoked method as part of the execution flow across all the internal chained DLLs."},{"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1700806048,"post_id":76249235,"comment_id":136700548,"body_markdown":"@sumansourav The question &quot;does it support&quot; seems out of context here. Yes, if a DLL calls another that can work with JNA, but JNA doesn&#39;t do anything special to enable this.  Without a speicific example this question os way too broad to answer.","body":"@sumansourav The question &quot;does it support&quot; seems out of context here. Yes, if a DLL calls another that can work with JNA, but JNA doesn&#39;t do anything special to enable this.  Without a speicific example this question os way too broad to answer."},{"owner":{"account_id":17147374,"reputation":1,"user_id":12410064,"display_name":"suman sourav"},"score":0,"creation_date":1700832619,"post_id":76249235,"comment_id":136704613,"body_markdown":"So the use case is - We have one DLL with emaildecryption method that we are using to invoke through Java using JNA.  The parent DLL that is used with [DllExport] tag internally calls 12 other DLLs to decrypt the email address of a user. The other 12 DLLs can not be modified as these are security-related DLLs.  So, can we use JNA to call a DLL that internally calls other DLLs without making any change in the dependent DLLs? Can we achieve this? OS - 64-bit Windows, DLLs compiled from .net 4.6 , Java - 1.8.  (Parent DLL - EmailProcs.dll with [DLLExport] method)","body":"So the use case is - We have one DLL with emaildecryption method that we are using to invoke through Java using JNA.  The parent DLL that is used with [DllExport] tag internally calls 12 other DLLs to decrypt the email address of a user. The other 12 DLLs can not be modified as these are security-related DLLs.  So, can we use JNA to call a DLL that internally calls other DLLs without making any change in the dependent DLLs? Can we achieve this? OS - 64-bit Windows, DLLs compiled from .net 4.6 , Java - 1.8.  (Parent DLL - EmailProcs.dll with [DLLExport] method)"},{"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1700845784,"post_id":76249235,"comment_id":136706701,"body_markdown":"@sumansourav yes, so long as the dependent DLLs are accessible to search","body":"@sumansourav yes, so long as the dependent DLLs are accessible to search"}],"tags":[],"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"comment_count":9,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684769360,"creation_date":1684090996,"answer_id":76249235,"question_id":76226600,"body_markdown":"Your type mappings and function mappings look correct. While there&#39;s a mismatch in the functions in your question, they would result in a different error.  The Invalid memory access points to a problem with passing the function and its arguments on the stack.  \r\n\r\nPossible culprits include:\r\n - function pointer bitness mismatch if you compiled the DLL for a different bitness than your JVM\r\n - calling convention mismatch\r\n - stack is corrupted by a previous call\r\n\r\nThe [Unmanaged Exports](https://www.nuget.org/packages/UnmanagedExports#readme-body-tab) package you are using gives two hints you can follow which correspond to these possible issues:\r\n\r\n&gt; - You have to set your platform target to either x86, ia64 or x64. AnyCPU assemblies cannot export functions.\r\n\r\nMake sure you are calling from the same bitness of JVM you are running.\r\n\r\n&gt; - The export name defaults to the method name and the calling convention to stdcall. If that&#39;s all what you want, you can just use [DllExport] without parameters.\r\n\r\nYou are basically calling `[DllExport(&quot;_Add&quot;, CallingConvention = CallingConvention.StdCall)]`.  However, the JNA invocation passes &quot;this&quot;: `Native.invokeInt(this, this.peer, callFlags, args)` so you probably need the [`.ThisCall` convention](https://learn.microsoft.com/en-us/dotnet/api/system.runtime.interopservices.callingconvention?view=net-7.0):\r\n&gt; The first parameter is the `this` pointer and is stored in register ECX. Other parameters are pushed on the stack. This calling convention is used to call methods on classes exported from an unmanaged DLL.\r\n\r\nAs an (easier) alternative to changing your DLL export to conform to JNA&#39;s expected convention, you can also use the Library loading options when you load the DLL to tell JNA which conventions to use.  While there are many ways to do this, these seem the easiest (pick one):\r\n - add the appropriate convention in the loading options\r\n - add an `implements AltCallingConvention` \r\n - replace your implementation of `Library` with `StdCallLibrary`\r\n\r\nFinally, you may be looking in the wrong place for the error.  You could have corrupted the stack with a previous function call.  Since your question includes a mismatch with function names between C and Java (`Flag()` without the underscore, and an `Add2()` method) it&#39;s clear that the bits of code you are showing us are not the complete class files.  Look at any method mappings that you call before `_Add()`, it&#39;s entirely possible you&#39;ve created the error there.","title":"JNA - Exception in thread &quot;main&quot; java.lang.Error: Invalid memory access","body":"<p>Your type mappings and function mappings look correct. While there's a mismatch in the functions in your question, they would result in a different error.  The Invalid memory access points to a problem with passing the function and its arguments on the stack.</p>\n<p>Possible culprits include:</p>\n<ul>\n<li>function pointer bitness mismatch if you compiled the DLL for a different bitness than your JVM</li>\n<li>calling convention mismatch</li>\n<li>stack is corrupted by a previous call</li>\n</ul>\n<p>The <a href=\"https://www.nuget.org/packages/UnmanagedExports#readme-body-tab\" rel=\"nofollow noreferrer\">Unmanaged Exports</a> package you are using gives two hints you can follow which correspond to these possible issues:</p>\n<blockquote>\n<ul>\n<li>You have to set your platform target to either x86, ia64 or x64. AnyCPU assemblies cannot export functions.</li>\n</ul>\n</blockquote>\n<p>Make sure you are calling from the same bitness of JVM you are running.</p>\n<blockquote>\n<ul>\n<li>The export name defaults to the method name and the calling convention to stdcall. If that's all what you want, you can just use [DllExport] without parameters.</li>\n</ul>\n</blockquote>\n<p>You are basically calling <code>[DllExport(&quot;_Add&quot;, CallingConvention = CallingConvention.StdCall)]</code>.  However, the JNA invocation passes &quot;this&quot;: <code>Native.invokeInt(this, this.peer, callFlags, args)</code> so you probably need the <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.runtime.interopservices.callingconvention?view=net-7.0\" rel=\"nofollow noreferrer\"><code>.ThisCall</code> convention</a>:</p>\n<blockquote>\n<p>The first parameter is the <code>this</code> pointer and is stored in register ECX. Other parameters are pushed on the stack. This calling convention is used to call methods on classes exported from an unmanaged DLL.</p>\n</blockquote>\n<p>As an (easier) alternative to changing your DLL export to conform to JNA's expected convention, you can also use the Library loading options when you load the DLL to tell JNA which conventions to use.  While there are many ways to do this, these seem the easiest (pick one):</p>\n<ul>\n<li>add the appropriate convention in the loading options</li>\n<li>add an <code>implements AltCallingConvention</code></li>\n<li>replace your implementation of <code>Library</code> with <code>StdCallLibrary</code></li>\n</ul>\n<p>Finally, you may be looking in the wrong place for the error.  You could have corrupted the stack with a previous function call.  Since your question includes a mismatch with function names between C and Java (<code>Flag()</code> without the underscore, and an <code>Add2()</code> method) it's clear that the bits of code you are showing us are not the complete class files.  Look at any method mappings that you call before <code>_Add()</code>, it's entirely possible you've created the error there.</p>\n"}],"owner":{"account_id":17147374,"reputation":1,"user_id":12410064,"display_name":"suman sourav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":364,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684769360,"creation_date":1683800678,"question_id":76226600,"body_markdown":"I am trying to use JNA to use a method in c# dll. \r\n\r\nJava Code - \r\n\r\n```java\r\nimport java.lang.reflect.Method;\r\nimport com.sun.jna.Library;\r\nimport com.sun.jna.Native;\r\n\r\nclass JNIDemoResource {\r\n  public static interface JNITestInterface extends Library {\r\n    //System.out.println(&quot;TCEnabled=&quot;+inst.TCEnabled());\r\n\tJNITestInterface inst =  (JNITestInterface) Native.loadLibrary(&quot;ClassLibrary1&quot;, JNITestInterface.class);\r\n\tint _Add(int x, int y);\r\n\tboolean Flag();\r\n\tint Add2(String string, String string2);\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n\tSystem.setProperty(&quot;jna.library.path&quot;, &quot;C:\\\\NativeDll&quot;);\r\n    int sum = JNITestInterface.inst._Add(2, 3);\r\n    System.out.println(&quot;The sum is: &quot; + sum);\r\n  }\r\n}\r\n```\r\n\r\nC# dll code. I am using the [DllExport nuget package](https://www.nuget.org/packages/UnmanagedExports#readme-body-tab) in my project to expose the methods in dll. \r\n![DLLExport download screencap](https://i.stack.imgur.com/ybTn8.png)\r\n\r\n```c#\r\n//using System.Runtime.InteropServices;\r\nusing System;\r\nnamespace ClassLibrary1\r\n{\r\n    public class Class1\r\n    {\r\n        [DllExport]\r\n        public static int _Add(int x, int y)\r\n        {\r\n            return x + y;\r\n        }\r\n        [DllExport]\r\n        public static bool _Flag()\r\n        {\r\n              return true;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nFrom dependency walker I am able to see the methods in the dll. Dumpbin is also showing that methods are exposed.\r\n\r\n```text\r\n&gt; dumpbin /exports &quot;C:\\NativeDll\\ClassLibrary1.dll&quot;\r\n\r\nDump of file C:\\NativeDll\\ClassLibrary1.dll\r\n\r\n  Section contains the following exports for \\ClassLibrary1.dll\r\n\r\n    00000000 characteristics\r\n    645CBF04 time date stamp Thu May 11 15:40:12 2023\r\n        0.00 version\r\n           1 ordinal base\r\n           2 number of functions\r\n           2 number of names\r\n\r\n    ordinal hint RVA      name\r\n\r\n          1    0 0000251A _Add\r\n          2    1 00002526 _Flag\r\n\r\n  Summary\r\n\r\n        2000 .reloc\r\n        2000 .rsrc\r\n        2000 .sdata\r\n        2000 .text\r\n```\r\n\r\nWhen I am calling the dll method from Java code, I am getting following error - \r\n\r\n```text\r\nException in thread &quot;main&quot; java.lang.Error: Invalid memory access\r\n\tat com.sun.jna.Native.invokeInt(Native Method)\r\n\tat com.sun.jna.Function.invoke(Function.java:426)\r\n\tat com.sun.jna.Function.invoke(Function.java:361)\r\n\tat com.sun.jna.Library$Handler.invoke(Library.java:270)\r\n\tat com.sun.proxy.$Proxy0._Add(Unknown Source)\r\n\tat JNIDemoResource.main(JNIDemoResource.java:27)\r\n```\r\n\r\nCan anyone please suggest where am I going wrong?\r\n\r\nThe library that I am using is - jna-5.13.0.jar.","title":"JNA - Exception in thread &quot;main&quot; java.lang.Error: Invalid memory access","body":"<p>I am trying to use JNA to use a method in c# dll.</p>\n<p>Java Code -</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.reflect.Method;\nimport com.sun.jna.Library;\nimport com.sun.jna.Native;\n\nclass JNIDemoResource {\n  public static interface JNITestInterface extends Library {\n    //System.out.println(&quot;TCEnabled=&quot;+inst.TCEnabled());\n    JNITestInterface inst =  (JNITestInterface) Native.loadLibrary(&quot;ClassLibrary1&quot;, JNITestInterface.class);\n    int _Add(int x, int y);\n    boolean Flag();\n    int Add2(String string, String string2);\n  }\n\n  public static void main(String[] args) {\n    System.setProperty(&quot;jna.library.path&quot;, &quot;C:\\\\NativeDll&quot;);\n    int sum = JNITestInterface.inst._Add(2, 3);\n    System.out.println(&quot;The sum is: &quot; + sum);\n  }\n}\n</code></pre>\n<p>C# dll code. I am using the <a href=\"https://www.nuget.org/packages/UnmanagedExports#readme-body-tab\" rel=\"nofollow noreferrer\">DllExport nuget package</a> in my project to expose the methods in dll.\n<img src=\"https://i.stack.imgur.com/ybTn8.png\" alt=\"DLLExport download screencap\" /></p>\n<pre class=\"lang-cs prettyprint-override\"><code>//using System.Runtime.InteropServices;\nusing System;\nnamespace ClassLibrary1\n{\n    public class Class1\n    {\n        [DllExport]\n        public static int _Add(int x, int y)\n        {\n            return x + y;\n        }\n        [DllExport]\n        public static bool _Flag()\n        {\n              return true;\n        }\n    }\n}\n</code></pre>\n<p>From dependency walker I am able to see the methods in the dll. Dumpbin is also showing that methods are exposed.</p>\n<pre><code>&gt; dumpbin /exports &quot;C:\\NativeDll\\ClassLibrary1.dll&quot;\n\nDump of file C:\\NativeDll\\ClassLibrary1.dll\n\n  Section contains the following exports for \\ClassLibrary1.dll\n\n    00000000 characteristics\n    645CBF04 time date stamp Thu May 11 15:40:12 2023\n        0.00 version\n           1 ordinal base\n           2 number of functions\n           2 number of names\n\n    ordinal hint RVA      name\n\n          1    0 0000251A _Add\n          2    1 00002526 _Flag\n\n  Summary\n\n        2000 .reloc\n        2000 .rsrc\n        2000 .sdata\n        2000 .text\n</code></pre>\n<p>When I am calling the dll method from Java code, I am getting following error -</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Error: Invalid memory access\n    at com.sun.jna.Native.invokeInt(Native Method)\n    at com.sun.jna.Function.invoke(Function.java:426)\n    at com.sun.jna.Function.invoke(Function.java:361)\n    at com.sun.jna.Library$Handler.invoke(Library.java:270)\n    at com.sun.proxy.$Proxy0._Add(Unknown Source)\n    at JNIDemoResource.main(JNIDemoResource.java:27)\n</code></pre>\n<p>Can anyone please suggest where am I going wrong?</p>\n<p>The library that I am using is - jna-5.13.0.jar.</p>\n"},{"tags":["java","spring","resttemplate","digest-authentication","apache-httpclient-5.x"],"comments":[{"owner":{"account_id":2368629,"reputation":1042,"user_id":2073804,"display_name":"ron190"},"score":0,"creation_date":1690154204,"post_id":76307749,"comment_id":135309708,"body_markdown":"Example of Digest client using native `java.net.http.HttpClient`: https://stackoverflow.com/a/76750652/2073804","body":"Example of Digest client using native <code>java.net.http.HttpClient</code>: <a href=\"https://stackoverflow.com/a/76750652/2073804\">stackoverflow.com/a/76750652/2073804</a>"}],"owner":{"account_id":20873729,"reputation":1,"user_id":21941516,"display_name":"W Swiecie Kodu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684769280,"creation_date":1684769280,"question_id":76307749,"body_markdown":"I am working on migration of RestTemplate with digest Authentication from httpclient 4.x to 5.2. It was implemented using DigestScheme with overrideParamter - which is not longer available in 5.x Please find code below.\r\n\r\nMy code:\r\n\r\n```\r\nAuthCache authCache = new BasicAuthCache();\r\nDigestScheme digestAuth = new DigestScheme();\r\n//below line cause complications error because method not found\r\ndigestAuth.overrideParamter(“realm”,digestRealm);\r\nauthCache.put(host, digestAuth);\r\n```\r\n\r\nI tried to find example in the Internet but all tutorials are about 4.x version.\r\n\r\nMaybe someone did it already and can help?","title":"Migrating RestTemplate with digest Authentication from httpclient (4.x) to 5.2 - DigestScheme overrideParamter not found","body":"<p>I am working on migration of RestTemplate with digest Authentication from httpclient 4.x to 5.2. It was implemented using DigestScheme with overrideParamter - which is not longer available in 5.x Please find code below.</p>\n<p>My code:</p>\n<pre><code>AuthCache authCache = new BasicAuthCache();\nDigestScheme digestAuth = new DigestScheme();\n//below line cause complications error because method not found\ndigestAuth.overrideParamter(“realm”,digestRealm);\nauthCache.put(host, digestAuth);\n</code></pre>\n<p>I tried to find example in the Internet but all tutorials are about 4.x version.</p>\n<p>Maybe someone did it already and can help?</p>\n"},{"tags":["java","eclipse","debugging","tomcat"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1684769388,"post_id":76307677,"comment_id":134561582,"body_markdown":"Hard to say when an IDE is in between. Did you deploy and restart tomcat ? Is the lib provided or in the war ?","body":"Hard to say when an IDE is in between. Did you deploy and restart tomcat ? Is the lib provided or in the war ?"},{"owner":{"account_id":7573385,"reputation":25,"user_id":5746454,"accept_rate":12,"display_name":"Jaideep"},"score":0,"creation_date":1684769512,"post_id":76307677,"comment_id":134561616,"body_markdown":"Yes, I always deploy and restart. The changes also reflect in the class file of the library under Project and External Dependencies of Project A. Lib is provided","body":"Yes, I always deploy and restart. The changes also reflect in the class file of the library under Project and External Dependencies of Project A. Lib is provided"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1684771619,"post_id":76307677,"comment_id":134562082,"body_markdown":"*How* are you replacing the lib jar file? Is Eclipse aware that it&#39;s been changed? How is Tomcat being launched?","body":"<i>How</i> are you replacing the lib jar file? Is Eclipse aware that it&#39;s been changed? How is Tomcat being launched?"},{"owner":{"account_id":7573385,"reputation":25,"user_id":5746454,"accept_rate":12,"display_name":"Jaideep"},"score":0,"creation_date":1684772368,"post_id":76307677,"comment_id":134562266,"body_markdown":"I am manually replacing the jar. Yes eclipse is aware since changes in class file are reflected in eclipse decompiler. I am using catalina jpda run command to launch.","body":"I am manually replacing the jar. Yes eclipse is aware since changes in class file are reflected in eclipse decompiler. I am using catalina jpda run command to launch."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1684772571,"post_id":76307677,"comment_id":134562320,"body_markdown":"What is this &quot;eclipse decompiler&quot; you&#39;re mentioning? Eclipse doesn&#39;t come with a decompiler.","body":"What is this &quot;eclipse decompiler&quot; you&#39;re mentioning? Eclipse doesn&#39;t come with a decompiler."},{"owner":{"account_id":7573385,"reputation":25,"user_id":5746454,"accept_rate":12,"display_name":"Jaideep"},"score":0,"creation_date":1684773106,"post_id":76307677,"comment_id":134562437,"body_markdown":"I have downloaded a de-compiler to debug in class file in eclipse. When I open the class file, latest changes are present. However the breakpoint does not break on the latest change.","body":"I have downloaded a de-compiler to debug in class file in eclipse. When I open the class file, latest changes are present. However the breakpoint does not break on the latest change."}],"owner":{"account_id":7573385,"reputation":25,"user_id":5746454,"accept_rate":12,"display_name":"Jaideep"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684768858,"creation_date":1684768858,"question_id":76307677,"body_markdown":"I have a java project(Project A) that consumes a library(Project B) dependency as a jar. After making changes to the library project(Project B), rebuilding the classes, and replacing the lib jar file, when I debug, the debugger breaks at irregular points in eclipse. The latest change is not executed. I am running the project on tomcat. If I try to hot code after adding Project B in debug configurations, it says out of synch. Debugger in both java and class file behave in the same irregular way.\r\nHowever, in eclipse de-compiler, the changes are reflected properly in the class where I made the change. I have also confirmed the library path in Project and External dependencies under Project A. FYI, I am just adding the following code\r\n\r\n    String key1 = &quot;one&quot;;\r\n    String key2 = &quot;two&quot;;\r\n    LOGGER.info(&quot;key1:&quot; + key1);\r\n\r\nThere is no other code change and there is no error in the logs as well.\r\nWhile doing a ctrl+shift+i  on key1 it says &quot;Unable to resolve key2 to a variable&quot;.\r\nThere is no other copy of Project B jar where it might be referring to, since I have cleared all the cache. \r\n","title":"Java project does not recognize latest code change in library dependency","body":"<p>I have a java project(Project A) that consumes a library(Project B) dependency as a jar. After making changes to the library project(Project B), rebuilding the classes, and replacing the lib jar file, when I debug, the debugger breaks at irregular points in eclipse. The latest change is not executed. I am running the project on tomcat. If I try to hot code after adding Project B in debug configurations, it says out of synch. Debugger in both java and class file behave in the same irregular way.\nHowever, in eclipse de-compiler, the changes are reflected properly in the class where I made the change. I have also confirmed the library path in Project and External dependencies under Project A. FYI, I am just adding the following code</p>\n<pre><code>String key1 = &quot;one&quot;;\nString key2 = &quot;two&quot;;\nLOGGER.info(&quot;key1:&quot; + key1);\n</code></pre>\n<p>There is no other code change and there is no error in the logs as well.\nWhile doing a ctrl+shift+i  on key1 it says &quot;Unable to resolve key2 to a variable&quot;.\nThere is no other copy of Project B jar where it might be referring to, since I have cleared all the cache.</p>\n"},{"tags":["java","redis","timestamp","jedis","redisjson"],"comments":[{"owner":{"account_id":291341,"reputation":9138,"user_id":593425,"accept_rate":55,"display_name":"Guy Korland"},"score":0,"creation_date":1685868976,"post_id":76307619,"comment_id":134718832,"body_markdown":"What did you get using RediSearch?","body":"What did you get using RediSearch?"}],"owner":{"account_id":28652526,"reputation":13,"user_id":21939232,"display_name":"vincent_01"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684768493,"creation_date":1684768493,"question_id":76307619,"body_markdown":"So I want to query all redisJsons that were inserted to the Redis cache after a certain timestamp .My redisJsons have a field like this one : \r\n\r\n` GENERATION_TIMESTAMP : &quot;2023-05-22 16:49:14.8052438&quot; `\r\n\r\nIs there a way to query them without using a sorted Set where we store the keys sorted by their timeStamps?\r\n\r\nSo a certain use case would be that I have a class that takes as argument a Timestamp , and returns all redisJsons that were saved to the cache after this timeStamp . \r\n\r\nI expected something like using an index in the RediSearch module , I also tried to send all the redisJsons in a stream and query by using xrange , but this doesn&#39;t work for my use case .","title":"Query redis data after a certain Timestamp","body":"<p>So I want to query all redisJsons that were inserted to the Redis cache after a certain timestamp .My redisJsons have a field like this one :</p>\n<p><code>GENERATION_TIMESTAMP : &quot;2023-05-22 16:49:14.8052438&quot;</code></p>\n<p>Is there a way to query them without using a sorted Set where we store the keys sorted by their timeStamps?</p>\n<p>So a certain use case would be that I have a class that takes as argument a Timestamp , and returns all redisJsons that were saved to the cache after this timeStamp .</p>\n<p>I expected something like using an index in the RediSearch module , I also tried to send all the redisJsons in a stream and query by using xrange , but this doesn't work for my use case .</p>\n"},{"tags":["java","okhttp","junit5","openai-api","mockwebserver"],"owner":{"account_id":3493556,"reputation":4931,"user_id":2922515,"accept_rate":70,"display_name":"Vipin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":354,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684768434,"creation_date":1684758797,"question_id":76306253,"body_markdown":"I am trying to use okhttp3 MockWebServer for my Junit5 test but seems it is not using MockWebServer and instead calls actual url resulting to Auth errors (401 status). Here is my test class, I am newbie to MockWebServer , is there anything wrong with my test code?\r\n\r\n\r\n    package com.abcd.abcdeopenaiapi.chatcompletion;\r\n    \r\n    import com.abcd.abcdeopenaiapi.apiresponse.OpenAiChatCompletionResponse;\r\n    import okhttp3.mockwebserver.MockResponse;\r\n    import okhttp3.mockwebserver.MockWebServer;\r\n    import org.junit.jupiter.api.BeforeEach;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.test.context.TestPropertySource;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.List;\r\n    \r\n    @SpringBootTest\r\n    @TestPropertySource(locations=&quot;classpath:application-test.properties&quot;)\r\n    public class ChatCompletionControllerTest\r\n    {\r\n      public MockWebServer mockWebServer;\r\n    \r\n      @Autowired\r\n      ChatCompletionController chatCompletionController;\r\n      \r\n      @BeforeEach\r\n      void setUp() throws IOException {\r\n    \r\n        mockWebServer = new MockWebServer();\r\n        mockWebServer.url(&quot;https://xy-ab-cd-api001.openai.com/openai/chat/completions?api-version=123-preview&quot;); //todo\r\n    \r\n        MockResponse mockResponse = new MockResponse()\r\n                .addHeader(&quot;Content-Type&quot;, &quot;application/json; charset=utf-8&quot;)\r\n                .setBody(&quot;Success&quot;);\r\n    \r\n        mockWebServer.enqueue(mockResponse);\r\n      }\r\n    \r\n      @Test\r\n      public void openAiCompletionApi_Success() throws Exception {\r\n        OpenAIChatCompletionRequest.OpenAIChatCompletionRequestBuilder builder = OpenAIChatCompletionRequest.builder();\r\n        OpenAIChatCompletionRequest chatCompletionRequest = builder.messages(List.of())\r\n                                                                   .stream(false)\r\n                                                                   .n(1)\r\n                                                                   .stop(null)\r\n                                                                   .topP(1.0)\r\n                                                                   .logitBias(null)\r\n                                                                   .maxTokens(400)\r\n                                                                   .presence_penalty(0)\r\n                                                                   .temperature(0.2)\r\n                                                                   .frequency_penalty(0)\r\n                                                                   .build();\r\n    \r\n        ResponseEntity&lt;OpenAiChatCompletionResponse&gt; responseEntity = chatCompletionController.openAiCompletionApi(\r\n               chatCompletionRequest);\r\n    \r\n        System.out.println(responseEntity); // this will be replaced with assertion once solution works\r\n    \r\n      }\r\n    \r\n    }\r\n\r\n\r\n\r\nThis is implementation of actual method from controller, that class http url.\r\n\r\n    @NotNull\r\n      private ResponseEntity&lt;OpenAiChatCompletionResponse&gt; getOpenAiChatCompletionResponseResponseEntity(Response httpResponse) throws IOException\r\n      {\r\n        if (httpResponse.body() != null)\r\n        {\r\n          String responseString = httpResponse.body().string();\r\n          if(StringUtils.isNotEmpty(responseString))\r\n          {\r\n            log.info(&quot;Response string from http call is: &quot; + responseString);\r\n            OpenAiChatCompletionResponse openAICompletionResponse = objectMapper.readValue(responseString,\r\n                                                                                           OpenAiChatCompletionResponse.class);\r\n            return ResponseEntity.ok(openAICompletionResponse);\r\n          }\r\n        }\r\n        log.error(&quot;No content available in Success Response&quot;);\r\n        return ResponseEntity.noContent().build();\r\n      }\r\n\r\n\r\n\r\n\r\nIt works after making below changes:\r\n\r\n 1. Remove `https://xy-ab-cd-api001.openai.com` from method call\r\n    mockWebServer.url, seems like MockWebServer mocks localhost urls, how do we mock a custom url? or may be it is not possible.\r\n 2. Replace https with http\r\n 3. Add port using `mockWebServer.start(8080)`\r\n\r\nI am looking for solution for all of these 3 workaround I had to implement.","title":"Using okhttp MockWebServer in junit calls actual url rather than mockwebserver","body":"<p>I am trying to use okhttp3 MockWebServer for my Junit5 test but seems it is not using MockWebServer and instead calls actual url resulting to Auth errors (401 status). Here is my test class, I am newbie to MockWebServer , is there anything wrong with my test code?</p>\n<pre><code>package com.abcd.abcdeopenaiapi.chatcompletion;\n\nimport com.abcd.abcdeopenaiapi.apiresponse.OpenAiChatCompletionResponse;\nimport okhttp3.mockwebserver.MockResponse;\nimport okhttp3.mockwebserver.MockWebServer;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.test.context.TestPropertySource;\n\nimport java.io.IOException;\nimport java.util.List;\n\n@SpringBootTest\n@TestPropertySource(locations=&quot;classpath:application-test.properties&quot;)\npublic class ChatCompletionControllerTest\n{\n  public MockWebServer mockWebServer;\n\n  @Autowired\n  ChatCompletionController chatCompletionController;\n  \n  @BeforeEach\n  void setUp() throws IOException {\n\n    mockWebServer = new MockWebServer();\n    mockWebServer.url(&quot;https://xy-ab-cd-api001.openai.com/openai/chat/completions?api-version=123-preview&quot;); //todo\n\n    MockResponse mockResponse = new MockResponse()\n            .addHeader(&quot;Content-Type&quot;, &quot;application/json; charset=utf-8&quot;)\n            .setBody(&quot;Success&quot;);\n\n    mockWebServer.enqueue(mockResponse);\n  }\n\n  @Test\n  public void openAiCompletionApi_Success() throws Exception {\n    OpenAIChatCompletionRequest.OpenAIChatCompletionRequestBuilder builder = OpenAIChatCompletionRequest.builder();\n    OpenAIChatCompletionRequest chatCompletionRequest = builder.messages(List.of())\n                                                               .stream(false)\n                                                               .n(1)\n                                                               .stop(null)\n                                                               .topP(1.0)\n                                                               .logitBias(null)\n                                                               .maxTokens(400)\n                                                               .presence_penalty(0)\n                                                               .temperature(0.2)\n                                                               .frequency_penalty(0)\n                                                               .build();\n\n    ResponseEntity&lt;OpenAiChatCompletionResponse&gt; responseEntity = chatCompletionController.openAiCompletionApi(\n           chatCompletionRequest);\n\n    System.out.println(responseEntity); // this will be replaced with assertion once solution works\n\n  }\n\n}\n</code></pre>\n<p>This is implementation of actual method from controller, that class http url.</p>\n<pre><code>@NotNull\n  private ResponseEntity&lt;OpenAiChatCompletionResponse&gt; getOpenAiChatCompletionResponseResponseEntity(Response httpResponse) throws IOException\n  {\n    if (httpResponse.body() != null)\n    {\n      String responseString = httpResponse.body().string();\n      if(StringUtils.isNotEmpty(responseString))\n      {\n        log.info(&quot;Response string from http call is: &quot; + responseString);\n        OpenAiChatCompletionResponse openAICompletionResponse = objectMapper.readValue(responseString,\n                                                                                       OpenAiChatCompletionResponse.class);\n        return ResponseEntity.ok(openAICompletionResponse);\n      }\n    }\n    log.error(&quot;No content available in Success Response&quot;);\n    return ResponseEntity.noContent().build();\n  }\n</code></pre>\n<p>It works after making below changes:</p>\n<ol>\n<li>Remove <code>https://xy-ab-cd-api001.openai.com</code> from method call\nmockWebServer.url, seems like MockWebServer mocks localhost urls, how do we mock a custom url? or may be it is not possible.</li>\n<li>Replace https with http</li>\n<li>Add port using <code>mockWebServer.start(8080)</code></li>\n</ol>\n<p>I am looking for solution for all of these 3 workaround I had to implement.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1339867057,"post_id":11065517,"comment_id":14480868,"body_markdown":"First you must import the classes.","body":"First you must import the classes."},{"owner":{"account_id":337407,"reputation":10009,"user_id":665657,"accept_rate":75,"display_name":"wjans"},"score":2,"creation_date":1339867058,"post_id":11065517,"comment_id":14480869,"body_markdown":"Is `java.util.List` present in your imports?","body":"Is <code>java.util.List</code> present in your imports?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1339869313,"post_id":11065517,"comment_id":14481324,"body_markdown":"By the way, this has nothing to do with Eclipse and all to do with basic Java.","body":"By the way, this has nothing to do with Eclipse and all to do with basic Java."}],"answers":[{"tags":[],"owner":{"account_id":1063558,"reputation":25048,"user_id":1064659,"accept_rate":77,"display_name":"Taymon"},"comment_count":0,"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1339867104,"creation_date":1339867104,"answer_id":11065534,"question_id":11065517,"body_markdown":"Put the following at the top of your source file:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n[Here](http://docs.oracle.com/javase/tutorial/java/package/usepkgs.html) is an explanation of what packages are and how the `import` statement works.","title":"Eclipse message saying List cannot be resolved to a type","body":"<p>Put the following at the top of your source file:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n</code></pre>\n\n<p><a href=\"http://docs.oracle.com/javase/tutorial/java/package/usepkgs.html\">Here</a> is an explanation of what packages are and how the <code>import</code> statement works.</p>\n"},{"comments":[{"owner":{"account_id":1244903,"reputation":107,"user_id":1206575,"accept_rate":0,"display_name":"Martijn"},"score":0,"creation_date":1339867471,"post_id":11065541,"comment_id":14480961,"body_markdown":"Oops, missed the first line, sorry!","body":"Oops, missed the first line, sorry!"}],"tags":[],"owner":{"account_id":1244903,"reputation":107,"user_id":1206575,"accept_rate":0,"display_name":"Martijn"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1339867171,"creation_date":1339867171,"answer_id":11065541,"question_id":11065517,"body_markdown":"You need the following 2 imports\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\nDo you use an IDE? Most IDE&#39;s have helps that will suggest fixes like these imports.","title":"Eclipse message saying List cannot be resolved to a type","body":"<p>You need the following 2 imports</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n</code></pre>\n\n<p>Do you use an IDE? Most IDE's have helps that will suggest fixes like these imports.</p>\n"},{"tags":[],"owner":{"account_id":1467202,"reputation":2127,"user_id":1379732,"accept_rate":83,"display_name":"christian.vogel"},"comment_count":0,"down_vote_count":1,"up_vote_count":52,"is_accepted":true,"score":51,"last_activity_date":1431012805,"creation_date":1339867195,"answer_id":11065545,"question_id":11065517,"body_markdown":"You can press &lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;O&lt;/kbd&gt; for auto importing. ","title":"Eclipse message saying List cannot be resolved to a type","body":"<p>You can press <kbd>Shift</kbd>+<kbd>Ctrl</kbd>+<kbd>O</kbd> for auto importing. </p>\n"},{"tags":[],"owner":{"account_id":1355206,"reputation":33312,"user_id":1293744,"accept_rate":44,"display_name":"Kumar Vivek Mitra"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1487695897,"creation_date":1339868545,"answer_id":11065681,"question_id":11065517,"body_markdown":"You will have to `either import` the packages in which these classes are present, `or write the entire path.`\r\n\r\n1. import :\r\n---\r\n             \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n2. Full path:\r\n---\r\n   \r\n\r\npublic class A {  \r\n\r\n`java.util.List&lt;Integer&gt;` intList = new `java.util.ArrayList&lt;Integer&gt;()`;\r\n   \r\n }\r\n\r\n3. In Eclipse IDE, \r\n---\r\nuse `ctrl + shift + O` to import.","title":"Eclipse message saying List cannot be resolved to a type","body":"<p>You will have to <code>either import</code> the packages in which these classes are present, <code>or write the entire path.</code></p>\n\n<h2>1. import :</h2>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n</code></pre>\n\n<h2>2. Full path:</h2>\n\n<p>public class A {  </p>\n\n<p><code>java.util.List&lt;Integer&gt;</code> intList = new <code>java.util.ArrayList&lt;Integer&gt;()</code>;</p>\n\n<p>}</p>\n\n<h2>3. In Eclipse IDE,</h2>\n\n<p>use <code>ctrl + shift + O</code> to import.</p>\n"},{"tags":[],"owner":{"account_id":186434,"reputation":3258,"user_id":423816,"accept_rate":77,"display_name":"maggix"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1428567225,"creation_date":1428567225,"answer_id":29533229,"question_id":11065517,"body_markdown":"Sometimes it may also be that the Java Build Path is not correctly set for your project.\r\n\r\nGo to the project properties (Right click on project name in workspace and then click on Properties) and in the &quot;Java Build Path&quot; check if the `JRE System Library` is set to `unbound`. \r\n\r\nIf that&#39;s the case, change it to one of the Java SDK available on your machine. The address to download those is [this one.][1] \r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/downloads/index.html","title":"Eclipse message saying List cannot be resolved to a type","body":"<p>Sometimes it may also be that the Java Build Path is not correctly set for your project.</p>\n\n<p>Go to the project properties (Right click on project name in workspace and then click on Properties) and in the \"Java Build Path\" check if the <code>JRE System Library</code> is set to <code>unbound</code>. </p>\n\n<p>If that's the case, change it to one of the Java SDK available on your machine. The address to download those is <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/index.html\" rel=\"nofollow\">this one.</a> </p>\n"},{"comments":[{"owner":{"account_id":1270839,"reputation":18313,"user_id":1227152,"display_name":"mustaccio"},"score":0,"creation_date":1547862599,"post_id":54263145,"comment_id":95350989,"body_markdown":"List variable? Really?","body":"List variable? Really?"}],"tags":[],"owner":{"account_id":15154675,"reputation":1,"user_id":10935930,"display_name":"Dheeraj"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1547863691,"creation_date":1547858716,"answer_id":54263145,"question_id":11065517,"body_markdown":"You are declaring List object outside any method.\r\nMove it inside a method and it will work.","title":"Eclipse message saying List cannot be resolved to a type","body":"<p>You are declaring List object outside any method.\nMove it inside a method and it will work.</p>\n"},{"tags":[],"owner":{"account_id":14576718,"reputation":43,"user_id":10528402,"display_name":"Zameel NM"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587729362,"creation_date":1587729362,"answer_id":61407778,"question_id":11065517,"body_markdown":"Placed the cursor into the place where error is showing then eclipse will suggest some quick fixes through a dialog box. In the dialog box select the option &quot;Import arraylist&quot;. Then Eclipse will automatically import. \r\n","title":"Eclipse message saying List cannot be resolved to a type","body":"<p>Placed the cursor into the place where error is showing then eclipse will suggest some quick fixes through a dialog box. In the dialog box select the option \"Import arraylist\". Then Eclipse will automatically import. </p>\n"},{"tags":[],"owner":{"account_id":19660821,"reputation":1,"user_id":14392283,"display_name":"Gunjan Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601876192,"creation_date":1601876192,"answer_id":64202951,"question_id":11065517,"body_markdown":"Even after importing the required packages, if the error persists then just click on Project in the Menu Bar and then click on Clean. Then right-click on your project from the project explorer and refresh your project. \r\n","title":"Eclipse message saying List cannot be resolved to a type","body":"<p>Even after importing the required packages, if the error persists then just click on Project in the Menu Bar and then click on Clean. Then right-click on your project from the project explorer and refresh your project.</p>\n"},{"tags":[],"owner":{"account_id":14005411,"reputation":71,"user_id":10797105,"display_name":"Syed Saad Ullah Shah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638341841,"creation_date":1638341841,"answer_id":70180171,"question_id":11065517,"body_markdown":"java.util.List&lt;Integer&gt; intList = new java.util.ArrayList&lt;Integer&gt;();\r\n\r\nThis resolves the issue.","title":"Eclipse message saying List cannot be resolved to a type","body":"<p>java.util.List intList = new java.util.ArrayList();</p>\n<p>This resolves the issue.</p>\n"},{"tags":[],"owner":{"account_id":28653572,"reputation":1,"user_id":21940079,"display_name":"Otmane Bachri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684768348,"creation_date":1684768307,"answer_id":76307592,"question_id":11065517,"body_markdown":"So I&#39;am suffering from the same probleme so you need to insall jre 1.8\r\n\r\n1 - go to this link and install the JRE 1.8 https://www.java.com/fr/download/manual.jsp\r\n2 - go to eclipse goto project proprities --&gt; build path -&gt;Library &gt; Edit Alternatif JRE choose from your directory the file you have insall from presse finish apply apply and close this will slove the probleme","title":"Eclipse message saying List cannot be resolved to a type","body":"<p>So I'am suffering from the same probleme so you need to insall jre 1.8</p>\n<p>1 - go to this link and install the JRE 1.8 <a href=\"https://www.java.com/fr/download/manual.jsp\" rel=\"nofollow noreferrer\">https://www.java.com/fr/download/manual.jsp</a>\n2 - go to eclipse goto project proprities --&gt; build path -&gt;Library &gt; Edit Alternatif JRE choose from your directory the file you have insall from presse finish apply apply and close this will slove the probleme</p>\n"}],"owner":{"account_id":1523643,"reputation":23693,"user_id":1422604,"accept_rate":85,"display_name":"Alan2"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128445,"favorite_count":0,"down_vote_count":1,"up_vote_count":30,"accepted_answer_id":11065545,"answer_count":10,"score":29,"last_activity_date":1684768348,"creation_date":1339867002,"question_id":11065517,"body_markdown":"I am trying the following code in eclipse:\r\n\r\n    public class A {    \r\n        List&lt;Integer&gt; intList = new ArrayList&lt;Integer&gt;();\r\n    }\r\n\r\nHowever it gives me an error saying: List cannot be resolved to a type and ArrayList cannot be resolved to a type. \r\n\r\nIs there some library I need to add and how do I do that?","title":"Eclipse message saying List cannot be resolved to a type","body":"<p>I am trying the following code in eclipse:</p>\n\n<pre><code>public class A {    \n    List&lt;Integer&gt; intList = new ArrayList&lt;Integer&gt;();\n}\n</code></pre>\n\n<p>However it gives me an error saying: List cannot be resolved to a type and ArrayList cannot be resolved to a type. </p>\n\n<p>Is there some library I need to add and how do I do that?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"score":0,"creation_date":1684756125,"post_id":76305835,"comment_id":134558509,"body_markdown":"You can create DTO to represents the combined data. and then you can modify your repositories to retrieve the combined data using a query.","body":"You can create DTO to represents the combined data. and then you can modify your repositories to retrieve the combined data using a query."},{"owner":{"account_id":23234885,"reputation":65,"user_id":17325010,"display_name":"JJJJJJ"},"score":0,"creation_date":1684756501,"post_id":76305835,"comment_id":134558590,"body_markdown":"is there other option other than creating a DTO ?","body":"is there other option other than creating a DTO ?"},{"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"score":0,"creation_date":1684756626,"post_id":76305835,"comment_id":134558619,"body_markdown":"You can use Tuple interface too. Here is examples: \nhttps://www.javatpoint.com/java-tuple","body":"You can use Tuple interface too. Here is examples:  <a href=\"https://www.javatpoint.com/java-tuple\" rel=\"nofollow noreferrer\">javatpoint.com/java-tuple</a>"}],"answers":[{"tags":[],"owner":{"account_id":2669818,"reputation":715,"user_id":2307460,"accept_rate":60,"display_name":"Yogesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684760836,"creation_date":1684760836,"answer_id":76306526,"question_id":76305835,"body_markdown":"Create Custom Class like DTO or VO to represent all the data and create custom query to which returns all the records and prepare DTO list accordingly","title":"How to retrieve a single result from 2 entity","body":"<p>Create Custom Class like DTO or VO to represent all the data and create custom query to which returns all the records and prepare DTO list accordingly</p>\n"},{"tags":[],"owner":{"account_id":21967042,"reputation":84,"user_id":16244113,"display_name":"mamJavad"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684767829,"creation_date":1684767787,"answer_id":76307514,"question_id":76305835,"body_markdown":"you can use tuple and custom query like this example : \r\nfor your repository : \r\n\r\n    public interface Report1Repository extends JpaRepository&lt;Report1,Integer&gt; {\r\n    @Query(native=true, value=&#39;select r1.sid sid, r1.name name, r1.salary salary, r2.department department from report1 r1 left join report2 r2 on r1.sid = r2.sid&#39;)\r\n    List&lt;ReportTuple&gt; findAllReports();\r\n    }\r\n\r\nand create a tuple interface like this : \r\n\r\n    public interface ReportTuple{\r\n        \r\n        Long getSid();\r\n        String getName();\r\n        String getDepartment();\r\n        Long getSalary();\r\n        \r\n        }\r\n\r\n","title":"How to retrieve a single result from 2 entity","body":"<p>you can use tuple and custom query like this example :\nfor your repository :</p>\n<pre><code>public interface Report1Repository extends JpaRepository&lt;Report1,Integer&gt; {\n@Query(native=true, value='select r1.sid sid, r1.name name, r1.salary salary, r2.department department from report1 r1 left join report2 r2 on r1.sid = r2.sid')\nList&lt;ReportTuple&gt; findAllReports();\n}\n</code></pre>\n<p>and create a tuple interface like this :</p>\n<pre><code>public interface ReportTuple{\n    \n    Long getSid();\n    String getName();\n    String getDepartment();\n    Long getSalary();\n    \n    }\n</code></pre>\n"}],"owner":{"account_id":23234885,"reputation":65,"user_id":17325010,"display_name":"JJJJJJ"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76307514,"answer_count":2,"score":0,"last_activity_date":1684767829,"creation_date":1684755926,"question_id":76305835,"body_markdown":"```\r\n| Report1 | Report2   |\r\n| ------  | --------  |\r\n| sid     | sid       |\r\n| name    | name      |\r\n| salary  | department|\r\nreport1.sid == report2.sid\r\n```\r\nMy goal is to view the result of 2 different entity data together. Both sid report will be same and unique to the user. The result I wanted to show would sid,name,salary,department. I am able to view them separately as I am using the findAll() however I wish to find all the data in a single findAll()\r\nI have tried using join columns however it added another column to my database table. \r\n\r\n```\r\nEntity\r\nReport1\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@ToString\r\n@Data\r\n@Entity\r\n@Table(name = &quot;REPORT1&quot;)\r\npublic class Report1 {\r\n    @Id\r\n    private String SID;\r\n    private String NAME;\r\n    private double AMOUNT;\r\n}\r\n-------------------------------\r\nReport2\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@ToString\r\n@Data\r\n@Entity\r\n@Table(name = &quot;REPORT2&quot;)\r\npublic class Report2 {\r\n    @Id\r\n    private String SID;\r\n    private String DEPARTMENT;\r\n    private String NAME;\r\n}\r\n```\r\nrepo\r\n```\r\npublic interface Report1Repository extends JpaRepository&lt;Report1,Integer&gt; {\r\n}\r\npublic interface Report1Repository extends JpaRepository&lt;Report2,Integer&gt; {\r\n}\r\n```","title":"How to retrieve a single result from 2 entity","body":"<pre><code>| Report1 | Report2   |\n| ------  | --------  |\n| sid     | sid       |\n| name    | name      |\n| salary  | department|\nreport1.sid == report2.sid\n</code></pre>\n<p>My goal is to view the result of 2 different entity data together. Both sid report will be same and unique to the user. The result I wanted to show would sid,name,salary,department. I am able to view them separately as I am using the findAll() however I wish to find all the data in a single findAll()\nI have tried using join columns however it added another column to my database table.</p>\n<pre><code>Entity\nReport1\n@AllArgsConstructor\n@NoArgsConstructor\n@ToString\n@Data\n@Entity\n@Table(name = &quot;REPORT1&quot;)\npublic class Report1 {\n    @Id\n    private String SID;\n    private String NAME;\n    private double AMOUNT;\n}\n-------------------------------\nReport2\n@AllArgsConstructor\n@NoArgsConstructor\n@ToString\n@Data\n@Entity\n@Table(name = &quot;REPORT2&quot;)\npublic class Report2 {\n    @Id\n    private String SID;\n    private String DEPARTMENT;\n    private String NAME;\n}\n</code></pre>\n<p>repo</p>\n<pre><code>public interface Report1Repository extends JpaRepository&lt;Report1,Integer&gt; {\n}\npublic interface Report1Repository extends JpaRepository&lt;Report2,Integer&gt; {\n}\n</code></pre>\n"},{"tags":["java","spring-boot","api-key"],"answers":[{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684767825,"creation_date":1684767825,"answer_id":76307518,"question_id":76300394,"body_markdown":"I solved the issue.\r\n\r\nAfter I defined this part in the application.yml file, the issue was disappeared.\r\n\r\n    spring:\r\n      config:\r\n        import: optional:file:.env[.properties]","title":"Cannot detect API key from .env in my Spring Boot App","body":"<p>I solved the issue.</p>\n<p>After I defined this part in the application.yml file, the issue was disappeared.</p>\n<pre><code>spring:\n  config:\n    import: optional:file:.env[.properties]\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76307518,"answer_count":1,"score":0,"last_activity_date":1684767825,"creation_date":1684679332,"question_id":76300394,"body_markdown":"I want to create an app to use API Layer for currency exchange. I used a API key of Exchange Rates Data API in apilayer.com.\r\n\r\nWhen I send a request to Get Rates defined in postman_collection in my repo.\r\n\r\nI get this error message shown below\r\n\r\n    com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;message&quot; (class com.exchangeapi.currencyexchange.exception.RestTemplateError), not marked as ignorable (4 known properties: &quot;error&quot;, &quot;status&quot;, &quot;path&quot;, &quot;timestamp&quot;])\r\n     at [Source: (String)&quot;{&quot;message&quot;:&quot;No API key found in request&quot;}&quot;; line: 1, column: 42] (through reference chain: com.exchangeapi.currencyexchange.exception.RestTemplateError[&quot;message&quot;])\r\n\r\nIt always detect it as `default-key`.\r\n\r\nAfter endpoint converts to this URL like https://api.apilayer.com/exchangerates_data/latest?symbols=USD%2CTRY&amp;base=EUR, I revised it in getExchangeUrl method.\r\n\r\nHow can I fix it?\r\n\r\nHere is the .env file shown below (I defined .gitignore not to upload to git repo)\r\n\r\n    EXCHANGE_API_API_KEY=MY_APIKEY\r\n\r\nHere is the application.yml \r\n\r\n    exchange-api:\r\n      api-url: https://api.apilayer.com/exchangerates_data/\r\n      api-key: ${EXCHANGE_API_API_KEY:default-key}\r\n      api-call-limit: 60\r\n      cache-name: exchanges\r\n      cache-ttl: 10000\r\n\r\nHere is the Constants class shown below\r\n\r\n    @Component\r\n    public class Constants {\r\n    \r\n        public static String EXCHANGE_API_BASE_URL;\r\n        public static String EXCHANGE_API_API_KEY;\r\n    \r\n        public static String EXCHANGE_CACHE_NAME;\r\n        public static Integer EXCHANGE_API_CALL_LIMIT;\r\n    \r\n        @Value(&quot;${exchange-api.api-url}&quot;)\r\n        public void setExchangeApiBaseUrl(String apiUrl) {\r\n            Constants.EXCHANGE_API_BASE_URL = apiUrl;\r\n        }\r\n    \r\n        @Value(&quot;${exchange-api.api-key}&quot;)\r\n        public void setExchangeApiKey(String apiKey) {\r\n            EXCHANGE_API_API_KEY = apiKey;\r\n        }\r\n    \r\n        @Value(&quot;${exchange-api.cache-name}&quot;)\r\n        public void setExchangeCacheName(String cacheName) {\r\n            Constants.EXCHANGE_CACHE_NAME = cacheName;\r\n        }\r\n    \r\n        @Value(&quot;${exchange-api.api-call-limit}&quot;)\r\n        public void setExchangeApiCallLimit(Integer apiCallLimit) {\r\n            EXCHANGE_API_CALL_LIMIT = apiCallLimit;\r\n        }\r\n    \r\n    }\r\n\r\n\r\nHere is the relevant methods saveRatesFromApi of RateService\r\n\r\n    private RateEntity saveRatesFromApi(LocalDate rateDate, EnumCurrency base, List&lt;EnumCurrency&gt; targets) {\r\n    \r\n            log.info(&quot;ExchangeService | saveRatesFromApi is called&quot;);\r\n    \r\n            HttpHeaders headers = new HttpHeaders();\r\n            headers.add(&quot;apikey&quot;, EXCHANGE_API_API_KEY);\r\n            headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\r\n            final HttpEntity&lt;String&gt; headersEntity = new HttpEntity&lt;&gt;(headers);\r\n            String url = getExchangeUrl(rateDate, base, targets);\r\n    \r\n            ResponseEntity&lt;RateResponse&gt; responseEntity = restTemplate.exchange(url, HttpMethod.GET, headersEntity, RateResponse.class);\r\n    \r\n            RateResponse rates = responseEntity.getBody();\r\n            RateEntity entity = convert(rates);\r\n            entity.setDate(rateDate);\r\n            return rateRepository.save(entity);\r\n        }\r\n    \r\n    private String getExchangeUrl(LocalDate rateDate, EnumCurrency base, List&lt;EnumCurrency&gt; targets) {\r\n            String symbols = String.join(&quot;%2C&quot;, targets.stream().map(EnumCurrency::name).toArray(String[]::new));\r\n            return EXCHANGE_API_BASE_URL + rateDate + &quot;?symbols=&quot; + symbols + &quot;&amp;base=&quot; + base;\r\n        }\r\n\r\nHere is the repo : [Link][1]\r\n\r\n  [1]: https://github.com/Rapter1990/currencyexchange","title":"Cannot detect API key from .env in my Spring Boot App","body":"<p>I want to create an app to use API Layer for currency exchange. I used a API key of Exchange Rates Data API in apilayer.com.</p>\n<p>When I send a request to Get Rates defined in postman_collection in my repo.</p>\n<p>I get this error message shown below</p>\n<pre><code>com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;message&quot; (class com.exchangeapi.currencyexchange.exception.RestTemplateError), not marked as ignorable (4 known properties: &quot;error&quot;, &quot;status&quot;, &quot;path&quot;, &quot;timestamp&quot;])\n at [Source: (String)&quot;{&quot;message&quot;:&quot;No API key found in request&quot;}&quot;; line: 1, column: 42] (through reference chain: com.exchangeapi.currencyexchange.exception.RestTemplateError[&quot;message&quot;])\n</code></pre>\n<p>It always detect it as <code>default-key</code>.</p>\n<p>After endpoint converts to this URL like <a href=\"https://api.apilayer.com/exchangerates_data/latest?symbols=USD%2CTRY&amp;base=EUR\" rel=\"nofollow noreferrer\">https://api.apilayer.com/exchangerates_data/latest?symbols=USD%2CTRY&amp;base=EUR</a>, I revised it in getExchangeUrl method.</p>\n<p>How can I fix it?</p>\n<p>Here is the .env file shown below (I defined .gitignore not to upload to git repo)</p>\n<pre><code>EXCHANGE_API_API_KEY=MY_APIKEY\n</code></pre>\n<p>Here is the application.yml</p>\n<pre><code>exchange-api:\n  api-url: https://api.apilayer.com/exchangerates_data/\n  api-key: ${EXCHANGE_API_API_KEY:default-key}\n  api-call-limit: 60\n  cache-name: exchanges\n  cache-ttl: 10000\n</code></pre>\n<p>Here is the Constants class shown below</p>\n<pre><code>@Component\npublic class Constants {\n\n    public static String EXCHANGE_API_BASE_URL;\n    public static String EXCHANGE_API_API_KEY;\n\n    public static String EXCHANGE_CACHE_NAME;\n    public static Integer EXCHANGE_API_CALL_LIMIT;\n\n    @Value(&quot;${exchange-api.api-url}&quot;)\n    public void setExchangeApiBaseUrl(String apiUrl) {\n        Constants.EXCHANGE_API_BASE_URL = apiUrl;\n    }\n\n    @Value(&quot;${exchange-api.api-key}&quot;)\n    public void setExchangeApiKey(String apiKey) {\n        EXCHANGE_API_API_KEY = apiKey;\n    }\n\n    @Value(&quot;${exchange-api.cache-name}&quot;)\n    public void setExchangeCacheName(String cacheName) {\n        Constants.EXCHANGE_CACHE_NAME = cacheName;\n    }\n\n    @Value(&quot;${exchange-api.api-call-limit}&quot;)\n    public void setExchangeApiCallLimit(Integer apiCallLimit) {\n        EXCHANGE_API_CALL_LIMIT = apiCallLimit;\n    }\n\n}\n</code></pre>\n<p>Here is the relevant methods saveRatesFromApi of RateService</p>\n<pre><code>private RateEntity saveRatesFromApi(LocalDate rateDate, EnumCurrency base, List&lt;EnumCurrency&gt; targets) {\n\n        log.info(&quot;ExchangeService | saveRatesFromApi is called&quot;);\n\n        HttpHeaders headers = new HttpHeaders();\n        headers.add(&quot;apikey&quot;, EXCHANGE_API_API_KEY);\n        headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\n        final HttpEntity&lt;String&gt; headersEntity = new HttpEntity&lt;&gt;(headers);\n        String url = getExchangeUrl(rateDate, base, targets);\n\n        ResponseEntity&lt;RateResponse&gt; responseEntity = restTemplate.exchange(url, HttpMethod.GET, headersEntity, RateResponse.class);\n\n        RateResponse rates = responseEntity.getBody();\n        RateEntity entity = convert(rates);\n        entity.setDate(rateDate);\n        return rateRepository.save(entity);\n    }\n\nprivate String getExchangeUrl(LocalDate rateDate, EnumCurrency base, List&lt;EnumCurrency&gt; targets) {\n        String symbols = String.join(&quot;%2C&quot;, targets.stream().map(EnumCurrency::name).toArray(String[]::new));\n        return EXCHANGE_API_BASE_URL + rateDate + &quot;?symbols=&quot; + symbols + &quot;&amp;base=&quot; + base;\n    }\n</code></pre>\n<p>Here is the repo : <a href=\"https://github.com/Rapter1990/currencyexchange\" rel=\"nofollow noreferrer\">Link</a></p>\n"},{"tags":["java","scala","caching","guava"],"comments":[{"owner":{"account_id":137535,"reputation":4952,"user_id":341772,"accept_rate":60,"display_name":"Max"},"score":1,"creation_date":1684638674,"post_id":76296669,"comment_id":134545480,"body_markdown":"I don&#39;t think your interpretation is correct. Let&#39;s say you set the refresh time to 1 minute and the expire time to 2 minutes. If you make a request after the 1 minute mark and before the 2 minute mark, you should get back the existing (stale) value immediately while it starts refreshing the value in the background (and stale values will be returned until either the refresh completes or the expire time occurs, whichever is first). However, if no requests are issued within 2 minutes of the last time the key was loaded...sure, you&#39;ll hit the expire time instead and be hit with a blocking call.","body":"I don&#39;t think your interpretation is correct. Let&#39;s say you set the refresh time to 1 minute and the expire time to 2 minutes. If you make a request after the 1 minute mark and before the 2 minute mark, you should get back the existing (stale) value immediately while it starts refreshing the value in the background (and stale values will be returned until either the refresh completes or the expire time occurs, whichever is first). However, if no requests are issued within 2 minutes of the last time the key was loaded...sure, you&#39;ll hit the expire time instead and be hit with a blocking call."},{"owner":{"account_id":1324051,"reputation":5838,"user_id":1269281,"accept_rate":59,"display_name":"bachr"},"score":0,"creation_date":1684669587,"post_id":76296669,"comment_id":134547809,"body_markdown":"that&#39;s what I first thought when I implemented the cache but i when looking at the metrics (I tracked time to call `get()`) it seems it is not constant and follows the time to read from DB.","body":"that&#39;s what I first thought when I implemented the cache but i when looking at the metrics (I tracked time to call <code>get()</code>) it seems it is not constant and follows the time to read from DB."},{"owner":{"account_id":1324051,"reputation":5838,"user_id":1269281,"accept_rate":59,"display_name":"bachr"},"score":0,"creation_date":1684669695,"post_id":76296669,"comment_id":134547820,"body_markdown":"I also thought increasing the `expireAfterWrite` but I don;t think it would help as I found there are tons (&gt; 100k range) of loads (I track the metric for the count of cache load) in contrast to evictions, so it is not like the cache is waiting for rows to expire to load them but probably it is doing the load when `get()` is called on keys needed refresh.","body":"I also thought increasing the <code>expireAfterWrite</code> but I don;t think it would help as I found there are tons (&gt; 100k range) of loads (I track the metric for the count of cache load) in contrast to evictions, so it is not like the cache is waiting for rows to expire to load them but probably it is doing the load when <code>get()</code> is called on keys needed refresh."},{"owner":{"account_id":1324051,"reputation":5838,"user_id":1269281,"accept_rate":59,"display_name":"bachr"},"score":0,"creation_date":1684669788,"post_id":76296669,"comment_id":134547832,"body_markdown":"And looking at the code in [LocalCache.java#waitForLoadingValue()](https://github.com/google/guava/blob/master/guava/src/com/google/common/cache/LocalCache.java#L2200) it does seem to be a blocking call!","body":"And looking at the code in <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/cache/LocalCache.java#L2200\" rel=\"nofollow noreferrer\">LocalCache.java#waitForLoadingValue()</a> it does seem to be a blocking call!"},{"owner":{"account_id":137535,"reputation":4952,"user_id":341772,"accept_rate":60,"display_name":"Max"},"score":0,"creation_date":1684767405,"post_id":76296669,"comment_id":134561119,"body_markdown":"Sure, but it depends on where `waitForLoadingValue` is getting called from. In `get`, it&#39;s only called if there&#39;s no value in the cache, and in `lockedGetOrLoad`, which is called from `get`, again if the value is null or expired.","body":"Sure, but it depends on where <code>waitForLoadingValue</code> is getting called from. In <code>get</code>, it&#39;s only called if there&#39;s no value in the cache, and in <code>lockedGetOrLoad</code>, which is called from <code>get</code>, again if the value is null or expired."},{"owner":{"account_id":1324051,"reputation":5838,"user_id":1269281,"accept_rate":59,"display_name":"bachr"},"score":0,"creation_date":1684772486,"post_id":76296669,"comment_id":134562296,"body_markdown":"oh right this is called when the value is already loading as it checks with `valueReference.isLoading()`","body":"oh right this is called when the value is already loading as it checks with <code>valueReference.isLoading()</code>"},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":1,"creation_date":1684950102,"post_id":76296669,"comment_id":134593792,"body_markdown":"&quot;How can I have non-blocking get() with Guava cache?&quot; - Is that irrespective of refreshing, e.g. an `AsyncCache`? If so, then the `CacheBuilder` javadocs recommend using [Caffeine](https://github.com/ben-manes/caffeine)","body":"&quot;How can I have non-blocking get() with Guava cache?&quot; - Is that irrespective of refreshing, e.g. an <code>AsyncCache</code>? If so, then the <code>CacheBuilder</code> javadocs recommend using <a href=\"https://github.com/ben-manes/caffeine\" rel=\"nofollow noreferrer\">Caffeine</a>"},{"owner":{"account_id":1324051,"reputation":5838,"user_id":1269281,"accept_rate":59,"display_name":"bachr"},"score":0,"creation_date":1685614027,"post_id":76296669,"comment_id":134685948,"body_markdown":"@BenManes yes i&#39;m expecting refresh to not block get() as it is OK to serve stale data until background refresh finishes. I will check Caffeine wasn&#39;t aware of this library.","body":"@BenManes yes i&#39;m expecting refresh to not block get() as it is OK to serve stale data until background refresh finishes. I will check Caffeine wasn&#39;t aware of this library."},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":0,"creation_date":1685657019,"post_id":76296669,"comment_id":134695380,"body_markdown":"A confusion might be that refreshAfterWrite is triggered by activity. If you want a proactive refresh then you can use a scheduled task to periodically call `refresh(key)` and reload. That is sometimes desired when expiration shouldn&#39;t ever occur, which means it is a hot map rather than a cache, so a library is not actually needed vs plain Java.","body":"A confusion might be that refreshAfterWrite is triggered by activity. If you want a proactive refresh then you can use a scheduled task to periodically call <code>refresh(key)</code> and reload. That is sometimes desired when expiration shouldn&#39;t ever occur, which means it is a hot map rather than a cache, so a library is not actually needed vs plain Java."},{"owner":{"account_id":1324051,"reputation":5838,"user_id":1269281,"accept_rate":59,"display_name":"bachr"},"score":0,"creation_date":1686073687,"post_id":76296669,"comment_id":134748421,"body_markdown":"@BenManes I am using an async reload (I wrap the loader with `CacheLoader.asyncReloading`), which should mean that when a key needs refresh, this would happen asynchronously and this is why I thought the get() should be non-blocking.","body":"@BenManes I am using an async reload (I wrap the loader with <code>CacheLoader.asyncReloading</code>), which should mean that when a key needs refresh, this would happen asynchronously and this is why I thought the get() should be non-blocking."}],"answers":[{"comments":[{"owner":{"account_id":1324051,"reputation":5838,"user_id":1269281,"accept_rate":59,"display_name":"bachr"},"score":0,"creation_date":1684772327,"post_id":76307471,"comment_id":134562257,"body_markdown":"async refresh in `CacheLoader#reload` is already provided by this `val val cacheLoader = CacheLoader.asyncReloading(syncLoader, threadPool)`","body":"async refresh in <code>CacheLoader#reload</code> is already provided by this <code>val val cacheLoader = CacheLoader.asyncReloading(syncLoader, threadPool)</code>"},{"owner":{"account_id":137535,"reputation":4952,"user_id":341772,"accept_rate":60,"display_name":"Max"},"score":0,"creation_date":1684811644,"post_id":76307471,"comment_id":134567698,"body_markdown":"Ah, I didn&#39;t know about that. Neat!","body":"Ah, I didn&#39;t know about that. Neat!"}],"tags":[],"owner":{"account_id":137535,"reputation":4952,"user_id":341772,"accept_rate":60,"display_name":"Max"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684767580,"creation_date":1684767580,"answer_id":76307471,"question_id":76296669,"body_markdown":"Have you tried implementing the [refresh](https://guava.dev/releases/22.0/api/docs/com/google/common/cache/CacheLoader.html#reload-K-V-) method on `CacheLoader`?\r\n\r\n&gt; This implementation synchronously delegates to load(K). It is recommended that it be overridden with an asynchronous implementation when using CacheBuilder.refreshAfterWrite(long, java.util.concurrent.TimeUnit).\r\n\r\nSeems like it might be required for the behavior you&#39;re seeking.","title":"Guava cache with async loading for non-blocking get","body":"<p>Have you tried implementing the <a href=\"https://guava.dev/releases/22.0/api/docs/com/google/common/cache/CacheLoader.html#reload-K-V-\" rel=\"nofollow noreferrer\">refresh</a> method on <code>CacheLoader</code>?</p>\n<blockquote>\n<p>This implementation synchronously delegates to load(K). It is recommended that it be overridden with an asynchronous implementation when using CacheBuilder.refreshAfterWrite(long, java.util.concurrent.TimeUnit).</p>\n</blockquote>\n<p>Seems like it might be required for the behavior you're seeking.</p>\n"}],"owner":{"account_id":1324051,"reputation":5838,"user_id":1269281,"accept_rate":59,"display_name":"bachr"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684767580,"creation_date":1684605759,"question_id":76296669,"body_markdown":"I&#39;m trying to use Guava cache with async loading of values and have non-blocking get(). Because I do load values from DB so it is pretty expensive, it would be OK to serve temporally out-dated data until new data is loaded in the background but not OK to block when trying to read from cache. \r\n\r\nI first tried using `refreshAfterWrite` with `expireAfterWrite` but it does not seem to achieve what I&#39;m looking to do. It seems from the documentation of [refreshAfterWrite](https://github.com/google/guava/wiki/CachesExplained#refresh), entries needed refresh will not be remove until read which makes the call to `cache.get()` blocking!\r\n\r\n&gt; Automatically timed refreshing can be added to a cache using CacheBuilder.refreshAfterWrite(long, TimeUnit). In contrast to expireAfterWrite, refreshAfterWrite will make a key eligible for refresh after the specified duration, but a refresh will only be actually initiated when the entry is queried.\r\n\r\n\r\nThis is how i&#39;m creating the cache, I define a loader like this:\r\n\r\n```scala\r\nclass DbCacheLoader() extends CacheLoader[K, V] {\r\n  override def load(key: K): V = {\r\n    // read from DB\r\n  }\r\n}\r\n```\r\nThen, I tried using the `refreshOnWrite` option to build the cache like this\r\n```scala\r\nval syncLoader = new DbCacheLoader()\r\nval val cacheLoader = CacheLoader.asyncReloading(syncLoader, threadPool)\r\nval cache: LoadingCache[K, V] = CacheBuilder.newBuilder()\r\n  .refreshAfterWrite(timeout, TimeUnit.MILLISECONDS)  // timeout\r\n  .expireAfterWrite(hardTimeout, TimeUnit.MILLISECONDS) // hard timeout\r\n  .concurrencyLevel(threadPoolSize * 10)\r\n  .recordStats()\r\n  .build[K, V](cacheLoader)\r\n```\r\n\r\nHow can I have non-blocking `get()` with Guava cache?","title":"Guava cache with async loading for non-blocking get","body":"<p>I'm trying to use Guava cache with async loading of values and have non-blocking get(). Because I do load values from DB so it is pretty expensive, it would be OK to serve temporally out-dated data until new data is loaded in the background but not OK to block when trying to read from cache.</p>\n<p>I first tried using <code>refreshAfterWrite</code> with <code>expireAfterWrite</code> but it does not seem to achieve what I'm looking to do. It seems from the documentation of <a href=\"https://github.com/google/guava/wiki/CachesExplained#refresh\" rel=\"nofollow noreferrer\">refreshAfterWrite</a>, entries needed refresh will not be remove until read which makes the call to <code>cache.get()</code> blocking!</p>\n<blockquote>\n<p>Automatically timed refreshing can be added to a cache using CacheBuilder.refreshAfterWrite(long, TimeUnit). In contrast to expireAfterWrite, refreshAfterWrite will make a key eligible for refresh after the specified duration, but a refresh will only be actually initiated when the entry is queried.</p>\n</blockquote>\n<p>This is how i'm creating the cache, I define a loader like this:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>class DbCacheLoader() extends CacheLoader[K, V] {\n  override def load(key: K): V = {\n    // read from DB\n  }\n}\n</code></pre>\n<p>Then, I tried using the <code>refreshOnWrite</code> option to build the cache like this</p>\n<pre class=\"lang-scala prettyprint-override\"><code>val syncLoader = new DbCacheLoader()\nval val cacheLoader = CacheLoader.asyncReloading(syncLoader, threadPool)\nval cache: LoadingCache[K, V] = CacheBuilder.newBuilder()\n  .refreshAfterWrite(timeout, TimeUnit.MILLISECONDS)  // timeout\n  .expireAfterWrite(hardTimeout, TimeUnit.MILLISECONDS) // hard timeout\n  .concurrencyLevel(threadPoolSize * 10)\n  .recordStats()\n  .build[K, V](cacheLoader)\n</code></pre>\n<p>How can I have non-blocking <code>get()</code> with Guava cache?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":18420841,"reputation":1402,"user_id":13418510,"display_name":"TomStroemer"},"score":1,"creation_date":1684767683,"post_id":76307438,"comment_id":134561184,"body_markdown":"Did you read https://stackoverflow.com/questions/43780226/spring-data-ignore-parameter-if-it-has-a-null-value ?","body":"Did you read <a href=\"https://stackoverflow.com/questions/43780226/spring-data-ignore-parameter-if-it-has-a-null-value\" title=\"spring data ignore parameter if it has a null value\">stackoverflow.com/questions/43780226/&hellip;</a> ?"},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":2,"creation_date":1684767685,"post_id":76307438,"comment_id":134561185,"body_markdown":"If you pass `null`, it will be literal. If you want to ignore it, create another method i.e. `findAllByAvailabilityAndIdLessThanOrderByIdDesc` without `AndItemCategory` in the name. Create a service method that checks for `null` and call the appropriate repository method.","body":"If you pass <code>null</code>, it will be literal. If you want to ignore it, create another method i.e. <code>findAllByAvailabilityAndIdLessThanOrderByIdDesc</code> without <code>AndItemCategory</code> in the name. Create a service method that checks for <code>null</code> and call the appropriate repository method."},{"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"score":0,"creation_date":1684767781,"post_id":76307438,"comment_id":134561206,"body_markdown":"you can use the Specification feature provided by Spring Data JPA. Here is examples how to use it https://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl .  **NOTE: Specification adds an extra layer of abstraction and complexity to your code**","body":"you can use the Specification feature provided by Spring Data JPA. Here is examples how to use it <a href=\"https://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl\" rel=\"nofollow noreferrer\">spring.io/blog/2011/04/26/&hellip;</a> .  <b>NOTE: Specification adds an extra layer of abstraction and complexity to your code</b>"},{"owner":{"account_id":2809292,"reputation":66,"user_id":2415859,"display_name":"Wansu yang"},"score":0,"creation_date":1684768464,"post_id":76307438,"comment_id":134561374,"body_markdown":"You can check https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#query-by-example.matchers.","body":"You can check <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#query-by-example.matchers\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/jpa/docs/current/reference/html/&hellip;</a>&zwnj;&#8203;."},{"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"score":0,"creation_date":1684797508,"post_id":76307438,"comment_id":134566472,"body_markdown":"What @Mr.Polywhirl said, if it is optional then make another method without that parameter.","body":"What @Mr.Polywhirl said, if it is optional then make another method without that parameter."}],"owner":{"account_id":15332453,"reputation":321,"user_id":11156297,"display_name":"Zoe Lubanza"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684767329,"creation_date":1684767329,"question_id":76307438,"body_markdown":"I have this spring JPA query:\r\n```\r\nOptional&lt;List&lt;Result&gt;&gt; findAllByAvailabilityAndItemCategoryAndIdLessThanOrderByIdDesc(\r\n            String availability, String category, long cursor, Pageable pageable\r\n    );\r\n```\r\nWhen passing a `null` value as one of the parameters, JPA looks for the actual null value in the database.\r\nExample:\r\n```\r\nrepository.findAllByAvailabilityAndItemCategoryAndIdLessThanOrderByIdDesc(&quot;avail&quot;,null,0, pageableObj);\r\n```\r\nIn this case, Spring will return the fields where `category` is `null` and match the rest of the criteria.\r\n\r\nWhat I&#39;d like to achieve is, when passing `null`, I want Spring to kind of ignore it and return all the values for that specific field.\r\n\r\nI know I can achieve this by writing a SQL `@Query` above the function, but I want to know if there is no way of adding a condition check in the JPA query itself.","title":"Spring Boot JPA findAllBy Condition","body":"<p>I have this spring JPA query:</p>\n<pre><code>Optional&lt;List&lt;Result&gt;&gt; findAllByAvailabilityAndItemCategoryAndIdLessThanOrderByIdDesc(\n            String availability, String category, long cursor, Pageable pageable\n    );\n</code></pre>\n<p>When passing a <code>null</code> value as one of the parameters, JPA looks for the actual null value in the database.\nExample:</p>\n<pre><code>repository.findAllByAvailabilityAndItemCategoryAndIdLessThanOrderByIdDesc(&quot;avail&quot;,null,0, pageableObj);\n</code></pre>\n<p>In this case, Spring will return the fields where <code>category</code> is <code>null</code> and match the rest of the criteria.</p>\n<p>What I'd like to achieve is, when passing <code>null</code>, I want Spring to kind of ignore it and return all the values for that specific field.</p>\n<p>I know I can achieve this by writing a SQL <code>@Query</code> above the function, but I want to know if there is no way of adding a condition check in the JPA query itself.</p>\n"},{"tags":["java","simpledateformat","milliseconds"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1431135891,"post_id":30135025,"comment_id":48380078,"body_markdown":"*... by just supplying a pattern to the standard `SimpleDateFormat` implementation, without any other code modifications or string manipulation?* Obviously not.","body":"<i>... by just supplying a pattern to the standard <code>SimpleDateFormat</code> implementation, without any other code modifications or string manipulation?</i> Obviously not."}],"answers":[{"comments":[{"owner":{"account_id":378959,"reputation":19465,"user_id":834316,"accept_rate":82,"display_name":"PNS"},"score":1,"creation_date":1431173487,"post_id":30135772,"comment_id":48388250,"body_markdown":"Yes, although the requirement was for a `SimpleDateFormat` solution, due to the corresponding use case.","body":"Yes, although the requirement was for a <code>SimpleDateFormat</code> solution, due to the corresponding use case."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1532460030,"post_id":30135772,"comment_id":89981153,"body_markdown":"@OleV.V. Done. Thanks for suggestion.","body":"@OleV.V. Done. Thanks for suggestion."},{"owner":{"account_id":1527124,"reputation":838,"user_id":1425250,"accept_rate":0,"display_name":"Prashant Saraswat"},"score":0,"creation_date":1570746414,"post_id":30135772,"comment_id":103021435,"body_markdown":"Anyone looking to parse a datetime string with timezone in it, you can use instant.Parse(&quot;datetimestring&quot;)","body":"Anyone looking to parse a datetime string with timezone in it, you can use instant.Parse(&quot;datetimestring&quot;)"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1570759746,"post_id":30135772,"comment_id":103024082,"body_markdown":"@PrashantSaraswat No, for a time zone, use `ZonedDateTime`, not `Instant`. See my table graphic in my Answer.","body":"@PrashantSaraswat No, for a time zone, use <code>ZonedDateTime</code>, not <code>Instant</code>. See my table graphic in my Answer."},{"owner":{"account_id":1527124,"reputation":838,"user_id":1425250,"accept_rate":0,"display_name":"Prashant Saraswat"},"score":0,"creation_date":1570762457,"post_id":30135772,"comment_id":103024588,"body_markdown":"@BasilBourque Thanks for pointing this out. Both work. I used instant because thats what the javadoc for LocalDateTime suggested.","body":"@BasilBourque Thanks for pointing this out. Both work. I used instant because thats what the javadoc for LocalDateTime suggested."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":5,"down_vote_count":0,"up_vote_count":51,"is_accepted":true,"score":51,"last_activity_date":1560543018,"creation_date":1431143432,"answer_id":30135772,"question_id":30135025,"body_markdown":"# tl;dr\r\n\r\n    LocalDateTime.parse(                 // With resolution of nanoseconds, represent the idea of a date and time somewhere, unspecified. Does *not* represent a moment, is *not* a point on the timeline. To determine an actual moment, place this date+time into context of a time zone (apply a `ZoneId` to get a `ZonedDateTime`). \r\n        &quot;2015-05-09 00:10:23.999750900&quot;  // A `String` nearly in standard ISO 8601 format.\r\n        .replace( &quot; &quot; , &quot;T&quot; )            // Replace SPACE in middle with `T` to comply with ISO 8601 standard format.\r\n    )                                    // Returns a `LocalDateTime` object.\r\n\r\n\r\n\r\n# Nope\r\n\r\nNo, you cannot use SimpleDateFormat to handle [nanoseconds][1].\r\n\r\nBut your premise that…\r\n\r\n&gt;Java does not support time granularity above [milliseconds][2] in its date patterns\r\n\r\n…is no longer true as of [Java 8][3], 9, 10 and later with *java.time* classes built-in. And not really true of Java 6 and Java 7 either, as most of the *java.time* [functionality is back-ported][4].\r\n\r\n# java.time\r\n\r\n`SimpleDateFormat`, and the related `java.util.Date`/`.Calendar` classes are now outmoded by the new [java.time][5] package found in Java 8 ([Tutorial][6]). \r\n\r\nThe new java.time classes support [nanosecond][7] resolution. That support includes parsing and generating nine digits of fractional second.  For example, when you use the `java.time.format` `DateTimeFormatter` API, the `S` pattern letter denotes a &quot;fraction of the second&quot; rather than &quot;milliseconds&quot;, and it can cope with nanosecond values.\r\n\r\n## `Instant`\r\n\r\nAs an example, the [`Instant`][8] class represents a moment in [UTC][9]. Its `toString` method generates a `String` object using the standard [ISO 8601][10] format. The `Z` on the end means UTC, pronounced “Zulu”. \r\n\r\n    instant.toString()  // Generate a `String` representing this moment, using standard ISO 8601 format.\r\n\r\n&gt;2013-08-20T12:34:56.123456789Z\r\n\r\nNote that capturing the current moment in Java 8 is limited to millisecond resolution. The *java.time* classes can *hold* a value in nanoseconds, but can only determine the current time with milliseconds. This limitation is due to the implementation of `Clock`. In Java 9 and later, a new `Clock` implementation can grab the current moment in finer resolution, depending on the limits of your host hardware and operating system, usually [microseconds][11] in my experience.\r\n\r\n    Instant instant = Instant.now() ;  // Capture the current moment. May be in milliseconds or microseconds rather than the maximum resolution of nanoseconds.\r\n\r\n## `LocalDateTime`\r\n\r\nYour example input string of `2015-05-09 00:10:23.999750900` lacks an indicator of time zone or offset-from-UTC. That means it does *not* represent a moment, is *not* a point on the timeline. Instead, it represents *potential* moments along a range of about 26-27 hours, the range of time zones around the globe.\r\n\r\nPares such an input as a `LocalDateTime` object. First, replace the SPACE in the middle with a `T` to comply with ISO 8601 format, used by default when parsing/generating strings. So no need to specify a formatting pattern.\r\n\r\n    LocalDateTime ldt = \r\n            LocalDateTime.parse( \r\n                &quot;2015-05-09 00:10:23.999750900&quot;.replace( &quot; &quot; , &quot;T&quot; )  // Replace SPACE in middle with `T` to comply with ISO 8601 standard format.\r\n            ) \r\n    ;\r\n\r\n# `java.sql.Timestamp`\r\n\r\nThe [`java.sql.Timestamp`][12] class also handles nanosecond resolution, but in an awkward way. Generally best to do your work inside java.time classes. No need to ever use `Timestamp` again as of JDBC 4.2 and later.\r\n\r\n    myPreparedStatement.setObject( … , instant ) ;\r\n\r\nAnd retrieval.\r\n\r\n    Instant instant = myResultSet.getObject( … , Instant.class ) ;\r\n\r\n## `OffsetDateTime`\r\n\r\nSupport for `Instant` is not mandated by the JDBC specification, but `OffsetDateTime` is. So if the above code fails with your JDBC driver, use the following. \r\n\r\n    OffsetDateTime odt = instant.atOffset( ZoneOffset.UTC ) ; \r\n    myPreparedStatement.setObject( … , odt ) ;\r\n\r\nAnd retrieval. \r\n\r\n    Instant instant = myResultSet.getObject( … , OffsetDateTime.class ).toInstant() ;\r\n\r\nIf using an older pre-4.2 JDBC driver, you can use [`toInstant`][13] and [`from`][14] methods to go back and forth between `java.sql.Timestamp` and java.time. These new conversion methods were added to the *old* legacy classes. \r\n\r\n\r\n[![Table of date-time types in Java (both legacy and modern) and in standard SQL][15]][15]\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the *java.time* classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above). See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Nanosecond\r\n  [2]: https://en.wikipedia.org/wiki/Millsecond\r\n  [3]: https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8_.28March_18.2C_2014.29\r\n  [4]: http://www.threeten.org/threetenbp/\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [6]: http://docs.oracle.com/javase/tutorial/datetime/index.html\r\n  [7]: http://en.m.wikipedia.org/wiki/Nanosecond\r\n  [8]: https://docs.oracle.com/javase/10/docs/api/java/time/Instant.html\r\n  [9]: https://en.wikipedia.org/wiki/Coordinated_Universal_Time\r\n  [10]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [11]: https://en.wikipedia.org/wiki/Microsecond\r\n  [12]: http://docs.oracle.com/javase/8/docs/api/java/sql/Timestamp.html\r\n  [13]: http://docs.oracle.com/javase/8/docs/api/java/sql/Timestamp.html#toInstant--\r\n  [14]: http://docs.oracle.com/javase/8/docs/api/java/sql/Timestamp.html#from-java.time.Instant-\r\n  [15]: https://i.stack.imgur.com/4NSDx.png","title":"Java date parsing with microsecond or nanosecond accuracy","body":"<h1>tl;dr</h1>\n\n<pre><code>LocalDateTime.parse(                 // With resolution of nanoseconds, represent the idea of a date and time somewhere, unspecified. Does *not* represent a moment, is *not* a point on the timeline. To determine an actual moment, place this date+time into context of a time zone (apply a `ZoneId` to get a `ZonedDateTime`). \n    \"2015-05-09 00:10:23.999750900\"  // A `String` nearly in standard ISO 8601 format.\n    .replace( \" \" , \"T\" )            // Replace SPACE in middle with `T` to comply with ISO 8601 standard format.\n)                                    // Returns a `LocalDateTime` object.\n</code></pre>\n\n<h1>Nope</h1>\n\n<p>No, you cannot use SimpleDateFormat to handle <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"noreferrer\">nanoseconds</a>.</p>\n\n<p>But your premise that…</p>\n\n<blockquote>\n  <p>Java does not support time granularity above <a href=\"https://en.wikipedia.org/wiki/Millsecond\" rel=\"noreferrer\">milliseconds</a> in its date patterns</p>\n</blockquote>\n\n<p>…is no longer true as of <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8_.28March_18.2C_2014.29\" rel=\"noreferrer\">Java 8</a>, 9, 10 and later with <em>java.time</em> classes built-in. And not really true of Java 6 and Java 7 either, as most of the <em>java.time</em> <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\">functionality is back-ported</a>.</p>\n\n<h1>java.time</h1>\n\n<p><code>SimpleDateFormat</code>, and the related <code>java.util.Date</code>/<code>.Calendar</code> classes are now outmoded by the new <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> package found in Java 8 (<a href=\"http://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"noreferrer\">Tutorial</a>). </p>\n\n<p>The new java.time classes support <a href=\"http://en.m.wikipedia.org/wiki/Nanosecond\" rel=\"noreferrer\">nanosecond</a> resolution. That support includes parsing and generating nine digits of fractional second.  For example, when you use the <code>java.time.format</code> <code>DateTimeFormatter</code> API, the <code>S</code> pattern letter denotes a \"fraction of the second\" rather than \"milliseconds\", and it can cope with nanosecond values.</p>\n\n<h2><code>Instant</code></h2>\n\n<p>As an example, the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/Instant.html\" rel=\"noreferrer\"><code>Instant</code></a> class represents a moment in <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"noreferrer\">UTC</a>. Its <code>toString</code> method generates a <code>String</code> object using the standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\">ISO 8601</a> format. The <code>Z</code> on the end means UTC, pronounced “Zulu”. </p>\n\n<pre><code>instant.toString()  // Generate a `String` representing this moment, using standard ISO 8601 format.\n</code></pre>\n\n<blockquote>\n  <p>2013-08-20T12:34:56.123456789Z</p>\n</blockquote>\n\n<p>Note that capturing the current moment in Java 8 is limited to millisecond resolution. The <em>java.time</em> classes can <em>hold</em> a value in nanoseconds, but can only determine the current time with milliseconds. This limitation is due to the implementation of <code>Clock</code>. In Java 9 and later, a new <code>Clock</code> implementation can grab the current moment in finer resolution, depending on the limits of your host hardware and operating system, usually <a href=\"https://en.wikipedia.org/wiki/Microsecond\" rel=\"noreferrer\">microseconds</a> in my experience.</p>\n\n<pre><code>Instant instant = Instant.now() ;  // Capture the current moment. May be in milliseconds or microseconds rather than the maximum resolution of nanoseconds.\n</code></pre>\n\n<h2><code>LocalDateTime</code></h2>\n\n<p>Your example input string of <code>2015-05-09 00:10:23.999750900</code> lacks an indicator of time zone or offset-from-UTC. That means it does <em>not</em> represent a moment, is <em>not</em> a point on the timeline. Instead, it represents <em>potential</em> moments along a range of about 26-27 hours, the range of time zones around the globe.</p>\n\n<p>Pares such an input as a <code>LocalDateTime</code> object. First, replace the SPACE in the middle with a <code>T</code> to comply with ISO 8601 format, used by default when parsing/generating strings. So no need to specify a formatting pattern.</p>\n\n<pre><code>LocalDateTime ldt = \n        LocalDateTime.parse( \n            \"2015-05-09 00:10:23.999750900\".replace( \" \" , \"T\" )  // Replace SPACE in middle with `T` to comply with ISO 8601 standard format.\n        ) \n;\n</code></pre>\n\n<h1><code>java.sql.Timestamp</code></h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/sql/Timestamp.html\" rel=\"noreferrer\"><code>java.sql.Timestamp</code></a> class also handles nanosecond resolution, but in an awkward way. Generally best to do your work inside java.time classes. No need to ever use <code>Timestamp</code> again as of JDBC 4.2 and later.</p>\n\n<pre><code>myPreparedStatement.setObject( … , instant ) ;\n</code></pre>\n\n<p>And retrieval.</p>\n\n<pre><code>Instant instant = myResultSet.getObject( … , Instant.class ) ;\n</code></pre>\n\n<h2><code>OffsetDateTime</code></h2>\n\n<p>Support for <code>Instant</code> is not mandated by the JDBC specification, but <code>OffsetDateTime</code> is. So if the above code fails with your JDBC driver, use the following. </p>\n\n<pre><code>OffsetDateTime odt = instant.atOffset( ZoneOffset.UTC ) ; \nmyPreparedStatement.setObject( … , odt ) ;\n</code></pre>\n\n<p>And retrieval. </p>\n\n<pre><code>Instant instant = myResultSet.getObject( … , OffsetDateTime.class ).toInstant() ;\n</code></pre>\n\n<p>If using an older pre-4.2 JDBC driver, you can use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/sql/Timestamp.html#toInstant--\" rel=\"noreferrer\"><code>toInstant</code></a> and <a href=\"http://docs.oracle.com/javase/8/docs/api/java/sql/Timestamp.html#from-java.time.Instant-\" rel=\"noreferrer\"><code>from</code></a> methods to go back and forth between <code>java.sql.Timestamp</code> and java.time. These new conversion methods were added to the <em>old</em> legacy classes. </p>\n\n<p><a href=\"https://i.stack.imgur.com/4NSDx.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/4NSDx.png\" alt=\"Table of date-time types in Java (both legacy and modern) and in standard SQL\"></a></p>\n\n<hr>\n\n<h1>About <em>java.time</em></h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"noreferrer\"><strong>Java SE 10</strong></a>, and later\n\n<ul>\n<li>Built-in. </li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>Later versions of Android bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"noreferrer\">more</a>.</p>\n"},{"comments":[{"owner":{"account_id":14854496,"reputation":233,"user_id":10727434,"display_name":"Christoph"},"score":0,"creation_date":1629792159,"post_id":59546290,"comment_id":121773741,"body_markdown":"Thank you for this!!! Spent quite some time looking at various more complicated solutions for handling variable input and this was exactly what worked!","body":"Thank you for this!!! Spent quite some time looking at various more complicated solutions for handling variable input and this was exactly what worked!"}],"tags":[],"owner":{"account_id":5945257,"reputation":461,"user_id":9101382,"display_name":"flowgrad"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1577808662,"creation_date":1577808337,"answer_id":59546290,"question_id":30135025,"body_markdown":"I found the it wonderful to cover multiple variants of date time format like this:\r\n\r\n    final DateTimeFormatterBuilder dtfb = new DateTimeFormatterBuilder();\r\n    dtfb.appendOptional(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSSSSSSSS&quot;))\r\n    .appendOptional(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSSSSSSS&quot;))\r\n    .appendOptional(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSSSSSS&quot;))\r\n    .appendOptional(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSSSSS&quot;))\r\n    .appendOptional(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSSSS&quot;))\r\n    .appendOptional(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSSS&quot;))\r\n        .appendOptional(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;))\r\n        .appendOptional(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SS&quot;))\r\n        .appendOptional(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.S&quot;))\r\n        .parseDefaulting(ChronoField.HOUR_OF_DAY, 0)\r\n        .parseDefaulting(ChronoField.MINUTE_OF_HOUR, 0)\r\n        .parseDefaulting(ChronoField.SECOND_OF_MINUTE, 0);\r\n\r\n","title":"Java date parsing with microsecond or nanosecond accuracy","body":"<p>I found the it wonderful to cover multiple variants of date time format like this:</p>\n\n<pre><code>final DateTimeFormatterBuilder dtfb = new DateTimeFormatterBuilder();\ndtfb.appendOptional(DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss.SSSSSSSSS\"))\n.appendOptional(DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss.SSSSSSSS\"))\n.appendOptional(DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss.SSSSSSS\"))\n.appendOptional(DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss.SSSSSS\"))\n.appendOptional(DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss.SSSSS\"))\n.appendOptional(DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss.SSSS\"))\n    .appendOptional(DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss.SSS\"))\n    .appendOptional(DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss.SS\"))\n    .appendOptional(DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss.S\"))\n    .parseDefaulting(ChronoField.HOUR_OF_DAY, 0)\n    .parseDefaulting(ChronoField.MINUTE_OF_HOUR, 0)\n    .parseDefaulting(ChronoField.SECOND_OF_MINUTE, 0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667405023,"creation_date":1667164464,"answer_id":74256811,"question_id":30135025,"body_markdown":"# *java.time*\r\n\r\nThe `java.util` Date-Time API and their formatting API, `SimpleDateFormat` are outdated and error-prone. It is recommended to stop using them completely and switch to the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html).\r\n\r\nYou can build a `DateTimeFormatter` using `DateTimeFormatterBuilder` as shown below:\r\n\r\n    DateTimeFormatter parser = new DateTimeFormatterBuilder()\r\n            .append(DateTimeFormatter.ISO_LOCAL_DATE)\r\n            .appendLiteral(&#39; &#39;)\r\n            .append(DateTimeFormatter.ISO_LOCAL_TIME)\r\n            .toFormatter(Locale.ENGLISH);\r\n\r\n**Demo**:\r\n\r\n    import java.time.LocalDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.time.format.DateTimeFormatterBuilder;\r\n    import java.util.Locale;\r\n    import java.util.stream.Stream;\r\n    \r\n    public class Main {\r\n      public static void main(String[] args) {\r\n        DateTimeFormatter parser = new DateTimeFormatterBuilder()\r\n            .append(DateTimeFormatter.ISO_LOCAL_DATE)\r\n            .appendLiteral(&#39; &#39;)\r\n            .append(DateTimeFormatter.ISO_LOCAL_TIME)\r\n            .toFormatter(Locale.ENGLISH);\r\n    \r\n        // Test\r\n        Stream.of(\r\n            &quot;2015-05-09 00:10:23.123456789&quot;,\r\n            &quot;2015-05-09 00:10:23.12345678&quot;,\r\n            &quot;2015-05-09 00:10:23.1234567&quot;,\r\n            &quot;2015-05-09 00:10:23.123456&quot;,\r\n            &quot;2015-05-09 00:10:23.12345&quot;,\r\n            &quot;2015-05-09 00:10:23.1234&quot;,\r\n            &quot;2015-05-09 00:10:23.123&quot;,\r\n            &quot;2015-05-09 00:10:23.12&quot;,\r\n            &quot;2015-05-09 00:10:23.1&quot;,\r\n            &quot;2015-05-09 00:10:23.1&quot;,\r\n            &quot;2015-05-09 00:10:23&quot;,\r\n            &quot;2015-05-09 00:10&quot;\r\n          )\r\n          .map(s -&gt; LocalDateTime.parse(s, parser))\r\n          .forEach(System.out::println);\r\n      }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2015-05-09T00:10:23.123456789\r\n    2015-05-09T00:10:23.123456780\r\n    2015-05-09T00:10:23.123456700\r\n    2015-05-09T00:10:23.123456\r\n    2015-05-09T00:10:23.123450\r\n    2015-05-09T00:10:23.123400\r\n    2015-05-09T00:10:23.123\r\n    2015-05-09T00:10:23.120\r\n    2015-05-09T00:10:23.100\r\n    2015-05-09T00:10:23.100\r\n    2015-05-09T00:10:23\r\n    2015-05-09T00:10\r\n\r\nIf you want to make the time part optional, you can use the following `DateTimeFormatter`:\r\n\r\n    DateTimeFormatter parser = new DateTimeFormatterBuilder()\r\n        .append(DateTimeFormatter.ISO_LOCAL_DATE)\r\n        .optionalStart()\r\n        .appendLiteral(&#39; &#39;)\r\n        .appendOptional(DateTimeFormatter.ISO_LOCAL_TIME)\r\n        .optionalEnd()\r\n        .parseDefaulting(ChronoField.HOUR_OF_DAY, 0)\r\n        .toFormatter(Locale.ENGLISH);\r\n\r\n**Demo**:\r\n    \r\n    public class Main {\r\n      public static void main(String[] args) {\r\n        DateTimeFormatter parser = new DateTimeFormatterBuilder()\r\n            .append(DateTimeFormatter.ISO_LOCAL_DATE)\r\n            .optionalStart()\r\n            .appendLiteral(&#39; &#39;)\r\n            .appendOptional(DateTimeFormatter.ISO_LOCAL_TIME)\r\n            .optionalEnd()\r\n            .parseDefaulting(ChronoField.HOUR_OF_DAY, 0)\r\n            .toFormatter(Locale.ENGLISH);\r\n    \r\n        // Test\r\n        Stream.of(\r\n            &quot;2015-05-09 00:10:23.123456789&quot;,\r\n            &quot;2015-05-09 00:10:23.12345678&quot;,\r\n            &quot;2015-05-09 00:10:23.1234567&quot;,\r\n            &quot;2015-05-09 00:10:23.123456&quot;,\r\n            &quot;2015-05-09 00:10:23.12345&quot;,\r\n            &quot;2015-05-09 00:10:23.1234&quot;,\r\n            &quot;2015-05-09 00:10:23.123&quot;,\r\n            &quot;2015-05-09 00:10:23.12&quot;,\r\n            &quot;2015-05-09 00:10:23.1&quot;,\r\n            &quot;2015-05-09 00:10:23.1&quot;,\r\n            &quot;2015-05-09 00:10:23&quot;,\r\n            &quot;2015-05-09 00:10&quot;,\r\n            &quot;2015-05-09&quot;\r\n            )\r\n            .map(s -&gt; LocalDateTime.parse(s, parser))\r\n            .forEach(System.out::println);\r\n      }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2015-05-09T00:10:23.123456789\r\n    2015-05-09T00:10:23.123456780\r\n    2015-05-09T00:10:23.123456700\r\n    2015-05-09T00:10:23.123456\r\n    2015-05-09T00:10:23.123450\r\n    2015-05-09T00:10:23.123400\r\n    2015-05-09T00:10:23.123\r\n    2015-05-09T00:10:23.120\r\n    2015-05-09T00:10:23.100\r\n    2015-05-09T00:10:23.100\r\n    2015-05-09T00:10:23\r\n    2015-05-09T00:10\r\n    2015-05-09T00:00\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"Java date parsing with microsecond or nanosecond accuracy","body":"<h1><em>java.time</em></h1>\n<p>The <code>java.util</code> Date-Time API and their formatting API, <code>SimpleDateFormat</code> are outdated and error-prone. It is recommended to stop using them completely and switch to the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a>.</p>\n<p>You can build a <code>DateTimeFormatter</code> using <code>DateTimeFormatterBuilder</code> as shown below:</p>\n<pre><code>DateTimeFormatter parser = new DateTimeFormatterBuilder()\n        .append(DateTimeFormatter.ISO_LOCAL_DATE)\n        .appendLiteral(' ')\n        .append(DateTimeFormatter.ISO_LOCAL_TIME)\n        .toFormatter(Locale.ENGLISH);\n</code></pre>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.time.format.DateTimeFormatterBuilder;\nimport java.util.Locale;\nimport java.util.stream.Stream;\n\npublic class Main {\n  public static void main(String[] args) {\n    DateTimeFormatter parser = new DateTimeFormatterBuilder()\n        .append(DateTimeFormatter.ISO_LOCAL_DATE)\n        .appendLiteral(' ')\n        .append(DateTimeFormatter.ISO_LOCAL_TIME)\n        .toFormatter(Locale.ENGLISH);\n\n    // Test\n    Stream.of(\n        &quot;2015-05-09 00:10:23.123456789&quot;,\n        &quot;2015-05-09 00:10:23.12345678&quot;,\n        &quot;2015-05-09 00:10:23.1234567&quot;,\n        &quot;2015-05-09 00:10:23.123456&quot;,\n        &quot;2015-05-09 00:10:23.12345&quot;,\n        &quot;2015-05-09 00:10:23.1234&quot;,\n        &quot;2015-05-09 00:10:23.123&quot;,\n        &quot;2015-05-09 00:10:23.12&quot;,\n        &quot;2015-05-09 00:10:23.1&quot;,\n        &quot;2015-05-09 00:10:23.1&quot;,\n        &quot;2015-05-09 00:10:23&quot;,\n        &quot;2015-05-09 00:10&quot;\n      )\n      .map(s -&gt; LocalDateTime.parse(s, parser))\n      .forEach(System.out::println);\n  }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2015-05-09T00:10:23.123456789\n2015-05-09T00:10:23.123456780\n2015-05-09T00:10:23.123456700\n2015-05-09T00:10:23.123456\n2015-05-09T00:10:23.123450\n2015-05-09T00:10:23.123400\n2015-05-09T00:10:23.123\n2015-05-09T00:10:23.120\n2015-05-09T00:10:23.100\n2015-05-09T00:10:23.100\n2015-05-09T00:10:23\n2015-05-09T00:10\n</code></pre>\n<p>If you want to make the time part optional, you can use the following <code>DateTimeFormatter</code>:</p>\n<pre><code>DateTimeFormatter parser = new DateTimeFormatterBuilder()\n    .append(DateTimeFormatter.ISO_LOCAL_DATE)\n    .optionalStart()\n    .appendLiteral(' ')\n    .appendOptional(DateTimeFormatter.ISO_LOCAL_TIME)\n    .optionalEnd()\n    .parseDefaulting(ChronoField.HOUR_OF_DAY, 0)\n    .toFormatter(Locale.ENGLISH);\n</code></pre>\n<p><strong>Demo</strong>:</p>\n<pre><code>public class Main {\n  public static void main(String[] args) {\n    DateTimeFormatter parser = new DateTimeFormatterBuilder()\n        .append(DateTimeFormatter.ISO_LOCAL_DATE)\n        .optionalStart()\n        .appendLiteral(' ')\n        .appendOptional(DateTimeFormatter.ISO_LOCAL_TIME)\n        .optionalEnd()\n        .parseDefaulting(ChronoField.HOUR_OF_DAY, 0)\n        .toFormatter(Locale.ENGLISH);\n\n    // Test\n    Stream.of(\n        &quot;2015-05-09 00:10:23.123456789&quot;,\n        &quot;2015-05-09 00:10:23.12345678&quot;,\n        &quot;2015-05-09 00:10:23.1234567&quot;,\n        &quot;2015-05-09 00:10:23.123456&quot;,\n        &quot;2015-05-09 00:10:23.12345&quot;,\n        &quot;2015-05-09 00:10:23.1234&quot;,\n        &quot;2015-05-09 00:10:23.123&quot;,\n        &quot;2015-05-09 00:10:23.12&quot;,\n        &quot;2015-05-09 00:10:23.1&quot;,\n        &quot;2015-05-09 00:10:23.1&quot;,\n        &quot;2015-05-09 00:10:23&quot;,\n        &quot;2015-05-09 00:10&quot;,\n        &quot;2015-05-09&quot;\n        )\n        .map(s -&gt; LocalDateTime.parse(s, parser))\n        .forEach(System.out::println);\n  }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2015-05-09T00:10:23.123456789\n2015-05-09T00:10:23.123456780\n2015-05-09T00:10:23.123456700\n2015-05-09T00:10:23.123456\n2015-05-09T00:10:23.123450\n2015-05-09T00:10:23.123400\n2015-05-09T00:10:23.123\n2015-05-09T00:10:23.120\n2015-05-09T00:10:23.100\n2015-05-09T00:10:23.100\n2015-05-09T00:10:23\n2015-05-09T00:10\n2015-05-09T00:00\n</code></pre>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1684768477,"post_id":76307339,"comment_id":134561379,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76307339/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":10936949,"reputation":21,"user_id":8038310,"display_name":"敖癸-Dimon Ho"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684767005,"creation_date":1684766561,"answer_id":76307339,"question_id":30135025,"body_markdown":"TEST CODE:\r\n\r\n    @Test\r\n    void contextLoads() throws ParseException {\r\n        DateTimeFormatter ISO_LOCAL_DATE = new &gt;DateTimeFormatterBuilder()\r\n                .appendValue(YEAR, 4, 10, SignStyle.EXCEEDS_PAD)\r\n                .optionalStart().appendLiteral(&#39;/&#39;).optionalEnd()\r\n                .optionalStart().appendLiteral(&#39;-&#39;).optionalEnd()\r\n                .optionalStart().appendValue(MONTH_OF_YEAR, 2)\r\n                .optionalStart().appendLiteral(&#39;/&#39;).optionalEnd()\r\n                .optionalStart().appendLiteral(&#39;-&#39;).optionalEnd()\r\n                .optionalStart().appendValue(DAY_OF_MONTH, 2)\r\n                .toFormatter();\r\n\r\n        DateTimeFormatter ISO_LOCAL_TIME = new DateTimeFormatterBuilder()\r\n                .appendValue(HOUR_OF_DAY, 2)\r\n                .optionalStart().appendLiteral(&#39;:&#39;).appendValue(MINUTE_OF_HOUR, 2)\r\n                .optionalStart().appendLiteral(&#39;:&#39;).appendValue(SECOND_OF_MINUTE, 2)\r\n                .optionalStart().appendFraction(NANO_OF_SECOND, 0, 9, true)\r\n                .optionalStart().appendZoneId()\r\n                .toFormatter();\r\n\r\n        DateTimeFormatter dateTimeFormatter = new DateTimeFormatterBuilder()\r\n                .append(ISO_LOCAL_DATE)\r\n                .optionalStart().appendLiteral(&#39; &#39;).optionalEnd()\r\n                .optionalStart().appendLiteral(&#39;T&#39;).optionalEnd()\r\n                .optionalStart().appendOptional(ISO_LOCAL_TIME).optionalEnd()\r\n                .parseDefaulting(ChronoField.HOUR_OF_DAY, 0)\r\n                .parseDefaulting(ChronoField.MINUTE_OF_HOUR, 0)\r\n                .parseDefaulting(ChronoField.SECOND_OF_MINUTE, 0)\r\n                .toFormatter(Locale.SIMPLIFIED_CHINESE);\r\n\r\n        Stream.of(&quot;2015-05-09T00:10:23.934596635Z&quot;,\r\n                &quot;2015-05-09 00:10:23.123456789UTC&quot;,\r\n                &quot;2015/05/09 00:10:23.123456789&quot;,\r\n                &quot;2015-05-09 00:10:23.12345678&quot;,\r\n                &quot;2015/05/09 00:10:23.1234567&quot;,\r\n                &quot;2015-05-09T00:10:23.123456&quot;,\r\n                &quot;2015-05-09 00:10:23.12345&quot;,\r\n                &quot;2015/05-09T00:10:23.1234&quot;,\r\n                &quot;2015-05-09 00:10:23.123&quot;,\r\n                &quot;2015-05-09 00:10:23.12&quot;,\r\n                &quot;2015-05-09 00:10:23.1&quot;,\r\n                &quot;2015-05-09 00:10:23&quot;,\r\n                &quot;2015-05-09 00:10&quot;,\r\n                &quot;2015-05-09 01&quot;,\r\n                &quot;2015-05-09&quot;\r\n        ).forEach(s -&gt; {\r\n            LocalDateTime date = LocalDateTime.parse(s, dateTimeFormatter);\r\n            System.out.println(s + &quot; ==&gt; &quot; + date);\r\n        });\r\n    }\r\n\r\nOUT:\r\n```\r\n2015-05-09T00:10:23.934596635Z ==&gt; 2015-05-09T00:10:23.934596635\r\n2015-05-09 00:10:23.123456789UTC ==&gt; 2015-05-09T00:10:23.123456789\r\n2015/05/09 00:10:23.123456789 ==&gt; 2015-05-09T00:10:23.123456789\r\n2015-05-09 00:10:23.12345678 ==&gt; 2015-05-09T00:10:23.123456780\r\n2015/05/09 00:10:23.1234567 ==&gt; 2015-05-09T00:10:23.123456700\r\n2015-05-09T00:10:23.123456 ==&gt; 2015-05-09T00:10:23.123456\r\n2015-05-09 00:10:23.12345 ==&gt; 2015-05-09T00:10:23.123450\r\n2015/05-09T00:10:23.1234 ==&gt; 2015-05-09T00:10:23.123400\r\n2015-05-09 00:10:23.123 ==&gt; 2015-05-09T00:10:23.123\r\n2015-05-09 00:10:23.12 ==&gt; 2015-05-09T00:10:23.120\r\n2015-05-09 00:10:23.1 ==&gt; 2015-05-09T00:10:23.100\r\n2015-05-09 00:10:23 ==&gt; 2015-05-09T00:10:23\r\n2015-05-09 00:10 ==&gt; 2015-05-09T00:10\r\n2015-05-09 01 ==&gt; 2015-05-09T01:00\r\n2015-05-09 ==&gt; 2015-05-09T00:00\r\n```\r\n","title":"Java date parsing with microsecond or nanosecond accuracy","body":"<p>TEST CODE:</p>\n<pre><code>@Test\nvoid contextLoads() throws ParseException {\n    DateTimeFormatter ISO_LOCAL_DATE = new &gt;DateTimeFormatterBuilder()\n            .appendValue(YEAR, 4, 10, SignStyle.EXCEEDS_PAD)\n            .optionalStart().appendLiteral('/').optionalEnd()\n            .optionalStart().appendLiteral('-').optionalEnd()\n            .optionalStart().appendValue(MONTH_OF_YEAR, 2)\n            .optionalStart().appendLiteral('/').optionalEnd()\n            .optionalStart().appendLiteral('-').optionalEnd()\n            .optionalStart().appendValue(DAY_OF_MONTH, 2)\n            .toFormatter();\n\n    DateTimeFormatter ISO_LOCAL_TIME = new DateTimeFormatterBuilder()\n            .appendValue(HOUR_OF_DAY, 2)\n            .optionalStart().appendLiteral(':').appendValue(MINUTE_OF_HOUR, 2)\n            .optionalStart().appendLiteral(':').appendValue(SECOND_OF_MINUTE, 2)\n            .optionalStart().appendFraction(NANO_OF_SECOND, 0, 9, true)\n            .optionalStart().appendZoneId()\n            .toFormatter();\n\n    DateTimeFormatter dateTimeFormatter = new DateTimeFormatterBuilder()\n            .append(ISO_LOCAL_DATE)\n            .optionalStart().appendLiteral(' ').optionalEnd()\n            .optionalStart().appendLiteral('T').optionalEnd()\n            .optionalStart().appendOptional(ISO_LOCAL_TIME).optionalEnd()\n            .parseDefaulting(ChronoField.HOUR_OF_DAY, 0)\n            .parseDefaulting(ChronoField.MINUTE_OF_HOUR, 0)\n            .parseDefaulting(ChronoField.SECOND_OF_MINUTE, 0)\n            .toFormatter(Locale.SIMPLIFIED_CHINESE);\n\n    Stream.of(&quot;2015-05-09T00:10:23.934596635Z&quot;,\n            &quot;2015-05-09 00:10:23.123456789UTC&quot;,\n            &quot;2015/05/09 00:10:23.123456789&quot;,\n            &quot;2015-05-09 00:10:23.12345678&quot;,\n            &quot;2015/05/09 00:10:23.1234567&quot;,\n            &quot;2015-05-09T00:10:23.123456&quot;,\n            &quot;2015-05-09 00:10:23.12345&quot;,\n            &quot;2015/05-09T00:10:23.1234&quot;,\n            &quot;2015-05-09 00:10:23.123&quot;,\n            &quot;2015-05-09 00:10:23.12&quot;,\n            &quot;2015-05-09 00:10:23.1&quot;,\n            &quot;2015-05-09 00:10:23&quot;,\n            &quot;2015-05-09 00:10&quot;,\n            &quot;2015-05-09 01&quot;,\n            &quot;2015-05-09&quot;\n    ).forEach(s -&gt; {\n        LocalDateTime date = LocalDateTime.parse(s, dateTimeFormatter);\n        System.out.println(s + &quot; ==&gt; &quot; + date);\n    });\n}\n</code></pre>\n<p>OUT:</p>\n<pre><code>2015-05-09T00:10:23.934596635Z ==&gt; 2015-05-09T00:10:23.934596635\n2015-05-09 00:10:23.123456789UTC ==&gt; 2015-05-09T00:10:23.123456789\n2015/05/09 00:10:23.123456789 ==&gt; 2015-05-09T00:10:23.123456789\n2015-05-09 00:10:23.12345678 ==&gt; 2015-05-09T00:10:23.123456780\n2015/05/09 00:10:23.1234567 ==&gt; 2015-05-09T00:10:23.123456700\n2015-05-09T00:10:23.123456 ==&gt; 2015-05-09T00:10:23.123456\n2015-05-09 00:10:23.12345 ==&gt; 2015-05-09T00:10:23.123450\n2015/05-09T00:10:23.1234 ==&gt; 2015-05-09T00:10:23.123400\n2015-05-09 00:10:23.123 ==&gt; 2015-05-09T00:10:23.123\n2015-05-09 00:10:23.12 ==&gt; 2015-05-09T00:10:23.120\n2015-05-09 00:10:23.1 ==&gt; 2015-05-09T00:10:23.100\n2015-05-09 00:10:23 ==&gt; 2015-05-09T00:10:23\n2015-05-09 00:10 ==&gt; 2015-05-09T00:10\n2015-05-09 01 ==&gt; 2015-05-09T01:00\n2015-05-09 ==&gt; 2015-05-09T00:00\n</code></pre>\n"}],"owner":{"account_id":378959,"reputation":19465,"user_id":834316,"accept_rate":82,"display_name":"PNS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57280,"favorite_count":0,"down_vote_count":1,"up_vote_count":36,"accepted_answer_id":30135772,"answer_count":4,"score":35,"last_activity_date":1684767005,"creation_date":1431135068,"question_id":30135025,"body_markdown":"According to the [SimpleDateFormat class documentation][1], `Java` does not support time granularity above milliseconds in its date patterns.\r\n\r\nSo, a date string like\r\n\r\n - 2015-05-09 00:10:23.999750900 // The last 9 digits denote nanoseconds\r\n\r\nwhen parsed via the pattern\r\n\r\n -  yyyy-MM-dd HH:mm:ss.SSSSSSSSS // 9 &#39;S&#39; symbols\r\n\r\nactually interprets the whole number after the `.` symbol as (nearly 1 billion!) milliseconds and not as nanoseconds, resulting in the date\r\n\r\n - 2015-05-20 21:52:53 UTC\r\n\r\ni.e. over 11 days ahead. Surprisingly, using a smaller number of `S` symbols still results in all 9 digits being parsed (instead of, say, the leftmost 3 for `.SSS`).\r\n\r\nThere are 2 ways to handle this issue correctly:\r\n\r\n - Use string preprocessing\r\n - Use a custom SimpleDateFormat implementation\r\n\r\nWould there be any other way for getting a correct solution by just supplying a pattern to the standard `SimpleDateFormat` implementation, without any other code modifications or string manipulation?\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/index.html?java/text/SimpleDateFormat.html","title":"Java date parsing with microsecond or nanosecond accuracy","body":"<p>According to the <a href=\"http://docs.oracle.com/javase/8/docs/api/index.html?java/text/SimpleDateFormat.html\" rel=\"noreferrer\">SimpleDateFormat class documentation</a>, <code>Java</code> does not support time granularity above milliseconds in its date patterns.</p>\n\n<p>So, a date string like</p>\n\n<ul>\n<li>2015-05-09 00:10:23.999750900 // The last 9 digits denote nanoseconds</li>\n</ul>\n\n<p>when parsed via the pattern</p>\n\n<ul>\n<li>yyyy-MM-dd HH:mm:ss.SSSSSSSSS // 9 'S' symbols</li>\n</ul>\n\n<p>actually interprets the whole number after the <code>.</code> symbol as (nearly 1 billion!) milliseconds and not as nanoseconds, resulting in the date</p>\n\n<ul>\n<li>2015-05-20 21:52:53 UTC</li>\n</ul>\n\n<p>i.e. over 11 days ahead. Surprisingly, using a smaller number of <code>S</code> symbols still results in all 9 digits being parsed (instead of, say, the leftmost 3 for <code>.SSS</code>).</p>\n\n<p>There are 2 ways to handle this issue correctly:</p>\n\n<ul>\n<li>Use string preprocessing</li>\n<li>Use a custom SimpleDateFormat implementation</li>\n</ul>\n\n<p>Would there be any other way for getting a correct solution by just supplying a pattern to the standard <code>SimpleDateFormat</code> implementation, without any other code modifications or string manipulation?</p>\n"},{"tags":["java","spring-boot","spring-starter"],"comments":[{"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"score":0,"creation_date":1657719099,"post_id":72967161,"comment_id":128877150,"body_markdown":"Can you post your application.properties file?","body":"Can you post your application.properties file?"}],"answers":[{"tags":[],"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1657719704,"creation_date":1657719233,"answer_id":72967229,"question_id":72967161,"body_markdown":"The problem is that the Lombok constructor won&#39;t contain the `@Value` annotation. Rather, it will look like this:\r\n\r\n```java\r\npublic EmailService(String sender, UserRepository userRepository, JavaMailSender javaMailSender) {\r\n    this.sender = sender;\r\n    this.userRepository = userRepository;\r\n    this.javaMailSender = javaMailSender;\r\n}\r\n```\r\n\r\nDue to this, Spring doesn&#39;t know how to pass the `sender` field, and so it complains that there&#39;s no bean of type `String`.\r\n\r\nThe solution is to write your own constructor:\r\n\r\n```java\r\n// Add the @Value to the sender parameter\r\npublic EmailService(@Value(value = &quot;${spring.mail.username}&quot;) String sender, UserRepository userRepository, JavaMailSender javaMailSender) {\r\n    this.sender = sender;\r\n    this.userRepository = userRepository;\r\n    this.javaMailSender = javaMailSender;\r\n}\r\n```\r\n\r\nAfter that, you can remove the `@Value` annotation from the `sender` field (since it&#39;s on the constructor) and remove the `@AllArgConstructor` annotation.","title":"No qualifying bean of type &#39;java.lang.String&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations:","body":"<p>The problem is that the Lombok constructor won't contain the <code>@Value</code> annotation. Rather, it will look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public EmailService(String sender, UserRepository userRepository, JavaMailSender javaMailSender) {\n    this.sender = sender;\n    this.userRepository = userRepository;\n    this.javaMailSender = javaMailSender;\n}\n</code></pre>\n<p>Due to this, Spring doesn't know how to pass the <code>sender</code> field, and so it complains that there's no bean of type <code>String</code>.</p>\n<p>The solution is to write your own constructor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Add the @Value to the sender parameter\npublic EmailService(@Value(value = &quot;${spring.mail.username}&quot;) String sender, UserRepository userRepository, JavaMailSender javaMailSender) {\n    this.sender = sender;\n    this.userRepository = userRepository;\n    this.javaMailSender = javaMailSender;\n}\n</code></pre>\n<p>After that, you can remove the <code>@Value</code> annotation from the <code>sender</code> field (since it's on the constructor) and remove the <code>@AllArgConstructor</code> annotation.</p>\n"},{"tags":[],"owner":{"account_id":21954399,"reputation":31,"user_id":16233186,"display_name":"BoskiChlopaczyna"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1680518180,"creation_date":1680102371,"answer_id":75879041,"question_id":72967161,"body_markdown":"There is also an alternative way to solve this problem. This solution doesn&#39;t require writing your own constructor.\r\n\r\nThe `@AllArgsConstructor` annotation gathers all class fields (the exception is initialized `final` field). Based on your code, Lombok will generate a constructor like below.\r\n```\r\npublic EmailService(String sender, UserRepository userRepository, JavaMailSender javaMailSender) {\r\n    this.sender = sender;\r\n    this.userRepository = userRepository;\r\n    this.javaMailSender = javaMailSender;\r\n}\r\n```\r\nAs the `sender` is not a bean but only a value wired from properties, the container won&#39;t be able to find it as a bean.\r\n\r\nSimilar annotation - `@RequiredArgsConstructor` gathers **only** non-initialized `final` fields.\r\n\r\nTo resolve your issue, you should refactor the code like below:\r\n```\r\n@RequiredArgsConstructor\r\npublic class EmailService {\r\n\r\n    @Value(value = &quot;${spring.mail.username}&quot;)\r\n    String sender;\r\n\r\n    final String HOST = &quot;http://localhost:8080/&quot;;\r\n\r\n    final UserRepository userRepository;\r\n    final JavaMailSender javaMailSender;\r\n\r\n    ...\r\n}\r\n```\r\nNow your constructor will look like this:\r\n```\r\npublic EmailService(UserRepository userRepository, JavaMailSender javaMailSender) {\r\n    this.userRepository = userRepository;\r\n    this.javaMailSender = javaMailSender;\r\n}\r\n```\r\nNote that `final` fields are required to be initialized before the constructor completes and you are not able to reassign them after. As long as you don&#39;t need to change repository and sender in runtime, these fields **should** be `final`.","title":"No qualifying bean of type &#39;java.lang.String&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations:","body":"<p>There is also an alternative way to solve this problem. This solution doesn't require writing your own constructor.</p>\n<p>The <code>@AllArgsConstructor</code> annotation gathers all class fields (the exception is initialized <code>final</code> field). Based on your code, Lombok will generate a constructor like below.</p>\n<pre><code>public EmailService(String sender, UserRepository userRepository, JavaMailSender javaMailSender) {\n    this.sender = sender;\n    this.userRepository = userRepository;\n    this.javaMailSender = javaMailSender;\n}\n</code></pre>\n<p>As the <code>sender</code> is not a bean but only a value wired from properties, the container won't be able to find it as a bean.</p>\n<p>Similar annotation - <code>@RequiredArgsConstructor</code> gathers <strong>only</strong> non-initialized <code>final</code> fields.</p>\n<p>To resolve your issue, you should refactor the code like below:</p>\n<pre><code>@RequiredArgsConstructor\npublic class EmailService {\n\n    @Value(value = &quot;${spring.mail.username}&quot;)\n    String sender;\n\n    final String HOST = &quot;http://localhost:8080/&quot;;\n\n    final UserRepository userRepository;\n    final JavaMailSender javaMailSender;\n\n    ...\n}\n</code></pre>\n<p>Now your constructor will look like this:</p>\n<pre><code>public EmailService(UserRepository userRepository, JavaMailSender javaMailSender) {\n    this.userRepository = userRepository;\n    this.javaMailSender = javaMailSender;\n}\n</code></pre>\n<p>Note that <code>final</code> fields are required to be initialized before the constructor completes and you are not able to reassign them after. As long as you don't need to change repository and sender in runtime, these fields <strong>should</strong> be <code>final</code>.</p>\n"},{"tags":[],"owner":{"account_id":20960786,"reputation":21,"user_id":15400268,"display_name":"David Izhak"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684766915,"creation_date":1684766842,"answer_id":76307371,"question_id":72967161,"body_markdown":"You can&#39;t use the Lombok annotation @AllArgsConstructor and the Spring annotation @Value on a field in the same time without additional actions.\r\nIf you want to do it:\r\n1. Create &quot;lombok.config&quot; file in the root directory of the project;\r\n2. Add next lines to the lombok.config file:\r\n\r\nconfig.stopbubbling = true\r\n\r\nlombok.copyableannotations += org.springframework.beans.factory.annotation.Value\r\n\r\n","title":"No qualifying bean of type &#39;java.lang.String&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations:","body":"<p>You can't use the Lombok annotation @AllArgsConstructor and the Spring annotation @Value on a field in the same time without additional actions.\nIf you want to do it:</p>\n<ol>\n<li>Create &quot;lombok.config&quot; file in the root directory of the project;</li>\n<li>Add next lines to the lombok.config file:</li>\n</ol>\n<p>config.stopbubbling = true</p>\n<p>lombok.copyableannotations += org.springframework.beans.factory.annotation.Value</p>\n"}],"owner":{"account_id":7819979,"reputation":1197,"user_id":5913407,"accept_rate":57,"display_name":"LowCool"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14018,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":72967229,"answer_count":3,"score":5,"last_activity_date":1684766915,"creation_date":1657718992,"question_id":72967161,"body_markdown":"I am using spring starter-email service to send emails to the users when there will be new job posting: I am following [this][1] article from geeks for geeks, I feel issue is something with @Value annotation, but unable to get it \r\nbut while running mvn-clean install, I am getting below error\r\n\r\n   \r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;jobController&#39; defined in file [C:\\Users\\ViShah\\IdeaProjects\\avatureJobSearch\\target\\classes\\com\\avature\\controller\\JobController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;jobService&#39; defined in file [C:\\Users\\ViShah\\IdeaProjects\\avatureJobSearch\\target\\classes\\com\\avature\\service\\JobService.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;emailService&#39; defined in file [C:\\Users\\ViShah\\IdeaProjects\\avatureJobSearch\\target\\classes\\com\\avature\\service\\EmailService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;java.lang.String&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.0.jar:2.7.0]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.0.jar:2.7.0]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.0.jar:2.7.0]\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:132) ~[spring-boot-test-2.7.0.jar:2.7.0]\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124) ~[spring-test-5.3.20.jar:5.3.20]\r\n    \t... 67 common frames omitted\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;jobService&#39; defined in file [C:\\Users\\ViShah\\IdeaProjects\\avatureJobSearch\\target\\classes\\com\\avature\\service\\JobService.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;emailService&#39; defined in file [C:\\Users\\ViShah\\IdeaProjects\\avatureJobSearch\\target\\classes\\com\\avature\\service\\EmailService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;java.lang.String&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \t... 85 common frames omitted\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;emailService&#39; defined in file [C:\\Users\\ViShah\\IdeaProjects\\avatureJobSearch\\target\\classes\\com\\avature\\service\\EmailService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;java.lang.String&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \t... 99 common frames omitted\r\n    Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;java.lang.String&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1799) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1355) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \t... 113 common frames omitted\r\n\r\nBelow is my email service\r\n\r\n\r\n    import com.entity.Job;\r\n    import com.entity.User;\r\n    import com.repository.UserRepository;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.mail.javamail.JavaMailSender;\r\n    import org.springframework.mail.javamail.MimeMessageHelper;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import javax.mail.MessagingException;\r\n    import javax.mail.internet.MimeMessage;\r\n    import java.util.List;\r\n    \r\n    @Service\r\n    @Slf4j\r\n    @AllArgsConstructor\r\n    public class EmailService {\r\n    \r\n        @Value(value = &quot;${spring.mail.username}&quot;)\r\n        String sender;\r\n        final String HOST = &quot;http://localhost:8080/&quot;;\r\n        UserRepository userRepository;\r\n        JavaMailSender javaMailSender;\r\n    \r\n        public void sendEmailWithDetails(Job job){\r\n            List&lt;User&gt; usersList = null;\r\n            if(!job.getPreferredSkills().isEmpty())\r\n                usersList = userRepository.findBySkills(job.getPreferredSkills());\r\n            else{\r\n                usersList = userRepository.findAll();\r\n            }\r\n            for(User user: usersList){\r\n                try {\r\n                    generateEmailBodyAndSend(job, user);\r\n                }catch (MessagingException e){\r\n                    log.error(&quot;error while sending mail to user:&quot;+user.getEmail());\r\n                }\r\n            }\r\n        }\r\n    \r\n        private void generateEmailBodyAndSend(Job job, User user ) throws MessagingException {\r\n            String body = &quot;&lt;h4&gt;Hey, Found new matching job for you&lt;/h4&gt;\\n &lt;a href=&quot;+HOST+job.getId()+&quot;&gt;&quot;+job.getTitle()+&quot;&lt;/a&gt;&quot;;\r\n            MimeMessage msg = javaMailSender.createMimeMessage();\r\n            MimeMessageHelper helper = new MimeMessageHelper(msg, true);\r\n            helper.setText(body, true);\r\n            helper.setSubject(&quot;Notification&quot;);\r\n            helper.setFrom(sender);\r\n            helper.setTo(user.getEmail());\r\n            log.info(&quot;sending mail to:&quot;+user.getEmail());\r\n            javaMailSender.send(msg);\r\n            log.info(&quot;sent mail to:&quot;+user.getEmail());\r\n        }\r\n    }\r\n\r\nI am using spring-boot 2.7.0 and spring-starter-email 2.7.1\r\nbelow is my application.properties file:\r\n\r\n    spring.data.mongodb.uri=mongodb://localhost:27017/jobDB\r\n    kafka.bootstrapAddress=localhost:9092\r\n    spring.mail.host=smtp.gmail.com\r\n    spring.mail.port=587\r\n    spring.mail.username=testingmynotification@gmail.com\r\n\r\n  [1]: https://www.geeksforgeeks.org/spring-boot-sending-email-via-smtp/","title":"No qualifying bean of type &#39;java.lang.String&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations:","body":"<p>I am using spring starter-email service to send emails to the users when there will be new job posting: I am following <a href=\"https://www.geeksforgeeks.org/spring-boot-sending-email-via-smtp/\" rel=\"noreferrer\">this</a> article from geeks for geeks, I feel issue is something with @Value annotation, but unable to get it\nbut while running mvn-clean install, I am getting below error</p>\n<pre><code>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jobController' defined in file [C:\\Users\\ViShah\\IdeaProjects\\avatureJobSearch\\target\\classes\\com\\avature\\controller\\JobController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jobService' defined in file [C:\\Users\\ViShah\\IdeaProjects\\avatureJobSearch\\target\\classes\\com\\avature\\service\\JobService.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'emailService' defined in file [C:\\Users\\ViShah\\IdeaProjects\\avatureJobSearch\\target\\classes\\com\\avature\\service\\EmailService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'java.lang.String' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.20.jar:5.3.20]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.20.jar:5.3.20]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:132) ~[spring-boot-test-2.7.0.jar:2.7.0]\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.3.20.jar:5.3.20]\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124) ~[spring-test-5.3.20.jar:5.3.20]\n    ... 67 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jobService' defined in file [C:\\Users\\ViShah\\IdeaProjects\\avatureJobSearch\\target\\classes\\com\\avature\\service\\JobService.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'emailService' defined in file [C:\\Users\\ViShah\\IdeaProjects\\avatureJobSearch\\target\\classes\\com\\avature\\service\\EmailService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'java.lang.String' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.20.jar:5.3.20]\n    ... 85 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'emailService' defined in file [C:\\Users\\ViShah\\IdeaProjects\\avatureJobSearch\\target\\classes\\com\\avature\\service\\EmailService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'java.lang.String' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.20.jar:5.3.20]\n    ... 99 common frames omitted\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'java.lang.String' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1799) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1355) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.20.jar:5.3.20]\n    ... 113 common frames omitted\n</code></pre>\n<p>Below is my email service</p>\n<pre><code>import com.entity.Job;\nimport com.entity.User;\nimport com.repository.UserRepository;\nimport lombok.AllArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.mail.javamail.JavaMailSender;\nimport org.springframework.mail.javamail.MimeMessageHelper;\nimport org.springframework.stereotype.Service;\n\nimport javax.mail.MessagingException;\nimport javax.mail.internet.MimeMessage;\nimport java.util.List;\n\n@Service\n@Slf4j\n@AllArgsConstructor\npublic class EmailService {\n\n    @Value(value = &quot;${spring.mail.username}&quot;)\n    String sender;\n    final String HOST = &quot;http://localhost:8080/&quot;;\n    UserRepository userRepository;\n    JavaMailSender javaMailSender;\n\n    public void sendEmailWithDetails(Job job){\n        List&lt;User&gt; usersList = null;\n        if(!job.getPreferredSkills().isEmpty())\n            usersList = userRepository.findBySkills(job.getPreferredSkills());\n        else{\n            usersList = userRepository.findAll();\n        }\n        for(User user: usersList){\n            try {\n                generateEmailBodyAndSend(job, user);\n            }catch (MessagingException e){\n                log.error(&quot;error while sending mail to user:&quot;+user.getEmail());\n            }\n        }\n    }\n\n    private void generateEmailBodyAndSend(Job job, User user ) throws MessagingException {\n        String body = &quot;&lt;h4&gt;Hey, Found new matching job for you&lt;/h4&gt;\\n &lt;a href=&quot;+HOST+job.getId()+&quot;&gt;&quot;+job.getTitle()+&quot;&lt;/a&gt;&quot;;\n        MimeMessage msg = javaMailSender.createMimeMessage();\n        MimeMessageHelper helper = new MimeMessageHelper(msg, true);\n        helper.setText(body, true);\n        helper.setSubject(&quot;Notification&quot;);\n        helper.setFrom(sender);\n        helper.setTo(user.getEmail());\n        log.info(&quot;sending mail to:&quot;+user.getEmail());\n        javaMailSender.send(msg);\n        log.info(&quot;sent mail to:&quot;+user.getEmail());\n    }\n}\n</code></pre>\n<p>I am using spring-boot 2.7.0 and spring-starter-email 2.7.1\nbelow is my application.properties file:</p>\n<pre><code>spring.data.mongodb.uri=mongodb://localhost:27017/jobDB\nkafka.bootstrapAddress=localhost:9092\nspring.mail.host=smtp.gmail.com\nspring.mail.port=587\nspring.mail.username=testingmynotification@gmail.com\n</code></pre>\n"},{"tags":["java","ubuntu","tomcat"],"comments":[{"owner":{"account_id":8713079,"reputation":312,"user_id":6518664,"accept_rate":100,"display_name":"Elated Coder"},"score":0,"creation_date":1669604852,"post_id":65096577,"comment_id":131672242,"body_markdown":"[This answer](https://stackoverflow.com/a/74595569/6518664) will help you install `Tomcat Native Library` which is what is missing.","body":"<a href=\"https://stackoverflow.com/a/74595569/6518664\">This answer</a> will help you install <code>Tomcat Native Library</code> which is what is missing."}],"answers":[{"comments":[{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":17,"creation_date":1606851134,"post_id":65096578,"comment_id":115086217,"body_markdown":"Your answer does absolutely not relate to the APR/OpenSSL problem.","body":"Your answer does absolutely not relate to the APR/OpenSSL problem."},{"owner":{"account_id":5809552,"reputation":85,"user_id":4581107,"accept_rate":82,"display_name":"Ankit Sahu"},"score":0,"creation_date":1614410288,"post_id":65096578,"comment_id":117381598,"body_markdown":"Even I am facing the same problem. Did you find the solution.","body":"Even I am facing the same problem. Did you find the solution."},{"owner":{"account_id":1191363,"reputation":4242,"user_id":1164061,"accept_rate":67,"display_name":"user1164061"},"score":0,"creation_date":1665515055,"post_id":65096578,"comment_id":130717565,"body_markdown":"Which war file are you talking about?","body":"Which war file are you talking about?"}],"tags":[],"owner":{"account_id":15115227,"reputation":25341,"user_id":10907864,"display_name":"Promise Preston"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1606848088,"creation_date":1606848088,"answer_id":65096578,"question_id":65096577,"body_markdown":"I figured out what the issue was.\r\n\r\nI had already set up an **SSL/TLS/HTTPS** connection protocol in the `opt/tomcat/conf/server.xml` file:\r\n\r\n    &lt;Connector port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;\r\n               maxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot; &gt;\r\n        &lt;UpgradeProtocol className=&quot;org.apache.coyote.http2.Http2Protocol&quot; /&gt;\r\n        &lt;SSLHostConfig&gt;\r\n            &lt;Certificate certificateKeyFile=&quot;conf/key.key&quot;\r\n                         certificateFile=&quot;conf/cert.crt&quot;\r\n                         certificateChainFile=&quot;conf/chain.crt&quot;\r\n                         type=&quot;RSA&quot; /&gt;\r\n        &lt;/SSLHostConfig&gt;\r\n    &lt;/Connector&gt;\r\n\r\nbut the `*.war` file that was gonna use the connection was not put in the `opt/tomcat/webapps` directory.\r\n\r\n**Here&#39;s how I solved it**:\r\n\r\nI simply added the `*.war` file in the `opt/tomcat/webapps` directory of tomcat, and then I restarted the tomcat server using:\r\n\r\n    sudo systemctl restart tomcat\r\n\r\nAnd everything worked fine.\r\n\r\nThat&#39;s all.\r\n\r\n**I hope this helps**\r\n\r\n","title":"Tomcat: Native library which allows using OpenSSL was not found","body":"<p>I figured out what the issue was.</p>\n<p>I had already set up an <strong>SSL/TLS/HTTPS</strong> connection protocol in the <code>opt/tomcat/conf/server.xml</code> file:</p>\n<pre><code>&lt;Connector port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;\n           maxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot; &gt;\n    &lt;UpgradeProtocol className=&quot;org.apache.coyote.http2.Http2Protocol&quot; /&gt;\n    &lt;SSLHostConfig&gt;\n        &lt;Certificate certificateKeyFile=&quot;conf/key.key&quot;\n                     certificateFile=&quot;conf/cert.crt&quot;\n                     certificateChainFile=&quot;conf/chain.crt&quot;\n                     type=&quot;RSA&quot; /&gt;\n    &lt;/SSLHostConfig&gt;\n&lt;/Connector&gt;\n</code></pre>\n<p>but the <code>*.war</code> file that was gonna use the connection was not put in the <code>opt/tomcat/webapps</code> directory.</p>\n<p><strong>Here's how I solved it</strong>:</p>\n<p>I simply added the <code>*.war</code> file in the <code>opt/tomcat/webapps</code> directory of tomcat, and then I restarted the tomcat server using:</p>\n<pre><code>sudo systemctl restart tomcat\n</code></pre>\n<p>And everything worked fine.</p>\n<p>That's all.</p>\n<p><strong>I hope this helps</strong></p>\n"},{"comments":[{"owner":{"account_id":1796872,"reputation":151,"user_id":1636101,"accept_rate":40,"display_name":"NeoRamza"},"score":1,"creation_date":1678456742,"post_id":69462314,"comment_id":133541046,"body_markdown":"I had the same problem and installing tomcat-native did fixed it. But I did it with a simple &quot;yum install tomcat-native&quot;","body":"I had the same problem and installing tomcat-native did fixed it. But I did it with a simple &quot;yum install tomcat-native&quot;"}],"tags":[],"owner":{"account_id":79856,"reputation":6560,"user_id":226145,"display_name":"ThanhHH"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1684766823,"creation_date":1633509149,"answer_id":69462314,"question_id":65096577,"body_markdown":"You need to install `tomcat-native-1.2.31` from source code as following steps:\r\n\r\n1. Install tool (skipped them if already exists)\r\n\r\n```\r\nyum install gcc apr-devel apr-util\r\n```\r\n\r\n2. Download tomcat-native from [official site][1] to `/tmp` folder\r\n\r\n```\r\ncd /tmp\r\nwget https://mirror-hk.koddos.net/apache/tomcat/tomcat-connectors/native/1.2.31/source/tomcat-native-1.2.31-src.tar.gz\r\n```\r\n\r\n3. Decompress file\r\n\r\n```\r\ntar zxvf tomcat-native-1.2.23-src.tar.gz\r\n```\r\n\r\n4. Configuration \r\n\r\n```\r\ncd tomcat-native-1.2.23-src/native\r\n\r\n./configure --with-apr=/usr/bin/apr-1-config \\\r\n            --with-java-home=$JAVA_HOME \\\r\n            --with-ssl=yes \\\r\n            --prefix=$CATALINA_HOME\r\n```\r\n\r\n5. Compile and install\r\n\r\n```\r\nmake &amp; make install\r\n```\r\n\r\n6. Edit `$CATALINA_HOME/bin/setenv.sh` (creating the file if necessary) and add the path to the tc-native libraries to LD_LIBRARY_PATH.\r\n\r\n```\r\nLD_LIBRARY_PATH=$LD_LIBRARY_PATH:$CATALINA_HOME/lib\r\nexport LD_LIBRARY_PATH\r\n\r\n```\r\n\r\nAnd it&#39;s work!\r\n\r\n\r\n[1]: http://tomcat.apache.org/native-doc/","title":"Tomcat: Native library which allows using OpenSSL was not found","body":"<p>You need to install <code>tomcat-native-1.2.31</code> from source code as following steps:</p>\n<ol>\n<li>Install tool (skipped them if already exists)</li>\n</ol>\n<pre><code>yum install gcc apr-devel apr-util\n</code></pre>\n<ol start=\"2\">\n<li>Download tomcat-native from <a href=\"http://tomcat.apache.org/native-doc/\" rel=\"nofollow noreferrer\">official site</a> to <code>/tmp</code> folder</li>\n</ol>\n<pre><code>cd /tmp\nwget https://mirror-hk.koddos.net/apache/tomcat/tomcat-connectors/native/1.2.31/source/tomcat-native-1.2.31-src.tar.gz\n</code></pre>\n<ol start=\"3\">\n<li>Decompress file</li>\n</ol>\n<pre><code>tar zxvf tomcat-native-1.2.23-src.tar.gz\n</code></pre>\n<ol start=\"4\">\n<li>Configuration</li>\n</ol>\n<pre><code>cd tomcat-native-1.2.23-src/native\n\n./configure --with-apr=/usr/bin/apr-1-config \\\n            --with-java-home=$JAVA_HOME \\\n            --with-ssl=yes \\\n            --prefix=$CATALINA_HOME\n</code></pre>\n<ol start=\"5\">\n<li>Compile and install</li>\n</ol>\n<pre><code>make &amp; make install\n</code></pre>\n<ol start=\"6\">\n<li>Edit <code>$CATALINA_HOME/bin/setenv.sh</code> (creating the file if necessary) and add the path to the tc-native libraries to LD_LIBRARY_PATH.</li>\n</ol>\n<pre><code>LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$CATALINA_HOME/lib\nexport LD_LIBRARY_PATH\n\n</code></pre>\n<p>And it's work!</p>\n"},{"tags":[],"owner":{"account_id":28575471,"reputation":1,"user_id":21877147,"display_name":"Pankaj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683778323,"creation_date":1683778323,"answer_id":76224101,"question_id":65096577,"body_markdown":"In my case, I was getting this issue with Java 17 and Tomcat 10.1.8. \r\nThe issue in my case was that another tomcat was already running that was started with Java 11 and was not shutdown. And I just changed the path of java from 11 to 17 and was trying to start Tomcat 10.\r\n\r\nOnce I stopped the older tomcat 9 instance, the tomcat 10 started fine.  ","title":"Tomcat: Native library which allows using OpenSSL was not found","body":"<p>In my case, I was getting this issue with Java 17 and Tomcat 10.1.8.\nThe issue in my case was that another tomcat was already running that was started with Java 11 and was not shutdown. And I just changed the path of java from 11 to 17 and was trying to start Tomcat 10.</p>\n<p>Once I stopped the older tomcat 9 instance, the tomcat 10 started fine.</p>\n"}],"owner":{"account_id":15115227,"reputation":25341,"user_id":10907864,"display_name":"Promise Preston"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72876,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":65096578,"answer_count":3,"score":10,"last_activity_date":1684766823,"creation_date":1606848088,"question_id":65096577,"body_markdown":"I just setup a new Java project with Tomcat 9 on Ubuntu 18.04.\r\n\r\nHowever, when I start the Tomcat server using the command\r\n\r\n    sudo systemctl restart tomcat\r\n\r\nI get the following error:\r\n\r\n&gt; The Apache Tomcat Native library which allows using OpenSSL was not found on the java.library.path\r\n\r\nI still can figure out what the issue is.","title":"Tomcat: Native library which allows using OpenSSL was not found","body":"<p>I just setup a new Java project with Tomcat 9 on Ubuntu 18.04.</p>\n<p>However, when I start the Tomcat server using the command</p>\n<pre><code>sudo systemctl restart tomcat\n</code></pre>\n<p>I get the following error:</p>\n<blockquote>\n<p>The Apache Tomcat Native library which allows using OpenSSL was not found on the java.library.path</p>\n</blockquote>\n<p>I still can figure out what the issue is.</p>\n"},{"tags":["java","selenium-webdriver","xpath","webdriverwait"],"comments":[{"owner":{"account_id":3716127,"reputation":18090,"user_id":3092298,"accept_rate":84,"display_name":"Greg Burghardt"},"score":0,"creation_date":1684782675,"post_id":76306346,"comment_id":134564375,"body_markdown":"The stack trace does not appear to have an error message. Either that or this error message is just poorly worded. Are you sure you included the full error message and stack trace in your question?","body":"The stack trace does not appear to have an error message. Either that or this error message is just poorly worded. Are you sure you included the full error message and stack trace in your question?"},{"owner":{"account_id":6990353,"reputation":1340,"user_id":5359846,"accept_rate":23,"display_name":"Tal Angel"},"score":0,"creation_date":1684843746,"post_id":76306346,"comment_id":134573676,"body_markdown":"Is your driver null or not? It&#39;s look like you are trying to call a null ojbect.","body":"Is your driver null or not? It&#39;s look like you are trying to call a null ojbect."}],"owner":{"account_id":28654312,"reputation":1,"user_id":21940679,"display_name":"Som Nath"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684766665,"creation_date":1684759554,"question_id":76306346,"body_markdown":"When I execute the following code:\r\n\r\n    &#39;driver.findElement(By.xpath(&quot;//h5[text()=&#39;Users and Groups Management&#39;]&quot;)).click();&#39;\r\n\r\nI get the following error\r\n\r\n    Element info: {Using=xpath, value=//h5[text()=&#39;Users and Groups Management&#39;]}\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n    \tat org.openqa.selenium.remote.http.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:187)\r\n    \tat org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:122)\r\n    \tat org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:49)\r\n    \tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)\r\n    \tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:83)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:323)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.findElementByXPath(RemoteWebDriver.java:428)\r\n    \tat org.openqa.selenium.By$ByXPath.findElement(By.java:353)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:315)\r\n    \tat Basic.main(Basic.java:23)\r\n    Picked up _JAVA_OPTIONS: -Djava.net.preferIPv4Stack=true\r\n\r\nThe page contains the following lines and I have also tried waiting an appropriate amount of time to execute and also new `WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//h5[text()=&#39;Users and Groups Management&#39;]&quot;)).click();`\r\nNothing worked!\r\n\r\n    &lt;div _ngcontent-ncj-c134=&quot;&quot; class=&quot;card-header flex-centrally-aligned border-0&quot;&gt;&lt;h5 _ngcontent-ncj-c134=&quot;&quot; class=&quot;text-center font-weight-bold m-0&quot;&gt; Users and Groups Management &lt;/h5&gt;&lt;/div&gt;\r\n    &lt;h5 _ngcontent-ncj-c134=&quot;&quot; class=&quot;text-center font-weight-bold m-0&quot;&gt; Users and Groups Management &lt;/h5&gt;\r\n\r\nPlease share your thoughts on how I can proceed on this. Thanks!","title":"sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) error in Selenium","body":"<p>When I execute the following code:</p>\n<pre><code>'driver.findElement(By.xpath(&quot;//h5[text()='Users and Groups Management']&quot;)).click();'\n</code></pre>\n<p>I get the following error</p>\n<pre><code>Element info: {Using=xpath, value=//h5[text()='Users and Groups Management']}\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at org.openqa.selenium.remote.http.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:187)\n    at org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:122)\n    at org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:49)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:83)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:323)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElementByXPath(RemoteWebDriver.java:428)\n    at org.openqa.selenium.By$ByXPath.findElement(By.java:353)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:315)\n    at Basic.main(Basic.java:23)\nPicked up _JAVA_OPTIONS: -Djava.net.preferIPv4Stack=true\n</code></pre>\n<p>The page contains the following lines and I have also tried waiting an appropriate amount of time to execute and also new <code>WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//h5[text()='Users and Groups Management']&quot;)).click();</code>\nNothing worked!</p>\n<pre><code>&lt;div _ngcontent-ncj-c134=&quot;&quot; class=&quot;card-header flex-centrally-aligned border-0&quot;&gt;&lt;h5 _ngcontent-ncj-c134=&quot;&quot; class=&quot;text-center font-weight-bold m-0&quot;&gt; Users and Groups Management &lt;/h5&gt;&lt;/div&gt;\n&lt;h5 _ngcontent-ncj-c134=&quot;&quot; class=&quot;text-center font-weight-bold m-0&quot;&gt; Users and Groups Management &lt;/h5&gt;\n</code></pre>\n<p>Please share your thoughts on how I can proceed on this. Thanks!</p>\n"},{"tags":["java","javax.imageio"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1684680829,"post_id":76300444,"comment_id":134549107,"body_markdown":"Is `/2.png` a valid resource? Is it in your `resources` folder? Does it work if you use a relative path?","body":"Is <code>&#47;2.png</code> a valid resource? Is it in your <code>resources</code> folder? Does it work if you use a relative path?"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1684681785,"post_id":76300444,"comment_id":134549233,"body_markdown":"The right idiom is `MyClass.class.getResource(&quot;/foo&quot;)`, not `this.getClass()` (the latter breaks when subclassing). This looks for `/2.png` in the same place your class files are. Clearly, that resource isn&#39;t there. Easy way to debug this: `MyClass.class.getResource(&quot;MyClass.class&quot;)` - print that. It&#39;ll print precisely where its looking. Replace both times I mentioned `MyClass` with your class name, the rest, copy it verbatim.","body":"The right idiom is <code>MyClass.class.getResource(&quot;&#47;foo&quot;)</code>, not <code>this.getClass()</code> (the latter breaks when subclassing). This looks for <code>&#47;2.png</code> in the same place your class files are. Clearly, that resource isn&#39;t there. Easy way to debug this: <code>MyClass.class.getResource(&quot;MyClass.class&quot;)</code> - print that. It&#39;ll print precisely where its looking. Replace both times I mentioned <code>MyClass</code> with your class name, the rest, copy it verbatim."},{"owner":{"account_id":19103389,"reputation":1,"user_id":13951127,"display_name":"papi"},"score":0,"creation_date":1684683648,"post_id":76300444,"comment_id":134549449,"body_markdown":"@knittl No ,i even don&#39;t have a `resources` folder, i tried relative path before ,but it dosen&#39;t work. 2.png in the src forder","body":"@knittl No ,i even don&#39;t have a <code>resources</code> folder, i tried relative path before ,but it dosen&#39;t work. 2.png in the src forder"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1684686096,"post_id":76300444,"comment_id":134549774,"body_markdown":"*2.png in the src forder* - it should be in a directory that is on your classpath.","body":"<i>2.png in the src forder</i> - it should be in a directory that is on your classpath."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1684695918,"post_id":76300444,"comment_id":134550987,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":19103389,"reputation":1,"user_id":13951127,"display_name":"papi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684766642,"creation_date":1684680037,"question_id":76300444,"body_markdown":"I got \r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: input == null!\r\n\tat java.desktop/javax.imageio.ImageIO.read(ImageIO.java:1400)\r\n\tat studentsystem.frame.StudentSystemLoginFrame.&lt;init&gt;(StudentSystemLoginFrame.java:121)\r\n\tat studentsystem.run.TestLogin.main(TestLogin.java:7)\r\n```\r\nwhen I&#39;m using `Image img = ImageIO.read(this.getClass().getResource(&quot;/2.png&quot;));`\r\nThe error appeared in StudentSystemLoginFrame. My project directory looks like this: \r\n\r\n[![screenshot][1]][1]\r\n\r\n[1]: https://i.stack.imgur.com/EUKQI.png","title":"Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: input == null! when using ImageIO.read(this.getClass().getResource()","body":"<p>I got</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: input == null!\n    at java.desktop/javax.imageio.ImageIO.read(ImageIO.java:1400)\n    at studentsystem.frame.StudentSystemLoginFrame.&lt;init&gt;(StudentSystemLoginFrame.java:121)\n    at studentsystem.run.TestLogin.main(TestLogin.java:7)\n</code></pre>\n<p>when I'm using <code>Image img = ImageIO.read(this.getClass().getResource(&quot;/2.png&quot;));</code>\nThe error appeared in StudentSystemLoginFrame. My project directory looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/EUKQI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EUKQI.png\" alt=\"screenshot\" /></a></p>\n"},{"tags":["java","input","switch-statement","case"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1684766382,"post_id":76307297,"comment_id":134560900,"body_markdown":"You have to use a library like jcurses to avoid echoing user input. Or use AWT, Swing or Java FX (which would be GUI, not TUI).","body":"You have to use a library like jcurses to avoid echoing user input. Or use AWT, Swing or Java FX (which would be GUI, not TUI)."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1684766408,"post_id":76307297,"comment_id":134560906,"body_markdown":"You sort-of can&#39;t, because of the way that the console works. The only simple thing I can suggest is to pretend the user is [entering a &quot;password&quot;](https://stackoverflow.com/questions/8138411/masking-password-input-from-the-console-java).","body":"You sort-of can&#39;t, because of the way that the console works. The only simple thing I can suggest is to pretend the user is <a href=\"https://stackoverflow.com/questions/8138411/masking-password-input-from-the-console-java\">entering a &quot;password&quot;</a>."},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1684766656,"post_id":76307297,"comment_id":134560953,"body_markdown":"Another option: [How to clear the console using Java?](https://stackoverflow.com/q/2979383)","body":"Another option: <a href=\"https://stackoverflow.com/q/2979383\">How to clear the console using Java?</a>"},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1684766697,"post_id":76307297,"comment_id":134560964,"body_markdown":"Does this answer your question? [Hide input on command line](https://stackoverflow.com/questions/10819469/hide-input-on-command-line)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/10819469/hide-input-on-command-line\">Hide input on command line</a>"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684810483,"post_id":76307297,"comment_id":134567603,"body_markdown":"As a note, it&#39;s not printing the value.  That is the value the user has typed.  If you&#39;re looking to prevent the display of the characters the user is typing, you can use a `System.console()` instance.","body":"As a note, it&#39;s not printing the value.  That is the value the user has typed.  If you&#39;re looking to prevent the display of the characters the user is typing, you can use a <code>System.console()</code> instance."}],"owner":{"account_id":28655064,"reputation":1,"user_id":21941310,"display_name":"moh470"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684766544,"creation_date":1684766235,"question_id":76307297,"body_markdown":"How do I prevent my code from printing user input?\r\n\r\n```\r\nimport java.util.Scanner;\r\npublic class Days {\r\n    public static void main(String[] args) {\r\n\r\n        Scanner ent = new Scanner(System.in);\r\n        int day;\r\n        System.out.println(&quot;Entrez un nombre d&#39;un jour du semaine&quot;);\r\n        day = ent.nextInt();\r\n        switch (day) {\r\n        case 1:\r\n            System.out.println(&quot;Dimanche&quot;);\r\n            break;\r\n        case 2:\r\n            System.out.println(&quot;Lundi&quot;);\r\n            break;\r\n        case 3:\r\n            System.out.println(&quot;Mardi&quot;);\r\n            break;\r\n        case 4:\r\n            System.out.println(&quot;Mercredi&quot;);\r\n            break;\r\n        case 5:\r\n            System.out.println(&quot;Jeudi&quot;);\r\n            break;\r\n        case 6:\r\n            System.out.println(&quot;Vendredi&quot;);\r\n            break;\r\n        case 7:\r\n            System.out.println(&quot;Samedi&quot;);\r\n            break;\r\n\r\n        default:\r\n            System.out.println(&quot;Nombre donn&#233;e invalide&quot;);\r\n            break;\r\n\r\n        }\r\n\r\n    }\r\n}\r\n```\r\nI&#39;m trying a simple program that shows the days of the week (dimanche, lundi, mardi, etc are the days but in french) it works fine but it prints user input before printing the actual day like if the input is 3 (mardi) then it prints this in the console: \r\n\r\n```\r\n3 \r\nmardi\r\n```\r\n\r\nHow do I prevent it from printing the input? ","title":"Java switch case: how to avoid printing user input alongside desired output?","body":"<p>How do I prevent my code from printing user input?</p>\n<pre><code>import java.util.Scanner;\npublic class Days {\n    public static void main(String[] args) {\n\n        Scanner ent = new Scanner(System.in);\n        int day;\n        System.out.println(&quot;Entrez un nombre d'un jour du semaine&quot;);\n        day = ent.nextInt();\n        switch (day) {\n        case 1:\n            System.out.println(&quot;Dimanche&quot;);\n            break;\n        case 2:\n            System.out.println(&quot;Lundi&quot;);\n            break;\n        case 3:\n            System.out.println(&quot;Mardi&quot;);\n            break;\n        case 4:\n            System.out.println(&quot;Mercredi&quot;);\n            break;\n        case 5:\n            System.out.println(&quot;Jeudi&quot;);\n            break;\n        case 6:\n            System.out.println(&quot;Vendredi&quot;);\n            break;\n        case 7:\n            System.out.println(&quot;Samedi&quot;);\n            break;\n\n        default:\n            System.out.println(&quot;Nombre donnée invalide&quot;);\n            break;\n\n        }\n\n    }\n}\n</code></pre>\n<p>I'm trying a simple program that shows the days of the week (dimanche, lundi, mardi, etc are the days but in french) it works fine but it prints user input before printing the actual day like if the input is 3 (mardi) then it prints this in the console:</p>\n<pre><code>3 \nmardi\n</code></pre>\n<p>How do I prevent it from printing the input?</p>\n"},{"tags":["java","maven","playwright","maven-surefire-plugin"],"owner":{"account_id":17269988,"reputation":1,"user_id":12505922,"display_name":"DDtesttest"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684766522,"creation_date":1684766522,"question_id":76307335,"body_markdown":"I&#39;m testing using Playwright trying to get the maven-surefire-plugin to re-test failed tests and maven-cucumber-reporting plugin to produce a report after all testing is carried out when ran from command line.\r\n\r\nI can get the cucumber report to create, but i cannot get test to re-run on a fail.\r\n\r\nI have tried re-ordering the POM file and trying to get both plugins to run on the verify command and tried various configurations within the file. See POM below\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;${java.version}&lt;/source&gt;\r\n                        &lt;target&gt;${java.version}&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.0&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;exec&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;executable&gt;maven&lt;/executable&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;16&lt;/source&gt;\r\n                    &lt;target&gt;16&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven.surefire.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;rerunFailingTestsCount&gt;3&lt;/rerunFailingTestsCount&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;net.masterthought&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-cucumber-reporting&lt;/artifactId&gt;\r\n                &lt;version&gt;5.7.5&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;execution&lt;/id&gt;\r\n                        &lt;phase&gt;verify&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;generate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;projectName&gt;Supersonic Report&lt;/projectName&gt;\r\n                            &lt;skip&gt;false&lt;/skip&gt;\r\n                            &lt;outputDirectory&gt;../Reports/Supersonic/TestReports/&lt;/outputDirectory&gt;\r\n                            &lt;inputDirectory&gt;../Reports/Supersonic/JsonOutput/&lt;/inputDirectory&gt;\r\n                            &lt;skipEmptyJSONFiles&gt;true&lt;/skipEmptyJSONFiles&gt;\r\n                            &lt;jsonFiles&gt;\r\n                                &lt;param&gt;**/*.json&lt;/param&gt;\r\n                            &lt;/jsonFiles&gt;\r\n                            &lt;mergeFeaturesById&gt;false&lt;/mergeFeaturesById&gt;\r\n                            &lt;mergeFeaturesWithRetest&gt;true&lt;/mergeFeaturesWithRetest&gt;\r\n                            &lt;checkBuildResult&gt;true&lt;/checkBuildResult&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nI have tried moving the surefire and cucumber reporting executions between plugin management and the plugin section at the end but if the cucumber-reporting plugin is not in the last section it doesn&#39;t create a report. \r\n\r\nAny ideas on how to retest fails using these plugins ?","title":"How do i configure a playwright test in java to allow retest fails in surefire and produce a maven-cucumber-reporting report?","body":"<p>I'm testing using Playwright trying to get the maven-surefire-plugin to re-test failed tests and maven-cucumber-reporting plugin to produce a report after all testing is carried out when ran from command line.</p>\n<p>I can get the cucumber report to create, but i cannot get test to re-run on a fail.</p>\n<p>I have tried re-ordering the POM file and trying to get both plugins to run on the verify command and tried various configurations within the file. See POM below</p>\n<pre><code>&lt;build&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;exec&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;executable&gt;maven&lt;/executable&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;16&lt;/source&gt;\n                &lt;target&gt;16&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven.surefire.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;rerunFailingTestsCount&gt;3&lt;/rerunFailingTestsCount&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;net.masterthought&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-cucumber-reporting&lt;/artifactId&gt;\n            &lt;version&gt;5.7.5&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;execution&lt;/id&gt;\n                    &lt;phase&gt;verify&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;generate&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;projectName&gt;Supersonic Report&lt;/projectName&gt;\n                        &lt;skip&gt;false&lt;/skip&gt;\n                        &lt;outputDirectory&gt;../Reports/Supersonic/TestReports/&lt;/outputDirectory&gt;\n                        &lt;inputDirectory&gt;../Reports/Supersonic/JsonOutput/&lt;/inputDirectory&gt;\n                        &lt;skipEmptyJSONFiles&gt;true&lt;/skipEmptyJSONFiles&gt;\n                        &lt;jsonFiles&gt;\n                            &lt;param&gt;**/*.json&lt;/param&gt;\n                        &lt;/jsonFiles&gt;\n                        &lt;mergeFeaturesById&gt;false&lt;/mergeFeaturesById&gt;\n                        &lt;mergeFeaturesWithRetest&gt;true&lt;/mergeFeaturesWithRetest&gt;\n                        &lt;checkBuildResult&gt;true&lt;/checkBuildResult&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>I have tried moving the surefire and cucumber reporting executions between plugin management and the plugin section at the end but if the cucumber-reporting plugin is not in the last section it doesn't create a report.</p>\n<p>Any ideas on how to retest fails using these plugins ?</p>\n"},{"tags":["java","eclipse","maven","jersey"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1609695541,"post_id":65552858,"comment_id":115897330,"body_markdown":"What action are you performing that isn&#39;t working? Can you copy the messages from the Console here, as text, instead of just posting a screenshot? How are your rest handlers set up?","body":"What action are you performing that isn&#39;t working? Can you copy the messages from the Console here, as text, instead of just posting a screenshot? How are your rest handlers set up?"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":1,"creation_date":1609695649,"post_id":65552858,"comment_id":115897366,"body_markdown":"Does the AlienResource class need to be saved?","body":"Does the AlienResource class need to be saved?"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1609699260,"post_id":65552858,"comment_id":115898473,"body_markdown":"Can you show your dependencies in your pom.xml?","body":"Can you show your dependencies in your pom.xml?"},{"owner":{"account_id":10993747,"reputation":487,"user_id":8076698,"display_name":"semicolon"},"score":0,"creation_date":1609706115,"post_id":65552858,"comment_id":115900579,"body_markdown":"I&#39;m not sure but I think `MessageBodyWriter not found` error can occur when type of response you are sending is not what expected. Please check your configuration of accepts and response type of request. And as I said earlier, this is just a guess. Please add your code and stack trace for proper diagnosis of problem.","body":"I&#39;m not sure but I think <code>MessageBodyWriter not found</code> error can occur when type of response you are sending is not what expected. Please check your configuration of accepts and response type of request. And as I said earlier, this is just a guess. Please add your code and stack trace for proper diagnosis of problem."},{"owner":{"account_id":17200324,"reputation":19,"user_id":12452200,"display_name":"Rohin Thakur"},"score":0,"creation_date":1609725665,"post_id":65552858,"comment_id":115904879,"body_markdown":"Hi Paul.. Here is pom.xml codes:","body":"Hi Paul.. Here is pom.xml codes:"},{"owner":{"account_id":17200324,"reputation":19,"user_id":12452200,"display_name":"Rohin Thakur"},"score":0,"creation_date":1609726206,"post_id":65552858,"comment_id":115904958,"body_markdown":"Hi Paul..Dependencies are: jersey-bom, jersey-container-servlet-core, jersey-hk2, jersey-media-json-binding,","body":"Hi Paul..Dependencies are: jersey-bom, jersey-container-servlet-core, jersey-hk2, jersey-media-json-binding,"},{"owner":{"account_id":17200324,"reputation":19,"user_id":12452200,"display_name":"Rohin Thakur"},"score":0,"creation_date":1609726622,"post_id":65552858,"comment_id":115905024,"body_markdown":"Hi nitind.. Here is console message: getAlien() called....\nJan 04, 2021 7:43:39 AM org.glassfish.jersey.message.internal.WriterInterceptorExecutor$TerminalWriterInterceptor aroundWriteTo\nSEVERE: MessageBodyWriter not found for media type=application/xml, type=class com.spiderscrawl.demorest.Alien, genericType=class com.spiderscrawl.demorest.Alien.  ........................ Here in above screen shot as you can see that i am trying to get xml response on browser and on conside println command shows getAlien() message called....","body":"Hi nitind.. Here is console message: getAlien() called.... Jan 04, 2021 7:43:39 AM org.glassfish.jersey.message.internal.WriterInterceptorExecu&zwnj;&#8203;tor$TerminalWriterIn&zwnj;&#8203;terceptor aroundWriteTo SEVERE: MessageBodyWriter not found for media type=application/xml, type=class com.spiderscrawl.demorest.Alien, genericType=class com.spiderscrawl.demorest.Alien.  ........................ Here in above screen shot as you can see that i am trying to get xml response on browser and on conside println command shows getAlien() message called...."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1609736814,"post_id":65552858,"comment_id":115906597,"body_markdown":"I would switch jersey-media-json-binding for jersey-media-json-jackson.","body":"I would switch jersey-media-json-binding for jersey-media-json-jackson."},{"owner":{"account_id":17200324,"reputation":19,"user_id":12452200,"display_name":"Rohin Thakur"},"score":0,"creation_date":1609737539,"post_id":65552858,"comment_id":115906727,"body_markdown":"Thanks Paul, I instead tried for MediaType.Application_JSON and it works rather XML...Thanks anyway...you helped a lot.....","body":"Thanks Paul, I instead tried for MediaType.Application_JSON and it works rather XML...Thanks anyway...you helped a lot....."}],"answers":[{"comments":[{"owner":{"account_id":16139777,"reputation":39,"user_id":11651253,"display_name":"ashish bindra"},"score":0,"creation_date":1638011088,"post_id":70134186,"comment_id":123977082,"body_markdown":"use this import statement import jakarta.xml.bind.annotation.XmlRootElement;","body":"use this import statement import jakarta.xml.bind.annotation.XmlRootElement;"}],"tags":[],"owner":{"account_id":16139777,"reputation":39,"user_id":11651253,"display_name":"ashish bindra"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638011075,"creation_date":1638011075,"answer_id":70134186,"question_id":65552858,"body_markdown":"use these dependency\r\n   \r\n    &lt;dependency&gt;\r\n     &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n     &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n     &lt;version&gt;3.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n \r\n    &lt;dependency&gt;\r\n     &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n     &lt;artifactId&gt;jersey-media-jaxb&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n     \r\n    &lt;dependency&gt;\r\n     &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n     &lt;artifactId&gt;jaxb-osgi&lt;/artifactId&gt;\r\n     &lt;version&gt;3.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"is jakarta.xml.bind.annotation.XmlRootElement available?","body":"<p>use these dependency</p>\n<pre><code>&lt;dependency&gt;\n &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n &lt;version&gt;3.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n &lt;artifactId&gt;jersey-media-jaxb&lt;/artifactId&gt;\n&lt;/dependency&gt;\n \n&lt;dependency&gt;\n &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n &lt;artifactId&gt;jaxb-osgi&lt;/artifactId&gt;\n &lt;version&gt;3.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23641442,"reputation":1,"user_id":17671626,"display_name":"samiyudeen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639472286,"creation_date":1639464966,"answer_id":70344799,"question_id":65552858,"body_markdown":"    import jakarta.xml.bind.annotation.*;\r\n\r\nImport this `package`, it will work with the above maven dependencies from Ashish bindra.\r\n\r\nNote: Hope you are working with Telusko tutorials, I tested with that and it is working fine.","title":"is jakarta.xml.bind.annotation.XmlRootElement available?","body":"<pre><code>import jakarta.xml.bind.annotation.*;\n</code></pre>\n<p>Import this <code>package</code>, it will work with the above maven dependencies from Ashish bindra.</p>\n<p>Note: Hope you are working with Telusko tutorials, I tested with that and it is working fine.</p>\n"}],"owner":{"account_id":17200324,"reputation":19,"user_id":12452200,"display_name":"Rohin Thakur"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3308,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1684765843,"creation_date":1609695115,"question_id":65552858,"body_markdown":"I am working on Maven-jersey-Tomcat for rest-api development. but or xml type annotation @XmlRootElement or dependency javax.bind.annotation.XmlRootElement is not working...\r\nI have also attached screen shot as well[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FPLVy.png","title":"is jakarta.xml.bind.annotation.XmlRootElement available?","body":"<p>I am working on Maven-jersey-Tomcat for rest-api development. but or xml type annotation @XmlRootElement or dependency javax.bind.annotation.XmlRootElement is not working...\nI have also attached screen shot as well<a href=\"https://i.stack.imgur.com/FPLVy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FPLVy.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","spring-retry"],"comments":[{"owner":{"account_id":3112422,"reputation":741,"user_id":2633917,"display_name":"tobifasc"},"score":0,"creation_date":1684765209,"post_id":76307062,"comment_id":134560562,"body_markdown":"Check out [this](https://docs.spring.io/spring-framework/reference/core/aop/proxying.html#aop-understanding-aop-proxies) chapter in the spring docs. Specifically self-invocation.","body":"Check out <a href=\"https://docs.spring.io/spring-framework/reference/core/aop/proxying.html#aop-understanding-aop-proxies\" rel=\"nofollow noreferrer\">this</a> chapter in the spring docs. Specifically self-invocation."}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684765271,"creation_date":1684765271,"answer_id":76307167,"question_id":76307062,"body_markdown":"`@Retryable` only works for methods called from another bean; internal calls within the same bean bypass the retry interceptor.","title":"Update spring boot retry maxAttempts at runtime","body":"<p><code>@Retryable</code> only works for methods called from another bean; internal calls within the same bean bypass the retry interceptor.</p>\n"}],"owner":{"account_id":28547542,"reputation":11,"user_id":21852789,"display_name":"dev_pradeep"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684765271,"creation_date":1684764567,"question_id":76307062,"body_markdown":"I need to use spring boot retry logic in my code. My retry method is getting call from multiple method, so I want to run retry logic for all caller method but retry logic is running only for first caller method and for later caller method, it is running only for 1 time in case of exception too.\r\n\r\n```\r\nsomeMethod1() {\r\n    retry();\r\n}\r\nsomeMethod2() {\r\n    retry();\r\n}\r\nsomeMethod3() {\r\n    retry();\r\n}\r\n\r\n@Retryable(maxAttempts = 2, value = SomeException.class)\r\npublic void retry() {\r\n    doSomething;\r\n}\r\n```","title":"Update spring boot retry maxAttempts at runtime","body":"<p>I need to use spring boot retry logic in my code. My retry method is getting call from multiple method, so I want to run retry logic for all caller method but retry logic is running only for first caller method and for later caller method, it is running only for 1 time in case of exception too.</p>\n<pre><code>someMethod1() {\n    retry();\n}\nsomeMethod2() {\n    retry();\n}\nsomeMethod3() {\n    retry();\n}\n\n@Retryable(maxAttempts = 2, value = SomeException.class)\npublic void retry() {\n    doSomething;\n}\n</code></pre>\n"},{"tags":["java","truststore"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":3,"creation_date":1684765443,"post_id":76307162,"comment_id":134560641,"body_markdown":"Seems like you could have tested importing a cert with 2 different aliases almost as fast as typing out the question, no?","body":"Seems like you could have tested importing a cert with 2 different aliases almost as fast as typing out the question, no?"}],"owner":{"account_id":26423227,"reputation":11,"user_id":20070608,"display_name":"abdul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1684765231,"creation_date":1684765231,"question_id":76307162,"body_markdown":"Isit OK to have a same certificate with different alias within java truststore?\r\nissuer of the certificate and serial no. also same.\r\n\r\nex:\r\n\r\nAlias name: cert1\r\nOwner: CN=xxxxxxx\r\nIssuer: CN=yyyyyy\r\n\r\n\r\nAlias name: cert2\r\nOwner: CN=xxxxxxx\r\nIssuer: CN=yyyyyy\r\n\r\nJust wanted to know if this is OK.","title":"Can we have same cert with different alias in Java trustore?","body":"<p>Isit OK to have a same certificate with different alias within java truststore?\nissuer of the certificate and serial no. also same.</p>\n<p>ex:</p>\n<p>Alias name: cert1\nOwner: CN=xxxxxxx\nIssuer: CN=yyyyyy</p>\n<p>Alias name: cert2\nOwner: CN=xxxxxxx\nIssuer: CN=yyyyyy</p>\n<p>Just wanted to know if this is OK.</p>\n"},{"tags":["java","pom.xml","quarkus","quarkus-panache"],"comments":[{"owner":{"account_id":18536445,"reputation":1099,"user_id":13506001,"display_name":"Rohith V"},"score":0,"creation_date":1684664471,"post_id":76299372,"comment_id":134547207,"body_markdown":"What is the id value here","body":"What is the id value here"},{"owner":{"account_id":10383987,"reputation":2344,"user_id":7657749,"display_name":"Jan D.M."},"score":0,"creation_date":1684669904,"post_id":76299372,"comment_id":134547849,"body_markdown":"The ID is just a Long","body":"The ID is just a Long"}],"answers":[{"comments":[{"owner":{"account_id":10383987,"reputation":2344,"user_id":7657749,"display_name":"Jan D.M."},"score":0,"creation_date":1684755243,"post_id":76299473,"comment_id":134558326,"body_markdown":"How to check the persistence configuration? I do not find a persistence.cml file...","body":"How to check the persistence configuration? I do not find a persistence.cml file..."},{"owner":{"account_id":23477672,"reputation":45,"user_id":17530250,"display_name":"Pavol Varga"},"score":0,"creation_date":1684755757,"post_id":76299473,"comment_id":134558435,"body_markdown":"If you don&#39;t have META-INF/persistence.xml then JDBC is configured in application.properties","body":"If you don&#39;t have META-INF/persistence.xml then JDBC is configured in application.properties"},{"owner":{"account_id":10383987,"reputation":2344,"user_id":7657749,"display_name":"Jan D.M."},"score":0,"creation_date":1684769085,"post_id":76299473,"comment_id":134561514,"body_markdown":"Thanks for the answer, but the only thing that is configured in the application.properties is this: quarkus.hibernate-orm.database.generation=create\nWhat should I add to the file? I guess I do not have to add every single Entity to it? If yes, how shold it be added?","body":"Thanks for the answer, but the only thing that is configured in the application.properties is this: quarkus.hibernate-orm.database.generation=create What should I add to the file? I guess I do not have to add every single Entity to it? If yes, how shold it be added?"},{"owner":{"account_id":23477672,"reputation":45,"user_id":17530250,"display_name":"Pavol Varga"},"score":0,"creation_date":1684777380,"post_id":76299473,"comment_id":134563300,"body_markdown":"You need jdbc/datasource configuration, like this:\nhttps://quarkus.io/guides/hibernate-orm","body":"You need jdbc/datasource configuration, like this: <a href=\"https://quarkus.io/guides/hibernate-orm\" rel=\"nofollow noreferrer\">quarkus.io/guides/hibernate-orm</a>"}],"tags":[],"owner":{"account_id":23477672,"reputation":45,"user_id":17530250,"display_name":"Pavol Varga"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684665838,"creation_date":1684665838,"answer_id":76299473,"question_id":76299372,"body_markdown":"Check your persistence configuration, if it encompasses package and class of yours &#39;Customer&#39;.","title":"java.lang.IllegalArgumentException: Not an entity","body":"<p>Check your persistence configuration, if it encompasses package and class of yours 'Customer'.</p>\n"}],"owner":{"account_id":10383987,"reputation":2344,"user_id":7657749,"display_name":"Jan D.M."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":282,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684765180,"creation_date":1684664173,"question_id":76299372,"body_markdown":"I am following an online tutorial, but came across an error which I am not able to resolve. I have a multimodule Quarkus application. One module is called &#39;Customer&#39; with an according Customer class which is annotated as an @Entity:\r\n\r\n```\r\npackage org.agoncal.quarkus.jpa;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.Id;\r\n\r\nimport java.time.Instant;\r\n\r\n@Entity\r\npublic class Customer {\r\n    @Id\r\n    @GeneratedValue\r\n    public Long id;\r\n\r\n    public String firstName;\r\n...\r\n```\r\n\r\nIn another module &#39;vintage-store&#39;, the customerRepository is created andl ooks like this: \r\n\r\n```\r\npackage org.agoncal.quarkus.panache.repository;\r\n\r\nimport io.quarkus.hibernate.orm.panache.PanacheRepository;\r\nimport org.agoncal.quarkus.jpa.Customer;\r\n\r\nimport javax.enterprise.context.ApplicationScoped;\r\n\r\n@ApplicationScoped\r\npublic class CustomerRepository implements PanacheRepository&lt;Customer&gt; {}\r\n```\r\nNow, when I try to run `mvn clean install` on the vintage store, there is this test which is failing in the CustomerRepositoryTest file:\r\n\r\n```\r\npackage org.agoncal.quarkus.panache.repository;\r\n\r\nimport io.quarkus.test.TestTransaction;\r\nimport io.quarkus.test.junit.QuarkusTest;\r\nimport org.agoncal.quarkus.jpa.Customer;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport javax.inject.Inject;\r\nimport java.sql.SQLException;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\r\n\r\n@QuarkusTest\r\npublic class CustomerRepositoryTest {\r\n    @Inject\r\n    CustomerRepository repository;\r\n\r\n    @Test\r\n    @TestTransaction\r\n    public void shouldCreateAndFindCustomer() throws SQLException {\r\n        Customer customer = new Customer(&quot;first name&quot;, &quot;last name&quot;, &quot;email&quot;);\r\n\r\n        repository.persist(customer);\r\n        assertNotNull(customer.getId());\r\n\r\n        Customer foundCustomer = repository.findById(customer.getId());\r\n        assertEquals(&quot;first name&quot;, foundCustomer.getFirstName());\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nWith the following error message:\r\n```\r\njava.lang.IllegalArgumentException: Not an entity [class org.agoncal.quarkus.jpa.Customer]\r\n        at org.agoncal.quarkus.panache.repository.CustomerRepositoryTest.shouldCreateAndFindCustomer(CustomerRepositoryTest.java:24)\r\nCaused by: org.hibernate.MappingException: Unknown entity: org.agoncal.quarkus.jpa.Customer\r\n        at org.agoncal.quarkus.panache.repository.CustomerRepositoryTest.shouldCreateAndFindCustomer(CustomerRepositoryTest.java:24)\r\n```\r\n\r\nI have looked at it already for a few hours, but do not find the problem. I have found some pointers that it might have to do something with the difference between jakarta and javax, but not sure\r\nAll the code can be found om github: https://github.com/Tom-De-Backer/agoncal-panache\r\n\r\n","title":"java.lang.IllegalArgumentException: Not an entity","body":"<p>I am following an online tutorial, but came across an error which I am not able to resolve. I have a multimodule Quarkus application. One module is called 'Customer' with an according Customer class which is annotated as an @Entity:</p>\n<pre><code>package org.agoncal.quarkus.jpa;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\n\nimport java.time.Instant;\n\n@Entity\npublic class Customer {\n    @Id\n    @GeneratedValue\n    public Long id;\n\n    public String firstName;\n...\n</code></pre>\n<p>In another module 'vintage-store', the customerRepository is created andl ooks like this:</p>\n<pre><code>package org.agoncal.quarkus.panache.repository;\n\nimport io.quarkus.hibernate.orm.panache.PanacheRepository;\nimport org.agoncal.quarkus.jpa.Customer;\n\nimport javax.enterprise.context.ApplicationScoped;\n\n@ApplicationScoped\npublic class CustomerRepository implements PanacheRepository&lt;Customer&gt; {}\n</code></pre>\n<p>Now, when I try to run <code>mvn clean install</code> on the vintage store, there is this test which is failing in the CustomerRepositoryTest file:</p>\n<pre><code>package org.agoncal.quarkus.panache.repository;\n\nimport io.quarkus.test.TestTransaction;\nimport io.quarkus.test.junit.QuarkusTest;\nimport org.agoncal.quarkus.jpa.Customer;\nimport org.junit.jupiter.api.Test;\n\nimport javax.inject.Inject;\nimport java.sql.SQLException;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\n\n@QuarkusTest\npublic class CustomerRepositoryTest {\n    @Inject\n    CustomerRepository repository;\n\n    @Test\n    @TestTransaction\n    public void shouldCreateAndFindCustomer() throws SQLException {\n        Customer customer = new Customer(&quot;first name&quot;, &quot;last name&quot;, &quot;email&quot;);\n\n        repository.persist(customer);\n        assertNotNull(customer.getId());\n\n        Customer foundCustomer = repository.findById(customer.getId());\n        assertEquals(&quot;first name&quot;, foundCustomer.getFirstName());\n\n    }\n\n}\n</code></pre>\n<p>With the following error message:</p>\n<pre><code>java.lang.IllegalArgumentException: Not an entity [class org.agoncal.quarkus.jpa.Customer]\n        at org.agoncal.quarkus.panache.repository.CustomerRepositoryTest.shouldCreateAndFindCustomer(CustomerRepositoryTest.java:24)\nCaused by: org.hibernate.MappingException: Unknown entity: org.agoncal.quarkus.jpa.Customer\n        at org.agoncal.quarkus.panache.repository.CustomerRepositoryTest.shouldCreateAndFindCustomer(CustomerRepositoryTest.java:24)\n</code></pre>\n<p>I have looked at it already for a few hours, but do not find the problem. I have found some pointers that it might have to do something with the difference between jakarta and javax, but not sure\nAll the code can be found om github: <a href=\"https://github.com/Tom-De-Backer/agoncal-panache\" rel=\"nofollow noreferrer\">https://github.com/Tom-De-Backer/agoncal-panache</a></p>\n"},{"tags":["java","jena"],"comments":[{"owner":{"account_id":394579,"reputation":16420,"user_id":757100,"display_name":"AndyS"},"score":0,"creation_date":1684774300,"post_id":76306895,"comment_id":134562669,"body_markdown":"Maybe this :: https://stackoverflow.com/questions/35662679/uncompilable-source-code-erroneous-tree-type-error-and-cannot-find-symbol-erro","body":"Maybe this :: <a href=\"https://stackoverflow.com/questions/35662679/uncompilable-source-code-erroneous-tree-type-error-and-cannot-find-symbol-erro\" title=\"uncompilable source code erroneous tree type error and cannot find symbol erro\">stackoverflow.com/questions/35662679/&hellip;</a>"},{"owner":{"account_id":20782878,"reputation":893,"user_id":15982771,"display_name":"Blue Robin"},"score":0,"creation_date":1685024250,"post_id":76306895,"comment_id":134605932,"body_markdown":"Does this answer your question? [Uncompilable source code - Erroneous tree type error and cannot find symbol error](https://stackoverflow.com/questions/35662679/uncompilable-source-code-erroneous-tree-type-error-and-cannot-find-symbol-erro)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/35662679/uncompilable-source-code-erroneous-tree-type-error-and-cannot-find-symbol-erro\">Uncompilable source code - Erroneous tree type error and cannot find symbol error</a>"}],"owner":{"account_id":28654667,"reputation":1,"user_id":21940966,"display_name":"missa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684765169,"creation_date":1684763479,"question_id":76306895,"body_markdown":"There are no errors, but during compilation, it shows &quot;0000000000&quot; and the error message &quot;Uncompilable source code - Erroneous tree type: org.apache.jena.ontology.OntModel&quot;. I&#39;m using JDK 17 and Jena 4.8.0. What could be the problem?\r\n\r\n \r\n```\r\nimport org.apache.jena.ontology.*;\r\nimport org.apache.jena.rdf.model.*;\r\nimport javax.swing.*;\r\nimport java.awt.Color;\r\n\r\nprivate void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n        System.out.println(&quot;000000000000000&quot;);\r\n     OntModel model= ModelFactory.createOntologyModel();\r\n    System.out.println(&quot;111111111&quot;);\r\n         String chemin=&quot;D:\\\\test.owl&quot;;\r\n try {\r\n    model.read(chemin);\r\n    System.out.println(&quot;Ontologie charg&#233;e avec succ&#232;s.&quot;);\r\n} catch (Exception e) {\r\n    System.err.println(&quot;Erreur lors de la lecture de l&#39;ontologie : &quot; + e.getMessage());\r\n    e.printStackTrace();\r\n}\r\n   System.out.println(&quot;2222222222&quot;);\r\n        int Nb=model.listClasses().toList().size();\r\n         System.out.println(&quot;33333333333&quot;);\r\n      System.out.println( &quot;Nombre de classes dans l&#39;ontologie : &quot; + Nb );\r\n    \r\n    }\r\n```\r\n\r\n\r\n","title":"What could cause &#39;Uncompilable source code - Erroneous tree type&#39; error when using Jena OntModel in JDK 17?","body":"<p>There are no errors, but during compilation, it shows &quot;0000000000&quot; and the error message &quot;Uncompilable source code - Erroneous tree type: org.apache.jena.ontology.OntModel&quot;. I'm using JDK 17 and Jena 4.8.0. What could be the problem?</p>\n<pre><code>import org.apache.jena.ontology.*;\nimport org.apache.jena.rdf.model.*;\nimport javax.swing.*;\nimport java.awt.Color;\n\nprivate void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n        System.out.println(&quot;000000000000000&quot;);\n     OntModel model= ModelFactory.createOntologyModel();\n    System.out.println(&quot;111111111&quot;);\n         String chemin=&quot;D:\\\\test.owl&quot;;\n try {\n    model.read(chemin);\n    System.out.println(&quot;Ontologie chargée avec succès.&quot;);\n} catch (Exception e) {\n    System.err.println(&quot;Erreur lors de la lecture de l'ontologie : &quot; + e.getMessage());\n    e.printStackTrace();\n}\n   System.out.println(&quot;2222222222&quot;);\n        int Nb=model.listClasses().toList().size();\n         System.out.println(&quot;33333333333&quot;);\n      System.out.println( &quot;Nombre de classes dans l'ontologie : &quot; + Nb );\n    \n    }\n</code></pre>\n"},{"tags":["java","spring-boot","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":28651296,"reputation":31,"user_id":21938222,"display_name":"Srigadha Raj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684758077,"creation_date":1684758077,"answer_id":76306147,"question_id":76305111,"body_markdown":"As mentioned [here][1], the ack will be sent to the broker only after the message is consumed by the consumer. &lt;br&gt;\r\n1. Ack will be sent after the listenForMessage method is completely executed.\r\n&lt;br&gt;\r\n2. Since the exception is not related to the failure of working environment, the kafka consumer marks the message as consumed and sends the ACK to the broker.\r\n\r\n  [1]: https://kafka.apache.org/documentation/#design_consumerposition","title":"What is the default kafka ack policy for @KafkaListener?","body":"<p>As mentioned <a href=\"https://kafka.apache.org/documentation/#design_consumerposition\" rel=\"nofollow noreferrer\">here</a>, the ack will be sent to the broker only after the message is consumed by the consumer. <br></p>\n<ol>\n<li>Ack will be sent after the listenForMessage method is completely executed.\n<br></li>\n<li>Since the exception is not related to the failure of working environment, the kafka consumer marks the message as consumed and sends the ACK to the broker.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1686829312,"post_id":76307148,"comment_id":134854747,"body_markdown":"I tried to repeat the example you linked and experienced the issue. Created separated topic for that https://stackoverflow.com/questions/76481597/messagehandlingexception-missing-header-kafka-deliveryattempt-for-method-para","body":"I tried to repeat the example you linked and experienced the issue. Created separated topic for that <a href=\"https://stackoverflow.com/questions/76481597/messagehandlingexception-missing-header-kafka-deliveryattempt-for-method-para\" title=\"messagehandlingexception missing header kafka deliveryattempt for method para\">stackoverflow.com/questions/76481597/&hellip;</a>"}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684765148,"creation_date":1684765148,"answer_id":76307148,"question_id":76305111,"body_markdown":"&gt;Will be ack sent even in case of exception ?\r\n\r\nIt depends on the error handler.\r\n\r\nBy default, the record causing the exception will be retried up to 9 times before being logged and ack&#39;d. You can configure the retry behavior, and add a custom recover to take some action when retries are exhausted (or use the provided `DeadLetterPublishingRecoverer`. You can also configure which exceptions are retryable, and which are not.\r\n\r\nSee https://docs.spring.io/spring-kafka/docs/current/reference/html/#annotation-error-handling","title":"What is the default kafka ack policy for @KafkaListener?","body":"<blockquote>\n<p>Will be ack sent even in case of exception ?</p>\n</blockquote>\n<p>It depends on the error handler.</p>\n<p>By default, the record causing the exception will be retried up to 9 times before being logged and ack'd. You can configure the retry behavior, and add a custom recover to take some action when retries are exhausted (or use the provided <code>DeadLetterPublishingRecoverer</code>. You can also configure which exceptions are retryable, and which are not.</p>\n<p>See <a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#annotation-error-handling\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/docs/current/reference/html/#annotation-error-handling</a></p>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76307148,"answer_count":2,"score":0,"last_activity_date":1684765148,"creation_date":1684750259,"question_id":76305111,"body_markdown":"Let&#39;s say I have such a listener and no custom kafka configuration:\r\n\r\n    @KafkaListener(topics = &quot;${my_topic_listen}&quot;, autoStartup = &quot;true&quot;)\r\n    public void listenForMessage(String message) {\r\n        log.info(&quot;new message from kafka topic received: {}&quot;, message);\r\n        if(message.length() &gt;1000) {\r\n           throw new RuntimeException(&quot;TooLongMessage&quot;);\r\n        }\r\n        log.info(message is checked);\r\n    }\r\n\r\n1. Will ack be sent before \r\n\r\n    log.info(&quot;new message from kafka topic received: {}&quot;, message);\r\n\r\nis called ?\r\n\r\n\r\n2. if answer for the first question is &quot;No&quot;. Will be ack sent even in case of exception ?\r\n\r\n","title":"What is the default kafka ack policy for @KafkaListener?","body":"<p>Let's say I have such a listener and no custom kafka configuration:</p>\n<pre><code>@KafkaListener(topics = &quot;${my_topic_listen}&quot;, autoStartup = &quot;true&quot;)\npublic void listenForMessage(String message) {\n    log.info(&quot;new message from kafka topic received: {}&quot;, message);\n    if(message.length() &gt;1000) {\n       throw new RuntimeException(&quot;TooLongMessage&quot;);\n    }\n    log.info(message is checked);\n}\n</code></pre>\n<ol>\n<li><p>Will ack be sent before</p>\n<p>log.info(&quot;new message from kafka topic received: {}&quot;, message);</p>\n</li>\n</ol>\n<p>is called ?</p>\n<ol start=\"2\">\n<li>if answer for the first question is &quot;No&quot;. Will be ack sent even in case of exception ?</li>\n</ol>\n"},{"tags":["java","multithreading","sockets","inputstream","outputstream"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1684765452,"post_id":76306912,"comment_id":134560643,"body_markdown":"Using a Selector (answer below) is the right answer.  It&#39;s how basically all servers on the internet work.","body":"Using a Selector (answer below) is the right answer.  It&#39;s how basically all servers on the internet work."}],"answers":[{"tags":[],"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684765089,"creation_date":1684765089,"answer_id":76307134,"question_id":76306912,"body_markdown":"The normal pattern in Java is to make a thread per client. One thread can&#39;t wait for more than one InputStream at the same time.\r\n\r\nIf you want to wait for more than one thing on the same thread, you can &quot;upgrade&quot; to NIO. Then you can create a [`Selector`](https://docs.oracle.com/javase/8/docs/api/java/nio/channels/Selector.html), [register](https://docs.oracle.com/javase/8/docs/api/java/nio/channels/SelectableChannel.html#register-java.nio.channels.Selector-int-) your channels (streams - you have to use `SocketChannel` instead of `InputStream`/`OutputStream`) with the selector, and [wait](https://docs.oracle.com/javase/8/docs/api/java/nio/channels/Selector.html#select--) for one or more to have data, all on one thread. The selector also has a [`wakeup`](https://docs.oracle.com/javase/8/docs/api/java/nio/channels/Selector.html#wakeup--) method which causes it to stop waiting immediately, in case you want it to stop waiting for a reason that has nothing to do with channels.","title":"How to make a Thread in Java wait for two different inputStreams to change?","body":"<p>The normal pattern in Java is to make a thread per client. One thread can't wait for more than one InputStream at the same time.</p>\n<p>If you want to wait for more than one thing on the same thread, you can &quot;upgrade&quot; to NIO. Then you can create a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/channels/Selector.html\" rel=\"nofollow noreferrer\"><code>Selector</code></a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/channels/SelectableChannel.html#register-java.nio.channels.Selector-int-\" rel=\"nofollow noreferrer\">register</a> your channels (streams - you have to use <code>SocketChannel</code> instead of <code>InputStream</code>/<code>OutputStream</code>) with the selector, and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/channels/Selector.html#select--\" rel=\"nofollow noreferrer\">wait</a> for one or more to have data, all on one thread. The selector also has a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/channels/Selector.html#wakeup--\" rel=\"nofollow noreferrer\"><code>wakeup</code></a> method which causes it to stop waiting immediately, in case you want it to stop waiting for a reason that has nothing to do with channels.</p>\n"}],"owner":{"account_id":24667141,"reputation":21,"user_id":18562600,"display_name":"Raul Salgado"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684765089,"creation_date":1684763597,"question_id":76306912,"body_markdown":"I am creating a program where there is a Server and many Clients. When a client connects to the server a thread is created to manage that client. Whenever a client sends a message the thread receives this message and sends it to the rest of threads. When a thread receives a message from another thread sends it to its client. \r\n\r\nThe problem I am having is that for this purpose one thread needs to wait for two different conditions at the same time:\r\n1. A client sends a message\r\n2. Another thread sends a message to that thread\r\n\r\nThe code I have right now is:\r\n```\r\nbyte[] buffer = new byte[1024];\r\nint bytesRead = inputStream.read(buffer);\r\nsynchronized (otherclientSockets) {\r\n  for (Socket otherclientSocket : otherclientSockets) {\r\n    if (!clientSocket.equals(otherclientSocket)) {\r\n      otherclientSocket.getOutputStream().write(buffer, 0, bytesRead);\r\n    }\r\n  }\r\n}\r\n```\r\nRight now when a thread receives the message from the client it resends the message to the rest of clients. How can I change this in order to work as described before?\r\n\r\nThank you :)","title":"How to make a Thread in Java wait for two different inputStreams to change?","body":"<p>I am creating a program where there is a Server and many Clients. When a client connects to the server a thread is created to manage that client. Whenever a client sends a message the thread receives this message and sends it to the rest of threads. When a thread receives a message from another thread sends it to its client.</p>\n<p>The problem I am having is that for this purpose one thread needs to wait for two different conditions at the same time:</p>\n<ol>\n<li>A client sends a message</li>\n<li>Another thread sends a message to that thread</li>\n</ol>\n<p>The code I have right now is:</p>\n<pre><code>byte[] buffer = new byte[1024];\nint bytesRead = inputStream.read(buffer);\nsynchronized (otherclientSockets) {\n  for (Socket otherclientSocket : otherclientSockets) {\n    if (!clientSocket.equals(otherclientSocket)) {\n      otherclientSocket.getOutputStream().write(buffer, 0, bytesRead);\n    }\n  }\n}\n</code></pre>\n<p>Right now when a thread receives the message from the client it resends the message to the rest of clients. How can I change this in order to work as described before?</p>\n<p>Thank you :)</p>\n"},{"tags":["java","android","android-camera2","android-camerax"],"comments":[{"owner":{"account_id":103589,"reputation":10607,"user_id":277368,"accept_rate":79,"display_name":"Xi 张熹"},"score":0,"creation_date":1684770246,"post_id":76307125,"comment_id":134561768,"body_markdown":"It should be straightforward with CameraX. Is there a reason you don&#39;t want to use CameraX?","body":"It should be straightforward with CameraX. Is there a reason you don&#39;t want to use CameraX?"},{"owner":{"account_id":337128,"reputation":447,"user_id":665205,"accept_rate":54,"display_name":"leonidas79"},"score":0,"creation_date":1684786065,"post_id":76307125,"comment_id":134564980,"body_markdown":"the code i am using is working fine (face detection with graphics overlay) , with CameraX the overlay is not fit over face , so i have to use the Camera2 api","body":"the code i am using is working fine (face detection with graphics overlay) , with CameraX the overlay is not fit over face , so i have to use the Camera2 api"},{"owner":{"account_id":103589,"reputation":10607,"user_id":277368,"accept_rate":79,"display_name":"Xi 张熹"},"score":0,"creation_date":1684788980,"post_id":76307125,"comment_id":134565488,"body_markdown":"For camera2 implementation,  you can check out the camera2 code sample: https://github.com/android/camera-samples/tree/main/Camera2Basic. However just FYI, it&#39;s very difficult to make your app compatible across all devices with camera2. That&#39;s why Google introduced CameraX.","body":"For camera2 implementation,  you can check out the camera2 code sample: <a href=\"https://github.com/android/camera-samples/tree/main/Camera2Basic\" rel=\"nofollow noreferrer\">github.com/android/camera-samples/tree/main/Camera2Basic</a>. However just FYI, it&#39;s very difficult to make your app compatible across all devices with camera2. That&#39;s why Google introduced CameraX."}],"owner":{"account_id":337128,"reputation":447,"user_id":665205,"accept_rate":54,"display_name":"leonidas79"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684765037,"creation_date":1684765037,"question_id":76307125,"body_markdown":"I am trying to use &quot;camera preview&quot; and &quot;face detection&quot; using Camera2 and MLKIT face-detection , the preview and face detection works fine , but i cannot take a picture while showing the preview.\r\n\r\nLivePreviewActivity :\r\n\r\n    public final class LivePreviewActivity extends AppCompatActivity implements OnRequestPermissionsResultCallback, OnItemSelectedListener, CompoundButton.OnCheckedChangeListener {\r\n    private static final String FACE_DETECTION = &quot;Face Detection&quot;;\r\n\r\n    private static final String TAG = &quot;LivePreviewActivity&quot;;\r\n    private static final int PERMISSION_REQUESTS = 1;\r\n\r\n    private CameraSource cameraSource = null;\r\n    private CameraSourcePreview preview;\r\n    private GraphicOverlay graphicOverlay;\r\n    private String selectedModel = FACE_DETECTION;\r\n    private Executor executor = Executors.newSingleThreadExecutor();\r\n    Button takePic;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        Log.d(TAG, &quot;onCreate&quot;);\r\n\r\n        setContentView(R.layout.activity_vision_live_preview);\r\n\r\n        preview = findViewById(R.id.preview_view);\r\n        if (preview == null) {\r\n            Log.d(TAG, &quot;Preview is null&quot;);\r\n        }\r\n        graphicOverlay = findViewById(R.id.graphic_overlay);\r\n        if (graphicOverlay == null) {\r\n            Log.d(TAG, &quot;graphicOverlay is null&quot;);\r\n        }\r\n\r\n        ToggleButton facingSwitch = findViewById(R.id.facing_switch);\r\n        facingSwitch.setOnCheckedChangeListener(this);\r\n\r\n        takePic = findViewById(R.id.take_pic);\r\n\r\n        ImageView settingsButton = findViewById(R.id.settings_button);\r\n        settingsButton.setOnClickListener(v -&gt; {\r\n            Intent intent = new Intent(getApplicationContext(), SettingsActivity.class);\r\n            intent.putExtra(SettingsActivity.EXTRA_LAUNCH_SOURCE, SettingsActivity.LaunchSource.LIVE_PREVIEW);\r\n            startActivity(intent);\r\n        });\r\n\r\n        if (allPermissionsGranted()) {\r\n            createCameraSource(selectedModel);\r\n        } else {\r\n            getRuntimePermissions();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public synchronized void onItemSelected(AdapterView&lt;?&gt; parent, View view, int pos, long id) {\r\n        // An item was selected. You can retrieve the selected item using\r\n        // parent.getItemAtPosition(pos)\r\n        selectedModel = parent.getItemAtPosition(pos).toString();\r\n        Log.d(TAG, &quot;Selected model: &quot; + selectedModel);\r\n        preview.stop();\r\n        if (allPermissionsGranted()) {\r\n            createCameraSource(selectedModel);\r\n            startCameraSource();\r\n        } else {\r\n            getRuntimePermissions();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onNothingSelected(AdapterView&lt;?&gt; parent) {\r\n        // Do nothing.\r\n    }\r\n\r\n    @Override\r\n    public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\r\n        Log.d(TAG, &quot;Set facing&quot;);\r\n        if (cameraSource != null) {\r\n            if (isChecked) {\r\n                cameraSource.setFacing(CameraSource.CAMERA_FACING_FRONT);\r\n            } else {\r\n                cameraSource.setFacing(CameraSource.CAMERA_FACING_BACK);\r\n            }\r\n        }\r\n        preview.stop();\r\n        startCameraSource();\r\n    }\r\n\r\n    private void createCameraSource(String model) {\r\n        // If there&#39;s no existing cameraSource, create one.\r\n        if (cameraSource == null) {\r\n            cameraSource = new CameraSource(this, graphicOverlay);\r\n        }\r\n\r\n        try {\r\n            switch (model) {\r\n                case FACE_DETECTION:\r\n                    Log.i(TAG, &quot;Using Face Detector Processor&quot;);\r\n                    FaceDetectorOptions faceDetectorOptions = PreferenceUtils.getFaceDetectorOptionsForLivePreview(this);\r\n                    cameraSource.setMachineLearningFrameProcessor(new FaceDetectorProcessor(this, faceDetectorOptions));\r\n                    break;\r\n                default:\r\n                    Log.e(TAG, &quot;Unknown model: &quot; + model);\r\n            }\r\n        } catch (RuntimeException e) {\r\n            Log.e(TAG, &quot;Can not create image processor: &quot; + model, e);\r\n            Toast.makeText(getApplicationContext(), &quot;Can not create image processor: &quot; + e.getMessage(), Toast.LENGTH_LONG).show();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Starts or restarts the camera source, if it exists. If the camera source doesn&#39;t exist yet\r\n     * (e.g., because onResume was called before the camera source was created), this will be called\r\n     * again when the camera source is created.\r\n     */\r\n    private void startCameraSource() {\r\n        if (cameraSource != null) {\r\n            try {\r\n                if (preview == null) {\r\n                    Log.d(TAG, &quot;resume: Preview is null&quot;);\r\n                }\r\n                if (graphicOverlay == null) {\r\n                    Log.d(TAG, &quot;resume: graphOverlay is null&quot;);\r\n                }\r\n\r\n                preview.start(cameraSource, graphicOverlay);\r\n\r\n               \r\n                final ListenableFuture&lt;ProcessCameraProvider&gt; cameraProviderFuture = ProcessCameraProvider.getInstance(this);\r\n                cameraProviderFuture.addListener(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        try {\r\n                            ProcessCameraProvider cameraProvider = cameraProviderFuture.get();\r\n                            bindPreview(cameraProvider);\r\n\r\n                        } catch (ExecutionException | InterruptedException e) {\r\n                            // No errors need to be handled for this Future.\r\n                            // This should never be reached.\r\n                        }\r\n                    }\r\n                }, ContextCompat.getMainExecutor(this));\r\n\r\n\r\n            } catch (IOException e) {\r\n                Log.e(TAG, &quot;Unable to start camera source.&quot;, e);\r\n                cameraSource.release();\r\n                cameraSource = null;\r\n            } catch (Exception e){\r\n                Log.e(TAG, &quot;Unable to start camera source.&quot;, e);\r\n                cameraSource.release();\r\n                cameraSource = null;\r\n            }\r\n        }\r\n    }\r\n    void bindPreview(@NonNull ProcessCameraProvider cameraProvider) {\r\n        cameraProvider.unbindAll();\r\n        Preview preview = new Preview.Builder().build();\r\n        ImageCapture.Builder builder = new ImageCapture.Builder();\r\n        final ImageCapture imageCapture = builder.setTargetRotation(this.getWindowManager().getDefaultDisplay().getRotation()).build();\r\n        @SuppressLint(&quot;WrongConstant&quot;) CameraSelector cameraSelector = new CameraSelector.Builder().requireLensFacing(String.valueOf(cameraSource.getCameraFacing()).equals(&quot;0&quot;)?1:0).build();\r\n\r\n        @SuppressLint(&quot;RestrictedApi&quot;) ImageAnalysis imageAnalysis = new ImageAnalysis.Builder().build();\r\n        MyAnalyzer myAnalyzer = new MyAnalyzer();\r\n        imageAnalysis.setAnalyzer(executor, myAnalyzer);\r\n\r\n        Camera camera = cameraProvider.bindToLifecycle((LifecycleOwner) this, cameraSelector, preview, imageAnalysis, imageCapture);\r\n\r\n        takePic.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                SimpleDateFormat mDateFormat = new SimpleDateFormat(&quot;yyyyMMddHHmmss&quot;, Locale.US);\r\n                File file = new File(getBatchDirectoryName(), mDateFormat.format(new Date()) + &quot;.jpg&quot;);\r\n\r\n                ImageCapture.OutputFileOptions outputFileOptions = new ImageCapture.OutputFileOptions.Builder(file).build();\r\n                imageCapture.takePicture(outputFileOptions, executor, new ImageCapture.OnImageSavedCallback() {\r\n                    @Override\r\n                    public void onImageSaved(@NonNull ImageCapture.OutputFileResults outputFileResults) {\r\n                        runOnUiThread(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                Toast.makeText(LivePreviewActivity.this, &quot;Image Saved successfully&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        });\r\n                    }\r\n                    @Override\r\n                    public void onError(@NonNull ImageCaptureException error) {\r\n                        error.printStackTrace();\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onResume() {\r\n        super.onResume();\r\n        Log.d(TAG, &quot;onResume&quot;);\r\n        createCameraSource(selectedModel);\r\n        startCameraSource();\r\n    }\r\n\r\n    /**\r\n     * Stops the camera.\r\n     */\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n        preview.stop();\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n        if (cameraSource != null) {\r\n            cameraSource.release();\r\n        }\r\n    }\r\n\r\n    private String[] getRequiredPermissions() {\r\n        try {\r\n            PackageInfo info = this.getPackageManager().getPackageInfo(this.getPackageName(), PackageManager.GET_PERMISSIONS);\r\n            String[] ps = info.requestedPermissions;\r\n            if (ps != null &amp;&amp; ps.length &gt; 0) {\r\n                return ps;\r\n            } else {\r\n                return new String[0];\r\n            }\r\n        } catch (Exception e) {\r\n            return new String[0];\r\n        }\r\n    }\r\n\r\n    private boolean allPermissionsGranted() {\r\n        for (String permission : getRequiredPermissions()) {\r\n            if (!isPermissionGranted(this, permission)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    private void getRuntimePermissions() {\r\n        List&lt;String&gt; allNeededPermissions = new ArrayList&lt;&gt;();\r\n        for (String permission : getRequiredPermissions()) {\r\n            if (!isPermissionGranted(this, permission)) {\r\n                allNeededPermissions.add(permission);\r\n            }\r\n        }\r\n\r\n        if (!allNeededPermissions.isEmpty()) {\r\n            ActivityCompat.requestPermissions(this, allNeededPermissions.toArray(new String[0]), PERMISSION_REQUESTS);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\r\n        Log.i(TAG, &quot;Permission granted!&quot;);\r\n        if (allPermissionsGranted()) {\r\n            createCameraSource(selectedModel);\r\n        }\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n    }\r\n\r\n    private static boolean isPermissionGranted(Context context, String permission) {\r\n        if (ContextCompat.checkSelfPermission(context, permission) == PackageManager.PERMISSION_GRANTED) {\r\n            Log.i(TAG, &quot;Permission granted: &quot; + permission);\r\n            return true;\r\n        }\r\n        Log.i(TAG, &quot;Permission NOT granted: &quot; + permission);\r\n        return false;\r\n    }\r\n\r\n    public String getBatchDirectoryName() {\r\n        String app_folder_path = &quot;&quot;;\r\n        app_folder_path = Environment.getExternalStorageDirectory().toString() + &quot;/images&quot;;\r\n        File dir = new File(app_folder_path);\r\n        if (!dir.exists() &amp;&amp; !dir.mkdirs()) {\r\n        }\r\n        return app_folder_path;\r\n    }\r\n\r\n    private class MyAnalyzer implements ImageAnalysis.Analyzer {\r\n        @SuppressLint(&quot;RestrictedApi&quot;)\r\n        @Override\r\n        @androidx.camera.core.ExperimentalGetImage\r\n        public void analyze(ImageProxy imageProxy) {\r\n            Image mediaImage = imageProxy.getImage();\r\n            if (mediaImage != null) {\r\n                InputImage image = InputImage.fromMediaImage(mediaImage, imageProxy.getImageInfo().getRotationDegrees());\r\n                // Pass image to an ML Kit Vision API\r\n                // ...\r\n            }\r\n        }\r\n    }\r\n    }\r\n\r\n\r\nCameraSourcePreview :\r\n\r\n      public class CameraSourcePreview extends ViewGroup {\r\n                          private static final String TAG = &quot;MIDemoApp:Preview&quot;;\r\n\r\n                          private final Context context;\r\n                          private final SurfaceView surfaceView;\r\n                          private boolean startRequested;\r\n                          private boolean surfaceAvailable;\r\n                          private CameraSource cameraSource;\r\n\r\n                          private GraphicOverlay overlay;\r\n\r\n                          public CameraSourcePreview(Context context, AttributeSet attrs) {\r\n                            super(context, attrs);\r\n                            this.context = context;\r\n                            startRequested = false;\r\n                            surfaceAvailable = false;\r\n\r\n                            surfaceView = new SurfaceView(context);\r\n                            surfaceView.getHolder().addCallback(new SurfaceCallback());\r\n                            addView(surfaceView);\r\n                          }\r\n\r\n                          private void start(CameraSource cameraSource) throws IOException {\r\n                            this.cameraSource = cameraSource;\r\n\r\n                            if (this.cameraSource != null) {\r\n                              startRequested = true;\r\n                              startIfReady();\r\n                            }\r\n                          }\r\n\r\n                          public void start(CameraSource cameraSource, GraphicOverlay overlay) throws IOException {\r\n                            this.overlay = overlay;\r\n                            start(cameraSource);\r\n                          }\r\n\r\n\r\n                          public void stop() {\r\n                            if (cameraSource != null) {\r\n                              cameraSource.stop();\r\n                            }\r\n                          }\r\n\r\n                          public void release() {\r\n                            if (cameraSource != null) {\r\n                              cameraSource.release();\r\n                              cameraSource = null;\r\n                            }\r\n                            surfaceView.getHolder().getSurface().release();\r\n                          }\r\n\r\n                          private void startIfReady() throws IOException, SecurityException {\r\n                            if (startRequested &amp;&amp; surfaceAvailable) {\r\n                              if (PreferenceUtils.isCameraLiveViewportEnabled(context)) {\r\n                                cameraSource.start(surfaceView.getHolder());\r\n                              } else {\r\n                                cameraSource.start();\r\n                              }\r\n                              requestLayout();\r\n\r\n                              if (overlay != null) {\r\n                                Size size = cameraSource.getPreviewSize();\r\n                                int min = Math.min(size.getWidth(), size.getHeight());\r\n                                int max = Math.max(size.getWidth(), size.getHeight());\r\n                                boolean isImageFlipped = cameraSource.getCameraFacing() == CameraSource.CAMERA_FACING_FRONT;\r\n                                if (isPortraitMode()) {\r\n                                  // Swap width and height sizes when in portrait, since it will be rotated by 90 degrees.\r\n                                  // The camera preview and the image being processed have the same size.\r\n                                  overlay.setImageSourceInfo(min, max, isImageFlipped);\r\n                                } else {\r\n                                  overlay.setImageSourceInfo(max, min, isImageFlipped);\r\n                                }\r\n                                overlay.clear();\r\n                              }\r\n                              startRequested = false;\r\n                            }\r\n                          }\r\n\r\n                          private class SurfaceCallback implements SurfaceHolder.Callback {\r\n                            @Override\r\n                            public void surfaceCreated(SurfaceHolder surface) {\r\n                              surfaceAvailable = true;\r\n                              try {\r\n                                startIfReady();\r\n                              } catch (IOException e) {\r\n                                Log.e(TAG, &quot;Could not start camera source.&quot;, e);\r\n                              }\r\n                            }\r\n\r\n                            @Override\r\n                            public void surfaceDestroyed(SurfaceHolder surface) {\r\n                              surfaceAvailable = false;\r\n                            }\r\n\r\n                            @Override\r\n                            public void surfaceChanged(SurfaceHolder holder, int format, int width, int height) {}\r\n                          }\r\n\r\n                          @Override\r\n                          protected void onLayout(boolean changed, int left, int top, int right, int bottom) {\r\n                            int width = 320;\r\n                            int height = 240;\r\n                            if (cameraSource != null) {\r\n                              Size size = cameraSource.getPreviewSize();\r\n                              if (size != null) {\r\n                                width = size.getWidth();\r\n                                height = size.getHeight();\r\n                              }\r\n                            }\r\n\r\n                            // Swap width and height sizes when in portrait, since it will be rotated 90 degrees\r\n                            if (isPortraitMode()) {\r\n                              int tmp = width;\r\n                              width = height;\r\n                              height = tmp;\r\n                            }\r\n\r\n                            float previewAspectRatio = (float) width / height;\r\n                            int layoutWidth = right - left;\r\n                            int layoutHeight = bottom - top;\r\n                            float layoutAspectRatio = (float) layoutWidth / layoutHeight;\r\n                            if (previewAspectRatio &gt; layoutAspectRatio) {\r\n                              // The preview input is wider than the layout area. Fit the layout height and crop\r\n                              // the preview input horizontally while keep the center.\r\n                              int horizontalOffset = (int) (previewAspectRatio * layoutHeight - layoutWidth) / 2;\r\n                              surfaceView.layout(-horizontalOffset, 0, layoutWidth + horizontalOffset, layoutHeight);\r\n                            } else {\r\n                              // The preview input is taller than the layout area. Fit the layout width and crop the preview\r\n                              // input vertically while keep the center.\r\n                              int verticalOffset = (int) (layoutWidth / previewAspectRatio - layoutHeight) / 2;\r\n                              surfaceView.layout(0, -verticalOffset, layoutWidth, layoutHeight + verticalOffset);\r\n                            }\r\n                          }\r\n\r\n                          private boolean isPortraitMode() {\r\n                            int orientation = context.getResources().getConfiguration().orientation;\r\n                            if (orientation == Configuration.ORIENTATION_LANDSCAPE) {\r\n                              return false;\r\n                            }\r\n                            if (orientation == Configuration.ORIENTATION_PORTRAIT) {\r\n                              return true;\r\n                            }\r\n\r\n                            Log.d(TAG, &quot;isPortraitMode returning false by default&quot;);\r\n                            return false;\r\n                          }\r\n                        }\r\n\r\n\r\nwhen i click on the button to take the picture nothing happened , ImageCapture.OnImageSavedCallback() is never called , what can be wrong and how can i achieve it.\r\n\r\n\r\n  \r\n\r\n","title":"Take a picture while camera preview on Android using Camera2","body":"<p>I am trying to use &quot;camera preview&quot; and &quot;face detection&quot; using Camera2 and MLKIT face-detection , the preview and face detection works fine , but i cannot take a picture while showing the preview.</p>\n<p>LivePreviewActivity :</p>\n<pre><code>public final class LivePreviewActivity extends AppCompatActivity implements OnRequestPermissionsResultCallback, OnItemSelectedListener, CompoundButton.OnCheckedChangeListener {\nprivate static final String FACE_DETECTION = &quot;Face Detection&quot;;\n\nprivate static final String TAG = &quot;LivePreviewActivity&quot;;\nprivate static final int PERMISSION_REQUESTS = 1;\n\nprivate CameraSource cameraSource = null;\nprivate CameraSourcePreview preview;\nprivate GraphicOverlay graphicOverlay;\nprivate String selectedModel = FACE_DETECTION;\nprivate Executor executor = Executors.newSingleThreadExecutor();\nButton takePic;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    Log.d(TAG, &quot;onCreate&quot;);\n\n    setContentView(R.layout.activity_vision_live_preview);\n\n    preview = findViewById(R.id.preview_view);\n    if (preview == null) {\n        Log.d(TAG, &quot;Preview is null&quot;);\n    }\n    graphicOverlay = findViewById(R.id.graphic_overlay);\n    if (graphicOverlay == null) {\n        Log.d(TAG, &quot;graphicOverlay is null&quot;);\n    }\n\n    ToggleButton facingSwitch = findViewById(R.id.facing_switch);\n    facingSwitch.setOnCheckedChangeListener(this);\n\n    takePic = findViewById(R.id.take_pic);\n\n    ImageView settingsButton = findViewById(R.id.settings_button);\n    settingsButton.setOnClickListener(v -&gt; {\n        Intent intent = new Intent(getApplicationContext(), SettingsActivity.class);\n        intent.putExtra(SettingsActivity.EXTRA_LAUNCH_SOURCE, SettingsActivity.LaunchSource.LIVE_PREVIEW);\n        startActivity(intent);\n    });\n\n    if (allPermissionsGranted()) {\n        createCameraSource(selectedModel);\n    } else {\n        getRuntimePermissions();\n    }\n}\n\n@Override\npublic synchronized void onItemSelected(AdapterView&lt;?&gt; parent, View view, int pos, long id) {\n    // An item was selected. You can retrieve the selected item using\n    // parent.getItemAtPosition(pos)\n    selectedModel = parent.getItemAtPosition(pos).toString();\n    Log.d(TAG, &quot;Selected model: &quot; + selectedModel);\n    preview.stop();\n    if (allPermissionsGranted()) {\n        createCameraSource(selectedModel);\n        startCameraSource();\n    } else {\n        getRuntimePermissions();\n    }\n}\n\n@Override\npublic void onNothingSelected(AdapterView&lt;?&gt; parent) {\n    // Do nothing.\n}\n\n@Override\npublic void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\n    Log.d(TAG, &quot;Set facing&quot;);\n    if (cameraSource != null) {\n        if (isChecked) {\n            cameraSource.setFacing(CameraSource.CAMERA_FACING_FRONT);\n        } else {\n            cameraSource.setFacing(CameraSource.CAMERA_FACING_BACK);\n        }\n    }\n    preview.stop();\n    startCameraSource();\n}\n\nprivate void createCameraSource(String model) {\n    // If there's no existing cameraSource, create one.\n    if (cameraSource == null) {\n        cameraSource = new CameraSource(this, graphicOverlay);\n    }\n\n    try {\n        switch (model) {\n            case FACE_DETECTION:\n                Log.i(TAG, &quot;Using Face Detector Processor&quot;);\n                FaceDetectorOptions faceDetectorOptions = PreferenceUtils.getFaceDetectorOptionsForLivePreview(this);\n                cameraSource.setMachineLearningFrameProcessor(new FaceDetectorProcessor(this, faceDetectorOptions));\n                break;\n            default:\n                Log.e(TAG, &quot;Unknown model: &quot; + model);\n        }\n    } catch (RuntimeException e) {\n        Log.e(TAG, &quot;Can not create image processor: &quot; + model, e);\n        Toast.makeText(getApplicationContext(), &quot;Can not create image processor: &quot; + e.getMessage(), Toast.LENGTH_LONG).show();\n    }\n}\n\n/**\n * Starts or restarts the camera source, if it exists. If the camera source doesn't exist yet\n * (e.g., because onResume was called before the camera source was created), this will be called\n * again when the camera source is created.\n */\nprivate void startCameraSource() {\n    if (cameraSource != null) {\n        try {\n            if (preview == null) {\n                Log.d(TAG, &quot;resume: Preview is null&quot;);\n            }\n            if (graphicOverlay == null) {\n                Log.d(TAG, &quot;resume: graphOverlay is null&quot;);\n            }\n\n            preview.start(cameraSource, graphicOverlay);\n\n           \n            final ListenableFuture&lt;ProcessCameraProvider&gt; cameraProviderFuture = ProcessCameraProvider.getInstance(this);\n            cameraProviderFuture.addListener(new Runnable() {\n                @Override\n                public void run() {\n                    try {\n                        ProcessCameraProvider cameraProvider = cameraProviderFuture.get();\n                        bindPreview(cameraProvider);\n\n                    } catch (ExecutionException | InterruptedException e) {\n                        // No errors need to be handled for this Future.\n                        // This should never be reached.\n                    }\n                }\n            }, ContextCompat.getMainExecutor(this));\n\n\n        } catch (IOException e) {\n            Log.e(TAG, &quot;Unable to start camera source.&quot;, e);\n            cameraSource.release();\n            cameraSource = null;\n        } catch (Exception e){\n            Log.e(TAG, &quot;Unable to start camera source.&quot;, e);\n            cameraSource.release();\n            cameraSource = null;\n        }\n    }\n}\nvoid bindPreview(@NonNull ProcessCameraProvider cameraProvider) {\n    cameraProvider.unbindAll();\n    Preview preview = new Preview.Builder().build();\n    ImageCapture.Builder builder = new ImageCapture.Builder();\n    final ImageCapture imageCapture = builder.setTargetRotation(this.getWindowManager().getDefaultDisplay().getRotation()).build();\n    @SuppressLint(&quot;WrongConstant&quot;) CameraSelector cameraSelector = new CameraSelector.Builder().requireLensFacing(String.valueOf(cameraSource.getCameraFacing()).equals(&quot;0&quot;)?1:0).build();\n\n    @SuppressLint(&quot;RestrictedApi&quot;) ImageAnalysis imageAnalysis = new ImageAnalysis.Builder().build();\n    MyAnalyzer myAnalyzer = new MyAnalyzer();\n    imageAnalysis.setAnalyzer(executor, myAnalyzer);\n\n    Camera camera = cameraProvider.bindToLifecycle((LifecycleOwner) this, cameraSelector, preview, imageAnalysis, imageCapture);\n\n    takePic.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            SimpleDateFormat mDateFormat = new SimpleDateFormat(&quot;yyyyMMddHHmmss&quot;, Locale.US);\n            File file = new File(getBatchDirectoryName(), mDateFormat.format(new Date()) + &quot;.jpg&quot;);\n\n            ImageCapture.OutputFileOptions outputFileOptions = new ImageCapture.OutputFileOptions.Builder(file).build();\n            imageCapture.takePicture(outputFileOptions, executor, new ImageCapture.OnImageSavedCallback() {\n                @Override\n                public void onImageSaved(@NonNull ImageCapture.OutputFileResults outputFileResults) {\n                    runOnUiThread(new Runnable() {\n                        @Override\n                        public void run() {\n                            Toast.makeText(LivePreviewActivity.this, &quot;Image Saved successfully&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    });\n                }\n                @Override\n                public void onError(@NonNull ImageCaptureException error) {\n                    error.printStackTrace();\n                }\n            });\n        }\n    });\n}\n\n@Override\npublic void onResume() {\n    super.onResume();\n    Log.d(TAG, &quot;onResume&quot;);\n    createCameraSource(selectedModel);\n    startCameraSource();\n}\n\n/**\n * Stops the camera.\n */\n@Override\nprotected void onPause() {\n    super.onPause();\n    preview.stop();\n}\n\n@Override\npublic void onDestroy() {\n    super.onDestroy();\n    if (cameraSource != null) {\n        cameraSource.release();\n    }\n}\n\nprivate String[] getRequiredPermissions() {\n    try {\n        PackageInfo info = this.getPackageManager().getPackageInfo(this.getPackageName(), PackageManager.GET_PERMISSIONS);\n        String[] ps = info.requestedPermissions;\n        if (ps != null &amp;&amp; ps.length &gt; 0) {\n            return ps;\n        } else {\n            return new String[0];\n        }\n    } catch (Exception e) {\n        return new String[0];\n    }\n}\n\nprivate boolean allPermissionsGranted() {\n    for (String permission : getRequiredPermissions()) {\n        if (!isPermissionGranted(this, permission)) {\n            return false;\n        }\n    }\n    return true;\n}\n\nprivate void getRuntimePermissions() {\n    List&lt;String&gt; allNeededPermissions = new ArrayList&lt;&gt;();\n    for (String permission : getRequiredPermissions()) {\n        if (!isPermissionGranted(this, permission)) {\n            allNeededPermissions.add(permission);\n        }\n    }\n\n    if (!allNeededPermissions.isEmpty()) {\n        ActivityCompat.requestPermissions(this, allNeededPermissions.toArray(new String[0]), PERMISSION_REQUESTS);\n    }\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n    Log.i(TAG, &quot;Permission granted!&quot;);\n    if (allPermissionsGranted()) {\n        createCameraSource(selectedModel);\n    }\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n}\n\nprivate static boolean isPermissionGranted(Context context, String permission) {\n    if (ContextCompat.checkSelfPermission(context, permission) == PackageManager.PERMISSION_GRANTED) {\n        Log.i(TAG, &quot;Permission granted: &quot; + permission);\n        return true;\n    }\n    Log.i(TAG, &quot;Permission NOT granted: &quot; + permission);\n    return false;\n}\n\npublic String getBatchDirectoryName() {\n    String app_folder_path = &quot;&quot;;\n    app_folder_path = Environment.getExternalStorageDirectory().toString() + &quot;/images&quot;;\n    File dir = new File(app_folder_path);\n    if (!dir.exists() &amp;&amp; !dir.mkdirs()) {\n    }\n    return app_folder_path;\n}\n\nprivate class MyAnalyzer implements ImageAnalysis.Analyzer {\n    @SuppressLint(&quot;RestrictedApi&quot;)\n    @Override\n    @androidx.camera.core.ExperimentalGetImage\n    public void analyze(ImageProxy imageProxy) {\n        Image mediaImage = imageProxy.getImage();\n        if (mediaImage != null) {\n            InputImage image = InputImage.fromMediaImage(mediaImage, imageProxy.getImageInfo().getRotationDegrees());\n            // Pass image to an ML Kit Vision API\n            // ...\n        }\n    }\n}\n}\n</code></pre>\n<p>CameraSourcePreview :</p>\n<pre><code>  public class CameraSourcePreview extends ViewGroup {\n                      private static final String TAG = &quot;MIDemoApp:Preview&quot;;\n\n                      private final Context context;\n                      private final SurfaceView surfaceView;\n                      private boolean startRequested;\n                      private boolean surfaceAvailable;\n                      private CameraSource cameraSource;\n\n                      private GraphicOverlay overlay;\n\n                      public CameraSourcePreview(Context context, AttributeSet attrs) {\n                        super(context, attrs);\n                        this.context = context;\n                        startRequested = false;\n                        surfaceAvailable = false;\n\n                        surfaceView = new SurfaceView(context);\n                        surfaceView.getHolder().addCallback(new SurfaceCallback());\n                        addView(surfaceView);\n                      }\n\n                      private void start(CameraSource cameraSource) throws IOException {\n                        this.cameraSource = cameraSource;\n\n                        if (this.cameraSource != null) {\n                          startRequested = true;\n                          startIfReady();\n                        }\n                      }\n\n                      public void start(CameraSource cameraSource, GraphicOverlay overlay) throws IOException {\n                        this.overlay = overlay;\n                        start(cameraSource);\n                      }\n\n\n                      public void stop() {\n                        if (cameraSource != null) {\n                          cameraSource.stop();\n                        }\n                      }\n\n                      public void release() {\n                        if (cameraSource != null) {\n                          cameraSource.release();\n                          cameraSource = null;\n                        }\n                        surfaceView.getHolder().getSurface().release();\n                      }\n\n                      private void startIfReady() throws IOException, SecurityException {\n                        if (startRequested &amp;&amp; surfaceAvailable) {\n                          if (PreferenceUtils.isCameraLiveViewportEnabled(context)) {\n                            cameraSource.start(surfaceView.getHolder());\n                          } else {\n                            cameraSource.start();\n                          }\n                          requestLayout();\n\n                          if (overlay != null) {\n                            Size size = cameraSource.getPreviewSize();\n                            int min = Math.min(size.getWidth(), size.getHeight());\n                            int max = Math.max(size.getWidth(), size.getHeight());\n                            boolean isImageFlipped = cameraSource.getCameraFacing() == CameraSource.CAMERA_FACING_FRONT;\n                            if (isPortraitMode()) {\n                              // Swap width and height sizes when in portrait, since it will be rotated by 90 degrees.\n                              // The camera preview and the image being processed have the same size.\n                              overlay.setImageSourceInfo(min, max, isImageFlipped);\n                            } else {\n                              overlay.setImageSourceInfo(max, min, isImageFlipped);\n                            }\n                            overlay.clear();\n                          }\n                          startRequested = false;\n                        }\n                      }\n\n                      private class SurfaceCallback implements SurfaceHolder.Callback {\n                        @Override\n                        public void surfaceCreated(SurfaceHolder surface) {\n                          surfaceAvailable = true;\n                          try {\n                            startIfReady();\n                          } catch (IOException e) {\n                            Log.e(TAG, &quot;Could not start camera source.&quot;, e);\n                          }\n                        }\n\n                        @Override\n                        public void surfaceDestroyed(SurfaceHolder surface) {\n                          surfaceAvailable = false;\n                        }\n\n                        @Override\n                        public void surfaceChanged(SurfaceHolder holder, int format, int width, int height) {}\n                      }\n\n                      @Override\n                      protected void onLayout(boolean changed, int left, int top, int right, int bottom) {\n                        int width = 320;\n                        int height = 240;\n                        if (cameraSource != null) {\n                          Size size = cameraSource.getPreviewSize();\n                          if (size != null) {\n                            width = size.getWidth();\n                            height = size.getHeight();\n                          }\n                        }\n\n                        // Swap width and height sizes when in portrait, since it will be rotated 90 degrees\n                        if (isPortraitMode()) {\n                          int tmp = width;\n                          width = height;\n                          height = tmp;\n                        }\n\n                        float previewAspectRatio = (float) width / height;\n                        int layoutWidth = right - left;\n                        int layoutHeight = bottom - top;\n                        float layoutAspectRatio = (float) layoutWidth / layoutHeight;\n                        if (previewAspectRatio &gt; layoutAspectRatio) {\n                          // The preview input is wider than the layout area. Fit the layout height and crop\n                          // the preview input horizontally while keep the center.\n                          int horizontalOffset = (int) (previewAspectRatio * layoutHeight - layoutWidth) / 2;\n                          surfaceView.layout(-horizontalOffset, 0, layoutWidth + horizontalOffset, layoutHeight);\n                        } else {\n                          // The preview input is taller than the layout area. Fit the layout width and crop the preview\n                          // input vertically while keep the center.\n                          int verticalOffset = (int) (layoutWidth / previewAspectRatio - layoutHeight) / 2;\n                          surfaceView.layout(0, -verticalOffset, layoutWidth, layoutHeight + verticalOffset);\n                        }\n                      }\n\n                      private boolean isPortraitMode() {\n                        int orientation = context.getResources().getConfiguration().orientation;\n                        if (orientation == Configuration.ORIENTATION_LANDSCAPE) {\n                          return false;\n                        }\n                        if (orientation == Configuration.ORIENTATION_PORTRAIT) {\n                          return true;\n                        }\n\n                        Log.d(TAG, &quot;isPortraitMode returning false by default&quot;);\n                        return false;\n                      }\n                    }\n</code></pre>\n<p>when i click on the button to take the picture nothing happened , ImageCapture.OnImageSavedCallback() is never called , what can be wrong and how can i achieve it.</p>\n"},{"tags":["java","string","list","equals","contains"],"comments":[{"owner":{"account_id":212263,"reputation":136304,"user_id":464988,"accept_rate":94,"display_name":"MByD"},"score":1,"creation_date":1348400573,"post_id":12552048,"comment_id":16904767,"body_markdown":"Where do you get this `val` from? it might be an encoding problem","body":"Where do you get this <code>val</code> from? it might be an encoding problem"},{"owner":{"account_id":957028,"reputation":15143,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":0,"creation_date":1348400630,"post_id":12552048,"comment_id":16904779,"body_markdown":"And additionally to Binyamins question: What runtime type is stringList?","body":"And additionally to Binyamins question: What runtime type is stringList?"},{"owner":{"account_id":26725,"reputation":50482,"user_id":69803,"accept_rate":65,"display_name":"Ankur"},"score":0,"creation_date":1348400719,"post_id":12552048,"comment_id":16904801,"body_markdown":"It&#39;s taken from a .csv file, so you may be correct. Is there anything I can do - can I force the encoding to be the same for both.","body":"It&#39;s taken from a .csv file, so you may be correct. Is there anything I can do - can I force the encoding to be the same for both."},{"owner":{"account_id":1869385,"reputation":121,"user_id":1692008,"display_name":"toe"},"score":1,"creation_date":1348400773,"post_id":12552048,"comment_id":16904813,"body_markdown":"Could you show some context to that code fragment containing the construction/declaration/type of `val`?","body":"Could you show some context to that code fragment containing the construction/declaration/type of <code>val</code>?"},{"owner":{"account_id":26725,"reputation":50482,"user_id":69803,"accept_rate":65,"display_name":"Ankur"},"score":0,"creation_date":1348400950,"post_id":12552048,"comment_id":16904853,"body_markdown":"Yes I will do that, I&#39;d also like to say ... I&#39;ve used val.equals(aValThatIsInStringList) ... that is I&#39;ve used equals to compare with the individual items in the stringList ... I would imagine if it were encoding related this wouldn&#39;t work (but I a not sure about that)","body":"Yes I will do that, I&#39;d also like to say ... I&#39;ve used val.equals(aValThatIsInStringList) ... that is I&#39;ve used equals to compare with the individual items in the stringList ... I would imagine if it were encoding related this wouldn&#39;t work (but I a not sure about that)"}],"answers":[{"comments":[{"owner":{"account_id":4477301,"reputation":4930,"user_id":3642107,"accept_rate":66,"display_name":"Oliver Hausler"},"score":0,"creation_date":1460123818,"post_id":12552097,"comment_id":60610360,"body_markdown":"There seems to be a problem with special characters, for example contains works fine for `mySet.contains(&quot;familia&quot;)`, but not for `mySet.contains(&quot;fam&#237;lia&quot;)`. The list (in my case I used a `Set`) contains both elements.","body":"There seems to be a problem with special characters, for example contains works fine for <code>mySet.contains(&quot;familia&quot;)</code>, but not for <code>mySet.contains(&quot;fam&#237;lia&quot;)</code>. The list (in my case I used a <code>Set</code>) contains both elements."}],"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1348400852,"creation_date":1348400852,"answer_id":12552097,"question_id":12552048,"body_markdown":"`ArrayList.contains()` uses `Object.equals()` to check for equality (`hashCode()` is not involved in `List`). This works well for strings. Probably, your string really isn&#39;t contained in the list...\r\n\r\nYou&#39;ve probably overlooked some whitespace or upper/lower-case or encoding difference...","title":"Java contains doesn&#39;t work as expected because &quot;someString&quot; != &quot;someString&quot;","body":"<p><code>ArrayList.contains()</code> uses <code>Object.equals()</code> to check for equality (<code>hashCode()</code> is not involved in <code>List</code>). This works well for strings. Probably, your string really isn't contained in the list...</p>\n\n<p>You've probably overlooked some whitespace or upper/lower-case or encoding difference...</p>\n"},{"tags":[],"owner":{"account_id":109199,"reputation":26454,"user_id":289466,"accept_rate":88,"display_name":"S&#233;bastien Le Callonnec"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1348401432,"creation_date":1348400863,"answer_id":12552100,"question_id":12552048,"body_markdown":"That doesn’t sound right: `contains` uses `equals` rather than `==`, so if the string is in the list, it should be found.  This can be verified in the `indexOf` method of the superclass [AbstractList][1] used by `ArrayList`.\r\n\r\nFollowing your edit, make sure you `trim` strings before doing `contains`, as otherwise they may contain the `newline` character(s).\r\n\r\n\r\n  [1]: http://hg.openjdk.java.net/jdk7/jdk7/jdk/file/9b8c96f96a0f/src/share/classes/java/util/AbstractList.java","title":"Java contains doesn&#39;t work as expected because &quot;someString&quot; != &quot;someString&quot;","body":"<p>That doesn’t sound right: <code>contains</code> uses <code>equals</code> rather than <code>==</code>, so if the string is in the list, it should be found.  This can be verified in the <code>indexOf</code> method of the superclass <a href=\"http://hg.openjdk.java.net/jdk7/jdk7/jdk/file/9b8c96f96a0f/src/share/classes/java/util/AbstractList.java\" rel=\"nofollow\">AbstractList</a> used by <code>ArrayList</code>.</p>\n\n<p>Following your edit, make sure you <code>trim</code> strings before doing <code>contains</code>, as otherwise they may contain the <code>newline</code> character(s).</p>\n"},{"comments":[{"owner":{"account_id":26725,"reputation":50482,"user_id":69803,"accept_rate":65,"display_name":"Ankur"},"score":0,"creation_date":1348401510,"post_id":12552113,"comment_id":16904950,"body_markdown":"Thanks, I am actually using trim() as well in my application code. Given all the responses I can understand that it&#39;s probably a minor difference rather than a fundamental problem.","body":"Thanks, I am actually using trim() as well in my application code. Given all the responses I can understand that it&#39;s probably a minor difference rather than a fundamental problem."}],"tags":[],"owner":{"account_id":60491,"reputation":8054,"user_id":180650,"accept_rate":80,"display_name":"Vitaliy"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1348400972,"creation_date":1348400972,"answer_id":12552113,"question_id":12552048,"body_markdown":"Try the following, first make the check more concrete by iterating the list and checking each element separately. Than, when you hit the elements that you are expecting to be equal, This is what you are supposed to be looking at. Check to see if they are really equal. Maybe there is a case difference? (or some other elusive but plain difference like white space?)","title":"Java contains doesn&#39;t work as expected because &quot;someString&quot; != &quot;someString&quot;","body":"<p>Try the following, first make the check more concrete by iterating the list and checking each element separately. Than, when you hit the elements that you are expecting to be equal, This is what you are supposed to be looking at. Check to see if they are really equal. Maybe there is a case difference? (or some other elusive but plain difference like white space?)</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1348400987,"creation_date":1348400987,"answer_id":12552115,"question_id":12552048,"body_markdown":"More code please!\r\n\r\nThis works:\r\n\r\n    import java.util.*;\r\n\r\n    public class Contains {\r\n        public static void main(String[] args) {\r\n            List&lt;String&gt; stringList = new ArrayList&lt;String&gt;();\r\n            stringList.add(&quot;someString&quot;);\r\n            String val = new String(&quot;someString&quot;);\r\n            if (stringList.contains(val)) {\r\n                System.out.println(&quot;The value is in there&quot;);\r\n            } else {\r\n                System.out.println(&quot;There&#39;s no such value here&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Java contains doesn&#39;t work as expected because &quot;someString&quot; != &quot;someString&quot;","body":"<p>More code please!</p>\n\n<p>This works:</p>\n\n<pre><code>import java.util.*;\n\npublic class Contains {\n    public static void main(String[] args) {\n        List&lt;String&gt; stringList = new ArrayList&lt;String&gt;();\n        stringList.add(\"someString\");\n        String val = new String(\"someString\");\n        if (stringList.contains(val)) {\n            System.out.println(\"The value is in there\");\n        } else {\n            System.out.println(\"There's no such value here\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1089130,"reputation":38502,"user_id":1084174,"accept_rate":89,"display_name":"Sazzad Hissain Khan"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1684765023,"creation_date":1387030886,"answer_id":20584408,"question_id":12552048,"body_markdown":"Try to override `equals()`, so that you can specify which property needs to compare equality .... :P","title":"Java contains doesn&#39;t work as expected because &quot;someString&quot; != &quot;someString&quot;","body":"<p>Try to override <code>equals()</code>, so that you can specify which property needs to compare equality .... :P</p>\n"}],"owner":{"account_id":26725,"reputation":50482,"user_id":69803,"accept_rate":65,"display_name":"Ankur"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39368,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":12552097,"answer_count":5,"score":7,"last_activity_date":1684765023,"creation_date":1348400467,"question_id":12552048,"body_markdown":"I want check whether a String value `val` is contained within a List of Strings lets call it stringList.\r\n\r\nI am doing this\r\n\r\n    if(stringList.contains(val)){\r\n      System.out.println(&quot;The value is in there&quot;);\r\n    }\r\n    else{\r\n      System.out.println(&quot;There&#39;s no such value here&quot;);\r\n    }\r\n\r\nBut it always seems to be that the value is not included. Is this because two String values that have the same characters are not actually equal? For a &quot;home-made&quot; class I could implement hashCode() and equals() and fix this, what can I do for String data?\r\n\r\nEDIT: \r\n\r\nThe way I am getting val is outlined here:\r\n\r\n    List&lt;String&gt; stringList = new ArrayList&lt;String&gt;();\r\n        stringList.add(&quot;PDT&quot;);\r\n\tstringList.add(&quot;LDT&quot;);\r\n\tstringList.add(&quot;ELNE&quot;);\r\n    \r\n    String myFile = &quot;/folder/myFile&quot;;\r\n    InputStream input = new FileInputStream(myFile);\r\n    CSVReader reader = new CSVReader(new InputStreamReader(input), &#39;,&#39;,&#39;&quot;&#39;, 1);\r\n    String[] nextLine;\r\n    try {\r\n        while ((nextLine = reader.readNext()) != null) {\r\n        if (nextLine != null) {\r\n            if (nextLine[6] != null){\r\n              String val = nextLine[6];\r\n                if(stringList.contains(val)){\r\n                System.out.println(&quot;Success&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n","title":"Java contains doesn&#39;t work as expected because &quot;someString&quot; != &quot;someString&quot;","body":"<p>I want check whether a String value <code>val</code> is contained within a List of Strings lets call it stringList.</p>\n\n<p>I am doing this</p>\n\n<pre><code>if(stringList.contains(val)){\n  System.out.println(\"The value is in there\");\n}\nelse{\n  System.out.println(\"There's no such value here\");\n}\n</code></pre>\n\n<p>But it always seems to be that the value is not included. Is this because two String values that have the same characters are not actually equal? For a \"home-made\" class I could implement hashCode() and equals() and fix this, what can I do for String data?</p>\n\n<p>EDIT: </p>\n\n<p>The way I am getting val is outlined here:</p>\n\n<pre><code>List&lt;String&gt; stringList = new ArrayList&lt;String&gt;();\n    stringList.add(\"PDT\");\nstringList.add(\"LDT\");\nstringList.add(\"ELNE\");\n\nString myFile = \"/folder/myFile\";\nInputStream input = new FileInputStream(myFile);\nCSVReader reader = new CSVReader(new InputStreamReader(input), ',','\"', 1);\nString[] nextLine;\ntry {\n    while ((nextLine = reader.readNext()) != null) {\n    if (nextLine != null) {\n        if (nextLine[6] != null){\n          String val = nextLine[6];\n            if(stringList.contains(val)){\n            System.out.println(\"Success\");\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","logging","amazon-cloudwatch"],"owner":{"account_id":28654218,"reputation":11,"user_id":21940607,"display_name":"Michał"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684764653,"creation_date":1684764653,"question_id":76307073,"body_markdown":"I want to create widget for monitoring purposes, which will group status codes for each soap operation.\r\nI have logs with message statuses like:\r\n```\r\n&quot;HTTP/1.1 200 OK&quot;\r\n```\r\nor\r\n```\r\n&quot;HTTP/1.1 400 Bad Request&quot;\r\n```\r\nAnd logs with requests containing operation body. The only common information binding logs with http statuses and soap body is @IngestionTime. As far as I know nested queries in Logs Insight are not allowed.\r\nIs there any way to create widget for each operation, which will make statistics like:\r\n\r\n```\r\nstatus | count\r\n---------------\r\n200    |   1\r\n400    |   3\r\n```\r\nIs there any way to do that?\r\n\r\n- I tried to add MDC field, but it is not visible in Logs Insights\r\n- Create nested query (I think it is not possible)\r\n- Create end logger with operation name and status (unsuccessfull)","title":"Is there a way to create a widget for monitoring soap operations in AWS CloudWatch to count http statuses?","body":"<p>I want to create widget for monitoring purposes, which will group status codes for each soap operation.\nI have logs with message statuses like:</p>\n<pre><code>&quot;HTTP/1.1 200 OK&quot;\n</code></pre>\n<p>or</p>\n<pre><code>&quot;HTTP/1.1 400 Bad Request&quot;\n</code></pre>\n<p>And logs with requests containing operation body. The only common information binding logs with http statuses and soap body is @IngestionTime. As far as I know nested queries in Logs Insight are not allowed.\nIs there any way to create widget for each operation, which will make statistics like:</p>\n<pre><code>status | count\n---------------\n200    |   1\n400    |   3\n</code></pre>\n<p>Is there any way to do that?</p>\n<ul>\n<li>I tried to add MDC field, but it is not visible in Logs Insights</li>\n<li>Create nested query (I think it is not possible)</li>\n<li>Create end logger with operation name and status (unsuccessfull)</li>\n</ul>\n"},{"tags":["java","spring-boot","spring-data-jpa","spring-data"],"answers":[{"comments":[{"owner":{"account_id":19452465,"reputation":223,"user_id":14228521,"display_name":"Rajeev"},"score":0,"creation_date":1651661046,"post_id":72110586,"comment_id":127414592,"body_markdown":"Thank you. It&#39;s working but is there a way for us to achieve the same using without query annotation? I mean can we leverage the custom methods( which internally generates this query) ? Kindly provide your inputs","body":"Thank you. It&#39;s working but is there a way for us to achieve the same using without query annotation? I mean can we leverage the custom methods( which internally generates this query) ? Kindly provide your inputs"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":1,"creation_date":1651661163,"post_id":72110586,"comment_id":127414639,"body_markdown":"@Rajeev you should then implement a bidirectional relationship on `Page` entity and use this as a field in the jpa method name","body":"@Rajeev you should then implement a bidirectional relationship on <code>Page</code> entity and use this as a field in the jpa method name"}],"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651655978,"creation_date":1651655978,"answer_id":72110586,"question_id":72110341,"body_markdown":"The problem that you face is that your `entity` `Page` does not have a field that relates with `Book`. So you have **unidirectional mapping** in JPA layer.\r\n\r\nOne solution would be to include the following custom query which will return you what you expect to be returned.\r\n\r\n     @Query( &quot;SELECT pg FROM Book bk join bk.pages pg WHERE bk.bookId = :bookId&quot;)\r\n     List&lt;Page&gt; findPagesByBookId(@Param(&quot;bookId&quot;) String bookId);","title":"Find all data using foreign key from referenced table in spring boot jpa","body":"<p>The problem that you face is that your <code>entity</code> <code>Page</code> does not have a field that relates with <code>Book</code>. So you have <strong>unidirectional mapping</strong> in JPA layer.</p>\n<p>One solution would be to include the following custom query which will return you what you expect to be returned.</p>\n<pre><code> @Query( &quot;SELECT pg FROM Book bk join bk.pages pg WHERE bk.bookId = :bookId&quot;)\n List&lt;Page&gt; findPagesByBookId(@Param(&quot;bookId&quot;) String bookId);\n</code></pre>\n"}],"owner":{"account_id":19452465,"reputation":223,"user_id":14228521,"display_name":"Rajeev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9568,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72110586,"answer_count":1,"score":1,"last_activity_date":1684764536,"creation_date":1651654769,"question_id":72110341,"body_markdown":"I have done the jpa one to many mapping between Book &amp; corresponding Pages as follows.\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@EqualsAndHashCode(onlyExplicitlyIncluded = true)\r\npublic class Book {\r\n    @Id\r\n    @EqualsAndHashCode.Include\r\n    @Column(name = &quot;book_id&quot;)\r\n    private String bookId;\r\n\r\n    private String name;\r\n\r\n    @OneToMany(targetEntity = Page.class, cascade= CascadeType.ALL, orphanRemoval = true)\r\n    @JoinColumn(name = &quot;book_id_fk&quot;, referencedColumnName = &quot;book_id&quot;)\r\n    private List&lt;Page&gt; pages;\r\n}\r\n```\r\nand\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\npublic class Page {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Integer sno;\r\n\r\n    private Integer number;\r\n}\r\n\r\n@Repository\r\npublic interface PageRepository extends JpaRepository&lt;Page, Integer&gt; {\r\n    List&lt;Page&gt; findAllByBook_Id(String bookId);\r\n}\r\n```\r\nNow I would like to get all pages using book id from Page table. For that I&#39;m using findAllBook_id method but I&#39;m getting the `No property book found for type Page!` exception. I tried XXXBook_fkId/XXXBookFkId/XXXBook_fk_id etc. method names but didn&#39;t worked out. Kindly help","title":"Find all data using foreign key from referenced table in spring boot jpa","body":"<p>I have done the jpa one to many mapping between Book &amp; corresponding Pages as follows.</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@EqualsAndHashCode(onlyExplicitlyIncluded = true)\npublic class Book {\n    @Id\n    @EqualsAndHashCode.Include\n    @Column(name = &quot;book_id&quot;)\n    private String bookId;\n\n    private String name;\n\n    @OneToMany(targetEntity = Page.class, cascade= CascadeType.ALL, orphanRemoval = true)\n    @JoinColumn(name = &quot;book_id_fk&quot;, referencedColumnName = &quot;book_id&quot;)\n    private List&lt;Page&gt; pages;\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@NoArgsConstructor\npublic class Page {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer sno;\n\n    private Integer number;\n}\n\n@Repository\npublic interface PageRepository extends JpaRepository&lt;Page, Integer&gt; {\n    List&lt;Page&gt; findAllByBook_Id(String bookId);\n}\n</code></pre>\n<p>Now I would like to get all pages using book id from Page table. For that I'm using findAllBook_id method but I'm getting the <code>No property book found for type Page!</code> exception. I tried XXXBook_fkId/XXXBookFkId/XXXBook_fk_id etc. method names but didn't worked out. Kindly help</p>\n"},{"tags":["java","spring-boot","azure","maven","azure-spring-cloud"],"comments":[{"owner":{"account_id":10516977,"reputation":409,"user_id":7750784,"display_name":"Hoang Duc Nguyen"},"score":0,"creation_date":1684330629,"post_id":76157424,"comment_id":134502581,"body_markdown":"I&#39;m experiencing exactly the same issue. Have you found the workaround or solution?","body":"I&#39;m experiencing exactly the same issue. Have you found the workaround or solution?"},{"owner":{"account_id":916638,"reputation":3457,"user_id":949297,"accept_rate":100,"display_name":"Nicolas Riousset"},"score":0,"creation_date":1684331877,"post_id":76157424,"comment_id":134502927,"body_markdown":"Not yet. I had some unsuccessful contacts with Azure support, I hope they&#39;ll get back to me.","body":"Not yet. I had some unsuccessful contacts with Azure support, I hope they&#39;ll get back to me."},{"owner":{"account_id":10516977,"reputation":409,"user_id":7750784,"display_name":"Hoang Duc Nguyen"},"score":0,"creation_date":1684418692,"post_id":76157424,"comment_id":134517092,"body_markdown":"I visit this issue which were informed fixed in 1.17.0. According to the discussion, the issue was narrowed down to action of deploying to the Azure Spring Apps Consumption Plan. That was my case as well.\nhttps://github.com/microsoft/azure-maven-plugins/issues/2268\nWith 1.17.0 released, it fixed this error but I haven&#39;t seen any report of whether the deployment to Azure Spring Apps Consumption Plan would success since they also stated that they doesn&#39;t have plan to support the plan soon.\nWhat do you think?","body":"I visit this issue which were informed fixed in 1.17.0. According to the discussion, the issue was narrowed down to action of deploying to the Azure Spring Apps Consumption Plan. That was my case as well. <a href=\"https://github.com/microsoft/azure-maven-plugins/issues/2268\" rel=\"nofollow noreferrer\">github.com/microsoft/azure-maven-plugins/issues/2268</a> With 1.17.0 released, it fixed this error but I haven&#39;t seen any report of whether the deployment to Azure Spring Apps Consumption Plan would success since they also stated that they doesn&#39;t have plan to support the plan soon. What do you think?"}],"answers":[{"comments":[{"owner":{"account_id":916638,"reputation":3457,"user_id":949297,"accept_rate":100,"display_name":"Nicolas Riousset"},"score":0,"creation_date":1683383911,"post_id":76181971,"comment_id":134360181,"body_markdown":"Thanks a lot for your detailed answer. However, the &quot;mvn clean install&quot; didn&#39;t change anything. My Azure account has access to two subscriptions, I wonder if this may be related.","body":"Thanks a lot for your detailed answer. However, the &quot;mvn clean install&quot; didn&#39;t change anything. My Azure account has access to two subscriptions, I wonder if this may be related."},{"owner":{"account_id":26331226,"reputation":3311,"user_id":19991670,"display_name":"Pravallika KV"},"score":0,"creation_date":1683391460,"post_id":76181971,"comment_id":134361106,"body_markdown":"Even if you have multiple subscriptions, you will get options to select your preferred subscription when you run the command `mvn com.microsoft.azure:azure-spring-apps-maven-plugin:1.17.0:config` as I shown in the answer.","body":"Even if you have multiple subscriptions, you will get options to select your preferred subscription when you run the command <code>mvn com.microsoft.azure:azure-spring-apps-maven-plugin:1.17.0:co&zwnj;&#8203;nfig</code> as I shown in the answer."}],"tags":[],"owner":{"account_id":26331226,"reputation":3311,"user_id":19991670,"display_name":"Pravallika KV"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683288063,"creation_date":1683288063,"answer_id":76181971,"question_id":76157424,"body_markdown":"&gt;Azure Spring Apps deployment with Maven causes error : Invalid arguments: DeploymentSettings must be provided\r\n\r\nI would suggest you to run `mvn clean install` before deploying your application to Azure Spring Apps.\r\n\r\nAnd also Check if the below configuration is being added in your pom.xml file after running `mvn com.microsoft.azure:azure-spring-apps-maven-plugin:1.17.0:config`.\r\n```xml\r\n&lt;plugin&gt;\r\n\t\t&lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;azure-spring-apps-maven-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.17.0&lt;/version&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t            \r\n            &lt;subscriptionId&gt;Azure_SUbscription_id&lt;/subscriptionId&gt;\r\n\t\t    &lt;resourceGroup&gt;Resource_group_name&lt;/resourceGroup&gt;\r\n\t\t    &lt;clusterName&gt;kpspringapp&lt;/clusterName&gt;\r\n\t\t    &lt;appName&gt;springboot-crud&lt;/appName&gt;\r\n\t\t    &lt;isPublic&gt;false&lt;/isPublic&gt;\r\n\t\t    &lt;deployment&gt;\r\n\t\t          &lt;cpu&gt;1&lt;/cpu&gt;\r\n\t\t          &lt;memoryInGB&gt;1&lt;/memoryInGB&gt;\r\n\t\t          &lt;instanceCount&gt;1&lt;/instanceCount&gt;\r\n\t\t          &lt;runtimeVersion&gt;Java 11&lt;/runtimeVersion&gt;\r\n\t\t          &lt;resources&gt;\r\n\t\t              &lt;resource&gt;\r\n\t\t                  &lt;filtering/&gt;\r\n\t\t                  &lt;mergeId/&gt;\r\n\t\t                  &lt;targetPath/&gt;\r\n\t\t                &lt;directory&gt;${project.basedir}/target&lt;/directory&gt;\r\n\t\t                  &lt;includes&gt;\r\n\t\t                       &lt;include&gt;*.jar&lt;/include&gt;\r\n\t\t                  &lt;/includes&gt;\r\n\t\t               &lt;/resource&gt;\r\n\t\t           &lt;/resources&gt;\r\n\t\t      &lt;/deployment&gt;\r\n\t\t &lt;/configuration&gt;\r\n\t&lt;/plugin&gt;\r\n```\r\n---\r\nI have created a spring boot application and deployed to Azure Spring Apps:\r\n1.  Logged into Azure via command line.\r\n\r\n![enter image description here](https://i.imgur.com/0Hm2vQY.png)\r\n\r\n2.  Generating the configurations to deploy the Spring Boot application to Azure Spring Apps by running `mvn com.microsoft.azure:azure-spring-apps-maven-plugin:1.17.0:config` command. \r\nThis will ask to select the *subscription, Resource group, Azure Spring Apps name, Java runtime version* etc., and then generate the configurations required for deployment. \r\n\r\n![enter image description here](https://i.imgur.com/WUrjFfn.png)\r\n![enter image description here](https://i.imgur.com/PVCLOWA.png)\r\n\r\nI was also getting errors initially and couldn&#39;t deploy the application.\r\nBut, after running the command  `mvn clean install`, I was able to deploy the application to spring apps.\r\n\r\n![enter image description here](https://i.imgur.com/9Nz0yt1.png)\r\n![enter image description here](https://i.imgur.com/mECLH70.png)\r\n![enter image description here](https://i.imgur.com/koB5xgY.png)\r\n\r\n***Deploying the application to Azure Spring Apps:***\r\n\r\n![enter image description here](https://i.imgur.com/DqFNNtK.png)\r\n\r\n**Portal:**\r\n![enter image description here](https://i.imgur.com/zQcK01s.png)\r\n\r\n**Response:**\r\n![enter image description here](https://i.imgur.com/qmbvd0X.png)\r\n\r\n\r\n","title":"Azure Spring Apps deployment with Maven causes error : Invalid arguments: DeploymentSettings must be provided","body":"<blockquote>\n<p>Azure Spring Apps deployment with Maven causes error : Invalid arguments: DeploymentSettings must be provided</p>\n</blockquote>\n<p>I would suggest you to run <code>mvn clean install</code> before deploying your application to Azure Spring Apps.</p>\n<p>And also Check if the below configuration is being added in your pom.xml file after running <code>mvn com.microsoft.azure:azure-spring-apps-maven-plugin:1.17.0:config</code>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n        &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n        &lt;artifactId&gt;azure-spring-apps-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.17.0&lt;/version&gt;\n        &lt;configuration&gt;\n                    \n            &lt;subscriptionId&gt;Azure_SUbscription_id&lt;/subscriptionId&gt;\n            &lt;resourceGroup&gt;Resource_group_name&lt;/resourceGroup&gt;\n            &lt;clusterName&gt;kpspringapp&lt;/clusterName&gt;\n            &lt;appName&gt;springboot-crud&lt;/appName&gt;\n            &lt;isPublic&gt;false&lt;/isPublic&gt;\n            &lt;deployment&gt;\n                  &lt;cpu&gt;1&lt;/cpu&gt;\n                  &lt;memoryInGB&gt;1&lt;/memoryInGB&gt;\n                  &lt;instanceCount&gt;1&lt;/instanceCount&gt;\n                  &lt;runtimeVersion&gt;Java 11&lt;/runtimeVersion&gt;\n                  &lt;resources&gt;\n                      &lt;resource&gt;\n                          &lt;filtering/&gt;\n                          &lt;mergeId/&gt;\n                          &lt;targetPath/&gt;\n                        &lt;directory&gt;${project.basedir}/target&lt;/directory&gt;\n                          &lt;includes&gt;\n                               &lt;include&gt;*.jar&lt;/include&gt;\n                          &lt;/includes&gt;\n                       &lt;/resource&gt;\n                   &lt;/resources&gt;\n              &lt;/deployment&gt;\n         &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n<hr />\n<p>I have created a spring boot application and deployed to Azure Spring Apps:</p>\n<ol>\n<li>Logged into Azure via command line.</li>\n</ol>\n<p><img src=\"https://i.imgur.com/0Hm2vQY.png\" alt=\"enter image description here\" /></p>\n<ol start=\"2\">\n<li>Generating the configurations to deploy the Spring Boot application to Azure Spring Apps by running <code>mvn com.microsoft.azure:azure-spring-apps-maven-plugin:1.17.0:config</code> command.\nThis will ask to select the <em>subscription, Resource group, Azure Spring Apps name, Java runtime version</em> etc., and then generate the configurations required for deployment.</li>\n</ol>\n<p><img src=\"https://i.imgur.com/WUrjFfn.png\" alt=\"enter image description here\" />\n<img src=\"https://i.imgur.com/PVCLOWA.png\" alt=\"enter image description here\" /></p>\n<p>I was also getting errors initially and couldn't deploy the application.\nBut, after running the command  <code>mvn clean install</code>, I was able to deploy the application to spring apps.</p>\n<p><img src=\"https://i.imgur.com/9Nz0yt1.png\" alt=\"enter image description here\" />\n<img src=\"https://i.imgur.com/mECLH70.png\" alt=\"enter image description here\" />\n<img src=\"https://i.imgur.com/koB5xgY.png\" alt=\"enter image description here\" /></p>\n<p><em><strong>Deploying the application to Azure Spring Apps:</strong></em></p>\n<p><img src=\"https://i.imgur.com/DqFNNtK.png\" alt=\"enter image description here\" /></p>\n<p><strong>Portal:</strong>\n<img src=\"https://i.imgur.com/zQcK01s.png\" alt=\"enter image description here\" /></p>\n<p><strong>Response:</strong>\n<img src=\"https://i.imgur.com/qmbvd0X.png\" alt=\"enter image description here\" /></p>\n"},{"comments":[{"owner":{"account_id":10516977,"reputation":409,"user_id":7750784,"display_name":"Hoang Duc Nguyen"},"score":1,"creation_date":1684809797,"post_id":76307038,"comment_id":134567548,"body_markdown":"Thanks for the test and confirmation Dan. Obviously the new plan is my preference as well.","body":"Thanks for the test and confirmation Dan. Obviously the new plan is my preference as well."},{"owner":{"account_id":28648724,"reputation":61,"user_id":21936153,"display_name":"Dan Hager"},"score":0,"creation_date":1684876247,"post_id":76307038,"comment_id":134580990,"body_markdown":"I am going to keep testing will definitely let you know if I find anything si","body":"I am going to keep testing will definitely let you know if I find anything si"}],"tags":[],"owner":{"account_id":28648724,"reputation":61,"user_id":21936153,"display_name":"Dan Hager"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684764407,"creation_date":1684764407,"answer_id":76307038,"question_id":76157424,"body_markdown":"Everything works perfectly if you are NOT using the &quot;Standard Consumption&quot; plan. If you use at least &quot;Basic&quot; everything works as it should. I have retested this a few times and each time it works fine with &quot;Basic&quot; but not &quot;Consumption&quot; as I get same error as you each time.\r\n\r\nObviously this is not ideal, perhaps there is update coming soon? I would much rather use the new consumption plan","title":"Azure Spring Apps deployment with Maven causes error : Invalid arguments: DeploymentSettings must be provided","body":"<p>Everything works perfectly if you are NOT using the &quot;Standard Consumption&quot; plan. If you use at least &quot;Basic&quot; everything works as it should. I have retested this a few times and each time it works fine with &quot;Basic&quot; but not &quot;Consumption&quot; as I get same error as you each time.</p>\n<p>Obviously this is not ideal, perhaps there is update coming soon? I would much rather use the new consumption plan</p>\n"}],"owner":{"account_id":916638,"reputation":3457,"user_id":949297,"accept_rate":100,"display_name":"Nicolas Riousset"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":503,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1684764407,"creation_date":1683048530,"question_id":76157424,"body_markdown":"I&#39;m trying to deploy a Spring Boot application to Microsoft Azure Spring Apps using Maven.\r\n\r\nI strictly followed this tutorial from Microsoft : https://learn.microsoft.com/en-us/azure/spring-apps/how-to-maven-deploy-apps , except for the azure-spring-apps-maven-plugin which had to be upgraded from 1.10.0 to 1.17.0, as per follows :\r\n\r\n`mvn com.microsoft.azure:azure-spring-apps-maven-plugin:1.17.0:config`\r\n\r\nBut when running the deploy command with the sample project :\r\n\r\n`mvn azure-spring-apps:deploy`\r\n\r\nThe following *&quot;Invalid arguments: DeploymentSettings must be provided&quot;* error occurs : \r\n\r\n    [ERROR] Operator called default onErrorDropped\r\n    reactor.core.Exceptions$StaticThrowable: Operator has been terminated\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  13.680 s\r\n    [INFO] Finished at: 2023-05-02T19:06:23+02:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal com.microsoft.azure:azure-spring-apps-maven-plugin:1.17.0:deploy (default-cli) on project hellospring: create or update Spring app(hellospring) from config: AzureToolkitRuntimeException: create Azure Spring App deployment (default): Status code 400, &quot;{&quot;error&quot;:{&quot;code&quot;:&quot;BadArgument&quot;,&quot;message&quot;:&quot;Invalid arguments: DeploymentSettings must be provided.&quot;,&quot;details&quot;:[{&quot;code&quot;:&quot;BadArgument&quot;,&quot;message&quot;:&quot;DeploymentSettings must be provided.&quot;,&quot;target&quot;:&quot;Properties.DeploymentSettings&quot;}]}}&quot; -&gt; [Help 1]\r\n\r\nThe HelloSpring sample application does not require any specific configuration (no database, no file storage, no https certificates, etc.).\r\n\r\nAny idea of what I may be doing wrong? ","title":"Azure Spring Apps deployment with Maven causes error : Invalid arguments: DeploymentSettings must be provided","body":"<p>I'm trying to deploy a Spring Boot application to Microsoft Azure Spring Apps using Maven.</p>\n<p>I strictly followed this tutorial from Microsoft : <a href=\"https://learn.microsoft.com/en-us/azure/spring-apps/how-to-maven-deploy-apps\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/spring-apps/how-to-maven-deploy-apps</a> , except for the azure-spring-apps-maven-plugin which had to be upgraded from 1.10.0 to 1.17.0, as per follows :</p>\n<p><code>mvn com.microsoft.azure:azure-spring-apps-maven-plugin:1.17.0:config</code></p>\n<p>But when running the deploy command with the sample project :</p>\n<p><code>mvn azure-spring-apps:deploy</code></p>\n<p>The following <em>&quot;Invalid arguments: DeploymentSettings must be provided&quot;</em> error occurs :</p>\n<pre><code>[ERROR] Operator called default onErrorDropped\nreactor.core.Exceptions$StaticThrowable: Operator has been terminated\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  13.680 s\n[INFO] Finished at: 2023-05-02T19:06:23+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal com.microsoft.azure:azure-spring-apps-maven-plugin:1.17.0:deploy (default-cli) on project hellospring: create or update Spring app(hellospring) from config: AzureToolkitRuntimeException: create Azure Spring App deployment (default): Status code 400, &quot;{&quot;error&quot;:{&quot;code&quot;:&quot;BadArgument&quot;,&quot;message&quot;:&quot;Invalid arguments: DeploymentSettings must be provided.&quot;,&quot;details&quot;:[{&quot;code&quot;:&quot;BadArgument&quot;,&quot;message&quot;:&quot;DeploymentSettings must be provided.&quot;,&quot;target&quot;:&quot;Properties.DeploymentSettings&quot;}]}}&quot; -&gt; [Help 1]\n</code></pre>\n<p>The HelloSpring sample application does not require any specific configuration (no database, no file storage, no https certificates, etc.).</p>\n<p>Any idea of what I may be doing wrong?</p>\n"},{"tags":["java","sms","eclipse-jee"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1684762553,"post_id":76306740,"comment_id":134559923,"body_markdown":"the code you provided doesn&#39;t compile. Please share syntactical correct code","body":"the code you provided doesn&#39;t compile. Please share syntactical correct code"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1684762629,"post_id":76306740,"comment_id":134559943,"body_markdown":"BTW: Never catch exceptions without hanlde it. Atleast log them","body":"BTW: Never catch exceptions without hanlde it. Atleast log them"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684763202,"post_id":76306740,"comment_id":134560066,"body_markdown":"&quot;there is an issue&quot; is not a valid question for Stackoverlow. What is the error, symptoms? Be specific and provide details.","body":"&quot;there is an issue&quot; is not a valid question for Stackoverlow. What is the error, symptoms? Be specific and provide details."},{"owner":{"account_id":21888807,"reputation":47,"user_id":16176112,"display_name":"Haythem Nasri"},"score":0,"creation_date":1684763313,"post_id":76306740,"comment_id":134560087,"body_markdown":"maybe i&#39;m a little bit poor in Eng, I didn&#39;t explain well the request, anyways , the issue is that URL doesn&#39;t execute when I use the above code, that is the main issue","body":"maybe i&#39;m a little bit poor in Eng, I didn&#39;t explain well the request, anyways , the issue is that URL doesn&#39;t execute when I use the above code, that is the main issue"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684764564,"post_id":76306740,"comment_id":134560400,"body_markdown":"Throws an error? You should be debugging it. As @Jens said always handle exceptions.","body":"Throws an error? You should be debugging it. As @Jens said always handle exceptions."}],"answers":[{"tags":[],"owner":{"account_id":21888807,"reputation":47,"user_id":16176112,"display_name":"Haythem Nasri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684763759,"creation_date":1684763759,"answer_id":76306934,"question_id":76306740,"body_markdown":"I found the solution :)\r\n\r\nJust I need to read the URL, I added the below code and it works fine. Thank you all.\r\n\r\n    BufferedReader br = new BufferedReader(new InputStreamReader( myURLConnection.getInputStream()));\r\n\r\n ","title":"Problem with URL connection (Sending SMS via URL)","body":"<p>I found the solution :)</p>\n<p>Just I need to read the URL, I added the below code and it works fine. Thank you all.</p>\n<pre><code>BufferedReader br = new BufferedReader(new InputStreamReader( myURLConnection.getInputStream()));\n</code></pre>\n"}],"owner":{"account_id":21888807,"reputation":47,"user_id":16176112,"display_name":"Haythem Nasri"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1684763829,"creation_date":1684762338,"question_id":76306740,"body_markdown":"I am trying to send SMS via java using URL connection, when I&#39;m using the url directly in the browser i receive the SMS, however, using java code seems there is an issue when I call the URL..I wonder if  using HttpURLConnection will do the job or not? \r\n\r\ncode as below :\r\n\r\n   \r\n     try{\r\n     String myMobile = &quot;Country code&quot;+user.getMobile();\r\n     String  Url_str = &quot;http://sms.com/Api/.......+ myMobile+;  \t  \r\n     System.out.println(Url_str);\r\n     URL myURL = new URL(Url_str);\r\n     URLConnection myURLConnection = myURL.openConnection();\r\n      myURLConnection.connect();\r\n    } \r\n    \t\t\tcatch (MalformedURLException e) { \r\n    \t\t\t    // new URL() failed\r\n    \t\t\t} \r\n    \t\t\tcatch (IOException e) {   \r\n    \t\t\t    // openConnection() failed   \r\n    \t\t\t}\r\n\r\n\t\t\t\r\n\r\n\r\n","title":"Problem with URL connection (Sending SMS via URL)","body":"<p>I am trying to send SMS via java using URL connection, when I'm using the url directly in the browser i receive the SMS, however, using java code seems there is an issue when I call the URL..I wonder if  using HttpURLConnection will do the job or not?</p>\n<p>code as below :</p>\n<pre><code> try{\n String myMobile = &quot;Country code&quot;+user.getMobile();\n String  Url_str = &quot;http://sms.com/Api/.......+ myMobile+;        \n System.out.println(Url_str);\n URL myURL = new URL(Url_str);\n URLConnection myURLConnection = myURL.openConnection();\n  myURLConnection.connect();\n} \n            catch (MalformedURLException e) { \n                // new URL() failed\n            } \n            catch (IOException e) {   \n                // openConnection() failed   \n            }\n\n        \n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":5457896,"reputation":3732,"user_id":4340793,"accept_rate":61,"display_name":"JeyJ"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584481849,"creation_date":1584479455,"answer_id":60730272,"question_id":60728683,"body_markdown":"My solution : \r\nIn addition to the persistence.xml file I created application.properties file : \r\n    # Connection url for the database\r\n    spring.datasource.url=jdbc:postgresql://ip:port/db\r\n    spring.datasource.username=postgres\r\n    spring.datasource.password=postgres\r\n    spring.datasource.driver-class-name=org.postgresql.Driver\r\n    spring.jpa.hibernate.ddl-auto =update\r\n    spring.jpa.show-sql = true\r\n    chosen database\r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQL9Dialect\r\n    spring.jpa.generate-ddl=true\r\n    server.port = 9091\r\n\r\nAfterwards, in my Application.java I added the following annotations and extend : \r\n\r\n    @SpringBootApplication\r\n    @EnableJpaRepositories(&quot;repositories&quot;)\r\n    @EntityScan(&quot;dao&quot;)\r\n    public class Application extends SpringBootServletInitializer {","title":"spring-boot web app fails to start : Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean","body":"<p>My solution : \nIn addition to the persistence.xml file I created application.properties file : \n    # Connection url for the database\n    spring.datasource.url=jdbc:postgresql://ip:port/db\n    spring.datasource.username=postgres\n    spring.datasource.password=postgres\n    spring.datasource.driver-class-name=org.postgresql.Driver\n    spring.jpa.hibernate.ddl-auto =update\n    spring.jpa.show-sql = true\n    chosen database\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQL9Dialect\n    spring.jpa.generate-ddl=true\n    server.port = 9091</p>\n\n<p>Afterwards, in my Application.java I added the following annotations and extend : </p>\n\n<pre><code>@SpringBootApplication\n@EnableJpaRepositories(\"repositories\")\n@EntityScan(\"dao\")\npublic class Application extends SpringBootServletInitializer {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10177583,"reputation":145,"user_id":7515654,"accept_rate":0,"display_name":"abharku"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1584482295,"creation_date":1584482295,"answer_id":60730826,"question_id":60728683,"body_markdown":"You need to override configure method from SpringBootServletInitializer\r\n\r\n    @Override\r\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n    \treturn application.sources(Application.class);\r\n    }","title":"spring-boot web app fails to start : Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean","body":"<p>You need to override configure method from SpringBootServletInitializer</p>\n\n<pre><code>@Override\nprotected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n    return application.sources(Application.class);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3748384,"reputation":576,"user_id":3116512,"accept_rate":33,"display_name":"Mayur"},"score":0,"creation_date":1621187125,"post_id":67558171,"comment_id":119413896,"body_markdown":"Do now upload Images,  Read [Why not upload images of code/errors when asking a question?](https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question)","body":"Do now upload Images,  Read <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\">Why not upload images of code/errors when asking a question?</a>"}],"tags":[],"owner":{"account_id":6607512,"reputation":31,"user_id":8297596,"display_name":"Ripunjoy RM Medhi"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1624044871,"creation_date":1621177254,"answer_id":67558171,"question_id":60728683,"body_markdown":"\r\nMake sure that your filename, class name and the name of the class inside the SpringApplication.run() function are the same.\r\nAlso, make sure you haven&#39;t forgotten the ```@SpringBootApplication``` annotation.","title":"spring-boot web app fails to start : Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean","body":"<p>Make sure that your filename, class name and the name of the class inside the SpringApplication.run() function are the same.\nAlso, make sure you haven't forgotten the <code>@SpringBootApplication</code> annotation.</p>\n"},{"comments":[{"owner":{"account_id":97673,"reputation":133,"user_id":264818,"display_name":"FNL"},"score":0,"creation_date":1638859415,"post_id":68570666,"comment_id":124193040,"body_markdown":"Fixed my problem! &#128077;","body":"Fixed my problem! 👍"}],"tags":[],"owner":{"account_id":22329967,"reputation":451,"user_id":16551353,"display_name":"Мартин Русев"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1627537526,"creation_date":1627537526,"answer_id":68570666,"question_id":60728683,"body_markdown":"I resolved my problem by adding dependancy &#39;spring-boot-starter-web&#39;.","title":"spring-boot web app fails to start : Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean","body":"<p>I resolved my problem by adding dependancy 'spring-boot-starter-web'.</p>\n"},{"tags":[],"owner":{"account_id":7594758,"reputation":8039,"user_id":5761243,"display_name":"Muhammed Fasil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672044733,"creation_date":1672044733,"answer_id":74918686,"question_id":60728683,"body_markdown":"You can comment the `&lt;scope&gt;provided&lt;/scope&gt;` in pom.xml file like below\r\n\r\n[![See the sample snippet belo][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ENbRZ.png","title":"spring-boot web app fails to start : Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean","body":"<p>You can comment the <code>&lt;scope&gt;provided&lt;/scope&gt;</code> in pom.xml file like below</p>\n<p><a href=\"https://i.stack.imgur.com/ENbRZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ENbRZ.png\" alt=\"See the sample snippet belo\" /></a></p>\n"},{"tags":[],"owner":{"account_id":3088921,"reputation":1890,"user_id":2615510,"display_name":"Andrey Lebedenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684763417,"creation_date":1684763417,"answer_id":76306885,"question_id":60728683,"body_markdown":"I was fixing this because of https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1924298\r\n\r\nAnd my fix was to do this in pom.xml only:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-jetty&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n      &lt;version&gt;4.0.1&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nNo changes in classes or config were needed.","title":"spring-boot web app fails to start : Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean","body":"<p>I was fixing this because of <a href=\"https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1924298\" rel=\"nofollow noreferrer\">https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1924298</a></p>\n<p>And my fix was to do this in pom.xml only:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-jetty&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n  &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n  &lt;version&gt;4.0.1&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>No changes in classes or config were needed.</p>\n"}],"owner":{"account_id":5457896,"reputation":3732,"user_id":4340793,"accept_rate":61,"display_name":"JeyJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35280,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":6,"score":4,"last_activity_date":1684763417,"creation_date":1584471603,"question_id":60728683,"body_markdown":"I&#39;m trying to start my spring-boot-web app but I&#39;m getting the following error : \r\n\r\n    2020-03-17 20:54:22.643  WARN 15640 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.\r\n    2020-03-17 20:54:22.664 ERROR 15640 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\n\r\nI configured the following ApplicationContext file : \r\n    \r\n\r\n    @Configuration\r\n    @EnableJpaRepositories(basePackages = {&quot;repos&quot;})\r\n    public class AppConfig  {\r\n        @Bean\r\n        public LocalEntityManagerFactoryBean entityManagerFactory() {\r\n            LocalEntityManagerFactoryBean factoryBean = new LocalEntityManagerFactoryBean();\r\n            factoryBean.setPersistenceUnitName(&quot;mydb&quot;);\r\n    \r\n            return factoryBean;\r\n        }\r\n    \r\n        @Bean\r\n        public JpaTransactionManager transactionManager(EntityManagerFactory entityManagerFactory) {\r\n            JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n            transactionManager.setEntityManagerFactory(entityManagerFactory);\r\n    \r\n            return transactionManager;\r\n        }\r\n    }\r\n\r\nI need those beans because in one of my services I inject the following objects :\r\n\r\n    @Autowired\r\n    private EntityManagerFactory emf;\r\n    \r\n    @PersistenceContext\r\n    private EntityManager em;\r\n\r\n\r\n \r\nand my main app : \r\n\r\n    @SpringBootApplication\r\n    public class Application  extends SpringBootServletInitializer {\r\n    \r\n    \r\n        public static void main(String[]args)\r\n        {\r\n            //load the spring config class we configured\r\n            SpringApplication.run(AppConfig.class);\r\n        }\r\n\r\nmy dependencies in pom.xml : \r\n  \r\n\r\n      &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2.5.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2.5.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n                &lt;version&gt;5.2.4.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n                &lt;version&gt;5.2.4.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n                &lt;version&gt;5.4.1.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n                &lt;version&gt;42.2.11&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nSolutions I tried but didnt work : \r\n\r\n1)add extends SpringBootServletInitializer to both Application.java and Appconfig.java\r\n\r\n2)Move the beans from the AppConfig.java to Application.java\r\n\r\n3)Tried to set the following annotation on  the application class : \r\n\r\n    @SpringBootApplication(exclude = {DataSourceAutoConfiguration.class })\r\n\r\n4)Adding the following dependency to the pom.xml : \r\n \r\n\r\n   &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.5.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n","title":"spring-boot web app fails to start : Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean","body":"<p>I'm trying to start my spring-boot-web app but I'm getting the following error : </p>\n\n<pre><code>2020-03-17 20:54:22.643  WARN 15640 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.\n2020-03-17 20:54:22.664 ERROR 15640 --- [           main] o.s.boot.SpringApplication               : Application run failed\n</code></pre>\n\n<p>I configured the following ApplicationContext file : </p>\n\n<pre><code>@Configuration\n@EnableJpaRepositories(basePackages = {\"repos\"})\npublic class AppConfig  {\n    @Bean\n    public LocalEntityManagerFactoryBean entityManagerFactory() {\n        LocalEntityManagerFactoryBean factoryBean = new LocalEntityManagerFactoryBean();\n        factoryBean.setPersistenceUnitName(\"mydb\");\n\n        return factoryBean;\n    }\n\n    @Bean\n    public JpaTransactionManager transactionManager(EntityManagerFactory entityManagerFactory) {\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\n        transactionManager.setEntityManagerFactory(entityManagerFactory);\n\n        return transactionManager;\n    }\n}\n</code></pre>\n\n<p>I need those beans because in one of my services I inject the following objects :</p>\n\n<pre><code>@Autowired\nprivate EntityManagerFactory emf;\n\n@PersistenceContext\nprivate EntityManager em;\n</code></pre>\n\n<p>and my main app : </p>\n\n<pre><code>@SpringBootApplication\npublic class Application  extends SpringBootServletInitializer {\n\n\n    public static void main(String[]args)\n    {\n        //load the spring config class we configured\n        SpringApplication.run(AppConfig.class);\n    }\n</code></pre>\n\n<p>my dependencies in pom.xml : </p>\n\n<pre><code>  &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;2.2.5.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;2.2.5.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;5.2.4.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n            &lt;version&gt;5.2.4.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.4.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;42.2.11&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>Solutions I tried but didnt work : </p>\n\n<p>1)add extends SpringBootServletInitializer to both Application.java and Appconfig.java</p>\n\n<p>2)Move the beans from the AppConfig.java to Application.java</p>\n\n<p>3)Tried to set the following annotation on  the application class : </p>\n\n<pre><code>@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class })\n</code></pre>\n\n<p>4)Adding the following dependency to the pom.xml : </p>\n\n<p>\n        org.springframework.boot\n        spring-boot-starter-tomcat\n        2.2.5.RELEASE\n    </p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684763483,"post_id":76302249,"comment_id":134560132,"body_markdown":"Because those attributes are only used for non HTML responses, there is a default HTML page dispaying the default available parameters. If you need additional ones you will need a custom page. However I do not see how `message` and `status` can leak information, the stacktrace however can (and it is configurable if that should be displayed or not).","body":"Because those attributes are only used for non HTML responses, there is a default HTML page dispaying the default available parameters. If you need additional ones you will need a custom page. However I do not see how <code>message</code> and <code>status</code> can leak information, the stacktrace however can (and it is configurable if that should be displayed or not)."},{"owner":{"account_id":23980626,"reputation":7,"user_id":17968709,"display_name":"ylmzzsy"},"score":0,"creation_date":1684764660,"post_id":76302249,"comment_id":134560424,"body_markdown":"Thanks for the response, ```message``` can contain internal info about the application, I cannot guarantee for that, it would be great if the ```message``` attribute also removed from html response too since I am telling spring boot to remove it right...","body":"Thanks for the response, <code>message</code> can contain internal info about the application, I cannot guarantee for that, it would be great if the <code>message</code> attribute also removed from html response too since I am telling spring boot to remove it right..."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684765314,"post_id":76302249,"comment_id":134560599,"body_markdown":"No you aren&#39;t, as stated the errorattributes aren&#39;t used for HTML only for non HTML responses (JSON, XML, plain text).","body":"No you aren&#39;t, as stated the errorattributes aren&#39;t used for HTML only for non HTML responses (JSON, XML, plain text)."}],"owner":{"account_id":23980626,"reputation":7,"user_id":17968709,"display_name":"ylmzzsy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684763110,"creation_date":1684709719,"question_id":76302249,"body_markdown":"\r\nI want to remove some error attributes from error response in springboot since they could leak sensitive information.\r\n\r\n\r\n     @Component\r\n     public class MyCustomErrorAttributes extends DefaultErrorAttributes {\r\n\r\n          @Override\r\n          public Map&lt;String, Object&gt; getErrorAttributes(WebRequest webRequest, ErrorAttributeOptions options) {\r\n\r\n               Map&lt;String, Object&gt; errorAttributes = super.getErrorAttributes(webRequest, options);\r\n               errorAttributes.put(&quot;locale&quot;, webRequest.getLocale().toString());\r\n               errorAttributes.remove(&quot;message&quot;);\r\n               errorAttributes.remove(&quot;status&quot;);\r\n        \r\n               return errorAttributes;\r\n          }\r\n      }\r\n\r\nThis is working when I send a request containing Accept header ```application/json```. But when I send ```text/html```, I am able to see ```message``` and ```status``` attributes in the response. This is leaking the information and looks like someone can try to get extra information from my application.\r\n\r\nHere is the response, you can see that the ```message``` (```&lt;p&gt;&lt;b&gt;Message&lt;/b&gt;```) attribute exists even if I removed it in ```getErrorAttributes``` method.\r\n```\r\n&lt;!doctype html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n   &lt;head&gt;\r\n      &lt;title&gt;HTTP Status 500 – Internal Server Error&lt;/title&gt;\r\n   &lt;/head&gt;\r\n   &lt;body&gt;\r\n      &lt;h1&gt;HTTP Status 500 – Internal Server Error&lt;/h1&gt;\r\n      &lt;hr class=&quot;line&quot; /&gt;\r\n      &lt;p&gt;&lt;b&gt;Type&lt;/b&gt; Exception Report&lt;/p&gt;\r\n      &lt;p&gt;&lt;b&gt;Message&lt;/b&gt; Request processing failed: java.lang.NullPointerException: hellow&lt;/p&gt;\r\n      &lt;p&gt;&lt;b&gt;Description&lt;/b&gt; The server encountered an unexpected condition that prevented it from fulfilling the request.\r\n      &lt;/p&gt;\r\n      &lt;p&gt;&lt;b&gt;Exception&lt;/b&gt;&lt;/p&gt;\r\n      &lt;pre&gt;jakarta.servlet.ServletException: Request processing failed: java.lang.NullPointerException: hellow\r\n\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\torg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n&lt;/pre&gt;\r\n      &lt;p&gt;&lt;b&gt;Root Cause&lt;/b&gt;&lt;/p&gt;\r\n      &lt;pre&gt;java.lang.NullPointerException: hellow\r\n\tcom.example.demo.apiControllers.errorHandling.ExceptionHandlingDenemeController4.errorDeneme(ExceptionHandlingDenemeController4.java:26)\r\n\tjava.base&amp;#47;jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\r\norg.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\torg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n&lt;/pre&gt;\r\n      &lt;p&gt;&lt;b&gt;Note&lt;/b&gt; The full stack trace of the root cause is available in the server logs.&lt;/p&gt;\r\n      &lt;hr class=&quot;line&quot; /&gt;\r\n      &lt;h3&gt;Apache Tomcat/10.1.1&lt;/h3&gt;\r\n   &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n[text/html media response ss][1]\r\n\r\nAnd you can see that ```message``` and ```status``` attributes does not exist in ```application/json``` response:\r\n```\r\n{\r\n    &quot;timestamp&quot;: 1684710265831,\r\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n    &quot;trace&quot;: &quot;java.lang.NullPointerException: hellow\\n\\tat com.example.demo.apiControllers.errorHandling.ExceptionHandlingDenemeController4.errorDeneme(ExceptionHandlingDenemeController4.java:26)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)\\n\\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:895)\\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:705)\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880)\\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\n\\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\n\\tat java.base/java.lang.Thread.run(Thread.java:833)\\n&quot;,\r\n    &quot;path&quot;: &quot;/4/error_deneme/20&quot;,\r\n    &quot;locale&quot;: &quot;en_US&quot;\r\n}\r\n```\r\n\r\n```locale``` attribute I added also does not exist in ```text/html``` response\r\n\r\nEDIT:\r\n\r\nIt looks like ```getErrorAttributes``` does not effect response when ```text/html``` media type is requested\r\n\r\nWhat is going on here? Can you help please?\r\n\r\nThanks in advance.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tjryE.png","title":"Springboot, removed error attributes are available in another media type","body":"<p>I want to remove some error attributes from error response in springboot since they could leak sensitive information.</p>\n<pre><code> @Component\n public class MyCustomErrorAttributes extends DefaultErrorAttributes {\n\n      @Override\n      public Map&lt;String, Object&gt; getErrorAttributes(WebRequest webRequest, ErrorAttributeOptions options) {\n\n           Map&lt;String, Object&gt; errorAttributes = super.getErrorAttributes(webRequest, options);\n           errorAttributes.put(&quot;locale&quot;, webRequest.getLocale().toString());\n           errorAttributes.remove(&quot;message&quot;);\n           errorAttributes.remove(&quot;status&quot;);\n    \n           return errorAttributes;\n      }\n  }\n</code></pre>\n<p>This is working when I send a request containing Accept header <code>application/json</code>. But when I send <code>text/html</code>, I am able to see <code>message</code> and <code>status</code> attributes in the response. This is leaking the information and looks like someone can try to get extra information from my application.</p>\n<p>Here is the response, you can see that the <code>message</code> (<code>&lt;p&gt;&lt;b&gt;Message&lt;/b&gt;</code>) attribute exists even if I removed it in <code>getErrorAttributes</code> method.</p>\n<pre><code>&lt;!doctype html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n   &lt;head&gt;\n      &lt;title&gt;HTTP Status 500 – Internal Server Error&lt;/title&gt;\n   &lt;/head&gt;\n   &lt;body&gt;\n      &lt;h1&gt;HTTP Status 500 – Internal Server Error&lt;/h1&gt;\n      &lt;hr class=&quot;line&quot; /&gt;\n      &lt;p&gt;&lt;b&gt;Type&lt;/b&gt; Exception Report&lt;/p&gt;\n      &lt;p&gt;&lt;b&gt;Message&lt;/b&gt; Request processing failed: java.lang.NullPointerException: hellow&lt;/p&gt;\n      &lt;p&gt;&lt;b&gt;Description&lt;/b&gt; The server encountered an unexpected condition that prevented it from fulfilling the request.\n      &lt;/p&gt;\n      &lt;p&gt;&lt;b&gt;Exception&lt;/b&gt;&lt;/p&gt;\n      &lt;pre&gt;jakarta.servlet.ServletException: Request processing failed: java.lang.NullPointerException: hellow\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n&lt;/pre&gt;\n      &lt;p&gt;&lt;b&gt;Root Cause&lt;/b&gt;&lt;/p&gt;\n      &lt;pre&gt;java.lang.NullPointerException: hellow\n    com.example.demo.apiControllers.errorHandling.ExceptionHandlingDenemeController4.errorDeneme(ExceptionHandlingDenemeController4.java:26)\n    java.base&amp;#47;jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    \norg.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n&lt;/pre&gt;\n      &lt;p&gt;&lt;b&gt;Note&lt;/b&gt; The full stack trace of the root cause is available in the server logs.&lt;/p&gt;\n      &lt;hr class=&quot;line&quot; /&gt;\n      &lt;h3&gt;Apache Tomcat/10.1.1&lt;/h3&gt;\n   &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/tjryE.png\" rel=\"nofollow noreferrer\">text/html media response ss</a></p>\n<p>And you can see that <code>message</code> and <code>status</code> attributes does not exist in <code>application/json</code> response:</p>\n<pre><code>{\n    &quot;timestamp&quot;: 1684710265831,\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\n    &quot;trace&quot;: &quot;java.lang.NullPointerException: hellow\\n\\tat com.example.demo.apiControllers.errorHandling.ExceptionHandlingDenemeController4.errorDeneme(ExceptionHandlingDenemeController4.java:26)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)\\n\\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:895)\\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:705)\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880)\\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\n\\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\n\\tat java.base/java.lang.Thread.run(Thread.java:833)\\n&quot;,\n    &quot;path&quot;: &quot;/4/error_deneme/20&quot;,\n    &quot;locale&quot;: &quot;en_US&quot;\n}\n</code></pre>\n<p><code>locale</code> attribute I added also does not exist in <code>text/html</code> response</p>\n<p>EDIT:</p>\n<p>It looks like <code>getErrorAttributes</code> does not effect response when <code>text/html</code> media type is requested</p>\n<p>What is going on here? Can you help please?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","android","exception"],"comments":[{"owner":{"account_id":2719286,"reputation":5496,"user_id":2345913,"display_name":"CRUSADER"},"score":1,"creation_date":1368612105,"post_id":16561692,"comment_id":23794705,"body_markdown":"please [check link](https://developers.google.com/analytics/devguides/collection/android/v2/exceptions)","body":"please <a href=\"https://developers.google.com/analytics/devguides/collection/android/v2/exceptions\" rel=\"nofollow noreferrer\">check link</a>"},{"owner":{"account_id":330005,"reputation":132780,"user_id":653856,"accept_rate":100,"display_name":"Raghunandan"},"score":0,"creation_date":1368612426,"post_id":16561692,"comment_id":23794889,"body_markdown":"when crash happens your activity is destroyed so there is no way to handle the crash yourself.","body":"when crash happens your activity is destroyed so there is no way to handle the crash yourself."},{"owner":{"account_id":1614893,"reputation":4452,"user_id":1492861,"accept_rate":93,"display_name":"ldam"},"score":0,"creation_date":1368613063,"post_id":16561692,"comment_id":23795264,"body_markdown":"@Raghunandan yes but if the crash happens because of an unhandled exception you can use a general catch all exception handler and prevent it from completely crashing.","body":"@Raghunandan yes but if the crash happens because of an unhandled exception you can use a general catch all exception handler and prevent it from completely crashing."},{"owner":{"account_id":142732,"reputation":10265,"user_id":1747491,"accept_rate":62,"display_name":"theblang"},"score":0,"creation_date":1384266836,"post_id":16561692,"comment_id":29660398,"body_markdown":"@LoganDam Ever figure anything out?","body":"@LoganDam Ever figure anything out?"},{"owner":{"account_id":1614893,"reputation":4452,"user_id":1492861,"accept_rate":93,"display_name":"ldam"},"score":0,"creation_date":1384344650,"post_id":16561692,"comment_id":29697033,"body_markdown":"@mattblang I actually haven&#39;t touched my android stuff in quite a while now, work has been crazy. Might get back into the android world again soon though. CRUSADER&#39;s option looks like the way to go from the reading I&#39;ve done.","body":"@mattblang I actually haven&#39;t touched my android stuff in quite a while now, work has been crazy. Might get back into the android world again soon though. CRUSADER&#39;s option looks like the way to go from the reading I&#39;ve done."}],"answers":[{"comments":[{"owner":{"account_id":1614893,"reputation":4452,"user_id":1492861,"accept_rate":93,"display_name":"ldam"},"score":0,"creation_date":1368614633,"post_id":16562770,"comment_id":23796080,"body_markdown":"Your example activity doesn&#39;t implement `UncaughtExceptionHandler` :) thanks for the answer, I&#39;ll try it when I get home from work.","body":"Your example activity doesn&#39;t implement <code>UncaughtExceptionHandler</code> :) thanks for the answer, I&#39;ll try it when I get home from work."},{"owner":{"account_id":1614893,"reputation":4452,"user_id":1492861,"accept_rate":93,"display_name":"ldam"},"score":0,"creation_date":1368614786,"post_id":16562770,"comment_id":23796165,"body_markdown":"Also, should `Thread.setDefaultUncaughtExceptionHandler()` not be put in your main/first activity so it handles all exceptions within the application?","body":"Also, should <code>Thread.setDefaultUncaughtExceptionHandler()</code> not be put in your main/first activity so it handles all exceptions within the application?"},{"owner":{"account_id":2719286,"reputation":5496,"user_id":2345913,"display_name":"CRUSADER"},"score":0,"creation_date":1368614841,"post_id":16562770,"comment_id":23796194,"body_markdown":"I said, to create a class say ExceptionHandler implements java.lang.Thread.UncaughtExceptionHandler....  And then in your normal activities add above mentioned code line... Please refer link mentioned above to get broader idea..","body":"I said, to create a class say ExceptionHandler implements java.lang.Thread.UncaughtExceptionHandler....  And then in your normal activities add above mentioned code line... Please refer link mentioned above to get broader idea.."},{"owner":{"account_id":1072639,"reputation":4508,"user_id":1071545,"accept_rate":60,"display_name":"Ahmad Arslan"},"score":0,"creation_date":1392630608,"post_id":16562770,"comment_id":33032504,"body_markdown":"@CRUSADER Thankyou so much that link which you have mentioned as reference link is working perfectly fine.","body":"@CRUSADER Thankyou so much that link which you have mentioned as reference link is working perfectly fine."},{"owner":{"account_id":434849,"reputation":9817,"user_id":821110,"accept_rate":95,"display_name":"W.K.S"},"score":8,"creation_date":1397115829,"post_id":16562770,"comment_id":35094836,"body_markdown":"Or just add that line once to a BaseActivity and subclass this Activity throughout your app.","body":"Or just add that line once to a BaseActivity and subclass this Activity throughout your app."},{"owner":{"account_id":85690,"reputation":41035,"user_id":238753,"accept_rate":61,"display_name":"Sam"},"score":0,"creation_date":1415259619,"post_id":16562770,"comment_id":42127229,"body_markdown":"Has anyone actually got this to work well before? I find that the environment seems unstable during the exception handler, and it&#39;s hard to prevent the app/code from crashing or freezing.","body":"Has anyone actually got this to work well before? I find that the environment seems unstable during the exception handler, and it&#39;s hard to prevent the app/code from crashing or freezing."}],"tags":[],"owner":{"account_id":2719286,"reputation":5496,"user_id":2345913,"display_name":"CRUSADER"},"comment_count":6,"down_vote_count":1,"up_vote_count":108,"is_accepted":true,"score":107,"last_activity_date":1684763101,"creation_date":1368614086,"answer_id":16562770,"question_id":16561692,"body_markdown":"Here, check for the [link for reference][1].\r\n\r\nIn here you create a class say **ExceptionHandler** that `implements java.lang.Thread.UncaughtExceptionHandler`..\r\n\r\nInside this class you will do your life saving stuff like creating stacktrace and gettin ready to upload error report etc....\r\n\r\n&gt; **Now comes the important part** i.e. How to catch that exception.\r\nThough it is very simple. Copy following line of code in your each Activity just after the call of super method in your overriden `onCreate` method.\r\n&gt; \r\n&gt;     Thread.setDefaultUncaughtExceptionHandler(new ExceptionHandler(this));\r\n&gt; \r\n&gt; Your Activity may look something like this…\r\n&gt; \r\n&gt;     public class ForceClose extends Activity {\r\n&gt;         /** Called when the activity is first created. */\r\n&gt;         @Override\r\n&gt;         public void onCreate(Bundle savedInstanceState) {\r\n&gt;             super.onCreate(savedInstanceState);\r\n&gt;     \r\n&gt;             Thread.setDefaultUncaughtExceptionHandler(new ExceptionHandler(this));\r\n&gt;     \r\n&gt;             setContentView(R.layout.main);\r\n&gt;         }\r\n&gt;     }\r\n\r\nAnd this is a sample ExceptionHandler class:\r\n\r\n    public class ExceptionHandler implements Thread.UncaughtExceptionHandler {\r\n      private static final String TAG = &quot;ExceptionHandler&quot;;\r\n    \r\n      @Override\r\n      public void uncaughtException(@NonNull Thread thread, @NonNull Throwable exception) {\r\n        Log.e(TAG, &quot;uncaughtException: &quot; + &quot;\\n&quot; + getErrorReport(exception));\r\n        Log.i(TAG, getDeviceInfo());\r\n        Log.i(TAG, getFirmwareInfo());\r\n    \r\n        stopTheApp();\r\n      }\r\n    \r\n      private String getErrorReport(@NonNull Throwable exception) {\r\n        ApplicationErrorReport.CrashInfo crashInfo = new ApplicationErrorReport.CrashInfo(exception);\r\n    \r\n        return &quot;\\nCAUSE OF ERROR\\n&quot; +\r\n          crashInfo.stackTrace;\r\n      }\r\n    \r\n      private String getDeviceInfo() {\r\n        return\r\n          &quot;\\nDEVICE INFORMATION\\n&quot; +\r\n            &quot;Brand: &quot; +\r\n            Build.BRAND +\r\n            &quot;\\n&quot; +\r\n            &quot;Device: &quot; +\r\n            Build.DEVICE +\r\n            &quot;\\n&quot; +\r\n            &quot;Model: &quot; +\r\n            Build.MODEL +\r\n            &quot;\\n&quot; +\r\n            &quot;Id: &quot; +\r\n            Build.ID +\r\n            &quot;\\n&quot; +\r\n            &quot;Product: &quot; +\r\n            Build.PRODUCT +\r\n            &quot;\\n&quot;;\r\n      }\r\n    \r\n      private String getFirmwareInfo() {\r\n        return &quot;\\nFIRMWARE\\n&quot; +\r\n          &quot;SDK: &quot; +\r\n          Build.VERSION.SDK_INT +\r\n          &quot;\\n&quot; +\r\n          &quot;Release: &quot; +\r\n          Build.VERSION.RELEASE +\r\n          &quot;\\n&quot; +\r\n          &quot;Incremental: &quot; +\r\n          Build.VERSION.INCREMENTAL +\r\n          &quot;\\n&quot;;\r\n      }\r\n    \r\n      private void stopTheApp() {\r\n        android.os.Process.killProcess(android.os.Process.myPid());\r\n      }\r\n    }\r\n\r\n\r\n  [1]: http://trivedihardik.wordpress.com/2011/08/20/how-to-avoid-force-close-error-in-android/\r\n","title":"Android exception handling best practice?","body":"<p>Here, check for the <a href=\"http://trivedihardik.wordpress.com/2011/08/20/how-to-avoid-force-close-error-in-android/\" rel=\"nofollow noreferrer\">link for reference</a>.</p>\n<p>In here you create a class say <strong>ExceptionHandler</strong> that <code>implements java.lang.Thread.UncaughtExceptionHandler</code>..</p>\n<p>Inside this class you will do your life saving stuff like creating stacktrace and gettin ready to upload error report etc....</p>\n<blockquote>\n<p><strong>Now comes the important part</strong> i.e. How to catch that exception.\nThough it is very simple. Copy following line of code in your each Activity just after the call of super method in your overriden <code>onCreate</code> method.</p>\n<pre><code>Thread.setDefaultUncaughtExceptionHandler(new ExceptionHandler(this));\n</code></pre>\n<p>Your Activity may look something like this…</p>\n<pre><code>public class ForceClose extends Activity {\n    /** Called when the activity is first created. */\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        Thread.setDefaultUncaughtExceptionHandler(new ExceptionHandler(this));\n\n        setContentView(R.layout.main);\n    }\n}\n</code></pre>\n</blockquote>\n<p>And this is a sample ExceptionHandler class:</p>\n<pre><code>public class ExceptionHandler implements Thread.UncaughtExceptionHandler {\n  private static final String TAG = &quot;ExceptionHandler&quot;;\n\n  @Override\n  public void uncaughtException(@NonNull Thread thread, @NonNull Throwable exception) {\n    Log.e(TAG, &quot;uncaughtException: &quot; + &quot;\\n&quot; + getErrorReport(exception));\n    Log.i(TAG, getDeviceInfo());\n    Log.i(TAG, getFirmwareInfo());\n\n    stopTheApp();\n  }\n\n  private String getErrorReport(@NonNull Throwable exception) {\n    ApplicationErrorReport.CrashInfo crashInfo = new ApplicationErrorReport.CrashInfo(exception);\n\n    return &quot;\\nCAUSE OF ERROR\\n&quot; +\n      crashInfo.stackTrace;\n  }\n\n  private String getDeviceInfo() {\n    return\n      &quot;\\nDEVICE INFORMATION\\n&quot; +\n        &quot;Brand: &quot; +\n        Build.BRAND +\n        &quot;\\n&quot; +\n        &quot;Device: &quot; +\n        Build.DEVICE +\n        &quot;\\n&quot; +\n        &quot;Model: &quot; +\n        Build.MODEL +\n        &quot;\\n&quot; +\n        &quot;Id: &quot; +\n        Build.ID +\n        &quot;\\n&quot; +\n        &quot;Product: &quot; +\n        Build.PRODUCT +\n        &quot;\\n&quot;;\n  }\n\n  private String getFirmwareInfo() {\n    return &quot;\\nFIRMWARE\\n&quot; +\n      &quot;SDK: &quot; +\n      Build.VERSION.SDK_INT +\n      &quot;\\n&quot; +\n      &quot;Release: &quot; +\n      Build.VERSION.RELEASE +\n      &quot;\\n&quot; +\n      &quot;Incremental: &quot; +\n      Build.VERSION.INCREMENTAL +\n      &quot;\\n&quot;;\n  }\n\n  private void stopTheApp() {\n    android.os.Process.killProcess(android.os.Process.myPid());\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2526067,"reputation":755,"user_id":2825816,"accept_rate":89,"display_name":"hyena"},"score":0,"creation_date":1512128350,"post_id":18143773,"comment_id":82142167,"body_markdown":"probably you should process the error message before you show it to the users","body":"probably you should process the error message before you show it to the users"}],"tags":[],"owner":{"account_id":3121459,"reputation":671,"user_id":2641158,"accept_rate":56,"display_name":"Louis Evans"},"comment_count":1,"down_vote_count":2,"up_vote_count":12,"is_accepted":false,"score":10,"last_activity_date":1376041246,"creation_date":1376041246,"answer_id":18143773,"question_id":16561692,"body_markdown":"You could just use a generic alert dialog to quickly display error messages.\r\nFor example...\r\n\r\n    //******************************************\r\n\t//some generic method\r\n\t//******************************************\r\n\tprivate void doStuff()\r\n\t{\t\t\r\n\t\ttry\r\n\t\t{\r\n            //do some stuff here\r\n\t\t}\r\n\t\tcatch(Exception e)\r\n\t\t{\r\n\t\t\tmessageBox(&quot;doStuff&quot;, e.getMessage());\r\n\t\t}\r\n\t}\r\n\r\n\r\n    //*********************************************************\r\n    //generic dialog, takes in the method name and error message\r\n    //*********************************************************\r\n\tprivate void messageBox(String method, String message)\r\n\t{\r\n\t\tLog.d(&quot;EXCEPTION: &quot; + method,  message);\r\n\r\n\t\tAlertDialog.Builder messageBox = new AlertDialog.Builder(this);\r\n\t\tmessageBox.setTitle(method);\r\n\t\tmessageBox.setMessage(message);\r\n\t\tmessageBox.setCancelable(false);\r\n\t\tmessageBox.setNeutralButton(&quot;OK&quot;, null);\r\n\t\tmessageBox.show();\r\n\t}\r\n\r\n\r\nYou could also add other error handling options into this method, such as print stacktrace","title":"Android exception handling best practice?","body":"<p>You could just use a generic alert dialog to quickly display error messages.\nFor example...</p>\n\n<pre><code>//******************************************\n//some generic method\n//******************************************\nprivate void doStuff()\n{       \n    try\n    {\n        //do some stuff here\n    }\n    catch(Exception e)\n    {\n        messageBox(\"doStuff\", e.getMessage());\n    }\n}\n\n\n//*********************************************************\n//generic dialog, takes in the method name and error message\n//*********************************************************\nprivate void messageBox(String method, String message)\n{\n    Log.d(\"EXCEPTION: \" + method,  message);\n\n    AlertDialog.Builder messageBox = new AlertDialog.Builder(this);\n    messageBox.setTitle(method);\n    messageBox.setMessage(message);\n    messageBox.setCancelable(false);\n    messageBox.setNeutralButton(\"OK\", null);\n    messageBox.show();\n}\n</code></pre>\n\n<p>You could also add other error handling options into this method, such as print stacktrace</p>\n"},{"tags":[],"owner":{"account_id":2069497,"reputation":1883,"user_id":2525237,"accept_rate":70,"display_name":"sunyata"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1626512223,"creation_date":1394983195,"answer_id":22438720,"question_id":16561692,"body_markdown":"i found the &quot;wtf&quot; (what a terrible failure) method in the Log class. From the description:\r\n\r\n&gt; Depending on system configuration, a report may be added to the\r\n&gt; DropBoxManager and/or the process may be terminated immediately with\r\n&gt; an error dialog.\r\n\r\nhttp://developer.android.com/reference/android/util/Log.html","title":"Android exception handling best practice?","body":"<p>i found the &quot;wtf&quot; (what a terrible failure) method in the Log class. From the description:</p>\n<blockquote>\n<p>Depending on system configuration, a report may be added to the\nDropBoxManager and/or the process may be terminated immediately with\nan error dialog.</p>\n</blockquote>\n<p><a href=\"http://developer.android.com/reference/android/util/Log.html\" rel=\"nofollow noreferrer\">http://developer.android.com/reference/android/util/Log.html</a></p>\n"}],"owner":{"account_id":1614893,"reputation":4452,"user_id":1492861,"accept_rate":93,"display_name":"ldam"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92028,"favorite_count":0,"down_vote_count":0,"up_vote_count":85,"accepted_answer_id":16562770,"answer_count":3,"score":85,"last_activity_date":1684763101,"creation_date":1368610924,"question_id":16561692,"body_markdown":"If my app crashes, it hangs for a couple of seconds before I&#39;m told by Android that the app crashed and needs to close. So I was thinking of catching all exceptions in my app with a general:\r\n\r\n    try {\r\n        // ... \r\n    } catch(Exception e) { \r\n        // ...\r\n    } \r\n\r\nAnd make a new `Activity` that explains that the application crashed instantly (and also giving users an opportunity to send a mail with the error details), instead of having that delay thanks to Android. Are there better methods of accomplishing this or is this discouraged?\r\n\r\n**Update:** I am using a Nexus 5 with ART enabled and I am not noticing the delay I used to experience with apps crashing (the &quot;hanging&quot; I was talking about originally). I think since everything is native code now, the crash happens instantly along with getting all the crash information. Perhaps the Nexus 5 is just quick :) regardless, this may not be a worry in future releases of Android (given that ART is going to be the default runtime in Android L).","title":"Android exception handling best practice?","body":"<p>If my app crashes, it hangs for a couple of seconds before I'm told by Android that the app crashed and needs to close. So I was thinking of catching all exceptions in my app with a general:</p>\n\n<pre><code>try {\n    // ... \n} catch(Exception e) { \n    // ...\n} \n</code></pre>\n\n<p>And make a new <code>Activity</code> that explains that the application crashed instantly (and also giving users an opportunity to send a mail with the error details), instead of having that delay thanks to Android. Are there better methods of accomplishing this or is this discouraged?</p>\n\n<p><strong>Update:</strong> I am using a Nexus 5 with ART enabled and I am not noticing the delay I used to experience with apps crashing (the \"hanging\" I was talking about originally). I think since everything is native code now, the crash happens instantly along with getting all the crash information. Perhaps the Nexus 5 is just quick :) regardless, this may not be a worry in future releases of Android (given that ART is going to be the default runtime in Android L).</p>\n"},{"tags":["java","unit-testing","static","kotlin","mockk"],"answers":[{"comments":[{"owner":{"account_id":1804409,"reputation":9466,"user_id":1641868,"accept_rate":72,"display_name":"David Karlsson"},"score":5,"creation_date":1613388123,"post_id":49762546,"comment_id":117050875,"body_markdown":"Note: staticMockk is deprecated and replaced with: &quot;mockkStatic(T::class)&quot;","body":"Note: staticMockk is deprecated and replaced with: &quot;mockkStatic(T::class)&quot;"}],"tags":[],"owner":{"account_id":4615556,"reputation":2769,"user_id":3742196,"display_name":"oleksiyp"},"comment_count":1,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1523392879,"creation_date":1523392879,"answer_id":49762546,"question_id":49762409,"body_markdown":" MockK allows mocking static Java methods. The main purpose for it is mocking of Kotlin extension functions, so it is not as powerful as PowerMock, but still does it&#39;s job even for Java static methods.\r\n\r\nThe syntax would be following:\r\n\r\n    staticMockk&lt;Uri&gt;().use {\r\n        every { Uri.parse(&quot;http://test/path&quot;) } returns Uri(&quot;http&quot;, &quot;test&quot;, &quot;path&quot;)\r\n      \r\n        assertEquals(Uri(&quot;http&quot;, &quot;test&quot;, &quot;path&quot;), Uri.parse(&quot;http://test/path&quot;))\r\n\r\n        verify { Uri.parse(&quot;http://test/path&quot;) }  \r\n    }\r\n\r\nMore details here: http://mockk.io/#extension-functions","title":"Mock static java methods using Mockk","body":"<p>MockK allows mocking static Java methods. The main purpose for it is mocking of Kotlin extension functions, so it is not as powerful as PowerMock, but still does it's job even for Java static methods.</p>\n\n<p>The syntax would be following:</p>\n\n<pre><code>staticMockk&lt;Uri&gt;().use {\n    every { Uri.parse(\"http://test/path\") } returns Uri(\"http\", \"test\", \"path\")\n\n    assertEquals(Uri(\"http\", \"test\", \"path\"), Uri.parse(\"http://test/path\"))\n\n    verify { Uri.parse(\"http://test/path\") }  \n}\n</code></pre>\n\n<p>More details here: <a href=\"http://mockk.io/#extension-functions\" rel=\"noreferrer\">http://mockk.io/#extension-functions</a></p>\n"},{"comments":[{"owner":{"account_id":6740600,"reputation":462,"user_id":5193965,"accept_rate":50,"display_name":"Luan Barbosa"},"score":0,"creation_date":1545987403,"post_id":49819729,"comment_id":94749780,"body_markdown":"Your response (&quot;After mockk 1.8.1&quot;) is more accurate than the chosen response. Thanks!","body":"Your response (&quot;After mockk 1.8.1&quot;) is more accurate than the chosen response. Thanks!"},{"owner":{"account_id":5339493,"reputation":7038,"user_id":4257162,"accept_rate":80,"display_name":"LeoColman"},"score":2,"creation_date":1546013348,"post_id":49819729,"comment_id":94760018,"body_markdown":"The accepted answer was written before mockk 1.8.1, that&#39;s why this became more accurate","body":"The accepted answer was written before mockk 1.8.1, that&#39;s why this became more accurate"},{"owner":{"account_id":2601421,"reputation":9836,"user_id":2253682,"accept_rate":44,"display_name":"AdamHurwitz"},"score":1,"creation_date":1568349150,"post_id":49819729,"comment_id":102252894,"body_markdown":"This is an excellent solution to mock the `Crashlytics.log` and similar functions called from Java libraries when writing local unit tests!","body":"This is an excellent solution to mock the <code>Crashlytics.log</code> and similar functions called from Java libraries when writing local unit tests!"},{"owner":{"account_id":3006828,"reputation":707,"user_id":2551186,"accept_rate":80,"display_name":"JU5T1C3"},"score":5,"creation_date":1595339709,"post_id":49819729,"comment_id":111436142,"body_markdown":"@LeoColman how is your solution supposed to work when i immediately get an compile error on `Uri(&quot;http&quot;, &quot;test&quot;, &quot;path&quot;)` with messages &quot;Cannot create an instance of abstract class&quot; and &quot;Too many arguments for public/*package*/ constructor Uri() defined in android.net.Uri&quot;? I&#39;m using mockk 1.10.0","body":"@LeoColman how is your solution supposed to work when i immediately get an compile error on <code>Uri(&quot;http&quot;, &quot;test&quot;, &quot;path&quot;)</code> with messages &quot;Cannot create an instance of abstract class&quot; and &quot;Too many arguments for public/*package*/ constructor Uri() defined in android.net.Uri&quot;? I&#39;m using mockk 1.10.0"},{"owner":{"account_id":1825184,"reputation":980,"user_id":1658191,"accept_rate":60,"display_name":"prashantwosti"},"score":0,"creation_date":1597632348,"post_id":49819729,"comment_id":112186410,"body_markdown":"The latest Uri is missing `Uri(&quot;http&quot;, &quot;test&quot;, &quot;path&quot;)` signature.","body":"The latest Uri is missing <code>Uri(&quot;http&quot;, &quot;test&quot;, &quot;path&quot;)</code> signature."},{"owner":{"account_id":474434,"reputation":3373,"user_id":884113,"accept_rate":40,"display_name":"jiahao"},"score":1,"creation_date":1607320335,"post_id":49819729,"comment_id":115225175,"body_markdown":"@prashantwosti Just use val uriMock = mockk&lt;Uri&gt;()","body":"@prashantwosti Just use val uriMock = mockk&lt;Uri&gt;()"},{"owner":{"account_id":929289,"reputation":1192,"user_id":959470,"accept_rate":38,"display_name":"desgraci"},"score":0,"creation_date":1620042322,"post_id":49819729,"comment_id":119076047,"body_markdown":"how using that mockk will solve the issue of the `Uri` method?","body":"how using that mockk will solve the issue of the <code>Uri</code> method?"},{"owner":{"account_id":4908116,"reputation":63,"user_id":6629423,"display_name":"Curtes Malteser"},"score":0,"creation_date":1620121382,"post_id":49819729,"comment_id":119100763,"body_markdown":"Uri constructor is private. How do you make this work?\nCan you please help?","body":"Uri constructor is private. How do you make this work? Can you please help?"},{"owner":{"account_id":2824997,"reputation":3258,"user_id":2427819,"accept_rate":35,"display_name":"TootsieRockNRoll"},"score":2,"creation_date":1636680373,"post_id":49819729,"comment_id":123627906,"body_markdown":"I don&#39;t understand how this answer is 73 upvotes, while using Uri() constructor which is A) private and B) the class is abstract...","body":"I don&#39;t understand how this answer is 73 upvotes, while using Uri() constructor which is A) private and B) the class is abstract..."},{"owner":{"account_id":5339493,"reputation":7038,"user_id":4257162,"accept_rate":80,"display_name":"LeoColman"},"score":0,"creation_date":1636683006,"post_id":49819729,"comment_id":123628349,"body_markdown":"@TootsieRockNRoll Because the URI constructor isn&#39;t important to  he answer. And having that Uri as extension function is something likely to happen.\nThe important part of the answer is how to use mockk to mock a static method, and it&#39;s clear in that sense.","body":"@TootsieRockNRoll Because the URI constructor isn&#39;t important to  he answer. And having that Uri as extension function is something likely to happen. The important part of the answer is how to use mockk to mock a static method, and it&#39;s clear in that sense."},{"owner":{"account_id":343133,"reputation":671,"user_id":674648,"display_name":"Delblanco"},"score":0,"creation_date":1638830888,"post_id":49819729,"comment_id":124188028,"body_markdown":"Beware in some cases after 1.8.1 you still need to call `unmockkStatic()`. See  Tomas Rohovsky answer here: https://stackoverflow.com/a/66479439/674648","body":"Beware in some cases after 1.8.1 you still need to call <code>unmockkStatic()</code>. See  Tomas Rohovsky answer here: <a href=\"https://stackoverflow.com/a/66479439/674648\">stackoverflow.com/a/66479439/674648</a>"},{"owner":{"account_id":8164341,"reputation":389,"user_id":6147281,"display_name":"Irving Dev"},"score":0,"creation_date":1677264238,"post_id":49819729,"comment_id":133310089,"body_markdown":"To help people with the Uri constructor, the answer by @LeoColman can be improved in this way:\n `\nmockkStatic(Uri::class)      \nval uriMock = mockk&lt;Uri&gt;()\nevery { Uri.parse(&quot;http://test/path&quot;) } returns uriMock\n`","body":"To help people with the Uri constructor, the answer by @LeoColman can be improved in this way:  ` mockkStatic(Uri::class)       val uriMock = mockk&lt;Uri&gt;() every { Uri.parse(&quot;<a href=\"http://test/path&quot;\" rel=\"nofollow noreferrer\">test/path&quot;</a>) } returns uriMock `"}],"tags":[],"owner":{"account_id":5339493,"reputation":7038,"user_id":4257162,"accept_rate":80,"display_name":"LeoColman"},"comment_count":12,"down_vote_count":2,"up_vote_count":110,"is_accepted":true,"score":108,"last_activity_date":1677441695,"creation_date":1523631049,"answer_id":49819729,"question_id":49762409,"body_markdown":"After mockk 1.8.1:\r\n-\r\n\r\nMockk version 1.8.1 deprecated the solution below. After that version you should do:\r\n\r\n    @Before\r\n    fun mockAllUriInteractions() {\r\n        mockkStatic(Uri::class)\r\n        val uriMock = mockk&lt;Uri&gt;() \r\n        every { Uri.parse(&quot;test/path&quot;) } returns uriMock\r\n    }\r\n\r\n`mockkStatic` will be cleared everytime it&#39;s called, so you don&#39;t need to unmock it before using it again. \r\n\r\nHowever, if that static namespace will be shared across tests it will share the mocked behavior. To avoid it, make sure to `unmockkStatic` after your suite is done.\r\n\r\n\r\n\r\n-----\r\n\r\n**DEPRECATED:**\r\n\r\nIf you need that mocked behaviour to always be there, not only in a single test case, you can mock it using `@Before` and `@After`:\r\n\r\n    @Before\r\n    fun mockAllUriInteractions() {\r\n        staticMockk&lt;Uri&gt;().mock()\r\n        every { Uri.parse(&quot;http://test/path&quot;) } returns Uri(&quot;http&quot;, &quot;test&quot;, &quot;path&quot;)    //This line can also be in any @Test case\r\n    }\r\n\r\n    @After\r\n    fun unmockAllUriInteractions() {\r\n        staticMockk&lt;Uri&gt;().unmock()\r\n    }\r\n\r\nThis way, if you expect more pieces of your class to use the Uri class, you may mock it in a single place, instead of polluting your code with `.use` everywhere.\r\n","title":"Mock static java methods using Mockk","body":"<h2>After mockk 1.8.1:</h2>\n<p>Mockk version 1.8.1 deprecated the solution below. After that version you should do:</p>\n<pre><code>@Before\nfun mockAllUriInteractions() {\n    mockkStatic(Uri::class)\n    val uriMock = mockk&lt;Uri&gt;() \n    every { Uri.parse(&quot;test/path&quot;) } returns uriMock\n}\n</code></pre>\n<p><code>mockkStatic</code> will be cleared everytime it's called, so you don't need to unmock it before using it again.</p>\n<p>However, if that static namespace will be shared across tests it will share the mocked behavior. To avoid it, make sure to <code>unmockkStatic</code> after your suite is done.</p>\n<hr />\n<p><strong>DEPRECATED:</strong></p>\n<p>If you need that mocked behaviour to always be there, not only in a single test case, you can mock it using <code>@Before</code> and <code>@After</code>:</p>\n<pre><code>@Before\nfun mockAllUriInteractions() {\n    staticMockk&lt;Uri&gt;().mock()\n    every { Uri.parse(&quot;http://test/path&quot;) } returns Uri(&quot;http&quot;, &quot;test&quot;, &quot;path&quot;)    //This line can also be in any @Test case\n}\n\n@After\nfun unmockAllUriInteractions() {\n    staticMockk&lt;Uri&gt;().unmock()\n}\n</code></pre>\n<p>This way, if you expect more pieces of your class to use the Uri class, you may mock it in a single place, instead of polluting your code with <code>.use</code> everywhere.</p>\n"},{"comments":[{"owner":{"account_id":2104083,"reputation":1196,"user_id":1870884,"display_name":"Tina"},"score":0,"creation_date":1623457678,"post_id":63890812,"comment_id":120092924,"body_markdown":"This should be the accepted answer—you cannot construct Uri as described in the other answers because the constructor is private. `mockUri = mockk&lt;Uri&gt;()` is perfect, thank you.","body":"This should be the accepted answer—you cannot construct Uri as described in the other answers because the constructor is private. <code>mockUri = mockk&lt;Uri&gt;()</code> is perfect, thank you."}],"tags":[],"owner":{"account_id":10755898,"reputation":2412,"user_id":7913860,"display_name":"Danilo Lemes"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1600112131,"creation_date":1600112131,"answer_id":63890812,"question_id":49762409,"body_markdown":"Additionally to the accepted answer:\r\n\r\nYou can&#39;t create an `Uri` like that, you gonna have to mock the Uri instance as well. Something like:\r\n\r\n    private val mockUri = mockk&lt;Uri&gt;()\r\n    \r\n    @Before\r\n    fun mockAllUriInteractions() {\r\n        mockkStatic(Uri::class)\r\n        every { Uri.parse(&quot;http://test/path&quot;) } returns mockUri\r\n        // or just every { Uri.parse(&quot;http://test/path&quot;) } returns mockk&lt;Uri&gt;()\r\n    }\r\n\r\n","title":"Mock static java methods using Mockk","body":"<p>Additionally to the accepted answer:</p>\n<p>You can't create an <code>Uri</code> like that, you gonna have to mock the Uri instance as well. Something like:</p>\n<pre><code>private val mockUri = mockk&lt;Uri&gt;()\n\n@Before\nfun mockAllUriInteractions() {\n    mockkStatic(Uri::class)\n    every { Uri.parse(&quot;http://test/path&quot;) } returns mockUri\n    // or just every { Uri.parse(&quot;http://test/path&quot;) } returns mockk&lt;Uri&gt;()\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":343133,"reputation":671,"user_id":674648,"display_name":"Delblanco"},"score":1,"creation_date":1638831027,"post_id":66479439,"comment_id":124188071,"body_markdown":"This should be added to the accepted answer. Just found the source of our flaky tests after searching for 8 hours! Thanks Tomas!","body":"This should be added to the accepted answer. Just found the source of our flaky tests after searching for 8 hours! Thanks Tomas!"}],"tags":[],"owner":{"account_id":20871286,"reputation":251,"user_id":15331185,"display_name":"Tomas Rohovsky"},"comment_count":1,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1614947453,"creation_date":1614876553,"answer_id":66479439,"question_id":49762409,"body_markdown":"# Beware\r\n\r\nIf you call `mockkSatic()` without a block, do not forget to call `unmockkStatic()` after the mocked method is called. The method is not unmocked automatically and you will still get the mocked value even in different test classes which do not call `mockkStatic()`, but use the static method.\r\n\r\nAnother option is to execute the mocked method inside a block, then it will be automatically unmocked:\r\n```\r\nmockkStatic(Uri::class) {\r\n    every { Uri.parse(&quot;http://test/path&quot;) } returns Uri(&quot;http&quot;, &quot;test&quot;, &quot;path&quot;)\r\n    val uri = Uri.parse(&quot;http://test/path&quot;)\r\n}\r\n\r\n```","title":"Mock static java methods using Mockk","body":"<h1>Beware</h1>\n<p>If you call <code>mockkSatic()</code> without a block, do not forget to call <code>unmockkStatic()</code> after the mocked method is called. The method is not unmocked automatically and you will still get the mocked value even in different test classes which do not call <code>mockkStatic()</code>, but use the static method.</p>\n<p>Another option is to execute the mocked method inside a block, then it will be automatically unmocked:</p>\n<pre><code>mockkStatic(Uri::class) {\n    every { Uri.parse(&quot;http://test/path&quot;) } returns Uri(&quot;http&quot;, &quot;test&quot;, &quot;path&quot;)\n    val uri = Uri.parse(&quot;http://test/path&quot;)\n}\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3003196,"reputation":2718,"user_id":2548270,"accept_rate":75,"display_name":"Michael Czolko"},"score":1,"creation_date":1654703546,"post_id":70599227,"comment_id":128156293,"body_markdown":"we need to unmock! resolved answer is not right","body":"we need to unmock! resolved answer is not right"}],"tags":[],"owner":{"account_id":7610951,"reputation":257,"user_id":5771796,"display_name":"neronovs"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1641414550,"creation_date":1641414550,"answer_id":70599227,"question_id":49762409,"body_markdown":"If we are going to mock static, like: *mockkStatic(Klass::class)*\r\n\r\nthen we definitely have to unmock it, like: *unmockkStatic(Klass::class)*\r\n\r\nI would suggest to unmock it in the method annotated @After.\r\n\r\nA full example would be:\r\n\r\n    class SomeTest {\r\n      private late var viewMode: SomeViewModel\r\n\r\n      @Before\r\n      fun setUp() {\r\n        viewMode = SomeViewModel()\r\n        mockkStatic(OurClassWithStaticMethods::class)       \r\n      }\r\n\r\n      @After\r\n      fun tearDown() {\r\n        unmockkStatic(OurClassWithStaticMethods::class)\r\n      }\r\n\r\n      @Test\r\n      fun `Check that static method get() in the class OurClassWithStaticMethods was called`() {\r\n        //Given\r\n        every { OurClassWithStaticMethods.get&lt;Any&gt;(any()) } returns &quot;dummyString&quot;\r\n\r\n        //When\r\n        viewModel.doSomethingWhereStaticMethodIsCalled()\r\n\r\n        //Then\r\n        verify(exactly = 1) { \r\n           OurClassWithStaticMethods.get&lt;Any&gt;(any()) \r\n        }\r\n      }\r\n    }\r\n\r\nThis example is written with the mocking library &quot;[Mockk][1]&quot; v.1.12.0\r\n\r\n\r\n  [1]: https://mockk.io/","title":"Mock static java methods using Mockk","body":"<p>If we are going to mock static, like: <em>mockkStatic(Klass::class)</em></p>\n<p>then we definitely have to unmock it, like: <em>unmockkStatic(Klass::class)</em></p>\n<p>I would suggest to unmock it in the method annotated @After.</p>\n<p>A full example would be:</p>\n<pre><code>class SomeTest {\n  private late var viewMode: SomeViewModel\n\n  @Before\n  fun setUp() {\n    viewMode = SomeViewModel()\n    mockkStatic(OurClassWithStaticMethods::class)       \n  }\n\n  @After\n  fun tearDown() {\n    unmockkStatic(OurClassWithStaticMethods::class)\n  }\n\n  @Test\n  fun `Check that static method get() in the class OurClassWithStaticMethods was called`() {\n    //Given\n    every { OurClassWithStaticMethods.get&lt;Any&gt;(any()) } returns &quot;dummyString&quot;\n\n    //When\n    viewModel.doSomethingWhereStaticMethodIsCalled()\n\n    //Then\n    verify(exactly = 1) { \n       OurClassWithStaticMethods.get&lt;Any&gt;(any()) \n    }\n  }\n}\n</code></pre>\n<p>This example is written with the mocking library &quot;<a href=\"https://mockk.io/\" rel=\"nofollow noreferrer\">Mockk</a>&quot; v.1.12.0</p>\n"},{"tags":[],"owner":{"account_id":5742110,"reputation":807,"user_id":4534493,"display_name":"Naren"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659569270,"creation_date":1659569270,"answer_id":73228853,"question_id":49762409,"body_markdown":"As mentioned in multiple answers above, you&#39;ll have to ensure to invoke the unmockkStatic - otherwise you&#39;ll end up with flaky tests (since the mocked object/function will be available across test classes. \r\n\r\nIn my scenario - I had a module-wide extension function in kotlin and to mock that I used a companion object like below:\r\n\r\n    class SampleTest {\r\n\r\n    companion object {\r\n        @BeforeAll\r\n        @JvmStatic\r\n        fun setup() {\r\n            mockkStatic(&quot;packagename.filenameKt&quot;)\r\n        }\r\n\r\n        @AfterAll\r\n        @JvmStatic\r\n        fun teardown() {\r\n            unmockkStatic(&quot;packagename.filenameKt&quot;)\r\n        }\r\n    }}\r\n\r\n","title":"Mock static java methods using Mockk","body":"<p>As mentioned in multiple answers above, you'll have to ensure to invoke the unmockkStatic - otherwise you'll end up with flaky tests (since the mocked object/function will be available across test classes.</p>\n<p>In my scenario - I had a module-wide extension function in kotlin and to mock that I used a companion object like below:</p>\n<pre><code>class SampleTest {\n\ncompanion object {\n    @BeforeAll\n    @JvmStatic\n    fun setup() {\n        mockkStatic(&quot;packagename.filenameKt&quot;)\n    }\n\n    @AfterAll\n    @JvmStatic\n    fun teardown() {\n        unmockkStatic(&quot;packagename.filenameKt&quot;)\n    }\n}}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6804310,"reputation":21,"user_id":5236615,"display_name":"Rishabh Arora"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684762932,"creation_date":1684759125,"answer_id":76306289,"question_id":49762409,"body_markdown":"\r\n\r\n    // Add @RunWith(RobolectricTestRunner::class) on top of \r\n    // your class since it provides access to Android framework APIs.\r\n    \r\n    // Test case written inside the `mockkStatic` method to \r\n    // verify the behavior of a method that involves a static method call in Kotlin\r\n            \r\n                @Test\r\n                fun `my test case`() = runBlocking {\r\n                    // Mocking the Log class\r\n                    mockkStatic(Log::class) {\r\n                        // Test case to verify the behavior of a method \r\n                        // that involves a log method call\r\n                    }\r\n                }\r\n\r\n\r\n\r\n\r\n    // OR just use `mockkObject(Log)` without any block ","title":"Mock static java methods using Mockk","body":"<pre><code>// Add @RunWith(RobolectricTestRunner::class) on top of \n// your class since it provides access to Android framework APIs.\n\n// Test case written inside the `mockkStatic` method to \n// verify the behavior of a method that involves a static method call in Kotlin\n        \n            @Test\n            fun `my test case`() = runBlocking {\n                // Mocking the Log class\n                mockkStatic(Log::class) {\n                    // Test case to verify the behavior of a method \n                    // that involves a log method call\n                }\n            }\n\n\n\n\n// OR just use `mockkObject(Log)` without any block \n</code></pre>\n"}],"owner":{"account_id":943783,"reputation":1571,"user_id":971436,"accept_rate":33,"display_name":"Andrzej Sawoniewicz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68255,"favorite_count":0,"down_vote_count":0,"up_vote_count":57,"accepted_answer_id":49819729,"answer_count":7,"score":57,"last_activity_date":1684762932,"creation_date":1523392294,"question_id":49762409,"body_markdown":"We are currently working with java with kotlin project, slowly migrating the whole code to the latter.\r\n\r\nIs it possible to mock static methods like `Uri.parse()` using Mockk?\r\n\r\nHow would the sample code look like?","title":"Mock static java methods using Mockk","body":"<p>We are currently working with java with kotlin project, slowly migrating the whole code to the latter.</p>\n\n<p>Is it possible to mock static methods like <code>Uri.parse()</code> using Mockk?</p>\n\n<p>How would the sample code look like?</p>\n"},{"tags":["java","apache-kafka","microservices","scheduler"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1684751081,"post_id":76305115,"comment_id":134557563,"body_markdown":"Another way would be to define a REST endpoint for communication between the two microservices.","body":"Another way would be to define a REST endpoint for communication between the two microservices."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1684762243,"post_id":76305115,"comment_id":134559869,"body_markdown":"@Mar-Z Why REST over gRPC? Or what&#39;s what with using a message queue/broker, as already being done?","body":"@Mar-Z Why REST over gRPC? Or what&#39;s what with using a message queue/broker, as already being done?"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1684769184,"post_id":76305115,"comment_id":134561538,"body_markdown":"@OneCricketeer REST with Spring Boot MVC would be just another solution. OP asked for &quot;more ideas&quot;.","body":"@OneCricketeer REST with Spring Boot MVC would be just another solution. OP asked for &quot;more ideas&quot;."}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684751183,"creation_date":1684751183,"answer_id":76305236,"question_id":76305115,"body_markdown":"Your idea is good. I assume that you create an event upon when all items are consumed and send it through some queue (or Kafka topic) where your service listens. I think this is very good and sound solution &lt;br&gt;\r\nHowever, I am not sure what type of other ideas you are looking for. \r\n\r\n 1. One option would be to use [Quartz enterprise Job scheduler][1]\r\n 2. The other one is similar to Cron scheduler that Spring provides, but it is more humanly readable compare to corn expression. It comes with Open Source MgntUtils library written and maintained by me. Here is [Javadoc page][2] that describes the idea. The library can be obtained as a [maven artifact][3], or on [GitHub][4], with source code and Javadoc. Also source code includes working runnable out of the box example on how to use it. (See class `com.mgnt.lifecycle.management.backgroundrunner.example.BackgroundRunnerUsageExample`)\r\n\r\n\r\n  [1]: http://www.quartz-scheduler.org/\r\n  [2]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/lifecycle/management/backgroundrunner/package-summary.html\r\n  [3]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\r\n  [4]: https://github.com/michaelgantman/Mgnt/releases","title":"Possible alternative to cron job based schedulers","body":"<p>Your idea is good. I assume that you create an event upon when all items are consumed and send it through some queue (or Kafka topic) where your service listens. I think this is very good and sound solution <br>\nHowever, I am not sure what type of other ideas you are looking for.</p>\n<ol>\n<li>One option would be to use <a href=\"http://www.quartz-scheduler.org/\" rel=\"nofollow noreferrer\">Quartz enterprise Job scheduler</a></li>\n<li>The other one is similar to Cron scheduler that Spring provides, but it is more humanly readable compare to corn expression. It comes with Open Source MgntUtils library written and maintained by me. Here is <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/lifecycle/management/backgroundrunner/package-summary.html\" rel=\"nofollow noreferrer\">Javadoc page</a> that describes the idea. The library can be obtained as a <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">maven artifact</a>, or on <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">GitHub</a>, with source code and Javadoc. Also source code includes working runnable out of the box example on how to use it. (See class <code>com.mgnt.lifecycle.management.backgroundrunner.example.BackgroundRunnerUsageExample</code>)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684762470,"creation_date":1684762470,"answer_id":76306754,"question_id":76305115,"body_markdown":"You could try creating a KTable in Kafka Streams API and implement a Punctuator that&#39;ll iterate the table and process all events it has seen ","title":"Possible alternative to cron job based schedulers","body":"<p>You could try creating a KTable in Kafka Streams API and implement a Punctuator that'll iterate the table and process all events it has seen</p>\n"},{"tags":[],"owner":{"account_id":83131,"reputation":8752,"user_id":233286,"accept_rate":73,"display_name":"ilhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684762781,"creation_date":1684762781,"answer_id":76306797,"question_id":76305115,"body_markdown":"What about `org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler`?\r\n\r\n    Runnable task = createRunnable(s2);\r\n    ThreadPoolTaskScheduler scheduler = new ThreadPoolTaskScheduler();\r\n    scheduler.initialize();\r\n    scheduler.setPoolSize(2);\r\n    scheduler.schedule(task, date);","title":"Possible alternative to cron job based schedulers","body":"<p>What about <code>org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler</code>?</p>\n<pre><code>Runnable task = createRunnable(s2);\nThreadPoolTaskScheduler scheduler = new ThreadPoolTaskScheduler();\nscheduler.initialize();\nscheduler.setPoolSize(2);\nscheduler.schedule(task, date);\n</code></pre>\n"}],"owner":{"account_id":5138913,"reputation":83,"user_id":4116874,"accept_rate":89,"display_name":"TweaknFreak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1684762781,"creation_date":1684750273,"question_id":76305115,"body_markdown":"We are processing data sets(aka item) from database in multiple Java micro services. We get a task which has all these items. Our services process these items as kafka event. One item is one event between services. \r\n\r\nEach service performs a said logic on the items. In one particular service, the logic is waiting for all items to get consumed and then trigger a business logic through a cron job based scheduler. \r\n\r\nHow can I remove this scheduler and maybe implement something more async in place?\r\n\r\nI came up with the approach of creating a producer that creates an event signifying the consumption of all items for a task so that the logic can follow. Any more ideas?","title":"Possible alternative to cron job based schedulers","body":"<p>We are processing data sets(aka item) from database in multiple Java micro services. We get a task which has all these items. Our services process these items as kafka event. One item is one event between services.</p>\n<p>Each service performs a said logic on the items. In one particular service, the logic is waiting for all items to get consumed and then trigger a business logic through a cron job based scheduler.</p>\n<p>How can I remove this scheduler and maybe implement something more async in place?</p>\n<p>I came up with the approach of creating a producer that creates an event signifying the consumption of all items for a task so that the logic can follow. Any more ideas?</p>\n"},{"tags":["java","nodes"],"answers":[{"comments":[{"owner":{"account_id":11166381,"reputation":1,"user_id":8194951,"display_name":"Finga licking"},"score":0,"creation_date":1498188485,"post_id":44711644,"comment_id":76407628,"body_markdown":"Thanks for the answer! I think I got it. `first` will change if anything referencing it is modified; otherwise, I would have to update it for the changes to occur.","body":"Thanks for the answer! I think I got it. <code>first</code> will change if anything referencing it is modified; otherwise, I would have to update it for the changes to occur."}],"tags":[],"owner":{"account_id":8397558,"reputation":4568,"user_id":6304094,"display_name":"Kevin Anderson"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498180839,"creation_date":1498180839,"answer_id":44711644,"question_id":44710819,"body_markdown":"\r\n&gt;  does this mean that whenever I call curr.next the previous elements are just lost?\r\n\r\nAs you traversed down the list, you never modified `first` and you never modified the `next` link of any `Node`.  So no node is ever really lost.  Previously visited nodes just become a bit less convenient to access because you don&#39;t have a &quot;handle&quot; on them, but you could always find them again by starting back at the head of the list (`first`) and following the `next` links.\r\n\r\n&gt; I was also wondering if first, my original list, will ever be affected by a temporary node list like curr? \r\n\r\nThe variable `first` will never be affected by anything other than an assignment statement having `first` on the left-hand side of the `=`.  On the other hand, the list to which `first` refers might change quite dramatically or be completely unaffected, depending on what you are using `curr` for, but `first` itself can only be affected by assigning a new value to `first`.\r\n\r\n&gt; Would the above code modify first or would I have to set first = curr;\r\n\r\nThe insert and delete code, as given, never modifies `first`. But it _should_, if it is going to be able to handle inserting a new node before the current first node, or deleting the current first node.  Maybe not with `first = curr` specifically, but `first` will definitely need to be updated to reflect a new head of the list.  I leave that, as the textbooks say, &quot;as a exercise for the reader&quot;.\r\n","title":"Questions about traversing, inserting, and deleting nodes","body":"<blockquote>\n  <p>does this mean that whenever I call curr.next the previous elements are just lost?</p>\n</blockquote>\n\n<p>As you traversed down the list, you never modified <code>first</code> and you never modified the <code>next</code> link of any <code>Node</code>.  So no node is ever really lost.  Previously visited nodes just become a bit less convenient to access because you don't have a \"handle\" on them, but you could always find them again by starting back at the head of the list (<code>first</code>) and following the <code>next</code> links.</p>\n\n<blockquote>\n  <p>I was also wondering if first, my original list, will ever be affected by a temporary node list like curr? </p>\n</blockquote>\n\n<p>The variable <code>first</code> will never be affected by anything other than an assignment statement having <code>first</code> on the left-hand side of the <code>=</code>.  On the other hand, the list to which <code>first</code> refers might change quite dramatically or be completely unaffected, depending on what you are using <code>curr</code> for, but <code>first</code> itself can only be affected by assigning a new value to <code>first</code>.</p>\n\n<blockquote>\n  <p>Would the above code modify first or would I have to set first = curr;</p>\n</blockquote>\n\n<p>The insert and delete code, as given, never modifies <code>first</code>. But it <em>should</em>, if it is going to be able to handle inserting a new node before the current first node, or deleting the current first node.  Maybe not with <code>first = curr</code> specifically, but <code>first</code> will definitely need to be updated to reflect a new head of the list.  I leave that, as the textbooks say, \"as a exercise for the reader\".</p>\n"}],"owner":{"account_id":11166381,"reputation":1,"user_id":8194951,"display_name":"Finga licking"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684762655,"creation_date":1498173922,"question_id":44710819,"body_markdown":"Just started learning nodes and I have a few questions. Let&#39;s say I have a node class that looks like this:\r\n\r\n        private E number;\r\n        private Node next;\r\n        /**\r\n         *  Constructor\r\n         */\r\n        Node(E e){\r\n           number = e;\r\n           next = null;\r\n        }\r\n\r\nand I have a series of linked nodes with the starting node named first like so:\r\n\r\nfirst-&gt;(1)-&gt;(2)-&gt;(3)-&gt;(5)-&gt;(6)\r\n\r\nAssuming the list is not empty, to traverse the list, I would do something like so:\r\n\r\n    Node curr = first;\r\n    while(curr != null){\r\n        System.out.print(curr);\r\n        curr = curr.next;\r\n    }\r\n\r\nI understand that you cannot traverse a link list like this backwards, so does this mean that whenever I call curr.next the previous elements are just lost? \r\n\r\nI was also wondering if first, my original list, will ever be affected by a temporary node list like curr? For example, if I was to insert or delete a node on the list with codes similar to these: \r\n\r\nInsert:\r\n\r\n    Node curr = first;\r\n    Node newNode = new Node(4);\r\n    while(curr != null){\r\n        if(curr.number == 3){\r\n            newNode.next = curr.next;\r\n            curr.next = newNode;\r\n        }\r\n        curr = curr.next;\r\n    }\r\n\r\nDelete:\r\n\r\n    Node curr = first;\r\n    Node parent = first;\r\n    while(curr != null){\r\n        if(curr.number == 3){\r\n            parent.next = curr.next;\r\n        }\r\n        parent = curr;\r\n        curr = curr.next;\r\n    }\r\n\r\n\r\n\r\nWould the above code modify first or would I have to set `first = curr;` after the insertion or deletion for the changes take place? If they do modify first, how come `curr = curr.next;` doesn&#39;t modify first? What if I wanted to return the deleted node? Would I just do something like `curr.next = null;` and then `return curr;`?","title":"Questions about traversing, inserting, and deleting nodes","body":"<p>Just started learning nodes and I have a few questions. Let's say I have a node class that looks like this:</p>\n\n<pre><code>    private E number;\n    private Node next;\n    /**\n     *  Constructor\n     */\n    Node(E e){\n       number = e;\n       next = null;\n    }\n</code></pre>\n\n<p>and I have a series of linked nodes with the starting node named first like so:</p>\n\n<p>first->(1)->(2)->(3)->(5)->(6)</p>\n\n<p>Assuming the list is not empty, to traverse the list, I would do something like so:</p>\n\n<pre><code>Node curr = first;\nwhile(curr != null){\n    System.out.print(curr);\n    curr = curr.next;\n}\n</code></pre>\n\n<p>I understand that you cannot traverse a link list like this backwards, so does this mean that whenever I call curr.next the previous elements are just lost? </p>\n\n<p>I was also wondering if first, my original list, will ever be affected by a temporary node list like curr? For example, if I was to insert or delete a node on the list with codes similar to these: </p>\n\n<p>Insert:</p>\n\n<pre><code>Node curr = first;\nNode newNode = new Node(4);\nwhile(curr != null){\n    if(curr.number == 3){\n        newNode.next = curr.next;\n        curr.next = newNode;\n    }\n    curr = curr.next;\n}\n</code></pre>\n\n<p>Delete:</p>\n\n<pre><code>Node curr = first;\nNode parent = first;\nwhile(curr != null){\n    if(curr.number == 3){\n        parent.next = curr.next;\n    }\n    parent = curr;\n    curr = curr.next;\n}\n</code></pre>\n\n<p>Would the above code modify first or would I have to set <code>first = curr;</code> after the insertion or deletion for the changes take place? If they do modify first, how come <code>curr = curr.next;</code> doesn't modify first? What if I wanted to return the deleted node? Would I just do something like <code>curr.next = null;</code> and then <code>return curr;</code>?</p>\n"},{"tags":["java","spring","spring-integration"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684762629,"creation_date":1684762629,"answer_id":76306775,"question_id":76303659,"body_markdown":"What you are describing works as expected when you have only one instance of such a polling channel adapter. That `fixed-delay` option is exactly about starting a new task after that time when the previous is done. If you don&#39;t an executor on the poller, then your service activator is called from the scheduled thread and it is blocked until your process is done. \r\n\r\nIf you say that you have &quot;10 poller and same service activators&quot;, then it is really expected and natural that you got 10 parallel scheduled tasks against the same source of data.\r\n\r\nThere are several ways to mitigate your problem:\r\n\r\n1. Use DB-specific queries to avoid those records which are locked already in other process. For example, in Oracle there is something like `FOR UPDATE SKIP LOCKED` in the `SELECT` syntax. Other DB vendors may provide something similar.\r\n\r\n2. Always have only one instance of this poller: https://docs.spring.io/spring-integration/docs/current/reference/html/messaging-endpoints.html#leadership-event-handling\r\n\r\n3. You may also play with retry or distributes lock: https://docs.spring.io/spring-integration/docs/current/reference/html/jdbc.html#jdbc-lock-registry","title":"How to write a poller in spring integration within inbound channel adapter which run synchronously","body":"<p>What you are describing works as expected when you have only one instance of such a polling channel adapter. That <code>fixed-delay</code> option is exactly about starting a new task after that time when the previous is done. If you don't an executor on the poller, then your service activator is called from the scheduled thread and it is blocked until your process is done.</p>\n<p>If you say that you have &quot;10 poller and same service activators&quot;, then it is really expected and natural that you got 10 parallel scheduled tasks against the same source of data.</p>\n<p>There are several ways to mitigate your problem:</p>\n<ol>\n<li><p>Use DB-specific queries to avoid those records which are locked already in other process. For example, in Oracle there is something like <code>FOR UPDATE SKIP LOCKED</code> in the <code>SELECT</code> syntax. Other DB vendors may provide something similar.</p>\n</li>\n<li><p>Always have only one instance of this poller: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/messaging-endpoints.html#leadership-event-handling\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/messaging-endpoints.html#leadership-event-handling</a></p>\n</li>\n<li><p>You may also play with retry or distributes lock: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/jdbc.html#jdbc-lock-registry\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/jdbc.html#jdbc-lock-registry</a></p>\n</li>\n</ol>\n"}],"owner":{"account_id":40719,"reputation":22676,"user_id":118061,"accept_rate":73,"display_name":"maxjackie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684762629,"creation_date":1684738572,"question_id":76303659,"body_markdown":"spring integration within inbound channel adapter which run synchronously means second Iteration should run once it completes the first Iteration\r\n\r\n    &lt;int-jpa:inbound-channel-adapter \r\n\t\tid=&quot;ProcessingG1&quot; entity-manager=&quot;entityManager&quot;\r\n\t\texpect-single-result=&quot;false&quot;  \r\n\t\tnative-query=&quot;SELECT * FROM table1 FETCH FIRST 30 ROWS ONLY&quot;\r\n\t\tentity-class=&quot;org.entities.Table1&quot;\r\n\t\t&gt;\r\n\t\t&lt;int:poller fixed-delay=&quot;5000&quot;&gt;\r\n\t\t\t&lt;int:transactional /&gt;\r\n\t\t&lt;/int:poller&gt;\r\n\t&lt;/int-jpa:inbound-channel-adapter&gt;\r\n\r\n    &lt;int:service-activator input-channel=&quot;ProcessingG1&quot; ref=&quot;ProcessingG1&quot; /&gt;\r\n\r\nhere the poller is running every 5 seconds and giving the messages to service activator to process, till the service activator processes the messages it should not take next batch\r\n\r\nthere are 10 poller and same service activators for it I am facing the DB lock issue due to this scenario.\r\n\r\nI feel that if iterations were synchronous then it wont create the DB lock as service activator as also trying to update the same table ","title":"How to write a poller in spring integration within inbound channel adapter which run synchronously","body":"<p>spring integration within inbound channel adapter which run synchronously means second Iteration should run once it completes the first Iteration</p>\n<pre><code>&lt;int-jpa:inbound-channel-adapter \n    id=&quot;ProcessingG1&quot; entity-manager=&quot;entityManager&quot;\n    expect-single-result=&quot;false&quot;  \n    native-query=&quot;SELECT * FROM table1 FETCH FIRST 30 ROWS ONLY&quot;\n    entity-class=&quot;org.entities.Table1&quot;\n    &gt;\n    &lt;int:poller fixed-delay=&quot;5000&quot;&gt;\n        &lt;int:transactional /&gt;\n    &lt;/int:poller&gt;\n&lt;/int-jpa:inbound-channel-adapter&gt;\n\n&lt;int:service-activator input-channel=&quot;ProcessingG1&quot; ref=&quot;ProcessingG1&quot; /&gt;\n</code></pre>\n<p>here the poller is running every 5 seconds and giving the messages to service activator to process, till the service activator processes the messages it should not take next batch</p>\n<p>there are 10 poller and same service activators for it I am facing the DB lock issue due to this scenario.</p>\n<p>I feel that if iterations were synchronous then it wont create the DB lock as service activator as also trying to update the same table</p>\n"},{"tags":["java","inheritance","automation","testng","dataprovider"],"answers":[{"comments":[{"owner":{"account_id":20638624,"reputation":15,"user_id":15151782,"display_name":"Ivo Sorokins"},"score":0,"creation_date":1684758927,"post_id":76305439,"comment_id":134559137,"body_markdown":"You are right! DataProvider In TestNG can be used in different classes, as it was in my case. So when using Inherited DataProvider In TestNG I had to use ```dataProviderClass```!","body":"You are right! DataProvider In TestNG can be used in different classes, as it was in my case. So when using Inherited DataProvider In TestNG I had to use <code>dataProviderClass</code>!"}],"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684752791,"creation_date":1684752791,"answer_id":76305439,"question_id":76301258,"body_markdown":"You have data provider defined in different class. So you should also specify that class as a parameter to `@Test` annotation along with data provider name. Like this:\r\n\r\n```java\r\n@Test(description = &quot;User is not able to register Account with invalid Email&quot;, \r\n        groups ={&quot;Account Registration&quot;, &quot;TC5&quot;},\r\n        dataProvider = &quot;invalid-email&quot;,\r\n        dataProviderClass = your.package.Data.class, // &lt;-- put your Data class here \r\n        enabled = true)\r\n```\r\n","title":"Method requires a @DataProvider, even when @DataProvider for @Test method is provided","body":"<p>You have data provider defined in different class. So you should also specify that class as a parameter to <code>@Test</code> annotation along with data provider name. Like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test(description = &quot;User is not able to register Account with invalid Email&quot;, \n        groups ={&quot;Account Registration&quot;, &quot;TC5&quot;},\n        dataProvider = &quot;invalid-email&quot;,\n        dataProviderClass = your.package.Data.class, // &lt;-- put your Data class here \n        enabled = true)\n</code></pre>\n"}],"owner":{"account_id":20638624,"reputation":15,"user_id":15151782,"display_name":"Ivo Sorokins"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684762435,"creation_date":1684692212,"question_id":76301258,"body_markdown":"After adding multiple **```@DataProviders```** for package ```dataobject``` class ```UserData``` , then renaming class to ```Data```, using newly added **```@DataProviders```** called ```invalid-email``` for testing multiple invalid inputs, results in error : ```Method public void Tasks.accountRegistration_5() requires a @DataProvider named : invalid-email```. **What could cause the error?**\r\nIt&#39;s allowed to use multiple ```@DataProviders``` in same class.\r\n\r\n\r\n\r\nHere is code:\r\n\r\n**Tasks:**\r\n\r\n*Take a look at Test scenario 5!*\r\n\r\n\r\n\r\n```import installations.APKInstallation;\r\nimport installations.AppDeletion;\r\nimport utils.ColorFormatter;\r\nimport utils.tempUser;\r\nimport io.appium.java_client.android.AndroidDriver;\r\nimport org.openqa.selenium.remote.DesiredCapabilities;\r\nimport org.testng.Assert;\r\nimport org.testng.Reporter;\r\nimport org.testng.annotations.*;\r\nimport screens.*;\r\nimport utils.TestProperties;\r\nimport java.lang.*;\r\nimport java.io.IOException;\r\nimport java.net.URL;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\nimport dataobjects.Password;\r\nimport dataobjects.User;\r\n\r\nimport static dataobjects.Email.getEmail;\r\nimport static dataobjects.Email.getErrorMessage;\r\n\r\n\r\npublic class Tasks {\r\n\r\n    private void printTestResult(int testCaseNumber) {\r\n        ColorFormatter.colorize(&quot;Test &quot; + testCaseNumber + &quot; Passed!&quot;,ColorFormatter.boldGreenColor);\r\n    }\r\n\r\n    private AppDeletion appDeletion = new AppDeletion();\r\n    private APKInstallation apkInstallation = new APKInstallation();\r\n    private AndroidDriver driver;\r\n\r\n    public WelcomeScreen welcomeScreen;\r\n    public SignUpScreen signUpScreen;\r\n\r\n    public ConfirmRegistration confirmRegistration;\r\n\r\n    public AddToCart addToCart;\r\n\r\n    public LogOutAfterSignUp logOutAfterSignUp;\r\n\r\n    public InvalidCredentialsScreen invalidCredentialsScreen;\r\n\r\n    public NotificationScreen notificationScreen;\r\n    public int testCaseNumber;\r\n\r\n    public String tempEmail= tempUser.unTempEmail; //For creating manual account\r\n\r\n    public String tempPassword=tempUser.unTempPassword;//For creating manual account\r\n\r\n\r\n\r\n    @BeforeMethod(description=&quot;Starts each session&quot;,groups=(&quot;StartUp&quot;),alwaysRun = true)\r\n    public void setUp() throws IOException, InterruptedException {\r\n        // Close System.err to prevent any error messages from being printed to the console\r\n        System.err.close();\r\n\r\n        // Set System.err to the default output stream to allow any error messages to be printed to the console again\r\n        System.setErr(System.out);\r\n\r\n\r\n        // Installs application\r\n        apkInstallation.installAPK();\r\n\r\n        // Set the desired capabilities for the test\r\n        DesiredCapabilities desiredCapabilities = TestProperties.setDesiredCapabilities();\r\n        desiredCapabilities.setCapability(&quot;appium:udid&quot;, &quot;emulator-5554&quot;);\r\n\r\n        // Set the remote URL for Appium\r\n        URL remoteUrl = new URL(TestProperties.getProperty(&quot;appiumURL&quot;));\r\n\r\n        // Create a new AndroidDriver instance with the desired capabilities and remote URL\r\n        driver = new AndroidDriver(remoteUrl, desiredCapabilities);\r\n\r\n        // Set the implicit wait timeout to 15 seconds\r\n        driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);\r\n\r\n        // Initialize the page objects for the different screens of the app\r\n        welcomeScreen = new WelcomeScreen(driver);\r\n        signUpScreen = new SignUpScreen(driver);\r\n        confirmRegistration = new ConfirmRegistration(driver);\r\n        addToCart = new AddToCart(driver);\r\n        logOutAfterSignUp = new LogOutAfterSignUp(driver);\r\n        invalidCredentialsScreen = new InvalidCredentialsScreen(driver);\r\n        notificationScreen = new NotificationScreen(driver);\r\n\r\n        // Reset the app to the initial state before each test\r\n        driver.resetApp();\r\n\r\n    }\r\n\r\n\r\n\r\n    @Test(description = &quot;User installs app from the APK file&quot;, groups = {&quot;App Download&quot;,&quot;TC1&quot;}, enabled = true)// Done\r\n    public void appDownload_1(){\r\n        testCaseNumber = 1;\r\n        apkInstallation.testAppDownload(testCaseNumber);\r\n\r\n        printTestResult(testCaseNumber);\r\n\r\n\r\n    }\r\n\r\n\r\n    @Test(description = &quot;App works correctly after installation&quot;, groups = {&quot;App Download&quot;,&quot;TC2&quot;}, enabled = true)// Done\r\n    public void appDownload_2(){\r\n        testCaseNumber = 2;\r\n\r\n        notificationScreen.validatedNotificationButton(testCaseNumber);\r\n        notificationScreen.clickNotificationButton(testCaseNumber);\r\n        //Clicks on button after verification is successful (true)\r\n\r\n        //Verify application functioning by clicking button after launch\r\n        printTestResult(testCaseNumber);\r\n    }\r\n\r\n    @Test(description = &quot;App can be uninstalled from the device&quot;, groups = {&quot;App Uninstallation&quot;,&quot;TC3&quot;}, enabled = true) //Done\r\n    public void appUninstallation_3() throws IOException, InterruptedException {\r\n        testCaseNumber = 3;\r\n\r\n        appDeletion.isPackageInstalled(testCaseNumber);\r\n        appDeletion.uninstallation(testCaseNumber); // Return results of app deletion\r\n\r\n\r\n        printTestResult(testCaseNumber);\r\n    }\r\n    @Test(description = &quot;User navigates to Registration page&quot;, groups = {&quot;Account Registration&quot;, &quot;TC4&quot;}, enabled = true)\r\n    public void accountRegistration_4(){\r\n        testCaseNumber = 4;\r\n\r\n        notificationScreen.validatedNotificationButton(testCaseNumber);\r\n        notificationScreen.clickNotificationButton(testCaseNumber);\r\n\r\n\r\n        welcomeScreen.clickSignUp(testCaseNumber);\r\n\r\n        //Confirm user is navigated to Sign Up page\r\n        signUpScreen.verifySignUpScreen(testCaseNumber);\r\n\r\n\r\n        printTestResult(testCaseNumber);\r\n    }\r\n\r\n    @Test(description = &quot;User is not able to register Account with invalid Email&quot;, groups ={&quot;Account Registration&quot;, &quot;TC5&quot;},dataProvider = &quot;invalid-email&quot;,enabled = true)\r\n    public void accountRegistration_5(){\r\n        testCaseNumber = 5;\r\n\r\n        notificationScreen.validatedNotificationButton(testCaseNumber);\r\n        notificationScreen.clickNotificationButton(testCaseNumber);\r\n\r\n        welcomeScreen.clickSignUp(testCaseNumber);\r\n\r\n        signUpScreen.AcceptTerms(testCaseNumber);\r\n\r\n        signUpScreen.fillInvalidEmail(getEmail(), getErrorMessage(), testCaseNumber);\r\n        signUpScreen.clickCreateAccount(testCaseNumber);\r\n\r\n\r\n    }\r\n\r\n    @AfterMethod(description=&quot;Runs after each test&quot;,groups=(&quot;CleanUp&quot;),alwaysRun = true)\r\n    public void lastCleanUp() {\r\n        driver.quit();}\r\n}\r\n```\r\n\r\n**FillInvalidEmail:**\r\n\r\n```public static void fillInvalidEmail(String email,String errorMessage,int testCaseNumber) {\r\n            try {\r\n\r\n                Email.sendKeys(email);\r\n                ColorFormatter.colorize(errorMessage, ColorFormatter.orangeColor);\r\n\r\n            } catch (TestFailureException e) {\r\n\r\n                throw new TestFailureException(testCaseNumber);\r\n            }\r\n            ColorFormatter.colorize(&quot;\\nPassed!&quot;, ColorFormatter.greenColor);\r\n        }\r\n```\r\n*Email is MobileElement*\r\n\r\n**Data:**\r\n\r\n```package dataobjects;\r\n\r\nimport org.testng.annotations.DataProvider;\r\n\r\n/**\r\n * A class that provides test data for Registration tests.\r\n */\r\npublic class Data {\r\n\r\n\r\n    @DataProvider(name = &quot;login-credentials&quot;)\r\n    public static Object[][] createUserData() {\r\n        return new Object[][]{\r\n                {new User(&quot;tiweti1200@otanhome.com&quot;, &quot;Tiweti1200!&quot;, &quot;Unregistered User&quot;)},\r\n                {new User(&quot;wqji321@gqwasd.com&quot;, &quot;Warase3459!&quot;, &quot;Unverified User&quot;)},\r\n                {new User(&quot;xoheto3034@ngopy.com&quot;, &quot;qwekwei1932!&quot;, &quot;Incorrect Password&quot;)}\r\n        };\r\n    }\r\n\r\n    @DataProvider(name = &quot;invalid-password&quot;)\r\n    public static Object[][] createInvalidPassword() {\r\n        return new Object[][]{\r\n                {new Password(&quot;abcd&quot;)},//Less than 8 characters, no upper case letters, no digits, no special characters\r\n                {new Password(&quot;QWERT&quot;)},//Less than 8 characters, no lower case letters, no digits, no special characters\r\n                {new Password(&quot;qwertyui&quot;)},//No upper case letters, no digits, no special characters\r\n                {new Password(&quot;ASDFGHJK&quot;)},//No lower case letters, no digits, no special characters\r\n                {new Password(&quot;qwerty123&quot;)},///No upper case letters,no special characters\r\n                {new Password(&quot;ZXCVBX986&quot;)},//No lower case letters,no special characters\r\n                {new Password(&quot;QWERasdfg&quot;)},//No digits, no special characters\r\n                {new Password(&quot;FDWkwe!?&quot;)},//No digits\r\n                {new Password(&quot;qwekwei1932&quot;)},//No special characters\r\n                {new Password(&quot;QWsd12!&quot;)},//Less than 8 characters\r\n                {new Password(&quot;qwekwei1932!&quot;)},//No upper case\r\n                {new Password(&quot;ZXCAS1932!&quot;)},//No lower case\r\n                {new Password(&quot;!@&#163;$%^&amp;*&quot;)},//No upper,lower case letters, no digits\r\n                {new Password(&quot;123456789&quot;)},//No upper,lower case letters, no special characters\r\n                {new Password(&quot;@&#163;%^1932!&quot;)},//No upper,lower case letters\r\n                {new Password(&quot;&quot;)},//No letters, no numbers, no characters\r\n                {new Password(&quot;A1!aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&quot; +\r\n                        &quot;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&quot; +\r\n                        &quot;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&quot; +\r\n                        &quot;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&quot; +\r\n                        &quot;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&quot; +\r\n                        &quot;aaaaaaaaaaaaaaaaaaaaaaaaaaaa&quot;)}\r\n        };//More than 256 characters\r\n    }\r\n\r\n\r\n    @DataProvider(name = &quot;invalid-email&quot;)\r\n    public static Object[][] createInvalidEmail() {\r\n\r\n        return new Object[][]{\r\n                {new Email(&quot;fitop40249asuflex.com&quot;, &quot;Email with missing @:&quot;)},\r\n                {new Email(&quot;fitop40249@.com&quot;, &quot;Email with missing domain @:&quot;)},\r\n                {new Email(&quot;invalidemail@com&quot;, &quot;Email with missing dot:&quot;)},\r\n                {new Email(&quot;invalidemail@.&quot;, &quot;Email with missing com:&quot;)},\r\n                {new Email(&quot;&quot;, &quot;Email field empty:&quot;)},\r\n                {new Email(&quot;@asuflex.com&quot;, &quot;Email is missing local part&quot;)},\r\n                {new Email(&quot;fitop40249@uflex.com&quot;, &quot;Email has incorrect domain&quot;)},\r\n                {new Email(&quot;fitop40249@uflex,com&quot;, &quot;Email has comma instead of dot&quot;)},\r\n                {new Email(&quot;invalidemail@.comqwe&quot;, &quot;Email has extra characters after com&quot;)},\r\n                {new Email(&quot;invali demail@.com&quot;, &quot;Email contains &#39;Space&#39; character&quot;)}\r\n        };\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\n**Email:**\r\n\r\n```package dataobjects;\r\n\r\n\r\npublic class Email {\r\n    private static String email;\r\n\r\n    private static String errorMessage;\r\n\r\n    public Email(String email, String errorMessage) {\r\n        this.email = email;\r\n        this.errorMessage = errorMessage;\r\n    }\r\n    public static String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public static String getErrorMessage() {return errorMessage;}\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Email{&quot; +\r\n                &quot;, email=&#39;&quot; + email + &#39;\\&#39;&#39; +\r\n                &quot;, errorMessage=&#39;&quot; + errorMessage + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n\r\n}\r\n```\r\n\r\nCommenting out that specific Test or using another `@DataProvider` doesn&#39;t resolve issue, not using `@DataProvider` results in test running succesfully , ofcourse without `fillInvalidEmail`\r\n\r\n\r\n\r\nTried to use multiple `@DataProviders` for multiple Testing scenarios inside `Tasks`, results in `TestNGException` which tells that used `@DataProvider` is required, even when it is mentioned in `@Test` notation.\r\n\r\n\r\n**Update:**\r\n\r\nChanging name of `@DataProvider` did not fix error;\r\n\r\nRemoving space in `increateInvalidEmail()` did not fix error\r\n\r\n\r\n\r\n\r\n**Solution:**\r\n\r\nWhen using ```Inherited @DataProvider``` from different class , you must provide ```dataProviderClass``` in **@Test** annotation for ```Inherited @DataProvider``` to work.\r\n \r\nAnother minor issue:\r\n```Tasks.accountRegistration_5()] has no parameters defined but was found to be using a data provider (either explicitly specified or inherited from class level annotation).``` \r\n\r\nTo fix this change 2 things:\r\n\r\n1. \r\n```\r\nimport static dataobjects.Email.getEmail;\r\nimport static dataobjects.Email.getErrorMessage;\r\n``` \r\n\r\n\r\nreplace with :\r\n\r\n```import dataobjects.Email;```\r\n\r\n2. Pass it as parameter to accountRegistration_5() method\r\n\r\n```Like this:```\r\n\r\n\r\n```\r\n@Test(description = &quot;User is not able to register Account with invalid Email&quot;,\r\n            groups ={&quot;Account Registration&quot;, &quot;TC5&quot;},\r\n            dataProviderClass = dataobjects.Data.class,\r\n            dataProvider = &quot;invalid-email&quot;\r\n            ,enabled = true)\r\npublic void accountRegistration_5(Email email){\r\n             \r\n\r\nsignUpScreen.fillInvalidEmail(Email.getEmail(), Email.getErrorMessage(), testCaseNumber);\r\n```\r\n\r\n\r\n","title":"Method requires a @DataProvider, even when @DataProvider for @Test method is provided","body":"<p>After adding multiple <strong><code>@DataProviders</code></strong> for package <code>dataobject</code> class <code>UserData</code> , then renaming class to <code>Data</code>, using newly added <strong><code>@DataProviders</code></strong> called <code>invalid-email</code> for testing multiple invalid inputs, results in error : <code>Method public void Tasks.accountRegistration_5() requires a @DataProvider named : invalid-email</code>. <strong>What could cause the error?</strong>\nIt's allowed to use multiple <code>@DataProviders</code> in same class.</p>\n<p>Here is code:</p>\n<p><strong>Tasks:</strong></p>\n<p><em>Take a look at Test scenario 5!</em></p>\n<pre><code>import installations.AppDeletion;\nimport utils.ColorFormatter;\nimport utils.tempUser;\nimport io.appium.java_client.android.AndroidDriver;\nimport org.openqa.selenium.remote.DesiredCapabilities;\nimport org.testng.Assert;\nimport org.testng.Reporter;\nimport org.testng.annotations.*;\nimport screens.*;\nimport utils.TestProperties;\nimport java.lang.*;\nimport java.io.IOException;\nimport java.net.URL;\nimport java.util.concurrent.TimeUnit;\n\nimport dataobjects.Password;\nimport dataobjects.User;\n\nimport static dataobjects.Email.getEmail;\nimport static dataobjects.Email.getErrorMessage;\n\n\npublic class Tasks {\n\n    private void printTestResult(int testCaseNumber) {\n        ColorFormatter.colorize(&quot;Test &quot; + testCaseNumber + &quot; Passed!&quot;,ColorFormatter.boldGreenColor);\n    }\n\n    private AppDeletion appDeletion = new AppDeletion();\n    private APKInstallation apkInstallation = new APKInstallation();\n    private AndroidDriver driver;\n\n    public WelcomeScreen welcomeScreen;\n    public SignUpScreen signUpScreen;\n\n    public ConfirmRegistration confirmRegistration;\n\n    public AddToCart addToCart;\n\n    public LogOutAfterSignUp logOutAfterSignUp;\n\n    public InvalidCredentialsScreen invalidCredentialsScreen;\n\n    public NotificationScreen notificationScreen;\n    public int testCaseNumber;\n\n    public String tempEmail= tempUser.unTempEmail; //For creating manual account\n\n    public String tempPassword=tempUser.unTempPassword;//For creating manual account\n\n\n\n    @BeforeMethod(description=&quot;Starts each session&quot;,groups=(&quot;StartUp&quot;),alwaysRun = true)\n    public void setUp() throws IOException, InterruptedException {\n        // Close System.err to prevent any error messages from being printed to the console\n        System.err.close();\n\n        // Set System.err to the default output stream to allow any error messages to be printed to the console again\n        System.setErr(System.out);\n\n\n        // Installs application\n        apkInstallation.installAPK();\n\n        // Set the desired capabilities for the test\n        DesiredCapabilities desiredCapabilities = TestProperties.setDesiredCapabilities();\n        desiredCapabilities.setCapability(&quot;appium:udid&quot;, &quot;emulator-5554&quot;);\n\n        // Set the remote URL for Appium\n        URL remoteUrl = new URL(TestProperties.getProperty(&quot;appiumURL&quot;));\n\n        // Create a new AndroidDriver instance with the desired capabilities and remote URL\n        driver = new AndroidDriver(remoteUrl, desiredCapabilities);\n\n        // Set the implicit wait timeout to 15 seconds\n        driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);\n\n        // Initialize the page objects for the different screens of the app\n        welcomeScreen = new WelcomeScreen(driver);\n        signUpScreen = new SignUpScreen(driver);\n        confirmRegistration = new ConfirmRegistration(driver);\n        addToCart = new AddToCart(driver);\n        logOutAfterSignUp = new LogOutAfterSignUp(driver);\n        invalidCredentialsScreen = new InvalidCredentialsScreen(driver);\n        notificationScreen = new NotificationScreen(driver);\n\n        // Reset the app to the initial state before each test\n        driver.resetApp();\n\n    }\n\n\n\n    @Test(description = &quot;User installs app from the APK file&quot;, groups = {&quot;App Download&quot;,&quot;TC1&quot;}, enabled = true)// Done\n    public void appDownload_1(){\n        testCaseNumber = 1;\n        apkInstallation.testAppDownload(testCaseNumber);\n\n        printTestResult(testCaseNumber);\n\n\n    }\n\n\n    @Test(description = &quot;App works correctly after installation&quot;, groups = {&quot;App Download&quot;,&quot;TC2&quot;}, enabled = true)// Done\n    public void appDownload_2(){\n        testCaseNumber = 2;\n\n        notificationScreen.validatedNotificationButton(testCaseNumber);\n        notificationScreen.clickNotificationButton(testCaseNumber);\n        //Clicks on button after verification is successful (true)\n\n        //Verify application functioning by clicking button after launch\n        printTestResult(testCaseNumber);\n    }\n\n    @Test(description = &quot;App can be uninstalled from the device&quot;, groups = {&quot;App Uninstallation&quot;,&quot;TC3&quot;}, enabled = true) //Done\n    public void appUninstallation_3() throws IOException, InterruptedException {\n        testCaseNumber = 3;\n\n        appDeletion.isPackageInstalled(testCaseNumber);\n        appDeletion.uninstallation(testCaseNumber); // Return results of app deletion\n\n\n        printTestResult(testCaseNumber);\n    }\n    @Test(description = &quot;User navigates to Registration page&quot;, groups = {&quot;Account Registration&quot;, &quot;TC4&quot;}, enabled = true)\n    public void accountRegistration_4(){\n        testCaseNumber = 4;\n\n        notificationScreen.validatedNotificationButton(testCaseNumber);\n        notificationScreen.clickNotificationButton(testCaseNumber);\n\n\n        welcomeScreen.clickSignUp(testCaseNumber);\n\n        //Confirm user is navigated to Sign Up page\n        signUpScreen.verifySignUpScreen(testCaseNumber);\n\n\n        printTestResult(testCaseNumber);\n    }\n\n    @Test(description = &quot;User is not able to register Account with invalid Email&quot;, groups ={&quot;Account Registration&quot;, &quot;TC5&quot;},dataProvider = &quot;invalid-email&quot;,enabled = true)\n    public void accountRegistration_5(){\n        testCaseNumber = 5;\n\n        notificationScreen.validatedNotificationButton(testCaseNumber);\n        notificationScreen.clickNotificationButton(testCaseNumber);\n\n        welcomeScreen.clickSignUp(testCaseNumber);\n\n        signUpScreen.AcceptTerms(testCaseNumber);\n\n        signUpScreen.fillInvalidEmail(getEmail(), getErrorMessage(), testCaseNumber);\n        signUpScreen.clickCreateAccount(testCaseNumber);\n\n\n    }\n\n    @AfterMethod(description=&quot;Runs after each test&quot;,groups=(&quot;CleanUp&quot;),alwaysRun = true)\n    public void lastCleanUp() {\n        driver.quit();}\n}\n</code></pre>\n<p><strong>FillInvalidEmail:</strong></p>\n<pre><code>            try {\n\n                Email.sendKeys(email);\n                ColorFormatter.colorize(errorMessage, ColorFormatter.orangeColor);\n\n            } catch (TestFailureException e) {\n\n                throw new TestFailureException(testCaseNumber);\n            }\n            ColorFormatter.colorize(&quot;\\nPassed!&quot;, ColorFormatter.greenColor);\n        }\n</code></pre>\n<p><em>Email is MobileElement</em></p>\n<p><strong>Data:</strong></p>\n<pre><code>\nimport org.testng.annotations.DataProvider;\n\n/**\n * A class that provides test data for Registration tests.\n */\npublic class Data {\n\n\n    @DataProvider(name = &quot;login-credentials&quot;)\n    public static Object[][] createUserData() {\n        return new Object[][]{\n                {new User(&quot;tiweti1200@otanhome.com&quot;, &quot;Tiweti1200!&quot;, &quot;Unregistered User&quot;)},\n                {new User(&quot;wqji321@gqwasd.com&quot;, &quot;Warase3459!&quot;, &quot;Unverified User&quot;)},\n                {new User(&quot;xoheto3034@ngopy.com&quot;, &quot;qwekwei1932!&quot;, &quot;Incorrect Password&quot;)}\n        };\n    }\n\n    @DataProvider(name = &quot;invalid-password&quot;)\n    public static Object[][] createInvalidPassword() {\n        return new Object[][]{\n                {new Password(&quot;abcd&quot;)},//Less than 8 characters, no upper case letters, no digits, no special characters\n                {new Password(&quot;QWERT&quot;)},//Less than 8 characters, no lower case letters, no digits, no special characters\n                {new Password(&quot;qwertyui&quot;)},//No upper case letters, no digits, no special characters\n                {new Password(&quot;ASDFGHJK&quot;)},//No lower case letters, no digits, no special characters\n                {new Password(&quot;qwerty123&quot;)},///No upper case letters,no special characters\n                {new Password(&quot;ZXCVBX986&quot;)},//No lower case letters,no special characters\n                {new Password(&quot;QWERasdfg&quot;)},//No digits, no special characters\n                {new Password(&quot;FDWkwe!?&quot;)},//No digits\n                {new Password(&quot;qwekwei1932&quot;)},//No special characters\n                {new Password(&quot;QWsd12!&quot;)},//Less than 8 characters\n                {new Password(&quot;qwekwei1932!&quot;)},//No upper case\n                {new Password(&quot;ZXCAS1932!&quot;)},//No lower case\n                {new Password(&quot;!@£$%^&amp;*&quot;)},//No upper,lower case letters, no digits\n                {new Password(&quot;123456789&quot;)},//No upper,lower case letters, no special characters\n                {new Password(&quot;@£%^1932!&quot;)},//No upper,lower case letters\n                {new Password(&quot;&quot;)},//No letters, no numbers, no characters\n                {new Password(&quot;A1!aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&quot; +\n                        &quot;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&quot; +\n                        &quot;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&quot; +\n                        &quot;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&quot; +\n                        &quot;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&quot; +\n                        &quot;aaaaaaaaaaaaaaaaaaaaaaaaaaaa&quot;)}\n        };//More than 256 characters\n    }\n\n\n    @DataProvider(name = &quot;invalid-email&quot;)\n    public static Object[][] createInvalidEmail() {\n\n        return new Object[][]{\n                {new Email(&quot;fitop40249asuflex.com&quot;, &quot;Email with missing @:&quot;)},\n                {new Email(&quot;fitop40249@.com&quot;, &quot;Email with missing domain @:&quot;)},\n                {new Email(&quot;invalidemail@com&quot;, &quot;Email with missing dot:&quot;)},\n                {new Email(&quot;invalidemail@.&quot;, &quot;Email with missing com:&quot;)},\n                {new Email(&quot;&quot;, &quot;Email field empty:&quot;)},\n                {new Email(&quot;@asuflex.com&quot;, &quot;Email is missing local part&quot;)},\n                {new Email(&quot;fitop40249@uflex.com&quot;, &quot;Email has incorrect domain&quot;)},\n                {new Email(&quot;fitop40249@uflex,com&quot;, &quot;Email has comma instead of dot&quot;)},\n                {new Email(&quot;invalidemail@.comqwe&quot;, &quot;Email has extra characters after com&quot;)},\n                {new Email(&quot;invali demail@.com&quot;, &quot;Email contains 'Space' character&quot;)}\n        };\n\n\n    }\n}\n</code></pre>\n<p><strong>Email:</strong></p>\n<pre><code>\n\npublic class Email {\n    private static String email;\n\n    private static String errorMessage;\n\n    public Email(String email, String errorMessage) {\n        this.email = email;\n        this.errorMessage = errorMessage;\n    }\n    public static String getEmail() {\n        return email;\n    }\n\n    public static String getErrorMessage() {return errorMessage;}\n\n    @Override\n    public String toString() {\n        return &quot;Email{&quot; +\n                &quot;, email='&quot; + email + '\\'' +\n                &quot;, errorMessage='&quot; + errorMessage + '\\'' +\n                '}';\n    }\n\n}\n</code></pre>\n<p>Commenting out that specific Test or using another <code>@DataProvider</code> doesn't resolve issue, not using <code>@DataProvider</code> results in test running succesfully , ofcourse without <code>fillInvalidEmail</code></p>\n<p>Tried to use multiple <code>@DataProviders</code> for multiple Testing scenarios inside <code>Tasks</code>, results in <code>TestNGException</code> which tells that used <code>@DataProvider</code> is required, even when it is mentioned in <code>@Test</code> notation.</p>\n<p><strong>Update:</strong></p>\n<p>Changing name of <code>@DataProvider</code> did not fix error;</p>\n<p>Removing space in <code>increateInvalidEmail()</code> did not fix error</p>\n<p><strong>Solution:</strong></p>\n<p>When using <code>Inherited @DataProvider</code> from different class , you must provide <code>dataProviderClass</code> in <strong>@Test</strong> annotation for <code>Inherited @DataProvider</code> to work.</p>\n<p>Another minor issue:\n<code>Tasks.accountRegistration_5()] has no parameters defined but was found to be using a data provider (either explicitly specified or inherited from class level annotation).</code></p>\n<p>To fix this change 2 things:</p>\n<p>1.</p>\n<pre><code>import static dataobjects.Email.getEmail;\nimport static dataobjects.Email.getErrorMessage;\n</code></pre>\n<p>replace with :</p>\n<p><code>import dataobjects.Email;</code></p>\n<ol start=\"2\">\n<li>Pass it as parameter to accountRegistration_5() method</li>\n</ol>\n<p><code>Like this:</code></p>\n<pre><code>@Test(description = &quot;User is not able to register Account with invalid Email&quot;,\n            groups ={&quot;Account Registration&quot;, &quot;TC5&quot;},\n            dataProviderClass = dataobjects.Data.class,\n            dataProvider = &quot;invalid-email&quot;\n            ,enabled = true)\npublic void accountRegistration_5(Email email){\n             \n\nsignUpScreen.fillInvalidEmail(Email.getEmail(), Email.getErrorMessage(), testCaseNumber);\n</code></pre>\n"},{"tags":["java","android","ip"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1684754058,"post_id":76305554,"comment_id":134558120,"body_markdown":"why exactly would you want to check someone&#39;s ip?","body":"why exactly would you want to check someone&#39;s ip?"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1684754123,"post_id":76305554,"comment_id":134558131,"body_markdown":"You need to be more precise. *Which* IP address do you want? For example, your `WifiManager` solution would provide the actual IP address assigned to the device, but typically that will be a **private** IP address on the local network. The `ip-api.com` solution will provide the **public** IP address of that network as it appears on the Internet.","body":"You need to be more precise. <i>Which</i> IP address do you want? For example, your <code>WifiManager</code> solution would provide the actual IP address assigned to the device, but typically that will be a <b>private</b> IP address on the local network. The <code>ip-api.com</code> solution will provide the <b>public</b> IP address of that network as it appears on the Internet."},{"owner":{"account_id":25155166,"reputation":864,"user_id":19000086,"display_name":"zaid khan"},"score":0,"creation_date":1684761900,"post_id":76305554,"comment_id":134559771,"body_markdown":"there is also another method to get the ipadress using NetworkInterface but it returns null when the user isn&#39;t connected to any ip address.","body":"there is also another method to get the ipadress using NetworkInterface but it returns null when the user isn&#39;t connected to any ip address."},{"owner":{"account_id":19882630,"reputation":194,"user_id":14566306,"display_name":"TexD"},"score":0,"creation_date":1684767297,"post_id":76305554,"comment_id":134561087,"body_markdown":"@CommonsWare I want to use this IP for detect country of user. And visible some extra content according to their country (for few countries). [Which method you prefer for this? If any imported phone in any other country?]","body":"@CommonsWare I want to use this IP for detect country of user. And visible some extra content according to their country (for few countries). [Which method you prefer for this? If any imported phone in any other country?]"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1684770943,"post_id":76305554,"comment_id":134561914,"body_markdown":"@TexD: I went through this process earlier this year. Free geolocation services are very unreliable. Commercial ones are better. However, any decent geolocation service will handle finding the IP address for you -- you do not need any code in your app for that. The IP address of relevance would be the public IP address, not the private one like you might get from `WifiManager`.","body":"@TexD: I went through this process earlier this year. Free geolocation services are very unreliable. Commercial ones are better. However, any decent geolocation service will handle finding the IP address for you -- you do not need any code in your app for that. The IP address of relevance would be the public IP address, not the private one like you might get from <code>WifiManager</code>."}],"answers":[{"tags":[],"owner":{"account_id":25155166,"reputation":864,"user_id":19000086,"display_name":"zaid khan"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1684761934,"creation_date":1684761934,"answer_id":76306679,"question_id":76305554,"body_markdown":"```\r\n\r\nfun getIPAddress(): String? {\r\n    try {\r\n        val interfaces: List&lt;NetworkInterface&gt; = NetworkInterface.getNetworkInterfaces().toList()\r\n        for (networkInterface in interfaces) {\r\n            val addresses: List&lt;InetAddress&gt; = networkInterface.inetAddresses.toList()\r\n            for (address in addresses) {\r\n                if (!address.isLoopbackAddress &amp;&amp; !address.isLinkLocalAddress &amp;&amp; address.isSiteLocalAddress) {\r\n                    return address.hostAddress\r\n                }\r\n            }\r\n        }\r\n    } catch (e: Exception) {\r\n        e.printStackTrace()\r\n    }\r\n    return null\r\n}\r\n```\r\n It filters out loopback, link-local, and non-site-local addresses to find the IP address of the device. The function returns the IP address as a String, or null if it fails to retrieve the IP address.","title":"How get user&#39;s IP Address (Mobile Network or Wi-Fi)? -Android/java","body":"<pre><code>\nfun getIPAddress(): String? {\n    try {\n        val interfaces: List&lt;NetworkInterface&gt; = NetworkInterface.getNetworkInterfaces().toList()\n        for (networkInterface in interfaces) {\n            val addresses: List&lt;InetAddress&gt; = networkInterface.inetAddresses.toList()\n            for (address in addresses) {\n                if (!address.isLoopbackAddress &amp;&amp; !address.isLinkLocalAddress &amp;&amp; address.isSiteLocalAddress) {\n                    return address.hostAddress\n                }\n            }\n        }\n    } catch (e: Exception) {\n        e.printStackTrace()\n    }\n    return null\n}\n</code></pre>\n<p>It filters out loopback, link-local, and non-site-local addresses to find the IP address of the device. The function returns the IP address as a String, or null if it fails to retrieve the IP address.</p>\n"}],"owner":{"account_id":19882630,"reputation":194,"user_id":14566306,"display_name":"TexD"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684761934,"creation_date":1684753831,"question_id":76305554,"body_markdown":"After visiting multiple question on same topic.\r\nThis is not duplicate Question. Because all other provided code is old or deprecated.\r\n\r\nI want to check What is IP address of user when splash screen show. No matter that time connected Mobile data or Wi-Fi.\r\n\r\n&gt; **Method**: through `WifiManager` . \r\n&gt; \r\n&gt; **Issue:1)** It provide IP only when user connected to wifi. **2)** `Formatter.formatIpAddress` deprecated in API version 12. **3)**  `getHostAddress()`, which supports both IPv4 and IPv6 addresses. This method does not support IPv6 addresses\r\n\r\n**I found only one short solution is just call this Api, http://www.ip-api.com/json &lt;and get data through Json.**\r\n\r\nIs there any other way to get IP from android device?","title":"How get user&#39;s IP Address (Mobile Network or Wi-Fi)? -Android/java","body":"<p>After visiting multiple question on same topic.\nThis is not duplicate Question. Because all other provided code is old or deprecated.</p>\n<p>I want to check What is IP address of user when splash screen show. No matter that time connected Mobile data or Wi-Fi.</p>\n<blockquote>\n<p><strong>Method</strong>: through <code>WifiManager</code> .</p>\n<p><strong>Issue:1)</strong> It provide IP only when user connected to wifi. <strong>2)</strong> <code>Formatter.formatIpAddress</code> deprecated in API version 12. <strong>3)</strong>  <code>getHostAddress()</code>, which supports both IPv4 and IPv6 addresses. This method does not support IPv6 addresses</p>\n</blockquote>\n<p><strong>I found only one short solution is just call this Api, <a href=\"http://www.ip-api.com/json\" rel=\"nofollow noreferrer\">http://www.ip-api.com/json</a> &lt;and get data through Json.</strong></p>\n<p>Is there any other way to get IP from android device?</p>\n"},{"tags":["java","jakarta-ee","jboss","command-line-interface","jboss7.x"],"answers":[{"comments":[{"owner":{"account_id":75292,"reputation":60810,"user_id":216021,"accept_rate":82,"display_name":"kostja"},"score":0,"creation_date":1349185168,"post_id":12689705,"comment_id":17131384,"body_markdown":"Thanks Darran - a no is a valid answer too :) just one more thing though - could you please link your sources? I found it quite hard to get an overview of things possible and impossible with the JBoss CLI, so a good resource would be appreciated.","body":"Thanks Darran - a no is a valid answer too :) just one more thing though - could you please link your sources? I found it quite hard to get an overview of things possible and impossible with the JBoss CLI, so a good resource would be appreciated."},{"owner":{"account_id":1254635,"reputation":942,"user_id":1214373,"accept_rate":0,"display_name":"Darran L"},"score":2,"creation_date":1349259541,"post_id":12689705,"comment_id":17155312,"body_markdown":"My &#39;source&#39; is I wrote the properties file based realm so know I never exposed any operations to list the actual users it contains ;-)","body":"My &#39;source&#39; is I wrote the properties file based realm so know I never exposed any operations to list the actual users it contains ;-)"}],"tags":[],"owner":{"account_id":1254635,"reputation":942,"user_id":1214373,"accept_rate":0,"display_name":"Darran L"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1349178697,"creation_date":1349178697,"answer_id":12689705,"question_id":12462491,"body_markdown":"If your users are stored in the properties file then it is not possible to obtain a listing of them using the management interface.\r\n\r\nAdding identity management operations including listing and modifying users is something being considered for a later release.\r\n","title":"How to get a list of jboss users over the CLI client","body":"<p>If your users are stored in the properties file then it is not possible to obtain a listing of them using the management interface.</p>\n\n<p>Adding identity management operations including listing and modifying users is something being considered for a later release.</p>\n"},{"tags":[],"owner":{"account_id":9191674,"reputation":111,"user_id":8841604,"display_name":"ross"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634814109,"creation_date":1634814109,"answer_id":69660763,"question_id":12462491,"body_markdown":"Open the below file with notepad and find the list of users:\r\n\r\n    $HOME_wildfly-Final\\standalone\\configuration\\mgmt-groups.properties\r\n\r\n","title":"How to get a list of jboss users over the CLI client","body":"<p>Open the below file with notepad and find the list of users:</p>\n<pre><code>$HOME_wildfly-Final\\standalone\\configuration\\mgmt-groups.properties\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6180392,"reputation":1028,"user_id":4816080,"accept_rate":100,"display_name":"يعقوب"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684761904,"creation_date":1684761383,"answer_id":76306589,"question_id":12462491,"body_markdown":"You can execute `help --commands` to see commands availabe in your current context.\r\n\r\n    [standalone@localhost:9990 /] help --commands\r\n    Commands available in the current context:\r\n    attachment                              deployment-info                         run-batch\r\n    \r\n    batch                                   deployment-overlay                      security disable-http-auth-http-server\r\n    \r\n    cd                                      echo                                    security disable-http-auth-management\r\n    \r\n    clear                                   echo-dmr                                security disable-sasl-management\r\n    \r\n    command                                 for                                     security disable-ssl-http-server\r\n    \r\n    command-timeout                         grep                                    security disable-ssl-management\r\n    \r\n    connect                                 help                                    security enable-http-auth-http-server\r\n    \r\n    connection-info                         history                                 security enable-http-auth-management\r\n    \r\n    data-source                             if                                      security enable-sasl-management\r\n    \r\n    deploy                                  jdbc-driver-info                        security enable-ssl-http-server\r\n    \r\n    deployment deploy-cli-archive           ls                                      security enable-ssl-management\r\n    \r\n    deployment deploy-file                  module                                  security reorder-sasl-management\r\n    \r\n    deployment deploy-url                   patch apply                             set\r\n    \r\n    deployment disable                      patch history                           shutdown\r\n    \r\n    deployment disable-all                  patch info                              try\r\n    \r\n    deployment enable                       patch inspect                           undeploy\r\n    \r\n    deployment enable-all                   pwd                                     unset\r\n    \r\n    deployment info                         quit                                    version\r\n    \r\n    deployment list                         read-attribute                          xa-data-source\r\n    \r\n    deployment undeploy                     read-operation\r\n    deployment undeploy-cli-archive         reload\r\n    To read a description of a specific command execute &#39;help &lt;command name&gt;&#39;.\r\n\r\nSo to answer to your question you can&#39;t list jboss users over CLI Client, you can see in \r\n\r\n&gt; EAP_HOME/domain/configuration/mgmt-users.properties or\r\n&gt; application-users.properties","title":"How to get a list of jboss users over the CLI client","body":"<p>You can execute <code>help --commands</code> to see commands availabe in your current context.</p>\n<pre><code>[standalone@localhost:9990 /] help --commands\nCommands available in the current context:\nattachment                              deployment-info                         run-batch\n\nbatch                                   deployment-overlay                      security disable-http-auth-http-server\n\ncd                                      echo                                    security disable-http-auth-management\n\nclear                                   echo-dmr                                security disable-sasl-management\n\ncommand                                 for                                     security disable-ssl-http-server\n\ncommand-timeout                         grep                                    security disable-ssl-management\n\nconnect                                 help                                    security enable-http-auth-http-server\n\nconnection-info                         history                                 security enable-http-auth-management\n\ndata-source                             if                                      security enable-sasl-management\n\ndeploy                                  jdbc-driver-info                        security enable-ssl-http-server\n\ndeployment deploy-cli-archive           ls                                      security enable-ssl-management\n\ndeployment deploy-file                  module                                  security reorder-sasl-management\n\ndeployment deploy-url                   patch apply                             set\n\ndeployment disable                      patch history                           shutdown\n\ndeployment disable-all                  patch info                              try\n\ndeployment enable                       patch inspect                           undeploy\n\ndeployment enable-all                   pwd                                     unset\n\ndeployment info                         quit                                    version\n\ndeployment list                         read-attribute                          xa-data-source\n\ndeployment undeploy                     read-operation\ndeployment undeploy-cli-archive         reload\nTo read a description of a specific command execute 'help &lt;command name&gt;'.\n</code></pre>\n<p>So to answer to your question you can't list jboss users over CLI Client, you can see in</p>\n<blockquote>\n<p>EAP_HOME/domain/configuration/mgmt-users.properties or\napplication-users.properties</p>\n</blockquote>\n"}],"owner":{"account_id":75292,"reputation":60810,"user_id":216021,"accept_rate":82,"display_name":"kostja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10279,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":12689705,"answer_count":3,"score":4,"last_activity_date":1684761904,"creation_date":1347895729,"question_id":12462491,"body_markdown":"I have not found anything suitable in the [Management API ref](https://docs.jboss.org/author/display/AS7/Management+API+reference) or the [CLI guide](https://community.jboss.org/wiki/CommandLineInterface).\r\n\r\nMy guess for retrieving the users of the management realm would have been  \r\n\r\n    ls core-service=management/security-realm=ManagementRealm/authentication=properties\r\n\r\nbut it returns nothing. I do have a management user though. \r\n\r\nI am using Jboss-7.1.1.Final\r\n\r\nThank you\r\n","title":"How to get a list of jboss users over the CLI client","body":"<p>I have not found anything suitable in the <a href=\"https://docs.jboss.org/author/display/AS7/Management+API+reference\" rel=\"nofollow\">Management API ref</a> or the <a href=\"https://community.jboss.org/wiki/CommandLineInterface\" rel=\"nofollow\">CLI guide</a>.</p>\n\n<p>My guess for retrieving the users of the management realm would have been  </p>\n\n<pre><code>ls core-service=management/security-realm=ManagementRealm/authentication=properties\n</code></pre>\n\n<p>but it returns nothing. I do have a management user though. </p>\n\n<p>I am using Jboss-7.1.1.Final</p>\n\n<p>Thank you</p>\n"},{"tags":["java","thymeleaf","isnullorempty"],"comments":[{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":1,"creation_date":1531410678,"post_id":51301074,"comment_id":89596342,"body_markdown":"See `${#strings.isEmpty(variable)}`.  It will check for empty or null and call `trim()`.","body":"See <code>${#strings.isEmpty(variable)}</code>.  It will check for empty or null and call <code>trim()</code>."},{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1531410813,"post_id":51301074,"comment_id":89596451,"body_markdown":"Can you also post what you&#39;re trying to do?  It seems like you may really want `th:classappend` but I can&#39;t readily tell.","body":"Can you also post what you&#39;re trying to do?  It seems like you may really want <code>th:classappend</code> but I can&#39;t readily tell."},{"owner":{"account_id":1532531,"reputation":36089,"user_id":1429387,"accept_rate":63,"display_name":"naXa stands with Ukraine"},"score":0,"creation_date":1595510829,"post_id":51301074,"comment_id":111504853,"body_markdown":"@vphilipnyc if you&#39;ve posted your first comment as an answer, you could earn +300 reputation in 18 months. see [proof](https://stackoverflow.com/a/54048650/1429387).","body":"@vphilipnyc if you&#39;ve posted your first comment as an answer, you could earn +300 reputation in 18 months. see <a href=\"https://stackoverflow.com/a/54048650/1429387\">proof</a>."},{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1595525498,"post_id":51301074,"comment_id":111512933,"body_markdown":"@naxa Lol, maybe you can buy me a beer with all of those points","body":"@naxa Lol, maybe you can buy me a beer with all of those points"},{"owner":{"account_id":1532531,"reputation":36089,"user_id":1429387,"accept_rate":63,"display_name":"naXa stands with Ukraine"},"score":0,"creation_date":1595568536,"post_id":51301074,"comment_id":111525421,"body_markdown":"@vphilipnyc ahah! no, problem :) contact me and request your free beer https://t.me/nullgz","body":"@vphilipnyc ahah! no, problem :) contact me and request your free beer <a href=\"https://t.me/nullgz\" rel=\"nofollow noreferrer\">t.me/nullgz</a>"}],"answers":[{"comments":[{"owner":{"account_id":7513612,"reputation":1945,"user_id":5707795,"accept_rate":48,"display_name":"Pradeep"},"score":0,"creation_date":1531590441,"post_id":51326916,"comment_id":89657266,"body_markdown":"Hi Sumit I have already tried this .I need both null and empty condition as one single operation rather than as separate condition.I hope u understand what I need","body":"Hi Sumit I have already tried this .I need both null and empty condition as one single operation rather than as separate condition.I hope u understand what I need"},{"owner":{"account_id":10007675,"reputation":937,"user_id":7401569,"display_name":"Sumit"},"score":0,"creation_date":1531632001,"post_id":51326916,"comment_id":89664104,"body_markdown":"For that use **&#39;or&#39;** in between 2 condition , like this :--  \n**&lt;li th:if=&quot;${searchResults.results != null} or ${searchResults.results != &#39;&#39;}&quot;&gt;** \nPut **&quot;&quot;** properly otherwise your page would end up with error.","body":"For that use <b>&#39;or&#39;</b> in between 2 condition , like this :--   <b>&lt;li th:if=&quot;${searchResults.results != null} or ${searchResults.results != &#39;&#39;}&quot;&gt;</b>  Put <b>&quot;&quot;</b> properly otherwise your page would end up with error."},{"owner":{"account_id":10007675,"reputation":937,"user_id":7401569,"display_name":"Sumit"},"score":0,"creation_date":1531632618,"post_id":51326916,"comment_id":89664183,"body_markdown":"Moreover you can also use **&#39;and&#39;** in a similar way like **or** . Just put **and** in between 2 conditions and it&#39;ll work.","body":"Moreover you can also use <b>&#39;and&#39;</b> in a similar way like <b>or</b> . Just put <b>and</b> in between 2 conditions and it&#39;ll work."},{"owner":{"account_id":7513612,"reputation":1945,"user_id":5707795,"accept_rate":48,"display_name":"Pradeep"},"score":0,"creation_date":1531726695,"post_id":51326916,"comment_id":89685663,"body_markdown":"hi Sumit I tried with all these approaches but no luck. Let me try one more time and update you .Thanks for your help","body":"hi Sumit I tried with all these approaches but no luck. Let me try one more time and update you .Thanks for your help"},{"owner":{"account_id":10007675,"reputation":937,"user_id":7401569,"display_name":"Sumit"},"score":0,"creation_date":1531728665,"post_id":51326916,"comment_id":89686653,"body_markdown":"**&#39;or&#39; ** And  **&#39;and&#39;** operator will definitely work with two conditions in thyemleaf cz I&#39;ve been using the same approach in my project as well.Hope it works out for you as well.","body":"<b>&#39;or&#39; ** And  **&#39;and&#39;</b> operator will definitely work with two conditions in thyemleaf cz I&#39;ve been using the same approach in my project as well.Hope it works out for you as well."}],"tags":[],"owner":{"account_id":10007675,"reputation":937,"user_id":7401569,"display_name":"Sumit"},"comment_count":5,"down_vote_count":3,"up_vote_count":24,"is_accepted":true,"score":21,"last_activity_date":1546656929,"creation_date":1531490399,"answer_id":51326916,"question_id":51301074,"body_markdown":"In order to check null or empty string using thymeleaf expressions, Use this approach : --- \r\n\r\n    &lt;div th:if= &quot;${searchResults.results != null}&quot;&gt;\r\n\r\nOR, this :-- &lt;br&gt;\r\n\r\n    &lt;div th:if= &quot;${searchResults.results != &#39;&#39;}&quot;&gt;\r\nFurthermore, you can check the empty or null object on your controller itself and then send the response on your thymeleaf-html page accordingly, like this :-- \r\n&lt;br&gt;\r\n1.) Your Controller :-    \r\n\r\n     List ls = //some data from you DAO\r\n        if(ls.isEmpty()){\r\n             model.addAttribute(&quot;response&quot;,&quot;NoData&quot;);\r\n          }else{\r\n             model.addAttribute(&quot;response&quot;,ls);\r\n         }\r\n\r\n2.) Then on your Thymleaf page :- - - \r\n\r\n    &lt;th:block th:if=&quot;${response==&#39;NoData&#39;}&quot;&gt; No Data Found &lt;/th:block&gt;\r\n\r\n\r\n\r\n**PS -** I&#39;ve answered the same question here which helps the questioner hope it helps you as well :--\r\nhttps://stackoverflow.com/questions/51152960/thymeleaf-not-equal-expression-in-thif/51153187#51153187\r\n\r\n","title":"How to check null and empty condition using Thymeleaf in one single operation?","body":"<p>In order to check null or empty string using thymeleaf expressions, Use this approach : --- </p>\n\n<pre><code>&lt;div th:if= \"${searchResults.results != null}\"&gt;\n</code></pre>\n\n<p>OR, this :-- <br></p>\n\n<pre><code>&lt;div th:if= \"${searchResults.results != ''}\"&gt;\n</code></pre>\n\n<p>Furthermore, you can check the empty or null object on your controller itself and then send the response on your thymeleaf-html page accordingly, like this :-- \n<br>\n1.) Your Controller :-    </p>\n\n<pre><code> List ls = //some data from you DAO\n    if(ls.isEmpty()){\n         model.addAttribute(\"response\",\"NoData\");\n      }else{\n         model.addAttribute(\"response\",ls);\n     }\n</code></pre>\n\n<p>2.) Then on your Thymleaf page :- - - </p>\n\n<pre><code>&lt;th:block th:if=\"${response=='NoData'}\"&gt; No Data Found &lt;/th:block&gt;\n</code></pre>\n\n<p><strong>PS -</strong> I've answered the same question here which helps the questioner hope it helps you as well :--\n<a href=\"https://stackoverflow.com/questions/51152960/thymeleaf-not-equal-expression-in-thif/51153187#51153187\">ThymeLeaf: Not Equal expression in th:if</a></p>\n"},{"comments":[{"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"score":0,"creation_date":1554330636,"post_id":54048650,"comment_id":97716386,"body_markdown":"shouldn&#39;t it be `${#!string.isEmpty(variable)}` with a **!** in front?","body":"shouldn&#39;t it be <code>${#!string.isEmpty(variable)}</code> with a <b>!</b> in front?"},{"owner":{"account_id":1532531,"reputation":36089,"user_id":1429387,"accept_rate":63,"display_name":"naXa stands with Ukraine"},"score":7,"creation_date":1554356472,"post_id":54048650,"comment_id":97722368,"body_markdown":"@FarazDurrani it depends on what you need. `${#strings.isEmpty(name)}` is true if `name` is null or empty. `${!#strings.isEmpty(name)}` or `${not #strings.isEmpty(name)}` is true if `name` is not null and not empty.","body":"@FarazDurrani it depends on what you need. <code>${#strings.isEmpty(name)}</code> is true if <code>name</code> is null or empty. <code>${!#strings.isEmpty(name)}</code> or <code>${not #strings.isEmpty(name)}</code> is true if <code>name</code> is not null and not empty."},{"owner":{"account_id":1182583,"reputation":1519,"user_id":1157196,"accept_rate":50,"display_name":"Ahmed Mahmoud"},"score":1,"creation_date":1600259882,"post_id":54048650,"comment_id":113030845,"body_markdown":"Thanks for your time and effort","body":"Thanks for your time and effort"},{"owner":{"account_id":530518,"reputation":672,"user_id":198154,"accept_rate":90,"display_name":"levacjeep"},"score":0,"creation_date":1627665829,"post_id":54048650,"comment_id":121225931,"body_markdown":"This should be the selected answer.","body":"This should be the selected answer."},{"owner":{"account_id":5421563,"reputation":5502,"user_id":4315049,"accept_rate":57,"display_name":"robjwilkins"},"score":1,"creation_date":1631269895,"post_id":54048650,"comment_id":122182678,"body_markdown":"also works with ${#arrays.isEmpty(myArray)}","body":"also works with ${#arrays.isEmpty(myArray)}"}],"tags":[],"owner":{"account_id":1532531,"reputation":36089,"user_id":1429387,"accept_rate":63,"display_name":"naXa stands with Ukraine"},"comment_count":5,"down_vote_count":0,"up_vote_count":73,"is_accepted":false,"score":73,"last_activity_date":1546657962,"creation_date":1546657962,"answer_id":54048650,"question_id":51301074,"body_markdown":"Try `${#strings.isEmpty(variable)}`.\r\n\r\nFrom [Tutorial | Using Thymeleaf | Strings][1]:\r\n\r\n    /*\r\n     * Check whether a String is empty (or null). Performs a trim() operation before check\r\n     */\r\n    ${#strings.isEmpty(name)}\r\n\r\n\r\n\r\n  [1]: https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#strings","title":"How to check null and empty condition using Thymeleaf in one single operation?","body":"<p>Try <code>${#strings.isEmpty(variable)}</code>.</p>\n\n<p>From <a href=\"https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#strings\" rel=\"noreferrer\">Tutorial | Using Thymeleaf | Strings</a>:</p>\n\n<pre><code>/*\n * Check whether a String is empty (or null). Performs a trim() operation before check\n */\n${#strings.isEmpty(name)}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9998469,"reputation":131,"user_id":7395303,"display_name":"Tomas Pinto"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684761739,"creation_date":1684761739,"answer_id":76306654,"question_id":51301074,"body_markdown":"If you want to print only if NOT a null value or empty sting, then:\r\n\r\n     th:if=&quot;${not #strings.isEmpty(variableName)}&quot;\r\n\r\n","title":"How to check null and empty condition using Thymeleaf in one single operation?","body":"<p>If you want to print only if NOT a null value or empty sting, then:</p>\n<pre><code> th:if=&quot;${not #strings.isEmpty(variableName)}&quot;\n</code></pre>\n"}],"owner":{"account_id":7513612,"reputation":1945,"user_id":5707795,"accept_rate":48,"display_name":"Pradeep"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80499,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":51326916,"answer_count":3,"score":21,"last_activity_date":1684761739,"creation_date":1531385196,"question_id":51301074,"body_markdown":"Is there any way to check both null and empty condition in Thymeleaf?\r\n\r\nApproach 1\r\n\r\n    1) .variable1?.variable2?.variable3\r\n    2) variable!=null \r\n    3) variable!=&#39;&#39;\r\n\r\nIf we combine two conditions like (variable!=&#39;&#39; And variable!=null) I am having issue when rendering.\r\n\r\nI am trying following sample\r\n\r\n    ${#strings.concat(#strings.concat(&#39;class &#39;,variable1?.variable2), &#39; &#39;, variable1?.variable2?.variable3)}\r\n\r\nI also used ***containsKey*** as well but it is behaving differently.","title":"How to check null and empty condition using Thymeleaf in one single operation?","body":"<p>Is there any way to check both null and empty condition in Thymeleaf?</p>\n\n<p>Approach 1</p>\n\n<pre><code>1) .variable1?.variable2?.variable3\n2) variable!=null \n3) variable!=''\n</code></pre>\n\n<p>If we combine two conditions like (variable!='' And variable!=null) I am having issue when rendering.</p>\n\n<p>I am trying following sample</p>\n\n<pre><code>${#strings.concat(#strings.concat('class ',variable1?.variable2), ' ', variable1?.variable2?.variable3)}\n</code></pre>\n\n<p>I also used <strong><em>containsKey</em></strong> as well but it is behaving differently.</p>\n"},{"tags":["java","algorithm","overflow"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1684665146,"post_id":76299415,"comment_id":134547282,"body_markdown":"Use biginteger instead of long","body":"Use biginteger instead of long"},{"owner":{"account_id":2684795,"reputation":182470,"user_id":2319407,"display_name":"Dmitry Bychenko"},"score":0,"creation_date":1684669568,"post_id":76299415,"comment_id":134547806,"body_markdown":"`ans = ans*i;` can be very huge and cause *integer overflow*","body":"<code>ans = ans*i;</code> can be very huge and cause <i>integer overflow</i>"},{"owner":{"account_id":1660953,"reputation":9180,"user_id":1529267,"accept_rate":51,"display_name":"Max"},"score":0,"creation_date":1684669669,"post_id":76299415,"comment_id":134547819,"body_markdown":"@DmitryBychenko how do we resolve that problem?","body":"@DmitryBychenko how do we resolve that problem?"},{"owner":{"account_id":2684795,"reputation":182470,"user_id":2319407,"display_name":"Dmitry Bychenko"},"score":0,"creation_date":1684669819,"post_id":76299415,"comment_id":134547836,"body_markdown":"`return Enumerable.Range(1, n).Aggregate(1L, (s, a) =&gt; s * a % 1_000_000_007);`","body":"<code>return Enumerable.Range(1, n).Aggregate(1L, (s, a) =&gt; s * a % 1_000_000_007);</code>"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1684680968,"post_id":76299415,"comment_id":134549123,"body_markdown":"@Max I believe my answer resolved some of your questions.","body":"@Max I believe my answer resolved some of your questions."}],"answers":[{"comments":[{"owner":{"account_id":1660953,"reputation":9180,"user_id":1529267,"accept_rate":51,"display_name":"Max"},"score":0,"creation_date":1684665430,"post_id":76299440,"comment_id":134547306,"body_markdown":"Can you please explain the logic behind &quot;If you have to write answer % 1000000007, you can (and I guess you should) use % operator every time in for loop.&quot;, what is the proof of correctness of this?","body":"Can you please explain the logic behind &quot;If you have to write answer % 1000000007, you can (and I guess you should) use % operator every time in for loop.&quot;, what is the proof of correctness of this?"},{"owner":{"account_id":20156230,"reputation":88,"user_id":14782365,"display_name":"Kirill Dolbilov"},"score":0,"creation_date":1684665709,"post_id":76299440,"comment_id":134547359,"body_markdown":"@Max you can check it here: https://brestprog.by/topics/modulo/\nP.S. sorry for russian, i hope you can use Google Translator :)","body":"@Max you can check it here: <a href=\"https://brestprog.by/topics/modulo/\" rel=\"nofollow noreferrer\">brestprog.by/topics/modulo</a> P.S. sorry for russian, i hope you can use Google Translator :)"},{"owner":{"account_id":2684795,"reputation":182470,"user_id":2319407,"display_name":"Dmitry Bychenko"},"score":1,"creation_date":1684669625,"post_id":76299440,"comment_id":134547813,"body_markdown":"Technically, the last `ans % p;` is redundant: `return ans;` is enough","body":"Technically, the last <code>ans % p;</code> is redundant: <code>return ans;</code> is enough"},{"owner":{"account_id":6543768,"reputation":7475,"user_id":8111755,"display_name":"Christian Sloper"},"score":1,"creation_date":1684683525,"post_id":76299440,"comment_id":134549434,"body_markdown":"What you are looking for is &quot;modulus is closed under multiplication&quot; (which is a fancy way of saying that  ((a mod n) * (b mod n)) mod n = (a*b) mod n.   Any book on basic number theory would have a proof, but also here: https://www.khanacademy.org/computing/computer-science/cryptography/modarithmetic/a/modular-multiplication","body":"What you are looking for is &quot;modulus is closed under multiplication&quot; (which is a fancy way of saying that  ((a mod n) * (b mod n)) mod n = (a*b) mod n.   Any book on basic number theory would have a proof, but also here: <a href=\"https://www.khanacademy.org/computing/computer-science/cryptography/modarithmetic/a/modular-multiplication\" rel=\"nofollow noreferrer\">khanacademy.org/computing/computer-science/cryptography/&hellip;</a>"}],"tags":[],"owner":{"account_id":20156230,"reputation":88,"user_id":14782365,"display_name":"Kirill Dolbilov"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1684761717,"creation_date":1684665225,"answer_id":76299440,"question_id":76299415,"body_markdown":"If you have to write `answer % 1000000007`, you can (and I guess you should) use `%` operator every time in `for` loop.\r\n\r\n```\r\nlong ans = 1;\r\nlong p = 1000000007;\r\n\r\nfor (int i = 0; i &lt; n; i++)\r\n{\r\n    ans = (ans * i) % p;\r\n}\r\n\r\nreturn ans;\r\n```\r\n\r\nIf this is not enough, you can try this:\r\n```\r\nlong ans = 1;\r\nlong p = 1000000007;\r\n\r\nfor (int i = 0; i &lt; n; i++)\r\n{\r\n    ans = ((ans % p) * (i % p)) % p;\r\n}\r\n\r\nreturn ans;\r\n```\r\n","title":"Product of N numbers, incorrect answer, possible overflow?","body":"<p>If you have to write <code>answer % 1000000007</code>, you can (and I guess you should) use <code>%</code> operator every time in <code>for</code> loop.</p>\n<pre><code>long ans = 1;\nlong p = 1000000007;\n\nfor (int i = 0; i &lt; n; i++)\n{\n    ans = (ans * i) % p;\n}\n\nreturn ans;\n</code></pre>\n<p>If this is not enough, you can try this:</p>\n<pre><code>long ans = 1;\nlong p = 1000000007;\n\nfor (int i = 0; i &lt; n; i++)\n{\n    ans = ((ans % p) * (i % p)) % p;\n}\n\nreturn ans;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1684694795,"creation_date":1684680906,"answer_id":76300500,"question_id":76299415,"body_markdown":"First, here is the `BigInteger` solution.\r\n```\r\nint p = 1_000_000_007;\r\n\r\nBigInteger fact = BigInteger.TWO;\r\nint N = 50;\r\nfor (int i = 3 ;i &lt; N; i++) {\r\n     fact = fact.multiply(BigInteger.valueOf(i));\r\n}\r\nSystem.out.println(fact.mod(BigInteger.valueOf(p)));\r\n```\r\nprints\r\n```\r\n726372166\r\n```\r\nTo solve this without using `BigInteger`, one can use the relationship that says that\r\n```\r\n (a mod n) * (b mod n) = ab mod n.\r\n```  \r\nCheck out the proof [here]( https://math.stackexchange.com/questions/1488529/prove-that-ab-bmod-n-a-bmod-n-b-bmod-n)\r\n\r\nSince the above can be applied to a larger range of integers, one can do the following:\r\n```\r\nlong mod = 2;\r\nint N = 50;\r\nfor (int i = 3; i &lt; N; i++) {\r\n    mod = (mod * i) % p;\r\n}\r\nSystem.out.println(mod);\r\n```\r\nprints\r\n```\r\n726372166\r\n```\r\nNote:  `1_000_000_007` is a prime number and thus guarantees no product above will ever have that value as a factor.  If `N &gt;= p` then all subsequent results will be `0`, even if the product is first computed using `BigInteger`, because the remainder will be zero when the product is divided by `p`","title":"Product of N numbers, incorrect answer, possible overflow?","body":"<p>First, here is the <code>BigInteger</code> solution.</p>\n<pre><code>int p = 1_000_000_007;\n\nBigInteger fact = BigInteger.TWO;\nint N = 50;\nfor (int i = 3 ;i &lt; N; i++) {\n     fact = fact.multiply(BigInteger.valueOf(i));\n}\nSystem.out.println(fact.mod(BigInteger.valueOf(p)));\n</code></pre>\n<p>prints</p>\n<pre><code>726372166\n</code></pre>\n<p>To solve this without using <code>BigInteger</code>, one can use the relationship that says that</p>\n<pre><code> (a mod n) * (b mod n) = ab mod n.\n</code></pre>\n<p>Check out the proof <a href=\"https://math.stackexchange.com/questions/1488529/prove-that-ab-bmod-n-a-bmod-n-b-bmod-n\">here</a></p>\n<p>Since the above can be applied to a larger range of integers, one can do the following:</p>\n<pre><code>long mod = 2;\nint N = 50;\nfor (int i = 3; i &lt; N; i++) {\n    mod = (mod * i) % p;\n}\nSystem.out.println(mod);\n</code></pre>\n<p>prints</p>\n<pre><code>726372166\n</code></pre>\n<p>Note:  <code>1_000_000_007</code> is a prime number and thus guarantees no product above will ever have that value as a factor.  If <code>N &gt;= p</code> then all subsequent results will be <code>0</code>, even if the product is first computed using <code>BigInteger</code>, because the remainder will be zero when the product is divided by <code>p</code></p>\n"}],"owner":{"account_id":1660953,"reputation":9180,"user_id":1529267,"accept_rate":51,"display_name":"Max"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1684761717,"creation_date":1684664742,"question_id":76299415,"body_markdown":"I am trying to solve the problem &quot;product of first n numbers&quot;\r\n \r\n       long ans=1;\r\n\r\n\t\tfor(int i=1;i&lt;=n;i++){\r\n\t\t\tans = ans*i;\r\n\t\t}\r\n\t\treturn ans % (1000000007) ;\r\n\r\nI am incorrect result for large n, I suspect possible overflow. How do I go about solving it?","title":"Product of N numbers, incorrect answer, possible overflow?","body":"<p>I am trying to solve the problem &quot;product of first n numbers&quot;</p>\n<pre><code>   long ans=1;\n\n    for(int i=1;i&lt;=n;i++){\n        ans = ans*i;\n    }\n    return ans % (1000000007) ;\n</code></pre>\n<p>I am incorrect result for large n, I suspect possible overflow. How do I go about solving it?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684761716,"post_id":76306600,"comment_id":134559724,"body_markdown":"JSP is only supported in WAR files not JAR files (and come with limitations) as mentioned in the documentation. I would suggest to use something like Thymeleaf in the current day and age.","body":"JSP is only supported in WAR files not JAR files (and come with limitations) as mentioned in the documentation. I would suggest to use something like Thymeleaf in the current day and age."}],"owner":{"account_id":28654495,"reputation":1,"user_id":21940828,"display_name":"jack_sparrow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684761446,"creation_date":1684761446,"question_id":76306600,"body_markdown":"I am working on spring boot web application project.\r\nwhen ever I run spring boot web app It runs well, but in the browser when I excess this web app content, my jsp file automatically downloads instead of displaying content.\r\n\r\nBelow Spring boot first application:\r\n\r\n```\r\n\r\npackage com.springboot.web;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.web.servlet.ViewResolver;\r\nimport org.springframework.web.servlet.view.InternalResourceViewResolver;\r\n\r\n@SpringBootApplication\r\npublic class SpringBootFirstApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(SpringBootFirstApplication.class, args);\r\n\t}\r\n}\r\n```\r\n\r\nBelow one is Controller:\r\n\r\n```\r\npackage com.springboot.web;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\n\r\n@Controller\r\npublic class mainController {\r\n\r\n\t@GetMapping(&quot;/home&quot;)\r\n\tpublic String home() {\r\n\t\treturn &quot;home&quot;;\r\n\t}\r\n}\r\n```\r\n\r\nBelow one is application.properties file:\r\n\r\n```\r\nspring.mvc.view.prefix=/views/\r\nspring.mvc.view.suffix=.jsp\r\nserver.port=9091\r\n```\r\n\r\nBelow one is pom.xml file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.web&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;springmvcboot&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;SpringBootFirst&lt;/name&gt;\r\n\t&lt;description&gt;web project spring boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nbelow one is my jsp file:\r\n\r\n```\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\n    pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n&lt;title&gt;Insert title here&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\t&lt;h1&gt;This is my Home Jsp&lt;/h1&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nHow can I solve it ?","title":"JSP file is automatically downloading instead of displaying content in Spring Boot app, how to resolve?","body":"<p>I am working on spring boot web application project.\nwhen ever I run spring boot web app It runs well, but in the browser when I excess this web app content, my jsp file automatically downloads instead of displaying content.</p>\n<p>Below Spring boot first application:</p>\n<pre><code>\npackage com.springboot.web;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.web.servlet.ViewResolver;\nimport org.springframework.web.servlet.view.InternalResourceViewResolver;\n\n@SpringBootApplication\npublic class SpringBootFirstApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringBootFirstApplication.class, args);\n    }\n}\n</code></pre>\n<p>Below one is Controller:</p>\n<pre><code>package com.springboot.web;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\n\n@Controller\npublic class mainController {\n\n    @GetMapping(&quot;/home&quot;)\n    public String home() {\n        return &quot;home&quot;;\n    }\n}\n</code></pre>\n<p>Below one is application.properties file:</p>\n<pre><code>spring.mvc.view.prefix=/views/\nspring.mvc.view.suffix=.jsp\nserver.port=9091\n</code></pre>\n<p>Below one is pom.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.web&lt;/groupId&gt;\n    &lt;artifactId&gt;springmvcboot&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;SpringBootFirst&lt;/name&gt;\n    &lt;description&gt;web project spring boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>below one is my jsp file:</p>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\n    pageEncoding=&quot;ISO-8859-1&quot;%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n&lt;title&gt;Insert title here&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;This is my Home Jsp&lt;/h1&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>How can I solve it ?</p>\n"},{"tags":["java","android","kotlin","apk","android-manifest"],"answers":[{"tags":[],"owner":{"account_id":7349100,"reputation":10066,"user_id":5595926,"display_name":"ΓDΛ"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684750693,"creation_date":1684750693,"answer_id":76305164,"question_id":76305137,"body_markdown":"SourceStamp improves traceability of apps with respect to unauthorized distribution.\r\n\r\n&gt; The stamp is part of the APK that is protected by the signing block.\r\n&gt; The APK contents hash is signed using the stamp key, and is saved as\r\n&gt; part of the signing block.","title":"What is android.stamp in android-manifest?","body":"<p>SourceStamp improves traceability of apps with respect to unauthorized distribution.</p>\n<blockquote>\n<p>The stamp is part of the APK that is protected by the signing block.\nThe APK contents hash is signed using the stamp key, and is saved as\npart of the signing block.</p>\n</blockquote>\n"}],"owner":{"account_id":28653160,"reputation":31,"user_id":21939741,"display_name":"Amir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76305164,"answer_count":1,"score":2,"last_activity_date":1684761244,"creation_date":1684750421,"question_id":76305137,"body_markdown":"\r\nwhat does it mean in android-manifest?\r\n\r\n\r\n\r\n    &lt;meta-data android:name=&quot;com.android.stamp.source&quot; android:value=&quot;https://play.google.com/store&quot; /&gt; \r\n\t\t&lt;meta-data android:name=&quot;com.android.stamp.type&quot; android:value=&quot;STAMP_TYPE_DISTRIBUTION_APK&quot; /&gt;\r\n\r\nPlease explain me ,im a amateur programming &#128591; \r\nThank you &#128522; ","title":"What is android.stamp in android-manifest?","body":"<p>what does it mean in android-manifest?</p>\n<pre><code>&lt;meta-data android:name=&quot;com.android.stamp.source&quot; android:value=&quot;https://play.google.com/store&quot; /&gt; \n    &lt;meta-data android:name=&quot;com.android.stamp.type&quot; android:value=&quot;STAMP_TYPE_DISTRIBUTION_APK&quot; /&gt;\n</code></pre>\n<p>Please explain me ,im a amateur programming 🙏\nThank you 😊</p>\n"},{"tags":["java","spring-boot","webclient"],"owner":{"account_id":28619729,"reputation":1,"user_id":21912992,"display_name":"Amit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684760225,"creation_date":1684732189,"question_id":76303176,"body_markdown":"I am trying to call a customer&#39;s endpoint to retrieve their data using `WebClient`. We have to use certificate when calling the endpoint. I configured the `WebClient` with filter (to handle auto-refresh of the access token) and also with httpclient taking the certificate as keyStore. However, I am getting the `SSLHandshakeException`. If I commented out the filter(oauth), then I didn&#39;t get the SSLHandshakeException. Can someone please let me know how to let `ServerOAuth2AuthorizedClientExchangeFilterFunction` work with the keyStore setup? Thanks.\r\n\r\n\r\n```\r\n@Configuration\r\npublic class WebClientConfig {\r\n\r\n\tprivate final Logger logger = (Logger) LoggerFactory.getLogger(WebClientConfig.class);\r\n\r\n\t@Autowired\r\n\tprivate DVSVerifySslContextBuilder sslContextbuilder;\r\n\r\n\t@Autowired\r\n\tprivate SslDetailsLoader sslDetailsLoader;\r\n\r\n\t@Autowired\r\n\tprivate CertificateConverter certificateConverter;\r\n\r\n\t@Value(&quot;${service.cert.keystorePassword}&quot;)\r\n\tprivate String keystorePassword;\r\n\r\n\t@Value(&quot;${service.cert.privateKeyPassword}&quot;)\r\n\tprivate String privateKeyPassword;\r\n\r\n\t@Value(&quot;${okapi.sslConfigName}&quot;)\r\n\tprivate String sslConfigName;\r\n\t\r\n\t@Value(&quot;${dvs.verify.base.uri}&quot;)\r\n\tprivate String baseUri;\r\n\r\n\t@Bean\r\n\tpublic ReactiveClientRegistrationRepository getRegistration(\r\n\r\n\t\t\t@Value(&quot;${dvs.verify.accessTokenUri}&quot;) final String accessTokenUri,\r\n\t\t\t@Value(&quot;${dvs.verify.client-id}&quot;) final String clientId,\r\n\t\t\t@Value(&quot;${dvs.verify.client-secret}&quot;) final String clientSecret,\r\n\t\t\t@Value(&quot;${dvs.verify.grant-type}&quot;) final String grantType,\r\n\t\t\t@Value(&quot;${dvs.verify.scope}&quot;) final String scope) {\r\n\t\tClientRegistration registration = ClientRegistration.withRegistrationId(&quot;dvs&quot;).tokenUri(accessTokenUri)\r\n\t\t\t\t.clientId(clientId).scope(scope).clientSecret(clientSecret)\r\n\t\t\t\t.authorizationGrantType(AuthorizationGrantType.CLIENT_CREDENTIALS).build();\r\n\t\treturn new InMemoryReactiveClientRegistrationRepository(registration);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic WebClient webClient(ReactiveClientRegistrationRepository clientRegistrations) {\r\n\t\tvar clientService = new InMemoryReactiveOAuth2AuthorizedClientService(clientRegistrations);\r\n\t\tvar authorizedClientManager = new AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager(\r\n\t\t\t\tclientRegistrations, clientService);\r\n\t\tvar oauth = new ServerOAuth2AuthorizedClientExchangeFilterFunction(authorizedClientManager);\r\n\t\toauth.setDefaultClientRegistrationId(&quot;dvs&quot;);\r\n\r\n\t\tHttpClient httpClient = HttpClient.create()\r\n\t\t        .secure(sslSpec -&gt; sslSpec.sslContext(getKeyStorefromMassl(sslConfigName)))\r\n\t\t        .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 5000)\r\n\t\t        .doOnConnected(\r\n\t\t                  connection -&gt; {\r\n\t\t                    connection.addHandlerLast(\r\n\t\t                        new ReadTimeoutHandler(5000, TimeUnit.MILLISECONDS));\r\n\t\t                    connection.addHandlerLast(\r\n\t\t                        new WriteTimeoutHandler(5000, TimeUnit.MILLISECONDS));\r\n\t\t                  });\r\n\t\treturn WebClient.builder().clientConnector(new ReactorClientHttpConnector(httpClient)).filter(oauth).baseUrl(baseUri)\r\n\t\t\t\t.filter(errorHandler()).build();\r\n\t}\r\n\r\n\tprivate ExchangeFilterFunction errorHandler() {\r\n\t\treturn ExchangeFilterFunction.ofResponseProcessor(clientResponse -&gt; {\r\n\t\t\tif (clientResponse.statusCode().is5xxServerError() || clientResponse.statusCode().is4xxClientError())\r\n\t\t\t\treturn clientResponse.bodyToMono(String.class)\r\n\t\t\t\t\t\t.flatMap(errorBody -&gt; Mono.error(new IllegalAccessException(errorBody)));\r\n\t\t\telse\r\n\t\t\t\treturn Mono.just(clientResponse);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate SslContext getKeyStorefromMassl(String sslConfigName) {\r\n\t\tSslContext sslcontext = null;\r\n\t\ttry {\r\n\t\t\t// setting passwords for keystore load\r\n\t\t\tsslContextbuilder.setSslDetailsLoader(sslDetailsLoader);\r\n\t\t\tsslContextbuilder.setPrivateKeyPassword(privateKeyPassword.toCharArray());\r\n\t\t\tsslContextbuilder.setCertificateConverter(certificateConverter);\r\n\t\t    SslDetails sslDetails = sslDetailsLoader.loadOkapiCerts(sslConfigName);\r\n\t\t\tKeyStore trustStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n\t\t\ttrustStore.load(null, keystorePassword.toCharArray());\r\n\t\t\tlogger.info(&quot;I have build the keystore for the trust manager.&quot;);\r\n\t\t\tKeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n\t\t\tkeyStore.load(null, keystorePassword.toCharArray());\r\n\t\t\tlogger.info(&quot;I have build the keystore for the key manager.&quot;);\r\n\t\t\tcertificateConverter.loadCertificateAuthorities(sslDetails, trustStore);\r\n\t\t\t/*\r\n\t\t\t * Load the my public certificate and key into the key store.\r\n\t\t\t */\r\n\t\t\tcertificateConverter.loadCertificateAndKey(sslDetails, keyStore, privateKeyPassword.toCharArray());\r\n\t\t\tsslcontext = sslContextbuilder.buildInternallySslContext(sslDetails, trustStore, keyStore, sslConfigName);\r\n\t\t} catch (Exception e) {\r\n\t\t\tlogger.error(&quot;Failed getKeyStorefromMassl ==&gt;&quot;, e.getMessage());\r\n\t\t}\r\n\t\treturn sslcontext;\r\n\t}\r\n}\r\n\r\n```\r\n\r\nAnd calling post method from service class\r\n```\r\nResponseEntity&lt;IdvResponse&gt; response = webClient.post().uri(baseUriVerifyExt).headers(getDefaultHttpHeaders())\r\n\t\t\t\t\t.attributes(ServerOAuth2AuthorizedClientExchangeFilterFunction.clientRegistrationId(&quot;dvs&quot;))\r\n\t\t\t\t\t.body(Mono.just(idvRequest), IdvRequest.class).retrieve().toEntity(IdvResponse.class).block();\r\n```\r\n\r\nCan someone please let me know how to let `ServerOAuth2AuthorizedClientExchangeFilterFunction` work with the `keyStore` setup? Thanks.","title":"Configuring WebClient with keyStore and ServerOAuth2AuthorizedClientExchangeFilterFunction - troubleshooting SSLHandshakeException","body":"<p>I am trying to call a customer's endpoint to retrieve their data using <code>WebClient</code>. We have to use certificate when calling the endpoint. I configured the <code>WebClient</code> with filter (to handle auto-refresh of the access token) and also with httpclient taking the certificate as keyStore. However, I am getting the <code>SSLHandshakeException</code>. If I commented out the filter(oauth), then I didn't get the SSLHandshakeException. Can someone please let me know how to let <code>ServerOAuth2AuthorizedClientExchangeFilterFunction</code> work with the keyStore setup? Thanks.</p>\n<pre><code>@Configuration\npublic class WebClientConfig {\n\n    private final Logger logger = (Logger) LoggerFactory.getLogger(WebClientConfig.class);\n\n    @Autowired\n    private DVSVerifySslContextBuilder sslContextbuilder;\n\n    @Autowired\n    private SslDetailsLoader sslDetailsLoader;\n\n    @Autowired\n    private CertificateConverter certificateConverter;\n\n    @Value(&quot;${service.cert.keystorePassword}&quot;)\n    private String keystorePassword;\n\n    @Value(&quot;${service.cert.privateKeyPassword}&quot;)\n    private String privateKeyPassword;\n\n    @Value(&quot;${okapi.sslConfigName}&quot;)\n    private String sslConfigName;\n    \n    @Value(&quot;${dvs.verify.base.uri}&quot;)\n    private String baseUri;\n\n    @Bean\n    public ReactiveClientRegistrationRepository getRegistration(\n\n            @Value(&quot;${dvs.verify.accessTokenUri}&quot;) final String accessTokenUri,\n            @Value(&quot;${dvs.verify.client-id}&quot;) final String clientId,\n            @Value(&quot;${dvs.verify.client-secret}&quot;) final String clientSecret,\n            @Value(&quot;${dvs.verify.grant-type}&quot;) final String grantType,\n            @Value(&quot;${dvs.verify.scope}&quot;) final String scope) {\n        ClientRegistration registration = ClientRegistration.withRegistrationId(&quot;dvs&quot;).tokenUri(accessTokenUri)\n                .clientId(clientId).scope(scope).clientSecret(clientSecret)\n                .authorizationGrantType(AuthorizationGrantType.CLIENT_CREDENTIALS).build();\n        return new InMemoryReactiveClientRegistrationRepository(registration);\n    }\n\n    @Bean\n    public WebClient webClient(ReactiveClientRegistrationRepository clientRegistrations) {\n        var clientService = new InMemoryReactiveOAuth2AuthorizedClientService(clientRegistrations);\n        var authorizedClientManager = new AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager(\n                clientRegistrations, clientService);\n        var oauth = new ServerOAuth2AuthorizedClientExchangeFilterFunction(authorizedClientManager);\n        oauth.setDefaultClientRegistrationId(&quot;dvs&quot;);\n\n        HttpClient httpClient = HttpClient.create()\n                .secure(sslSpec -&gt; sslSpec.sslContext(getKeyStorefromMassl(sslConfigName)))\n                .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 5000)\n                .doOnConnected(\n                          connection -&gt; {\n                            connection.addHandlerLast(\n                                new ReadTimeoutHandler(5000, TimeUnit.MILLISECONDS));\n                            connection.addHandlerLast(\n                                new WriteTimeoutHandler(5000, TimeUnit.MILLISECONDS));\n                          });\n        return WebClient.builder().clientConnector(new ReactorClientHttpConnector(httpClient)).filter(oauth).baseUrl(baseUri)\n                .filter(errorHandler()).build();\n    }\n\n    private ExchangeFilterFunction errorHandler() {\n        return ExchangeFilterFunction.ofResponseProcessor(clientResponse -&gt; {\n            if (clientResponse.statusCode().is5xxServerError() || clientResponse.statusCode().is4xxClientError())\n                return clientResponse.bodyToMono(String.class)\n                        .flatMap(errorBody -&gt; Mono.error(new IllegalAccessException(errorBody)));\n            else\n                return Mono.just(clientResponse);\n        });\n    }\n\n    private SslContext getKeyStorefromMassl(String sslConfigName) {\n        SslContext sslcontext = null;\n        try {\n            // setting passwords for keystore load\n            sslContextbuilder.setSslDetailsLoader(sslDetailsLoader);\n            sslContextbuilder.setPrivateKeyPassword(privateKeyPassword.toCharArray());\n            sslContextbuilder.setCertificateConverter(certificateConverter);\n            SslDetails sslDetails = sslDetailsLoader.loadOkapiCerts(sslConfigName);\n            KeyStore trustStore = KeyStore.getInstance(&quot;JKS&quot;);\n            trustStore.load(null, keystorePassword.toCharArray());\n            logger.info(&quot;I have build the keystore for the trust manager.&quot;);\n            KeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;);\n            keyStore.load(null, keystorePassword.toCharArray());\n            logger.info(&quot;I have build the keystore for the key manager.&quot;);\n            certificateConverter.loadCertificateAuthorities(sslDetails, trustStore);\n            /*\n             * Load the my public certificate and key into the key store.\n             */\n            certificateConverter.loadCertificateAndKey(sslDetails, keyStore, privateKeyPassword.toCharArray());\n            sslcontext = sslContextbuilder.buildInternallySslContext(sslDetails, trustStore, keyStore, sslConfigName);\n        } catch (Exception e) {\n            logger.error(&quot;Failed getKeyStorefromMassl ==&gt;&quot;, e.getMessage());\n        }\n        return sslcontext;\n    }\n}\n\n</code></pre>\n<p>And calling post method from service class</p>\n<pre><code>ResponseEntity&lt;IdvResponse&gt; response = webClient.post().uri(baseUriVerifyExt).headers(getDefaultHttpHeaders())\n                    .attributes(ServerOAuth2AuthorizedClientExchangeFilterFunction.clientRegistrationId(&quot;dvs&quot;))\n                    .body(Mono.just(idvRequest), IdvRequest.class).retrieve().toEntity(IdvResponse.class).block();\n</code></pre>\n<p>Can someone please let me know how to let <code>ServerOAuth2AuthorizedClientExchangeFilterFunction</code> work with the <code>keyStore</code> setup? Thanks.</p>\n"},{"tags":["java","hibernate","jpa","caching","redis"],"owner":{"account_id":18231990,"reputation":117,"user_id":13270751,"display_name":"Ali Azlan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684760199,"creation_date":1684760199,"question_id":76306436,"body_markdown":"I have JPA Entity class as such:\r\n\r\n    class A extends BaseEntity{\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;b_id&quot;)\r\n    private B b;\r\n\r\n    @Column(name = &quot;is_checked&quot;)\r\n    private Boolean isChecked;    \r\n    }\r\n    \r\n    class B{\r\n    @JsonIgnore\r\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;A&quot;, cascade = CascadeType.REMOVE)\r\n    private List&lt;A&gt; aList;\r\n    }\r\n\r\nNow my function to cache the object is as follows: (the function convert the JPA entity object to JSON string and cache it).\r\n        \r\n\r\n    public void cacheObject(String suffix, A object) {\r\n        try{\r\n            ...\r\n    \r\n            redisTemplate\r\n                .opsForValue()\r\n                .set(\r\n                    key,\r\n                    Jackson.toJsonString(object)\r\n                );\r\n\r\n            ...\r\n        }catch(Exception exception){\r\n            ...\r\n        }\r\n    }\r\n\r\nThe retrieval function is as follows: (It retrieves the JSON string and map it to the entity class object)\r\n\r\n    public A getById(Integer id) {\r\n        try{\r\n            String aString = this.getObjectFromCache(id.toString());\r\n\r\n            if(Utilities.isNull(aString) || aString.isEmpty()){\r\n                return null;\r\n            }\r\n\r\n            return objectMapper.readValue(\r\n                aString,\r\n                A.class\r\n            );\r\n        }catch(Exception exception){\r\n            log.warn(&quot;Exception occurred while converting JSON string to A(id:{})&quot;, id);\r\n            log.warn(&quot;Exception: {}&quot;, exception.getMessage());\r\n            return null;\r\n        }\r\n    }\r\n\r\nThe problem is when I try to do this a.getB().getAList() [after fetching from cache] it results in error of null pointer exception, as aList of entity B is not being cached as I am using @JsonIgnore on it. If I weren&#39;t using @JsonIgnore then there would have been another error of infinite recursion(A-&gt;B&gt;A-&gt;B-&gt;so on) at JSON serialization while caching.\r\nI don&#39;t want to cache aList either I want to fetch it from database, but I am unable to do so because of null pointer exception as it is null upon caching, also I tried to just save ids in AList so that if I do a.getB().getAList() then it fetches AList from db using JPA Persistence/context/whatever as ids are now there but it didn&#39;t work either. \r\nAny suggestions how to do that? any suggestion on how should I be caching? keep in mind I have a lot of referencing entities. ","title":"How to load JPA context and all after fetching JSON from cache and mapping it to JPA entity?","body":"<p>I have JPA Entity class as such:</p>\n<pre><code>class A extends BaseEntity{\n@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;b_id&quot;)\nprivate B b;\n\n@Column(name = &quot;is_checked&quot;)\nprivate Boolean isChecked;    \n}\n\nclass B{\n@JsonIgnore\n@OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;A&quot;, cascade = CascadeType.REMOVE)\nprivate List&lt;A&gt; aList;\n}\n</code></pre>\n<p>Now my function to cache the object is as follows: (the function convert the JPA entity object to JSON string and cache it).</p>\n<pre><code>public void cacheObject(String suffix, A object) {\n    try{\n        ...\n\n        redisTemplate\n            .opsForValue()\n            .set(\n                key,\n                Jackson.toJsonString(object)\n            );\n\n        ...\n    }catch(Exception exception){\n        ...\n    }\n}\n</code></pre>\n<p>The retrieval function is as follows: (It retrieves the JSON string and map it to the entity class object)</p>\n<pre><code>public A getById(Integer id) {\n    try{\n        String aString = this.getObjectFromCache(id.toString());\n\n        if(Utilities.isNull(aString) || aString.isEmpty()){\n            return null;\n        }\n\n        return objectMapper.readValue(\n            aString,\n            A.class\n        );\n    }catch(Exception exception){\n        log.warn(&quot;Exception occurred while converting JSON string to A(id:{})&quot;, id);\n        log.warn(&quot;Exception: {}&quot;, exception.getMessage());\n        return null;\n    }\n}\n</code></pre>\n<p>The problem is when I try to do this a.getB().getAList() [after fetching from cache] it results in error of null pointer exception, as aList of entity B is not being cached as I am using @JsonIgnore on it. If I weren't using @JsonIgnore then there would have been another error of infinite recursion(A-&gt;B&gt;A-&gt;B-&gt;so on) at JSON serialization while caching.\nI don't want to cache aList either I want to fetch it from database, but I am unable to do so because of null pointer exception as it is null upon caching, also I tried to just save ids in AList so that if I do a.getB().getAList() then it fetches AList from db using JPA Persistence/context/whatever as ids are now there but it didn't work either.\nAny suggestions how to do that? any suggestion on how should I be caching? keep in mind I have a lot of referencing entities.</p>\n"},{"tags":["java","intellij-idea","annotations","notnull"],"comments":[{"owner":{"account_id":263634,"reputation":615,"user_id":549332,"display_name":"Totoro"},"score":0,"creation_date":1404149734,"post_id":24495448,"comment_id":37920570,"body_markdown":"Intellij has its own NotNull annotation class.  I wonder if its doing some slight of  hand around the return list.toArray which is the only place you can have an NPE potential","body":"Intellij has its own NotNull annotation class.  I wonder if its doing some slight of  hand around the return list.toArray which is the only place you can have an NPE potential"},{"owner":{"account_id":357865,"reputation":5380,"user_id":1827734,"accept_rate":90,"display_name":"BrDaHa"},"score":0,"creation_date":1404150473,"post_id":24495448,"comment_id":37920901,"body_markdown":"It&#39;s not possible for the list field to be null. Unless I missed something?","body":"It&#39;s not possible for the list field to be null. Unless I missed something?"},{"owner":{"account_id":263634,"reputation":615,"user_id":549332,"display_name":"Totoro"},"score":0,"creation_date":1404150632,"post_id":24495448,"comment_id":37920978,"body_markdown":"there is an implicit ListHashSet() constructor added in by the compiler","body":"there is an implicit ListHashSet() constructor added in by the compiler"},{"owner":{"account_id":263634,"reputation":615,"user_id":549332,"display_name":"Totoro"},"score":0,"creation_date":1404746803,"post_id":24495448,"comment_id":38142007,"body_markdown":"try intellij forums/support?","body":"try intellij forums/support?"},{"owner":{"account_id":357865,"reputation":5380,"user_id":1827734,"accept_rate":90,"display_name":"BrDaHa"},"score":1,"creation_date":1414998838,"post_id":24495448,"comment_id":42010671,"body_markdown":"I tried asking over at the IntelliJ forums, but got nowhere. This is probably a bug in IntelliJ","body":"I tried asking over at the IntelliJ forums, but got nowhere. This is probably a bug in IntelliJ"},{"owner":{"account_id":3839586,"reputation":388,"user_id":3183076,"display_name":"Dmytro"},"score":0,"creation_date":1527583507,"post_id":24495448,"comment_id":88169125,"body_markdown":"Sometimes, it helps to add a nullability check. In my case, there was the `@ParametersAreNonnullByDefault` an annotation on both the interface and implementing class packages. However, IDEA warned me that the overridden method param is not annotated until I added `Preconditions.checkNotNull(...)` for the param in the implementing class.","body":"Sometimes, it helps to add a nullability check. In my case, there was the <code>@ParametersAreNonnullByDefault</code> an annotation on both the interface and implementing class packages. However, IDEA warned me that the overridden method param is not annotated until I added <code>Preconditions.checkNotNull(...)</code> for the param in the implementing class."},{"owner":{"account_id":357865,"reputation":5380,"user_id":1827734,"accept_rate":90,"display_name":"BrDaHa"},"score":0,"creation_date":1571963086,"post_id":24495448,"comment_id":103422130,"body_markdown":"It&#39;s weird I&#39;m still getting upvotes for this question, 5 years later. No one&#39;s made a fix?","body":"It&#39;s weird I&#39;m still getting upvotes for this question, 5 years later. No one&#39;s made a fix?"}],"answers":[{"comments":[{"owner":{"account_id":357865,"reputation":5380,"user_id":1827734,"accept_rate":90,"display_name":"BrDaHa"},"score":0,"creation_date":1404154026,"post_id":24496141,"comment_id":37922569,"body_markdown":"I actually had these additional constructors (Updated in the original question) ^","body":"I actually had these additional constructors (Updated in the original question) ^"},{"owner":{"account_id":263634,"reputation":615,"user_id":549332,"display_name":"Totoro"},"score":0,"creation_date":1404161526,"post_id":24496141,"comment_id":37925927,"body_markdown":"This isn&#39;t the cause, but you think you  might want to set list here?\n\nprivate ArrayList&lt;T&gt; getList() { return list != null ? list : new ArrayList&lt;T&gt;(); }","body":"This isn&#39;t the cause, but you think you  might want to set list here?  private ArrayList&lt;T&gt; getList() { return list != null ? list : new ArrayList&lt;T&gt;(); }"}],"tags":[],"owner":{"account_id":263634,"reputation":615,"user_id":549332,"display_name":"Totoro"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433401461,"creation_date":1404151152,"answer_id":24496141,"question_id":24495448,"body_markdown":"Try adding:\r\n\r\n    private ListHashSet() {}","title":"Not annotated method overrides method annotated with @NotNull","body":"<p>Try adding:</p>\n\n<pre><code>private ListHashSet() {}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":357865,"reputation":5380,"user_id":1827734,"accept_rate":90,"display_name":"BrDaHa"},"score":2,"creation_date":1421270774,"post_id":27942889,"comment_id":44300547,"body_markdown":"Oh man finally! that worked! So, you&#39;re suggesting that the warning saying &quot;@NotNull is missing&quot; is actually a typo in the warning message?","body":"Oh man finally! that worked! So, you&#39;re suggesting that the warning saying &quot;@NotNull is missing&quot; is actually a typo in the warning message?"},{"owner":{"account_id":4095273,"reputation":1557,"user_id":3362244,"accept_rate":60,"display_name":"teuber789"},"score":2,"creation_date":1621009251,"post_id":27942889,"comment_id":119374538,"body_markdown":"For those who don&#39;t want to put an annotation on every method method in a large class, you can add `@NonNullApi` on the package level: https://stackoverflow.com/a/8405562/3362244","body":"For those who don&#39;t want to put an annotation on every method method in a large class, you can add <code>@NonNullApi</code> on the package level: <a href=\"https://stackoverflow.com/a/8405562/3362244\">stackoverflow.com/a/8405562/3362244</a>"}],"tags":[],"owner":{"account_id":5360271,"reputation":4735,"user_id":4271755,"accept_rate":100,"display_name":"Invisible Arrow"},"comment_count":2,"down_vote_count":0,"up_vote_count":93,"is_accepted":true,"score":93,"last_activity_date":1421311012,"creation_date":1421238233,"answer_id":27942889,"question_id":24495448,"body_markdown":"Try adding `@Nonnull` (&lt;a href=&quot;https://jsr-305.googlecode.com/svn/trunk/javadoc/javax/annotation/Nonnull.html&quot;&gt;javax.annotation.Nonnull&lt;/a&gt;) to the `toArray` method.\r\n\r\nThe warning disappeared for me when I added this annotation. I think the warning message is incorrect which says that `@NotNull` is missing.","title":"Not annotated method overrides method annotated with @NotNull","body":"<p>Try adding <code>@Nonnull</code> (<a href=\"https://jsr-305.googlecode.com/svn/trunk/javadoc/javax/annotation/Nonnull.html\" rel=\"noreferrer\">javax.annotation.Nonnull</a>) to the <code>toArray</code> method.</p>\n\n<p>The warning disappeared for me when I added this annotation. I think the warning message is incorrect which says that <code>@NotNull</code> is missing.</p>\n"},{"comments":[{"owner":{"account_id":357865,"reputation":5380,"user_id":1827734,"accept_rate":90,"display_name":"BrDaHa"},"score":0,"creation_date":1509330050,"post_id":33662173,"comment_id":80961243,"body_markdown":"IIRC we were using the Oracle JDK, so OpenJDK&#39;s implementation might be different","body":"IIRC we were using the Oracle JDK, so OpenJDK&#39;s implementation might be different"},{"owner":{"account_id":2567326,"reputation":747,"user_id":2227015,"accept_rate":74,"display_name":"Henry"},"score":0,"creation_date":1535099597,"post_id":33662173,"comment_id":90949943,"body_markdown":"+1 for stating the correct @SuppressWarnings directive which seems to be the only option no relying on dependencies.","body":"+1 for stating the correct @SuppressWarnings directive which seems to be the only option no relying on dependencies."},{"owner":{"account_id":357865,"reputation":5380,"user_id":1827734,"accept_rate":90,"display_name":"BrDaHa"},"score":4,"creation_date":1577986728,"post_id":33662173,"comment_id":105303187,"body_markdown":"I would disagree that &quot;SuppressWarnings&quot; is the correct approach here.","body":"I would disagree that &quot;SuppressWarnings&quot; is the correct approach here."}],"tags":[],"owner":{"account_id":2345280,"reputation":81,"user_id":2055716,"display_name":"doku"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1447286636,"creation_date":1447286636,"answer_id":33662173,"question_id":24495448,"body_markdown":"I agree it&#39;s a typo on Nonnull vs. NotNull. However, there also seems to be some other bug going on. I was implementing a custom Set and it was complaining about Iterator and toArray methods not having the annotation. But, looking at the JDK, there doesn&#39;t seem to be any such annotation on the interface for Set or Collection. \r\n\r\nhttp://hg.openjdk.java.net/jdk8u/jdk8u/jdk/file/0eb62e4a75e6/src/share/classes/java/util/Set.java\r\nhttp://hg.openjdk.java.net/jdk8u/jdk8u/jdk/file/0eb62e4a75e6/src/share/classes/java/util/Collection.java\r\n\r\nWeird. \r\n\r\nAnyway, the other option is to add a @SuppressWarnings tag to your class or method:\r\n@SuppressWarnings(&quot;NullableProblems&quot;)","title":"Not annotated method overrides method annotated with @NotNull","body":"<p>I agree it's a typo on Nonnull vs. NotNull. However, there also seems to be some other bug going on. I was implementing a custom Set and it was complaining about Iterator and toArray methods not having the annotation. But, looking at the JDK, there doesn't seem to be any such annotation on the interface for Set or Collection. </p>\n\n<p><a href=\"http://hg.openjdk.java.net/jdk8u/jdk8u/jdk/file/0eb62e4a75e6/src/share/classes/java/util/Set.java\" rel=\"noreferrer\">http://hg.openjdk.java.net/jdk8u/jdk8u/jdk/file/0eb62e4a75e6/src/share/classes/java/util/Set.java</a>\n<a href=\"http://hg.openjdk.java.net/jdk8u/jdk8u/jdk/file/0eb62e4a75e6/src/share/classes/java/util/Collection.java\" rel=\"noreferrer\">http://hg.openjdk.java.net/jdk8u/jdk8u/jdk/file/0eb62e4a75e6/src/share/classes/java/util/Collection.java</a></p>\n\n<p>Weird. </p>\n\n<p>Anyway, the other option is to add a @SuppressWarnings tag to your class or method:\n@SuppressWarnings(\"NullableProblems\")</p>\n"},{"tags":[],"owner":{"account_id":12924182,"reputation":849,"user_id":9345535,"display_name":"Pravind Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684760142,"creation_date":1684760142,"answer_id":76306424,"question_id":24495448,"body_markdown":"I also face the same and solve it by adding package-info.java for that package. Under package-info.java added annotation @NonNullApi.\r\nmy package-info.java looks like - \r\n\r\n    @NonNullApi\r\n    package org.example.auth.repositories;\r\n\r\n    import org.springframework.lang.NonNullApi;","title":"Not annotated method overrides method annotated with @NotNull","body":"<p>I also face the same and solve it by adding package-info.java for that package. Under package-info.java added annotation @NonNullApi.\nmy package-info.java looks like -</p>\n<pre><code>@NonNullApi\npackage org.example.auth.repositories;\n\nimport org.springframework.lang.NonNullApi;\n</code></pre>\n"}],"owner":{"account_id":357865,"reputation":5380,"user_id":1827734,"accept_rate":90,"display_name":"BrDaHa"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49532,"favorite_count":0,"down_vote_count":0,"up_vote_count":66,"accepted_answer_id":27942889,"answer_count":4,"score":66,"last_activity_date":1684760142,"creation_date":1404148413,"question_id":24495448,"body_markdown":"I&#39;m implementing a custom data structure that gives me some properties of sets and other properties of lists. For most of the implemented methods though, I get this weird warning in IntelliJ IDEA on Java 7:\r\n\r\n&gt;Not annotated method overrides method annotated with @NotNull\r\n\r\n**EDIT**: The code below isn&#39;t relevant to the issue, but part of the original question. This warning shows up because of a bug in IntelliJ. See the [answer](https://stackoverflow.com/a/27942889/1827734) to (hopefully) resolve your issue.\r\n\r\n----\r\n\r\nI haven&#39;t been able to find anything relevant about it and I&#39;m not sure if I&#39;m actually missing some sort of check, but I&#39;ve looked through the source of both ArrayList and the List interface and can&#39;t see what this warning is actually about. It&#39;s on every implemented method that references the list field. Here&#39;s a snippet of the class I&#39;ve made:\r\n\r\n    public class ListHashSet&lt;T&gt; implements List&lt;T&gt;, Set&lt;T&gt; {\r\n\tprivate ArrayList&lt;T&gt; list;\r\n\tprivate HashSet&lt;T&gt; set;\r\n\r\n\r\n\t/**\r\n\t * Constructs a new, empty list hash set with the specified initial\r\n\t * capacity and load factor.\r\n\t *\r\n\t * @param      initialCapacity the initial capacity of the list hash set\r\n\t * @param      loadFactor      the load factor of the list hash set\r\n\t * @throws     IllegalArgumentException  if the initial capacity is less\r\n\t *               than zero, or if the load factor is nonpositive\r\n\t */\r\n\tpublic ListHashSet(int initialCapacity, float loadFactor) {\r\n\t\tset = new HashSet&lt;&gt;(initialCapacity, loadFactor);\r\n\t\tlist = new ArrayList&lt;&gt;(initialCapacity);\r\n\t}\r\n    ...\r\n    /**\r\n\t * The Object array representation of this collection\r\n\t * @return an Object array in insertion order\r\n\t */\r\n\t@Override\r\n\tpublic Object[] toArray() {  // warning is on this line for the toArray() method\r\n\t\treturn list.toArray();\r\n\t}\r\n\r\nEDIT: I have these additional constructors in the class:\r\n\r\n    public ListHashSet(int initialCapacity) {\r\n\t\tthis(initialCapacity, .75f);\r\n\t}\r\n\r\n\tpublic ListHashSet() {\r\n\t\tthis(16, .75f);\r\n\t}\r\n","title":"Not annotated method overrides method annotated with @NotNull","body":"<p>I'm implementing a custom data structure that gives me some properties of sets and other properties of lists. For most of the implemented methods though, I get this weird warning in IntelliJ IDEA on Java 7:</p>\n\n<blockquote>\n  <p>Not annotated method overrides method annotated with @NotNull</p>\n</blockquote>\n\n<p><strong>EDIT</strong>: The code below isn't relevant to the issue, but part of the original question. This warning shows up because of a bug in IntelliJ. See the <a href=\"https://stackoverflow.com/a/27942889/1827734\">answer</a> to (hopefully) resolve your issue.</p>\n\n<hr>\n\n<p>I haven't been able to find anything relevant about it and I'm not sure if I'm actually missing some sort of check, but I've looked through the source of both ArrayList and the List interface and can't see what this warning is actually about. It's on every implemented method that references the list field. Here's a snippet of the class I've made:</p>\n\n<pre><code>public class ListHashSet&lt;T&gt; implements List&lt;T&gt;, Set&lt;T&gt; {\nprivate ArrayList&lt;T&gt; list;\nprivate HashSet&lt;T&gt; set;\n\n\n/**\n * Constructs a new, empty list hash set with the specified initial\n * capacity and load factor.\n *\n * @param      initialCapacity the initial capacity of the list hash set\n * @param      loadFactor      the load factor of the list hash set\n * @throws     IllegalArgumentException  if the initial capacity is less\n *               than zero, or if the load factor is nonpositive\n */\npublic ListHashSet(int initialCapacity, float loadFactor) {\n    set = new HashSet&lt;&gt;(initialCapacity, loadFactor);\n    list = new ArrayList&lt;&gt;(initialCapacity);\n}\n...\n/**\n * The Object array representation of this collection\n * @return an Object array in insertion order\n */\n@Override\npublic Object[] toArray() {  // warning is on this line for the toArray() method\n    return list.toArray();\n}\n</code></pre>\n\n<p>EDIT: I have these additional constructors in the class:</p>\n\n<pre><code>public ListHashSet(int initialCapacity) {\n    this(initialCapacity, .75f);\n}\n\npublic ListHashSet() {\n    this(16, .75f);\n}\n</code></pre>\n"},{"tags":["java","spring","amazon-web-services","reactive-programming","spring-webflux"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1561395075,"post_id":56725692,"comment_id":100040695,"body_markdown":"can&#39;t you get the bytes by `request.body().toString().getBytes()`?","body":"can&#39;t you get the bytes by <code>request.body().toString().getBytes()</code>?"},{"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"score":0,"creation_date":1561407052,"post_id":56725692,"comment_id":100045552,"body_markdown":"@ThomasAndolf no, because it returns a BodyInserter which is not the actual body. See: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ClientRequest.html#body--","body":"@ThomasAndolf no, because it returns a BodyInserter which is not the actual body. See: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ClientRequest.html#body--\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":10673275,"reputation":1351,"user_id":7857701,"display_name":"Snigdhajyoti"},"score":0,"creation_date":1599124567,"post_id":56725692,"comment_id":112678495,"body_markdown":"Is it possible now?","body":"Is it possible now?"},{"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"score":2,"creation_date":1599129586,"post_id":56725692,"comment_id":112681039,"body_markdown":"Not that I know of. I worked it around by serializing request body and calculating signing headers before sending the request.","body":"Not that I know of. I worked it around by serializing request body and calculating signing headers before sending the request."},{"owner":{"account_id":10673275,"reputation":1351,"user_id":7857701,"display_name":"Snigdhajyoti"},"score":2,"creation_date":1599377483,"post_id":56725692,"comment_id":112752029,"body_markdown":"Can you send a snippet code?","body":"Can you send a snippet code?"},{"owner":{"account_id":4248295,"reputation":1209,"user_id":3476247,"accept_rate":71,"display_name":"bsferreira"},"score":0,"creation_date":1681472929,"post_id":56725692,"comment_id":134065880,"body_markdown":"I know this question is quite outdated but, anyone has a breakthrough on this issue?","body":"I know this question is quite outdated but, anyone has a breakthrough on this issue?"},{"owner":{"account_id":112364,"reputation":25221,"user_id":296427,"accept_rate":91,"display_name":"pixel"},"score":0,"creation_date":1684832134,"post_id":56725692,"comment_id":134570909,"body_markdown":"@bsferreira You can see my answer","body":"@bsferreira You can see my answer"}],"answers":[{"comments":[{"owner":{"account_id":319957,"reputation":514,"user_id":637986,"accept_rate":50,"display_name":"smlgbl"},"score":0,"creation_date":1685088959,"post_id":76306384,"comment_id":134615406,"body_markdown":"This is great and just what I was looking for! AWS documentation is just unusable, but you helped us out. Thank you very much.","body":"This is great and just what I was looking for! AWS documentation is just unusable, but you helped us out. Thank you very much."}],"tags":[],"owner":{"account_id":112364,"reputation":25221,"user_id":296427,"accept_rate":91,"display_name":"pixel"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684759855,"creation_date":1684759855,"answer_id":76306384,"question_id":56725692,"body_markdown":"I came with the following solution:\r\n\r\n```kotlin\r\nimport org.springframework.util.MultiValueMapAdapter\r\nimport org.springframework.web.reactive.function.client.ClientRequest\r\nimport reactor.core.publisher.Mono\r\nimport software.amazon.awssdk.auth.credentials.AwsCredentialsProvider\r\nimport software.amazon.awssdk.auth.signer.Aws4Signer\r\nimport software.amazon.awssdk.auth.signer.AwsSignerExecutionAttribute\r\nimport software.amazon.awssdk.core.interceptor.ExecutionAttributes\r\nimport software.amazon.awssdk.http.SdkHttpFullRequest\r\nimport software.amazon.awssdk.http.SdkHttpMethod\r\nimport software.amazon.awssdk.regions.Region\r\nimport java.util.function.Function\r\n\r\nclass WebClientAwsSigner(\r\n    private val body: String? = null,\r\n    private val signer: Aws4Signer,\r\n    private val awsCredentialsProvider: AwsCredentialsProvider,\r\n    private val serviceName: String,\r\n    private val region: Region,\r\n) : Function&lt;ClientRequest, Mono&lt;ClientRequest&gt;&gt; {\r\n\r\n    override fun apply(request: ClientRequest): Mono&lt;ClientRequest&gt; {\r\n        val requestBuilder = SdkHttpFullRequest.builder()\r\n            .method(SdkHttpMethod.fromValue(request.method().name()))\r\n            .uri(request.url())\r\n            .apply {\r\n                if (body != null) {\r\n                    contentStreamProvider { body.byteInputStream() }\r\n                }\r\n            }\r\n            .headers(request.headers())\r\n\r\n        val attributes = ExecutionAttributes()\r\n        attributes.putAttribute(\r\n            AwsSignerExecutionAttribute.AWS_CREDENTIALS,\r\n            awsCredentialsProvider.resolveCredentials(),\r\n        )\r\n        attributes.putAttribute(AwsSignerExecutionAttribute.SERVICE_SIGNING_NAME, serviceName)\r\n        attributes.putAttribute(AwsSignerExecutionAttribute.SIGNING_REGION, region)\r\n\r\n        val signedAwsRequest = signer.sign(requestBuilder.build(), attributes)\r\n        val signedClientRequest =\r\n            ClientRequest.from(request)\r\n                .headers {\r\n                    it.clear()\r\n                    it.addAll(MultiValueMapAdapter(signedAwsRequest.headers()))\r\n                }\r\n                .build()\r\n\r\n        return Mono.just(signedClientRequest)\r\n    }\r\n}\r\n\r\n    private fun signedAwsWebClient(body: String? = null): WebClient = webclient\r\n        .mutate().filter(\r\n            ExchangeFilterFunction.ofRequestProcessor(\r\n                WebClientAwsSigner(body, Aws4Signer.create(), DefaultCredentialsProvider.create(), &quot;es&quot;, Region.US_EAST_1),\r\n            ),\r\n        )\r\n        .build()\r\n```\r\n\r\nGitHub: https://github.com/kkocel/webclient-signed-request-to-aws","title":"Sign Spring WebClient HTTP request with AWS","body":"<p>I came with the following solution:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import org.springframework.util.MultiValueMapAdapter\nimport org.springframework.web.reactive.function.client.ClientRequest\nimport reactor.core.publisher.Mono\nimport software.amazon.awssdk.auth.credentials.AwsCredentialsProvider\nimport software.amazon.awssdk.auth.signer.Aws4Signer\nimport software.amazon.awssdk.auth.signer.AwsSignerExecutionAttribute\nimport software.amazon.awssdk.core.interceptor.ExecutionAttributes\nimport software.amazon.awssdk.http.SdkHttpFullRequest\nimport software.amazon.awssdk.http.SdkHttpMethod\nimport software.amazon.awssdk.regions.Region\nimport java.util.function.Function\n\nclass WebClientAwsSigner(\n    private val body: String? = null,\n    private val signer: Aws4Signer,\n    private val awsCredentialsProvider: AwsCredentialsProvider,\n    private val serviceName: String,\n    private val region: Region,\n) : Function&lt;ClientRequest, Mono&lt;ClientRequest&gt;&gt; {\n\n    override fun apply(request: ClientRequest): Mono&lt;ClientRequest&gt; {\n        val requestBuilder = SdkHttpFullRequest.builder()\n            .method(SdkHttpMethod.fromValue(request.method().name()))\n            .uri(request.url())\n            .apply {\n                if (body != null) {\n                    contentStreamProvider { body.byteInputStream() }\n                }\n            }\n            .headers(request.headers())\n\n        val attributes = ExecutionAttributes()\n        attributes.putAttribute(\n            AwsSignerExecutionAttribute.AWS_CREDENTIALS,\n            awsCredentialsProvider.resolveCredentials(),\n        )\n        attributes.putAttribute(AwsSignerExecutionAttribute.SERVICE_SIGNING_NAME, serviceName)\n        attributes.putAttribute(AwsSignerExecutionAttribute.SIGNING_REGION, region)\n\n        val signedAwsRequest = signer.sign(requestBuilder.build(), attributes)\n        val signedClientRequest =\n            ClientRequest.from(request)\n                .headers {\n                    it.clear()\n                    it.addAll(MultiValueMapAdapter(signedAwsRequest.headers()))\n                }\n                .build()\n\n        return Mono.just(signedClientRequest)\n    }\n}\n\n    private fun signedAwsWebClient(body: String? = null): WebClient = webclient\n        .mutate().filter(\n            ExchangeFilterFunction.ofRequestProcessor(\n                WebClientAwsSigner(body, Aws4Signer.create(), DefaultCredentialsProvider.create(), &quot;es&quot;, Region.US_EAST_1),\n            ),\n        )\n        .build()\n</code></pre>\n<p>GitHub: <a href=\"https://github.com/kkocel/webclient-signed-request-to-aws\" rel=\"nofollow noreferrer\">https://github.com/kkocel/webclient-signed-request-to-aws</a></p>\n"}],"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1245,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":1,"score":8,"last_activity_date":1684759855,"creation_date":1561306371,"question_id":56725692,"body_markdown":"I would like to [AWS sign][1] my HTTP request fired by reactive [WebClient][2] of Spring. To sign the request I need access to the followings: URL, HTTP method, query parameters, headers and request body bytes.\r\n\r\nI started with writing an [ExchangeFilterFunction][3]. Due to [ClientRequest][4] interface I can access everything there I need, except the request body:\r\n\r\n\t@Component\r\n\tpublic class AwsSigningInterceptor implements ExchangeFilterFunction\r\n\t{\r\n\t\tprivate final AwsHeaderSigner awsHeaderSigner;\r\n\r\n\t\tpublic AwsSigningInterceptor(AwsHeaderSigner awsHeaderSigner)\r\n\t\t{\r\n\t\t\tthis.awsHeaderSigner = awsHeaderSigner;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic Mono&lt;ClientResponse&gt; filter(ClientRequest request, ExchangeFunction next)\r\n\t\t{\r\n\t\t\tMap&lt;String, List&lt;String&gt;&gt; signingHeaders = awsHeaderSigner.createSigningHeaders(request, new byte[]{}, &quot;es&quot;, &quot;us-west-2&quot;); // should pass request body bytes in place of new byte[]{}\r\n\r\n\t\t\tClientRequest.Builder requestBuilder = ClientRequest.from(request);\r\n\r\n\t\t\tsigningHeaders.forEach((key, value) -&gt; requestBuilder.header(key, value.toArray(new String[0])));\r\n\r\n\t\t\treturn next.exchange(requestBuilder.build());\r\n\t\t}\r\n\t}\r\n\r\nIn older spring versions we used [RestTemplate][5] with a [ClientHttpRequestInterceptor][6]. In that case the bytes of the body were exposed, so signing was possible.\r\n\r\nAs I see in case of [WebClient][2] Spring handles the body as a [Publisher][7], so I&#39;m not sure if an [ExchangeFilterFunction][3] is a good place to start. \r\n\r\nHow should I sign the HTTP request?\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/general/latest/gr/signing_aws_api_requests.html\r\n  [2]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/reactive/function/client/WebClient.html\r\n  [3]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ExchangeFilterFunction.html\r\n  [4]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ClientRequest.html\r\n  [5]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html\r\n  [6]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/http/client/ClientHttpRequestInterceptor.html\r\n  [7]: https://www.reactive-streams.org/reactive-streams-1.0.0-javadoc/org/reactivestreams/Publisher.html","title":"Sign Spring WebClient HTTP request with AWS","body":"<p>I would like to <a href=\"https://docs.aws.amazon.com/general/latest/gr/signing_aws_api_requests.html\" rel=\"noreferrer\">AWS sign</a> my HTTP request fired by reactive <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/reactive/function/client/WebClient.html\" rel=\"noreferrer\">WebClient</a> of Spring. To sign the request I need access to the followings: URL, HTTP method, query parameters, headers and request body bytes.</p>\n\n<p>I started with writing an <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ExchangeFilterFunction.html\" rel=\"noreferrer\">ExchangeFilterFunction</a>. Due to <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ClientRequest.html\" rel=\"noreferrer\">ClientRequest</a> interface I can access everything there I need, except the request body:</p>\n\n<pre><code>@Component\npublic class AwsSigningInterceptor implements ExchangeFilterFunction\n{\n    private final AwsHeaderSigner awsHeaderSigner;\n\n    public AwsSigningInterceptor(AwsHeaderSigner awsHeaderSigner)\n    {\n        this.awsHeaderSigner = awsHeaderSigner;\n    }\n\n    @Override\n    public Mono&lt;ClientResponse&gt; filter(ClientRequest request, ExchangeFunction next)\n    {\n        Map&lt;String, List&lt;String&gt;&gt; signingHeaders = awsHeaderSigner.createSigningHeaders(request, new byte[]{}, \"es\", \"us-west-2\"); // should pass request body bytes in place of new byte[]{}\n\n        ClientRequest.Builder requestBuilder = ClientRequest.from(request);\n\n        signingHeaders.forEach((key, value) -&gt; requestBuilder.header(key, value.toArray(new String[0])));\n\n        return next.exchange(requestBuilder.build());\n    }\n}\n</code></pre>\n\n<p>In older spring versions we used <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html\" rel=\"noreferrer\">RestTemplate</a> with a <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/http/client/ClientHttpRequestInterceptor.html\" rel=\"noreferrer\">ClientHttpRequestInterceptor</a>. In that case the bytes of the body were exposed, so signing was possible.</p>\n\n<p>As I see in case of <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/reactive/function/client/WebClient.html\" rel=\"noreferrer\">WebClient</a> Spring handles the body as a <a href=\"https://www.reactive-streams.org/reactive-streams-1.0.0-javadoc/org/reactivestreams/Publisher.html\" rel=\"noreferrer\">Publisher</a>, so I'm not sure if an <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ExchangeFilterFunction.html\" rel=\"noreferrer\">ExchangeFilterFunction</a> is a good place to start. </p>\n\n<p>How should I sign the HTTP request?</p>\n"},{"tags":["java","firebase","macos","apple-m1","firebase-tools"],"comments":[{"owner":{"account_id":11567332,"reputation":21,"user_id":8475129,"display_name":"Jean Charles"},"score":0,"creation_date":1679362065,"post_id":75794346,"comment_id":133704824,"body_markdown":"thanks . it won&#39;t change anything , already downgraded to node@18","body":"thanks . it won&#39;t change anything , already downgraded to node@18"}],"answers":[{"tags":[],"owner":{"account_id":3290504,"reputation":866,"user_id":2768937,"accept_rate":73,"display_name":"Chris"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679351043,"creation_date":1679351043,"answer_id":75795839,"question_id":75794346,"body_markdown":"Node 19 is experimental and not officially supported (by Node or Firebase):\r\n\r\nhttps://github.com/firebase/firebase-tools/issues/5608\r\n\r\nPlease downgrade to 18 and reply if you&#39;re still having issues.","title":"Unable to launch firebase emulators ui","body":"<p>Node 19 is experimental and not officially supported (by Node or Firebase):</p>\n<p><a href=\"https://github.com/firebase/firebase-tools/issues/5608\" rel=\"nofollow noreferrer\">https://github.com/firebase/firebase-tools/issues/5608</a></p>\n<p>Please downgrade to 18 and reply if you're still having issues.</p>\n"},{"tags":[],"owner":{"account_id":14201244,"reputation":249,"user_id":10259099,"display_name":"Rofie Sagara"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679365681,"creation_date":1679365681,"answer_id":75796851,"question_id":75794346,"body_markdown":"You can use docker for that its more a clean way, Im use this image \r\nhttps://hub.docker.com/r/spine3/firebase-emulator","title":"Unable to launch firebase emulators ui","body":"<p>You can use docker for that its more a clean way, Im use this image\n<a href=\"https://hub.docker.com/r/spine3/firebase-emulator\" rel=\"nofollow noreferrer\">https://hub.docker.com/r/spine3/firebase-emulator</a></p>\n"},{"tags":[],"owner":{"account_id":10521433,"reputation":21,"user_id":12614572,"display_name":"Dmitro Serdun"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679556121,"creation_date":1679556121,"answer_id":75820160,"question_id":75794346,"body_markdown":"Downgrading the version helped me, as Chris.\r\n\r\nAlso, for everything to work, you need to delete the cache, in my case, it is the path &quot;/Users/dmitroserdun/.cache/firebase&quot;","title":"Unable to launch firebase emulators ui","body":"<p>Downgrading the version helped me, as Chris.</p>\n<p>Also, for everything to work, you need to delete the cache, in my case, it is the path &quot;/Users/dmitroserdun/.cache/firebase&quot;</p>\n"},{"tags":[],"owner":{"account_id":19025095,"reputation":31,"user_id":13888343,"display_name":"Camille"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1682535472,"creation_date":1682535472,"answer_id":76114187,"question_id":75794346,"body_markdown":"It worked for me to downgrade to Node.js `v18.15.0`. I&#39;ve had `v18.16.0` installed before.\r\nhttps://nodejs.org/dist/v18.15.0/","title":"Unable to launch firebase emulators ui","body":"<p>It worked for me to downgrade to Node.js <code>v18.15.0</code>. I've had <code>v18.16.0</code> installed before.\n<a href=\"https://nodejs.org/dist/v18.15.0/\" rel=\"nofollow noreferrer\">https://nodejs.org/dist/v18.15.0/</a></p>\n"},{"tags":[],"owner":{"account_id":14709384,"reputation":1,"user_id":10625776,"display_name":"Erik Bleckhorns"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684759761,"creation_date":1684759738,"answer_id":76306371,"question_id":75794346,"body_markdown":"Answers above, note the combination of:\r\n - Downgrade to Node.js v18.15.0\r\n - Delete cache (on Windows /Users/user/.cache/firebase)","title":"Unable to launch firebase emulators ui","body":"<p>Answers above, note the combination of:</p>\n<ul>\n<li>Downgrade to Node.js v18.15.0</li>\n<li>Delete cache (on Windows /Users/user/.cache/firebase)</li>\n</ul>\n"}],"owner":{"account_id":11567332,"reputation":21,"user_id":8475129,"display_name":"Jean Charles"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":857,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1684759761,"creation_date":1679339226,"question_id":75794346,"body_markdown":"Hello everybody: i can&#39;t launch my emulators , firebase init ok , ports ok , the problem seems to come from the ui . Anybody could help me ? \r\n\r\n```\r\n(base) jean-charlesdubien@airdejencharles firebase-demo-project % firebase emulators:start\r\ni  emulators: Starting emulators: auth, functions, firestore, hosting, storage\r\n⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: database, pubsub\r\ni  firestore: Firestore Emulator logging to firestore-debug.log\r\n✔  firestore: Firestore Emulator UI websocket is running on 9150.\r\ni  hosting[flutter-ultimate-ae8a4]: Serving hosting files from: public\r\n✔  hosting[flutter-ultimate-ae8a4]: Local server: http://127.0.0.1:5002/\r\ni  ui: Emulator UI logging to ui-debug.log\r\n⚠  ui: Fatal error occurred: \r\n   Emulator UI has exited with code: 1, \r\n   stopping all running emulators\r\ni  ui: Stopping Emulator UI\r\n⚠  ui: Error stopping Emulator UI\r\ni  functions: Stopping Functions Emulator\r\ni  hosting: Stopping Hosting Emulator\r\ni  firestore: Stopping Firestore Emulator\r\ni  auth: Stopping Authentication Emulator\r\ni  storage: Stopping Storage Emulator\r\ni  eventarc: Stopping Eventarc Emulator\r\ni  hub: Stopping emulator hub\r\ni  logging: Stopping Logging Emulator\r\n```\r\n\r\n\r\nNode @19 then downgraded unsuccesfully. java jre19 mac M1 , tried on rosetta and M1 terminal\r\n\r\nThank you \r\n\r\n\r\n\r\n\r\ndowngrade node from 19 to 16\r\nretry init and download emulators\r\ntry from terminal M1 and rosetta .\r\n\r\nEDIT : mode -- debug \r\n\r\nNode.js v18.15.0\r\n {&quot;metadata&quot;:{&quot;emulator&quot;:{&quot;name&quot;:&quot;ui&quot;},&quot;message&quot;:&quot;/Users/jean-charlesdubien/.cache/firebase/emulators/ui-v1.11.4/server/server.js:569\\n        re\\&quot;use strict\\&quot;;\\n          ^^^^^^^^^^^^\\n\\nSyntaxError: Unexpected string\\n    at internalCompileFunction (node:internal/vm:73:18)\\n    at wrapSafe (node:internal/modules/cjs/loader:1176:20)\\n    at Module._compile (node:internal/modules/cjs/loader:1218:27)\\n    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)\\n    at Module.load (node:internal/modules/cjs/loader:1117:32)\\n    at Module._load (node:internal/modules/cjs/loader:958:12)\\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:81:12)\\n    at node:internal/main/run_main_module:23:47\\n\\nNode.js v18.15.0\\n&quot;}}\r\n⚠  ui: Fatal error occurred: \r\n   Emulator UI has exited with code: 1, \r\n   stopping all running emulators {&quot;metadata&quot;:{&quot;emulator&quot;:{&quot;name&quot;:&quot;ui&quot;},&quot;message&quot;:&quot;Fatal error occurred: \\n   Emulator UI has exited with code: 1, \\n   stopping all running emulators&quot;}}\r\n\r\n","title":"Unable to launch firebase emulators ui","body":"<p>Hello everybody: i can't launch my emulators , firebase init ok , ports ok , the problem seems to come from the ui . Anybody could help me ?</p>\n<pre><code>(base) jean-charlesdubien@airdejencharles firebase-demo-project % firebase emulators:start\ni  emulators: Starting emulators: auth, functions, firestore, hosting, storage\n⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: database, pubsub\ni  firestore: Firestore Emulator logging to firestore-debug.log\n✔  firestore: Firestore Emulator UI websocket is running on 9150.\ni  hosting[flutter-ultimate-ae8a4]: Serving hosting files from: public\n✔  hosting[flutter-ultimate-ae8a4]: Local server: http://127.0.0.1:5002/\ni  ui: Emulator UI logging to ui-debug.log\n⚠  ui: Fatal error occurred: \n   Emulator UI has exited with code: 1, \n   stopping all running emulators\ni  ui: Stopping Emulator UI\n⚠  ui: Error stopping Emulator UI\ni  functions: Stopping Functions Emulator\ni  hosting: Stopping Hosting Emulator\ni  firestore: Stopping Firestore Emulator\ni  auth: Stopping Authentication Emulator\ni  storage: Stopping Storage Emulator\ni  eventarc: Stopping Eventarc Emulator\ni  hub: Stopping emulator hub\ni  logging: Stopping Logging Emulator\n</code></pre>\n<p>Node @19 then downgraded unsuccesfully. java jre19 mac M1 , tried on rosetta and M1 terminal</p>\n<p>Thank you</p>\n<p>downgrade node from 19 to 16\nretry init and download emulators\ntry from terminal M1 and rosetta .</p>\n<p>EDIT : mode -- debug</p>\n<p>Node.js v18.15.0\n{&quot;metadata&quot;:{&quot;emulator&quot;:{&quot;name&quot;:&quot;ui&quot;},&quot;message&quot;:&quot;/Users/jean-charlesdubien/.cache/firebase/emulators/ui-v1.11.4/server/server.js:569\\n        re&quot;use strict&quot;;\\n          ^^^^^^^^^^^^\\n\\nSyntaxError: Unexpected string\\n    at internalCompileFunction (node:internal/vm:73:18)\\n    at wrapSafe (node:internal/modules/cjs/loader:1176:20)\\n    at Module._compile (node:internal/modules/cjs/loader:1218:27)\\n    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)\\n    at Module.load (node:internal/modules/cjs/loader:1117:32)\\n    at Module._load (node:internal/modules/cjs/loader:958:12)\\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:81:12)\\n    at node:internal/main/run_main_module:23:47\\n\\nNode.js v18.15.0\\n&quot;}}\n⚠  ui: Fatal error occurred:\nEmulator UI has exited with code: 1,\nstopping all running emulators {&quot;metadata&quot;:{&quot;emulator&quot;:{&quot;name&quot;:&quot;ui&quot;},&quot;message&quot;:&quot;Fatal error occurred: \\n   Emulator UI has exited with code: 1, \\n   stopping all running emulators&quot;}}</p>\n"},{"tags":["java","algorithm","data-structures","knuth-morris-pratt"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1684716435,"post_id":76302458,"comment_id":134552878,"body_markdown":"A performance function for problem actually has three variables: A = the number of occurrences, B = length of str1, C = length of str2.  Which of these is your N?","body":"A performance function for problem actually has three variables: A = the number of occurrences, B = length of str1, C = length of str2.  Which of these is your N?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1684716855,"post_id":76302458,"comment_id":134552906,"body_markdown":"Anyway, your conclusion that `indexOf` is `O(N)` time complexity is incorrect ... depending on which overload of `indexOf` you use and what `N` is.   And you shouldn&#39;t be using `substring` at all.","body":"Anyway, your conclusion that <code>indexOf</code> is <code>O(N)</code> time complexity is incorrect ... depending on which overload of <code>indexOf</code> you use and what <code>N</code> is.   And you shouldn&#39;t be using <code>substring</code> at all."},{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":1,"creation_date":1684717419,"post_id":76302458,"comment_id":134552947,"body_markdown":"Yes, KMP is a good choice for this problem","body":"Yes, KMP is a good choice for this problem"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1684718762,"post_id":76302458,"comment_id":134553060,"body_markdown":"The input data that makes this an interesting problem is one with overlap. So, not `abc`. Try doing this exercise for inputs: str1: `ana` str2: `banananas`. The correct answer is presumably [1, 3, 5]. A simple forward search will fail and answer [1, 5]. Yes, this can be done in O(N). Keep track of how &#39;far&#39; into the needle string you are, once you get to the end - you found an index. The trick is in how you &#39;reset&#39; the count when your algorithm concludes (either found a match, or knows there is no match). You can&#39;t just reset that to 0; you might be halfway to a new match already.","body":"The input data that makes this an interesting problem is one with overlap. So, not <code>abc</code>. Try doing this exercise for inputs: str1: <code>ana</code> str2: <code>banananas</code>. The correct answer is presumably [1, 3, 5]. A simple forward search will fail and answer [1, 5]. Yes, this can be done in O(N). Keep track of how &#39;far&#39; into the needle string you are, once you get to the end - you found an index. The trick is in how you &#39;reset&#39; the count when your algorithm concludes (either found a match, or knows there is no match). You can&#39;t just reset that to 0; you might be halfway to a new match already."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684721742,"post_id":76302458,"comment_id":134553269,"body_markdown":"You can iterate over a `str2.toCharArray`, and utilize a few local variables to determine if there are occurrences of `str1` within the array.  Would this not be O(n)?","body":"You can iterate over a <code>str2.toCharArray</code>, and utilize a few local variables to determine if there are occurrences of <code>str1</code> within the array.  Would this not be O(n)?"},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1684731605,"post_id":76302458,"comment_id":134554063,"body_markdown":"*&quot;Can KMP algorithm work here?&quot;*: is this a yes/no question?","body":"<i>&quot;Can KMP algorithm work here?&quot;</i>: is this a yes/no question?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1684941099,"post_id":76302458,"comment_id":134591794,"body_markdown":"Instead of repeated `.substring(end, n).indexOf(str1)`, you should use [`indexOf(str1, end)`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#indexOf(java.lang.String,int)), just specifying the start index. Yes, that’s a linear search, hence, O(n). But without the `substring` operations, the repeated searches from the previous match position still have the same total time complexity as a single `indexOf` call.","body":"Instead of repeated <code>.substring(end, n).indexOf(str1)</code>, you should use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#indexOf(java.lang.String,int)\" rel=\"nofollow noreferrer\"><code>indexOf(str1, end)</code></a>, just specifying the start index. Yes, that’s a linear search, hence, O(n). But without the <code>substring</code> operations, the repeated searches from the previous match position still have the same total time complexity as a single <code>indexOf</code> call."}],"answers":[{"comments":[{"owner":{"account_id":13823033,"reputation":23,"user_id":9978033,"display_name":"bugdebug"},"score":1,"creation_date":1684736955,"post_id":76302729,"comment_id":134554726,"body_markdown":"I think it has the time complexity of O(m*n) since we are moving indexA to check we have found the stringA in stringB where m is the length of stringA and n is of stringB","body":"I think it has the time complexity of O(m*n) since we are moving indexA to check we have found the stringA in stringB where m is the length of stringA and n is of stringB"}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684722688,"creation_date":1684722688,"answer_id":76302729,"question_id":76302458,"body_markdown":"I was able to get the following algorithm to render.\r\n\r\nCorrect me if I&#39;m wrong; I believe this is an example of O(n) complexity.  \r\nAs for a KMP algorithm, I&#39;m unsure.\r\n\r\n```java\r\nList&lt;Integer&gt; firstMatchingIndexes(String stringA, String stringB) {\r\n    List&lt;Integer&gt; indices = new ArrayList&lt;&gt;();\r\n    boolean checking = false;\r\n    int indexA = 0, indexB = 0;\r\n    for (char character : stringB.toCharArray()) {\r\n        if (checking) {\r\n            if (character == stringA.charAt(indexA))\r\n                if (indexA != stringA.length() - 1)\r\n                    indexA++;\r\n                else {\r\n                    indices.add(indexB - (stringA.length() - 1));\r\n                    checking = false;\r\n                    indexA = 0;\r\n                }\r\n            else {\r\n                checking = false;\r\n                indexA = 0;\r\n            }\r\n        } else if (character == stringA.charAt(indexA)) {\r\n            checking = true;\r\n            indexA++;\r\n        }\r\n        indexB++;\r\n    }\r\n    return indices;\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n[0, 5, 12]\r\n```","title":"Find the list of starting indexes of occurring of a string in another string in O(N) time complexity","body":"<p>I was able to get the following algorithm to render.</p>\n<p>Correct me if I'm wrong; I believe this is an example of O(n) complexity.<br />\nAs for a KMP algorithm, I'm unsure.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; firstMatchingIndexes(String stringA, String stringB) {\n    List&lt;Integer&gt; indices = new ArrayList&lt;&gt;();\n    boolean checking = false;\n    int indexA = 0, indexB = 0;\n    for (char character : stringB.toCharArray()) {\n        if (checking) {\n            if (character == stringA.charAt(indexA))\n                if (indexA != stringA.length() - 1)\n                    indexA++;\n                else {\n                    indices.add(indexB - (stringA.length() - 1));\n                    checking = false;\n                    indexA = 0;\n                }\n            else {\n                checking = false;\n                indexA = 0;\n            }\n        } else if (character == stringA.charAt(indexA)) {\n            checking = true;\n            indexA++;\n        }\n        indexB++;\n    }\n    return indices;\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[0, 5, 12]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684759650,"creation_date":1684749253,"answer_id":76304970,"question_id":76302458,"body_markdown":"Yes, the Knuth–Morris–Pratt algorithm can be of use here.\r\n\r\nThe Wikipedia article on the [Knuth–Morris–Pratt algorithm](https://en.wikipedia.org/wiki/Knuth%E2%80%93Morris%E2%80%93Pratt_algorithm#Description_of_pseudocode_for_the_search_algorithm) provides pseudocode for the algorithm. Here is that pseudocode ported to Java:\r\n\r\n```\r\n    static int[] kmpTable(String pattern) {\r\n        int n = pattern.length();\r\n        int[] partialMatchTable = new int[n+1];\r\n        int j = 0;\r\n\r\n        partialMatchTable[0] = -1;\r\n\r\n        for (int i = 1; i &lt; n; i++, j++) {\r\n            if (pattern.charAt(i) == pattern.charAt(j)) {\r\n                partialMatchTable[i] = partialMatchTable[j];\r\n            } else {\r\n                partialMatchTable[i] = j;\r\n                while (j &gt;= 0 &amp;&amp; pattern.charAt(i) != pattern.charAt(j)) {\r\n                    j = partialMatchTable[j];\r\n                }\r\n            }\r\n        }\r\n        partialMatchTable[n] = j;\r\n        return partialMatchTable;\r\n    }\r\n \r\n    static List&lt;Integer&gt; kmpSearch(String needle, String haystack) {\r\n        List&lt;Integer&gt; matches = new ArrayList&lt;&gt;();\r\n        int m = haystack.length();\r\n        int n = needle.length();\r\n        if (n &gt; m) { // Added this to avoid O(m) runtime\r\n            return matches; // Return empty list when needle is too large\r\n        }\r\n        int[] partialMatchTable = kmpTable(needle);\r\n        int j = 0, k = 0;\r\n\r\n        while (j &lt; m) {\r\n            if (needle.charAt(k) == haystack.charAt(j)) {\r\n                j++;\r\n                k++;\r\n                if (k == n) {\r\n                    matches.add(j - k);\r\n                    k = partialMatchTable[k];\r\n                }\r\n            } else {\r\n                k = partialMatchTable[k];\r\n                if (k &lt; 0) {\r\n                    j++;\r\n                    k++;\r\n                }\r\n            }\r\n        }\r\n        return matches;\r\n    }\r\n\r\n    public static void main(String args[])\r\n    {\r\n        System.out.println(&quot;matches: &quot; + kmpSearch(&quot;abc&quot;, &quot;abckdabcgfacabc&quot;));\r\n    }\r\n```\r\n\r\nThis outputs:\r\n\r\n```none\r\nmatches: [0, 5, 12]\r\n```\r\n\r\nWikipedia says about the time complexity:\r\n\r\n&gt; the Knuth–Morris–Pratt algorithm has complexity O(&#119899;), where &#119899; is the length of &#119878;.\r\n\r\nAnd when taking into account the time needed for building the partial-match table for a pattern of length &#119896;:\r\n\r\n&gt; Since the two portions of the algorithm have, respectively, complexities of O(&#119896;) and O(&#119899;), the complexity of the overall algorithm is O(&#119899; + &#119896;).\r\n\r\nWe can however say it is O(&#119899;) when &#119896; ≤ &#119899;. When searching with a pattern that is longer than the string to search in, the algorithm could just skip building the partial match table for such a search string and exit with an empty list (See commented code that is not present in Wikipedia&#39;s pseudocode). That way it is always O(&#119899;).","title":"Find the list of starting indexes of occurring of a string in another string in O(N) time complexity","body":"<p>Yes, the Knuth–Morris–Pratt algorithm can be of use here.</p>\n<p>The Wikipedia article on the <a href=\"https://en.wikipedia.org/wiki/Knuth%E2%80%93Morris%E2%80%93Pratt_algorithm#Description_of_pseudocode_for_the_search_algorithm\" rel=\"nofollow noreferrer\">Knuth–Morris–Pratt algorithm</a> provides pseudocode for the algorithm. Here is that pseudocode ported to Java:</p>\n<pre><code>    static int[] kmpTable(String pattern) {\n        int n = pattern.length();\n        int[] partialMatchTable = new int[n+1];\n        int j = 0;\n\n        partialMatchTable[0] = -1;\n\n        for (int i = 1; i &lt; n; i++, j++) {\n            if (pattern.charAt(i) == pattern.charAt(j)) {\n                partialMatchTable[i] = partialMatchTable[j];\n            } else {\n                partialMatchTable[i] = j;\n                while (j &gt;= 0 &amp;&amp; pattern.charAt(i) != pattern.charAt(j)) {\n                    j = partialMatchTable[j];\n                }\n            }\n        }\n        partialMatchTable[n] = j;\n        return partialMatchTable;\n    }\n \n    static List&lt;Integer&gt; kmpSearch(String needle, String haystack) {\n        List&lt;Integer&gt; matches = new ArrayList&lt;&gt;();\n        int m = haystack.length();\n        int n = needle.length();\n        if (n &gt; m) { // Added this to avoid O(m) runtime\n            return matches; // Return empty list when needle is too large\n        }\n        int[] partialMatchTable = kmpTable(needle);\n        int j = 0, k = 0;\n\n        while (j &lt; m) {\n            if (needle.charAt(k) == haystack.charAt(j)) {\n                j++;\n                k++;\n                if (k == n) {\n                    matches.add(j - k);\n                    k = partialMatchTable[k];\n                }\n            } else {\n                k = partialMatchTable[k];\n                if (k &lt; 0) {\n                    j++;\n                    k++;\n                }\n            }\n        }\n        return matches;\n    }\n\n    public static void main(String args[])\n    {\n        System.out.println(&quot;matches: &quot; + kmpSearch(&quot;abc&quot;, &quot;abckdabcgfacabc&quot;));\n    }\n</code></pre>\n<p>This outputs:</p>\n<pre class=\"lang-none prettyprint-override\"><code>matches: [0, 5, 12]\n</code></pre>\n<p>Wikipedia says about the time complexity:</p>\n<blockquote>\n<p>the Knuth–Morris–Pratt algorithm has complexity O(𝑛), where 𝑛 is the length of 𝑆.</p>\n</blockquote>\n<p>And when taking into account the time needed for building the partial-match table for a pattern of length 𝑘:</p>\n<blockquote>\n<p>Since the two portions of the algorithm have, respectively, complexities of O(𝑘) and O(𝑛), the complexity of the overall algorithm is O(𝑛 + 𝑘).</p>\n</blockquote>\n<p>We can however say it is O(𝑛) when 𝑘 ≤ 𝑛. When searching with a pattern that is longer than the string to search in, the algorithm could just skip building the partial match table for such a search string and exit with an empty list (See commented code that is not present in Wikipedia's pseudocode). That way it is always O(𝑛).</p>\n"}],"owner":{"account_id":13823033,"reputation":23,"user_id":9978033,"display_name":"bugdebug"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":76304970,"answer_count":2,"score":-1,"last_activity_date":1684759650,"creation_date":1684715770,"question_id":76302458,"body_markdown":"Given are two strings : str1 and str2. Find all the starting indexes of str1 in str2. Example:\r\nI/p = str1: abc, str2: abckdabcgfacabc\r\nO/p = [0, 5, 12]\r\n\r\n\r\n    public static List&lt;Integer&gt; firstMatchingIndexes(String str1, String str2) {\r\n\t\tList&lt;Integer&gt; indexes = new ArrayList&lt;&gt;();\r\n\t\tint end = 0, n = str2.length();\r\n\t\t\r\n\t\tfor(; end&lt;n; end++) {\r\n\t\t\tint index = str2.substring(end, n).indexOf(str1)+end;\r\n\t\t\tif(index!=-1)\r\n\t\t\t\tindexes.add(index);\r\n\t\t\telse\r\n\t\t\t\tbreak;\r\n\t\t\tend =index + str1.length()-1;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn indexes;\r\n\t}\r\n\r\nBut this approach uses indexOf() which internally has O(N) time complexity. Can KMP algorithm work here?","title":"Find the list of starting indexes of occurring of a string in another string in O(N) time complexity","body":"<p>Given are two strings : str1 and str2. Find all the starting indexes of str1 in str2. Example:\nI/p = str1: abc, str2: abckdabcgfacabc\nO/p = [0, 5, 12]</p>\n<pre><code>public static List&lt;Integer&gt; firstMatchingIndexes(String str1, String str2) {\n    List&lt;Integer&gt; indexes = new ArrayList&lt;&gt;();\n    int end = 0, n = str2.length();\n    \n    for(; end&lt;n; end++) {\n        int index = str2.substring(end, n).indexOf(str1)+end;\n        if(index!=-1)\n            indexes.add(index);\n        else\n            break;\n        end =index + str1.length()-1;\n        \n    }\n    \n    return indexes;\n}\n</code></pre>\n<p>But this approach uses indexOf() which internally has O(N) time complexity. Can KMP algorithm work here?</p>\n"},{"tags":["java","spring","static-factory"],"comments":[{"owner":{"account_id":13191305,"reputation":39,"user_id":9527519,"display_name":"rahuLrajaN"},"score":0,"creation_date":1610729802,"post_id":65739693,"comment_id":116232975,"body_markdown":"what I meant, Is it good practice or not","body":"what I meant, Is it good practice or not"},{"owner":{"account_id":7582429,"reputation":5670,"user_id":5752730,"display_name":"DV82XL"},"score":0,"creation_date":1610751406,"post_id":65739693,"comment_id":116240511,"body_markdown":"Please provide a code sample of what you have tried.","body":"Please provide a code sample of what you have tried."},{"owner":{"account_id":13191305,"reputation":39,"user_id":9527519,"display_name":"rahuLrajaN"},"score":0,"creation_date":1610780402,"post_id":65739693,"comment_id":116244897,"body_markdown":"actually Iam not tried yet in Modal Class ,I just want to know it&#39;s good practice or not, My need is that I want to validate the field satisfy my equation before saving object to database","body":"actually Iam not tried yet in Modal Class ,I just want to know it&#39;s good practice or not, My need is that I want to validate the field satisfy my equation before saving object to database"},{"owner":{"account_id":13191305,"reputation":39,"user_id":9527519,"display_name":"rahuLrajaN"},"score":0,"creation_date":1610780874,"post_id":65739693,"comment_id":116244965,"body_markdown":"consider I have a Modal class named AA and fields are A ,B ,C .If it is valid C=A+B like that validation actually I need. And Need this to satisfy before saving to DB","body":"consider I have a Modal class named AA and fields are A ,B ,C .If it is valid C=A+B like that validation actually I need. And Need this to satisfy before saving to DB"}],"answers":[{"tags":[],"owner":{"account_id":153343,"reputation":1086,"user_id":368532,"accept_rate":70,"display_name":"Boris"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610763123,"creation_date":1610763123,"answer_id":65745842,"question_id":65739693,"body_markdown":"I would recommend to avoid this by the following reasons:\r\n1. You lose separation of concern between model and model validation logic. Especially if validation touches only a few fields. Adding/modifying fields and modifying validation logic at the same time should not cause the code change conflict.\r\n2. You make it much harder for testing (static variables are evil for testing).\r\n3. You violate &quot;inversion of control&quot; principle. You will have bad time when you need to replace validation implementation in a flexible way.\r\n\r\nWhat you can probably do is adding [custom validation annotation][1] to the model.\r\nThis validation will be executed by spring bean that implements some spec.\r\nThis way you don&#39;t have above issues but still you can keep validation rule (without implementation details) on the model class.\r\n\r\n  [1]: https://www.baeldung.com/spring-mvc-custom-validator","title":"java static factory methods in Spring Model class","body":"<p>I would recommend to avoid this by the following reasons:</p>\n<ol>\n<li>You lose separation of concern between model and model validation logic. Especially if validation touches only a few fields. Adding/modifying fields and modifying validation logic at the same time should not cause the code change conflict.</li>\n<li>You make it much harder for testing (static variables are evil for testing).</li>\n<li>You violate &quot;inversion of control&quot; principle. You will have bad time when you need to replace validation implementation in a flexible way.</li>\n</ol>\n<p>What you can probably do is adding <a href=\"https://www.baeldung.com/spring-mvc-custom-validator\" rel=\"nofollow noreferrer\">custom validation annotation</a> to the model.\nThis validation will be executed by spring bean that implements some spec.\nThis way you don't have above issues but still you can keep validation rule (without implementation details) on the model class.</p>\n"},{"tags":[],"owner":{"account_id":6124082,"reputation":2803,"user_id":4776689,"accept_rate":61,"display_name":"P_M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684759585,"creation_date":1684759585,"answer_id":76306350,"question_id":65739693,"body_markdown":"No it is not a good to place java static factory method in Spring Model Class to validate fields.\r\n\r\nThis is a functionality, which have nothing to do with Model class. The purpose of model classes is to map SQL table data (or NoSQL data) to java POJO called Entity. Do not place any functionality there.\r\n\r\nValidation process is a functionality, thus it is the best to place it into Service layer within Spring bean like @Service or @Component.\r\n\r\nThe less efficient method for validation is to use annotations on POJO attributes. Though those POJOs are should not be Entities, but Data Transfer Objects and they have to map incoming request data. I consider this not as good as to place validation in Spring beans because validation with annotations have limited functionality, and makes functional code placed in few places. Some of validation code will be at the DTO annotations and some validation within bean (Service). This is harder to read and maintain, then have everything in spring Service bean.","title":"java static factory methods in Spring Model class","body":"<p>No it is not a good to place java static factory method in Spring Model Class to validate fields.</p>\n<p>This is a functionality, which have nothing to do with Model class. The purpose of model classes is to map SQL table data (or NoSQL data) to java POJO called Entity. Do not place any functionality there.</p>\n<p>Validation process is a functionality, thus it is the best to place it into Service layer within Spring bean like @Service or @Component.</p>\n<p>The less efficient method for validation is to use annotations on POJO attributes. Though those POJOs are should not be Entities, but Data Transfer Objects and they have to map incoming request data. I consider this not as good as to place validation in Spring beans because validation with annotations have limited functionality, and makes functional code placed in few places. Some of validation code will be at the DTO annotations and some validation within bean (Service). This is harder to read and maintain, then have everything in spring Service bean.</p>\n"}],"owner":{"account_id":13191305,"reputation":39,"user_id":9527519,"display_name":"rahuLrajaN"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684759585,"creation_date":1610727672,"question_id":65739693,"body_markdown":"Is it good to use java static factory method in Spring Model Class for validate field with some kind of equation","title":"java static factory methods in Spring Model class","body":"<p>Is it good to use java static factory method in Spring Model Class for validate field with some kind of equation</p>\n"},{"tags":["java","tree","binary-tree"],"comments":[{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":1,"creation_date":1684759906,"post_id":76305552,"comment_id":134559323,"body_markdown":"This should not be called a tree. It is a directed cyclic graph.","body":"This should not be called a tree. It is a directed cyclic graph."},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":1,"creation_date":1684760131,"post_id":76305552,"comment_id":134559367,"body_markdown":"You can use a standard breadth-first-search algorithm: as soon as the target node is found you have the shortest path to it, which will not have a redundant cycle.","body":"You can use a standard breadth-first-search algorithm: as soon as the target node is found you have the shortest path to it, which will not have a redundant cycle."},{"owner":{"account_id":5660958,"reputation":107,"user_id":4478644,"accept_rate":75,"display_name":"TIW DEV"},"score":0,"creation_date":1684769442,"post_id":76305552,"comment_id":134561595,"body_markdown":"@trincot Thanks for that.  Breadth-first-search algorithm .. ill look into that.","body":"@trincot Thanks for that.  Breadth-first-search algorithm .. ill look into that."}],"owner":{"account_id":5660958,"reputation":107,"user_id":4478644,"accept_rate":75,"display_name":"TIW DEV"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684759365,"creation_date":1684753814,"question_id":76305552,"body_markdown":"I have a slightly odd query.  A project I am working on, which because of a confidentiality clause I am limited in what I can say about it, employs the following style of node tree:\r\n\r\n[![Node tree with repetition][1]][1]\r\n\r\nThis six-level drawing is a small sample of the 69 level full tree.  Traversing and recording the routes through the tree to get from A to K for example is common practice where there is no repetition, and doesn&#39;t cause any problems.  However, at several places in the tree we have a situation where the exit from one node connects back to an earlier node in the tree.  Think of route mapping within Sat Nav software for a more visual example.\r\n\r\nSo there are valid links from A to S as well as F to N and from A to P as well as E to I for example. There are legal and illegal routes. For example in the case of A to S, it could go A,C,F,M,S and A,C,F,M,C,F,M,S (the latter is invalid as there is repetition that isn&#39;t needed).  To be clear, Not all routes through the tree necessarily start at A.\r\n\r\nMy query is how to detect the un-necessary repetition (ie illegal routes) and what is the most economical way of traversing the tree to record the routes.  The time to traverse is not a major consideration, as the tree will be traversed and the legal routes recorded in multi-dimensional arrays.  It will only be re-run if the node links change (which could potentially be every three to four months). \r\n\r\nCan anyone offer any thoughts on the most effective and efficient way to do this?  The software is being programmed in Java for reference.\r\n\r\n  [1]: https://i.stack.imgur.com/ccJoR.jpg","title":"Most efficient way of traversing a node tree when there is repetition","body":"<p>I have a slightly odd query.  A project I am working on, which because of a confidentiality clause I am limited in what I can say about it, employs the following style of node tree:</p>\n<p><a href=\"https://i.stack.imgur.com/ccJoR.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ccJoR.jpg\" alt=\"Node tree with repetition\" /></a></p>\n<p>This six-level drawing is a small sample of the 69 level full tree.  Traversing and recording the routes through the tree to get from A to K for example is common practice where there is no repetition, and doesn't cause any problems.  However, at several places in the tree we have a situation where the exit from one node connects back to an earlier node in the tree.  Think of route mapping within Sat Nav software for a more visual example.</p>\n<p>So there are valid links from A to S as well as F to N and from A to P as well as E to I for example. There are legal and illegal routes. For example in the case of A to S, it could go A,C,F,M,S and A,C,F,M,C,F,M,S (the latter is invalid as there is repetition that isn't needed).  To be clear, Not all routes through the tree necessarily start at A.</p>\n<p>My query is how to detect the un-necessary repetition (ie illegal routes) and what is the most economical way of traversing the tree to record the routes.  The time to traverse is not a major consideration, as the tree will be traversed and the legal routes recorded in multi-dimensional arrays.  It will only be re-run if the node links change (which could potentially be every three to four months).</p>\n<p>Can anyone offer any thoughts on the most effective and efficient way to do this?  The software is being programmed in Java for reference.</p>\n"},{"tags":["java","android","sql-server","okhttp"],"comments":[{"owner":{"account_id":20264817,"reputation":56105,"user_id":14868997,"display_name":"Charlieface"},"score":0,"creation_date":1684760922,"post_id":76306192,"comment_id":134559529,"body_markdown":"Do yourself a favour and don&#39;t even think about using the ancient `sp_OA` procedures, they are buggy and full of issues. Instead use Python, Java or C# or Powershell to get the data from SQL Server and send it. The table variable seems unnecessary, you can just do `SELECT (SELECT id, test FROM test_table FOR JSON PATH)`","body":"Do yourself a favour and don&#39;t even think about using the ancient <code>sp_OA</code> procedures, they are buggy and full of issues. Instead use Python, Java or C# or Powershell to get the data from SQL Server and send it. The table variable seems unnecessary, you can just do <code>SELECT (SELECT id, test FROM test_table FOR JSON PATH)</code>"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1684763398,"post_id":76306192,"comment_id":134560114,"body_markdown":"You can&#39;t &quot;call&quot; sql server procedures as if it were a rest api, you have to go through the old boring jdbc. What you should do is to create an API server between your app and sql server, this server can act as API endpoint, and then call your database by jdbc from the API server and return json as results","body":"You can&#39;t &quot;call&quot; sql server procedures as if it were a rest api, you have to go through the old boring jdbc. What you should do is to create an API server between your app and sql server, this server can act as API endpoint, and then call your database by jdbc from the API server and return json as results"},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1685016355,"post_id":76306192,"comment_id":134603736,"body_markdown":"_I will be honest, I can&#39;t really say if this procedure listens to the HTTP requests._ It doesn&#39;t. It&#39;s trying to send a POST request to the web server listening at ip_address:1433 except that most likely SQL Server is listening on that port and doesn&#39;t understand nor care for HTTP requests.","body":"<i>I will be honest, I can&#39;t really say if this procedure listens to the HTTP requests.</i> It doesn&#39;t. It&#39;s trying to send a POST request to the web server listening at ip_address:1433 except that most likely SQL Server is listening on that port and doesn&#39;t understand nor care for HTTP requests."}],"owner":{"account_id":28588451,"reputation":13,"user_id":21888219,"display_name":"theprodigy133"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684758379,"creation_date":1684758379,"question_id":76306192,"body_markdown":"I am currently working on my Android app. To receive data, that is required to run my app, I made a rest API for my app. I used the newest version of Okhttp3. Here&#39;s the classes and methods I created:\r\n\r\nMainActivity:\r\n\r\n```\r\npackage com.example.test3;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.chaquo.python.PyObject;\r\nimport com.chaquo.python.Python;\r\nimport com.chaquo.python.android.AndroidPlatform;\r\nimport com.google.gson.Gson;\r\n\r\nimport org.json.JSONArray;\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\nimport org.w3c.dom.Text;\r\n\r\nimport java.io.IOException;\r\nimport java.sql.Connection;\r\nimport java.sql.ResultSet;\r\nimport java.sql.Statement;\r\n\r\nimport okhttp3.Call;\r\nimport okhttp3.Callback;\r\nimport okhttp3.Response;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    Button button;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        init();\r\n        //displayQuote();\r\n        button = findViewById(R.id.button);\r\n        button.setOnClickListener(v -&gt; receiveData());\r\n    }\r\n    public void init(){\r\n        if (! Python.isStarted()) {\r\n            Python.start(new AndroidPlatform(this));\r\n        }\r\n    }\r\n\r\n    public void receiveData() {\r\n        TextView text1 = findViewById(R.id.text1);\r\n        TextView text2 = findViewById(R.id.text2);\r\n\r\n        APIManager apiManager = new APIManager();\r\n        String url = &quot;http://ip_address:1433/test&quot;;\r\n\r\n        apiManager.fetchData(url, new Callback() {\r\n            @Override\r\n            public void onFailure(@NonNull Call call, @NonNull IOException e) {\r\n                runOnUiThread(() -&gt; Toast.makeText(MainActivity.this, &quot;Błąd pobierania danych&quot;, Toast.LENGTH_SHORT).show());\r\n            }\r\n\r\n            @Override\r\n            public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\r\n                if (response.isSuccessful()) {\r\n                    assert response.body() != null;\r\n                    String responseData = response.body().string();\r\n\r\n                    try {\r\n                        JSONObject json = new JSONObject(responseData);\r\n                        String jsonResponse = json.optString(&quot;response&quot;);\r\n\r\n                        JSONArray jsonArray = new JSONArray(jsonResponse);\r\n                        if (jsonArray.length() &gt; 0) {\r\n                            JSONObject jsonObject = jsonArray.getJSONObject(0);\r\n                            String id = jsonObject.optString(&quot;id&quot;);\r\n                            String test = jsonObject.optString(&quot;test&quot;);\r\n\r\n                            runOnUiThread(() -&gt; {\r\n                                text1.setText(id);\r\n                                text2.setText(test);\r\n                            });\r\n                        } else {\r\n                            runOnUiThread(() -&gt; Toast.makeText(MainActivity.this, &quot;Brak danych&quot;, Toast.LENGTH_SHORT).show());\r\n                        }\r\n                    } catch (JSONException e) {\r\n                        e.printStackTrace();\r\n                        runOnUiThread(() -&gt; Toast.makeText(MainActivity.this, &quot;Błąd przetwarzania danych JSON&quot;, Toast.LENGTH_SHORT).show());\r\n                    }\r\n                } else {\r\n                    runOnUiThread(() -&gt; Toast.makeText(MainActivity.this, &quot;Błąd pobierania danych&quot;, Toast.LENGTH_SHORT).show());\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\nAPIManager:\r\n\r\n```\r\npackage com.example.test3;\r\n\r\nimport androidx.annotation.NonNull;\r\n\r\nimport okhttp3.*;\r\nimport java.io.IOException;\r\n\r\n\r\npublic class APIManager {\r\n    private OkHttpClient client = new OkHttpClient();\r\n\r\n    public void fetchData(String url, final okhttp3.Callback callback){\r\n        Request request = new Request.Builder().url(url).build();\r\n\r\n        client.newCall(request).enqueue(new Callback() {\r\n            @Override\r\n            public void onFailure(@NonNull Call call, @NonNull IOException e) {\r\n                e.printStackTrace();\r\n                callback.onFailure(call, e);\r\n            }\r\n\r\n            @Override\r\n            public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\r\n                if (response.isSuccessful()){\r\n                    String responseData = response.body().string();\r\n                    callback.onResponse(call, response);\r\n                } else {\r\n                    callback.onFailure(call, new IOException(&quot;Request failed: &quot;+ response));\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\nTestTable:\r\n```\r\npackage com.example.test3;\r\n\r\npublic class TestTable {\r\n    private int id;\r\n    private String test;\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getTest() {\r\n        return test;\r\n    }\r\n\r\n    public void setTest(String test) {\r\n        this.test = test;\r\n    }\r\n}\r\n```\r\nAs you can notice, my code is simply a testfield, I tried some other solutions, but the solution I want to proceed seems to be the best.\r\n\r\nI also created a procedure for my database, that is meant to receive HTTP requests from REST API from my app and send him a response. Here&#39;s the query:\r\n```\r\nCREATE PROCEDURE [dbo].[ListenAndSendRequest]\r\nAS\r\nBEGIN\r\n    DECLARE @url NVARCHAR(200) = &#39;http://ip_address:1433/test&#39;\r\n    \r\n    DECLARE @requestBody NVARCHAR(MAX) = &#39;&#39;\r\n    DECLARE @response NVARCHAR(MAX)\r\n    DECLARE @httpStatus INT\r\n    DECLARE @data TABLE (id INT, test NVARCHAR(100))\r\n    INSERT INTO @data (id, test)\r\n    SELECT id, test FROM test_table\r\n\r\n    SET @requestBody = (\r\n        SELECT id, test\r\n        FROM @data\r\n        FOR JSON PATH\r\n    )\r\n\r\n    DECLARE @httpObj INT\r\n    EXEC sp_OACreate &#39;MSXML2.ServerXMLHTTP&#39;, @httpObj OUT\r\n\r\n    EXEC sp_OAMethod @httpObj, &#39;open&#39;, NULL, &#39;POST&#39;, @url, &#39;false&#39;\r\n\r\n    EXEC sp_OAMethod @httpObj, &#39;setRequestHeader&#39;, NULL, &#39;Content-Type&#39;, &#39;application/json&#39;\r\n    \r\n    EXEC sp_OAMethod @httpObj, &#39;send&#39;, NULL, @requestBody\r\n\r\n    EXEC sp_OAMethod @httpObj, &#39;responseText&#39;, @response OUTPUT\r\n\r\n    EXEC sp_OAMethod @httpObj, &#39;status&#39;, @httpStatus OUTPUT\r\n\r\n    PRINT &#39;Response: &#39; + @response\r\n    PRINT &#39;HTTP Status: &#39; + CAST(@httpStatus AS NVARCHAR(10))\r\n\r\n    EXEC sp_OADestroy @httpObj\r\nEND\r\n\r\n```\r\nI will be honest, I can&#39;t really say if this procedure listens to the HTTP requests. I am still learning.\r\n\r\n\r\n\r\nThere are no crashes occurred, whenever I run the app. But when I click the button, that is meant to display the data from my database, my logcat displays a warning. Here&#39;s the warning I am talking about:\r\n```\r\njava.io.IOException: unexpected end of stream on http://ip_address:1433/...\r\n\r\nCaused by: java.io.EOFException: \\n not found: limit=0 content=…\r\n```\r\nIt&#39;s  also worth to mention, that I run my app on physical device.\r\n\r\nEvery suggestion is appreciated, thanks!","title":"HTTP Requests from Android app to SQL Server issue","body":"<p>I am currently working on my Android app. To receive data, that is required to run my app, I made a rest API for my app. I used the newest version of Okhttp3. Here's the classes and methods I created:</p>\n<p>MainActivity:</p>\n<pre><code>package com.example.test3;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.chaquo.python.PyObject;\nimport com.chaquo.python.Python;\nimport com.chaquo.python.android.AndroidPlatform;\nimport com.google.gson.Gson;\n\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\nimport org.w3c.dom.Text;\n\nimport java.io.IOException;\nimport java.sql.Connection;\nimport java.sql.ResultSet;\nimport java.sql.Statement;\n\nimport okhttp3.Call;\nimport okhttp3.Callback;\nimport okhttp3.Response;\n\npublic class MainActivity extends AppCompatActivity {\n\n    Button button;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        init();\n        //displayQuote();\n        button = findViewById(R.id.button);\n        button.setOnClickListener(v -&gt; receiveData());\n    }\n    public void init(){\n        if (! Python.isStarted()) {\n            Python.start(new AndroidPlatform(this));\n        }\n    }\n\n    public void receiveData() {\n        TextView text1 = findViewById(R.id.text1);\n        TextView text2 = findViewById(R.id.text2);\n\n        APIManager apiManager = new APIManager();\n        String url = &quot;http://ip_address:1433/test&quot;;\n\n        apiManager.fetchData(url, new Callback() {\n            @Override\n            public void onFailure(@NonNull Call call, @NonNull IOException e) {\n                runOnUiThread(() -&gt; Toast.makeText(MainActivity.this, &quot;Błąd pobierania danych&quot;, Toast.LENGTH_SHORT).show());\n            }\n\n            @Override\n            public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\n                if (response.isSuccessful()) {\n                    assert response.body() != null;\n                    String responseData = response.body().string();\n\n                    try {\n                        JSONObject json = new JSONObject(responseData);\n                        String jsonResponse = json.optString(&quot;response&quot;);\n\n                        JSONArray jsonArray = new JSONArray(jsonResponse);\n                        if (jsonArray.length() &gt; 0) {\n                            JSONObject jsonObject = jsonArray.getJSONObject(0);\n                            String id = jsonObject.optString(&quot;id&quot;);\n                            String test = jsonObject.optString(&quot;test&quot;);\n\n                            runOnUiThread(() -&gt; {\n                                text1.setText(id);\n                                text2.setText(test);\n                            });\n                        } else {\n                            runOnUiThread(() -&gt; Toast.makeText(MainActivity.this, &quot;Brak danych&quot;, Toast.LENGTH_SHORT).show());\n                        }\n                    } catch (JSONException e) {\n                        e.printStackTrace();\n                        runOnUiThread(() -&gt; Toast.makeText(MainActivity.this, &quot;Błąd przetwarzania danych JSON&quot;, Toast.LENGTH_SHORT).show());\n                    }\n                } else {\n                    runOnUiThread(() -&gt; Toast.makeText(MainActivity.this, &quot;Błąd pobierania danych&quot;, Toast.LENGTH_SHORT).show());\n                }\n            }\n        });\n    }\n}\n</code></pre>\n<p>APIManager:</p>\n<pre><code>package com.example.test3;\n\nimport androidx.annotation.NonNull;\n\nimport okhttp3.*;\nimport java.io.IOException;\n\n\npublic class APIManager {\n    private OkHttpClient client = new OkHttpClient();\n\n    public void fetchData(String url, final okhttp3.Callback callback){\n        Request request = new Request.Builder().url(url).build();\n\n        client.newCall(request).enqueue(new Callback() {\n            @Override\n            public void onFailure(@NonNull Call call, @NonNull IOException e) {\n                e.printStackTrace();\n                callback.onFailure(call, e);\n            }\n\n            @Override\n            public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\n                if (response.isSuccessful()){\n                    String responseData = response.body().string();\n                    callback.onResponse(call, response);\n                } else {\n                    callback.onFailure(call, new IOException(&quot;Request failed: &quot;+ response));\n                }\n            }\n        });\n    }\n}\n</code></pre>\n<p>TestTable:</p>\n<pre><code>package com.example.test3;\n\npublic class TestTable {\n    private int id;\n    private String test;\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getTest() {\n        return test;\n    }\n\n    public void setTest(String test) {\n        this.test = test;\n    }\n}\n</code></pre>\n<p>As you can notice, my code is simply a testfield, I tried some other solutions, but the solution I want to proceed seems to be the best.</p>\n<p>I also created a procedure for my database, that is meant to receive HTTP requests from REST API from my app and send him a response. Here's the query:</p>\n<pre><code>CREATE PROCEDURE [dbo].[ListenAndSendRequest]\nAS\nBEGIN\n    DECLARE @url NVARCHAR(200) = 'http://ip_address:1433/test'\n    \n    DECLARE @requestBody NVARCHAR(MAX) = ''\n    DECLARE @response NVARCHAR(MAX)\n    DECLARE @httpStatus INT\n    DECLARE @data TABLE (id INT, test NVARCHAR(100))\n    INSERT INTO @data (id, test)\n    SELECT id, test FROM test_table\n\n    SET @requestBody = (\n        SELECT id, test\n        FROM @data\n        FOR JSON PATH\n    )\n\n    DECLARE @httpObj INT\n    EXEC sp_OACreate 'MSXML2.ServerXMLHTTP', @httpObj OUT\n\n    EXEC sp_OAMethod @httpObj, 'open', NULL, 'POST', @url, 'false'\n\n    EXEC sp_OAMethod @httpObj, 'setRequestHeader', NULL, 'Content-Type', 'application/json'\n    \n    EXEC sp_OAMethod @httpObj, 'send', NULL, @requestBody\n\n    EXEC sp_OAMethod @httpObj, 'responseText', @response OUTPUT\n\n    EXEC sp_OAMethod @httpObj, 'status', @httpStatus OUTPUT\n\n    PRINT 'Response: ' + @response\n    PRINT 'HTTP Status: ' + CAST(@httpStatus AS NVARCHAR(10))\n\n    EXEC sp_OADestroy @httpObj\nEND\n\n</code></pre>\n<p>I will be honest, I can't really say if this procedure listens to the HTTP requests. I am still learning.</p>\n<p>There are no crashes occurred, whenever I run the app. But when I click the button, that is meant to display the data from my database, my logcat displays a warning. Here's the warning I am talking about:</p>\n<pre><code>java.io.IOException: unexpected end of stream on http://ip_address:1433/...\n\nCaused by: java.io.EOFException: \\n not found: limit=0 content=…\n</code></pre>\n<p>It's  also worth to mention, that I run my app on physical device.</p>\n<p>Every suggestion is appreciated, thanks!</p>\n"},{"tags":["java","android","flutter","gradle"],"answers":[{"comments":[{"owner":{"account_id":22013166,"reputation":146,"user_id":16283108,"display_name":"Gustavo Guzman"},"score":0,"creation_date":1628596866,"post_id":68726283,"comment_id":121458421,"body_markdown":"the command shows an existing key, the other one is the one that can create a new key, however as I wrote, creating a new key and placing it inside &quot;C:\\Users\\tavo_\\.android\\debug.keystore&quot; did not work.","body":"the command shows an existing key, the other one is the one that can create a new key, however as I wrote, creating a new key and placing it inside &quot;C:\\Users\\tavo_\\.android\\debug.keystore&quot; did not work."}],"tags":[],"owner":{"account_id":18603901,"reputation":11632,"user_id":13558035,"display_name":"Huthaifa Muayyad"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628596122,"creation_date":1628596122,"answer_id":68726283,"question_id":68726096,"body_markdown":"Take the key generate from \r\n```\r\nkeytool -list -v -alias androiddebugkey -keystore %USERPROFILE%\\.android\\debug.keystore\r\n```\r\nAnd put it in:\r\n```\r\n&quot;C:\\Users\\tavo_\\.android\\debug.keystore&quot;\r\n```","title":"debug.keystore, Invalid keystore format Flutter","body":"<p>Take the key generate from</p>\n<pre><code>keytool -list -v -alias androiddebugkey -keystore %USERPROFILE%\\.android\\debug.keystore\n</code></pre>\n<p>And put it in:</p>\n<pre><code>&quot;C:\\Users\\tavo_\\.android\\debug.keystore&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5399275,"reputation":16206,"user_id":4299560,"accept_rate":90,"display_name":"Ced"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649130973,"creation_date":1649130973,"answer_id":71746145,"question_id":68726096,"body_markdown":"You might have changed the format for the debug.keystore\r\n\r\nif that&#39;s the case you should have a backup automatically created by keytool in at `.android/debug.keystore.old`.","title":"debug.keystore, Invalid keystore format Flutter","body":"<p>You might have changed the format for the debug.keystore</p>\n<p>if that's the case you should have a backup automatically created by keytool in at <code>.android/debug.keystore.old</code>.</p>\n"},{"tags":[],"owner":{"account_id":2785708,"reputation":390,"user_id":2397177,"accept_rate":40,"display_name":"Walid Ammou"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684758084,"creation_date":1684758084,"answer_id":76306149,"question_id":68726096,"body_markdown":"I had the same problem. Resolved by removing the keystore `.android/debug.keystore` and run the application again.","title":"debug.keystore, Invalid keystore format Flutter","body":"<p>I had the same problem. Resolved by removing the keystore <code>.android/debug.keystore</code> and run the application again.</p>\n"}],"owner":{"account_id":22013166,"reputation":146,"user_id":16283108,"display_name":"Gustavo Guzman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2070,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1684758084,"creation_date":1628595342,"question_id":68726096,"body_markdown":"The error is:\r\n\r\n```\r\nRunning Gradle task &#39;assembleDebug&#39;...\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:packageDebug&#39;.\r\n&gt; A failure occurred while executing com.android.build.gradle.tasks.PackageAndroidArtifact$IncrementalSplitterRunnable\r\n   &gt; com.android.ide.common.signing.KeytoolException: Failed to read key AndroidDebugKey from store &quot;C:\\Users\\tavo_\\.android\\debug.keystore&quot;: Invalid keystore format\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n```\r\n\r\nDue to this error I thought the problem was my debug.keystore so I created a new one with the command \r\n\r\n```\r\nkeytool -genkey -v -keystore debug.keystore -storepass android -alias androiddebugkey -keypass android -keyalg RSA -keysize 2048 -validity 10000\r\n\r\n```\r\n\r\nBut this didn&#39;t fix the problem. It&#39;s also worth knowing that this problem (I think at least) started when I was trying to get the SHA certificate fingerprints for my project in firebase. However the command:\r\n\r\n```\r\nkeytool -list -v -alias androiddebugkey -keystore %USERPROFILE%\\.android\\debug.keystore\r\n```\r\ndid not work at first, it gave me another command as solution, I ran it and it worked, I got the SHA certificate and I continued with the development of the app without running the app on an android emulator or a physical device because I was coding the auth logic.\r\n\r\nI think the cause of this problem might be related to the command I ran (which I have not saved nor remember) but I have no idea how to solve it.\r\n\r\nThis problem is presented in all my flutter apps, the ones I already had created and the ones I create.\r\n\r\nThis is my log for ```flutter doctor -v```. I&#39;m putting this just in case, because I don&#39;t think the problem is with the flutter SDK.\r\n\r\n```\r\n[√] Flutter (Channel stable, 2.2.3, on Microsoft Windows [Version 10.0.19042.1110], locale en-GB)\r\n    • Flutter version 2.2.3 at C:\\Flutter\\flutter_windows_1.22.6-stable\\flutter\r\n    • Framework revision f4abaa0735 (6 weeks ago), 2021-07-01 12:46:11 -0700\r\n    • Engine revision 241c87ad80\r\n    • Dart version 2.13.4\r\n\r\n[√] Android toolchain - develop for Android devices (Android SDK version 31.0.0)\r\n    • Android SDK at C:\\Users\\tavo_\\AppData\\Local\\Android\\sdk\r\n    • Platform android-31, build-tools 31.0.0\r\n    • Java binary at: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java\r\n    • Java version OpenJDK Runtime Environment (build 1.8.0_242-release-1644-b01)\r\n    • All Android licenses accepted.\r\n\r\n[X] Chrome - develop for the web (Cannot find Chrome executable at .\\Google\\Chrome\\Application\\chrome.exe)\r\n    ! Cannot find Chrome. Try setting CHROME_EXECUTABLE to a Chrome executable.\r\n\r\n[√] Android Studio (version 4.1.0)\r\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\r\n    • Flutter plugin can be installed from:\r\n       https://plugins.jetbrains.com/plugin/9212-flutter\r\n    • Dart plugin can be installed from:\r\n       https://plugins.jetbrains.com/plugin/6351-dart\r\n    • Java version OpenJDK Runtime Environment (build 1.8.0_242-release-1644-b01)\r\n\r\n[√] IntelliJ IDEA Community Edition (version 2020.3)\r\n    • IntelliJ at C:\\Users\\tavo_\\AppData\\Local\\JetBrains\\Toolbox\\apps\\IDEA-C\\ch-0\\203.7148.57\r\n    • Flutter plugin version 59.0.2\r\n    • Dart plugin version 203.8292\r\n\r\n[√] VS Code (version 1.58.2)\r\n    • VS Code at C:\\Users\\tavo_\\AppData\\Local\\Programs\\Microsoft VS Code\r\n    • Flutter extension version 3.25.0\r\n\r\n[√] Connected device (1 available)\r\n    • Edge (web) • edge • web-javascript • Microsoft Edge 92.0.902.67\r\n\r\n! Doctor found issues in 1 category.\r\n\r\n```  ","title":"debug.keystore, Invalid keystore format Flutter","body":"<p>The error is:</p>\n<pre><code>Running Gradle task 'assembleDebug'...\n\n* What went wrong:\nExecution failed for task ':app:packageDebug'.\n&gt; A failure occurred while executing com.android.build.gradle.tasks.PackageAndroidArtifact$IncrementalSplitterRunnable\n   &gt; com.android.ide.common.signing.KeytoolException: Failed to read key AndroidDebugKey from store &quot;C:\\Users\\tavo_\\.android\\debug.keystore&quot;: Invalid keystore format\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n</code></pre>\n<p>Due to this error I thought the problem was my debug.keystore so I created a new one with the command</p>\n<pre><code>keytool -genkey -v -keystore debug.keystore -storepass android -alias androiddebugkey -keypass android -keyalg RSA -keysize 2048 -validity 10000\n\n</code></pre>\n<p>But this didn't fix the problem. It's also worth knowing that this problem (I think at least) started when I was trying to get the SHA certificate fingerprints for my project in firebase. However the command:</p>\n<pre><code>keytool -list -v -alias androiddebugkey -keystore %USERPROFILE%\\.android\\debug.keystore\n</code></pre>\n<p>did not work at first, it gave me another command as solution, I ran it and it worked, I got the SHA certificate and I continued with the development of the app without running the app on an android emulator or a physical device because I was coding the auth logic.</p>\n<p>I think the cause of this problem might be related to the command I ran (which I have not saved nor remember) but I have no idea how to solve it.</p>\n<p>This problem is presented in all my flutter apps, the ones I already had created and the ones I create.</p>\n<p>This is my log for <code>flutter doctor -v</code>. I'm putting this just in case, because I don't think the problem is with the flutter SDK.</p>\n<pre><code>[√] Flutter (Channel stable, 2.2.3, on Microsoft Windows [Version 10.0.19042.1110], locale en-GB)\n    • Flutter version 2.2.3 at C:\\Flutter\\flutter_windows_1.22.6-stable\\flutter\n    • Framework revision f4abaa0735 (6 weeks ago), 2021-07-01 12:46:11 -0700\n    • Engine revision 241c87ad80\n    • Dart version 2.13.4\n\n[√] Android toolchain - develop for Android devices (Android SDK version 31.0.0)\n    • Android SDK at C:\\Users\\tavo_\\AppData\\Local\\Android\\sdk\n    • Platform android-31, build-tools 31.0.0\n    • Java binary at: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java\n    • Java version OpenJDK Runtime Environment (build 1.8.0_242-release-1644-b01)\n    • All Android licenses accepted.\n\n[X] Chrome - develop for the web (Cannot find Chrome executable at .\\Google\\Chrome\\Application\\chrome.exe)\n    ! Cannot find Chrome. Try setting CHROME_EXECUTABLE to a Chrome executable.\n\n[√] Android Studio (version 4.1.0)\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 1.8.0_242-release-1644-b01)\n\n[√] IntelliJ IDEA Community Edition (version 2020.3)\n    • IntelliJ at C:\\Users\\tavo_\\AppData\\Local\\JetBrains\\Toolbox\\apps\\IDEA-C\\ch-0\\203.7148.57\n    • Flutter plugin version 59.0.2\n    • Dart plugin version 203.8292\n\n[√] VS Code (version 1.58.2)\n    • VS Code at C:\\Users\\tavo_\\AppData\\Local\\Programs\\Microsoft VS Code\n    • Flutter extension version 3.25.0\n\n[√] Connected device (1 available)\n    • Edge (web) • edge • web-javascript • Microsoft Edge 92.0.902.67\n\n! Doctor found issues in 1 category.\n\n</code></pre>\n"},{"tags":["java","spring-data-jpa","jpql"],"answers":[{"tags":[],"owner":{"account_id":23477672,"reputation":45,"user_id":17530250,"display_name":"Pavol Varga"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684758058,"creation_date":1684758058,"answer_id":76306145,"question_id":76298050,"body_markdown":"Can you create a SQL View or even Materialized View in your DB?&lt;br&gt;\r\nThen you can have an entity (over your view) to support JPA Interface-based Projections.&lt;br&gt;\r\nhttps://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections.interfaces\r\n\r\nWith Spring Data you can query Materialized View same way as a table.&lt;br&gt;\r\nAnd I would respect separation of concerns and create a @Component&lt;br&gt;\r\nto map an Entity to desired business object (Dto).","title":"I can&#39;t invoke a constructor inside another constructor in a JPQL query. What&#39;s an efficient workaround?","body":"<p>Can you create a SQL View or even Materialized View in your DB?<br>\nThen you can have an entity (over your view) to support JPA Interface-based Projections.<br>\n<a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections.interfaces\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections.interfaces</a></p>\n<p>With Spring Data you can query Materialized View same way as a table.<br>\nAnd I would respect separation of concerns and create a @Component<br>\nto map an Entity to desired business object (Dto).</p>\n"}],"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684758058,"creation_date":1684635908,"question_id":76298050,"body_markdown":"It seems I can&#39;t invoke a constructor inside another constructor in a JPQL query, like this\r\n```java\r\nTypedQuery&lt;QuestionCommentResponseDto&gt; = entityManager.createQuery(&quot;&quot;&quot;\r\n            SELECT new QuestionCommentResponseDto (\r\n            qc.id, q.id, qc.createdDate, qc.modifiedDate, qc.text, new AccountResponseDto(\r\n                a.id, a.username\r\n                )\r\n            ) FROM QuestionComment qc JOIN FETCH Question q JOIN FETCH Account a\r\n            WHERE qc.id = :id\r\n        &quot;&quot;&quot;, QuestionCommentResponseDto.class)\r\n```\r\n**How am I supposed to achieve the same effect then in the most efficient way possible?** Subqueries like `qc.text, (SELECT new AccountResponseDto(a.id, a.username)` don&#39;t work too (the part after `qc.text` is problematic). The IDE says\r\n&gt; &#39;(&#39;, &lt;expression&gt;, FUNCTION or identifier expected, got &#39;(&#39;\r\nShould I simply query for one DTO and then for another?\r\n\r\nA bit of context\r\n```java\r\n    @Override\r\n    public Optional&lt;QuestionCommentResponseDto&gt; getByQuestionCommentId(Long questionCommentId) {\r\n    // the query goes here\r\n```\r\n```java\r\n// I can make it a regular class if it&#39;s necessary\r\npublic record QuestionCommentResponseDto(Long id, Long questionId, LocalDateTime createdDate,\r\n                                         LocalDateTime modifiedDate, String text, AccountResponseDto owner) {}\r\n```\r\n```java\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\n@Entity\r\n@EntityListeners(AuditingEntityListener.class)\r\n@Table(name = &quot;question_comments&quot;)\r\npublic class QuestionComment {\r\n\r\n    @Setter(AccessLevel.NONE)\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;, unique = true, nullable = false, updatable = false)\r\n    private Long id;\r\n\r\n    @Setter(AccessLevel.NONE)\r\n    @NotNull\r\n    @CreatedDate\r\n    @Column(name = &quot;created_date&quot;, nullable = false)\r\n    private LocalDateTime createdDate;\r\n\r\n    @Setter(AccessLevel.NONE)\r\n    @NotNull\r\n    @LastModifiedDate\r\n    @Column(name = &quot;modified_date&quot;, nullable = false)\r\n    private LocalDateTime modifiedDate;\r\n\r\n    @NotBlank\r\n    @Column(name = &quot;text&quot;, nullable = false)\r\n    private String text;\r\n\r\n    @NotNull\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;account_id&quot;, nullable = false, updatable = false)\r\n    private Account owner; // includes the fields id and username\r\n\r\n    @NotNull\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;question_id&quot;, nullable = false, updatable = false)\r\n    private Question question; // includes the id field\r\n```\r\nIf I omitted some important parts of code, please let me know (it seems to me, no code is needed at all in this case since it&#39;s not a debugging question)","title":"I can&#39;t invoke a constructor inside another constructor in a JPQL query. What&#39;s an efficient workaround?","body":"<p>It seems I can't invoke a constructor inside another constructor in a JPQL query, like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>TypedQuery&lt;QuestionCommentResponseDto&gt; = entityManager.createQuery(&quot;&quot;&quot;\n            SELECT new QuestionCommentResponseDto (\n            qc.id, q.id, qc.createdDate, qc.modifiedDate, qc.text, new AccountResponseDto(\n                a.id, a.username\n                )\n            ) FROM QuestionComment qc JOIN FETCH Question q JOIN FETCH Account a\n            WHERE qc.id = :id\n        &quot;&quot;&quot;, QuestionCommentResponseDto.class)\n</code></pre>\n<p><strong>How am I supposed to achieve the same effect then in the most efficient way possible?</strong> Subqueries like <code>qc.text, (SELECT new AccountResponseDto(a.id, a.username)</code> don't work too (the part after <code>qc.text</code> is problematic). The IDE says</p>\n<blockquote>\n<p>'(', , FUNCTION or identifier expected, got '('\nShould I simply query for one DTO and then for another?</p>\n</blockquote>\n<p>A bit of context</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public Optional&lt;QuestionCommentResponseDto&gt; getByQuestionCommentId(Long questionCommentId) {\n    // the query goes here\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// I can make it a regular class if it's necessary\npublic record QuestionCommentResponseDto(Long id, Long questionId, LocalDateTime createdDate,\n                                         LocalDateTime modifiedDate, String text, AccountResponseDto owner) {}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@Entity\n@EntityListeners(AuditingEntityListener.class)\n@Table(name = &quot;question_comments&quot;)\npublic class QuestionComment {\n\n    @Setter(AccessLevel.NONE)\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, unique = true, nullable = false, updatable = false)\n    private Long id;\n\n    @Setter(AccessLevel.NONE)\n    @NotNull\n    @CreatedDate\n    @Column(name = &quot;created_date&quot;, nullable = false)\n    private LocalDateTime createdDate;\n\n    @Setter(AccessLevel.NONE)\n    @NotNull\n    @LastModifiedDate\n    @Column(name = &quot;modified_date&quot;, nullable = false)\n    private LocalDateTime modifiedDate;\n\n    @NotBlank\n    @Column(name = &quot;text&quot;, nullable = false)\n    private String text;\n\n    @NotNull\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;account_id&quot;, nullable = false, updatable = false)\n    private Account owner; // includes the fields id and username\n\n    @NotNull\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;question_id&quot;, nullable = false, updatable = false)\n    private Question question; // includes the id field\n</code></pre>\n<p>If I omitted some important parts of code, please let me know (it seems to me, no code is needed at all in this case since it's not a debugging question)</p>\n"},{"tags":["java","mysql","hibernate","spring-data-jpa","uuid"],"comments":[{"owner":{"account_id":2782706,"reputation":11516,"user_id":2548147,"display_name":"Raymond Nijland"},"score":1,"creation_date":1524579320,"post_id":50003906,"comment_id":87024163,"body_markdown":"Think about this.. UUID in binary(16) is better for performance.","body":"Think about this.. UUID in binary(16) is better for performance."},{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":0,"creation_date":1524579455,"post_id":50003906,"comment_id":87024267,"body_markdown":"You got result &#161;7&#244;&#225;&#223;EN&#185;&#186;}&#197;&#209;s from console or any GUI tool?","body":"You got result &#161;7&#244;&#225;&#223;EN&#185;&#186;}&#197;&#209;s from console or any GUI tool?"},{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":0,"creation_date":1524579564,"post_id":50003906,"comment_id":87024345,"body_markdown":"check this: https://stackoverflow.com/questions/43394039/modeling-uuid-in-hibernate-entity-against-mysql","body":"check this: <a href=\"https://stackoverflow.com/questions/43394039/modeling-uuid-in-hibernate-entity-against-mysql\" title=\"modeling uuid in hibernate entity against mysql\">stackoverflow.com/questions/43394039/&hellip;</a>"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":6,"creation_date":1524579678,"post_id":50003906,"comment_id":87024434,"body_markdown":"Why save it in an inefficient format? Just use `BIN_TO_UUID(id)` when you need to actually look at the table.","body":"Why save it in an inefficient format? Just use <code>BIN_TO_UUID(id)</code> when you need to actually look at the table."},{"owner":{"account_id":6937979,"reputation":810,"user_id":5325309,"accept_rate":80,"display_name":"Sunil Rao"},"score":0,"creation_date":1524579865,"post_id":50003906,"comment_id":87024563,"body_markdown":"@dkb I copy pasted that value from mysql table.","body":"@dkb I copy pasted that value from mysql table."},{"owner":{"account_id":6937979,"reputation":810,"user_id":5325309,"accept_rate":80,"display_name":"Sunil Rao"},"score":0,"creation_date":1524579875,"post_id":50003906,"comment_id":87024570,"body_markdown":"@RaymondNijland yes I agree to that, but is there a way for just representing UUID in string in tables and use it as UUID object in java ?","body":"@RaymondNijland yes I agree to that, but is there a way for just representing UUID in string in tables and use it as UUID object in java ?"},{"owner":{"account_id":2782706,"reputation":11516,"user_id":2548147,"display_name":"Raymond Nijland"},"score":0,"creation_date":1524580070,"post_id":50003906,"comment_id":87024701,"body_markdown":"`BIN_TO_UUID(id)` will only work in MySQL 8.0 @RealSkeptic","body":"<code>BIN_TO_UUID(id)</code> will only work in MySQL 8.0 @RealSkeptic"},{"owner":{"account_id":2782706,"reputation":11516,"user_id":2548147,"display_name":"Raymond Nijland"},"score":1,"creation_date":1524580801,"post_id":50003906,"comment_id":87025241,"body_markdown":"&quot;yes I agree to that, but is there a way for just representing UUID in string in tables and use it as UUID object in java ?&quot; if you use MySQL 5.7+ you can use a generated column to generate a human readable UUID from the binary id column -&gt; https://dev.mysql.com/doc/refman/5.7/en/create-table-generated-columns.html .. or use a basic view if you don&#39;t have MySQL 5.7+","body":"&quot;yes I agree to that, but is there a way for just representing UUID in string in tables and use it as UUID object in java ?&quot; if you use MySQL 5.7+ you can use a generated column to generate a human readable UUID from the binary id column -&gt; <a href=\"https://dev.mysql.com/doc/refman/5.7/en/create-table-generated-columns.html\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/refman/5.7/en/&hellip;</a> .. or use a basic view if you don&#39;t have MySQL 5.7+"}],"answers":[{"comments":[{"owner":{"account_id":1367798,"reputation":6993,"user_id":1303868,"accept_rate":83,"display_name":"ficuscr"},"score":0,"creation_date":1532022307,"post_id":51427966,"comment_id":89828971,"body_markdown":"Could you explain your answer a little?","body":"Could you explain your answer a little?"},{"owner":{"account_id":11171866,"reputation":746,"user_id":8198604,"display_name":"Ivan Osipov"},"score":1,"creation_date":1532096359,"post_id":51427966,"comment_id":89859214,"body_markdown":"@ficuscr I&#39;ve added explanation","body":"@ficuscr I&#39;ve added explanation"}],"tags":[],"owner":{"account_id":11171866,"reputation":746,"user_id":8198604,"display_name":"Ivan Osipov"},"comment_count":2,"down_vote_count":0,"up_vote_count":52,"is_accepted":true,"score":52,"last_activity_date":1532096336,"creation_date":1532018564,"answer_id":51427966,"question_id":50003906,"body_markdown":"just use \r\n`@org.hibernate.annotations.Type(type=&quot;uuid-char&quot;)`\r\n\r\nThere is three levels of data types:   \r\n- Java types   \r\n- Hibernate&#39;s types  \r\n- Database Specific types.  \r\n\r\nHibernate data type presentation is a bridge between Java data type and Database types to be independent from database. \r\n\r\nYou can check this [mappings](http://docs.jboss.org/hibernate/orm/5.3/userguide/html_single/Hibernate_User_Guide.html#basic ). \r\nAs you can find there `java.util.UUID` can be mapped to diferent types (binary or char/varchar). `uuid-binary` is key to hibernate&#39;s UUIDBinaryType, you get this type by default and it will be mapped to `BINARY` of your database.  \r\n\r\nIf you want to get CHAR type under your UUID, you should explain to hibernate that you want his `UUIDCharType`. To do that you use `uuid-char` key and as you can check in JavaDoc of @Type annotation: `Defines a Hibernate type mapping.`. So, you use annotation to explain hibernate which bridge it should use.","title":"Storing UUID as string in mysql using JPA","body":"<p>just use \n<code>@org.hibernate.annotations.Type(type=\"uuid-char\")</code></p>\n\n<p>There is three levels of data types:<br>\n- Java types<br>\n- Hibernate's types<br>\n- Database Specific types.  </p>\n\n<p>Hibernate data type presentation is a bridge between Java data type and Database types to be independent from database. </p>\n\n<p>You can check this <a href=\"http://docs.jboss.org/hibernate/orm/5.3/userguide/html_single/Hibernate_User_Guide.html#basic\" rel=\"noreferrer\">mappings</a>. \nAs you can find there <code>java.util.UUID</code> can be mapped to diferent types (binary or char/varchar). <code>uuid-binary</code> is key to hibernate's UUIDBinaryType, you get this type by default and it will be mapped to <code>BINARY</code> of your database.  </p>\n\n<p>If you want to get CHAR type under your UUID, you should explain to hibernate that you want his <code>UUIDCharType</code>. To do that you use <code>uuid-char</code> key and as you can check in JavaDoc of @Type annotation: <code>Defines a Hibernate type mapping.</code>. So, you use annotation to explain hibernate which bridge it should use.</p>\n"},{"tags":[],"owner":{"account_id":3281305,"reputation":300,"user_id":2761859,"display_name":"Radouane FADEL"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1645261303,"creation_date":1645261303,"answer_id":71183520,"question_id":50003906,"body_markdown":"I had the same problem in my last project (**spring-boot:2.5.3** + **mariaDB**).\\\r\nSo I added the following annotation `@Type(type = &quot;org.hibernate.type.UUIDCharType&quot;)` to fix it.\r\n```java-lang\r\nimport org.hibernate.annotations.GenericGenerator;\r\nimport org.hibernate.annotations.Type;\r\n\r\nimport javax.persistence.*;\r\nimport java.util.UUID;\r\n/** imports */\r\n\r\n@Entity()\r\n@Table(name = &quot;users&quot;)\r\npublic class User {\r\n    @Id\r\n\t@GeneratedValue(generator = &quot;UUID&quot;)\r\n\t@GenericGenerator(name = &quot;UUID&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\r\n\t@Column(name = &quot;uuid&quot;, columnDefinition = &quot;char(36)&quot;)\r\n\t@Type(type = &quot;org.hibernate.type.UUIDCharType&quot;)\r\n\tprivate UUID uuid;\r\n\r\n   /** ... */\r\n}\r\n\r\n```\r\nThe purpose of the hibernate annotation `@Type` is to define the type of data stored in database and it&#39;s compatible with the previous line `@Column(name = &quot;uuid&quot;, columnDefinition = &quot;char(36)&quot;)`\r\n\r\n&gt; *While googling it, I noticed that mariaDB &amp; MySQL have the same issue.*\r\n\r\nYou can [see here][1] more examples in different use cases for `org.hibernate.annotations.Type`\r\n\r\n\r\n  [1]: https://www.programcreek.com/java-api-examples/org.hibernate.annotations.Type","title":"Storing UUID as string in mysql using JPA","body":"<p>I had the same problem in my last project (<strong>spring-boot:2.5.3</strong> + <strong>mariaDB</strong>).<br />\nSo I added the following annotation <code>@Type(type = &quot;org.hibernate.type.UUIDCharType&quot;)</code> to fix it.</p>\n<pre><code>import org.hibernate.annotations.GenericGenerator;\nimport org.hibernate.annotations.Type;\n\nimport javax.persistence.*;\nimport java.util.UUID;\n/** imports */\n\n@Entity()\n@Table(name = &quot;users&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(generator = &quot;UUID&quot;)\n    @GenericGenerator(name = &quot;UUID&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\n    @Column(name = &quot;uuid&quot;, columnDefinition = &quot;char(36)&quot;)\n    @Type(type = &quot;org.hibernate.type.UUIDCharType&quot;)\n    private UUID uuid;\n\n   /** ... */\n}\n\n</code></pre>\n<p>The purpose of the hibernate annotation <code>@Type</code> is to define the type of data stored in database and it's compatible with the previous line <code>@Column(name = &quot;uuid&quot;, columnDefinition = &quot;char(36)&quot;)</code></p>\n<blockquote>\n<p><em>While googling it, I noticed that mariaDB &amp; MySQL have the same issue.</em></p>\n</blockquote>\n<p>You can <a href=\"https://www.programcreek.com/java-api-examples/org.hibernate.annotations.Type\" rel=\"nofollow noreferrer\">see here</a> more examples in different use cases for <code>org.hibernate.annotations.Type</code></p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1667521282,"post_id":74268823,"comment_id":131192330,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74268823/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":9645473,"reputation":21,"user_id":7158398,"display_name":"Jose Gelimer Gomez"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667248268,"creation_date":1667248268,"answer_id":74268823,"question_id":50003906,"body_markdown":"i&#39;m using this annotations:\r\n\r\n    @Id\r\n    @GeneratedValue(generator = &quot;uuid2&quot;)\r\n    @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;uuid2r&quot;)\r\n    @Column(name = &quot;id&quot;, columnDefinition = &quot;varchar(36)&quot;)\r\n    @Type(type = &quot;uuid-char&quot;)\r\n    private UUID uuid;\r\n","title":"Storing UUID as string in mysql using JPA","body":"<p>i'm using this annotations:</p>\n<pre><code>@Id\n@GeneratedValue(generator = &quot;uuid2&quot;)\n@GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;uuid2r&quot;)\n@Column(name = &quot;id&quot;, columnDefinition = &quot;varchar(36)&quot;)\n@Type(type = &quot;uuid-char&quot;)\nprivate UUID uuid;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":897258,"reputation":573,"user_id":934242,"display_name":"Shah Erhan"},"score":0,"creation_date":1690644949,"post_id":76306119,"comment_id":135383921,"body_markdown":"this should be on top. Works on Spring Boot 3","body":"this should be on top. Works on Spring Boot 3"}],"tags":[],"owner":{"account_id":28073326,"reputation":27,"user_id":21445585,"display_name":"Arnaud DUBOIS"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1684757949,"creation_date":1684757883,"answer_id":76306119,"question_id":50003906,"body_markdown":"The @Type annotation is deprecated and does not even exist in the last version of Spring Boot.\r\n\r\nYou need to use now @JdbcTypeCode\r\n\r\nThe correct way to do that is the following\r\n\r\n    @Column(columnDefinition = &quot;VARCHAR(36)&quot;)\r\n    @JdbcTypeCode(SqlTypes.VARCHAR)","title":"Storing UUID as string in mysql using JPA","body":"<p>The @Type annotation is deprecated and does not even exist in the last version of Spring Boot.</p>\n<p>You need to use now @JdbcTypeCode</p>\n<p>The correct way to do that is the following</p>\n<pre><code>@Column(columnDefinition = &quot;VARCHAR(36)&quot;)\n@JdbcTypeCode(SqlTypes.VARCHAR)\n</code></pre>\n"}],"owner":{"account_id":6937979,"reputation":810,"user_id":5325309,"accept_rate":80,"display_name":"Sunil Rao"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27760,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":51427966,"answer_count":4,"score":19,"last_activity_date":1684757949,"creation_date":1524579209,"question_id":50003906,"body_markdown":"I came across a blog of using UUID with Hibernate and MySql. Now the problem is, whenever I take a look at the database the ID&#39;s will be non-readable format (binary-16). How can I store UUID as a \u001Breadable format like ```7feb24af-fc38-44de-bc38-04defc3804fe``` instead of ```&#161;7&#244;&#225;&#223;EN&#185;&#186;\u001F}&#197;&#209;\u0013s```\r\n\r\nI was using this code \r\n\r\n    @Id\r\n\t@GeneratedValue( generator = &quot;uuid2&quot; )\r\n\t@GenericGenerator( name = &quot;uuid2&quot;, strategy = &quot;uuid2&quot; )\r\n\t@Column( name = &quot;id&quot;, columnDefinition = &quot;BINARY(16)&quot; )\r\n\tprivate UUID id;\r\n\r\nAnd the result is **&#161;7&#244;&#225;&#223;EN&#185;&#186;\u001F}&#197;&#209;\u0013s**. But I want it as readable UUID so I used the following code which didn&#39;t help me\r\n\r\n    @Id\r\n\t@GeneratedValue( generator = &quot;uuid2&quot; )\r\n\t@GenericGenerator( name = &quot;uuid2&quot;, strategy = &quot;uuid2&quot; )\r\n\t@Column( name = &quot;id&quot;, columnDefinition = &quot;CHAR(32)&quot; )\r\n\tprivate UUID id;\r\n\r\nHow to save the UUID as a string instead of binary(16) without changing the java type UUID","title":"Storing UUID as string in mysql using JPA","body":"<p>I came across a blog of using UUID with Hibernate and MySql. Now the problem is, whenever I take a look at the database the ID's will be non-readable format (binary-16). How can I store UUID as a readable format like <code>7feb24af-fc38-44de-bc38-04defc3804fe</code> instead of <code>¡7ôáßEN¹º}ÅÑ\u0013s</code></p>\n\n<p>I was using this code </p>\n\n<pre><code>@Id\n@GeneratedValue( generator = \"uuid2\" )\n@GenericGenerator( name = \"uuid2\", strategy = \"uuid2\" )\n@Column( name = \"id\", columnDefinition = \"BINARY(16)\" )\nprivate UUID id;\n</code></pre>\n\n<p>And the result is <strong>¡7ôáßEN¹º}ÅÑ\u0013s</strong>. But I want it as readable UUID so I used the following code which didn't help me</p>\n\n<pre><code>@Id\n@GeneratedValue( generator = \"uuid2\" )\n@GenericGenerator( name = \"uuid2\", strategy = \"uuid2\" )\n@Column( name = \"id\", columnDefinition = \"CHAR(32)\" )\nprivate UUID id;\n</code></pre>\n\n<p>How to save the UUID as a string instead of binary(16) without changing the java type UUID</p>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":968830,"reputation":17562,"user_id":991778,"accept_rate":78,"display_name":"sanbhat"},"score":7,"creation_date":1369218087,"post_id":16689274,"comment_id":24017695,"body_markdown":"catalina.bat jpda start","body":"catalina.bat jpda start"},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":1,"creation_date":1369374439,"post_id":16689274,"comment_id":24088273,"body_markdown":"possible duplicate of [Start tomcat 6 in debug mode?](http://stackoverflow.com/questions/5458212/start-tomcat-6-in-debug-mode)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/5458212/start-tomcat-6-in-debug-mode\">Start tomcat 6 in debug mode?</a>"}],"answers":[{"comments":[{"owner":{"account_id":152396,"reputation":8110,"user_id":366898,"accept_rate":59,"display_name":"RAS"},"score":0,"creation_date":1400507120,"post_id":16689321,"comment_id":36493417,"body_markdown":"Can you tell me the equivalent of Tomcat 7.0?","body":"Can you tell me the equivalent of Tomcat 7.0?"}],"tags":[],"owner":{"account_id":984212,"reputation":62352,"user_id":1003142,"display_name":"Konstantin Yovkov"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1369218964,"creation_date":1369218150,"answer_id":16689321,"question_id":16689274,"body_markdown":"First, Navigate to the `TOMCAT-HOME/bin` directory.\r\n\r\nThen, Execute the following in the command-line:\r\n\r\n    catalina.bat jpda start\r\n\r\nIf the Tomcat server is running under Linux, just invoke the `catalina.sh` program\r\n\r\n    catalina.sh jpda start\r\n\r\n\r\nIt&#39;s the same for Tomcat 5.5 and Tomcat 6","title":"How to start debug mode from command prompt for apache tomcat server?","body":"<p>First, Navigate to the <code>TOMCAT-HOME/bin</code> directory.</p>\n\n<p>Then, Execute the following in the command-line:</p>\n\n<pre><code>catalina.bat jpda start\n</code></pre>\n\n<p>If the Tomcat server is running under Linux, just invoke the <code>catalina.sh</code> program</p>\n\n<pre><code>catalina.sh jpda start\n</code></pre>\n\n<p>It's the same for Tomcat 5.5 and Tomcat 6</p>\n"},{"comments":[{"owner":{"account_id":4136270,"reputation":459,"user_id":3392874,"display_name":"TomasZ."},"score":0,"creation_date":1513929687,"post_id":16689351,"comment_id":82844756,"body_markdown":"Thanks, this helped me to setup the debug option in `startup.sh`. Editing the last line in `tomcat/bin/startup.sh` to `exec &quot;$PRGDIR&quot;/&quot;$EXECUTABLE&quot; jpda start &quot;$@&quot;`. I always forget to start in debug mode and I can save a 5minute restart.","body":"Thanks, this helped me to setup the debug option in <code>startup.sh</code>. Editing the last line in <code>tomcat&#47;bin&#47;startup.sh</code> to <code>exec &quot;$PRGDIR&quot;&#47;&quot;$EXECUTABLE&quot; jpda start &quot;$@&quot;</code>. I always forget to start in debug mode and I can save a 5minute restart."}],"tags":[],"owner":{"account_id":84287,"reputation":44609,"user_id":235710,"accept_rate":94,"display_name":"Adil Shaikh"},"comment_count":1,"down_vote_count":0,"up_vote_count":137,"is_accepted":false,"score":137,"last_activity_date":1561491995,"creation_date":1369218256,"answer_id":16689351,"question_id":16689274,"body_markdown":"#### On windows\r\n    $ catalina.bat jpda start\r\n\r\n#### On Linux/Unix\r\n    $ catalina.sh jpda start\r\n\r\nMore info `----&gt;` https://cwiki.apache.org/confluence/display/TOMCAT/Developing","title":"How to start debug mode from command prompt for apache tomcat server?","body":"On windows\n\n<pre><code>$ catalina.bat jpda start\n</code></pre>\n\nOn Linux/Unix\n\n<pre><code>$ catalina.sh jpda start\n</code></pre>\n\n<p>More info <code>----&gt;</code> <a href=\"https://cwiki.apache.org/confluence/display/TOMCAT/Developing\" rel=\"noreferrer\">https://cwiki.apache.org/confluence/display/TOMCAT/Developing</a></p>\n"},{"comments":[{"owner":{"account_id":22929,"reputation":1492,"user_id":57033,"accept_rate":80,"display_name":"hello_earth"},"score":0,"creation_date":1529855374,"post_id":19179155,"comment_id":89015702,"body_markdown":"um yes, although 8000 and dt_socket are mentioned as defaults in catalina.bat, you actually have to set them as in the above post :/","body":"um yes, although 8000 and dt_socket are mentioned as defaults in catalina.bat, you actually have to set them as in the above post :/"},{"owner":{"account_id":5814216,"reputation":465,"user_id":4584374,"display_name":"Joginder Malik"},"score":1,"creation_date":1592987668,"post_id":19179155,"comment_id":110618718,"body_markdown":"to the point answer and It worked for me +1. saved my day","body":"to the point answer and It worked for me +1. saved my day"}],"tags":[],"owner":{"account_id":3266543,"reputation":2246,"user_id":2750931,"display_name":"krzysiek.ste"},"comment_count":2,"down_vote_count":0,"up_vote_count":60,"is_accepted":false,"score":60,"last_activity_date":1380882944,"creation_date":1380882944,"answer_id":19179155,"question_id":16689274,"body_markdown":"For windows first set variables:\r\n\r\n    set JPDA_ADDRESS=8000\r\n    set JPDA_TRANSPORT=dt_socket\r\n\r\n to start server in debug mode:\r\n\r\n    %TOMCAT_HOME%/bin/catalina.bat jpda start\r\n\r\nFor unix first export variables:\r\n\r\n    export JPDA_ADDRESS=8000\r\n    export JPDA_TRANSPORT=dt_socket\r\n\r\n and to start server in debug mode:\r\n\r\n    %TOMCAT_HOME%/bin/catalina.sh jpda start\r\n\r\n","title":"How to start debug mode from command prompt for apache tomcat server?","body":"<p>For windows first set variables:</p>\n\n<pre><code>set JPDA_ADDRESS=8000\nset JPDA_TRANSPORT=dt_socket\n</code></pre>\n\n<p>to start server in debug mode:</p>\n\n<pre><code>%TOMCAT_HOME%/bin/catalina.bat jpda start\n</code></pre>\n\n<p>For unix first export variables:</p>\n\n<pre><code>export JPDA_ADDRESS=8000\nexport JPDA_TRANSPORT=dt_socket\n</code></pre>\n\n<p>and to start server in debug mode:</p>\n\n<pre><code>%TOMCAT_HOME%/bin/catalina.sh jpda start\n</code></pre>\n"},{"tags":[],"owner":{"account_id":125069,"reputation":6156,"user_id":320594,"accept_rate":77,"display_name":"Jaime Hablutzel"},"comment_count":0,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1500310267,"creation_date":1392233010,"answer_id":21737633,"question_id":16689274,"body_markdown":"1. From your IDE, create a remote debug configuration, configure it for the default JPDA Tomcat port which is port 8000. \r\n\r\n2. From the command line:\r\n\r\n    Linux:\r\n\r\n        cd apache-tomcat/bin\r\n        export JPDA_SUSPEND=y\r\n        ./catalina.sh jpda run\r\n\r\n    Windows:\r\n\r\n        cd apache-tomcat\\bin\r\n        set JPDA_SUSPEND=y\r\n        catalina.bat jpda run\r\n\r\n\r\n3. Execute the remote debug configuration from your IDE, and Tomcat will start running and you are now able to set breakpoints in the IDE.\r\n\r\nNote: \r\n\r\nThe `JPDA_SUSPEND=y` line is optional, it is useful if you want that Apache Tomcat doesn&#39;t start its execution until step 3 is completed, useful if you want to troubleshoot application initialization issues.\r\n","title":"How to start debug mode from command prompt for apache tomcat server?","body":"<ol>\n<li><p>From your IDE, create a remote debug configuration, configure it for the default JPDA Tomcat port which is port 8000. </p></li>\n<li><p>From the command line:</p>\n\n<p>Linux:</p>\n\n<pre><code>cd apache-tomcat/bin\nexport JPDA_SUSPEND=y\n./catalina.sh jpda run\n</code></pre>\n\n<p>Windows:</p>\n\n<pre><code>cd apache-tomcat\\bin\nset JPDA_SUSPEND=y\ncatalina.bat jpda run\n</code></pre></li>\n<li><p>Execute the remote debug configuration from your IDE, and Tomcat will start running and you are now able to set breakpoints in the IDE.</p></li>\n</ol>\n\n<p>Note: </p>\n\n<p>The <code>JPDA_SUSPEND=y</code> line is optional, it is useful if you want that Apache Tomcat doesn't start its execution until step 3 is completed, useful if you want to troubleshoot application initialization issues.</p>\n"},{"tags":[],"owner":{"account_id":2784842,"reputation":67281,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397543180,"creation_date":1397543180,"answer_id":23076081,"question_id":16689274,"body_markdown":"Inside catalina.bat set the port on which you wish to start the debugger\r\n\r\n    if not &quot;%JPDA_ADDRESS%&quot; == &quot;&quot; goto gotJpdaAddress\r\n    set JPDA_ADDRESS=9001\r\n\r\nThen you can simply start the debugger with \r\n\r\n    catalina.bat jpda \r\n\r\nNow from Eclipse or IDEA select remote debugging and start start debugging by connecting to port 9001.","title":"How to start debug mode from command prompt for apache tomcat server?","body":"<p>Inside catalina.bat set the port on which you wish to start the debugger</p>\n\n<pre><code>if not \"%JPDA_ADDRESS%\" == \"\" goto gotJpdaAddress\nset JPDA_ADDRESS=9001\n</code></pre>\n\n<p>Then you can simply start the debugger with </p>\n\n<pre><code>catalina.bat jpda \n</code></pre>\n\n<p>Now from Eclipse or IDEA select remote debugging and start start debugging by connecting to port 9001.</p>\n"},{"tags":[],"owner":{"account_id":3431809,"reputation":1046,"user_id":2876009,"accept_rate":20,"display_name":"Tharindu Ketipearachchi"},"comment_count":0,"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1533540384,"creation_date":1432200386,"answer_id":30369718,"question_id":16689274,"body_markdown":"There are two ways to run tomcat in debug mode\r\n\r\n 1. Using jdpa run\r\n \r\n 2. Using JAVA_OPTS\r\n\r\nFirst setup the environment. Then start the server using following commands.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    export JPDA_ADDRESS=8000\r\n\r\n    export JPDA_TRANSPORT=dt_socket\r\n\r\n    %TOMCAT_HOME%/bin/catalina.sh jpda start\r\n\r\n    sudo catalina.sh jpda start\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nrefer this [article][1] for more information this is clearly define it\r\n\r\n\r\n\r\n  [1]: https://tharinduketipe.wordpress.com/2015/05/21/how-to-run-apache-tomcat-in-debug-mode-ubuntu/","title":"How to start debug mode from command prompt for apache tomcat server?","body":"<p>There are two ways to run tomcat in debug mode</p>\n\n<ol>\n<li><p>Using jdpa run</p></li>\n<li><p>Using JAVA_OPTS</p></li>\n</ol>\n\n<p>First setup the environment. Then start the server using following commands.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export JPDA_ADDRESS=8000\r\n\r\nexport JPDA_TRANSPORT=dt_socket\r\n\r\n%TOMCAT_HOME%/bin/catalina.sh jpda start\r\n\r\nsudo catalina.sh jpda start</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>refer this <a href=\"https://tharinduketipe.wordpress.com/2015/05/21/how-to-run-apache-tomcat-in-debug-mode-ubuntu/\" rel=\"noreferrer\">article</a> for more information this is clearly define it</p>\n"},{"comments":[{"owner":{"account_id":2160686,"reputation":163,"user_id":1914901,"display_name":"lnarasimhan"},"score":0,"creation_date":1510954820,"post_id":36420167,"comment_id":81672162,"body_markdown":"When using JAVA_OPTS -Xdebug you need not start catalina with jpda. Otherwise you may end up with this `ERROR: Cannot load this JVM TI agent twice, check your java command line for duplicate jdwp options.`","body":"When using JAVA_OPTS -Xdebug you need not start catalina with jpda. Otherwise you may end up with this <code>ERROR: Cannot load this JVM TI agent twice, check your java command line for duplicate jdwp options.</code>"}],"tags":[],"owner":{"account_id":3445224,"reputation":311,"user_id":2886205,"display_name":"Marcel Zebrowski"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1601590341,"creation_date":1459842488,"answer_id":36420167,"question_id":16689274,"body_markdown":"A short answer is to add the following options when the JVM is started.\r\n\r\n    JAVA_OPTS=&quot; $JAVA_OPTS -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8080&quot;","title":"How to start debug mode from command prompt for apache tomcat server?","body":"<p>A short answer is to add the following options when the JVM is started.</p>\n<pre><code>JAVA_OPTS=&quot; $JAVA_OPTS -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8080&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":343146,"reputation":11083,"user_id":674669,"accept_rate":58,"display_name":"user674669"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1520487084,"creation_date":1520487084,"answer_id":49166082,"question_id":16689274,"body_markdown":"These instructions worked for me on apache-tomcat-8.5.20 on mac os 10.13.3 using jdk1.8.0_152:\r\n\r\n    $ cd /path/to/apache-tomcat-8.5.20/bin\r\n    $ export JPDA_ADDRESS=&quot;localhost:12321&quot;\r\n    $ ./catalina.sh jpda run\r\n\r\nNow connect to port 12321 from IntelliJ/Eclipse and enjoy remote debugging.","title":"How to start debug mode from command prompt for apache tomcat server?","body":"<p>These instructions worked for me on apache-tomcat-8.5.20 on mac os 10.13.3 using jdk1.8.0_152:</p>\n\n<pre><code>$ cd /path/to/apache-tomcat-8.5.20/bin\n$ export JPDA_ADDRESS=\"localhost:12321\"\n$ ./catalina.sh jpda run\n</code></pre>\n\n<p>Now connect to port 12321 from IntelliJ/Eclipse and enjoy remote debugging.</p>\n"},{"tags":[],"owner":{"account_id":8742254,"reputation":1070,"user_id":6538939,"display_name":"MarkyMarksFunkyBunch"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571850277,"creation_date":1571850277,"answer_id":58527808,"question_id":16689274,"body_markdown":"If you&#39;re wanting to do this via powershell on windows this worked for me\r\n\r\n $env:JPDA_SUSPEND=&quot;y&quot;\r\n\r\n$env:JPDA_TRANSPORT=&quot;dt_socket&quot;\r\n\r\n/path/to/tomcat/bin/catalina.bat jpda start\r\n","title":"How to start debug mode from command prompt for apache tomcat server?","body":"<p>If you're wanting to do this via powershell on windows this worked for me</p>\n\n<p>$env:JPDA_SUSPEND=\"y\"</p>\n\n<p>$env:JPDA_TRANSPORT=\"dt_socket\"</p>\n\n<p>/path/to/tomcat/bin/catalina.bat jpda start</p>\n"},{"tags":[],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684757772,"creation_date":1684748067,"answer_id":76304794,"question_id":16689274,"body_markdown":"If you want to keep this always when your service is running, you should edit your `bin/startup.sh`. There add &#39;jpda&#39; parameter right here \r\n\r\n    exec &quot;$PRGDIR&quot;/&quot;$EXECUTABLE&quot; jpda  start &quot;$@&quot;\r\n\r\ninstead of original\r\n\r\n    exec &quot;$PRGDIR&quot;/&quot;$EXECUTABLE&quot; start &quot;$@&quot;\r\n\r\n\r\n","title":"How to start debug mode from command prompt for apache tomcat server?","body":"<p>If you want to keep this always when your service is running, you should edit your <code>bin/startup.sh</code>. There add 'jpda' parameter right here</p>\n<pre><code>exec &quot;$PRGDIR&quot;/&quot;$EXECUTABLE&quot; jpda  start &quot;$@&quot;\n</code></pre>\n<p>instead of original</p>\n<pre><code>exec &quot;$PRGDIR&quot;/&quot;$EXECUTABLE&quot; start &quot;$@&quot;\n</code></pre>\n"}],"owner":{"account_id":2800644,"reputation":1171,"user_id":2408954,"display_name":"Karthi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":286595,"favorite_count":0,"down_vote_count":0,"up_vote_count":95,"answer_count":10,"score":95,"last_activity_date":1684757772,"creation_date":1369218000,"question_id":16689274,"body_markdown":"I want to start debug mode for my application. But I need to start the debug mode from command prompt. Is it possible ? And will the procedure vary between tomcat 5.5 to tomcat 6.?","title":"How to start debug mode from command prompt for apache tomcat server?","body":"<p>I want to start debug mode for my application. But I need to start the debug mode from command prompt. Is it possible ? And will the procedure vary between tomcat 5.5 to tomcat 6.?</p>\n"},{"tags":["java","file","pdf","amazon-s3","aws-lambda"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1684761718,"post_id":76306055,"comment_id":134559725,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76306055/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":14508862,"reputation":35,"user_id":10479879,"display_name":"Riya Bhardwaj"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684757386,"creation_date":1684757386,"answer_id":76306055,"question_id":76305676,"body_markdown":"Problem was i was converting content to string,, converting to byte array generated report correctly.","title":"Generate PDF in Lambda and Store it in S3","body":"<p>Problem was i was converting content to string,, converting to byte array generated report correctly.</p>\n"}],"owner":{"account_id":14508862,"reputation":35,"user_id":10479879,"display_name":"Riya Bhardwaj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684757757,"creation_date":1684754817,"question_id":76305676,"body_markdown":"I am using PDF Generator to generate PDF and then am storing it in Lambda local storage first using  \r\n```pdDocument.save(local storage path)```.\r\nThen am using \r\n```s3Client.putObject(new PutObjectRequest(bucketName, fileName, file))``` to upload file to S3.\r\nEverything is working fine but when i try to remove local storage logic and use ByteOutputStream :\r\n\r\n```\r\n\r\n    ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n    pdDocument.save(byteArrayOutputStream);\r\n\r\n\r\n    String content = byteArrayOutputStream.toString(StandardCharsets.UTF_8.name());\r\n\r\n    byte[] contentAsBytes = content.getBytes(StandardCharsets.UTF_8);\r\n    final InputStream input = new ByteArrayInputStream(contentAsBytes);\r\n    ObjectMetadata objectMetadata = new ObjectMetadata();\r\n    objectMetadata.setContentType(contentType);\r\n    objectMetadata.setContentLength(content.length());\r\n    objectMetadata.setContentEncoding(UTF_8);\r\n    s3Client.putObject(new PutObjectRequest(bucketName, fileName, input, objectMetadata));\r\n\r\n```\r\n\r\nGenerate PDF is giving ```Failed to load PDF document``` error.\r\n\r\nNot able to understand where am I going wrong.\r\nIs there another way to upload file to S3 without using Lambda local storage?\r\n","title":"Generate PDF in Lambda and Store it in S3","body":"<p>I am using PDF Generator to generate PDF and then am storing it in Lambda local storage first using<br />\n<code>pdDocument.save(local storage path)</code>.\nThen am using\n<code>s3Client.putObject(new PutObjectRequest(bucketName, fileName, file))</code> to upload file to S3.\nEverything is working fine but when i try to remove local storage logic and use ByteOutputStream :</p>\n<pre><code>\n    ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n    pdDocument.save(byteArrayOutputStream);\n\n\n    String content = byteArrayOutputStream.toString(StandardCharsets.UTF_8.name());\n\n    byte[] contentAsBytes = content.getBytes(StandardCharsets.UTF_8);\n    final InputStream input = new ByteArrayInputStream(contentAsBytes);\n    ObjectMetadata objectMetadata = new ObjectMetadata();\n    objectMetadata.setContentType(contentType);\n    objectMetadata.setContentLength(content.length());\n    objectMetadata.setContentEncoding(UTF_8);\n    s3Client.putObject(new PutObjectRequest(bucketName, fileName, input, objectMetadata));\n\n</code></pre>\n<p>Generate PDF is giving <code>Failed to load PDF document</code> error.</p>\n<p>Not able to understand where am I going wrong.\nIs there another way to upload file to S3 without using Lambda local storage?</p>\n"},{"tags":["java","jar"],"answers":[{"comments":[{"owner":{"account_id":251508,"reputation":1356,"user_id":528955,"display_name":"abulka"},"score":1,"creation_date":1684738725,"post_id":76302572,"comment_id":134555026,"body_markdown":"Thanks so much - this was driving me nuts. If it was my design decision the unnamed package would be accessible to all named packages - but it is what it is. Anyway, unfortunately the jar I&#39;m trying to use is a 3rd party jar, created by https://github.com/antlr/grammars-v4/tree/master/javascript/typescript when running `mvn package` which guess what - generates a jar with all the classes in the unnamed package. I guess I&#39;ll have to learn maven and try to relocate those jar classes into a named package within the jar, so that I can access them from my java files in a named package.","body":"Thanks so much - this was driving me nuts. If it was my design decision the unnamed package would be accessible to all named packages - but it is what it is. Anyway, unfortunately the jar I&#39;m trying to use is a 3rd party jar, created by <a href=\"https://github.com/antlr/grammars-v4/tree/master/javascript/typescript\" rel=\"nofollow noreferrer\">github.com/antlr/grammars-v4/tree/master/javascript/typescri&zwnj;&#8203;pt</a> when running <code>mvn package</code> which guess what - generates a jar with all the classes in the unnamed package. I guess I&#39;ll have to learn maven and try to relocate those jar classes into a named package within the jar, so that I can access them from my java files in a named package."},{"owner":{"account_id":251508,"reputation":1356,"user_id":528955,"display_name":"abulka"},"score":1,"creation_date":1684888608,"post_id":76302572,"comment_id":134582404,"body_markdown":"I documented some techniques for moving classes within a jar from the root (unnamed, default) package into a named package (e.g. `org.example`) here: https://stackoverflow.com/questions/5370058/change-the-package-of-a-jar-from-the-default-package/76319317#76319317","body":"I documented some techniques for moving classes within a jar from the root (unnamed, default) package into a named package (e.g. <code>org.example</code>) here: <a href=\"https://stackoverflow.com/questions/5370058/change-the-package-of-a-jar-from-the-default-package/76319317#76319317\" title=\"change the package of a jar from the default package\">stackoverflow.com/questions/5370058/&hellip;</a>"}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684757177,"creation_date":1684718511,"answer_id":76302572,"question_id":76302523,"body_markdown":"All classes are in a package. Even ones without a package statement; these are then considered to be in _the unnamed package_. That is not a slang term; that is the explicit term used in the JLS (Java Language Specification).\r\n\r\nAs per the JLS, it is __not possible__ to import from the unnamed package. `import Class2;`  is a syntax error; there has to be at least one dot in there, and no keyword exists to indicate &#39;the unnamed package, please&#39;.\r\n\r\nThe JLS also states that any source file trivially star-imports its own package. e.g, given:\r\n\r\n```\r\npackage com.foo;\r\n\r\npublic class Hello {}\r\n```\r\n\r\nIt is exactly as if `import com.foo.*;` was in that file: Any class that is in the com.foo package can just be referred to, and unless that name is explicitly imported, java will assume you meant the one in your package (named imports win over star imports; this is obvious, and specced in the JLS).\r\n\r\nThe same applies to the unnamed package: Anything __in__ the unnamed package therefore automatically and silently star-imports the unnamed package. There is no way to write an import statement that does that, of course.\r\n\r\nThese steps add up the following fact:\r\n\r\nIt is __impossible__ to refer to things in the unnamed package. Except from other types in the unnamed package, because they star-import the unnamed package.\r\n\r\nHence:\r\n\r\n&gt; A java file in the default package can refer to a class in the jar&#39;s unnamed package (class in the root of jar) but a java file in a named package cannot.\r\n\r\nYes. True. And not fixable.\r\n\r\n## What??\r\n\r\nThe unnamed package is meant _solely_ for throwaway projects and for extremely simple apps that do not want to mess with packages in any way. That&#39;s all. The moment you write `package` anywhere in the project, that is the moment __every__ source file should gain a package statement.\r\n\r\nYou may find this inconvenient, but there is no fix for this; the JLS __requires__ that java compilers work this way.\r\n","title":"Cannot use class in jar&#39;s root when my file is part of a package but when my file is not part of a package, I can","body":"<p>All classes are in a package. Even ones without a package statement; these are then considered to be in <em>the unnamed package</em>. That is not a slang term; that is the explicit term used in the JLS (Java Language Specification).</p>\n<p>As per the JLS, it is <strong>not possible</strong> to import from the unnamed package. <code>import Class2;</code>  is a syntax error; there has to be at least one dot in there, and no keyword exists to indicate 'the unnamed package, please'.</p>\n<p>The JLS also states that any source file trivially star-imports its own package. e.g, given:</p>\n<pre><code>package com.foo;\n\npublic class Hello {}\n</code></pre>\n<p>It is exactly as if <code>import com.foo.*;</code> was in that file: Any class that is in the com.foo package can just be referred to, and unless that name is explicitly imported, java will assume you meant the one in your package (named imports win over star imports; this is obvious, and specced in the JLS).</p>\n<p>The same applies to the unnamed package: Anything <strong>in</strong> the unnamed package therefore automatically and silently star-imports the unnamed package. There is no way to write an import statement that does that, of course.</p>\n<p>These steps add up the following fact:</p>\n<p>It is <strong>impossible</strong> to refer to things in the unnamed package. Except from other types in the unnamed package, because they star-import the unnamed package.</p>\n<p>Hence:</p>\n<blockquote>\n<p>A java file in the default package can refer to a class in the jar's unnamed package (class in the root of jar) but a java file in a named package cannot.</p>\n</blockquote>\n<p>Yes. True. And not fixable.</p>\n<h2>What??</h2>\n<p>The unnamed package is meant <em>solely</em> for throwaway projects and for extremely simple apps that do not want to mess with packages in any way. That's all. The moment you write <code>package</code> anywhere in the project, that is the moment <strong>every</strong> source file should gain a package statement.</p>\n<p>You may find this inconvenient, but there is no fix for this; the JLS <strong>requires</strong> that java compilers work this way.</p>\n"}],"owner":{"account_id":251508,"reputation":1356,"user_id":528955,"display_name":"abulka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1684718625,"answer_count":1,"score":0,"last_activity_date":1684757177,"creation_date":1684717253,"question_id":76302523,"body_markdown":"I cannot use a class in jar&#39;s root when my file is part of a package but when my file is not part of a package, I can. \r\n\r\nPossibly another way to descibe the problem: A java file in the default package can refer to a class in the jar&#39;s unnamed package (class in the root of jar) but a java file in a named package cannot.\r\n\r\nI&#39;ve created a bash script to reproduce the problem.\r\n\r\nbuild the jar\r\n```bash\r\n#!/bin/bash\r\n\r\n# Create directory structure\r\nmkdir -p projA/src/java/org/example\r\nmkdir -p projA/out/artifacts\r\n\r\n# Create Java source files\r\ncat &gt; projA/src/java/Class2.java &lt;&lt; EOF\r\npublic class Class2 {\r\n    // Empty class\r\n}\r\nEOF\r\n\r\ncat &gt; projA/src/java/org/example/Class1.java &lt;&lt; EOF\r\npackage org.example;\r\n\r\npublic class Class1 {\r\n    // Empty class\r\n}\r\nEOF\r\n\r\n# Compile Java files\r\nfind projA/src/java -name &quot;*.java&quot; &gt; sources.txt\r\njavac -d projA/target @sources.txt\r\n\r\n# Create JAR file\r\njar cf projA/out/artifacts/projA.jar -C projA/target .\r\n\r\n# View contents of JAR file\r\ntar tf projA/out/artifacts/projA.jar\r\n```\r\n\r\nuse the jar\r\n\r\n```bash\r\n#!/bin/bash\r\n\r\n# Create directory structure\r\nmkdir -p ProjB/src/java/org/fred\r\n\r\n# Create Java source files\r\ncat &gt; ProjB/src/java/Main2.java &lt;&lt; EOF\r\npublic class Main2 {\r\n    public static void main(String[] args) {\r\n        Class2 class2 = new Class2();\r\n    }\r\n}\r\nEOF\r\n\r\ncat &gt; ProjB/src/java/org/fred/Main1.java &lt;&lt; EOF\r\npackage org.fred;\r\n\r\nimport org.example.Class1;\r\n\r\npublic class Main1 {\r\n    public static void main(String[] args) {\r\n        Class1 class1 = new Class1();\r\n        // Class2 class2 = new Class2();  // &lt;--- UNCOMMENT THIS TO REVEAL PROBLEM\r\n    }\r\n}\r\nEOF\r\n\r\n# Compile Java files\r\njavac -d ProjB/target -cp projA/out/artifacts/projA.jar ProjB/src/java/*.java ProjB/src/java/org/fred/*.java\r\n\r\n# Run the classes\r\njava -cp ProjB/target:projA/out/artifacts/projA.jar Main2\r\njava -cp ProjB/target:projA/out/artifacts/projA.jar org.fred.Main1\r\n```\r\n\r\nAfter running these scripts in a fresh directory, everything should compile, build and run ok. Now uncomment the line with `// &lt;--- UNCOMMENT THIS TO REVEAL PROBLEM` and run the second script again. Notice the compiler error\r\n```\r\nProjB/src/java/org/fred/Main1.java:12: error: cannot find symbol\r\n        Class2 class2 = new Class2();\r\n```\r\n\r\nWhy can&#39;t I refer to Class2 - its clearly in the root of the jar. I can refer to it successfully from `ProjB/src/java/Main2.java` but not from `ProjB/src/java/org/fred/Main1.java`?\r\n\r\nInterestingly, I don&#39;t need to use an import statement to when I&#39;m referring to classes in the jar unnamed package (class in the root of jar) from a java file in the default package. \r\n","title":"Cannot use class in jar&#39;s root when my file is part of a package but when my file is not part of a package, I can","body":"<p>I cannot use a class in jar's root when my file is part of a package but when my file is not part of a package, I can.</p>\n<p>Possibly another way to descibe the problem: A java file in the default package can refer to a class in the jar's unnamed package (class in the root of jar) but a java file in a named package cannot.</p>\n<p>I've created a bash script to reproduce the problem.</p>\n<p>build the jar</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#!/bin/bash\n\n# Create directory structure\nmkdir -p projA/src/java/org/example\nmkdir -p projA/out/artifacts\n\n# Create Java source files\ncat &gt; projA/src/java/Class2.java &lt;&lt; EOF\npublic class Class2 {\n    // Empty class\n}\nEOF\n\ncat &gt; projA/src/java/org/example/Class1.java &lt;&lt; EOF\npackage org.example;\n\npublic class Class1 {\n    // Empty class\n}\nEOF\n\n# Compile Java files\nfind projA/src/java -name &quot;*.java&quot; &gt; sources.txt\njavac -d projA/target @sources.txt\n\n# Create JAR file\njar cf projA/out/artifacts/projA.jar -C projA/target .\n\n# View contents of JAR file\ntar tf projA/out/artifacts/projA.jar\n</code></pre>\n<p>use the jar</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#!/bin/bash\n\n# Create directory structure\nmkdir -p ProjB/src/java/org/fred\n\n# Create Java source files\ncat &gt; ProjB/src/java/Main2.java &lt;&lt; EOF\npublic class Main2 {\n    public static void main(String[] args) {\n        Class2 class2 = new Class2();\n    }\n}\nEOF\n\ncat &gt; ProjB/src/java/org/fred/Main1.java &lt;&lt; EOF\npackage org.fred;\n\nimport org.example.Class1;\n\npublic class Main1 {\n    public static void main(String[] args) {\n        Class1 class1 = new Class1();\n        // Class2 class2 = new Class2();  // &lt;--- UNCOMMENT THIS TO REVEAL PROBLEM\n    }\n}\nEOF\n\n# Compile Java files\njavac -d ProjB/target -cp projA/out/artifacts/projA.jar ProjB/src/java/*.java ProjB/src/java/org/fred/*.java\n\n# Run the classes\njava -cp ProjB/target:projA/out/artifacts/projA.jar Main2\njava -cp ProjB/target:projA/out/artifacts/projA.jar org.fred.Main1\n</code></pre>\n<p>After running these scripts in a fresh directory, everything should compile, build and run ok. Now uncomment the line with <code>// &lt;--- UNCOMMENT THIS TO REVEAL PROBLEM</code> and run the second script again. Notice the compiler error</p>\n<pre><code>ProjB/src/java/org/fred/Main1.java:12: error: cannot find symbol\n        Class2 class2 = new Class2();\n</code></pre>\n<p>Why can't I refer to Class2 - its clearly in the root of the jar. I can refer to it successfully from <code>ProjB/src/java/Main2.java</code> but not from <code>ProjB/src/java/org/fred/Main1.java</code>?</p>\n<p>Interestingly, I don't need to use an import statement to when I'm referring to classes in the jar unnamed package (class in the root of jar) from a java file in the default package.</p>\n"},{"tags":["java","jmx","java-threads","hive-metastore"],"comments":[{"owner":{"account_id":15580605,"reputation":116,"user_id":11240504,"display_name":"cpwillis"},"score":0,"creation_date":1685273189,"post_id":76161424,"comment_id":134636068,"body_markdown":"You need to provide more information in order to diagnose/replicate however, I can suggest... checking JMX server config, analysing resource allocation, reviewing HMS logs, scaling and monitoring the deployment.","body":"You need to provide more information in order to diagnose/replicate however, I can suggest... checking JMX server config, analysing resource allocation, reviewing HMS logs, scaling and monitoring the deployment."}],"owner":{"account_id":4011368,"reputation":269,"user_id":3304632,"display_name":"Shakti Garg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684757107,"creation_date":1683099248,"question_id":76161424,"body_markdown":"I have a deployment of HMS v2.0.1 on k8s with 20 replicas. Over the time, it becomes unresponsive.\r\n- CPU usage keeps on increasing. With it, increase in CPU throttling also.\r\n- JVMs are configured with 13 GB.\r\n- Some of the pods show unusually high number of threads like ~700-800.\r\nMajority of threads are of category `JMX server connection timeout`\r\n```\r\nstackTrace:\r\njava.lang.Thread.State: TIMED_WAITING (on object monitor)\r\nat java.lang.Object.wait(Native Method)\r\nat com.sun.jmx.remote.internal.ServerCommunicatorAdmin$Timeout.run(ServerCommunicatorAdmin.java:168)\r\n- locked &lt;0x0000000544732110&gt; (a [I)\r\nat java.lang.Thread.run(Thread.java:750)\r\n```\r\n- Another impact is that app stops sending the JMX metrics after some time.\r\n\r\nI am not able to figure out the exact issue here. Looking for any tip/guidance from the community.","title":"Hive Metastore service having lot of threads of type, JMX server connection timeout","body":"<p>I have a deployment of HMS v2.0.1 on k8s with 20 replicas. Over the time, it becomes unresponsive.</p>\n<ul>\n<li>CPU usage keeps on increasing. With it, increase in CPU throttling also.</li>\n<li>JVMs are configured with 13 GB.</li>\n<li>Some of the pods show unusually high number of threads like ~700-800.\nMajority of threads are of category <code>JMX server connection timeout</code></li>\n</ul>\n<pre><code>stackTrace:\njava.lang.Thread.State: TIMED_WAITING (on object monitor)\nat java.lang.Object.wait(Native Method)\nat com.sun.jmx.remote.internal.ServerCommunicatorAdmin$Timeout.run(ServerCommunicatorAdmin.java:168)\n- locked &lt;0x0000000544732110&gt; (a [I)\nat java.lang.Thread.run(Thread.java:750)\n</code></pre>\n<ul>\n<li>Another impact is that app stops sending the JMX metrics after some time.</li>\n</ul>\n<p>I am not able to figure out the exact issue here. Looking for any tip/guidance from the community.</p>\n"},{"tags":["java","httpclient","okhttp","quarkus"],"comments":[{"owner":{"account_id":5621681,"reputation":229,"user_id":6935180,"display_name":"Bruno Baptista"},"score":0,"creation_date":1684754278,"post_id":76305102,"comment_id":134558152,"body_markdown":"Do you really need the OKHttpClient? With Quarkus, this is the recommended HTTP Client: https://quarkus.io/guides/rest-client-reactive","body":"Do you really need the OKHttpClient? With Quarkus, this is the recommended HTTP Client: <a href=\"https://quarkus.io/guides/rest-client-reactive\" rel=\"nofollow noreferrer\">quarkus.io/guides/rest-client-reactive</a>"}],"answers":[{"comments":[{"owner":{"account_id":19094442,"reputation":139,"user_id":13944037,"display_name":"Dinesh Verma"},"score":0,"creation_date":1684840905,"post_id":76305909,"comment_id":134572979,"body_markdown":"Hi, but decreasing keep alive will also make more connections. Will that be feasible?","body":"Hi, but decreasing keep alive will also make more connections. Will that be feasible?"}],"tags":[],"owner":{"account_id":17735,"reputation":39493,"user_id":40013,"accept_rate":75,"display_name":"Jesse Wilson"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684756449,"creation_date":1684756449,"answer_id":76305909,"question_id":76305102,"body_markdown":"Set the connection pool’s keep alive duration to 60 seconds instead of the default 5 minutes.\r\n\r\n```\r\nOkHttpClient client = new OkHttpClient.Builder()\r\n    .connectionPool(new ConnectionPool(5, 60, TimeUnit.SECONDS))\r\n    .build()\r\n```","title":"Getting SocketException: Connection reset with OHttp3 Client","body":"<p>Set the connection pool’s keep alive duration to 60 seconds instead of the default 5 minutes.</p>\n<pre><code>OkHttpClient client = new OkHttpClient.Builder()\n    .connectionPool(new ConnectionPool(5, 60, TimeUnit.SECONDS))\n    .build()\n</code></pre>\n"}],"owner":{"account_id":19094442,"reputation":139,"user_id":13944037,"display_name":"Dinesh Verma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":806,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684757034,"creation_date":1684750203,"question_id":76305102,"body_markdown":"**Problem:**\r\nI am using OkHttp3 Client in Quarkus project, but I am getting the following error in production:\r\n&gt; java.net.SocketException: Connection reset at java.net.SocketInputStream.read(SocketInputStream.java:186) ~[?:?] at java.net.SocketInputStream.read(SocketInputStream.java:140)\r\n\r\n**Details**\r\nMy project is a type of middle layer that is calling the Backend APIs as a client, parses the response, and sends it back to the Front end. But sometimes, it throws the above exception when calling downstream APIs. In the case of a GET request, it retries two times, gets same exception and in third retry, a successful response is returned. But in POST request, it does not retries because of idempotency and fails in the first occurrence only.\r\n\r\n*Code:*\r\n```java\r\npublic class CustomOkHttpClient extends HttpClient {\r\n    private OkHttpClient client;\r\n\r\n    public Response callDownstream(HttpRequest clientRequest) {\r\n        Response clientResponse = null;\r\n        try {\r\n            Call call = client.newCall(clientRequest);\r\n            clientResponse = call.execute();\r\n            return parseClientResponse(clientResponse, responseClass);\r\n        } catch (final Exception exception) {\r\n            logger.error(&quot;Exception occurred&quot;);\r\n            throw exception;\r\n        } finally {\r\n            if (null!=clientResponse) {\r\n                clientResponse.close();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n*Dependencies used:*\r\ncom.squareup.okhttp3:\r\n- okhttp-urlconnection: 5.0.0-alpha.2\r\n- logging-interceptor: 4.9.3\r\n- mockwebserver: 4.9.0\r\n\r\n\r\n**Ways tried**\r\n- Used finally block to close the connection.\r\n- Increased readTimeOut value of http client, but same error is happenning.\r\n\r\n**How to proceed**\r\n- What approach can I do further?\r\n- Is this possible that the connection gets closed due to idle time period because no traffic is present during that time, and when after some long time, when request hit is made, it gets failed.","title":"Getting SocketException: Connection reset with OHttp3 Client","body":"<p><strong>Problem:</strong>\nI am using OkHttp3 Client in Quarkus project, but I am getting the following error in production:</p>\n<blockquote>\n<p>java.net.SocketException: Connection reset at java.net.SocketInputStream.read(SocketInputStream.java:186) ~[?:?] at java.net.SocketInputStream.read(SocketInputStream.java:140)</p>\n</blockquote>\n<p><strong>Details</strong>\nMy project is a type of middle layer that is calling the Backend APIs as a client, parses the response, and sends it back to the Front end. But sometimes, it throws the above exception when calling downstream APIs. In the case of a GET request, it retries two times, gets same exception and in third retry, a successful response is returned. But in POST request, it does not retries because of idempotency and fails in the first occurrence only.</p>\n<p><em>Code:</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomOkHttpClient extends HttpClient {\n    private OkHttpClient client;\n\n    public Response callDownstream(HttpRequest clientRequest) {\n        Response clientResponse = null;\n        try {\n            Call call = client.newCall(clientRequest);\n            clientResponse = call.execute();\n            return parseClientResponse(clientResponse, responseClass);\n        } catch (final Exception exception) {\n            logger.error(&quot;Exception occurred&quot;);\n            throw exception;\n        } finally {\n            if (null!=clientResponse) {\n                clientResponse.close();\n            }\n        }\n    }\n}\n</code></pre>\n<p><em>Dependencies used:</em>\ncom.squareup.okhttp3:</p>\n<ul>\n<li>okhttp-urlconnection: 5.0.0-alpha.2</li>\n<li>logging-interceptor: 4.9.3</li>\n<li>mockwebserver: 4.9.0</li>\n</ul>\n<p><strong>Ways tried</strong></p>\n<ul>\n<li>Used finally block to close the connection.</li>\n<li>Increased readTimeOut value of http client, but same error is happenning.</li>\n</ul>\n<p><strong>How to proceed</strong></p>\n<ul>\n<li>What approach can I do further?</li>\n<li>Is this possible that the connection gets closed due to idle time period because no traffic is present during that time, and when after some long time, when request hit is made, it gets failed.</li>\n</ul>\n"},{"tags":["java","xml","xslt","yaml","xslt-3.0"],"comments":[{"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1684750864,"post_id":76305044,"comment_id":134557524,"body_markdown":"I don&#39;t see your XSLT code generation any XSLT although your title suggests that is (part of) what you want to achieve. As for: &quot; i cannot call template inside another template or inside if tag or choose tag&quot;: why is that?  `&lt;xsl:template name=&quot;foo&quot;&gt;&lt;xsl:call-template name=&quot;bar&quot;/&gt;&lt;/xsl:template&gt;` is perfectly possible and not constrained. You can&#39;t nest template declarations but calling or applying templates at any level inside of another template is possible. Thus, if you have concrete code giving a concrete error, share that code.","body":"I don&#39;t see your XSLT code generation any XSLT although your title suggests that is (part of) what you want to achieve. As for: &quot; i cannot call template inside another template or inside if tag or choose tag&quot;: why is that?  <code>&lt;xsl:template name=&quot;foo&quot;&gt;&lt;xsl:call-template name=&quot;bar&quot;&#47;&gt;&lt;&#47;xsl:template&gt;</code> is perfectly possible and not constrained. You can&#39;t nest template declarations but calling or applying templates at any level inside of another template is possible. Thus, if you have concrete code giving a concrete error, share that code."},{"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1684753531,"post_id":76305044,"comment_id":134558024,"body_markdown":"Don&#39;t try to explain what you want to achieve by including code in comments. Edit your question to show any code there, in a well formatted way. To me it is not clear why you need both Java classes and XSLT code to generate XSLT code, it seems, XSLT code should suffice to process YAML and generate XSLT code. Anyway, it is not clear at which point you struggle so that someone could help fix a well defined and isolated problem; it seems you have chosen some complex task which might need some complex solution. But you have not even specified what your YAML stands for in terms of XSLT.","body":"Don&#39;t try to explain what you want to achieve by including code in comments. Edit your question to show any code there, in a well formatted way. To me it is not clear why you need both Java classes and XSLT code to generate XSLT code, it seems, XSLT code should suffice to process YAML and generate XSLT code. Anyway, it is not clear at which point you struggle so that someone could help fix a well defined and isolated problem; it seems you have chosen some complex task which might need some complex solution. But you have not even specified what your YAML stands for in terms of XSLT."},{"owner":{"account_id":27356150,"reputation":5,"user_id":20864518,"display_name":"I. Riahi"},"score":0,"creation_date":1684753890,"post_id":76305044,"comment_id":134558085,"body_markdown":"in my project i need to use xslt to transform an xml to xml, but i need to add a new layer in order to simplify the work, instead of making xslt templates everytime i want to specify the transformations in a yaml file then generate the xslt templates from it, so simply YAML contains the list of transformations for each element.\n&quot;XSLT code should suffice to process YAML and generate XSLT code.&quot; \ncan you tell me how, any useful links please ?","body":"in my project i need to use xslt to transform an xml to xml, but i need to add a new layer in order to simplify the work, instead of making xslt templates everytime i want to specify the transformations in a yaml file then generate the xslt templates from it, so simply YAML contains the list of transformations for each element. &quot;XSLT code should suffice to process YAML and generate XSLT code.&quot;  can you tell me how, any useful links please ?"},{"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1684754567,"post_id":76305044,"comment_id":134558199,"body_markdown":"YAML is a text format, you can read it in with e.g. `unparsed-text(&#39;foo.yaml&#39;)`, you can process it with all text processing features you have in XSLT 3 (i.e. `analyze-string`, `tokenize`, grouping, matching) to transform it to maps/arrays or XML and then process that further. Whether it is in the end easier to have someone write YAML to have a transpiler to to create XSLT instead of having people write XSLT directly (e.g. `&lt;xsl:template match=&quot;ABC&quot;/&gt;` seems to be what your `-element: ABC action: removeElement: true` amounts to) I doubt. It all depends on the skill sets of people involved.","body":"YAML is a text format, you can read it in with e.g. <code>unparsed-text(&#39;foo.yaml&#39;)</code>, you can process it with all text processing features you have in XSLT 3 (i.e. <code>analyze-string</code>, <code>tokenize</code>, grouping, matching) to transform it to maps/arrays or XML and then process that further. Whether it is in the end easier to have someone write YAML to have a transpiler to to create XSLT instead of having people write XSLT directly (e.g. <code>&lt;xsl:template match=&quot;ABC&quot;&#47;&gt;</code> seems to be what your <code>-element: ABC action: removeElement: true</code> amounts to) I doubt. It all depends on the skill sets of people involved."},{"owner":{"account_id":27356150,"reputation":5,"user_id":20864518,"display_name":"I. Riahi"},"score":0,"creation_date":1684755099,"post_id":76305044,"comment_id":134558298,"body_markdown":"yeah it depends on the skills sets of the people involved and that&#39;s why i&#39;m asked to do generate xslt templates from YAML, and i think you gave me a better solution, i think i better transform it to XML and then process it further\nThanks a lot @MartinHonnen","body":"yeah it depends on the skills sets of the people involved and that&#39;s why i&#39;m asked to do generate xslt templates from YAML, and i think you gave me a better solution, i think i better transform it to XML and then process it further Thanks a lot @MartinHonnen"}],"answers":[{"tags":[],"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684757034,"creation_date":1684757034,"answer_id":76306007,"question_id":76305044,"body_markdown":"A simple example to transpile part of your YAML to XSLT and then run it in XSLT 3 is at https://xsltfiddle.liberty-development.net/eiZNCwk doing e.g.\r\n\r\n    &lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\r\n    \txmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n    \txmlns:axsl=&quot;http://www.w3.org/1999/XSL/Transform-alias&quot;\r\n    \texclude-result-prefixes=&quot;#all&quot;\r\n    \tversion=&quot;3.0&quot;&gt;\r\n      \r\n      &lt;xsl:namespace-alias stylesheet-prefix=&quot;axsl&quot; result-prefix=&quot;xsl&quot;/&gt;\r\n    \r\n      &lt;xsl:output method=&quot;xml&quot; indent=&quot;yes&quot;/&gt;\r\n    \r\n      &lt;xsl:template match=&quot;/&quot;&gt;\r\n        &lt;xsl:variable name=&quot;yaml-as-xslt&quot; as=&quot;element(xsl:stylesheet)&quot;&gt;\r\n          &lt;axsl:stylesheet version=&quot;3.0&quot;&gt;\r\n            \r\n            &lt;axsl:mode on-no-match=&quot;shallow-copy&quot;/&gt;\r\n            \r\n            &lt;xsl:for-each-group select=&quot;tokenize($yaml, &#39;\\n&#39;) =&gt; tail()&quot; group-starting-with=&quot;.[matches(., &#39;^\\s+-\\selement:&#39;)]&quot;&gt;\r\n              &lt;axsl:template match=&quot;{substring-after(., &#39;element: &#39;)}&quot;&gt;\r\n                &lt;xsl:apply-templates select=&quot;current-group()[3]&quot;/&gt;\r\n              &lt;/axsl:template&gt;\r\n            &lt;/xsl:for-each-group&gt;\r\n            \r\n          &lt;/axsl:stylesheet&gt;\r\n        &lt;/xsl:variable&gt;\r\n        \r\n        &lt;xsl:sequence\r\n          select=&quot;transform(map { &#39;source-node&#39;: ., &#39;stylesheet-node&#39; : $yaml-as-xslt})?output&quot;/&gt;  \r\n      &lt;/xsl:template&gt;\r\n      \r\n      &lt;xsl:template match=&quot;.[matches(., &#39;^\\s+renameTag:\\s&#39;)]&quot;&gt;\r\n        &lt;axsl:element name=&quot;{substring-after(., &#39;renameTag: &#39;)}&quot;/&gt;\r\n      &lt;/xsl:template&gt;\r\n      \r\n      &lt;xsl:template match=&quot;.[matches(., &#39;^\\s+removeElement:\\strue&#39;)]&quot;/&gt;\r\n    \r\n      &lt;xsl:param name=&quot;yaml&quot; as=&quot;xs:string&quot; expand-text=&quot;no&quot;&gt;transformations:\r\n      - element: ABC\r\n        action:\r\n          removeElement: true\r\n      - element: BCD\r\n        action:\r\n          removeElement: true\r\n      - element: OldName1\r\n        action:\r\n          renameTag: NewName1\r\n      - element: OldName2\r\n        action:\r\n          renameTag: NewName2&lt;/xsl:param&gt;\r\n      \r\n    &lt;/xsl:stylesheet&gt;\r\n\r\nto transform e.g.\r\n\r\n    &lt;Root&gt;\r\n      &lt;ABC/&gt;\r\n      &lt;BCD/&gt;\r\n      &lt;OldName1/&gt;\r\n      &lt;OldName2/&gt;\r\n    &lt;/Root&gt;\r\n\r\nbased on the YAML rules into\r\n\r\n    &lt;Root&gt;\r\n       &lt;NewName1/&gt;\r\n       &lt;NewName2/&gt;\r\n    &lt;/Root&gt;\r\n\r\nOf course the full meaning of your YAML specifying XML transformations is not given and I have not tried to guess it for all of your sample nor have I tried to implement all of the sample, in the end, as said in the comment, an additional step first transforming the YAML into an intermediary XML or maps/json data structure to then generate XSLT and execute is might be necessary for a complex YAML syntax to define XML transformations.","title":"How to generate XSLT 3.0 templates from a yaml file?","body":"<p>A simple example to transpile part of your YAML to XSLT and then run it in XSLT 3 is at <a href=\"https://xsltfiddle.liberty-development.net/eiZNCwk\" rel=\"nofollow noreferrer\">https://xsltfiddle.liberty-development.net/eiZNCwk</a> doing e.g.</p>\n<pre><code>&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\n    xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\n    xmlns:axsl=&quot;http://www.w3.org/1999/XSL/Transform-alias&quot;\n    exclude-result-prefixes=&quot;#all&quot;\n    version=&quot;3.0&quot;&gt;\n  \n  &lt;xsl:namespace-alias stylesheet-prefix=&quot;axsl&quot; result-prefix=&quot;xsl&quot;/&gt;\n\n  &lt;xsl:output method=&quot;xml&quot; indent=&quot;yes&quot;/&gt;\n\n  &lt;xsl:template match=&quot;/&quot;&gt;\n    &lt;xsl:variable name=&quot;yaml-as-xslt&quot; as=&quot;element(xsl:stylesheet)&quot;&gt;\n      &lt;axsl:stylesheet version=&quot;3.0&quot;&gt;\n        \n        &lt;axsl:mode on-no-match=&quot;shallow-copy&quot;/&gt;\n        \n        &lt;xsl:for-each-group select=&quot;tokenize($yaml, '\\n') =&gt; tail()&quot; group-starting-with=&quot;.[matches(., '^\\s+-\\selement:')]&quot;&gt;\n          &lt;axsl:template match=&quot;{substring-after(., 'element: ')}&quot;&gt;\n            &lt;xsl:apply-templates select=&quot;current-group()[3]&quot;/&gt;\n          &lt;/axsl:template&gt;\n        &lt;/xsl:for-each-group&gt;\n        \n      &lt;/axsl:stylesheet&gt;\n    &lt;/xsl:variable&gt;\n    \n    &lt;xsl:sequence\n      select=&quot;transform(map { 'source-node': ., 'stylesheet-node' : $yaml-as-xslt})?output&quot;/&gt;  \n  &lt;/xsl:template&gt;\n  \n  &lt;xsl:template match=&quot;.[matches(., '^\\s+renameTag:\\s')]&quot;&gt;\n    &lt;axsl:element name=&quot;{substring-after(., 'renameTag: ')}&quot;/&gt;\n  &lt;/xsl:template&gt;\n  \n  &lt;xsl:template match=&quot;.[matches(., '^\\s+removeElement:\\strue')]&quot;/&gt;\n\n  &lt;xsl:param name=&quot;yaml&quot; as=&quot;xs:string&quot; expand-text=&quot;no&quot;&gt;transformations:\n  - element: ABC\n    action:\n      removeElement: true\n  - element: BCD\n    action:\n      removeElement: true\n  - element: OldName1\n    action:\n      renameTag: NewName1\n  - element: OldName2\n    action:\n      renameTag: NewName2&lt;/xsl:param&gt;\n  \n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>to transform e.g.</p>\n<pre><code>&lt;Root&gt;\n  &lt;ABC/&gt;\n  &lt;BCD/&gt;\n  &lt;OldName1/&gt;\n  &lt;OldName2/&gt;\n&lt;/Root&gt;\n</code></pre>\n<p>based on the YAML rules into</p>\n<pre><code>&lt;Root&gt;\n   &lt;NewName1/&gt;\n   &lt;NewName2/&gt;\n&lt;/Root&gt;\n</code></pre>\n<p>Of course the full meaning of your YAML specifying XML transformations is not given and I have not tried to guess it for all of your sample nor have I tried to implement all of the sample, in the end, as said in the comment, an additional step first transforming the YAML into an intermediary XML or maps/json data structure to then generate XSLT and execute is might be necessary for a complex YAML syntax to define XML transformations.</p>\n"}],"owner":{"account_id":27356150,"reputation":5,"user_id":20864518,"display_name":"I. Riahi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76306007,"answer_count":1,"score":0,"last_activity_date":1684757034,"creation_date":1684749813,"question_id":76305044,"body_markdown":"I&#39;m trying to find a way to generate xslt 3.0 templates from a yaml file and i&#39;m looking for a way or a tool that can help me do it, the yaml file contains the list of transformations, here is the yaml file : \r\n\r\n```\r\ntransformations:\r\n  - element: ABC\r\n    action:\r\n      removeElement: true\r\n  - element: BCD\r\n    action:\r\n      removeElement: true\r\n  - element: OldName1\r\n    action:\r\n      renameTag: NewName1\r\n  - element: OldName2\r\n    action:\r\n      renameTag: NewName2\r\n      changeAttributes:\r\n        - name: x\r\n          value: &#39;@H&#39;\r\n        - name: y\r\n          value: &#39;@V&#39;\r\n        - name: PI\r\n          value: 3.14\r\n      excludedAttributes:\r\n        - H\r\n        - V\r\n```\r\ni&#39;m already parsing the yaml file to my java objects using snakeyaml\r\n```\r\n@Data\r\npublic class Transformations {\r\n\tprivate List&lt;Transformation&gt; transformations;\r\n}\r\n@Data\r\npublic class Transformation {\t\r\n\tprivate String element;\r\n\tprivate Action action;\r\n}\r\n@Data\r\npublic class Action {\r\n\tprivate String renameTag=&quot;&quot;;\r\n\tprivate boolean removeElement=false;\r\n\tprivate List&lt;Attribute&gt; changeAttributes= new ArrayList&lt;&gt;();\r\n\tprivate boolean copyOtherAttributes=true;\r\n\tprivate List&lt;String&gt; excludedAttributes= new ArrayList&lt;&gt;();\r\n\tprivate String addChildElement=&quot;&quot;;\r\n\tprivate String copyAttributesIn=&quot;&quot;;\r\n}\r\n@Data\r\npublic class Attribute {\r\n    private String name;\r\n    private String value; \r\n}\r\n```\r\n\r\n\r\n\r\n\r\ni have passed the transformations list to my xslt 3.0 file \r\n\r\n```\r\nList&lt;Transformation&gt; transformationList = transformations.getTransformations();\r\ntransformer.setParameter(&quot;list&quot;, transformationList);\r\n```\r\nthen i create a new class, implemented ExtensionFunction and used saxon and s9api in order to create all the getters for theses classes to use them in xslt\r\n\r\nhere is how i looped through the list and used the getters to print some attributes : \r\n\r\n```\r\n&lt;xsl:template match=&quot;/&quot;&gt;\r\n\t\t&lt;xsl:for-each select=&quot;$list&quot;&gt;\r\n\t\t\t&lt;xsl:variable name=&quot;item&quot; select=&quot;.&quot;/&gt;\r\n\t\t\t&lt;Tranformation&gt;\r\n\t\t\t\t&lt;xsl:variable name=&quot;element&quot; select=&quot;ext:getTransformationAttribute(&#39;element&#39;,$item)&quot;/&gt;\r\n\t\t\t\t&lt;xsl:variable name=&quot;actionObj&quot; select=&quot;ext:getTransformationAttribute(&#39;action&#39;,$item)&quot;/&gt;\r\n\r\n\t\t\t\t&lt;xsl:value-of select=&quot;$element&quot; /&gt; \r\n\t\t\t\t&lt;xsl:text&gt;&amp;#10;&lt;/xsl:text&gt;\r\n\t\t\t\t&lt;xsl:value-of select=&quot;$actionObj&quot; /&gt;\r\n\r\n\t\t\t\t&lt;Action&gt;\r\n\t\t\t\t\t&lt;xsl:variable name=&quot;renameTag&quot; select=&quot;ext:getTransformationAttribute(&#39;renameTag&#39;,$actionObj)&quot;/&gt;\r\n\t\t\t\t\t&lt;xsl:value-of select=&quot;$renameTag&quot; /&gt;\r\n\t\t\t\t\t&lt;xsl:text&gt;&amp;#10;&lt;/xsl:text&gt;\r\n\t\t\t\t\t&lt;xsl:variable name=&quot;removeElement&quot; select=&quot;ext:getTransformationAttribute(&#39;removeElement&#39;,$actionObj)&quot;/&gt;\r\n\t\t\t\t\t&lt;xsl:value-of select=&quot;$removeElement&quot; /&gt;\r\n\t\t\t\t\t&lt;xsl:text&gt;&amp;#10;&lt;/xsl:text&gt;\r\n\t\t\t\t\t&lt;xsl:variable name=&quot;changeAttributes&quot; select=&quot;ext:getTransformationAttribute(&#39;changeAttributes&#39;,$actionObj)&quot;/&gt;\r\n\t\t\t\t\t&lt;xsl:for-each select=&quot;$changeAttributes&quot;&gt;\r\n\t\t\t\t\t\t&lt;xsl:value-of select=&quot;.&quot; /&gt; \r\n\t\t\t\t\t&lt;/xsl:for-each&gt;\r\n\r\n\t\t\t\t\t&lt;xsl:variable name=&quot;addChildElement&quot; select=&quot;ext:getTransformationAttribute(&#39;addChildElement&#39;,$actionObj)&quot;/&gt;\r\n\t\t\t\t\t&lt;xsl:value-of select=&quot;$addChildElement&quot; /&gt;\r\n\t\t\t\t&lt;/Action&gt;\r\n\t\t\t\t&lt;!-- \r\n\t\t\t\t\t&lt;xsl:value-of select=&quot;$item&quot;  /&gt;\r\n\t\t\t\t--&gt;\r\n\t\t\t&lt;/Tranformation&gt;\r\n\t\t&lt;/xsl:for-each&gt;\r\n\t&lt;/xsl:template&gt;\r\n```\r\n\r\nwhat i want to do now is to generate the xslt templates by theses attributes in order to transform my xml file using yaml, one problem is that i cannot call template inside another template or inside if tag or choose tag \r\n\r\nexample of templates which i need generate :\r\n\r\n    \r\n\r\n    &lt;xsl:template match=&quot;Element&quot;&gt;\r\n        \t&lt;NewName2 x=&quot;{@H}&quot; y=&quot;{@V}&quot; PI=&quot;3.14&quot;&gt;\r\n        \t\t&lt;xsl:apply-templates select=&quot;@*[not(name() = (&#39;H&#39;, &#39;V&#39;))]&quot; /&gt;\r\n        \t\t&lt;addedChild&gt;\r\n        \t\t\t&lt;xsl:apply-templates select=&quot;node()&quot; /&gt;\r\n        \t\t&lt;/addedChild&gt;\r\n        \t&lt;/NewName2&gt;\r\n    &lt;/xsl:template&gt;\r\n\r\nin some transformations i have to add a child element, some should exclude attributes from copy, some don&#39;t have a renameTag action, some should have their attributes copied in the child tag and so on..\r\n\r\nhere is how it can be done with java for example : \r\n\r\n    private static void generateXSLT(String xsltPath, Transformations transformations) throws IOException {\r\n    \r\n    \tFileWriter writer = new FileWriter(xsltPath);\r\n    \tStringBuilder xslt = new StringBuilder();\r\n    \txslt.append(&quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;\\n&quot;\r\n    \t\t\t+ &quot;&lt;xsl:stylesheet xmlns:xsl=\\&quot;http://www.w3.org/1999/XSL/Transform\\&quot;\\n&quot;\r\n    \t\t\t+ &quot;    xmlns:xs=\\&quot;http://www.w3.org/2001/XMLSchema\\&quot;\\n&quot;\r\n    \t\t\t+ &quot;    xmlns:math=\\&quot;http://www.w3.org/2005/xpath-functions/math\\&quot;\\n&quot;\r\n    \t\t\t+ &quot;    xmlns:xd=\\&quot;http://www.oxygenxml.com/ns/doc/xsl\\&quot;\\n&quot;\r\n    \t\t\t+ &quot;    exclude-result-prefixes=\\&quot;xs math xd\\&quot; version=\\&quot;3.0\\&quot;&gt;\\n&quot;);\r\n    \t\t\t// strip-space is used for removing empty lines after deleting some elements\r\n    \t\t\t// template to copy everything\r\n    \t\t\txslt.append(&quot;&lt;xsl:strip-space elements=\\&quot;*\\&quot; /&gt;\\r\\n&quot; + &quot;    \\r\\n&quot; + &quot;    &lt;xsl:template match=\\&quot;/\\&quot;&gt;\\r\\n&quot;\r\n    \t\t\t+ &quot;        &lt;xsl:apply-templates /&gt;\\r\\n&quot; + &quot;    &lt;/xsl:template&gt;\\r\\n&quot; + &quot;    \\r\\n&quot;\r\n    \t\t\t+ &quot;    &lt;xsl:template match=\\&quot;*\\&quot;&gt;\\r\\n&quot; + &quot;        &lt;xsl:copy&gt;\\r\\n&quot;\r\n    \t\t\t+ &quot;            &lt;xsl:apply-templates select=\\&quot;@* | node()\\&quot; /&gt;\\r\\n&quot; + &quot;        &lt;/xsl:copy&gt;\\r\\n&quot;\r\n    \t\t\t+ &quot;    &lt;/xsl:template&gt;\\n\\n&quot;);\r\n    \tList&lt;Transformation&gt; transformationList = transformations.getTransformations();\r\n    \tfor (Transformation transformation : transformationList) {\r\n    \t\tif (action.isRemoveElement()) {\r\n    \t\t\txslt.append(&quot;\\t&lt;xsl:template match=\\&quot;&quot; + xpath + &quot;\\&quot;/&gt;\\n&quot;);\r\n    \t\t} else if (action.getRenameTag() != null) {\r\n    \t\t\txslt.append(&quot;\\t&lt;xsl:template match=\\&quot;&quot; + xpath + &quot;\\&quot;&gt;\\n&quot;);\r\n    \t\t\tif (action.getChangeAttributes() != null) {\r\n    \t\t\t\txslt.append(&quot;\\t\\t&lt;&quot; + action.getRenameTag());\r\n    \t\t\t\tfor (Attribute attribute : action.getChangeAttributes()) {\r\n    \t\t\t\t\txslt.append(&quot; &quot; + attribute.getName() + &quot;=\\&quot;{&quot; + attribute.getValue() + &quot;}\\&quot;&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\txslt.append(&quot;&gt;\\n&quot;);\r\n    \t\t\t} else {\r\n    \t\t\t\txslt.append(&quot;\\t\\t&lt;&quot; + action.getRenameTag() + &quot;&gt;\\n&quot;);\r\n    \t\t\t}\r\n    \t\t\tif (action.getExcludeAttributes() != null) {\r\n    \t\t\t\txslt.append(&quot;\\t\\t\\t&lt;xsl:apply-templates select=\\&quot;@*[not(name() = (&quot;);\r\n    \t\t\t\tif (action.getExcludeAttributes() != null) {\r\n    \t\t\t\t\txslt.append(&quot;\\t\\t\\t&lt;xsl:apply-templates select=\\&quot;@*[not(name() = (&quot;);\r\n    \t\t\t\t\tfor (String excludedAttribute : action.getExcludeAttributes()) {\r\n    \t\t\t\t\t\tjoiner.add(&quot;&#39;&quot; + excludedAttribute + &quot;&#39;&quot;);\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\txslt.append(joiner.toString() + &quot;))]|node()\\&quot;/&gt;\\n&quot;);\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\txslt.append(&quot;\\t\\t\\t&lt;xsl:apply-templates select=\\&quot;@*|node()\\&quot;/&gt;\\n&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \r\n    \t\t\t\txslt.append(&quot;\\t\\t&lt;/&quot; + action.getRenameTag() + &quot;&gt;\\n&quot;);\r\n    \t\t\t\txslt.append(&quot;\\t&lt;/xsl:template&gt;\\n&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\t","title":"How to generate XSLT 3.0 templates from a yaml file?","body":"<p>I'm trying to find a way to generate xslt 3.0 templates from a yaml file and i'm looking for a way or a tool that can help me do it, the yaml file contains the list of transformations, here is the yaml file :</p>\n<pre><code>transformations:\n  - element: ABC\n    action:\n      removeElement: true\n  - element: BCD\n    action:\n      removeElement: true\n  - element: OldName1\n    action:\n      renameTag: NewName1\n  - element: OldName2\n    action:\n      renameTag: NewName2\n      changeAttributes:\n        - name: x\n          value: '@H'\n        - name: y\n          value: '@V'\n        - name: PI\n          value: 3.14\n      excludedAttributes:\n        - H\n        - V\n</code></pre>\n<p>i'm already parsing the yaml file to my java objects using snakeyaml</p>\n<pre><code>@Data\npublic class Transformations {\n    private List&lt;Transformation&gt; transformations;\n}\n@Data\npublic class Transformation {   \n    private String element;\n    private Action action;\n}\n@Data\npublic class Action {\n    private String renameTag=&quot;&quot;;\n    private boolean removeElement=false;\n    private List&lt;Attribute&gt; changeAttributes= new ArrayList&lt;&gt;();\n    private boolean copyOtherAttributes=true;\n    private List&lt;String&gt; excludedAttributes= new ArrayList&lt;&gt;();\n    private String addChildElement=&quot;&quot;;\n    private String copyAttributesIn=&quot;&quot;;\n}\n@Data\npublic class Attribute {\n    private String name;\n    private String value; \n}\n</code></pre>\n<p>i have passed the transformations list to my xslt 3.0 file</p>\n<pre><code>List&lt;Transformation&gt; transformationList = transformations.getTransformations();\ntransformer.setParameter(&quot;list&quot;, transformationList);\n</code></pre>\n<p>then i create a new class, implemented ExtensionFunction and used saxon and s9api in order to create all the getters for theses classes to use them in xslt</p>\n<p>here is how i looped through the list and used the getters to print some attributes :</p>\n<pre><code>&lt;xsl:template match=&quot;/&quot;&gt;\n        &lt;xsl:for-each select=&quot;$list&quot;&gt;\n            &lt;xsl:variable name=&quot;item&quot; select=&quot;.&quot;/&gt;\n            &lt;Tranformation&gt;\n                &lt;xsl:variable name=&quot;element&quot; select=&quot;ext:getTransformationAttribute('element',$item)&quot;/&gt;\n                &lt;xsl:variable name=&quot;actionObj&quot; select=&quot;ext:getTransformationAttribute('action',$item)&quot;/&gt;\n\n                &lt;xsl:value-of select=&quot;$element&quot; /&gt; \n                &lt;xsl:text&gt;&amp;#10;&lt;/xsl:text&gt;\n                &lt;xsl:value-of select=&quot;$actionObj&quot; /&gt;\n\n                &lt;Action&gt;\n                    &lt;xsl:variable name=&quot;renameTag&quot; select=&quot;ext:getTransformationAttribute('renameTag',$actionObj)&quot;/&gt;\n                    &lt;xsl:value-of select=&quot;$renameTag&quot; /&gt;\n                    &lt;xsl:text&gt;&amp;#10;&lt;/xsl:text&gt;\n                    &lt;xsl:variable name=&quot;removeElement&quot; select=&quot;ext:getTransformationAttribute('removeElement',$actionObj)&quot;/&gt;\n                    &lt;xsl:value-of select=&quot;$removeElement&quot; /&gt;\n                    &lt;xsl:text&gt;&amp;#10;&lt;/xsl:text&gt;\n                    &lt;xsl:variable name=&quot;changeAttributes&quot; select=&quot;ext:getTransformationAttribute('changeAttributes',$actionObj)&quot;/&gt;\n                    &lt;xsl:for-each select=&quot;$changeAttributes&quot;&gt;\n                        &lt;xsl:value-of select=&quot;.&quot; /&gt; \n                    &lt;/xsl:for-each&gt;\n\n                    &lt;xsl:variable name=&quot;addChildElement&quot; select=&quot;ext:getTransformationAttribute('addChildElement',$actionObj)&quot;/&gt;\n                    &lt;xsl:value-of select=&quot;$addChildElement&quot; /&gt;\n                &lt;/Action&gt;\n                &lt;!-- \n                    &lt;xsl:value-of select=&quot;$item&quot;  /&gt;\n                --&gt;\n            &lt;/Tranformation&gt;\n        &lt;/xsl:for-each&gt;\n    &lt;/xsl:template&gt;\n</code></pre>\n<p>what i want to do now is to generate the xslt templates by theses attributes in order to transform my xml file using yaml, one problem is that i cannot call template inside another template or inside if tag or choose tag</p>\n<p>example of templates which i need generate :</p>\n<pre><code>&lt;xsl:template match=&quot;Element&quot;&gt;\n        &lt;NewName2 x=&quot;{@H}&quot; y=&quot;{@V}&quot; PI=&quot;3.14&quot;&gt;\n            &lt;xsl:apply-templates select=&quot;@*[not(name() = ('H', 'V'))]&quot; /&gt;\n            &lt;addedChild&gt;\n                &lt;xsl:apply-templates select=&quot;node()&quot; /&gt;\n            &lt;/addedChild&gt;\n        &lt;/NewName2&gt;\n&lt;/xsl:template&gt;\n</code></pre>\n<p>in some transformations i have to add a child element, some should exclude attributes from copy, some don't have a renameTag action, some should have their attributes copied in the child tag and so on..</p>\n<p>here is how it can be done with java for example :</p>\n<pre><code>private static void generateXSLT(String xsltPath, Transformations transformations) throws IOException {\n\n    FileWriter writer = new FileWriter(xsltPath);\n    StringBuilder xslt = new StringBuilder();\n    xslt.append(&quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;\\n&quot;\n            + &quot;&lt;xsl:stylesheet xmlns:xsl=\\&quot;http://www.w3.org/1999/XSL/Transform\\&quot;\\n&quot;\n            + &quot;    xmlns:xs=\\&quot;http://www.w3.org/2001/XMLSchema\\&quot;\\n&quot;\n            + &quot;    xmlns:math=\\&quot;http://www.w3.org/2005/xpath-functions/math\\&quot;\\n&quot;\n            + &quot;    xmlns:xd=\\&quot;http://www.oxygenxml.com/ns/doc/xsl\\&quot;\\n&quot;\n            + &quot;    exclude-result-prefixes=\\&quot;xs math xd\\&quot; version=\\&quot;3.0\\&quot;&gt;\\n&quot;);\n            // strip-space is used for removing empty lines after deleting some elements\n            // template to copy everything\n            xslt.append(&quot;&lt;xsl:strip-space elements=\\&quot;*\\&quot; /&gt;\\r\\n&quot; + &quot;    \\r\\n&quot; + &quot;    &lt;xsl:template match=\\&quot;/\\&quot;&gt;\\r\\n&quot;\n            + &quot;        &lt;xsl:apply-templates /&gt;\\r\\n&quot; + &quot;    &lt;/xsl:template&gt;\\r\\n&quot; + &quot;    \\r\\n&quot;\n            + &quot;    &lt;xsl:template match=\\&quot;*\\&quot;&gt;\\r\\n&quot; + &quot;        &lt;xsl:copy&gt;\\r\\n&quot;\n            + &quot;            &lt;xsl:apply-templates select=\\&quot;@* | node()\\&quot; /&gt;\\r\\n&quot; + &quot;        &lt;/xsl:copy&gt;\\r\\n&quot;\n            + &quot;    &lt;/xsl:template&gt;\\n\\n&quot;);\n    List&lt;Transformation&gt; transformationList = transformations.getTransformations();\n    for (Transformation transformation : transformationList) {\n        if (action.isRemoveElement()) {\n            xslt.append(&quot;\\t&lt;xsl:template match=\\&quot;&quot; + xpath + &quot;\\&quot;/&gt;\\n&quot;);\n        } else if (action.getRenameTag() != null) {\n            xslt.append(&quot;\\t&lt;xsl:template match=\\&quot;&quot; + xpath + &quot;\\&quot;&gt;\\n&quot;);\n            if (action.getChangeAttributes() != null) {\n                xslt.append(&quot;\\t\\t&lt;&quot; + action.getRenameTag());\n                for (Attribute attribute : action.getChangeAttributes()) {\n                    xslt.append(&quot; &quot; + attribute.getName() + &quot;=\\&quot;{&quot; + attribute.getValue() + &quot;}\\&quot;&quot;);\n                }\n                xslt.append(&quot;&gt;\\n&quot;);\n            } else {\n                xslt.append(&quot;\\t\\t&lt;&quot; + action.getRenameTag() + &quot;&gt;\\n&quot;);\n            }\n            if (action.getExcludeAttributes() != null) {\n                xslt.append(&quot;\\t\\t\\t&lt;xsl:apply-templates select=\\&quot;@*[not(name() = (&quot;);\n                if (action.getExcludeAttributes() != null) {\n                    xslt.append(&quot;\\t\\t\\t&lt;xsl:apply-templates select=\\&quot;@*[not(name() = (&quot;);\n                    for (String excludedAttribute : action.getExcludeAttributes()) {\n                        joiner.add(&quot;'&quot; + excludedAttribute + &quot;'&quot;);\n                    }\n\n                    xslt.append(joiner.toString() + &quot;))]|node()\\&quot;/&gt;\\n&quot;);\n                } else {\n                    xslt.append(&quot;\\t\\t\\t&lt;xsl:apply-templates select=\\&quot;@*|node()\\&quot;/&gt;\\n&quot;);\n                }\n                \n\n                xslt.append(&quot;\\t\\t&lt;/&quot; + action.getRenameTag() + &quot;&gt;\\n&quot;);\n                xslt.append(&quot;\\t&lt;/xsl:template&gt;\\n&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","service","static"],"answers":[{"comments":[{"owner":{"display_name":"user17676679"},"score":0,"creation_date":1639858130,"post_id":70406582,"comment_id":124457410,"body_markdown":"**1.** Thanks a lot for your detailed answers. In this case I should create a Spring Service for my `QRCodeGenerator` class. On the other hand, I am wondering what is the difference keeping this as  `@Component` and replacing this annotation to `@Service`. As the latter is also a component, is the only difference making it more specific?","body":"<b>1.</b> Thanks a lot for your detailed answers. In this case I should create a Spring Service for my <code>QRCodeGenerator</code> class. On the other hand, I am wondering what is the difference keeping this as  <code>@Component</code> and replacing this annotation to <code>@Service</code>. As the latter is also a component, is the only difference making it more specific?"},{"owner":{"display_name":"user17676679"},"score":0,"creation_date":1639858259,"post_id":70406582,"comment_id":124457444,"body_markdown":"**2.** What about Util classes in Spring? Assume that I have several methods e.g. `formatDate()`, `convertToBinary()`, etc. SHould I create them in an Util class as static? Or should I still use Service in Spring and keep away from static Util classes? As I have not enough experience in Spring, I need to be clarified about this. Any idea?","body":"<b>2.</b> What about Util classes in Spring? Assume that I have several methods e.g. <code>formatDate()</code>, <code>convertToBinary()</code>, etc. SHould I create them in an Util class as static? Or should I still use Service in Spring and keep away from static Util classes? As I have not enough experience in Spring, I need to be clarified about this. Any idea?"},{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1639858309,"post_id":70406582,"comment_id":124457457,"body_markdown":"@binary: service annotation doesn&#39;t really do anything more than component,, it mainly is there to tell you what layer of the application the component belongs to.","body":"@binary: service annotation doesn&#39;t really do anything more than component,, it mainly is there to tell you what layer of the application the component belongs to."},{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1639858496,"post_id":70406582,"comment_id":124457492,"body_markdown":"@binary: I think it&#39;s fine to avoid util classes and use spring components instead. Spring wants to control how things are created but for util classes the classloader is in charge, so they don&#39;t mix well. Let spring be in charge.","body":"@binary: I think it&#39;s fine to avoid util classes and use spring components instead. Spring wants to control how things are created but for util classes the classloader is in charge, so they don&#39;t mix well. Let spring be in charge."},{"owner":{"display_name":"user17676679"},"score":0,"creation_date":1639858653,"post_id":70406582,"comment_id":124457537,"body_markdown":"Thanks a lot, I would not think to keep away Static Utils as there are several ones in our project, but as you suggest, I will keep in mind that and always try to use service (@Service). I think this is the better approach, isn&#39;t it?","body":"Thanks a lot, I would not think to keep away Static Utils as there are several ones in our project, but as you suggest, I will keep in mind that and always try to use service (@Service). I think this is the better approach, isn&#39;t it?"},{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1639858977,"post_id":70406582,"comment_id":124457611,"body_markdown":"@binary: i think making these things spring components is better for maintainability since it lets you add dependencies if needed. When we used xml configuration it was more of a hassle to make everything a spring bean but it&#39;s painless now.","body":"@binary: i think making these things spring components is better for maintainability since it lets you add dependencies if needed. When we used xml configuration it was more of a hassle to make everything a spring bean but it&#39;s painless now."},{"owner":{"display_name":"user17676679"},"score":0,"creation_date":1639859417,"post_id":70406582,"comment_id":124457672,"body_markdown":"Thanks  a lot, I use annotation, not xml configuration. What about this question? &gt;&gt;&gt;","body":"Thanks  a lot, I use annotation, not xml configuration. What about this question? &gt;&gt;&gt;"},{"owner":{"display_name":"user17676679"},"score":0,"creation_date":1639859432,"post_id":70406582,"comment_id":124457674,"body_markdown":"On the other hand, as far as I understood, keeping the code above in a util package with `@Component` annotation is almost the same think as keeping it in a service package with `@Service` annotation. Any idea?","body":"On the other hand, as far as I understood, keeping the code above in a util package with <code>@Component</code> annotation is almost the same think as keeping it in a service package with <code>@Service</code> annotation. Any idea?"}],"tags":[],"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"comment_count":8,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639858696,"creation_date":1639856690,"answer_id":70406582,"question_id":70406499,"body_markdown":"Make it a spring service, and you will be able to substitute a mock for it easily when you write a test for the controller. Otherwise you will not be able to mock it (unless you use things like Powernock).  Since you&#39;re already injecting values into it, it&#39;s a lot easier to keep this as a Spring component. \r\n\r\nGenerally it&#39;s a premature optimization to use static util classes and it can get in the way of testing. I would use static util classes only if they contain only static methods that have no side effects, which don&#39;t need access to configuration data and which I don&#39;t mind not being able to mock.  The methods I use in input validation code would be an example of something I might use static methods for. But you have the most flexibility, for instance to be able to inject configurations, if you keep these as Spring components. ","title":"Spring Service or Util for a generator class in Java?","body":"<p>Make it a spring service, and you will be able to substitute a mock for it easily when you write a test for the controller. Otherwise you will not be able to mock it (unless you use things like Powernock).  Since you're already injecting values into it, it's a lot easier to keep this as a Spring component.</p>\n<p>Generally it's a premature optimization to use static util classes and it can get in the way of testing. I would use static util classes only if they contain only static methods that have no side effects, which don't need access to configuration data and which I don't mind not being able to mock.  The methods I use in input validation code would be an example of something I might use static methods for. But you have the most flexibility, for instance to be able to inject configurations, if you keep these as Spring components.</p>\n"},{"comments":[{"owner":{"display_name":"user17676679"},"score":0,"creation_date":1639858126,"post_id":70406633,"comment_id":124457407,"body_markdown":"**1.** Thanks a lot for your detailed answers. In this case I should create a Spring Service for my `QRCodeGenerator` class. On the other hand, I am wondering what is the difference keeping this as  `@Component` and replacing this annotation to `@Service`. As the latter is also a component, is the only difference making it more specific?","body":"<b>1.</b> Thanks a lot for your detailed answers. In this case I should create a Spring Service for my <code>QRCodeGenerator</code> class. On the other hand, I am wondering what is the difference keeping this as  <code>@Component</code> and replacing this annotation to <code>@Service</code>. As the latter is also a component, is the only difference making it more specific?"},{"owner":{"display_name":"user17676679"},"score":0,"creation_date":1639858255,"post_id":70406633,"comment_id":124457442,"body_markdown":"**2.** What about Util classes in Spring? Assume that I have several methods e.g. `formatDate()`, `convertToBinary()`, etc. SHould I create them in an Util class as static? Or should I still use Service in Spring and keep away from static Util classes? As I have not enough experience in Spring, I need to be clarified about this. Any idea?","body":"<b>2.</b> What about Util classes in Spring? Assume that I have several methods e.g. <code>formatDate()</code>, <code>convertToBinary()</code>, etc. SHould I create them in an Util class as static? Or should I still use Service in Spring and keep away from static Util classes? As I have not enough experience in Spring, I need to be clarified about this. Any idea?"},{"owner":{"account_id":9728098,"reputation":161,"user_id":7214251,"display_name":"Granit Krasniqi"},"score":0,"creation_date":1639858508,"post_id":70406633,"comment_id":124457497,"body_markdown":"1. Yes, the difference is only making it more specific and indicating that it provides business logic for other clients to use such as (Controllers).\n2. Your classes should comply to Single Responsibility Principle and have well defined interface (methods), it&#39;s easier to achieve this by creating `@Component` or `@Service` (Service if it provides business logic) because they are easier to test and use in spring. Util classes are not a best practice because they are harder to mock and can degrade to having multiple responsibilities.","body":"1. Yes, the difference is only making it more specific and indicating that it provides business logic for other clients to use such as (Controllers). 2. Your classes should comply to Single Responsibility Principle and have well defined interface (methods), it&#39;s easier to achieve this by creating <code>@Component</code> or <code>@Service</code> (Service if it provides business logic) because they are easier to test and use in spring. Util classes are not a best practice because they are harder to mock and can degrade to having multiple responsibilities."},{"owner":{"display_name":"user17676679"},"score":0,"creation_date":1639858850,"post_id":70406633,"comment_id":124457581,"body_markdown":"Thanks a lot, I learned a lot","body":"Thanks a lot, I learned a lot"}],"tags":[],"owner":{"account_id":9728098,"reputation":161,"user_id":7214251,"display_name":"Granit Krasniqi"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639858136,"creation_date":1639857224,"answer_id":70406633,"question_id":70406499,"body_markdown":"Here are some opinions on your questions:\r\n1. Classes annotated with @Service are used in business logic layer, it can provide data but it can also do actions as in your case.\r\n2. Based on the point 1. you can make it a service because that provides logic for creating qr codes for representation layer (Controllers). \r\n3. Having this kind of classes as @Component or more specific @Service makes it easier to inject dependencies using Dependency Injection and also it&#39;s easier to inject your class as dependency to other beans so it&#39;s easier also to test/mock. Keeping it as Spring Service is a better approach.","title":"Spring Service or Util for a generator class in Java?","body":"<p>Here are some opinions on your questions:</p>\n<ol>\n<li>Classes annotated with @Service are used in business logic layer, it can provide data but it can also do actions as in your case.</li>\n<li>Based on the point 1. you can make it a service because that provides logic for creating qr codes for representation layer (Controllers).</li>\n<li>Having this kind of classes as @Component or more specific @Service makes it easier to inject dependencies using Dependency Injection and also it's easier to inject your class as dependency to other beans so it's easier also to test/mock. Keeping it as Spring Service is a better approach.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6124082,"reputation":2803,"user_id":4776689,"accept_rate":61,"display_name":"P_M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684756973,"creation_date":1684756973,"answer_id":76305982,"question_id":70406499,"body_markdown":"Short answer: user Spring Service (or Component) and avoid the use of Util classes with static methods. This way you will live happy life without Tight Coupling and Fragile Code \r\n\r\nhttps://www.geeksforgeeks.org/coupling-in-java/\r\n\r\nhttps://stackoverflow.com/a/76304657/4776689\r\n\r\nRegrding your 3 questions:\r\n\r\n&gt; 1. I am new in Spring and as far as I see, spring services are generally used to provide data from database or any other service,\r\n&gt; endpoints, etc. Is that true?\r\n\r\nYes it is true, but you also can create Spring beans like @Service or @Component for any general functionality\r\n&gt; 2. Should I create a service for the class above (I do not need to access to database in that class)? Or it the approach is better\r\n&gt; (creating as a component and then injecting it to my Controller)?\r\n\r\nYes you should have Spring bean. It can be Service or Component or any else bean type. I would do with Service.\r\n&gt; 3. There are many different opinions regarding to static Util classes. So, what about converting this class to a static Util class? Is it\r\n&gt; better than now or using it as a Spring Service?\r\n\r\nDo not use static Util classes if you can. Spring beans (Service and others) are made to replace them with dependency injection.\r\n","title":"Spring Service or Util for a generator class in Java?","body":"<p>Short answer: user Spring Service (or Component) and avoid the use of Util classes with static methods. This way you will live happy life without Tight Coupling and Fragile Code</p>\n<p><a href=\"https://www.geeksforgeeks.org/coupling-in-java/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/coupling-in-java/</a></p>\n<p><a href=\"https://stackoverflow.com/a/76304657/4776689\">https://stackoverflow.com/a/76304657/4776689</a></p>\n<p>Regrding your 3 questions:</p>\n<blockquote>\n<ol>\n<li>I am new in Spring and as far as I see, spring services are generally used to provide data from database or any other service,\nendpoints, etc. Is that true?</li>\n</ol>\n</blockquote>\n<p>Yes it is true, but you also can create Spring beans like @Service or @Component for any general functionality</p>\n<blockquote>\n<ol start=\"2\">\n<li>Should I create a service for the class above (I do not need to access to database in that class)? Or it the approach is better\n(creating as a component and then injecting it to my Controller)?</li>\n</ol>\n</blockquote>\n<p>Yes you should have Spring bean. It can be Service or Component or any else bean type. I would do with Service.</p>\n<blockquote>\n<ol start=\"3\">\n<li>There are many different opinions regarding to static Util classes. So, what about converting this class to a static Util class? Is it\nbetter than now or using it as a Spring Service?</li>\n</ol>\n</blockquote>\n<p>Do not use static Util classes if you can. Spring beans (Service and others) are made to replace them with dependency injection.</p>\n"}],"owner":{"display_name":"user17676679"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1313,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1684756973,"creation_date":1639856058,"question_id":70406499,"body_markdown":"I have barcode generator methods that I call from Controller in my Java (Spring Boot) project. The generator class is as shown below:\r\n\r\n```\r\n@Component\r\n@NoArgsConstructor\r\npublic class QRCodeGenerator {\r\n    private static final int LABEL_X_POS = 45;\r\n    private static final int LABEL_Y_POS = 20;\r\n\r\n    @Value(&quot;${qr-code.margin}&quot;)\r\n    private int margin;\r\n\r\n    @Value(&quot;${qr-code.fontSize}&quot;)\r\n    private int fontSize;\r\n\r\n    public ResponseEntity&lt;Resource&gt; getQRCode(String data) throws IOException {\r\n        \r\n        // code omitted for brevity\r\n        \r\n        addLabel(image, label);        \r\n        final ByteArrayResource resource = new ByteArrayResource(toByteArray(image));\r\n        return ResponseEntity.ok().body(resource);\r\n    }\r\n\r\n    private static byte[] toByteArray(BufferedImage image) throws IOException {\r\n        // code omitted for brevity\r\n    }\r\n\r\n    private void addLabel(BufferedImage source, String text) {\r\n        int x = LABEL_X_POS;\r\n        int y = LABEL_Y_POS;\r\n        // code omitted for brevity\r\n    }\r\n}\r\n```\r\n\r\nFirst I started to use this class as static, but then I removed static to read the data in `application.yml` properly. \r\n\r\nHere is some points that I need to be clarified:\r\n\r\n**1.** I am new in Spring and as far as I see, spring services are generally used to provide data from database or any other service, endpoints, etc. Is that true? \r\n\r\n**2.** Should I create a service for the class above (I do not need to access to database in that class)? Or it the approach is better (creating as a component and then injecting it to my Controller)?\r\n\r\n**3.** There are many different opinions regarding to static Util classes. So, what about converting this class to a static Util class? Is it better than now or using it as a Spring Service? \r\n\r\n\r\n\r\n\r\n","title":"Spring Service or Util for a generator class in Java?","body":"<p>I have barcode generator methods that I call from Controller in my Java (Spring Boot) project. The generator class is as shown below:</p>\n<pre><code>@Component\n@NoArgsConstructor\npublic class QRCodeGenerator {\n    private static final int LABEL_X_POS = 45;\n    private static final int LABEL_Y_POS = 20;\n\n    @Value(&quot;${qr-code.margin}&quot;)\n    private int margin;\n\n    @Value(&quot;${qr-code.fontSize}&quot;)\n    private int fontSize;\n\n    public ResponseEntity&lt;Resource&gt; getQRCode(String data) throws IOException {\n        \n        // code omitted for brevity\n        \n        addLabel(image, label);        \n        final ByteArrayResource resource = new ByteArrayResource(toByteArray(image));\n        return ResponseEntity.ok().body(resource);\n    }\n\n    private static byte[] toByteArray(BufferedImage image) throws IOException {\n        // code omitted for brevity\n    }\n\n    private void addLabel(BufferedImage source, String text) {\n        int x = LABEL_X_POS;\n        int y = LABEL_Y_POS;\n        // code omitted for brevity\n    }\n}\n</code></pre>\n<p>First I started to use this class as static, but then I removed static to read the data in <code>application.yml</code> properly.</p>\n<p>Here is some points that I need to be clarified:</p>\n<p><strong>1.</strong> I am new in Spring and as far as I see, spring services are generally used to provide data from database or any other service, endpoints, etc. Is that true?</p>\n<p><strong>2.</strong> Should I create a service for the class above (I do not need to access to database in that class)? Or it the approach is better (creating as a component and then injecting it to my Controller)?</p>\n<p><strong>3.</strong> There are many different opinions regarding to static Util classes. So, what about converting this class to a static Util class? Is it better than now or using it as a Spring Service?</p>\n"},{"tags":["java","spring-boot","gradle","liquibase","liquibase-hibernate"],"owner":{"account_id":4923571,"reputation":459,"user_id":3965471,"accept_rate":83,"display_name":"Muhammad Danish Khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684756179,"creation_date":1684747422,"question_id":76304717,"body_markdown":"I&#39;m getting the following error When I try to run Liquibase \r\n**diff** and **diffChangeLog**. \r\n\r\nThe fun part is When I try to run ./gradlew update -PrunList=&#39;localEnv&#39;\r\n**It runs without any issues**. \r\nThe same goes for if I **run the application, it runs successfully** and I can do the crud operations.\r\n\r\nThe issue is specifically in **diffChangeLog**\r\n\r\nFollowing are my configurations in build.gradle file.\r\n\r\n   \r\n    plugins {\r\n    id &#39;maven-publish&#39;\r\n    alias(libs.plugins.liquibase)\r\n    }\r\n\r\n    project.ext {\r\n    // Local Env DB\r\n    liquibaseLocalEnvUrl = &quot;jdbc:postgresql://localhost:5432/demo&quot;\r\n    liquibaseLocalEnvUsername = &quot;postgres&quot;\r\n    liquibaseLocalEnvPassword = &quot;admin&quot;\r\n    diffLogLocalEnvChangelogFile = &quot;$projectDir/src/main/resources/config/liquibase/changelog/prod/&quot; + new Date().format(&quot;yyyyMMddHHmmss&quot;) + &quot;_changelog_generated.yml&quot; as GStringImpl\r\n    }\r\n\r\n    liquibase {\r\n    activities {\r\n        localEnv {\r\n            driver &quot;org.postgresql.Driver&quot;\r\n\r\n            url project.ext.liquibaseLocalEnvUrl\r\n\r\n            username project.ext.liquibaseLocalEnvUsername\r\n            password project.ext.liquibaseLocalEnvPassword\r\n\r\n            changelogFile &quot;master-prod.yml&quot;\r\n\r\n            defaultSchemaName &quot;demo&quot;\r\n            logLevel &quot;debug&quot;\r\n            classpath &quot;$projectDir/src/main/resources/config/liquibase/&quot;\r\n        }\r\n\r\n        diffLogLocal {\r\n            driver &#39;org.postgresql.Driver&#39;\r\n            url project.ext.liquibaseLocalEnvUrl\r\n            username project.ext.liquibaseLocalEnvUsername\r\n            password project.ext.liquibaseLocalEnvPassword\r\n            changelogFile project.ext.diffLogLocalEnvChangelogFile\r\n            referenceUrl &quot;hibernate:spring:com.craas?hibernate.enhanced_id=true&amp;dialect=org.hibernate.dialect.PostgreSQL95Dialect&amp;hibernate.physical_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&amp;hibernate.implicit_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy&quot;\r\n            defaultSchemaName &quot;demo&quot;\r\n            logLevel &quot;debug&quot;\r\n            classpath &quot;$buildDir/classes/java/main&quot;\r\n        }\r\n    }\r\n\r\n    runList = project.ext.runList\r\n    }\r\n\r\n\r\n     diff.dependsOn compileJava\r\n     diffChangelog.dependsOn compileJava\r\n     generateChangelog.dependsOn compileJava\r\n\r\n \r\n     dependencies {\r\n\r\n    // Liquibase plugin config\r\n    liquibaseRuntime(libs.sdwan.core)\r\n    liquibaseRuntime(libs.sdwan.data)\r\n    liquibaseRuntime(libs.liquibase.hibernate5)\r\n    liquibaseRuntime(libs.spring.boot.starter.data.jpa)\r\n    liquibaseRuntime(libs.postgresql)\r\n    liquibaseRuntime(libs.liquibase.core)\r\n    liquibaseRuntime(libs.liquibase.groovyDsl)\r\n    liquibaseRuntime(libs.picocli)\r\n    liquibaseRuntime(libs.snakeyaml)\r\n    liquibaseRuntime(sourceSets.main.output)\r\n    }\r\n\r\n\r\nall the dependencies are defined in catalog version file. **libs.versions.toml**\r\n\r\n\r\n**Toml File:**\r\n\r\n    [versions]\r\n    liquibaseCore = &quot;4.22.0&quot;\r\n    liquibaseGroovyDsl = &quot;3.0.3&quot;\r\n    liquibaseHibernate5 = &quot;4.22.0&quot;\r\n    picocli = &quot;4.7.3&quot;\r\n    snakeyaml = &quot;2.0&quot;\r\n    .............................\r\n\r\n    [libraries]\r\n    # Liquibase\r\n    liquibase-core = { module = &quot;org.liquibase:liquibase-core&quot;, version.ref = &quot;liquibaseCore&quot; }\r\n    liquibase-groovyDsl = { module = &quot;org.liquibase:liquibase-groovy-dsl&quot;, version.ref = &quot;liquibaseGroovyDsl&quot; }\r\n    liquibase-hibernate5 = { module = &quot;org.liquibase.ext:liquibase-hibernate5&quot;, version.ref = &quot;liquibaseHibernate5&quot; }\r\n    snakeyaml = { module = &quot;org.yaml:snakeyaml&quot;, version.ref = &quot;snakeyaml&quot; }\r\n    picocli = { module = &quot;info.picocli:picocli&quot;, version.ref = &quot;picocli&quot; }\r\n    postgresql = { module = &quot;org.postgresql:postgresql&quot;, version=&#39;42.6.0&#39;}\r\n    spring-boot-starter-data-jpa = { module = &quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;}\r\n\r\n\r\nI have omitted some libraries to keep it simple.\r\n\r\nBefore Error Logs:\r\n**DB Connection:**\r\n\r\n    [2023-05-22 13:54:32] FINE [liquibase.database] Properties:\r\n    [2023-05-22 13:54:32] FINE [liquibase.database] Key:&#39;password&#39; Value:&#39;**********&#39;\r\n    [2023-05-22 13:54:32] FINE [liquibase.database] Key:&#39;user&#39; Value:&#39;postgres&#39;\r\n    [2023-05-22 13:54:32] FINE [liquibase.database] Connecting to the URL:&#39;jdbc:postgresql://localhost:5432/demo&#39; using driver:&#39;org.postgresql.Driver&#39;\r\n    [2023-05-22 13:54:32] FINE [liquibase.servicelocator] Loaded liquibase.database.DatabaseConnection instance liquibase.database.jvm.JdbcConnection\r\n    [2023-05-22 13:54:32] FINE [liquibase.database] Connection has been created\r\n    [2023-05-22 13:54:32] FINE [liquibase.database] Connected to postgres@jdbc:postgresql://localhost:5432/demo\r\n    [2023-05-22 13:54:32] FINE [liquibase.database] Setting auto commit to false from true\r\n\r\n**Hibernate Logs:**\r\n\r\n    [2023-05-22 13:54:32] FINE [liquibase.command] Executing internal command referenceDbUrlConnectionCommandStep\r\n    [2023-05-22 13:54:32] FINE [liquibase.database] Properties:\r\n    [2023-05-22 13:54:32] FINE [liquibase.database] Connecting to the \r\n    URL:&#39;hibernate:spring:com.craas? hibernate.enhanced_id=true&amp;dialect=org.hibernate.dialect.PostgreSQL95Dialect&amp;hibernate.physical_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&amp;hibernate.implicit_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy&#39; using driver:&#39;liquibase.ext.hibernate.database.connection.HibernateDriver&#39;\r\n    [2023-05-22 13:54:32] FINE [liquibase.database] Connection has been created\r\n    [2023-05-22 13:54:32] FINE [liquibase.ext] Connected to null@hibernate:spring:com.craas?hibernate.enhanced_id=true&amp;dialect=org.hibernate.dialect.PostgreSQL95Dialect&amp;hibernate.physical_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&amp;hibernate.implicit_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy\r\n    [2023-05-22 13:54:32] FINE [liquibase.ext] Not adjusting the auto commit mode; it is already false\r\n    [2023-05-22 13:54:32] INFO [liquibase.ext] Reading hibernate configuration hibernate:spring:com.craas?hibernate.enhanced_id=true&amp;dialect=org.hibernate.dialect.PostgreSQL95Dialect&amp;hibernate.physical_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&amp;hibernate.implicit_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy\r\n    [2023-05-22 13:54:33] INFO [liquibase.ext] Found package com.craas\r\n\r\n\r\n\r\n**Full Exception**\r\n\r\n    13:54:33.587 [main] ERROR com.zaxxer.hikari.HikariConfig - HikariPool-1 - dataSource or dataSourceClassName or jdbcUrl is required.\r\n    13:54:33.592 [main] INFO org.hibernate.service.internal.AbstractServiceRegistryImpl - HHH000369: Error stopping service [class org.hibernate.hikaricp.internal.HikariCPConnectionProvider]\r\n    java.lang.NullPointerException: Cannot invoke &quot;com.zaxxer.hikari.HikariDataSource.close()&quot; because &quot;this.hds&quot; is null\r\n        at org.hibernate.hikaricp.internal.HikariCPConnectionProvider.stop(HikariCPConnectionProvider.java:122)\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.stopService(AbstractServiceRegistryImpl.java:399)\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.cleanup(EntityManagerFactoryBuilderImpl.java:1449)\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1508)\r\n        at liquibase.ext.hibernate.database.HibernateEjb3Database.buildMetadataFromPath(HibernateEjb3Database.java:59)\r\n        at liquibase.ext.hibernate.database.HibernateDatabase.buildMetadata(HibernateDatabase.java:143)\r\n        at liquibase.ext.hibernate.database.HibernateDatabase.setConnection(HibernateDatabase.java:83)\r\n        at liquibase.database.DatabaseFactory.findCorrectDatabaseImplementation(DatabaseFactory.java:124)\r\n        at liquibase.database.DatabaseFactory.openDatabase(DatabaseFactory.java:144)\r\n        at liquibase.command.core.helpers.AbstractDatabaseConnectionCommandStep.createDatabaseObject(AbstractDatabaseConnectionCommandStep.java:75)\r\n        at liquibase.command.core.helpers.ReferenceDbUrlConnectionCommandStep.obtainDatabase(ReferenceDbUrlConnectionCommandStep.java:80)\r\n        at liquibase.command.core.helpers.ReferenceDbUrlConnectionCommandStep.run(ReferenceDbUrlConnectionCommandStep.java:61)\r\n        at liquibase.command.CommandScope.execute(CommandScope.java:212)\r\n        at liquibase.integration.commandline.CommandRunner.call(CommandRunner.java:55)\r\n        at liquibase.integration.commandline.CommandRunner.call(CommandRunner.java:24)\r\n        at picocli.CommandLine.executeUserObject(CommandLine.java:2041)\r\n        at picocli.CommandLine.access$1500(CommandLine.java:148)\r\n        at picocli.CommandLine$RunLast.executeUserObjectOfLastSubcommandWithSameParent(CommandLine.java:2461)\r\n        at picocli.CommandLine$RunLast.handle(CommandLine.java:2453)\r\n        at picocli.CommandLine$RunLast.handle(CommandLine.java:2415)\r\n        at picocli.CommandLine$AbstractParseResultHandler.execute(CommandLine.java:2273)\r\n        at picocli.CommandLine$RunLast.execute(CommandLine.java:2417)\r\n        at picocli.CommandLine.execute(CommandLine.java:2170)\r\n        at liquibase.integration.commandline.LiquibaseCommandLine.lambda$null$2(LiquibaseCommandLine.java:383)\r\n        at liquibase.Scope.child(Scope.java:203)\r\n        at liquibase.Scope.child(Scope.java:179)\r\n        at liquibase.integration.commandline.LiquibaseCommandLine.lambda$execute$3(LiquibaseCommandLine.java:358)\r\n        at liquibase.Scope.child(Scope.java:203)\r\n        at liquibase.Scope.child(Scope.java:179)\r\n        at liquibase.integration.commandline.LiquibaseCommandLine.execute(LiquibaseCommandLine.java:356)\r\n        at liquibase.integration.commandline.LiquibaseCommandLine.main(LiquibaseCommandLine.java:93)\r\n\r\n    13:54:33.593 [main] DEBUG org.hibernate.service.spi.ServiceBinding - Overriding existing service binding [org.hibernate.engine.jdbc.connections.spi.ConnectionProvider]\r\n    [2023-05-22 13:54:33] INFO [liquibase.command] Command execution complete\r\n    [2023-05-22 13:54:33] SEVERE [liquibase.integration] Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n    - Caused by: dataSource or dataSourceClassName or jdbcUrl is required.\r\n    liquibase.exception.CommandExecutionException: liquibase.exception.DatabaseException: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n        at liquibase.command.CommandScope.execute(CommandScope.java:235)\r\n        at liquibase.integration.commandline.CommandRunner.call(CommandRunner.java:55)\r\n        at liquibase.integration.commandline.CommandRunner.call(CommandRunner.java:24)\r\n        at picocli.CommandLine.executeUserObject(CommandLine.java:2041)\r\n        at picocli.CommandLine.access$1500(CommandLine.java:148)\r\n        at picocli.CommandLine$RunLast.executeUserObjectOfLastSubcommandWithSameParent(CommandLine.java:2461)\r\n        at picocli.CommandLine$RunLast.handle(CommandLine.java:2453)\r\n        at picocli.CommandLine$RunLast.handle(CommandLine.java:2415)\r\n        at picocli.CommandLine$AbstractParseResultHandler.execute(CommandLine.java:2273)\r\n        at picocli.CommandLine$RunLast.execute(CommandLine.java:2417)\r\n        at picocli.CommandLine.execute(CommandLine.java:2170)\r\n        at liquibase.integration.commandline.LiquibaseCommandLine.lambda$null$2(LiquibaseCommandLine.java:383)\r\n        at liquibase.Scope.child(Scope.java:203)\r\n        at liquibase.Scope.child(Scope.java:179)\r\n        at liquibase.integration.commandline.LiquibaseCommandLine.lambda$execute$3(LiquibaseCommandLine.java:358)\r\n        at liquibase.Scope.child(Scope.java:203)\r\n        at liquibase.Scope.child(Scope.java:179)\r\n        at liquibase.integration.commandline.LiquibaseCommandLine.execute(LiquibaseCommandLine.java:356)\r\n        at liquibase.integration.commandline.LiquibaseCommandLine.main(LiquibaseCommandLine.java:93)\r\n     Caused by: liquibase.exception.DatabaseException: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n        at liquibase.command.core.helpers.AbstractDatabaseConnectionCommandStep.createDatabaseObject(AbstractDatabaseConnectionCommandStep.java:107)\r\n        at liquibase.command.core.helpers.ReferenceDbUrlConnectionCommandStep.obtainDatabase(ReferenceDbUrlConnectionCommandStep.java:80)\r\n        at liquibase.command.core.helpers.ReferenceDbUrlConnectionCommandStep.run(ReferenceDbUrlConnectionCommandStep.java:61)\r\n        at liquibase.command.CommandScope.execute(CommandScope.java:212)\r\n        ... 18 more\r\n\r\n     Caused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:284)\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:246)\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:223)\r\n        at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175)\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:295)\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:252)\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:223)\r\n        at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173)\r\n        at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127)\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460)\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494)\r\n        at liquibase.ext.hibernate.database.HibernateEjb3Database.buildMetadataFromPath(HibernateEjb3Database.java:59)\r\n        at liquibase.ext.hibernate.database.HibernateDatabase.buildMetadata(HibernateDatabase.java:143)\r\n        at liquibase.ext.hibernate.database.HibernateDatabase.setConnection(HibernateDatabase.java:83)\r\n        at liquibase.database.DatabaseFactory.findCorrectDatabaseImplementation(DatabaseFactory.java:124)\r\n        at liquibase.database.DatabaseFactory.openDatabase(DatabaseFactory.java:144)\r\n        at liquibase.command.core.helpers.AbstractDatabaseConnectionCommandStep.createDatabaseObject(AbstractDatabaseConnectionCommandStep.java:75)\r\n        ... 21 more\r\n     Caused by: org.hibernate.HibernateException: java.lang.IllegalArgumentException: dataSource or dataSourceClassName or jdbcUrl is required.\r\n        at org.hibernate.hikaricp.internal.HikariCPConnectionProvider.configure(HikariCPConnectionProvider.java:63)\r\n        at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:107)\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:255)\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:223)\r\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.buildJdbcConnectionAccess(JdbcEnvironmentInitiator.java:146)\r\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:66)\r\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\r\n        at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:272)\r\n        ... 37 more\r\n     Caused by: java.lang.IllegalArgumentException: dataSource or dataSourceClassName or jdbcUrl is required.\r\n        at com.zaxxer.hikari.HikariConfig.validate(HikariConfig.java:1029)\r\n        at com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:77)\r\n        at org.hibernate.hikaricp.internal.HikariCPConnectionProvider.configure(HikariCPConnectionProvider.java:59)\r\n        ... 45 more\r\n","title":"Liquibase (diff and diffChangeLog) dataSource or dataSourceClassName or jdbcUrl is required","body":"<p>I'm getting the following error When I try to run Liquibase\n<strong>diff</strong> and <strong>diffChangeLog</strong>.</p>\n<p>The fun part is When I try to run ./gradlew update -PrunList='localEnv'\n<strong>It runs without any issues</strong>.\nThe same goes for if I <strong>run the application, it runs successfully</strong> and I can do the crud operations.</p>\n<p>The issue is specifically in <strong>diffChangeLog</strong></p>\n<p>Following are my configurations in build.gradle file.</p>\n<pre><code>plugins {\nid 'maven-publish'\nalias(libs.plugins.liquibase)\n}\n\nproject.ext {\n// Local Env DB\nliquibaseLocalEnvUrl = &quot;jdbc:postgresql://localhost:5432/demo&quot;\nliquibaseLocalEnvUsername = &quot;postgres&quot;\nliquibaseLocalEnvPassword = &quot;admin&quot;\ndiffLogLocalEnvChangelogFile = &quot;$projectDir/src/main/resources/config/liquibase/changelog/prod/&quot; + new Date().format(&quot;yyyyMMddHHmmss&quot;) + &quot;_changelog_generated.yml&quot; as GStringImpl\n}\n\nliquibase {\nactivities {\n    localEnv {\n        driver &quot;org.postgresql.Driver&quot;\n\n        url project.ext.liquibaseLocalEnvUrl\n\n        username project.ext.liquibaseLocalEnvUsername\n        password project.ext.liquibaseLocalEnvPassword\n\n        changelogFile &quot;master-prod.yml&quot;\n\n        defaultSchemaName &quot;demo&quot;\n        logLevel &quot;debug&quot;\n        classpath &quot;$projectDir/src/main/resources/config/liquibase/&quot;\n    }\n\n    diffLogLocal {\n        driver 'org.postgresql.Driver'\n        url project.ext.liquibaseLocalEnvUrl\n        username project.ext.liquibaseLocalEnvUsername\n        password project.ext.liquibaseLocalEnvPassword\n        changelogFile project.ext.diffLogLocalEnvChangelogFile\n        referenceUrl &quot;hibernate:spring:com.craas?hibernate.enhanced_id=true&amp;dialect=org.hibernate.dialect.PostgreSQL95Dialect&amp;hibernate.physical_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&amp;hibernate.implicit_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy&quot;\n        defaultSchemaName &quot;demo&quot;\n        logLevel &quot;debug&quot;\n        classpath &quot;$buildDir/classes/java/main&quot;\n    }\n}\n\nrunList = project.ext.runList\n}\n\n\n diff.dependsOn compileJava\n diffChangelog.dependsOn compileJava\n generateChangelog.dependsOn compileJava\n\n\n dependencies {\n\n// Liquibase plugin config\nliquibaseRuntime(libs.sdwan.core)\nliquibaseRuntime(libs.sdwan.data)\nliquibaseRuntime(libs.liquibase.hibernate5)\nliquibaseRuntime(libs.spring.boot.starter.data.jpa)\nliquibaseRuntime(libs.postgresql)\nliquibaseRuntime(libs.liquibase.core)\nliquibaseRuntime(libs.liquibase.groovyDsl)\nliquibaseRuntime(libs.picocli)\nliquibaseRuntime(libs.snakeyaml)\nliquibaseRuntime(sourceSets.main.output)\n}\n</code></pre>\n<p>all the dependencies are defined in catalog version file. <strong>libs.versions.toml</strong></p>\n<p><strong>Toml File:</strong></p>\n<pre><code>[versions]\nliquibaseCore = &quot;4.22.0&quot;\nliquibaseGroovyDsl = &quot;3.0.3&quot;\nliquibaseHibernate5 = &quot;4.22.0&quot;\npicocli = &quot;4.7.3&quot;\nsnakeyaml = &quot;2.0&quot;\n.............................\n\n[libraries]\n# Liquibase\nliquibase-core = { module = &quot;org.liquibase:liquibase-core&quot;, version.ref = &quot;liquibaseCore&quot; }\nliquibase-groovyDsl = { module = &quot;org.liquibase:liquibase-groovy-dsl&quot;, version.ref = &quot;liquibaseGroovyDsl&quot; }\nliquibase-hibernate5 = { module = &quot;org.liquibase.ext:liquibase-hibernate5&quot;, version.ref = &quot;liquibaseHibernate5&quot; }\nsnakeyaml = { module = &quot;org.yaml:snakeyaml&quot;, version.ref = &quot;snakeyaml&quot; }\npicocli = { module = &quot;info.picocli:picocli&quot;, version.ref = &quot;picocli&quot; }\npostgresql = { module = &quot;org.postgresql:postgresql&quot;, version='42.6.0'}\nspring-boot-starter-data-jpa = { module = &quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;}\n</code></pre>\n<p>I have omitted some libraries to keep it simple.</p>\n<p>Before Error Logs:\n<strong>DB Connection:</strong></p>\n<pre><code>[2023-05-22 13:54:32] FINE [liquibase.database] Properties:\n[2023-05-22 13:54:32] FINE [liquibase.database] Key:'password' Value:'**********'\n[2023-05-22 13:54:32] FINE [liquibase.database] Key:'user' Value:'postgres'\n[2023-05-22 13:54:32] FINE [liquibase.database] Connecting to the URL:'jdbc:postgresql://localhost:5432/demo' using driver:'org.postgresql.Driver'\n[2023-05-22 13:54:32] FINE [liquibase.servicelocator] Loaded liquibase.database.DatabaseConnection instance liquibase.database.jvm.JdbcConnection\n[2023-05-22 13:54:32] FINE [liquibase.database] Connection has been created\n[2023-05-22 13:54:32] FINE [liquibase.database] Connected to postgres@jdbc:postgresql://localhost:5432/demo\n[2023-05-22 13:54:32] FINE [liquibase.database] Setting auto commit to false from true\n</code></pre>\n<p><strong>Hibernate Logs:</strong></p>\n<pre><code>[2023-05-22 13:54:32] FINE [liquibase.command] Executing internal command referenceDbUrlConnectionCommandStep\n[2023-05-22 13:54:32] FINE [liquibase.database] Properties:\n[2023-05-22 13:54:32] FINE [liquibase.database] Connecting to the \nURL:'hibernate:spring:com.craas? hibernate.enhanced_id=true&amp;dialect=org.hibernate.dialect.PostgreSQL95Dialect&amp;hibernate.physical_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&amp;hibernate.implicit_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy' using driver:'liquibase.ext.hibernate.database.connection.HibernateDriver'\n[2023-05-22 13:54:32] FINE [liquibase.database] Connection has been created\n[2023-05-22 13:54:32] FINE [liquibase.ext] Connected to null@hibernate:spring:com.craas?hibernate.enhanced_id=true&amp;dialect=org.hibernate.dialect.PostgreSQL95Dialect&amp;hibernate.physical_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&amp;hibernate.implicit_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy\n[2023-05-22 13:54:32] FINE [liquibase.ext] Not adjusting the auto commit mode; it is already false\n[2023-05-22 13:54:32] INFO [liquibase.ext] Reading hibernate configuration hibernate:spring:com.craas?hibernate.enhanced_id=true&amp;dialect=org.hibernate.dialect.PostgreSQL95Dialect&amp;hibernate.physical_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&amp;hibernate.implicit_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy\n[2023-05-22 13:54:33] INFO [liquibase.ext] Found package com.craas\n</code></pre>\n<p><strong>Full Exception</strong></p>\n<pre><code>13:54:33.587 [main] ERROR com.zaxxer.hikari.HikariConfig - HikariPool-1 - dataSource or dataSourceClassName or jdbcUrl is required.\n13:54:33.592 [main] INFO org.hibernate.service.internal.AbstractServiceRegistryImpl - HHH000369: Error stopping service [class org.hibernate.hikaricp.internal.HikariCPConnectionProvider]\njava.lang.NullPointerException: Cannot invoke &quot;com.zaxxer.hikari.HikariDataSource.close()&quot; because &quot;this.hds&quot; is null\n    at org.hibernate.hikaricp.internal.HikariCPConnectionProvider.stop(HikariCPConnectionProvider.java:122)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.stopService(AbstractServiceRegistryImpl.java:399)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.cleanup(EntityManagerFactoryBuilderImpl.java:1449)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1508)\n    at liquibase.ext.hibernate.database.HibernateEjb3Database.buildMetadataFromPath(HibernateEjb3Database.java:59)\n    at liquibase.ext.hibernate.database.HibernateDatabase.buildMetadata(HibernateDatabase.java:143)\n    at liquibase.ext.hibernate.database.HibernateDatabase.setConnection(HibernateDatabase.java:83)\n    at liquibase.database.DatabaseFactory.findCorrectDatabaseImplementation(DatabaseFactory.java:124)\n    at liquibase.database.DatabaseFactory.openDatabase(DatabaseFactory.java:144)\n    at liquibase.command.core.helpers.AbstractDatabaseConnectionCommandStep.createDatabaseObject(AbstractDatabaseConnectionCommandStep.java:75)\n    at liquibase.command.core.helpers.ReferenceDbUrlConnectionCommandStep.obtainDatabase(ReferenceDbUrlConnectionCommandStep.java:80)\n    at liquibase.command.core.helpers.ReferenceDbUrlConnectionCommandStep.run(ReferenceDbUrlConnectionCommandStep.java:61)\n    at liquibase.command.CommandScope.execute(CommandScope.java:212)\n    at liquibase.integration.commandline.CommandRunner.call(CommandRunner.java:55)\n    at liquibase.integration.commandline.CommandRunner.call(CommandRunner.java:24)\n    at picocli.CommandLine.executeUserObject(CommandLine.java:2041)\n    at picocli.CommandLine.access$1500(CommandLine.java:148)\n    at picocli.CommandLine$RunLast.executeUserObjectOfLastSubcommandWithSameParent(CommandLine.java:2461)\n    at picocli.CommandLine$RunLast.handle(CommandLine.java:2453)\n    at picocli.CommandLine$RunLast.handle(CommandLine.java:2415)\n    at picocli.CommandLine$AbstractParseResultHandler.execute(CommandLine.java:2273)\n    at picocli.CommandLine$RunLast.execute(CommandLine.java:2417)\n    at picocli.CommandLine.execute(CommandLine.java:2170)\n    at liquibase.integration.commandline.LiquibaseCommandLine.lambda$null$2(LiquibaseCommandLine.java:383)\n    at liquibase.Scope.child(Scope.java:203)\n    at liquibase.Scope.child(Scope.java:179)\n    at liquibase.integration.commandline.LiquibaseCommandLine.lambda$execute$3(LiquibaseCommandLine.java:358)\n    at liquibase.Scope.child(Scope.java:203)\n    at liquibase.Scope.child(Scope.java:179)\n    at liquibase.integration.commandline.LiquibaseCommandLine.execute(LiquibaseCommandLine.java:356)\n    at liquibase.integration.commandline.LiquibaseCommandLine.main(LiquibaseCommandLine.java:93)\n\n13:54:33.593 [main] DEBUG org.hibernate.service.spi.ServiceBinding - Overriding existing service binding [org.hibernate.engine.jdbc.connections.spi.ConnectionProvider]\n[2023-05-22 13:54:33] INFO [liquibase.command] Command execution complete\n[2023-05-22 13:54:33] SEVERE [liquibase.integration] Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n- Caused by: dataSource or dataSourceClassName or jdbcUrl is required.\nliquibase.exception.CommandExecutionException: liquibase.exception.DatabaseException: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n    at liquibase.command.CommandScope.execute(CommandScope.java:235)\n    at liquibase.integration.commandline.CommandRunner.call(CommandRunner.java:55)\n    at liquibase.integration.commandline.CommandRunner.call(CommandRunner.java:24)\n    at picocli.CommandLine.executeUserObject(CommandLine.java:2041)\n    at picocli.CommandLine.access$1500(CommandLine.java:148)\n    at picocli.CommandLine$RunLast.executeUserObjectOfLastSubcommandWithSameParent(CommandLine.java:2461)\n    at picocli.CommandLine$RunLast.handle(CommandLine.java:2453)\n    at picocli.CommandLine$RunLast.handle(CommandLine.java:2415)\n    at picocli.CommandLine$AbstractParseResultHandler.execute(CommandLine.java:2273)\n    at picocli.CommandLine$RunLast.execute(CommandLine.java:2417)\n    at picocli.CommandLine.execute(CommandLine.java:2170)\n    at liquibase.integration.commandline.LiquibaseCommandLine.lambda$null$2(LiquibaseCommandLine.java:383)\n    at liquibase.Scope.child(Scope.java:203)\n    at liquibase.Scope.child(Scope.java:179)\n    at liquibase.integration.commandline.LiquibaseCommandLine.lambda$execute$3(LiquibaseCommandLine.java:358)\n    at liquibase.Scope.child(Scope.java:203)\n    at liquibase.Scope.child(Scope.java:179)\n    at liquibase.integration.commandline.LiquibaseCommandLine.execute(LiquibaseCommandLine.java:356)\n    at liquibase.integration.commandline.LiquibaseCommandLine.main(LiquibaseCommandLine.java:93)\n Caused by: liquibase.exception.DatabaseException: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n    at liquibase.command.core.helpers.AbstractDatabaseConnectionCommandStep.createDatabaseObject(AbstractDatabaseConnectionCommandStep.java:107)\n    at liquibase.command.core.helpers.ReferenceDbUrlConnectionCommandStep.obtainDatabase(ReferenceDbUrlConnectionCommandStep.java:80)\n    at liquibase.command.core.helpers.ReferenceDbUrlConnectionCommandStep.run(ReferenceDbUrlConnectionCommandStep.java:61)\n    at liquibase.command.CommandScope.execute(CommandScope.java:212)\n    ... 18 more\n\n Caused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:284)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:246)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:223)\n    at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:295)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:252)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:223)\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494)\n    at liquibase.ext.hibernate.database.HibernateEjb3Database.buildMetadataFromPath(HibernateEjb3Database.java:59)\n    at liquibase.ext.hibernate.database.HibernateDatabase.buildMetadata(HibernateDatabase.java:143)\n    at liquibase.ext.hibernate.database.HibernateDatabase.setConnection(HibernateDatabase.java:83)\n    at liquibase.database.DatabaseFactory.findCorrectDatabaseImplementation(DatabaseFactory.java:124)\n    at liquibase.database.DatabaseFactory.openDatabase(DatabaseFactory.java:144)\n    at liquibase.command.core.helpers.AbstractDatabaseConnectionCommandStep.createDatabaseObject(AbstractDatabaseConnectionCommandStep.java:75)\n    ... 21 more\n Caused by: org.hibernate.HibernateException: java.lang.IllegalArgumentException: dataSource or dataSourceClassName or jdbcUrl is required.\n    at org.hibernate.hikaricp.internal.HikariCPConnectionProvider.configure(HikariCPConnectionProvider.java:63)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:107)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:255)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:223)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.buildJdbcConnectionAccess(JdbcEnvironmentInitiator.java:146)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:66)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:272)\n    ... 37 more\n Caused by: java.lang.IllegalArgumentException: dataSource or dataSourceClassName or jdbcUrl is required.\n    at com.zaxxer.hikari.HikariConfig.validate(HikariConfig.java:1029)\n    at com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:77)\n    at org.hibernate.hikaricp.internal.HikariCPConnectionProvider.configure(HikariCPConnectionProvider.java:59)\n    ... 45 more\n</code></pre>\n"},{"tags":["java","oracle","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":18129699,"reputation":296,"user_id":13184919,"display_name":"M&#225;t&#233; Tős&#233;r"},"score":1,"creation_date":1684755025,"post_id":76305603,"comment_id":134558287,"body_markdown":"I think because you want to println the whole list of multilingualTemplates it calls the toString method, which calls the LAZY annotated ShemeCode, and it gets into a loop. Try to println for example the first element&#39;s templateCode of the multilingualTemplates and see if the problem still there. For example `System.out.println(schemeCode.getMultilingualTemplates().get(0).getTemplateCode());`","body":"I think because you want to println the whole list of multilingualTemplates it calls the toString method, which calls the LAZY annotated ShemeCode, and it gets into a loop. Try to println for example the first element&#39;s templateCode of the multilingualTemplates and see if the problem still there. For example <code>System.out.println(schemeCode.getMultilingualTemplates().get&zwnj;&#8203;(0).getTemplateCode(&zwnj;&#8203;));</code>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1684756039,"post_id":76305603,"comment_id":134558493,"body_markdown":"Don&#39;t use `@Data` with entities (and `@ToString`/`@EqualsAndHashcode` for that matter). It will lead to these kinds of issues as it will generate a `toString` (and friednds) including **all fields** of your entites. Now you have a bi directional relationship going back and for. So 1 will call `toString`, leading to the other calling `toString`, leading to 1 will call `toString` and so on and on.... See https://deinum.biz/2019-02-13-Lombok-Data-Ojects-Arent-Entities/ for more detailed description.","body":"Don&#39;t use <code>@Data</code> with entities (and <code>@ToString</code>/<code>@EqualsAndHashcode</code> for that matter). It will lead to these kinds of issues as it will generate a <code>toString</code> (and friednds) including <b>all fields</b> of your entites. Now you have a bi directional relationship going back and for. So 1 will call <code>toString</code>, leading to the other calling <code>toString</code>, leading to 1 will call <code>toString</code> and so on and on.... See <a href=\"https://deinum.biz/2019-02-13-Lombok-Data-Ojects-Arent-Entities/\" rel=\"nofollow noreferrer\">deinum.biz/2019-02-13-Lombok-Data-Ojects-Arent-Entities</a> for more detailed description."}],"answers":[{"tags":[],"owner":{"account_id":5430343,"reputation":131,"user_id":4321414,"display_name":"Julien Antony"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684755671,"creation_date":1684755485,"answer_id":76305780,"question_id":76305603,"body_markdown":"The recursion is caused by @ToString lombok annotation and the two way reference. The generated toString methods are unaware of any @JsonManagedReference (which is for jackson serialization)\r\n\r\nThere is no such equivalent as `@JsonBackReference`, but you could annotate the field with `@ToString.Exclude`\r\n\r\n```java\r\n@OneToMany(mappedBy = &quot;schemeCode&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n@JsonBackReference\r\n@ToString.Exclude\r\nList&lt;MultilingualTemplateV2&gt; multilingualTemplates;\r\n```","title":"Jpa bidirectional many to one mapping going into infinite loop even with @JsonManagedReference","body":"<p>The recursion is caused by @ToString lombok annotation and the two way reference. The generated toString methods are unaware of any @JsonManagedReference (which is for jackson serialization)</p>\n<p>There is no such equivalent as <code>@JsonBackReference</code>, but you could annotate the field with <code>@ToString.Exclude</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@OneToMany(mappedBy = &quot;schemeCode&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n@JsonBackReference\n@ToString.Exclude\nList&lt;MultilingualTemplateV2&gt; multilingualTemplates;\n</code></pre>\n"}],"owner":{"account_id":17116762,"reputation":292,"user_id":12386060,"display_name":"Shiladitya Thakur"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76305780,"answer_count":1,"score":0,"last_activity_date":1684755671,"creation_date":1684754208,"question_id":76305603,"body_markdown":"I am using JPA with oracle databases and need to implement a bidirectional one to many and many to one mapping for the tables scheme_code_template and multilingual_template_v2 respectively.\r\n\r\n\r\n**MultilingualTemplateV2 Entity**\r\n\r\n    @Entity\r\n    @Table(name = &quot;multilingual_template_v2&quot;)\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    @ToString\r\n    public class MultilingualTemplateV2 {\r\n    \r\n    \t\r\n    \t@NotNull()\r\n    \tString language;\r\n    \t\r\n    \t\r\n    \t@NotNull()\r\n    \t@Nationalized\r\n    \tString template;\r\n    \t\r\n    \t@Id\r\n    \t@Column(name=&quot;template_code&quot;)\r\n    \t@NotNull()\r\n    \tString templateCode;\r\n    \t\r\n    \t@ManyToOne(fetch = FetchType.LAZY)\r\n    \t@JoinColumn(name = &quot;associated_schemecode&quot;)\r\n    \t@JsonManagedReference\r\n    \tSchemeCode schemeCode;\r\n    }\r\n\r\n\r\n**SchemeCode Entity**\r\n\r\n    @Entity\r\n    @Table(name = &quot;scheme_code_templates&quot;)\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    @ToString\r\n    public class SchemeCode {\r\n    \r\n    \t\r\n    \t@Column(name=&quot;associated_pushcode&quot;)\r\n    \tInteger associatedPushcode;\r\n    \t\r\n    \t@NotNull\r\n    \tString description;\r\n    \t\t\r\n    \t@Id\r\n    \t@NotNull()\r\n    \tString schemeCode;\r\n    \t\r\n    \t\r\n    \t@OneToMany(mappedBy = &quot;schemeCode&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n    \t@JsonBackReference\r\n    \tList&lt;MultilingualTemplateV2&gt; multilingualTemplates;\r\n    }\r\n\r\n\r\n\r\ndatabase:\r\n\r\nbelow is scheme_code_templates. It has the scheme_code as primary key which is used as the foreign key in multilingual_template_v2 table\r\n\r\n    Name                Null?    Type          \r\n    ------------------- -------- ------------- \r\n    ASSOCIATED_PUSHCODE          NUMBER        \r\n    SCHEME_CODE         NOT NULL VARCHAR2(6)   \r\n    DESCRIPTION         NOT NULL VARCHAR2(200)\r\n\r\n\r\n\r\nbelow is multilingual_template_v2 . It has the ASSOCIATED_SCHEMECODE as foreign key referencing the scheme_code in scheme_code_templates. Template_code is the primary key.\r\n\r\n    Name                  Null?    Type         \r\n    --------------------- -------- ------------ \r\n    ASSOCIATED_SCHEMECODE          VARCHAR2(6)  \r\n    TEMPLATE_CODE         NOT NULL VARCHAR2(9)  \r\n    LANGUAGE              NOT NULL VARCHAR2(30) \r\n    TEMPLATE              NOT NULL NCLOB \r\n\r\n\r\n\r\nUsed the below query to set foreign key in multilingual_template_v2\r\n\r\n    ALTER TABLE multilingual_template_v2\r\n    ADD CONSTRAINT fk_scheme_code_templates\r\n      FOREIGN KEY (associated_schemecode)\r\n      REFERENCES scheme_code_templates(scheme_code);\r\n\r\n\r\n\r\n\r\nI have created a JpaRepository for scheme_code called SchemeCodeRepository through which I am using findAll(). Currently I am getting below error when getMultilingualTemplates() is called. \r\n\r\n    for (SchemeCode schemeCode : schemeRepo.findAll()) {\r\n    \t\t\tSystem.out.println(schemeCode.getMultilingualTemplates());\r\n    \t\t}\r\n\r\n\r\n**Error**\r\n\r\n    at org.hibernate.collection.spi.PersistentBag.toString(PersistentBag.java:585) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n    \tat java.lang.String.valueOf(String.java:4218) ~[?:?]\r\n    \tat java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\r\n    \tat com.dcb.smsbatch.dataLayer.entities.SchemeCode.toString(SchemeCode.java:34) ~[classes/:?]\r\n    \tat java.lang.String.valueOf(String.java:4218) ~[?:?]\r\n    \tat java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\r\n    \tat com.dcb.smsbatch.dataLayer.entities.MultilingualTemplateV2.toString(MultilingualTemplateV2.java:30) ~[classes/:?]\r\n    \tat java.lang.String.valueOf(String.java:4218) ~[?:?]\r\n    \tat java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\r\n    \tat java.util.AbstractCollection.toString(AbstractCollection.java:457) ~[?:?]\r\n    \tat org.hibernate.collection.spi.PersistentBag.toString(PersistentBag.java:585) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n    \tat java.lang.String.valueOf(String.java:4218) ~[?:?]\r\n    \tat java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\r\n    \tat com.dcb.smsbatch.dataLayer.entities.SchemeCode.toString(SchemeCode.java:34) ~[classes/:?]\r\n    \tat java.lang.String.valueOf(String.java:4218) ~[?:?]\r\n    \tat java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\r\n    \tat com.dcb.smsbatch.dataLayer.entities.MultilingualTemplateV2.toString(MultilingualTemplateV2.java:30) ~[classes/:?]\r\n    \tat java.lang.String.valueOf(String.java:4218) ~[?:?]\r\n    \tat java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\r\n    \tat java.util.AbstractCollection.toString(AbstractCollection.java:457) ~[?:?]\r\n    \tat org.hibernate.collection.spi.PersistentBag.toString(PersistentBag.java:585) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n    \tat java.lang.String.valueOf(String.java:4218) ~[?:?]\r\n    \tat java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\r\n    \tat com.dcb.smsbatch.dataLayer.entities.SchemeCode.toString(SchemeCode.java:34) ~[classes/:?]\r\n    \tat java.lang.String.valueOf(String.java:4218) ~[?:?]\r\n    \tat java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\r\n    \tat com.dcb.smsbatch.dataLayer.entities.MultilingualTemplateV2.toString(MultilingualTemplateV2.java:30) ~[classes/:?]\r\n    \tat java.lang.String.valueOf(String.java:4218) ~[?:?]\r\n    \tat java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\r\n    \tat java.util.AbstractCollection.toString(AbstractCollection.java:457) ~[?:?]\r\n    \tat org.hibernate.collection.spi.PersistentBag.toString(PersistentBag.java:585) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n    \tat java.lang.String.valueOf(String.java:4218) ~[?:?]\r\n    \tat java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\r\n    \tat com.dcb.smsbatch.dataLayer.entities.SchemeCode.toString(SchemeCode.java:34) ~[classes/:?]\r\n    \tat java.lang.String.valueOf(String.java:4218) ~[?:?]\r\n    \tat java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\r\n    \tat com.dcb.smsbatch.dataLayer.entities.MultilingualTemplateV2.toString(MultilingualTemplateV2.java:30) ~[classes/:?]\r\n    \tat java.lang.String.valueOf(String.java:4218) ~[?:?]\r\n    \tat java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\r\n    \tat java.util.AbstractCollection.toString(AbstractCollection.java:457) ~[?:?]\r\n    \tat org.hibernate.collection.spi.PersistentBag.toString(PersistentBag.java:585) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n    \tat java.lang.String.valueOf(String.java:4218) ~[?:?]\r\n    \tat java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\r\n    \tat com.dcb.smsbatch.dataLayer.entities.SchemeCode.toString(SchemeCode.java:34) ~[classes/:?]\r\n    \tat java.lang.String.valueOf(String.java:4218) ~[?:?]\r\n    \tat java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\r\n    \tat com.dcb.smsbatch.dataLayer.entities.MultilingualTemplateV2.toString(MultilingualTemplateV2.java:30) ~[classes/:?]\r\n    \tat java.lang.String.valueOf(String.java:4218) ~[?:?]\r\n    \tat java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\r\n    \tat java.util.AbstractCollection.toString(AbstractCollection.java:457) ~[?:?]\r\n    \tat org.hibernate.collection.spi.PersistentBag.toString(PersistentBag.java:585) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n    \tat java.lang.String.valueOf(String.java:4218) ~[?:?]\r\n    \tat java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\r\n    \tat com.dcb.smsbatch.dataLayer.entities.SchemeCode.toString(SchemeCode.java:34) ~[classes/:?]\r\n    \tat java.lang.String.valueOf(String.java:4218) ~[?:?]\r\n    \tat java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\r\n    \tat com.dcb.smsbatch.dataLayer.entities.MultilingualTemplateV2.toString(MultilingualTemplateV2.java:30) ~[classes/:?]\r\n    \tat java.lang.String.valueOf(String.java:4218) ~[?:?]\r\n    \tat java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\r\n    \tat java.util.AbstractCollection.toString(AbstractCollection.java:457) ~[?:?]\r\n    \tat org.hibernate.collection.spi.PersistentBag.toString(PersistentBag.java:585) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n    \tat java.lang.String.valueOf(String.java:4218) ~[?:?]\r\n    \tat java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\r\n    \tat com.dcb.smsbatch.dataLayer.entities.SchemeCode.toString(SchemeCode.java:34) ~[classes/:?]\r\n    \tat java.lang.String.valueOf(String.java:4218) ~[?:?]\r\n\r\n\r\n\r\n\r\nAny help or suggestion is greatly appreciated.","title":"Jpa bidirectional many to one mapping going into infinite loop even with @JsonManagedReference","body":"<p>I am using JPA with oracle databases and need to implement a bidirectional one to many and many to one mapping for the tables scheme_code_template and multilingual_template_v2 respectively.</p>\n<p><strong>MultilingualTemplateV2 Entity</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;multilingual_template_v2&quot;)\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@ToString\npublic class MultilingualTemplateV2 {\n\n    \n    @NotNull()\n    String language;\n    \n    \n    @NotNull()\n    @Nationalized\n    String template;\n    \n    @Id\n    @Column(name=&quot;template_code&quot;)\n    @NotNull()\n    String templateCode;\n    \n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;associated_schemecode&quot;)\n    @JsonManagedReference\n    SchemeCode schemeCode;\n}\n</code></pre>\n<p><strong>SchemeCode Entity</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;scheme_code_templates&quot;)\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@ToString\npublic class SchemeCode {\n\n    \n    @Column(name=&quot;associated_pushcode&quot;)\n    Integer associatedPushcode;\n    \n    @NotNull\n    String description;\n        \n    @Id\n    @NotNull()\n    String schemeCode;\n    \n    \n    @OneToMany(mappedBy = &quot;schemeCode&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    @JsonBackReference\n    List&lt;MultilingualTemplateV2&gt; multilingualTemplates;\n}\n</code></pre>\n<p>database:</p>\n<p>below is scheme_code_templates. It has the scheme_code as primary key which is used as the foreign key in multilingual_template_v2 table</p>\n<pre><code>Name                Null?    Type          \n------------------- -------- ------------- \nASSOCIATED_PUSHCODE          NUMBER        \nSCHEME_CODE         NOT NULL VARCHAR2(6)   \nDESCRIPTION         NOT NULL VARCHAR2(200)\n</code></pre>\n<p>below is multilingual_template_v2 . It has the ASSOCIATED_SCHEMECODE as foreign key referencing the scheme_code in scheme_code_templates. Template_code is the primary key.</p>\n<pre><code>Name                  Null?    Type         \n--------------------- -------- ------------ \nASSOCIATED_SCHEMECODE          VARCHAR2(6)  \nTEMPLATE_CODE         NOT NULL VARCHAR2(9)  \nLANGUAGE              NOT NULL VARCHAR2(30) \nTEMPLATE              NOT NULL NCLOB \n</code></pre>\n<p>Used the below query to set foreign key in multilingual_template_v2</p>\n<pre><code>ALTER TABLE multilingual_template_v2\nADD CONSTRAINT fk_scheme_code_templates\n  FOREIGN KEY (associated_schemecode)\n  REFERENCES scheme_code_templates(scheme_code);\n</code></pre>\n<p>I have created a JpaRepository for scheme_code called SchemeCodeRepository through which I am using findAll(). Currently I am getting below error when getMultilingualTemplates() is called.</p>\n<pre><code>for (SchemeCode schemeCode : schemeRepo.findAll()) {\n            System.out.println(schemeCode.getMultilingualTemplates());\n        }\n</code></pre>\n<p><strong>Error</strong></p>\n<pre><code>at org.hibernate.collection.spi.PersistentBag.toString(PersistentBag.java:585) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at com.dcb.smsbatch.dataLayer.entities.SchemeCode.toString(SchemeCode.java:34) ~[classes/:?]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at com.dcb.smsbatch.dataLayer.entities.MultilingualTemplateV2.toString(MultilingualTemplateV2.java:30) ~[classes/:?]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at java.util.AbstractCollection.toString(AbstractCollection.java:457) ~[?:?]\n    at org.hibernate.collection.spi.PersistentBag.toString(PersistentBag.java:585) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at com.dcb.smsbatch.dataLayer.entities.SchemeCode.toString(SchemeCode.java:34) ~[classes/:?]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at com.dcb.smsbatch.dataLayer.entities.MultilingualTemplateV2.toString(MultilingualTemplateV2.java:30) ~[classes/:?]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at java.util.AbstractCollection.toString(AbstractCollection.java:457) ~[?:?]\n    at org.hibernate.collection.spi.PersistentBag.toString(PersistentBag.java:585) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at com.dcb.smsbatch.dataLayer.entities.SchemeCode.toString(SchemeCode.java:34) ~[classes/:?]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at com.dcb.smsbatch.dataLayer.entities.MultilingualTemplateV2.toString(MultilingualTemplateV2.java:30) ~[classes/:?]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at java.util.AbstractCollection.toString(AbstractCollection.java:457) ~[?:?]\n    at org.hibernate.collection.spi.PersistentBag.toString(PersistentBag.java:585) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at com.dcb.smsbatch.dataLayer.entities.SchemeCode.toString(SchemeCode.java:34) ~[classes/:?]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at com.dcb.smsbatch.dataLayer.entities.MultilingualTemplateV2.toString(MultilingualTemplateV2.java:30) ~[classes/:?]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at java.util.AbstractCollection.toString(AbstractCollection.java:457) ~[?:?]\n    at org.hibernate.collection.spi.PersistentBag.toString(PersistentBag.java:585) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at com.dcb.smsbatch.dataLayer.entities.SchemeCode.toString(SchemeCode.java:34) ~[classes/:?]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at com.dcb.smsbatch.dataLayer.entities.MultilingualTemplateV2.toString(MultilingualTemplateV2.java:30) ~[classes/:?]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at java.util.AbstractCollection.toString(AbstractCollection.java:457) ~[?:?]\n    at org.hibernate.collection.spi.PersistentBag.toString(PersistentBag.java:585) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at com.dcb.smsbatch.dataLayer.entities.SchemeCode.toString(SchemeCode.java:34) ~[classes/:?]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at com.dcb.smsbatch.dataLayer.entities.MultilingualTemplateV2.toString(MultilingualTemplateV2.java:30) ~[classes/:?]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at java.util.AbstractCollection.toString(AbstractCollection.java:457) ~[?:?]\n    at org.hibernate.collection.spi.PersistentBag.toString(PersistentBag.java:585) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at com.dcb.smsbatch.dataLayer.entities.SchemeCode.toString(SchemeCode.java:34) ~[classes/:?]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n</code></pre>\n<p>Any help or suggestion is greatly appreciated.</p>\n"},{"tags":["java","eclipselink"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1499184722,"post_id":44905546,"comment_id":76797397,"body_markdown":"Why doesn&#39;t the cache annotation work?  For invalidating the cache, see https://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Caching/Expiration and https://www.eclipse.org/eclipselink/documentation/2.5/concepts/cache006.htm","body":"Why doesn&#39;t the cache annotation work?  For invalidating the cache, see <a href=\"https://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Caching/Expiration\" rel=\"nofollow noreferrer\">wiki.eclipse.org/EclipseLink/UserGuide/JPA/&hellip;</a> and <a href=\"https://www.eclipse.org/eclipselink/documentation/2.5/concepts/cache006.htm\" rel=\"nofollow noreferrer\">eclipse.org/eclipselink/documentation/2.5/concepts/cache006.&zwnj;&#8203;htm</a>"},{"owner":{"account_id":794853,"reputation":519,"user_id":920485,"accept_rate":63,"display_name":"codyLine"},"score":0,"creation_date":1499261616,"post_id":44905546,"comment_id":76831008,"body_markdown":"The reason why the annotation doens&#39;t work is related to my IDE (netbeans). Importing the package `javax.persistence.Cache` I got an incompatible type error. I have to import the right package (org.eclipse.persistence.annotations). Anyway, the cache annotation is not the solution I am looking for. I need a global one. Is there any? Thanks","body":"The reason why the annotation doens&#39;t work is related to my IDE (netbeans). Importing the package <code>javax.persistence.Cache</code> I got an incompatible type error. I have to import the right package (org.eclipse.persistence.annotations). Anyway, the cache annotation is not the solution I am looking for. I need a global one. Is there any? Thanks"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1499263422,"post_id":44905546,"comment_id":76832372,"body_markdown":"What do you mean by global - invalidation only applies to the shared cache, at the EMF level.  If you have more than one application running, you can look into cache coordination, which would allow each application to listen for events.  See https://www.eclipse.org/eclipselink/documentation/2.6/concepts/cache010.htm","body":"What do you mean by global - invalidation only applies to the shared cache, at the EMF level.  If you have more than one application running, you can look into cache coordination, which would allow each application to listen for events.  See <a href=\"https://www.eclipse.org/eclipselink/documentation/2.6/concepts/cache010.htm\" rel=\"nofollow noreferrer\">eclipse.org/eclipselink/documentation/2.6/concepts/cache010.&zwnj;&#8203;htm</a>"},{"owner":{"account_id":794853,"reputation":519,"user_id":920485,"accept_rate":63,"display_name":"codyLine"},"score":0,"creation_date":1499265151,"post_id":44905546,"comment_id":76833783,"body_markdown":"I understand, so I have to change every entity or better have them all extending a superclass where I define the cache strategy which will be inherited. The document is very interesting. I&#39;ll need some time to dive in. Thanks Chris.","body":"I understand, so I have to change every entity or better have them all extending a superclass where I define the cache strategy which will be inherited. The document is very interesting. I&#39;ll need some time to dive in. Thanks Chris."}],"answers":[{"tags":[],"owner":{"account_id":12993243,"reputation":152,"user_id":9391811,"display_name":"Michael"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1520505979,"creation_date":1520505979,"answer_id":49171220,"question_id":44905546,"body_markdown":"First level cache is enabled by default and you can not disable it. i.e. no settings in your persistence.xml file will disable first level cache.\r\n\r\nYou can only clear out all the entity manager objects by calling \r\n\r\n    entityManager.clear()\r\n\r\nthis will make subsequent queries go to the database (the first time) and then objects are again stored in the cache\r\n\r\nIn your case you would need to store your entitymanager objects in a register somewhere and have a loop through it every 3 hours to call the clear() function.\r\n\r\nYou can force each query to go to the database directly by calling \r\n\r\n    query.setHint(&quot;javax.persistence.cache.storeMode&quot;, CacheStoreMode.REFRESH);\r\n","title":"How to clear / refresh the cache in EclipseLink","body":"<p>First level cache is enabled by default and you can not disable it. i.e. no settings in your persistence.xml file will disable first level cache.</p>\n\n<p>You can only clear out all the entity manager objects by calling </p>\n\n<pre><code>entityManager.clear()\n</code></pre>\n\n<p>this will make subsequent queries go to the database (the first time) and then objects are again stored in the cache</p>\n\n<p>In your case you would need to store your entitymanager objects in a register somewhere and have a loop through it every 3 hours to call the clear() function.</p>\n\n<p>You can force each query to go to the database directly by calling </p>\n\n<pre><code>query.setHint(\"javax.persistence.cache.storeMode\", CacheStoreMode.REFRESH);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20645,"reputation":5548,"user_id":49548,"accept_rate":94,"display_name":"Bob"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684755586,"creation_date":1684755586,"answer_id":76305793,"question_id":44905546,"body_markdown":"You can clear Eclipselink&#39;s second level cache by accessing the `Cache` object in the `EntityManagerFactory`:\r\n\r\n\r\n```java\r\nentityManager.getEntityManagerFactory().getCache().evictAll();\r\n``` ","title":"How to clear / refresh the cache in EclipseLink","body":"<p>You can clear Eclipselink's second level cache by accessing the <code>Cache</code> object in the <code>EntityManagerFactory</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>entityManager.getEntityManagerFactory().getCache().evictAll();\n</code></pre>\n"}],"owner":{"account_id":794853,"reputation":519,"user_id":920485,"accept_rate":63,"display_name":"codyLine"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5174,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1684755586,"creation_date":1499169899,"question_id":44905546,"body_markdown":"I&#39;m using following settings in persistence.xml (I use Eclipselink 2.6.4) from my web application:\r\n\r\n    &lt;properties&gt; \r\n        &lt;property name=&quot;eclipselink.jdbc.cache-statements&quot; value=&quot;true&quot; /&gt;        \r\n        &lt;property name=&quot;eclipselink.cache.query-results&quot; value=&quot;true&quot; /&gt; \r\n        &lt;property name=&quot;eclipselink.ddl-generation.index-foreign-keys&quot; value=&quot;true&quot; /&gt;\r\n        &lt;property name=&quot;eclipselink.logging.level&quot; value=&quot;OFF&quot; /&gt;        \r\n        &lt;property name=&quot;eclipselink.persistence-context.close-on-commit&quot; value=&quot;true&quot; /&gt;        \r\n        &lt;property name=&quot;eclipselink.persistence-context.flush-mode&quot; value=&quot;commit&quot; /&gt;        \r\n        &lt;property name=&quot;eclipselink.persistence-context.persist-on-commit&quot; value=&quot;false&quot; /&gt;\r\n    &lt;/properties&gt;\r\nI&#39;m using the `@Cacheable(false)` annotation to prevent some entities from being cached. &lt;br&gt; \r\nThe `@Cache` annotation doesn&#39;t work any more in version 2.6.4. &lt;br&gt; \r\nMy question is, is there a possibility to clear the cache globally? Let say every 3 hours? &lt;br&gt;\r\nThanks","title":"How to clear / refresh the cache in EclipseLink","body":"<p>I'm using following settings in persistence.xml (I use Eclipselink 2.6.4) from my web application:</p>\n\n<pre><code>&lt;properties&gt; \n    &lt;property name=\"eclipselink.jdbc.cache-statements\" value=\"true\" /&gt;        \n    &lt;property name=\"eclipselink.cache.query-results\" value=\"true\" /&gt; \n    &lt;property name=\"eclipselink.ddl-generation.index-foreign-keys\" value=\"true\" /&gt;\n    &lt;property name=\"eclipselink.logging.level\" value=\"OFF\" /&gt;        \n    &lt;property name=\"eclipselink.persistence-context.close-on-commit\" value=\"true\" /&gt;        \n    &lt;property name=\"eclipselink.persistence-context.flush-mode\" value=\"commit\" /&gt;        \n    &lt;property name=\"eclipselink.persistence-context.persist-on-commit\" value=\"false\" /&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>I'm using the <code>@Cacheable(false)</code> annotation to prevent some entities from being cached. <br> \nThe <code>@Cache</code> annotation doesn't work any more in version 2.6.4. <br> \nMy question is, is there a possibility to clear the cache globally? Let say every 3 hours? <br>\nThanks</p>\n"},{"tags":["java","android","kotlin","gradle"],"comments":[{"owner":{"account_id":10587710,"reputation":2772,"user_id":7799462,"display_name":"Halil Ozel"},"score":0,"creation_date":1684756302,"post_id":76305394,"comment_id":134558545,"body_markdown":"Does this answer your question? [Issues were found when checking AAR metadata: androidx.core:core:1.12.0-alpha01 and androidx.core:core-ktx:1.12.0-alpha01](https://stackoverflow.com/questions/75684382/issues-were-found-when-checking-aar-metadata-androidx-corecore1-12-0-alpha01)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/75684382/issues-were-found-when-checking-aar-metadata-androidx-corecore1-12-0-alpha01\">Issues were found when checking AAR metadata: androidx.core:core:1.12.0-alpha01 and androidx.core:core-ktx:1.12.0-alpha01</a>"},{"owner":{"account_id":21208932,"reputation":1,"user_id":15597974,"display_name":"Yıldırım Beyazid"},"score":0,"creation_date":1684756457,"post_id":76305394,"comment_id":134558578,"body_markdown":"I tried all the methods out there but it didn&#39;t work","body":"I tried all the methods out there but it didn&#39;t work"},{"owner":{"account_id":10587710,"reputation":2772,"user_id":7799462,"display_name":"Halil Ozel"},"score":0,"creation_date":1684756797,"post_id":76305394,"comment_id":134558657,"body_markdown":"You should check this url: https://developer.android.com/about/versions/14/setup-sdk","body":"You should check this url: <a href=\"https://developer.android.com/about/versions/14/setup-sdk\" rel=\"nofollow noreferrer\">developer.android.com/about/versions/14/setup-sdk</a>"},{"owner":{"account_id":21208932,"reputation":1,"user_id":15597974,"display_name":"Yıldırım Beyazid"},"score":0,"creation_date":1684757974,"post_id":76305394,"comment_id":134558937,"body_markdown":"i did and the error is For input string: &quot;UpsideDownCake&quot;","body":"i did and the error is For input string: &quot;UpsideDownCake&quot;"},{"owner":{"account_id":18059881,"reputation":111,"user_id":14193948,"display_name":"Aakash Kumar"},"score":0,"creation_date":1686159199,"post_id":76305394,"comment_id":134762220,"body_markdown":"i have getting the same issue  when i am using \n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39; then i fixed with      implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;","body":"i have getting the same issue  when i am using      implementation &#39;androidx.appcompat:appcompat:1.6.1&#39; then i fixed with      implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;"}],"owner":{"account_id":21208932,"reputation":1,"user_id":15597974,"display_name":"Yıldırım Beyazid"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":573,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684755336,"creation_date":1684752400,"question_id":76305394,"body_markdown":"2 issues were found when checking AAR metadata:\r\n\r\n  1.  Dependency &#39;androidx.core:core:1.12.0-alpha04&#39; requires libraries and applications that\r\n      depend on it to compile against codename &quot;UpsideDownCake&quot; of the\r\n      Android APIs.\r\n\r\n      :app is currently compiled against android-33.\r\n\r\n      Recommended action: Use a different version of dependency &#39;androidx.core:core:1.12.0-alpha04&#39;,\r\n      or set compileSdkPreview to &quot;UpsideDownCake&quot; in your build.gradle\r\n      file if you intend to experiment with that preview SDK.\r\n\r\n  2.  Dependency &#39;androidx.core:core-ktx:1.12.0-alpha04&#39; requires libraries and applications that\r\n      depend on it to compile against codename &quot;UpsideDownCake&quot; of the\r\n      Android APIs.\r\n\r\n      :app is currently compiled against android-33.\r\n\r\n      Recommended action: Use a different version of dependency &#39;androidx.core:core-ktx:1.12.0-alpha04&#39;,\r\n      or set compileSdkPreview to &quot;UpsideDownCake&quot; in your build.gradle\r\n      file if you intend to experiment with that preview SDK.\r\n\r\n\r\nI get this error when I want to run android project\r\n\r\n```gradle\r\n    plugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;org.jetbrains.kotlin.android&#39;\r\n    id &#39;com.onesignal.androidsdk.onesignal-gradle-plugin&#39;\r\n    //id &#39;com.google.gms.google-services&#39; // Google Services plugin // Uncomment the plugin to use firebase and obtain the google-services.json file\r\n}\r\n\r\nandroid {\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.softr.tiktokdownloader&quot;\r\n        minSdk 21\r\n        targetSdk 32\r\n        versionCode 1\r\n        versionName &quot;2.0.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    dataBinding {\r\n        enabled true\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_11\r\n        targetCompatibility JavaVersion.VERSION_11\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = &#39;11&#39;\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\r\n    implementation project(path: &#39;:jcplayer&#39;)\r\n    implementation &#39;androidx.core:core-ktx:1.10.0&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.8.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n\r\n    // required to avoid crash on Android 12 API 31\r\n    implementation &#39;androidx.work:work-runtime-ktx:2.8.1&#39;\r\n\r\n    // butterknife\r\n    implementation &#39;com.jakewharton:butterknife:10.2.3&#39;\r\n    annotationProcessor &#39;com.jakewharton:butterknife-compiler:10.2.3&#39;\r\n\r\n    /*admob*/\r\n    implementation &#39;com.google.android.gms:play-services-ads:19.8.0&#39;\r\n    /*admob open app ad*/\r\n    def lifecycle_version = &quot;2.2.0&quot;\r\n    implementation &quot;androidx.lifecycle:lifecycle-extensions:$lifecycle_version&quot;\r\n    implementation &quot;androidx.lifecycle:lifecycle-runtime:$lifecycle_version&quot;\r\n    annotationProcessor &quot;androidx.lifecycle:lifecycle-compiler:$lifecycle_version&quot;\r\n\r\n    implementation &#39;com.airbnb.android:lottie:5.2.0&#39;\r\n    implementation &#39;com.infideap.drawerbehavior:drawer-behavior:1.0.4&#39;\r\n    implementation &quot;androidx.cardview:cardview:1.0.0&quot;\r\n    implementation &#39;com.onesignal:OneSignal:[4.0.0, 4.99.99]&#39;\r\n    def multidex_version = &quot;2.0.1&quot;\r\n    implementation &quot;androidx.multidex:multidex:$multidex_version&quot;\r\n\r\n    implementation &#39;com.github.vimalcvs:Day-Night-Switch:1.0.3&#39;\r\n    implementation &#39;com.squareup.picasso:picasso:2.71828&#39;\r\n    implementation &#39;com.polyak:icon-switch:1.0.0&#39;\r\n    //payment\r\n    def billing_version = &quot;4.0.0&quot;\r\n    implementation &quot;com.android.billingclient:billing:$billing_version&quot;\r\n\r\n    implementation &#39;com.github.chnouman:AwesomeDialog:1.0.5&#39;\r\n    implementation &#39;com.squareup.retrofit2:retrofit:2.9.0&#39;\r\n    implementation &#39;com.squareup.retrofit2:converter-gson:2.9.0&#39;\r\n    implementation &#39;com.squareup.okhttp3:logging-interceptor:4.9.1&#39;\r\n    implementation &#39;com.google.code.gson:gson:2.10&#39;\r\n    implementation &#39;com.github.bumptech.glide:glide:4.14.2&#39;\r\n    annotationProcessor &#39;com.github.bumptech.glide:compiler:4.14.1&#39;\r\n    implementation &#39;com.jackandphantom.android:circularimageview:1.2.0&#39;\r\n    implementation &#39;com.nabinbhandari.android:permissions:3.8&#39;\r\n    implementation &#39;com.github.esafirm:RxDownloader:1.0.1&#39;\r\n    implementation &#39;io.paperdb:paperdb:2.6&#39;\r\n    implementation &#39;com.github.HBiSoft:PickiT:0.1.10&#39;\r\n    implementation &#39;com.github.Andy671:Dachshund-Tab-Layout:v0.3.3&#39;\r\n\r\n}\r\n```","title":"Android studio error:Execution failed for task &#39;:app:checkDebugAarMetadata&#39;","body":"<p>2 issues were found when checking AAR metadata:</p>\n<ol>\n<li><p>Dependency 'androidx.core:core:1.12.0-alpha04' requires libraries and applications that\ndepend on it to compile against codename &quot;UpsideDownCake&quot; of the\nAndroid APIs.</p>\n<p>:app is currently compiled against android-33.</p>\n<p>Recommended action: Use a different version of dependency 'androidx.core:core:1.12.0-alpha04',\nor set compileSdkPreview to &quot;UpsideDownCake&quot; in your build.gradle\nfile if you intend to experiment with that preview SDK.</p>\n</li>\n<li><p>Dependency 'androidx.core:core-ktx:1.12.0-alpha04' requires libraries and applications that\ndepend on it to compile against codename &quot;UpsideDownCake&quot; of the\nAndroid APIs.</p>\n<p>:app is currently compiled against android-33.</p>\n<p>Recommended action: Use a different version of dependency 'androidx.core:core-ktx:1.12.0-alpha04',\nor set compileSdkPreview to &quot;UpsideDownCake&quot; in your build.gradle\nfile if you intend to experiment with that preview SDK.</p>\n</li>\n</ol>\n<p>I get this error when I want to run android project</p>\n<pre><code>    plugins {\n    id 'com.android.application'\n    id 'org.jetbrains.kotlin.android'\n    id 'com.onesignal.androidsdk.onesignal-gradle-plugin'\n    //id 'com.google.gms.google-services' // Google Services plugin // Uncomment the plugin to use firebase and obtain the google-services.json file\n}\n\nandroid {\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.softr.tiktokdownloader&quot;\n        minSdk 21\n        targetSdk 32\n        versionCode 1\n        versionName &quot;2.0.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    dataBinding {\n        enabled true\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_11\n        targetCompatibility JavaVersion.VERSION_11\n    }\n    kotlinOptions {\n        jvmTarget = '11'\n    }\n}\n\ndependencies {\n\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\n    implementation project(path: ':jcplayer')\n    implementation 'androidx.core:core-ktx:1.10.0'\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.8.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n\n    // required to avoid crash on Android 12 API 31\n    implementation 'androidx.work:work-runtime-ktx:2.8.1'\n\n    // butterknife\n    implementation 'com.jakewharton:butterknife:10.2.3'\n    annotationProcessor 'com.jakewharton:butterknife-compiler:10.2.3'\n\n    /*admob*/\n    implementation 'com.google.android.gms:play-services-ads:19.8.0'\n    /*admob open app ad*/\n    def lifecycle_version = &quot;2.2.0&quot;\n    implementation &quot;androidx.lifecycle:lifecycle-extensions:$lifecycle_version&quot;\n    implementation &quot;androidx.lifecycle:lifecycle-runtime:$lifecycle_version&quot;\n    annotationProcessor &quot;androidx.lifecycle:lifecycle-compiler:$lifecycle_version&quot;\n\n    implementation 'com.airbnb.android:lottie:5.2.0'\n    implementation 'com.infideap.drawerbehavior:drawer-behavior:1.0.4'\n    implementation &quot;androidx.cardview:cardview:1.0.0&quot;\n    implementation 'com.onesignal:OneSignal:[4.0.0, 4.99.99]'\n    def multidex_version = &quot;2.0.1&quot;\n    implementation &quot;androidx.multidex:multidex:$multidex_version&quot;\n\n    implementation 'com.github.vimalcvs:Day-Night-Switch:1.0.3'\n    implementation 'com.squareup.picasso:picasso:2.71828'\n    implementation 'com.polyak:icon-switch:1.0.0'\n    //payment\n    def billing_version = &quot;4.0.0&quot;\n    implementation &quot;com.android.billingclient:billing:$billing_version&quot;\n\n    implementation 'com.github.chnouman:AwesomeDialog:1.0.5'\n    implementation 'com.squareup.retrofit2:retrofit:2.9.0'\n    implementation 'com.squareup.retrofit2:converter-gson:2.9.0'\n    implementation 'com.squareup.okhttp3:logging-interceptor:4.9.1'\n    implementation 'com.google.code.gson:gson:2.10'\n    implementation 'com.github.bumptech.glide:glide:4.14.2'\n    annotationProcessor 'com.github.bumptech.glide:compiler:4.14.1'\n    implementation 'com.jackandphantom.android:circularimageview:1.2.0'\n    implementation 'com.nabinbhandari.android:permissions:3.8'\n    implementation 'com.github.esafirm:RxDownloader:1.0.1'\n    implementation 'io.paperdb:paperdb:2.6'\n    implementation 'com.github.HBiSoft:PickiT:0.1.10'\n    implementation 'com.github.Andy671:Dachshund-Tab-Layout:v0.3.3'\n\n}\n</code></pre>\n"},{"tags":["java","spring","eclipse","soap","apache-axis"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1684755122,"post_id":76304690,"comment_id":134558302,"body_markdown":"Please go to the _Error Log_ view, select the error, hit Ctrl+C and paste it into your question formatted as _Sample Code_. Is this a fresh installation of Eclipse 2023-03?","body":"Please go to the <i>Error Log</i> view, select the error, hit Ctrl+C and paste it into your question formatted as <i>Sample Code</i>. Is this a fresh installation of Eclipse 2023-03?"}],"answers":[{"tags":[],"owner":{"account_id":28229587,"reputation":13,"user_id":21579005,"display_name":"DynComplier"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684755176,"creation_date":1684755176,"answer_id":76305738,"question_id":76304690,"body_markdown":"Re-Installed eclipse \r\nissue resolved","title":"How to solve the &quot;IWAB0014E Unexpected exception occurred&quot; Error in eclipse 2023.03","body":"<p>Re-Installed eclipse\nissue resolved</p>\n"}],"owner":{"account_id":28229587,"reputation":13,"user_id":21579005,"display_name":"DynComplier"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684755176,"creation_date":1684747255,"question_id":76304690,"body_markdown":"How to solve the &quot;IWAB0014E Unexpected exception occurred&quot; Error in eclipse 2023.03.\r\n\r\nRunning: \r\nServer : Apache Tomcat v9.0\r\nJRE : JavaSE 17\r\n\r\n    IWAB0014E Unexpected exception occurred.\r\n      com/ibm/icu/util/StringTokenizer\r\n          java.lang.NoClassDefFoundError: com/ibm/icu/util/StringTokenizer\r\n          at org.eclipse.jst.ws.internal.consumption.common.FacetUtils.greaterThan(FacetUtils.java:1279)\r\n          at org.eclipse.jst.ws.internal.consumption.common.FacetUtils.getRuntimes(FacetUtils.java:1153)\r\n          at org.eclipse.jst.ws.internal.consumption.ui.wsrt.WebServiceRuntimeExtensionUtils2.getRuntimes(WebServiceRuntimeExtensionUtils2.java:2329)\r\n          at org.eclipse.jst.ws.internal.consumption.ui.wsrt.WebServiceRuntimeExtensionUtils2.getServerFactoryIdsByServiceRuntime(WebServiceRuntimeExtensionUtils2.java:732)\r\n          at org.eclipse.jst.ws.internal.consumption.ui.wsrt.WebServiceRuntimeExtensionUtils2.getServerFactoryIdsByServiceType(WebServiceRuntimeExtensionUtils2.java:671)\r\n          at org.eclipse.jst.ws.internal.consumption.ui.wsrt.WebServiceRuntimeExtensionUtils2.getDefaultServerValueFor(WebServiceRuntimeExtensionUtils2.java:896)\r\n          at org.eclipse.jst.ws.internal.creation.ui.widgets.ServerWizardWidgetDefaultingCommand.execute(ServerWizardWidgetDefaultingCommand.java:53)\r\n          at org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.runCommand(CommandFragmentEngine.java:421)\r\n          at org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.visitTop(CommandFragmentEngine.java:361)\r\n          at org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.moveForwardToNextStop(CommandFragmentEngine.java:256)\r\n          at org.eclipse.wst.command.internal.env.ui.widgets.SimpleCommandEngineManager$6.run(SimpleCommandEngineManager.java:296)\r\n          at org.eclipse.wst.command.internal.env.ui.widgets.SimpleCommandEngineManager.runForwardToNextStop(SimpleCommandEngineManager.java:260)\r\n          at org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.runForwardToNextStop(WizardPageManager.java:93)\r\n          at org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.getNextPage(WizardPageManager.java:156)\r\n          at org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.getStartingPage(WizardPageManager.java:82)\r\n          at org.eclipse.wst.command.internal.env.ui.widgets.DynamicWizard.getStartingPage(DynamicWizard.java:366)\r\n          at org.eclipse.jface.wizard.WizardDialog.showStartingPage(WizardDialog.java:1265)\r\n          at org.eclipse.jface.wizard.WizardDialog.createContents(WizardDialog.java:638)\r\n          at org.eclipse.jface.window.Window.create(Window.java:431)\r\n          at org.eclipse.jface.dialogs.Dialog.create(Dialog.java:1094)\r\n          at org.eclipse.wst.command.internal.env.ui.widgets.popup.DynamicPopupWizard.run(DynamicPopupWizard.java:128)\r\n          at org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:239)\r\n          at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:580)\r\n          at org.eclipse.jface.action.ActionContributionItem.lambda$4(ActionContributionItem.java:414)\r\n          at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\r\n          at org.eclipse.swt.widgets.Display.sendEvent(Display.java:4256)\r\n          at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1066)\r\n          at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4054)\r\n          at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3642)\r\n          at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1155)\r\n          at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n          at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)\r\n          at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\r\n          at org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:643)\r\n          at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n          at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:550)\r\n          at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:171)\r\n          at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:152)\r\n          at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\r\n          at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:136)\r\n          at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\r\n          at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:402)\r\n          at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\r\n          at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n          at java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n          at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:659)\r\n          at org.eclipse.equinox.launcher.Main.basicRun(Main.java:596)\r\n          at org.eclipse.equinox.launcher.Main.run(Main.java:1467)\r\n          at org.eclipse.equinox.launcher.Main.main(Main.java:1440)\r\n          Caused by: java.lang.ClassNotFoundException: com.ibm.icu.util.StringTokenizer cannot be found by org.eclipse.jst.ws.consumption_1.0.1600.v202302070757\r\n          ... 49 more\r\n\r\n\r\nTried \r\n - import javax.jws.WebService; however the javas.jws is not found.\r\n - Right Clicking on the class &quot;Web Service&quot;-&gt; &quot;create Web service&quot;","title":"How to solve the &quot;IWAB0014E Unexpected exception occurred&quot; Error in eclipse 2023.03","body":"<p>How to solve the &quot;IWAB0014E Unexpected exception occurred&quot; Error in eclipse 2023.03.</p>\n<p>Running:\nServer : Apache Tomcat v9.0\nJRE : JavaSE 17</p>\n<pre><code>IWAB0014E Unexpected exception occurred.\n  com/ibm/icu/util/StringTokenizer\n      java.lang.NoClassDefFoundError: com/ibm/icu/util/StringTokenizer\n      at org.eclipse.jst.ws.internal.consumption.common.FacetUtils.greaterThan(FacetUtils.java:1279)\n      at org.eclipse.jst.ws.internal.consumption.common.FacetUtils.getRuntimes(FacetUtils.java:1153)\n      at org.eclipse.jst.ws.internal.consumption.ui.wsrt.WebServiceRuntimeExtensionUtils2.getRuntimes(WebServiceRuntimeExtensionUtils2.java:2329)\n      at org.eclipse.jst.ws.internal.consumption.ui.wsrt.WebServiceRuntimeExtensionUtils2.getServerFactoryIdsByServiceRuntime(WebServiceRuntimeExtensionUtils2.java:732)\n      at org.eclipse.jst.ws.internal.consumption.ui.wsrt.WebServiceRuntimeExtensionUtils2.getServerFactoryIdsByServiceType(WebServiceRuntimeExtensionUtils2.java:671)\n      at org.eclipse.jst.ws.internal.consumption.ui.wsrt.WebServiceRuntimeExtensionUtils2.getDefaultServerValueFor(WebServiceRuntimeExtensionUtils2.java:896)\n      at org.eclipse.jst.ws.internal.creation.ui.widgets.ServerWizardWidgetDefaultingCommand.execute(ServerWizardWidgetDefaultingCommand.java:53)\n      at org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.runCommand(CommandFragmentEngine.java:421)\n      at org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.visitTop(CommandFragmentEngine.java:361)\n      at org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.moveForwardToNextStop(CommandFragmentEngine.java:256)\n      at org.eclipse.wst.command.internal.env.ui.widgets.SimpleCommandEngineManager$6.run(SimpleCommandEngineManager.java:296)\n      at org.eclipse.wst.command.internal.env.ui.widgets.SimpleCommandEngineManager.runForwardToNextStop(SimpleCommandEngineManager.java:260)\n      at org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.runForwardToNextStop(WizardPageManager.java:93)\n      at org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.getNextPage(WizardPageManager.java:156)\n      at org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.getStartingPage(WizardPageManager.java:82)\n      at org.eclipse.wst.command.internal.env.ui.widgets.DynamicWizard.getStartingPage(DynamicWizard.java:366)\n      at org.eclipse.jface.wizard.WizardDialog.showStartingPage(WizardDialog.java:1265)\n      at org.eclipse.jface.wizard.WizardDialog.createContents(WizardDialog.java:638)\n      at org.eclipse.jface.window.Window.create(Window.java:431)\n      at org.eclipse.jface.dialogs.Dialog.create(Dialog.java:1094)\n      at org.eclipse.wst.command.internal.env.ui.widgets.popup.DynamicPopupWizard.run(DynamicPopupWizard.java:128)\n      at org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:239)\n      at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:580)\n      at org.eclipse.jface.action.ActionContributionItem.lambda$4(ActionContributionItem.java:414)\n      at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\n      at org.eclipse.swt.widgets.Display.sendEvent(Display.java:4256)\n      at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1066)\n      at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4054)\n      at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3642)\n      at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1155)\n      at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n      at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)\n      at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\n      at org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:643)\n      at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n      at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:550)\n      at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:171)\n      at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:152)\n      at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\n      at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:136)\n      at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\n      at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:402)\n      at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\n      at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n      at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n      at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:659)\n      at org.eclipse.equinox.launcher.Main.basicRun(Main.java:596)\n      at org.eclipse.equinox.launcher.Main.run(Main.java:1467)\n      at org.eclipse.equinox.launcher.Main.main(Main.java:1440)\n      Caused by: java.lang.ClassNotFoundException: com.ibm.icu.util.StringTokenizer cannot be found by org.eclipse.jst.ws.consumption_1.0.1600.v202302070757\n      ... 49 more\n</code></pre>\n<p>Tried</p>\n<ul>\n<li>import javax.jws.WebService; however the javas.jws is not found.</li>\n<li>Right Clicking on the class &quot;Web Service&quot;-&gt; &quot;create Web service&quot;</li>\n</ul>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9806,"page":419,"page_size":100}
