{"items":[{"tags":["java","intellij-idea","unicode","utf-8"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1648633495,"post_id":71674852,"comment_id":126671940,"body_markdown":"*the console show strange letters* Which console? One in your OS or the one in IntelliJ?","body":"<i>the console show strange letters</i> Which console? One in your OS or the one in IntelliJ?"},{"owner":{"account_id":2303214,"reputation":1704,"user_id":2023052,"accept_rate":100,"display_name":"Kevvvvyp"},"score":0,"creation_date":1648633957,"post_id":71674852,"comment_id":126672136,"body_markdown":"Can you share the code snippet?","body":"Can you share the code snippet?"},{"owner":{"account_id":21067483,"reputation":1,"user_id":15484365,"display_name":"김다은"},"score":0,"creation_date":1648642519,"post_id":71674852,"comment_id":126675399,"body_markdown":"@g00se The consone in intelliJ.","body":"@g00se The consone in intelliJ."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1648642655,"post_id":71674852,"comment_id":126675458,"body_markdown":"Please show your code","body":"Please show your code"},{"owner":{"account_id":21067483,"reputation":1,"user_id":15484365,"display_name":"김다은"},"score":0,"creation_date":1648642729,"post_id":71674852,"comment_id":126675481,"body_markdown":"@Kevvvvyp That&#39;s no meaning. I tried various codes with Hangeul. But all of them show strange letters","body":"@Kevvvvyp That&#39;s no meaning. I tried various codes with Hangeul. But all of them show strange letters"},{"owner":{"account_id":2303214,"reputation":1704,"user_id":2023052,"accept_rate":100,"display_name":"Kevvvvyp"},"score":0,"creation_date":1648643035,"post_id":71674852,"comment_id":126675619,"body_markdown":"@김다은  The reason we are asking is so that we can attempt to replicate the problem you see. I am able to run `System.out.println(&quot;가&quot;);` and see `가` in the IDEA console. I am running Java 17 &amp; IntelliJ IDEA 2021.3.3 (Ultimate Edition).","body":"@김다은  The reason we are asking is so that we can attempt to replicate the problem you see. I am able to run <code>System.out.println(&quot;가&quot;);</code> and see <code>가</code> in the IDEA console. I am running Java 17 &amp; IntelliJ IDEA 2021.3.3 (Ultimate Edition)."},{"owner":{"account_id":21067483,"reputation":1,"user_id":15484365,"display_name":"김다은"},"score":0,"creation_date":1648646083,"post_id":71674852,"comment_id":126676954,"body_markdown":"@Kevvvyp I added the code that is one of many codes I tried","body":"@Kevvvyp I added the code that is one of many codes I tried"},{"owner":{"account_id":21067483,"reputation":1,"user_id":15484365,"display_name":"김다은"},"score":0,"creation_date":1648646126,"post_id":71674852,"comment_id":126676969,"body_markdown":"@g00se I added.","body":"@g00se I added."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1648647394,"post_id":71674852,"comment_id":126677529,"body_markdown":"Unless IntelliJ has its own fonts, it will rely on system installed ones to print to the console. If it either chooses the wrong one or you don&#39;t have one with the correct glyphs for those characters, it will have a problem. Of the two, the former is more likely. Make sure thee console font is good for those characters","body":"Unless IntelliJ has its own fonts, it will rely on system installed ones to print to the console. If it either chooses the wrong one or you don&#39;t have one with the correct glyphs for those characters, it will have a problem. Of the two, the former is more likely. Make sure thee console font is good for those characters"},{"owner":{"account_id":21067483,"reputation":1,"user_id":15484365,"display_name":"김다은"},"score":0,"creation_date":1648649636,"post_id":71674852,"comment_id":126678672,"body_markdown":"@g00se I searched the font what suit at Hangeul. A owner of a blog show font Dotum can print Hangeul. So I chaned font to that. But nothing was changed ;(","body":"@g00se I searched the font what suit at Hangeul. A owner of a blog show font Dotum can print Hangeul. So I chaned font to that. But nothing was changed ;("},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1648653228,"post_id":71674852,"comment_id":126680295,"body_markdown":"Might be worth checking your input encoding is set to UTF-8 for IntelliJ","body":"Might be worth checking your input encoding is set to UTF-8 for IntelliJ"},{"owner":{"account_id":21067483,"reputation":1,"user_id":15484365,"display_name":"김다은"},"score":0,"creation_date":1648654449,"post_id":71674852,"comment_id":126680893,"body_markdown":"@g00se UTF-8 is right. And I installed Enclipse also, but it ALSO can&#39;t show Hangeul. And I installed IntelliJ on my family&#39;s computer, it doesn&#39;t work too. But my the computer in my university is work well and I also installed IntelliJ there myself. I think it&#39;s something seriously wrong....","body":"@g00se UTF-8 is right. And I installed Enclipse also, but it ALSO can&#39;t show Hangeul. And I installed IntelliJ on my family&#39;s computer, it doesn&#39;t work too. But my the computer in my university is work well and I also installed IntelliJ there myself. I think it&#39;s something seriously wrong...."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1648655115,"post_id":71674852,"comment_id":126681178,"body_markdown":"Just please confirm that you can see the Hangeul chars that you posted in your code when it&#39;s in your editor, i.e. your source code please","body":"Just please confirm that you can see the Hangeul chars that you posted in your code when it&#39;s in your editor, i.e. your source code please"},{"owner":{"account_id":21067483,"reputation":1,"user_id":15484365,"display_name":"김다은"},"score":0,"creation_date":1648657450,"post_id":71674852,"comment_id":126682099,"body_markdown":"@g00se It means I confirm vmoptions again and again. I added vmoptions. Is there anything wrong?","body":"@g00se It means I confirm vmoptions again and again. I added vmoptions. Is there anything wrong?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1648660608,"post_id":71674852,"comment_id":126683283,"body_markdown":"I can&#39;t really comment as I don&#39;t use IntelliJ","body":"I can&#39;t really comment as I don&#39;t use IntelliJ"}],"owner":{"account_id":21067483,"reputation":1,"user_id":15484365,"display_name":"김다은"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648657362,"creation_date":1648632940,"question_id":71674852,"body_markdown":"   \r\n\r\n\r\n```JAVA\r\nclass Phone {\r\n   private String name;\r\n   private String tel;\r\n   Phone(String name, String tel) {\r\n      this.name = name;\r\n      this.tel = tel;\r\n   }\r\n   public String getName() {\r\n      return name;\r\n   }\r\n   public String getTel() {\r\n      return tel;\r\n   }\r\n}\r\npublic class PhoneBook {\r\n   public static void main(String[] args) {\r\n      Scanner sc = new Scanner(System.in);\r\n      Phone phone[];\r\n      int i;\r\n      System.out.print(&quot;인원수 &gt;&gt; &quot;);\r\n      int num = sc.nextInt();\r\n      phone = new Phone[num];\r\n      for(i=0; i&lt;phone.length; i++) {\r\n         System.out.print(&quot;이름과 전화번호(이름과 번호는 빈 칸없이 입력)&gt;&gt;&quot;);\r\n         String name = sc.next();\r\n         String tel = sc.next();\r\n         phone[i] = new Phone(name, tel);\r\n      }\r\n      System.out.println(&quot;저장되었습니다...&quot;);\r\n      while(true) {\r\n         System.out.print(&quot;검색할 이름 &gt;&gt;&quot;);\r\n         String name = sc.next();\r\n         for(i=0; i&lt;num; i++) {\r\n            if(name.equals(phone[i].getName())) {\r\n               System.out.println(name+&quot;의 번호는 &quot;+phone[i].getTel()+&quot; 입니다.&quot;);\r\n               i--;\r\n               break;\r\n            }\r\n         }\r\n         if(name.equals(&quot;그만&quot;)) break;\r\n         if (i == num) System.out.println(name+&quot;이 없습니다.&quot;);\r\n      }\r\n      \r\n      sc.close();\r\n   }\r\n}\r\n```\r\n```\r\n-Xms128m\r\n-Xmx750m\r\n-XX:ReservedCodeCacheSize=512m\r\n-XX:+IgnoreUnrecognizedVMOptions\r\n-XX:+UseG1GC\r\n-XX:SoftRefLRUPolicyMSPerMB=50\r\n-XX:CICompilerCount=2\r\n-XX:+HeapDumpOnOutOfMemoryError\r\n-XX:-OmitStackTraceInFastThrow\r\n-ea\r\n-Dsun.io.useCanonCaches=false\r\n-Djdk.http.auth.tunneling.disabledSchemes=&quot;&quot;\r\n-Djdk.attach.allowAttachSelf=true\r\n-Djdk.module.illegalAccess.silent=true\r\n-Dkotlinx.coroutines.debug=off\r\n-Dconsole.encoding=UTF-8\r\n-Dfile.encoding=UTF-8\r\n```\r\nI wrote codes that print Hangeul(Korean letter). But when I run it, the console show strange letters instead of Hangeul. For example, If I wrote System.out.println(&quot;가&quot;);, the console show �� instead of Hanguel.\r\n\r\nI did all of I can. I changed File encoding to UFT-8, and added -Dfile.encoding=UTF-8 and -Dconsole.encoding=UTF-8 on vmoptions. I also tried restarting IntelliJ IDEA, restarting computer, and reinstalling IntelliJ IDEA, and cleaning caches several times. But nothing is changed. I also tried rebuilding project, but the console showed me java: java.lang.IllegalArgumentException: release version 17 is not supported. For reference, I use openjdk-18. And the version of IntelliJ IDEA is 2021.3.3.\r\n\r\n+)I tried various codes and all of them didn&#39;t show Hangeul. Above codes are alike what I tried first. ","title":"IntelliJ IDEA console, Unicode print error","body":"<pre><code>class Phone {\n   private String name;\n   private String tel;\n   Phone(String name, String tel) {\n      this.name = name;\n      this.tel = tel;\n   }\n   public String getName() {\n      return name;\n   }\n   public String getTel() {\n      return tel;\n   }\n}\npublic class PhoneBook {\n   public static void main(String[] args) {\n      Scanner sc = new Scanner(System.in);\n      Phone phone[];\n      int i;\n      System.out.print(&quot;인원수 &gt;&gt; &quot;);\n      int num = sc.nextInt();\n      phone = new Phone[num];\n      for(i=0; i&lt;phone.length; i++) {\n         System.out.print(&quot;이름과 전화번호(이름과 번호는 빈 칸없이 입력)&gt;&gt;&quot;);\n         String name = sc.next();\n         String tel = sc.next();\n         phone[i] = new Phone(name, tel);\n      }\n      System.out.println(&quot;저장되었습니다...&quot;);\n      while(true) {\n         System.out.print(&quot;검색할 이름 &gt;&gt;&quot;);\n         String name = sc.next();\n         for(i=0; i&lt;num; i++) {\n            if(name.equals(phone[i].getName())) {\n               System.out.println(name+&quot;의 번호는 &quot;+phone[i].getTel()+&quot; 입니다.&quot;);\n               i--;\n               break;\n            }\n         }\n         if(name.equals(&quot;그만&quot;)) break;\n         if (i == num) System.out.println(name+&quot;이 없습니다.&quot;);\n      }\n      \n      sc.close();\n   }\n}\n</code></pre>\n<pre><code>-Xms128m\n-Xmx750m\n-XX:ReservedCodeCacheSize=512m\n-XX:+IgnoreUnrecognizedVMOptions\n-XX:+UseG1GC\n-XX:SoftRefLRUPolicyMSPerMB=50\n-XX:CICompilerCount=2\n-XX:+HeapDumpOnOutOfMemoryError\n-XX:-OmitStackTraceInFastThrow\n-ea\n-Dsun.io.useCanonCaches=false\n-Djdk.http.auth.tunneling.disabledSchemes=&quot;&quot;\n-Djdk.attach.allowAttachSelf=true\n-Djdk.module.illegalAccess.silent=true\n-Dkotlinx.coroutines.debug=off\n-Dconsole.encoding=UTF-8\n-Dfile.encoding=UTF-8\n</code></pre>\n<p>I wrote codes that print Hangeul(Korean letter). But when I run it, the console show strange letters instead of Hangeul. For example, If I wrote System.out.println(&quot;가&quot;);, the console show �� instead of Hanguel.</p>\n<p>I did all of I can. I changed File encoding to UFT-8, and added -Dfile.encoding=UTF-8 and -Dconsole.encoding=UTF-8 on vmoptions. I also tried restarting IntelliJ IDEA, restarting computer, and reinstalling IntelliJ IDEA, and cleaning caches several times. But nothing is changed. I also tried rebuilding project, but the console showed me java: java.lang.IllegalArgumentException: release version 17 is not supported. For reference, I use openjdk-18. And the version of IntelliJ IDEA is 2021.3.3.</p>\n<p>+)I tried various codes and all of them didn't show Hangeul. Above codes are alike what I tried first.</p>\n"},{"tags":["java","spring-boot","dependency-injection"],"answers":[{"tags":[],"owner":{"account_id":2000334,"reputation":7336,"user_id":1791546,"accept_rate":68,"display_name":"Shridutt Kothari"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1648564294,"creation_date":1648564294,"answer_id":71663969,"question_id":71532151,"body_markdown":"2nd Approach is not correct, because bar() method is already called by Spring to create the Bar Object, and if we call the bar() method manually again in foo() method, we are creating one more object which is not necessary\r\n\r\nIn other words:\r\nIn first approach only one object of Bar will be create while in 2nd approach 2 objects of Bar will be created (one by Spring, and one by us) which is unnecessary  ","title":"How to correctly use a @Bean method?","body":"<p>2nd Approach is not correct, because bar() method is already called by Spring to create the Bar Object, and if we call the bar() method manually again in foo() method, we are creating one more object which is not necessary</p>\n<p>In other words:\nIn first approach only one object of Bar will be create while in 2nd approach 2 objects of Bar will be created (one by Spring, and one by us) which is unnecessary</p>\n"}],"owner":{"display_name":"user18308772"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2246,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1648564962,"answer_count":1,"score":2,"last_activity_date":1648657328,"creation_date":1647630976,"question_id":71532151,"body_markdown":"I&#39;m new to Spring. What’s the difference between these two ways of injecting beans in @Bean methods? Which one should I use, and why?\r\n\r\n    @Configuration\r\n    public class AppConfig {\r\n    \r\n     @Bean\r\n     public Foo foo(Bar bar) {\r\n      return new Foo(bar);\r\n     }\r\n    \r\n     @Bean\r\n     public Bar bar() {\r\n      return new Bar(&quot;bar1&quot;);\r\n     }\r\n    \r\n    }\r\n\r\nAnd\r\n\r\n    @Configuration\r\n    public class AppConfig {\r\n    \r\n     @Bean\r\n     public Foo foo() {\r\n      return new Foo(bar());\r\n     }\r\n    \r\n     @Bean\r\n     public Bar bar() {\r\n      return new Bar(&quot;bar1&quot;);\r\n     }\r\n    \r\n    }","title":"How to correctly use a @Bean method?","body":"<p>I'm new to Spring. What’s the difference between these two ways of injecting beans in @Bean methods? Which one should I use, and why?</p>\n<pre><code>@Configuration\npublic class AppConfig {\n\n @Bean\n public Foo foo(Bar bar) {\n  return new Foo(bar);\n }\n\n @Bean\n public Bar bar() {\n  return new Bar(&quot;bar1&quot;);\n }\n\n}\n</code></pre>\n<p>And</p>\n<pre><code>@Configuration\npublic class AppConfig {\n\n @Bean\n public Foo foo() {\n  return new Foo(bar());\n }\n\n @Bean\n public Bar bar() {\n  return new Bar(&quot;bar1&quot;);\n }\n\n}\n</code></pre>\n"},{"tags":["java","linux"],"comments":[{"owner":{"account_id":103784,"reputation":14970,"user_id":2045611,"accept_rate":91,"display_name":"Cam"},"score":0,"creation_date":1648656654,"post_id":71680572,"comment_id":126681812,"body_markdown":"https://en.wikipedia.org/wiki/Java_Development_Kit: &quot;The Java Development Kit (JDK) is a distribution of Java Technology by Oracle Corporation. It implements the Java Language Specification (JLS) and the Java Virtual Machine Specification (JVMS) and provides the Standard Edition (SE) of the Java Application Programming Interface (API).&quot;\n\nIt is Oracle&#39;s implementation.","body":"<a href=\"https://en.wikipedia.org/wiki/Java_Development_Kit\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Java_Development_Kit</a>: &quot;The Java Development Kit (JDK) is a distribution of Java Technology by Oracle Corporation. It implements the Java Language Specification (JLS) and the Java Virtual Machine Specification (JVMS) and provides the Standard Edition (SE) of the Java Application Programming Interface (API).&quot;  It is Oracle&#39;s implementation."}],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1648656661,"creation_date":1648656661,"answer_id":71680638,"question_id":71680572,"body_markdown":"Java Development Kit is the original artifact that Sun rolled out.\r\n\r\nIn 1999 they created three different lanes:\r\n\r\n - Java Standard Edition SE for desktop development\r\n - Java Enterprise Edition EE for distributed components.  This included Java SE, Enterprise Java Beans, etc.\r\n - Java Mobile Edition ME for mobile development\r\n\r\nAll are based on the original Java virtual machine and development tools.","title":"Is every implementation of Java SE considered a JDK?","body":"<p>Java Development Kit is the original artifact that Sun rolled out.</p>\n<p>In 1999 they created three different lanes:</p>\n<ul>\n<li>Java Standard Edition SE for desktop development</li>\n<li>Java Enterprise Edition EE for distributed components.  This included Java SE, Enterprise Java Beans, etc.</li>\n<li>Java Mobile Edition ME for mobile development</li>\n</ul>\n<p>All are based on the original Java virtual machine and development tools.</p>\n"},{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648656753,"creation_date":1648656753,"answer_id":71680660,"question_id":71680572,"body_markdown":"&quot;JDK&quot; stands for &quot;Java Development Kit&quot;, whereas &quot;J2SE/J2EE&quot; standards for Java 2 Standard/Enterprise Edition\r\n\r\nThe JDK comes with extra tools than an edition meant just for running applications. These extra tools include\r\n\r\n - javac for compiling java\r\n - javadoc\r\n - jar\r\n\r\nAnd maybe keytool","title":"Is every implementation of Java SE considered a JDK?","body":"<p>&quot;JDK&quot; stands for &quot;Java Development Kit&quot;, whereas &quot;J2SE/J2EE&quot; standards for Java 2 Standard/Enterprise Edition</p>\n<p>The JDK comes with extra tools than an edition meant just for running applications. These extra tools include</p>\n<ul>\n<li>javac for compiling java</li>\n<li>javadoc</li>\n<li>jar</li>\n</ul>\n<p>And maybe keytool</p>\n"}],"owner":{"account_id":12555219,"reputation":149,"user_id":9135201,"display_name":"Win32"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1648657046,"answer_count":2,"score":0,"last_activity_date":1648656753,"creation_date":1648656383,"question_id":71680572,"body_markdown":"Or is JDK just a term used by Oracle to refer to their implementation(s) of Java SE (Oracle JDK, OpenJDK)? What is even more confusing, in the [Java SE 18 specification][1] they talk about the &quot;Java Development Kit&quot; being the corresponding reference implementation. With that, do they mean the Oracle JDK or OpenJDK (since [Wikipedia][2] mentions OpenJDK)?\r\n\r\n\r\n  [1]: https://cr.openjdk.java.net/~iris/se/18/spec/fr/java-se-18-fr-spec/\r\n  [2]: https://en.wikipedia.org/wiki/Java_Platform,_Standard_Edition","title":"Is every implementation of Java SE considered a JDK?","body":"<p>Or is JDK just a term used by Oracle to refer to their implementation(s) of Java SE (Oracle JDK, OpenJDK)? What is even more confusing, in the <a href=\"https://cr.openjdk.java.net/%7Eiris/se/18/spec/fr/java-se-18-fr-spec/\" rel=\"nofollow noreferrer\">Java SE 18 specification</a> they talk about the &quot;Java Development Kit&quot; being the corresponding reference implementation. With that, do they mean the Oracle JDK or OpenJDK (since <a href=\"https://en.wikipedia.org/wiki/Java_Platform,_Standard_Edition\" rel=\"nofollow noreferrer\">Wikipedia</a> mentions OpenJDK)?</p>\n"},{"tags":["java","intellij-idea","crystal-reports","report","rdlc"],"comments":[{"owner":{"account_id":1418416,"reputation":2838,"user_id":1343553,"accept_rate":80,"display_name":"mvreijn"},"score":0,"creation_date":1648635025,"post_id":71673667,"comment_id":126672582,"body_markdown":"Can you be more specific? Are you looking for a library to use within the IDE or within the application you are building? What output do you expect? A code example of how your report definitions are received is also helpful.","body":"Can you be more specific? Are you looking for a library to use within the IDE or within the application you are building? What output do you expect? A code example of how your report definitions are received is also helpful."}],"answers":[{"tags":[],"owner":{"account_id":1923814,"reputation":3611,"user_id":1734722,"display_name":"MilletSoftware"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648656601,"creation_date":1648656601,"answer_id":71680622,"question_id":71673667,"body_markdown":"What is the operating system?  If it is Windows, then there are simple solutions for integrating Crystal Reports into your solution.","title":"Crystal Reports /rdlc reports in Java environments","body":"<p>What is the operating system?  If it is Windows, then there are simple solutions for integrating Crystal Reports into your solution.</p>\n"}],"owner":{"account_id":24742876,"reputation":1,"user_id":18629415,"display_name":"ismitb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648656601,"creation_date":1648627572,"question_id":71673667,"body_markdown":"I&#39;m looking for a way to use pre-designed rdlc reports or Crystal Reports in Java environments, such as IntelliJ or Eclipse.\r\n\r\nThanks for your time everyone!\r\n\r\nSo far I&#39;ve found out about JasperReports and similar technologies, but I&#39;m descarting that kind of solutions for the moment since I need to use rdlc or Crystal Reports.","title":"Crystal Reports /rdlc reports in Java environments","body":"<p>I'm looking for a way to use pre-designed rdlc reports or Crystal Reports in Java environments, such as IntelliJ or Eclipse.</p>\n<p>Thanks for your time everyone!</p>\n<p>So far I've found out about JasperReports and similar technologies, but I'm descarting that kind of solutions for the moment since I need to use rdlc or Crystal Reports.</p>\n"},{"tags":["java","jar","classpath","manifest.mf"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1648652120,"post_id":71679542,"comment_id":126679805,"body_markdown":"`.` is always the current folder, while `..` is the parent folder.","body":"<code>.</code> is always the current folder, while <code>..</code> is the parent folder."},{"owner":{"account_id":4168155,"reputation":2397,"user_id":3416648,"accept_rate":83,"display_name":"DDS"},"score":0,"creation_date":1648653004,"post_id":71679542,"comment_id":126680199,"body_markdown":"Sure it is, anyway my question&#39;s about what `class-path` current folder and `Rsrc-class-path` current folder?","body":"Sure it is, anyway my question&#39;s about what <code>class-path</code> current folder and <code>Rsrc-class-path</code> current folder?"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648656302,"creation_date":1648655824,"answer_id":71680442,"question_id":71679542,"body_markdown":"The `Class-Path` attribute.  This is a standard attribute defined by the [JAR file specification][1].  It contains a list of relative URLs for that will be included on the runtime classpath when you run the JAR using `java -jar ...`.\r\n\r\nThis provides a way to add external JARs (and directories) to the runtime classpath.  The entries must be relative, and are resolved relative to the directory containing the main JAR.  (For security reasons ...)\r\n\r\nThe `Rsrc-class-Path` attribute is non-standard.  This is used by Eclipse&#39;s &quot;jars-in-jar&quot; launcher.  A typical manifest looks like this:\r\n\r\n    Manifest-Version: 1.0\r\n    Rsrc-Main-Class: com.abc.Master\r\n    Main-Class: com.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader\r\n    Rsrc-Class-Path: ./ lib/xyz.jar\r\n\r\nwhere `com.abc.Master` is your apps (real) main class, and `lib/xyz.jar` is a relative URL for a JAR file that is *nested within this JAR.*.  You will also see that the JAR contains the &quot;.class&quot; file for `JarRsrcLoader`.\r\nThis is what happens with you run `java -jar this.JAR arg1 arg2`.\r\n\r\n 1. The JVM is created\r\n 2. The JVM jar loader opens the JAR, reads and parses the MANIFEST.MF above.\r\n 3. It loads the `JarRsrcLoader` class given by `Main-Class`/\r\n 4. It calls the above classes `main` method, passing it `[&quot;arg1&quot;, &quot;arg2&quot;]`\r\n 5. The `JarRsrcLoader` examines the manifest, and extracts the `Rsrc-Class-Path` and `Rsrc-Main-Class`.\r\n 6. Then `JarRsrcLoader` creates a special classloader that knows how read JARs embedded within the current JAR.  The classpath for this classloader is &quot;./&quot; follows by &quot;lib/xyz.jar&quot;, where these URLs are resolved *within* the outer JAR file.\r\n 7. Then `JarRsrcLoader` loads the class `com.abc.Master` using the special class loader.\r\n 8. Then `JarRsrcLoader` calls the `main` method for `com.abc.Master`, passing the same string array containing the arguments.\r\n 9. Finally, the application runs.\r\n\r\nIn short, `Rsrc-Class-Path` is an attribute that the `JarRsrcLoader` class understands, and uses to construct the actual application classpath.  \r\n\r\nIn this context, the `Class-Path: .` attribute serves no real purpose.  Everything needed to run `JarRsrcLoader` will be in the JAR.\r\n\r\n---------------------------\r\n\r\nAs a final note, the SpringBoot loading mechanism is similar, but it uses a different non-standard attribute for the application&#39;s main class, and puts the application&#39;s resources (e.g. JARs) into a particular directory (&quot;/boot-inf&quot;) within the main JAR.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/specs/jar/jar.html#class-path-attribute","title":"Difference between Rsrc-Class-Path and Class-Path","body":"<p>The <code>Class-Path</code> attribute.  This is a standard attribute defined by the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/specs/jar/jar.html#class-path-attribute\" rel=\"nofollow noreferrer\">JAR file specification</a>.  It contains a list of relative URLs for that will be included on the runtime classpath when you run the JAR using <code>java -jar ...</code>.</p>\n<p>This provides a way to add external JARs (and directories) to the runtime classpath.  The entries must be relative, and are resolved relative to the directory containing the main JAR.  (For security reasons ...)</p>\n<p>The <code>Rsrc-class-Path</code> attribute is non-standard.  This is used by Eclipse's &quot;jars-in-jar&quot; launcher.  A typical manifest looks like this:</p>\n<pre><code>Manifest-Version: 1.0\nRsrc-Main-Class: com.abc.Master\nMain-Class: com.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader\nRsrc-Class-Path: ./ lib/xyz.jar\n</code></pre>\n<p>where <code>com.abc.Master</code> is your apps (real) main class, and <code>lib/xyz.jar</code> is a relative URL for a JAR file that is <em>nested within this JAR.</em>.  You will also see that the JAR contains the &quot;.class&quot; file for <code>JarRsrcLoader</code>.\nThis is what happens with you run <code>java -jar this.JAR arg1 arg2</code>.</p>\n<ol>\n<li>The JVM is created</li>\n<li>The JVM jar loader opens the JAR, reads and parses the MANIFEST.MF above.</li>\n<li>It loads the <code>JarRsrcLoader</code> class given by <code>Main-Class</code>/</li>\n<li>It calls the above classes <code>main</code> method, passing it <code>[&quot;arg1&quot;, &quot;arg2&quot;]</code></li>\n<li>The <code>JarRsrcLoader</code> examines the manifest, and extracts the <code>Rsrc-Class-Path</code> and <code>Rsrc-Main-Class</code>.</li>\n<li>Then <code>JarRsrcLoader</code> creates a special classloader that knows how read JARs embedded within the current JAR.  The classpath for this classloader is &quot;./&quot; follows by &quot;lib/xyz.jar&quot;, where these URLs are resolved <em>within</em> the outer JAR file.</li>\n<li>Then <code>JarRsrcLoader</code> loads the class <code>com.abc.Master</code> using the special class loader.</li>\n<li>Then <code>JarRsrcLoader</code> calls the <code>main</code> method for <code>com.abc.Master</code>, passing the same string array containing the arguments.</li>\n<li>Finally, the application runs.</li>\n</ol>\n<p>In short, <code>Rsrc-Class-Path</code> is an attribute that the <code>JarRsrcLoader</code> class understands, and uses to construct the actual application classpath.</p>\n<p>In this context, the <code>Class-Path: .</code> attribute serves no real purpose.  Everything needed to run <code>JarRsrcLoader</code> will be in the JAR.</p>\n<hr />\n<p>As a final note, the SpringBoot loading mechanism is similar, but it uses a different non-standard attribute for the application's main class, and puts the application's resources (e.g. JARs) into a particular directory (&quot;/boot-inf&quot;) within the main JAR.</p>\n"}],"owner":{"account_id":4168155,"reputation":2397,"user_id":3416648,"accept_rate":83,"display_name":"DDS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":790,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648656302,"creation_date":1648652016,"question_id":71679542,"body_markdown":"can someone tell me please what are the difference between `Rsrc-class-Path` and `Class-Path` sections of a runnable-jar&#39;s mannifest file?\r\n\r\nNow I take them as granted as generated by Eclipse, but I&#39;d like to understand how it works.\r\n\r\nWhat I think based on how Eclipse generates code seems that the first is about jars my app needs, the second is always `.`. But I have no clues what folder `.` refers to.","title":"Difference between Rsrc-Class-Path and Class-Path","body":"<p>can someone tell me please what are the difference between <code>Rsrc-class-Path</code> and <code>Class-Path</code> sections of a runnable-jar's mannifest file?</p>\n<p>Now I take them as granted as generated by Eclipse, but I'd like to understand how it works.</p>\n<p>What I think based on how Eclipse generates code seems that the first is about jars my app needs, the second is always <code>.</code>. But I have no clues what folder <code>.</code> refers to.</p>\n"},{"tags":["java","postgresql","spring-boot","mybatis","spring-mybatis"],"answers":[{"tags":[],"owner":{"account_id":19788071,"reputation":66,"user_id":14491631,"display_name":"Germ&#225;n S&#225;nchez Pastor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648634721,"creation_date":1648628902,"answer_id":71673940,"question_id":71640192,"body_markdown":"It seems like there is special characters you have to treat in the list of strings.\r\n\r\nFor example, You have to escape the character `&lt;` , because mybatis takes it as an unopened tag, `&amp;lt` will work.\r\n\r\n\r\n\r\n\r\n","title":"Java MyBatis How to find SUM of the Cases WHEN value is IN the list passing the list as a parameter to the mapper&#39;s method","body":"<p>It seems like there is special characters you have to treat in the list of strings.</p>\n<p>For example, You have to escape the character <code>&lt;</code> , because mybatis takes it as an unopened tag, <code>&amp;lt</code> will work.</p>\n"},{"tags":[],"owner":{"account_id":15292920,"reputation":19,"user_id":11033904,"display_name":"AlexR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648656199,"creation_date":1648656199,"answer_id":71680537,"question_id":71640192,"body_markdown":"this line:\r\n\r\n    &quot;) then 1 else 0 end) &lt;= intnsy &quot;\r\n\r\nchanged &#39;&lt;&#39; to &#39;&amp;lt;&#39;\r\n\r\n    &quot;) then 1 else 0 end) &amp;lt;= intnsy &quot;\r\n\r\nnow the query works as intended","title":"Java MyBatis How to find SUM of the Cases WHEN value is IN the list passing the list as a parameter to the mapper&#39;s method","body":"<p>this line:</p>\n<pre><code>&quot;) then 1 else 0 end) &lt;= intnsy &quot;\n</code></pre>\n<p>changed '&lt;' to '&lt;'</p>\n<pre><code>&quot;) then 1 else 0 end) &amp;lt;= intnsy &quot;\n</code></pre>\n<p>now the query works as intended</p>\n"}],"owner":{"account_id":15292920,"reputation":19,"user_id":11033904,"display_name":"AlexR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1648656199,"creation_date":1648414222,"question_id":71640192,"body_markdown":"In my Mapper Class I have a method with the example query:\r\n\r\n    \r\n     &quot;&lt;script&gt;......&quot;\r\n        “GROUP BY acct, call, score HAVING sum(case when code in(\\n&quot; +\r\n        &quot;&#39;PTP&#39; \\n&quot; +\r\n        &quot;&#39;RPCNPTP&#39;, \\n&quot; +\r\n        &quot;&#39;LM3P&#39;, \\n&quot; +\r\n        &quot;&#39;OM_SF&#39;,\\n&quot; +\r\n        &quot;&#39;OM_SS&#39;,\\n&quot; +\r\n        &quot;&#39;OM_UNV&#39;,\\n&quot; +\r\n        &quot;&#39;OM_WR&#39;) then 1 else 0 end) &lt;= intnsy &quot;)        \r\n    &quot;&lt;/script&gt; &quot;\r\n    List&lt;Object&gt; getData();\r\n\r\nThis query works just fine. But the actual list of Strings contains about 70 different strings and it&#39;s not a good idea to keep them in the query.\r\nI need to pass that list as a parameter to the method and create a loop. Like this:\r\n\r\n    &quot;&lt;script&gt;......&quot;\r\n        “GROUP BY acct, call, score HAVING sum(case when code in(\\n&quot; +\r\n         &quot;&lt;foreach item=&#39;code&#39; collection=&#39;myCodes&#39; separator=&#39;,&#39; open=&#39;(&#39; close=&#39;)&#39;&gt;&quot; +\r\n            &quot; (&quot; +\r\n            &quot; #{code} &quot; +\r\n            &quot; )&quot; +\r\n            &quot; &lt;/foreach&gt; &quot; +\r\n            &quot;) then 1 else 0 end) &lt;= intnsy &quot; +\r\n            &quot;&lt;/script&gt; &quot;)\r\n           List&lt;Object&gt; getData(@Param(&quot;myCodes&quot;) List&lt;String&gt; myCodes);\r\n\r\nBut i&#39;m not able to make it work. The error is:\r\n\r\n    org.apache.ibatis.builder.BuilderException: Could not find value method on SQL annotation.  Cause: org.apache.ibatis.builder.BuilderException: Error creating document instance.  Cause: org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 933; The content of elements must consist of well-formed character data or markup.\r\n\r\n   Obviously I&#39;m missing something simple here, but unfortunately have nobody else in my team to ask  Please point me to the right direction.\r\nThank you.","title":"Java MyBatis How to find SUM of the Cases WHEN value is IN the list passing the list as a parameter to the mapper&#39;s method","body":"<p>In my Mapper Class I have a method with the example query:</p>\n<pre><code> &quot;&lt;script&gt;......&quot;\n    “GROUP BY acct, call, score HAVING sum(case when code in(\\n&quot; +\n    &quot;'PTP' \\n&quot; +\n    &quot;'RPCNPTP', \\n&quot; +\n    &quot;'LM3P', \\n&quot; +\n    &quot;'OM_SF',\\n&quot; +\n    &quot;'OM_SS',\\n&quot; +\n    &quot;'OM_UNV',\\n&quot; +\n    &quot;'OM_WR') then 1 else 0 end) &lt;= intnsy &quot;)        \n&quot;&lt;/script&gt; &quot;\nList&lt;Object&gt; getData();\n</code></pre>\n<p>This query works just fine. But the actual list of Strings contains about 70 different strings and it's not a good idea to keep them in the query.\nI need to pass that list as a parameter to the method and create a loop. Like this:</p>\n<pre><code>&quot;&lt;script&gt;......&quot;\n    “GROUP BY acct, call, score HAVING sum(case when code in(\\n&quot; +\n     &quot;&lt;foreach item='code' collection='myCodes' separator=',' open='(' close=')'&gt;&quot; +\n        &quot; (&quot; +\n        &quot; #{code} &quot; +\n        &quot; )&quot; +\n        &quot; &lt;/foreach&gt; &quot; +\n        &quot;) then 1 else 0 end) &lt;= intnsy &quot; +\n        &quot;&lt;/script&gt; &quot;)\n       List&lt;Object&gt; getData(@Param(&quot;myCodes&quot;) List&lt;String&gt; myCodes);\n</code></pre>\n<p>But i'm not able to make it work. The error is:</p>\n<pre><code>org.apache.ibatis.builder.BuilderException: Could not find value method on SQL annotation.  Cause: org.apache.ibatis.builder.BuilderException: Error creating document instance.  Cause: org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 933; The content of elements must consist of well-formed character data or markup.\n</code></pre>\n<p>Obviously I'm missing something simple here, but unfortunately have nobody else in my team to ask  Please point me to the right direction.\nThank you.</p>\n"},{"tags":["java","vba","outlook","office-automation","jacob"],"answers":[{"tags":[],"owner":{"account_id":21880159,"reputation":21,"user_id":16168586,"display_name":"PawDob"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648641791,"creation_date":1648641791,"answer_id":71676872,"question_id":71674117,"body_markdown":"I have found example\r\n[Jacob Outlook Sample][1]&lt;br&gt;\r\nand modified:\r\n```JAVA\r\n/**\r\n * JACOB Outlook sample contributed by\r\n * Christopher Brind &lt;christopher.brind@morse.com&gt;\r\n * Modified by PawDob https://stackoverflow.com/users/16168586/pawdob\r\n */\r\n\r\nimport com.jacob.activeX.ActiveXComponent;\r\nimport com.jacob.com.Dispatch;\r\n\r\n/**\r\n * sample class to show simple outlook manipulation\r\n */\r\npublic class JacobOutlookEmail {\r\n\r\n    private ActiveXComponent ol;\r\n    private Dispatch oOutlook;\r\n    private Object email[] = new Object[1];\r\n\r\n\r\n    /**\r\n     * standard run loop\r\n     *\r\n     * @param asArgs command line arguments\r\n     * @throws Exception\r\n     */\r\n    public static void main(String asArgs[]) throws Exception {\r\n        System.out.println(&quot;Outlook: IN&quot;);\r\n\r\n        JacobOutlookEmail jacobOutlook = new JacobOutlookEmail();\r\n\r\n        ActiveXComponent axOutlook = new ActiveXComponent(&quot;Outlook.Application&quot;);\r\n        try {\r\n            System.out.println(&quot;version=&quot; + axOutlook.getProperty(&quot;Version&quot;));\r\n\r\n            jacobOutlook.oOutlook = axOutlook.getObject();\r\n            System.out.println(&quot;version=&quot; + Dispatch.get(jacobOutlook.oOutlook, &quot;Version&quot;));\r\n\r\n            Dispatch oNameSpace = axOutlook.getProperty(&quot;Session&quot;).toDispatch();\r\n            System.out.println(&quot;oNameSpace=&quot; + oNameSpace);\r\n\r\n            String emailBody = &quot;&lt;HTML&gt;&lt;BODY&gt;&lt;p&gt;&lt;b&gt;Bold text&lt;/b&gt;&lt;/p&gt;&quot; +\r\n                    &quot;&lt;p&gt;&lt;i&gt;Italic text&lt;/i&gt;&lt;/p&gt;&quot; +\r\n                    &quot;&lt;p&gt;Normal text&lt;/p&gt;&quot; +\r\n                    &quot;&lt;/BODY&gt;&lt;/HTML&gt;&quot;;\r\n            String emailSubject = &quot;Email demo using Jacob&quot;;\r\n\r\n            String recipientTo = &quot;Alias@domain.com&quot;;\r\n            String recipientCC = &quot;Alias2@domain.com&quot;;\r\n            String recipientBCC = &quot;Alias3@domain.com&quot;;\r\n\r\n            String[] attachments = new String[]{&quot;D:\\\\temp.txt&quot;};\r\n\r\n            jacobOutlook.createEmail(emailSubject, recipientTo, recipientCC, recipientBCC, emailBody, attachments);\r\n\r\n        } finally {\r\n//            Uncomment if you want close outlook after job is done\r\n//            axOutlook.invoke(&quot;Quit&quot;, new Variant[]{});\r\n        }\r\n    }\r\n\r\n\r\n    public void createEmail(String subject, String recipientTo, String recipientCC, String recipientBCC, String body, String[] attachments) {\r\n        Dispatch mail = Dispatch.call(oOutlook, &quot;CreateItem&quot;, email).toDispatch();\r\n        Dispatch.put(mail, &quot;Subject&quot;, subject);\r\n        Dispatch.put(mail, &quot;To&quot;, recipientTo);\r\n        Dispatch.put(mail, &quot;CC&quot;, recipientCC);\r\n        Dispatch.put(mail, &quot;BCC&quot;, recipientBCC);\r\n\r\n//        Use if sample text is used\r\n//        Dispatch.put(mail, &quot;Body&quot;, body);\r\n\r\n\r\n        Dispatch.put(mail, &quot;HTMLBody&quot;, body);\r\n\r\n\r\n\r\n        if (attachments.length &gt; 0) {\r\n            Dispatch attachs = Dispatch.get(mail, &quot;Attachments&quot;).toDispatch();\r\n\r\n            for (Object attachment : attachments) {\r\n                Dispatch.call(attachs, &quot;Add&quot;, attachment);\r\n            }\r\n        }\r\n//        Save on D drive\r\n        Dispatch.call(mail, &quot;SaveAs&quot;,&quot;D:\\\\JacobEmail.msg&quot;);\r\n//        Display in outlook\r\n        Dispatch.call(mail, &quot;Display&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\n**And finally it is working** &lt;br&gt;\r\nSometimes you have ask to find solution yourself :-)\r\n\r\n  [1]: https://github.com/joval/jacob/blob/master/samples/com/jacob/samples/outlook/Outlook.java","title":"Create and Save Outlook e-mail in Java Jacob library","body":"<p>I have found example\n<a href=\"https://github.com/joval/jacob/blob/master/samples/com/jacob/samples/outlook/Outlook.java\" rel=\"nofollow noreferrer\">Jacob Outlook Sample</a><br>\nand modified:</p>\n<pre><code>/**\n * JACOB Outlook sample contributed by\n * Christopher Brind &lt;christopher.brind@morse.com&gt;\n * Modified by PawDob https://stackoverflow.com/users/16168586/pawdob\n */\n\nimport com.jacob.activeX.ActiveXComponent;\nimport com.jacob.com.Dispatch;\n\n/**\n * sample class to show simple outlook manipulation\n */\npublic class JacobOutlookEmail {\n\n    private ActiveXComponent ol;\n    private Dispatch oOutlook;\n    private Object email[] = new Object[1];\n\n\n    /**\n     * standard run loop\n     *\n     * @param asArgs command line arguments\n     * @throws Exception\n     */\n    public static void main(String asArgs[]) throws Exception {\n        System.out.println(&quot;Outlook: IN&quot;);\n\n        JacobOutlookEmail jacobOutlook = new JacobOutlookEmail();\n\n        ActiveXComponent axOutlook = new ActiveXComponent(&quot;Outlook.Application&quot;);\n        try {\n            System.out.println(&quot;version=&quot; + axOutlook.getProperty(&quot;Version&quot;));\n\n            jacobOutlook.oOutlook = axOutlook.getObject();\n            System.out.println(&quot;version=&quot; + Dispatch.get(jacobOutlook.oOutlook, &quot;Version&quot;));\n\n            Dispatch oNameSpace = axOutlook.getProperty(&quot;Session&quot;).toDispatch();\n            System.out.println(&quot;oNameSpace=&quot; + oNameSpace);\n\n            String emailBody = &quot;&lt;HTML&gt;&lt;BODY&gt;&lt;p&gt;&lt;b&gt;Bold text&lt;/b&gt;&lt;/p&gt;&quot; +\n                    &quot;&lt;p&gt;&lt;i&gt;Italic text&lt;/i&gt;&lt;/p&gt;&quot; +\n                    &quot;&lt;p&gt;Normal text&lt;/p&gt;&quot; +\n                    &quot;&lt;/BODY&gt;&lt;/HTML&gt;&quot;;\n            String emailSubject = &quot;Email demo using Jacob&quot;;\n\n            String recipientTo = &quot;Alias@domain.com&quot;;\n            String recipientCC = &quot;Alias2@domain.com&quot;;\n            String recipientBCC = &quot;Alias3@domain.com&quot;;\n\n            String[] attachments = new String[]{&quot;D:\\\\temp.txt&quot;};\n\n            jacobOutlook.createEmail(emailSubject, recipientTo, recipientCC, recipientBCC, emailBody, attachments);\n\n        } finally {\n//            Uncomment if you want close outlook after job is done\n//            axOutlook.invoke(&quot;Quit&quot;, new Variant[]{});\n        }\n    }\n\n\n    public void createEmail(String subject, String recipientTo, String recipientCC, String recipientBCC, String body, String[] attachments) {\n        Dispatch mail = Dispatch.call(oOutlook, &quot;CreateItem&quot;, email).toDispatch();\n        Dispatch.put(mail, &quot;Subject&quot;, subject);\n        Dispatch.put(mail, &quot;To&quot;, recipientTo);\n        Dispatch.put(mail, &quot;CC&quot;, recipientCC);\n        Dispatch.put(mail, &quot;BCC&quot;, recipientBCC);\n\n//        Use if sample text is used\n//        Dispatch.put(mail, &quot;Body&quot;, body);\n\n\n        Dispatch.put(mail, &quot;HTMLBody&quot;, body);\n\n\n\n        if (attachments.length &gt; 0) {\n            Dispatch attachs = Dispatch.get(mail, &quot;Attachments&quot;).toDispatch();\n\n            for (Object attachment : attachments) {\n                Dispatch.call(attachs, &quot;Add&quot;, attachment);\n            }\n        }\n//        Save on D drive\n        Dispatch.call(mail, &quot;SaveAs&quot;,&quot;D:\\\\JacobEmail.msg&quot;);\n//        Display in outlook\n        Dispatch.call(mail, &quot;Display&quot;);\n    }\n\n}\n</code></pre>\n<p><strong>And finally it is working</strong> <br>\nSometimes you have ask to find solution yourself :-)</p>\n"}],"owner":{"account_id":21880159,"reputation":21,"user_id":16168586,"display_name":"PawDob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71676872,"answer_count":1,"score":0,"last_activity_date":1648656136,"creation_date":1648629690,"question_id":71674117,"body_markdown":"HI I&#39;m trying to create Outlook e-mail from Java\r\nI&#39;m working with Windows 10 and Outlook 365 desktop version\r\nI&#39;m able to do it with AposeEmail\r\n&lt;https://docs.aspose.com/email/#asposeemail-for-java&gt;\r\nand with\r\njotlmsg\r\n&lt;https://github.com/ctabin/jotlmsg&gt;\r\nBut there are limitations.\r\nApose E-mial is not free. Only evaluation version is free.\r\nJotlmsg doesn&#39;t support html e-mails.\r\nThere’s also another possibility to use methods from dynamic libraries. There is library Jacob for this\r\n[Jacob Outlook example](https://github.com/joval/jacob/blob/master/samples/com/jacob/samples/outlook/Outlook.java)\r\n\r\nHowever I don&#39;t know how to find way to do it in Jacob. Examples which I found on Stackoverflow or in other places doesn&#39;t work.\r\n\r\nI have following VBA code which works.\r\n**Any idea how to do the same / similar thing in Jacob?**\r\nAlternative solution.\r\n**Do you know free JAVA library which supports .msg e-mail with HTML format?**\r\n\r\n```VBA\r\nPublic Sub CreateEmail()\r\n\r\nDim objMsg As MailItem\r\n\r\nSet objMsg = Application.CreateItem(olMailItem)\r\n\r\n With objMsg\r\n  .To = Alias@domain.com\r\n  .CC = Alias2@domain.com\r\n  .BCC = Alias3@domain.com\r\n  .Subject = &quot;This is the subject&quot;\r\n  .Categories = &quot;Test&quot;\r\n  .VotingOptions = &quot;Yes;No;Maybe;&quot;\r\n  .BodyFormat = olFormatPlain &#39; send plain text message\r\n  .Importance = olImportanceHigh\r\n  .Sensitivity = olConfidential\r\n  .Attachments.Add (&quot;path-to-file.docx&quot;)\r\n\r\n&#39; Calculate a date using DateAdd or enter an explicit date\r\n .ExpiryTime = DateAdd(&quot;m&quot;, 6, Now) &#39;6 months from now\r\n  .DeferredDeliveryTime = #8/1/2012 6:00:00 PM#\r\n  \r\n  .Display\r\nEnd With\r\n\r\nSet objMsg = Nothing\r\nEnd Sub\r\n```\r\n\r\nI tried AposeE-mail and Jotlmsg but they don&#39;t satisfy fully my needs.","title":"Create and Save Outlook e-mail in Java Jacob library","body":"<p>HI I'm trying to create Outlook e-mail from Java\nI'm working with Windows 10 and Outlook 365 desktop version\nI'm able to do it with AposeEmail\n<a href=\"https://docs.aspose.com/email/#asposeemail-for-java\" rel=\"nofollow noreferrer\">https://docs.aspose.com/email/#asposeemail-for-java</a>\nand with\njotlmsg\n<a href=\"https://github.com/ctabin/jotlmsg\" rel=\"nofollow noreferrer\">https://github.com/ctabin/jotlmsg</a>\nBut there are limitations.\nApose E-mial is not free. Only evaluation version is free.\nJotlmsg doesn't support html e-mails.\nThere’s also another possibility to use methods from dynamic libraries. There is library Jacob for this\n<a href=\"https://github.com/joval/jacob/blob/master/samples/com/jacob/samples/outlook/Outlook.java\" rel=\"nofollow noreferrer\">Jacob Outlook example</a></p>\n<p>However I don't know how to find way to do it in Jacob. Examples which I found on Stackoverflow or in other places doesn't work.</p>\n<p>I have following VBA code which works.\n<strong>Any idea how to do the same / similar thing in Jacob?</strong>\nAlternative solution.\n<strong>Do you know free JAVA library which supports .msg e-mail with HTML format?</strong></p>\n<pre><code>Public Sub CreateEmail()\n\nDim objMsg As MailItem\n\nSet objMsg = Application.CreateItem(olMailItem)\n\n With objMsg\n  .To = Alias@domain.com\n  .CC = Alias2@domain.com\n  .BCC = Alias3@domain.com\n  .Subject = &quot;This is the subject&quot;\n  .Categories = &quot;Test&quot;\n  .VotingOptions = &quot;Yes;No;Maybe;&quot;\n  .BodyFormat = olFormatPlain ' send plain text message\n  .Importance = olImportanceHigh\n  .Sensitivity = olConfidential\n  .Attachments.Add (&quot;path-to-file.docx&quot;)\n\n' Calculate a date using DateAdd or enter an explicit date\n .ExpiryTime = DateAdd(&quot;m&quot;, 6, Now) '6 months from now\n  .DeferredDeliveryTime = #8/1/2012 6:00:00 PM#\n  \n  .Display\nEnd With\n\nSet objMsg = Nothing\nEnd Sub\n</code></pre>\n<p>I tried AposeE-mail and Jotlmsg but they don't satisfy fully my needs.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1437779060,"post_id":31620916,"comment_id":51191153,"body_markdown":"You&#39;re looking for &quot;relaxed property binding&quot;, and the way that it&#39;s actually implemented is... subelegant. I don&#39;t remember off the top of my head where the generator for it is, but that might be a start.","body":"You&#39;re looking for &quot;relaxed property binding&quot;, and the way that it&#39;s actually implemented is... subelegant. I don&#39;t remember off the top of my head where the generator for it is, but that might be a start."},{"owner":{"account_id":2794629,"reputation":621,"user_id":2404067,"display_name":"Anand Shah"},"score":3,"creation_date":1437845868,"post_id":31620916,"comment_id":51205879,"body_markdown":"Refer: http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-relaxed-binding this should work","body":"Refer: <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-relaxed-binding\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a> this should work"},{"owner":{"account_id":24269,"reputation":63221,"user_id":61624,"accept_rate":60,"display_name":"Daniel Kaplan"},"score":0,"creation_date":1438014447,"post_id":31620916,"comment_id":51261505,"body_markdown":"@AnandShah thanks, that&#39;s a useful reference.","body":"@AnandShah thanks, that&#39;s a useful reference."}],"answers":[{"tags":[],"owner":{"account_id":304234,"reputation":32207,"user_id":613628,"accept_rate":100,"display_name":"Stephane Nicoll"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1439992960,"creation_date":1439992960,"answer_id":32097753,"question_id":31620916,"body_markdown":"This has been fixed as of Spring Boot `1.2.5`. Previously, you&#39;d have to use `MCL_SSO_FRONTEND-URL` (notice the dash that can&#39;t be translated to an underscore).\r\n\r\nYou can play with bindings using [this sample project](https://github.com/snicoll-demos/spring-boot-configuration-binding).","title":"Spring Boot: How do you specify an environment variable that has dashes in the application.properties?","body":"<p>This has been fixed as of Spring Boot <code>1.2.5</code>. Previously, you'd have to use <code>MCL_SSO_FRONTEND-URL</code> (notice the dash that can't be translated to an underscore).</p>\n\n<p>You can play with bindings using <a href=\"https://github.com/snicoll-demos/spring-boot-configuration-binding\" rel=\"noreferrer\">this sample project</a>.</p>\n"},{"tags":[],"owner":{"account_id":2392124,"reputation":1068,"user_id":2091779,"display_name":"alban maillere"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1617299257,"creation_date":1617298958,"answer_id":66909229,"question_id":31620916,"body_markdown":"Just get rid of the dash:\r\n\r\n    mcl.sso.mocking-agent &gt; MCL_SSO_MOCKINGAGENT\r\n\r\n","title":"Spring Boot: How do you specify an environment variable that has dashes in the application.properties?","body":"<p>Just get rid of the dash:</p>\n<pre><code>mcl.sso.mocking-agent &gt; MCL_SSO_MOCKINGAGENT\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2402568,"reputation":1540,"user_id":2099917,"display_name":"MrSpock"},"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1648655655,"creation_date":1648655655,"answer_id":71680394,"question_id":31620916,"body_markdown":"From [spring-boot documentation][1]:\r\n\r\nBinding from Environment Variables\r\n----------------------------------\r\n\r\nMost operating systems impose strict rules around the names that can be used for environment variables. For example, Linux shell variables can contain only letters (`a` to `z` or `A` to `Z`), numbers (`0` to `9`) or the underscore character (`_`). By convention, Unix shell variables will also have their names in UPPERCASE.\r\n\r\nSpring Boot’s relaxed binding rules are, as much as possible, designed to be compatible with these naming restrictions.\r\n\r\nTo convert a property name in the canonical-form to an environment variable name you can follow these rules:\r\n\r\n - Replace dots (`.`) with underscores (`_`).\r\n - Remove any dashes (`-`).\r\n - Convert to uppercase.\r\n\r\nFor example, the configuration property `spring.main.log-startup-info` would be an environment variable named `SPRING_MAIN_LOGSTARTUPINFO`.\r\n\r\nEnvironment variables can also be used when binding to object lists. To bind to a `List`, the element number should be surrounded with underscores in the variable name.\r\n\r\nFor example, the configuration property `my.service[0].other` would use an environment variable named `MY_SERVICE_0_OTHER`.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.typesafe-configuration-properties.relaxed-binding.environment-variables","title":"Spring Boot: How do you specify an environment variable that has dashes in the application.properties?","body":"<p>From <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.typesafe-configuration-properties.relaxed-binding.environment-variables\" rel=\"noreferrer\">spring-boot documentation</a>:</p>\n<h2>Binding from Environment Variables</h2>\n<p>Most operating systems impose strict rules around the names that can be used for environment variables. For example, Linux shell variables can contain only letters (<code>a</code> to <code>z</code> or <code>A</code> to <code>Z</code>), numbers (<code>0</code> to <code>9</code>) or the underscore character (<code>_</code>). By convention, Unix shell variables will also have their names in UPPERCASE.</p>\n<p>Spring Boot’s relaxed binding rules are, as much as possible, designed to be compatible with these naming restrictions.</p>\n<p>To convert a property name in the canonical-form to an environment variable name you can follow these rules:</p>\n<ul>\n<li>Replace dots (<code>.</code>) with underscores (<code>_</code>).</li>\n<li>Remove any dashes (<code>-</code>).</li>\n<li>Convert to uppercase.</li>\n</ul>\n<p>For example, the configuration property <code>spring.main.log-startup-info</code> would be an environment variable named <code>SPRING_MAIN_LOGSTARTUPINFO</code>.</p>\n<p>Environment variables can also be used when binding to object lists. To bind to a <code>List</code>, the element number should be surrounded with underscores in the variable name.</p>\n<p>For example, the configuration property <code>my.service[0].other</code> would use an environment variable named <code>MY_SERVICE_0_OTHER</code>.</p>\n"}],"owner":{"account_id":24269,"reputation":63221,"user_id":61624,"accept_rate":60,"display_name":"Daniel Kaplan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31144,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":71680394,"answer_count":3,"score":39,"last_activity_date":1648655655,"creation_date":1437778072,"question_id":31620916,"body_markdown":"I have an `application.properties` file that looks like this:\r\n\r\n    mcl.sso.frontend-url=http://blah.com:9001\r\n    mcl.sso.mocking-agent=false\r\n\r\nI am trying to override these two variables from the command line.  This should be possible by setting environment variables.  Here&#39;s how I&#39;m running the command:\r\n\r\n    MCL_SSO_FRONTEND_URL=&#39;foobar&#39; MCL_SSO_MOCKING_AGENT=&#39;true&#39; ./gradlew run\r\n\r\nHowever, when I print out the values of these variables, `mcl.sso.mocking-agent` equals &quot;true&quot; (as expected), but `mcl.sso.frontend-url` still equals &quot;http://blah.com:9001&quot; (unexpected).  Why doesn&#39;t `mcl.sso.frontend-url` change the value of the property?  I can only assume this has something to do with the way Spring converts environment variables into property keys, but I can&#39;t find any specific documentation on this.","title":"Spring Boot: How do you specify an environment variable that has dashes in the application.properties?","body":"<p>I have an <code>application.properties</code> file that looks like this:</p>\n\n<pre><code>mcl.sso.frontend-url=http://blah.com:9001\nmcl.sso.mocking-agent=false\n</code></pre>\n\n<p>I am trying to override these two variables from the command line.  This should be possible by setting environment variables.  Here's how I'm running the command:</p>\n\n<pre><code>MCL_SSO_FRONTEND_URL='foobar' MCL_SSO_MOCKING_AGENT='true' ./gradlew run\n</code></pre>\n\n<p>However, when I print out the values of these variables, <code>mcl.sso.mocking-agent</code> equals \"true\" (as expected), but <code>mcl.sso.frontend-url</code> still equals \"<a href=\"http://blah.com:9001\" rel=\"noreferrer\">http://blah.com:9001</a>\" (unexpected).  Why doesn't <code>mcl.sso.frontend-url</code> change the value of the property?  I can only assume this has something to do with the way Spring converts environment variables into property keys, but I can't find any specific documentation on this.</p>\n"},{"tags":["java","junit","junit5"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1648655315,"post_id":71680301,"comment_id":126681267,"body_markdown":"Every test method should be self contained.  The first way you wrote your test is correct -- and best practice.","body":"Every test method should be self contained.  The first way you wrote your test is correct -- and best practice."}],"answers":[{"tags":[],"owner":{"account_id":6914793,"reputation":2511,"user_id":5309486,"display_name":"Ashok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648655510,"creation_date":1648655510,"answer_id":71680365,"question_id":71680301,"body_markdown":"Generally, all parameterised tests run in isolation. As a result, you cannot acces the previous values in parameterised tests. Also, the execution order of parameterised tests can be random based on number of free theads and parallel processing.\r\n\r\nOne of the solution for your use case would be to store the data in an array. Then just loop through that array and call your desired function. This way you can test your function in subsequent manner and you will have a control over the order of values.","title":"How to keep state in Junit 5 parameterized test?","body":"<p>Generally, all parameterised tests run in isolation. As a result, you cannot acces the previous values in parameterised tests. Also, the execution order of parameterised tests can be random based on number of free theads and parallel processing.</p>\n<p>One of the solution for your use case would be to store the data in an array. Then just loop through that array and call your desired function. This way you can test your function in subsequent manner and you will have a control over the order of values.</p>\n"}],"owner":{"account_id":13325563,"reputation":459,"user_id":9647022,"display_name":"antonro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":638,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648655510,"creation_date":1648655200,"question_id":71680301,"body_markdown":"Is it possible to keep the changes made to a variable across executions of a parameterized test?\r\n\r\nI have a simple calendar that stores events added to it:\r\n\r\n```\r\nclass MyCalendar {\r\n\r\n    private final List&lt;int[]&gt; events;\r\n\r\n    public MyCalendar() {\r\n        events = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    public boolean book(int start, int end) {\r\n        // some validation logic here\r\n        events.add(new int[]{start, end});\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\nin order to test that it works on subsequent calls, I need to call it several times in the tests:\r\n\r\n```\r\nimport static org.junit.jupiter.api.Assertions.*;\r\n\r\nimport org.junit.jupiter.api.Test;\r\n\r\nclass MyCalendarTest {\r\n\r\n    private MyCalendar myCalendar = new MyCalendar();\r\n\r\n    @Test\r\n    void givenExample1() {\r\n        myCalendar = new MyCalendar();\r\n        assertTrue(myCalendar.book(10, 20));\r\n        assertFalse(myCalendar.book(15, 25));\r\n        assertTrue(myCalendar.book(20, 30));\r\n    }\r\n\r\n}\r\n```\r\n\r\nthis works fine. However, I can&#39;t make it work with parameterized tests instead:\r\n\r\n```\r\nimport static org.junit.jupiter.api.Assertions.*;\r\n\r\nimport org.junit.jupiter.params.ParameterizedTest;\r\nimport org.junit.jupiter.params.provider.CsvSource;\r\n\r\nclass MyCalendarTest {\r\n\r\n    private MyCalendar myCalendar = new MyCalendar();\r\n\r\n    @ParameterizedTest\r\n    @CsvSource(value = {&quot;10,20,true&quot;, &quot;15,25,false&quot;, &quot;20,30,true&quot;})\r\n    void givenExample2(int start, int end, boolean expected) {\r\n        assertEquals(expected, myCalendar.book(start, end));\r\n    }\r\n\r\n}\r\n```\r\n\r\nthe problem is that `myCalendar` is re-initialized after each test execution, so the previously added events are lost. Of course, moving the initialization inside the test method doesn&#39;t help either.\r\n\r\nIs this possible at all?","title":"How to keep state in Junit 5 parameterized test?","body":"<p>Is it possible to keep the changes made to a variable across executions of a parameterized test?</p>\n<p>I have a simple calendar that stores events added to it:</p>\n<pre><code>class MyCalendar {\n\n    private final List&lt;int[]&gt; events;\n\n    public MyCalendar() {\n        events = new ArrayList&lt;&gt;();\n    }\n\n    public boolean book(int start, int end) {\n        // some validation logic here\n        events.add(new int[]{start, end});\n        return true;\n    }\n}\n</code></pre>\n<p>in order to test that it works on subsequent calls, I need to call it several times in the tests:</p>\n<pre><code>import static org.junit.jupiter.api.Assertions.*;\n\nimport org.junit.jupiter.api.Test;\n\nclass MyCalendarTest {\n\n    private MyCalendar myCalendar = new MyCalendar();\n\n    @Test\n    void givenExample1() {\n        myCalendar = new MyCalendar();\n        assertTrue(myCalendar.book(10, 20));\n        assertFalse(myCalendar.book(15, 25));\n        assertTrue(myCalendar.book(20, 30));\n    }\n\n}\n</code></pre>\n<p>this works fine. However, I can't make it work with parameterized tests instead:</p>\n<pre><code>import static org.junit.jupiter.api.Assertions.*;\n\nimport org.junit.jupiter.params.ParameterizedTest;\nimport org.junit.jupiter.params.provider.CsvSource;\n\nclass MyCalendarTest {\n\n    private MyCalendar myCalendar = new MyCalendar();\n\n    @ParameterizedTest\n    @CsvSource(value = {&quot;10,20,true&quot;, &quot;15,25,false&quot;, &quot;20,30,true&quot;})\n    void givenExample2(int start, int end, boolean expected) {\n        assertEquals(expected, myCalendar.book(start, end));\n    }\n\n}\n</code></pre>\n<p>the problem is that <code>myCalendar</code> is re-initialized after each test execution, so the previously added events are lost. Of course, moving the initialization inside the test method doesn't help either.</p>\n<p>Is this possible at all?</p>\n"},{"tags":["java","amazon-web-services","exception","java-8","aws-lambda"],"answers":[{"tags":[],"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1555056563,"creation_date":1554998580,"answer_id":55636792,"question_id":55636686,"body_markdown":"The 200 has nothing to do with the actual lambda result or the actual invocation of the lambda itself. If you would get basically anything other than a 200 that would mean the lambda invocation could not be accepted, which means that your lambda would not get invoked at all.\r\n\r\nFrom [AWS](https://docs.aws.amazon.com/lambda/latest/dg/API_Invoke.html):\r\n\r\n&gt;The status code in the API response doesn&#39;t reflect function errors. Error codes are reserved for errors that prevent your function from executing, such as permissions errors, limit errors, or issues with your function&#39;s code and configuration. For example, Lambda returns TooManyRequestsException if executing the function would cause you to exceed a concurrency limit at either the account level (ConcurrentInvocationLimitExceeded) or function level (ReservedFunctionConcurrentInvocationLimitExceeded).","title":"Lambda returning 200 even though exception was thrown","body":"<p>The 200 has nothing to do with the actual lambda result or the actual invocation of the lambda itself. If you would get basically anything other than a 200 that would mean the lambda invocation could not be accepted, which means that your lambda would not get invoked at all.</p>\n\n<p>From <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/API_Invoke.html\" rel=\"nofollow noreferrer\">AWS</a>:</p>\n\n<blockquote>\n  <p>The status code in the API response doesn't reflect function errors. Error codes are reserved for errors that prevent your function from executing, such as permissions errors, limit errors, or issues with your function's code and configuration. For example, Lambda returns TooManyRequestsException if executing the function would cause you to exceed a concurrency limit at either the account level (ConcurrentInvocationLimitExceeded) or function level (ReservedFunctionConcurrentInvocationLimitExceeded).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4712414,"reputation":368,"user_id":3812647,"display_name":"chmod_007"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648655415,"creation_date":1648655415,"answer_id":71680351,"question_id":55636686,"body_markdown":"I know this question is a couple of years old, but I landed here with the same problem and found a solution! According to the documentation on [Lambda function errors in Java][1]:\r\n\r\n&gt; A 2xx series error with a X-Amz-Function-Error header in the response indicates a Lambda runtime or function error. A 2xx series status code indicates that Lambda accepted the request, but instead of an error code, Lambda indicates the error by including the X-Amz-Function-Error header in the response.\r\n\r\nSo in addition to checking the `HTTPStatusCode`, you also need to check whether a `x-amz-function-error` header is present in the returned `HTTPHeaders`. This is working for my Python application and I would assume the response format is the same in Java.\r\n\r\n  [1]: https://docs.aws.amazon.com/lambda/latest/dg/java-exceptions.html","title":"Lambda returning 200 even though exception was thrown","body":"<p>I know this question is a couple of years old, but I landed here with the same problem and found a solution! According to the documentation on <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/java-exceptions.html\" rel=\"nofollow noreferrer\">Lambda function errors in Java</a>:</p>\n<blockquote>\n<p>A 2xx series error with a X-Amz-Function-Error header in the response indicates a Lambda runtime or function error. A 2xx series status code indicates that Lambda accepted the request, but instead of an error code, Lambda indicates the error by including the X-Amz-Function-Error header in the response.</p>\n</blockquote>\n<p>So in addition to checking the <code>HTTPStatusCode</code>, you also need to check whether a <code>x-amz-function-error</code> header is present in the returned <code>HTTPHeaders</code>. This is working for my Python application and I would assume the response format is the same in Java.</p>\n"}],"owner":{"account_id":2134019,"reputation":808,"user_id":1894211,"display_name":"burm87"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2707,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1648655415,"creation_date":1554998235,"question_id":55636686,"body_markdown":"I have the following code deployed in an AWS Lambda:\r\n```\r\npublic class MyTrigger implements RequestHandler&lt;Request, Void&gt; {\r\n\r\n    private final Service service = new Service();\r\n\r\n    @Override\r\n    public Void handleRequest(Request request, Context context) {\r\n        service.process(request);\r\n        return null;\r\n    }\r\n}\r\n```\r\nand the `.process()` method is throwing an `IllegalStateException`.\r\n\r\nThis lambda is triggered &quot;manually&quot; with the following code:\r\n```\r\npublic class LambdaUtils {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(LambdaUtils.class);\r\n\r\n    public static Integer invoke(String functionName, String payload) {\r\n        log.info(&quot;Invoking lambda {} with payload {}&quot;, functionName, payload);\r\n        final AWSLambdaAsync lambdaClient = AWSLambdaAsyncClientBuilder.standard().withRegion(Regions.EU_WEST_1).build();\r\n        final InvokeRequest request = new InvokeRequest();\r\n        request.withFunctionName(functionName).withPayload(payload);\r\n        final InvokeResult invokeResult = lambdaClient.invoke(request);\r\n        final Integer statusCode = invokeResult.getStatusCode();\r\n        log.info(&quot;Invoked lambda. Got status code {} and payload {}&quot;, statusCode, StandardCharsets.UTF_8.decode(invokeResult.getPayload()).toString());\r\n        return statusCode;\r\n    }\r\n}\r\n```\r\n\r\nThe problem is that, even though an exception is thrown inside the lambda the status code is 200 anyway:\r\n`Invoked lambda. Got status code 200 and payload [... stacktrace ...]`.\r\n\r\nI am using the following dependency to create the client and perform the invocation:\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;aws-java-sdk-lambda&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.11.297&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Lambda returning 200 even though exception was thrown","body":"<p>I have the following code deployed in an AWS Lambda:</p>\n\n<pre><code>public class MyTrigger implements RequestHandler&lt;Request, Void&gt; {\n\n    private final Service service = new Service();\n\n    @Override\n    public Void handleRequest(Request request, Context context) {\n        service.process(request);\n        return null;\n    }\n}\n</code></pre>\n\n<p>and the <code>.process()</code> method is throwing an <code>IllegalStateException</code>.</p>\n\n<p>This lambda is triggered \"manually\" with the following code:</p>\n\n<pre><code>public class LambdaUtils {\n\n    private static final Logger log = LoggerFactory.getLogger(LambdaUtils.class);\n\n    public static Integer invoke(String functionName, String payload) {\n        log.info(\"Invoking lambda {} with payload {}\", functionName, payload);\n        final AWSLambdaAsync lambdaClient = AWSLambdaAsyncClientBuilder.standard().withRegion(Regions.EU_WEST_1).build();\n        final InvokeRequest request = new InvokeRequest();\n        request.withFunctionName(functionName).withPayload(payload);\n        final InvokeResult invokeResult = lambdaClient.invoke(request);\n        final Integer statusCode = invokeResult.getStatusCode();\n        log.info(\"Invoked lambda. Got status code {} and payload {}\", statusCode, StandardCharsets.UTF_8.decode(invokeResult.getPayload()).toString());\n        return statusCode;\n    }\n}\n</code></pre>\n\n<p>The problem is that, even though an exception is thrown inside the lambda the status code is 200 anyway:\n<code>Invoked lambda. Got status code 200 and payload [... stacktrace ...]</code>.</p>\n\n<p>I am using the following dependency to create the client and perform the invocation:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n    &lt;artifactId&gt;aws-java-sdk-lambda&lt;/artifactId&gt;\n    &lt;version&gt;1.11.297&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","supplier"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1648655266,"post_id":71680261,"comment_id":126681247,"body_markdown":"You mean you want a different value each time you call `get`? You might not be able to use a lambda then.","body":"You mean you want a different value each time you call <code>get</code>? You might not be able to use a lambda then."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1648656301,"post_id":71680261,"comment_id":126681664,"body_markdown":"Remember that `Supplier` is an `interface`. That means that any class can implement it. For instance, Louis Wasserman used an anonymous class in their example.","body":"Remember that <code>Supplier</code> is an <code>interface</code>. That means that any class can implement it. For instance, Louis Wasserman used an anonymous class in their example."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648655408,"creation_date":1648655408,"answer_id":71680347,"question_id":71680261,"body_markdown":"Sure.  You don&#39;t have to use a lambda.\r\n\r\n```\r\nnew Supplier&lt;Long&gt;() {\r\n  long x = 0;\r\n  @Override public Long get() {\r\n    return x++;\r\n  }\r\n}\r\n```","title":"Can the return value for Supplier be incremental","body":"<p>Sure.  You don't have to use a lambda.</p>\n<pre><code>new Supplier&lt;Long&gt;() {\n  long x = 0;\n  @Override public Long get() {\n    return x++;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":24515002,"reputation":179,"user_id":18428894,"display_name":"bbKing"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71680347,"answer_count":1,"score":0,"last_activity_date":1648655408,"creation_date":1648655018,"question_id":71680261,"body_markdown":"I am currently dealing with the topics **Consumer** and **Supplier** and have the following question. Can the return value for **Supplier** be incremental? \r\n\r\nThe following contrived example: I have a simple class **Person** with **id** and **name**. If I need for example for test purposes 10 persons, I want to generate them easily with sequential ids. How can I increment the id when getting it from supplier?\r\n\r\n    class Person {\r\n        long id;\r\n        String name;\r\n    }\r\n\r\nTo do something like this is my idea:\r\n\r\n    Supplier&lt;Long&gt; ids      = ()-&gt; 1L;\r\n    Supplier&lt;String&gt; names  = ()-&gt; UUID.randomUUID().toString();\r\n\r\n    for (int i = 0; i &lt; 10; i++) {\r\n        Person p = new Person(ids.get(), names.get());\r\n        System.out.println(p);\r\n    }\r\n\r\nOr is the construct **Supplier** not intended for such a use case?","title":"Can the return value for Supplier be incremental","body":"<p>I am currently dealing with the topics <strong>Consumer</strong> and <strong>Supplier</strong> and have the following question. Can the return value for <strong>Supplier</strong> be incremental?</p>\n<p>The following contrived example: I have a simple class <strong>Person</strong> with <strong>id</strong> and <strong>name</strong>. If I need for example for test purposes 10 persons, I want to generate them easily with sequential ids. How can I increment the id when getting it from supplier?</p>\n<pre><code>class Person {\n    long id;\n    String name;\n}\n</code></pre>\n<p>To do something like this is my idea:</p>\n<pre><code>Supplier&lt;Long&gt; ids      = ()-&gt; 1L;\nSupplier&lt;String&gt; names  = ()-&gt; UUID.randomUUID().toString();\n\nfor (int i = 0; i &lt; 10; i++) {\n    Person p = new Person(ids.get(), names.get());\n    System.out.println(p);\n}\n</code></pre>\n<p>Or is the construct <strong>Supplier</strong> not intended for such a use case?</p>\n"},{"tags":["java","json","jackson-databind"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1648651170,"post_id":71679304,"comment_id":126679351,"body_markdown":"That is not a &quot;json array&quot;.  It&#39;s a list or array of some `Dummy` class, transformed to a String.","body":"That is not a &quot;json array&quot;.  It&#39;s a list or array of some <code>Dummy</code> class, transformed to a String."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1648651223,"post_id":71679304,"comment_id":126679378,"body_markdown":"That being said, you already are printing a list of specific Java objects","body":"That being said, you already are printing a list of specific Java objects"},{"owner":{"account_id":7369804,"reputation":1147,"user_id":5610358,"display_name":"rhowell"},"score":0,"creation_date":1648651231,"post_id":71679304,"comment_id":126679388,"body_markdown":"A JSON array should look like `[&quot;val1&quot;, &quot;val2&quot;, &quot;val3&quot;]`","body":"A JSON array should look like <code>[&quot;val1&quot;, &quot;val2&quot;, &quot;val3&quot;]</code>"},{"owner":{"account_id":7529235,"reputation":1142,"user_id":5718106,"display_name":"Sibin Muhammed"},"score":0,"creation_date":1648651471,"post_id":71679304,"comment_id":126679516,"body_markdown":"copy paste your json here - https://jsonlint.com/ and validate","body":"copy paste your json here - <a href=\"https://jsonlint.com/\" rel=\"nofollow noreferrer\">jsonlint.com</a> and validate"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1648651522,"post_id":71679304,"comment_id":126679536,"body_markdown":"@Sibin for what? It&#39;s clearly not json.","body":"@Sibin for what? It&#39;s clearly not json."},{"owner":{"account_id":7529235,"reputation":1142,"user_id":5718106,"display_name":"Sibin Muhammed"},"score":0,"creation_date":1648651786,"post_id":71679304,"comment_id":126679676,"body_markdown":"@f1sh for now he knows this is not JSON because you provided your inputs, this link is for his next JSON validation","body":"@f1sh for now he knows this is not JSON because you provided your inputs, this link is for his next JSON validation"},{"owner":{"account_id":7529235,"reputation":1142,"user_id":5718106,"display_name":"Sibin Muhammed"},"score":1,"creation_date":1648651953,"post_id":71679304,"comment_id":126679737,"body_markdown":"or better learn the basics of JSON https://www.javatpoint.com/what-is-json","body":"or better learn the basics of JSON <a href=\"https://www.javatpoint.com/what-is-json\" rel=\"nofollow noreferrer\">javatpoint.com/what-is-json</a>"}],"answers":[{"tags":[],"owner":{"account_id":924003,"reputation":549,"user_id":965852,"display_name":"jonas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648653224,"creation_date":1648653224,"answer_id":71679833,"question_id":71679304,"body_markdown":"Your input is no valid JSON data, use a JSON formatter/validator to check (for example [https://jsonformatter.curiousconcept.com][1])\r\n\r\nI assume, the &quot;correct&quot; JSON for your data would be something like the following:\r\n\r\n    [\r\n        {\r\n            &quot;Dummy&quot;: {\r\n                &quot;attr&quot;: &quot;PRIMITIVE&quot;,\r\n                &quot;value&quot;: {\r\n                    &quot;Initial&quot;: &quot;M&quot;,\r\n                    &quot;Name&quot;: &quot;Potato&quot;\r\n                }\r\n            }\r\n        },\r\n        {\r\n            &quot;Dummy&quot;: {\r\n                &quot;attr&quot;: &quot;PRIMITIVE&quot;,\r\n                &quot;value&quot;: {\r\n                    &quot;Initial&quot;: &quot;A&quot;,\r\n                    &quot;Name&quot;: &quot;Potatoo1&quot;\r\n                }\r\n            }\r\n        }\r\n    ]\r\n\r\nThis JSON can be mapped like this:\r\n\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.JsonMappingException;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\n    \r\n    public class OMTest {\r\n    \r\n        public void deserialize() throws JsonMappingException, JsonProcessingException {\r\n            String json = &quot;[{\\&quot;Dummy\\&quot;: {\\&quot;attr\\&quot;: \\&quot;PRIMITIVE\\&quot;,\\&quot;value\\&quot;: {\\&quot;Initial\\&quot;: \\&quot;M\\&quot;,\\&quot;Name\\&quot;: \\&quot;Potato\\&quot;}}},{\\&quot;Dummy\\&quot;: {\\&quot;attr\\&quot;: \\&quot;PRIMITIVE\\&quot;,\\&quot;value\\&quot;: {\\&quot;Initial\\&quot;: \\&quot;A\\&quot;,\t\\&quot;Name\\&quot;: \\&quot;Potatoo1\\&quot;}}}]&quot;;\r\n    \r\n            ObjectMapper mapper = new ObjectMapper();\r\n            YourClass[] myObjects = mapper.readValue(json, YourClass[].class);\r\n    \r\n            // do something...\r\n            System.out.println(myObjects.length);\r\n        }\r\n    \r\n        private static class YourClass {\r\n            @JsonProperty(&quot;Dummy&quot;)\r\n            public Dummy dummy;\r\n        }\r\n    \r\n        private static class Dummy {\r\n            public String attr;\r\n            public Value value;\r\n        }\r\n    \r\n        private static class Value {\r\n            @JsonProperty(&quot;Initial&quot;)\r\n            public String initial;\r\n            @JsonProperty(&quot;Name&quot;)\r\n            public String name;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://jsonformatter.curiousconcept.com","title":"How to convert JSON Array of Values to Java Object","body":"<p>Your input is no valid JSON data, use a JSON formatter/validator to check (for example <a href=\"https://jsonformatter.curiousconcept.com\" rel=\"nofollow noreferrer\">https://jsonformatter.curiousconcept.com</a>)</p>\n<p>I assume, the &quot;correct&quot; JSON for your data would be something like the following:</p>\n<pre><code>[\n    {\n        &quot;Dummy&quot;: {\n            &quot;attr&quot;: &quot;PRIMITIVE&quot;,\n            &quot;value&quot;: {\n                &quot;Initial&quot;: &quot;M&quot;,\n                &quot;Name&quot;: &quot;Potato&quot;\n            }\n        }\n    },\n    {\n        &quot;Dummy&quot;: {\n            &quot;attr&quot;: &quot;PRIMITIVE&quot;,\n            &quot;value&quot;: {\n                &quot;Initial&quot;: &quot;A&quot;,\n                &quot;Name&quot;: &quot;Potatoo1&quot;\n            }\n        }\n    }\n]\n</code></pre>\n<p>This JSON can be mapped like this:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.JsonMappingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\n\npublic class OMTest {\n\n    public void deserialize() throws JsonMappingException, JsonProcessingException {\n        String json = &quot;[{\\&quot;Dummy\\&quot;: {\\&quot;attr\\&quot;: \\&quot;PRIMITIVE\\&quot;,\\&quot;value\\&quot;: {\\&quot;Initial\\&quot;: \\&quot;M\\&quot;,\\&quot;Name\\&quot;: \\&quot;Potato\\&quot;}}},{\\&quot;Dummy\\&quot;: {\\&quot;attr\\&quot;: \\&quot;PRIMITIVE\\&quot;,\\&quot;value\\&quot;: {\\&quot;Initial\\&quot;: \\&quot;A\\&quot;,    \\&quot;Name\\&quot;: \\&quot;Potatoo1\\&quot;}}}]&quot;;\n\n        ObjectMapper mapper = new ObjectMapper();\n        YourClass[] myObjects = mapper.readValue(json, YourClass[].class);\n\n        // do something...\n        System.out.println(myObjects.length);\n    }\n\n    private static class YourClass {\n        @JsonProperty(&quot;Dummy&quot;)\n        public Dummy dummy;\n    }\n\n    private static class Dummy {\n        public String attr;\n        public Value value;\n    }\n\n    private static class Value {\n        @JsonProperty(&quot;Initial&quot;)\n        public String initial;\n        @JsonProperty(&quot;Name&quot;)\n        public String name;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12922916,"reputation":15,"user_id":9344662,"display_name":"PotatoGod"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":838,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648653879,"creation_date":1648651106,"question_id":71679304,"body_markdown":"I am trying to convert my below Json Array to a specific Java Object.\r\n```\r\n[\r\n    {\r\n        &quot;Dummy&quot;: {\r\n            &quot;attr&quot;: &quot;PRIMITIVE&quot;,\r\n            &quot;value&quot;: {\r\n                &quot;Initial&quot;: &quot;M&quot;,\r\n                &quot;Name&quot;: &quot;Potato&quot;\r\n            }\r\n        }\r\n    },\r\n    {\r\n        &quot;Dummy&quot;: {\r\n            &quot;attr&quot;: &quot;PRIMITIVE&quot;,\r\n            &quot;value&quot;: {\r\n                &quot;Initial&quot;: &quot;A&quot;,\r\n                &quot;Name&quot;: &quot;Potatoo1&quot;\r\n            }\r\n        }\r\n    }\r\n]\r\n```\r\nEdit: Updated the correct JSON structure\r\n\r\nBelow is the object Mapper I am currently using:\r\n```\r\n     ObjectMapper mapper = new ObjectMapper();\r\n        Dummy[] myObjects = mapper.readValue(resultStr, Dummy[].class);\r\n    \r\npublic class Dummy{\r\n\r\n    public String attr;\r\n    public value val;\r\n}\r\n\r\npublic class value {\r\n\r\n    public String Initial;\r\n    public String Name;\r\n}\r\n```\r\nHowever I am getting error while trying to deserialize\r\ncom.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `com.example.demo.Dummy` from Array value","title":"How to convert JSON Array of Values to Java Object","body":"<p>I am trying to convert my below Json Array to a specific Java Object.</p>\n<pre><code>[\n    {\n        &quot;Dummy&quot;: {\n            &quot;attr&quot;: &quot;PRIMITIVE&quot;,\n            &quot;value&quot;: {\n                &quot;Initial&quot;: &quot;M&quot;,\n                &quot;Name&quot;: &quot;Potato&quot;\n            }\n        }\n    },\n    {\n        &quot;Dummy&quot;: {\n            &quot;attr&quot;: &quot;PRIMITIVE&quot;,\n            &quot;value&quot;: {\n                &quot;Initial&quot;: &quot;A&quot;,\n                &quot;Name&quot;: &quot;Potatoo1&quot;\n            }\n        }\n    }\n]\n</code></pre>\n<p>Edit: Updated the correct JSON structure</p>\n<p>Below is the object Mapper I am currently using:</p>\n<pre><code>     ObjectMapper mapper = new ObjectMapper();\n        Dummy[] myObjects = mapper.readValue(resultStr, Dummy[].class);\n    \npublic class Dummy{\n\n    public String attr;\n    public value val;\n}\n\npublic class value {\n\n    public String Initial;\n    public String Name;\n}\n</code></pre>\n<p>However I am getting error while trying to deserialize\ncom.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type <code>com.example.demo.Dummy</code> from Array value</p>\n"},{"tags":["java","jms","wildfly","high-availability","activemq-artemis"],"comments":[{"owner":{"account_id":1491171,"reputation":3291,"user_id":1398228,"display_name":"ehsavoie"},"score":0,"creation_date":1648644978,"post_id":71677352,"comment_id":126676485,"body_markdown":"Did you try setting ha to true on the pooled connection factory ?","body":"Did you try setting ha to true on the pooled connection factory ?"},{"owner":{"account_id":24720616,"reputation":11,"user_id":18609767,"display_name":"MI-Merc"},"score":0,"creation_date":1648653263,"post_id":71677352,"comment_id":126680312,"body_markdown":"@ehsavoie Thank you, just tried it with ha=&quot;true&quot; - without success; same stack trace","body":"@ehsavoie Thank you, just tried it with ha=&quot;true&quot; - without success; same stack trace"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1648655325,"post_id":71677352,"comment_id":126681270,"body_markdown":"When you trigger failover are you actually killing the server process or are you shutting it down gracefully? By default a graceful shutdown will not trigger a failover.","body":"When you trigger failover are you actually killing the server process or are you shutting it down gracefully? By default a graceful shutdown will not trigger a failover."},{"owner":{"account_id":24720616,"reputation":11,"user_id":18609767,"display_name":"MI-Merc"},"score":0,"creation_date":1648723342,"post_id":71677352,"comment_id":126699547,"body_markdown":"@JustinBertram So far, I shut it down gracefully. Now, I just killed it - same result. According to the backup server log at least the message brokers seem to fail over, even when shut down gracefully:\n`12:39:22,134 INFO [...] ignoring quorum vote as max cluster size is 1.\n12:39:22,134 INFO [...] Failing over based on quorum vote results.`","body":"@JustinBertram So far, I shut it down gracefully. Now, I just killed it - same result. According to the backup server log at least the message brokers seem to fail over, even when shut down gracefully: <code>12:39:22,134 INFO [...] ignoring quorum vote as max cluster size is 1. 12:39:22,134 INFO [...] Failing over based on quorum vote results.</code>"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1648755148,"post_id":71677352,"comment_id":126711970,"body_markdown":"Ah yes. With replication the broker always fails over. My previous point only applies to the shared-store configuration.","body":"Ah yes. With replication the broker always fails over. My previous point only applies to the shared-store configuration."}],"owner":{"account_id":24720616,"reputation":11,"user_id":18609767,"display_name":"MI-Merc"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":915,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648653877,"creation_date":1648643762,"question_id":71677352,"body_markdown":"I have a Wildfly messaging live/backup pair and a single Wildfly instance as application server (all version 26.0.1). I&#39;m using Wildfly with the integrated ActiveMQ server as remote messaging brokers (not plain ActiveMQ servers directly).\r\n\r\nFor testing I use\r\n\r\n- the helloworld-mdb quickstart example (https://github.com/wildfly/quickstart/tree/main/helloworld-mdb) deployed on the Wildfly application server with MDBs receiving messages and a servlet for sending messages using an injected JmsContext and injected Queue/Topic (I renamed the queue/topic and removed the @JMSDestinationDefinitions in order to define the destinations in the messaging-activemq subysystem configuration)\r\n- and two simple JMS client programs: one for sending messages to a queue, and one for receiving messages from a queue (they just go the default route: obtain an InitialContext, look up a destination and a connection factory, and create a connection and a session)\r\n\r\nMy setup almost works. The client programs and MDBs reconnect automatically on messaging broker failover/failback. However, the servlet from the quickstart example blocks when sending messages after the live/backup pair fails over, and no messages are sent. It fails after around one minute with the following stack trace:\r\n\r\n```\r\n12:15:53,496 ERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /helloworld-mdb/HelloWorldMDBServletClient: javax.jms.JMSRuntimeException: AMQ219014: Timed out after waiting 30,000 ms for response when sending packet 71\r\n        at org.apache.activemq.artemis@2.19.0//org.apache.activemq.artemis.jms.client.JmsExceptionUtils.convertToRuntimeException(JmsExceptionUtils.java:88)\r\n        at org.apache.activemq.artemis@2.19.0//org.apache.activemq.artemis.jms.client.ActiveMQJMSProducer.send(ActiveMQJMSProducer.java:100)\r\n        at org.apache.activemq.artemis@2.19.0//org.apache.activemq.artemis.jms.client.ActiveMQJMSProducer.send(ActiveMQJMSProducer.java:124)\r\n        at deployment.helloworld-mdb.war//org.jboss.as.quickstarts.servlet.HelloWorldMDBServletClient.doGet(HelloWorldMDBServletClient.java:95)\r\n        at javax.servlet.api@2.0.0.Final//javax.servlet.http.HttpServlet.service(HttpServlet.java:503)\r\n        at javax.servlet.api@2.0.0.Final//javax.servlet.http.HttpServlet.service(HttpServlet.java:590)\r\n        at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\r\n        at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\r\n        at io.opentracing.contrib.opentracing-jaxrs2//io.opentracing.contrib.jaxrs2.server.SpanFinishingFilter.doFilter(SpanFinishingFilter.java:52)\r\n        at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n        at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n        at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\r\n        at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n        at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\r\n        at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n        at org.wildfly.security.elytron-web.undertow-server@1.10.1.Final//org.wildfly.elytron.web.undertow.server.ElytronRunAsHandler.lambda$handleRequest$1(ElytronRunAsHandler.java:68)\r\n        at org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.auth.server.FlexibleIdentityAssociation.runAsFunctionEx(FlexibleIdentityAssociation.java:103)\r\n        at org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.auth.server.Scoped.runAsFunctionEx(Scoped.java:161)\r\n        at org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.auth.server.Scoped.runAs(Scoped.java:73)\r\n        at org.wildfly.security.elytron-web.undertow-server@1.10.1.Final//org.wildfly.elytron.web.undertow.server.ElytronRunAsHandler.handleRequest(ElytronRunAsHandler.java:67)\r\n        at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\r\n        at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)\r\n        at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\r\n        at io.undertow.core@2.2.14.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n        at io.undertow.core@2.2.14.Final//io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\r\n        at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\r\n        at io.undertow.core@2.2.14.Final//io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\r\n        at org.wildfly.security.elytron-web.undertow-server-servlet@1.10.1.Final//org.wildfly.elytron.web.undertow.server.servlet.CleanUpHandler.handleRequest(CleanUpHandler.java:38)\r\n        at io.undertow.core@2.2.14.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n        at org.wildfly.extension.undertow@26.0.1.Final//org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\r\n        at io.undertow.core@2.2.14.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n        at org.wildfly.extension.undertow@26.0.1.Final//org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)\r\n        at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)\r\n        at io.undertow.core@2.2.14.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n        at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:275)\r\n        at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:79)\r\n        at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:134)\r\n        at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:131)\r\n        at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\r\n        at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n        at org.wildfly.extension.undertow@26.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n        at org.wildfly.extension.undertow@26.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n        at org.wildfly.extension.undertow@26.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n        at org.wildfly.extension.undertow@26.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n        at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:255)\r\n        at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:79)\r\n        at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:100)\r\n        at io.undertow.core@2.2.14.Final//io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\r\n        at io.undertow.core@2.2.14.Final//io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:852)\r\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n        at org.jboss.xnio@3.8.5.Final//org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: javax.jms.JMSException: AMQ219014: Timed out after waiting 30,000 ms for response when sending packet 71\r\n        at org.apache.activemq.artemis@2.19.0//org.apache.activemq.artemis.core.protocol.core.impl.ChannelImpl.sendBlocking(ChannelImpl.java:539)\r\n        at org.apache.activemq.artemis@2.19.0//org.apache.activemq.artemis.core.protocol.core.impl.ChannelImpl.sendBlocking(ChannelImpl.java:443)\r\n        at org.apache.activemq.artemis@2.19.0//org.apache.activemq.artemis.core.protocol.core.impl.ActiveMQSessionContext.sendFullMessage(ActiveMQSessionContext.java:552)\r\n        at org.apache.activemq.artemis@2.19.0//org.apache.activemq.artemis.core.client.impl.ClientProducerImpl.sendRegularMessage(ClientProducerImpl.java:296)\r\n        at org.apache.activemq.artemis@2.19.0//org.apache.activemq.artemis.core.client.impl.ClientProducerImpl.doSend(ClientProducerImpl.java:268)\r\n        at org.apache.activemq.artemis@2.19.0//org.apache.activemq.artemis.core.client.impl.ClientProducerImpl.send(ClientProducerImpl.java:143)\r\n        at org.apache.activemq.artemis@2.19.0//org.apache.activemq.artemis.core.client.impl.ClientProducerImpl.send(ClientProducerImpl.java:125)\r\n        at org.apache.activemq.artemis@2.19.0//org.apache.activemq.artemis.jms.client.ActiveMQMessageProducer.doSendx(ActiveMQMessageProducer.java:483)\r\n        at org.apache.activemq.artemis@2.19.0//org.apache.activemq.artemis.jms.client.ActiveMQMessageProducer.send(ActiveMQMessageProducer.java:220)\r\n        at org.apache.activemq.artemis@2.19.0//org.apache.activemq.artemis.jms.client.ActiveMQMessageProducer.send(ActiveMQMessageProducer.java:207)\r\n        at org.apache.activemq.artemis.ra@2.19.0//org.apache.activemq.artemis.ra.ActiveMQRAMessageProducer.send(ActiveMQRAMessageProducer.java:137)\r\n        at org.apache.activemq.artemis@2.19.0//org.apache.activemq.artemis.jms.client.ActiveMQJMSProducer.send(ActiveMQJMSProducer.java:97)\r\n        ... 53 more\r\nCaused by: ActiveMQConnectionTimedOutException[errorType=CONNECTION_TIMEDOUT message=AMQ219014: Timed out after waiting 30,000 ms for response when sending packet 71]\r\n        ... 65 more\r\n```\r\n\r\nI followed [7.8.12. Connect a pooled-connection-factory to a Remote Artemis Server](https://docs.wildfly.org/26/Admin_Guide.html#Messaging_Connect_a_pooled-connection-factory_to_a_Remote_Artemis_Server), but I&#39;m using http-connectors instead of remote-connectors because of using Wildfly as remote brokers.\r\n\r\nAll configurations are based on **standalone-full-ha.xml** with just the following modifications.\r\n\r\n**Messaging live Wildfly server &quot;messaging-node-1&quot;:**\r\n* changed cluster password\r\n* added replication-master\r\n* changed cluster connection name\r\n* added two destinations\r\n\r\n```\r\n...\r\n&lt;subsystem xmlns=&quot;urn:jboss:domain:messaging-activemq:13.0&quot;&gt;\r\n\t&lt;server name=&quot;default&quot;&gt;\r\n\t\t&lt;security elytron-domain=&quot;ApplicationDomain&quot;/&gt;\r\n\t\t&lt;cluster password=&quot;${jboss.messaging.cluster.password:**changed-password**}&quot;/&gt;\r\n\t\t&lt;statistics enabled=&quot;${wildfly.messaging-activemq.statistics-enabled:${wildfly.statistics-enabled:false}}&quot;/&gt;\r\n\t\t&lt;replication-master cluster-name=&quot;messaging-cluster&quot; group-name=&quot;activemq-group&quot;/&gt;&lt;!-- added --&gt;\r\n\t\t&lt;security-setting name=&quot;#&quot;&gt;\r\n\t\t\t&lt;role name=&quot;guest&quot; send=&quot;true&quot; consume=&quot;true&quot; create-non-durable-queue=&quot;true&quot; delete-non-durable-queue=&quot;true&quot;/&gt;\r\n\t\t&lt;/security-setting&gt;\r\n\t\t&lt;address-setting name=&quot;#&quot; dead-letter-address=&quot;jms.queue.DLQ&quot; expiry-address=&quot;jms.queue.ExpiryQueue&quot; max-size-bytes=&quot;10485760&quot; page-size-bytes=&quot;2097152&quot; message-counter-history-day-limit=&quot;10&quot; redistribution-delay=&quot;1000&quot;/&gt;\r\n\t\t&lt;http-connector name=&quot;http-connector&quot; socket-binding=&quot;http&quot; endpoint=&quot;http-acceptor&quot;/&gt;\r\n\t\t&lt;http-connector name=&quot;http-connector-throughput&quot; socket-binding=&quot;http&quot; endpoint=&quot;http-acceptor-throughput&quot;&gt;\r\n\t\t\t&lt;param name=&quot;batch-delay&quot; value=&quot;50&quot;/&gt;\r\n\t\t&lt;/http-connector&gt;\r\n\t\t&lt;in-vm-connector name=&quot;in-vm&quot; server-id=&quot;0&quot;&gt;\r\n\t\t\t&lt;param name=&quot;buffer-pooling&quot; value=&quot;false&quot;/&gt;\r\n\t\t&lt;/in-vm-connector&gt;\r\n\t\t&lt;http-acceptor name=&quot;http-acceptor&quot; http-listener=&quot;default&quot;/&gt;\r\n\t\t&lt;http-acceptor name=&quot;http-acceptor-throughput&quot; http-listener=&quot;default&quot;&gt;\r\n\t\t\t&lt;param name=&quot;batch-delay&quot; value=&quot;50&quot;/&gt;\r\n\t\t\t&lt;param name=&quot;direct-deliver&quot; value=&quot;false&quot;/&gt;\r\n\t\t&lt;/http-acceptor&gt;\r\n\t\t&lt;in-vm-acceptor name=&quot;in-vm&quot; server-id=&quot;0&quot;&gt;\r\n\t\t\t&lt;param name=&quot;buffer-pooling&quot; value=&quot;false&quot;/&gt;\r\n\t\t&lt;/in-vm-acceptor&gt;\r\n\t\t&lt;jgroups-broadcast-group name=&quot;bg-group1&quot; jgroups-cluster=&quot;activemq-cluster&quot; connectors=&quot;http-connector&quot;/&gt;\r\n\t\t&lt;jgroups-discovery-group name=&quot;dg-group1&quot; jgroups-cluster=&quot;activemq-cluster&quot;/&gt;\r\n\t\t&lt;cluster-connection name=&quot;messaging-cluster&quot; address=&quot;jms&quot; connector-name=&quot;http-connector&quot; discovery-group=&quot;dg-group1&quot;/&gt;\r\n\t\t&lt;jms-queue name=&quot;ExpiryQueue&quot; entries=&quot;java:/jms/queue/ExpiryQueue&quot;/&gt;\r\n\t\t&lt;jms-queue name=&quot;DLQ&quot; entries=&quot;java:/jms/queue/DLQ&quot;/&gt;\r\n\t\t&lt;jms-queue name=&quot;TestQueue&quot; entries=&quot;java:jboss/exported/queue/TestQueue&quot; durable=&quot;true&quot;/&gt;\r\n\t\t&lt;jms-topic name=&quot;TestTopic&quot; entries=&quot;java:jboss/exported/topic/TestTopic&quot;/&gt;\r\n\t\t&lt;connection-factory name=&quot;InVmConnectionFactory&quot; entries=&quot;java:/ConnectionFactory&quot; connectors=&quot;in-vm&quot;/&gt;\r\n\t\t&lt;connection-factory name=&quot;RemoteConnectionFactory&quot; entries=&quot;java:jboss/exported/jms/RemoteConnectionFactory&quot; connectors=&quot;http-connector&quot; ha=&quot;true&quot; block-on-acknowledge=&quot;true&quot; reconnect-attempts=&quot;-1&quot;/&gt;\r\n\t\t&lt;pooled-connection-factory name=&quot;activemq-ra&quot; entries=&quot;java:/JmsXA java:jboss/DefaultJMSConnectionFactory&quot; connectors=&quot;in-vm&quot; transaction=&quot;xa&quot;/&gt;\r\n\t&lt;/server&gt;\r\n&lt;/subsystem&gt;\r\n...\r\n```\r\n\r\n**Messaging backup Wildfly server &quot;messaging-node-2&quot;**  \r\nSame as above except replication-master replaced by replication-slave\r\n\r\n```\r\n...\r\n&lt;subsystem xmlns=&quot;urn:jboss:domain:messaging-activemq:13.0&quot;&gt;\r\n\t&lt;server name=&quot;default&quot;&gt;\r\n\t\t...\r\n\t\t&lt;replication-slave cluster-name=&quot;messaging-cluster&quot; group-name=&quot;activemq-group&quot;/&gt;\r\n\t\t...\r\n\t&lt;/server&gt;\r\n&lt;/subsystem&gt;\r\n...\r\n```\r\n\r\n**Application Wildfly server &quot;application-node-1&quot;**  \r\nReplaced integrated ActiveMQ server definition with a remote broker and added external destinations. Notice the use of the default name and JNDI entries for the connection factory (for the EE and EJB subsystems):\r\n\r\n```\r\n...\r\n&lt;subsystem xmlns=&quot;urn:jboss:domain:messaging-activemq:13.0&quot;&gt;\r\n\t&lt;http-connector name=&quot;node-1-http-connector&quot; socket-binding=&quot;messaging-node-1&quot; endpoint=&quot;http-acceptor&quot;/&gt;\r\n\t&lt;http-connector name=&quot;node-2-http-connector&quot; socket-binding=&quot;messaging-node-2&quot; endpoint=&quot;http-acceptor&quot;/&gt;\r\n\t&lt;pooled-connection-factory name=&quot;activemq-ra&quot; entries=&quot;java:/JmsXA java:jboss/DefaultJMSConnectionFactory&quot; connectors=&quot;node-1-http-connector node-2-http-connector&quot; user=&quot;JmsTest&quot; password=&quot;JmsTest&quot;/&gt;\r\n\t&lt;external-jms-queue name=&quot;TestQueue&quot; entries=&quot;java:/queue/TestQueue&quot;/&gt;\r\n\t&lt;external-jms-topic name=&quot;TestTopic&quot; entries=&quot;java:/topic/TestTopic&quot;/&gt;\r\n&lt;/subsystem&gt;\r\n...\r\n&lt;socket-binding-group name=&quot;standard-sockets&quot; default-interface=&quot;public&quot; port-offset=&quot;${jboss.socket.binding.port-offset:0}&quot;&gt;\r\n\t...\r\n\t&lt;outbound-socket-binding name=&quot;messaging-node-1&quot;&gt;\r\n\t\t&lt;remote-destination host=&quot;...&quot; port=&quot;8180&quot;/&gt;\r\n\t&lt;/outbound-socket-binding&gt;\r\n\t&lt;outbound-socket-binding name=&quot;messaging-node-2&quot;&gt;\r\n\t\t&lt;remote-destination host=&quot;...&quot; port=&quot;8180&quot;/&gt;\r\n\t&lt;/outbound-socket-binding&gt;\r\n&lt;/socket-binding-group&gt;\r\n...\r\n```\r\n\r\nThe servlet:\r\n\r\n```\r\n@WebServlet(&quot;/HelloWorldMDBServletClient&quot;)\r\npublic class HelloWorldMDBServletClient extends HttpServlet {\r\n\r\n    private static final long serialVersionUID = -8314035702649252239L;\r\n\r\n    private static final int MSG_COUNT = 5;\r\n\r\n    @Inject\r\n    private JMSContext context;\r\n\r\n    @Resource(lookup = &quot;java:/queue/TestQueue&quot;)\r\n    private Queue queue;\r\n\r\n    @Resource(lookup = &quot;java:/topic/TestTopic&quot;)\r\n    private Topic topic;\r\n\r\n    @Override\r\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n        resp.setContentType(&quot;text/html&quot;);\r\n        PrintWriter out = resp.getWriter();\r\n        out.write(&quot;&lt;h1&gt;Quickstart: Example demonstrates the use of &lt;strong&gt;JMS 2.0&lt;/strong&gt; and &lt;strong&gt;EJB 3.2 Message-Driven Bean&lt;/strong&gt; in JBoss EAP.&lt;/h1&gt;&quot;);\r\n        try {\r\n            boolean useTopic = req.getParameterMap().keySet().contains(&quot;topic&quot;);\r\n            final Destination destination = useTopic ? topic : queue;\r\n\r\n            out.write(&quot;&lt;p&gt;Sending messages to &lt;em&gt;&quot; + destination + &quot;&lt;/em&gt;&lt;/p&gt;&quot;);\r\n            out.write(&quot;&lt;h2&gt;The following messages will be sent to the destination:&lt;/h2&gt;&quot;);\r\n            for (int i = 0; i &lt; MSG_COUNT; i++) {\r\n                String text = &quot;This is message &quot; + (i + 1);\r\n                **context.createProducer().send(destination, text); // fails**\r\n                out.write(&quot;Message (&quot; + i + &quot;): &quot; + text + &quot;&lt;/br&gt;&quot;);\r\n            }\r\n            out.write(&quot;&lt;p&gt;&lt;i&gt;Go to your JBoss EAP server console or server log to see the result of messages processing.&lt;/i&gt;&lt;/p&gt;&quot;);\r\n        } finally {\r\n            if (out != null) {\r\n                out.close();\r\n            }\r\n        }\r\n    }\r\n\r\n    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n        doGet(req, resp);\r\n    }\r\n}\r\n```\r\n\r\nProcedure: start the live/backup pair and the application server, deploy helloworld-mdb.war to the application server and load the servlet page in a web browser. For failover, shut down the live messaging server. Reload the servlet page in the web browser. Result: the web browser keeps waiting for around one minute and then receives what the servlet has printed so far (&quot;...The following messages will be sent to the destination:&quot; \\&lt;EOF\\&gt;).\r\n\r\nSending and receiving messages using the JMS client programs works after failover. MDBs keep receiving messages after failover. Just application server message sending fails.\r\n\r\nI have unsuccessfully\r\n\r\n* tried changing the timeout configuration values of the cluster connection\r\n* moved message sending to a stateless session bean (in order to test transactions)\r\n* replaced the JmsContext with a connection factory to no avail; createSession() blocks, then fails with &quot;...Caused by: ActiveMQConnectionTimedOutException\\[errorType=CONNECTION_TIMEDOUT message=AMQ219014: Timed out after waiting 30,000 ms for response when sending packet 63\\]&quot;\r\n\r\n```\r\n...\r\n@Resource(mappedName = &quot;java:/JmsXA&quot;)\r\nprivate ConnectionFactory connectionFactory;\r\n\r\n@Resource(mappedName = &quot;java:/queue/TestQueue&quot;)\r\nprivate Queue queue;\r\n...\r\nConnection connection = connectionFactory.createConnection();\r\nSession session = connection.createSession();\r\n```\r\n\r\nQuestions:\r\n\r\n* Are the messaging and application server configurations correct for my setup?\r\n* What could be the reason that sending messages using the injected JmsContext and Queue fails after failover?\r\n\r\nI would appreciate any help.\r\n\r\n----------\r\nUpdate 1\r\n\r\nJust FYI: The application server notices when the live messaging server goes down:\r\n```\r\n17:11:40,908 WARN  [org.apache.activemq.artemis.core.client] (Thread-2 (ActiveMQ-client-global-threads)) AMQ212037: Connection failure to 172.*.*.*/172.*.*.*:8180 has been detected: AMQ219015: The connection was disconnected because of server shutdown [code=DISCONNECTED]\r\n```\r\n...repeated around 30 times and an Exception:\r\n```\r\n17:11:40,904 WARN  [org.jboss.activemq.artemis.wildfly.integration.recovery] (Thread-2 (ActiveMQ-client-global-threads)) being disconnected for server shutdown: ActiveMQDisconnectedException[errorType=DISCONNECTED message=AMQ219015: The connection was disconnected because of server shutdown]\r\n        at org.apache.activemq.artemis@2.19.0//org.apache.activemq.artemis.core.client.impl.ClientSessionFactoryImpl$CloseRunnable.run(ClientSessionFactoryImpl.java:1089)\r\n        at org.apache.activemq.artemis.journal//org.apache.activemq.artemis.utils.actors.OrderedExecutor.doTask(OrderedExecutor.java:42)\r\n        at org.apache.activemq.artemis.journal//org.apache.activemq.artemis.utils.actors.OrderedExecutor.doTask(OrderedExecutor.java:31)\r\n        at org.apache.activemq.artemis.journal//org.apache.activemq.artemis.utils.actors.ProcessorBase.executePendingTasks(ProcessorBase.java:65)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n        at org.apache.activemq.artemis.journal//org.apache.activemq.artemis.utils.ActiveMQThreadFactory$1.run(ActiveMQThreadFactory.java:118)\r\n```","title":"Wildfly JMS message sending fails after failover of remote brokers","body":"<p>I have a Wildfly messaging live/backup pair and a single Wildfly instance as application server (all version 26.0.1). I'm using Wildfly with the integrated ActiveMQ server as remote messaging brokers (not plain ActiveMQ servers directly).</p>\n<p>For testing I use</p>\n<ul>\n<li>the helloworld-mdb quickstart example (<a href=\"https://github.com/wildfly/quickstart/tree/main/helloworld-mdb\" rel=\"nofollow noreferrer\">https://github.com/wildfly/quickstart/tree/main/helloworld-mdb</a>) deployed on the Wildfly application server with MDBs receiving messages and a servlet for sending messages using an injected JmsContext and injected Queue/Topic (I renamed the queue/topic and removed the @JMSDestinationDefinitions in order to define the destinations in the messaging-activemq subysystem configuration)</li>\n<li>and two simple JMS client programs: one for sending messages to a queue, and one for receiving messages from a queue (they just go the default route: obtain an InitialContext, look up a destination and a connection factory, and create a connection and a session)</li>\n</ul>\n<p>My setup almost works. The client programs and MDBs reconnect automatically on messaging broker failover/failback. However, the servlet from the quickstart example blocks when sending messages after the live/backup pair fails over, and no messages are sent. It fails after around one minute with the following stack trace:</p>\n<pre><code>12:15:53,496 ERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /helloworld-mdb/HelloWorldMDBServletClient: javax.jms.JMSRuntimeException: AMQ219014: Timed out after waiting 30,000 ms for response when sending packet 71\n        at org.apache.activemq.artemis@2.19.0//org.apache.activemq.artemis.jms.client.JmsExceptionUtils.convertToRuntimeException(JmsExceptionUtils.java:88)\n        at org.apache.activemq.artemis@2.19.0//org.apache.activemq.artemis.jms.client.ActiveMQJMSProducer.send(ActiveMQJMSProducer.java:100)\n        at org.apache.activemq.artemis@2.19.0//org.apache.activemq.artemis.jms.client.ActiveMQJMSProducer.send(ActiveMQJMSProducer.java:124)\n        at deployment.helloworld-mdb.war//org.jboss.as.quickstarts.servlet.HelloWorldMDBServletClient.doGet(HelloWorldMDBServletClient.java:95)\n        at javax.servlet.api@2.0.0.Final//javax.servlet.http.HttpServlet.service(HttpServlet.java:503)\n        at javax.servlet.api@2.0.0.Final//javax.servlet.http.HttpServlet.service(HttpServlet.java:590)\n        at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\n        at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\n        at io.opentracing.contrib.opentracing-jaxrs2//io.opentracing.contrib.jaxrs2.server.SpanFinishingFilter.doFilter(SpanFinishingFilter.java:52)\n        at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n        at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n        at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\n        at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\n        at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\n        at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\n        at org.wildfly.security.elytron-web.undertow-server@1.10.1.Final//org.wildfly.elytron.web.undertow.server.ElytronRunAsHandler.lambda$handleRequest$1(ElytronRunAsHandler.java:68)\n        at org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.auth.server.FlexibleIdentityAssociation.runAsFunctionEx(FlexibleIdentityAssociation.java:103)\n        at org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.auth.server.Scoped.runAsFunctionEx(Scoped.java:161)\n        at org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.auth.server.Scoped.runAs(Scoped.java:73)\n        at org.wildfly.security.elytron-web.undertow-server@1.10.1.Final//org.wildfly.elytron.web.undertow.server.ElytronRunAsHandler.handleRequest(ElytronRunAsHandler.java:67)\n        at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\n        at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)\n        at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\n        at io.undertow.core@2.2.14.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n        at io.undertow.core@2.2.14.Final//io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\n        at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\n        at io.undertow.core@2.2.14.Final//io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\n        at org.wildfly.security.elytron-web.undertow-server-servlet@1.10.1.Final//org.wildfly.elytron.web.undertow.server.servlet.CleanUpHandler.handleRequest(CleanUpHandler.java:38)\n        at io.undertow.core@2.2.14.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n        at org.wildfly.extension.undertow@26.0.1.Final//org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\n        at io.undertow.core@2.2.14.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n        at org.wildfly.extension.undertow@26.0.1.Final//org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)\n        at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)\n        at io.undertow.core@2.2.14.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n        at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:275)\n        at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:79)\n        at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:134)\n        at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:131)\n        at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\n        at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n        at org.wildfly.extension.undertow@26.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n        at org.wildfly.extension.undertow@26.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n        at org.wildfly.extension.undertow@26.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n        at org.wildfly.extension.undertow@26.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n        at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:255)\n        at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:79)\n        at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:100)\n        at io.undertow.core@2.2.14.Final//io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\n        at io.undertow.core@2.2.14.Final//io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:852)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n        at org.jboss.xnio@3.8.5.Final//org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)\n        at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: javax.jms.JMSException: AMQ219014: Timed out after waiting 30,000 ms for response when sending packet 71\n        at org.apache.activemq.artemis@2.19.0//org.apache.activemq.artemis.core.protocol.core.impl.ChannelImpl.sendBlocking(ChannelImpl.java:539)\n        at org.apache.activemq.artemis@2.19.0//org.apache.activemq.artemis.core.protocol.core.impl.ChannelImpl.sendBlocking(ChannelImpl.java:443)\n        at org.apache.activemq.artemis@2.19.0//org.apache.activemq.artemis.core.protocol.core.impl.ActiveMQSessionContext.sendFullMessage(ActiveMQSessionContext.java:552)\n        at org.apache.activemq.artemis@2.19.0//org.apache.activemq.artemis.core.client.impl.ClientProducerImpl.sendRegularMessage(ClientProducerImpl.java:296)\n        at org.apache.activemq.artemis@2.19.0//org.apache.activemq.artemis.core.client.impl.ClientProducerImpl.doSend(ClientProducerImpl.java:268)\n        at org.apache.activemq.artemis@2.19.0//org.apache.activemq.artemis.core.client.impl.ClientProducerImpl.send(ClientProducerImpl.java:143)\n        at org.apache.activemq.artemis@2.19.0//org.apache.activemq.artemis.core.client.impl.ClientProducerImpl.send(ClientProducerImpl.java:125)\n        at org.apache.activemq.artemis@2.19.0//org.apache.activemq.artemis.jms.client.ActiveMQMessageProducer.doSendx(ActiveMQMessageProducer.java:483)\n        at org.apache.activemq.artemis@2.19.0//org.apache.activemq.artemis.jms.client.ActiveMQMessageProducer.send(ActiveMQMessageProducer.java:220)\n        at org.apache.activemq.artemis@2.19.0//org.apache.activemq.artemis.jms.client.ActiveMQMessageProducer.send(ActiveMQMessageProducer.java:207)\n        at org.apache.activemq.artemis.ra@2.19.0//org.apache.activemq.artemis.ra.ActiveMQRAMessageProducer.send(ActiveMQRAMessageProducer.java:137)\n        at org.apache.activemq.artemis@2.19.0//org.apache.activemq.artemis.jms.client.ActiveMQJMSProducer.send(ActiveMQJMSProducer.java:97)\n        ... 53 more\nCaused by: ActiveMQConnectionTimedOutException[errorType=CONNECTION_TIMEDOUT message=AMQ219014: Timed out after waiting 30,000 ms for response when sending packet 71]\n        ... 65 more\n</code></pre>\n<p>I followed <a href=\"https://docs.wildfly.org/26/Admin_Guide.html#Messaging_Connect_a_pooled-connection-factory_to_a_Remote_Artemis_Server\" rel=\"nofollow noreferrer\">7.8.12. Connect a pooled-connection-factory to a Remote Artemis Server</a>, but I'm using http-connectors instead of remote-connectors because of using Wildfly as remote brokers.</p>\n<p>All configurations are based on <strong>standalone-full-ha.xml</strong> with just the following modifications.</p>\n<p><strong>Messaging live Wildfly server &quot;messaging-node-1&quot;:</strong></p>\n<ul>\n<li>changed cluster password</li>\n<li>added replication-master</li>\n<li>changed cluster connection name</li>\n<li>added two destinations</li>\n</ul>\n<pre><code>...\n&lt;subsystem xmlns=&quot;urn:jboss:domain:messaging-activemq:13.0&quot;&gt;\n    &lt;server name=&quot;default&quot;&gt;\n        &lt;security elytron-domain=&quot;ApplicationDomain&quot;/&gt;\n        &lt;cluster password=&quot;${jboss.messaging.cluster.password:**changed-password**}&quot;/&gt;\n        &lt;statistics enabled=&quot;${wildfly.messaging-activemq.statistics-enabled:${wildfly.statistics-enabled:false}}&quot;/&gt;\n        &lt;replication-master cluster-name=&quot;messaging-cluster&quot; group-name=&quot;activemq-group&quot;/&gt;&lt;!-- added --&gt;\n        &lt;security-setting name=&quot;#&quot;&gt;\n            &lt;role name=&quot;guest&quot; send=&quot;true&quot; consume=&quot;true&quot; create-non-durable-queue=&quot;true&quot; delete-non-durable-queue=&quot;true&quot;/&gt;\n        &lt;/security-setting&gt;\n        &lt;address-setting name=&quot;#&quot; dead-letter-address=&quot;jms.queue.DLQ&quot; expiry-address=&quot;jms.queue.ExpiryQueue&quot; max-size-bytes=&quot;10485760&quot; page-size-bytes=&quot;2097152&quot; message-counter-history-day-limit=&quot;10&quot; redistribution-delay=&quot;1000&quot;/&gt;\n        &lt;http-connector name=&quot;http-connector&quot; socket-binding=&quot;http&quot; endpoint=&quot;http-acceptor&quot;/&gt;\n        &lt;http-connector name=&quot;http-connector-throughput&quot; socket-binding=&quot;http&quot; endpoint=&quot;http-acceptor-throughput&quot;&gt;\n            &lt;param name=&quot;batch-delay&quot; value=&quot;50&quot;/&gt;\n        &lt;/http-connector&gt;\n        &lt;in-vm-connector name=&quot;in-vm&quot; server-id=&quot;0&quot;&gt;\n            &lt;param name=&quot;buffer-pooling&quot; value=&quot;false&quot;/&gt;\n        &lt;/in-vm-connector&gt;\n        &lt;http-acceptor name=&quot;http-acceptor&quot; http-listener=&quot;default&quot;/&gt;\n        &lt;http-acceptor name=&quot;http-acceptor-throughput&quot; http-listener=&quot;default&quot;&gt;\n            &lt;param name=&quot;batch-delay&quot; value=&quot;50&quot;/&gt;\n            &lt;param name=&quot;direct-deliver&quot; value=&quot;false&quot;/&gt;\n        &lt;/http-acceptor&gt;\n        &lt;in-vm-acceptor name=&quot;in-vm&quot; server-id=&quot;0&quot;&gt;\n            &lt;param name=&quot;buffer-pooling&quot; value=&quot;false&quot;/&gt;\n        &lt;/in-vm-acceptor&gt;\n        &lt;jgroups-broadcast-group name=&quot;bg-group1&quot; jgroups-cluster=&quot;activemq-cluster&quot; connectors=&quot;http-connector&quot;/&gt;\n        &lt;jgroups-discovery-group name=&quot;dg-group1&quot; jgroups-cluster=&quot;activemq-cluster&quot;/&gt;\n        &lt;cluster-connection name=&quot;messaging-cluster&quot; address=&quot;jms&quot; connector-name=&quot;http-connector&quot; discovery-group=&quot;dg-group1&quot;/&gt;\n        &lt;jms-queue name=&quot;ExpiryQueue&quot; entries=&quot;java:/jms/queue/ExpiryQueue&quot;/&gt;\n        &lt;jms-queue name=&quot;DLQ&quot; entries=&quot;java:/jms/queue/DLQ&quot;/&gt;\n        &lt;jms-queue name=&quot;TestQueue&quot; entries=&quot;java:jboss/exported/queue/TestQueue&quot; durable=&quot;true&quot;/&gt;\n        &lt;jms-topic name=&quot;TestTopic&quot; entries=&quot;java:jboss/exported/topic/TestTopic&quot;/&gt;\n        &lt;connection-factory name=&quot;InVmConnectionFactory&quot; entries=&quot;java:/ConnectionFactory&quot; connectors=&quot;in-vm&quot;/&gt;\n        &lt;connection-factory name=&quot;RemoteConnectionFactory&quot; entries=&quot;java:jboss/exported/jms/RemoteConnectionFactory&quot; connectors=&quot;http-connector&quot; ha=&quot;true&quot; block-on-acknowledge=&quot;true&quot; reconnect-attempts=&quot;-1&quot;/&gt;\n        &lt;pooled-connection-factory name=&quot;activemq-ra&quot; entries=&quot;java:/JmsXA java:jboss/DefaultJMSConnectionFactory&quot; connectors=&quot;in-vm&quot; transaction=&quot;xa&quot;/&gt;\n    &lt;/server&gt;\n&lt;/subsystem&gt;\n...\n</code></pre>\n<p><strong>Messaging backup Wildfly server &quot;messaging-node-2&quot;</strong><br />\nSame as above except replication-master replaced by replication-slave</p>\n<pre><code>...\n&lt;subsystem xmlns=&quot;urn:jboss:domain:messaging-activemq:13.0&quot;&gt;\n    &lt;server name=&quot;default&quot;&gt;\n        ...\n        &lt;replication-slave cluster-name=&quot;messaging-cluster&quot; group-name=&quot;activemq-group&quot;/&gt;\n        ...\n    &lt;/server&gt;\n&lt;/subsystem&gt;\n...\n</code></pre>\n<p><strong>Application Wildfly server &quot;application-node-1&quot;</strong><br />\nReplaced integrated ActiveMQ server definition with a remote broker and added external destinations. Notice the use of the default name and JNDI entries for the connection factory (for the EE and EJB subsystems):</p>\n<pre><code>...\n&lt;subsystem xmlns=&quot;urn:jboss:domain:messaging-activemq:13.0&quot;&gt;\n    &lt;http-connector name=&quot;node-1-http-connector&quot; socket-binding=&quot;messaging-node-1&quot; endpoint=&quot;http-acceptor&quot;/&gt;\n    &lt;http-connector name=&quot;node-2-http-connector&quot; socket-binding=&quot;messaging-node-2&quot; endpoint=&quot;http-acceptor&quot;/&gt;\n    &lt;pooled-connection-factory name=&quot;activemq-ra&quot; entries=&quot;java:/JmsXA java:jboss/DefaultJMSConnectionFactory&quot; connectors=&quot;node-1-http-connector node-2-http-connector&quot; user=&quot;JmsTest&quot; password=&quot;JmsTest&quot;/&gt;\n    &lt;external-jms-queue name=&quot;TestQueue&quot; entries=&quot;java:/queue/TestQueue&quot;/&gt;\n    &lt;external-jms-topic name=&quot;TestTopic&quot; entries=&quot;java:/topic/TestTopic&quot;/&gt;\n&lt;/subsystem&gt;\n...\n&lt;socket-binding-group name=&quot;standard-sockets&quot; default-interface=&quot;public&quot; port-offset=&quot;${jboss.socket.binding.port-offset:0}&quot;&gt;\n    ...\n    &lt;outbound-socket-binding name=&quot;messaging-node-1&quot;&gt;\n        &lt;remote-destination host=&quot;...&quot; port=&quot;8180&quot;/&gt;\n    &lt;/outbound-socket-binding&gt;\n    &lt;outbound-socket-binding name=&quot;messaging-node-2&quot;&gt;\n        &lt;remote-destination host=&quot;...&quot; port=&quot;8180&quot;/&gt;\n    &lt;/outbound-socket-binding&gt;\n&lt;/socket-binding-group&gt;\n...\n</code></pre>\n<p>The servlet:</p>\n<pre><code>@WebServlet(&quot;/HelloWorldMDBServletClient&quot;)\npublic class HelloWorldMDBServletClient extends HttpServlet {\n\n    private static final long serialVersionUID = -8314035702649252239L;\n\n    private static final int MSG_COUNT = 5;\n\n    @Inject\n    private JMSContext context;\n\n    @Resource(lookup = &quot;java:/queue/TestQueue&quot;)\n    private Queue queue;\n\n    @Resource(lookup = &quot;java:/topic/TestTopic&quot;)\n    private Topic topic;\n\n    @Override\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n        resp.setContentType(&quot;text/html&quot;);\n        PrintWriter out = resp.getWriter();\n        out.write(&quot;&lt;h1&gt;Quickstart: Example demonstrates the use of &lt;strong&gt;JMS 2.0&lt;/strong&gt; and &lt;strong&gt;EJB 3.2 Message-Driven Bean&lt;/strong&gt; in JBoss EAP.&lt;/h1&gt;&quot;);\n        try {\n            boolean useTopic = req.getParameterMap().keySet().contains(&quot;topic&quot;);\n            final Destination destination = useTopic ? topic : queue;\n\n            out.write(&quot;&lt;p&gt;Sending messages to &lt;em&gt;&quot; + destination + &quot;&lt;/em&gt;&lt;/p&gt;&quot;);\n            out.write(&quot;&lt;h2&gt;The following messages will be sent to the destination:&lt;/h2&gt;&quot;);\n            for (int i = 0; i &lt; MSG_COUNT; i++) {\n                String text = &quot;This is message &quot; + (i + 1);\n                **context.createProducer().send(destination, text); // fails**\n                out.write(&quot;Message (&quot; + i + &quot;): &quot; + text + &quot;&lt;/br&gt;&quot;);\n            }\n            out.write(&quot;&lt;p&gt;&lt;i&gt;Go to your JBoss EAP server console or server log to see the result of messages processing.&lt;/i&gt;&lt;/p&gt;&quot;);\n        } finally {\n            if (out != null) {\n                out.close();\n            }\n        }\n    }\n\n    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n        doGet(req, resp);\n    }\n}\n</code></pre>\n<p>Procedure: start the live/backup pair and the application server, deploy helloworld-mdb.war to the application server and load the servlet page in a web browser. For failover, shut down the live messaging server. Reload the servlet page in the web browser. Result: the web browser keeps waiting for around one minute and then receives what the servlet has printed so far (&quot;...The following messages will be sent to the destination:&quot; &lt;EOF&gt;).</p>\n<p>Sending and receiving messages using the JMS client programs works after failover. MDBs keep receiving messages after failover. Just application server message sending fails.</p>\n<p>I have unsuccessfully</p>\n<ul>\n<li>tried changing the timeout configuration values of the cluster connection</li>\n<li>moved message sending to a stateless session bean (in order to test transactions)</li>\n<li>replaced the JmsContext with a connection factory to no avail; createSession() blocks, then fails with &quot;...Caused by: ActiveMQConnectionTimedOutException[errorType=CONNECTION_TIMEDOUT message=AMQ219014: Timed out after waiting 30,000 ms for response when sending packet 63]&quot;</li>\n</ul>\n<pre><code>...\n@Resource(mappedName = &quot;java:/JmsXA&quot;)\nprivate ConnectionFactory connectionFactory;\n\n@Resource(mappedName = &quot;java:/queue/TestQueue&quot;)\nprivate Queue queue;\n...\nConnection connection = connectionFactory.createConnection();\nSession session = connection.createSession();\n</code></pre>\n<p>Questions:</p>\n<ul>\n<li>Are the messaging and application server configurations correct for my setup?</li>\n<li>What could be the reason that sending messages using the injected JmsContext and Queue fails after failover?</li>\n</ul>\n<p>I would appreciate any help.</p>\n<hr />\n<p>Update 1</p>\n<p>Just FYI: The application server notices when the live messaging server goes down:</p>\n<pre><code>17:11:40,908 WARN  [org.apache.activemq.artemis.core.client] (Thread-2 (ActiveMQ-client-global-threads)) AMQ212037: Connection failure to 172.*.*.*/172.*.*.*:8180 has been detected: AMQ219015: The connection was disconnected because of server shutdown [code=DISCONNECTED]\n</code></pre>\n<p>...repeated around 30 times and an Exception:</p>\n<pre><code>17:11:40,904 WARN  [org.jboss.activemq.artemis.wildfly.integration.recovery] (Thread-2 (ActiveMQ-client-global-threads)) being disconnected for server shutdown: ActiveMQDisconnectedException[errorType=DISCONNECTED message=AMQ219015: The connection was disconnected because of server shutdown]\n        at org.apache.activemq.artemis@2.19.0//org.apache.activemq.artemis.core.client.impl.ClientSessionFactoryImpl$CloseRunnable.run(ClientSessionFactoryImpl.java:1089)\n        at org.apache.activemq.artemis.journal//org.apache.activemq.artemis.utils.actors.OrderedExecutor.doTask(OrderedExecutor.java:42)\n        at org.apache.activemq.artemis.journal//org.apache.activemq.artemis.utils.actors.OrderedExecutor.doTask(OrderedExecutor.java:31)\n        at org.apache.activemq.artemis.journal//org.apache.activemq.artemis.utils.actors.ProcessorBase.executePendingTasks(ProcessorBase.java:65)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n        at org.apache.activemq.artemis.journal//org.apache.activemq.artemis.utils.ActiveMQThreadFactory$1.run(ActiveMQThreadFactory.java:118)\n</code></pre>\n"},{"tags":["java","windows-7","command-line","classpath","wildcard"],"comments":[{"owner":{"account_id":1220452,"reputation":2159,"user_id":1187194,"display_name":"lxbndr"},"score":1,"creation_date":1328713437,"post_id":9195073,"comment_id":11572594,"body_markdown":"If you set environment variable `_JAVA_LAUNCHER_DEBUG` launcher will show additional info about expanding classpath. Maybe it will help to understand what is going on inside java.exe.","body":"If you set environment variable <code>_JAVA_LAUNCHER_DEBUG</code> launcher will show additional info about expanding classpath. Maybe it will help to understand what is going on inside java.exe."},{"owner":{"account_id":242066,"reputation":17256,"user_id":513342,"accept_rate":85,"display_name":"Oleg Mikheev"},"score":0,"creation_date":1328726439,"post_id":9195073,"comment_id":11577964,"body_markdown":"this one is related http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=7020954","body":"this one is related <a href=\"http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=7020954\" rel=\"nofollow noreferrer\">bugs.sun.com/bugdatabase/view_bug.do?bug_id=7020954</a>"},{"owner":{"account_id":154900,"reputation":735,"user_id":371174,"accept_rate":11,"display_name":"Ditz"},"score":0,"creation_date":1328728576,"post_id":9195073,"comment_id":11578791,"body_markdown":"using `_JAVA_LAUNCHER_DEBUG` also shows that `&quot;*&quot;` decays: \njava -cp . Echo &quot;*&quot;\nCommand line args:\nargv[0] = C:\\Program Files\\Java\\jdk1.7\\bin\\java.exe\nargv[1] = -cp\nargv[2] = .\nargv[3] = Echo\nargv[4] = Echo.class\nargv[5] = Echo.java","body":"using <code>_JAVA_LAUNCHER_DEBUG</code> also shows that <code>&quot;*&quot;</code> decays:  java -cp . Echo &quot;*&quot; Command line args: argv[0] = C:\\Program Files\\Java\\jdk1.7\\bin\\java.exe argv[1] = -cp argv[2] = . argv[3] = Echo argv[4] = Echo.class argv[5] = Echo.java"},{"owner":{"account_id":51905,"reputation":2369,"user_id":155090,"accept_rate":89,"display_name":"RubyTuesdayDONO"},"score":0,"creation_date":1336418168,"post_id":9195073,"comment_id":13554216,"body_markdown":"thank you, @Ditz - this saved my day!  i am using Maven&#39;s exec plugin and needed to pass a wildcard classpath to the JVM (without shell globbing).  path/to/jars/*; did the trick!","body":"thank you, @Ditz - this saved my day!  i am using Maven&#39;s exec plugin and needed to pass a wildcard classpath to the JVM (without shell globbing).  path/to/jars/*; did the trick!"},{"owner":{"account_id":51905,"reputation":2369,"user_id":155090,"accept_rate":89,"display_name":"RubyTuesdayDONO"},"score":0,"creation_date":1336420331,"post_id":9195073,"comment_id":13554952,"body_markdown":"… but one caveat - this could break if any file names in the path contain a semicolon (unlikely but possible).","body":"… but one caveat - this could break if any file names in the path contain a semicolon (unlikely but possible)."},{"owner":{"account_id":2629442,"reputation":487,"user_id":2275783,"display_name":"Guillaume"},"score":0,"creation_date":1426001607,"post_id":9195073,"comment_id":46187259,"body_markdown":"Adding a semicolon after the wildcard didn&#39;t work for me so I ended up listing all the jars files and it works this way. Cursed be Java7!","body":"Adding a semicolon after the wildcard didn&#39;t work for me so I ended up listing all the jars files and it works this way. Cursed be Java7!"}],"answers":[{"tags":[],"owner":{"account_id":115714,"reputation":8890,"user_id":303698,"accept_rate":75,"display_name":"laher"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1346200641,"creation_date":1346200641,"answer_id":12169426,"question_id":9195073,"body_markdown":"Yes, I noticed the same issue.\r\n\r\n* It&#39;s explained as a &#39;known issue&#39; in [the release notes for Java7 update 4][1].\r\n\r\n* [Here is the bug report][2]. The fix will be delivered in Java7 update 8 (current release is update 6).\r\n\r\n* Note that there isn&#39;t a shell-options workaround, because in Windows, the shell doesn&#39;t handle wildcard expansion. (Whereas in Unixes, the shell performs the expansion). \r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/7u4-relnotes-1575007.html\r\n  [2]: https://bugs.java.com/bugdatabase/view_bug?bug_id=7146424","title":"Broken wildcard expansion for Java7 commandline on Windows(7?)","body":"<p>Yes, I noticed the same issue.</p>\n<ul>\n<li><p>It's explained as a 'known issue' in <a href=\"http://www.oracle.com/technetwork/java/javase/7u4-relnotes-1575007.html\" rel=\"nofollow noreferrer\">the release notes for Java7 update 4</a>.</p>\n</li>\n<li><p><a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=7146424\" rel=\"nofollow noreferrer\">Here is the bug report</a>. The fix will be delivered in Java7 update 8 (current release is update 6).</p>\n</li>\n<li><p>Note that there isn't a shell-options workaround, because in Windows, the shell doesn't handle wildcard expansion. (Whereas in Unixes, the shell performs the expansion).</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1916790,"reputation":299,"user_id":1729234,"display_name":"Sreesankar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467028954,"creation_date":1467028954,"answer_id":38053470,"question_id":9195073,"body_markdown":"Not a direct solution to the broken /* issue but I hope you could use the following script to ease your situation.\r\n\r\n     libDir2Scan4jars=&quot;../test&quot;;cp=&quot;&quot;; for j in `ls ${libDir2Scan4jars}/*.jar`; do if [ &quot;$j&quot; != &quot;&quot; ]; then cp=$cp:$j; fi; done; echo $cp| cut -c2-${#cp} &gt; .tmpCP.tmp; export tmpCLASSPATH=`cat .tmpCP.tmp`; if [ &quot;$tmpCLASSPATH&quot; != &quot;&quot; ]; then echo .; echo &quot;classpath set, you can now use  ~&gt;         java -cp \\$tmpCLASSPATH&quot;; echo .; else echo .; echo &quot;Error please check libDir2Scan4jars path&quot;; echo .; fi; \r\n\r\nScripted for Linux, could have a similar one for windows too. If proper directory is provided as input to the &quot;libDir2Scan4jars&quot;; the script will scan all the jars and create a classpath string and export it to a env variable &quot;tmpCLASSPATH&quot;. \r\n","title":"Broken wildcard expansion for Java7 commandline on Windows(7?)","body":"<p>Not a direct solution to the broken /* issue but I hope you could use the following script to ease your situation.</p>\n\n<pre><code> libDir2Scan4jars=\"../test\";cp=\"\"; for j in `ls ${libDir2Scan4jars}/*.jar`; do if [ \"$j\" != \"\" ]; then cp=$cp:$j; fi; done; echo $cp| cut -c2-${#cp} &gt; .tmpCP.tmp; export tmpCLASSPATH=`cat .tmpCP.tmp`; if [ \"$tmpCLASSPATH\" != \"\" ]; then echo .; echo \"classpath set, you can now use  ~&gt;         java -cp \\$tmpCLASSPATH\"; echo .; else echo .; echo \"Error please check libDir2Scan4jars path\"; echo .; fi; \n</code></pre>\n\n<p>Scripted for Linux, could have a similar one for windows too. If proper directory is provided as input to the \"libDir2Scan4jars\"; the script will scan all the jars and create a classpath string and export it to a env variable \"tmpCLASSPATH\". </p>\n"},{"tags":[],"owner":{"account_id":2898633,"reputation":191,"user_id":2485870,"display_name":"Arno Unkrig"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648653509,"creation_date":1648653509,"answer_id":71679897,"question_id":9195073,"body_markdown":"I found a generic workaround for the Windows-Java-launcher-argument-wildcard-expansion problem:\r\n\r\nArguments from an @argfile do *not* undergo wildcard expansion. E.g.\r\n\r\n    java foo.Echo &#39;*.txt&#39;     =&gt; 1.txt 2.txt\r\n\r\n    echo &quot;foo.Echo *.txt&quot; &gt;argfile\r\n    java @argfile             =&gt; *.txt\r\n\r\nSo if you have a wrapper BASH script, you can do:\r\n\r\n    argfile=c:/tmp/argfile$$;\r\n    echo foo.Echo &quot;$@&quot; &gt;$argfile;\r\n    java @$argfile;\r\n\r\n, and your command line args will not be wildcard-expanded by the launcher.\r\n\r\nTested with:\r\n\r\n    adopt_openjdk_15+36_swm_cert_v3\r\n    adopt_openjdk-11.0.11.9-hotspot\r\n    adopt_openjdk-14.0.2_12-hotspot\r\n    adopt_openjdk-16.0.1.9-hotspot\r\n    jdk-13.0.2+8\r\n    jdk-17.0.1+12\r\n","title":"Broken wildcard expansion for Java7 commandline on Windows(7?)","body":"<p>I found a generic workaround for the Windows-Java-launcher-argument-wildcard-expansion problem:</p>\n<p>Arguments from an @argfile do <em>not</em> undergo wildcard expansion. E.g.</p>\n<pre><code>java foo.Echo '*.txt'     =&gt; 1.txt 2.txt\n\necho &quot;foo.Echo *.txt&quot; &gt;argfile\njava @argfile             =&gt; *.txt\n</code></pre>\n<p>So if you have a wrapper BASH script, you can do:</p>\n<pre><code>argfile=c:/tmp/argfile$$;\necho foo.Echo &quot;$@&quot; &gt;$argfile;\njava @$argfile;\n</code></pre>\n<p>, and your command line args will not be wildcard-expanded by the launcher.</p>\n<p>Tested with:</p>\n<pre><code>adopt_openjdk_15+36_swm_cert_v3\nadopt_openjdk-11.0.11.9-hotspot\nadopt_openjdk-14.0.2_12-hotspot\nadopt_openjdk-16.0.1.9-hotspot\njdk-13.0.2+8\njdk-17.0.1+12\n</code></pre>\n"}],"owner":{"account_id":154900,"reputation":735,"user_id":371174,"accept_rate":11,"display_name":"Ditz"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3930,"favorite_count":0,"down_vote_count":2,"up_vote_count":18,"answer_count":3,"score":16,"last_activity_date":1648653509,"creation_date":1328710765,"question_id":9195073,"body_markdown":"I observe a strange behavior of wildcard expansion behavior for Java7 on Windows.\r\n\r\nFor centuries there was a clean difference between &quot;*&quot; versus *.\r\n&lt;br&gt;Seems this it not longer true for Java7 (at least on Windows7).\r\n\r\nI noticed the problem when using a [wildcard classpath][1].\r\n&lt;br&gt;In despite of quoting the wildcard-classpath it gets expanded.\r\n&lt;br&gt;Thus it seems not possible any more to pass a wildcard to the java application.\r\n\r\nSo using `java -cp &quot;somewhere/*&quot;` will fail (as does `&quot;somewhere\\*&quot;`).\r\n\r\nA workaround seems to be: `java -cp &quot;somewhere/*;&quot;` which inhibits the expansion.\r\n\r\nTo verify the behavior I wrote a small Echo.java class.\r\n\r\nI found that using java 1.6.0 quoted &quot;*&quot; and plain * works like expected, \r\nwhereas on Java7 I always got the expanded wildcard.\r\nUntil now this was observed on Windows7, don&#39;t know what happens on XP.\r\n\r\nThe problem arises, since wildcards on Windows are never ever expanded by dark age CMD.EXE (like any shell does on UNIX). Instead each executable has to perform this explicitly using [setargv.obj][2].\r\n\r\nI found two related issues which seem to describe a similar problem:\r\n\r\n- [Multiple command line wildcard expansion confuses Windows users][3]\r\n- [setargv.obj wildcard handling broken][4]\r\n\r\nIs this observed by someone else?\r\n&lt;br&gt;Or are there some obscure Windows or batch-file settings to control this? \r\n\r\nDieter.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/technotes/tools/windows/classpath.html\r\n  [2]: http://msdn.microsoft.com/en-us/library/8bch7bkk.aspx\r\n  [3]: https://bugs.java.com/bugdatabase/view_bug?bug_id=6328875\r\n  [4]: http://connect.microsoft.com/VisualStudio/feedback/details/98756/vs2005-setargv-obj-wildcard-handling-broken","title":"Broken wildcard expansion for Java7 commandline on Windows(7?)","body":"<p>I observe a strange behavior of wildcard expansion behavior for Java7 on Windows.</p>\n<p>For centuries there was a clean difference between &quot;*&quot; versus *.\n<br>Seems this it not longer true for Java7 (at least on Windows7).</p>\n<p>I noticed the problem when using a <a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/windows/classpath.html\" rel=\"nofollow noreferrer\">wildcard classpath</a>.\n<br>In despite of quoting the wildcard-classpath it gets expanded.\n<br>Thus it seems not possible any more to pass a wildcard to the java application.</p>\n<p>So using <code>java -cp &quot;somewhere/*&quot;</code> will fail (as does <code>&quot;somewhere\\*&quot;</code>).</p>\n<p>A workaround seems to be: <code>java -cp &quot;somewhere/*;&quot;</code> which inhibits the expansion.</p>\n<p>To verify the behavior I wrote a small Echo.java class.</p>\n<p>I found that using java 1.6.0 quoted &quot;*&quot; and plain * works like expected,\nwhereas on Java7 I always got the expanded wildcard.\nUntil now this was observed on Windows7, don't know what happens on XP.</p>\n<p>The problem arises, since wildcards on Windows are never ever expanded by dark age CMD.EXE (like any shell does on UNIX). Instead each executable has to perform this explicitly using <a href=\"http://msdn.microsoft.com/en-us/library/8bch7bkk.aspx\" rel=\"nofollow noreferrer\">setargv.obj</a>.</p>\n<p>I found two related issues which seem to describe a similar problem:</p>\n<ul>\n<li><a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=6328875\" rel=\"nofollow noreferrer\">Multiple command line wildcard expansion confuses Windows users</a></li>\n<li><a href=\"http://connect.microsoft.com/VisualStudio/feedback/details/98756/vs2005-setargv-obj-wildcard-handling-broken\" rel=\"nofollow noreferrer\">setargv.obj wildcard handling broken</a></li>\n</ul>\n<p>Is this observed by someone else?\n<br>Or are there some obscure Windows or batch-file settings to control this?</p>\n<p>Dieter.</p>\n"},{"tags":["java","ssl","netty","grpc","grpc-java"],"answers":[{"tags":[],"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1636069389,"creation_date":1512407307,"answer_id":47638460,"question_id":47628276,"body_markdown":"Since grpc-java 1.37.0 it is possible for most users to configure TLS without using transport-specific APIs. This leverages the `ChannelCredentials` concept introduced in 1.34.0.\r\n\r\n    ChannelCredentials creds = TlsChannelCredentials.newBuilder()\r\n        // if server&#39;s cert doesn&#39;t chain to a standard root\r\n        .trustManager(caFile)\r\n        .keyManager(clientCertFile, keyFile) // client cert\r\n        .build();\r\n    channel = Grpc.newChannelBuilderForAddress(serverHost, serverPort, creds)\r\n        .build();\r\n\r\n`TlsServerCredentials` and `Grpc.newServerBuilderForPort()` would be used on server-side.\r\n\r\nAdvanced use cases may need to use transport-specific APIs like `GrpcSslContexts` and `NettyChannelBuilder.sslContext()`.\r\n\r\n-----\r\n\r\nOriginal answer: You need to use a transport-specific API. You&#39;re likely using Netty today. For Netty, you need to configure Netty&#39;s SslContext and pass it to gRPC. Your usage may look something like this:\r\n\r\n    SslContext sslcontext = GrpcSslContexts.forClient()\r\n        // if server&#39;s cert doesn&#39;t chain to a standard root\r\n        .trustManager(caFile)\r\n        .keyManager(clientCertFile, keyFile) // client cert\r\n        .build();\r\n    channel = NettyChannelBuilder.forAddress(serverHost, serverPort)\r\n        .sslContext(sslContext)\r\n        .build();\r\n\r\nIf you need server-side configuration, it would use the similar `NettyServerBuilder.sslContext()`. But the context itself would be different.","title":"gRPC: How to configure SSL in client?","body":"<p>Since grpc-java 1.37.0 it is possible for most users to configure TLS without using transport-specific APIs. This leverages the <code>ChannelCredentials</code> concept introduced in 1.34.0.</p>\n<pre><code>ChannelCredentials creds = TlsChannelCredentials.newBuilder()\n    // if server's cert doesn't chain to a standard root\n    .trustManager(caFile)\n    .keyManager(clientCertFile, keyFile) // client cert\n    .build();\nchannel = Grpc.newChannelBuilderForAddress(serverHost, serverPort, creds)\n    .build();\n</code></pre>\n<p><code>TlsServerCredentials</code> and <code>Grpc.newServerBuilderForPort()</code> would be used on server-side.</p>\n<p>Advanced use cases may need to use transport-specific APIs like <code>GrpcSslContexts</code> and <code>NettyChannelBuilder.sslContext()</code>.</p>\n<hr />\n<p>Original answer: You need to use a transport-specific API. You're likely using Netty today. For Netty, you need to configure Netty's SslContext and pass it to gRPC. Your usage may look something like this:</p>\n<pre><code>SslContext sslcontext = GrpcSslContexts.forClient()\n    // if server's cert doesn't chain to a standard root\n    .trustManager(caFile)\n    .keyManager(clientCertFile, keyFile) // client cert\n    .build();\nchannel = NettyChannelBuilder.forAddress(serverHost, serverPort)\n    .sslContext(sslContext)\n    .build();\n</code></pre>\n<p>If you need server-side configuration, it would use the similar <code>NettyServerBuilder.sslContext()</code>. But the context itself would be different.</p>\n"},{"tags":[],"owner":{"account_id":3812262,"reputation":33,"user_id":8475919,"display_name":"Sarang Ratnalikar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648652703,"creation_date":1648652703,"answer_id":71679714,"question_id":47628276,"body_markdown":"If any one wants to use JKS files then below code might help.\r\n             \r\n```\r\nInputStream is = Utils.class.getClassLoader().getResourceAsStream(&quot;truststore.jks&quot;);\r\nKeyStore keystore = KeyStore.getInstance(&quot;JKS&quot;);\r\nkeystore.load(is, &quot;secret&quot;.toCharArray());\r\n\r\nTrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\ntrustManagerFactory.init(truststore);\r\n\r\nSslContextBuilder sslContextbuilder = GrpcSslContexts.forClient().trustManager(trustManagerFactory);\r\nSslContext sslContext = sslContextbuilder.build();\r\nchannel = NettyChannelBuilder.forAddress(&quot;localhost&quot;, &quot;8443&quot;).sslContext(sslContext).build();\r\n```","title":"gRPC: How to configure SSL in client?","body":"<p>If any one wants to use JKS files then below code might help.</p>\n<pre><code>InputStream is = Utils.class.getClassLoader().getResourceAsStream(&quot;truststore.jks&quot;);\nKeyStore keystore = KeyStore.getInstance(&quot;JKS&quot;);\nkeystore.load(is, &quot;secret&quot;.toCharArray());\n\nTrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\ntrustManagerFactory.init(truststore);\n\nSslContextBuilder sslContextbuilder = GrpcSslContexts.forClient().trustManager(trustManagerFactory);\nSslContext sslContext = sslContextbuilder.build();\nchannel = NettyChannelBuilder.forAddress(&quot;localhost&quot;, &quot;8443&quot;).sslContext(sslContext).build();\n</code></pre>\n"}],"owner":{"account_id":6871209,"reputation":1370,"user_id":5281471,"accept_rate":100,"display_name":"SOWMITHRA KUMAR G M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9936,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":47638460,"answer_count":2,"score":6,"last_activity_date":1648652703,"creation_date":1512371830,"question_id":47628276,"body_markdown":"Its new topic for me. I&#39;m able to connect as plaintext.\r\n\r\n    public ManagedChannel getChannel(String serviceName){\r\n\t\tTSServiceClientManager scm = TSServiceManagementFactory.getInstance().getServiceClientManager();\r\n\t\tTSServiceConnectionInfo connInfo = scm.getServiceConnectionInfo(serviceName);\r\n\t\tif(channel == null){\r\n\t\t\tchannel = ManagedChannelBuilder.forAddress(connInfo.getHost(), connInfo.getPort())\r\n\t\t\t\t\t.usePlaintext(true) //need help here for SSL code \r\n\t\t\t\t\t.build();\r\n\t\t}\r\n\t\t\r\n\t\treturn channel;\r\n\t}\r\nI was told to enable client-side SSL. I know how to generate, keystore, truststore, pem, CA etc.\r\nI need help in :\r\n\r\n**How to enable SSL instead of .usePlaintext(true) as shown in above code?**\r\n\r\n\r\n(Kindly rewrite the code considering the cert file, keystore, truststore and .pem file exist)\r\n\r\nAnd\r\n\r\n**I want to know is there anything to do with server to make SSL connection work?**","title":"gRPC: How to configure SSL in client?","body":"<p>Its new topic for me. I'm able to connect as plaintext.</p>\n\n<pre><code>public ManagedChannel getChannel(String serviceName){\n    TSServiceClientManager scm = TSServiceManagementFactory.getInstance().getServiceClientManager();\n    TSServiceConnectionInfo connInfo = scm.getServiceConnectionInfo(serviceName);\n    if(channel == null){\n        channel = ManagedChannelBuilder.forAddress(connInfo.getHost(), connInfo.getPort())\n                .usePlaintext(true) //need help here for SSL code \n                .build();\n    }\n\n    return channel;\n}\n</code></pre>\n\n<p>I was told to enable client-side SSL. I know how to generate, keystore, truststore, pem, CA etc.\nI need help in :</p>\n\n<p><strong>How to enable SSL instead of .usePlaintext(true) as shown in above code?</strong></p>\n\n<p>(Kindly rewrite the code considering the cert file, keystore, truststore and .pem file exist)</p>\n\n<p>And</p>\n\n<p><strong>I want to know is there anything to do with server to make SSL connection work?</strong></p>\n"},{"tags":["java","google-cloud-platform","apache-beam"],"comments":[{"owner":{"account_id":284307,"reputation":4946,"user_id":582333,"display_name":"robertwb"},"score":0,"creation_date":1648510842,"post_id":71652855,"comment_id":126637577,"body_markdown":"Are perhaps a small number (even one) of your PubSub messages missing the date field?","body":"Are perhaps a small number (even one) of your PubSub messages missing the date field?"},{"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1648545668,"post_id":71652855,"comment_id":126645238,"body_markdown":"Do you run the pipeline with the same set of data?","body":"Do you run the pipeline with the same set of data?"},{"owner":{"account_id":4008983,"reputation":2115,"user_id":3302921,"accept_rate":22,"display_name":"Eric Kolotyluk"},"score":0,"creation_date":1648562453,"post_id":71652855,"comment_id":126652327,"body_markdown":"All the PubSub messages are the same, and are generated dynamically from the same data producer with the same data.","body":"All the PubSub messages are the same, and are generated dynamically from the same data producer with the same data."}],"owner":{"account_id":4008983,"reputation":2115,"user_id":3302921,"accept_rate":22,"display_name":"Eric Kolotyluk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648652445,"creation_date":1648496273,"question_id":71652855,"body_markdown":"    var stream = pipeline // Extract - Transform - Load, Lather Rinse Repeat\r\n        .apply(&quot;Extract from Source&quot;,   PubsubIO.readStrings().fromSubscription(inputSubscription).withTimestampAttribute(&quot;date&quot;))\r\n        .apply(&quot;Transform to TableRow&quot;, ParDo.of(new TransformToTableRow()))\r\n        .apply(&quot;Define Window&quot;,         Window.&lt;TableRow&gt;into(FixedWindows.of(Duration.standardMinutes(1))).withAllowedLateness(Duration.standardMinutes(10)).accumulatingFiredPanes())\r\n        .apply(&quot;Transform to JSON&quot;,     MapElements.into(TypeDescriptors.strings()).via(GenericJson::toString));\r\n\r\n    stream.apply(&quot;Load to PubSub&quot;,      PubsubIO.writeStrings().to(sinkTopic));\r\n\r\n    stream.apply(&quot;Load to GCS&quot;,     TextIO.write().to(sinkUri).withWindowedWrites().withNumShards(1));\r\n\r\n(1) When I run this code on Google Dataflow via a Flex Template, it works fine. But when I run this locally via the direct runner, I get\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: PubSub message is missing a value for timestamp attribute date\r\n\r\nI can verify the source is\r\n\r\n    INFO: pubsub message = {&quot;date&quot;:&quot;2022-03-28T19:24:52.836Z&quot;,&quot;sequence&quot;:251,&quot;whoami&quot;:&quot;eric.kolotyluk&quot;}\r\n\r\nAll the PubSub messages are the same, and are generated dynamically from the same data producer with the same data.\r\n\r\n(2) Also, under Direct Runner there is no output into Google Cloud Storage, while it works fine under Dataflow. On the other hand, the pubsub output works as expected under Direct Runner? &#129300;\r\n\r\n***What is different between the direct runner and a Beam Job in GCP that would cause these disappointments?***\r\n\r\nFrom my build.gradle file\r\n\r\n    runtimeOnly &#39;org.apache.beam:beam-runners-direct-java:2.37.0&#39;\r\n    runtimeOnly &#39;org.apache.beam:beam-runners-google-cloud-dataflow-java:2.37.0&#39;\r\n    runtimeOnly &#39;org.apache.beam:beam-runners-portability-java:2.37.0&#39;\r\n","title":"Why does Beam program fail on Direct Runner but succeed on Dataflow Job?","body":"<pre><code>var stream = pipeline // Extract - Transform - Load, Lather Rinse Repeat\n    .apply(&quot;Extract from Source&quot;,   PubsubIO.readStrings().fromSubscription(inputSubscription).withTimestampAttribute(&quot;date&quot;))\n    .apply(&quot;Transform to TableRow&quot;, ParDo.of(new TransformToTableRow()))\n    .apply(&quot;Define Window&quot;,         Window.&lt;TableRow&gt;into(FixedWindows.of(Duration.standardMinutes(1))).withAllowedLateness(Duration.standardMinutes(10)).accumulatingFiredPanes())\n    .apply(&quot;Transform to JSON&quot;,     MapElements.into(TypeDescriptors.strings()).via(GenericJson::toString));\n\nstream.apply(&quot;Load to PubSub&quot;,      PubsubIO.writeStrings().to(sinkTopic));\n\nstream.apply(&quot;Load to GCS&quot;,     TextIO.write().to(sinkUri).withWindowedWrites().withNumShards(1));\n</code></pre>\n<p>(1) When I run this code on Google Dataflow via a Flex Template, it works fine. But when I run this locally via the direct runner, I get</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: PubSub message is missing a value for timestamp attribute date\n</code></pre>\n<p>I can verify the source is</p>\n<pre><code>INFO: pubsub message = {&quot;date&quot;:&quot;2022-03-28T19:24:52.836Z&quot;,&quot;sequence&quot;:251,&quot;whoami&quot;:&quot;eric.kolotyluk&quot;}\n</code></pre>\n<p>All the PubSub messages are the same, and are generated dynamically from the same data producer with the same data.</p>\n<p>(2) Also, under Direct Runner there is no output into Google Cloud Storage, while it works fine under Dataflow. On the other hand, the pubsub output works as expected under Direct Runner? 🤔</p>\n<p><em><strong>What is different between the direct runner and a Beam Job in GCP that would cause these disappointments?</strong></em></p>\n<p>From my build.gradle file</p>\n<pre><code>runtimeOnly 'org.apache.beam:beam-runners-direct-java:2.37.0'\nruntimeOnly 'org.apache.beam:beam-runners-google-cloud-dataflow-java:2.37.0'\nruntimeOnly 'org.apache.beam:beam-runners-portability-java:2.37.0'\n</code></pre>\n"},{"tags":["java","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648649012,"creation_date":1648647710,"answer_id":71678363,"question_id":71678052,"body_markdown":"You could maybe work around this by introducing helper methods like this:\r\n\r\n    private String getStreet(House house) {\r\n        AddressInfo addressInfo = (AdressInfo) house.get(&quot;adressInfo&quot;);\r\n        return addressInfo == null ? null : addressInfo.get(&quot;streetname&quot;);\r\n    }\r\n\r\nAnd then you can do:\r\n\r\n    predicates.add(cb.equal(getStreet(house), value)\r\n\r\n\r\n\r\n    ","title":"Can I check in a criteriabuilder chain if value is empty?","body":"<p>You could maybe work around this by introducing helper methods like this:</p>\n<pre><code>private String getStreet(House house) {\n    AddressInfo addressInfo = (AdressInfo) house.get(&quot;adressInfo&quot;);\n    return addressInfo == null ? null : addressInfo.get(&quot;streetname&quot;);\n}\n</code></pre>\n<p>And then you can do:</p>\n<pre><code>predicates.add(cb.equal(getStreet(house), value)\n</code></pre>\n"}],"owner":{"account_id":5808495,"reputation":219,"user_id":4580401,"accept_rate":57,"display_name":"JSB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648652228,"creation_date":1648646611,"question_id":71678052,"body_markdown":"I have a criteria builder chain of gets, but they can be null which means they will fail.\r\n\r\nexample:\r\n\r\n```\r\npredicates.add(cb.equal(house.get(&quot;adressInfo&quot;).get(&quot;streetname&quot;),value)\r\n```\r\n\r\nIf for example `house.get(adressInfo)` is empty I still want it returned with an empty list or just null values for everything is fine.\r\nI only need to filter out for as an example houses with street name &quot;A&quot; but must also include all houses that have an empty adressInfo.\r\n\r\nNow I get a null.streetname invalid access error because a house has an adressInfo of null","title":"Can I check in a criteriabuilder chain if value is empty?","body":"<p>I have a criteria builder chain of gets, but they can be null which means they will fail.</p>\n<p>example:</p>\n<pre><code>predicates.add(cb.equal(house.get(&quot;adressInfo&quot;).get(&quot;streetname&quot;),value)\n</code></pre>\n<p>If for example <code>house.get(adressInfo)</code> is empty I still want it returned with an empty list or just null values for everything is fine.\nI only need to filter out for as an example houses with street name &quot;A&quot; but must also include all houses that have an empty adressInfo.</p>\n<p>Now I get a null.streetname invalid access error because a house has an adressInfo of null</p>\n"},{"tags":["java","unix","jdbc","unix-socket"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1241634868,"post_id":170600,"comment_id":20186958,"body_markdown":"Why not just use the JDBC driver for MySQL?","body":"Why not just use the JDBC driver for MySQL?"},{"owner":{"account_id":2397,"reputation":179869,"user_id":3333,"accept_rate":80,"display_name":"Paul Tomblin"},"score":0,"creation_date":1241637260,"post_id":170600,"comment_id":20186959,"body_markdown":"Because it uses tcp/ip sockets instead of unix domain sockets?","body":"Because it uses tcp/ip sockets instead of unix domain sockets?"},{"owner":{"account_id":9717,"reputation":24095,"user_id":18071,"accept_rate":63,"display_name":"GWLlosa"},"score":3,"creation_date":1242221786,"post_id":170600,"comment_id":20186960,"body_markdown":"The better question is &quot;Why not enable TCP/IP and then use the JDBC driver for MySQL?&quot;, but sometimes we don&#39;t get to make that call :)","body":"The better question is &quot;Why not enable TCP/IP and then use the JDBC driver for MySQL?&quot;, but sometimes we don&#39;t get to make that call :)"},{"owner":{"account_id":5653505,"reputation":3964,"user_id":4473327,"display_name":"neuhaus"},"score":4,"creation_date":1475155169,"post_id":170600,"comment_id":66837268,"body_markdown":"According to Stevens, Unix domain sockets are twice as fast as TCP/IP sockets","body":"According to Stevens, Unix domain sockets are twice as fast as TCP/IP sockets"}],"answers":[{"tags":[],"owner":{"account_id":4327,"reputation":5635,"user_id":6449,"display_name":"Dave Cheney"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1242182285,"creation_date":1223137779,"answer_id":170611,"question_id":170600,"body_markdown":"Check out the JNA library. It&#39;s a halfway house between pure Java and JNI native code\r\n\r\n[https://github.com/twall/jna/][1]\r\n\r\n\r\n  [1]: https://github.com/twall/jna/","title":"UNIX socket implementation for Java?","body":"<p>Check out the JNA library. It's a halfway house between pure Java and JNI native code</p>\n\n<p><a href=\"https://github.com/twall/jna/\" rel=\"nofollow noreferrer\">https://github.com/twall/jna/</a></p>\n"},{"tags":[],"owner":{"account_id":3461,"reputation":2729,"user_id":4995,"display_name":"njsf"},"down_vote_count":1,"up_vote_count":32,"is_accepted":true,"score":31,"last_activity_date":1335775412,"creation_date":1223138767,"answer_id":170633,"question_id":170600,"body_markdown":"Checkout the JUDS library. It is a Java Unix Domain Socket library...\r\n\r\nhttps://github.com/mcfunley/juds\r\n","title":"UNIX socket implementation for Java?","body":"<p>Checkout the JUDS library. It is a Java Unix Domain Socket library...</p>\n\n<p><a href=\"https://github.com/mcfunley/juds\" rel=\"noreferrer\">https://github.com/mcfunley/juds</a></p>\n"},{"tags":[],"owner":{"account_id":9717,"reputation":24095,"user_id":18071,"accept_rate":63,"display_name":"GWLlosa"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1490022775,"creation_date":1242183148,"answer_id":855842,"question_id":170600,"body_markdown":"Some searching on the internet has uncovered the following useful-looking library:\r\n\r\n[http://www.nfrese.net/software/gnu_net_local/overview.html][1]\r\n\r\n[Wayback Link][3]\r\n\r\n\r\n\r\nWriting a socket factory should be easy enough.  Once you&#39;ve done so, you can pass it to your driver [THUSLY][2].([Wayback Link][3]).\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.ResultSet;\r\n    import java.sql.Statement;\r\n    \r\n    import com.mysql.management.driverlaunched.ServerLauncherSocketFactory;\r\n    \r\n    public class ConnectorMXJTestExample {\r\n        public static void main(String[] args) throws Exception {\r\n            String hostColonPort = &quot;localhost:3336&quot;;\r\n            \r\n            String driver = com.mysql.jdbc.Driver.class.getName();\r\n            String url = &quot;jdbc:mysql://&quot; + hostColonPort + &quot;/&quot; + &quot;?&quot;\r\n                    + &quot;socketFactory=&quot;\r\n                    + ServerLauncherSocketFactory.class.getName();\r\n            String userName = &quot;root&quot;;\r\n            String password = &quot;&quot;;\r\n    \r\n            Class.forName(driver);\r\n            Connection conn = null;\r\n            try {\r\n                conn = DriverManager.getConnection(url, userName, password);\r\n                Statement stmt = conn.createStatement();\r\n                ResultSet rs = stmt.executeQuery(&quot;SELECT VERSION()&quot;);\r\n                rs.next();\r\n                String version = rs.getString(1);\r\n                rs.close();\r\n                stmt.close();\r\n    \r\n                System.out.println(&quot;------------------------&quot;);\r\n                System.out.println(version);\r\n                System.out.println(&quot;------------------------&quot;);\r\n            } finally {\r\n                try {\r\n                    conn.close();\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n                ServerLauncherSocketFactory.shutdown(hostColonPort);\r\n            }\r\n        }\r\n    }\r\n      \r\n\r\n\r\n\r\n  [1]: http://www.nfrese.net/software/gnu_net_local/overview.html\r\n  [2]: http://mysql.telepac.pt/doc/refman/5.0/en/mxj-driver-launched.html\r\n  [3]: http://web.archive.org/web/20080820110115/http://www.nfrese.net/software/gnu_net_local/doc/javadoc/index.html\r\n  [4]: http://web.archive.org/web/20080212211816/http://mysql.telepac.pt/doc/refman/5.0/en/mxj-driver-launched.html","title":"UNIX socket implementation for Java?","body":"<p>Some searching on the internet has uncovered the following useful-looking library:</p>\n\n<p><a href=\"http://www.nfrese.net/software/gnu_net_local/overview.html\" rel=\"nofollow noreferrer\">http://www.nfrese.net/software/gnu_net_local/overview.html</a></p>\n\n<p><a href=\"http://web.archive.org/web/20080820110115/http://www.nfrese.net/software/gnu_net_local/doc/javadoc/index.html\" rel=\"nofollow noreferrer\">Wayback Link</a></p>\n\n<p>Writing a socket factory should be easy enough.  Once you've done so, you can pass it to your driver <a href=\"http://mysql.telepac.pt/doc/refman/5.0/en/mxj-driver-launched.html\" rel=\"nofollow noreferrer\">THUSLY</a>.(<a href=\"http://web.archive.org/web/20080820110115/http://www.nfrese.net/software/gnu_net_local/doc/javadoc/index.html\" rel=\"nofollow noreferrer\">Wayback Link</a>).</p>\n\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.Statement;\n\nimport com.mysql.management.driverlaunched.ServerLauncherSocketFactory;\n\npublic class ConnectorMXJTestExample {\n    public static void main(String[] args) throws Exception {\n        String hostColonPort = \"localhost:3336\";\n\n        String driver = com.mysql.jdbc.Driver.class.getName();\n        String url = \"jdbc:mysql://\" + hostColonPort + \"/\" + \"?\"\n                + \"socketFactory=\"\n                + ServerLauncherSocketFactory.class.getName();\n        String userName = \"root\";\n        String password = \"\";\n\n        Class.forName(driver);\n        Connection conn = null;\n        try {\n            conn = DriverManager.getConnection(url, userName, password);\n            Statement stmt = conn.createStatement();\n            ResultSet rs = stmt.executeQuery(\"SELECT VERSION()\");\n            rs.next();\n            String version = rs.getString(1);\n            rs.close();\n            stmt.close();\n\n            System.out.println(\"------------------------\");\n            System.out.println(version);\n            System.out.println(\"------------------------\");\n        } finally {\n            try {\n                conn.close();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n            ServerLauncherSocketFactory.shutdown(hostColonPort);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"Christian Kohlsch&#252;tter"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1489862927,"creation_date":1252476456,"answer_id":1397797,"question_id":170600,"body_markdown":"You could use junixsocket: https://github.com/kohlschutter/junixsocket\r\n\r\nIt already provides code for connecting to MySQL from Java (Connector/J) via Unix sockets.\r\n\r\nOne big advantage compared to other implementations is that junixsocket uses the standard Java Socket API.","title":"UNIX socket implementation for Java?","body":"<p>You could use junixsocket: <a href=\"https://github.com/kohlschutter/junixsocket\" rel=\"noreferrer\">https://github.com/kohlschutter/junixsocket</a></p>\n\n<p>It already provides code for connecting to MySQL from Java (Connector/J) via Unix sockets.</p>\n\n<p>One big advantage compared to other implementations is that junixsocket uses the standard Java Socket API.</p>\n"},{"tags":[],"owner":{"account_id":677225,"reputation":6228,"user_id":676877,"display_name":"Brett Okken"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1420303847,"creation_date":1420303847,"answer_id":27757145,"question_id":170600,"body_markdown":"The [JNR project][1] (which is a loose basis for [project panama][2]) has a [unix socket][3] implementation.\r\n\r\n\r\n  [1]: https://github.com/jnr\r\n  [2]: http://openjdk.java.net/projects/panama/\r\n  [3]: https://github.com/jnr/jnr-unixsocket","title":"UNIX socket implementation for Java?","body":"<p>The <a href=\"https://github.com/jnr\" rel=\"nofollow\">JNR project</a> (which is a loose basis for <a href=\"http://openjdk.java.net/projects/panama/\" rel=\"nofollow\">project panama</a>) has a <a href=\"https://github.com/jnr/jnr-unixsocket\" rel=\"nofollow\">unix socket</a> implementation.</p>\n"},{"tags":[],"owner":{"account_id":9488179,"reputation":131,"user_id":7053934,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1489851882,"creation_date":1477064423,"answer_id":40180646,"question_id":170600,"body_markdown":"The [MariaDB JDBC driver][1] now supports this and is compatible with the MySQL JDBC driver.\r\n\r\nUse a JDBC url like:\r\n\r\n`jdbc:mariadb://localhost:3306/revmgt?localSocket=/var/run/mysqld/mysqld.sock`\r\n\r\nWorth noting that this library require including the JNA library as it uses JNA to access native unix domain sockets. It works pretty well in my testing.  I saw speed improvements on CPU bound java processes from the offload to native code.  \r\n\r\n\r\n  [1]: https://mariadb.com/kb/en/mariadb/about-mariadb-connector-j","title":"UNIX socket implementation for Java?","body":"<p>The <a href=\"https://mariadb.com/kb/en/mariadb/about-mariadb-connector-j\" rel=\"nofollow noreferrer\">MariaDB JDBC driver</a> now supports this and is compatible with the MySQL JDBC driver.</p>\n\n<p>Use a JDBC url like:</p>\n\n<p><code>jdbc:mariadb://localhost:3306/revmgt?localSocket=/var/run/mysqld/mysqld.sock</code></p>\n\n<p>Worth noting that this library require including the JNA library as it uses JNA to access native unix domain sockets. It works pretty well in my testing.  I saw speed improvements on CPU bound java processes from the offload to native code.  </p>\n"},{"tags":[],"owner":{"account_id":5280360,"reputation":759,"user_id":4215944,"display_name":"Benny"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1620995763,"creation_date":1620987205,"answer_id":67532632,"question_id":170600,"body_markdown":"As of Java 16, Unix domain sockets are supported natively by java through  [SocketChannel][2] and [ServerSocketChannel][3] API.\r\n\r\nYou can find more information about it in [JEP380][1] proposal and implementation example [here][4].\r\n\r\n\r\n  [1]: https://inside.java/2021/02/03/jep380-unix-domain-sockets-channels/\r\n  [2]: https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/nio/channels/SocketChannel.html\r\n  [3]: https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/nio/channels/ServerSocketChannel.html\r\n  [4]: https://docs.oracle.com/en/java/javase/16/core/internet-protocol-and-unix-domain-sockets-nio-example.html","title":"UNIX socket implementation for Java?","body":"<p>As of Java 16, Unix domain sockets are supported natively by java through  <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/nio/channels/SocketChannel.html\" rel=\"noreferrer\">SocketChannel</a> and <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/nio/channels/ServerSocketChannel.html\" rel=\"noreferrer\">ServerSocketChannel</a> API.</p>\n<p>You can find more information about it in <a href=\"https://inside.java/2021/02/03/jep380-unix-domain-sockets-channels/\" rel=\"noreferrer\">JEP380</a> proposal and implementation example <a href=\"https://docs.oracle.com/en/java/javase/16/core/internet-protocol-and-unix-domain-sockets-nio-example.html\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":12941827,"reputation":37,"user_id":9357392,"display_name":"Ian Morris Nieves"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648651612,"creation_date":1648651612,"answer_id":71679443,"question_id":170600,"body_markdown":"no one has yet mentioned:\r\nhttps://github.com/sbt/ipcsocket\r\n\r\nhas worked for me","title":"UNIX socket implementation for Java?","body":"<p>no one has yet mentioned:\n<a href=\"https://github.com/sbt/ipcsocket\" rel=\"nofollow noreferrer\">https://github.com/sbt/ipcsocket</a></p>\n<p>has worked for me</p>\n"}],"owner":{"account_id":11258,"reputation":108509,"user_id":21632,"accept_rate":100,"display_name":"Adam Bellaire"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47189,"favorite_count":0,"down_vote_count":1,"up_vote_count":52,"closed_date":1648653325,"accepted_answer_id":170633,"answer_count":8,"score":51,"last_activity_date":1648651612,"creation_date":1223137117,"question_id":170600,"body_markdown":"I realize that since UNIX sockets are platform-specific, there has to be some non-Java code involved.  Specifically, we&#39;re interested in using JDBC to connect to a MySQL instance which only has UNIX domain sockets enabled.  \r\n\r\nIt doesn&#39;t look like this is supported, but from what I&#39;ve read it should be at least possible to write a SocketFactory for JDBC based on UNIX sockets *if* we can find a decent implementation of UNIX sockets for Java.  \r\n\r\nHas anyone tried this?  Does anyone know of such an implementation?","title":"UNIX socket implementation for Java?","body":"<p>I realize that since UNIX sockets are platform-specific, there has to be some non-Java code involved.  Specifically, we're interested in using JDBC to connect to a MySQL instance which only has UNIX domain sockets enabled.  </p>\n\n<p>It doesn't look like this is supported, but from what I've read it should be at least possible to write a SocketFactory for JDBC based on UNIX sockets <em>if</em> we can find a decent implementation of UNIX sockets for Java.  </p>\n\n<p>Has anyone tried this?  Does anyone know of such an implementation?</p>\n"},{"tags":["java","jpa","spring-data-jpa","jpa-criteria"],"comments":[{"owner":{"display_name":"user3973283"},"score":0,"creation_date":1531227170,"post_id":51262962,"comment_id":89509409,"body_markdown":"PostgreSQL only gives that message if there ARE 5 parameter slots in the SQL, and the one you quote has 3.","body":"PostgreSQL only gives that message if there ARE 5 parameter slots in the SQL, and the one you quote has 3."},{"owner":{"account_id":2712123,"reputation":813,"user_id":2340345,"accept_rate":50,"display_name":"user2340345"},"score":0,"creation_date":1531282801,"post_id":51262962,"comment_id":89531975,"body_markdown":"There are 5 params, I haven&#39;t specified in the query, just updating it now","body":"There are 5 params, I haven&#39;t specified in the query, just updating it now"}],"answers":[{"tags":[],"owner":{"account_id":3268206,"reputation":647,"user_id":2752226,"display_name":"Ronald James"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531223761,"creation_date":1531223761,"answer_id":51264562,"question_id":51262962,"body_markdown":"A quick suggestion will be to create an expression with IN predicate and add it to your query builder. I haven&#39;t executed the code but something like below should work.\r\n\r\n    List&lt;String&gt; list = Arrays.asList(new String[]{&quot;SomeValue1&quot;, &quot;SomeValue1&quot;});\r\n    \r\n    Expression&lt;String&gt; inExpression = root.get( TestRecord_.eventType);\r\n    Predicate inPredicate = inExpression.in(list);\r\n\r\n    if (eventType != null &amp;&amp; !eventType.isEmpty()) {\r\n        predicates.add(builder.and(builder.equal(inPredicate)));\r\n    }\r\n","title":"Criteria Query, JPA 2 - build query with IN clause using predicates","body":"<p>A quick suggestion will be to create an expression with IN predicate and add it to your query builder. I haven't executed the code but something like below should work.</p>\n\n<pre><code>List&lt;String&gt; list = Arrays.asList(new String[]{\"SomeValue1\", \"SomeValue1\"});\n\nExpression&lt;String&gt; inExpression = root.get( TestRecord_.eventType);\nPredicate inPredicate = inExpression.in(list);\n\nif (eventType != null &amp;&amp; !eventType.isEmpty()) {\n    predicates.add(builder.and(builder.equal(inPredicate)));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24747056,"reputation":1,"user_id":18633108,"display_name":"Victor Loureiro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648651375,"creation_date":1648651375,"answer_id":71679371,"question_id":51262962,"body_markdown":"you can use something like this:\r\n\r\n    predicates.add(root.get(&quot;xx&quot;).in(ids));\r\n\r\ntks!","title":"Criteria Query, JPA 2 - build query with IN clause using predicates","body":"<p>you can use something like this:</p>\n<pre><code>predicates.add(root.get(&quot;xx&quot;).in(ids));\n</code></pre>\n<p>tks!</p>\n"}],"owner":{"account_id":2712123,"reputation":813,"user_id":2340345,"accept_rate":50,"display_name":"user2340345"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5437,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648651375,"creation_date":1531218688,"question_id":51262962,"body_markdown":"Im using the below code for PostgresDB with JPA Criteria Query\r\n\r\n    public static Specification&lt;EventRecord&gt; findEventRecords(final String id,\r\n        \tfinal Boolean status,\r\n        \tfinal Date createdTime, final Date updatedTime, final String userId, \r\n        \tfinal List&lt;ChannelType&gt; channelType, final List&lt;String&gt; eventType) {\r\n        \t\t\r\n        \t\t return (root, query, builder) -&gt; {\r\n        \t\t\tList&lt;Predicate&gt; predicates = new ArrayList&lt;Predicate&gt;();\r\n        \t\t\tpredicates.add(builder.and(builder.equal(root.get( TestRecord_.id), id))); //1st param from Rest API\r\n        \t\t\tpredicates.add(builder.and(builder.equal(root.get( TestRecord_.status),status))); //2nd param from Rest API\r\n        \t\t\tpredicates.add(builder.and(builder.greaterThanOrEqualTo(root.get( TestRecord_.createdTime), createdTime))); //3rd param from Rest API\r\n        \t\t\tpredicates.add(builder.and(builder.lessThanOrEqualTo(root.get( TestRecord_.updatedTime), updatedTime))); //4th param from Rest API\r\n        \t\t\t\t\r\n        \t\t\tif (eventType != null &amp;&amp; !eventType.isEmpty()) {\r\n        \t\t\t\tpredicates.add(builder.and(builder.equal(root.get( TestRecord_.eventType), eventType))); // gives error saying No value specified for parameter 5.\r\n        \t\t\t}\r\n    \r\n                    Predicate[] predicatesArray = new Predicate[predicates.size()];\r\n    \t\t\t\treturn builder.and(predicates.toArray(predicatesArray));\r\n    \t\t};\r\n        }\r\n        }\r\n\r\nI tried with in and isMember() but I still get error, How can I use a IN clause to build a query using Predicates.\r\n\r\n    Query :\r\n     select * from test_record where (id=? and status = true and created_time = ? and updated_time = ? and event_type IN (value1, value2, value3);\r\n\r\n**Update**\r\n\r\n    Query That i want to build with Predicates :\r\n     select * from test_record where (id=? and status = ? and created_time = ? and updated_time = ? and event_type IN ?;\r\n\r\nSo Im getting same error when I&#39;m passing any list VALUES, how do resolve these error:\r\n\r\n    org.postgresql.util.PSQLException: No value specified for parameter 5.\r\n    \tat org.postgresql.core.v3.SimpleParameterList.checkAllParametersSet(SimpleParameterList.java:257) ~[postgresql-42.2.2.jar:42.2.2]\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:290) ~[postgresql-42.2.2.jar:42.2.2]\r\n    \tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:441) ~[postgresql-42.2.2.jar:42.2.2]\r\n\r\n\r\n\r\n    ","title":"Criteria Query, JPA 2 - build query with IN clause using predicates","body":"<p>Im using the below code for PostgresDB with JPA Criteria Query</p>\n\n<pre><code>public static Specification&lt;EventRecord&gt; findEventRecords(final String id,\n        final Boolean status,\n        final Date createdTime, final Date updatedTime, final String userId, \n        final List&lt;ChannelType&gt; channelType, final List&lt;String&gt; eventType) {\n\n             return (root, query, builder) -&gt; {\n                List&lt;Predicate&gt; predicates = new ArrayList&lt;Predicate&gt;();\n                predicates.add(builder.and(builder.equal(root.get( TestRecord_.id), id))); //1st param from Rest API\n                predicates.add(builder.and(builder.equal(root.get( TestRecord_.status),status))); //2nd param from Rest API\n                predicates.add(builder.and(builder.greaterThanOrEqualTo(root.get( TestRecord_.createdTime), createdTime))); //3rd param from Rest API\n                predicates.add(builder.and(builder.lessThanOrEqualTo(root.get( TestRecord_.updatedTime), updatedTime))); //4th param from Rest API\n\n                if (eventType != null &amp;&amp; !eventType.isEmpty()) {\n                    predicates.add(builder.and(builder.equal(root.get( TestRecord_.eventType), eventType))); // gives error saying No value specified for parameter 5.\n                }\n\n                Predicate[] predicatesArray = new Predicate[predicates.size()];\n                return builder.and(predicates.toArray(predicatesArray));\n        };\n    }\n    }\n</code></pre>\n\n<p>I tried with in and isMember() but I still get error, How can I use a IN clause to build a query using Predicates.</p>\n\n<pre><code>Query :\n select * from test_record where (id=? and status = true and created_time = ? and updated_time = ? and event_type IN (value1, value2, value3);\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<pre><code>Query That i want to build with Predicates :\n select * from test_record where (id=? and status = ? and created_time = ? and updated_time = ? and event_type IN ?;\n</code></pre>\n\n<p>So Im getting same error when I'm passing any list VALUES, how do resolve these error:</p>\n\n<pre><code>org.postgresql.util.PSQLException: No value specified for parameter 5.\n    at org.postgresql.core.v3.SimpleParameterList.checkAllParametersSet(SimpleParameterList.java:257) ~[postgresql-42.2.2.jar:42.2.2]\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:290) ~[postgresql-42.2.2.jar:42.2.2]\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:441) ~[postgresql-42.2.2.jar:42.2.2]\n</code></pre>\n"},{"tags":["java","scala","keystore","java-security","java-security-manager"],"comments":[{"owner":{"account_id":13165517,"reputation":336,"user_id":9509857,"display_name":"applewil"},"score":0,"creation_date":1619707250,"post_id":67316956,"comment_id":118991751,"body_markdown":"Does it work when you use JKS format instead of P12?  You can convert your P12 to JKS with keytool\n\n`keytool -importkeystore -srckeystore keystore.p12 -srcstoretype PKCS12 -destkeystore keystore.jks`","body":"Does it work when you use JKS format instead of P12?  You can convert your P12 to JKS with keytool  <code>keytool -importkeystore -srckeystore keystore.p12 -srcstoretype PKCS12 -destkeystore keystore.jks</code>"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1619771514,"post_id":67316956,"comment_id":119010669,"body_markdown":"Are you sure you&#39;re using the same PKCS12 file in both systems? Where does it come from or how was it created? (Although the &#39;public key protected&#39; option is in the RFC I&#39;ve never seen anything that implements or uses it.)","body":"Are you sure you&#39;re using the same PKCS12 file in both systems? Where does it come from or how was it created? (Although the &#39;public key protected&#39; option is in the RFC I&#39;ve never seen anything that implements or uses it.)"},{"owner":{"account_id":7741621,"reputation":422,"user_id":5861136,"display_name":"Amey Lokhande"},"score":1,"creation_date":1619785010,"post_id":67316956,"comment_id":119015706,"body_markdown":"Hi, @applewil I think there&#39;s something wrong with the P12 file which I currently have. I&#39;m trying to format it &amp; see if that works. But thanks for commenting.","body":"Hi, @applewil I think there&#39;s something wrong with the P12 file which I currently have. I&#39;m trying to format it &amp; see if that works. But thanks for commenting."}],"answers":[{"tags":[],"owner":{"account_id":3326146,"reputation":73,"user_id":2796198,"display_name":"jgoyer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636122050,"creation_date":1636122050,"answer_id":69854716,"question_id":67316956,"body_markdown":"Just FYI since a I and a coworker spent a couple of hours figuring this out. We got this message when loading a Java Keystore with a cert from a consultant our company hired. \r\n\r\nThe consultant&#39;s cert was the next level up in the trust chain, so the Keystore had our cert and the consultant&#39;s cert.  The problem was that the \r\nconsultant had included two of its certs, one with signature encrypted with SHA-1 and one with SHA-256. Our cert had its signature encrypted with SHA-256. We saw this error intermittently (the kind that drives you nuts) until we removed the SHA-1 encrypted cert from the keystore.","title":"Getting this error - public key protected PKCS12 not supported","body":"<p>Just FYI since a I and a coworker spent a couple of hours figuring this out. We got this message when loading a Java Keystore with a cert from a consultant our company hired.</p>\n<p>The consultant's cert was the next level up in the trust chain, so the Keystore had our cert and the consultant's cert.  The problem was that the\nconsultant had included two of its certs, one with signature encrypted with SHA-1 and one with SHA-256. Our cert had its signature encrypted with SHA-256. We saw this error intermittently (the kind that drives you nuts) until we removed the SHA-1 encrypted cert from the keystore.</p>\n"},{"tags":[],"owner":{"account_id":15992508,"reputation":31,"user_id":11541305,"display_name":"Pavel Orlov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648651302,"creation_date":1648651302,"answer_id":71679351,"question_id":67316956,"body_markdown":"I faced the same error in situation when keystore binary file was corrupted by jinja2 templating engine in ansible.\r\nDisabling templating for keystore fix the issue.\r\n\r\nAs well, you can check file corruption by opening keystore via keytool JDK util.\r\n\r\n    keytool -list -v -keystore yourkeystore\r\n\r\nIn my case, keytool swow me the same error message.\r\n\r\n&gt; public key protected PKCS12 not supported","title":"Getting this error - public key protected PKCS12 not supported","body":"<p>I faced the same error in situation when keystore binary file was corrupted by jinja2 templating engine in ansible.\nDisabling templating for keystore fix the issue.</p>\n<p>As well, you can check file corruption by opening keystore via keytool JDK util.</p>\n<pre><code>keytool -list -v -keystore yourkeystore\n</code></pre>\n<p>In my case, keytool swow me the same error message.</p>\n<blockquote>\n<p>public key protected PKCS12 not supported</p>\n</blockquote>\n"}],"owner":{"account_id":7741621,"reputation":422,"user_id":5861136,"display_name":"Amey Lokhande"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4353,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1648651302,"creation_date":1619697669,"question_id":67316956,"body_markdown":"I&#39;m trying to use java.security.Keystore in scala application\r\n\r\nBelow is how my code looks like - \r\n\r\n```\r\n    val ks: KeyStore = KeyStore.getInstance(&quot;PKCS12&quot;)\r\n    val keyManagerFactory: KeyManagerFactory = KeyManagerFactory.getInstance(&quot;SunX509&quot;)\r\n    val tmf: TrustManagerFactory = TrustManagerFactory.getInstance(&quot;SunX509&quot;)\r\n    val sslContext: SSLContext = SSLContext.getInstance(&quot;TLS&quot;)\r\n```\r\n\r\n\r\n```KEYSTORE_PWD match {\r\n      case Some(password) =&gt;\r\n        val pwdChars: Array[Char] = password.toCharArray\r\n        val keystore: InputStream = KEYSTORE match { // for live override dev certificate\r\n          case Some(path) =&gt;\r\n            new FileInputStream(path)\r\n          case None =&gt;\r\n            getClass.getClassLoader.getResourceAsStream(&quot;myResource&quot;)\r\n        }\r\n        ks.load(keystore, pwdChars)\r\n        keyManagerFactory.init(ks, pwdChars)\r\n        tmf.init(ks)\r\n        sslContext.init(keyManagerFactory.getKeyManagers, tmf.getTrustManagers, new SecureRandom)\r\n        Some(ConnectionContext.https(sslContext))\r\n  ```\r\n\r\nBut when I publish this particular package on my mac &amp; try to use it in a different service I&#39;m getting this particular ERROR - \r\n\r\n```\r\n[error] java.io.IOException: public key protected PKCS12 not supported\r\n[error]         at sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:1958)\r\n[error]         at java.security.KeyStore.load(KeyStore.java:1445)\r\n[error]         at com.f1000.baseservice.BaseMicroService$.createHTTPSContext(BaseMicroService.scala:69)\r\n[error]         at com.f1000.StaticInfomicroservice.StaticInfoMicroService$.createWebServer(StaticInfoMicroService.scala:36)\r\n[error]         at com.f1000.StaticInfomicroservice.StaticInfoMicroService$.$anonfun$main$1(StaticInfoMicroService.scala:61)\r\n[error]         at com.f1000.StaticInfomicroservice.StaticInfoMicroService$.$anonfun$main$1$adapted(StaticInfoMicroService.scala:58)\r\n[error]         at scala.concurrent.impl.CallbackRunnable.run(Promise.scala:60)\r\n[error]         at java.util.concurrent.ForkJoinTask$RunnableExecuteAction.exec(ForkJoinTask.java:1402)\r\n[error]         at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\r\n[error]         at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\r\n[error]         at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\r\n[error]         at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\r\n```\r\n\r\nThis error is generally occuring if I publish the package on a mac machine but when I publish the same on a Windows machine, it works perfectly fine. \r\n\r\nDo you think that this might be something specific to Mac?","title":"Getting this error - public key protected PKCS12 not supported","body":"<p>I'm trying to use java.security.Keystore in scala application</p>\n<p>Below is how my code looks like -</p>\n<pre><code>    val ks: KeyStore = KeyStore.getInstance(&quot;PKCS12&quot;)\n    val keyManagerFactory: KeyManagerFactory = KeyManagerFactory.getInstance(&quot;SunX509&quot;)\n    val tmf: TrustManagerFactory = TrustManagerFactory.getInstance(&quot;SunX509&quot;)\n    val sslContext: SSLContext = SSLContext.getInstance(&quot;TLS&quot;)\n</code></pre>\n<pre><code>      case Some(password) =&gt;\n        val pwdChars: Array[Char] = password.toCharArray\n        val keystore: InputStream = KEYSTORE match { // for live override dev certificate\n          case Some(path) =&gt;\n            new FileInputStream(path)\n          case None =&gt;\n            getClass.getClassLoader.getResourceAsStream(&quot;myResource&quot;)\n        }\n        ks.load(keystore, pwdChars)\n        keyManagerFactory.init(ks, pwdChars)\n        tmf.init(ks)\n        sslContext.init(keyManagerFactory.getKeyManagers, tmf.getTrustManagers, new SecureRandom)\n        Some(ConnectionContext.https(sslContext))\n</code></pre>\n<p>But when I publish this particular package on my mac &amp; try to use it in a different service I'm getting this particular ERROR -</p>\n<pre><code>[error] java.io.IOException: public key protected PKCS12 not supported\n[error]         at sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:1958)\n[error]         at java.security.KeyStore.load(KeyStore.java:1445)\n[error]         at com.f1000.baseservice.BaseMicroService$.createHTTPSContext(BaseMicroService.scala:69)\n[error]         at com.f1000.StaticInfomicroservice.StaticInfoMicroService$.createWebServer(StaticInfoMicroService.scala:36)\n[error]         at com.f1000.StaticInfomicroservice.StaticInfoMicroService$.$anonfun$main$1(StaticInfoMicroService.scala:61)\n[error]         at com.f1000.StaticInfomicroservice.StaticInfoMicroService$.$anonfun$main$1$adapted(StaticInfoMicroService.scala:58)\n[error]         at scala.concurrent.impl.CallbackRunnable.run(Promise.scala:60)\n[error]         at java.util.concurrent.ForkJoinTask$RunnableExecuteAction.exec(ForkJoinTask.java:1402)\n[error]         at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\n[error]         at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\n[error]         at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\n[error]         at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\n</code></pre>\n<p>This error is generally occuring if I publish the package on a mac machine but when I publish the same on a Windows machine, it works perfectly fine.</p>\n<p>Do you think that this might be something specific to Mac?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":7,"creation_date":1648651224,"post_id":71679171,"comment_id":126679380,"body_markdown":"Yes, they are equivalent, but their timing is not.  The command-line form guarantees the property is set before the Java runtime starts.  Setting a property in code may be too late, as some system functionality which makes use of that property may already be initialized when your code executes.","body":"Yes, they are equivalent, but their timing is not.  The command-line form guarantees the property is set before the Java runtime starts.  Setting a property in code may be too late, as some system functionality which makes use of that property may already be initialized when your code executes."},{"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"score":0,"creation_date":1648652931,"post_id":71679171,"comment_id":126680166,"body_markdown":"This comment should be an answer, IMHO","body":"This comment should be an answer, IMHO"},{"owner":{"account_id":4019090,"reputation":1412,"user_id":3310115,"accept_rate":35,"display_name":"user3310115"},"score":0,"creation_date":1648660933,"post_id":71679171,"comment_id":126683437,"body_markdown":"What is the best alternative for command line args then?","body":"What is the best alternative for command line args then?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1649036779,"post_id":71679171,"comment_id":126766705,"body_markdown":"I’m not sure there is one.  Most applications that need to set up system properties have their own startup scripts that add `-D` options to the command line.","body":"I’m not sure there is one.  Most applications that need to set up system properties have their own startup scripts that add <code>-D</code> options to the command line."}],"owner":{"account_id":4019090,"reputation":1412,"user_id":3310115,"accept_rate":35,"display_name":"user3310115"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":426,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648650657,"creation_date":1648650657,"question_id":71679171,"body_markdown":"Is using System.setProperty equivalent to passing the variables in commandline argument in java?\r\n\r\neg: \r\nCan this\r\n\r\n    java -Djavax.net.ssl.trustStore=trustore.jks\r\n\r\nbe replaced by removing -D from the above and adding below in the code \r\n\r\n `System.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;truststore.jks&quot;)`","title":"System.setProperty in java","body":"<p>Is using System.setProperty equivalent to passing the variables in commandline argument in java?</p>\n<p>eg:\nCan this</p>\n<pre><code>java -Djavax.net.ssl.trustStore=trustore.jks\n</code></pre>\n<p>be replaced by removing -D from the above and adding below in the code</p>\n<p><code>System.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;truststore.jks&quot;)</code></p>\n"},{"tags":["java","android","bundle"],"comments":[{"owner":{"account_id":1468586,"reputation":44539,"user_id":1380752,"accept_rate":85,"display_name":"codeMagic"},"score":0,"creation_date":1376934587,"post_id":18319960,"comment_id":26885459,"body_markdown":"What is the error? Post logcat","body":"What is the error? Post logcat"},{"owner":{"account_id":330005,"reputation":132815,"user_id":653856,"accept_rate":100,"display_name":"Raghunandan"},"score":0,"creation_date":1376934641,"post_id":18319960,"comment_id":26885488,"body_markdown":"what is the error? post the stacktrace?","body":"what is the error? post the stacktrace?"},{"owner":{"account_id":2226460,"reputation":13677,"user_id":1965099,"accept_rate":83,"display_name":"Martin Cazares"},"score":0,"creation_date":1376934945,"post_id":18319960,"comment_id":26885654,"body_markdown":"Where is the start activity statement in Level1?","body":"Where is the start activity statement in Level1?"},{"owner":{"account_id":2226460,"reputation":13677,"user_id":1965099,"accept_rate":83,"display_name":"Martin Cazares"},"score":0,"creation_date":1376935089,"post_id":18319960,"comment_id":26885745,"body_markdown":"can you show, the startactivity method you are using to start the Finish activity?","body":"can you show, the startactivity method you are using to start the Finish activity?"},{"owner":{"account_id":1851640,"reputation":137,"user_id":1678073,"accept_rate":23,"display_name":"pingboo23"},"score":0,"creation_date":1376935379,"post_id":18319960,"comment_id":26885895,"body_markdown":"@MartinCazares .. Here it is: Intent finish = new Intent(getApplicationContext(), Finish.class); startActivity(finish); It is placed in some if statements if the user answers the question correctly.","body":"@MartinCazares .. Here it is: Intent finish = new Intent(getApplicationContext(), Finish.class); startActivity(finish); It is placed in some if statements if the user answers the question correctly."},{"owner":{"account_id":2226460,"reputation":13677,"user_id":1965099,"accept_rate":83,"display_name":"Martin Cazares"},"score":0,"creation_date":1376935817,"post_id":18319960,"comment_id":26886113,"body_markdown":"Then thats the issue, you need to pass the intent that has the bundle in order to avoid the nullpointer exception, in the example you just mentioned you will get a crash, because that intent do not contain any extras information, that&#39;s why im asking for the startactivity method, to make sure the intent passed on that method actually contains extras...","body":"Then thats the issue, you need to pass the intent that has the bundle in order to avoid the nullpointer exception, in the example you just mentioned you will get a crash, because that intent do not contain any extras information, that&#39;s why im asking for the startactivity method, to make sure the intent passed on that method actually contains extras..."},{"owner":{"account_id":1851640,"reputation":137,"user_id":1678073,"accept_rate":23,"display_name":"pingboo23"},"score":0,"creation_date":1376936065,"post_id":18319960,"comment_id":26886232,"body_markdown":"Then, I need to put the whole code of the Chronometer where the startActivity is located?","body":"Then, I need to put the whole code of the Chronometer where the startActivity is located?"},{"owner":{"account_id":1851640,"reputation":137,"user_id":1678073,"accept_rate":23,"display_name":"pingboo23"},"score":0,"creation_date":1376937776,"post_id":18319960,"comment_id":26887089,"body_markdown":"@MartinCazares this makes my chronometer not running.","body":"@MartinCazares this makes my chronometer not running."},{"owner":{"account_id":2226460,"reputation":13677,"user_id":1965099,"accept_rate":83,"display_name":"Martin Cazares"},"score":0,"creation_date":1376938139,"post_id":18319960,"comment_id":26887282,"body_markdown":"nono, all you need to do, is to make sure that, either you are actually sending extras in your intent all the time OR put a null check in your Finish activity, see, Extras are linked to the intent that starts the activity, that intent is the very same you are getting in Finish when you call &quot;getIntent&quot;, so if the intent you are passing DO NOT have extras, bang you just got a nullpointerexception","body":"nono, all you need to do, is to make sure that, either you are actually sending extras in your intent all the time OR put a null check in your Finish activity, see, Extras are linked to the intent that starts the activity, that intent is the very same you are getting in Finish when you call &quot;getIntent&quot;, so if the intent you are passing DO NOT have extras, bang you just got a nullpointerexception"}],"answers":[{"tags":[],"owner":{"account_id":300067,"reputation":5365,"user_id":607013,"accept_rate":95,"display_name":"James andresakis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376934770,"creation_date":1376934770,"answer_id":18320019,"question_id":18319960,"body_markdown":"You need to debug your code and put break points where you get your bundle from your intent to check the value in the bundle. Without doing that your guess is as good as ours.","title":"Get bundle values in Android","body":"<p>You need to debug your code and put break points where you get your bundle from your intent to check the value in the bundle. Without doing that your guess is as good as ours.</p>\n"},{"tags":[],"owner":{"account_id":105929,"reputation":8881,"user_id":282398,"accept_rate":100,"display_name":"Delyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376934947,"creation_date":1376934947,"answer_id":18320073,"question_id":18319960,"body_markdown":"From the docs of `putExtras` (emphasis mine):\r\n&gt;Add a set of extended data to the intent. **The keys must include a package prefix**, for example the app com.android.contacts would use names like &quot;com.android.contacts.ShowAll&quot;.\r\n\r\nUse `Intent.putExtra(&quot;hour1&quot;, hours);` instead.","title":"Get bundle values in Android","body":"<p>From the docs of <code>putExtras</code> (emphasis mine):</p>\n\n<blockquote>\n  <p>Add a set of extended data to the intent. <strong>The keys must include a package prefix</strong>, for example the app com.android.contacts would use names like \"com.android.contacts.ShowAll\".</p>\n</blockquote>\n\n<p>Use <code>Intent.putExtra(\"hour1\", hours);</code> instead.</p>\n"}],"owner":{"account_id":1851640,"reputation":137,"user_id":1678073,"accept_rate":23,"display_name":"pingboo23"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1839,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648650586,"creation_date":1376934508,"question_id":18319960,"body_markdown":"I&#39;m still really confused why I&#39;m having error getting values from the bundle of my main activity.\r\n\r\nSo, here&#39;s my code snippet:\r\n\r\n**Level1.class**\r\n\r\n\tChronometer chrono;\r\n\tchrono = (Chronometer)findViewById(R.id.chronometer1);\r\n\tchrono.start();\r\n\t\r\n\tlong timeElapsed = SystemClock.elapsedRealtime() - chrono.getBase();\r\n\tint hours = (int) (timeElapsed / 3600000);\r\n\tint minutes = (int) (timeElapsed - hours * 3600000) / 60000;\r\n\tint seconds = (int) (timeElapsed - hours * 3600000 - minutes * 60000) / 1000;\r\n\t\r\n\tIntent lvl1 = new Intent(getApplicationContext(), Finish.class);\t\r\n\tBundle time1 = new Bundle();\r\n\ttime1.putInt(&quot;hour1&quot;, hours);\r\n\ttime1.putInt(&quot;minutes1&quot;, minutes);\r\n\ttime1.putInt(&quot;seconds1&quot;, seconds);\r\n\t\r\n\tlvl1.putExtras(time1);\r\n\r\n\r\nand my **Finish.class**: (inside the onCreate method)\r\n\r\n\tTextView Set1;\r\n\t\r\n\tSet1 = (TextView) findViewById (R.id.time1);\r\n\t\r\n\tBundle time1 = getIntent().getExtras();\r\n\tint hrs = time1.getInt(&quot;hour1&quot;);\r\n\tint min = time1.getInt(&quot;minutes1&quot;);\t\r\n\tint sec = time1.getInt(&quot;seconds1&quot;);\r\n\t\r\n\t\r\n\tSet1.setText(hrs + &quot;:&quot; + min + &quot;:&quot; + sec);\r\n\r\n\r\nCould anyone tell me why I&#39;m having errors?\r\n\r\n**Note:** ERROR in line 30, which is the `int hrs = time1.getInt(&quot;hour1&quot;);`.\r\n\r\n\r\nLOGCAT:\r\n\r\n    08-20 01:54:10.461: E/AndroidRuntime(950): FATAL EXCEPTION: main\r\n    08-20 01:54:10.461: E/AndroidRuntime(950): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.mathattack/com.example.mathattack.Finish}: java.lang.NullPointerException\r\n    08-20 01:54:10.461: E/AndroidRuntime(950): \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2663)\r\n    08-20 01:54:10.461: E/AndroidRuntime(950): \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)\r\n    08-20 01:54:10.461: E/AndroidRuntime(950): \tat android.app.ActivityThread.access$2300(ActivityThread.java:125)\r\n    08-20 01:54:10.461: E/AndroidRuntime(950): \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)\r\n    08-20 01:54:10.461: E/AndroidRuntime(950): \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n    08-20 01:54:10.461: E/AndroidRuntime(950): \tat android.os.Looper.loop(Looper.java:123)\r\n    08-20 01:54:10.461: E/AndroidRuntime(950): \tat android.app.ActivityThread.main(ActivityThread.java:4627)\r\n    08-20 01:54:10.461: E/AndroidRuntime(950): \tat java.lang.reflect.Method.invokeNative(Native Method)\r\n    08-20 01:54:10.461: E/AndroidRuntime(950): \tat java.lang.reflect.Method.invoke(Method.java:521)\r\n    08-20 01:54:10.461: E/AndroidRuntime(950): \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)\r\n    08-20 01:54:10.461: E/AndroidRuntime(950): \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)\r\n    08-20 01:54:10.461: E/AndroidRuntime(950): \tat dalvik.system.NativeStart.main(Native Method)\r\n    08-20 01:54:10.461: E/AndroidRuntime(950): Caused by: java.lang.NullPointerException\r\n    08-20 01:54:10.461: E/AndroidRuntime(950): \tat com.example.mathattack.Finish.onCreate(Finish.java:30)\r\n    08-20 01:54:10.461: E/AndroidRuntime(950): \tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)\r\n    08-20 01:54:10.461: E/AndroidRuntime(950): \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627)\r\n    08-20 01:54:10.461: E/AndroidRuntime(950): \t... 11 more\r\n\r\n","title":"Get bundle values in Android","body":"<p>I'm still really confused why I'm having error getting values from the bundle of my main activity.</p>\n\n<p>So, here's my code snippet:</p>\n\n<p><strong>Level1.class</strong></p>\n\n<pre><code>Chronometer chrono;\nchrono = (Chronometer)findViewById(R.id.chronometer1);\nchrono.start();\n\nlong timeElapsed = SystemClock.elapsedRealtime() - chrono.getBase();\nint hours = (int) (timeElapsed / 3600000);\nint minutes = (int) (timeElapsed - hours * 3600000) / 60000;\nint seconds = (int) (timeElapsed - hours * 3600000 - minutes * 60000) / 1000;\n\nIntent lvl1 = new Intent(getApplicationContext(), Finish.class);    \nBundle time1 = new Bundle();\ntime1.putInt(\"hour1\", hours);\ntime1.putInt(\"minutes1\", minutes);\ntime1.putInt(\"seconds1\", seconds);\n\nlvl1.putExtras(time1);\n</code></pre>\n\n<p>and my <strong>Finish.class</strong>: (inside the onCreate method)</p>\n\n<pre><code>TextView Set1;\n\nSet1 = (TextView) findViewById (R.id.time1);\n\nBundle time1 = getIntent().getExtras();\nint hrs = time1.getInt(\"hour1\");\nint min = time1.getInt(\"minutes1\"); \nint sec = time1.getInt(\"seconds1\");\n\n\nSet1.setText(hrs + \":\" + min + \":\" + sec);\n</code></pre>\n\n<p>Could anyone tell me why I'm having errors?</p>\n\n<p><strong>Note:</strong> ERROR in line 30, which is the <code>int hrs = time1.getInt(\"hour1\");</code>.</p>\n\n<p>LOGCAT:</p>\n\n<pre><code>08-20 01:54:10.461: E/AndroidRuntime(950): FATAL EXCEPTION: main\n08-20 01:54:10.461: E/AndroidRuntime(950): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.mathattack/com.example.mathattack.Finish}: java.lang.NullPointerException\n08-20 01:54:10.461: E/AndroidRuntime(950):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2663)\n08-20 01:54:10.461: E/AndroidRuntime(950):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)\n08-20 01:54:10.461: E/AndroidRuntime(950):  at android.app.ActivityThread.access$2300(ActivityThread.java:125)\n08-20 01:54:10.461: E/AndroidRuntime(950):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)\n08-20 01:54:10.461: E/AndroidRuntime(950):  at android.os.Handler.dispatchMessage(Handler.java:99)\n08-20 01:54:10.461: E/AndroidRuntime(950):  at android.os.Looper.loop(Looper.java:123)\n08-20 01:54:10.461: E/AndroidRuntime(950):  at android.app.ActivityThread.main(ActivityThread.java:4627)\n08-20 01:54:10.461: E/AndroidRuntime(950):  at java.lang.reflect.Method.invokeNative(Native Method)\n08-20 01:54:10.461: E/AndroidRuntime(950):  at java.lang.reflect.Method.invoke(Method.java:521)\n08-20 01:54:10.461: E/AndroidRuntime(950):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)\n08-20 01:54:10.461: E/AndroidRuntime(950):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)\n08-20 01:54:10.461: E/AndroidRuntime(950):  at dalvik.system.NativeStart.main(Native Method)\n08-20 01:54:10.461: E/AndroidRuntime(950): Caused by: java.lang.NullPointerException\n08-20 01:54:10.461: E/AndroidRuntime(950):  at com.example.mathattack.Finish.onCreate(Finish.java:30)\n08-20 01:54:10.461: E/AndroidRuntime(950):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)\n08-20 01:54:10.461: E/AndroidRuntime(950):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627)\n08-20 01:54:10.461: E/AndroidRuntime(950):  ... 11 more\n</code></pre>\n"},{"tags":["java","progress-bar","vaadin","vaadin8"],"answers":[{"tags":[],"owner":{"account_id":21520352,"reputation":1362,"user_id":15861571,"display_name":"Anna Koskinen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648208122,"creation_date":1648207639,"answer_id":71616203,"question_id":71607952,"body_markdown":"I haven&#39;t tried this, but I&#39;d assume it&#39;s semi-easily doable by extending/overriding ProgressBar and its related classes to have two or more progress indicators.\r\n\r\nSee the handling of `indicator` variable in [VProgressBar][1], calling of `getWidget().setState(getState().state);` in [ProgressBarConnector][2], variable `state` in [ProgressBarState][3], and the `getValue` and `setValue` handling in [ProgressBar][4] -- you are going to need to duplicate all of those. You&#39;ll also need styling for the extra indicators (see [Valo styles for ProgressBar][5]).\r\n\r\nGiven that three of the above are client-side classes, take a look at the [Client-Side Development documentation][6] if you aren&#39;t familiar with it from before, and remember to recompile your widgetset after every change.\r\n\r\nIf you ever want a version where the second bar isn&#39;t a subset of the first one but a completely different progress, and don&#39;t know upfront which task is slowest, I suppose you&#39;ll also need extra logic for determining which bar is underneath (otherwise the faster one might hide the slower one), and possibly for swapping the colors of the bars if their relative speed changes. Or you could tweak the design so that both bars are always visible.\r\n\r\n\r\n  [1]: https://github.com/vaadin/framework/blob/master/client/src/main/java/com/vaadin/client/ui/VProgressBar.java\r\n  [2]: https://github.com/vaadin/framework/blob/master/client/src/main/java/com/vaadin/client/ui/progressbar/ProgressBarConnector.java\r\n  [3]: https://github.com/vaadin/framework/blob/master/shared/src/main/java/com/vaadin/shared/ui/progressindicator/ProgressBarState.java\r\n  [4]: https://github.com/vaadin/framework/blob/master/server/src/main/java/com/vaadin/ui/ProgressBar.java\r\n  [5]: https://github.com/vaadin/framework/blob/master/themes/src/main/themes/VAADIN/themes/valo/components/_progressbar.scss\r\n  [6]: https://vaadin.com/docs/v8/framework/clientside/clientside-overview","title":"Overlapping progressbar in Vaadin 8","body":"<p>I haven't tried this, but I'd assume it's semi-easily doable by extending/overriding ProgressBar and its related classes to have two or more progress indicators.</p>\n<p>See the handling of <code>indicator</code> variable in <a href=\"https://github.com/vaadin/framework/blob/master/client/src/main/java/com/vaadin/client/ui/VProgressBar.java\" rel=\"nofollow noreferrer\">VProgressBar</a>, calling of <code>getWidget().setState(getState().state);</code> in <a href=\"https://github.com/vaadin/framework/blob/master/client/src/main/java/com/vaadin/client/ui/progressbar/ProgressBarConnector.java\" rel=\"nofollow noreferrer\">ProgressBarConnector</a>, variable <code>state</code> in <a href=\"https://github.com/vaadin/framework/blob/master/shared/src/main/java/com/vaadin/shared/ui/progressindicator/ProgressBarState.java\" rel=\"nofollow noreferrer\">ProgressBarState</a>, and the <code>getValue</code> and <code>setValue</code> handling in <a href=\"https://github.com/vaadin/framework/blob/master/server/src/main/java/com/vaadin/ui/ProgressBar.java\" rel=\"nofollow noreferrer\">ProgressBar</a> -- you are going to need to duplicate all of those. You'll also need styling for the extra indicators (see <a href=\"https://github.com/vaadin/framework/blob/master/themes/src/main/themes/VAADIN/themes/valo/components/_progressbar.scss\" rel=\"nofollow noreferrer\">Valo styles for ProgressBar</a>).</p>\n<p>Given that three of the above are client-side classes, take a look at the <a href=\"https://vaadin.com/docs/v8/framework/clientside/clientside-overview\" rel=\"nofollow noreferrer\">Client-Side Development documentation</a> if you aren't familiar with it from before, and remember to recompile your widgetset after every change.</p>\n<p>If you ever want a version where the second bar isn't a subset of the first one but a completely different progress, and don't know upfront which task is slowest, I suppose you'll also need extra logic for determining which bar is underneath (otherwise the faster one might hide the slower one), and possibly for swapping the colors of the bars if their relative speed changes. Or you could tweak the design so that both bars are always visible.</p>\n"}],"owner":{"account_id":1790857,"reputation":4370,"user_id":1631306,"accept_rate":95,"display_name":"user1631306"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1648650077,"creation_date":1648147807,"question_id":71607952,"body_markdown":"I am wondering if I can achieve something like this in Vaadin 8:\r\n\r\n[![overlapping progressbar][1]][1]\r\n\r\nThe orange bar represents one progress and the green represents another one, which is subset of the orange. Basically, the green bar can be smaller or equal to the orange.\r\n\r\nRight now, I have only\r\n\r\n[![simple progressbar][2]][2]\r\n\r\n\r\nFollowing is the code:\r\n\r\n\t\t    AbstractLayout progressBarInformationLayout = \r\n\r\n            VaadinLayoutUtility.getInstance().generateHLayout();\r\n    \t\tprogressBarInformationLayout.setStyleName(&quot;dashboard_progress_bar_info_layout&quot;);\r\n    \t\tlayout.addComponent(progressBarInformationLayout);\r\n    \r\n    \t\tfloat progressBarValue = actualIncludeTotal / (float) predictedInclude;\r\n    \t\tProgressBar progressBar = new ProgressBar(progressBarValue);\r\n    \t\tprogressBar.setId(&quot;dashboard_progress_bar&quot;);\r\n    \t\tprogressBar.setWidth(&quot;230px&quot;);\r\n    \t\tprogressBar.setStyleName(&quot;progress_bar&quot;);\r\n    \t\tprogressBarInformationLayout.addComponent(progressBar);\r\n    \r\n    \t\tLabel progressLabel = new Label(df2.format(progressBarValue * 100) + &quot;%&quot;);\r\n    \t\tprogressLabel.setStyleName(&quot;progress_label&quot;);\r\n    \t\tprogressBarInformationLayout.addComponent(progressLabel);\r\n\r\n  [1]: https://i.stack.imgur.com/myGjf.png\r\n  [2]: https://i.stack.imgur.com/uS8q5.png","title":"Overlapping progressbar in Vaadin 8","body":"<p>I am wondering if I can achieve something like this in Vaadin 8:</p>\n<p><a href=\"https://i.stack.imgur.com/myGjf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/myGjf.png\" alt=\"overlapping progressbar\" /></a></p>\n<p>The orange bar represents one progress and the green represents another one, which is subset of the orange. Basically, the green bar can be smaller or equal to the orange.</p>\n<p>Right now, I have only</p>\n<p><a href=\"https://i.stack.imgur.com/uS8q5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uS8q5.png\" alt=\"simple progressbar\" /></a></p>\n<p>Following is the code:</p>\n<pre><code>        AbstractLayout progressBarInformationLayout = \n\n        VaadinLayoutUtility.getInstance().generateHLayout();\n        progressBarInformationLayout.setStyleName(&quot;dashboard_progress_bar_info_layout&quot;);\n        layout.addComponent(progressBarInformationLayout);\n\n        float progressBarValue = actualIncludeTotal / (float) predictedInclude;\n        ProgressBar progressBar = new ProgressBar(progressBarValue);\n        progressBar.setId(&quot;dashboard_progress_bar&quot;);\n        progressBar.setWidth(&quot;230px&quot;);\n        progressBar.setStyleName(&quot;progress_bar&quot;);\n        progressBarInformationLayout.addComponent(progressBar);\n\n        Label progressLabel = new Label(df2.format(progressBarValue * 100) + &quot;%&quot;);\n        progressLabel.setStyleName(&quot;progress_label&quot;);\n        progressBarInformationLayout.addComponent(progressLabel);\n</code></pre>\n"},{"tags":["java","hibernate","jpa","many-to-many"],"comments":[{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":0,"creation_date":1495628841,"post_id":44157641,"comment_id":75333026,"body_markdown":"FWIW, other JPA providers support a full range of declared Collection type.","body":"FWIW, other JPA providers support a full range of declared Collection type."}],"answers":[{"tags":[],"owner":{"account_id":2535057,"reputation":25845,"user_id":2202415,"display_name":"Maciej Kowalski"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1495627418,"creation_date":1495627418,"answer_id":44157907,"question_id":44157641,"body_markdown":"The supported interfaces are:\r\n\r\n    java.util.Set\r\n    java.util.List\r\n    java.util.Collection\r\n\r\nYou get the exception because you have used a concrete implementation of one of those interfaces. Always define the `@ManyToMany` or `@OneToMany` using an interface as given above and you will be fine.\r\n\r\n","title":"Which collections are supported by Hibernate @ManyToMany annotation","body":"<p>The supported interfaces are:</p>\n\n<pre><code>java.util.Set\njava.util.List\njava.util.Collection\n</code></pre>\n\n<p>You get the exception because you have used a concrete implementation of one of those interfaces. Always define the <code>@ManyToMany</code> or <code>@OneToMany</code> using an interface as given above and you will be fine.</p>\n"},{"tags":[],"owner":{"account_id":24724462,"reputation":1,"user_id":18613131,"display_name":"hausm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648650048,"creation_date":1648650048,"answer_id":71678992,"question_id":44157641,"body_markdown":"ArrayList **is** supported but you have to write it like **this**:\r\n\r\n    private List&lt;User&gt; users = new ArrayList&lt;&gt;();\r\n\r\ninstead of\r\n\r\n    private ArrayList&lt;User&gt; users = new ArrayList&lt;&gt;(); //gives an error","title":"Which collections are supported by Hibernate @ManyToMany annotation","body":"<p>ArrayList <strong>is</strong> supported but you have to write it like <strong>this</strong>:</p>\n<pre><code>private List&lt;User&gt; users = new ArrayList&lt;&gt;();\n</code></pre>\n<p>instead of</p>\n<pre><code>private ArrayList&lt;User&gt; users = new ArrayList&lt;&gt;(); //gives an error\n</code></pre>\n"}],"owner":{"account_id":1138237,"reputation":6479,"user_id":1122841,"accept_rate":57,"display_name":"Kaushik Lele"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5487,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":44157907,"answer_count":2,"score":3,"last_activity_date":1648650048,"creation_date":1495626718,"question_id":44157641,"body_markdown":"I used `@ManyToMany` annotation on a Set and it worked fine. \r\n\r\n\t@ManyToMany\r\n\t@JoinTable(name=&quot;stud_course_map&quot;,joinColumns={@JoinColumn(name=&quot;stud_id &quot;)}, inverseJoinColumns={@JoinColumn(name=&quot;course_id&quot;)} )\r\n\tpublic Set&lt;Course&gt; getEnrolledCourses() {\r\n\t\treturn enrolledCourses;\r\n\t}\r\n\r\nWhen I used `ArrayList` instead of `Set` it throws exception:\r\n\r\n&gt; org.hibernate.AnnotationException: Illegal attempt to map a non\r\n&gt; collection as a @OneToMany, @ManyToMany or @CollectionOfElements:\r\n&gt; com.kaushik.winnersoft.data.Student.enrolledCourses\r\n\r\n\r\nIs `ArrayList` not supported? Which all collection are supported by `@ManyToMany` annotation?","title":"Which collections are supported by Hibernate @ManyToMany annotation","body":"<p>I used <code>@ManyToMany</code> annotation on a Set and it worked fine. </p>\n\n<pre><code>@ManyToMany\n@JoinTable(name=\"stud_course_map\",joinColumns={@JoinColumn(name=\"stud_id \")}, inverseJoinColumns={@JoinColumn(name=\"course_id\")} )\npublic Set&lt;Course&gt; getEnrolledCourses() {\n    return enrolledCourses;\n}\n</code></pre>\n\n<p>When I used <code>ArrayList</code> instead of <code>Set</code> it throws exception:</p>\n\n<blockquote>\n  <p>org.hibernate.AnnotationException: Illegal attempt to map a non\n  collection as a @OneToMany, @ManyToMany or @CollectionOfElements:\n  com.kaushik.winnersoft.data.Student.enrolledCourses</p>\n</blockquote>\n\n<p>Is <code>ArrayList</code> not supported? Which all collection are supported by <code>@ManyToMany</code> annotation?</p>\n"},{"tags":["java","xstream"],"answers":[{"tags":[],"owner":{"account_id":3849947,"reputation":121,"user_id":3190365,"display_name":"JEEUser0815"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1499024211,"creation_date":1499024211,"answer_id":44874531,"question_id":44698296,"body_markdown":"I had the same &quot;problem&quot; and solved it by allowing the relevant types:\r\n\r\n    Class&lt;?&gt;[] classes = new Class[] { ABC.class, XYZ.class };\r\n    XStream xStream = new XStream();\r\n    XStream.setupDefaultSecurity(xStream);\r\n    xStream.allowTypes(classes);\r\n\r\nMaybe this also helps in your case.\r\n\r\nGood luck!\r\n","title":"Security framework of XStream not initialized, XStream is probably vulnerable","body":"<p>I had the same \"problem\" and solved it by allowing the relevant types:</p>\n\n<pre><code>Class&lt;?&gt;[] classes = new Class[] { ABC.class, XYZ.class };\nXStream xStream = new XStream();\nXStream.setupDefaultSecurity(xStream);\nxStream.allowTypes(classes);\n</code></pre>\n\n<p>Maybe this also helps in your case.</p>\n\n<p>Good luck!</p>\n"},{"tags":[],"owner":{"account_id":3795925,"reputation":1959,"user_id":3151014,"display_name":"t7tran"},"down_vote_count":1,"up_vote_count":44,"is_accepted":true,"score":43,"last_activity_date":1577677072,"creation_date":1500322178,"answer_id":45152845,"question_id":44698296,"body_markdown":"When dealing with security issues, I wouldn&#39;t take it lightly. Firstly one would understand the severity of the issue, here a [good write up][1] or [another one][3].\r\n\r\nThen find out how people recommend the solution. The good place to start is from xstream website itself. There is an example which you can use as a starting point on [xstream security page][2].\r\n\r\nThis would be my set up which basically allows most of your code.\r\n\r\n    XStream xstream = new XStream();\r\n    // clear out existing permissions and set own ones\r\n    xstream.addPermission(NoTypePermission.NONE);\r\n    // allow some basics\r\n    xstream.addPermission(NullPermission.NULL);\r\n    xstream.addPermission(PrimitiveTypePermission.PRIMITIVES);\r\n    xstream.allowTypeHierarchy(Collection.class);\r\n    // allow any type from the same package\r\n    xstream.allowTypesByWildcard(new String[] {\r\n        &quot;com.your.package.**&quot;\r\n    });\r\n\r\nHowever, after diving more into their source code, this is my take:\r\n\r\n    XStream.setupDefaultSecurity(this); // to be removed after 1.5\r\n    xstream.allowTypesByWildcard(new String[] {\r\n        &quot;com.your.package.**&quot;\r\n    });\r\n\r\nSo essentially, you will need just one line once upgrading to 1.5.\r\n\r\nPlease note that you may need more wild cards to suit your application deserialization scenarios. This is not a one-size-fit-all answer but rather a good starting point IMHO.\r\n\r\n  [1]: https://web.archive.org/web/20190404151419/http://blog.diniscruz.com/2013/12/xstream-remote-code-execution-exploit.html\r\n  [2]: http://x-stream.github.io/security.html#example\r\n  [3]: https://www.baeldung.com/java-xstream-remote-code-execution\r\n\r\n","title":"Security framework of XStream not initialized, XStream is probably vulnerable","body":"<p>When dealing with security issues, I wouldn't take it lightly. Firstly one would understand the severity of the issue, here a <a href=\"https://web.archive.org/web/20190404151419/http://blog.diniscruz.com/2013/12/xstream-remote-code-execution-exploit.html\" rel=\"noreferrer\">good write up</a> or <a href=\"https://www.baeldung.com/java-xstream-remote-code-execution\" rel=\"noreferrer\">another one</a>.</p>\n\n<p>Then find out how people recommend the solution. The good place to start is from xstream website itself. There is an example which you can use as a starting point on <a href=\"http://x-stream.github.io/security.html#example\" rel=\"noreferrer\">xstream security page</a>.</p>\n\n<p>This would be my set up which basically allows most of your code.</p>\n\n<pre><code>XStream xstream = new XStream();\n// clear out existing permissions and set own ones\nxstream.addPermission(NoTypePermission.NONE);\n// allow some basics\nxstream.addPermission(NullPermission.NULL);\nxstream.addPermission(PrimitiveTypePermission.PRIMITIVES);\nxstream.allowTypeHierarchy(Collection.class);\n// allow any type from the same package\nxstream.allowTypesByWildcard(new String[] {\n    \"com.your.package.**\"\n});\n</code></pre>\n\n<p>However, after diving more into their source code, this is my take:</p>\n\n<pre><code>XStream.setupDefaultSecurity(this); // to be removed after 1.5\nxstream.allowTypesByWildcard(new String[] {\n    \"com.your.package.**\"\n});\n</code></pre>\n\n<p>So essentially, you will need just one line once upgrading to 1.5.</p>\n\n<p>Please note that you may need more wild cards to suit your application deserialization scenarios. This is not a one-size-fit-all answer but rather a good starting point IMHO.</p>\n"},{"tags":[],"owner":{"account_id":249090,"reputation":4307,"user_id":524900,"display_name":"Lolo"},"down_vote_count":4,"up_vote_count":5,"is_accepted":false,"score":1,"last_activity_date":1541679561,"creation_date":1541679561,"answer_id":53207613,"question_id":44698296,"body_markdown":"It also works by specifying an all-inclusive pattern for allowed classes:\r\n\r\n    xstream.allowTypesByRegExp(new String[] { &quot;.*&quot; });\r\n\r\n","title":"Security framework of XStream not initialized, XStream is probably vulnerable","body":"<p>It also works by specifying an all-inclusive pattern for allowed classes:</p>\n\n<pre><code>xstream.allowTypesByRegExp(new String[] { \".*\" });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":424733,"reputation":1110,"user_id":804894,"accept_rate":71,"display_name":"tricknology"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648649813,"creation_date":1648649813,"answer_id":71678925,"question_id":44698296,"body_markdown":"To anyone who comes across this, it&#39;s likely due to  [CVE-2021-21351][1]\r\n\r\n  [1]: https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-21351\r\n\r\nXStream has a RCE vulnerability in earlier versions. You should upgrade to 1.46.1 or higher immediately. \r\n\r\n","title":"Security framework of XStream not initialized, XStream is probably vulnerable","body":"<p>To anyone who comes across this, it's likely due to  <a href=\"https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-21351\" rel=\"nofollow noreferrer\">CVE-2021-21351</a></p>\n<p>XStream has a RCE vulnerability in earlier versions. You should upgrade to 1.46.1 or higher immediately.</p>\n"}],"owner":{"account_id":1977090,"reputation":8845,"user_id":1774643,"accept_rate":70,"display_name":"Georgian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52093,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":45152845,"answer_count":4,"score":39,"last_activity_date":1648649813,"creation_date":1498131361,"question_id":44698296,"body_markdown":"`Security framework of XStream not initialized, XStream is probably vulnerable`\r\n\r\nI keep getting this console error in red while using XStream (1.4.10)\r\n\r\nI tried the following:\r\n\r\n`XStream.setupDefaultSecurity(xs);`\r\n\r\nand\r\n\r\n`xs.addPermission(AnyTypePermission.ANY);`\r\n`xs.addPermission(NoTypePermission.NONE);`\r\n\r\nnone of which got rid of it.\r\n\r\nI do not need any fancy security settings, I just want to silence that warning. Maybe also prepare the code for 1.5.x","title":"Security framework of XStream not initialized, XStream is probably vulnerable","body":"<p><code>Security framework of XStream not initialized, XStream is probably vulnerable</code></p>\n\n<p>I keep getting this console error in red while using XStream (1.4.10)</p>\n\n<p>I tried the following:</p>\n\n<p><code>XStream.setupDefaultSecurity(xs);</code></p>\n\n<p>and</p>\n\n<p><code>xs.addPermission(AnyTypePermission.ANY);</code>\n<code>xs.addPermission(NoTypePermission.NONE);</code></p>\n\n<p>none of which got rid of it.</p>\n\n<p>I do not need any fancy security settings, I just want to silence that warning. Maybe also prepare the code for 1.5.x</p>\n"},{"tags":["java","json","odata","sap-cloud-sdk"],"answers":[{"tags":[],"owner":{"account_id":20747477,"reputation":166,"user_id":15235787,"display_name":"Johannes Schneider"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648649565,"creation_date":1648649565,"answer_id":71678849,"question_id":71643990,"body_markdown":"_**Disclaimer**: I&#39;m part of the SAP Cloud SDK for Java development team._\r\n\r\nUnfortunately, the SAP Cloud SDK for Java currently doesn&#39;t support excluding &quot;empty&quot; fields (i.e. fields with value `null`) for create / replace (HTTP `POST` / `PUT`) requests automatically.\r\n\r\nWe are considering adding additional APIs in the future to support such use cases.\r\n\r\nPlease also refer to this [GitHub Issue](https://github.com/SAP/cloud-sdk/issues/742) for more details.","title":"com.sap.cloud.sdk.datamodel.odata render empty fields","body":"<p><em><strong>Disclaimer</strong>: I'm part of the SAP Cloud SDK for Java development team.</em></p>\n<p>Unfortunately, the SAP Cloud SDK for Java currently doesn't support excluding &quot;empty&quot; fields (i.e. fields with value <code>null</code>) for create / replace (HTTP <code>POST</code> / <code>PUT</code>) requests automatically.</p>\n<p>We are considering adding additional APIs in the future to support such use cases.</p>\n<p>Please also refer to this <a href=\"https://github.com/SAP/cloud-sdk/issues/742\" rel=\"nofollow noreferrer\">GitHub Issue</a> for more details.</p>\n"}],"owner":{"account_id":24715702,"reputation":3,"user_id":18605441,"display_name":"p3nh2n"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71678849,"answer_count":1,"score":0,"last_activity_date":1648649565,"creation_date":1648453684,"question_id":71643990,"body_markdown":"In the context of an OData update request we run into an error response from the SAP service called. We are using com.sap.cloud.sdk.datamodel:odata-core in version 3.65.0. The Method in Question is com.sap.cloud.sdk.datamodel.odata.helper.FluentHelperUpdate.executeRequest().\r\n\r\nWhen serializing in REST calls with data from com.sap.cloud.sdk.datamodel.odata, empty fields are also rendered into the output:\r\n\r\n    {\r\n        &quot;insuranceId&quot; : &quot;ABC123&quot;,\r\n        &quot;terminationDate&quot; : null,\r\n        &quot;terminationReason&quot; : &quot;UNKNOWN&quot;,\r\n        &quot;terminationWish&quot; : null,\r\n        &quot;terminationReceived&quot; : &quot;/Date(1648027328522)/&quot;,\r\n        &quot;force&quot; : false\r\n    }\r\n\r\nThis fails on the SAP side with HttpResult 400 - bad request, because these fields are either not allowed to be empty or not allowed to be included at all.\r\n\r\nWe are now looking for a way / a setting to prevent this, so that something like\r\n\r\n    {\r\n        &quot;insuranceId&quot; : &quot;ABC123&quot;,\r\n        &quot;terminationReason&quot; : &quot;UNKNOWN&quot;,\r\n        &quot;terminationReceived&quot; : &quot;/Date(1648027328522)/&quot;,\r\n        &quot;force&quot; : false\r\n    }\r\n\r\nis rendered out.\r\n\r\nAs a workaround, we are using com.sap.cloud.sdk.datamodel.odata.helper.FluentHelperUpdate.excludingFields() right now as follows:\r\n\r\n                final var emptyEntityFields = new ArrayList&lt;EntityField&gt;();\r\n                if(cancellation.getTerminationDate() == null) emptyEntityFields.add(new EntityField(&quot;terminationDate&quot;));\r\n                if(cancellation.getTerminationWish() == null) emptyEntityFields.add(new EntityField(&quot;terminationWish&quot;));\r\n                this.dmeEpaService.updateTerminationRequest(terminationRequest)\r\n                        .replacingEntity()\r\n                        .excludingFields(emptyEntityFields.toArray(EntityField[]::new))\r\n                        .executeRequest(this.httpDestination);\r\n\r\nThis workaround is cumbersome and needed on every request affected. As an example, in the jackson environment there is the setting @JsonInclude(JsonInclude.Include.NON_NULL) to accomplish this for every entity class annotated that way. See https://fasterxml.github.io/jackson-annotations/javadoc/2.7/com/fasterxml/jackson/annotation/JsonInclude.Include.html for details.","title":"com.sap.cloud.sdk.datamodel.odata render empty fields","body":"<p>In the context of an OData update request we run into an error response from the SAP service called. We are using com.sap.cloud.sdk.datamodel:odata-core in version 3.65.0. The Method in Question is com.sap.cloud.sdk.datamodel.odata.helper.FluentHelperUpdate.executeRequest().</p>\n<p>When serializing in REST calls with data from com.sap.cloud.sdk.datamodel.odata, empty fields are also rendered into the output:</p>\n<pre><code>{\n    &quot;insuranceId&quot; : &quot;ABC123&quot;,\n    &quot;terminationDate&quot; : null,\n    &quot;terminationReason&quot; : &quot;UNKNOWN&quot;,\n    &quot;terminationWish&quot; : null,\n    &quot;terminationReceived&quot; : &quot;/Date(1648027328522)/&quot;,\n    &quot;force&quot; : false\n}\n</code></pre>\n<p>This fails on the SAP side with HttpResult 400 - bad request, because these fields are either not allowed to be empty or not allowed to be included at all.</p>\n<p>We are now looking for a way / a setting to prevent this, so that something like</p>\n<pre><code>{\n    &quot;insuranceId&quot; : &quot;ABC123&quot;,\n    &quot;terminationReason&quot; : &quot;UNKNOWN&quot;,\n    &quot;terminationReceived&quot; : &quot;/Date(1648027328522)/&quot;,\n    &quot;force&quot; : false\n}\n</code></pre>\n<p>is rendered out.</p>\n<p>As a workaround, we are using com.sap.cloud.sdk.datamodel.odata.helper.FluentHelperUpdate.excludingFields() right now as follows:</p>\n<pre><code>            final var emptyEntityFields = new ArrayList&lt;EntityField&gt;();\n            if(cancellation.getTerminationDate() == null) emptyEntityFields.add(new EntityField(&quot;terminationDate&quot;));\n            if(cancellation.getTerminationWish() == null) emptyEntityFields.add(new EntityField(&quot;terminationWish&quot;));\n            this.dmeEpaService.updateTerminationRequest(terminationRequest)\n                    .replacingEntity()\n                    .excludingFields(emptyEntityFields.toArray(EntityField[]::new))\n                    .executeRequest(this.httpDestination);\n</code></pre>\n<p>This workaround is cumbersome and needed on every request affected. As an example, in the jackson environment there is the setting @JsonInclude(JsonInclude.Include.NON_NULL) to accomplish this for every entity class annotated that way. See <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.7/com/fasterxml/jackson/annotation/JsonInclude.Include.html\" rel=\"nofollow noreferrer\">https://fasterxml.github.io/jackson-annotations/javadoc/2.7/com/fasterxml/jackson/annotation/JsonInclude.Include.html</a> for details.</p>\n"},{"tags":["java","android","unit-testing","tdd","android-espresso"],"answers":[{"tags":[],"owner":{"account_id":47744,"reputation":5200,"user_id":141522,"accept_rate":94,"display_name":"David Weiser"},"down_vote_count":1,"up_vote_count":155,"is_accepted":false,"score":154,"last_activity_date":1648649282,"creation_date":1294853972,"answer_id":4671991,"question_id":4671923,"body_markdown":"[This blog post](http://googletesting.blogspot.com/2010/12/test-sizes.html) explains it best.  Basically, it is the following:\r\n\r\n[![testing chart][1]][1]\r\n\r\n\r\n1. Small: this test doesn&#39;t interact with any file system or network.\r\n2. Medium:  Accesses file systems on box which is running tests.\r\n3. Large: Accesses external file systems, networks, etc.\r\n\r\nPer the [Android Developers blog][2], a small test should take &lt; 100ms, a medium test &lt; 2s, and a large test &lt; 120s.\r\n\r\n[The answer from azizbekian](https://stackoverflow.com/a/45637118/52509) shows **how** to utilize the annotation when running your tests.\r\n\r\nAlso, [this old out-of-date page](https://webcache.googleusercontent.com/search?q=cache:Fq97zvBFAcMJ:https://docs.huihoo.com/android/3.0/guide/developing/testing/testing_otheride.html+&amp;cd=1&amp;hl=en&amp;ct=clnk&amp;gl=us#AMOptionsSyntax) has even more information.  Specifically, how to use the `am instrument` tool with `adb shell`.  Here&#39;s the pertinent parts:\r\n\r\n----------\r\n\r\nam instrument options\r\n---------------------\r\n\r\nThe `am instrument` tool passes testing options to `InstrumentationTestRunner` or a subclass in the form of key-value pairs, using the -e flag, with this syntax:\r\n\r\n```bash\r\n-e &lt;key&gt; &lt;value&gt;\r\n```\r\n\r\nSome keys accept multiple values. You specify multiple values in a comma-separated list. For example, this invocation of `InstrumentationTestRunner` provides multiple values for the `package` key:\r\n\r\n```bash\r\n$ adb shell am instrument -w -e package com.android.test.package1,com.android.test.package2 \\\r\n&gt; com.android.test/android.test.InstrumentationTestRunner\r\n```\r\n\r\nThe following table describes the key-value pairs and their result. Please review the Usage Notes following the table.\r\n\r\n| Key  | Value                      | Description |\r\n| ---- | ------------------------   | ----------- |\r\n| size | [small \\| medium \\| large] | Runs a test method annotated by size. The annotations are @SmallTest, @MediumTest, and @LargeTest.            |\r\n\r\n\r\n----------\r\n\r\nSo reading the above, you could specify small tests like this:\r\n\r\n```bash\r\n$ adb shell am instrument -w \\\r\n&gt;   -e package com.android.test.package1,com.android.test.package2 \\\r\n&gt;   -e size small \\\r\n&gt;  com.android.test/android.test.InstrumentationTestRunner\r\n\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/HfzyW.png\r\n  [2]: https://plus.google.com/+AndroidDevelopers/posts/TPy1EeSaSg8","title":"What is the purpose of @SmallTest, @MediumTest, and @LargeTest annotations in Android?","body":"<p><a href=\"http://googletesting.blogspot.com/2010/12/test-sizes.html\" rel=\"noreferrer\">This blog post</a> explains it best.  Basically, it is the following:</p>\n<p><a href=\"https://i.stack.imgur.com/HfzyW.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/HfzyW.png\" alt=\"testing chart\" /></a></p>\n<ol>\n<li>Small: this test doesn't interact with any file system or network.</li>\n<li>Medium:  Accesses file systems on box which is running tests.</li>\n<li>Large: Accesses external file systems, networks, etc.</li>\n</ol>\n<p>Per the <a href=\"https://plus.google.com/+AndroidDevelopers/posts/TPy1EeSaSg8\" rel=\"noreferrer\">Android Developers blog</a>, a small test should take &lt; 100ms, a medium test &lt; 2s, and a large test &lt; 120s.</p>\n<p><a href=\"https://stackoverflow.com/a/45637118/52509\">The answer from azizbekian</a> shows <strong>how</strong> to utilize the annotation when running your tests.</p>\n<p>Also, <a href=\"https://webcache.googleusercontent.com/search?q=cache:Fq97zvBFAcMJ:https://docs.huihoo.com/android/3.0/guide/developing/testing/testing_otheride.html+&amp;cd=1&amp;hl=en&amp;ct=clnk&amp;gl=us#AMOptionsSyntax\" rel=\"noreferrer\">this old out-of-date page</a> has even more information.  Specifically, how to use the <code>am instrument</code> tool with <code>adb shell</code>.  Here's the pertinent parts:</p>\n<hr />\n<h2>am instrument options</h2>\n<p>The <code>am instrument</code> tool passes testing options to <code>InstrumentationTestRunner</code> or a subclass in the form of key-value pairs, using the -e flag, with this syntax:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>-e &lt;key&gt; &lt;value&gt;\n</code></pre>\n<p>Some keys accept multiple values. You specify multiple values in a comma-separated list. For example, this invocation of <code>InstrumentationTestRunner</code> provides multiple values for the <code>package</code> key:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>$ adb shell am instrument -w -e package com.android.test.package1,com.android.test.package2 \\\n&gt; com.android.test/android.test.InstrumentationTestRunner\n</code></pre>\n<p>The following table describes the key-value pairs and their result. Please review the Usage Notes following the table.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Key</th>\n<th>Value</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>size</td>\n<td>[small | medium | large]</td>\n<td>Runs a test method annotated by size. The annotations are @SmallTest, @MediumTest, and @LargeTest.</td>\n</tr>\n</tbody>\n</table>\n</div><hr />\n<p>So reading the above, you could specify small tests like this:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>$ adb shell am instrument -w \\\n&gt;   -e package com.android.test.package1,com.android.test.package2 \\\n&gt;   -e size small \\\n&gt;  com.android.test/android.test.InstrumentationTestRunner\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1088874,"reputation":61123,"user_id":1083957,"accept_rate":93,"display_name":"azizbekian"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1589878084,"creation_date":1502460134,"answer_id":45637118,"question_id":4671923,"body_markdown":"As an addition to [Davidann&#39;s answer][1] and mainly [OP&#39;s question][2] in the comment:\r\n\r\n&gt; In the context of the code above, does it actually **DO** anything except leave a note for other developers? Does it enforce anything? Are there any tools that utilizes this annotation? What&#39;s it&#39;s purpose in Android development?\r\n\r\nYou can run a group of tests annotated with specific annotation.\r\n\r\nFrom [AndroidJUnitRunner documentation][3]:\r\n\r\n&gt; Running a specific test size i.e. annotated with **SmallTest** or **MediumTest** or **LargeTest**: \r\n\r\n&gt; **adb shell am instrument -w -e size [small|medium|large] com.android.foo/android.support.test.runner.AndroidJUnitRunner**\r\n\r\nYou may also setup those params through gradle:\r\n\r\n&lt;pre&gt;\r\n&lt;code&gt;\r\n\tandroid {\r\n\t    ...\r\n\t    defaultConfig {\r\n\t        ...\r\n\t        testInstrumentationRunnerArgument &#39;size&#39;, &#39;Large&#39;\r\n\t    }\r\n\t}\r\n&lt;/code&gt;\r\n&lt;/pre&gt;\r\n\r\nVia gradle:\r\n\r\n```\r\n-Pandroid.testInstrumentationRunnerArguments.size=small\r\n```\r\n\r\nSee [Doug Stevenson blog post][4] as well as [this blog post][5] for more details.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/4671991/1083957\r\n  [2]: https://stackoverflow.com/questions/4671923/what-is-the-purpose-of-smalltest-mediumtest-and-largetest-annotations-in-an#comment5149140_4671991\r\n  [3]: https://developer.android.com/reference/android/support/test/runner/AndroidJUnitRunner.html\r\n  [4]: https://medium.com/mesmerhq/accelerate-your-android-espresso-testing-by-grouping-relevant-tests-f492d4ff8809\r\n  [5]: https://medium.com/@satyajit/running-subset-of-espresso-tests-locally-and-gcloud-4713931da56","title":"What is the purpose of @SmallTest, @MediumTest, and @LargeTest annotations in Android?","body":"<p>As an addition to <a href=\"https://stackoverflow.com/a/4671991/1083957\">Davidann's answer</a> and mainly <a href=\"https://stackoverflow.com/questions/4671923/what-is-the-purpose-of-smalltest-mediumtest-and-largetest-annotations-in-an#comment5149140_4671991\">OP's question</a> in the comment:</p>\n\n<blockquote>\n  <p>In the context of the code above, does it actually <strong>DO</strong> anything except leave a note for other developers? Does it enforce anything? Are there any tools that utilizes this annotation? What's it's purpose in Android development?</p>\n</blockquote>\n\n<p>You can run a group of tests annotated with specific annotation.</p>\n\n<p>From <a href=\"https://developer.android.com/reference/android/support/test/runner/AndroidJUnitRunner.html\" rel=\"noreferrer\">AndroidJUnitRunner documentation</a>:</p>\n\n<blockquote>\n  <p>Running a specific test size i.e. annotated with <strong>SmallTest</strong> or <strong>MediumTest</strong> or <strong>LargeTest</strong>: </p>\n  \n  <p><strong>adb shell am instrument -w -e size [small|medium|large] com.android.foo/android.support.test.runner.AndroidJUnitRunner</strong></p>\n</blockquote>\n\n<p>You may also setup those params through gradle:</p>\n\n<pre>\n<code>\n    android {\n        ...\n        defaultConfig {\n            ...\n            testInstrumentationRunnerArgument 'size', 'Large'\n        }\n    }\n</code>\n</pre>\n\n<p>Via gradle:</p>\n\n<pre><code>-Pandroid.testInstrumentationRunnerArguments.size=small\n</code></pre>\n\n<p>See <a href=\"https://medium.com/mesmerhq/accelerate-your-android-espresso-testing-by-grouping-relevant-tests-f492d4ff8809\" rel=\"noreferrer\">Doug Stevenson blog post</a> as well as <a href=\"https://medium.com/@satyajit/running-subset-of-espresso-tests-locally-and-gcloud-4713931da56\" rel=\"noreferrer\">this blog post</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":2264347,"reputation":1056,"user_id":1993514,"display_name":"Rhisiart"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1519818785,"creation_date":1519818785,"answer_id":49028953,"question_id":4671923,"body_markdown":"You can also annotate POJO unit tests with `@Category(MediumTest.class)` or `@Category(LargeTest.class)`, etc. by defining your own [Categories](https://github.com/junit-team/junit4/wiki/categories) - see the [test-categories](https://bitbucket.org/xni06/test-categories) repo for an example","title":"What is the purpose of @SmallTest, @MediumTest, and @LargeTest annotations in Android?","body":"<p>You can also annotate POJO unit tests with <code>@Category(MediumTest.class)</code> or <code>@Category(LargeTest.class)</code>, etc. by defining your own <a href=\"https://github.com/junit-team/junit4/wiki/categories\" rel=\"nofollow noreferrer\">Categories</a> - see the <a href=\"https://bitbucket.org/xni06/test-categories\" rel=\"nofollow noreferrer\">test-categories</a> repo for an example</p>\n"}],"owner":{"account_id":21558,"reputation":22829,"user_id":52509,"accept_rate":95,"display_name":"Eric Palakovich Carr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25795,"favorite_count":0,"down_vote_count":0,"up_vote_count":110,"accepted_answer_id":45637118,"answer_count":3,"score":110,"last_activity_date":1648649282,"creation_date":1294853586,"question_id":4671923,"body_markdown":"I&#39;m new to Android and I&#39;ve seen example code using these annotations. For example:\r\n\r\n    @SmallTest\r\n    public void testStuff() {\r\n        TouchUtils.tapView(this, anEditTextView);\r\n        sendKeys(&quot;H E L P SPACE M E PERIOD&quot;);\r\n        assertEquals(&quot;help me.&quot;, anEditTextView.getText().toString());\r\n    }\r\n\r\nWhat does that annotation accomplish?","title":"What is the purpose of @SmallTest, @MediumTest, and @LargeTest annotations in Android?","body":"<p>I'm new to Android and I've seen example code using these annotations. For example:</p>\n\n<pre><code>@SmallTest\npublic void testStuff() {\n    TouchUtils.tapView(this, anEditTextView);\n    sendKeys(\"H E L P SPACE M E PERIOD\");\n    assertEquals(\"help me.\", anEditTextView.getText().toString());\n}\n</code></pre>\n\n<p>What does that annotation accomplish?</p>\n"},{"tags":["java","multithreading","swing","user-interface"],"comments":[{"owner":{"account_id":4038832,"reputation":11673,"user_id":3322273,"accept_rate":73,"display_name":"SomethingSomething"},"score":1,"creation_date":1518428375,"post_id":48743234,"comment_id":84486389,"body_markdown":"A thumb-rule in Swing is to use `SwingUtilities.invokeLater(Runnable)` in order to add a GUI update task to Swing&#39;s queue, after you made your computation in a **different** thread than the GUI thread. Swing&#39;s engine will take care of thread-safely applying your update","body":"A thumb-rule in Swing is to use <code>SwingUtilities.invokeLater(Runnable)</code> in order to add a GUI update task to Swing&#39;s queue, after you made your computation in a <b>different</b> thread than the GUI thread. Swing&#39;s engine will take care of thread-safely applying your update"},{"owner":{"account_id":1491409,"reputation":6134,"user_id":1398418,"display_name":"Oleg"},"score":1,"creation_date":1518428464,"post_id":48743234,"comment_id":84486446,"body_markdown":"Where are you doing `t.join();`? It looks like you&#39;re doing it on the UI thread which blocks it...","body":"Where are you doing <code>t.join();</code>? It looks like you&#39;re doing it on the UI thread which blocks it..."},{"owner":{"account_id":4160036,"reputation":1118,"user_id":3410340,"accept_rate":73,"display_name":"Steve W"},"score":0,"creation_date":1518428629,"post_id":48743234,"comment_id":84486550,"body_markdown":"The lower part of the code is in an action performed event code block.","body":"The lower part of the code is in an action performed event code block."}],"answers":[{"tags":[],"owner":{"account_id":162901,"reputation":10387,"user_id":384674,"accept_rate":69,"display_name":"Betlista"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1518434053,"creation_date":1518430000,"answer_id":48743825,"question_id":48743234,"body_markdown":"Your code is not working as you think it is...\r\n\r\nI created [MVCE](http://stackoverflow.com/help/mcve) for you...\r\n\r\n\timport java.awt.FlowLayout;\r\n\timport java.awt.event.ActionEvent;\r\n\timport java.awt.event.ActionListener;\r\n\timport java.util.List;\r\n\t\r\n\timport javax.swing.JButton;\r\n\timport javax.swing.JFrame;\r\n\timport javax.swing.JLabel;\r\n\timport javax.swing.SwingWorker;\r\n\t\r\n\tpublic class SwingWorkerTest extends JFrame {\r\n\t\r\n\t\tpublic SwingWorkerTest() {\r\n\t\t\tthis.setLayout(new FlowLayout());\r\n\t\t\tJButton button = new JButton(&quot;run&quot;);\r\n\t\t\tJLabel label = new JLabel(&quot;time: -&quot;);\r\n\t\t\tbutton.addActionListener(new ActionListener() {\r\n\t\t\t\t\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\tWorker worker = new Worker(label);\r\n\t\t\t\t\tworker.execute();\r\n\t\t\t\t\t//Check for results truncation\r\n\t//\t\t\t\tboolean truncate = !jCheckBoxTruncate.isSelected();\r\n\t//\t\t\t\tlong startTime = System.nanoTime();\r\n\t//\t\t\t\tString[] args = {fileName};\r\n\t\t\t\t\t//run solution and draw graph\r\n\t//\t\t\t\tSpeciesSelection specSel = new SpeciesSelection(args, truncate);\r\n\t//\t\t\t\tThread t = new Thread(specSel);\r\n\t//\t\t\t\tt.start();\r\n\t//\t\t\t\tt.join();\r\n\t//\t\t\t\tArrayList&lt;Double&gt; result = specSel.getResult();\r\n\t//\t\t\t\tdrawGraph(result);\r\n\t\t\t\t\tworker.stop();\r\n\t\t\t\t\t\r\n\t\t\t\t\tSystem.out.println(&quot;button&#39;s actionPerformed finished&quot;);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tthis.getContentPane().add(button);\r\n\t\t\tthis.getContentPane().add(label);\r\n\t\t\tthis.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n\t\t\tthis.setVisible(true);\r\n\t\t}\r\n\t\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tnew SwingWorkerTest();\r\n\t\t}\r\n\t}\r\n\t\r\n\tclass Worker extends SwingWorker&lt;String, String&gt;{\r\n\t\r\n\t    JLabel label;\r\n\t    boolean run;\r\n\t\r\n\t    public Worker(JLabel label)\r\n\t    {\r\n\t        this.label = label;\r\n\t        this.run = true;\r\n\t    }\r\n\t\r\n\t    @Override\r\n\t    protected String doInBackground() throws Exception {\r\n\t    \tSystem.out.println(&quot;doInBackground..., run=&quot; + run);\r\n\t        //This is what&#39;s called in the .execute method\r\n\t        long startTime = System.nanoTime();\r\n\t//        while(run)\r\n\t//        {\r\n\t        \tSystem.out.println(&quot;running...&quot;);\r\n\t            //This sends the results to the .process method\r\n\t            publish(String.valueOf(System.nanoTime() - startTime));\r\n\t            Thread.sleep(100);\r\n\t//        }\r\n\t    \tSystem.out.println(&quot;worker finished...&quot;);\r\n\t        return null;\r\n\t    }\r\n\t\r\n\t    public void stop()\r\n\t    {\r\n\t//    \tSystem.out.println(&quot;stop&quot;);\r\n\t//        run = false;\r\n\t    }\r\n\t\r\n\t    @Override\r\n\t    protected void process(List&lt;String&gt; item) {\r\n\t    \tSystem.out.println(&quot;processed&quot;);\r\n\t        double seconds = Long.parseLong(item.get(item.size()-1))/1000000000.0;\r\n\t        String secs = String.format(&quot;%.2f&quot;, seconds);\r\n\t        //This updates the UI\r\n\t        System.out.println(&quot;updating&quot;);\r\n\t        label.setText(&quot;Processing Time: &quot; + secs + &quot; secs&quot;);\r\n\t//        label.repaint();\r\n\t    }\r\n\t}\r\n\r\nIn short I found, that `Worker.stop()` is called before `doInBackground` as a result, your run is false and so `publish` is never called.\r\n\r\nThe &quot;fixed&quot; code above prints (after start I resized and I clicked on run button):\r\n\r\n\tbutton&#39;s actionPerformed finished\r\n\tdoInBackground..., run=true\r\n\trunning...\r\n\tprocessed\r\n\tupdating\r\n\tworker finished...\r\n\r\nand it shows:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n---\r\n\r\nnew approach with a timer\r\n\r\n\timport java.awt.GridLayout;\r\n\timport java.awt.event.ActionEvent;\r\n\timport java.awt.event.ActionListener;\r\n\t\r\n\timport javax.swing.JButton;\r\n\timport javax.swing.JFrame;\r\n\timport javax.swing.JLabel;\r\n\timport javax.swing.SwingWorker;\r\n\timport javax.swing.SwingWorker.StateValue;\r\n\timport javax.swing.Timer;\r\n\t\r\n\tpublic class SwingWorkerTestNew extends JFrame {\r\n\t\r\n\t\tint progress = 0;\r\n\t\r\n\t\tpublic SwingWorkerTestNew() {\r\n\t\t\tGridLayout layout = new GridLayout(2, 1);\r\n\t\t\tJButton button = new JButton(&quot;run&quot;);\r\n\t\t\tJLabel label = new JLabel(&quot;progress: -&quot;);\r\n\t\t\tWorkerNew worker = new WorkerNew(label);\r\n\t\t\tbutton.addActionListener(new ActionListener() {\r\n\t\t\t\t\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\tworker.execute();\r\n\t\t\t\t\tSystem.out.println(&quot;button&#39;s actionPerformed finished&quot;);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tthis.getContentPane().setLayout(layout);\r\n\t\t\tthis.getContentPane().add(button);\r\n\t\t\tthis.getContentPane().add(label);\r\n\t\t\t\r\n\t\t\tthis.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n\t\t\tthis.pack();\r\n\t\t\tthis.setVisible(true);\r\n\t\t\t\r\n\t\t\tTimer timer = new Timer(100, new ActionListener() {\r\n\t\t\t\t\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\tif (worker.getState() == StateValue.STARTED) {\r\n\t\t\t\t\t\t++progress;\r\n\t\t\t\t\t\tlabel.setText(Integer.toString(progress));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (worker.getState() == StateValue.DONE) {\r\n\t\t\t\t\t\tlabel.setText(&quot;done&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\ttimer.start();\r\n\t\t}\r\n\t\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tnew SwingWorkerTestNew();\r\n\t\t}\r\n\t}\r\n\t\r\n\tclass WorkerNew extends SwingWorker&lt;String, String&gt; {\r\n\t\r\n\t\tJLabel label;\r\n\t\t\r\n\t    public WorkerNew(JLabel label) {\r\n\t\t\tthis.label = label;\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t    protected String doInBackground() throws Exception {\r\n\t\t\tSystem.out.println(&quot;background&quot;);\r\n\t\t\tThread.sleep(2000);\r\n\t\t\tSystem.out.println(&quot;done&quot;);\r\n\t        return null;\r\n\t    }\r\n\t\r\n\t}\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mX0VB.png","title":"Multi-threading with GUI in Java","body":"<p>Your code is not working as you think it is...</p>\n\n<p>I created <a href=\"http://stackoverflow.com/help/mcve\">MVCE</a> for you...</p>\n\n<pre><code>import java.awt.FlowLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.List;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.SwingWorker;\n\npublic class SwingWorkerTest extends JFrame {\n\n    public SwingWorkerTest() {\n        this.setLayout(new FlowLayout());\n        JButton button = new JButton(\"run\");\n        JLabel label = new JLabel(\"time: -\");\n        button.addActionListener(new ActionListener() {\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                Worker worker = new Worker(label);\n                worker.execute();\n                //Check for results truncation\n//              boolean truncate = !jCheckBoxTruncate.isSelected();\n//              long startTime = System.nanoTime();\n//              String[] args = {fileName};\n                //run solution and draw graph\n//              SpeciesSelection specSel = new SpeciesSelection(args, truncate);\n//              Thread t = new Thread(specSel);\n//              t.start();\n//              t.join();\n//              ArrayList&lt;Double&gt; result = specSel.getResult();\n//              drawGraph(result);\n                worker.stop();\n\n                System.out.println(\"button's actionPerformed finished\");\n            }\n        });\n\n        this.getContentPane().add(button);\n        this.getContentPane().add(label);\n        this.setDefaultCloseOperation(EXIT_ON_CLOSE);\n        this.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        new SwingWorkerTest();\n    }\n}\n\nclass Worker extends SwingWorker&lt;String, String&gt;{\n\n    JLabel label;\n    boolean run;\n\n    public Worker(JLabel label)\n    {\n        this.label = label;\n        this.run = true;\n    }\n\n    @Override\n    protected String doInBackground() throws Exception {\n        System.out.println(\"doInBackground..., run=\" + run);\n        //This is what's called in the .execute method\n        long startTime = System.nanoTime();\n//        while(run)\n//        {\n            System.out.println(\"running...\");\n            //This sends the results to the .process method\n            publish(String.valueOf(System.nanoTime() - startTime));\n            Thread.sleep(100);\n//        }\n        System.out.println(\"worker finished...\");\n        return null;\n    }\n\n    public void stop()\n    {\n//      System.out.println(\"stop\");\n//        run = false;\n    }\n\n    @Override\n    protected void process(List&lt;String&gt; item) {\n        System.out.println(\"processed\");\n        double seconds = Long.parseLong(item.get(item.size()-1))/1000000000.0;\n        String secs = String.format(\"%.2f\", seconds);\n        //This updates the UI\n        System.out.println(\"updating\");\n        label.setText(\"Processing Time: \" + secs + \" secs\");\n//        label.repaint();\n    }\n}\n</code></pre>\n\n<p>In short I found, that <code>Worker.stop()</code> is called before <code>doInBackground</code> as a result, your run is false and so <code>publish</code> is never called.</p>\n\n<p>The \"fixed\" code above prints (after start I resized and I clicked on run button):</p>\n\n<pre><code>button's actionPerformed finished\ndoInBackground..., run=true\nrunning...\nprocessed\nupdating\nworker finished...\n</code></pre>\n\n<p>and it shows:</p>\n\n<p><a href=\"https://i.stack.imgur.com/mX0VB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mX0VB.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p>new approach with a timer</p>\n\n<pre><code>import java.awt.GridLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.SwingWorker;\nimport javax.swing.SwingWorker.StateValue;\nimport javax.swing.Timer;\n\npublic class SwingWorkerTestNew extends JFrame {\n\n    int progress = 0;\n\n    public SwingWorkerTestNew() {\n        GridLayout layout = new GridLayout(2, 1);\n        JButton button = new JButton(\"run\");\n        JLabel label = new JLabel(\"progress: -\");\n        WorkerNew worker = new WorkerNew(label);\n        button.addActionListener(new ActionListener() {\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                worker.execute();\n                System.out.println(\"button's actionPerformed finished\");\n            }\n        });\n\n        this.getContentPane().setLayout(layout);\n        this.getContentPane().add(button);\n        this.getContentPane().add(label);\n\n        this.setDefaultCloseOperation(EXIT_ON_CLOSE);\n        this.pack();\n        this.setVisible(true);\n\n        Timer timer = new Timer(100, new ActionListener() {\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                if (worker.getState() == StateValue.STARTED) {\n                    ++progress;\n                    label.setText(Integer.toString(progress));\n                }\n                if (worker.getState() == StateValue.DONE) {\n                    label.setText(\"done\");\n                }\n            }\n        });\n        timer.start();\n    }\n\n    public static void main(String[] args) {\n        new SwingWorkerTestNew();\n    }\n}\n\nclass WorkerNew extends SwingWorker&lt;String, String&gt; {\n\n    JLabel label;\n\n    public WorkerNew(JLabel label) {\n        this.label = label;\n    }\n\n    @Override\n    protected String doInBackground() throws Exception {\n        System.out.println(\"background\");\n        Thread.sleep(2000);\n        System.out.println(\"done\");\n        return null;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4160036,"reputation":1118,"user_id":3410340,"accept_rate":73,"display_name":"Steve W"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518435533,"creation_date":1518435533,"answer_id":48745619,"question_id":48743234,"body_markdown":"I was going about this in a far too complicated manner. No SwingWorker was required. I solved it as follows:\r\n                    \r\n    //Check for results truncation\r\n    boolean truncate = !jCheckBoxTruncate.isSelected();\r\n    String[] args = {fileName};\r\n    //run solution and draw graph\r\n    SpeciesSelection specSel = new SpeciesSelection(args, truncate);\r\n    Thread t = new Thread(specSel);\r\n    t.start();\r\n    long startTime = System.nanoTime();\r\n                    \r\n    new Thread()\r\n    {\r\n       public void run() {\r\n       while(!specSel.isFinished())\r\n       {\r\n        double seconds = (System.nanoTime() - startTime)/1000000000.0;\r\n        String secs = String.format(&quot;%.2f&quot;, seconds);\r\n        jLabelProcessTime.setText(&quot;Processing Time: &quot; + secs + &quot; secs&quot;);\r\n        try {\r\n            Thread.sleep(100);\r\n          } catch (InterruptedException ex) {\r\n            Logger.getLogger(SpecSelGUI.class.getName()).log(Level.SEVERE, null, ex);\r\n          }\r\n       }\r\n    ArrayList&lt;Double&gt; result = specSel.getResult();\r\n        drawGraph(result);\r\n       }\r\n    }.start();","title":"Multi-threading with GUI in Java","body":"<p>I was going about this in a far too complicated manner. No SwingWorker was required. I solved it as follows:</p>\n\n<pre><code>//Check for results truncation\nboolean truncate = !jCheckBoxTruncate.isSelected();\nString[] args = {fileName};\n//run solution and draw graph\nSpeciesSelection specSel = new SpeciesSelection(args, truncate);\nThread t = new Thread(specSel);\nt.start();\nlong startTime = System.nanoTime();\n\nnew Thread()\n{\n   public void run() {\n   while(!specSel.isFinished())\n   {\n    double seconds = (System.nanoTime() - startTime)/1000000000.0;\n    String secs = String.format(\"%.2f\", seconds);\n    jLabelProcessTime.setText(\"Processing Time: \" + secs + \" secs\");\n    try {\n        Thread.sleep(100);\n      } catch (InterruptedException ex) {\n        Logger.getLogger(SpecSelGUI.class.getName()).log(Level.SEVERE, null, ex);\n      }\n   }\nArrayList&lt;Double&gt; result = specSel.getResult();\n    drawGraph(result);\n   }\n}.start();\n</code></pre>\n"}],"owner":{"account_id":4160036,"reputation":1118,"user_id":3410340,"accept_rate":73,"display_name":"Steve W"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3542,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648649148,"creation_date":1518428115,"question_id":48743234,"body_markdown":"I&#39;m working on a GUI for a program that is computationally intensive and takes some period of time to complete calculations. I want to display and update the processing time on the GUI, both for reference and as an indication to the user that the program is running. I&#39;ve created a worker to deal with the processing time on a separate thread as follows:\r\n\r\n    public class Worker extends SwingWorker&lt;String, String&gt;{\r\n        \r\n        JLabel label;\r\n        boolean run;\r\n        \r\n        public Worker(JLabel label)\r\n        {\r\n            this.label = label;\r\n            this.run = true;\r\n        }\r\n    \r\n        @Override\r\n        protected String doInBackground() throws Exception {\r\n            //This is what&#39;s called in the .execute method\r\n            long startTime = System.nanoTime();\r\n            while(run)\r\n            {\r\n                //This sends the results to the .process method\r\n                publish(String.valueOf(System.nanoTime() - startTime));\r\n                Thread.sleep(100);\r\n            }\r\n            return null;\r\n        }\r\n        \r\n        public void stop()\r\n        {\r\n            run = false;\r\n        }\r\n    \r\n        @Override\r\n        protected void process(List&lt;String&gt; item) {\r\n            double seconds = Long.parseLong(item.get(item.size()-1))/1000000000.0;\r\n            String secs = String.format(&quot;%.2f&quot;, seconds);\r\n            //This updates the UI\r\n            label.setText(&quot;Processing Time: &quot; + secs + &quot; secs&quot;);\r\n            label.repaint();\r\n        }\r\n    }\r\n\r\nI pass a JLabel to the Worker which it displays the processing time on. The following code creates the Worker and executes a runnable that carries out the main calculations.\r\n\r\n    Worker worker = new Worker(jLabelProcessTime);\r\n    worker.execute();\r\n    //Check for results truncation\r\n    boolean truncate = !jCheckBoxTruncate.isSelected();\r\n    long startTime = System.nanoTime();\r\n    String[] args = {fileName};\r\n    //run solution and draw graph\r\n    SpeciesSelection specSel = new SpeciesSelection(args, truncate);\r\n    Thread t = new Thread(specSel);\r\n    t.start();\r\n    t.join();\r\n    ArrayList&lt;Double&gt; result = specSel.getResult();\r\n    drawGraph(result);\r\n    worker.stop();\r\n\r\nMy problem is that the processing time does not update on the GUI until after the calculations have finished. I think I&#39;m pretty close because without &#39;t.join();&#39; the timer updates fine, but the processing never completes. I&#39;d really appreciate some help to figure out what&#39;s wrong.","title":"Multi-threading with GUI in Java","body":"<p>I'm working on a GUI for a program that is computationally intensive and takes some period of time to complete calculations. I want to display and update the processing time on the GUI, both for reference and as an indication to the user that the program is running. I've created a worker to deal with the processing time on a separate thread as follows:</p>\n<pre><code>public class Worker extends SwingWorker&lt;String, String&gt;{\n    \n    JLabel label;\n    boolean run;\n    \n    public Worker(JLabel label)\n    {\n        this.label = label;\n        this.run = true;\n    }\n\n    @Override\n    protected String doInBackground() throws Exception {\n        //This is what's called in the .execute method\n        long startTime = System.nanoTime();\n        while(run)\n        {\n            //This sends the results to the .process method\n            publish(String.valueOf(System.nanoTime() - startTime));\n            Thread.sleep(100);\n        }\n        return null;\n    }\n    \n    public void stop()\n    {\n        run = false;\n    }\n\n    @Override\n    protected void process(List&lt;String&gt; item) {\n        double seconds = Long.parseLong(item.get(item.size()-1))/1000000000.0;\n        String secs = String.format(&quot;%.2f&quot;, seconds);\n        //This updates the UI\n        label.setText(&quot;Processing Time: &quot; + secs + &quot; secs&quot;);\n        label.repaint();\n    }\n}\n</code></pre>\n<p>I pass a JLabel to the Worker which it displays the processing time on. The following code creates the Worker and executes a runnable that carries out the main calculations.</p>\n<pre><code>Worker worker = new Worker(jLabelProcessTime);\nworker.execute();\n//Check for results truncation\nboolean truncate = !jCheckBoxTruncate.isSelected();\nlong startTime = System.nanoTime();\nString[] args = {fileName};\n//run solution and draw graph\nSpeciesSelection specSel = new SpeciesSelection(args, truncate);\nThread t = new Thread(specSel);\nt.start();\nt.join();\nArrayList&lt;Double&gt; result = specSel.getResult();\ndrawGraph(result);\nworker.stop();\n</code></pre>\n<p>My problem is that the processing time does not update on the GUI until after the calculations have finished. I think I'm pretty close because without 't.join();' the timer updates fine, but the processing never completes. I'd really appreciate some help to figure out what's wrong.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":15144976,"reputation":345,"user_id":10928968,"display_name":"shasr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597497116,"creation_date":1597497116,"answer_id":63426416,"question_id":63418088,"body_markdown":"We can try with ResponseEntity as below\r\n\r\n        @ExceptionHandler({DataIntegrityViolationException.class, ObjectOptimisticLockingFailureException.class})\r\n    public ResponseEntity&lt;ModelAndView&gt; handleConflict(HttpServletRequest request, Exception e) {\r\n        ModelAndView result = new ModelAndView(&quot;error/409&quot;);\r\n        result.addObject(&quot;url&quot;, request.getRequestURL());\r\n\t\treturn new ResponseEntity&lt;&gt;(result, HttpStatus.CONFLICT);\r\n    }","title":"How to get a 409 for ObjectOptimisticLockingFailureException with Spring Boot?","body":"<p>We can try with ResponseEntity as below</p>\n<pre><code>    @ExceptionHandler({DataIntegrityViolationException.class, ObjectOptimisticLockingFailureException.class})\npublic ResponseEntity&lt;ModelAndView&gt; handleConflict(HttpServletRequest request, Exception e) {\n    ModelAndView result = new ModelAndView(&quot;error/409&quot;);\n    result.addObject(&quot;url&quot;, request.getRequestURL());\n    return new ResponseEntity&lt;&gt;(result, HttpStatus.CONFLICT);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10699863,"reputation":8001,"user_id":7875623,"display_name":"Kavithakaran Kanapathippillai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597538331,"creation_date":1597538331,"answer_id":63432066,"question_id":63418088,"body_markdown":"This might work\r\n\r\n```\r\n    @Bean(name=&quot;simpleMappingExceptionResolver&quot;)\r\n    public SimpleMappingExceptionResolver\r\n                  createSimpleMappingExceptionResolver() {\r\n    SimpleMappingExceptionResolver r =\r\n                new SimpleMappingExceptionResolver();\r\n\r\n    Properties mappings = new Properties();\r\n    mappings.setProperty(&quot;ObjectOptimisticLockingFailureException&quot;, &quot;error/409&quot;);\r\n\r\n\r\n    r.setExceptionMappings(mappings);\r\n    return r;\r\n  }\r\n```","title":"How to get a 409 for ObjectOptimisticLockingFailureException with Spring Boot?","body":"<p>This might work</p>\n<pre><code>    @Bean(name=&quot;simpleMappingExceptionResolver&quot;)\n    public SimpleMappingExceptionResolver\n                  createSimpleMappingExceptionResolver() {\n    SimpleMappingExceptionResolver r =\n                new SimpleMappingExceptionResolver();\n\n    Properties mappings = new Properties();\n    mappings.setProperty(&quot;ObjectOptimisticLockingFailureException&quot;, &quot;error/409&quot;);\n\n\n    r.setExceptionMappings(mappings);\n    return r;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2177911,"reputation":966,"user_id":1928149,"accept_rate":67,"display_name":"Prasannjeet Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648649135,"creation_date":1648649135,"answer_id":71678714,"question_id":63418088,"body_markdown":"Could you catch the exception `ObjectOptimisticLockingFailureException` and re-throw an exception with 409?\r\n\r\n```java\r\ntry {\r\n    //perform your task here\r\n} catch (ObjectOptimisticLockingFailureException e) {\r\n    var ex = new ClientErrorException(409, e);\r\n    throw ex;\r\n}","title":"How to get a 409 for ObjectOptimisticLockingFailureException with Spring Boot?","body":"<p>Could you catch the exception <code>ObjectOptimisticLockingFailureException</code> and re-throw an exception with 409?</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    //perform your task here\n} catch (ObjectOptimisticLockingFailureException e) {\n    var ex = new ClientErrorException(409, e);\n    throw ex;\n}\n</code></pre>\n"}],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1547,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1648649135,"creation_date":1597429021,"question_id":63418088,"body_markdown":"I know that Spring Boot will render a Thymeleaf template at `error/409.html` for an exception that leads to a statuscode of 409 CONFLICT by default. However, it seems that `ObjectOptimisticLockingFailureException` gives a 500 SERVER ERROR by default.\r\n\r\nI am able to handle the exception and &quot;manually&quot; redirect to the `error/409.html` template using a `@ControllerAdvice` like this:\r\n\r\n```\r\n@ControllerAdvice\r\npublic class GlobalControllerAdvice {\r\n\r\n    @ResponseStatus(HttpStatus.CONFLICT)\r\n    @ExceptionHandler({DataIntegrityViolationException.class, ObjectOptimisticLockingFailureException.class})\r\n    public ModelAndView handleConflict(HttpServletRequest request, Exception e) {\r\n        ModelAndView result = new ModelAndView(&quot;error/409&quot;);\r\n        result.addObject(&quot;url&quot;, request.getRequestURL());\r\n        return result;\r\n    }\r\n}\r\n```\r\n\r\nSince `ObjectOptimisticLockingFailureException` is not part of my own code, I cannot annotate it with `@ResponseStatus(HttpStatus.CONFLICT)` to have a 409. \r\n\r\nIs it possible to map `ObjectOptimisticLockingFailureException` to 409 and use the default error template mechanism for error codes in Spring Boot?","title":"How to get a 409 for ObjectOptimisticLockingFailureException with Spring Boot?","body":"<p>I know that Spring Boot will render a Thymeleaf template at <code>error/409.html</code> for an exception that leads to a statuscode of 409 CONFLICT by default. However, it seems that <code>ObjectOptimisticLockingFailureException</code> gives a 500 SERVER ERROR by default.</p>\n<p>I am able to handle the exception and &quot;manually&quot; redirect to the <code>error/409.html</code> template using a <code>@ControllerAdvice</code> like this:</p>\n<pre><code>@ControllerAdvice\npublic class GlobalControllerAdvice {\n\n    @ResponseStatus(HttpStatus.CONFLICT)\n    @ExceptionHandler({DataIntegrityViolationException.class, ObjectOptimisticLockingFailureException.class})\n    public ModelAndView handleConflict(HttpServletRequest request, Exception e) {\n        ModelAndView result = new ModelAndView(&quot;error/409&quot;);\n        result.addObject(&quot;url&quot;, request.getRequestURL());\n        return result;\n    }\n}\n</code></pre>\n<p>Since <code>ObjectOptimisticLockingFailureException</code> is not part of my own code, I cannot annotate it with <code>@ResponseStatus(HttpStatus.CONFLICT)</code> to have a 409.</p>\n<p>Is it possible to map <code>ObjectOptimisticLockingFailureException</code> to 409 and use the default error template mechanism for error codes in Spring Boot?</p>\n"},{"tags":["java","spring-boot","maven","groovy","spock"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1648501626,"post_id":71653646,"comment_id":126635578,"body_markdown":"Do you understand the newer error message?","body":"Do you understand the newer error message?"},{"owner":{"account_id":2807550,"reputation":125,"user_id":2414482,"accept_rate":60,"display_name":"mustbealennox"},"score":0,"creation_date":1648503071,"post_id":71653646,"comment_id":126635972,"body_markdown":"I am happy to move to a more recent version of Spock. This is a similar question without a clear answer: https://stackoverflow.com/questions/68595956/org-spockframework-runtime-spockengine-unable-to-get-public-no-arg-constructor-e","body":"I am happy to move to a more recent version of Spock. This is a similar question without a clear answer: <a href=\"https://stackoverflow.com/questions/68595956/org-spockframework-runtime-spockengine-unable-to-get-public-no-arg-constructor-e\" title=\"org spockframework runtime spockengine unable to get public no arg constructor e\">stackoverflow.com/questions/68595956/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648503624,"creation_date":1648503624,"answer_id":71654025,"question_id":71653646,"body_markdown":"Regarding `java.util.ServiceConfigurationError: org.junit.platform.engine.TestEngine: org.spockframework.runtime.SpockEngine Unable to get public no-arg constructor`\r\n\r\nSpring Boot `2.1.18.RELEASE` is really old, it manages JUnit 5 to `5.3.2` while Spock 2.x requires &gt;= `5.8`. You can try setting `&lt;junit-jupiter.version&gt;5.8.1&lt;/junit-jupiter.version&gt;` if you can&#39;t upgrade Spring Boot to a more recent version.\r\n\r\nAs for the type reflection error, we can&#39;t say much since you didn&#39;t share any code. Only that `com.foo.controller.ConversionsController.createConversionJob(ConversionsController.java:68)` probably has some weird generics or is calling something that does.","title":"java.lang.RuntimeException: not supported: class org.spockframework.gentyref.CaptureTypeImpl","body":"<p>Regarding <code>java.util.ServiceConfigurationError: org.junit.platform.engine.TestEngine: org.spockframework.runtime.SpockEngine Unable to get public no-arg constructor</code></p>\n<p>Spring Boot <code>2.1.18.RELEASE</code> is really old, it manages JUnit 5 to <code>5.3.2</code> while Spock 2.x requires &gt;= <code>5.8</code>. You can try setting <code>&lt;junit-jupiter.version&gt;5.8.1&lt;/junit-jupiter.version&gt;</code> if you can't upgrade Spring Boot to a more recent version.</p>\n<p>As for the type reflection error, we can't say much since you didn't share any code. Only that <code>com.foo.controller.ConversionsController.createConversionJob(ConversionsController.java:68)</code> probably has some weird generics or is calling something that does.</p>\n"},{"tags":[],"owner":{"account_id":2807550,"reputation":125,"user_id":2414482,"accept_rate":60,"display_name":"mustbealennox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648648798,"creation_date":1648611556,"answer_id":71671212,"question_id":71653646,"body_markdown":"I accepted the answer from [Leonard Br&#252;nings](https://stackoverflow.com/users/2145769/leonard-br%c3%bcnings) as it pointed me in the right direction, but wanted to add more explanation as to cause of the problem.\r\n\r\nThe `java.lang.RuntimeException: not supported: class org.spockframework.gentyref.CaptureTypeImpl` is a reflection error that indicates a problem with a method being mocked.\r\n\r\n&gt; The exception points to the fact that it can&#39;t determine the correct response type of the stub method being called\r\n\r\nI had a method like this:\r\n\r\n```\r\npublic class Foo {\r\n\r\n    public ResponseEntity&lt;?&gt; bar(Long id) {\r\n        ...\r\n    }\r\n}\r\n```\r\n\r\nIn my test I did this:\r\n\r\n```\r\nsetup:\r\nFoo mockFoo = Stub()\r\n\r\ngiven:\r\nString id = &#39;123&#39;\r\n\r\nand:\r\nResponseEntity&lt;String&gt; response = new ResponseEntity&lt;String&gt;(&#39;Hello World&#39;, HttpStatus.OK)\r\n\r\nand:\r\nmockFoo.bar(id) &gt;&gt; response\r\n\r\n...\r\n```\r\n\r\nBecause `id` was declared a `String` instead of a `Long`, the exception was thrown. However, when I changed it to a `Mock()` instead of a `Stub()` and also used a cardinality rule, then it became apparent that the mocked method was not being invoked with a more useful error message:\r\n\r\n```\r\nthen:\r\nmockFoo.bar(id) &gt;&gt; response\r\n0 * _  // don&#39;t allow any other interaction\r\n```\r\n\r\n```\r\nHandler dispatch failed; nested exception is Too many invocations for:\r\n\r\n0 * _  // don&#39;t allow any other interaction   (1 invocation)\r\n```","title":"java.lang.RuntimeException: not supported: class org.spockframework.gentyref.CaptureTypeImpl","body":"<p>I accepted the answer from <a href=\"https://stackoverflow.com/users/2145769/leonard-br%c3%bcnings\">Leonard Brünings</a> as it pointed me in the right direction, but wanted to add more explanation as to cause of the problem.</p>\n<p>The <code>java.lang.RuntimeException: not supported: class org.spockframework.gentyref.CaptureTypeImpl</code> is a reflection error that indicates a problem with a method being mocked.</p>\n<blockquote>\n<p>The exception points to the fact that it can't determine the correct response type of the stub method being called</p>\n</blockquote>\n<p>I had a method like this:</p>\n<pre><code>public class Foo {\n\n    public ResponseEntity&lt;?&gt; bar(Long id) {\n        ...\n    }\n}\n</code></pre>\n<p>In my test I did this:</p>\n<pre><code>setup:\nFoo mockFoo = Stub()\n\ngiven:\nString id = '123'\n\nand:\nResponseEntity&lt;String&gt; response = new ResponseEntity&lt;String&gt;('Hello World', HttpStatus.OK)\n\nand:\nmockFoo.bar(id) &gt;&gt; response\n\n...\n</code></pre>\n<p>Because <code>id</code> was declared a <code>String</code> instead of a <code>Long</code>, the exception was thrown. However, when I changed it to a <code>Mock()</code> instead of a <code>Stub()</code> and also used a cardinality rule, then it became apparent that the mocked method was not being invoked with a more useful error message:</p>\n<pre><code>then:\nmockFoo.bar(id) &gt;&gt; response\n0 * _  // don't allow any other interaction\n</code></pre>\n<pre><code>Handler dispatch failed; nested exception is Too many invocations for:\n\n0 * _  // don't allow any other interaction   (1 invocation)\n</code></pre>\n"}],"owner":{"account_id":2807550,"reputation":125,"user_id":2414482,"accept_rate":60,"display_name":"mustbealennox"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":674,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71654025,"answer_count":2,"score":1,"last_activity_date":1648648798,"creation_date":1648500899,"question_id":71653646,"body_markdown":"Spock is being used to execute an integration test in a Spring Boot project (2.1.18.RELEASE). When I run with 1.3-groovy-2.5, I get this error:\r\n\r\n```\r\nCaused by: java.lang.RuntimeException: not supported: class org.spockframework.gentyref.CaptureTypeImpl\r\n\tat org.spockframework.gentyref.GenericTypeReflector.erase(GenericTypeReflector.java:33)\r\n\tat org.spockframework.mock.runtime.StaticMockMethod.getReturnType(StaticMockMethod.java:50)\r\n\tat org.spockframework.mock.EmptyOrDummyResponse.respond(EmptyOrDummyResponse.java:68)\r\n\tat org.spockframework.mock.runtime.MockController.handle(MockController.java:50)\r\n\tat org.spockframework.mock.runtime.JavaMockInterceptor.intercept(JavaMockInterceptor.java:72)\r\n\tat org.spockframework.mock.runtime.ByteBuddyInterceptorAdapter.interceptNonAbstract(ByteBuddyInterceptorAdapter.java:35)\r\n\tat com.foo.controller.ConversionsController.createConversionJob(ConversionsController.java:68)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\t... 18 more\r\n```\r\n\r\nIf I update Spock to a more recent version (eg. 2.1-groovy-2.5) I get this error:\r\n\r\n```\r\n[ERROR] org.apache.maven.surefire.booter.SurefireBooterForkException: There was an error in the forked process\r\n[ERROR] java.util.ServiceConfigurationError: org.junit.platform.engine.TestEngine: org.spockframework.runtime.SpockEngine Unable to get public no-arg constructor\r\n[ERROR] \tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.fork(ForkStarter.java:733)\r\n[ERROR] \tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:305)\r\n[ERROR] \tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:265)\r\n[ERROR] \tat org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeProvider(AbstractSurefireMojo.java:1314)\r\n[ERROR] \tat org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked(AbstractSurefireMojo.java:1159)\r\n[ERROR] \tat org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute(AbstractSurefireMojo.java:932)\r\n[ERROR] \tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\r\n[ERROR] \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:210)\r\n[ERROR] \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:156)\r\n[ERROR] \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:148)\r\n[ERROR] \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\r\n[ERROR] \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\r\n[ERROR] \tat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\r\n[ERROR] \tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n[ERROR] \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:305)\r\n[ERROR] \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\r\n[ERROR] \tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\r\n[ERROR] \tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:957)\r\n[ERROR] \tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:289)\r\n[ERROR] \tat org.apache.maven.cli.MavenCli.main(MavenCli.java:193)\r\n[ERROR] \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n[ERROR] \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n[ERROR] \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n[ERROR] \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n[ERROR] \tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\r\n[ERROR] \tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\r\n[ERROR] \tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\r\n[ERROR] \tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\r\n```\r\n\r\nI am using Java 11 and Maven 3.6.3. My pom.xml is rather long, so I&#39;ve reduced it to some snippets that focus on versions and test dependencies:\r\n\r\n```\r\n        &lt;properties&gt;\r\n                &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n                &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n                &lt;java.version&gt;11&lt;/java.version&gt;\r\n                &lt;bytebuddy.version&gt;1.11.0&lt;/bytebuddy.version&gt;\r\n                &lt;cglib.version&gt;3.2.12&lt;/cglib.version&gt;\r\n                &lt;gmavenplus.version&gt;1.12.0&lt;/gmavenplus.version&gt;\r\n                &lt;groovy.version&gt;2.5.15&lt;/groovy.version&gt;\r\n                &lt;objenesis.version&gt;3.2&lt;/objenesis.version&gt;\r\n                &lt;spock.version&gt;1.3-groovy-2.5&lt;/spock.version&gt;\r\n                &lt;maven.buildhelper.version&gt;3.3.0&lt;/maven.buildhelper.version&gt;\r\n                &lt;maven.jacoco.version&gt;0.8.7&lt;/maven.jacoco.version&gt;\r\n                &lt;maven.surefire.version&gt;3.0.0-M5&lt;/maven.surefire.version&gt;\r\n                &lt;maven.failsafe.version&gt;3.0.0-M5&lt;/maven.failsafe.version&gt;\r\n        &lt;/properties&gt;\r\n\r\n                &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                        &lt;scope&gt;test&lt;/scope&gt;\r\n                        &lt;exclusions&gt;\r\n                                &lt;exclusion&gt;\r\n                                        &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\r\n                                        &lt;artifactId&gt;android-json&lt;/artifactId&gt;\r\n                                &lt;/exclusion&gt;\r\n                        &lt;/exclusions&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.spockframework&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spock-core&lt;/artifactId&gt;\r\n                        &lt;scope&gt;test&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;!-- uncommented for 2.1-groovy-2.5 --&gt;\r\n                &lt;!-- dependency&gt;\r\n                        &lt;groupId&gt;org.spockframework&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spock-junit4&lt;/artifactId&gt;\r\n                        &lt;scope&gt;test&lt;/scope&gt;\r\n                &lt;/dependency --&gt;\r\n                &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.spockframework&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spock-spring&lt;/artifactId&gt;\r\n                        &lt;scope&gt;test&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt; &lt;!-- enables mocking of classes (in addition to interfaces) --&gt;\r\n                        &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;byte-buddy&lt;/artifactId&gt;\r\n                        &lt;version&gt;${bytebuddy.version}&lt;/version&gt;\r\n                        &lt;scope&gt;test&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt; &lt;!-- enables mocking of classes without default constructor (together with ByteBuddy or CGLIB) --&gt;\r\n                        &lt;groupId&gt;org.objenesis&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;objenesis&lt;/artifactId&gt;\r\n                        &lt;version&gt;${objenesis.version}&lt;/version&gt;\r\n                        &lt;scope&gt;test&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n\r\n                       &lt;plugin&gt;\r\n                                &lt;!-- The gmavenplus plugin is used to compile Groovy code. To learn more about this plugin,\r\n                                     visit https://github.com/groovy/GMavenPlus/wiki --&gt;\r\n                                &lt;groupId&gt;org.codehaus.gmavenplus&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;gmavenplus-plugin&lt;/artifactId&gt;\r\n                                &lt;version&gt;${gmavenplus.version}&lt;/version&gt;\r\n                                &lt;executions&gt;\r\n                                        &lt;execution&gt;\r\n                                                &lt;goals&gt;\r\n                                                        &lt;goal&gt;compile&lt;/goal&gt;\r\n                                                        &lt;goal&gt;compileTests&lt;/goal&gt;\r\n                                                &lt;/goals&gt;\r\n                                        &lt;/execution&gt;\r\n                                &lt;/executions&gt;\r\n                                &lt;configuration&gt;\r\n                                        &lt;targetBytecode&gt;11&lt;/targetBytecode&gt;\r\n                                &lt;/configuration&gt;\r\n                        &lt;/plugin&gt;\r\n```\r\n\r\nAny help with troubleshooting this further is greatly appreciated. I modelled my pom.xml after the examples in the spock framework project:\r\n* https://github.com/spockframework/spock-example/blob/master/pom.xml\r\n* https://github.com/spockframework/spock-example/blob/spock-1.x/pom.xml\r\n","title":"java.lang.RuntimeException: not supported: class org.spockframework.gentyref.CaptureTypeImpl","body":"<p>Spock is being used to execute an integration test in a Spring Boot project (2.1.18.RELEASE). When I run with 1.3-groovy-2.5, I get this error:</p>\n<pre><code>Caused by: java.lang.RuntimeException: not supported: class org.spockframework.gentyref.CaptureTypeImpl\n    at org.spockframework.gentyref.GenericTypeReflector.erase(GenericTypeReflector.java:33)\n    at org.spockframework.mock.runtime.StaticMockMethod.getReturnType(StaticMockMethod.java:50)\n    at org.spockframework.mock.EmptyOrDummyResponse.respond(EmptyOrDummyResponse.java:68)\n    at org.spockframework.mock.runtime.MockController.handle(MockController.java:50)\n    at org.spockframework.mock.runtime.JavaMockInterceptor.intercept(JavaMockInterceptor.java:72)\n    at org.spockframework.mock.runtime.ByteBuddyInterceptorAdapter.interceptNonAbstract(ByteBuddyInterceptorAdapter.java:35)\n    at com.foo.controller.ConversionsController.createConversionJob(ConversionsController.java:68)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    ... 18 more\n</code></pre>\n<p>If I update Spock to a more recent version (eg. 2.1-groovy-2.5) I get this error:</p>\n<pre><code>[ERROR] org.apache.maven.surefire.booter.SurefireBooterForkException: There was an error in the forked process\n[ERROR] java.util.ServiceConfigurationError: org.junit.platform.engine.TestEngine: org.spockframework.runtime.SpockEngine Unable to get public no-arg constructor\n[ERROR]     at org.apache.maven.plugin.surefire.booterclient.ForkStarter.fork(ForkStarter.java:733)\n[ERROR]     at org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:305)\n[ERROR]     at org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:265)\n[ERROR]     at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeProvider(AbstractSurefireMojo.java:1314)\n[ERROR]     at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked(AbstractSurefireMojo.java:1159)\n[ERROR]     at org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute(AbstractSurefireMojo.java:932)\n[ERROR]     at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\n[ERROR]     at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:210)\n[ERROR]     at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:156)\n[ERROR]     at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:148)\n[ERROR]     at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\n[ERROR]     at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\n[ERROR]     at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\n[ERROR]     at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\n[ERROR]     at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:305)\n[ERROR]     at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\n[ERROR]     at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\n[ERROR]     at org.apache.maven.cli.MavenCli.execute(MavenCli.java:957)\n[ERROR]     at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:289)\n[ERROR]     at org.apache.maven.cli.MavenCli.main(MavenCli.java:193)\n[ERROR]     at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[ERROR]     at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n[ERROR]     at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[ERROR]     at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n[ERROR]     at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\n[ERROR]     at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\n[ERROR]     at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\n[ERROR]     at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\n</code></pre>\n<p>I am using Java 11 and Maven 3.6.3. My pom.xml is rather long, so I've reduced it to some snippets that focus on versions and test dependencies:</p>\n<pre><code>        &lt;properties&gt;\n                &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n                &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n                &lt;java.version&gt;11&lt;/java.version&gt;\n                &lt;bytebuddy.version&gt;1.11.0&lt;/bytebuddy.version&gt;\n                &lt;cglib.version&gt;3.2.12&lt;/cglib.version&gt;\n                &lt;gmavenplus.version&gt;1.12.0&lt;/gmavenplus.version&gt;\n                &lt;groovy.version&gt;2.5.15&lt;/groovy.version&gt;\n                &lt;objenesis.version&gt;3.2&lt;/objenesis.version&gt;\n                &lt;spock.version&gt;1.3-groovy-2.5&lt;/spock.version&gt;\n                &lt;maven.buildhelper.version&gt;3.3.0&lt;/maven.buildhelper.version&gt;\n                &lt;maven.jacoco.version&gt;0.8.7&lt;/maven.jacoco.version&gt;\n                &lt;maven.surefire.version&gt;3.0.0-M5&lt;/maven.surefire.version&gt;\n                &lt;maven.failsafe.version&gt;3.0.0-M5&lt;/maven.failsafe.version&gt;\n        &lt;/properties&gt;\n\n                &lt;dependency&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n                        &lt;scope&gt;test&lt;/scope&gt;\n                        &lt;exclusions&gt;\n                                &lt;exclusion&gt;\n                                        &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\n                                        &lt;artifactId&gt;android-json&lt;/artifactId&gt;\n                                &lt;/exclusion&gt;\n                        &lt;/exclusions&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                        &lt;groupId&gt;org.spockframework&lt;/groupId&gt;\n                        &lt;artifactId&gt;spock-core&lt;/artifactId&gt;\n                        &lt;scope&gt;test&lt;/scope&gt;\n                &lt;/dependency&gt;\n                &lt;!-- uncommented for 2.1-groovy-2.5 --&gt;\n                &lt;!-- dependency&gt;\n                        &lt;groupId&gt;org.spockframework&lt;/groupId&gt;\n                        &lt;artifactId&gt;spock-junit4&lt;/artifactId&gt;\n                        &lt;scope&gt;test&lt;/scope&gt;\n                &lt;/dependency --&gt;\n                &lt;dependency&gt;\n                        &lt;groupId&gt;org.spockframework&lt;/groupId&gt;\n                        &lt;artifactId&gt;spock-spring&lt;/artifactId&gt;\n                        &lt;scope&gt;test&lt;/scope&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt; &lt;!-- enables mocking of classes (in addition to interfaces) --&gt;\n                        &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\n                        &lt;artifactId&gt;byte-buddy&lt;/artifactId&gt;\n                        &lt;version&gt;${bytebuddy.version}&lt;/version&gt;\n                        &lt;scope&gt;test&lt;/scope&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt; &lt;!-- enables mocking of classes without default constructor (together with ByteBuddy or CGLIB) --&gt;\n                        &lt;groupId&gt;org.objenesis&lt;/groupId&gt;\n                        &lt;artifactId&gt;objenesis&lt;/artifactId&gt;\n                        &lt;version&gt;${objenesis.version}&lt;/version&gt;\n                        &lt;scope&gt;test&lt;/scope&gt;\n                &lt;/dependency&gt;\n\n                       &lt;plugin&gt;\n                                &lt;!-- The gmavenplus plugin is used to compile Groovy code. To learn more about this plugin,\n                                     visit https://github.com/groovy/GMavenPlus/wiki --&gt;\n                                &lt;groupId&gt;org.codehaus.gmavenplus&lt;/groupId&gt;\n                                &lt;artifactId&gt;gmavenplus-plugin&lt;/artifactId&gt;\n                                &lt;version&gt;${gmavenplus.version}&lt;/version&gt;\n                                &lt;executions&gt;\n                                        &lt;execution&gt;\n                                                &lt;goals&gt;\n                                                        &lt;goal&gt;compile&lt;/goal&gt;\n                                                        &lt;goal&gt;compileTests&lt;/goal&gt;\n                                                &lt;/goals&gt;\n                                        &lt;/execution&gt;\n                                &lt;/executions&gt;\n                                &lt;configuration&gt;\n                                        &lt;targetBytecode&gt;11&lt;/targetBytecode&gt;\n                                &lt;/configuration&gt;\n                        &lt;/plugin&gt;\n</code></pre>\n<p>Any help with troubleshooting this further is greatly appreciated. I modelled my pom.xml after the examples in the spock framework project:</p>\n<ul>\n<li><a href=\"https://github.com/spockframework/spock-example/blob/master/pom.xml\" rel=\"nofollow noreferrer\">https://github.com/spockframework/spock-example/blob/master/pom.xml</a></li>\n<li><a href=\"https://github.com/spockframework/spock-example/blob/spock-1.x/pom.xml\" rel=\"nofollow noreferrer\">https://github.com/spockframework/spock-example/blob/spock-1.x/pom.xml</a></li>\n</ul>\n"},{"tags":["java","sql","hibernate","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":3936011,"reputation":1722,"user_id":3252391,"display_name":"Johan Nordlinder"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1648648490,"creation_date":1648647948,"answer_id":71678422,"question_id":71676717,"body_markdown":"Option 1 or 2 is best for performance, option 3 will return all bars from the table, even duplicated values. I&#39;m guessing the reason you don&#39;t see the duplicated values from the database is because you map the result to a Set which cannot contain duplicates. And if we talk about performance for option 1 compared to option 2 I would say it really depends on what you will be using these collections for. For example see this question: https://stackoverflow.com/questions/10799417/performance-and-memory-allocation-comparison-between-list-and-set.\r\n\r\nI would go with the Option 2 to make the filtering happen in the database and make it clear in the code that there should be no duplicates in this collection.","title":"JPA performance - SELECT DISTINCT and/or Java Set","body":"<p>Option 1 or 2 is best for performance, option 3 will return all bars from the table, even duplicated values. I'm guessing the reason you don't see the duplicated values from the database is because you map the result to a Set which cannot contain duplicates. And if we talk about performance for option 1 compared to option 2 I would say it really depends on what you will be using these collections for. For example see this question: <a href=\"https://stackoverflow.com/questions/10799417/performance-and-memory-allocation-comparison-between-list-and-set\">Performance and Memory allocation comparison between List and Set</a>.</p>\n<p>I would go with the Option 2 to make the filtering happen in the database and make it clear in the code that there should be no duplicates in this collection.</p>\n"}],"owner":{"account_id":3882629,"reputation":476,"user_id":3214777,"accept_rate":55,"display_name":"Daniel Pop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":540,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71678422,"answer_count":1,"score":2,"last_activity_date":1648648490,"creation_date":1648641193,"question_id":71676717,"body_markdown":"I have a Spring Boot application with a JpaRepository. I am trying right now to **obtain all the unique values for a certain field in my db**. \r\n\r\nLet&#39;s suppose I have an object `Foo` with an Integer PK `id` and a non-unique Integer field `bar`. I want to get all the unique values for `bar` and I&#39;m wondering which query from the following is the most efficient:\r\n\r\n 1. Use `DISTINCT` in the `SELECT` statement and store the result in a List.\r\n```\r\n@Query(&quot;select distinct f.bar from Foo f&quot;)\r\nList&lt;Integer&gt; getUniqueBar();\r\n```\r\n 2. Use `DISTINCT` in the `SELECT` and store the result in a Set.\r\n```\r\n@Query(&quot;select distinct f.bar from Foo f&quot;)\r\nSet&lt;Integer&gt; getUniqueBar();\r\n```\r\n 2. Don&#39;t use `DISTINCT` in the select and store the result in a Set.\r\n```\r\n@Query(&quot;select f.bar from Foo f&quot;)\r\nSet&lt;Integer&gt; getUniqueBar();\r\n```\r\nAll the 3 queries yield the same result. Which one is the most efficient?\r\n\r\nIMO, it should be 1, since it does the duplicate filtering in the db, but I&#39;m not sure if using a List over a Set brings much gain.\r\n\r\n(I&#39;m not interested in the actual container I&#39;m storing the result into, as long as it is a `Collection`.) ","title":"JPA performance - SELECT DISTINCT and/or Java Set","body":"<p>I have a Spring Boot application with a JpaRepository. I am trying right now to <strong>obtain all the unique values for a certain field in my db</strong>.</p>\n<p>Let's suppose I have an object <code>Foo</code> with an Integer PK <code>id</code> and a non-unique Integer field <code>bar</code>. I want to get all the unique values for <code>bar</code> and I'm wondering which query from the following is the most efficient:</p>\n<ol>\n<li>Use <code>DISTINCT</code> in the <code>SELECT</code> statement and store the result in a List.</li>\n</ol>\n<pre><code>@Query(&quot;select distinct f.bar from Foo f&quot;)\nList&lt;Integer&gt; getUniqueBar();\n</code></pre>\n<ol start=\"2\">\n<li>Use <code>DISTINCT</code> in the <code>SELECT</code> and store the result in a Set.</li>\n</ol>\n<pre><code>@Query(&quot;select distinct f.bar from Foo f&quot;)\nSet&lt;Integer&gt; getUniqueBar();\n</code></pre>\n<ol start=\"2\">\n<li>Don't use <code>DISTINCT</code> in the select and store the result in a Set.</li>\n</ol>\n<pre><code>@Query(&quot;select f.bar from Foo f&quot;)\nSet&lt;Integer&gt; getUniqueBar();\n</code></pre>\n<p>All the 3 queries yield the same result. Which one is the most efficient?</p>\n<p>IMO, it should be 1, since it does the duplicate filtering in the db, but I'm not sure if using a List over a Set brings much gain.</p>\n<p>(I'm not interested in the actual container I'm storing the result into, as long as it is a <code>Collection</code>.)</p>\n"},{"tags":["java","eclipse","eclipse-plugin"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1648651069,"post_id":71678353,"comment_id":126679302,"body_markdown":"Were you clicking on different parts of the tree in the Debug view while debugging Main, i.e. the sort of actions that would send your class a stack frame? Does your Eclipse Application launch configuration clear its configuration space so that your plugin.xml changes won&#39;t be cached from before you made them?","body":"Were you clicking on different parts of the tree in the Debug view while debugging Main, i.e. the sort of actions that would send your class a stack frame? Does your Eclipse Application launch configuration clear its configuration space so that your plugin.xml changes won&#39;t be cached from before you made them?"},{"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"score":0,"creation_date":1648658143,"post_id":71678353,"comment_id":126682354,"body_markdown":"My custom source locator is present in `fSourceLocators` map in `LaunchManager`, and the one with id `org.eclipse.jdt.launching.sourceLocator.JavaSourceLookupDirector` is selected instead, but does that means that my custom source locator has to be defined with id `org.eclipse.jdt.launching.sourceLocator.JavaSourceLookupDirector` ?","body":"My custom source locator is present in <code>fSourceLocators</code> map in <code>LaunchManager</code>, and the one with id <code>org.eclipse.jdt.launching.sourceLocator.JavaSourceLookupDire&zwnj;&#8203;ctor</code> is selected instead, but does that means that my custom source locator has to be defined with id <code>org.eclipse.jdt.launching.sourceLocator.JavaSourceLookupDire&zwnj;&#8203;ctor</code> ?"}],"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648648473,"creation_date":1648647683,"question_id":71678353,"body_markdown":"I&#39;m trying to implement a custom source locator like described in this answer :\r\nhttps://stackoverflow.com/a/18084510/8315843\r\n\r\nI imagine other types of source locations than usual archive or folder, such as online source or decompiled source.\r\n\r\nThe plugin.xml of my eclipse plug-in looks like:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n  &lt;extension point=&quot;org.eclipse.debug.core.sourceLocators&quot;&gt;\r\n   &lt;sourceLocator\r\n    id=&quot;com.mypackage.debug.core.sourceLocators.MySourceLocator&quot;\r\n    class=&quot;com.mypackage.debug.core.sourceLocators.MySourceLocator&quot;\r\n    name=&quot;My Source Locator&quot;&gt;\r\n   &lt;/sourceLocator&gt;\r\n  &lt;/extension&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nFor now the implementation does not do anything, I&#39;ve just set breakpoints on every method to ensure it triggers when I click on a breakpoint in the breakpoint view or on a stack frame.\r\n\r\n```java\r\npackage com.mypackage.debug.core.sourceLocators;\r\n\r\nimport org.eclipse.core.runtime.CoreException;\r\nimport org.eclipse.debug.core.ILaunchConfiguration;\r\nimport org.eclipse.debug.core.model.IPersistableSourceLocator;\r\nimport org.eclipse.debug.core.model.IStackFrame;\r\n\r\npublic class MySourceLocator implements IPersistableSourceLocator {\r\n\r\n\t@Override\r\n\tpublic Object getSourceElement(IStackFrame stackFrame) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String getMemento() throws CoreException {\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void initializeFromMemento(String memento) throws CoreException {\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void initializeDefaults(ILaunchConfiguration configuration) throws CoreException {\r\n\t}\r\n}\r\n```\r\n\r\nI debug as an Eclipse application, I create a project with a library that contains an empty Main class with empty main method and a breakpoint on main method. When I click on the breakpoint or when I debug Main as a java application, it just shows &quot;Class File Editor&quot; and &quot;Source not found&quot;, none of the breakpoints of MySourceLocator were hit.\r\n\r\nI found other sources of infomation where, but not enough details for me to start and the thread is much too old to kick in:\r\n\r\nhttps://www.eclipse.org/forums/index.php/t/366861/\r\n\r\n&gt; Try looking at ISourceLookupParticipant and ISourceLookupDirector\r\n&gt; (specifically the JavaSourceLookupDirector). It sound to me like you\r\n&gt; would want to add your own participant to the Java director, which you\r\n&gt; can do by calling ISourceLookupDirector #addParticipants(...).\r\n&gt; \r\n&gt; To get the Java director you have to a bit more work, you will need to\r\n&gt; get the ILaunch from the frame (thread, etc) and ask for its\r\n&gt; ISourceLocator (in the Java case it is an ISourceLookupDirector). You\r\n&gt; would probably want to attach your participant to any new and existing\r\n&gt; Java launches, which you can do with the help of the ILaunchManager.\r\n\r\nThe OP seemed to understand exactly what to do with that much information but infortunately didn&#39;t post any details.\r\n","title":"Eclipse custom source locator plugin for debug","body":"<p>I'm trying to implement a custom source locator like described in this answer :\n<a href=\"https://stackoverflow.com/a/18084510/8315843\">https://stackoverflow.com/a/18084510/8315843</a></p>\n<p>I imagine other types of source locations than usual archive or folder, such as online source or decompiled source.</p>\n<p>The plugin.xml of my eclipse plug-in looks like:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;extension point=&quot;org.eclipse.debug.core.sourceLocators&quot;&gt;\n   &lt;sourceLocator\n    id=&quot;com.mypackage.debug.core.sourceLocators.MySourceLocator&quot;\n    class=&quot;com.mypackage.debug.core.sourceLocators.MySourceLocator&quot;\n    name=&quot;My Source Locator&quot;&gt;\n   &lt;/sourceLocator&gt;\n  &lt;/extension&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>For now the implementation does not do anything, I've just set breakpoints on every method to ensure it triggers when I click on a breakpoint in the breakpoint view or on a stack frame.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.mypackage.debug.core.sourceLocators;\n\nimport org.eclipse.core.runtime.CoreException;\nimport org.eclipse.debug.core.ILaunchConfiguration;\nimport org.eclipse.debug.core.model.IPersistableSourceLocator;\nimport org.eclipse.debug.core.model.IStackFrame;\n\npublic class MySourceLocator implements IPersistableSourceLocator {\n\n    @Override\n    public Object getSourceElement(IStackFrame stackFrame) {\n        return null;\n    }\n\n    @Override\n    public String getMemento() throws CoreException {\n        return null;\n    }\n\n    @Override\n    public void initializeFromMemento(String memento) throws CoreException {\n    }\n\n    @Override\n    public void initializeDefaults(ILaunchConfiguration configuration) throws CoreException {\n    }\n}\n</code></pre>\n<p>I debug as an Eclipse application, I create a project with a library that contains an empty Main class with empty main method and a breakpoint on main method. When I click on the breakpoint or when I debug Main as a java application, it just shows &quot;Class File Editor&quot; and &quot;Source not found&quot;, none of the breakpoints of MySourceLocator were hit.</p>\n<p>I found other sources of infomation where, but not enough details for me to start and the thread is much too old to kick in:</p>\n<p><a href=\"https://www.eclipse.org/forums/index.php/t/366861/\" rel=\"nofollow noreferrer\">https://www.eclipse.org/forums/index.php/t/366861/</a></p>\n<blockquote>\n<p>Try looking at ISourceLookupParticipant and ISourceLookupDirector\n(specifically the JavaSourceLookupDirector). It sound to me like you\nwould want to add your own participant to the Java director, which you\ncan do by calling ISourceLookupDirector #addParticipants(...).</p>\n<p>To get the Java director you have to a bit more work, you will need to\nget the ILaunch from the frame (thread, etc) and ask for its\nISourceLocator (in the Java case it is an ISourceLookupDirector). You\nwould probably want to attach your participant to any new and existing\nJava launches, which you can do with the help of the ILaunchManager.</p>\n</blockquote>\n<p>The OP seemed to understand exactly what to do with that much information but infortunately didn't post any details.</p>\n"},{"tags":["java","visual-studio-code","junit"],"comments":[{"owner":{"account_id":24435058,"reputation":6292,"user_id":18359438,"display_name":"MingJie-MSFT"},"score":1,"creation_date":1648619491,"post_id":71671220,"comment_id":126667198,"body_markdown":"I can&#39;t reproduce the issue.Could you, please, attach a sample project reproducing the error. Or could you create another project reproducing error? Or could you provide some pictures and instructions that can&#39;t start the testing Explorer correctly","body":"I can&#39;t reproduce the issue.Could you, please, attach a sample project reproducing the error. Or could you create another project reproducing error? Or could you provide some pictures and instructions that can&#39;t start the testing Explorer correctly"},{"owner":{"account_id":24730464,"reputation":1,"user_id":18618499,"display_name":"Tomyt"},"score":0,"creation_date":1648648379,"post_id":71671220,"comment_id":126678043,"body_markdown":"Hi, Thanks for your reply. I updated relevant pictures in the post.","body":"Hi, Thanks for your reply. I updated relevant pictures in the post."},{"owner":{"account_id":24435058,"reputation":6292,"user_id":18359438,"display_name":"MingJie-MSFT"},"score":0,"creation_date":1650263501,"post_id":71671220,"comment_id":127067010,"body_markdown":"I&#39;m sorry to reply you after such a long time. Did you add &quot;@Test &quot; to the line above the method? Maybe it&#39;s because this vscode can&#39;t search the required content.","body":"I&#39;m sorry to reply you after such a long time. Did you add &quot;@Test &quot; to the line above the method? Maybe it&#39;s because this vscode can&#39;t search the required content."}],"owner":{"account_id":24730464,"reputation":1,"user_id":18618499,"display_name":"Tomyt"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":389,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648648169,"creation_date":1648611625,"question_id":71671220,"body_markdown":"I imported a Java gradle project into VSCode. There are many JUnit tests in the project under subfolder test. But in the test explorer there are no tests listed. \r\nWhen I clicked the &#39;Run Tests&#39; button on the test explorer, a information window popped up in the bottom right corner showing &#39;Searching tests...&#39;, and after searching no tests were found. But, if I manually open a specific test file in the project, then I can run the tests in the test file. So, this means that I can run the tests in a file, but cannot run all the tests in batch from test explorer.\r\nDoes anyone know how the test explorer search for the JUnit tests, and how to solve the problem?\r\nThanks.\r\n\r\nSome pictures for this problem.&lt;br&gt;\r\n - About the tests in test explorer:\r\n&lt;br&gt;[No test are listed in test explorer][1]\r\n&lt;br&gt; [Searching information after click &#39;Run tests&#39;][2]\r\n&lt;br&gt;[After searching, there is 0 tests in test explorer][3]\r\n - About the specific test class:\r\n&lt;br&gt;[There is the test menu in test class][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/j1d5A.png\r\n  [2]: https://i.stack.imgur.com/JZuxS.png\r\n  [3]: https://i.stack.imgur.com/JGk4z.png\r\n  [4]: https://i.stack.imgur.com/n10hh.png","title":"JUnit tests cannot be automatically discovered by VSCode test explorer in my Java gradle project","body":"<p>I imported a Java gradle project into VSCode. There are many JUnit tests in the project under subfolder test. But in the test explorer there are no tests listed.\nWhen I clicked the 'Run Tests' button on the test explorer, a information window popped up in the bottom right corner showing 'Searching tests...', and after searching no tests were found. But, if I manually open a specific test file in the project, then I can run the tests in the test file. So, this means that I can run the tests in a file, but cannot run all the tests in batch from test explorer.\nDoes anyone know how the test explorer search for the JUnit tests, and how to solve the problem?\nThanks.</p>\n<p>Some pictures for this problem.<br></p>\n<ul>\n<li>About the tests in test explorer:\n<br><a href=\"https://i.stack.imgur.com/j1d5A.png\" rel=\"nofollow noreferrer\">No test are listed in test explorer</a>\n<br> <a href=\"https://i.stack.imgur.com/JZuxS.png\" rel=\"nofollow noreferrer\">Searching information after click 'Run tests'</a>\n<br><a href=\"https://i.stack.imgur.com/JGk4z.png\" rel=\"nofollow noreferrer\">After searching, there is 0 tests in test explorer</a></li>\n<li>About the specific test class:\n<br><a href=\"https://i.stack.imgur.com/n10hh.png\" rel=\"nofollow noreferrer\">There is the test menu in test class</a></li>\n</ul>\n"},{"tags":["java","csv","arraylist","bufferedreader","columnsorting"],"answers":[{"tags":[],"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648648028,"creation_date":1648648028,"answer_id":71678449,"question_id":71677199,"body_markdown":"I suggest introducing some new class and overriding it&#39;s `toString` method and specify the order to be printed there and handle like below \r\nThis should work\r\n\r\n    public class Example {\r\n        public static void main(String[] args) throws FileNotFoundException {\r\n            List&lt;String&gt; ret;\r\n            File file = new File(&quot;/Users/A.csv&quot;);\r\n            InputStream targetStream = new FileInputStream(file);\r\n            BufferedReader r = new BufferedReader(new InputStreamReader(targetStream));\r\n            ret = r.lines().skip(1).map(line -&gt; new Person(line).toString()).collect(Collectors.toList());\r\n            System.out.println(ret);\r\n        }\r\n    \r\n        static class Person {\r\n            private String id;\r\n            private String employee;\r\n            private String address;\r\n    \r\n            public Person(String line) {\r\n                String[] lineParts = line.replace(&quot;\\&quot;&quot;, &quot;&quot;).split(&quot;,&quot;);\r\n                this.employee = lineParts[0];\r\n                this.id = lineParts[1];\r\n                this.address = lineParts[2];\r\n            }\r\n    \r\n            @Override\r\n            public String toString() {\r\n                return String.join(&quot;,&quot;, this.address, this.employee, this.id);\r\n            }\r\n        }\r\n    }\r\n\r\n    static class Person {\r\n        private String id;\r\n        private String employee;\r\n        private String address;\r\n\r\n        public Person(String line) {\r\n            String[] lineParts = line.replace(&quot;\\&quot;&quot;, &quot;&quot;).split(&quot;,&quot;);\r\n            this.employee = lineParts[0];\r\n            this.id = lineParts[1];\r\n            this.address = lineParts[2];\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return String.join(&quot;,&quot;, this.address, this.employee, this.id);\r\n        }\r\n    }","title":"Sort csv columns in alphabetical order and print out (JAVA)","body":"<p>I suggest introducing some new class and overriding it's <code>toString</code> method and specify the order to be printed there and handle like below\nThis should work</p>\n<pre><code>public class Example {\n    public static void main(String[] args) throws FileNotFoundException {\n        List&lt;String&gt; ret;\n        File file = new File(&quot;/Users/A.csv&quot;);\n        InputStream targetStream = new FileInputStream(file);\n        BufferedReader r = new BufferedReader(new InputStreamReader(targetStream));\n        ret = r.lines().skip(1).map(line -&gt; new Person(line).toString()).collect(Collectors.toList());\n        System.out.println(ret);\n    }\n\n    static class Person {\n        private String id;\n        private String employee;\n        private String address;\n\n        public Person(String line) {\n            String[] lineParts = line.replace(&quot;\\&quot;&quot;, &quot;&quot;).split(&quot;,&quot;);\n            this.employee = lineParts[0];\n            this.id = lineParts[1];\n            this.address = lineParts[2];\n        }\n\n        @Override\n        public String toString() {\n            return String.join(&quot;,&quot;, this.address, this.employee, this.id);\n        }\n    }\n}\n\nstatic class Person {\n    private String id;\n    private String employee;\n    private String address;\n\n    public Person(String line) {\n        String[] lineParts = line.replace(&quot;\\&quot;&quot;, &quot;&quot;).split(&quot;,&quot;);\n        this.employee = lineParts[0];\n        this.id = lineParts[1];\n        this.address = lineParts[2];\n    }\n\n    @Override\n    public String toString() {\n        return String.join(&quot;,&quot;, this.address, this.employee, this.id);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19928279,"reputation":133,"user_id":14602454,"display_name":"JoeyOC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":499,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648648028,"creation_date":1648643145,"question_id":71677199,"body_markdown":"```\r\nList&lt;String&gt; ret = new ArrayList&lt;&gt;();\r\nBufferedReader r = new BufferedReader(new InputStreamReader(str));\r\n          Stream lines = r.lines().skip(1);\r\n\r\n          lines.forEachOrdered(\r\n              line -&gt; {\r\n               line= ((String) line).replace(&quot;\\&quot;&quot;, &quot;&quot;);\r\n                 ret.add((String) line);\r\n ```\r\n\r\nThe above code prints out all the data from csv file and looks something like this\r\n```\r\nEmployee, id,   address, \r\nJon,     2034,  4 main av, \r\n```\r\n\r\nHow can I get it to print out the columns in alphabetical order? \r\nso it should look like this\r\n```\r\naddress,     employee, id,\r\n4 main av,   Jon,      2034,\r\n```","title":"Sort csv columns in alphabetical order and print out (JAVA)","body":"<pre><code>List&lt;String&gt; ret = new ArrayList&lt;&gt;();\nBufferedReader r = new BufferedReader(new InputStreamReader(str));\n          Stream lines = r.lines().skip(1);\n\n          lines.forEachOrdered(\n              line -&gt; {\n               line= ((String) line).replace(&quot;\\&quot;&quot;, &quot;&quot;);\n                 ret.add((String) line);\n</code></pre>\n<p>The above code prints out all the data from csv file and looks something like this</p>\n<pre><code>Employee, id,   address, \nJon,     2034,  4 main av, \n</code></pre>\n<p>How can I get it to print out the columns in alphabetical order?\nso it should look like this</p>\n<pre><code>address,     employee, id,\n4 main av,   Jon,      2034,\n</code></pre>\n"},{"tags":["java","log4j"],"answers":[{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648605352,"creation_date":1648605352,"answer_id":71670659,"question_id":71666691,"body_markdown":"Looking in the documentation of [log4j2][1], there is no method signature that allows you, while formatting your message, to pass the rised exception at the same time.\r\n\r\nYou can use the `String.format()` Java method for the message parameter and use this [signature][1] instead:\r\n\r\n    logger.debug(String.format(&quot;Compiler Exception for %s&quot;, datafilter), e);\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/log4j-api/apidocs/index.html","title":"Do Java parameterized messages interfere with method signatures?","body":"<p>Looking in the documentation of <a href=\"https://logging.apache.org/log4j/2.x/log4j-api/apidocs/index.html\" rel=\"nofollow noreferrer\">log4j2</a>, there is no method signature that allows you, while formatting your message, to pass the rised exception at the same time.</p>\n<p>You can use the <code>String.format()</code> Java method for the message parameter and use this <a href=\"https://logging.apache.org/log4j/2.x/log4j-api/apidocs/index.html\" rel=\"nofollow noreferrer\">signature</a> instead:</p>\n<pre><code>logger.debug(String.format(&quot;Compiler Exception for %s&quot;, datafilter), e);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648647954,"creation_date":1648643914,"answer_id":71677396,"question_id":71666691,"body_markdown":"_&quot;Will the compiler automatically understand which arguments are for subsitution and which are expected parts of the method signature&quot;_\r\n\r\nNo, the compiler does not understand the special meaning of the `Throwable` argument in the second case, but Log4j2 does:\r\n\r\n - in the first case the compiler chooses the [`debug(CharSequence, Throwable)`](https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/Logger.html#debug-java.lang.CharSequence-java.lang.Throwable-) and Log4j2 is sure that you wanted to attach an exception to your message,\r\n - in the second case the compiler chooses the [`debug(String, Object, Object)`](https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/Logger.html#debug-java.lang.String-java.lang.Object-java.lang.Object-) method, Log4j2 counts the number of `{}` placeholders in your string (which is one) and if the first unused parameter is a `Throwable`, it uses it as the exception attached to the logging event.\r\n\r\nTry:\r\n\r\n```lang-java\r\nlogger.debug(&quot;Compiler Exception for {}&quot;, datafilter, e);\r\nlogger.debug(&quot;Compiler Exception for {}: {}&quot;, datafilter, e);\r\n```\r\n\r\nto better understand the difference.","title":"Do Java parameterized messages interfere with method signatures?","body":"<p><em>&quot;Will the compiler automatically understand which arguments are for subsitution and which are expected parts of the method signature&quot;</em></p>\n<p>No, the compiler does not understand the special meaning of the <code>Throwable</code> argument in the second case, but Log4j2 does:</p>\n<ul>\n<li>in the first case the compiler chooses the <a href=\"https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/Logger.html#debug-java.lang.CharSequence-java.lang.Throwable-\" rel=\"nofollow noreferrer\"><code>debug(CharSequence, Throwable)</code></a> and Log4j2 is sure that you wanted to attach an exception to your message,</li>\n<li>in the second case the compiler chooses the <a href=\"https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/Logger.html#debug-java.lang.String-java.lang.Object-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>debug(String, Object, Object)</code></a> method, Log4j2 counts the number of <code>{}</code> placeholders in your string (which is one) and if the first unused parameter is a <code>Throwable</code>, it uses it as the exception attached to the logging event.</li>\n</ul>\n<p>Try:</p>\n<pre class=\"lang-java prettyprint-override\"><code>logger.debug(&quot;Compiler Exception for {}&quot;, datafilter, e);\nlogger.debug(&quot;Compiler Exception for {}: {}&quot;, datafilter, e);\n</code></pre>\n<p>to better understand the difference.</p>\n"}],"owner":{"account_id":8896420,"reputation":414,"user_id":6673905,"display_name":"Borea Deitz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648647954,"creation_date":1648576349,"question_id":71666691,"body_markdown":"I&#39;m updating Log4j from v1 to v2.  The code I&#39;m updating has many instances of the Log4j `Logger.debug(Object message, Throwable throwable)` method and signature where `message` is constructed by string concatenation.  For example:\r\n\r\n    /* Log4j v1 */\r\n    import org.apache.log4j.Logger;\r\n    private static final Logger logger = Logger.getLogger();\r\n\r\n    String datafilter = &quot;blah&quot;;\r\n    try {\r\n        /* code */\r\n    }\r\n    catch (Exception e) {\r\n        logger.debug(&quot;Compiler Exception for &quot; + datafilter, e);\r\n        System.exit(3);\r\n    }\r\n\r\nWhen updating to Log4j v2, the [Log4j migration guide](https://logging.apache.org/log4j/2.x/manual/migration.html) states that parameterized messages like `logger.info(&quot;hi {}&quot;, userName)` should be used instead of string concatenation.  Thus, the updated code would look something like this:\r\n\r\n    /* Log4j v2 */\r\n    import org.apache.logging.log4j.Logger;\r\n    import org.apache.logging.log4j.LogManager;\r\n    private static final Logger logger = LogManager.getLogger();\r\n\r\n    String datafilter = &quot;blah&quot;;\r\n    try {\r\n        /* code */\r\n    }\r\n    catch (Exception e) {\r\n        /* Is the following correct? */\r\n        logger.debug(&quot;Compiler Exception for {}&quot;, datafilter, e);\r\n        System.exit(3);\r\n    }\r\n\r\nHowever, the method signature for `logger.debug(&quot;Compiler Exception for {}&quot;, datafilter, e)` looks off to me because the arguments for the parameterized message are mixed in with the other arguments to `Logger.debug()` (or `Logger.info()` or whatever).\r\n\r\nIs this the correct way to introduce parameterized messages into Log4j?  Will the compiler automatically understand which arguments are for subsitution and which are expected parts of the method signature, or do I need to delineate the parameterized message in some way?","title":"Do Java parameterized messages interfere with method signatures?","body":"<p>I'm updating Log4j from v1 to v2.  The code I'm updating has many instances of the Log4j <code>Logger.debug(Object message, Throwable throwable)</code> method and signature where <code>message</code> is constructed by string concatenation.  For example:</p>\n<pre><code>/* Log4j v1 */\nimport org.apache.log4j.Logger;\nprivate static final Logger logger = Logger.getLogger();\n\nString datafilter = &quot;blah&quot;;\ntry {\n    /* code */\n}\ncatch (Exception e) {\n    logger.debug(&quot;Compiler Exception for &quot; + datafilter, e);\n    System.exit(3);\n}\n</code></pre>\n<p>When updating to Log4j v2, the <a href=\"https://logging.apache.org/log4j/2.x/manual/migration.html\" rel=\"nofollow noreferrer\">Log4j migration guide</a> states that parameterized messages like <code>logger.info(&quot;hi {}&quot;, userName)</code> should be used instead of string concatenation.  Thus, the updated code would look something like this:</p>\n<pre><code>/* Log4j v2 */\nimport org.apache.logging.log4j.Logger;\nimport org.apache.logging.log4j.LogManager;\nprivate static final Logger logger = LogManager.getLogger();\n\nString datafilter = &quot;blah&quot;;\ntry {\n    /* code */\n}\ncatch (Exception e) {\n    /* Is the following correct? */\n    logger.debug(&quot;Compiler Exception for {}&quot;, datafilter, e);\n    System.exit(3);\n}\n</code></pre>\n<p>However, the method signature for <code>logger.debug(&quot;Compiler Exception for {}&quot;, datafilter, e)</code> looks off to me because the arguments for the parameterized message are mixed in with the other arguments to <code>Logger.debug()</code> (or <code>Logger.info()</code> or whatever).</p>\n<p>Is this the correct way to introduce parameterized messages into Log4j?  Will the compiler automatically understand which arguments are for subsitution and which are expected parts of the method signature, or do I need to delineate the parameterized message in some way?</p>\n"},{"tags":["java","multithreading","amazon-web-services","amazon-s3"],"comments":[{"owner":{"account_id":1578983,"reputation":22251,"user_id":1464763,"display_name":"David Levesque"},"score":0,"creation_date":1418325848,"post_id":27430675,"comment_id":43302711,"body_markdown":"Why can&#39;t you catch SocketException directly? The fact that it isn&#39;t a checked exception doesn&#39;t mean that you cannot catch it.","body":"Why can&#39;t you catch SocketException directly? The fact that it isn&#39;t a checked exception doesn&#39;t mean that you cannot catch it."},{"owner":{"account_id":1903084,"reputation":1408,"user_id":1718518,"accept_rate":46,"display_name":"Josh Hansen"},"score":0,"creation_date":1418330422,"post_id":27430675,"comment_id":43305131,"body_markdown":"I think that&#39;s only true for exceptions that inherit from RuntimeException. Trying to catch SocketException here results in a compilation error because that exception itself is not thrown.","body":"I think that&#39;s only true for exceptions that inherit from RuntimeException. Trying to catch SocketException here results in a compilation error because that exception itself is not thrown."},{"owner":{"account_id":1578983,"reputation":22251,"user_id":1464763,"display_name":"David Levesque"},"score":0,"creation_date":1418331108,"post_id":27430675,"comment_id":43305452,"body_markdown":"Ok I see what you mean now. SocketException is a checked exception but the AmazonS3Client is not passing it up, right?","body":"Ok I see what you mean now. SocketException is a checked exception but the AmazonS3Client is not passing it up, right?"},{"owner":{"account_id":1578983,"reputation":22251,"user_id":1464763,"display_name":"David Levesque"},"score":1,"creation_date":1418331381,"post_id":27430675,"comment_id":43305590,"body_markdown":"The javadoc says that `putObject()` throws AmazonClientException when this kind of error occurs. AmazonClientException has a method called `isRetryable()`, maybe you can try with that.","body":"The javadoc says that <code>putObject()</code> throws AmazonClientException when this kind of error occurs. AmazonClientException has a method called <code>isRetryable()</code>, maybe you can try with that."},{"owner":{"account_id":1903084,"reputation":1408,"user_id":1718518,"accept_rate":46,"display_name":"Josh Hansen"},"score":0,"creation_date":1418679085,"post_id":27430675,"comment_id":43418632,"body_markdown":"@DavidLevesque You&#39;re right and that basically answers my question. Write it up as an answer and I will accept it.","body":"@DavidLevesque You&#39;re right and that basically answers my question. Write it up as an answer and I will accept it."}],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648647377,"creation_date":1418333331,"answer_id":27432714,"question_id":27430675,"body_markdown":"&#39;Connection reset&#39; means the connection is closed. Close the socket, or whatever higher-level construct you&#39;re using. Probably the server has decided the upload is too large, or it&#39;s overloaded, or something. Whether you can retry the operation is something only you can know.","title":"How should I handle &quot;java.net.SocketException: Connection reset&quot; in multithread AWS S3 file upload?","body":"<p>'Connection reset' means the connection is closed. Close the socket, or whatever higher-level construct you're using. Probably the server has decided the upload is too large, or it's overloaded, or something. Whether you can retry the operation is something only you can know.</p>\n"},{"tags":[],"owner":{"account_id":1578983,"reputation":22251,"user_id":1464763,"display_name":"David Levesque"},"down_vote_count":2,"up_vote_count":2,"is_accepted":true,"score":0,"last_activity_date":1418704565,"creation_date":1418704565,"answer_id":27497606,"question_id":27430675,"body_markdown":"The javadoc says that `putObject()` throws AmazonClientException when this kind of error occurs. AmazonClientException has a method called `isRetryable()`, you can try with that.","title":"How should I handle &quot;java.net.SocketException: Connection reset&quot; in multithread AWS S3 file upload?","body":"<p>The javadoc says that <code>putObject()</code> throws AmazonClientException when this kind of error occurs. AmazonClientException has a method called <code>isRetryable()</code>, you can try with that.</p>\n"},{"tags":[],"owner":{"account_id":5415663,"reputation":393,"user_id":4310870,"display_name":"Mangesh Bhapkar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1470996966,"creation_date":1420548645,"answer_id":27799053,"question_id":27430675,"body_markdown":"For that you have to use only AmazonS3Client not Trasfermanager for upload and download\r\n\r\nU have to configure AmazonS3Client with following properties:\r\n\r\n    1. connectionTimeout=50000 in ms\r\n    2.maxConnections=500\r\n    3.socketTimeout=50000 in ms\r\n    4.maxErrorRetry=10\r\n    \r\nFor upload use\r\n\r\n    AmazonS3Client.putObject(bucketName, key, inputFile);\r\n\r\nFor download use\r\n\r\n    S3Object s3Object = AmazonS3Client.getObject(new GetObjectRequest(bucketName, key));`\r\n    InputStream downloadStream  = s3Object.getObjectContent();\t\r\n         \r\nand store that stream by reading bytes.","title":"How should I handle &quot;java.net.SocketException: Connection reset&quot; in multithread AWS S3 file upload?","body":"<p>For that you have to use only AmazonS3Client not Trasfermanager for upload and download</p>\n\n<p>U have to configure AmazonS3Client with following properties:</p>\n\n<pre><code>1. connectionTimeout=50000 in ms\n2.maxConnections=500\n3.socketTimeout=50000 in ms\n4.maxErrorRetry=10\n</code></pre>\n\n<p>For upload use</p>\n\n<pre><code>AmazonS3Client.putObject(bucketName, key, inputFile);\n</code></pre>\n\n<p>For download use</p>\n\n<pre><code>S3Object s3Object = AmazonS3Client.getObject(new GetObjectRequest(bucketName, key));`\nInputStream downloadStream  = s3Object.getObjectContent();  \n</code></pre>\n\n<p>and store that stream by reading bytes.</p>\n"},{"tags":[],"owner":{"account_id":3409182,"reputation":364,"user_id":2859563,"display_name":"BJYC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499837228,"creation_date":1499836506,"answer_id":45048943,"question_id":27430675,"body_markdown":"In my case, I am saving a object with some metadata. During the prototype, we added a system metadata &quot;time-created&quot;, and that consistently resulted into the similar error as above in the question. And it is not retry-able as it intends to modify a system metadata. But according to the API, as below,\r\n\r\n&gt;Throws:\r\n&gt;  \r\n&gt; - SdkClientException - If any errors are encountered in the client\r\n&gt;   while making &gt;    the request or handling the response.\r\n&gt; - AmazonServiceException - If any errors occurred in Amazon S3 while processing &gt;    the request.\r\n\r\nMy understanding is that the expected behavior should be, \r\n\r\n- throw one of the above exceptions, OR,\r\n- return an 403, rather than an umbrella AmazonClientException, &quot;Connection shutdown&quot;.  \r\n\r\nSee the logs below when S3 debug is turned on, \r\n\r\n    2017-07-11 17:12:45,163 DEBUG  [org.apache.http.wire] - http-outgoing-3 &gt;&gt; &quot;**[write] I/O error: Connection has been shutdown: javax.net.ssl.SSLException: java.net.SocketException: Connection reset&quot;**\r\n    2017-07-11 17:12:45,221 DEBUG  [org.apache.http.wire] - http-outgoing-4 &gt;&gt; &quot;PUT /dev-ec-dev/neon/ECTE/CPER/2017-6/ECTE_dp0p_CPER_2017-06-05.h5 HTTP/1.1[\\r][\\n]&quot;\r\n    2017-07-11 17:12:45,221 DEBUG  [org.apache.http.wire] - http-outgoing-4 &gt;&gt; &quot;Host: s3.data.neonscience.org[\\r][\\n]&quot;\r\n    2017-07-11 17:12:45,221 DEBUG  [org.apache.http.wire] - http-outgoing-4 &gt;&gt; &quot;Authorization: AWS dev-ec-owner:dE6ouKtPpP9aftLRba4OVn6DH9M=[\\r][\\n]&quot;\r\n    2017-07-11 17:12:45,222 DEBUG  [org.apache.http.wire] - http-outgoing-4 &gt;&gt; &quot;x-amz-meta-site: CPER[\\r][\\n]&quot;\r\n    2017-07-11 17:12:45,226 DEBUG  [org.apache.http.wire] - http-outgoing-4 &gt;&gt; &quot;x-amz-meta-time-created: 2017-07-11T17:12:44.904[\\r][\\n]&quot;\r\n\r\n\r\nMore logs with regular logging, \r\n\r\n    2017-07-11 17:12:45,247 DEBUG  [org.apache.http.wire] - http-outgoing-4 &gt;&gt; &quot;[write] I/O error: Connection has been shutdown: javax.net.ssl.SSLException: java.net.SocketException: Connection reset&quot;\r\n    2017-07-11 17:12:45,248 ERROR  [org.battelle.neon.is.transition.ec.ECTELevelZeroPrimeJob] - Error copyDataToS3: Not getting descriptive AmazonS3Exception.\r\n    Batch runner failed.com.amazonaws.AmazonClientException: Unable to execute HTTP request: Connection reset\r\n    java.lang.RuntimeException: com.amazonaws.AmazonClientException: Unable to execute HTTP request: Connection reset\r\n            at org.battelle.neon.is.transition.ec.ECTELevelZeroPrimeJob.runTransition(ECTELevelZeroPrimeJob.java:347)\r\n            at org.battelle.neon.is.batch.BatchRunner.lambda$null$1(BatchRunner.java:152)\r\n            at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)\r\n\r\n","title":"How should I handle &quot;java.net.SocketException: Connection reset&quot; in multithread AWS S3 file upload?","body":"<p>In my case, I am saving a object with some metadata. During the prototype, we added a system metadata \"time-created\", and that consistently resulted into the similar error as above in the question. And it is not retry-able as it intends to modify a system metadata. But according to the API, as below,</p>\n\n<blockquote>\n  <p>Throws:</p>\n  \n  <ul>\n  <li>SdkClientException - If any errors are encountered in the client\n  while making >    the request or handling the response.</li>\n  <li>AmazonServiceException - If any errors occurred in Amazon S3 while processing >    the request.</li>\n  </ul>\n</blockquote>\n\n<p>My understanding is that the expected behavior should be, </p>\n\n<ul>\n<li>throw one of the above exceptions, OR,</li>\n<li>return an 403, rather than an umbrella AmazonClientException, \"Connection shutdown\".  </li>\n</ul>\n\n<p>See the logs below when S3 debug is turned on, </p>\n\n<pre><code>2017-07-11 17:12:45,163 DEBUG  [org.apache.http.wire] - http-outgoing-3 &gt;&gt; \"**[write] I/O error: Connection has been shutdown: javax.net.ssl.SSLException: java.net.SocketException: Connection reset\"**\n2017-07-11 17:12:45,221 DEBUG  [org.apache.http.wire] - http-outgoing-4 &gt;&gt; \"PUT /dev-ec-dev/neon/ECTE/CPER/2017-6/ECTE_dp0p_CPER_2017-06-05.h5 HTTP/1.1[\\r][\\n]\"\n2017-07-11 17:12:45,221 DEBUG  [org.apache.http.wire] - http-outgoing-4 &gt;&gt; \"Host: s3.data.neonscience.org[\\r][\\n]\"\n2017-07-11 17:12:45,221 DEBUG  [org.apache.http.wire] - http-outgoing-4 &gt;&gt; \"Authorization: AWS dev-ec-owner:dE6ouKtPpP9aftLRba4OVn6DH9M=[\\r][\\n]\"\n2017-07-11 17:12:45,222 DEBUG  [org.apache.http.wire] - http-outgoing-4 &gt;&gt; \"x-amz-meta-site: CPER[\\r][\\n]\"\n2017-07-11 17:12:45,226 DEBUG  [org.apache.http.wire] - http-outgoing-4 &gt;&gt; \"x-amz-meta-time-created: 2017-07-11T17:12:44.904[\\r][\\n]\"\n</code></pre>\n\n<p>More logs with regular logging, </p>\n\n<pre><code>2017-07-11 17:12:45,247 DEBUG  [org.apache.http.wire] - http-outgoing-4 &gt;&gt; \"[write] I/O error: Connection has been shutdown: javax.net.ssl.SSLException: java.net.SocketException: Connection reset\"\n2017-07-11 17:12:45,248 ERROR  [org.battelle.neon.is.transition.ec.ECTELevelZeroPrimeJob] - Error copyDataToS3: Not getting descriptive AmazonS3Exception.\nBatch runner failed.com.amazonaws.AmazonClientException: Unable to execute HTTP request: Connection reset\njava.lang.RuntimeException: com.amazonaws.AmazonClientException: Unable to execute HTTP request: Connection reset\n        at org.battelle.neon.is.transition.ec.ECTELevelZeroPrimeJob.runTransition(ECTELevelZeroPrimeJob.java:347)\n        at org.battelle.neon.is.batch.BatchRunner.lambda$null$1(BatchRunner.java:152)\n        at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)\n</code></pre>\n"}],"owner":{"account_id":1903084,"reputation":1408,"user_id":1718518,"accept_rate":46,"display_name":"Josh Hansen"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12243,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":27497606,"answer_count":4,"score":4,"last_activity_date":1648647377,"creation_date":1418325480,"question_id":27430675,"body_markdown":"I have a ThreadPoolExecutorService to which I&#39;m submitting runnable jobs that are uploading large (1-2 GB) files to Amazon&#39;s S3 file system, using the AWS Java SDK. Occasionally one of my worker threads will report a java.net.SocketException with &quot;Connection reset&quot; as the cause and then die.\r\n\r\nAWS doesn&#39;t use checked exceptions so I actually can&#39;t catch SocketException directly---it must be wrapped somehow. My question is how I should deal with this problem so I can retry any problematic uploads and increase the reliability of my program.\r\n\r\nWould the Multipart Upload API be more reliable?\r\n\r\nIs there some exception I can reliably catch to enable retries?\r\n\r\nHere&#39;s the stack trace. The com.example.* code is mine. Basically what the DataProcessorAWS call does is call `putObject(String bucketName, String key, File file)` on an instance of `AmazonS3Client` that&#39;s shared across threads.\r\n\r\n    14/12/11 18:43:17 INFO http.AmazonHttpClient: Unable to execute HTTP request: Connection reset\r\n    java.net.SocketException: Connection reset\r\n        at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:118)\r\n        at java.net.SocketOutputStream.write(SocketOutputStream.java:159)\r\n        at sun.security.ssl.OutputRecord.writeBuffer(OutputRecord.java:377)\r\n        at sun.security.ssl.OutputRecord.write(OutputRecord.java:363)\r\n        at sun.security.ssl.SSLSocketImpl.writeRecordInternal(SSLSocketImpl.java:830)\r\n        at sun.security.ssl.SSLSocketImpl.writeRecord(SSLSocketImpl.java:801)\r\n        at sun.security.ssl.AppOutputStream.write(AppOutputStream.java:122)\r\n        at org.apache.http.impl.io.AbstractSessionOutputBuffer.write(AbstractSessionOutputBuffer.java:169)\r\n        at org.apache.http.impl.io.ContentLengthOutputStream.write(ContentLengthOutputStream.java:119)\r\n        at org.apache.http.entity.InputStreamEntity.writeTo(InputStreamEntity.java:102)\r\n        at com.amazonaws.http.RepeatableInputStreamRequestEntity.writeTo(RepeatableInputStreamRequestEntity.java:153)\r\n        at org.apache.http.entity.HttpEntityWrapper.writeTo(HttpEntityWrapper.java:98)\r\n        at org.apache.http.impl.client.EntityEnclosingRequestWrapper$EntityWrapper.writeTo(EntityEnclosingRequestWrapper.java:108)\r\n        at org.apache.http.impl.entity.EntitySerializer.serialize(EntitySerializer.java:122)\r\n        at org.apache.http.impl.AbstractHttpClientConnection.sendRequestEntity(AbstractHttpClientConnection.java:271)\r\n        at org.apache.http.impl.conn.ManagedClientConnectionImpl.sendRequestEntity(ManagedClientConnectionImpl.java:197)\r\n        at org.apache.http.protocol.HttpRequestExecutor.doSendRequest(HttpRequestExecutor.java:257)\r\n        at com.amazonaws.http.protocol.SdkHttpRequestExecutor.doSendRequest(SdkHttpRequestExecutor.java:47)\r\n        at org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:125)\r\n        at org.apache.http.impl.client.DefaultRequestDirector.tryExecute(DefaultRequestDirector.java:715)\r\n        at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:520)\r\n        at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:906)\r\n        at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:805)\r\n        at com.amazonaws.http.AmazonHttpClient.executeOneRequest(AmazonHttpClient.java:685)\r\n        at com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:460)\r\n        at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:295)\r\n        at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:3697)\r\n        at com.amazonaws.services.s3.AmazonS3Client.putObject(AmazonS3Client.java:1434)\r\n        at com.amazonaws.services.s3.AmazonS3Client.putObject(AmazonS3Client.java:1294)\r\n        at com.example.DataProcessorAWS$HitWriter.close(DataProcessorAWS.java:156)\r\n        at com.example.DataProcessorAWS$Processor.run(DataProcessorAWS.java:264)\r\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:262)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n        at java.lang.Thread.run(Thread.java:745)","title":"How should I handle &quot;java.net.SocketException: Connection reset&quot; in multithread AWS S3 file upload?","body":"<p>I have a ThreadPoolExecutorService to which I'm submitting runnable jobs that are uploading large (1-2 GB) files to Amazon's S3 file system, using the AWS Java SDK. Occasionally one of my worker threads will report a java.net.SocketException with \"Connection reset\" as the cause and then die.</p>\n\n<p>AWS doesn't use checked exceptions so I actually can't catch SocketException directly---it must be wrapped somehow. My question is how I should deal with this problem so I can retry any problematic uploads and increase the reliability of my program.</p>\n\n<p>Would the Multipart Upload API be more reliable?</p>\n\n<p>Is there some exception I can reliably catch to enable retries?</p>\n\n<p>Here's the stack trace. The com.example.* code is mine. Basically what the DataProcessorAWS call does is call <code>putObject(String bucketName, String key, File file)</code> on an instance of <code>AmazonS3Client</code> that's shared across threads.</p>\n\n<pre><code>14/12/11 18:43:17 INFO http.AmazonHttpClient: Unable to execute HTTP request: Connection reset\njava.net.SocketException: Connection reset\n    at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:118)\n    at java.net.SocketOutputStream.write(SocketOutputStream.java:159)\n    at sun.security.ssl.OutputRecord.writeBuffer(OutputRecord.java:377)\n    at sun.security.ssl.OutputRecord.write(OutputRecord.java:363)\n    at sun.security.ssl.SSLSocketImpl.writeRecordInternal(SSLSocketImpl.java:830)\n    at sun.security.ssl.SSLSocketImpl.writeRecord(SSLSocketImpl.java:801)\n    at sun.security.ssl.AppOutputStream.write(AppOutputStream.java:122)\n    at org.apache.http.impl.io.AbstractSessionOutputBuffer.write(AbstractSessionOutputBuffer.java:169)\n    at org.apache.http.impl.io.ContentLengthOutputStream.write(ContentLengthOutputStream.java:119)\n    at org.apache.http.entity.InputStreamEntity.writeTo(InputStreamEntity.java:102)\n    at com.amazonaws.http.RepeatableInputStreamRequestEntity.writeTo(RepeatableInputStreamRequestEntity.java:153)\n    at org.apache.http.entity.HttpEntityWrapper.writeTo(HttpEntityWrapper.java:98)\n    at org.apache.http.impl.client.EntityEnclosingRequestWrapper$EntityWrapper.writeTo(EntityEnclosingRequestWrapper.java:108)\n    at org.apache.http.impl.entity.EntitySerializer.serialize(EntitySerializer.java:122)\n    at org.apache.http.impl.AbstractHttpClientConnection.sendRequestEntity(AbstractHttpClientConnection.java:271)\n    at org.apache.http.impl.conn.ManagedClientConnectionImpl.sendRequestEntity(ManagedClientConnectionImpl.java:197)\n    at org.apache.http.protocol.HttpRequestExecutor.doSendRequest(HttpRequestExecutor.java:257)\n    at com.amazonaws.http.protocol.SdkHttpRequestExecutor.doSendRequest(SdkHttpRequestExecutor.java:47)\n    at org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:125)\n    at org.apache.http.impl.client.DefaultRequestDirector.tryExecute(DefaultRequestDirector.java:715)\n    at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:520)\n    at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:906)\n    at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:805)\n    at com.amazonaws.http.AmazonHttpClient.executeOneRequest(AmazonHttpClient.java:685)\n    at com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:460)\n    at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:295)\n    at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:3697)\n    at com.amazonaws.services.s3.AmazonS3Client.putObject(AmazonS3Client.java:1434)\n    at com.amazonaws.services.s3.AmazonS3Client.putObject(AmazonS3Client.java:1294)\n    at com.example.DataProcessorAWS$HitWriter.close(DataProcessorAWS.java:156)\n    at com.example.DataProcessorAWS$Processor.run(DataProcessorAWS.java:264)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:262)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n"},{"tags":["java","spring","spring-cloud-feign","feign"],"comments":[{"owner":{"account_id":4007082,"reputation":23327,"user_id":3301492,"display_name":"Boris"},"score":0,"creation_date":1581678125,"post_id":60223193,"comment_id":106525602,"body_markdown":"Why there are 2 `@JsonProperty(&quot;DATA&quot;)` annotations? Where is the second one from?","body":"Why there are 2 <code>@JsonProperty(&quot;DATA&quot;)</code> annotations? Where is the second one from?"},{"owner":{"account_id":4962272,"reputation":525,"user_id":4162708,"accept_rate":53,"display_name":"lily"},"score":0,"creation_date":1581678570,"post_id":60223193,"comment_id":106525836,"body_markdown":"@Boris there are two different json responses","body":"@Boris there are two different json responses"},{"owner":{"account_id":4962272,"reputation":525,"user_id":4162708,"accept_rate":53,"display_name":"lily"},"score":0,"creation_date":1581679529,"post_id":60223193,"comment_id":106526273,"body_markdown":"@Boris they are not in the same ProductDTO class, say, I can define two ProductDTO classes, ProductDTO1 and ProductDTO2, each with different @JsonProperty(&quot;DATA&quot;)","body":"@Boris they are not in the same ProductDTO class, say, I can define two ProductDTO classes, ProductDTO1 and ProductDTO2, each with different @JsonProperty(&quot;DATA&quot;)"},{"owner":{"account_id":4007082,"reputation":23327,"user_id":3301492,"display_name":"Boris"},"score":0,"creation_date":1581679922,"post_id":60223193,"comment_id":106526449,"body_markdown":"I see, and what happens if you have `@JsonProperty(&quot;DATA&quot;) private List&lt;Product&gt; productList;` in the ProductDTO2?","body":"I see, and what happens if you have <code>@JsonProperty(&quot;DATA&quot;) private List&lt;Product&gt; productList;</code> in the ProductDTO2?"},{"owner":{"account_id":4962272,"reputation":525,"user_id":4162708,"accept_rate":53,"display_name":"lily"},"score":0,"creation_date":1581686358,"post_id":60223193,"comment_id":106529421,"body_markdown":"@Boris I&#39;m asking how to deal with different responses, one with a list of objects while the other with a object","body":"@Boris I&#39;m asking how to deal with different responses, one with a list of objects while the other with a object"},{"owner":{"account_id":4007082,"reputation":23327,"user_id":3301492,"display_name":"Boris"},"score":0,"creation_date":1581689570,"post_id":60223193,"comment_id":106531275,"body_markdown":"If I understand correctly, you should be able to marshall any JSON to `List&lt;Product&gt; productList`. Only in case the JSON contains a single `Product` it should be converted to a list of a single object. If you keep only `ProductDTO1` can it handle such scenario, can you try?","body":"If I understand correctly, you should be able to marshall any JSON to <code>List&lt;Product&gt; productList</code>. Only in case the JSON contains a single <code>Product</code> it should be converted to a list of a single object. If you keep only <code>ProductDTO1</code> can it handle such scenario, can you try?"},{"owner":{"account_id":4962272,"reputation":525,"user_id":4162708,"accept_rate":53,"display_name":"lily"},"score":0,"creation_date":1581691387,"post_id":60223193,"comment_id":106532294,"body_markdown":"@Boris the issue is how to convert a single object in the response to a list of object. If I rewrite the decoder, how can I avoid affecting other APIs without such an issue.","body":"@Boris the issue is how to convert a single object in the response to a list of object. If I rewrite the decoder, how can I avoid affecting other APIs without such an issue."},{"owner":{"account_id":4007082,"reputation":23327,"user_id":3301492,"display_name":"Boris"},"score":0,"creation_date":1581692892,"post_id":60223193,"comment_id":106533036,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/207847/discussion-between-boris-and-lily).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/207847/discussion-between-boris-and-lily\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":24746217,"reputation":1,"user_id":18632361,"display_name":"DevOnAJet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648647340,"creation_date":1648647340,"answer_id":71678262,"question_id":60223193,"body_markdown":"I know I am late but I believe what you&#39;re looking for is this:\r\n\r\n    @JsonFormat(with = ACCEPT_SINGLE_VALUE_AS_ARRAY)\r\n    @JsonProperty(&quot;DATA&quot;)\r\n    private List&lt;Product&gt; products;\r\n\r\nBased on the documentation [here][1], this will allow deserialization of JSON non-array values into single-element Java arrays and Collections. So using this annotation, if the response of the API is a list, then it will be mapped to `List&lt;Product&gt;`. If the response of the API is a single Product object, then it will still be mapped to `List&lt;Product&gt;` with a single element.\r\n\r\n\r\n  [1]: https://www.javadoc.io/static/com.fasterxml.jackson.core/jackson-annotations/2.9.8/com/fasterxml/jackson/annotation/JsonFormat.Feature.html#ACCEPT_SINGLE_VALUE_AS_ARRAY","title":"FeignClient: if the response of an API has two different format, how to elegantly deal with such a case?","body":"<p>I know I am late but I believe what you're looking for is this:</p>\n<pre><code>@JsonFormat(with = ACCEPT_SINGLE_VALUE_AS_ARRAY)\n@JsonProperty(&quot;DATA&quot;)\nprivate List&lt;Product&gt; products;\n</code></pre>\n<p>Based on the documentation <a href=\"https://www.javadoc.io/static/com.fasterxml.jackson.core/jackson-annotations/2.9.8/com/fasterxml/jackson/annotation/JsonFormat.Feature.html#ACCEPT_SINGLE_VALUE_AS_ARRAY\" rel=\"nofollow noreferrer\">here</a>, this will allow deserialization of JSON non-array values into single-element Java arrays and Collections. So using this annotation, if the response of the API is a list, then it will be mapped to <code>List&lt;Product&gt;</code>. If the response of the API is a single Product object, then it will still be mapped to <code>List&lt;Product&gt;</code> with a single element.</p>\n"}],"owner":{"account_id":4962272,"reputation":525,"user_id":4162708,"accept_rate":53,"display_name":"lily"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1550,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648647340,"creation_date":1581671452,"question_id":60223193,"body_markdown":"In my project there is a Feignclient as below:\r\n\r\n    @FeignClient(name = &quot;myFeignClient&quot;, url = &quot;${remote-url}&quot;, configuration = {MyApiClient.Config.class})\r\n    public interface ApiClient {\r\n\r\n        @PostMapping(value = &quot;/product&quot;, consumes = MediaType.APPLICATION_FORM_URLENCODED_VALUE)\r\n        ProductDTO getProduct(@RequestBody ProductReqParam req);\r\n\r\n        ... // other @GetMapping or @PostMapping method is ignored here\r\n\r\n        class Config {\r\n            @Bean\r\n            ErrorDecoder errorDecoder() {\r\n                return new FeignErrorDecoder();\r\n            }\r\n\r\n            static class FeignErrorDecoder implements ErrorDecoder {\r\n                @Override\r\n                public Exception decode(String methodKey, Response response) {\r\n                    if (response.body() != null) {\r\n                        return new MyFeignException(response.status(), response.body().toString());\r\n                    } else {\r\n                        return new MyFeignException(response.status());\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\naccording to api document of our third-party provider, ProductDTO is as below\r\n\r\n    public class ProductDTO {\r\n\r\n        @JsonProperty(&quot;Result&quot;)\r\n        private ProductDTO.Result result;\r\n\r\n        @Data\r\n        @NoArgsConstructor\r\n        @AllArgsConstructor\r\n        public static class Result {\r\n            @JsonProperty(&quot;STATUS&quot;)\r\n            private String status;\r\n            @JsonProperty(&quot;TOTALRECORD&quot;)\r\n            private Integer recordCount;\r\n            @JsonProperty(&quot;DATA&quot;)\r\n            private List&lt;Product&gt; productList;\r\n        }\r\n\r\n        @Data\r\n        @NoArgsConstructor\r\n        @AllArgsConstructor\r\n        public static class Product {\r\n            @JsonProperty(&quot;ID&quot;)\r\n            private Integer id;\r\n            @JsonProperty(&quot;NAME&quot;)\r\n            private String name;\r\n            @JsonProperty(&quot;PRICE&quot;)\r\n            private String price;\r\n        }  \r\n    }\r\n\r\nbut after the project starts running on production environment, we find that if there is only one product record, the returned JSON corresponding to &quot;DATA&quot; key is a JSON instead of JSON Array，so the ProductDTO would be with field like this:\r\n\r\n     @JsonProperty(&quot;DATA&quot;)\r\n     private Product product;\r\n\r\nYes, the third-party api developer has done a very bad job in constructing their response to us, they should put the single object into a list and then return to us, but they don&#39;t, so we have to deal with the two different responses by ourselves.\r\n\r\nI&#39;m at a loss how to deal with such a case. My initial plan is to inject a customized feignDecoder bean, in decode method specifically deal with &quot;/product&quot; api. But it will disturbe other methods, also I&#39;ve already have a ErrorDecoder bean, which may incur potential issues?","title":"FeignClient: if the response of an API has two different format, how to elegantly deal with such a case?","body":"<p>In my project there is a Feignclient as below:</p>\n\n<pre><code>@FeignClient(name = \"myFeignClient\", url = \"${remote-url}\", configuration = {MyApiClient.Config.class})\npublic interface ApiClient {\n\n    @PostMapping(value = \"/product\", consumes = MediaType.APPLICATION_FORM_URLENCODED_VALUE)\n    ProductDTO getProduct(@RequestBody ProductReqParam req);\n\n    ... // other @GetMapping or @PostMapping method is ignored here\n\n    class Config {\n        @Bean\n        ErrorDecoder errorDecoder() {\n            return new FeignErrorDecoder();\n        }\n\n        static class FeignErrorDecoder implements ErrorDecoder {\n            @Override\n            public Exception decode(String methodKey, Response response) {\n                if (response.body() != null) {\n                    return new MyFeignException(response.status(), response.body().toString());\n                } else {\n                    return new MyFeignException(response.status());\n                }\n            }\n        }\n    }\n\n}\n</code></pre>\n\n<p>according to api document of our third-party provider, ProductDTO is as below</p>\n\n<pre><code>public class ProductDTO {\n\n    @JsonProperty(\"Result\")\n    private ProductDTO.Result result;\n\n    @Data\n    @NoArgsConstructor\n    @AllArgsConstructor\n    public static class Result {\n        @JsonProperty(\"STATUS\")\n        private String status;\n        @JsonProperty(\"TOTALRECORD\")\n        private Integer recordCount;\n        @JsonProperty(\"DATA\")\n        private List&lt;Product&gt; productList;\n    }\n\n    @Data\n    @NoArgsConstructor\n    @AllArgsConstructor\n    public static class Product {\n        @JsonProperty(\"ID\")\n        private Integer id;\n        @JsonProperty(\"NAME\")\n        private String name;\n        @JsonProperty(\"PRICE\")\n        private String price;\n    }  \n}\n</code></pre>\n\n<p>but after the project starts running on production environment, we find that if there is only one product record, the returned JSON corresponding to \"DATA\" key is a JSON instead of JSON Array，so the ProductDTO would be with field like this:</p>\n\n<pre><code> @JsonProperty(\"DATA\")\n private Product product;\n</code></pre>\n\n<p>Yes, the third-party api developer has done a very bad job in constructing their response to us, they should put the single object into a list and then return to us, but they don't, so we have to deal with the two different responses by ourselves.</p>\n\n<p>I'm at a loss how to deal with such a case. My initial plan is to inject a customized feignDecoder bean, in decode method specifically deal with \"/product\" api. But it will disturbe other methods, also I've already have a ErrorDecoder bean, which may incur potential issues?</p>\n"},{"tags":["java","appscan"],"answers":[{"tags":[],"owner":{"account_id":5331956,"reputation":6999,"user_id":4252320,"accept_rate":59,"display_name":"ergonaut"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648647284,"creation_date":1648647284,"answer_id":71678246,"question_id":71382355,"body_markdown":"You need to install a plugin and annotate methods.  There are three annotation available as part of the com.static.analyzer.annotation.jar package.  \r\n\r\n    @ValidatorMethod\r\n    @SuppressSecurityTrace\r\n    @CallbackMethod\r\n\r\nThis jar is only found in the SAClientUtil_[VERSION]_[OS].zip which is included available on their cloud.appscan.com site as part of their &quot;ASoC client tools&quot; within their downloadable &quot;plugins and apis&quot;.\r\n\r\nhttps://help.hcltechsw.com/appscan/ASoC/src_java_annotations.html?hl=validator#src_java_annotations__validator_method\r\n","title":"Mark as a validation routine","body":"<p>You need to install a plugin and annotate methods.  There are three annotation available as part of the com.static.analyzer.annotation.jar package.</p>\n<pre><code>@ValidatorMethod\n@SuppressSecurityTrace\n@CallbackMethod\n</code></pre>\n<p>This jar is only found in the SAClientUtil_[VERSION]_[OS].zip which is included available on their cloud.appscan.com site as part of their &quot;ASoC client tools&quot; within their downloadable &quot;plugins and apis&quot;.</p>\n<p><a href=\"https://help.hcltechsw.com/appscan/ASoC/src_java_annotations.html?hl=validator#src_java_annotations__validator_method\" rel=\"nofollow noreferrer\">https://help.hcltechsw.com/appscan/ASoC/src_java_annotations.html?hl=validator#src_java_annotations__validator_method</a></p>\n"}],"owner":{"account_id":5331956,"reputation":6999,"user_id":4252320,"accept_rate":59,"display_name":"ergonaut"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71678246,"answer_count":1,"score":0,"last_activity_date":1648647284,"creation_date":1646662156,"question_id":71382355,"body_markdown":"There is documentation on marking up methods as validation routines below.\r\n\r\nhttps://help.hcltechsw.com/appscan/Source/9.0.3/topics/input_output_tracing_example2_trace.html\r\n\r\nHowever I&#39;m using cloud.appscan.com, and on the ValidationRequired-&gt;Details-&gt;Method, it shows the source/sink flow but there is no ability to drill down any methods and flag validation methods.  How can I do this on the cloud version?","title":"Mark as a validation routine","body":"<p>There is documentation on marking up methods as validation routines below.</p>\n<p><a href=\"https://help.hcltechsw.com/appscan/Source/9.0.3/topics/input_output_tracing_example2_trace.html\" rel=\"nofollow noreferrer\">https://help.hcltechsw.com/appscan/Source/9.0.3/topics/input_output_tracing_example2_trace.html</a></p>\n<p>However I'm using cloud.appscan.com, and on the ValidationRequired-&gt;Details-&gt;Method, it shows the source/sink flow but there is no ability to drill down any methods and flag validation methods.  How can I do this on the cloud version?</p>\n"},{"tags":["java","spring-boot","rest","documentation","javadoc"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1648656922,"post_id":71678090,"comment_id":126681909,"body_markdown":"SO is not the place to ask others for opinions. This is a topic that should be regulated by your internal team or company or organization rules. Go and talk to your developer colleagues over it, if they find it useful (and would be ok to provide such documentation also).","body":"SO is not the place to ask others for opinions. This is a topic that should be regulated by your internal team or company or organization rules. Go and talk to your developer colleagues over it, if they find it useful (and would be ok to provide such documentation also)."},{"owner":{"account_id":24590272,"reputation":11,"user_id":18494284,"display_name":"Doctor_Sidious"},"score":0,"creation_date":1648912145,"post_id":71678090,"comment_id":126745549,"body_markdown":"I&#39;m a student. It&#39;s for a project. I think this place is only for seniors. Sorry. Deleting my account.","body":"I&#39;m a student. It&#39;s for a project. I think this place is only for seniors. Sorry. Deleting my account."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1648990742,"post_id":71678090,"comment_id":126757697,"body_markdown":"Sorry, I didn&#39;t want to scare you away of SO! It&#39;s the complete opposite way: I have seen too many starting discussions (!) that were closed with a similar statement, but wanted to point you in this direction: the answer(s) would be opinionated and therefore might or might not be correct for your situation. It&#39;s totally depending on the circumstances. Juniors are highly welcome to SO - as long as they are willing to learn that one might have to reformulate a question until it fit&#39;s this places goals.","body":"Sorry, I didn&#39;t want to scare you away of SO! It&#39;s the complete opposite way: I have seen too many starting discussions (!) that were closed with a similar statement, but wanted to point you in this direction: the answer(s) would be opinionated and therefore might or might not be correct for your situation. It&#39;s totally depending on the circumstances. Juniors are highly welcome to SO - as long as they are willing to learn that one might have to reformulate a question until it fit&#39;s this places goals."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1648990888,"post_id":71678090,"comment_id":126757734,"body_markdown":"And to come back to your additions (please don&#39;t forget to add your current situation &quot;it&#39;s for a students project&quot; to your question!): Ask your future self: after one year, you have forgotten half of the project yet - would it be helpful to have the additional documentation, or would it be wasted time as everything is completely clear from the code alone?","body":"And to come back to your additions (please don&#39;t forget to add your current situation &quot;it&#39;s for a students project&quot; to your question!): Ask your future self: after one year, you have forgotten half of the project yet - would it be helpful to have the additional documentation, or would it be wasted time as everything is completely clear from the code alone?"}],"owner":{"account_id":24590272,"reputation":11,"user_id":18494284,"display_name":"Doctor_Sidious"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":470,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648647058,"creation_date":1648646753,"question_id":71678090,"body_markdown":"After creating a SpringBootApp to supply REST Services, all according to official Spring Documentation but adding a Service Layer (who knows why Spring Docs ignores this), I&#39;ve consider creating JavaDocs for the project. \r\n\r\nProblem is... It&#39;s too redundant and all the effort would imply to explain explicit methods and classes like &quot;Controller Method that provides GET service...&quot; when the class is called &lt;entity&gt;Controller and method has @GetMapping tag. If official documentation is on the internet and you respected Arquitectural Design Patterns, why should you redo all the work that somebody has already done? I mean, if it was something purely original and imposible to understand, of course I would have to document everything till the most minuscule detail: but for this? Not sure...\r\n\r\nWhat do you think? Am I being a lazy programmer or could you justify this lack of effort?","title":"JavaDocs for SpringBoot REST API or other known Architectures/Frameworks? Necessary?","body":"<p>After creating a SpringBootApp to supply REST Services, all according to official Spring Documentation but adding a Service Layer (who knows why Spring Docs ignores this), I've consider creating JavaDocs for the project.</p>\n<p>Problem is... It's too redundant and all the effort would imply to explain explicit methods and classes like &quot;Controller Method that provides GET service...&quot; when the class is called Controller and method has @GetMapping tag. If official documentation is on the internet and you respected Arquitectural Design Patterns, why should you redo all the work that somebody has already done? I mean, if it was something purely original and imposible to understand, of course I would have to document everything till the most minuscule detail: but for this? Not sure...</p>\n<p>What do you think? Am I being a lazy programmer or could you justify this lack of effort?</p>\n"},{"tags":["java","postgresql","hibernate","jpa"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1648645267,"post_id":71677608,"comment_id":126676610,"body_markdown":"What&#39;s the definition of the column in the DB?","body":"What&#39;s the definition of the column in the DB?"},{"owner":{"account_id":3740663,"reputation":515,"user_id":3110505,"accept_rate":61,"display_name":"cadmy"},"score":0,"creation_date":1648645565,"post_id":71677608,"comment_id":126676739,"body_markdown":"`create table t.amount (amount numeric, ins_itm_uuid uuid  not null}` \nLike that","body":"<code>create table t.amount (amount numeric, ins_itm_uuid uuid  not null}</code>  Like that"},{"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"score":2,"creation_date":1648645634,"post_id":71677608,"comment_id":126676772,"body_markdown":"It could be a couple of things:  1) maybe the column in your database isn&#39;t setup to use that much precision.  Try setting values manually in DB to verify.  2) It could be a simple precision error in the the JVM.  Sometimes with very high precision value can be lost.","body":"It could be a couple of things:  1) maybe the column in your database isn&#39;t setup to use that much precision.  Try setting values manually in DB to verify.  2) It could be a simple precision error in the the JVM.  Sometimes with very high precision value can be lost."},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":1,"creation_date":1648646035,"post_id":71677608,"comment_id":126676929,"body_markdown":"1. Can you log the update statement created by JPA? 2. First example is misleading, you should pass an entity, not a double to EntityManager. What is the field type in the entity? My guess is that you used a `float`.","body":"1. Can you log the update statement created by JPA? 2. First example is misleading, you should pass an entity, not a double to EntityManager. What is the field type in the entity? My guess is that you used a <code>float</code>."},{"owner":{"account_id":3740663,"reputation":515,"user_id":3110505,"accept_rate":61,"display_name":"cadmy"},"score":0,"creation_date":1648646939,"post_id":71677608,"comment_id":126677312,"body_markdown":"In the log I see the question marks instead of values, but when I&#39;m debugging before the merge the value in entity is sharp.","body":"In the log I see the question marks instead of values, but when I&#39;m debugging before the merge the value in entity is sharp."}],"answers":[{"tags":[],"owner":{"account_id":24746097,"reputation":41,"user_id":18632251,"display_name":"Mohaafly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648646255,"creation_date":1648646255,"answer_id":71677963,"question_id":71677608,"body_markdown":"If you set your info with an Entity you can try to specify the precision and the scale.\r\n\r\nEx: \r\n`@Column(precision=8, scale=2)\r\nDouble amount;`\r\n\r\nHere precision is for the number you want to after the comma and scale is how many scale you want to see.\r\n\r\nSo 4.3243200000001 will have a precision of 15.","title":"Loss precision of double stored to numeric in postgres via jpa entity manager","body":"<p>If you set your info with an Entity you can try to specify the precision and the scale.</p>\n<p>Ex:\n<code>@Column(precision=8, scale=2) Double amount;</code></p>\n<p>Here precision is for the number you want to after the comma and scale is how many scale you want to see.</p>\n<p>So 4.3243200000001 will have a precision of 15.</p>\n"}],"owner":{"account_id":3740663,"reputation":515,"user_id":3110505,"accept_rate":61,"display_name":"cadmy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":897,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648646846,"creation_date":1648644788,"question_id":71677608,"body_markdown":"While saving java `Double` to posgres `numeric` type. The value `4.324325500000001` stored as `4.3243255`. Entity manager used for this purpose.\r\n\r\n    public class Amount {\r\n        private UUID uuid;\r\n        private Double value;\r\n    }\r\n\r\n    entityManager.merge(amount);\r\n\r\nIf update is done by direct sql query there is no such a problem.\r\n\r\n    update t.amount\r\n    set value=4.324325500000001\r\n    where uuid=&#39;7981cdea-f1a7-4374-9795-da86561902c1&#39;;\r\n\r\nWhat is the way to setup default precision for all jpa transactions (not for just one column)? Is it possible to set hibernate option or spring properties?\r\nUsing a `BigDecimal` is not option cause backward compatibility.","title":"Loss precision of double stored to numeric in postgres via jpa entity manager","body":"<p>While saving java <code>Double</code> to posgres <code>numeric</code> type. The value <code>4.324325500000001</code> stored as <code>4.3243255</code>. Entity manager used for this purpose.</p>\n<pre><code>public class Amount {\n    private UUID uuid;\n    private Double value;\n}\n\nentityManager.merge(amount);\n</code></pre>\n<p>If update is done by direct sql query there is no such a problem.</p>\n<pre><code>update t.amount\nset value=4.324325500000001\nwhere uuid='7981cdea-f1a7-4374-9795-da86561902c1';\n</code></pre>\n<p>What is the way to setup default precision for all jpa transactions (not for just one column)? Is it possible to set hibernate option or spring properties?\nUsing a <code>BigDecimal</code> is not option cause backward compatibility.</p>\n"},{"tags":["java","hibernate","jpa","entitymanager","applicationcontext"],"answers":[{"tags":[],"owner":{"account_id":2322328,"reputation":1012,"user_id":2037710,"display_name":"Guilherme Mussi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647954731,"creation_date":1647954731,"answer_id":71572668,"question_id":71572620,"body_markdown":"I am doing it like this:\r\n\r\n```java\r\n    EntityManagerFactory factory = \r\n    Persistence.createEntityManagerFactory(PERSISTENCE_UNIT_NAME);\r\n\r\n    EntityManager em = factory.createEntityManager()\r\n```","title":"How to get a specific EntityManager programmatically without using @PersistenceContext annotation","body":"<p>I am doing it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    EntityManagerFactory factory = \n    Persistence.createEntityManagerFactory(PERSISTENCE_UNIT_NAME);\n\n    EntityManager em = factory.createEntityManager()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17343970,"reputation":41,"user_id":12563993,"display_name":"Mario Batur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648646846,"creation_date":1648645988,"answer_id":71677897,"question_id":71572620,"body_markdown":"I&#39;ve come up with new working solution:\r\n\r\n\r\n    EntityManager em = context.getBeansOfType(LocalContainerEntityManagerFactoryBean.class)\r\n                              .getOrDefault(&quot;&amp;entityManagerFactoryA&quot;, null)\r\n                              .getNativeEntityManagerFactory()\r\n                              .createEntityManager();\r\n\r\nFor some reason I need to prefix EntityManagerFactory key (name) with **&amp;**.\r\nI would appreciate any explanation why is this required?\r\n","title":"How to get a specific EntityManager programmatically without using @PersistenceContext annotation","body":"<p>I've come up with new working solution:</p>\n<pre><code>EntityManager em = context.getBeansOfType(LocalContainerEntityManagerFactoryBean.class)\n                          .getOrDefault(&quot;&amp;entityManagerFactoryA&quot;, null)\n                          .getNativeEntityManagerFactory()\n                          .createEntityManager();\n</code></pre>\n<p>For some reason I need to prefix EntityManagerFactory key (name) with <strong>&amp;</strong>.\nI would appreciate any explanation why is this required?</p>\n"}],"owner":{"account_id":17343970,"reputation":41,"user_id":12563993,"display_name":"Mario Batur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":795,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1648646846,"creation_date":1647954519,"question_id":71572620,"body_markdown":"I have two different EntityManagers I want to use in a **legacy class (no bean)**  from its related **EntityManagerFactory**\r\n\r\n    @PersistenceContext(name = &quot;entityManagerFactoryA&quot;) \r\n    EntityManager entityManagerA;\r\n    \r\n    @PersistenceContext(name = &quot;entityManagerFactoryB&quot;) \r\n    EntityManager entityManagerB;\r\n\r\nI&#39;ve tried to use **getBean()**\r\n\r\n    ApplicationContext applicationContext;\r\n    \r\n    applicationContext.getBean(&quot;entityManagerFactoryA&quot;);\r\n\r\nwhich results in this error:\r\n\r\n&gt; Cannot cast &#39;com.sun.proxy.$Proxy167&#39; to &#39;java.persistence.EntityManager&#39;\r\n\r\nSo currently wrapping the usual injection via **@PersistenceContext**  into a wrapper bean, which then is fetched from the **ApplicationContext** works\r\n\r\n    @Getter\r\n    @Component\r\n    private class EntityManagerAWrapper {\r\n    \r\n         @PersistenceContext(name = &quot;entityManagerFactoryA&quot;)\r\n         EntityManager entityManagerA;\r\n    }\r\n    \r\n    .\r\n    .\r\n    .\r\n    \r\n    applicationContext.getBean(EntityManagerAWrapper.class).getEntityManagerA();\r\n\r\nThis however is an unnesessary &quot;hack&quot; that I want to avoid. Is there any chance to get the correct EntityManager in a simpler way?","title":"How to get a specific EntityManager programmatically without using @PersistenceContext annotation","body":"<p>I have two different EntityManagers I want to use in a <strong>legacy class (no bean)</strong>  from its related <strong>EntityManagerFactory</strong></p>\n<pre><code>@PersistenceContext(name = &quot;entityManagerFactoryA&quot;) \nEntityManager entityManagerA;\n\n@PersistenceContext(name = &quot;entityManagerFactoryB&quot;) \nEntityManager entityManagerB;\n</code></pre>\n<p>I've tried to use <strong>getBean()</strong></p>\n<pre><code>ApplicationContext applicationContext;\n\napplicationContext.getBean(&quot;entityManagerFactoryA&quot;);\n</code></pre>\n<p>which results in this error:</p>\n<blockquote>\n<p>Cannot cast 'com.sun.proxy.$Proxy167' to 'java.persistence.EntityManager'</p>\n</blockquote>\n<p>So currently wrapping the usual injection via <strong>@PersistenceContext</strong>  into a wrapper bean, which then is fetched from the <strong>ApplicationContext</strong> works</p>\n<pre><code>@Getter\n@Component\nprivate class EntityManagerAWrapper {\n\n     @PersistenceContext(name = &quot;entityManagerFactoryA&quot;)\n     EntityManager entityManagerA;\n}\n\n.\n.\n.\n\napplicationContext.getBean(EntityManagerAWrapper.class).getEntityManagerA();\n</code></pre>\n<p>This however is an unnesessary &quot;hack&quot; that I want to avoid. Is there any chance to get the correct EntityManager in a simpler way?</p>\n"},{"tags":["java","amazon-web-services","amazon-ec2","amazon-vpc","aws-vpc-peering"],"comments":[{"owner":{"account_id":90365,"reputation":222476,"user_id":248823,"accept_rate":100,"display_name":"Marcin"},"score":0,"creation_date":1617840621,"post_id":66995319,"comment_id":118423256,"body_markdown":"How did you setup route tables for the peering connection?","body":"How did you setup route tables for the peering connection?"},{"owner":{"account_id":440972,"reputation":5045,"user_id":830841,"accept_rate":12,"display_name":"James Shapiro"},"score":0,"creation_date":1617842426,"post_id":66995319,"comment_id":118423600,"body_markdown":"What happens if you add 0.0.0.0/0 and ::/0 inbound rules for the private instance&#39;s security group, for all protocols, and then try to ping it using its private IP address? Also, what are the NACL rules for each subnet? Those may be blocking the connection as well.","body":"What happens if you add 0.0.0.0/0 and ::/0 inbound rules for the private instance&#39;s security group, for all protocols, and then try to ping it using its private IP address? Also, what are the NACL rules for each subnet? Those may be blocking the connection as well."},{"owner":{"account_id":17861931,"reputation":437,"user_id":12975232,"display_name":"Hussam Ahmed"},"score":0,"creation_date":1617845679,"post_id":66995319,"comment_id":118424171,"body_markdown":"@JamesShapiro pinging doesn&#39;t work be default; how ever I added a rule for ICMP and it worked. I updated the post with screenshots of my NACL rules","body":"@JamesShapiro pinging doesn&#39;t work be default; how ever I added a rule for ICMP and it worked. I updated the post with screenshots of my NACL rules"},{"owner":{"account_id":17861931,"reputation":437,"user_id":12975232,"display_name":"Hussam Ahmed"},"score":0,"creation_date":1617845893,"post_id":66995319,"comment_id":118424211,"body_markdown":"@Marcin I associated the private CIDR blocks to the peering connection `pcx-` I can ssh from my client on VPC1 to the servers on VPC2 since both are peered","body":"@Marcin I associated the private CIDR blocks to the peering connection <code>pcx-</code> I can ssh from my client on VPC1 to the servers on VPC2 since both are peered"},{"owner":{"account_id":90365,"reputation":222476,"user_id":248823,"accept_rate":100,"display_name":"Marcin"},"score":0,"creation_date":1617846302,"post_id":66995319,"comment_id":118424290,"body_markdown":"Could be app-level issue. maybe the app is using public IPs or URLs to connect to the servers, not private IPs?","body":"Could be app-level issue. maybe the app is using public IPs or URLs to connect to the servers, not private IPs?"},{"owner":{"account_id":17861931,"reputation":437,"user_id":12975232,"display_name":"Hussam Ahmed"},"score":0,"creation_date":1617846969,"post_id":66995319,"comment_id":118424409,"body_markdown":"@Marcin it is subnet dependent. Meaning if a subnet is public it would use public IPs. Do you know of a way to double check?","body":"@Marcin it is subnet dependent. Meaning if a subnet is public it would use public IPs. Do you know of a way to double check?"},{"owner":{"account_id":90365,"reputation":222476,"user_id":248823,"accept_rate":100,"display_name":"Marcin"},"score":0,"creation_date":1617847460,"post_id":66995319,"comment_id":118424474,"body_markdown":"You check in your code. How do you refer to your servers?","body":"You check in your code. How do you refer to your servers?"}],"owner":{"account_id":17861931,"reputation":437,"user_id":12975232,"display_name":"Hussam Ahmed"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648646745,"creation_date":1617837301,"question_id":66995319,"body_markdown":"I have two VPC (VPC1, VPC2) in different regions. Each VPC has two EC2 instances. On VPC1, I have a public and a private subnets (subnet1 and subnet2 respectively) each with its own routing table, and on VPC2, I have one private subnet (subnet3). Also, I have enabled VPC Peering between my two VPCs over the private subnets.\r\n\r\nI have also added an internet and NAT gateways to VPC1 to be able to reach the internet.\r\n\r\nOn VPC1, I launched two EC2 instances, client instance which runs on the private subnet, and a public_ec2_subnet1 which runs on the public subnet. On VPC2, I have two EC2 instances, server2 which runs on the private subnet (subnet3) on VPC2, and server1 which runs on a public subnet on the `default VPC of the region, NOT ON THE SAME VPC`\r\n\r\nOn the client&#39;s EC2 instance, I added a java file called `EchoClient.java` which takes an IP address as an argument, and on both server1 and server2 I added another java file called `EchoServer.java` which runs on port 10008 on whichever instance it is on.\r\n\r\n### EchoClient.java:\r\n\r\n```java\r\nimport java.io.*;\r\nimport java.net.*;\r\n\r\npublic class EchoClient {\r\n    public static void main(String[] args) throws IOException {\r\n\r\n        String serverHostname = new String (&quot;127.0.0.1&quot;);\r\n\r\n        if (args.length &gt; 0)\r\n           serverHostname = args[0];\r\n        System.out.println (&quot;Attemping to connect to host &quot; +\r\n\t\tserverHostname + &quot; on port 10008.&quot;);\r\n\r\n        Socket echoSocket = null;\r\n        PrintWriter out = null;\r\n        BufferedReader in = null;\r\n\r\n        try {\r\n            // echoSocket = new Socket(&quot;taranis&quot;, 7);\r\n            echoSocket = new Socket(serverHostname, 10008);\r\n            out = new PrintWriter(echoSocket.getOutputStream(), true);\r\n            in = new BufferedReader(new InputStreamReader(echoSocket.getInputStream()));\r\n        } catch (UnknownHostException e) {\r\n            System.err.println(&quot;Don&#39;t know about host: &quot; + serverHostname);\r\n            System.exit(1);\r\n        } catch (IOException e) {\r\n            System.err.println(&quot;Couldn&#39;t get I/O for &quot; + &quot;the connection to: &quot; + serverHostname);\r\n            System.exit(1);\r\n        }\r\n\r\n        BufferedReader stdIn = new BufferedReader(new InputStreamReader(System.in));\r\n        String userInput;\r\n\r\n        System.out.print (&quot;input: &quot;);\r\n        while ((userInput = stdIn.readLine()) != null) {\r\n        \tout.println(userInput);\r\n        \tSystem.out.println(&quot;echo: &quot; + in.readLine());\r\n            System.out.print (&quot;input: &quot;);\r\n        }\r\n\r\n        out.close();\r\n        in.close();\r\n        stdIn.close();\r\n        echoSocket.close();\r\n    }\r\n}\r\n```\r\n\r\n### EchoServer.java:\r\n\r\n```java\r\nimport java.net.*; \r\nimport java.io.*; \r\n\r\npublic class EchoServer \r\n{ \r\n public static void main(String[] args) throws IOException \r\n   { \r\n    ServerSocket serverSocket = null; \r\n\r\n    try { \r\n         serverSocket = new ServerSocket(10008); \r\n    }catch (IOException e){ \r\n         System.err.println(&quot;Could not listen on port: 10008.&quot;); \r\n         System.exit(1); \r\n    } \r\n\r\n    Socket clientSocket = null; \r\n    System.out.println (&quot;Waiting for connection.....&quot;);\r\n\r\n    try { \r\n         clientSocket = serverSocket.accept(); \r\n    }catch (IOException e){ \r\n         System.err.println(&quot;Accept failed.&quot;); \r\n         System.exit(1); \r\n    } \r\n\r\n    System.out.println (&quot;Connection successful&quot;);\r\n    System.out.println (&quot;Waiting for input.....&quot;);\r\n\r\n    PrintWriter out = new PrintWriter(clientSocket.getOutputStream(),true); \r\n    BufferedReader in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream())); \r\n\r\n    String inputLine; \r\n\r\n    while ((inputLine = in.readLine()) != null){ \r\n         System.out.println (&quot;Server: &quot; + inputLine); \r\n         out.println(inputLine); \r\n\r\n         if (inputLine.startsWith(&quot;Bye.&quot;)) break; \r\n    } \r\n\r\n    out.close(); \r\n    in.close(); \r\n    clientSocket.close(); \r\n    serverSocket.close(); \r\n   } \r\n} \r\n```\r\nHere is the process I do to run the code on the instances:\r\n\r\n- The first terminal I SSH into `server1` and run the server java code and it waits for a connection\r\n- The I use the public_ec2_subnet1 instance to SSH into the client instance and run the EchoClient.java code with the public IP address of server1; however, the connection always returns a timeout\r\n- I stop server1, and open another terminal and SSH into public_ec2_subnet1 instance to SSH into the client instance and then I SSH into Server2 since it is on a private subnet and run the server code\r\n- I run the client&#39;s code using Server2&#39;s `private IP` since VPC peering is connected and subnet3 is private, but that also gives me a timeout response.\r\n\r\nI Added 0.0.0.0/0 and ::/0 to the inbound and outbound rules for `SSH (TCP), HTTP (TCP), HTTPS (TCP)` for `Server1` instance, and I added it only for `SSH (TCP)` for `client, server2` instances.\r\n\r\nWhen I try to use AWS Console to view server1 (public) on the browser, it gives me a connection refused.\r\n\r\nI did some research and all the solution I found were to add the inbound and outbound rules. I am not sure why the client and either of the server&#39;s aren&#39;t able to communicate.\r\n\r\nWould someone please shed some light into this matter? Let me know if you need more information.\r\n\r\n### Update_1\r\n\r\nSubnet1 NACL rule:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSubnet2 NACL rule:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nSubnet3 NACL rule:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nDefault Subnet on VPC2 NACL rule:\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/U5P8k.png\r\n  [2]: https://i.stack.imgur.com/ZCkLm.png\r\n  [3]: https://i.stack.imgur.com/txm2w.png\r\n  [4]: https://i.stack.imgur.com/SPSyq.png","title":"How to resolve connection refused on EC2 instance, and enable communication between server and client between 2 VPCs?","body":"<p>I have two VPC (VPC1, VPC2) in different regions. Each VPC has two EC2 instances. On VPC1, I have a public and a private subnets (subnet1 and subnet2 respectively) each with its own routing table, and on VPC2, I have one private subnet (subnet3). Also, I have enabled VPC Peering between my two VPCs over the private subnets.</p>\n<p>I have also added an internet and NAT gateways to VPC1 to be able to reach the internet.</p>\n<p>On VPC1, I launched two EC2 instances, client instance which runs on the private subnet, and a public_ec2_subnet1 which runs on the public subnet. On VPC2, I have two EC2 instances, server2 which runs on the private subnet (subnet3) on VPC2, and server1 which runs on a public subnet on the <code>default VPC of the region, NOT ON THE SAME VPC</code></p>\n<p>On the client's EC2 instance, I added a java file called <code>EchoClient.java</code> which takes an IP address as an argument, and on both server1 and server2 I added another java file called <code>EchoServer.java</code> which runs on port 10008 on whichever instance it is on.</p>\n<h3>EchoClient.java:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.*;\nimport java.net.*;\n\npublic class EchoClient {\n    public static void main(String[] args) throws IOException {\n\n        String serverHostname = new String (&quot;127.0.0.1&quot;);\n\n        if (args.length &gt; 0)\n           serverHostname = args[0];\n        System.out.println (&quot;Attemping to connect to host &quot; +\n        serverHostname + &quot; on port 10008.&quot;);\n\n        Socket echoSocket = null;\n        PrintWriter out = null;\n        BufferedReader in = null;\n\n        try {\n            // echoSocket = new Socket(&quot;taranis&quot;, 7);\n            echoSocket = new Socket(serverHostname, 10008);\n            out = new PrintWriter(echoSocket.getOutputStream(), true);\n            in = new BufferedReader(new InputStreamReader(echoSocket.getInputStream()));\n        } catch (UnknownHostException e) {\n            System.err.println(&quot;Don't know about host: &quot; + serverHostname);\n            System.exit(1);\n        } catch (IOException e) {\n            System.err.println(&quot;Couldn't get I/O for &quot; + &quot;the connection to: &quot; + serverHostname);\n            System.exit(1);\n        }\n\n        BufferedReader stdIn = new BufferedReader(new InputStreamReader(System.in));\n        String userInput;\n\n        System.out.print (&quot;input: &quot;);\n        while ((userInput = stdIn.readLine()) != null) {\n            out.println(userInput);\n            System.out.println(&quot;echo: &quot; + in.readLine());\n            System.out.print (&quot;input: &quot;);\n        }\n\n        out.close();\n        in.close();\n        stdIn.close();\n        echoSocket.close();\n    }\n}\n</code></pre>\n<h3>EchoServer.java:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>import java.net.*; \nimport java.io.*; \n\npublic class EchoServer \n{ \n public static void main(String[] args) throws IOException \n   { \n    ServerSocket serverSocket = null; \n\n    try { \n         serverSocket = new ServerSocket(10008); \n    }catch (IOException e){ \n         System.err.println(&quot;Could not listen on port: 10008.&quot;); \n         System.exit(1); \n    } \n\n    Socket clientSocket = null; \n    System.out.println (&quot;Waiting for connection.....&quot;);\n\n    try { \n         clientSocket = serverSocket.accept(); \n    }catch (IOException e){ \n         System.err.println(&quot;Accept failed.&quot;); \n         System.exit(1); \n    } \n\n    System.out.println (&quot;Connection successful&quot;);\n    System.out.println (&quot;Waiting for input.....&quot;);\n\n    PrintWriter out = new PrintWriter(clientSocket.getOutputStream(),true); \n    BufferedReader in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream())); \n\n    String inputLine; \n\n    while ((inputLine = in.readLine()) != null){ \n         System.out.println (&quot;Server: &quot; + inputLine); \n         out.println(inputLine); \n\n         if (inputLine.startsWith(&quot;Bye.&quot;)) break; \n    } \n\n    out.close(); \n    in.close(); \n    clientSocket.close(); \n    serverSocket.close(); \n   } \n} \n</code></pre>\n<p>Here is the process I do to run the code on the instances:</p>\n<ul>\n<li>The first terminal I SSH into <code>server1</code> and run the server java code and it waits for a connection</li>\n<li>The I use the public_ec2_subnet1 instance to SSH into the client instance and run the EchoClient.java code with the public IP address of server1; however, the connection always returns a timeout</li>\n<li>I stop server1, and open another terminal and SSH into public_ec2_subnet1 instance to SSH into the client instance and then I SSH into Server2 since it is on a private subnet and run the server code</li>\n<li>I run the client's code using Server2's <code>private IP</code> since VPC peering is connected and subnet3 is private, but that also gives me a timeout response.</li>\n</ul>\n<p>I Added 0.0.0.0/0 and ::/0 to the inbound and outbound rules for <code>SSH (TCP), HTTP (TCP), HTTPS (TCP)</code> for <code>Server1</code> instance, and I added it only for <code>SSH (TCP)</code> for <code>client, server2</code> instances.</p>\n<p>When I try to use AWS Console to view server1 (public) on the browser, it gives me a connection refused.</p>\n<p>I did some research and all the solution I found were to add the inbound and outbound rules. I am not sure why the client and either of the server's aren't able to communicate.</p>\n<p>Would someone please shed some light into this matter? Let me know if you need more information.</p>\n<h3>Update_1</h3>\n<p>Subnet1 NACL rule:</p>\n<p><a href=\"https://i.stack.imgur.com/U5P8k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U5P8k.png\" alt=\"enter image description here\" /></a></p>\n<p>Subnet2 NACL rule:</p>\n<p><a href=\"https://i.stack.imgur.com/ZCkLm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZCkLm.png\" alt=\"enter image description here\" /></a></p>\n<p>Subnet3 NACL rule:</p>\n<p><a href=\"https://i.stack.imgur.com/txm2w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/txm2w.png\" alt=\"enter image description here\" /></a></p>\n<p>Default Subnet on VPC2 NACL rule:</p>\n<p><a href=\"https://i.stack.imgur.com/SPSyq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SPSyq.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","multithreading","real-time","android-graphview"],"comments":[{"owner":{"account_id":1245067,"reputation":710,"user_id":1206706,"accept_rate":80,"display_name":"ZeusNet"},"score":0,"creation_date":1489153643,"post_id":42718698,"comment_id":72559627,"body_markdown":"Is it possible that you are getting a null value from your arduino and putting that in your DataPoint?","body":"Is it possible that you are getting a null value from your arduino and putting that in your DataPoint?"},{"owner":{"account_id":10429935,"reputation":31,"user_id":7690060,"display_name":"seg"},"score":0,"creation_date":1489168684,"post_id":42718698,"comment_id":72569322,"body_markdown":"@ZeusNet no I have the - if (!total.equals(&quot;&quot;)) { - line to make sure I only use actual readings","body":"@ZeusNet no I have the - if (!total.equals(&quot;&quot;)) { - line to make sure I only use actual readings"}],"answers":[{"tags":[],"owner":{"account_id":1658360,"reputation":13954,"user_id":1527232,"accept_rate":75,"display_name":"lelloman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1489163105,"creation_date":1489153158,"answer_id":42719760,"question_id":42718698,"body_markdown":"I &lt;s&gt;don&#39;t&lt;/s&gt; have a solution but here&#39;s a few random thoughts: \r\n\r\n- I think you are misunderstanding the meaning of a `synchronized` method, at least from how you&#39;re using it for `Update_Graph_loop`\r\n- from the stacktrace it looks like a null reference to an Integer is being unboxed within `GraphView.onDraw` method, that method is run on the UI thread, adding synchronized keyword to a method won&#39;t prevent `GraphView.onDraw` to access an object that you&#39;re using inside the method you&#39;ve synchronized\r\n- the only thing I see you&#39;re passing to the GraphView is a `LineGraphSeries`, maybe that&#39;s the source of the problem\r\n\r\n2 possible causes:\r\n\r\na) `GraphView` has a reference to an object you passed to it and you are modifying that object while the `View` is drawing\r\n\r\n&lt;s&gt;b) This is not a thread synchronization issue, you&#39;ve just passed some corrupted data to `GraphView`, somehow&lt;/s&gt;\r\n\r\n&lt;s&gt;if&lt;/s&gt; the problem is a), &lt;s&gt;could&lt;/s&gt; try this:\r\n\r\ninstead of calling methods on `GraphView` from other threads, post a runnable on it so it will run on the UI thread\r\n\r\n    graph.post(new Runnable(){\r\n        @Override\r\n        public void run(){\r\n            graph.removeAllSeries();\r\n            graph.addSeries(series);        \r\n        }\r\n    });\r\n\r\n","title":"Android Real Time Graph app crashing. Possible multi-threading issue","body":"<p>I <s>don't</s> have a solution but here's a few random thoughts: </p>\n\n<ul>\n<li>I think you are misunderstanding the meaning of a <code>synchronized</code> method, at least from how you're using it for <code>Update_Graph_loop</code></li>\n<li>from the stacktrace it looks like a null reference to an Integer is being unboxed within <code>GraphView.onDraw</code> method, that method is run on the UI thread, adding synchronized keyword to a method won't prevent <code>GraphView.onDraw</code> to access an object that you're using inside the method you've synchronized</li>\n<li>the only thing I see you're passing to the GraphView is a <code>LineGraphSeries</code>, maybe that's the source of the problem</li>\n</ul>\n\n<p>2 possible causes:</p>\n\n<p>a) <code>GraphView</code> has a reference to an object you passed to it and you are modifying that object while the <code>View</code> is drawing</p>\n\n<p><s>b) This is not a thread synchronization issue, you've just passed some corrupted data to <code>GraphView</code>, somehow</s></p>\n\n<p><s>if</s> the problem is a), <s>could</s> try this:</p>\n\n<p>instead of calling methods on <code>GraphView</code> from other threads, post a runnable on it so it will run on the UI thread</p>\n\n<pre><code>graph.post(new Runnable(){\n    @Override\n    public void run(){\n        graph.removeAllSeries();\n        graph.addSeries(series);        \n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18728448,"reputation":33,"user_id":13654489,"display_name":"valio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648646636,"creation_date":1648646636,"answer_id":71678059,"question_id":42718698,"body_markdown":"I am facing up a similar problem and I have already actually put the code inside a runnable() UI thread.\r\nAs following, my code: \r\n```\r\nrunOnUiThread(new Runnable() {\r\n@Override\r\npublic void run() {\r\n    if (data[7]%plot_freq==0) { \r\n    series.appendData(new DataPoint(x, pitch_1),true,500); \r\n    Log.v(&quot;Plot 1&quot;,&quot;OK&quot;); \r\n    } \r\n    if (data_2[7]%plot_freq==0) { \r\n    series_2.appendData(new DataPoint(x, pitch_2),true,500); \r\n    Log.v(&quot;Plot 2&quot;,&quot;OK&quot;); \r\n    } \r\n    if (data_3[7]%plot_freq==0) { \r\n    series_3.appendData(new DataPoint(x, pitch_3),true,500); \r\n    Log.v(&quot;Plot 3&quot;,&quot;OK&quot;); \r\n    }\r\n```\r\n\r\nWhat do you think?\r\n\r\n","title":"Android Real Time Graph app crashing. Possible multi-threading issue","body":"<p>I am facing up a similar problem and I have already actually put the code inside a runnable() UI thread.\nAs following, my code:</p>\n<pre><code>runOnUiThread(new Runnable() {\n@Override\npublic void run() {\n    if (data[7]%plot_freq==0) { \n    series.appendData(new DataPoint(x, pitch_1),true,500); \n    Log.v(&quot;Plot 1&quot;,&quot;OK&quot;); \n    } \n    if (data_2[7]%plot_freq==0) { \n    series_2.appendData(new DataPoint(x, pitch_2),true,500); \n    Log.v(&quot;Plot 2&quot;,&quot;OK&quot;); \n    } \n    if (data_3[7]%plot_freq==0) { \n    series_3.appendData(new DataPoint(x, pitch_3),true,500); \n    Log.v(&quot;Plot 3&quot;,&quot;OK&quot;); \n    }\n</code></pre>\n<p>What do you think?</p>\n"}],"owner":{"account_id":10429935,"reputation":31,"user_id":7690060,"display_name":"seg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":794,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":42719760,"answer_count":2,"score":2,"last_activity_date":1648646636,"creation_date":1489149674,"question_id":42718698,"body_markdown":"I&#39;m having a problem with a college project in which I need to display real-time readings from an arduino on an android device. The arduino and Bluetooth link are working fine. On the android side, I start a new thread to retrieve these values and add them to an arraylist FullSignal.\r\n\r\n        private synchronized void theloop(){\r\n        AsyncTask.execute(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try\r\n                {\r\n                    while(btSocket.isConnected() ){\r\n                        if(!pause) {\r\n                            BufferedReader r = new BufferedReader(new InputStreamReader(btSocket.getInputStream()));\r\n                            String total = &quot;&quot;;\r\n                            String line;\r\n\r\n                            if ((line = r.readLine()) != null) {\r\n                                total = (line);\r\n                            }\r\n                            if (!total.equals(&quot;&quot;)) {\r\n                                double xtoadd = ((new Date().getTime()) - startOfRun) / 1000;\r\n                                DataPoint dp = new DataPoint(xtoadd, Double.parseDouble(total));\r\n                                FullSignal.add(dp);\r\n                                sleep(10);\r\n                            }\r\n                        }\r\n                        else{\r\n                            sleep(10);\r\n\r\nThis thread is doing what I want and puts the readings into the arraylist, (the time they arrive, and the value). Then I have another thread which calls an Update_Graph method every 50ms, and passes in the current FullSignal arraylist.\r\n\r\n        private synchronized void Update_Graph_loop() {\r\n        Thread thread = new Thread()\r\n        {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    while(!ending) {\r\n                        if(!pause){\r\n                            Update_Graph(FullSignal);\r\n                            sleep(50);\r\n                        }\r\n                        else{\r\n                            sleep(50);\r\n                        }\r\n                    }\r\n                } catch (InterruptedException e) {\r\n                    Toast.makeText(getBaseContext(), e.toString(), Toast.LENGTH_LONG).show();\r\n                }\r\n            }\r\n        };\r\n\r\n        thread.start();\r\n    }\r\n\r\nThe Update_Graph it calls, does some maths to get the the graph displaying the values which were read from the arduino and when they arrived.\r\n\r\n        private synchronized void Update_Graph(ArrayList&lt;DataPoint&gt; FS)\r\n    {\r\n\r\n        graph = (GraphView) findViewById(R.id.graph);\r\n        series = new LineGraphSeries&lt;DataPoint&gt;();\r\n\r\n        for (int i = dpToDisp.length - 1; i &gt;= 0; i--) {\r\n            DataPoint dp = FS.get(FS.size() - (dpToDisp.length - i));\r\n            dpToDisp[i] = new DataPoint(((dp.getX() * 1000 + startOfRun) - (new Date().getTime())) / 1000, dp.getY());\r\n        }\r\n\r\n        series.resetData(dpToDisp);\r\n        series.setThickness(20);\r\n        series.setColor(Color.RED);\r\n        graph.removeAllSeries();\r\n        graph.addSeries(series);\r\n    }\r\n\r\nThe app behaves exactly as I want it to for a while (Usually between 5 - 25 secs) and then crashes. [Screenshot of app running before crash][1]\r\n\r\nThe console shows a Null Object Reference error but doesn&#39;t show the line of my code causing it.\r\n\r\n        E/AndroidRuntime: FATAL EXCEPTION: main\r\n                  Process: app.stephen.com.samsungs2test, PID: 28668\r\n                  java.lang.NullPointerException: Attempt to invoke virtual method &#39;int java.lang.Integer.intValue()&#39; on a null object reference\r\n                      at com.jjoe64.graphview.GridLabelRenderer.drawVerticalSteps(GridLabelRenderer.java:1302)\r\n                      at com.jjoe64.graphview.GridLabelRenderer.draw(GridLabelRenderer.java:1071)\r\n                      at com.jjoe64.graphview.GraphView.drawGraphElements(GraphView.java:299)\r\n                      at com.jjoe64.graphview.GridLabelRenderer.draw(GridLabelRenderer.java:1062)\r\n                      at com.jjoe64.graphview.GraphView.drawGraphElements(GraphView.java:299)\r\n                      at com.jjoe64.graphview.GraphView.onDraw(GraphView.java:323)\r\n                      at android.view.View.draw(View.java:16068)\r\n\r\nThe way it crashes does not seem to be dependent on time or a memory problem, which makes me think that it is a multi-threading issue.\r\n\r\nI have made all my methods private and synchronized. Is there any other steps I can make to make my program thread safe? Or can anyone see where the problem might be arising?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kZsmz.png","title":"Android Real Time Graph app crashing. Possible multi-threading issue","body":"<p>I'm having a problem with a college project in which I need to display real-time readings from an arduino on an android device. The arduino and Bluetooth link are working fine. On the android side, I start a new thread to retrieve these values and add them to an arraylist FullSignal.</p>\n\n<pre><code>    private synchronized void theloop(){\n    AsyncTask.execute(new Runnable() {\n        @Override\n        public void run() {\n            try\n            {\n                while(btSocket.isConnected() ){\n                    if(!pause) {\n                        BufferedReader r = new BufferedReader(new InputStreamReader(btSocket.getInputStream()));\n                        String total = \"\";\n                        String line;\n\n                        if ((line = r.readLine()) != null) {\n                            total = (line);\n                        }\n                        if (!total.equals(\"\")) {\n                            double xtoadd = ((new Date().getTime()) - startOfRun) / 1000;\n                            DataPoint dp = new DataPoint(xtoadd, Double.parseDouble(total));\n                            FullSignal.add(dp);\n                            sleep(10);\n                        }\n                    }\n                    else{\n                        sleep(10);\n</code></pre>\n\n<p>This thread is doing what I want and puts the readings into the arraylist, (the time they arrive, and the value). Then I have another thread which calls an Update_Graph method every 50ms, and passes in the current FullSignal arraylist.</p>\n\n<pre><code>    private synchronized void Update_Graph_loop() {\n    Thread thread = new Thread()\n    {\n        @Override\n        public void run() {\n            try {\n                while(!ending) {\n                    if(!pause){\n                        Update_Graph(FullSignal);\n                        sleep(50);\n                    }\n                    else{\n                        sleep(50);\n                    }\n                }\n            } catch (InterruptedException e) {\n                Toast.makeText(getBaseContext(), e.toString(), Toast.LENGTH_LONG).show();\n            }\n        }\n    };\n\n    thread.start();\n}\n</code></pre>\n\n<p>The Update_Graph it calls, does some maths to get the the graph displaying the values which were read from the arduino and when they arrived.</p>\n\n<pre><code>    private synchronized void Update_Graph(ArrayList&lt;DataPoint&gt; FS)\n{\n\n    graph = (GraphView) findViewById(R.id.graph);\n    series = new LineGraphSeries&lt;DataPoint&gt;();\n\n    for (int i = dpToDisp.length - 1; i &gt;= 0; i--) {\n        DataPoint dp = FS.get(FS.size() - (dpToDisp.length - i));\n        dpToDisp[i] = new DataPoint(((dp.getX() * 1000 + startOfRun) - (new Date().getTime())) / 1000, dp.getY());\n    }\n\n    series.resetData(dpToDisp);\n    series.setThickness(20);\n    series.setColor(Color.RED);\n    graph.removeAllSeries();\n    graph.addSeries(series);\n}\n</code></pre>\n\n<p>The app behaves exactly as I want it to for a while (Usually between 5 - 25 secs) and then crashes. <a href=\"https://i.stack.imgur.com/kZsmz.png\" rel=\"nofollow noreferrer\">Screenshot of app running before crash</a></p>\n\n<p>The console shows a Null Object Reference error but doesn't show the line of my code causing it.</p>\n\n<pre><code>    E/AndroidRuntime: FATAL EXCEPTION: main\n              Process: app.stephen.com.samsungs2test, PID: 28668\n              java.lang.NullPointerException: Attempt to invoke virtual method 'int java.lang.Integer.intValue()' on a null object reference\n                  at com.jjoe64.graphview.GridLabelRenderer.drawVerticalSteps(GridLabelRenderer.java:1302)\n                  at com.jjoe64.graphview.GridLabelRenderer.draw(GridLabelRenderer.java:1071)\n                  at com.jjoe64.graphview.GraphView.drawGraphElements(GraphView.java:299)\n                  at com.jjoe64.graphview.GridLabelRenderer.draw(GridLabelRenderer.java:1062)\n                  at com.jjoe64.graphview.GraphView.drawGraphElements(GraphView.java:299)\n                  at com.jjoe64.graphview.GraphView.onDraw(GraphView.java:323)\n                  at android.view.View.draw(View.java:16068)\n</code></pre>\n\n<p>The way it crashes does not seem to be dependent on time or a memory problem, which makes me think that it is a multi-threading issue.</p>\n\n<p>I have made all my methods private and synchronized. Is there any other steps I can make to make my program thread safe? Or can anyone see where the problem might be arising?</p>\n"},{"tags":["java","hibernate","orm","entity","default-value"],"comments":[{"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"score":3,"creation_date":1277385816,"post_id":3110266,"comment_id":3191156,"body_markdown":"Are you using the XML config file or annotations?","body":"Are you using the XML config file or annotations?"},{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":2,"creation_date":1474356349,"post_id":3110266,"comment_id":66485434,"body_markdown":"The answer below only give JPA solutions, which is correct but .for an Hibernate solution see http://stackoverflow.com/questions/28107554/define-default-column-value-with-annotations-in-hibernate you have to use `@ColumnDefault`","body":"The answer below only give JPA solutions, which is correct but .for an Hibernate solution see <a href=\"http://stackoverflow.com/questions/28107554/define-default-column-value-with-annotations-in-hibernate\" title=\"define default column value with annotations in hibernate\">stackoverflow.com/questions/28107554/&hellip;</a> you have to use <code>@ColumnDefault</code>"}],"answers":[{"tags":[],"owner":{"account_id":36951,"reputation":12336,"user_id":105536,"accept_rate":94,"display_name":"Tim Hoolihan"},"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1277385727,"creation_date":1277385727,"answer_id":3110294,"question_id":3110266,"body_markdown":"what about just setting a default value for the field?\r\n\r\n\r\n    private String _foo = &quot;default&quot;;\r\n    \r\n    //property here\r\n    public String Foo\r\n\r\nif they pass a value, then it will be overwritten, otherwise, you have a default.","title":"How to set a default entity property value with Hibernate","body":"<p>what about just setting a default value for the field?</p>\n\n<pre><code>private String _foo = \"default\";\n\n//property here\npublic String Foo\n</code></pre>\n\n<p>if they pass a value, then it will be overwritten, otherwise, you have a default.</p>\n"},{"tags":[],"owner":{"account_id":78181,"reputation":46967,"user_id":222674,"accept_rate":97,"display_name":"Petar Minchev"},"down_vote_count":1,"up_vote_count":217,"is_accepted":true,"score":216,"last_activity_date":1539181560,"creation_date":1277385858,"answer_id":3110310,"question_id":3110266,"body_markdown":"If you want a real database default value, use `columnDefinition`:\r\n\r\n    @Column(name = &quot;myColumn&quot;, nullable = false, columnDefinition = &quot;int default 100&quot;) \r\n\r\nNotice that the string in `columnDefinition` is database dependent. Also if you choose this option, you have to use `dynamic-insert`, so `Hibernate` doesn&#39;t include columns with `null` values on insert. Otherwise talking about default is irrelevant.\r\n\r\nBut if you don&#39;t want database default value, but simply a default value in your Java code, just initialize your variable like that - `private Integer myColumn = 100;`","title":"How to set a default entity property value with Hibernate","body":"<p>If you want a real database default value, use <code>columnDefinition</code>:</p>\n\n<pre><code>@Column(name = \"myColumn\", nullable = false, columnDefinition = \"int default 100\") \n</code></pre>\n\n<p>Notice that the string in <code>columnDefinition</code> is database dependent. Also if you choose this option, you have to use <code>dynamic-insert</code>, so <code>Hibernate</code> doesn't include columns with <code>null</code> values on insert. Otherwise talking about default is irrelevant.</p>\n\n<p>But if you don't want database default value, but simply a default value in your Java code, just initialize your variable like that - <code>private Integer myColumn = 100;</code></p>\n"},{"tags":[],"owner":{"account_id":32967,"reputation":12521,"user_id":91866,"accept_rate":88,"display_name":"Ian Dallas"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1277385897,"creation_date":1277385897,"answer_id":3110317,"question_id":3110266,"body_markdown":"One solution is to have your getter check to see if whatever value you are working with is null (or whatever its non-initialized state would be) and if it&#39;s equal to that, just return your default value:\r\n\r\n    public String getStringValue(){\r\n         return (this.stringValue == null) ? &quot;Default&quot; : stringValue;\r\n    }","title":"How to set a default entity property value with Hibernate","body":"<p>One solution is to have your getter check to see if whatever value you are working with is null (or whatever its non-initialized state would be) and if it's equal to that, just return your default value:</p>\n\n<pre><code>public String getStringValue(){\n     return (this.stringValue == null) ? \"Default\" : stringValue;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1328286,"reputation":393,"user_id":6997075,"display_name":"CSA"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1354204692,"creation_date":1354204692,"answer_id":13629661,"question_id":3110266,"body_markdown":"If you want to do it in database:\r\n\r\nSet the default value in database (sql server sample):\r\n\r\n    ALTER TABLE [TABLE_NAME] ADD  CONSTRAINT [CONSTRAINT_NAME]  DEFAULT (newid()) FOR [COLUMN_NAME]\r\n\r\nMapping hibernate file:\r\n\r\n        &lt;hibernate-mapping ....\r\n        ...    \r\n        &lt;property name=&quot;fieldName&quot; column=&quot;columnName&quot; type=&quot;Guid&quot; access=&quot;field&quot; not-null=&quot;false&quot;  insert=&quot;false&quot; update=&quot;false&quot;  /&gt;\r\n        ...\r\n\r\nSee, the key is insert=&quot;false&quot; update=&quot;false&quot;\r\n","title":"How to set a default entity property value with Hibernate","body":"<p>If you want to do it in database:</p>\n\n<p>Set the default value in database (sql server sample):</p>\n\n<pre><code>ALTER TABLE [TABLE_NAME] ADD  CONSTRAINT [CONSTRAINT_NAME]  DEFAULT (newid()) FOR [COLUMN_NAME]\n</code></pre>\n\n<p>Mapping hibernate file:</p>\n\n<pre><code>    &lt;hibernate-mapping ....\n    ...    \n    &lt;property name=\"fieldName\" column=\"columnName\" type=\"Guid\" access=\"field\" not-null=\"false\"  insert=\"false\" update=\"false\"  /&gt;\n    ...\n</code></pre>\n\n<p>See, the key is insert=\"false\" update=\"false\"</p>\n"},{"tags":[],"owner":{"account_id":1944447,"reputation":488,"user_id":1749907,"display_name":"dbricman"},"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1582658679,"creation_date":1374142664,"answer_id":17720697,"question_id":3110266,"body_markdown":"You can use ```@PrePersist``` anotation and set the default value in pre-persist stage.\r\n\r\nSomething like that:\r\n\r\n    //... some code\r\n    private String myProperty;\r\n    //... some code\r\n\r\n    @PrePersist\r\n    public void prePersist() {\r\n        if(myProperty == null) //We set default value in case if the value is not set yet.\r\n            myProperty = &quot;Default value&quot;;\r\n    }\r\n\r\n    // property methods\r\n    @Column(nullable = false) //restricting Null value on database level.\r\n    public String getMyProperty() {\r\n        return myProperty;\r\n    }\r\n\r\n    public void setMyProperty(String myProperty) {\r\n        this.myProperty= myProperty;\r\n    }\r\n\r\nThis method is not depend on database type/version underneath the Hibernate. Default value is set before persisting the mapping object.  \r\n","title":"How to set a default entity property value with Hibernate","body":"<p>You can use <code>@PrePersist</code> anotation and set the default value in pre-persist stage.</p>\n\n<p>Something like that:</p>\n\n<pre><code>//... some code\nprivate String myProperty;\n//... some code\n\n@PrePersist\npublic void prePersist() {\n    if(myProperty == null) //We set default value in case if the value is not set yet.\n        myProperty = \"Default value\";\n}\n\n// property methods\n@Column(nullable = false) //restricting Null value on database level.\npublic String getMyProperty() {\n    return myProperty;\n}\n\npublic void setMyProperty(String myProperty) {\n    this.myProperty= myProperty;\n}\n</code></pre>\n\n<p>This method is not depend on database type/version underneath the Hibernate. Default value is set before persisting the mapping object.  </p>\n"},{"tags":[],"owner":{"account_id":5276171,"reputation":11,"user_id":4561070,"display_name":"Deepak Poojari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1478703232,"creation_date":1430136710,"answer_id":29895394,"question_id":3110266,"body_markdown":"\r\n    &lt;property name=&quot;age&quot; type=&quot;integer&quot;&gt;\r\n    &lt;column name=&quot;age&quot; not-null=&quot;false&quot; default=&quot;null&quot; /&gt;\r\n    &lt;/property&gt;","title":"How to set a default entity property value with Hibernate","body":"<pre><code>&lt;property name=\"age\" type=\"integer\"&gt;\n&lt;column name=\"age\" not-null=\"false\" default=\"null\" /&gt;\n&lt;/property&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6645929,"reputation":71,"user_id":5130045,"display_name":"Garvit Bansal"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1437211789,"creation_date":1437211789,"answer_id":31489763,"question_id":3110266,"body_markdown":"I searched for this and found many answers to default value for column.If you want to use default value defined in SQL Table then in @Column Annotation use ***&quot;insertable = false&quot;***. insertable \r\n\r\n&gt; @Column(name = columnName, length = lengthOfColumn, insertable = false)\r\n\r\nIf you are using columnDefination it @Column annotation may be it won&#39;t work as it is Database dependent.","title":"How to set a default entity property value with Hibernate","body":"<p>I searched for this and found many answers to default value for column.If you want to use default value defined in SQL Table then in @Column Annotation use <strong><em>\"insertable = false\"</em></strong>. insertable </p>\n\n<blockquote>\n  <p>@Column(name = columnName, length = lengthOfColumn, insertable = false)</p>\n</blockquote>\n\n<p>If you are using columnDefination it @Column annotation may be it won't work as it is Database dependent.</p>\n"},{"tags":[],"owner":{"account_id":6692704,"reputation":2426,"user_id":5161718,"display_name":"Bojan Petkovic"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1446840100,"creation_date":1446837183,"answer_id":33574006,"question_id":3110266,"body_markdown":"Working with Oracle, I was trying to insert a default value for an Enum\r\n\r\nI found the following to work the best.\r\n\r\n    @Column(nullable = false)\r\n    @Enumerated(EnumType.STRING)\r\n    private EnumType myProperty = EnumType.DEFAULT_VALUE;\r\n","title":"How to set a default entity property value with Hibernate","body":"<p>Working with Oracle, I was trying to insert a default value for an Enum</p>\n\n<p>I found the following to work the best.</p>\n\n<pre><code>@Column(nullable = false)\n@Enumerated(EnumType.STRING)\nprivate EnumType myProperty = EnumType.DEFAULT_VALUE;\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user5507680"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1448378762,"creation_date":1448377806,"answer_id":33897160,"question_id":3110266,"body_markdown":"You can use the java class constructor to set the default values. For example:\r\n\r\n\r\n    public class Entity implements Serializable{\r\n     private Double field1\r\n     private Integer field2;\r\n     private T fieldN;\r\n    \r\n     public Entity(){\r\n      this.field1=0.0;\r\n      this.field2=0;\r\n      ...\r\n      this.fieldN= &lt;your default value&gt;\r\n     }\r\n    \r\n     //Setters and Getters\r\n    ...\r\n\r\n    }","title":"How to set a default entity property value with Hibernate","body":"<p>You can use the java class constructor to set the default values. For example:</p>\n\n<pre><code>public class Entity implements Serializable{\n private Double field1\n private Integer field2;\n private T fieldN;\n\n public Entity(){\n  this.field1=0.0;\n  this.field2=0;\n  ...\n  this.fieldN= &lt;your default value&gt;\n }\n\n //Setters and Getters\n...\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":410510,"reputation":2319,"user_id":782392,"accept_rate":67,"display_name":"T3rm1"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1510827841,"creation_date":1510827841,"answer_id":47327148,"question_id":3110266,"body_markdown":"Use `@ColumnDefault()` annotation. This is hibernate only though.","title":"How to set a default entity property value with Hibernate","body":"<p>Use <code>@ColumnDefault()</code> annotation. This is hibernate only though.</p>\n"},{"tags":[],"owner":{"account_id":10766816,"reputation":1303,"user_id":7921521,"display_name":"Mazen Embaby"},"down_vote_count":0,"up_vote_count":66,"is_accepted":false,"score":66,"last_activity_date":1634471749,"creation_date":1514308269,"answer_id":47981611,"question_id":3110266,"body_markdown":"Use hibernate annotation.\r\n\r\n    @ColumnDefault(&quot;-1&quot;)\r\n    private Long clientId;\r\nRecreate the table if it already exists for the changes to take effect.","title":"How to set a default entity property value with Hibernate","body":"<p>Use hibernate annotation.</p>\n<pre><code>@ColumnDefault(&quot;-1&quot;)\nprivate Long clientId;\n</code></pre>\n<p>Recreate the table if it already exists for the changes to take effect.</p>\n"},{"tags":[],"owner":{"account_id":8021429,"reputation":505,"user_id":6049974,"display_name":"Edgencio Da Calista"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516784274,"creation_date":1516784274,"answer_id":48418395,"question_id":3110266,"body_markdown":"If you want to set default value in terms of database, just set `@Column( columnDefinition = &quot;int default 1&quot;)`\r\n\r\nBut if what you intend is to set a default value in your java app you can set it on your class attribute like this: `private Integer attribute = 1;`\r\n\r\n","title":"How to set a default entity property value with Hibernate","body":"<p>If you want to set default value in terms of database, just set <code>@Column( columnDefinition = \"int default 1\")</code></p>\n\n<p>But if what you intend is to set a default value in your java app you can set it on your class attribute like this: <code>private Integer attribute = 1;</code></p>\n"},{"tags":[],"owner":{"account_id":8423772,"reputation":366,"user_id":6321762,"display_name":"Ala Messaoudi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1582658004,"creation_date":1537956345,"answer_id":52515159,"question_id":3110266,"body_markdown":"i&#39;am working with hibernate 5 and postgres, and this worked form me. \r\n```\r\n@Column(name = &quot;ACCOUNT_TYPE&quot;, ***nullable***=false, columnDefinition=&quot;varchar2 default &#39;END_USER&#39;&quot;)\r\n@Enumerated(EnumType.STRING)\r\nprivate AccountType accountType;\r\n```","title":"How to set a default entity property value with Hibernate","body":"<p>i'am working with hibernate 5 and postgres, and this worked form me. </p>\n\n<pre><code>@Column(name = \"ACCOUNT_TYPE\", ***nullable***=false, columnDefinition=\"varchar2 default 'END_USER'\")\n@Enumerated(EnumType.STRING)\nprivate AccountType accountType;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15706033,"reputation":31,"user_id":11332733,"display_name":"Dilip Verma"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1582659874,"creation_date":1579685098,"answer_id":59856339,"question_id":3110266,"body_markdown":"To use default value from any column of table. then you must need to define ```@DynamicInsert``` as true or else you just define ```@DynamicInsert```. Because hibernate takes by default as a true. \r\nConsider as the given example:\r\n\r\n\r\n    @AllArgsConstructor\r\n    @Table(name = &quot;core_contact&quot;)\r\n    @DynamicInsert\r\n    public class Contact implements Serializable {\r\n    \r\n        @Column(name = &quot;status&quot;, columnDefinition = &quot;int default 100&quot;)\r\n        private Long status;\r\n    \r\n    }\r\n    \r\n     ","title":"How to set a default entity property value with Hibernate","body":"<p>To use default value from any column of table. then you must need to define <code>@DynamicInsert</code> as true or else you just define <code>@DynamicInsert</code>. Because hibernate takes by default as a true. \nConsider as the given example:</p>\n\n<pre><code>@AllArgsConstructor\n@Table(name = \"core_contact\")\n@DynamicInsert\npublic class Contact implements Serializable {\n\n    @Column(name = \"status\", columnDefinition = \"int default 100\")\n    private Long status;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1610265810,"creation_date":1589638502,"answer_id":61838180,"question_id":3110266,"body_markdown":"Default entity property value\r\n-----------------------------\r\n\r\nIf you want to set a default entity property value, then you can initialize the entity field using the default value.\r\n\r\nFor instance, you can set the default `createdOn` entity attribute to the current time, like this:\r\n\r\n    @Column(\r\n    \tname = &quot;created_on&quot;\r\n    )\r\n    private LocalDateTime createdOn = LocalDateTime.now();\r\n\r\nDefault column value using JPA \r\n------------------------------\r\n\r\nIf you are generating the DDL schema with JPA and Hibernate, although this is not recommended, you can use the `columnDefinition` attribute of the JPA `@Column` annotation, like this:\r\n\r\n    @Column(\r\n    \tname = &quot;created_on&quot;, \r\n    \tcolumnDefinition = &quot;DATETIME(6) DEFAULT CURRENT_TIMESTAMP&quot;\r\n    )\r\n    @Generated(GenerationTime.INSERT)\r\n    private LocalDateTime createdOn;\r\n\r\nThe [`@Generated`](https://vladmihalcea.com/how-to-map-calculated-properties-with-hibernate-generated-annotation/) annotation is needed because we want to instruct Hibernate to reload the entity after the Persistence Context is flushed, otherwise, the database-generated value will not be synchronized with the in-memory entity state.\r\n\r\nInstead of using the `columnDefinition`, you are better off using a tool like Flyway and use DDL incremental migration scripts. That way, you will set the `DEFAULT` SQL clause in a script, rather than in a JPA annotation.\r\n\r\nDefault column value using Hibernate\r\n------------------------------------\r\n\r\nIf you are using JPA with Hibernate, then you can also use the `@ColumnDefault` annotation, like this:\r\n\r\n    @Column(name = &quot;created_on&quot;)\r\n    @ColumnDefault(value=&quot;CURRENT_TIMESTAMP&quot;)\r\n    @Generated(GenerationTime.INSERT)\r\n    private LocalDateTime createdOn;\r\n\r\nDefault Date/Time column value using Hibernate\r\n----------------------------------------------\r\n\r\nIf you are using JPA with Hibernate and want to set the creation timestamp, then you can use the [`@CreationTimestamp`](https://vladmihalcea.com/clone-duplicate-entity-jpa-hibernate/) annotation, like this:\r\n\r\n    @Column(name = &quot;created_on&quot;)\r\n    @CreationTimestamp\r\n    private LocalDateTime createdOn;\r\n","title":"How to set a default entity property value with Hibernate","body":"<h2>Default entity property value</h2>\n<p>If you want to set a default entity property value, then you can initialize the entity field using the default value.</p>\n<p>For instance, you can set the default <code>createdOn</code> entity attribute to the current time, like this:</p>\n<pre><code>@Column(\n    name = &quot;created_on&quot;\n)\nprivate LocalDateTime createdOn = LocalDateTime.now();\n</code></pre>\n<h2>Default column value using JPA</h2>\n<p>If you are generating the DDL schema with JPA and Hibernate, although this is not recommended, you can use the <code>columnDefinition</code> attribute of the JPA <code>@Column</code> annotation, like this:</p>\n<pre><code>@Column(\n    name = &quot;created_on&quot;, \n    columnDefinition = &quot;DATETIME(6) DEFAULT CURRENT_TIMESTAMP&quot;\n)\n@Generated(GenerationTime.INSERT)\nprivate LocalDateTime createdOn;\n</code></pre>\n<p>The <a href=\"https://vladmihalcea.com/how-to-map-calculated-properties-with-hibernate-generated-annotation/\" rel=\"noreferrer\"><code>@Generated</code></a> annotation is needed because we want to instruct Hibernate to reload the entity after the Persistence Context is flushed, otherwise, the database-generated value will not be synchronized with the in-memory entity state.</p>\n<p>Instead of using the <code>columnDefinition</code>, you are better off using a tool like Flyway and use DDL incremental migration scripts. That way, you will set the <code>DEFAULT</code> SQL clause in a script, rather than in a JPA annotation.</p>\n<h2>Default column value using Hibernate</h2>\n<p>If you are using JPA with Hibernate, then you can also use the <code>@ColumnDefault</code> annotation, like this:</p>\n<pre><code>@Column(name = &quot;created_on&quot;)\n@ColumnDefault(value=&quot;CURRENT_TIMESTAMP&quot;)\n@Generated(GenerationTime.INSERT)\nprivate LocalDateTime createdOn;\n</code></pre>\n<h2>Default Date/Time column value using Hibernate</h2>\n<p>If you are using JPA with Hibernate and want to set the creation timestamp, then you can use the <a href=\"https://vladmihalcea.com/clone-duplicate-entity-jpa-hibernate/\" rel=\"noreferrer\"><code>@CreationTimestamp</code></a> annotation, like this:</p>\n<pre><code>@Column(name = &quot;created_on&quot;)\n@CreationTimestamp\nprivate LocalDateTime createdOn;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6868647,"reputation":22249,"user_id":5279996,"display_name":"Braian Coronel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603337271,"creation_date":1603337271,"answer_id":64474863,"question_id":3110266,"body_markdown":"\r\n\r\nSuppose we have an entity which contains a sub-entity.\r\n\r\nUsing `insertable = false, updatable = false` on the entity prevents the entity from creating new sub-entities and preceding the default DBMS value. But the problem with this is that we are obliged to always use the default value or if we need the entity to contain another sub-entity that is not the default, we must try to change these annotations at runtime to `insertable = true, updatable = true`, so it doesn&#39;t seem like a good path.\r\n\r\nInside the sub-entity if it makes more sense to use in all the columns `insertable = false, updatable = false` so that no more sub-entities are created regardless of the method we use (with `@DynamicInsert` it would not be necessary)\r\n\r\nInserting a default value can be done in various ways such as **Default entity property value** using constructor or setter. Other ways like using JPA with columnDefinition have the drawback that they insert a null by default and the default value of the DBMS does not precede.\r\n\r\n___\r\n\r\nInsert default value using DBMS and optional using Hibernate\r\n------------------------------------------------------------\r\n\r\nBut using `@DynamicInsert` we avoid sending a null to the db when we want to insert a sub-entity with its default value, and in turn we allow sub-entities with values other than the default to be inserted.\r\n\r\n&gt; For inserting, should this entity use dynamic sql generation where only non-null columns get referenced in the prepared sql statement?\r\n\r\nGiven the following needs:\r\n\r\n  - The entity does not have the responsibility of creating new sub-entities.\r\n  - When inserting an entity, the sub-entity is the one that was defined as default in the DBMS.\r\n  - Possibility of creating an entity with a sub-entity which has a UUID other than the default.\r\n\r\n\r\n\r\n**DBMS**: PostgreSQL | **Language**: Kotlin\r\n\r\n    @Entity\r\n    @Table(name = &quot;entity&quot;)\r\n    @DynamicInsert\r\n    data class EntityTest(\r\n            @Id @GeneratedValue @Column(name = &quot;entity_uuid&quot;) val entityUUID: UUID? = null,\r\n\r\n            @OneToOne(cascade = [CascadeType.ALL])\r\n            @JoinColumn(name = &quot;subentity_uuid&quot;, referencedColumnName = &quot;subentity_uuid&quot;)\r\n            var subentityTest: SubentityTest? = null\r\n    ) {}\r\n\r\n    @Entity\r\n    @Table(name = &quot;subentity&quot;)\r\n    data class SubentityTest(\r\n            @Id @GeneratedValue @Column(name = &quot;subentity_uuid&quot;, insertable = false, updatable = false) var subentityUUID: UUID? = null,\r\n            @Column(insertable = false, updatable = false) var name: String,\r\n    ) {\r\n            constructor() : this(name = &quot;&quot;)\r\n    }\r\n\r\nAnd the value is set by default in the database:\r\n\r\n    alter table entity alter column subentity_uuid set default &#39;d87ee95b-06f1-52ab-83ed-5d882ae400e6&#39;::uuid;\r\n\r\nGL\r\n\r\n - [Source 1][1]\r\n - [Source 2][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/61838180/5279996\r\n  [2]: https://stackoverflow.com/a/59856339/5279996","title":"How to set a default entity property value with Hibernate","body":"<p>Suppose we have an entity which contains a sub-entity.</p>\n<p>Using <code>insertable = false, updatable = false</code> on the entity prevents the entity from creating new sub-entities and preceding the default DBMS value. But the problem with this is that we are obliged to always use the default value or if we need the entity to contain another sub-entity that is not the default, we must try to change these annotations at runtime to <code>insertable = true, updatable = true</code>, so it doesn't seem like a good path.</p>\n<p>Inside the sub-entity if it makes more sense to use in all the columns <code>insertable = false, updatable = false</code> so that no more sub-entities are created regardless of the method we use (with <code>@DynamicInsert</code> it would not be necessary)</p>\n<p>Inserting a default value can be done in various ways such as <strong>Default entity property value</strong> using constructor or setter. Other ways like using JPA with columnDefinition have the drawback that they insert a null by default and the default value of the DBMS does not precede.</p>\n<hr />\n<h2>Insert default value using DBMS and optional using Hibernate</h2>\n<p>But using <code>@DynamicInsert</code> we avoid sending a null to the db when we want to insert a sub-entity with its default value, and in turn we allow sub-entities with values other than the default to be inserted.</p>\n<blockquote>\n<p>For inserting, should this entity use dynamic sql generation where only non-null columns get referenced in the prepared sql statement?</p>\n</blockquote>\n<p>Given the following needs:</p>\n<ul>\n<li>The entity does not have the responsibility of creating new sub-entities.</li>\n<li>When inserting an entity, the sub-entity is the one that was defined as default in the DBMS.</li>\n<li>Possibility of creating an entity with a sub-entity which has a UUID other than the default.</li>\n</ul>\n<p><strong>DBMS</strong>: PostgreSQL | <strong>Language</strong>: Kotlin</p>\n<pre><code>@Entity\n@Table(name = &quot;entity&quot;)\n@DynamicInsert\ndata class EntityTest(\n        @Id @GeneratedValue @Column(name = &quot;entity_uuid&quot;) val entityUUID: UUID? = null,\n\n        @OneToOne(cascade = [CascadeType.ALL])\n        @JoinColumn(name = &quot;subentity_uuid&quot;, referencedColumnName = &quot;subentity_uuid&quot;)\n        var subentityTest: SubentityTest? = null\n) {}\n\n@Entity\n@Table(name = &quot;subentity&quot;)\ndata class SubentityTest(\n        @Id @GeneratedValue @Column(name = &quot;subentity_uuid&quot;, insertable = false, updatable = false) var subentityUUID: UUID? = null,\n        @Column(insertable = false, updatable = false) var name: String,\n) {\n        constructor() : this(name = &quot;&quot;)\n}\n</code></pre>\n<p>And the value is set by default in the database:</p>\n<pre><code>alter table entity alter column subentity_uuid set default 'd87ee95b-06f1-52ab-83ed-5d882ae400e6'::uuid;\n</code></pre>\n<p>GL</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/61838180/5279996\">Source 1</a></li>\n<li><a href=\"https://stackoverflow.com/a/59856339/5279996\">Source 2</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13625546,"reputation":398,"user_id":9828935,"display_name":"Velmurugan A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634809678,"creation_date":1634809678,"answer_id":69659658,"question_id":3110266,"body_markdown":"we can have getter that annotates @Column\r\n\r\n\r\n   all @column should be annotated in getter alone instead of direct variable declaration. by this way, we can resolve it.\r\n\r\n        @Column(name = &quot;string_value&quot;)\r\n    public String getStringValue(){\r\n             return (this.stringValue == null) ? &quot;Default&quot; : stringValue;\r\n        }\r\n\r\n ","title":"How to set a default entity property value with Hibernate","body":"<p>we can have getter that annotates @Column</p>\n<p>all @column should be annotated in getter alone instead of direct variable declaration. by this way, we can resolve it.</p>\n<pre><code>    @Column(name = &quot;string_value&quot;)\npublic String getStringValue(){\n         return (this.stringValue == null) ? &quot;Default&quot; : stringValue;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17614949,"reputation":121,"user_id":12782217,"display_name":"Bexzod Xayrullayev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648646625,"creation_date":1648646625,"answer_id":71678054,"question_id":3110266,"body_markdown":"I tried it. when i did that\r\n\r\n    @Column(name = &quot;is_sale&quot;, columnDefinition = &quot;default false&quot;)\r\n    private boolean isSale = false;\r\n[![enter image description here][1]][1]\r\n\r\nhe did not add. And when I did\r\n\r\n    @Column(name = &quot;is_sale&quot;, columnDefinition = &quot;bool default false&quot;)\r\n     private boolean isSale = false;\r\n\r\nin this case Hibernate generated such sql\r\n  \r\n    alter table if exists customer_product add column is_sale bool default false\r\n[![enter image description here][2]][2]\r\n  and it helped me\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pPD8A.png\r\n  [2]: https://i.stack.imgur.com/kH8Iw.png","title":"How to set a default entity property value with Hibernate","body":"<p>I tried it. when i did that</p>\n<pre><code>@Column(name = &quot;is_sale&quot;, columnDefinition = &quot;default false&quot;)\nprivate boolean isSale = false;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/pPD8A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pPD8A.png\" alt=\"enter image description here\" /></a></p>\n<p>he did not add. And when I did</p>\n<pre><code>@Column(name = &quot;is_sale&quot;, columnDefinition = &quot;bool default false&quot;)\n private boolean isSale = false;\n</code></pre>\n<p>in this case Hibernate generated such sql</p>\n<pre><code>alter table if exists customer_product add column is_sale bool default false\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/kH8Iw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kH8Iw.png\" alt=\"enter image description here\" /></a>\nand it helped me</p>\n"}],"owner":{"account_id":97482,"reputation":14027,"user_id":264419,"accept_rate":89,"display_name":"Dejell"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":350085,"favorite_count":0,"down_vote_count":0,"up_vote_count":178,"accepted_answer_id":3110310,"answer_count":18,"score":178,"last_activity_date":1648646625,"creation_date":1277385514,"question_id":3110266,"body_markdown":"How do I set a default value in Hibernate field?","title":"How to set a default entity property value with Hibernate","body":"<p>How do I set a default value in Hibernate field?</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"score":0,"creation_date":1648584779,"post_id":71668126,"comment_id":126660630,"body_markdown":"Does this answer your question? [Jackson: how to include null value property in JSON serialization](https://stackoverflow.com/questions/54180616/jackson-how-to-include-null-value-property-in-json-serialization)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/54180616/jackson-how-to-include-null-value-property-in-json-serialization\">Jackson: how to include null value property in JSON serialization</a>"}],"owner":{"account_id":9955289,"reputation":11,"user_id":7366456,"display_name":"Ishan Ayesha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1016,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648646533,"creation_date":1648583992,"question_id":71668126,"body_markdown":"An object convert into JSONObject, Without ignoring the null values and keys. I want to include the null values. How to solve this problem.\r\n\r\nmyObject = {&quot;id&quot;:123, &quot;name&quot;: null}\r\n\r\n```\r\nJSONObject jsonObject = new JSONObject(myObject);\r\n```\r\n\r\nLater jsonObject only contains id, but I want to keep both id and name after the conversion.","title":"Convert an object to JSONObject with null values in Java","body":"<p>An object convert into JSONObject, Without ignoring the null values and keys. I want to include the null values. How to solve this problem.</p>\n<p>myObject = {&quot;id&quot;:123, &quot;name&quot;: null}</p>\n<pre><code>JSONObject jsonObject = new JSONObject(myObject);\n</code></pre>\n<p>Later jsonObject only contains id, but I want to keep both id and name after the conversion.</p>\n"},{"tags":["java","spring-boot","junit","junit5","parameterized-unit-test"],"answers":[{"tags":[],"owner":{"account_id":1682782,"reputation":7143,"user_id":2096986,"accept_rate":37,"display_name":"Felipe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648646479,"creation_date":1648248259,"answer_id":71623872,"question_id":71622926,"body_markdown":"You are mixing JUnit 4 `org.junit.Before;`, ` org.junit.Test` and JUnit 5 `org.junit.jupiter.*`. This is causing the problems that you have. \r\n\r\n`@ParameterizedTest` is from JUnit 5. So I suggest to use `@BeforeEach` and `@BeforeAll` and `org.junit.jupiter.api.Test` for `@Test`. Basically, drop all JUnit imports that are NOT `org.junit.jupiter.*` including the `org.junit.Assert.*`.\r\n\r\nHere is one example that works with JUnit 5 and it uses `@BeforeAll`, `@ParameterizedTest`, `@MethodSource`, and `@Test`\r\n\r\n```\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\nimport static org.junit.jupiter.api.Assertions.assertTrue;\r\nimport static org.junit.jupiter.api.Assertions.fail;\r\nimport java.util.stream.Stream;\r\nimport org.junit.jupiter.api.BeforeAll;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.TestInstance;\r\nimport org.junit.jupiter.params.ParameterizedTest;\r\nimport org.junit.jupiter.params.provider.Arguments;\r\nimport org.junit.jupiter.params.provider.MethodSource;\r\n\r\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\nclass ParameterizedExampleTest {\r\n    private final static String workgroup = &quot;reporting&quot;;\r\n    private final static String region = &quot;eu-central-1&quot;;\r\n    private final static String credentialsProviderArguments = &quot;reporting&quot;;\r\n    private Values values;\r\n\r\n    private static Stream&lt;Arguments&gt; credentialProvidersWithCorrectArguments() {\r\n        String webTokenProvider = &quot;com.amazonaws.auth.WebIdentityTokenCredentialsProvider&quot;;\r\n        String profileProvider = &quot;com.amazonaws.auth.profile.ProfileCredentialsProvider&quot;;\r\n        return Stream.of(\r\n            Arguments.of(\r\n                webTokenProvider,\r\n                &quot;jdbc:awsathena://AwsRegion=&quot; + region + &quot;;AwsCredentialsProviderClass=&quot; + webTokenProvider + &quot;;&quot; +\r\n                    &quot;Workgroup=&quot; + workgroup + &quot;;LogLevel=6;&quot;\r\n            ),\r\n            Arguments.of(\r\n                profileProvider,\r\n                &quot;jdbc:awsathena://AwsRegion=&quot; + region + &quot;;AwsCredentialsProviderClass=&quot; + profileProvider + &quot;;&quot; +\r\n                    &quot;AwsCredentialsProviderArguments=&quot; + credentialsProviderArguments + &quot;;Workgroup=&quot; + workgroup +\r\n                    &quot;;LogLevel=6;&quot;\r\n            )\r\n        );\r\n    }\r\n\r\n    @BeforeAll\r\n    public void setup() {\r\n        values = new Values();\r\n        values.setAthenaRegion(region);\r\n        values.setWorkgroup(workgroup);\r\n        values.setDebugEnabled(true);\r\n        values.setCredentialsProviderArguments(credentialsProviderArguments);\r\n    }\r\n\r\n    @ParameterizedTest\r\n    @MethodSource(&quot;credentialProvidersWithCorrectArguments&quot;)\r\n    void credentialsProviderHasCorrectCredentialsArguments(String credentialsProviderClass, String expected) {\r\n        values.setCredentialsProviderClass(credentialsProviderClass);\r\n\r\n        assertEquals(expected, values.getJdbcUrl());\r\n    }\r\n\r\n    @Test\r\n    void wrongProviderClassThrowsException() {\r\n        String credentialsProviderClass = &quot;com.amazonaws.auth.WrongCredentialsProvider&quot;;\r\n        values.setCredentialsProviderClass(credentialsProviderClass);\r\n\r\n        try {\r\n            values.getJdbcUrl();\r\n            fail(&quot;An exception should be thrown to this method.&quot;);\r\n        } catch (Exception e) {\r\n            assertTrue(e.getMessage().contains(&quot;AWS credential class does not exist&quot;));\r\n        }\r\n    }\r\n}\r\n```\r\nClass being tested:\r\n```\r\npublic class Values {\r\n    private String athenaRegion;\r\n    private String credentialsProviderClass;\r\n    private String credentialsProviderArguments;\r\n    private String jdbcDriverClass;\r\n    private String databaseSchema;\r\n    private String workgroup;\r\n    private boolean debugEnabled;\r\n\r\n    public String getJdbcUrl() {\r\n        String athenaJdbcUrl = &quot;jdbc:awsathena://AwsRegion=&quot; + athenaRegion +\r\n            &quot;;AwsCredentialsProviderClass=&quot; + credentialsProviderClass +\r\n            (isProfileCredentialsProvider() ? &quot;;AwsCredentialsProviderArguments=&quot; + credentialsProviderArguments : &quot;&quot;) +\r\n            &quot;;Workgroup=&quot; + workgroup +\r\n            (debugEnabled ? &quot;;LogLevel=6;&quot; : &quot;;&quot;);\r\n\r\n        LOG.debug(&quot;Athena connection URL: {}&quot;, athenaJdbcUrl);\r\n        return athenaJdbcUrl;\r\n    }\r\n\r\n    private boolean isProfileCredentialsProvider() {\r\n        try {\r\n            return (Class.forName(credentialsProviderClass).isAssignableFrom(ProfileCredentialsProvider.class));\r\n        } catch (ClassNotFoundException e) {\r\n            throw new Exception(&quot;AWS credential class does not exist&quot;, e);\r\n        }\r\n    }\r\n    // add GETTERS AND SETTERS ...\r\n}\r\n```","title":"Why have to initialize all variables again in Parameterized JUnitTest although they are intialize in @Before method or at class level","body":"<p>You are mixing JUnit 4 <code>org.junit.Before;</code>, <code> org.junit.Test</code> and JUnit 5 <code>org.junit.jupiter.*</code>. This is causing the problems that you have.</p>\n<p><code>@ParameterizedTest</code> is from JUnit 5. So I suggest to use <code>@BeforeEach</code> and <code>@BeforeAll</code> and <code>org.junit.jupiter.api.Test</code> for <code>@Test</code>. Basically, drop all JUnit imports that are NOT <code>org.junit.jupiter.*</code> including the <code>org.junit.Assert.*</code>.</p>\n<p>Here is one example that works with JUnit 5 and it uses <code>@BeforeAll</code>, <code>@ParameterizedTest</code>, <code>@MethodSource</code>, and <code>@Test</code></p>\n<pre><code>import static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.junit.jupiter.api.Assertions.assertTrue;\nimport static org.junit.jupiter.api.Assertions.fail;\nimport java.util.stream.Stream;\nimport org.junit.jupiter.api.BeforeAll;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.TestInstance;\nimport org.junit.jupiter.params.ParameterizedTest;\nimport org.junit.jupiter.params.provider.Arguments;\nimport org.junit.jupiter.params.provider.MethodSource;\n\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\nclass ParameterizedExampleTest {\n    private final static String workgroup = &quot;reporting&quot;;\n    private final static String region = &quot;eu-central-1&quot;;\n    private final static String credentialsProviderArguments = &quot;reporting&quot;;\n    private Values values;\n\n    private static Stream&lt;Arguments&gt; credentialProvidersWithCorrectArguments() {\n        String webTokenProvider = &quot;com.amazonaws.auth.WebIdentityTokenCredentialsProvider&quot;;\n        String profileProvider = &quot;com.amazonaws.auth.profile.ProfileCredentialsProvider&quot;;\n        return Stream.of(\n            Arguments.of(\n                webTokenProvider,\n                &quot;jdbc:awsathena://AwsRegion=&quot; + region + &quot;;AwsCredentialsProviderClass=&quot; + webTokenProvider + &quot;;&quot; +\n                    &quot;Workgroup=&quot; + workgroup + &quot;;LogLevel=6;&quot;\n            ),\n            Arguments.of(\n                profileProvider,\n                &quot;jdbc:awsathena://AwsRegion=&quot; + region + &quot;;AwsCredentialsProviderClass=&quot; + profileProvider + &quot;;&quot; +\n                    &quot;AwsCredentialsProviderArguments=&quot; + credentialsProviderArguments + &quot;;Workgroup=&quot; + workgroup +\n                    &quot;;LogLevel=6;&quot;\n            )\n        );\n    }\n\n    @BeforeAll\n    public void setup() {\n        values = new Values();\n        values.setAthenaRegion(region);\n        values.setWorkgroup(workgroup);\n        values.setDebugEnabled(true);\n        values.setCredentialsProviderArguments(credentialsProviderArguments);\n    }\n\n    @ParameterizedTest\n    @MethodSource(&quot;credentialProvidersWithCorrectArguments&quot;)\n    void credentialsProviderHasCorrectCredentialsArguments(String credentialsProviderClass, String expected) {\n        values.setCredentialsProviderClass(credentialsProviderClass);\n\n        assertEquals(expected, values.getJdbcUrl());\n    }\n\n    @Test\n    void wrongProviderClassThrowsException() {\n        String credentialsProviderClass = &quot;com.amazonaws.auth.WrongCredentialsProvider&quot;;\n        values.setCredentialsProviderClass(credentialsProviderClass);\n\n        try {\n            values.getJdbcUrl();\n            fail(&quot;An exception should be thrown to this method.&quot;);\n        } catch (Exception e) {\n            assertTrue(e.getMessage().contains(&quot;AWS credential class does not exist&quot;));\n        }\n    }\n}\n</code></pre>\n<p>Class being tested:</p>\n<pre><code>public class Values {\n    private String athenaRegion;\n    private String credentialsProviderClass;\n    private String credentialsProviderArguments;\n    private String jdbcDriverClass;\n    private String databaseSchema;\n    private String workgroup;\n    private boolean debugEnabled;\n\n    public String getJdbcUrl() {\n        String athenaJdbcUrl = &quot;jdbc:awsathena://AwsRegion=&quot; + athenaRegion +\n            &quot;;AwsCredentialsProviderClass=&quot; + credentialsProviderClass +\n            (isProfileCredentialsProvider() ? &quot;;AwsCredentialsProviderArguments=&quot; + credentialsProviderArguments : &quot;&quot;) +\n            &quot;;Workgroup=&quot; + workgroup +\n            (debugEnabled ? &quot;;LogLevel=6;&quot; : &quot;;&quot;);\n\n        LOG.debug(&quot;Athena connection URL: {}&quot;, athenaJdbcUrl);\n        return athenaJdbcUrl;\n    }\n\n    private boolean isProfileCredentialsProvider() {\n        try {\n            return (Class.forName(credentialsProviderClass).isAssignableFrom(ProfileCredentialsProvider.class));\n        } catch (ClassNotFoundException e) {\n            throw new Exception(&quot;AWS credential class does not exist&quot;, e);\n        }\n    }\n    // add GETTERS AND SETTERS ...\n}\n</code></pre>\n"}],"owner":{"account_id":9713597,"reputation":615,"user_id":7204683,"accept_rate":38,"display_name":"Umair"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":626,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1648646479,"creation_date":1648241217,"question_id":71622926,"body_markdown":"I have one parametrized Junit test in my class. If I initialize all objects used in this test in @Before method they are not accessible in this parametrized Junit test and it throws NUllPointer Exception, due to which I have to initialize all theses objects again in parametrized Junit test. Why is this behavior ?\r\n\r\nThis is my parametrized Junit test where I have initialize all objects again and even I need to mock them also again.\r\n\r\n```\r\n    @ParameterizedTest\r\n    @CsvSource({&quot;1,5550,true&quot;,&quot;1,0,false&quot;,&quot;0,5550,false&quot;})\r\n    public void itemsAvailableValidatorTest(int kioskId, int siteNbr,Boolean expected) throws Exception {\r\n\r\n        ItemAvailableRequest request = new ItemAvailableRequest();\r\n        ItemAvailableRequestValidator itemAvailableRequestValidator = new ItemAvailableRequestValidator();\r\n\r\n\r\n        context = Mockito.mock(ConstraintValidatorContext.class);\r\n        builder = Mockito.mock(ConstraintValidatorContext.ConstraintViolationBuilder.class);\r\n\r\n        Mockito.when(context.buildConstraintViolationWithTemplate(Mockito.anyString()))\r\n                .thenReturn(builder);\r\n        Mockito.when(context.buildConstraintViolationWithTemplate(Mockito.anyString()).addConstraintViolation())\r\n                .thenReturn(context);\r\n\r\n\r\n\r\n        // set ndc and famId\r\n        List&lt;String&gt; ndcs = new ArrayList&lt;&gt;();\r\n        List&lt;Integer&gt; famIds = new ArrayList&lt;&gt;();\r\n        ndcs.add(&quot;1234&quot;);\r\n        famIds.add(1234);\r\n\r\n        // set goodRequest fields\r\n        request.setNdc(ndcs);\r\n        request.setMdsFamId(famIds);\r\n        request.setKioskId(kioskId);\r\n        request.setQty(1);\r\n        request.setSiteNbr(siteNbr);\r\n        request.setRxFillId(null);        // call the custom validator method and verify the response\r\n        assertEquals(expected, itemAvailableRequestValidator.isValid(request, context));\r\n    }\r\n```\r\n\r\nIf I initialize the Following objects of this test in @Before method or at class level this test fails and throughs NullPointer Exception\r\n\r\n```\r\nItemAvailableRequest request = new ItemAvailableRequest();\r\n        ItemAvailableRequestValidator itemAvailableRequestValidator = new ItemAvailableRequestValidator();\r\n\r\n\r\n        context = Mockito.mock(ConstraintValidatorContext.class);\r\n        builder = Mockito.mock(ConstraintValidatorContext.ConstraintViolationBuilder.class);\r\n\r\n        Mockito.when(context.buildConstraintViolationWithTemplate(Mockito.anyString()))\r\n                .thenReturn(builder);\r\n        Mockito.when(context.buildConstraintViolationWithTemplate(Mockito.anyString()).addConstraintViolation())\r\n                .thenReturn(context);\r\n```\r\n\r\nWhy the objects initialized in Before method or at class level are not accessible in @parametrized JunitTest ? and why they need to be specifically initialized inside @paramterized Junit test curly brackets.\r\n\r\n\r\nHere is the code for whole class\r\n\r\n```\r\npackage com.walmart.rxkioskinventory.validator;\r\n\r\nimport com.walmart.rxkioskinventory.model.request.ItemAvailableRequest;\r\nimport com.walmart.rxkioskinventory.model.validator.ItemAvailableRequestValidator;\r\nimport org.junit.Before;\r\nimport org.junit.Test;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.params.ParameterizedTest;\r\nimport org.junit.jupiter.params.provider.CsvSource;\r\nimport org.mockito.InjectMocks;\r\nimport org.mockito.Mock;\r\nimport org.mockito.Mockito;\r\nimport org.mockito.MockitoAnnotations;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.validation.BeanPropertyBindingResult;\r\nimport org.springframework.validation.Errors;\r\n\r\nimport javax.validation.ConstraintValidatorContext;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport static org.junit.Assert.assertEquals;\r\nimport static org.junit.Assert.assertTrue;\r\n\r\npublic class ItemAvailableRequestValidatorTest {\r\n\r\n\r\n    @InjectMocks\r\n    ItemAvailableRequestValidator itemAvailableRequestValidator;\r\n\r\n    private ItemAvailableRequest request;\r\n    private ConstraintValidatorContext context;\r\n    private ConstraintValidatorContext.ConstraintViolationBuilder builder;\r\n\r\n\r\n    /*\r\n   good request initializer\r\n    */\r\n    @Before\r\n    public void setUp() {\r\n        MockitoAnnotations.initMocks(this);\r\n        // mock the context\r\n        context = Mockito.mock(ConstraintValidatorContext.class);\r\n\r\n        context = Mockito.mock(ConstraintValidatorContext.class);\r\n        builder = Mockito.mock(ConstraintValidatorContext.ConstraintViolationBuilder.class);\r\n\r\n\r\n        // context.buildConstraintViolationWithTemplate returns\r\n        // ConstraintValidatorContext.ConstraintViolationBuilder\r\n        // so we mock that too as you will be calling one of it&#39;s methods\r\n        builder = Mockito.mock(ConstraintValidatorContext.ConstraintViolationBuilder.class);\r\n\r\n        // when the context.buildConstraintViolationWithTemplate is called,\r\n        // the mock should return the builder.\r\n        Mockito.when(context.buildConstraintViolationWithTemplate(Mockito.anyString()))\r\n                .thenReturn(builder);\r\n        Mockito.when(context.buildConstraintViolationWithTemplate(Mockito.anyString()).addConstraintViolation())\r\n                .thenReturn(context);\r\n        request = new ItemAvailableRequest();\r\n\r\n        // set ndc and famId\r\n        List&lt;String&gt; ndcs = new ArrayList&lt;&gt;();\r\n        List&lt;Integer&gt; famIds = new ArrayList&lt;&gt;();\r\n        ndcs.add(&quot;1234&quot;);\r\n        famIds.add(1234);\r\n\r\n        // set goodRequest fields\r\n        request.setNdc(ndcs);\r\n        request.setMdsFamId(famIds);\r\n        // error for binding the request\r\n        Errors errors = new BeanPropertyBindingResult(request, &quot;request&quot;);\r\n\r\n    }\r\n\r\n    /*\r\n    test to verify the valid request with all valid request params\r\n     */\r\n    @Test\r\n    public void itemsAvailableValidatorSuccessTest() throws Exception {\r\n        ItemAvailableRequest request = new ItemAvailableRequest();\r\n\r\n        // set ndc and famId\r\n        List&lt;String&gt; ndcs = new ArrayList&lt;&gt;();\r\n        List&lt;Integer&gt; famIds = new ArrayList&lt;&gt;();\r\n        ndcs.add(&quot;1234&quot;);\r\n        famIds.add(1234);\r\n\r\n        // set goodRequest fields\r\n        request.setNdc(ndcs);\r\n        request.setMdsFamId(famIds);\r\n        request.setKioskId(1);\r\n        request.setQty(1);\r\n        request.setSiteNbr(5550);\r\n        request.setRxFillId(1);\r\n\r\n        // call the custom validator method and verify the response\r\n        assertEquals(true, itemAvailableRequestValidator.isValid(request, context));\r\n    }\r\n\r\n    /**\r\n     *Test to verify response when request is null\r\n     */\r\n    @Test\r\n    public void itemsAvailableValidatorNullRequestTest()  {\r\n        ItemAvailableRequest request = null;\r\n\r\n        // call the custom validator method and verify the response\r\n        assertEquals(false, itemAvailableRequestValidator.isValid(request, context));\r\n    }\r\n\r\n    /**\r\n     *Test to verify response when quantity is invalid.\r\n     */\r\n    @Test\r\n    public void itemsAvailableValidatorInvalidQuantityTest()  {\r\n        ItemAvailableRequest request = new ItemAvailableRequest();\r\n\r\n        // set ndc and famId\r\n        List&lt;String&gt; ndcs = new ArrayList&lt;&gt;();\r\n        List&lt;Integer&gt; famIds = null;\r\n        ndcs.add(&quot;1234&quot;);\r\n\r\n        // set goodRequest fields\r\n        request.setNdc(ndcs);\r\n        request.setMdsFamId(famIds);\r\n        request.setKioskId(1);\r\n        request.setQty(0.5);\r\n        request.setSiteNbr(5550);\r\n        request.setRxFillId(null);\r\n        // call the custom validator method and verify the response\r\n        assertEquals(false, itemAvailableRequestValidator.isValid(request, context));\r\n    }\r\n\r\n\r\n    /**\r\n     *  Test to verify response when SiteNbr is invalid\r\n     * @param kioskId it depicts kiosk id\r\n     * @param siteNbr it depicts site nbr\r\n     * @throws Exception it throws exception\r\n     */\r\n    @ParameterizedTest\r\n    @CsvSource({&quot;1,5550,true&quot;,&quot;1,0,false&quot;,&quot;0,5550,false&quot;})\r\n    public void itemsAvailableValidatorTest(int kioskId, int siteNbr,Boolean expected) throws Exception {\r\n\r\n        ItemAvailableRequest request = new ItemAvailableRequest();\r\n        ItemAvailableRequestValidator itemAvailableRequestValidator = new ItemAvailableRequestValidator();\r\n\r\n\r\n        context = Mockito.mock(ConstraintValidatorContext.class);\r\n        builder = Mockito.mock(ConstraintValidatorContext.ConstraintViolationBuilder.class);\r\n\r\n        Mockito.when(context.buildConstraintViolationWithTemplate(Mockito.anyString()))\r\n                .thenReturn(builder);\r\n        Mockito.when(context.buildConstraintViolationWithTemplate(Mockito.anyString()).addConstraintViolation())\r\n                .thenReturn(context);\r\n\r\n\r\n\r\n        // set ndc and famId\r\n        List&lt;String&gt; ndcs = new ArrayList&lt;&gt;();\r\n        List&lt;Integer&gt; famIds = new ArrayList&lt;&gt;();\r\n        ndcs.add(&quot;1234&quot;);\r\n        famIds.add(1234);\r\n\r\n        // set goodRequest fields\r\n        request.setNdc(ndcs);\r\n        request.setMdsFamId(famIds);\r\n        request.setKioskId(kioskId);\r\n        request.setQty(1);\r\n        request.setSiteNbr(siteNbr);\r\n        request.setRxFillId(null);        // call the custom validator method and verify the response\r\n        assertEquals(expected, itemAvailableRequestValidator.isValid(request, context));\r\n    }\r\n    /*\r\ntest to verify that if  rxFillId is 0 then request is not valid\r\n */\r\n    @Test\r\n    public void itemsAvailableValidatorFillIdZeroFailureTest() throws Exception {\r\n        ItemAvailableRequest request = new ItemAvailableRequest();\r\n\r\n        // set ndc and famId\r\n        List&lt;String&gt; ndcs = new ArrayList&lt;&gt;();\r\n        List&lt;Integer&gt; famIds = new ArrayList&lt;&gt;();\r\n        ndcs.add(&quot;1234&quot;);\r\n        famIds.add(1234);\r\n\r\n        // set goodRequest fields\r\n        request.setNdc(ndcs);\r\n        request.setMdsFamId(famIds);\r\n        request.setKioskId(1);\r\n        request.setQty(1);\r\n        request.setSiteNbr(5550);\r\n        request.setRxFillId(0);\r\n\r\n        // call the custom validator method and verify the response\r\n        assertEquals(false, itemAvailableRequestValidator.isValid(request, context));\r\n    }\r\n\r\n    /*\r\n    test to verify the valid request with ndc null and required famId\r\n     */\r\n    @Test\r\n    public void ItemsAvailableValidatorNullNdcSuccessTest() throws Exception {\r\n        ItemAvailableRequest request = new ItemAvailableRequest();\r\n\r\n        // set ndc and famId\r\n        List&lt;String&gt; ndcs = null;\r\n        List&lt;Integer&gt; famIds = new ArrayList&lt;&gt;();\r\n        famIds.add(1234);\r\n\r\n        // set fields\r\n        request.setNdc(ndcs);\r\n        request.setMdsFamId(famIds);\r\n        request.setQty(1);\r\n        request.setSiteNbr(5550);\r\n        request.setKioskId(5550);\r\n\r\n        // call the custom validator method and verify the response\r\n        assertTrue(itemAvailableRequestValidator.isValid(request, context));\r\n    }\r\n\r\n\r\n    /*\r\n    test to verify the fail request with params to be null\r\n     */\r\n    @Test\r\n    public void itemsAvailableValidatorNullFailureTest() throws Exception {\r\n        ItemAvailableRequest request = new ItemAvailableRequest();\r\n\r\n        // set ndc and famId\r\n        List&lt;String&gt; ndcs = null;\r\n        List&lt;Integer&gt; famIds = null;\r\n\r\n        // set goodRequest fields\r\n        request.setNdc(ndcs);\r\n        request.setMdsFamId(famIds);\r\n\r\n        // call the custom validator method and verify the response\r\n        assertEquals(false, itemAvailableRequestValidator.isValid(request, context));\r\n    }\r\n\r\n    /*\r\n    test to verify the valid request with empty ndc and valid famId\r\n     */\r\n    @Test\r\n    public void itemsAvailableValidatorEmptyNdcSuccessTest() throws Exception {\r\n        ItemAvailableRequest request = new ItemAvailableRequest();\r\n\r\n        // set ndc and famId\r\n        List&lt;String&gt; ndcs = new ArrayList&lt;&gt;();\r\n        List&lt;Integer&gt; famIds = new ArrayList&lt;&gt;();\r\n        famIds.add(1234);\r\n        request.setQty(1);\r\n        request.setSiteNbr(5550);\r\n        request.setKioskId(5550);\r\n\r\n        // set goodRequest fields\r\n        request.setNdc(ndcs);\r\n        request.setMdsFamId(famIds);\r\n\r\n        // call the custom validator method and verify the response\r\n        assertTrue(itemAvailableRequestValidator.isValid(request, context));\r\n    }\r\n\r\n    /*\r\n        test to verify the fail request with all params to be empty\r\n         */\r\n    @Test\r\n    public void ItemsAvailableValidatorEmptyFailureTest() throws Exception {\r\n        ItemAvailableRequest request = new ItemAvailableRequest();\r\n\r\n        // set ndc gpi and famId\r\n        List&lt;String&gt; ndcs = new ArrayList&lt;&gt;();\r\n        List&lt;Integer&gt; famIds = new ArrayList&lt;&gt;();\r\n\r\n        // set goodRequest fields\r\n        request.setNdc(ndcs);\r\n        request.setMdsFamId(famIds);\r\n\r\n        // call the custom validator method and verify the response\r\n        assertEquals(false, itemAvailableRequestValidator.isValid(request, context));\r\n    }\r\n\r\n}\r\n```","title":"Why have to initialize all variables again in Parameterized JUnitTest although they are intialize in @Before method or at class level","body":"<p>I have one parametrized Junit test in my class. If I initialize all objects used in this test in @Before method they are not accessible in this parametrized Junit test and it throws NUllPointer Exception, due to which I have to initialize all theses objects again in parametrized Junit test. Why is this behavior ?</p>\n<p>This is my parametrized Junit test where I have initialize all objects again and even I need to mock them also again.</p>\n<pre><code>    @ParameterizedTest\n    @CsvSource({&quot;1,5550,true&quot;,&quot;1,0,false&quot;,&quot;0,5550,false&quot;})\n    public void itemsAvailableValidatorTest(int kioskId, int siteNbr,Boolean expected) throws Exception {\n\n        ItemAvailableRequest request = new ItemAvailableRequest();\n        ItemAvailableRequestValidator itemAvailableRequestValidator = new ItemAvailableRequestValidator();\n\n\n        context = Mockito.mock(ConstraintValidatorContext.class);\n        builder = Mockito.mock(ConstraintValidatorContext.ConstraintViolationBuilder.class);\n\n        Mockito.when(context.buildConstraintViolationWithTemplate(Mockito.anyString()))\n                .thenReturn(builder);\n        Mockito.when(context.buildConstraintViolationWithTemplate(Mockito.anyString()).addConstraintViolation())\n                .thenReturn(context);\n\n\n\n        // set ndc and famId\n        List&lt;String&gt; ndcs = new ArrayList&lt;&gt;();\n        List&lt;Integer&gt; famIds = new ArrayList&lt;&gt;();\n        ndcs.add(&quot;1234&quot;);\n        famIds.add(1234);\n\n        // set goodRequest fields\n        request.setNdc(ndcs);\n        request.setMdsFamId(famIds);\n        request.setKioskId(kioskId);\n        request.setQty(1);\n        request.setSiteNbr(siteNbr);\n        request.setRxFillId(null);        // call the custom validator method and verify the response\n        assertEquals(expected, itemAvailableRequestValidator.isValid(request, context));\n    }\n</code></pre>\n<p>If I initialize the Following objects of this test in @Before method or at class level this test fails and throughs NullPointer Exception</p>\n<pre><code>ItemAvailableRequest request = new ItemAvailableRequest();\n        ItemAvailableRequestValidator itemAvailableRequestValidator = new ItemAvailableRequestValidator();\n\n\n        context = Mockito.mock(ConstraintValidatorContext.class);\n        builder = Mockito.mock(ConstraintValidatorContext.ConstraintViolationBuilder.class);\n\n        Mockito.when(context.buildConstraintViolationWithTemplate(Mockito.anyString()))\n                .thenReturn(builder);\n        Mockito.when(context.buildConstraintViolationWithTemplate(Mockito.anyString()).addConstraintViolation())\n                .thenReturn(context);\n</code></pre>\n<p>Why the objects initialized in Before method or at class level are not accessible in @parametrized JunitTest ? and why they need to be specifically initialized inside @paramterized Junit test curly brackets.</p>\n<p>Here is the code for whole class</p>\n<pre><code>package com.walmart.rxkioskinventory.validator;\n\nimport com.walmart.rxkioskinventory.model.request.ItemAvailableRequest;\nimport com.walmart.rxkioskinventory.model.validator.ItemAvailableRequestValidator;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.params.ParameterizedTest;\nimport org.junit.jupiter.params.provider.CsvSource;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.Mockito;\nimport org.mockito.MockitoAnnotations;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.validation.BeanPropertyBindingResult;\nimport org.springframework.validation.Errors;\n\nimport javax.validation.ConstraintValidatorContext;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport static org.junit.Assert.assertEquals;\nimport static org.junit.Assert.assertTrue;\n\npublic class ItemAvailableRequestValidatorTest {\n\n\n    @InjectMocks\n    ItemAvailableRequestValidator itemAvailableRequestValidator;\n\n    private ItemAvailableRequest request;\n    private ConstraintValidatorContext context;\n    private ConstraintValidatorContext.ConstraintViolationBuilder builder;\n\n\n    /*\n   good request initializer\n    */\n    @Before\n    public void setUp() {\n        MockitoAnnotations.initMocks(this);\n        // mock the context\n        context = Mockito.mock(ConstraintValidatorContext.class);\n\n        context = Mockito.mock(ConstraintValidatorContext.class);\n        builder = Mockito.mock(ConstraintValidatorContext.ConstraintViolationBuilder.class);\n\n\n        // context.buildConstraintViolationWithTemplate returns\n        // ConstraintValidatorContext.ConstraintViolationBuilder\n        // so we mock that too as you will be calling one of it's methods\n        builder = Mockito.mock(ConstraintValidatorContext.ConstraintViolationBuilder.class);\n\n        // when the context.buildConstraintViolationWithTemplate is called,\n        // the mock should return the builder.\n        Mockito.when(context.buildConstraintViolationWithTemplate(Mockito.anyString()))\n                .thenReturn(builder);\n        Mockito.when(context.buildConstraintViolationWithTemplate(Mockito.anyString()).addConstraintViolation())\n                .thenReturn(context);\n        request = new ItemAvailableRequest();\n\n        // set ndc and famId\n        List&lt;String&gt; ndcs = new ArrayList&lt;&gt;();\n        List&lt;Integer&gt; famIds = new ArrayList&lt;&gt;();\n        ndcs.add(&quot;1234&quot;);\n        famIds.add(1234);\n\n        // set goodRequest fields\n        request.setNdc(ndcs);\n        request.setMdsFamId(famIds);\n        // error for binding the request\n        Errors errors = new BeanPropertyBindingResult(request, &quot;request&quot;);\n\n    }\n\n    /*\n    test to verify the valid request with all valid request params\n     */\n    @Test\n    public void itemsAvailableValidatorSuccessTest() throws Exception {\n        ItemAvailableRequest request = new ItemAvailableRequest();\n\n        // set ndc and famId\n        List&lt;String&gt; ndcs = new ArrayList&lt;&gt;();\n        List&lt;Integer&gt; famIds = new ArrayList&lt;&gt;();\n        ndcs.add(&quot;1234&quot;);\n        famIds.add(1234);\n\n        // set goodRequest fields\n        request.setNdc(ndcs);\n        request.setMdsFamId(famIds);\n        request.setKioskId(1);\n        request.setQty(1);\n        request.setSiteNbr(5550);\n        request.setRxFillId(1);\n\n        // call the custom validator method and verify the response\n        assertEquals(true, itemAvailableRequestValidator.isValid(request, context));\n    }\n\n    /**\n     *Test to verify response when request is null\n     */\n    @Test\n    public void itemsAvailableValidatorNullRequestTest()  {\n        ItemAvailableRequest request = null;\n\n        // call the custom validator method and verify the response\n        assertEquals(false, itemAvailableRequestValidator.isValid(request, context));\n    }\n\n    /**\n     *Test to verify response when quantity is invalid.\n     */\n    @Test\n    public void itemsAvailableValidatorInvalidQuantityTest()  {\n        ItemAvailableRequest request = new ItemAvailableRequest();\n\n        // set ndc and famId\n        List&lt;String&gt; ndcs = new ArrayList&lt;&gt;();\n        List&lt;Integer&gt; famIds = null;\n        ndcs.add(&quot;1234&quot;);\n\n        // set goodRequest fields\n        request.setNdc(ndcs);\n        request.setMdsFamId(famIds);\n        request.setKioskId(1);\n        request.setQty(0.5);\n        request.setSiteNbr(5550);\n        request.setRxFillId(null);\n        // call the custom validator method and verify the response\n        assertEquals(false, itemAvailableRequestValidator.isValid(request, context));\n    }\n\n\n    /**\n     *  Test to verify response when SiteNbr is invalid\n     * @param kioskId it depicts kiosk id\n     * @param siteNbr it depicts site nbr\n     * @throws Exception it throws exception\n     */\n    @ParameterizedTest\n    @CsvSource({&quot;1,5550,true&quot;,&quot;1,0,false&quot;,&quot;0,5550,false&quot;})\n    public void itemsAvailableValidatorTest(int kioskId, int siteNbr,Boolean expected) throws Exception {\n\n        ItemAvailableRequest request = new ItemAvailableRequest();\n        ItemAvailableRequestValidator itemAvailableRequestValidator = new ItemAvailableRequestValidator();\n\n\n        context = Mockito.mock(ConstraintValidatorContext.class);\n        builder = Mockito.mock(ConstraintValidatorContext.ConstraintViolationBuilder.class);\n\n        Mockito.when(context.buildConstraintViolationWithTemplate(Mockito.anyString()))\n                .thenReturn(builder);\n        Mockito.when(context.buildConstraintViolationWithTemplate(Mockito.anyString()).addConstraintViolation())\n                .thenReturn(context);\n\n\n\n        // set ndc and famId\n        List&lt;String&gt; ndcs = new ArrayList&lt;&gt;();\n        List&lt;Integer&gt; famIds = new ArrayList&lt;&gt;();\n        ndcs.add(&quot;1234&quot;);\n        famIds.add(1234);\n\n        // set goodRequest fields\n        request.setNdc(ndcs);\n        request.setMdsFamId(famIds);\n        request.setKioskId(kioskId);\n        request.setQty(1);\n        request.setSiteNbr(siteNbr);\n        request.setRxFillId(null);        // call the custom validator method and verify the response\n        assertEquals(expected, itemAvailableRequestValidator.isValid(request, context));\n    }\n    /*\ntest to verify that if  rxFillId is 0 then request is not valid\n */\n    @Test\n    public void itemsAvailableValidatorFillIdZeroFailureTest() throws Exception {\n        ItemAvailableRequest request = new ItemAvailableRequest();\n\n        // set ndc and famId\n        List&lt;String&gt; ndcs = new ArrayList&lt;&gt;();\n        List&lt;Integer&gt; famIds = new ArrayList&lt;&gt;();\n        ndcs.add(&quot;1234&quot;);\n        famIds.add(1234);\n\n        // set goodRequest fields\n        request.setNdc(ndcs);\n        request.setMdsFamId(famIds);\n        request.setKioskId(1);\n        request.setQty(1);\n        request.setSiteNbr(5550);\n        request.setRxFillId(0);\n\n        // call the custom validator method and verify the response\n        assertEquals(false, itemAvailableRequestValidator.isValid(request, context));\n    }\n\n    /*\n    test to verify the valid request with ndc null and required famId\n     */\n    @Test\n    public void ItemsAvailableValidatorNullNdcSuccessTest() throws Exception {\n        ItemAvailableRequest request = new ItemAvailableRequest();\n\n        // set ndc and famId\n        List&lt;String&gt; ndcs = null;\n        List&lt;Integer&gt; famIds = new ArrayList&lt;&gt;();\n        famIds.add(1234);\n\n        // set fields\n        request.setNdc(ndcs);\n        request.setMdsFamId(famIds);\n        request.setQty(1);\n        request.setSiteNbr(5550);\n        request.setKioskId(5550);\n\n        // call the custom validator method and verify the response\n        assertTrue(itemAvailableRequestValidator.isValid(request, context));\n    }\n\n\n    /*\n    test to verify the fail request with params to be null\n     */\n    @Test\n    public void itemsAvailableValidatorNullFailureTest() throws Exception {\n        ItemAvailableRequest request = new ItemAvailableRequest();\n\n        // set ndc and famId\n        List&lt;String&gt; ndcs = null;\n        List&lt;Integer&gt; famIds = null;\n\n        // set goodRequest fields\n        request.setNdc(ndcs);\n        request.setMdsFamId(famIds);\n\n        // call the custom validator method and verify the response\n        assertEquals(false, itemAvailableRequestValidator.isValid(request, context));\n    }\n\n    /*\n    test to verify the valid request with empty ndc and valid famId\n     */\n    @Test\n    public void itemsAvailableValidatorEmptyNdcSuccessTest() throws Exception {\n        ItemAvailableRequest request = new ItemAvailableRequest();\n\n        // set ndc and famId\n        List&lt;String&gt; ndcs = new ArrayList&lt;&gt;();\n        List&lt;Integer&gt; famIds = new ArrayList&lt;&gt;();\n        famIds.add(1234);\n        request.setQty(1);\n        request.setSiteNbr(5550);\n        request.setKioskId(5550);\n\n        // set goodRequest fields\n        request.setNdc(ndcs);\n        request.setMdsFamId(famIds);\n\n        // call the custom validator method and verify the response\n        assertTrue(itemAvailableRequestValidator.isValid(request, context));\n    }\n\n    /*\n        test to verify the fail request with all params to be empty\n         */\n    @Test\n    public void ItemsAvailableValidatorEmptyFailureTest() throws Exception {\n        ItemAvailableRequest request = new ItemAvailableRequest();\n\n        // set ndc gpi and famId\n        List&lt;String&gt; ndcs = new ArrayList&lt;&gt;();\n        List&lt;Integer&gt; famIds = new ArrayList&lt;&gt;();\n\n        // set goodRequest fields\n        request.setNdc(ndcs);\n        request.setMdsFamId(famIds);\n\n        // call the custom validator method and verify the response\n        assertEquals(false, itemAvailableRequestValidator.isValid(request, context));\n    }\n\n}\n</code></pre>\n"},{"tags":["java","collections","hashmap","set","java-stream"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":2,"creation_date":1648625668,"post_id":71673213,"comment_id":126668912,"body_markdown":"What have you tried that didn&#39;t work?","body":"What have you tried that didn&#39;t work?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1648626172,"post_id":71673213,"comment_id":126669108,"body_markdown":"I don&#39;t think there&#39;s much you can do about the time complexity, but [StreamEx](https://github.com/amaembo/streamex) will help syntactically: `EntryStream.of(map).flatMapKeys(Set::stream).flatMapValues(b -&gt; b.getC().stream()).groupingTo(HashSet::new)`","body":"I don&#39;t think there&#39;s much you can do about the time complexity, but <a href=\"https://github.com/amaembo/streamex\" rel=\"nofollow noreferrer\">StreamEx</a> will help syntactically: <code>EntryStream.of(map).flatMapKeys(Set::stream).flatMapValues(b -&gt; b.getC().stream()).groupingTo(HashSet::new)</code>"},{"owner":{"account_id":13390659,"reputation":41,"user_id":9663104,"display_name":"Bartłomiej Paluch"},"score":0,"creation_date":1648636516,"post_id":71673213,"comment_id":126673182,"body_markdown":"The actual code is a lot longer and more complex, it&#39;s the part that I find requires the most of optimization. My question is to further research this particular part. The Map&lt;A, Set&lt;C&gt;&gt; is actually a object that wraps around key and value, effectively it acts like the Map collection inside Streams.","body":"The actual code is a lot longer and more complex, it&#39;s the part that I find requires the most of optimization. My question is to further research this particular part. The Map&lt;A, Set&lt;C&gt;&gt; is actually a object that wraps around key and value, effectively it acts like the Map collection inside Streams."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648646338,"creation_date":1648639127,"answer_id":71676269,"question_id":71673213,"body_markdown":"You need to flatten each entry `Map.Entry&lt;Set&lt;A&gt;, B&gt;`. And associate each object `A` with a `Set&lt;C&gt;` extracted from the object `B`.\r\n\r\nAfter that, apply `collect()` by using a flavor of `Collectors.toMap()` which takes three arguments: a *keyMapper*, a *valueMapper* and a *mergeFunction* (which is needed to combine *sets* mapped to the same object `A`)\r\n```\r\nMap&lt;Set&lt;A&gt;, B&gt; source = getSourceMap();\r\n\r\nMap&lt;A, Set&lt;C&gt;&gt; result =\r\n    source.entrySet().stream()\r\n        .flatMap(entry -&gt; entry.getKey().stream()\r\n                    .map(a -&gt; Map.entry(a,  entry.getValue().getC())))\r\n        .collect(Collectors.toMap(Map.Entry::getKey, \r\n                                  Map.Entry::getValue,\r\n                                  (set1, set2) -&gt; {set1.addAll(set2); return set1;}));\r\n```\r\nThe approach shown above is applicable if the `Set&lt;C&gt;` could be obtained from an object `B` in a constant time. Here I rely on your words:\r\n\r\n&gt; `B` contains set of objects `C`\r\n\r\nIf this action entails an additional processing (I see a method `transformC()` in your code) and creates a new set after each invocation of `transformC()`, then for each entry in the source map it must be done only once (*i.e. use multiline lambda*).\r\n\r\nIn regard to time complexity of stream-based solution, your expectation of performance improvement will ***not*** come true (assuming that there&#39;s no logical fault in the iterative solution). \r\n\r\n**Note**, the situation when a mutable object (`Set&lt;A&gt;`) is used as a key is vicious by itself and could cause incorrect behavior.","title":"How to transform a Map&lt;Set&lt;A&gt;, B&gt; into a Map&lt;A, Set&lt;C&gt;&gt;","body":"<p>You need to flatten each entry <code>Map.Entry&lt;Set&lt;A&gt;, B&gt;</code>. And associate each object <code>A</code> with a <code>Set&lt;C&gt;</code> extracted from the object <code>B</code>.</p>\n<p>After that, apply <code>collect()</code> by using a flavor of <code>Collectors.toMap()</code> which takes three arguments: a <em>keyMapper</em>, a <em>valueMapper</em> and a <em>mergeFunction</em> (which is needed to combine <em>sets</em> mapped to the same object <code>A</code>)</p>\n<pre><code>Map&lt;Set&lt;A&gt;, B&gt; source = getSourceMap();\n\nMap&lt;A, Set&lt;C&gt;&gt; result =\n    source.entrySet().stream()\n        .flatMap(entry -&gt; entry.getKey().stream()\n                    .map(a -&gt; Map.entry(a,  entry.getValue().getC())))\n        .collect(Collectors.toMap(Map.Entry::getKey, \n                                  Map.Entry::getValue,\n                                  (set1, set2) -&gt; {set1.addAll(set2); return set1;}));\n</code></pre>\n<p>The approach shown above is applicable if the <code>Set&lt;C&gt;</code> could be obtained from an object <code>B</code> in a constant time. Here I rely on your words:</p>\n<blockquote>\n<p><code>B</code> contains set of objects <code>C</code></p>\n</blockquote>\n<p>If this action entails an additional processing (I see a method <code>transformC()</code> in your code) and creates a new set after each invocation of <code>transformC()</code>, then for each entry in the source map it must be done only once (<em>i.e. use multiline lambda</em>).</p>\n<p>In regard to time complexity of stream-based solution, your expectation of performance improvement will <em><strong>not</strong></em> come true (assuming that there's no logical fault in the iterative solution).</p>\n<p><strong>Note</strong>, the situation when a mutable object (<code>Set&lt;A&gt;</code>) is used as a key is vicious by itself and could cause incorrect behavior.</p>\n"}],"owner":{"account_id":13390659,"reputation":41,"user_id":9663104,"display_name":"Bartłomiej Paluch"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71676269,"answer_count":1,"score":0,"last_activity_date":1648646338,"creation_date":1648625476,"question_id":71673213,"body_markdown":"I&#39;m having a problem with finding an optimal solution (which is not multiple usage of `forEach`).\r\n\r\nI have objects `A`, `B` and `C`. Object `B` contains set of objects `C (i.e. `B-&gt;Set&lt;C&gt;`). \r\n\r\nI&#39;m being provided with a `Map&lt;Set&lt;A&gt;, B&gt;` which I need to turn into a `Map&lt;A,Met&lt;C&gt;&gt;`. \r\n\r\nIs there any function in streams library that provides this particular solution?\r\n\r\nThe solution I came up with for now is to process this map through `forEach`. \r\n\r\nWith each iteration, I&#39;m merging sets of `C` for each `A` in the map `Map&lt;A,Set&lt;C&gt;&gt;`. Here is outline of solution (there is a lot of things happening inside, the b-&gt;c is shortcut of whats happening).\r\n\r\nWith creating `Map&lt;A,Set&lt;C&gt;&gt;` where in each iteration I&#39;m providing a merger of previous sets for each of them. Here is the outline of solution(there are a lot of things happening inside, the b-&gt;c is shortcut of what&#39;s happening).\r\n\r\n    \r\n    Map&lt;A, Set&lt;C&gt;&gt; aSetCMap = new HashMap&lt;&gt;();\r\n    for (Map.Entry&lt;Set&lt;A&gt;, B&gt; entry : setABMap.EntrySet()) {\r\n      var setA = entry.getKey();\r\n      var setC = b.transformC();\r\n      setA.forEach(item -&gt; aSetCMap.merge(item, setC,\r\n        (current, added) -&gt; Streams.concat(current.stream(), added.stream())\r\n          .collect(Collectors.toSet())));\r\n    }\r\n\r\nThe solution I came up with is a wonky way to do it in O(n^3) time. The thing I&#39;m using it needs high performance, thus my question.","title":"How to transform a Map&lt;Set&lt;A&gt;, B&gt; into a Map&lt;A, Set&lt;C&gt;&gt;","body":"<p>I'm having a problem with finding an optimal solution (which is not multiple usage of <code>forEach</code>).</p>\n<p>I have objects <code>A</code>, <code>B</code> and <code>C</code>. Object <code>B</code> contains set of objects <code>C (i.e. </code>B-&gt;Set`).</p>\n<p>I'm being provided with a <code>Map&lt;Set&lt;A&gt;, B&gt;</code> which I need to turn into a <code>Map&lt;A,Met&lt;C&gt;&gt;</code>.</p>\n<p>Is there any function in streams library that provides this particular solution?</p>\n<p>The solution I came up with for now is to process this map through <code>forEach</code>.</p>\n<p>With each iteration, I'm merging sets of <code>C</code> for each <code>A</code> in the map <code>Map&lt;A,Set&lt;C&gt;&gt;</code>. Here is outline of solution (there is a lot of things happening inside, the b-&gt;c is shortcut of whats happening).</p>\n<p>With creating <code>Map&lt;A,Set&lt;C&gt;&gt;</code> where in each iteration I'm providing a merger of previous sets for each of them. Here is the outline of solution(there are a lot of things happening inside, the b-&gt;c is shortcut of what's happening).</p>\n<pre><code>Map&lt;A, Set&lt;C&gt;&gt; aSetCMap = new HashMap&lt;&gt;();\nfor (Map.Entry&lt;Set&lt;A&gt;, B&gt; entry : setABMap.EntrySet()) {\n  var setA = entry.getKey();\n  var setC = b.transformC();\n  setA.forEach(item -&gt; aSetCMap.merge(item, setC,\n    (current, added) -&gt; Streams.concat(current.stream(), added.stream())\n      .collect(Collectors.toSet())));\n}\n</code></pre>\n<p>The solution I came up with is a wonky way to do it in O(n^3) time. The thing I'm using it needs high performance, thus my question.</p>\n"},{"tags":["java","android","flutter"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1648656306,"post_id":71677886,"comment_id":126681668,"body_markdown":"That is not currently supported by the platform classes. The only thing from the `&lt;activity&gt;` that&#39;s used to create the visual menu item is the `android:label`, and the `MenuItem` itself is `SHOW_AS_ACTION_NEVER`, so it&#39;s always in the overflow popup.","body":"That is not currently supported by the platform classes. The only thing from the <code>&lt;activity&gt;</code> that&#39;s used to create the visual menu item is the <code>android:label</code>, and the <code>MenuItem</code> itself is <code>SHOW_AS_ACTION_NEVER</code>, so it&#39;s always in the overflow popup."}],"owner":{"account_id":24256045,"reputation":61,"user_id":18206414,"display_name":"Albukheity Soft"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648646249,"creation_date":1648645933,"question_id":71677886,"body_markdown":"I want to create text selection menu use action PROCESS_TEXT show on other apps\r\n\r\nbut the menu show without icon \r\n\r\n``` \r\n     &lt;activity\r\n            android:name=&quot;.UppercaseActivity&quot;\r\n            android:label=&quot;To Upper&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:launchMode=&quot;singleTop&quot;\r\n            &gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.PROCESS_TEXT&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;data android:mimeType=&quot;text/plain&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n```\r\n\r\nhow to create icon\r\n[![image][1]][1]\r\n```\r\n       &lt;activity\r\n            android:name=&quot;.UppercaseActivity&quot;\r\n            android:label=&quot;To Upper&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:icon=&quot;@drawable/icon&quot;\r\n            android:launchMode=&quot;singleTop&quot;\r\n            &gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.PROCESS_TEXT&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;data android:mimeType=&quot;text/plain&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n```\r\n\r\nThe icon did not appear\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xDUhb.png","title":"How to create text selection menu use action PROCESS_TEXT with icons on my android app?","body":"<p>I want to create text selection menu use action PROCESS_TEXT show on other apps</p>\n<p>but the menu show without icon</p>\n<pre><code>     &lt;activity\n            android:name=&quot;.UppercaseActivity&quot;\n            android:label=&quot;To Upper&quot;\n            android:exported=&quot;true&quot;\n            android:launchMode=&quot;singleTop&quot;\n            &gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.PROCESS_TEXT&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n                &lt;data android:mimeType=&quot;text/plain&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n</code></pre>\n<p>how to create icon\n<a href=\"https://i.stack.imgur.com/xDUhb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xDUhb.png\" alt=\"image\" /></a></p>\n<pre><code>       &lt;activity\n            android:name=&quot;.UppercaseActivity&quot;\n            android:label=&quot;To Upper&quot;\n            android:exported=&quot;true&quot;\n            android:icon=&quot;@drawable/icon&quot;\n            android:launchMode=&quot;singleTop&quot;\n            &gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.PROCESS_TEXT&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n                &lt;data android:mimeType=&quot;text/plain&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n</code></pre>\n<p>The icon did not appear</p>\n"},{"tags":["java","spring-kafka"],"comments":[{"owner":{"account_id":12259204,"reputation":2452,"user_id":8947430,"display_name":"Ismail"},"score":0,"creation_date":1648645492,"post_id":71677746,"comment_id":126676707,"body_markdown":"Could you please give us your Kafka bean configuration?","body":"Could you please give us your Kafka bean configuration?"}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1648645997,"creation_date":1648645997,"answer_id":71677902,"question_id":71677746,"body_markdown":"The deserialization exception header is a binary value (the result of using Java serialization on the exception).\r\n\r\nYou can use `ListenerUtils.getExceptionFromHeader()` to convert it back to the exception.\r\n\r\n```java\r\n/**\r\n * Extract a {@link DeserializationException} from the supplied header name, if\r\n * present.\r\n * @param record the consumer record.\r\n * @param headerName the header name.\r\n * @param logger the logger for logging errors.\r\n * @return the exception or null.\r\n * @since 2.3\r\n */\r\n@Nullable\r\npublic static DeserializationException getExceptionFromHeader(final ConsumerRecord&lt;?, ?&gt; record,\r\n\t\tString headerName, LogAccessor logger) {\r\n```\r\n\r\nSee the code in the `DeadLetterPublishingRecoverer` for an example:\r\n\r\n```java\r\nDeserializationException vDeserEx = ListenerUtils.getExceptionFromHeader(record,\r\n\t\tSerializationUtils.VALUE_DESERIALIZER_EXCEPTION_HEADER, this.logger);\r\nDeserializationException kDeserEx = ListenerUtils.getExceptionFromHeader(record,\r\n\t\tSerializationUtils.KEY_DESERIALIZER_EXCEPTION_HEADER, this.logger);\r\n```","title":"How to decode springDeserializerExceptionValue to string?","body":"<p>The deserialization exception header is a binary value (the result of using Java serialization on the exception).</p>\n<p>You can use <code>ListenerUtils.getExceptionFromHeader()</code> to convert it back to the exception.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Extract a {@link DeserializationException} from the supplied header name, if\n * present.\n * @param record the consumer record.\n * @param headerName the header name.\n * @param logger the logger for logging errors.\n * @return the exception or null.\n * @since 2.3\n */\n@Nullable\npublic static DeserializationException getExceptionFromHeader(final ConsumerRecord&lt;?, ?&gt; record,\n        String headerName, LogAccessor logger) {\n</code></pre>\n<p>See the code in the <code>DeadLetterPublishingRecoverer</code> for an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DeserializationException vDeserEx = ListenerUtils.getExceptionFromHeader(record,\n        SerializationUtils.VALUE_DESERIALIZER_EXCEPTION_HEADER, this.logger);\nDeserializationException kDeserEx = ListenerUtils.getExceptionFromHeader(record,\n        SerializationUtils.KEY_DESERIALIZER_EXCEPTION_HEADER, this.logger);\n</code></pre>\n"}],"owner":{"account_id":1753834,"reputation":6316,"user_id":1602316,"accept_rate":43,"display_name":"Chris Gunawardena"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":629,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1648645997,"creation_date":1648645307,"question_id":71677746,"body_markdown":"I&#39;m getting the error below as result of a `kafka avro` `deserialisation` error but the message body is printed as numbers ranging from `-128` to `128`.\r\n\r\nHow do I convert this to a readable string?\r\n\r\n\r\n    Backoff none exhausted for ConsumerRecord(topic = gcrs_process_events, partition = 2, leaderEpoch = 153, offset = 204901345, LogAppendTime = 1647242630166, serialized key size = 36, serialized value size = 210, headers = RecordHeaders(headers = [RecordHeader(key = springDeserializerExceptionValue, value = [-84, -19, 0, 5, 115, 114, 0, 69, 111, 114, 103, 46, 115, 112, 114, 105, 110, 103, 102, 114, 97, 109, 101, 119, 111, 114, 107, 46, 107, 97, 102, 107, 97, 46, 115, 117, 112, 112, 111, 114, 116, 46, 115, 101, 114, 105, 97, 108, 105, 122, 101, 114, 46, 68, 101, 115, 101, 114, 105, 97, 108, 105, 122, 97, 116, 105, 111, 110, 69, 120, 99, 101, 112, 116, 105, 111, 110, -26, -50, 105, 87, -16, 47, -111, -25, 2, 0, 2, 90, 0, 5, 105, 115, 75, 101, 121, 91, 0, 4, 100, 97, 116, 97, 116, 0, 2, 91, 66, 120, 114, 0, 40, 111, 114, 103, 46, 115, 112, 114, 105, 110, 103, 102, 114, 97, 109, 101, 119, 111, 114, 107, 46, 107, 97, 102, 107, 97, 46, 75, 97, 102, 107, 97, 69, 120, 99, 101, 112, 116, 105, 111, 110, 67, 55, -37, -114, ........","title":"How to decode springDeserializerExceptionValue to string?","body":"<p>I'm getting the error below as result of a <code>kafka avro</code> <code>deserialisation</code> error but the message body is printed as numbers ranging from <code>-128</code> to <code>128</code>.</p>\n<p>How do I convert this to a readable string?</p>\n<pre><code>Backoff none exhausted for ConsumerRecord(topic = gcrs_process_events, partition = 2, leaderEpoch = 153, offset = 204901345, LogAppendTime = 1647242630166, serialized key size = 36, serialized value size = 210, headers = RecordHeaders(headers = [RecordHeader(key = springDeserializerExceptionValue, value = [-84, -19, 0, 5, 115, 114, 0, 69, 111, 114, 103, 46, 115, 112, 114, 105, 110, 103, 102, 114, 97, 109, 101, 119, 111, 114, 107, 46, 107, 97, 102, 107, 97, 46, 115, 117, 112, 112, 111, 114, 116, 46, 115, 101, 114, 105, 97, 108, 105, 122, 101, 114, 46, 68, 101, 115, 101, 114, 105, 97, 108, 105, 122, 97, 116, 105, 111, 110, 69, 120, 99, 101, 112, 116, 105, 111, 110, -26, -50, 105, 87, -16, 47, -111, -25, 2, 0, 2, 90, 0, 5, 105, 115, 75, 101, 121, 91, 0, 4, 100, 97, 116, 97, 116, 0, 2, 91, 66, 120, 114, 0, 40, 111, 114, 103, 46, 115, 112, 114, 105, 110, 103, 102, 114, 97, 109, 101, 119, 111, 114, 107, 46, 107, 97, 102, 107, 97, 46, 75, 97, 102, 107, 97, 69, 120, 99, 101, 112, 116, 105, 111, 110, 67, 55, -37, -114, ........\n</code></pre>\n"},{"tags":["java","spring-boot","apache-kafka","network-programming","apache-kafka-security"],"answers":[{"tags":[],"owner":{"account_id":3154670,"reputation":2663,"user_id":2667323,"accept_rate":53,"display_name":"Asiri Liyana Arachchi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642408129,"creation_date":1642314371,"answer_id":70727845,"question_id":56257730,"body_markdown":"You can just use HAproxy as a proxy in front of a kafka cluster. \r\n\r\n    listen kafka\r\n        bind *:8888\r\n        mode tcp\r\n        balance roundrobin\r\n        server  kafka1 127.0.0.1:8881 check\r\n        server  kafka2 127.0.0.1:8883 check\r\n        server  kafka3 127.0.0.1:8885 check   \r\n\r\n    listen kafka1\r\n        bind *:8881\r\n        mode tcp\r\n        server  kafka1  10.10.0.1:45677 check\r\n\r\n    listen kafka2\r\n        bind *:8883\r\n        mode tcp\r\n        server  kafka1 10.10.0.2:45677 check\r\n\r\n    listen kafka3\r\n        bind *:8885\r\n        mode tcp\r\n        server  kafka1 10.10.0.3:45677 check\r\n\r\nAbove is a  3 node kafka cluster. Client just have to set the LBs ip:8888 as the boostrap  server. Then the client will get meta data about lb_iP:8881 ,lb_iP:8883,lb_iP:8885 programmatically and will create respective bootstrap server connection paths accordingly.  \r\nBy this we can do modifications to underlying real brokers ips and ports without client having to change configurations.  \r\nref: [guide with ssl setup][1]\r\nThanks\r\n\r\n\r\n  [1]: https://medium.com/@asiriwork/providing-external-access-to-kafka-cluster-19287521d36","title":"How to setup proxy layer on kafka broker?","body":"<p>You can just use HAproxy as a proxy in front of a kafka cluster.</p>\n<pre><code>listen kafka\n    bind *:8888\n    mode tcp\n    balance roundrobin\n    server  kafka1 127.0.0.1:8881 check\n    server  kafka2 127.0.0.1:8883 check\n    server  kafka3 127.0.0.1:8885 check   \n\nlisten kafka1\n    bind *:8881\n    mode tcp\n    server  kafka1  10.10.0.1:45677 check\n\nlisten kafka2\n    bind *:8883\n    mode tcp\n    server  kafka1 10.10.0.2:45677 check\n\nlisten kafka3\n    bind *:8885\n    mode tcp\n    server  kafka1 10.10.0.3:45677 check\n</code></pre>\n<p>Above is a  3 node kafka cluster. Client just have to set the LBs ip:8888 as the boostrap  server. Then the client will get meta data about lb_iP:8881 ,lb_iP:8883,lb_iP:8885 programmatically and will create respective bootstrap server connection paths accordingly.<br />\nBy this we can do modifications to underlying real brokers ips and ports without client having to change configurations.<br />\nref: <a href=\"https://medium.com/@asiriwork/providing-external-access-to-kafka-cluster-19287521d36\" rel=\"nofollow noreferrer\">guide with ssl setup</a>\nThanks</p>\n"}],"owner":{"account_id":4804805,"reputation":88,"user_id":3880277,"accept_rate":86,"display_name":"mr-woot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1424,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1648645950,"creation_date":1558530898,"question_id":56257730,"body_markdown":"I am trying to setup a proxy server (preferred in java) that can pass my connection stream to kafka broker.\r\n\r\n```Client (Consumer/Producer) &lt;--&gt; [PROXY SERVER] &lt;--&gt; Kafka Broker```\r\n\r\nMy use case is consume the data from kafka, but the configuration params should be proxied to kafka broker.\r\n\r\ne.g ```bootstrap.servers=xx.xx.xx.xx:9091, topic=&lt;encrypted-topic&gt;```\r\n\r\nPort 9091 is proxy server where I am decrypting the topic to original topic and passing the connection stream to kafka.\r\n\r\nJob of proxy layer is to check if the encrypted topic is present in in-memory map of topics and if yes then decrypt the topic and connect to kafka broker.","title":"How to setup proxy layer on kafka broker?","body":"<p>I am trying to setup a proxy server (preferred in java) that can pass my connection stream to kafka broker.</p>\n\n<p><code>Client (Consumer/Producer) &lt;--&gt; [PROXY SERVER] &lt;--&gt; Kafka Broker</code></p>\n\n<p>My use case is consume the data from kafka, but the configuration params should be proxied to kafka broker.</p>\n\n<p>e.g <code>bootstrap.servers=xx.xx.xx.xx:9091, topic=&lt;encrypted-topic&gt;</code></p>\n\n<p>Port 9091 is proxy server where I am decrypting the topic to original topic and passing the connection stream to kafka.</p>\n\n<p>Job of proxy layer is to check if the encrypted topic is present in in-memory map of topics and if yes then decrypt the topic and connect to kafka broker.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":22488238,"reputation":165,"user_id":16686308,"display_name":"Luna"},"score":2,"creation_date":1648557157,"post_id":71662053,"comment_id":126649860,"body_markdown":"try initializating min to `Integer.MAX_VALUE` and max to `Integer.MIN_VALUE` .","body":"try initializating min to <code>Integer.MAX_VALUE</code> and max to <code>Integer.MIN_VALUE</code> ."},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":1,"creation_date":1648557269,"post_id":71662053,"comment_id":126649911,"body_markdown":"you are initializing min value with int min = numbers[0]; and number[0] equals 0 at that point so you can&#39;t have value which is lesser than 0 in your typed values 2,3,4. Like @MiguelLuna said initialize values with int max and int min values","body":"you are initializing min value with int min = numbers[0]; and number[0] equals 0 at that point so you can&#39;t have value which is lesser than 0 in your typed values 2,3,4. Like @MiguelLuna said initialize values with int max and int min values"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1648557442,"post_id":71662053,"comment_id":126649998,"body_markdown":"why do you have a nextInt in your maxAndMin method? you should already have your values, this makes no sense. But, indeed, your problem is that you are comparing those values against 0. Either initialize that value to Integer.MIN_VALUE, or to the first element of your array","body":"why do you have a nextInt in your maxAndMin method? you should already have your values, this makes no sense. But, indeed, your problem is that you are comparing those values against 0. Either initialize that value to Integer.MIN_VALUE, or to the first element of your array"},{"owner":{"account_id":1057468,"reputation":2070,"user_id":1059860,"accept_rate":62,"display_name":"tandem"},"score":0,"creation_date":1648635373,"post_id":71662053,"comment_id":126672719,"body_markdown":"Does this answer your question? [Finding a minimum and maximum value in an array](https://stackoverflow.com/questions/47383316/finding-a-minimum-and-maximum-value-in-an-array)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/47383316/finding-a-minimum-and-maximum-value-in-an-array\">Finding a minimum and maximum value in an array</a>"}],"answers":[{"tags":[],"owner":{"account_id":24732295,"reputation":1,"user_id":18620125,"display_name":"XDy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648559433,"creation_date":1648557744,"answer_id":71662233,"question_id":71662053,"body_markdown":"I&#39;ve encountered this problem before and watched a video where the instructor&#39;s logic is to set the &quot;Min&quot; and &quot;Max&quot; to the first number entered by the user. Then there comes the relational operator to decide which is minimum and maximum. ","title":"How to display the min and max elements of an array?","body":"<p>I've encountered this problem before and watched a video where the instructor's logic is to set the &quot;Min&quot; and &quot;Max&quot; to the first number entered by the user. Then there comes the relational operator to decide which is minimum and maximum.</p>\n"},{"tags":[],"owner":{"account_id":1574508,"reputation":1602,"user_id":1461350,"accept_rate":88,"display_name":"BlargleMonster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648645841,"creation_date":1648645841,"answer_id":71677863,"question_id":71662053,"body_markdown":"The problem is on the line where you do `int min = numbers[0];` because `numbers` is an empty array (all of the values are 0).  Since `min` starts at 0 and nothing in the array is less than 0 then min will remain 0 forever.\r\n\r\nTry making `min` start as a high value such as `int.MaxValue` and see if that fixes your problem.","title":"How to display the min and max elements of an array?","body":"<p>The problem is on the line where you do <code>int min = numbers[0];</code> because <code>numbers</code> is an empty array (all of the values are 0).  Since <code>min</code> starts at 0 and nothing in the array is less than 0 then min will remain 0 forever.</p>\n<p>Try making <code>min</code> start as a high value such as <code>int.MaxValue</code> and see if that fixes your problem.</p>\n"}],"owner":{"account_id":24732503,"reputation":11,"user_id":18620312,"display_name":"rhino"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648645841,"creation_date":1648556999,"question_id":71662053,"body_markdown":"I&#39;ve been trying to solve this problem for quite some time now. I&#39;m trying to display the min and max elements of an array, but the min always remains at 0. Here&#39;s the code that explains my issue:\r\n\r\n    public class ArrExs {\r\n        public static void main(String[] args) {\r\n            Scanner input = new Scanner(System.in);\r\n            System.out.print(&quot;enter the array capacity (min 1, max 20): &quot;);\r\n            int n = input.nextInt();\r\n            while(n &lt;= 0 || n &gt; 20) {\r\n                System.out.print(&quot;enter a valid number and try again: &quot;);\r\n                n = input.nextInt();\r\n            }\r\n            int[] nums = new int[n];\r\n            maxAndMin(nums);\r\n        }\r\n        public static void maxAndMin(int[] numbers) {\r\n            Scanner input = new Scanner(System.in);\r\n            System.out.println(&quot;enter your array elements: &quot;);\r\n            int min = numbers[0];\r\n            int max = numbers[0];\r\n            for(int i = 0; i &lt; numbers.length; i++) {\r\n                numbers[i] = input.nextInt();\r\n                max = (numbers[i] &gt; max) ? numbers[i] : max;\r\n                min = (numbers[i] &lt; min) ? numbers[i] : min;\r\n            }\r\n            System.out.print(&quot;min = &quot; + min + &quot;, max = &quot; + max);\r\n        }\r\n    }\r\n    \r\nThe output:\r\n    \r\n    enter the array capacity (min 1, max 20): 3\r\n    enter your array elements: \r\n    2\r\n    3\r\n    4\r\n    min = 0, max = 4\r\n\r\nThe min always remains at 0, I&#39;ve tried to edit the code multiple times but I get the same result.\r\n","title":"How to display the min and max elements of an array?","body":"<p>I've been trying to solve this problem for quite some time now. I'm trying to display the min and max elements of an array, but the min always remains at 0. Here's the code that explains my issue:</p>\n<pre><code>public class ArrExs {\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        System.out.print(&quot;enter the array capacity (min 1, max 20): &quot;);\n        int n = input.nextInt();\n        while(n &lt;= 0 || n &gt; 20) {\n            System.out.print(&quot;enter a valid number and try again: &quot;);\n            n = input.nextInt();\n        }\n        int[] nums = new int[n];\n        maxAndMin(nums);\n    }\n    public static void maxAndMin(int[] numbers) {\n        Scanner input = new Scanner(System.in);\n        System.out.println(&quot;enter your array elements: &quot;);\n        int min = numbers[0];\n        int max = numbers[0];\n        for(int i = 0; i &lt; numbers.length; i++) {\n            numbers[i] = input.nextInt();\n            max = (numbers[i] &gt; max) ? numbers[i] : max;\n            min = (numbers[i] &lt; min) ? numbers[i] : min;\n        }\n        System.out.print(&quot;min = &quot; + min + &quot;, max = &quot; + max);\n    }\n}\n</code></pre>\n<p>The output:</p>\n<pre><code>enter the array capacity (min 1, max 20): 3\nenter your array elements: \n2\n3\n4\nmin = 0, max = 4\n</code></pre>\n<p>The min always remains at 0, I've tried to edit the code multiple times but I get the same result.</p>\n"},{"tags":["java","android","react-native","kotlin","gradle"],"answers":[{"tags":[],"owner":{"account_id":17879375,"reputation":87,"user_id":12988593,"display_name":"EKREM YİĞİT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648623001,"creation_date":1648623001,"answer_id":71672714,"question_id":71672645,"body_markdown":"Probably, you can&#39;t use it because you haven&#39;t assigned a variable.\r\n\r\nval demo = Demo()\r\n\r\nOr\r\n\r\nvar demo = Demo() ","title":"How to call class from java file in Kotlin file","body":"<p>Probably, you can't use it because you haven't assigned a variable.</p>\n<p>val demo = Demo()</p>\n<p>Or</p>\n<p>var demo = Demo()</p>\n"},{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648640532,"creation_date":1648636762,"answer_id":71675696,"question_id":71672645,"body_markdown":"The Gradle version you are using is very old and that might be and issue for you. Update the Gradle version in order to prevent the issue. I faced the same issue a week ago and resolved it this way.\r\n```gradle\r\nbuildscript {\r\n    repositories {\r\n        jcenter()\r\n    }\r\n\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:2.2&#39; //update this to latest version\r\n    }\r\n}\r\n```","title":"How to call class from java file in Kotlin file","body":"<p>The Gradle version you are using is very old and that might be and issue for you. Update the Gradle version in order to prevent the issue. I faced the same issue a week ago and resolved it this way.</p>\n<pre><code>buildscript {\n    repositories {\n        jcenter()\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:2.2' //update this to latest version\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648645453,"creation_date":1648645453,"answer_id":71677783,"question_id":71672645,"body_markdown":"Remove the entire `buildscript` block from your module&#39;s `build.gradle`. You already have an appropriate recent version of the android build tools specified in your project&#39;s `build.gradle`. There&#39;s no need to try to override that in the module&#39;s `build.gradle`. \r\n\r\nIncidentally, the version you&#39;re specifying in that module file (1.3.1) is ancient history, and `jcenter()` is obsolete. ","title":"How to call class from java file in Kotlin file","body":"<p>Remove the entire <code>buildscript</code> block from your module's <code>build.gradle</code>. You already have an appropriate recent version of the android build tools specified in your project's <code>build.gradle</code>. There's no need to try to override that in the module's <code>build.gradle</code>.</p>\n<p>Incidentally, the version you're specifying in that module file (1.3.1) is ancient history, and <code>jcenter()</code> is obsolete.</p>\n"}],"owner":{"account_id":17544324,"reputation":654,"user_id":12732411,"display_name":"UHS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":821,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1648645453,"creation_date":1648622613,"question_id":71672645,"body_markdown":"I have created RN module to check if java and kotlin interoperability in RN. I was able to call kotlin class and methods in java but failed to call java in kotlin module. \r\n\r\n``` lang-bash\r\n\\RNNativeToastLibrary2Module.kt: (23, 7): Unresolved reference: Demo\r\n```\r\n\r\nBelow are codes of RN module built using kotlin and calling java class in Kotlin. Both are under same package.\r\n\r\nI tried to open the project in android but it failed to sync Gradle and says to edit gradle wrapper properties but that does not exist in the path and there is no auto fixing shown for it. \r\n\r\nAndroid Studio console.\r\n```bash\r\noid\\build.gradle&#39; line: 12\r\n\r\n* What went wrong:\r\nA problem occurred evaluating root project &#39;android&#39;.\r\n&gt; Failed to apply plugin &#39;com.android.library&#39;.\r\n   &gt; Gradle version 2.2 is required. Current version is 6.8. If using the gradle wrapper, try editing the distributionUrl in C:\\Users\\ADMIN\\.gradle\\daemon\\6.8\\gradle\\wrapper\\gradle-wrapper.properties to gradle-2.2-all.zip\r\n\r\n\r\n```\r\n\r\nbuild.gradle (Module)\r\n```lang-gradle\r\n\r\nbuildscript {\r\n    repositories {\r\n        jcenter()\r\n    }\r\n\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:1.3.1&#39;\r\n    }\r\n}\r\n\r\napply plugin: &#39;com.android.library&#39;\r\n\r\n// add for kotlin\r\napply plugin: &quot;kotlin-android&quot;\r\napply plugin: &quot;kotlin-android-extensions&quot;\r\napply plugin: &quot;org.jetbrains.kotlin.android&quot;\r\n\r\n\r\n// plugins {\r\n//     id &#39;com.android.application&#39;\r\n//     id &#39;org.jetbrains.kotlin.android&#39;\r\n// }\r\n\r\nandroid {\r\n    compileSdkVersion 23\r\n    buildToolsVersion &quot;23.0.1&quot;\r\n\r\n    defaultConfig {\r\n        minSdkVersion 16\r\n        targetSdkVersion 22\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n    }\r\n    lintOptions {\r\n        abortOnError false\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = &#39;1.8&#39;\r\n    }\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    compile &#39;com.facebook.react:react-native:+&#39;\r\n    // added or kotlin. version varibale is from project level gradle\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\r\n\r\n}\r\n```\r\n\r\nbuild.gradle (root project)\r\n```lang-gradle\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n\r\nbuildscript {\r\n    ext.kotlin_version = &#39;1.6.10&#39;\r\n    ext {\r\n        kotlin_version = &#39;1.6.10&#39;\r\n        buildToolsVersion = &quot;30.0.2&quot;\r\n        minSdkVersion = 21\r\n        compileSdkVersion = 30\r\n        targetSdkVersion = 30\r\n        ndkVersion = &quot;21.4.7075529&quot;\r\n    }\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath(&quot;com.android.tools.build:gradle:4.2.2&quot;)\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot; //KSR\r\n        classpath &quot;org.jetbrains.kotlin:kotlin-android-extensions:$kotlin_version&quot;\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        maven {\r\n            // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm\r\n            url(&quot;$rootDir/../node_modules/react-native/android&quot;)\r\n        }\r\n        maven {\r\n            // Android JSC is installed from npm\r\n            url(&quot;$rootDir/../node_modules/jsc-android/dist&quot;)\r\n        }\r\n        mavenCentral {\r\n            // We don&#39;t want to fetch react-native from Maven Central as there are\r\n            // older versions over there.\r\n            content {\r\n                excludeGroup &quot;com.facebook.react&quot;\r\n            }\r\n        }\r\n        google()\r\n        maven { url &#39;https://www.jitpack.io&#39; }\r\n    }\r\n}\r\n\r\n```\r\nJava\r\n```java\r\npackage com.reactlibrarynativetoast2;\r\n\r\npublic class Demo {\r\n    \r\n}\r\n\r\n```\r\n\r\nkotlin\r\n```kotlin\r\n\r\npackage com.reactlibrarynativetoast2\r\n...\r\n\r\nclass RNNativeToastLibrary2Module(reactContext: ReactApplicationContext) : ReactContextBaseJavaModule(reactContext) {\r\n\r\n  ...\r\n\r\n  @ReactMethod\r\n  fun Say(str: String) {\r\n\r\n      Demo()  // CALLING JAVA CLASS HERE...!\r\n\r\n      // also tried\r\n      // val v = Demo()\r\n      // var v = Demo()\r\n      // var d:Demo = Demo()\r\n\r\n      // val v =  com.reactlibrarynativetoast2.Demo()\r\n      // Error: Unresolved reference: Demo\r\n      Log.d(&quot;ReactNative&quot;,&quot;in Kotlin module: ${str}&quot;)\r\n  }\r\n  \r\n}\r\n\r\n\r\n```\r\n\r\nWhen I call whith full package name it can&#39;t recognise the package name as well meanwhile there is no issue with kt file. I can call methods and classes from kt files.\r\n","title":"How to call class from java file in Kotlin file","body":"<p>I have created RN module to check if java and kotlin interoperability in RN. I was able to call kotlin class and methods in java but failed to call java in kotlin module.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>\\RNNativeToastLibrary2Module.kt: (23, 7): Unresolved reference: Demo\n</code></pre>\n<p>Below are codes of RN module built using kotlin and calling java class in Kotlin. Both are under same package.</p>\n<p>I tried to open the project in android but it failed to sync Gradle and says to edit gradle wrapper properties but that does not exist in the path and there is no auto fixing shown for it.</p>\n<p>Android Studio console.</p>\n<pre class=\"lang-sh prettyprint-override\"><code>oid\\build.gradle' line: 12\n\n* What went wrong:\nA problem occurred evaluating root project 'android'.\n&gt; Failed to apply plugin 'com.android.library'.\n   &gt; Gradle version 2.2 is required. Current version is 6.8. If using the gradle wrapper, try editing the distributionUrl in C:\\Users\\ADMIN\\.gradle\\daemon\\6.8\\gradle\\wrapper\\gradle-wrapper.properties to gradle-2.2-all.zip\n\n\n</code></pre>\n<p>build.gradle (Module)</p>\n<pre class=\"lang-gradle prettyprint-override\"><code>\nbuildscript {\n    repositories {\n        jcenter()\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:1.3.1'\n    }\n}\n\napply plugin: 'com.android.library'\n\n// add for kotlin\napply plugin: &quot;kotlin-android&quot;\napply plugin: &quot;kotlin-android-extensions&quot;\napply plugin: &quot;org.jetbrains.kotlin.android&quot;\n\n\n// plugins {\n//     id 'com.android.application'\n//     id 'org.jetbrains.kotlin.android'\n// }\n\nandroid {\n    compileSdkVersion 23\n    buildToolsVersion &quot;23.0.1&quot;\n\n    defaultConfig {\n        minSdkVersion 16\n        targetSdkVersion 22\n        versionCode 1\n        versionName &quot;1.0&quot;\n    }\n    lintOptions {\n        abortOnError false\n    }\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile 'com.facebook.react:react-native:+'\n    // added or kotlin. version varibale is from project level gradle\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\n\n}\n</code></pre>\n<p>build.gradle (root project)</p>\n<pre class=\"lang-gradle prettyprint-override\"><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ext.kotlin_version = '1.6.10'\n    ext {\n        kotlin_version = '1.6.10'\n        buildToolsVersion = &quot;30.0.2&quot;\n        minSdkVersion = 21\n        compileSdkVersion = 30\n        targetSdkVersion = 30\n        ndkVersion = &quot;21.4.7075529&quot;\n    }\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath(&quot;com.android.tools.build:gradle:4.2.2&quot;)\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot; //KSR\n        classpath &quot;org.jetbrains.kotlin:kotlin-android-extensions:$kotlin_version&quot;\n    }\n}\n\nallprojects {\n    repositories {\n        maven {\n            // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm\n            url(&quot;$rootDir/../node_modules/react-native/android&quot;)\n        }\n        maven {\n            // Android JSC is installed from npm\n            url(&quot;$rootDir/../node_modules/jsc-android/dist&quot;)\n        }\n        mavenCentral {\n            // We don't want to fetch react-native from Maven Central as there are\n            // older versions over there.\n            content {\n                excludeGroup &quot;com.facebook.react&quot;\n            }\n        }\n        google()\n        maven { url 'https://www.jitpack.io' }\n    }\n}\n\n</code></pre>\n<p>Java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.reactlibrarynativetoast2;\n\npublic class Demo {\n    \n}\n\n</code></pre>\n<p>kotlin</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>\npackage com.reactlibrarynativetoast2\n...\n\nclass RNNativeToastLibrary2Module(reactContext: ReactApplicationContext) : ReactContextBaseJavaModule(reactContext) {\n\n  ...\n\n  @ReactMethod\n  fun Say(str: String) {\n\n      Demo()  // CALLING JAVA CLASS HERE...!\n\n      // also tried\n      // val v = Demo()\n      // var v = Demo()\n      // var d:Demo = Demo()\n\n      // val v =  com.reactlibrarynativetoast2.Demo()\n      // Error: Unresolved reference: Demo\n      Log.d(&quot;ReactNative&quot;,&quot;in Kotlin module: ${str}&quot;)\n  }\n  \n}\n\n\n</code></pre>\n<p>When I call whith full package name it can't recognise the package name as well meanwhile there is no issue with kt file. I can call methods and classes from kt files.</p>\n"},{"tags":["java","spring","tomcat","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1700447,"reputation":1346,"user_id":1560681,"accept_rate":100,"display_name":"andy"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1623938887,"creation_date":1498392167,"answer_id":44746166,"question_id":43089611,"body_markdown":"Solution: \r\ncreate a folder name as ***public*** under your project, in the same folder with your JAR.\r\n\r\nReason: \r\nfrom the springboot code, there is no configuration for docbase folder.\r\nbut you can create a common root folder in you project folder name as *public*, *static* or *src/main/webapp*, then the springboot will never create temp tomcat-docbase folder for you again.\r\n\r\n    private static final String[] COMMON_DOC_ROOTS = { &quot;src/main/webapp&quot;, &quot;public&quot;, &quot;static&quot; }\r\n    ...\r\n    public final File getValidDirectory() {\r\n\t\tFile file = this.directory;\r\n\t\tfile = (file != null ? file : getWarFileDocumentRoot());\r\n\t\tfile = (file != null ? file : getExplodedWarFileDocumentRoot());\r\n\t\tfile = (file != null ? file : getCommonDocumentRoot());\r\n\t\tif (file == null &amp;&amp; this.logger.isDebugEnabled()) {\r\n\t\t\tlogNoDocumentRoots();\r\n\t\t}\r\n\t\telse if (this.logger.isDebugEnabled()) {\r\n\t\t\tthis.logger.debug(&quot;Document root: &quot; + file);\r\n\t\t}\r\n\t\treturn file;\r\n\t}\r\n    ...\r\n    private File getCommonDocumentRoot() {\r\n\t\tfor (String commonDocRoot : COMMON_DOC_ROOTS) {\r\n\t\t\tFile root = new File(commonDocRoot);\r\n\t\t\tif (root.exists() &amp;&amp; root.isDirectory()) {\r\n\t\t\t\treturn root.getAbsoluteFile();\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\nLink: [DocumentRoot.java][1]\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/web/servlet/server/DocumentRoot.java","title":"/tmp/tomcat-docbase is always created with a Spring Boot JAR (but not a WAR)","body":"<p>Solution:\ncreate a folder name as <em><strong>public</strong></em> under your project, in the same folder with your JAR.</p>\n<p>Reason:\nfrom the springboot code, there is no configuration for docbase folder.\nbut you can create a common root folder in you project folder name as <em>public</em>, <em>static</em> or <em>src/main/webapp</em>, then the springboot will never create temp tomcat-docbase folder for you again.</p>\n<pre><code>private static final String[] COMMON_DOC_ROOTS = { &quot;src/main/webapp&quot;, &quot;public&quot;, &quot;static&quot; }\n...\npublic final File getValidDirectory() {\n    File file = this.directory;\n    file = (file != null ? file : getWarFileDocumentRoot());\n    file = (file != null ? file : getExplodedWarFileDocumentRoot());\n    file = (file != null ? file : getCommonDocumentRoot());\n    if (file == null &amp;&amp; this.logger.isDebugEnabled()) {\n        logNoDocumentRoots();\n    }\n    else if (this.logger.isDebugEnabled()) {\n        this.logger.debug(&quot;Document root: &quot; + file);\n    }\n    return file;\n}\n...\nprivate File getCommonDocumentRoot() {\n    for (String commonDocRoot : COMMON_DOC_ROOTS) {\n        File root = new File(commonDocRoot);\n        if (root.exists() &amp;&amp; root.isDirectory()) {\n            return root.getAbsoluteFile();\n        }\n    }\n    return null;\n}\n</code></pre>\n<p>Link: <a href=\"https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/web/servlet/server/DocumentRoot.java\" rel=\"nofollow noreferrer\">DocumentRoot.java</a></p>\n"},{"tags":[],"owner":{"account_id":8245409,"reputation":3834,"user_id":6201659,"display_name":"Jose Da Silva Gomes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504447777,"creation_date":1504447777,"answer_id":46024256,"question_id":43089611,"body_markdown":"I found a programmatically way of setting the docbase folder with spring and the embedded tomcat server. You must override the ``TomcatEmbeddedServletContainerFactory`` implementation like the following:\r\n\r\n&lt;!-- lang: java --&gt;\r\n\r\n\r\n\tpublic @Bean EmbeddedServletContainerFactory embeddedServletContainerFactory() {\r\n\t\tTomcatEmbeddedServletContainerFactory factory = new TomcatEmbeddedServletContainerFactory(&quot;/app&quot;, 8080) {\r\n\t\t\t@Override\r\n\t\t\tprotected void configureContext(Context context, ServletContextInitializer[] initializers) {\r\n\t\t\t\tcontext.setDocBase(&quot;/path/to/your/docbase&quot;);\r\n\t\t\t\tsuper.configureContext(context, initializers);\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn factory;\r\n\t}\r\n","title":"/tmp/tomcat-docbase is always created with a Spring Boot JAR (but not a WAR)","body":"<p>I found a programmatically way of setting the docbase folder with spring and the embedded tomcat server. You must override the <code>TomcatEmbeddedServletContainerFactory</code> implementation like the following:</p>\n\n\n\n<pre><code>public @Bean EmbeddedServletContainerFactory embeddedServletContainerFactory() {\n    TomcatEmbeddedServletContainerFactory factory = new TomcatEmbeddedServletContainerFactory(\"/app\", 8080) {\n        @Override\n        protected void configureContext(Context context, ServletContextInitializer[] initializers) {\n            context.setDocBase(\"/path/to/your/docbase\");\n            super.configureContext(context, initializers);\n        }\n    };\n    return factory;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2697018,"reputation":5916,"user_id":2328781,"accept_rate":75,"display_name":"Danylo Zatorsky"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636728899,"creation_date":1636728899,"answer_id":69944829,"question_id":43089611,"body_markdown":"For Spring Boot 2.x+\r\n```\r\n@Component\r\npublic class EmbeddedServletContainerConfig implements WebServerFactoryCustomizer&lt;TomcatServletWebServerFactory&gt; {\r\n\r\n    @Override\r\n    public void customize(TomcatServletWebServerFactory factory) {\r\n        factory.setDocumentRoot(new File(&quot;/your/path/here&quot;));\r\n    }\r\n\r\n}\r\n```","title":"/tmp/tomcat-docbase is always created with a Spring Boot JAR (but not a WAR)","body":"<p>For Spring Boot 2.x+</p>\n<pre><code>@Component\npublic class EmbeddedServletContainerConfig implements WebServerFactoryCustomizer&lt;TomcatServletWebServerFactory&gt; {\n\n    @Override\n    public void customize(TomcatServletWebServerFactory factory) {\n        factory.setDocumentRoot(new File(&quot;/your/path/here&quot;));\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":957098,"reputation":91,"user_id":7150997,"display_name":"David Melia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12298,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":3,"score":9,"last_activity_date":1648645408,"creation_date":1490779848,"question_id":43089611,"body_markdown":"From STS I&#39;m creating a standard Spring Boot 1.5.2 &#39;Web&#39; project.  If you run this application you get two directories created - the normal &#39;base&#39; directory and a &#39;tomcat-docbase&#39; directory\r\n\r\n    . . .  4096 Mar 29 10:00 tomcat.2743776473678691880.8080\r\n    . . .  4096 Mar 29 10:00 tomcat-docbase.76291847886629412.8080\r\n\r\nIf I change this project to a WAR project I get only the &#39;base&#39; directory\r\n\r\n    . . .   4096 Mar 29 10:06 tomcat.3131223012454570991.8080\r\n\r\nIt&#39;s easy to override the default base directory using\r\n\r\n     server.tomcat.basedir=.\r\n\r\nhowever this has no effect on tomcat-docbase.  It is possible to override tomcat-docbase programmatically but seems like a hack. \r\n\r\nDoes anyone think this is a bug?","title":"/tmp/tomcat-docbase is always created with a Spring Boot JAR (but not a WAR)","body":"<p>From STS I'm creating a standard Spring Boot 1.5.2 'Web' project.  If you run this application you get two directories created - the normal 'base' directory and a 'tomcat-docbase' directory</p>\n<pre><code>. . .  4096 Mar 29 10:00 tomcat.2743776473678691880.8080\n. . .  4096 Mar 29 10:00 tomcat-docbase.76291847886629412.8080\n</code></pre>\n<p>If I change this project to a WAR project I get only the 'base' directory</p>\n<pre><code>. . .   4096 Mar 29 10:06 tomcat.3131223012454570991.8080\n</code></pre>\n<p>It's easy to override the default base directory using</p>\n<pre><code> server.tomcat.basedir=.\n</code></pre>\n<p>however this has no effect on tomcat-docbase.  It is possible to override tomcat-docbase programmatically but seems like a hack.</p>\n<p>Does anyone think this is a bug?</p>\n"},{"tags":["java","runtime-error"],"answers":[{"tags":[],"owner":{"account_id":16001561,"reputation":3061,"user_id":11548057,"display_name":"joshmeranda"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648645307,"creation_date":1648584483,"answer_id":71668209,"question_id":71668106,"body_markdown":"You are getting this due to the implementation details from[`CLass::getClassLoader`](https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getClassLoader--):\r\n\r\n&gt; Returns the class loader for the class. Some implementations may use null to represent the bootstrap class loader. This method will return null in such implementations if this class was loaded by the bootstrap class loader.\r\n\r\nSo in some situations calling `new File().getClassLoader().getResource()` will cause a `NullPointerException`. The warning isn&#39;t quite as clear as I&#39;d like it to be but this isn&#39;t an issue with `toURI`.\r\n\r\nTo be safe you should check if `getClassLoader()` returns null, and then access the bootstrap classloader with [`ClassLoader::getSystemClassLoader`](https://docs.oracle.com/javase/8/docs/api/java/lang/ClassLoader.html#getSystemClassLoader--):\r\n\r\n\r\n```java\r\nClassLoader loader = File.class.getClassLoader();\r\n\r\nif (loader == null) {\r\n    loader = ClassLoader.getSystemClassLoader();\r\n}\r\n\r\nDocument doc = builder.parse(loader.getResource(path));\r\n```","title":"Why the toURI() method is giving me the erro &quot;Method invocation &#39;toURI&#39; may produce &#39;NullPointerException&#39;&quot;?","body":"<p>You are getting this due to the implementation details from<a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getClassLoader--\" rel=\"nofollow noreferrer\"><code>CLass::getClassLoader</code></a>:</p>\n<blockquote>\n<p>Returns the class loader for the class. Some implementations may use null to represent the bootstrap class loader. This method will return null in such implementations if this class was loaded by the bootstrap class loader.</p>\n</blockquote>\n<p>So in some situations calling <code>new File().getClassLoader().getResource()</code> will cause a <code>NullPointerException</code>. The warning isn't quite as clear as I'd like it to be but this isn't an issue with <code>toURI</code>.</p>\n<p>To be safe you should check if <code>getClassLoader()</code> returns null, and then access the bootstrap classloader with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/ClassLoader.html#getSystemClassLoader--\" rel=\"nofollow noreferrer\"><code>ClassLoader::getSystemClassLoader</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ClassLoader loader = File.class.getClassLoader();\n\nif (loader == null) {\n    loader = ClassLoader.getSystemClassLoader();\n}\n\nDocument doc = builder.parse(loader.getResource(path));\n</code></pre>\n"}],"owner":{"display_name":"user17505569"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1648645307,"creation_date":1648583923,"question_id":71668106,"body_markdown":"    DocumentBuilderFactory builderFactory = DocumentBuilderFactory.newInstance();\r\n    DocumentBuilder builder = builderFactory.newDocumentBuilder();\r\n    Document doc = builder.parse(new File getClass().getClassLoader().getResource(path).toURI()));\r\n\r\nWhen executing the program the contnent in the file, which is an xml file, is shown as doc:  &quot;[#document: null]&quot;","title":"Why the toURI() method is giving me the erro &quot;Method invocation &#39;toURI&#39; may produce &#39;NullPointerException&#39;&quot;?","body":"<pre><code>DocumentBuilderFactory builderFactory = DocumentBuilderFactory.newInstance();\nDocumentBuilder builder = builderFactory.newDocumentBuilder();\nDocument doc = builder.parse(new File getClass().getClassLoader().getResource(path).toURI()));\n</code></pre>\n<p>When executing the program the contnent in the file, which is an xml file, is shown as doc:  &quot;[#document: null]&quot;</p>\n"},{"tags":["java","json","string","parsing"],"comments":[{"owner":{"account_id":424143,"reputation":2103,"user_id":803975,"display_name":"whaleberg"},"score":0,"creation_date":1648576104,"post_id":71666554,"comment_id":126657936,"body_markdown":"Welcome to stack overflow!  If you want people to help you should try showing what you&#39;ve already tried and why it didn&#39;t work.  Otherwise it sounds a little like you&#39;re asking other people to do your homework for you.","body":"Welcome to stack overflow!  If you want people to help you should try showing what you&#39;ve already tried and why it didn&#39;t work.  Otherwise it sounds a little like you&#39;re asking other people to do your homework for you."},{"owner":{"account_id":80868,"reputation":8448,"user_id":228371,"accept_rate":86,"display_name":"Freiheit"},"score":0,"creation_date":1648577249,"post_id":71666554,"comment_id":126658269,"body_markdown":"What is the output you get from the snippet you posted?","body":"What is the output you get from the snippet you posted?"},{"owner":{"account_id":24736024,"reputation":1,"user_id":18623384,"display_name":"Taras Savitskyy"},"score":0,"creation_date":1648577582,"post_id":71666554,"comment_id":126658387,"body_markdown":"I received something like : Andy : {Smith={email=soc1212@smth.net, id=1212}, John ={email=utiszn1219@smth.net, id=1219}, Veronica={email=1220_vdpzn@smth.net, id=1220}}, need to parse data in scopes and mapping into Map","body":"I received something like : Andy : {Smith={email=soc1212@smth.net, id=1212}, John ={email=utiszn1219@smth.net, id=1219}, Veronica={email=1220_vdpzn@smth.net, id=1220}}, need to parse data in scopes and mapping into Map"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1648578869,"post_id":71666554,"comment_id":126658786,"body_markdown":"Your lines in your question are different than what you say in your comment.  It is important to know which string is id and which is email.","body":"Your lines in your question are different than what you say in your comment.  It is important to know which string is id and which is email."},{"owner":{"account_id":24736024,"reputation":1,"user_id":18623384,"display_name":"Taras Savitskyy"},"score":0,"creation_date":1648579267,"post_id":71666554,"comment_id":126658917,"body_markdown":"Sorry on first is email after is id  {email, id}   not correct described in Question","body":"Sorry on first is email after is id  {email, id}   not correct described in Question"},{"owner":{"account_id":24736024,"reputation":1,"user_id":18623384,"display_name":"Taras Savitskyy"},"score":0,"creation_date":1648627056,"post_id":71666554,"comment_id":126669446,"body_markdown":"Had changed file to json but still in problems couse keys is data which i dont know, help to parse","body":"Had changed file to json but still in problems couse keys is data which i dont know, help to parse"}],"owner":{"account_id":24736024,"reputation":1,"user_id":18623384,"display_name":"Taras Savitskyy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648645303,"creation_date":1648575720,"question_id":71666554,"body_markdown":"I have json file with such form:\r\n```\r\n{\r\n  &quot;Region_1&quot;: {\r\n    &quot;Area_1&quot;: {\r\n      &quot;id&quot;: &quot;id_1&quot;,\r\n      &quot;email&quot;: &quot;email_1&quot;\r\n    },\r\n    &quot;Area_2&quot;: {\r\n      &quot;id&quot;: &quot;id_2&quot;,\r\n      &quot;email&quot;: &quot;email_2&quot;\r\n    }\r\n  },\r\n  &quot;Region_2&quot;: {\r\n      &quot;Area_1&quot;: {\r\n      &quot;id&quot;: &quot;id_1&quot;,\r\n      &quot;email&quot;: &quot;email_1&quot;\r\n    },\r\n    &quot;Area_2&quot;: {\r\n      &quot;id&quot;: &quot;id_2&quot;,\r\n      &quot;email&quot;: &quot;email_2&quot;\r\n    }\r\n  }\r\n}\r\n```\r\nI need to parse this structure using JSONObject, I have already code which parse this but not get Region_2 only. \r\nRegion_1 getting.\r\n\r\n```\r\nJSONObject obj = new JSONObject(fileData);\r\n    for (Map.Entry&lt;String, Object&gt; entry : obj.entrySet()) {\r\n        String region = entry.getKey().toString();\r\n        JSONObject areas = new JSONObject(entry.getValue().toString());\r\n\r\n        System.out.println(&quot;region: &quot; + region);\r\n\r\n        List links = areas.entrySet().collect({ it -&gt;\r\n            String area = it.getKey().toString();\r\n\r\n            System.out.println(&quot;area: &quot; + area);\r\n\r\n            JSONObject areaData = new JSONObject(it.getValue().toString());\r\n            String code = areaData.getString(&quot;id&quot;);\r\n            String email = areaData.getString(&quot;email&quot;);\r\n\r\n            System.out.println(&quot;code: &quot; + code.toString());\r\n            System.out.println(&quot;email: &quot; + email.toString());\r\n       })\r\n    } \r\n```\r\n\r\nWhy only first object takes from json file ?","title":"Java parse json file JSONObject","body":"<p>I have json file with such form:</p>\n<pre><code>{\n  &quot;Region_1&quot;: {\n    &quot;Area_1&quot;: {\n      &quot;id&quot;: &quot;id_1&quot;,\n      &quot;email&quot;: &quot;email_1&quot;\n    },\n    &quot;Area_2&quot;: {\n      &quot;id&quot;: &quot;id_2&quot;,\n      &quot;email&quot;: &quot;email_2&quot;\n    }\n  },\n  &quot;Region_2&quot;: {\n      &quot;Area_1&quot;: {\n      &quot;id&quot;: &quot;id_1&quot;,\n      &quot;email&quot;: &quot;email_1&quot;\n    },\n    &quot;Area_2&quot;: {\n      &quot;id&quot;: &quot;id_2&quot;,\n      &quot;email&quot;: &quot;email_2&quot;\n    }\n  }\n}\n</code></pre>\n<p>I need to parse this structure using JSONObject, I have already code which parse this but not get Region_2 only.\nRegion_1 getting.</p>\n<pre><code>JSONObject obj = new JSONObject(fileData);\n    for (Map.Entry&lt;String, Object&gt; entry : obj.entrySet()) {\n        String region = entry.getKey().toString();\n        JSONObject areas = new JSONObject(entry.getValue().toString());\n\n        System.out.println(&quot;region: &quot; + region);\n\n        List links = areas.entrySet().collect({ it -&gt;\n            String area = it.getKey().toString();\n\n            System.out.println(&quot;area: &quot; + area);\n\n            JSONObject areaData = new JSONObject(it.getValue().toString());\n            String code = areaData.getString(&quot;id&quot;);\n            String email = areaData.getString(&quot;email&quot;);\n\n            System.out.println(&quot;code: &quot; + code.toString());\n            System.out.println(&quot;email: &quot; + email.toString());\n       })\n    } \n</code></pre>\n<p>Why only first object takes from json file ?</p>\n"},{"tags":["java","android","android-layout","progress-bar","android-4.4-kitkat"],"answers":[{"tags":[],"owner":{"account_id":9333655,"reputation":615,"user_id":6928576,"accept_rate":84,"display_name":"M. Dhaouadi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1499688111,"creation_date":1498916076,"answer_id":44861540,"question_id":44861370,"body_markdown":"It&#39;s not a resource not found problem, the error is:\r\n`UnsupportedOperationException`: Can&#39;t convert to color: type=0x2 at android.content.res.TypedArray.getColor(TypedArray.java:327) \r\n\r\nFor API &lt; 21 you can&#39;t use attributes to color in xml drawable. So only way is to use a reference to a color resource (@color/YOURS_COLOR) or use #RGB format.","title":"Drawable Resource not found using Android 4.4.4","body":"<p>It's not a resource not found problem, the error is:\n<code>UnsupportedOperationException</code>: Can't convert to color: type=0x2 at android.content.res.TypedArray.getColor(TypedArray.java:327) </p>\n\n<p>For API &lt; 21 you can't use attributes to color in xml drawable. So only way is to use a reference to a color resource (@color/YOURS_COLOR) or use #RGB format.</p>\n"},{"tags":[],"owner":{"account_id":10563223,"reputation":811,"user_id":7782316,"accept_rate":71,"display_name":"Sz-Nika Janos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1498916594,"creation_date":1498916594,"answer_id":44861608,"question_id":44861370,"body_markdown":"if your Drawable has  theme attribute \r\n\r\nTry `ContextCompat.getDrawable(getActivity(),  R.drawable.quickcontrolsprogress);\r\n`\r\n\r\nor \r\n\r\nif your Drawable has no  theme attribute\r\n\r\n    ResourcesCompat.getDrawable(getResources(), R.drawable.name, null);\r\n\r\ninstead of\r\n\r\n    AppCompatResources.getDrawable(getContext(), R.drawable.quickcontrolsprogress)","title":"Drawable Resource not found using Android 4.4.4","body":"<p>if your Drawable has  theme attribute </p>\n\n<p>Try <code>ContextCompat.getDrawable(getActivity(),  R.drawable.quickcontrolsprogress);\n</code></p>\n\n<p>or </p>\n\n<p>if your Drawable has no  theme attribute</p>\n\n<pre><code>ResourcesCompat.getDrawable(getResources(), R.drawable.name, null);\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>AppCompatResources.getDrawable(getContext(), R.drawable.quickcontrolsprogress)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12296627,"reputation":21,"user_id":8972069,"display_name":"ali M"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1648645093,"creation_date":1648645093,"answer_id":71677693,"question_id":44861370,"body_markdown":"worked for me:\r\nuse `activity` context instead of `application` context\r\n\r\n    ContextCompat.getDrawable(activity, R.drawable.v_lock)\r\n\r\ninstead of:\r\n\r\n    ContextCompat.getDrawable(application, R.drawable.v_lock)","title":"Drawable Resource not found using Android 4.4.4","body":"<p>worked for me:\nuse <code>activity</code> context instead of <code>application</code> context</p>\n<pre><code>ContextCompat.getDrawable(activity, R.drawable.v_lock)\n</code></pre>\n<p>instead of:</p>\n<pre><code>ContextCompat.getDrawable(application, R.drawable.v_lock)\n</code></pre>\n"}],"owner":{"account_id":6503474,"reputation":2504,"user_id":5994190,"accept_rate":66,"display_name":"the_dani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4029,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":44861540,"answer_count":3,"score":2,"last_activity_date":1648645093,"creation_date":1498915056,"question_id":44861370,"body_markdown":"I&#39;m costumizing my progressbar using the following drawable:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;item android:id=&quot;@android:id/background&quot;&gt;\r\n            &lt;shape&gt;\r\n                &lt;gradient\r\n                    android:startColor=&quot;@android:color/transparent&quot;\r\n                    android:endColor=&quot;@android:color/transparent&quot; /&gt;\r\n            &lt;/shape&gt;\r\n        &lt;/item&gt;\r\n        &lt;item android:id=&quot;@android:id/secondaryProgress&quot;&gt;\r\n            &lt;clip&gt;\r\n                &lt;shape&gt;\r\n                    &lt;gradient\r\n                        android:startColor=&quot;@android:color/white&quot;\r\n                        android:endColor=&quot;@android:color/white&quot; /&gt;\r\n                &lt;/shape&gt;\r\n            &lt;/clip&gt;\r\n        &lt;/item&gt;\r\n        &lt;item android:id=&quot;@android:id/progress&quot;&gt;\r\n            &lt;clip&gt;\r\n                &lt;shape&gt;\r\n                    &lt;gradient\r\n                        android:startColor=&quot;?attr/colorAccent&quot;\r\n                        android:endColor=&quot;?attr/colorAccent&quot; /&gt;\r\n                &lt;/shape&gt;\r\n            &lt;/clip&gt;\r\n        &lt;/item&gt;\r\n    &lt;/layer-list&gt;\r\n\r\nWhen using my app on Android 6 or 7, it works fine but if I try it on Kitkat, the following error is thrown:\r\n\r\n&gt; android.content.res.Resources$NotFoundException: File res/drawable/quickcontrolsprogress.xml from drawable resource ID #0x7f020094. If the resource you are trying to use is a vector resource, you may be referencing it in an unsupported way. See AppCompatDelegate.setCompatVectorFromResourcesEnabled() for more info.&lt;br&gt;\r\nat android.content.res.Resources.loadDrawable(Resources.java:3457)&lt;br&gt;\r\nat android.content.res.Resources.getDrawable(Resources.java:1897)&lt;br&gt;                                                                     at android.support.v4.content.ContextCompat.getDrawable(ContextCompat.java:374)&lt;br&gt;\r\nat android.support.v7.widget.AppCompatDrawableManager.getDrawable(AppCompatDrawableManager.java:202)&lt;br&gt;                                                                     at android.support.v7.widget.AppCompatDrawableManager.getDrawable(AppCompatDrawableManager.java:190)&lt;br&gt;                                                                     at android.support.v7.content.res.AppCompatResources.getDrawable(AppCompatResources.java:100)&lt;br&gt;                                                                     at at.guger.musixs.fragment.ControlsFragment.onCreateView(ControlsFragment.java:86)&lt;br&gt;\r\n... &lt;br&gt;\r\nCaused by: java.lang.UnsupportedOperationException: Can&#39;t convert to color: type=0x2\r\n                                                                     at android.content.res.TypedArray.getColor(TypedArray.java:327)\r\n                                                                     at android.graphics.drawable.GradientDrawable.inflate(GradientDrawable.java:871)\r\n                                                                     at android.graphics.drawable.Drawable.createFromXmlInner(Drawable.java:990)&lt;br&gt;\r\n...\r\n\r\nThe code, the error is pointing at is:\r\n\r\n    prgqProgress = (ProgressBar) rootView.findViewById(R.id.fr_ctrl_prgqProgress);\r\n    prgqProgress.setProgressDrawable(AppCompatResources.getDrawable(getContext(), R.drawable.quickcontrolsprogress)); -&gt; Line 86\r\n\r\nDoes anyone know why this ResourceNotFound Exception occurs and how to fix it?\r\nThank you!","title":"Drawable Resource not found using Android 4.4.4","body":"<p>I'm costumizing my progressbar using the following drawable:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layer-list xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;item android:id=\"@android:id/background\"&gt;\n        &lt;shape&gt;\n            &lt;gradient\n                android:startColor=\"@android:color/transparent\"\n                android:endColor=\"@android:color/transparent\" /&gt;\n        &lt;/shape&gt;\n    &lt;/item&gt;\n    &lt;item android:id=\"@android:id/secondaryProgress\"&gt;\n        &lt;clip&gt;\n            &lt;shape&gt;\n                &lt;gradient\n                    android:startColor=\"@android:color/white\"\n                    android:endColor=\"@android:color/white\" /&gt;\n            &lt;/shape&gt;\n        &lt;/clip&gt;\n    &lt;/item&gt;\n    &lt;item android:id=\"@android:id/progress\"&gt;\n        &lt;clip&gt;\n            &lt;shape&gt;\n                &lt;gradient\n                    android:startColor=\"?attr/colorAccent\"\n                    android:endColor=\"?attr/colorAccent\" /&gt;\n            &lt;/shape&gt;\n        &lt;/clip&gt;\n    &lt;/item&gt;\n&lt;/layer-list&gt;\n</code></pre>\n\n<p>When using my app on Android 6 or 7, it works fine but if I try it on Kitkat, the following error is thrown:</p>\n\n<blockquote>\n  <p>android.content.res.Resources$NotFoundException: File res/drawable/quickcontrolsprogress.xml from drawable resource ID #0x7f020094. If the resource you are trying to use is a vector resource, you may be referencing it in an unsupported way. See AppCompatDelegate.setCompatVectorFromResourcesEnabled() for more info.<br>\n  at android.content.res.Resources.loadDrawable(Resources.java:3457)<br>\n  at android.content.res.Resources.getDrawable(Resources.java:1897)<br>                                                                     at android.support.v4.content.ContextCompat.getDrawable(ContextCompat.java:374)<br>\n  at android.support.v7.widget.AppCompatDrawableManager.getDrawable(AppCompatDrawableManager.java:202)<br>                                                                     at android.support.v7.widget.AppCompatDrawableManager.getDrawable(AppCompatDrawableManager.java:190)<br>                                                                     at android.support.v7.content.res.AppCompatResources.getDrawable(AppCompatResources.java:100)<br>                                                                     at at.guger.musixs.fragment.ControlsFragment.onCreateView(ControlsFragment.java:86)<br>\n  ... <br>\n  Caused by: java.lang.UnsupportedOperationException: Can't convert to color: type=0x2\n                                                                       at android.content.res.TypedArray.getColor(TypedArray.java:327)\n                                                                       at android.graphics.drawable.GradientDrawable.inflate(GradientDrawable.java:871)\n                                                                       at android.graphics.drawable.Drawable.createFromXmlInner(Drawable.java:990)<br>\n  ...</p>\n</blockquote>\n\n<p>The code, the error is pointing at is:</p>\n\n<pre><code>prgqProgress = (ProgressBar) rootView.findViewById(R.id.fr_ctrl_prgqProgress);\nprgqProgress.setProgressDrawable(AppCompatResources.getDrawable(getContext(), R.drawable.quickcontrolsprogress)); -&gt; Line 86\n</code></pre>\n\n<p>Does anyone know why this ResourceNotFound Exception occurs and how to fix it?\nThank you!</p>\n"},{"tags":["java","asynchronous","stream","flatmap"],"answers":[{"tags":[],"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1648644478,"creation_date":1648644478,"answer_id":71677527,"question_id":71677324,"body_markdown":"Assuming you want to create pairs of `(user, workplace)` from two separate `users` an `workplaces` streams, this operation is normally called &quot;zipping&quot;.\r\n\r\nGuava library provide [`Streams.zip(Stream, Steam, Function)`](https://guava.dev/releases/23.0/api/docs/com/google/common/collect/Streams.html#zip-java.util.stream.Stream-java.util.stream.Stream-java.util.function.BiFunction-) method for this. In your case the code would look like:\r\n\r\n```\r\nStream&lt;UserWithWorkplace&gt; zipped = Streams.zip(\r\n    users.stream(), \r\n    worklpaces.stream(), \r\n    (u, w) -&gt; this.mapping(u, w, someRandomtype));\r\n```\r\n\r\nHowever your example code uses `List` and not `Stream` to represent data. I&#39;m not sure if you have to use Java streams for this, a simple `for` loop with `i` index might be easier.","title":"Combine two streams and call method","body":"<p>Assuming you want to create pairs of <code>(user, workplace)</code> from two separate <code>users</code> an <code>workplaces</code> streams, this operation is normally called &quot;zipping&quot;.</p>\n<p>Guava library provide <a href=\"https://guava.dev/releases/23.0/api/docs/com/google/common/collect/Streams.html#zip-java.util.stream.Stream-java.util.stream.Stream-java.util.function.BiFunction-\" rel=\"nofollow noreferrer\"><code>Streams.zip(Stream, Steam, Function)</code></a> method for this. In your case the code would look like:</p>\n<pre><code>Stream&lt;UserWithWorkplace&gt; zipped = Streams.zip(\n    users.stream(), \n    worklpaces.stream(), \n    (u, w) -&gt; this.mapping(u, w, someRandomtype));\n</code></pre>\n<p>However your example code uses <code>List</code> and not <code>Stream</code> to represent data. I'm not sure if you have to use Java streams for this, a simple <code>for</code> loop with <code>i</code> index might be easier.</p>\n"},{"tags":[],"owner":{"account_id":24718252,"reputation":81,"user_id":18607681,"display_name":"Nauris Utnāns"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648644494,"creation_date":1648644494,"answer_id":71677537,"question_id":71677324,"body_markdown":"What you&#39;re describing is a zipping operation.\r\n\r\nIf using Google Guava, you can do this to combine them:\r\n\r\n    Streams.zip(users.stream(), workplaces.stream(), (user, workplace) -&gt; mapping(user, workplace, someType))\r\n\r\nYou can also find some other implementations of this operation described [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/17640754/zipping-streams-using-jdk8-with-lambda-java-util-stream-streams-zip","title":"Combine two streams and call method","body":"<p>What you're describing is a zipping operation.</p>\n<p>If using Google Guava, you can do this to combine them:</p>\n<pre><code>Streams.zip(users.stream(), workplaces.stream(), (user, workplace) -&gt; mapping(user, workplace, someType))\n</code></pre>\n<p>You can also find some other implementations of this operation described <a href=\"https://stackoverflow.com/questions/17640754/zipping-streams-using-jdk8-with-lambda-java-util-stream-streams-zip\">here</a></p>\n"}],"owner":{"account_id":15567040,"reputation":71,"user_id":11230458,"display_name":"tooFastForSatan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71677527,"answer_count":2,"score":1,"last_activity_date":1648644681,"creation_date":1648643652,"question_id":71677324,"body_markdown":"I have a problem how to stream asynchornously and call a method,\r\ne.g. \r\n```\r\nList&lt;User&gt; users = List.of(user1, user2, user3);\r\nList&lt;Workplace&gt; worklpaces = List.of(workplace1,workplace2,workplace3)\r\n```\r\nIt&#39;s always the same `users.size == workplaces.size`\r\n\r\nwe have a function mapping\r\n```\r\npublic List&lt;UserWithWorkplace&gt; combineUserWithWorkplaceAndType(List&lt;User&gt; users,List&lt;Workplace&gt; \r\nworklpaces, Type someRandomtype) {\r\n\r\n//here is the problem it wont it should be get\r\n//List&lt;UserWithWorkplace&gt;.size == users.size == workplaces.size\r\n\r\n\r\nreturn users.stream().flatMap(user -&gt; \r\n                              worklpaces.stream()\r\n                              .map(worklpace -&gt; mapping(user,worklpace, someRandomtype)))\r\n                              .toList()\r\n}\r\n\r\n\r\nprivate UserWithWorkplace mapping( User user, Workplace workplace,Type someRandomtype){\r\n\r\n//cominging and returning user with workplace\r\n}\r\n\r\n```\r\n\r\nHow to achieve that result?","title":"Combine two streams and call method","body":"<p>I have a problem how to stream asynchornously and call a method,\ne.g.</p>\n<pre><code>List&lt;User&gt; users = List.of(user1, user2, user3);\nList&lt;Workplace&gt; worklpaces = List.of(workplace1,workplace2,workplace3)\n</code></pre>\n<p>It's always the same <code>users.size == workplaces.size</code></p>\n<p>we have a function mapping</p>\n<pre><code>public List&lt;UserWithWorkplace&gt; combineUserWithWorkplaceAndType(List&lt;User&gt; users,List&lt;Workplace&gt; \nworklpaces, Type someRandomtype) {\n\n//here is the problem it wont it should be get\n//List&lt;UserWithWorkplace&gt;.size == users.size == workplaces.size\n\n\nreturn users.stream().flatMap(user -&gt; \n                              worklpaces.stream()\n                              .map(worklpace -&gt; mapping(user,worklpace, someRandomtype)))\n                              .toList()\n}\n\n\nprivate UserWithWorkplace mapping( User user, Workplace workplace,Type someRandomtype){\n\n//cominging and returning user with workplace\n}\n\n</code></pre>\n<p>How to achieve that result?</p>\n"},{"tags":["java","spring","webclient"],"comments":[{"owner":{"account_id":282105,"reputation":4974,"user_id":578808,"accept_rate":83,"display_name":"eestein"},"score":0,"creation_date":1645021764,"post_id":65103173,"comment_id":125759905,"body_markdown":"Does this answer your question? [How to post request with spring boot web-client for Form data for content type application/x-www-form-urlencoded](https://stackoverflow.com/questions/59792224/how-to-post-request-with-spring-boot-web-client-for-form-data-for-content-type-a)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/59792224/how-to-post-request-with-spring-boot-web-client-for-form-data-for-content-type-a\">How to post request with spring boot web-client for Form data for content type application/x-www-form-urlencoded</a>"}],"answers":[{"tags":[],"owner":{"account_id":17571079,"reputation":552,"user_id":12746790,"display_name":"Akshay Jain "},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1648644676,"creation_date":1606893151,"answer_id":65103670,"question_id":65103173,"body_markdown":"We can use BodyInserters.fromFormData for this purpose:\r\n        \r\n    WebClient client = WebClient.builder()\r\n                .baseUrl(&quot;SOME-BASE-URL&quot;)\r\n                .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_FORM_URLENCODED_VALUE)\r\n                .build();\r\n        \r\n    return client.post()\r\n                .uri(&quot;SOME-URI)\r\n                .body(BodyInserters.fromFormData(&quot;username&quot;, &quot;SOME-USERNAME&quot;)\r\n                        .with(&quot;password&quot;, &quot;SONE-PASSWORD&quot;))\r\n                        .retrieve()\r\n                        .bodyToFlux(SomeClass.class)\r\n                        .onErrorMap(e -&gt; new MyException(&quot;messahe&quot;,e))\r\n                .blockLast();\r\n    \r\n   \r\nIn another form:\r\n    \r\n    MultiValueMap&lt;String, String&gt; formData = new LinkedMultiValueMap&lt;&gt;();\r\n    formData.add(&quot;username&quot;, &quot;XXXX&quot;);\r\n    formData.add(&quot;password&quot;, &quot;XXXX&quot;);\r\n    \r\n    String response = WebClient.create()\r\n        .post()\r\n        .uri(&quot;URL&quot;)\r\n        .contentType(MediaType.APPLICATION_FORM_URLENCODED)\r\n        .body(BodyInserters.fromFormData(formData))\r\n        .exchange()\r\n        .block()\r\n        .bodyToMono(String.class)\r\n        .block();","title":"how to post body x-www-form-urlencoded using webclient?","body":"<p>We can use BodyInserters.fromFormData for this purpose:</p>\n<pre><code>WebClient client = WebClient.builder()\n            .baseUrl(&quot;SOME-BASE-URL&quot;)\n            .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_FORM_URLENCODED_VALUE)\n            .build();\n    \nreturn client.post()\n            .uri(&quot;SOME-URI)\n            .body(BodyInserters.fromFormData(&quot;username&quot;, &quot;SOME-USERNAME&quot;)\n                    .with(&quot;password&quot;, &quot;SONE-PASSWORD&quot;))\n                    .retrieve()\n                    .bodyToFlux(SomeClass.class)\n                    .onErrorMap(e -&gt; new MyException(&quot;messahe&quot;,e))\n            .blockLast();\n</code></pre>\n<p>In another form:</p>\n<pre><code>MultiValueMap&lt;String, String&gt; formData = new LinkedMultiValueMap&lt;&gt;();\nformData.add(&quot;username&quot;, &quot;XXXX&quot;);\nformData.add(&quot;password&quot;, &quot;XXXX&quot;);\n\nString response = WebClient.create()\n    .post()\n    .uri(&quot;URL&quot;)\n    .contentType(MediaType.APPLICATION_FORM_URLENCODED)\n    .body(BodyInserters.fromFormData(formData))\n    .exchange()\n    .block()\n    .bodyToMono(String.class)\n    .block();\n</code></pre>\n"}],"owner":{"account_id":3368493,"reputation":171,"user_id":4767185,"accept_rate":60,"display_name":"Chloe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6105,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":65103670,"answer_count":1,"score":5,"last_activity_date":1648644676,"creation_date":1606890059,"question_id":65103173,"body_markdown":"    \r\n        MultiValueMap&lt;String, String&gt; body_data = new LinkedMultiValueMap();\r\n        body_data.add(&quot;param1&quot;, {param1});\r\n        ...\r\n        WebClient webClient = WebClient.builder().baseUrl(api_url+request_url)\r\n                .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_FORM_URLENCODED_VALUE)\r\n                .build();\r\n\r\n        String result = webClient.post().contentType(MediaType.APPLICATION_FORM_URLENCODED)\r\n                        .bodyValue(BodyInserters.fromFormData(body_data)).retrieve().bodyToMono(String.class).block();\r\n\r\nand it returns\r\n\r\n    org.springframework.web.reactive.function.client.WebClientRequestException: Content type &#39;application/x-www-form-urlencoded&#39; not supported for bodyType=org.springframework.web.reactive.function.BodyInserters$DefaultFormInserter; nested exception is org.springframework.web.reactive.function.UnsupportedMediaTypeException: Content type &#39;application/x-www-form-urlencoded&#39; not supported for bodyType=org.springframework.web.reactive.function.BodyInserters$DefaultFormInserter\r\n\r\nAny suggestion for this?\r\ncontent-type should be application/x-www-form-urlencoded. ","title":"how to post body x-www-form-urlencoded using webclient?","body":"<pre><code>    MultiValueMap&lt;String, String&gt; body_data = new LinkedMultiValueMap();\n    body_data.add(&quot;param1&quot;, {param1});\n    ...\n    WebClient webClient = WebClient.builder().baseUrl(api_url+request_url)\n            .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_FORM_URLENCODED_VALUE)\n            .build();\n\n    String result = webClient.post().contentType(MediaType.APPLICATION_FORM_URLENCODED)\n                    .bodyValue(BodyInserters.fromFormData(body_data)).retrieve().bodyToMono(String.class).block();\n</code></pre>\n<p>and it returns</p>\n<pre><code>org.springframework.web.reactive.function.client.WebClientRequestException: Content type 'application/x-www-form-urlencoded' not supported for bodyType=org.springframework.web.reactive.function.BodyInserters$DefaultFormInserter; nested exception is org.springframework.web.reactive.function.UnsupportedMediaTypeException: Content type 'application/x-www-form-urlencoded' not supported for bodyType=org.springframework.web.reactive.function.BodyInserters$DefaultFormInserter\n</code></pre>\n<p>Any suggestion for this?\ncontent-type should be application/x-www-form-urlencoded.</p>\n"},{"tags":["java","arrays","loops"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1646164841,"post_id":71313973,"comment_id":126054740,"body_markdown":"In this line: `if (in.nextInt() &gt;49)` - that *consumes* that input. All you&#39;re doing with it is comparing is with 49. After that, the value is *completely lost*. When you call `in.nextInt()` again afterwards, that&#39;s going to take the *next* piece of user input. It&#39;s not going to reuse the value you just checking in the comparison. Hint: you should store the value in a variable *then* compare it, so you can use the value later...","body":"In this line: <code>if (in.nextInt() &gt;49)</code> - that <i>consumes</i> that input. All you&#39;re doing with it is comparing is with 49. After that, the value is <i>completely lost</i>. When you call <code>in.nextInt()</code> again afterwards, that&#39;s going to take the <i>next</i> piece of user input. It&#39;s not going to reuse the value you just checking in the comparison. Hint: you should store the value in a variable <i>then</i> compare it, so you can use the value later..."},{"owner":{"account_id":24420785,"reputation":21,"user_id":18347058,"display_name":"CatB"},"score":0,"creation_date":1646165856,"post_id":71313973,"comment_id":126055071,"body_markdown":"Thank you, thank actually makes sense which is the hardest bit when a beginner.","body":"Thank you, thank actually makes sense which is the hardest bit when a beginner."},{"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"score":0,"creation_date":1646167592,"post_id":71313973,"comment_id":126055631,"body_markdown":"For the first example, you can just add an `if` statement, if the value is greater than 49, then decrease the value of `i`","body":"For the first example, you can just add an <code>if</code> statement, if the value is greater than 49, then decrease the value of <code>i</code>"}],"answers":[{"tags":[],"owner":{"account_id":1134946,"reputation":580,"user_id":1309178,"display_name":"PCJ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646166042,"creation_date":1646166042,"answer_id":71314208,"question_id":71313973,"body_markdown":"when you do in.nextInt() it give you the &quot;next&quot; integer in the input, so you are doing this twice for each loop cycle, once in the if statement and the other in the if or else body. so you need invoke that function only once. something like this:\r\n\r\n    public static void main(String[] args) \r\n    {   \r\n        Scanner in = new Scanner(System.in);    \r\n        int [] inputs = new int [7];\r\n    \r\n        System.out.println(&quot;Enter 6 numbers and a bonus ball&quot;);\r\n        for (int i = 0; i &lt; 7; i++)\r\n        {\r\n            int current_input = in.nextInt()\r\n            if ( current_input &gt; 49)\r\n            {   \r\n                System.out.println(&quot;please enter a number less than 49&quot;);\r\n                inputs [i] = in.nextInt();\r\n            }\r\n            else\r\n                inputs [i] = current_input;\r\n        }   \r\n        System.out.println(&quot;You have entered the numbers:&quot;);    \r\n            for (int i : inputs)\r\n            {\r\n                System.out.println(i);\r\n            }\r\n    }\r\n\r\nI don&#39;t test the code but you have the idea.\r\nhere you have another problem still, and is that when the user types a number over 49, the second time you ask the number to the user, you don&#39;t test again that it&#39;s below 49 so the user can enter any number.\r\n \r\n","title":"Java loop ignoring first input each loop","body":"<p>when you do in.nextInt() it give you the &quot;next&quot; integer in the input, so you are doing this twice for each loop cycle, once in the if statement and the other in the if or else body. so you need invoke that function only once. something like this:</p>\n<pre><code>public static void main(String[] args) \n{   \n    Scanner in = new Scanner(System.in);    \n    int [] inputs = new int [7];\n\n    System.out.println(&quot;Enter 6 numbers and a bonus ball&quot;);\n    for (int i = 0; i &lt; 7; i++)\n    {\n        int current_input = in.nextInt()\n        if ( current_input &gt; 49)\n        {   \n            System.out.println(&quot;please enter a number less than 49&quot;);\n            inputs [i] = in.nextInt();\n        }\n        else\n            inputs [i] = current_input;\n    }   \n    System.out.println(&quot;You have entered the numbers:&quot;);    \n        for (int i : inputs)\n        {\n            System.out.println(i);\n        }\n}\n</code></pre>\n<p>I don't test the code but you have the idea.\nhere you have another problem still, and is that when the user types a number over 49, the second time you ask the number to the user, you don't test again that it's below 49 so the user can enter any number.</p>\n"}],"owner":{"account_id":24420785,"reputation":21,"user_id":18347058,"display_name":"CatB"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648644313,"creation_date":1646164565,"question_id":71313973,"body_markdown":"I am a beginner and have a simple piece of code that works - it is designed to ask a user for seven numbers and store them in an array then print out what they entered\r\n```\r\npublic static void main(String[] args) {\r\n    Scanner in = new Scanner(System.in);\r\n    int[] inputs = new int[7];\r\n\r\n    System.out.println(&quot;Enter 6 numbers and a bonus ball&quot;);\r\n    for (int i = 0; i &lt; 7; i++) {\r\n        inputs[i] = in .nextInt();\r\n    }\r\n\r\n    System.out.println(&quot;You have entered the numbers:&quot;);\r\n    for (int i: inputs) {\r\n        System.out.println(i);\r\n    }\r\n}\r\n```\r\nWhat I want to do is add an error trap to make sure the number is not greater than 49 - I have added the following code and there are no errors and it runs fine but I have to add two numbers for each loop as it only stores the second input - can anyone help tell me why?\r\n```\r\npublic static void main(String[] args) {\r\n    Scanner in = new Scanner(System.in);\r\n    int[] inputs = new int[7];\r\n\r\n    System.out.println(&quot;Enter 6 numbers and a bonus ball&quot;);\r\n    for (int i = 0; i &lt; 7; i++) {\r\n        if ( in .nextInt() &gt; 49) {\r\n            System.out.println(&quot;please enter a number less than 49&quot;);\r\n            inputs[i] = in .nextInt();\r\n        } else\r\n            inputs[i] = in .nextInt();\r\n    }\r\n    System.out.println(&quot;You have entered the numbers:&quot;);\r\n    for (int i: inputs) {\r\n        System.out.println(i);\r\n    }\r\n}\r\n```\r\n\r\n","title":"Java loop ignoring first input each loop","body":"<p>I am a beginner and have a simple piece of code that works - it is designed to ask a user for seven numbers and store them in an array then print out what they entered</p>\n<pre><code>public static void main(String[] args) {\n    Scanner in = new Scanner(System.in);\n    int[] inputs = new int[7];\n\n    System.out.println(&quot;Enter 6 numbers and a bonus ball&quot;);\n    for (int i = 0; i &lt; 7; i++) {\n        inputs[i] = in .nextInt();\n    }\n\n    System.out.println(&quot;You have entered the numbers:&quot;);\n    for (int i: inputs) {\n        System.out.println(i);\n    }\n}\n</code></pre>\n<p>What I want to do is add an error trap to make sure the number is not greater than 49 - I have added the following code and there are no errors and it runs fine but I have to add two numbers for each loop as it only stores the second input - can anyone help tell me why?</p>\n<pre><code>public static void main(String[] args) {\n    Scanner in = new Scanner(System.in);\n    int[] inputs = new int[7];\n\n    System.out.println(&quot;Enter 6 numbers and a bonus ball&quot;);\n    for (int i = 0; i &lt; 7; i++) {\n        if ( in .nextInt() &gt; 49) {\n            System.out.println(&quot;please enter a number less than 49&quot;);\n            inputs[i] = in .nextInt();\n        } else\n            inputs[i] = in .nextInt();\n    }\n    System.out.println(&quot;You have entered the numbers:&quot;);\n    for (int i: inputs) {\n        System.out.println(i);\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium","xpath","css-selectors","webdriverwait"],"comments":[{"owner":{"account_id":5276537,"reputation":5302,"user_id":4213132,"accept_rate":86,"display_name":"Helping Hands"},"score":0,"creation_date":1432896193,"post_id":30527385,"comment_id":49128333,"body_markdown":"This code looks proper , Just need 1 change , replace your upload button id with &quot;whats-new&quot; so it will be like `WebElement w = LaunchApplication.driver.findElement(By.id(&quot;your upload button id&quot;));\n    w.sendKeys(&quot;C:/Users/Public/Pictures/Sample Pictures/Desert.jpg&quot;);`","body":"This code looks proper , Just need 1 change , replace your upload button id with &quot;whats-new&quot; so it will be like <code>WebElement w = LaunchApplication.driver.findElement(By.id(&quot;your upload button id&quot;));     w.sendKeys(&quot;C:&#47;Users&#47;Public&#47;Pictures&#47;Sample Pictures&#47;Desert.jpg&quot;);</code>"},{"owner":{"account_id":3406534,"reputation":415,"user_id":2857455,"accept_rate":48,"display_name":"Ab123"},"score":0,"creation_date":1432896920,"post_id":30527385,"comment_id":49128830,"body_markdown":"Not working..... may be my Display:Inline-block is this the issue","body":"Not working..... may be my Display:Inline-block is this the issue"},{"owner":{"account_id":5276537,"reputation":5302,"user_id":4213132,"accept_rate":86,"display_name":"Helping Hands"},"score":0,"creation_date":1432898174,"post_id":30527385,"comment_id":49129705,"body_markdown":"What error you are getting?","body":"What error you are getting?"},{"owner":{"account_id":3406534,"reputation":415,"user_id":2857455,"accept_rate":48,"display_name":"Ab123"},"score":0,"creation_date":1432899091,"post_id":30527385,"comment_id":49130317,"body_markdown":"I am getting an error from the validation &quot;Please add some content to upload the file&quot;","body":"I am getting an error from the validation &quot;Please add some content to upload the file&quot;"},{"owner":{"account_id":5276537,"reputation":5302,"user_id":4213132,"accept_rate":86,"display_name":"Helping Hands"},"score":0,"creation_date":1432899514,"post_id":30527385,"comment_id":49130631,"body_markdown":"That is not selenium error:)","body":"That is not selenium error:)"},{"owner":{"account_id":3406534,"reputation":415,"user_id":2857455,"accept_rate":48,"display_name":"Ab123"},"score":0,"creation_date":1432900541,"post_id":30527385,"comment_id":49131359,"body_markdown":"yes I know. but why this error is occurred because in no data is going in text box. That means there is something to change in code.","body":"yes I know. but why this error is occurred because in no data is going in text box. That means there is something to change in code."}],"answers":[{"tags":[],"owner":{"account_id":17201057,"reputation":431,"user_id":12452790,"display_name":"Asgar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583951317,"creation_date":1583950624,"answer_id":60642268,"question_id":30527385,"body_markdown":"    drv.find_element_by_id(&quot;IdOfInputTypeFile&quot;).send_keys(os.getcwd()+&quot;/image.png&quot;)","title":"How to insert picture through textbox using selenium webdriver?","body":"<pre><code>drv.find_element_by_id(\"IdOfInputTypeFile\").send_keys(os.getcwd()+\"/image.png\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648644125,"creation_date":1648644125,"answer_id":71677452,"question_id":30527385,"body_markdown":"To insert an image into the text box you need to send the filename along with the absolute path as a _character sequence_ to the element inducing [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the [_elementToBeClickable()_](https://stackoverflow.com/a/63301869/7429447) and you can use either of the following [_locator strategies_](https://stackoverflow.com/a/48056120/7429447):\r\n\r\n- _cssSelector_:\r\n\r\n\t  new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;textarea.bp-suggestions.linkBox#whats-new&quot;))).sendKeys(&quot;/C:/Users/Public/Pictures/Sample Pictures/Desert.jpg&quot;);\r\n\t\r\n- _xpath_:\r\n\r\n\t  new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//textarea[@class=&#39;bp-suggestions linkBox&#39; and @id=&#39;whats-new&#39;]&quot;))).sendKeys(&quot;/C:/Users/Public/Pictures/Sample Pictures/Desert.jpg&quot;);","title":"How to insert picture through textbox using selenium webdriver?","body":"<p>To insert an image into the text box you need to send the filename along with the absolute path as a <em>character sequence</em> to the element inducing <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the <a href=\"https://stackoverflow.com/a/63301869/7429447\"><em>elementToBeClickable()</em></a> and you can use either of the following <a href=\"https://stackoverflow.com/a/48056120/7429447\"><em>locator strategies</em></a>:</p>\n<ul>\n<li><p><em>cssSelector</em>:</p>\n<pre><code>new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;textarea.bp-suggestions.linkBox#whats-new&quot;))).sendKeys(&quot;/C:/Users/Public/Pictures/Sample Pictures/Desert.jpg&quot;);\n</code></pre>\n</li>\n<li><p><em>xpath</em>:</p>\n<pre><code>new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//textarea[@class='bp-suggestions linkBox' and @id='whats-new']&quot;))).sendKeys(&quot;/C:/Users/Public/Pictures/Sample Pictures/Desert.jpg&quot;);\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":3406534,"reputation":415,"user_id":2857455,"accept_rate":48,"display_name":"Ab123"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3449,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648644125,"creation_date":1432895703,"question_id":30527385,"body_markdown":"Code trials:\r\n\r\n    package modules;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.remote.LocalFileDetector;\r\n    import org.openqa.selenium.support.ui.Select;\r\n    \r\n    public class PostUpdating {\r\n    \tpublic void Execute()\r\n    \t{\r\n    \t\tWebElement w = LaunchApplication.driver.findElement(By.id(&quot;whats-new&quot;));\r\n    \t\tw.sendKeys(&quot;/C:/Users/Public/Pictures/Sample Pictures/Desert.jpg&quot;);\r\n    \t\tSelect sel = new Select(LaunchApplication.driver.findElement(By.id(&quot;rtSelectPrivacy&quot;)));\r\n    \t\tsel.selectByVisibleText(&quot;Public&quot;);\r\n    \t\tSelect sel1 = new Select(LaunchApplication.driver.findElement(By.id(&quot;whats-new-post-in&quot;)));\r\n    \t\tsel1.selectByVisibleText(&quot;My Profile&quot;);\r\n    \t\tLaunchApplication.driver.findElement(By.id(&quot;aw-whats-new-submit&quot;)).click();\r\n    \t}\r\n    }\r\n\r\n**The html**\r\n\r\n    &lt;div id=&quot;whats-new-textarea&quot; style=&quot;position: relative;&quot;&gt;\r\n    &lt;textarea id=&quot;whats-new&quot; class=&quot;bp-suggestions linkBox&quot; rows=&quot;10&quot; cols=&quot;50&quot; name=&quot;whats-new&quot; style=&quot;display: inline-block; height: 50px;&quot;&gt;&lt;/textarea&gt;\r\n    &lt;div id=&quot;rtm-drop-files-title&quot;&gt;Drop files here&lt;/div&gt;\r\n    &lt;div class=&quot;rtmp-url-scrapper-container&quot;&gt;\r\n    &lt;img class=&quot;rtmp-url-scrapper-loading&quot; src=&quot;http://demo.rtcamp.com/rtmedia/wp-content/plugins/buddypress-media/app/assets/admin/img/boxspinner.gif&quot;&gt;\r\n    &lt;table id=&quot;rtmp-url-scrapper&quot; style=&quot;display: none;&quot;&gt;\r\n    &lt;tbody&gt;\r\n       &lt;tr&gt;\r\n          &lt;td&gt;\r\n             &lt;table id=&quot;rtmp-url-scrapper-img-holder&quot;&gt;\r\n                &lt;tbody&gt;\r\n                   &lt;tr&gt;\r\n                      &lt;td style=&quot;height:100px; overflow:hidden;&quot; colspan=&quot;2&quot;&gt;\r\n                         &lt;div id=&quot;rtmp-url-scrapper-img&quot;&gt;\r\n                            &lt;img src=&quot;&quot;&gt;\r\n                         &lt;/div&gt;\r\n                      &lt;/td&gt;\r\n                   &lt;/tr&gt;\r\n                   &lt;tr&gt;\r\n                      &lt;td id=&quot;&quot; style=&quot;width:50%; text-align:right;&quot;&gt;\r\n                         &lt;input id=&quot;rtmp-url-prevPicButton&quot; type=&quot;button&quot; value=&quot;&lt;&quot;&gt;\r\n                      &lt;/td&gt;\r\n                      &lt;td id=&quot;&quot; style=&quot;width:50%; text-align:left;&quot;&gt;\r\n                         &lt;input id=&quot;rtmp-url-nextPicButton&quot; type=&quot;button&quot; value=&quot;&gt;&quot;&gt;\r\n                      &lt;/td&gt;\r\n                   &lt;/tr&gt;\r\n                   &lt;tr&gt;\r\n                      &lt;td colspan=&quot;2&quot;&gt;\r\n                         &lt;div id=&quot;rtmp-url-scrapper-img-count&quot;&gt;&lt;/div&gt;\r\n                      &lt;/td&gt;\r\n                   &lt;/tr&gt;\r\n                &lt;/tbody&gt;\r\n             &lt;/table&gt;\r\n          &lt;/td&gt;\r\n          &lt;td&gt;   \r\n\r\nI want to insert a image into my text box  but when I use Sendkeys and gave the path from my computer but instead of sending the image it is sending the path only into my text box.Also there is a button in my webpage for uploading the picture but when I clicked on button windows dialoge box open. So selenium can&#39;t deal with Windows GUI.So Any help how to do this? \r\n\r\n\r\n","title":"How to insert picture through textbox using selenium webdriver?","body":"<p>Code trials:</p>\n<pre><code>package modules;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.remote.LocalFileDetector;\nimport org.openqa.selenium.support.ui.Select;\n\npublic class PostUpdating {\n    public void Execute()\n    {\n        WebElement w = LaunchApplication.driver.findElement(By.id(&quot;whats-new&quot;));\n        w.sendKeys(&quot;/C:/Users/Public/Pictures/Sample Pictures/Desert.jpg&quot;);\n        Select sel = new Select(LaunchApplication.driver.findElement(By.id(&quot;rtSelectPrivacy&quot;)));\n        sel.selectByVisibleText(&quot;Public&quot;);\n        Select sel1 = new Select(LaunchApplication.driver.findElement(By.id(&quot;whats-new-post-in&quot;)));\n        sel1.selectByVisibleText(&quot;My Profile&quot;);\n        LaunchApplication.driver.findElement(By.id(&quot;aw-whats-new-submit&quot;)).click();\n    }\n}\n</code></pre>\n<p><strong>The html</strong></p>\n<pre><code>&lt;div id=&quot;whats-new-textarea&quot; style=&quot;position: relative;&quot;&gt;\n&lt;textarea id=&quot;whats-new&quot; class=&quot;bp-suggestions linkBox&quot; rows=&quot;10&quot; cols=&quot;50&quot; name=&quot;whats-new&quot; style=&quot;display: inline-block; height: 50px;&quot;&gt;&lt;/textarea&gt;\n&lt;div id=&quot;rtm-drop-files-title&quot;&gt;Drop files here&lt;/div&gt;\n&lt;div class=&quot;rtmp-url-scrapper-container&quot;&gt;\n&lt;img class=&quot;rtmp-url-scrapper-loading&quot; src=&quot;http://demo.rtcamp.com/rtmedia/wp-content/plugins/buddypress-media/app/assets/admin/img/boxspinner.gif&quot;&gt;\n&lt;table id=&quot;rtmp-url-scrapper&quot; style=&quot;display: none;&quot;&gt;\n&lt;tbody&gt;\n   &lt;tr&gt;\n      &lt;td&gt;\n         &lt;table id=&quot;rtmp-url-scrapper-img-holder&quot;&gt;\n            &lt;tbody&gt;\n               &lt;tr&gt;\n                  &lt;td style=&quot;height:100px; overflow:hidden;&quot; colspan=&quot;2&quot;&gt;\n                     &lt;div id=&quot;rtmp-url-scrapper-img&quot;&gt;\n                        &lt;img src=&quot;&quot;&gt;\n                     &lt;/div&gt;\n                  &lt;/td&gt;\n               &lt;/tr&gt;\n               &lt;tr&gt;\n                  &lt;td id=&quot;&quot; style=&quot;width:50%; text-align:right;&quot;&gt;\n                     &lt;input id=&quot;rtmp-url-prevPicButton&quot; type=&quot;button&quot; value=&quot;&lt;&quot;&gt;\n                  &lt;/td&gt;\n                  &lt;td id=&quot;&quot; style=&quot;width:50%; text-align:left;&quot;&gt;\n                     &lt;input id=&quot;rtmp-url-nextPicButton&quot; type=&quot;button&quot; value=&quot;&gt;&quot;&gt;\n                  &lt;/td&gt;\n               &lt;/tr&gt;\n               &lt;tr&gt;\n                  &lt;td colspan=&quot;2&quot;&gt;\n                     &lt;div id=&quot;rtmp-url-scrapper-img-count&quot;&gt;&lt;/div&gt;\n                  &lt;/td&gt;\n               &lt;/tr&gt;\n            &lt;/tbody&gt;\n         &lt;/table&gt;\n      &lt;/td&gt;\n      &lt;td&gt;   \n</code></pre>\n<p>I want to insert a image into my text box  but when I use Sendkeys and gave the path from my computer but instead of sending the image it is sending the path only into my text box.Also there is a button in my webpage for uploading the picture but when I clicked on button windows dialoge box open. So selenium can't deal with Windows GUI.So Any help how to do this?</p>\n"},{"tags":["java","android","xml","menu","searchview"],"comments":[{"owner":{"account_id":4129207,"reputation":75209,"user_id":3395198,"accept_rate":54,"display_name":"IntelliJ Amiya"},"score":0,"creation_date":1593084328,"post_id":62574158,"comment_id":110658651,"body_markdown":"did you add `&lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.SEARCH&quot; /&gt;\n            &lt;/intent-filter&gt;` ?","body":"did you add <code>&lt;intent-filter&gt;                 &lt;action android:name=&quot;android.intent.action.SEARCH&quot; &#47;&gt;             &lt;&#47;intent-filter&gt;</code> ?"},{"owner":{"account_id":10663122,"reputation":317,"user_id":7850506,"display_name":"mr.volatile"},"score":0,"creation_date":1593084595,"post_id":62574158,"comment_id":110658791,"body_markdown":"yeah   `&lt;activity android:name=&quot;.product.ProductListActivity&quot; &gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.SEARCH&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;`","body":"yeah   <code>&lt;activity android:name=&quot;.product.ProductListActivity&quot; &gt;             &lt;intent-filter&gt;                 &lt;action android:name=&quot;android.intent.action.SEARCH&quot; &#47;&gt;             &lt;&#47;intent-filter&gt;         &lt;&#47;activity&gt;</code>"},{"owner":{"account_id":4129207,"reputation":75209,"user_id":3395198,"accept_rate":54,"display_name":"IntelliJ Amiya"},"score":0,"creation_date":1593084901,"post_id":62574158,"comment_id":110658936,"body_markdown":"check my code please","body":"check my code please"}],"answers":[{"tags":[],"owner":{"account_id":4129207,"reputation":75209,"user_id":3395198,"accept_rate":54,"display_name":"IntelliJ Amiya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593085532,"creation_date":1593084849,"answer_id":62574366,"question_id":62574158,"body_markdown":"    @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            getMenuInflater().inflate(R.menu.cart_search_menu, menu);\r\n    \r\n            SearchManager searchManager = (SearchManager) getSystemService(Context.SEARCH_SERVICE);\r\n            SearchView searchView = (SearchView) menu.findItem(R.id.menu_search).getActionView();\r\n            searchView.setSearchableInfo(searchManager.getSearchableInfo(getComponentName()));\r\n            searchView.setMaxWidth(Integer.MAX_VALUE);\r\n            \r\n            SearchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n                @Override\r\n                public boolean onQueryTextSubmit(String query) {\r\n                    \r\n                    // your code\r\n                    \r\n                    return false;\r\n                }\r\n    \r\n                @Override\r\n                public boolean onQueryTextChange(String query) {\r\n                    // your code\r\n                    return false;\r\n                }\r\n            });\r\n            return true;\r\n        }","title":"Android androidx.SearchView is not working","body":"<pre><code>@Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.cart_search_menu, menu);\n\n        SearchManager searchManager = (SearchManager) getSystemService(Context.SEARCH_SERVICE);\n        SearchView searchView = (SearchView) menu.findItem(R.id.menu_search).getActionView();\n        searchView.setSearchableInfo(searchManager.getSearchableInfo(getComponentName()));\n        searchView.setMaxWidth(Integer.MAX_VALUE);\n        \n        SearchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n            @Override\n            public boolean onQueryTextSubmit(String query) {\n                \n                // your code\n                \n                return false;\n            }\n\n            @Override\n            public boolean onQueryTextChange(String query) {\n                // your code\n                return false;\n            }\n        });\n        return true;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4688399,"reputation":11,"user_id":3795209,"display_name":"user3795209"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593173985,"creation_date":1593173658,"answer_id":62594521,"question_id":62574158,"body_markdown":"[Check this screenshot][1]try this\r\n\r\nin menu file:\r\n\r\n    &lt;item\r\n        android:id=&quot;@+id/actionTenantSearch&quot;\r\n        android:icon=&quot;@drawable/ic_search&quot;\r\n        android:title=&quot;@string/search&quot;\r\n        app:showAsAction=&quot;ifRoom|collapseActionView&quot;\r\n        app:actionViewClass=&quot;androidx.appcompat.widget.SearchView&quot;\r\n        /&gt;\r\n\r\nIn kotlin file:\r\n\r\n      private var searchItem : MenuItem? = null\r\n    override fun onCreateOptionsMenu(menu: Menu, inflater: MenuInflater) {\r\n        inflater.inflate(R.menu.search_tenant_menu, menu)\r\n        searchItem = menu.findItem(R.id.actionTenantSearch)\r\n\r\n        val searchView = searchItem?.actionView as SearchView\r\n        searchView.setOnQueryTextListener(object :\r\n            SearchView.OnQueryTextListener {\r\n            override fun onQueryTextSubmit(s: String): Boolean {\r\n                CommonUtils.showToast(requireContext(), s)\r\n                searchView.clearFocus()\r\n                return true\r\n            }\r\n\r\n            override fun onQueryTextChange(s: String): Boolean {\r\n\r\n                return true\r\n            }\r\n        })\r\n        super.onCreateOptionsMenu(menu, inflater)\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CjYjA.jpg","title":"Android androidx.SearchView is not working","body":"<p><a href=\"https://i.stack.imgur.com/CjYjA.jpg\" rel=\"nofollow noreferrer\">Check this screenshot</a>try this</p>\n<p>in menu file:</p>\n<pre><code>&lt;item\n    android:id=&quot;@+id/actionTenantSearch&quot;\n    android:icon=&quot;@drawable/ic_search&quot;\n    android:title=&quot;@string/search&quot;\n    app:showAsAction=&quot;ifRoom|collapseActionView&quot;\n    app:actionViewClass=&quot;androidx.appcompat.widget.SearchView&quot;\n    /&gt;\n</code></pre>\n<p>In kotlin file:</p>\n<pre><code>  private var searchItem : MenuItem? = null\noverride fun onCreateOptionsMenu(menu: Menu, inflater: MenuInflater) {\n    inflater.inflate(R.menu.search_tenant_menu, menu)\n    searchItem = menu.findItem(R.id.actionTenantSearch)\n\n    val searchView = searchItem?.actionView as SearchView\n    searchView.setOnQueryTextListener(object :\n        SearchView.OnQueryTextListener {\n        override fun onQueryTextSubmit(s: String): Boolean {\n            CommonUtils.showToast(requireContext(), s)\n            searchView.clearFocus()\n            return true\n        }\n\n        override fun onQueryTextChange(s: String): Boolean {\n\n            return true\n        }\n    })\n    super.onCreateOptionsMenu(menu, inflater)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8944087,"reputation":99,"user_id":6672154,"accept_rate":50,"display_name":"Dipak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593201000,"creation_date":1593201000,"answer_id":62601907,"question_id":62574158,"body_markdown":"@vaibhav have you implemented filterable class to your listview or recyclerview. After that call that filterable method in on your search query. You will get appropriate reault\r\nLike this \r\n\r\npublic class Adaptername extends RecyclerView.Adapter&lt;ContactAdapter.MyViewHolder&gt; implements Filterable {\r\n\r\n}\r\n\r\n\r\nCustomFilter filter;\r\n\r\n    @Override\r\n    public Filter getFilter() {\r\n        if (filter == null) {\r\n            filter = new CustomFilter();\r\n        }\r\n        return filter;\r\n    }\r\n\r\n    class CustomFilter extends Filter {\r\n        @Override\r\n        protected FilterResults performFiltering(CharSequence constraint) {\r\n            // TODO Auto-generated method stub\r\n            FilterResults results = new FilterResults();\r\n            if (constraint != null &amp;&amp; constraint.length() &gt; 0) {\r\n                //CONSTARINT TO UPPER\r\n                constraint = constraint.toString().toUpperCase();\r\n                ArrayList&lt;AllInOnetItem&gt; filters = new ArrayList&lt;AllInOnetItem&gt;();\r\n                //get specific items\r\n                for (int i = 0; i &lt; filterList.size(); i++) {\r\n                    if (filterList.get(i).getName().toUpperCase().contains(constraint)) {\r\n                        AllInOnetItem p = new AllInOnetItem(filterList.get(i).getName(), filterList.get(i).getNumber(),filterList.get(i).getEmail());\r\n                        filters.add(p);\r\n                    }\r\n                }\r\n                results.count = filters.size();\r\n                results.values = filters;\r\n            } else {\r\n                results.count = filterList.size();\r\n                results.values = filterList;\r\n            }\r\n            return results;\r\n        }\r\n\r\n        @Override\r\n        protected void publishResults(CharSequence constraint, FilterResults results) {\r\n            // TODO Auto-generated method stub\r\n            allInOnetItems = (ArrayList&lt;AllInOnetItem&gt;) results.values;\r\n            notifyDataSetChanged();\r\n        }\r\n    }\r\n\r\n\r\n","title":"Android androidx.SearchView is not working","body":"<p>@vaibhav have you implemented filterable class to your listview or recyclerview. After that call that filterable method in on your search query. You will get appropriate reault\nLike this</p>\n<p>public class Adaptername extends RecyclerView.Adapter&lt;ContactAdapter.MyViewHolder&gt; implements Filterable {</p>\n<p>}</p>\n<p>CustomFilter filter;</p>\n<pre><code>@Override\npublic Filter getFilter() {\n    if (filter == null) {\n        filter = new CustomFilter();\n    }\n    return filter;\n}\n\nclass CustomFilter extends Filter {\n    @Override\n    protected FilterResults performFiltering(CharSequence constraint) {\n        // TODO Auto-generated method stub\n        FilterResults results = new FilterResults();\n        if (constraint != null &amp;&amp; constraint.length() &gt; 0) {\n            //CONSTARINT TO UPPER\n            constraint = constraint.toString().toUpperCase();\n            ArrayList&lt;AllInOnetItem&gt; filters = new ArrayList&lt;AllInOnetItem&gt;();\n            //get specific items\n            for (int i = 0; i &lt; filterList.size(); i++) {\n                if (filterList.get(i).getName().toUpperCase().contains(constraint)) {\n                    AllInOnetItem p = new AllInOnetItem(filterList.get(i).getName(), filterList.get(i).getNumber(),filterList.get(i).getEmail());\n                    filters.add(p);\n                }\n            }\n            results.count = filters.size();\n            results.values = filters;\n        } else {\n            results.count = filterList.size();\n            results.values = filterList;\n        }\n        return results;\n    }\n\n    @Override\n    protected void publishResults(CharSequence constraint, FilterResults results) {\n        // TODO Auto-generated method stub\n        allInOnetItems = (ArrayList&lt;AllInOnetItem&gt;) results.values;\n        notifyDataSetChanged();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10663122,"reputation":317,"user_id":7850506,"display_name":"mr.volatile"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1593407457,"creation_date":1593407457,"answer_id":62631601,"question_id":62574158,"body_markdown":"I changed the sequence of code lines after that it worked fine.\r\n\r\n**Before:**\r\n\r\n    super.onCreate(savedInstanceState);\r\n    Toolbar toolbar = findViewById(R.id.category1_toolbar);\r\n    setSupportActionBar(toolbar);\r\n    setContentView(R.layout.activity_product_list);\r\n**After:**        \r\n  \r\n\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_product_list);\r\n    Toolbar toolbar = findViewById(R.id.category1_toolbar);\r\n    setSupportActionBar(toolbar);\r\n\r\n","title":"Android androidx.SearchView is not working","body":"<p>I changed the sequence of code lines after that it worked fine.</p>\n<p><strong>Before:</strong></p>\n<pre><code>super.onCreate(savedInstanceState);\nToolbar toolbar = findViewById(R.id.category1_toolbar);\nsetSupportActionBar(toolbar);\nsetContentView(R.layout.activity_product_list);\n</code></pre>\n<p><strong>After:</strong></p>\n<pre><code>super.onCreate(savedInstanceState);\nsetContentView(R.layout.activity_product_list);\nToolbar toolbar = findViewById(R.id.category1_toolbar);\nsetSupportActionBar(toolbar);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24745717,"reputation":1,"user_id":18631924,"display_name":"Sardor"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1648643805,"creation_date":1648643805,"answer_id":71677363,"question_id":62574158,"body_markdown":"\r\n\r\n    &lt;com.google.android.material.appbar.AppBarLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;?attr/actionBarSize&quot;\r\n        style=&quot;@style/Widget.MaterialComponents.AppBarLayout.PrimarySurface&quot;\r\n        android:fitsSystemWindows=&quot;true&quot;&gt;\r\n\r\n\r\n        &lt;com.google.android.material.appbar.MaterialToolbar\r\n            android:id=&quot;@+id/topAppBar&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;?attr/actionBarSize&quot;\r\n            app:title=&quot;@string/app_name&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.Toolbar.PrimarySurface&quot;\r\n            android:elevation=&quot;0dp&quot;\r\n            app:navigationIcon=&quot;@drawable/ic_baseline_menu_24&quot;\r\n            app:menu=&quot;@menu/menu2&quot;\r\n           &gt;\r\n            &lt;androidx.appcompat.widget.SearchView\r\n                android:id=&quot;@+id/mySearch&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;end&quot;\r\n                android:clipToOutline=&quot;false&quot;\r\n                app:queryHint=&quot;Search&quot;/&gt;\r\n        &lt;/com.google.android.material.appbar.MaterialToolbar&gt;\r\n\r\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n\r\n        &lt;androidx.fragment.app.FragmentContainerView\r\n            android:id=&quot;@+id/container&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_marginTop=&quot;?attr/actionBarSize&quot;\r\n            app:layout_anchor=&quot;@+id/container&quot;\r\n            app:layout_anchorGravity=&quot;center&quot; /&gt;\r\n","title":"Android androidx.SearchView is not working","body":"<pre><code>&lt;com.google.android.material.appbar.AppBarLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;?attr/actionBarSize&quot;\n    style=&quot;@style/Widget.MaterialComponents.AppBarLayout.PrimarySurface&quot;\n    android:fitsSystemWindows=&quot;true&quot;&gt;\n\n\n    &lt;com.google.android.material.appbar.MaterialToolbar\n        android:id=&quot;@+id/topAppBar&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;?attr/actionBarSize&quot;\n        app:title=&quot;@string/app_name&quot;\n        style=&quot;@style/Widget.MaterialComponents.Toolbar.PrimarySurface&quot;\n        android:elevation=&quot;0dp&quot;\n        app:navigationIcon=&quot;@drawable/ic_baseline_menu_24&quot;\n        app:menu=&quot;@menu/menu2&quot;\n       &gt;\n        &lt;androidx.appcompat.widget.SearchView\n            android:id=&quot;@+id/mySearch&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_gravity=&quot;end&quot;\n            android:clipToOutline=&quot;false&quot;\n            app:queryHint=&quot;Search&quot;/&gt;\n    &lt;/com.google.android.material.appbar.MaterialToolbar&gt;\n\n&lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n    &lt;androidx.fragment.app.FragmentContainerView\n        android:id=&quot;@+id/container&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_marginTop=&quot;?attr/actionBarSize&quot;\n        app:layout_anchor=&quot;@+id/container&quot;\n        app:layout_anchorGravity=&quot;center&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24745717,"reputation":1,"user_id":18631924,"display_name":"Sardor"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1648644089,"creation_date":1648644089,"answer_id":71677438,"question_id":62574158,"body_markdown":"///MainActivity \r\n\r\nbinding.mySearch.setOnQueryTextListener(object : SearchView.OnQueryTextListener{\r\n                override fun onQueryTextSubmit(query: String?): Boolean {\r\n                    return false\r\n                }\r\n\r\n                override fun onQueryTextChange(newText: String?): Boolean {\r\n                    Toast.makeText(this@MainActivity, newText, Toast.LENGTH_SHORT).show()\r\n                    return false\r\n                }\r\n            })","title":"Android androidx.SearchView is not working","body":"<p>///MainActivity</p>\n<p>binding.mySearch.setOnQueryTextListener(object : SearchView.OnQueryTextListener{\noverride fun onQueryTextSubmit(query: String?): Boolean {\nreturn false\n}</p>\n<pre><code>            override fun onQueryTextChange(newText: String?): Boolean {\n                Toast.makeText(this@MainActivity, newText, Toast.LENGTH_SHORT).show()\n                return false\n            }\n        })\n</code></pre>\n"}],"owner":{"account_id":10663122,"reputation":317,"user_id":7850506,"display_name":"mr.volatile"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5858,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62631601,"answer_count":6,"score":0,"last_activity_date":1648644089,"creation_date":1593084119,"question_id":62574158,"body_markdown":"I have implemented SearchView in MaterialToolBar in my project. Everything working fine except for the final step. When I type anything in the search bar and click on the keyboard find button, it doesn&#39;t show anything. Please help.\r\n\r\nVideo of my problem\r\nhttps://drive.google.com/file/d/1GpE16D3drLGYp0ZetHgNlT8s7qZSFuWk/view?usp=drivesdk\r\n\r\nMenu.xml\r\n\r\n        &lt;item\r\n        android:id=&quot;@+id/menu_search&quot;\r\n        android:title=&quot;@string/search&quot;\r\n        android:icon=&quot;@drawable/ic_search&quot;\r\n        app:showAsAction=&quot;always|collapseActionView&quot;\r\n        app:actionViewClass=&quot;androidx.appcompat.widget.SearchView&quot; /&gt;\r\n\r\nactivity.xml\r\n\r\n    &lt;com.google.android.material.appbar.MaterialToolbar\r\n        android:id=&quot;@+id/category1_toolbar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:paddingEnd=&quot;10dp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        android:background=&quot;@color/dark_blue&quot;\r\n        app:menu=&quot;@menu/cart_share&quot;\r\n        tools:ignore=&quot;RtlSymmetry&quot;&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/img_back_all_category&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:contentDescription=&quot;TODO&quot;\r\n            android:src=&quot;@drawable/ic_keyboard_arrow_left&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/tv_all_categories&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:text=&quot;@string/product_name&quot;\r\n            android:fontFamily=&quot;@font/montserrat&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:layout_marginStart=&quot;25sp&quot;/&gt;\r\n    &lt;/com.google.android.material.appbar.MaterialToolbar&gt;\r\n\r\n\r\njava code\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        getMenuInflater().inflate(R.menu.cart_search_menu, menu);\r\n        MenuItem menuItem = menu.findItem(R.id.menu_search);\r\n        SearchView searchView = (SearchView) menuItem.getActionView();\r\n        searchView.setQueryHint(&quot;Type here to search&quot;);\r\n        searchView.setMaxWidth(android.R.attr.width);\r\n\r\n        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n            @Override\r\n            public boolean onQueryTextSubmit(String query) {\r\n                //getSearchResults(query); Also tried\r\n                getSearchResults(searchView.getQuery().toString());\r\n                if( ! searchView.isIconified()) {\r\n                    searchView.setIconified(true);\r\n                }\r\n                menuItem.collapseActionView();\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            public boolean onQueryTextChange(String newText) {\r\n                return false;\r\n            }\r\n        });\r\n\r\n        return super.onCreateOptionsMenu(menu);\r\n    }\r\n","title":"Android androidx.SearchView is not working","body":"<p>I have implemented SearchView in MaterialToolBar in my project. Everything working fine except for the final step. When I type anything in the search bar and click on the keyboard find button, it doesn't show anything. Please help.</p>\n<p>Video of my problem\n<a href=\"https://drive.google.com/file/d/1GpE16D3drLGYp0ZetHgNlT8s7qZSFuWk/view?usp=drivesdk\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1GpE16D3drLGYp0ZetHgNlT8s7qZSFuWk/view?usp=drivesdk</a></p>\n<p>Menu.xml</p>\n<pre><code>    &lt;item\n    android:id=&quot;@+id/menu_search&quot;\n    android:title=&quot;@string/search&quot;\n    android:icon=&quot;@drawable/ic_search&quot;\n    app:showAsAction=&quot;always|collapseActionView&quot;\n    app:actionViewClass=&quot;androidx.appcompat.widget.SearchView&quot; /&gt;\n</code></pre>\n<p>activity.xml</p>\n<pre><code>&lt;com.google.android.material.appbar.MaterialToolbar\n    android:id=&quot;@+id/category1_toolbar&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:paddingEnd=&quot;10dp&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    android:background=&quot;@color/dark_blue&quot;\n    app:menu=&quot;@menu/cart_share&quot;\n    tools:ignore=&quot;RtlSymmetry&quot;&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/img_back_all_category&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:contentDescription=&quot;TODO&quot;\n        android:src=&quot;@drawable/ic_keyboard_arrow_left&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/tv_all_categories&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:text=&quot;@string/product_name&quot;\n        android:fontFamily=&quot;@font/montserrat&quot;\n        android:textStyle=&quot;bold&quot;\n        android:textSize=&quot;20sp&quot;\n        android:textColor=&quot;@color/white&quot;\n        android:layout_marginStart=&quot;25sp&quot;/&gt;\n&lt;/com.google.android.material.appbar.MaterialToolbar&gt;\n</code></pre>\n<p>java code</p>\n<pre><code>@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    getMenuInflater().inflate(R.menu.cart_search_menu, menu);\n    MenuItem menuItem = menu.findItem(R.id.menu_search);\n    SearchView searchView = (SearchView) menuItem.getActionView();\n    searchView.setQueryHint(&quot;Type here to search&quot;);\n    searchView.setMaxWidth(android.R.attr.width);\n\n    searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n        @Override\n        public boolean onQueryTextSubmit(String query) {\n            //getSearchResults(query); Also tried\n            getSearchResults(searchView.getQuery().toString());\n            if( ! searchView.isIconified()) {\n                searchView.setIconified(true);\n            }\n            menuItem.collapseActionView();\n            return false;\n        }\n\n        @Override\n        public boolean onQueryTextChange(String newText) {\n            return false;\n        }\n    });\n\n    return super.onCreateOptionsMenu(menu);\n}\n</code></pre>\n"},{"tags":["java","list","jpa"],"comments":[{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1648636550,"post_id":71675438,"comment_id":126673199,"body_markdown":"what&#39;s exactly your problem? Doing for loop and summing up the amount? Or something else? It isn&#39;t clear from your description","body":"what&#39;s exactly your problem? Doing for loop and summing up the amount? Or something else? It isn&#39;t clear from your description"}],"answers":[{"tags":[],"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648636666,"creation_date":1648636666,"answer_id":71675675,"question_id":71675438,"body_markdown":"Since you are looking for total amounts you should perform the summation within the JPL query, to avoid querying the whole `Transaction` entity. You can do this with `SUM()` operator, as suggested [in this answer][1]:\r\n\r\n```sql\r\nSELECT SUM(t.amount) \r\nFROM Transaction t\r\nWHERE t.txnType =&#39;CREDIT&#39;\r\nAND t.wallet.id =:id\r\n```\r\n\r\nIf you are attempting to calculate the account balance you might want to change your database model to store this value somewhere e.g. `Wallter.balance` field. Calculating this every single time balance is displayed feels wasteful.\r\n\r\n  [1]: https://stackoverflow.com/a/51637609/1602555","title":"How do i perform arithmetic operation on elements of list in Java?","body":"<p>Since you are looking for total amounts you should perform the summation within the JPL query, to avoid querying the whole <code>Transaction</code> entity. You can do this with <code>SUM()</code> operator, as suggested <a href=\"https://stackoverflow.com/a/51637609/1602555\">in this answer</a>:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT SUM(t.amount) \nFROM Transaction t\nWHERE t.txnType ='CREDIT'\nAND t.wallet.id =:id\n</code></pre>\n<p>If you are attempting to calculate the account balance you might want to change your database model to store this value somewhere e.g. <code>Wallter.balance</code> field. Calculating this every single time balance is displayed feels wasteful.</p>\n"},{"tags":[],"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648637908,"creation_date":1648637598,"answer_id":71675910,"question_id":71675438,"body_markdown":"As others have mentioned you can compute the sum within your query already but if you want to sum it up in a `List`, you can do that in a functional way by using `map` and `reduce()` and [method references](https://www.baeldung.com/java-method-references#:~:text=Method%20references%20are%20a%20special,Instance%20methods%20of%20particular%20objects).\r\n```java\r\nList&lt;Transaction&gt; credit = Arrays.asList(new Transaction(100d), new Transaction(100d), new Transaction(100d), new Transaction(100d));\r\nList&lt;Transaction&gt; debit = Arrays.asList(new Transaction(100d), new Transaction(250d));\r\n\r\n// sum up all amount for credit and debit\r\nvar totalCredit = credit.stream().map(Transaction::getAmount).reduce(0d, Double::sum);\r\nvar totalDebit = debit.stream().map(Transaction::getAmount).reduce(0d, Double::sum);\r\n\r\n// print result\r\nSystem.out.println(totalCredit - totalDebit);\r\n```\r\n\r\nExpected output:\r\n```\r\n50.0\r\n```\r\n\r\n`Transaction.java`\r\n```java\r\npublic class Transaction {\r\n    private double amount;\r\n\r\n    public Transaction(double amount) {\r\n        this.amount = amount;\r\n    }\r\n\r\n    public double getAmount() {\r\n        return amount;\r\n    }\r\n\r\n    public void setAmount(double amount) {\r\n        this.amount = amount;\r\n    }\r\n}\r\n```\r\nIf your `Transaction` uses another datatype than `double`, note that `sum` does also exist for those other datatype e.g. `Integer:sum`.","title":"How do i perform arithmetic operation on elements of list in Java?","body":"<p>As others have mentioned you can compute the sum within your query already but if you want to sum it up in a <code>List</code>, you can do that in a functional way by using <code>map</code> and <code>reduce()</code> and <a href=\"https://www.baeldung.com/java-method-references#:%7E:text=Method%20references%20are%20a%20special,Instance%20methods%20of%20particular%20objects\" rel=\"nofollow noreferrer\">method references</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Transaction&gt; credit = Arrays.asList(new Transaction(100d), new Transaction(100d), new Transaction(100d), new Transaction(100d));\nList&lt;Transaction&gt; debit = Arrays.asList(new Transaction(100d), new Transaction(250d));\n\n// sum up all amount for credit and debit\nvar totalCredit = credit.stream().map(Transaction::getAmount).reduce(0d, Double::sum);\nvar totalDebit = debit.stream().map(Transaction::getAmount).reduce(0d, Double::sum);\n\n// print result\nSystem.out.println(totalCredit - totalDebit);\n</code></pre>\n<p>Expected output:</p>\n<pre><code>50.0\n</code></pre>\n<p><code>Transaction.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Transaction {\n    private double amount;\n\n    public Transaction(double amount) {\n        this.amount = amount;\n    }\n\n    public double getAmount() {\n        return amount;\n    }\n\n    public void setAmount(double amount) {\n        this.amount = amount;\n    }\n}\n</code></pre>\n<p>If your <code>Transaction</code> uses another datatype than <code>double</code>, note that <code>sum</code> does also exist for those other datatype e.g. <code>Integer:sum</code>.</p>\n"}],"owner":{"account_id":10659657,"reputation":23,"user_id":11802346,"display_name":"pankaj gulia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648643971,"creation_date":1648635663,"question_id":71675438,"body_markdown":"An entity named Transaction have two type of transactions &#39;*credit*&#39; and &#39;*debit*&#39;. Objects of entity are *date* , *id*(used sequence generator), **amount** and a *foreign key*.\r\n\r\nWhat I have done is that I crated two Typedqueries to select transaction by transaction types(credit or debit) and store the Typedqueries result in two List.\r\n\r\nI want to return the difference of total amount from credit transactions to total amount from debit type transactions(**summation of all credit transaction - summation of all debit transactions**). It will give me balance.\r\n\r\nMy code:\r\n\r\n    public Result getBalanceByTransaction(Http.Request request,String userName)\r\n        {\r\n            Account a; Wallet w;\r\n            a = jpaApi.withTransaction(entityManager -&gt; {\r\n                return entityManager.createNamedQuery(&quot;detailsByName&quot;,Account.class).setParameter(&quot;name&quot;,userName).getSingleResult();\r\n            }); long account_id = a.getId();\r\n            w = jpaApi.withTransaction(entityManager -&gt; {\r\n               return entityManager.createNamedQuery(&quot;walletById&quot;,Wallet.class).setParameter(&quot;id&quot;,account_id).getSingleResult();\r\n            });\r\n    \r\n            String queryForCredit =&quot;select transaction.amount from Transaction transaction where transaction.txnType =&#39;CREDIT&#39; and transaction.wallet.id =:id&quot;;\r\n            String queryForDebit = &quot;select transaction.amount from Transaction transaction where transaction.txnType =&#39;DEBIT&#39; and transaction.wallet.id =:id&quot;;\r\n            TypedQuery &lt;Transaction&gt; allCredit = jpaApi.withTransaction(entityManager -&gt; {\r\n               return entityManager.createQuery(queryForCredit,Transaction.class);\r\n            });\r\n            List &lt;Transaction&gt; allCreditTxn = allCredit.getResultList();\r\n            TypedQuery &lt;Transaction&gt; allDebit = jpaApi.withTransaction(entityManager -&gt; {\r\n               return entityManager.createQuery(queryForDebit,Transaction.class);\r\n            });\r\n            List &lt;Transaction&gt; allDebitTxn = allDebit.getResultList();\r\n    \r\n    \r\n        }\r\n\r\nHow do i perform arithmetic operation on **&#39;amount&#39;** object of multiple entities stored in List.","title":"How do i perform arithmetic operation on elements of list in Java?","body":"<p>An entity named Transaction have two type of transactions '<em>credit</em>' and '<em>debit</em>'. Objects of entity are <em>date</em> , <em>id</em>(used sequence generator), <strong>amount</strong> and a <em>foreign key</em>.</p>\n<p>What I have done is that I crated two Typedqueries to select transaction by transaction types(credit or debit) and store the Typedqueries result in two List.</p>\n<p>I want to return the difference of total amount from credit transactions to total amount from debit type transactions(<strong>summation of all credit transaction - summation of all debit transactions</strong>). It will give me balance.</p>\n<p>My code:</p>\n<pre><code>public Result getBalanceByTransaction(Http.Request request,String userName)\n    {\n        Account a; Wallet w;\n        a = jpaApi.withTransaction(entityManager -&gt; {\n            return entityManager.createNamedQuery(&quot;detailsByName&quot;,Account.class).setParameter(&quot;name&quot;,userName).getSingleResult();\n        }); long account_id = a.getId();\n        w = jpaApi.withTransaction(entityManager -&gt; {\n           return entityManager.createNamedQuery(&quot;walletById&quot;,Wallet.class).setParameter(&quot;id&quot;,account_id).getSingleResult();\n        });\n\n        String queryForCredit =&quot;select transaction.amount from Transaction transaction where transaction.txnType ='CREDIT' and transaction.wallet.id =:id&quot;;\n        String queryForDebit = &quot;select transaction.amount from Transaction transaction where transaction.txnType ='DEBIT' and transaction.wallet.id =:id&quot;;\n        TypedQuery &lt;Transaction&gt; allCredit = jpaApi.withTransaction(entityManager -&gt; {\n           return entityManager.createQuery(queryForCredit,Transaction.class);\n        });\n        List &lt;Transaction&gt; allCreditTxn = allCredit.getResultList();\n        TypedQuery &lt;Transaction&gt; allDebit = jpaApi.withTransaction(entityManager -&gt; {\n           return entityManager.createQuery(queryForDebit,Transaction.class);\n        });\n        List &lt;Transaction&gt; allDebitTxn = allDebit.getResultList();\n\n\n    }\n</code></pre>\n<p>How do i perform arithmetic operation on <strong>'amount'</strong> object of multiple entities stored in List.</p>\n"},{"tags":["java","mysql","sql","spring-data-jpa","mysql-workbench"],"comments":[{"owner":{"account_id":19510946,"reputation":160,"user_id":14274908,"display_name":"SikorskyS60"},"score":0,"creation_date":1648643362,"post_id":71676957,"comment_id":126675783,"body_markdown":"What&#39;s the output of `currentDate` ?","body":"What&#39;s the output of <code>currentDate</code> ?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1648643583,"post_id":71676957,"comment_id":126675878,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":4001886,"reputation":1833,"user_id":4118434,"display_name":"R.A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648643750,"creation_date":1648643750,"answer_id":71677349,"question_id":71676957,"body_markdown":"Hard to say, as you did not provide enough information. Please provide some more context and code. \r\n\r\nIf I had to quess based on the little information you gave, I would say, you did not open a Transaction or did not commit it.\r\n\r\nIn Spring you can use @Transactional annotation","title":"Java (Spring Data JPA) not updating the updated_at field when I&#39;m doing it explicitly","body":"<p>Hard to say, as you did not provide enough information. Please provide some more context and code.</p>\n<p>If I had to quess based on the little information you gave, I would say, you did not open a Transaction or did not commit it.</p>\n<p>In Spring you can use @Transactional annotation</p>\n"}],"owner":{"account_id":22833929,"reputation":11,"user_id":16981956,"display_name":"Hamza Mustafa Khan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":923,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648643750,"creation_date":1648642152,"question_id":71676957,"body_markdown":"I&#39;ve created a column named updated-at with DATETIME datatype, when I try to update it in using java.sql.Date like\r\n`column.setUpdated_at(new java.sql.Date(currentDate.getTime()));`\r\nIt doesn&#39;t do anything even though there is no error on executing save().\r\n\r\nAlso tried the same thing using TIMESTAMP datatype in MySQL and java.sql.Timestamp in Java, no luck.","title":"Java (Spring Data JPA) not updating the updated_at field when I&#39;m doing it explicitly","body":"<p>I've created a column named updated-at with DATETIME datatype, when I try to update it in using java.sql.Date like\n<code>column.setUpdated_at(new java.sql.Date(currentDate.getTime()));</code>\nIt doesn't do anything even though there is no error on executing save().</p>\n<p>Also tried the same thing using TIMESTAMP datatype in MySQL and java.sql.Timestamp in Java, no luck.</p>\n"},{"tags":["java","selenium-webdriver","autoit"],"answers":[{"tags":[],"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648630671,"creation_date":1648630671,"answer_id":71674334,"question_id":71672927,"body_markdown":"AutoIt can&#39;t be used to click on a headless browser. However, if the form is a standard file upload, you should be able to sendKeys() in selenium to send the path of the file to the input.\r\n\r\n    driver.findElement(By.cssSelector(&quot;input[type=&#39;file&#39;]&quot;)).sendKeys(&quot;/Users/me/Desktop/file.txt&quot;);","title":"Will AutoIt file upload automation work in headless mode","body":"<p>AutoIt can't be used to click on a headless browser. However, if the form is a standard file upload, you should be able to sendKeys() in selenium to send the path of the file to the input.</p>\n<pre><code>driver.findElement(By.cssSelector(&quot;input[type='file']&quot;)).sendKeys(&quot;/Users/me/Desktop/file.txt&quot;);\n</code></pre>\n"}],"owner":{"account_id":23253741,"reputation":1,"user_id":17341097,"display_name":"Bavithiran Ramesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":249,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1648643695,"creation_date":1648624203,"question_id":71672927,"body_markdown":"AutoIt file upload works in normal mode but AutoIt is not working in headless mode\r\n","title":"Will AutoIt file upload automation work in headless mode","body":"<p>AutoIt file upload works in normal mode but AutoIt is not working in headless mode</p>\n"},{"tags":["java","json","validation","jackson","gson"],"comments":[{"owner":{"account_id":4181404,"reputation":6036,"user_id":3426328,"accept_rate":83,"display_name":"TDG"},"score":0,"creation_date":1648633089,"post_id":71674833,"comment_id":126671775,"body_markdown":"How about comparing the validated string and the original one? If there are extra characters the strings will not be equal.","body":"How about comparing the validated string and the original one? If there are extra characters the strings will not be equal."},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1648633301,"post_id":71674833,"comment_id":126671851,"body_markdown":"Does this solve your issue? https://stackoverflow.com/questions/2583472/regex-to-validate-json","body":"Does this solve your issue? <a href=\"https://stackoverflow.com/questions/2583472/regex-to-validate-json\" title=\"regex to validate json\">stackoverflow.com/questions/2583472/regex-to-validate-json</a>"},{"owner":{"account_id":3746374,"reputation":3934,"user_id":3114959,"accept_rate":64,"display_name":"Stepan Vavra"},"score":0,"creation_date":1648633826,"post_id":71674833,"comment_id":126672079,"body_markdown":"@Szprota21 the regex way would probably work but it feels wrong considering the fact that I have available Google&#39;s Gson or Jackson or any other library :) but thx!","body":"@Szprota21 the regex way would probably work but it feels wrong considering the fact that I have available Google&#39;s Gson or Jackson or any other library :) but thx!"},{"owner":{"account_id":3746374,"reputation":3934,"user_id":3114959,"accept_rate":64,"display_name":"Stepan Vavra"},"score":0,"creation_date":1648634715,"post_id":71674833,"comment_id":126672455,"body_markdown":"@Szprota21 I was looking at the post you linked and it honestly seems like I theoretical debate. People were adding more and more counter examples and as a result the original regex was evolving and yet it&#39;s not proven to be working. There&#39;s no community around it, no library, no publicly accessible tests or verification of such. Additionally, different regex implementations (java, php, perl, etc) can support such complex regex differently. At least such regex would need to be written exactly for the specific implementation.","body":"@Szprota21 I was looking at the post you linked and it honestly seems like I theoretical debate. People were adding more and more counter examples and as a result the original regex was evolving and yet it&#39;s not proven to be working. There&#39;s no community around it, no library, no publicly accessible tests or verification of such. Additionally, different regex implementations (java, php, perl, etc) can support such complex regex differently. At least such regex would need to be written exactly for the specific implementation."},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1648635023,"post_id":71674833,"comment_id":126672579,"body_markdown":"@StepanVavra that&#39;s good point. Btw why exactly do you need to validate plain string instead of just parsing it to desired object? Did you want to do some global check for input validity? What&#39;s the use case here?","body":"@StepanVavra that&#39;s good point. Btw why exactly do you need to validate plain string instead of just parsing it to desired object? Did you want to do some global check for input validity? What&#39;s the use case here?"}],"owner":{"account_id":3746374,"reputation":3934,"user_id":3114959,"accept_rate":64,"display_name":"Stepan Vavra"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1648643388,"answer_count":0,"score":0,"last_activity_date":1648643587,"creation_date":1648632871,"question_id":71674833,"body_markdown":"I need to check if a given input string is a valid json.\r\nUnfortunately, all the suggestions I found around the internet, that is to deserialize the given string by using Jackson, Gson, javax.json do not fail on extra characters at the end.\r\n\r\nI need such check for a valid json to fail on following inputs\r\n```\r\n{&quot;a&quot;: &quot;b&quot;}\r\nfoobar{}\r\n```\r\nor \r\n```\r\n{&quot;a&quot;:&quot;b&quot;}\r\n{&quot;1&quot;:&quot;2&quot;}\r\n```\r\nor\r\n```\r\n{&quot;a&quot;:&quot;b&quot;},\r\n{&quot;1&quot;:&quot;2&quot;}\r\n```\r\nall the deserializers unfortunately stop after the first closing bracket `b&quot;}` and basically validate that `{&quot;a&quot;:&quot;b&quot;}` is a valid JSON while omitting the extra characters.\r\n\r\nAny idea how to identify the extra characters at the end of the JSON string, or how to enable strict parsing with common Java JSON libraries? Or maybe use completely different tool so that check passes on valid JSONs and fails on cases I&#39;m listing above?\r\n\r\n\r\n----------\r\nSOLUTION\r\n\r\n\r\nAs a matter of fact, Google GSON with `setLenient(false)` (the default) happens to validate the input string exactly as I need. So doing \r\n```\r\nnew Gson().fromJson(inputString, Object.class)\r\n```\r\nis the way to go.\r\n\r\n","title":"Check if String is a valid JSON in Java (possibly with Jackson) while failing on extra characters at the end","body":"<p>I need to check if a given input string is a valid json.\nUnfortunately, all the suggestions I found around the internet, that is to deserialize the given string by using Jackson, Gson, javax.json do not fail on extra characters at the end.</p>\n<p>I need such check for a valid json to fail on following inputs</p>\n<pre><code>{&quot;a&quot;: &quot;b&quot;}\nfoobar{}\n</code></pre>\n<p>or</p>\n<pre><code>{&quot;a&quot;:&quot;b&quot;}\n{&quot;1&quot;:&quot;2&quot;}\n</code></pre>\n<p>or</p>\n<pre><code>{&quot;a&quot;:&quot;b&quot;},\n{&quot;1&quot;:&quot;2&quot;}\n</code></pre>\n<p>all the deserializers unfortunately stop after the first closing bracket <code>b&quot;}</code> and basically validate that <code>{&quot;a&quot;:&quot;b&quot;}</code> is a valid JSON while omitting the extra characters.</p>\n<p>Any idea how to identify the extra characters at the end of the JSON string, or how to enable strict parsing with common Java JSON libraries? Or maybe use completely different tool so that check passes on valid JSONs and fails on cases I'm listing above?</p>\n<hr />\n<p>SOLUTION</p>\n<p>As a matter of fact, Google GSON with <code>setLenient(false)</code> (the default) happens to validate the input string exactly as I need. So doing</p>\n<pre><code>new Gson().fromJson(inputString, Object.class)\n</code></pre>\n<p>is the way to go.</p>\n"},{"tags":["java","android","android-layout","android-fragments","android-recyclerview"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":1,"creation_date":1648539759,"post_id":71658172,"comment_id":126642980,"body_markdown":"You are inflating `R.layout.fragment_beranda` while you have `recyclerview` inside `R.layout.fragment_hadiah` .. Why is that ?","body":"You are inflating <code>R.layout.fragment_beranda</code> while you have <code>recyclerview</code> inside <code>R.layout.fragment_hadiah</code> .. Why is that ?"},{"owner":{"account_id":16445373,"reputation":613,"user_id":11880323,"display_name":"cmak"},"score":0,"creation_date":1648540558,"post_id":71658172,"comment_id":126643280,"body_markdown":"Does this answer your question? [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a>"},{"owner":{"account_id":11135455,"reputation":80,"user_id":8984764,"display_name":"Regn"},"score":0,"creation_date":1648540815,"post_id":71658172,"comment_id":126643365,"body_markdown":"Yeah, I didn&#39;t realize that I am inflating the wrong layout, now it fixed :)","body":"Yeah, I didn&#39;t realize that I am inflating the wrong layout, now it fixed :)"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1648741342,"post_id":71658172,"comment_id":126707162,"body_markdown":"@Regn why don&#39;t you use view binding? No longer doing `findViewById()`!!!","body":"@Regn why don&#39;t you use view binding? No longer doing <code>findViewById()</code>!!!"},{"owner":{"account_id":11135455,"reputation":80,"user_id":8984764,"display_name":"Regn"},"score":0,"creation_date":1648787428,"post_id":71658172,"comment_id":126717827,"body_markdown":"@Sambhav.K Wow, it sounds new to me, do you have references or tutorial on how to do it? Many thanks for the idea","body":"@Sambhav.K Wow, it sounds new to me, do you have references or tutorial on how to do it? Many thanks for the idea"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1648787966,"post_id":71658172,"comment_id":126717907,"body_markdown":"See [this](https://youtu.be/z0F2QTAKsWU)","body":"See <a href=\"https://youtu.be/z0F2QTAKsWU\" rel=\"nofollow noreferrer\">this</a>"}],"answers":[{"tags":[],"owner":{"account_id":180055,"reputation":75792,"user_id":413127,"accept_rate":96,"display_name":"Blundell"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1648643296,"creation_date":1648539875,"answer_id":71658211,"question_id":71658172,"body_markdown":"Your fragment inflates the XML like this:\r\n\r\n    View view =  inflater.inflate(R.layout.fragment_beranda, container, false);\r\n\r\n\r\n`R.layout.fragment_beranda` is not the layout you want (or shared `fragment_hadiah.xml`).\r\n\r\nTherefore in `onViewCreated`\r\n\r\n```\r\nhadiahRecyclerView = view.findViewById(R.id.hadiahRecylerView);\r\nHadiahItemAdapter itemAdapter = new HadiahItemAdapter(itemList, (HomeActivity) getActivity());\r\nGridLayoutManager gridLayoutManager = new GridLayoutManager((HomeActivity)getActivity(), 2);\r\nhadiahRecyclerView.setAdapter(itemAdapter);\r\n```\r\n\r\n`hadiahRecyclerView` does not exist in the XML file and so the variable `hadiahRecyclerView` is null\r\n\r\nmeaning \r\n\r\n`hadiahRecyclerView.setAdapter(itemAdapter);`\r\n\r\nthis line crashes with NullPointerException\r\n\r\nThe stacktrace error you shared says exactly that:\r\n\r\n&gt; java.lang.**NullPointerException**: Attempt to invoke virtual method\r\n&gt; \r\n&gt; &#39;void androidx.recyclerview.widget.RecyclerView.**setAdapter**(androidx.recyclerview.widget.RecyclerView$Adapter)&#39;\r\n&gt; \r\n&gt; **on a null object reference**","title":"Android RecyclerView: Attempt to invoke virtual method &#39;void androidx.recyclerview.widget.RecyclerView.setAdapter() on a null object reference","body":"<p>Your fragment inflates the XML like this:</p>\n<pre><code>View view =  inflater.inflate(R.layout.fragment_beranda, container, false);\n</code></pre>\n<p><code>R.layout.fragment_beranda</code> is not the layout you want (or shared <code>fragment_hadiah.xml</code>).</p>\n<p>Therefore in <code>onViewCreated</code></p>\n<pre><code>hadiahRecyclerView = view.findViewById(R.id.hadiahRecylerView);\nHadiahItemAdapter itemAdapter = new HadiahItemAdapter(itemList, (HomeActivity) getActivity());\nGridLayoutManager gridLayoutManager = new GridLayoutManager((HomeActivity)getActivity(), 2);\nhadiahRecyclerView.setAdapter(itemAdapter);\n</code></pre>\n<p><code>hadiahRecyclerView</code> does not exist in the XML file and so the variable <code>hadiahRecyclerView</code> is null</p>\n<p>meaning</p>\n<p><code>hadiahRecyclerView.setAdapter(itemAdapter);</code></p>\n<p>this line crashes with NullPointerException</p>\n<p>The stacktrace error you shared says exactly that:</p>\n<blockquote>\n<p>java.lang.<strong>NullPointerException</strong>: Attempt to invoke virtual method</p>\n<p>'void androidx.recyclerview.widget.RecyclerView.<strong>setAdapter</strong>(androidx.recyclerview.widget.RecyclerView$Adapter)'</p>\n<p><strong>on a null object reference</strong></p>\n</blockquote>\n"}],"owner":{"account_id":11135455,"reputation":80,"user_id":8984764,"display_name":"Regn"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11312,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1648570677,"accepted_answer_id":71658211,"answer_count":1,"score":1,"last_activity_date":1648643296,"creation_date":1648539647,"question_id":71658172,"body_markdown":"I tried to create a RecyclerView on a Fragment with a custom layout, so I used an adapter, but, when I tried to set the adapter, I got these errors:\r\n\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;void androidx.recyclerview.widget.RecyclerView.setAdapter(androidx.recyclerview.widget.RecyclerView$Adapter)&#39; on a null object reference\r\n\r\nI&#39;ve tried some solutions on the Internet, everyone suggest to try finding the recyclerview inside the OnViewCreated. But my code still cant find the recyclerview inside the layout file.\r\n\r\n**This is my fragment_hadiah.xml File**\r\n```xml\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.HadiahFragment&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:padding=&quot;20dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n            &lt;ImageView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:src=&quot;@drawable/ic_video&quot;/&gt;\r\n\r\n            &lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;x Dopa Eggs&quot;\r\n                android:textSize=&quot;20sp&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                android:layout_marginStart=&quot;10dp&quot;/&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Tukarkan pointmu&quot;/&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;HorizontalScrollView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            android:paddingVertical=&quot;10dp&quot;&gt;\r\n\r\n            &lt;Button\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;GOPAY&quot;\r\n                android:layout_marginLeft=&quot;20dp&quot;/&gt;\r\n\r\n            &lt;Button\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;OVO&quot;\r\n                android:layout_marginLeft=&quot;20dp&quot;/&gt;\r\n\r\n            &lt;Button\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;DANA&quot;\r\n                android:layout_marginLeft=&quot;20dp&quot;/&gt;\r\n\r\n            &lt;Button\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;Coming Soon&quot;\r\n                android:layout_marginLeft=&quot;20dp&quot;/&gt;\r\n\r\n            &lt;Button\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;Coming Soon&quot;\r\n                android:layout_marginLeft=&quot;20dp&quot;/&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/HorizontalScrollView&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:id=&quot;@+id/hadiahRecylerView&quot;/&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\n**Here is my HadiahFragment.java class**\r\n```java\r\npackage com.dopami.projecthatchedeggs;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.recyclerview.widget.GridLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Toast;\r\n\r\nimport com.dopami.projecthatchedeggs.adapter.HadiahItemAdapter;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n/**\r\n * A simple {@link Fragment} subclass.\r\n * Use the {@link HadiahFragment#newInstance} factory method to\r\n * create an instance of this fragment.\r\n */\r\npublic class HadiahFragment extends Fragment {\r\n\r\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\r\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\r\n    private static final String ARG_PARAM2 = &quot;param2&quot;;\r\n\r\n    private String mParam1;\r\n    private String mParam2;\r\n\r\n    RecyclerView hadiahRecyclerView;\r\n\r\n    public HadiahFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    /**\r\n     * Use this factory method to create a new instance of\r\n     * this fragment using the provided parameters.\r\n     *\r\n     * @param param1 Parameter 1.\r\n     * @param param2 Parameter 2.\r\n     * @return A new instance of fragment HadiahFragment.\r\n     */\r\n    public static HadiahFragment newInstance(String param1, String param2) {\r\n        HadiahFragment fragment = new HadiahFragment();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view =  inflater.inflate(R.layout.fragment_beranda, container, false);\r\n\r\n        return view;\r\n    }\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n\r\n        List&lt;String&gt; itemList = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            itemList.add(String.valueOf(i));\r\n        }\r\n\r\n        Toast.makeText((HomeActivity) getActivity(), &quot;OK&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n        hadiahRecyclerView = view.findViewById(R.id.hadiahRecylerView);\r\n        HadiahItemAdapter itemAdapter = new HadiahItemAdapter(itemList, (HomeActivity) getActivity());\r\n        GridLayoutManager gridLayoutManager = new GridLayoutManager((HomeActivity)getActivity(), 2);\r\n        hadiahRecyclerView.setAdapter(itemAdapter);\r\n        hadiahRecyclerView.setLayoutManager(gridLayoutManager);\r\n    }\r\n}\r\n```\r\n\r\n**Here is My HadiahItemAdapter.java Class**\r\n```java\r\npackage com.dopami.projecthatchedeggs.adapter;\r\n\r\nimport android.content.Context;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.cardview.widget.CardView;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.dopami.projecthatchedeggs.R;\r\n\r\nimport java.util.List;\r\n\r\npublic class HadiahItemAdapter extends RecyclerView.Adapter&lt;HadiahItemAdapter.ItemViewHolder&gt;{\r\n\r\n    private List&lt;String&gt; mItemList;\r\n    private Context mContext;\r\n\r\n    public HadiahItemAdapter(List&lt;String&gt; mItemList, Context mContext) {\r\n        this.mItemList = mItemList;\r\n        this.mContext = mContext;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ItemViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.hadiah_card_item, parent, false);\r\n        return new ItemViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ItemViewHolder holder, int position) {\r\n        String item = mItemList.get(position);\r\n        holder.textView.setText(item);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return mItemList.size();\r\n    }\r\n\r\n    class ItemViewHolder extends RecyclerView.ViewHolder{\r\n\r\n        private CardView cardView;\r\n        private TextView textView;\r\n\r\n        public ItemViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            cardView = itemView.findViewById(R.id.hadiahCardView);\r\n            textView = itemView.findViewById(R.id.hadiahCardTextView);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nLooking forward to the solutions from you guys, thanks for helping...","title":"Android RecyclerView: Attempt to invoke virtual method &#39;void androidx.recyclerview.widget.RecyclerView.setAdapter() on a null object reference","body":"<p>I tried to create a RecyclerView on a Fragment with a custom layout, so I used an adapter, but, when I tried to set the adapter, I got these errors:</p>\n<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'void androidx.recyclerview.widget.RecyclerView.setAdapter(androidx.recyclerview.widget.RecyclerView$Adapter)' on a null object reference\n</code></pre>\n<p>I've tried some solutions on the Internet, everyone suggest to try finding the recyclerview inside the OnViewCreated. But my code still cant find the recyclerview inside the layout file.</p>\n<p><strong>This is my fragment_hadiah.xml File</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.HadiahFragment&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:padding=&quot;20dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;horizontal&quot;&gt;\n\n            &lt;ImageView\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:src=&quot;@drawable/ic_video&quot;/&gt;\n\n            &lt;TextView\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;x Dopa Eggs&quot;\n                android:textSize=&quot;20sp&quot;\n                android:textStyle=&quot;bold&quot;\n                android:layout_marginStart=&quot;10dp&quot;/&gt;\n        &lt;/LinearLayout&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;Tukarkan pointmu&quot;/&gt;\n    &lt;/LinearLayout&gt;\n\n    &lt;HorizontalScrollView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:orientation=&quot;horizontal&quot;\n            android:paddingVertical=&quot;10dp&quot;&gt;\n\n            &lt;Button\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;GOPAY&quot;\n                android:layout_marginLeft=&quot;20dp&quot;/&gt;\n\n            &lt;Button\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;OVO&quot;\n                android:layout_marginLeft=&quot;20dp&quot;/&gt;\n\n            &lt;Button\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;DANA&quot;\n                android:layout_marginLeft=&quot;20dp&quot;/&gt;\n\n            &lt;Button\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Coming Soon&quot;\n                android:layout_marginLeft=&quot;20dp&quot;/&gt;\n\n            &lt;Button\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Coming Soon&quot;\n                android:layout_marginLeft=&quot;20dp&quot;/&gt;\n\n        &lt;/LinearLayout&gt;\n    &lt;/HorizontalScrollView&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:id=&quot;@+id/hadiahRecylerView&quot;/&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p><strong>Here is my HadiahFragment.java class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.dopami.projecthatchedeggs;\n\nimport android.os.Bundle;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\nimport androidx.recyclerview.widget.GridLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Toast;\n\nimport com.dopami.projecthatchedeggs.adapter.HadiahItemAdapter;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n/**\n * A simple {@link Fragment} subclass.\n * Use the {@link HadiahFragment#newInstance} factory method to\n * create an instance of this fragment.\n */\npublic class HadiahFragment extends Fragment {\n\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\n    private static final String ARG_PARAM2 = &quot;param2&quot;;\n\n    private String mParam1;\n    private String mParam2;\n\n    RecyclerView hadiahRecyclerView;\n\n    public HadiahFragment() {\n        // Required empty public constructor\n    }\n\n    /**\n     * Use this factory method to create a new instance of\n     * this fragment using the provided parameters.\n     *\n     * @param param1 Parameter 1.\n     * @param param2 Parameter 2.\n     * @return A new instance of fragment HadiahFragment.\n     */\n    public static HadiahFragment newInstance(String param1, String param2) {\n        HadiahFragment fragment = new HadiahFragment();\n        Bundle args = new Bundle();\n        args.putString(ARG_PARAM1, param1);\n        args.putString(ARG_PARAM2, param2);\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        if (getArguments() != null) {\n            mParam1 = getArguments().getString(ARG_PARAM1);\n            mParam2 = getArguments().getString(ARG_PARAM2);\n        }\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View view =  inflater.inflate(R.layout.fragment_beranda, container, false);\n\n        return view;\n    }\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n\n        List&lt;String&gt; itemList = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; 5; i++) {\n            itemList.add(String.valueOf(i));\n        }\n\n        Toast.makeText((HomeActivity) getActivity(), &quot;OK&quot;, Toast.LENGTH_SHORT).show();\n\n        hadiahRecyclerView = view.findViewById(R.id.hadiahRecylerView);\n        HadiahItemAdapter itemAdapter = new HadiahItemAdapter(itemList, (HomeActivity) getActivity());\n        GridLayoutManager gridLayoutManager = new GridLayoutManager((HomeActivity)getActivity(), 2);\n        hadiahRecyclerView.setAdapter(itemAdapter);\n        hadiahRecyclerView.setLayoutManager(gridLayoutManager);\n    }\n}\n</code></pre>\n<p><strong>Here is My HadiahItemAdapter.java Class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.dopami.projecthatchedeggs.adapter;\n\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.cardview.widget.CardView;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.dopami.projecthatchedeggs.R;\n\nimport java.util.List;\n\npublic class HadiahItemAdapter extends RecyclerView.Adapter&lt;HadiahItemAdapter.ItemViewHolder&gt;{\n\n    private List&lt;String&gt; mItemList;\n    private Context mContext;\n\n    public HadiahItemAdapter(List&lt;String&gt; mItemList, Context mContext) {\n        this.mItemList = mItemList;\n        this.mContext = mContext;\n    }\n\n    @NonNull\n    @Override\n    public ItemViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.hadiah_card_item, parent, false);\n        return new ItemViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ItemViewHolder holder, int position) {\n        String item = mItemList.get(position);\n        holder.textView.setText(item);\n    }\n\n    @Override\n    public int getItemCount() {\n        return mItemList.size();\n    }\n\n    class ItemViewHolder extends RecyclerView.ViewHolder{\n\n        private CardView cardView;\n        private TextView textView;\n\n        public ItemViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            cardView = itemView.findViewById(R.id.hadiahCardView);\n            textView = itemView.findViewById(R.id.hadiahCardTextView);\n        }\n    }\n}\n\n</code></pre>\n<p>Looking forward to the solutions from you guys, thanks for helping...</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1648580866,"post_id":71667515,"comment_id":126659449,"body_markdown":"What do you mean by &quot;locks this code&quot;? It&#39;s been a long time since I used netbeans. Does it not allow you to edit some parts of your code? If so, there might be a way to turn that off in the settings somewhere. You can also look in the settings for a way to disable these lint warnings.","body":"What do you mean by &quot;locks this code&quot;? It&#39;s been a long time since I used netbeans. Does it not allow you to edit some parts of your code? If so, there might be a way to turn that off in the settings somewhere. You can also look in the settings for a way to disable these lint warnings."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1648580973,"post_id":71667515,"comment_id":126659483,"body_markdown":"I would read the help documents. And if it is really that bad, then I would pick another IDE.","body":"I would read the help documents. And if it is really that bad, then I would pick another IDE."},{"owner":{"account_id":7020049,"reputation":59,"user_id":5379831,"accept_rate":0,"display_name":"xyzt"},"score":0,"creation_date":1648582434,"post_id":71667515,"comment_id":126659951,"body_markdown":"@vkraemer said &quot;The initComponents() method is regenerated by the IDE as you create your UI in the GUI editor. The method is &#39;guarded&#39; to prevent this regeneration from overwriting user written code.&quot; https://stackoverflow.com/questions/2438221/how-to-modify-add-code-to-the-initcomponents-method-in-java-using-netbeans","body":"@vkraemer said &quot;The initComponents() method is regenerated by the IDE as you create your UI in the GUI editor. The method is &#39;guarded&#39; to prevent this regeneration from overwriting user written code.&quot; <a href=\"https://stackoverflow.com/questions/2438221/how-to-modify-add-code-to-the-initcomponents-method-in-java-using-netbeans\" title=\"how to modify add code to the initcomponents method in java using netbeans\">stackoverflow.com/questions/2438221/&hellip;</a>"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1648608807,"post_id":71667515,"comment_id":126665362,"body_markdown":"[1] How do you display that _&quot;Warnings docked window&quot;_? I can&#39;t find the &quot;Warnings&quot; window. [2] You can configure some hints to be shown-as-error/shown-as-warning/suppressed using **Tools &gt; Options &gt; Editor &gt; Hints &gt; Language Java**. [3] More information is needed. Update your question with all of the following: Your NetBeans version, a screenshot showing the &quot;Warnings&quot; window, a list of the warnings you want suppressed, and code (in text form) to provoke the warning(s) you want suppressed.","body":"[1] How do you display that <i>&quot;Warnings docked window&quot;</i>? I can&#39;t find the &quot;Warnings&quot; window. [2] You can configure some hints to be shown-as-error/shown-as-warning/suppressed using <b>Tools &gt; Options &gt; Editor &gt; Hints &gt; Language Java</b>. [3] More information is needed. Update your question with all of the following: Your NetBeans version, a screenshot showing the &quot;Warnings&quot; window, a list of the warnings you want suppressed, and code (in text form) to provoke the warning(s) you want suppressed."},{"owner":{"account_id":7020049,"reputation":59,"user_id":5379831,"accept_rate":0,"display_name":"xyzt"},"score":0,"creation_date":1648633654,"post_id":71667515,"comment_id":126672010,"body_markdown":"@skomisa Yes, I corrected the question. Indeed, the window has a different name - ActionItems - and Warnings is one of the lists available in the tree there.\nHow to recreate the situation:\nPlease create a new project - Java Application (for example like described here: https://netbeans.apache.org/kb/docs/java/quickstart-gui.html).\nAdd a new JFrame Form.\nAdd a button to the above JFrame.\nDouble click on this button - IDE will add an action listener.\nLook at the ActionItems window in warnings - the said message will appear.\nTry to eliminate it in any way.","body":"@skomisa Yes, I corrected the question. Indeed, the window has a different name - ActionItems - and Warnings is one of the lists available in the tree there. How to recreate the situation: Please create a new project - Java Application (for example like described here: <a href=\"https://netbeans.apache.org/kb/docs/java/quickstart-gui.html\" rel=\"nofollow noreferrer\">netbeans.apache.org/kb/docs/java/quickstart-gui.html</a>). Add a new JFrame Form. Add a button to the above JFrame. Double click on this button - IDE will add an action listener. Look at the ActionItems window in warnings - the said message will appear. Try to eliminate it in any way."}],"answers":[{"tags":[],"owner":{"account_id":453254,"reputation":349,"user_id":850154,"accept_rate":20,"display_name":"immobiluser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648643232,"creation_date":1648643232,"answer_id":71677224,"question_id":71667515,"body_markdown":"Same problem, I disable warnings :\r\n\r\n[![Convert ot Lamnda or Memver Reference][1]][1]\r\n[![Convert Anonymous to Member][2]][2]\r\n\r\nBut warnings stays listed on &quot;Action Items&quot; tab (even after clean/build, clean cache and NetBeans relaunch) : \r\n\r\n[![enter image description here][3]][3]\r\n\r\nThe only change, are the underlined code warning, has gone :\r\n\r\n[![enter image description here][4]][4]\r\n\r\n  [1]: https://i.stack.imgur.com/jPOgc.png\r\n  [2]: https://i.stack.imgur.com/VfJVy.png\r\n  [3]: https://i.stack.imgur.com/UAAFA.png\r\n  [4]: https://i.stack.imgur.com/N0rYv.png","title":"NetBeans - lots of unnecessary Java warnings","body":"<p>Same problem, I disable warnings :</p>\n<p><a href=\"https://i.stack.imgur.com/jPOgc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jPOgc.png\" alt=\"Convert ot Lamnda or Memver Reference\" /></a>\n<a href=\"https://i.stack.imgur.com/VfJVy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VfJVy.png\" alt=\"Convert Anonymous to Member\" /></a></p>\n<p>But warnings stays listed on &quot;Action Items&quot; tab (even after clean/build, clean cache and NetBeans relaunch) :</p>\n<p><a href=\"https://i.stack.imgur.com/UAAFA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UAAFA.png\" alt=\"enter image description here\" /></a></p>\n<p>The only change, are the underlined code warning, has gone :</p>\n<p><a href=\"https://i.stack.imgur.com/N0rYv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N0rYv.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":7020049,"reputation":59,"user_id":5379831,"accept_rate":0,"display_name":"xyzt"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1648643232,"creation_date":1648580633,"question_id":71667515,"body_markdown":"NetBeans IDE 12.4 (Java AdoptOpenJDK 11) displays dozens of warnings &quot;This anonymous inner class creation can be turned into a lambda expression&quot; in its ActionItems docked window. Simultaneously it locks this code (locks body of initComponents of jFrame to protect it against modification) making it impossible to change these anonymous to lambdas to get rid of display these warnings. \r\nAny changes in Tools/Options/Editor/Hints options does not affect these specific warnings. \r\n\r\nSo I have unuseful warnings. In practice means that I do not pay attention to any warnings anymore.\r\n\r\nHowever, I wish I could find warning messages list in ActionItems window useful.\r\n\r\nCan something be done about it?\r\n\r\n(revised and supplemented)","title":"NetBeans - lots of unnecessary Java warnings","body":"<p>NetBeans IDE 12.4 (Java AdoptOpenJDK 11) displays dozens of warnings &quot;This anonymous inner class creation can be turned into a lambda expression&quot; in its ActionItems docked window. Simultaneously it locks this code (locks body of initComponents of jFrame to protect it against modification) making it impossible to change these anonymous to lambdas to get rid of display these warnings.\nAny changes in Tools/Options/Editor/Hints options does not affect these specific warnings.</p>\n<p>So I have unuseful warnings. In practice means that I do not pay attention to any warnings anymore.</p>\n<p>However, I wish I could find warning messages list in ActionItems window useful.</p>\n<p>Can something be done about it?</p>\n<p>(revised and supplemented)</p>\n"},{"tags":["java","ssl","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":6556928,"reputation":63,"user_id":5069357,"display_name":"pTak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648642914,"creation_date":1648642914,"answer_id":71677138,"question_id":70431218,"body_markdown":"In your custom `SslEngineFactory` implementation you had to override the configure method:\r\n\r\n    void configure(Map&lt;String, ?&gt; configs);\r\n\r\nKafka client will pass all of its properties into this method before calling the method to create the SSL engine so you can add any custom property you want when creating Kafka properties, read them in the configure method and use them in the methods to create the SSL engine.\r\n\r\nSomething like this in Kotlin:\r\n\r\n    class ScalerKafkaSslEngineFactory : SslEngineFactory {\r\n\r\n        private var sslContext: SSLContext? = null\r\n        private lateinit var keyStore: KeyStore\r\n\r\n        override fun configure(configs: Map&lt;String?, *&gt;) {\r\n            keyStore = configs[&quot;my.ssl.keystore&quot;] as KeyStore\r\n        }\r\n\r\n        override fun createClientSslEngine(peerHost: String, peerPort: Int, endpointIdentification: String): SSLEngine? {\r\n            return createSslEngine(Mode.CLIENT, peerHost, peerPort)\r\n        }\r\n\r\n        override fun createServerSslEngine(peerHost: String, peerPort: Int): SSLEngine? {\r\n            return createSslEngine(Mode.SERVER, peerHost, peerPort)\r\n        }\r\n\r\n        private fun createSslEngine(mode: Mode, peerHost: String, peerPort: Int): SSLEngine? {\r\n            sslContext = SSLContext.getDefault()\r\n            // set my keyStore\r\n            return sslContext.createSSLEngine(peerHost, peerPort)\r\n        }\r\n\r\n        override fun close() {\r\n            sslContext = null\r\n        }\r\n        \r\n        // other methods from interface skipped\r\n    }\r\n","title":"Writing custom Kafka SSLEngineFactory with arguments at runtime","body":"<p>In your custom <code>SslEngineFactory</code> implementation you had to override the configure method:</p>\n<pre><code>void configure(Map&lt;String, ?&gt; configs);\n</code></pre>\n<p>Kafka client will pass all of its properties into this method before calling the method to create the SSL engine so you can add any custom property you want when creating Kafka properties, read them in the configure method and use them in the methods to create the SSL engine.</p>\n<p>Something like this in Kotlin:</p>\n<pre><code>class ScalerKafkaSslEngineFactory : SslEngineFactory {\n\n    private var sslContext: SSLContext? = null\n    private lateinit var keyStore: KeyStore\n\n    override fun configure(configs: Map&lt;String?, *&gt;) {\n        keyStore = configs[&quot;my.ssl.keystore&quot;] as KeyStore\n    }\n\n    override fun createClientSslEngine(peerHost: String, peerPort: Int, endpointIdentification: String): SSLEngine? {\n        return createSslEngine(Mode.CLIENT, peerHost, peerPort)\n    }\n\n    override fun createServerSslEngine(peerHost: String, peerPort: Int): SSLEngine? {\n        return createSslEngine(Mode.SERVER, peerHost, peerPort)\n    }\n\n    private fun createSslEngine(mode: Mode, peerHost: String, peerPort: Int): SSLEngine? {\n        sslContext = SSLContext.getDefault()\n        // set my keyStore\n        return sslContext.createSSLEngine(peerHost, peerPort)\n    }\n\n    override fun close() {\n        sslContext = null\n    }\n    \n    // other methods from interface skipped\n}\n</code></pre>\n"}],"owner":{"account_id":13822903,"reputation":65,"user_id":9977928,"display_name":"shashank"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":602,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1648642914,"creation_date":1640066267,"question_id":70431218,"body_markdown":"I am building kafka clients with SSL configuration. I want Kafka to get Truststore&#39;s keys from DB and not from jks file stored somewhere. So I implemented org.apache.kafka.common.security.auth.SslEngineFactory interface from which I can supply SSLEngines. SSLContext from which these SSL Engines are created,are initiated with my truststore(I have written code to get keys from DB). \r\n``` \r\nprops.put(&quot;security.protocol&quot;, &quot;SSL&quot;);\r\nprops.put(&quot;ssl.engine.factory.class&quot;, CustomSslEngineFactory.class);\r\n```\r\nThis configuration works well.\r\nNow, I want to enable client auth to SSL, which means I need to supply keystore to SSLContext. But which keystore to use is decided at runtime.(This is my requirement). I cannot add it to CustomSslEngineFactory because I dont know which keystore to add.\r\nCustomSslEngineFactory object is created by Kafka and it will not be having access to any run time parameters. So how can we send some parameters to CustomSslEngineFactory at runtime?","title":"Writing custom Kafka SSLEngineFactory with arguments at runtime","body":"<p>I am building kafka clients with SSL configuration. I want Kafka to get Truststore's keys from DB and not from jks file stored somewhere. So I implemented org.apache.kafka.common.security.auth.SslEngineFactory interface from which I can supply SSLEngines. SSLContext from which these SSL Engines are created,are initiated with my truststore(I have written code to get keys from DB).</p>\n<pre><code>props.put(&quot;security.protocol&quot;, &quot;SSL&quot;);\nprops.put(&quot;ssl.engine.factory.class&quot;, CustomSslEngineFactory.class);\n</code></pre>\n<p>This configuration works well.\nNow, I want to enable client auth to SSL, which means I need to supply keystore to SSLContext. But which keystore to use is decided at runtime.(This is my requirement). I cannot add it to CustomSslEngineFactory because I dont know which keystore to add.\nCustomSslEngineFactory object is created by Kafka and it will not be having access to any run time parameters. So how can we send some parameters to CustomSslEngineFactory at runtime?</p>\n"},{"tags":["java","amazon-web-services","jdbc","amazon-athena"],"answers":[{"tags":[],"owner":{"account_id":1227934,"reputation":3849,"user_id":1193148,"accept_rate":74,"display_name":"Marcelo Tataje"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521189455,"creation_date":1521151031,"answer_id":49309903,"question_id":49309713,"body_markdown":"1. Maybe you would like to download the JDBC driver from: https://s3.amazonaws.com/athena-downloads/drivers/AthenaJDBC41-1.1.0.jar\r\n\r\n2. You can install it on your own maven repository:\r\n\r\n        mvn install:install-file -Dfile=/home/users/User01/Documents/AthenaJDBC41-1.1.0.jar -DgroupId=com.amazonaws.athena.jdbc -DartifactId=athenaJDBC -Dpackaging=jar\r\n\r\n3. Then you can reference it in your pom.xml:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nLet me know if that helps you somehow. \r\n\r\nPS: Not sure why code formatting is not working in my computer. I&#39;ve tried three different browsers and I&#39;m expecting the same issue.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kaQHk.png","title":"No suitable driver found for jdbc:amazonaws","body":"<ol>\n<li><p>Maybe you would like to download the JDBC driver from: <a href=\"https://s3.amazonaws.com/athena-downloads/drivers/AthenaJDBC41-1.1.0.jar\" rel=\"nofollow noreferrer\">https://s3.amazonaws.com/athena-downloads/drivers/AthenaJDBC41-1.1.0.jar</a></p></li>\n<li><p>You can install it on your own maven repository:</p>\n\n<pre><code>mvn install:install-file -Dfile=/home/users/User01/Documents/AthenaJDBC41-1.1.0.jar -DgroupId=com.amazonaws.athena.jdbc -DartifactId=athenaJDBC -Dpackaging=jar\n</code></pre></li>\n<li><p>Then you can reference it in your pom.xml:</p></li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/kaQHk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kaQHk.png\" alt=\"enter image description here\"></a></p>\n\n<p>Let me know if that helps you somehow. </p>\n\n<p>PS: Not sure why code formatting is not working in my computer. I've tried three different browsers and I'm expecting the same issue.</p>\n"},{"tags":[],"owner":{"account_id":6989038,"reputation":1345,"user_id":5358950,"display_name":"singh30"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521354194,"creation_date":1521353560,"answer_id":49345002,"question_id":49309713,"body_markdown":"Download Jar from https://s3.amazonaws.com/athena-downloads/drivers/AthenaJDBC41-1.1.0.jar\r\n\r\nAdd the jar to your own maven repository\r\n\r\n    mvn install:install-file -Dfile=/home/sumit/Downloads/AthenaJDBC41-1.1.0.jar -DgroupId=com.amazonaws.athena.jdbc -DartifactId=athenaJDBC -Dversion=1.1.0 -Dpackaging=jar\r\n\r\nchange **-Dfile** value to your downloaded jar path.\r\nIf required update **-Dversion**.\r\n\r\nAdd dependency to your pom.xml\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.amazonaws.athena.jdbc&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;athenaJDBC&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"No suitable driver found for jdbc:amazonaws","body":"<p>Download Jar from <a href=\"https://s3.amazonaws.com/athena-downloads/drivers/AthenaJDBC41-1.1.0.jar\" rel=\"nofollow noreferrer\">https://s3.amazonaws.com/athena-downloads/drivers/AthenaJDBC41-1.1.0.jar</a></p>\n\n<p>Add the jar to your own maven repository</p>\n\n<pre><code>mvn install:install-file -Dfile=/home/sumit/Downloads/AthenaJDBC41-1.1.0.jar -DgroupId=com.amazonaws.athena.jdbc -DartifactId=athenaJDBC -Dversion=1.1.0 -Dpackaging=jar\n</code></pre>\n\n<p>change <strong>-Dfile</strong> value to your downloaded jar path.\nIf required update <strong>-Dversion</strong>.</p>\n\n<p>Add dependency to your pom.xml</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.amazonaws.athena.jdbc&lt;/groupId&gt;\n    &lt;artifactId&gt;athenaJDBC&lt;/artifactId&gt;\n    &lt;version&gt;1.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5209223,"reputation":13,"user_id":4166184,"display_name":"Gareth Rogers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530106962,"creation_date":1530106962,"answer_id":51064373,"question_id":49309713,"body_markdown":"I have just come across this problem myself using the `2.0.2` of the `JDBC42` version of the driver while developing a Spark job in Clojure. Despite those difference I think the answer will translate and I got it from https://stackoverflow.com/questions/29552799/spark-unable-to-find-jdbc-driver.\r\n\r\nI believe you need to set the `driver` property in your `Properties` object to the Athena Driver class i.e.\r\n\r\n    properties.setProperty(&quot;driver&quot;, &quot;com.simba.athena.jdbc.Driver&quot;);\r\n\r\nwhich is correct for the `2.0.2` version. In you case is should be\r\n\r\n    properties.setProperty(&quot;driver&quot;, &quot;com.amazonaws.athena.jdbc.AthenaDriver&quot;);\r\n\r\nI don&#39;t know why the `Class.forName` isn&#39;t sufficient. I also had to build my own Maven package to include.","title":"No suitable driver found for jdbc:amazonaws","body":"<p>I have just come across this problem myself using the <code>2.0.2</code> of the <code>JDBC42</code> version of the driver while developing a Spark job in Clojure. Despite those difference I think the answer will translate and I got it from <a href=\"https://stackoverflow.com/questions/29552799/spark-unable-to-find-jdbc-driver\">Spark Unable to find JDBC Driver</a>.</p>\n\n<p>I believe you need to set the <code>driver</code> property in your <code>Properties</code> object to the Athena Driver class i.e.</p>\n\n<pre><code>properties.setProperty(\"driver\", \"com.simba.athena.jdbc.Driver\");\n</code></pre>\n\n<p>which is correct for the <code>2.0.2</code> version. In you case is should be</p>\n\n<pre><code>properties.setProperty(\"driver\", \"com.amazonaws.athena.jdbc.AthenaDriver\");\n</code></pre>\n\n<p>I don't know why the <code>Class.forName</code> isn't sufficient. I also had to build my own Maven package to include.</p>\n"}],"owner":{"account_id":9638675,"reputation":146,"user_id":7153766,"display_name":"Raphael Sampaio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3764,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1648642905,"creation_date":1521150105,"question_id":49309713,"body_markdown":"I&#39;m trying to connect to amazon athena using JDBC. As I didn&#39;t find the *AthenaDriver* repository on maven, I created it myself on my [github][1]. Basically what I&#39;m doing is this:\r\n\r\npom.xml:\r\n\r\n    &lt;repository&gt;\r\n        &lt;id&gt;mvn-rep&lt;/id&gt;\r\n        &lt;name&gt;maven repository&lt;/name&gt;\r\n        &lt;url&gt;https://github.com/raphael-psr/maven-repository/raw/master/&lt;/url&gt;\r\n\t&lt;/repository&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.amazonaws.athena.jdbc&lt;/groupId&gt;\r\n        &lt;artifactId&gt;AthenaJDBC41&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\njava:\r\n\r\n    class.forName(&quot;com.amazonaws.athena.jdbc.AthenaDriver&quot;);\r\n\r\n\tProperties properties = new Properties();\r\n\tproperties.setProperty(&quot;user&quot;, user);\r\n\tproperties.setProperty(&quot;password&quot;, password);\r\n\tproperties.setProperty(&quot;aws_credentials_provider_class&quot;, &quot;amazon.AmazonCredentialsProvider&quot;);\r\n    \t\r\n    Connection connection = DriverManager.getConnection(&quot;jdbc:awsathena://athena.&quot; + region + &quot;.amazonaws.com:443&quot;, properties);\r\n\r\n\r\nAn exception is raised:\r\n\r\n&gt; java.sql.SQLException: No suitable driver found for jdbc:amazonaws://athena.us-east-1.amazonaws.com:443\r\n\r\nAnyone knows what it might be?\r\n\r\n  [1]: https://github.com/raphael-psr/maven-repository","title":"No suitable driver found for jdbc:amazonaws","body":"<p>I'm trying to connect to amazon athena using JDBC. As I didn't find the <em>AthenaDriver</em> repository on maven, I created it myself on my <a href=\"https://github.com/raphael-psr/maven-repository\" rel=\"nofollow noreferrer\">github</a>. Basically what I'm doing is this:</p>\n\n<p>pom.xml:</p>\n\n<pre><code>&lt;repository&gt;\n    &lt;id&gt;mvn-rep&lt;/id&gt;\n    &lt;name&gt;maven repository&lt;/name&gt;\n    &lt;url&gt;https://github.com/raphael-psr/maven-repository/raw/master/&lt;/url&gt;\n&lt;/repository&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.amazonaws.athena.jdbc&lt;/groupId&gt;\n    &lt;artifactId&gt;AthenaJDBC41&lt;/artifactId&gt;\n    &lt;version&gt;1.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>java:</p>\n\n<pre><code>class.forName(\"com.amazonaws.athena.jdbc.AthenaDriver\");\n\nProperties properties = new Properties();\nproperties.setProperty(\"user\", user);\nproperties.setProperty(\"password\", password);\nproperties.setProperty(\"aws_credentials_provider_class\", \"amazon.AmazonCredentialsProvider\");\n\nConnection connection = DriverManager.getConnection(\"jdbc:awsathena://athena.\" + region + \".amazonaws.com:443\", properties);\n</code></pre>\n\n<p>An exception is raised:</p>\n\n<blockquote>\n  <p>java.sql.SQLException: No suitable driver found for jdbc:amazonaws://athena.us-east-1.amazonaws.com:443</p>\n</blockquote>\n\n<p>Anyone knows what it might be?</p>\n"},{"tags":["java","tomcat","web"],"comments":[{"owner":{"account_id":1333364,"reputation":150,"user_id":1276706,"display_name":"venusoft"},"score":2,"creation_date":1438777834,"post_id":31832268,"comment_id":51587036,"body_markdown":"Justs to be sure I&#39;ve understood well. With &quot;logging&quot; in your application you mean calls to System.out.println?","body":"Justs to be sure I&#39;ve understood well. With &quot;logging&quot; in your application you mean calls to System.out.println?"},{"owner":{"account_id":3630754,"reputation":677,"user_id":3026998,"accept_rate":0,"display_name":"Raj"},"score":0,"creation_date":1438778207,"post_id":31832268,"comment_id":51587320,"body_markdown":"Hi venu, problem is that  in web application we are using lot of system.out.println staments, these statements are printing in stdout file and its increasing the size again we need to restart the server","body":"Hi venu, problem is that  in web application we are using lot of system.out.println staments, these statements are printing in stdout file and its increasing the size again we need to restart the server"},{"owner":{"account_id":1759056,"reputation":2515,"user_id":1606632,"display_name":"f_puras"},"score":0,"creation_date":1438781072,"post_id":31832268,"comment_id":51589526,"body_markdown":"possible duplicate of [Limiting stdout.log file size when running apache tomcat windows service](http://stackoverflow.com/questions/9070794/limiting-stdout-log-file-size-when-running-apache-tomcat-windows-service)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/9070794/limiting-stdout-log-file-size-when-running-apache-tomcat-windows-service\">Limiting stdout.log file size when running apache tomcat windows service</a>"},{"owner":{"account_id":3630754,"reputation":677,"user_id":3026998,"accept_rate":0,"display_name":"Raj"},"score":0,"creation_date":1438846675,"post_id":31832268,"comment_id":51619629,"body_markdown":"@f_puras, I tried this way also -Djava.util.logging.FileHandler.limit=1024 but not rotating the log files","body":"@f_puras, I tried this way also -Djava.util.logging.FileHandler.limit=1024 but not rotating the log files"},{"owner":{"account_id":256642,"reputation":6092,"user_id":537503,"accept_rate":42,"display_name":"Andy Dufresne"},"score":0,"creation_date":1441689466,"post_id":31832268,"comment_id":52762187,"body_markdown":"Did you find a solution?","body":"Did you find a solution?"},{"owner":{"account_id":3630754,"reputation":677,"user_id":3026998,"accept_rate":0,"display_name":"Raj"},"score":0,"creation_date":1441695426,"post_id":31832268,"comment_id":52764834,"body_markdown":"@Andy, No. Do you have any idea.","body":"@Andy, No. Do you have any idea."}],"answers":[{"tags":[],"owner":{"account_id":2239066,"reputation":1615,"user_id":1974594,"display_name":"Astrogat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648642852,"creation_date":1438777868,"answer_id":31832605,"question_id":31832268,"body_markdown":"Limit the filesize: `Djava.util.logging.FileHandler.limit=25000000`\r\n\r\n\r\nMore info can be found here: https://tomcat.apache.org/tomcat-6.0-doc/logging.html","title":"How to rotate tomcat stdout log file and stderr log file based on Size limit","body":"<p>Limit the filesize: <code>Djava.util.logging.FileHandler.limit=25000000</code></p>\n<p>More info can be found here: <a href=\"https://tomcat.apache.org/tomcat-6.0-doc/logging.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-6.0-doc/logging.html</a></p>\n"}],"owner":{"account_id":3630754,"reputation":677,"user_id":3026998,"accept_rate":0,"display_name":"Raj"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13043,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":1,"score":3,"last_activity_date":1648642852,"creation_date":1438776966,"question_id":31832268,"body_markdown":"Does anybody have idea about below case.\r\nHow can I make tomcat logs rotate based on the size and time stamp? I have tried all scenarios by changing `logging.properties` file under tomcat/conf but I didn&#39;t get any luck. \r\n\r\nIn the web application we used lots of `System.out.println` statements to print the log in a log file `tomcat6-stdout`, which makes it huge. \r\n\r\nHow to make rotate `stdout` and `stderr` files based on the size and timestamp (per day)? \r\n\r\nEnvironment: Tomcat server 6.0.44, Windows XP. Immediate response really appreciable.\r\n","title":"How to rotate tomcat stdout log file and stderr log file based on Size limit","body":"<p>Does anybody have idea about below case.\nHow can I make tomcat logs rotate based on the size and time stamp? I have tried all scenarios by changing <code>logging.properties</code> file under tomcat/conf but I didn't get any luck. </p>\n\n<p>In the web application we used lots of <code>System.out.println</code> statements to print the log in a log file <code>tomcat6-stdout</code>, which makes it huge. </p>\n\n<p>How to make rotate <code>stdout</code> and <code>stderr</code> files based on the size and timestamp (per day)? </p>\n\n<p>Environment: Tomcat server 6.0.44, Windows XP. Immediate response really appreciable.</p>\n"},{"tags":["java","unix","daemon","apache-commons-daemon"],"answers":[{"tags":[],"owner":{"account_id":168980,"reputation":646,"user_id":1396779,"display_name":"byeo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648642794,"creation_date":1410339823,"answer_id":25761370,"question_id":24206427,"body_markdown":"Apache Commons Daemon does this for you using SIGUSR1, which causes the process to close and reopen the stderr and stdout file descriptors.\r\n\r\nAs long as you&#39;re logging to these streams (e.g. using log4j as follows), you don&#39;t have to write any java code.\r\n\r\n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;org.apache.log4j.ConsoleAppender&quot;&gt;\r\n        &lt;param name=&quot;Target&quot; value=&quot;System.err&quot; /&gt;\r\n        ...\r\n    &lt;/appender&gt;\r\n\r\n\r\n- http://wiki.apache.org/tomcat/FAQ/Logging\r\n- https://issues.apache.org/jira/browse/DAEMON-95 jsvc log rotation support\r\n","title":"How to implement log file rotation in Apache Commons Daemon?","body":"<p>Apache Commons Daemon does this for you using SIGUSR1, which causes the process to close and reopen the stderr and stdout file descriptors.</p>\n<p>As long as you're logging to these streams (e.g. using log4j as follows), you don't have to write any java code.</p>\n<pre><code>&lt;appender name=&quot;CONSOLE&quot; class=&quot;org.apache.log4j.ConsoleAppender&quot;&gt;\n    &lt;param name=&quot;Target&quot; value=&quot;System.err&quot; /&gt;\n    ...\n&lt;/appender&gt;\n</code></pre>\n<ul>\n<li><a href=\"http://wiki.apache.org/tomcat/FAQ/Logging\" rel=\"nofollow noreferrer\">http://wiki.apache.org/tomcat/FAQ/Logging</a></li>\n<li><a href=\"https://issues.apache.org/jira/browse/DAEMON-95\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/DAEMON-95</a> jsvc log rotation support</li>\n</ul>\n"}],"owner":{"account_id":173557,"reputation":22258,"user_id":402322,"accept_rate":67,"display_name":"ceving"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2093,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648642794,"creation_date":1402665850,"question_id":24206427,"body_markdown":"Standard Unix daemons support the signal HUP to rotate log files. When ever a daemon receives the signal it closes all log files and reopens them.\r\n\r\nI have a daemon process in Java using Apache Commons Daemon. The daemon implementation supports three methods: init, start and stop. But I can not find any support for Unix signals. How to support the HUP signal to rotate log files?","title":"How to implement log file rotation in Apache Commons Daemon?","body":"<p>Standard Unix daemons support the signal HUP to rotate log files. When ever a daemon receives the signal it closes all log files and reopens them.</p>\n\n<p>I have a daemon process in Java using Apache Commons Daemon. The daemon implementation supports three methods: init, start and stop. But I can not find any support for Unix signals. How to support the HUP signal to rotate log files?</p>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":13694976,"reputation":1797,"user_id":9881903,"display_name":"GHH"},"score":0,"creation_date":1648610945,"post_id":71670894,"comment_id":126665681,"body_markdown":"Please show the `RtpService` full code","body":"Please show the <code>RtpService</code> full code"},{"owner":{"account_id":20686862,"reputation":51,"user_id":18233830,"display_name":"Felipe Augusto Yakashin"},"score":0,"creation_date":1648642824,"post_id":71670894,"comment_id":126675520,"body_markdown":"The complete code follows above","body":"The complete code follows above"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1648646178,"post_id":71670894,"comment_id":126676989,"body_markdown":"You should not be putting all that stuff in a companion object in the first place. Views should not be stored in static variables in Java, or in objects/top level properties in Kotlin. You&#39;re leaking them outside their scope.","body":"You should not be putting all that stuff in a companion object in the first place. Views should not be stored in static variables in Java, or in objects/top level properties in Kotlin. You&#39;re leaking them outside their scope."}],"answers":[{"tags":[],"owner":{"account_id":18696867,"reputation":860,"user_id":13629974,"display_name":"&#214;mer Seyfettin Yavuzyiğit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648629151,"creation_date":1648628849,"answer_id":71673923,"question_id":71670894,"body_markdown":"can you try this\r\n\r\n        @RequiresApi(Build.VERSION_CODES.LOLLIPOP)\r\n        public void surfaceChanged(SurfaceHolder holder, int p1, int p2, int p3) {\r\n            Intrinsics.checkNotNullParameter(holder, &quot;holder&quot;);\r\n            RtpService.setView(surfaceView);\r\n            RtpService.startPreview();\r\n        }\r\n    \r\n    public void setView(OpenGlView openGlView) {\r\n            this.openGlView = openGlView;\r\n            camera2Base.replaceView(openGlView);\r\n        }","title":"kotlin function is not recognized in java","body":"<p>can you try this</p>\n<pre><code>    @RequiresApi(Build.VERSION_CODES.LOLLIPOP)\n    public void surfaceChanged(SurfaceHolder holder, int p1, int p2, int p3) {\n        Intrinsics.checkNotNullParameter(holder, &quot;holder&quot;);\n        RtpService.setView(surfaceView);\n        RtpService.startPreview();\n    }\n\npublic void setView(OpenGlView openGlView) {\n        this.openGlView = openGlView;\n        camera2Base.replaceView(openGlView);\n    }\n</code></pre>\n"}],"owner":{"account_id":20686862,"reputation":51,"user_id":18233830,"display_name":"Felipe Augusto Yakashin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1648642722,"creation_date":1648608023,"question_id":71670894,"body_markdown":"I need to transform this and some other code made in kotlin to java, but it is not working. Here is one of them.\r\n\r\nBackgroundActivity.kt (this I need to transform to java):\r\n\r\n    @RequiresApi(Build.VERSION_CODES.LOLLIPOP)\r\n      override fun surfaceChanged(holder: SurfaceHolder, p1: Int, p2: Int, p3: Int) {\r\n        RtpService.setView(surfaceView)\r\n        RtpService.startPreview()\r\n      }\r\n\r\nThis function is inside a kotlin class, that I will keep\r\nRtpService.kt\r\n       \r\n    \r\n    package com.wifi.service.backgroundexample\r\n    \r\n    import android.app.Notification\r\n    import android.app.NotificationChannel\r\n    import android.app.NotificationManager\r\n    import android.app.Service\r\n    import android.content.Context\r\n    import android.content.Intent\r\n    import android.os.Build\r\n    import android.os.IBinder\r\n    import android.util.Log\r\n    import androidx.annotation.RequiresApi\r\n    import androidx.core.app.NotificationCompat\r\n    import com.wifi.rtplibrary.base.Camera2Base\r\n    import com.wifi.rtplibrary.rtmp.RtmpCamera2\r\n    import com.wifi.rtplibrary.rtsp.RtspCamera2\r\n    import com.wifi.rtplibrary.view.OpenGlView\r\n    import com.wifi.service.R\r\n    \r\n    \r\n    /**\r\n     * Basic RTMP/RTSP service streaming implementation with camera2\r\n     */\r\n    @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\r\n    class RtpService : Service() {\r\n    \r\n      private var endpoint: String? = null\r\n    \r\n      override fun onCreate() {\r\n        super.onCreate()\r\n        Log.e(TAG, &quot;RTP service create&quot;)\r\n        notificationManager = getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n          val channel = NotificationChannel(channelId, channelId, NotificationManager.IMPORTANCE_HIGH)\r\n          notificationManager?.createNotificationChannel(channel)\r\n        }\r\n        keepAliveTrick()\r\n      }\r\n    \r\n      private fun keepAliveTrick() {\r\n        if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.O) {\r\n          val notification = NotificationCompat.Builder(this, channelId)\r\n              .setSmallIcon(R.drawable.ic_baseline_settings_24_branco)\r\n              .setSilent(true)\r\n              .setOngoing(false)\r\n              //.setContentTitle(&quot;&quot;)\r\n              .build()\r\n          startForeground(1, notification)\r\n        } else {\r\n          startForeground(1, Notification())\r\n        }\r\n      }\r\n    \r\n      override fun onBind(p0: Intent?): IBinder? {\r\n        return null\r\n      }\r\n    \r\n      override fun onStartCommand(intent: Intent?, flags: Int, startId: Int): Int {\r\n        Log.e(TAG, &quot;RTP service started&quot;)\r\n        endpoint = intent?.extras?.getString(&quot;endpoint&quot;)\r\n        if (endpoint != null) {\r\n          prepareStreamRtp()\r\n          startStreamRtp(endpoint!!)\r\n        }\r\n        return START_STICKY\r\n      }\r\n    \r\n      companion object {\r\n        private const val TAG = &quot;RtpService&quot;\r\n        //private const val channelId = &quot;rtpStreamChannel&quot;\r\n        private const val channelId = &quot;Android&quot;\r\n        private const val notifyId = 123456\r\n        private var notificationManager: NotificationManager? = null\r\n        private var camera2Base: Camera2Base? = null\r\n        private var openGlView: OpenGlView? = null\r\n        private var contextApp: Context? = null\r\n    \r\n        fun setView(openGlView: OpenGlView) {\r\n          this.openGlView = openGlView\r\n          camera2Base?.replaceView(openGlView)\r\n        }\r\n    \r\n        fun setView(context: Context) {\r\n          contextApp = context\r\n          this.openGlView = null\r\n          camera2Base?.replaceView(context)\r\n        }\r\n    \r\n        fun startPreview() {\r\n          camera2Base?.startPreview()\r\n        }\r\n    \r\n        fun init(context: Context) {\r\n          contextApp = context\r\n          if (camera2Base == null) camera2Base = RtmpCamera2(context, true, connectCheckerRtp)\r\n        }\r\n    \r\n        fun stopStream() {\r\n          if (camera2Base != null) {\r\n            if (camera2Base!!.isStreaming) camera2Base!!.stopStream()\r\n          }\r\n        }\r\n    \r\n        fun stopPreview() {\r\n          if (camera2Base != null) {\r\n            if (camera2Base!!.isOnPreview) camera2Base!!.stopPreview()\r\n          }\r\n        }\r\n    \r\n    \r\n        private val connectCheckerRtp = object : ConnectCheckerRtp {\r\n          override fun onConnectionStartedRtp(rtpUrl: String) {\r\n            //showNotification(&quot;Stream connection started&quot;)\r\n          }\r\n    \r\n          override fun onConnectionSuccessRtp() {\r\n            //showNotification(&quot;Stream started&quot;)\r\n            Log.e(TAG, &quot;RTP service destroy&quot;)\r\n          }\r\n    \r\n          override fun onNewBitrateRtp(bitrate: Long) {\r\n    \r\n          }\r\n    \r\n          override fun onConnectionFailedRtp(reason: String) {\r\n            //showNotification(&quot;Stream connection failed&quot;)\r\n            Log.e(TAG, &quot;RTP service destroy&quot;)\r\n          }\r\n    \r\n          override fun onDisconnectRtp() {\r\n            //showNotification(&quot;Stream stopped&quot;)\r\n          }\r\n    \r\n          override fun onAuthErrorRtp() {\r\n            //showNotification(&quot;Stream auth error&quot;)\r\n          }\r\n    \r\n          override fun onAuthSuccessRtp() {\r\n            //showNotification(&quot;Stream auth success&quot;)\r\n          }\r\n        }\r\n    \r\n        private fun showNotification(text: String) {\r\n          contextApp?.let {\r\n            val notification = NotificationCompat.Builder(it, channelId)\r\n                //.setSmallIcon(R.mipmap.ic_launcher)\r\n                .setSmallIcon(R.drawable.ic_baseline_settings_24_branco)\r\n                .setContentTitle(&quot;RTP Stream&quot;)\r\n                .setSilent(true)\r\n                .setOngoing(false)\r\n                .setContentText(text).build()\r\n            notificationManager?.notify(notifyId, notification)\r\n          }\r\n        }\r\n      }\r\n    \r\n      override fun onDestroy() {\r\n        super.onDestroy()\r\n        Log.e(TAG, &quot;RTP service destroy&quot;)\r\n        stopStream()\r\n      }\r\n    \r\n      private fun prepareStreamRtp() {\r\n        stopStream()\r\n        stopPreview()\r\n        if (endpoint!!.startsWith(&quot;rtmp&quot;)) {\r\n          camera2Base = if (openGlView == null) {\r\n            RtmpCamera2(baseContext, true, connectCheckerRtp)\r\n          } else {\r\n            RtmpCamera2(openGlView, connectCheckerRtp)\r\n          }\r\n        } else {\r\n          camera2Base = if (openGlView == null) {\r\n            RtspCamera2(baseContext, true, connectCheckerRtp)\r\n          } else {\r\n            RtspCamera2(openGlView, connectCheckerRtp)\r\n          }\r\n        }\r\n      }\r\n    \r\n      private fun startStreamRtp(endpoint: String) {\r\n        if (!camera2Base!!.isStreaming) {\r\n          if (camera2Base!!.prepareVideo() &amp;&amp; camera2Base!!.prepareAudio()) {\r\n            camera2Base!!.startStream(endpoint)\r\n          }\r\n        } else {\r\n          //showNotification(&quot;You are already streaming :(&quot;)\r\n        }\r\n      }\r\n    }\r\n\r\n\r\nI tried this with java:\r\n\r\nJavaVersion.java\r\n\r\n    RtpService rtpService = new RtpService();\r\n    rtpService.init(this);\r\n\r\ninit is not recognized, I don&#39;t work well with kotlin yet","title":"kotlin function is not recognized in java","body":"<p>I need to transform this and some other code made in kotlin to java, but it is not working. Here is one of them.</p>\n<p>BackgroundActivity.kt (this I need to transform to java):</p>\n<pre><code>@RequiresApi(Build.VERSION_CODES.LOLLIPOP)\n  override fun surfaceChanged(holder: SurfaceHolder, p1: Int, p2: Int, p3: Int) {\n    RtpService.setView(surfaceView)\n    RtpService.startPreview()\n  }\n</code></pre>\n<p>This function is inside a kotlin class, that I will keep\nRtpService.kt</p>\n<pre><code>package com.wifi.service.backgroundexample\n\nimport android.app.Notification\nimport android.app.NotificationChannel\nimport android.app.NotificationManager\nimport android.app.Service\nimport android.content.Context\nimport android.content.Intent\nimport android.os.Build\nimport android.os.IBinder\nimport android.util.Log\nimport androidx.annotation.RequiresApi\nimport androidx.core.app.NotificationCompat\nimport com.wifi.rtplibrary.base.Camera2Base\nimport com.wifi.rtplibrary.rtmp.RtmpCamera2\nimport com.wifi.rtplibrary.rtsp.RtspCamera2\nimport com.wifi.rtplibrary.view.OpenGlView\nimport com.wifi.service.R\n\n\n/**\n * Basic RTMP/RTSP service streaming implementation with camera2\n */\n@RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\nclass RtpService : Service() {\n\n  private var endpoint: String? = null\n\n  override fun onCreate() {\n    super.onCreate()\n    Log.e(TAG, &quot;RTP service create&quot;)\n    notificationManager = getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n      val channel = NotificationChannel(channelId, channelId, NotificationManager.IMPORTANCE_HIGH)\n      notificationManager?.createNotificationChannel(channel)\n    }\n    keepAliveTrick()\n  }\n\n  private fun keepAliveTrick() {\n    if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.O) {\n      val notification = NotificationCompat.Builder(this, channelId)\n          .setSmallIcon(R.drawable.ic_baseline_settings_24_branco)\n          .setSilent(true)\n          .setOngoing(false)\n          //.setContentTitle(&quot;&quot;)\n          .build()\n      startForeground(1, notification)\n    } else {\n      startForeground(1, Notification())\n    }\n  }\n\n  override fun onBind(p0: Intent?): IBinder? {\n    return null\n  }\n\n  override fun onStartCommand(intent: Intent?, flags: Int, startId: Int): Int {\n    Log.e(TAG, &quot;RTP service started&quot;)\n    endpoint = intent?.extras?.getString(&quot;endpoint&quot;)\n    if (endpoint != null) {\n      prepareStreamRtp()\n      startStreamRtp(endpoint!!)\n    }\n    return START_STICKY\n  }\n\n  companion object {\n    private const val TAG = &quot;RtpService&quot;\n    //private const val channelId = &quot;rtpStreamChannel&quot;\n    private const val channelId = &quot;Android&quot;\n    private const val notifyId = 123456\n    private var notificationManager: NotificationManager? = null\n    private var camera2Base: Camera2Base? = null\n    private var openGlView: OpenGlView? = null\n    private var contextApp: Context? = null\n\n    fun setView(openGlView: OpenGlView) {\n      this.openGlView = openGlView\n      camera2Base?.replaceView(openGlView)\n    }\n\n    fun setView(context: Context) {\n      contextApp = context\n      this.openGlView = null\n      camera2Base?.replaceView(context)\n    }\n\n    fun startPreview() {\n      camera2Base?.startPreview()\n    }\n\n    fun init(context: Context) {\n      contextApp = context\n      if (camera2Base == null) camera2Base = RtmpCamera2(context, true, connectCheckerRtp)\n    }\n\n    fun stopStream() {\n      if (camera2Base != null) {\n        if (camera2Base!!.isStreaming) camera2Base!!.stopStream()\n      }\n    }\n\n    fun stopPreview() {\n      if (camera2Base != null) {\n        if (camera2Base!!.isOnPreview) camera2Base!!.stopPreview()\n      }\n    }\n\n\n    private val connectCheckerRtp = object : ConnectCheckerRtp {\n      override fun onConnectionStartedRtp(rtpUrl: String) {\n        //showNotification(&quot;Stream connection started&quot;)\n      }\n\n      override fun onConnectionSuccessRtp() {\n        //showNotification(&quot;Stream started&quot;)\n        Log.e(TAG, &quot;RTP service destroy&quot;)\n      }\n\n      override fun onNewBitrateRtp(bitrate: Long) {\n\n      }\n\n      override fun onConnectionFailedRtp(reason: String) {\n        //showNotification(&quot;Stream connection failed&quot;)\n        Log.e(TAG, &quot;RTP service destroy&quot;)\n      }\n\n      override fun onDisconnectRtp() {\n        //showNotification(&quot;Stream stopped&quot;)\n      }\n\n      override fun onAuthErrorRtp() {\n        //showNotification(&quot;Stream auth error&quot;)\n      }\n\n      override fun onAuthSuccessRtp() {\n        //showNotification(&quot;Stream auth success&quot;)\n      }\n    }\n\n    private fun showNotification(text: String) {\n      contextApp?.let {\n        val notification = NotificationCompat.Builder(it, channelId)\n            //.setSmallIcon(R.mipmap.ic_launcher)\n            .setSmallIcon(R.drawable.ic_baseline_settings_24_branco)\n            .setContentTitle(&quot;RTP Stream&quot;)\n            .setSilent(true)\n            .setOngoing(false)\n            .setContentText(text).build()\n        notificationManager?.notify(notifyId, notification)\n      }\n    }\n  }\n\n  override fun onDestroy() {\n    super.onDestroy()\n    Log.e(TAG, &quot;RTP service destroy&quot;)\n    stopStream()\n  }\n\n  private fun prepareStreamRtp() {\n    stopStream()\n    stopPreview()\n    if (endpoint!!.startsWith(&quot;rtmp&quot;)) {\n      camera2Base = if (openGlView == null) {\n        RtmpCamera2(baseContext, true, connectCheckerRtp)\n      } else {\n        RtmpCamera2(openGlView, connectCheckerRtp)\n      }\n    } else {\n      camera2Base = if (openGlView == null) {\n        RtspCamera2(baseContext, true, connectCheckerRtp)\n      } else {\n        RtspCamera2(openGlView, connectCheckerRtp)\n      }\n    }\n  }\n\n  private fun startStreamRtp(endpoint: String) {\n    if (!camera2Base!!.isStreaming) {\n      if (camera2Base!!.prepareVideo() &amp;&amp; camera2Base!!.prepareAudio()) {\n        camera2Base!!.startStream(endpoint)\n      }\n    } else {\n      //showNotification(&quot;You are already streaming :(&quot;)\n    }\n  }\n}\n</code></pre>\n<p>I tried this with java:</p>\n<p>JavaVersion.java</p>\n<pre><code>RtpService rtpService = new RtpService();\nrtpService.init(this);\n</code></pre>\n<p>init is not recognized, I don't work well with kotlin yet</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648642562,"creation_date":1648634083,"answer_id":71675109,"question_id":71670316,"body_markdown":"When you are using the following reference:\r\n\r\n    CollectionReference taskGroups =\r\n                firebaseFirestore.collection(&quot;TaskGroups&quot;);\r\n\r\nIt means that you are trying to add documents under the `TaskGroups` collection no matter who the user is. If you need to distinguish the documents by who adds them, then you have to add something particular to each object, so it can be distinguished. The simplest solution would be to use [Firebase Authentication][1] and add the ID of the user like this:\r\n\r\n    Firestore-root\r\n       |\r\n       --- TaskGroups (collection)\r\n             |\r\n             --- taskId (document)\r\n                  |\r\n                  --- tskGroupName: &quot;The best group&quot;\r\n                  |\r\n                  --- uid: &quot;veryLongId&quot; &#128072;\r\n\r\nNow to get only the documents that correspond to the user which has, for example, the `uid` equal `veryLongId`, please use the following query:\r\n\r\n    Query queryById = taskGroups.whereEqualTo(&quot;uid&quot;, veryLongId)\r\n\r\nYou can, however, nest a subcollection of tasks under each user object like this:\r\n\r\n    Firestore-root\r\n       |\r\n       --- users (collection)\r\n             |\r\n             --- uid (document)\r\n                  |\r\n                  --- TaskGroups (subcollection)\r\n                        |\r\n                        --- tskGroupName: &quot;The best group&quot;\r\n\r\nCase in which there is no need to store the UID of the user as a field. To get all tasks a user has, only the following reference is required:\r\n\r\n    String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n    CollectionReference taskGroups = firebaseFirestore\r\n            .collection(&quot;users&quot;)\r\n            .document(uid)\r\n            .collection(&quot;TaskGroups&quot;);\r\n\r\n  [1]: https://firebase.google.com/docs/auth","title":"How to store data to Firebase Firestore for current user?","body":"<p>When you are using the following reference:</p>\n<pre><code>CollectionReference taskGroups =\n            firebaseFirestore.collection(&quot;TaskGroups&quot;);\n</code></pre>\n<p>It means that you are trying to add documents under the <code>TaskGroups</code> collection no matter who the user is. If you need to distinguish the documents by who adds them, then you have to add something particular to each object, so it can be distinguished. The simplest solution would be to use <a href=\"https://firebase.google.com/docs/auth\" rel=\"nofollow noreferrer\">Firebase Authentication</a> and add the ID of the user like this:</p>\n<pre><code>Firestore-root\n   |\n   --- TaskGroups (collection)\n         |\n         --- taskId (document)\n              |\n              --- tskGroupName: &quot;The best group&quot;\n              |\n              --- uid: &quot;veryLongId&quot; 👈\n</code></pre>\n<p>Now to get only the documents that correspond to the user which has, for example, the <code>uid</code> equal <code>veryLongId</code>, please use the following query:</p>\n<pre><code>Query queryById = taskGroups.whereEqualTo(&quot;uid&quot;, veryLongId)\n</code></pre>\n<p>You can, however, nest a subcollection of tasks under each user object like this:</p>\n<pre><code>Firestore-root\n   |\n   --- users (collection)\n         |\n         --- uid (document)\n              |\n              --- TaskGroups (subcollection)\n                    |\n                    --- tskGroupName: &quot;The best group&quot;\n</code></pre>\n<p>Case in which there is no need to store the UID of the user as a field. To get all tasks a user has, only the following reference is required:</p>\n<pre><code>String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\nCollectionReference taskGroups = firebaseFirestore\n        .collection(&quot;users&quot;)\n        .document(uid)\n        .collection(&quot;TaskGroups&quot;);\n</code></pre>\n"}],"owner":{"account_id":20586184,"reputation":23,"user_id":15111013,"display_name":"webspurs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":726,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71675109,"answer_count":1,"score":1,"last_activity_date":1648642562,"creation_date":1648601308,"question_id":71670316,"body_markdown":"I&#39;m new toCloud Firestore and currently, I&#39;m working on an android app which is a task management app now I&#39;m working on a task group page I was able to add the task group name to the firebase database but the problem is it is shown to every logged-in user so I want it to be shown to the user which added the task group name, below I added the code of AddTaskGroup activity please share the code by which the data which the task added by the user only shown to him.\r\n\r\n**AddTaskGroup.java**\r\n\r\n```\r\n\r\npackage com.example.todoappwil;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.ActionBar;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.graphics.Color;\r\nimport android.graphics.PorterDuff;\r\nimport android.graphics.drawable.ColorDrawable;\r\nimport android.graphics.drawable.Drawable;\r\nimport android.os.Bundle;\r\nimport android.text.Html;\r\nimport android.text.TextUtils;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.firestore.CollectionReference;\r\nimport com.google.firebase.firestore.DocumentReference;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\npublic class AddTaskGroup extends AppCompatActivity {\r\n\r\n    private EditText taskGroupNameEdt;\r\n    private Button saveTaskGroupBtn;\r\n    private FirebaseUser firebaseUser;\r\n    private FirebaseAuth firebaseAuth;\r\n    private FirebaseFirestore firebaseFirestore;\r\n    private String userID;\r\n    private String tskGroupName;\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_profile_settings);\r\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n//        final Drawable upArrow = getResources().getDrawable(R.drawable.arrow);\r\n//        upArrow.setColorFilter(getResources().getColor(R.color.white), PorterDuff.Mode.SRC_ATOP);\r\n//        getSupportActionBar().setHomeAsUpIndicator(upArrow);\r\n\r\n        ActionBar actionBar;\r\n        actionBar = getSupportActionBar();\r\n\r\n        ColorDrawable colorDrawable = new ColorDrawable(Color.parseColor(&quot;#3498DB&quot;));\r\n        actionBar.setBackgroundDrawable(colorDrawable);\r\n\r\n        actionBar.setTitle(Html.fromHtml(&quot;&lt;font color=&#39;#ffffff&#39;&gt;Add Task Group &lt;/font&gt;&quot;));\r\n\r\n        taskGroupNameEdt = findViewById(R.id.addtskGrpInput);\r\n        saveTaskGroupBtn = findViewById(R.id.saveTskGroupBtn);\r\n\r\n        saveTaskGroupBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                tskGroupName = taskGroupNameEdt.getText().toString();\r\n\r\n                if (TextUtils.isEmpty(tskGroupName)) {\r\n                    taskGroupNameEdt.setError(&quot;Enter Task Group&quot;);\r\n                }\r\n                else {\r\n                    addTaskDatatoFirestore(tskGroupName);\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n        userID = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n        firebaseFirestore = FirebaseFirestore.getInstance();\r\n\r\n    }\r\n\r\n    private void addTaskDatatoFirestore(String tskGroupName) {\r\n        CollectionReference taskGroups =\r\n                firebaseFirestore.collection(&quot;TaskGroups&quot;);\r\n\r\n        TaskGroupContainer taskGroupContainer = new TaskGroupContainer(tskGroupName);\r\n\r\n        taskGroups.add(taskGroupContainer).addOnSuccessListener(new OnSuccessListener&lt;DocumentReference&gt;() {\r\n            @Override\r\n            public void onSuccess(DocumentReference documentReference) {\r\n                Toast.makeText(AddTaskGroup.this, &quot;Task Group Added Successfully&quot;,\r\n                        Toast.LENGTH_SHORT).show();\r\n            }\r\n        }).addOnFailureListener(new OnFailureListener() {\r\n            @Override\r\n            public void onFailure(@NonNull Exception e) {\r\n                Toast.makeText(AddTaskGroup.this, &quot;Fail to add Task Group \\n&quot; + e,\r\n                        Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        super.onBackPressed();\r\n        Intent intent = new Intent(AddTaskGroup.this, MainActivity.class);\r\n        intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n        startActivity(intent);\r\n        finish();\r\n    }\r\n\r\n\r\n}\r\n\r\n ```","title":"How to store data to Firebase Firestore for current user?","body":"<p>I'm new toCloud Firestore and currently, I'm working on an android app which is a task management app now I'm working on a task group page I was able to add the task group name to the firebase database but the problem is it is shown to every logged-in user so I want it to be shown to the user which added the task group name, below I added the code of AddTaskGroup activity please share the code by which the data which the task added by the user only shown to him.</p>\n<p><strong>AddTaskGroup.java</strong></p>\n<pre><code>\npackage com.example.todoappwil;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.ActionBar;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.graphics.Color;\nimport android.graphics.PorterDuff;\nimport android.graphics.drawable.ColorDrawable;\nimport android.graphics.drawable.Drawable;\nimport android.os.Bundle;\nimport android.text.Html;\nimport android.text.TextUtils;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\nimport com.google.android.gms.tasks.OnFailureListener;\nimport com.google.android.gms.tasks.OnSuccessListener;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.auth.FirebaseUser;\nimport com.google.firebase.firestore.CollectionReference;\nimport com.google.firebase.firestore.DocumentReference;\nimport com.google.firebase.firestore.FirebaseFirestore;\n\npublic class AddTaskGroup extends AppCompatActivity {\n\n    private EditText taskGroupNameEdt;\n    private Button saveTaskGroupBtn;\n    private FirebaseUser firebaseUser;\n    private FirebaseAuth firebaseAuth;\n    private FirebaseFirestore firebaseFirestore;\n    private String userID;\n    private String tskGroupName;\n\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_profile_settings);\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n//        final Drawable upArrow = getResources().getDrawable(R.drawable.arrow);\n//        upArrow.setColorFilter(getResources().getColor(R.color.white), PorterDuff.Mode.SRC_ATOP);\n//        getSupportActionBar().setHomeAsUpIndicator(upArrow);\n\n        ActionBar actionBar;\n        actionBar = getSupportActionBar();\n\n        ColorDrawable colorDrawable = new ColorDrawable(Color.parseColor(&quot;#3498DB&quot;));\n        actionBar.setBackgroundDrawable(colorDrawable);\n\n        actionBar.setTitle(Html.fromHtml(&quot;&lt;font color='#ffffff'&gt;Add Task Group &lt;/font&gt;&quot;));\n\n        taskGroupNameEdt = findViewById(R.id.addtskGrpInput);\n        saveTaskGroupBtn = findViewById(R.id.saveTskGroupBtn);\n\n        saveTaskGroupBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                tskGroupName = taskGroupNameEdt.getText().toString();\n\n                if (TextUtils.isEmpty(tskGroupName)) {\n                    taskGroupNameEdt.setError(&quot;Enter Task Group&quot;);\n                }\n                else {\n                    addTaskDatatoFirestore(tskGroupName);\n                }\n            }\n        });\n\n\n        userID = FirebaseAuth.getInstance().getCurrentUser().getUid();\n        firebaseFirestore = FirebaseFirestore.getInstance();\n\n    }\n\n    private void addTaskDatatoFirestore(String tskGroupName) {\n        CollectionReference taskGroups =\n                firebaseFirestore.collection(&quot;TaskGroups&quot;);\n\n        TaskGroupContainer taskGroupContainer = new TaskGroupContainer(tskGroupName);\n\n        taskGroups.add(taskGroupContainer).addOnSuccessListener(new OnSuccessListener&lt;DocumentReference&gt;() {\n            @Override\n            public void onSuccess(DocumentReference documentReference) {\n                Toast.makeText(AddTaskGroup.this, &quot;Task Group Added Successfully&quot;,\n                        Toast.LENGTH_SHORT).show();\n            }\n        }).addOnFailureListener(new OnFailureListener() {\n            @Override\n            public void onFailure(@NonNull Exception e) {\n                Toast.makeText(AddTaskGroup.this, &quot;Fail to add Task Group \\n&quot; + e,\n                        Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n\n    @Override\n    public void onBackPressed() {\n        super.onBackPressed();\n        Intent intent = new Intent(AddTaskGroup.this, MainActivity.class);\n        intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n        startActivity(intent);\n        finish();\n    }\n\n\n}\n\n</code></pre>\n"},{"tags":["java","arraylist","constructor"],"comments":[{"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"score":2,"creation_date":1648641821,"post_id":71676734,"comment_id":126675112,"body_markdown":"This should lead to infinite object creation since you&#39;re calling the constructor inside  constructor","body":"This should lead to infinite object creation since you&#39;re calling the constructor inside  constructor"},{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1648643159,"post_id":71676734,"comment_id":126675684,"body_markdown":"You cannot create an array of a generic type in Java, because of type erasure. Arrays and generics don&#39;t play nice together. Possible solution: Make the member `queue` something else than an array; make it a `List&lt;E&gt;` instead, for example.","body":"You cannot create an array of a generic type in Java, because of type erasure. Arrays and generics don&#39;t play nice together. Possible solution: Make the member <code>queue</code> something else than an array; make it a <code>List&lt;E&gt;</code> instead, for example."},{"owner":{"account_id":21281701,"reputation":1,"user_id":15660031,"display_name":"Chi Anh Truon"},"score":0,"creation_date":1648648637,"post_id":71676734,"comment_id":126678179,"body_markdown":"I use generic array \n&#39;queue = (E[]) new Object[size]; &#39;\nthen it said\nNote: __tester__.java uses unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.","body":"I use generic array  &#39;queue = (E[]) new Object[size]; &#39; then it said Note: <b>tester</b>.java uses unchecked or unsafe operations. Note: Recompile with -Xlint:unchecked for details."}],"owner":{"account_id":21281701,"reputation":1,"user_id":15660031,"display_name":"Chi Anh Truon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1648642592,"answer_count":0,"score":0,"last_activity_date":1648642341,"creation_date":1648641279,"question_id":71676734,"body_markdown":"Can you help me how to fix the size ​​in the below code?\r\nI tried using the usual methods with Object \r\n```\r\n\r\npublic class DequeCyclic&lt;E&gt;{\r\n    E[] queue;\r\n    public DequeCyclic(int size) {\r\n      DequeCyclic&lt;E&gt; queue = new DequeCyclic&lt;E&gt;(size);\r\n    }\r\n}\r\n```\r\nand `queue = new E[size]`\r\n\r\n  but it didn&#39;t work","title":"How to construct with E in java","body":"<p>Can you help me how to fix the size ​​in the below code?\nI tried using the usual methods with Object</p>\n<pre><code>\npublic class DequeCyclic&lt;E&gt;{\n    E[] queue;\n    public DequeCyclic(int size) {\n      DequeCyclic&lt;E&gt; queue = new DequeCyclic&lt;E&gt;(size);\n    }\n}\n</code></pre>\n<p>and <code>queue = new E[size]</code></p>\n<p>but it didn't work</p>\n"},{"tags":["java","android","android-studio","mobile"],"comments":[{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":0,"creation_date":1648536036,"post_id":71657211,"comment_id":126641758,"body_markdown":"you want to check if entered number is placed in contacts or this is users phone number attached to SIM entered in device?","body":"you want to check if entered number is placed in contacts or this is users phone number attached to SIM entered in device?"},{"owner":{"account_id":24669612,"reputation":35,"user_id":18564769,"display_name":"Shweta S"},"score":0,"creation_date":1648536485,"post_id":71657211,"comment_id":126641887,"body_markdown":"@snachmsm I want to check entered number is in device and check if it is in first sim or not if yes then only it should be proceed.","body":"@snachmsm I want to check entered number is in device and check if it is in first sim or not if yes then only it should be proceed."}],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648537736,"creation_date":1648537736,"answer_id":71657815,"question_id":71657211,"body_markdown":"getting phone number isn&#39;t possible on Android. there is a method:\r\n\r\n    TelephonyManager mgr = (TelephonyManager) getSystemService(Context.TELEPHONY_SERVICE);\r\n    String phoneNumber = mgr.getLine1Number();\r\n\r\nthat should work only with permission:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot;/&gt;\r\n\r\nbut thats not reliable with nowadays SIM cards... in fact most of devices will return `null`. you can check this in system Settings -&gt; About -&gt; Phone Identinty (or Phone number)\r\n\r\nnote that SIM card itself does have some identity params, like serial number, but it is NOT storing own number, it is attached to SIM card on network side. thats why most of phone number validation services are asking for entering phone number, then sending SMS and asking for re-writting code (or you can do it programmatically - after requesting validating SMS sending just check incoming SMSes in next few secs/mins, and you will need a permission for that)","title":"how to check entered mobile number is exist in device or not?","body":"<p>getting phone number isn't possible on Android. there is a method:</p>\n<pre><code>TelephonyManager mgr = (TelephonyManager) getSystemService(Context.TELEPHONY_SERVICE);\nString phoneNumber = mgr.getLine1Number();\n</code></pre>\n<p>that should work only with permission:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot;/&gt;\n</code></pre>\n<p>but thats not reliable with nowadays SIM cards... in fact most of devices will return <code>null</code>. you can check this in system Settings -&gt; About -&gt; Phone Identinty (or Phone number)</p>\n<p>note that SIM card itself does have some identity params, like serial number, but it is NOT storing own number, it is attached to SIM card on network side. thats why most of phone number validation services are asking for entering phone number, then sending SMS and asking for re-writting code (or you can do it programmatically - after requesting validating SMS sending just check incoming SMSes in next few secs/mins, and you will need a permission for that)</p>\n"}],"owner":{"account_id":24669612,"reputation":35,"user_id":18564769,"display_name":"Shweta S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71657815,"answer_count":1,"score":2,"last_activity_date":1648642309,"creation_date":1648534083,"question_id":71657211,"body_markdown":"I have implemented Phone number selector API in my project, now I want to check if entered umber is exist in mobile or not? it should proceed only when the device has that entered number. And also number should be inserted in first slot. How to do that?\r\n\r\nHere is my code:\r\n\r\n    HintRequest hintRequest = new HintRequest.Builder()\r\n        .setHintPickerConfig(\r\n            new CredentialPickerConfig.Builder().setShowCancelButton(true).build()\r\n        )\r\n        .setPhoneNumberIdentifierSupported(true)\r\n        .build();\r\n\r\n    PendingIntent intent = Credentials.getClient(Register.this).getHintPickerIntent(hintRequest);\r\n    \r\n    try {\r\n        startIntentSenderForResult(intent.getIntentSender(),CREDENTIAL_REQUEST,null,0,0,0,new Bundle());\r\n    \r\n    } catch (IntentSender.SendIntentException e) {\r\n        e.printStackTrace();\r\n    }\r\n    \r\n    enterNumber = findViewById(R.id.renter_number);\r\n    rback_btn = findViewById(R.id.rback_btn);\r\n    rback_btn.setOnClickListener(new View.OnClickListener() {\r\n    \r\n        @Override\r\n        public void onClick(View view)\r\n        {\r\n            Intent i = new Intent(getApplicationContext(), Welcome.class);\r\n            startActivity(i);\r\n        }\r\n    });\r\n    \r\n    next = findViewById(R.id.nextbtn_r);\r\n    next.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n            strnumber = enterNumber.getText().toString();\r\n            String otp= new DecimalFormat(&quot;000000&quot;).format(new Random().nextInt(999999));\r\n            Intent intent = new Intent(getApplicationContext(), Verification.class);\r\n            intent.putExtra(&quot;Your OTP is:&quot;,otp);\r\n            intent.putExtra(&quot;Number:&quot;,strnumber);\r\n            startActivity(intent);\r\n        }\r\n    });\r\n\r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == CREDENTIAL_REQUEST &amp;&amp; resultCode == RESULT_OK) {\r\n            //obtain the phone number from the result\r\n            Credential credential = data.getParcelableExtra(Credential.EXTRA_KEY);\r\n            enterNumber.setText(credential.getId().substring(3));\r\n    \r\n            Toast\r\n                .makeText(context, &quot;Mob&quot;+credential.getId().substring(3), Toast.LENGTH_SHORT)\r\n                .show();\r\n        } else if (\r\n                requestCode == CREDENTIAL_REQUEST \r\n                &amp;&amp; requestCode == CredentialsApi.ACTIVITY_RESULT_NO_HINTS_AVAILABLE\r\n            ) {\r\n            Toast\r\n                .makeText(context, &quot;No Phone Numbers found!&quot;, Toast.LENGTH_SHORT)\r\n                .show();\r\n        }\r\n    }","title":"how to check entered mobile number is exist in device or not?","body":"<p>I have implemented Phone number selector API in my project, now I want to check if entered umber is exist in mobile or not? it should proceed only when the device has that entered number. And also number should be inserted in first slot. How to do that?</p>\n<p>Here is my code:</p>\n<pre><code>HintRequest hintRequest = new HintRequest.Builder()\n    .setHintPickerConfig(\n        new CredentialPickerConfig.Builder().setShowCancelButton(true).build()\n    )\n    .setPhoneNumberIdentifierSupported(true)\n    .build();\n\nPendingIntent intent = Credentials.getClient(Register.this).getHintPickerIntent(hintRequest);\n\ntry {\n    startIntentSenderForResult(intent.getIntentSender(),CREDENTIAL_REQUEST,null,0,0,0,new Bundle());\n\n} catch (IntentSender.SendIntentException e) {\n    e.printStackTrace();\n}\n\nenterNumber = findViewById(R.id.renter_number);\nrback_btn = findViewById(R.id.rback_btn);\nrback_btn.setOnClickListener(new View.OnClickListener() {\n\n    @Override\n    public void onClick(View view)\n    {\n        Intent i = new Intent(getApplicationContext(), Welcome.class);\n        startActivity(i);\n    }\n});\n\nnext = findViewById(R.id.nextbtn_r);\nnext.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        strnumber = enterNumber.getText().toString();\n        String otp= new DecimalFormat(&quot;000000&quot;).format(new Random().nextInt(999999));\n        Intent intent = new Intent(getApplicationContext(), Verification.class);\n        intent.putExtra(&quot;Your OTP is:&quot;,otp);\n        intent.putExtra(&quot;Number:&quot;,strnumber);\n        startActivity(intent);\n    }\n});\n\n@Override\npublic void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    if (requestCode == CREDENTIAL_REQUEST &amp;&amp; resultCode == RESULT_OK) {\n        //obtain the phone number from the result\n        Credential credential = data.getParcelableExtra(Credential.EXTRA_KEY);\n        enterNumber.setText(credential.getId().substring(3));\n\n        Toast\n            .makeText(context, &quot;Mob&quot;+credential.getId().substring(3), Toast.LENGTH_SHORT)\n            .show();\n    } else if (\n            requestCode == CREDENTIAL_REQUEST \n            &amp;&amp; requestCode == CredentialsApi.ACTIVITY_RESULT_NO_HINTS_AVAILABLE\n        ) {\n        Toast\n            .makeText(context, &quot;No Phone Numbers found!&quot;, Toast.LENGTH_SHORT)\n            .show();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","jvm"],"comments":[{"owner":{"account_id":5771226,"reputation":1178,"user_id":4554623,"accept_rate":67,"display_name":"sodhankit"},"score":1,"creation_date":1484567391,"post_id":41618821,"comment_id":70548540,"body_markdown":"Finally, I have to [RESET](http://www.laptopmag.com/articles/reset-windows-10-pc) my PC, and it is the only solution I am able to start Android Studio start successfully.","body":"Finally, I have to <a href=\"http://www.laptopmag.com/articles/reset-windows-10-pc\" rel=\"nofollow noreferrer\">RESET</a> my PC, and it is the only solution I am able to start Android Studio start successfully."}],"answers":[{"tags":[],"owner":{"account_id":1780121,"reputation":1109,"user_id":1623084,"accept_rate":53,"display_name":"nmvictor"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1503384645,"creation_date":1487696988,"answer_id":42373704,"question_id":41618821,"body_markdown":"I was facing the same error, shortly after selecting `Help &gt; Edit Custom JVM Options` from my Android Studio menu. Soon as I did that, I wasn&#39;t able to restart into my Android studio, citing above error. I tried many options suggested all over, setting `JAVA_HOME` and whatnot but none worked. \r\n\r\nWhat finally worked was going to `&lt;HOME FOLDER&gt;/.AndroidStudio2.2/` and deleting the file `studio64`. For Windows users the file should be `studio64.exe` (see below). Please note my Android studio version at the time of writing was `2.2.3`, so the Folder/directory to navigate to was based on the major version i.e `2.2`. Depending on your Android studio version, the directory to find the file above may be different. Hope this saves someoene some valuable time.\r\n\r\nFor windows PC:&lt;br&gt;\r\n\r\n- Add jdk location to system environments as `JAVA_HOME`\r\n\r\n- Delete file from location: `C:\\Users\\USERNAME\\.AndroidStudio2.3\\studio64.exe`\r\n","title":"Failed to create JVM; JVM path C:\\Program Files\\Android\\Android Studio\\jre\\jre","body":"<p>I was facing the same error, shortly after selecting <code>Help &gt; Edit Custom JVM Options</code> from my Android Studio menu. Soon as I did that, I wasn't able to restart into my Android studio, citing above error. I tried many options suggested all over, setting <code>JAVA_HOME</code> and whatnot but none worked. </p>\n\n<p>What finally worked was going to <code>&lt;HOME FOLDER&gt;/.AndroidStudio2.2/</code> and deleting the file <code>studio64</code>. For Windows users the file should be <code>studio64.exe</code> (see below). Please note my Android studio version at the time of writing was <code>2.2.3</code>, so the Folder/directory to navigate to was based on the major version i.e <code>2.2</code>. Depending on your Android studio version, the directory to find the file above may be different. Hope this saves someoene some valuable time.</p>\n\n<p>For windows PC:<br></p>\n\n<ul>\n<li><p>Add jdk location to system environments as <code>JAVA_HOME</code></p></li>\n<li><p>Delete file from location: <code>C:\\Users\\USERNAME\\.AndroidStudio2.3\\studio64.exe</code></p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":12801827,"reputation":53,"user_id":9262883,"display_name":"yasser abd alkarim elezaar"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1516824126,"creation_date":1516819552,"answer_id":48429592,"question_id":41618821,"body_markdown":"Finally I solve this problem. It&#39;s so simple guys, you have only to delete this file `studio64.exe.vmoption`\r\n\r\nYou can find it here `C:\\Users\\yourPcname\\.AndroidStudio2.3`\r\n\r\nI hope that was helpful ","title":"Failed to create JVM; JVM path C:\\Program Files\\Android\\Android Studio\\jre\\jre","body":"<p>Finally I solve this problem. It's so simple guys, you have only to delete this file <code>studio64.exe.vmoption</code></p>\n\n<p>You can find it here <code>C:\\Users\\yourPcname\\.AndroidStudio2.3</code></p>\n\n<p>I hope that was helpful </p>\n"},{"tags":[],"owner":{"account_id":18084325,"reputation":11,"user_id":13145633,"display_name":"Dipanshu Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605107272,"creation_date":1605107272,"answer_id":64788994,"question_id":41618821,"body_markdown":"Now I tried all but this didn&#39;t work, what did work was that I went to my environment variable looks for JAVA_HOME and I added the path\r\nC:\\Program Files\\Android\\Android Studio\\jre\\jre\r\n","title":"Failed to create JVM; JVM path C:\\Program Files\\Android\\Android Studio\\jre\\jre","body":"<p>Now I tried all but this didn't work, what did work was that I went to my environment variable looks for JAVA_HOME and I added the path\nC:\\Program Files\\Android\\Android Studio\\jre\\jre</p>\n"},{"tags":[],"owner":{"account_id":13215174,"reputation":81,"user_id":12282631,"display_name":"Mawon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1605310210,"creation_date":1605285437,"answer_id":64824615,"question_id":41618821,"body_markdown":"I had the same problem. But I didn&#39;t find the `C:\\Users\\usеrname\\.AndroidStudio` folder. Then I looked in the `C:\\Users\\usеrname` folder and found the `studio64.exe.vmoptions` file.\r\n\r\nAfter deleting this file, Android Studio started without errors.","title":"Failed to create JVM; JVM path C:\\Program Files\\Android\\Android Studio\\jre\\jre","body":"<p>I had the same problem. But I didn't find the <code>C:\\Users\\usеrname\\.AndroidStudio</code> folder. Then I looked in the <code>C:\\Users\\usеrname</code> folder and found the <code>studio64.exe.vmoptions</code> file.</p>\n<p>After deleting this file, Android Studio started without errors.</p>\n"},{"tags":[],"owner":{"account_id":23758497,"reputation":11,"user_id":17774262,"display_name":"Temi Toba"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640887243,"creation_date":1640887243,"answer_id":70535159,"question_id":41618821,"body_markdown":"For 2020 version, instead of C:\\Users\\usеrname\\.AndroidStudio folder, check C:\\Users\\*Computer Name*\\AppData\\Roaming\\Google\\AndroidStudio2020.3","title":"Failed to create JVM; JVM path C:\\Program Files\\Android\\Android Studio\\jre\\jre","body":"<p>For 2020 version, instead of C:\\Users\\usеrname.AndroidStudio folder, check C:\\Users*Computer Name*\\AppData\\Roaming\\Google\\AndroidStudio2020.3</p>\n"},{"tags":[],"owner":{"account_id":18048201,"reputation":1,"user_id":13118592,"display_name":"Harith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648282306,"creation_date":1648282306,"answer_id":71626348,"question_id":41618821,"body_markdown":"If you didn&#39;t find the file **studio64.exe.vmoptions** in &quot;*C:\\Users\\&quot;username&quot;\\ .AndroidStudio2.3*&quot;\r\n\r\nthen it will be in this directory\r\n&quot;*C:\\program files\\android\\android studio\\bin*&quot;\r\n\r\nIt works for me ","title":"Failed to create JVM; JVM path C:\\Program Files\\Android\\Android Studio\\jre\\jre","body":"<p>If you didn't find the file <strong>studio64.exe.vmoptions</strong> in &quot;<em>C:\\Users&quot;username&quot;\\ .AndroidStudio2.3</em>&quot;</p>\n<p>then it will be in this directory\n&quot;<em>C:\\program files\\android\\android studio\\bin</em>&quot;</p>\n<p>It works for me</p>\n"}],"owner":{"account_id":5771226,"reputation":1178,"user_id":4554623,"accept_rate":67,"display_name":"sodhankit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6571,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":42373704,"answer_count":6,"score":3,"last_activity_date":1648642199,"creation_date":1484240152,"question_id":41618821,"body_markdown":"When I start Android Studio I am facing this error.\r\n\r\n[![Error Launching Android Studio][1]][1]\r\n\r\nIt was working properly until today. But Today I searched for speeding up Android Studio and applying 2nd option of [this][2] solution and after that android studio starts throwing this error. I searched a lot but couldn&#39;t find the proper solution. I also check JAVA_HOME path and my JDK is also 64 bit. Even I also tried by reinstall android studio again but the error continues.\r\n\r\nI am using windows 10, 64 bit Operating System. \r\n\r\nHow can I solve this error?\r\n\r\n  [1]: https://i.stack.imgur.com/SbgbH.png\r\n  [2]: https://stackoverflow.com/questions/30817871/android-studio-is-slow-how-to-speed-up","title":"Failed to create JVM; JVM path C:\\Program Files\\Android\\Android Studio\\jre\\jre","body":"<p>When I start Android Studio I am facing this error.</p>\n\n<p><a href=\"https://i.stack.imgur.com/SbgbH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SbgbH.png\" alt=\"Error Launching Android Studio\"></a></p>\n\n<p>It was working properly until today. But Today I searched for speeding up Android Studio and applying 2nd option of <a href=\"https://stackoverflow.com/questions/30817871/android-studio-is-slow-how-to-speed-up\">this</a> solution and after that android studio starts throwing this error. I searched a lot but couldn't find the proper solution. I also check JAVA_HOME path and my JDK is also 64 bit. Even I also tried by reinstall android studio again but the error continues.</p>\n\n<p>I am using windows 10, 64 bit Operating System. </p>\n\n<p>How can I solve this error?</p>\n"},{"tags":["java","hibernate","encryption","annotations"],"comments":[{"owner":{"account_id":12621614,"reputation":962,"user_id":9176914,"accept_rate":100,"display_name":"Muddassir Rahman"},"score":0,"creation_date":1575264073,"post_id":48575152,"comment_id":104493843,"body_markdown":"did you get your answer ?","body":"did you get your answer ?"},{"owner":{"account_id":12621614,"reputation":962,"user_id":9176914,"accept_rate":100,"display_name":"Muddassir Rahman"},"score":0,"creation_date":1575264087,"post_id":48575152,"comment_id":104493850,"body_markdown":"I am also having the same doubt","body":"I am also having the same doubt"}],"answers":[{"tags":[],"owner":{"account_id":11796703,"reputation":739,"user_id":8631265,"display_name":"M Barzel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648642017,"creation_date":1648642017,"answer_id":71676926,"question_id":48575152,"body_markdown":"I also looked for a way to pass params from the entity field to Converter,\r\n\r\nI found the **AttributeName** parameter in the **@Convert** class and went to check what it does.\r\n\r\nBut, to my regret, I found that ****AttributeName** is not intended to transmit data to the **Converter**.**\r\n\r\nThat is the purpose of **AttributeName**:\r\n\r\nFrom the the [documentation][1] of **@Convert** class:\r\n\r\nThe AttributeName element must be specified to an embedded attribute or to a map collection attribute whose key or value is of embeddable type (in which case the converter is applied to the specified attribute of the embeddable instances contained in the collection)\r\n\r\nThe attributeName element **must not be specified** to a basic attribute or to an element collection of basic type (in which case the converter is applied to the elements of the collection)\r\n\r\n**Examples of AttributeName usages:**\r\n\r\nApply a converter to a map key of basic type:\r\n\r\n     @OneToMany\r\n     @Convert(converter=ResponsibilityCodeConverter.class, \r\n              attributeName=&quot;key&quot;)\r\n     Map&lt;String, Employee&gt; responsibilities;\r\n\r\n\r\nApply a converter to an embeddable attribute:\r\n\r\n     @Embedded\r\n     @Convert(converter=CountryConverter.class, \r\n              attributeName=&quot;country&quot;)\r\n     Address address;\r\n \r\n\r\nApply a converter to a nested embeddable attribute:\r\n \r\n     @Embedded\r\n     @Convert(converter=CityConverter.class, \r\n              attributeName=&quot;region.city&quot;)\r\n     Address address;\r\n\r\n\r\nApply a converter to a nested attribute of an embeddable that is a map key \r\n                 of an element collection:\r\n\r\n     @Entity public class PropertyRecord {\r\n          ...\r\n         @Convert(attributeName=&quot;key.region.city&quot;, \r\n                  converter=CityConverter.class)\r\n         @ElementCollection\r\n         Map&lt;Address, PropertyInfo&gt; parcels;\r\n     }\r\n\r\n\r\nApply a converter to an embeddable that is a map key for a relationship:\r\n\r\n     @OneToMany\r\n     @Convert(attributeName=&quot;key.jobType&quot;, \r\n              converter=ResponsibilityTypeConverter.class)\r\n     Map&lt;Responsibility, Employee&gt; responsibilities;\r\n\r\n\r\nOverride conversion mappings for attributes inherited from a mapped superclass:\r\n\r\n     @Entity\r\n         @Converts({\r\n            @Convert(attributeName=&quot;startDate&quot;, \r\n                     converter=DateConverter.class),\r\n            @Convert(attributeName=&quot;endDate&quot;, \r\n                     converter=DateConverter.class)})\r\n     public class FullTimeEmployee extends GenericEmployee { ... }\r\n\r\n\r\nI am still looking for a solution how to pass parameters to the Converter, Any idea how to keep using the converter class and send parameters from the converted field to the converter is welcome\r\n\r\n  [1]: https://docs.jboss.org/hibernate/jpa/2.2/api/javax/persistence/Convert.html","title":"Hibernate Converter + retrieve attributename inside Converter","body":"<p>I also looked for a way to pass params from the entity field to Converter,</p>\n<p>I found the <strong>AttributeName</strong> parameter in the <strong>@Convert</strong> class and went to check what it does.</p>\n<p>But, to my regret, I found that <strong><strong>AttributeName</strong> is not intended to transmit data to the <strong>Converter</strong>.</strong></p>\n<p>That is the purpose of <strong>AttributeName</strong>:</p>\n<p>From the the <a href=\"https://docs.jboss.org/hibernate/jpa/2.2/api/javax/persistence/Convert.html\" rel=\"nofollow noreferrer\">documentation</a> of <strong>@Convert</strong> class:</p>\n<p>The AttributeName element must be specified to an embedded attribute or to a map collection attribute whose key or value is of embeddable type (in which case the converter is applied to the specified attribute of the embeddable instances contained in the collection)</p>\n<p>The attributeName element <strong>must not be specified</strong> to a basic attribute or to an element collection of basic type (in which case the converter is applied to the elements of the collection)</p>\n<p><strong>Examples of AttributeName usages:</strong></p>\n<p>Apply a converter to a map key of basic type:</p>\n<pre><code> @OneToMany\n @Convert(converter=ResponsibilityCodeConverter.class, \n          attributeName=&quot;key&quot;)\n Map&lt;String, Employee&gt; responsibilities;\n</code></pre>\n<p>Apply a converter to an embeddable attribute:</p>\n<pre><code> @Embedded\n @Convert(converter=CountryConverter.class, \n          attributeName=&quot;country&quot;)\n Address address;\n</code></pre>\n<p>Apply a converter to a nested embeddable attribute:</p>\n<pre><code> @Embedded\n @Convert(converter=CityConverter.class, \n          attributeName=&quot;region.city&quot;)\n Address address;\n</code></pre>\n<p>Apply a converter to a nested attribute of an embeddable that is a map key\nof an element collection:</p>\n<pre><code> @Entity public class PropertyRecord {\n      ...\n     @Convert(attributeName=&quot;key.region.city&quot;, \n              converter=CityConverter.class)\n     @ElementCollection\n     Map&lt;Address, PropertyInfo&gt; parcels;\n }\n</code></pre>\n<p>Apply a converter to an embeddable that is a map key for a relationship:</p>\n<pre><code> @OneToMany\n @Convert(attributeName=&quot;key.jobType&quot;, \n          converter=ResponsibilityTypeConverter.class)\n Map&lt;Responsibility, Employee&gt; responsibilities;\n</code></pre>\n<p>Override conversion mappings for attributes inherited from a mapped superclass:</p>\n<pre><code> @Entity\n     @Converts({\n        @Convert(attributeName=&quot;startDate&quot;, \n                 converter=DateConverter.class),\n        @Convert(attributeName=&quot;endDate&quot;, \n                 converter=DateConverter.class)})\n public class FullTimeEmployee extends GenericEmployee { ... }\n</code></pre>\n<p>I am still looking for a solution how to pass parameters to the Converter, Any idea how to keep using the converter class and send parameters from the converted field to the converter is welcome</p>\n"}],"owner":{"account_id":176674,"reputation":139,"user_id":407510,"display_name":"Raghavan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":832,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1648642017,"creation_date":1517541132,"question_id":48575152,"body_markdown":"We are trying to use hibernate Converter to encrypt / decrypt data stored via hibernate for few columns\r\n\r\n    @Convert(attributeName=&quot;myattr&quot;,converter=DataEncryptionConverter.class)\r\n    private String actualValue;\r\n\r\nThe plan is to implement reusable Converter based on data type (String, Date etc). \r\n\r\nHowever the plan is to maintain a config template that indicates if the field encryption should be turned on / off =\r\n\r\nApproach\r\n\r\n\r\n    @Converter\r\n    public class DataEncryptionConverter implements AttributeConverter&lt;String,String&gt;{\r\n    \tprivate static Logger logger = LoggerFactory.getLogger(DataEncryptionConverter.class);\r\n    \t@Override\r\n    \tpublic String convertToDatabaseColumn(String arg0) {\r\n    \t\tlogger.info(&quot;convertToDatabase&gt;input:&quot;+arg0);\r\n            if(attributeName matches (TemplateList)) { \r\n               //check if the attributeName is part of approved TemplateList where data needs to be encrypted\r\n               return encryptData(arg0);\r\n            }\r\n            else {\r\n      \t\t  return  arg0;\r\n            }\r\n       }\r\n        @Override\r\n        public String convertToEntityAttribute(String arg0) {\r\n    \t\tlogger.info(&quot;convertToEntity&gt;input:&quot;+arg0);\r\n    \t\tif(attributeName matches (TemplateList)) { \r\n               //check if the attributeName  is part of approved TemplateList where data needs was encrypted\r\n               return deCryptData(arg0);\r\n            }\r\n            else {\r\n    \t\t  return  arg0;\r\n            }\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\nSo, is there any way to retrieve the attributeName that is set as part of @Converter ?","title":"Hibernate Converter + retrieve attributename inside Converter","body":"<p>We are trying to use hibernate Converter to encrypt / decrypt data stored via hibernate for few columns</p>\n\n<pre><code>@Convert(attributeName=\"myattr\",converter=DataEncryptionConverter.class)\nprivate String actualValue;\n</code></pre>\n\n<p>The plan is to implement reusable Converter based on data type (String, Date etc). </p>\n\n<p>However the plan is to maintain a config template that indicates if the field encryption should be turned on / off =</p>\n\n<p>Approach</p>\n\n<pre><code>@Converter\npublic class DataEncryptionConverter implements AttributeConverter&lt;String,String&gt;{\n    private static Logger logger = LoggerFactory.getLogger(DataEncryptionConverter.class);\n    @Override\n    public String convertToDatabaseColumn(String arg0) {\n        logger.info(\"convertToDatabase&gt;input:\"+arg0);\n        if(attributeName matches (TemplateList)) { \n           //check if the attributeName is part of approved TemplateList where data needs to be encrypted\n           return encryptData(arg0);\n        }\n        else {\n          return  arg0;\n        }\n   }\n    @Override\n    public String convertToEntityAttribute(String arg0) {\n        logger.info(\"convertToEntity&gt;input:\"+arg0);\n        if(attributeName matches (TemplateList)) { \n           //check if the attributeName  is part of approved TemplateList where data needs was encrypted\n           return deCryptData(arg0);\n        }\n        else {\n          return  arg0;\n        }\n    }\n\n}\n</code></pre>\n\n<p>So, is there any way to retrieve the attributeName that is set as part of @Converter ?</p>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1648633094,"post_id":71674854,"comment_id":126671778,"body_markdown":"Can you reach that url in your browser? Does it output a valid pom?","body":"Can you reach that url in your browser? Does it output a valid pom?"},{"owner":{"account_id":19832645,"reputation":233,"user_id":14526839,"display_name":"Sahan"},"score":0,"creation_date":1648633342,"post_id":71674854,"comment_id":126671873,"body_markdown":"yes, url is reachable","body":"yes, url is reachable"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1648633551,"post_id":71674854,"comment_id":126671964,"body_markdown":"go to your local maven repo (in your user home) at `.m2/org/springframework/boot/spring-boot-devtools` and delete all the files in there, that resets maven&#39;s caching. Then try to build your project again.","body":"go to your local maven repo (in your user home) at <code>.m2&#47;org&#47;springframework&#47;boot&#47;spring-boot-devtools</code> and delete all the files in there, that resets maven&#39;s caching. Then try to build your project again."},{"owner":{"account_id":19832645,"reputation":233,"user_id":14526839,"display_name":"Sahan"},"score":0,"creation_date":1648634118,"post_id":71674854,"comment_id":126672209,"body_markdown":"It worked, thnx","body":"It worked, thnx"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1648634354,"post_id":71674854,"comment_id":126672315,"body_markdown":"You should turn on checkPolicy see more details: https://blog.soebes.de/blog/2018/10/13/maven-artifact-checksums-what/","body":"You should turn on checkPolicy see more details: <a href=\"https://blog.soebes.de/blog/2018/10/13/maven-artifact-checksums-what/\" rel=\"nofollow noreferrer\">blog.soebes.de/blog/2018/10/13/maven-artifact-checksums-what</a>"},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":1,"creation_date":1648634411,"post_id":71674854,"comment_id":126672338,"body_markdown":"@f1sh You can delete the artifact or use `-U` switch in `mvn` command to force update the cached artifacts.","body":"@f1sh You can delete the artifact or use <code>-U</code> switch in <code>mvn</code> command to force update the cached artifacts."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1648634622,"post_id":71674854,"comment_id":126672425,"body_markdown":"@KarthikeyanVaithilingam I am aware of -U, however more often than not it doesn&#39;t work for me, no idea why. Deleting the files however always solves this issue.","body":"@KarthikeyanVaithilingam I am aware of -U, however more often than not it doesn&#39;t work for me, no idea why. Deleting the files however always solves this issue."},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1648634981,"post_id":71674854,"comment_id":126672565,"body_markdown":"@f1sh I&#39;m not sure why it didn&#39;t work for you, may be some wired permission issue? (speculating).","body":"@f1sh I&#39;m not sure why it didn&#39;t work for you, may be some wired permission issue? (speculating)."}],"answers":[{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648634119,"creation_date":1648634119,"answer_id":71675117,"question_id":71674854,"body_markdown":"It seems that your local version (inside `~/.m2/repository`) of this dependency is corrupted. Try deleting it there and restart the download process from maven central again.","title":"Can&#39;t add spring boot devtools dependency in pom.xml file","body":"<p>It seems that your local version (inside <code>~/.m2/repository</code>) of this dependency is corrupted. Try deleting it there and restart the download process from maven central again.</p>\n"},{"tags":[],"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648634839,"creation_date":1648634839,"answer_id":71675276,"question_id":71674854,"body_markdown":"When you build the application after adding a dependency when maven try to download the artifact and its dependencies the download may fail for some reason (may be a network issue) then maven put a file with the timestamp of the first try. if you try maven build after that first try maven reorganize the first try failed and check the timestamp to check weather sufficient time has elapsed if not it will throw `This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced`\r\n\r\nIf you want to force maven to update the dependencies those are failed before update interval you can use `-U` switch.\r\n\r\nSo run you maven goal with `-U` switch like `mvn &lt;goal&gt; -U`","title":"Can&#39;t add spring boot devtools dependency in pom.xml file","body":"<p>When you build the application after adding a dependency when maven try to download the artifact and its dependencies the download may fail for some reason (may be a network issue) then maven put a file with the timestamp of the first try. if you try maven build after that first try maven reorganize the first try failed and check the timestamp to check weather sufficient time has elapsed if not it will throw <code>This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced</code></p>\n<p>If you want to force maven to update the dependencies those are failed before update interval you can use <code>-U</code> switch.</p>\n<p>So run you maven goal with <code>-U</code> switch like <code>mvn &lt;goal&gt; -U</code></p>\n"}],"owner":{"account_id":19832645,"reputation":233,"user_id":14526839,"display_name":"Sahan"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1467,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1648634812,"accepted_answer_id":71675117,"answer_count":2,"score":-1,"last_activity_date":1648641986,"creation_date":1648632946,"question_id":71674854,"body_markdown":"When starting the application following resolving issue is raised.\r\n\r\n```\r\nCannot resolve org.springframework.boot:spring-boot-devtools:pom:2.6.5 failed to transfer from https://repo.maven.apache.org/maven2 during a previous attempt.\r\nThis failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced.\r\nOriginal error: Could not transfer artifact org.springframework.boot:spring-boot-devtools:pom:2.6.5 from/to central (https://repo.maven.apache.org/maven2):\r\n    transfer failed for https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-devtools/2.6.5/spring-boot-devtools-2.6.5.pom\r\n```\r\n\r\nThe URL is reachable.","title":"Can&#39;t add spring boot devtools dependency in pom.xml file","body":"<p>When starting the application following resolving issue is raised.</p>\n<pre><code>Cannot resolve org.springframework.boot:spring-boot-devtools:pom:2.6.5 failed to transfer from https://repo.maven.apache.org/maven2 during a previous attempt.\nThis failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced.\nOriginal error: Could not transfer artifact org.springframework.boot:spring-boot-devtools:pom:2.6.5 from/to central (https://repo.maven.apache.org/maven2):\n    transfer failed for https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-devtools/2.6.5/spring-boot-devtools-2.6.5.pom\n</code></pre>\n<p>The URL is reachable.</p>\n"},{"tags":["java","android","proguard","retrofit","android-proguard"],"comments":[{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1434121196,"post_id":30805713,"comment_id":49660529,"body_markdown":"Which is the exact line where you get the error?","body":"Which is the exact line where you get the error?"},{"owner":{"account_id":2096177,"reputation":1707,"user_id":1864883,"accept_rate":68,"display_name":"wviana"},"score":0,"creation_date":1434125089,"post_id":30805713,"comment_id":49663012,"body_markdown":"in line 103, there is a comment in the end of the line in the second code snippet.","body":"in line 103, there is a comment in the end of the line in the second code snippet."}],"answers":[{"tags":[],"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434126905,"creation_date":1434126905,"answer_id":30808080,"question_id":30805713,"body_markdown":"The problem is here\r\n\r\n    currentClient = clienteConfiguracao.getDealerships().get(0);\r\n\r\n`clienteConfiguracao.getDealerships()` is empty. You need to check whether it has some elements with\r\n\r\n    if (clienteConfiguracao.getDealerships().size() &gt; 0) {\r\n        clienteConfiguracao.getDealerships().get(0);\r\n    } else {\r\n        //handle empty ArrayList\r\n    }\r\n\r\n","title":"Proguard config to use retrofit Retrofit","body":"<p>The problem is here</p>\n\n<pre><code>currentClient = clienteConfiguracao.getDealerships().get(0);\n</code></pre>\n\n<p><code>clienteConfiguracao.getDealerships()</code> is empty. You need to check whether it has some elements with</p>\n\n<pre><code>if (clienteConfiguracao.getDealerships().size() &gt; 0) {\n    clienteConfiguracao.getDealerships().get(0);\n} else {\n    //handle empty ArrayList\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2096177,"reputation":1707,"user_id":1864883,"accept_rate":68,"display_name":"wviana"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1648641909,"creation_date":1434131615,"answer_id":30809344,"question_id":30805713,"body_markdown":"When using retrofit with gson is important to add the Progard rule to the classes that are **serialized** and **deserialized** .\r\n\r\nFor example:\r\n\r\n    -keep class com.example.model.** { *; }\r\n\r\n**PS:** Another advice is to use the [rules snippets from this repository][1] [altlink][2]. There are rules for a lot of different libraries. \r\n\r\n\r\n  [1]: https://github.com/krschultz/android-proguard-snippets\r\n  [2]: https://web.archive.org/web/20201119034542/https://github.com/krschultz/android-proguard-snippets","title":"Proguard config to use retrofit Retrofit","body":"<p>When using retrofit with gson is important to add the Progard rule to the classes that are <strong>serialized</strong> and <strong>deserialized</strong> .</p>\n<p>For example:</p>\n<pre><code>-keep class com.example.model.** { *; }\n</code></pre>\n<p><strong>PS:</strong> Another advice is to use the <a href=\"https://github.com/krschultz/android-proguard-snippets\" rel=\"nofollow noreferrer\">rules snippets from this repository</a> <a href=\"https://web.archive.org/web/20201119034542/https://github.com/krschultz/android-proguard-snippets\" rel=\"nofollow noreferrer\">altlink</a>. There are rules for a lot of different libraries.</p>\n"},{"tags":[],"owner":{"account_id":2117621,"reputation":4837,"user_id":1881527,"display_name":"Melbourne Lopes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496233362,"creation_date":1496233362,"answer_id":44284716,"question_id":30805713,"body_markdown":"Just add `-keep class com.google.gson.** { *; }` ","title":"Proguard config to use retrofit Retrofit","body":"<p>Just add <code>-keep class com.google.gson.** { *; }</code> </p>\n"}],"owner":{"account_id":2096177,"reputation":1707,"user_id":1864883,"accept_rate":68,"display_name":"wviana"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2440,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":30809344,"answer_count":3,"score":3,"last_activity_date":1648641909,"creation_date":1434119736,"question_id":30805713,"body_markdown":"my app is running all ok in debug, but when creating apk to release, I&#39;m getting the follow error.\r\n\r\n    Process: neocom.dealerbook, PID: 9044\r\n        java.lang.IndexOutOfBoundsException: Invalid index 0, size is 0\r\n                at java.util.ArrayList.throwIndexOutOfBoundsException(ArrayList.java:255)\r\n                at java.util.ArrayList.get(ArrayList.java:308)\r\n                at neocom.dealerbook.controller.k.a(MapActivity.java:103)\r\n                at neocom.dealerbook.controller.k.success(MapActivity.java:98)\r\n                at retrofit.CallbackRunnable$1.run(CallbackRunnable.java:45)\r\n                at android.os.Handler.handleCallback(Handler.java:733)\r\n                at android.os.Handler.dispatchMessage(Handler.java:95)\r\n                at android.os.Looper.loop(Looper.java:136)\r\n                at android.app.ActivityThread.main(ActivityThread.java:5086)\r\n                at java.lang.reflect.Method.invokeNative(Native Method)\r\n                at java.lang.reflect.Method.invoke(Method.java:515)\r\n                at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:785)\r\n                at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:601)\r\n                at dalvik.system.NativeStart.main(Native Method)\r\n\r\nHere is the MapActivity.java:103\r\n\r\n    Callback&lt;ClienteConfiguracao&gt; callback = new Callback&lt;ClienteConfiguracao&gt;() {\r\n                    int failCount = 0;\r\n                @Override\r\n                public void success(ClienteConfiguracao clienteConfiguracao, Response response) {\r\n                    currentClient = clienteConfiguracao.getDealerships().get(0); /* Line 103 */\r\n                    setupToggles(currentClient);\r\n\r\n                    List&lt;String&gt; mAuthorization = clienteConfiguracao.getAuthorization();\r\n                    toAllowPermissions = new HashMap&lt;&gt;();\r\n                    Set&lt;String&gt; allImplementedKeys = PermissionManager.ALL_PERMISSIONS.keySet();\r\n                    for (String key : mAuthorization) {\r\n                        if (allImplementedKeys.contains(key)) {\r\n                            List value = PermissionManager.ALL_PERMISSIONS.get(key);\r\n                            toAllowPermissions.put(key, value);\r\n                        }\r\n                    }\r\n\r\nHere is the proguard file that I build searching for the errors that I got, Retrofit site and others.\r\n\r\n    -assumenosideeffects class android.util.Log {\r\n        public static boolean isLoggable(java.lang.String, int);\r\n        public static int v(...);\r\n        public static int i(...);\r\n        public static int w(...);\r\n        public static int d(...);\r\n        public static int e(...);\r\n    }\r\n    -dontwarn retrofit.**\r\n    -dontwarn com.squareup.okhttp.**\r\n    -dontwarn okio.**\r\n    -dontwarn retrofit.appengine.UrlFetchClient\r\n    -keep class retrofit.** { *; }\r\n    -keep class com.squareup.okhttp.** { *; }\r\n    -keep interface com.squareup.okhttp.** { *; }\r\n    -keepattributes Signature\r\n    -keepattributes Exceptions\r\n    -keepattributes *Annotation*\r\n    -keepattributes SourceFile\r\n    -keepattributes LineNumberTable\r\n    \r\n    \r\n    -keepclasseswithmembers class * {\r\n        @retrofit.http.* &lt;methods&gt;;\r\n    }\r\n\r\nIs there any tip about it?\r\n","title":"Proguard config to use retrofit Retrofit","body":"<p>my app is running all ok in debug, but when creating apk to release, I'm getting the follow error.</p>\n\n<pre><code>Process: neocom.dealerbook, PID: 9044\n    java.lang.IndexOutOfBoundsException: Invalid index 0, size is 0\n            at java.util.ArrayList.throwIndexOutOfBoundsException(ArrayList.java:255)\n            at java.util.ArrayList.get(ArrayList.java:308)\n            at neocom.dealerbook.controller.k.a(MapActivity.java:103)\n            at neocom.dealerbook.controller.k.success(MapActivity.java:98)\n            at retrofit.CallbackRunnable$1.run(CallbackRunnable.java:45)\n            at android.os.Handler.handleCallback(Handler.java:733)\n            at android.os.Handler.dispatchMessage(Handler.java:95)\n            at android.os.Looper.loop(Looper.java:136)\n            at android.app.ActivityThread.main(ActivityThread.java:5086)\n            at java.lang.reflect.Method.invokeNative(Native Method)\n            at java.lang.reflect.Method.invoke(Method.java:515)\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:785)\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:601)\n            at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n\n<p>Here is the MapActivity.java:103</p>\n\n<pre><code>Callback&lt;ClienteConfiguracao&gt; callback = new Callback&lt;ClienteConfiguracao&gt;() {\n                int failCount = 0;\n            @Override\n            public void success(ClienteConfiguracao clienteConfiguracao, Response response) {\n                currentClient = clienteConfiguracao.getDealerships().get(0); /* Line 103 */\n                setupToggles(currentClient);\n\n                List&lt;String&gt; mAuthorization = clienteConfiguracao.getAuthorization();\n                toAllowPermissions = new HashMap&lt;&gt;();\n                Set&lt;String&gt; allImplementedKeys = PermissionManager.ALL_PERMISSIONS.keySet();\n                for (String key : mAuthorization) {\n                    if (allImplementedKeys.contains(key)) {\n                        List value = PermissionManager.ALL_PERMISSIONS.get(key);\n                        toAllowPermissions.put(key, value);\n                    }\n                }\n</code></pre>\n\n<p>Here is the proguard file that I build searching for the errors that I got, Retrofit site and others.</p>\n\n<pre><code>-assumenosideeffects class android.util.Log {\n    public static boolean isLoggable(java.lang.String, int);\n    public static int v(...);\n    public static int i(...);\n    public static int w(...);\n    public static int d(...);\n    public static int e(...);\n}\n-dontwarn retrofit.**\n-dontwarn com.squareup.okhttp.**\n-dontwarn okio.**\n-dontwarn retrofit.appengine.UrlFetchClient\n-keep class retrofit.** { *; }\n-keep class com.squareup.okhttp.** { *; }\n-keep interface com.squareup.okhttp.** { *; }\n-keepattributes Signature\n-keepattributes Exceptions\n-keepattributes *Annotation*\n-keepattributes SourceFile\n-keepattributes LineNumberTable\n\n\n-keepclasseswithmembers class * {\n    @retrofit.http.* &lt;methods&gt;;\n}\n</code></pre>\n\n<p>Is there any tip about it?</p>\n"},{"tags":["java","rx-java","rx-java2"],"comments":[{"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"score":0,"creation_date":1648630057,"post_id":71673595,"comment_id":126670577,"body_markdown":"This question makes little sense in the context of RxJava. This is the opposite of reactive programming.","body":"This question makes little sense in the context of RxJava. This is the opposite of reactive programming."}],"answers":[{"tags":[],"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648641873,"creation_date":1648641042,"answer_id":71676682,"question_id":71673595,"body_markdown":"Yes, start an interval and read the value of the variable in some other operator. Note though that you&#39;ll need a `volatile` variable to be safe:\r\n\r\n```\r\nvolatile String x;\r\n\r\nObservable.interval(1, TimeUnit.SECONDS)\r\n.takeUntil(t -&gt; x != null)\r\n.ignoreElements()\r\n.subscribe(() -&gt; System.out.println(&quot;Done!&quot;));\r\n\r\nObservable.timer(3500, TimeUnit.MILLISECONDS)\r\n.subscribe(t -&gt; { x = &quot;value&quot;; });\r\n```","title":"How can I recheck every 1 second using RxJava?","body":"<p>Yes, start an interval and read the value of the variable in some other operator. Note though that you'll need a <code>volatile</code> variable to be safe:</p>\n<pre><code>volatile String x;\n\nObservable.interval(1, TimeUnit.SECONDS)\n.takeUntil(t -&gt; x != null)\n.ignoreElements()\n.subscribe(() -&gt; System.out.println(&quot;Done!&quot;));\n\nObservable.timer(3500, TimeUnit.MILLISECONDS)\n.subscribe(t -&gt; { x = &quot;value&quot;; });\n</code></pre>\n"}],"owner":{"account_id":24308444,"reputation":51,"user_id":18250844,"display_name":"E3219"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71676682,"answer_count":1,"score":0,"last_activity_date":1648641873,"creation_date":1648627251,"question_id":71673595,"body_markdown":"Is there any method in `RxJava` to recheck if the variable is null or not, For example, Recheck every 1 second or when the value is given to the variable?\r\n\r\n    String x;\r\n\r\n    Completable.create(emitter -&gt; {\r\n        if (x != null)\r\n            emitter.onComplete();\r\n    }).timeout(10, TimeUnit.SECONDS).subscribe();","title":"How can I recheck every 1 second using RxJava?","body":"<p>Is there any method in <code>RxJava</code> to recheck if the variable is null or not, For example, Recheck every 1 second or when the value is given to the variable?</p>\n<pre><code>String x;\n\nCompletable.create(emitter -&gt; {\n    if (x != null)\n        emitter.onComplete();\n}).timeout(10, TimeUnit.SECONDS).subscribe();\n</code></pre>\n"},{"tags":["java","intellij-idea","inspection"],"answers":[{"tags":[],"owner":{"account_id":3169,"reputation":24379,"user_id":4510,"display_name":"Bas Leijdekkers"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648641430,"creation_date":1648641430,"answer_id":71676764,"question_id":71676076,"body_markdown":"Yes, there is:\r\n`Java | Code style issues | Redundant &#39;new&#39; expression in constant array creation`","title":"IntelliJ inspection for verbose array initialisation","body":"<p>Yes, there is:\n<code>Java | Code style issues | Redundant 'new' expression in constant array creation</code></p>\n"}],"owner":{"account_id":3092,"reputation":2609,"user_id":4389,"accept_rate":75,"display_name":"Steve Bosman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71676764,"answer_count":1,"score":0,"last_activity_date":1648641430,"creation_date":1648638269,"question_id":71676076,"body_markdown":"Is there an inspection in IntelliJ which will detect when I have written\r\n\r\n    final String[] args = new String[]{​&quot;a&quot;, &quot;b&quot;}​;\r\n\r\ninstead of the shorter (and equally valid)\r\n\r\n    final String[] args = {​​​&quot;a&quot;, &quot;b&quot;}​​​;\r\n\r\nI can&#39;t find one and I would like a weak warning when I use the more verbose form.","title":"IntelliJ inspection for verbose array initialisation","body":"<p>Is there an inspection in IntelliJ which will detect when I have written</p>\n<pre><code>final String[] args = new String[]{​&quot;a&quot;, &quot;b&quot;}​;\n</code></pre>\n<p>instead of the shorter (and equally valid)</p>\n<pre><code>final String[] args = {​​​&quot;a&quot;, &quot;b&quot;}​​​;\n</code></pre>\n<p>I can't find one and I would like a weak warning when I use the more verbose form.</p>\n"},{"tags":["java","xml","maven","unicode","jar"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1648642371,"post_id":71676532,"comment_id":126675336,"body_markdown":"Are you sure where you&#39;re displaying that is capable of showing those characters?","body":"Are you sure where you&#39;re displaying that is capable of showing those characters?"},{"owner":{"account_id":22180648,"reputation":367,"user_id":16424414,"display_name":"Orly Orly"},"score":0,"creation_date":1648642763,"post_id":71676532,"comment_id":126675497,"body_markdown":"yes, i tried to print these chars without the XML and it has worked @g00se","body":"yes, i tried to print these chars without the XML and it has worked @g00se"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1648643015,"post_id":71676532,"comment_id":126675608,"body_markdown":"Can you please attach (or link to) the xml file?","body":"Can you please attach (or link to) the xml file?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1648650037,"post_id":71676532,"comment_id":126678833,"body_markdown":"The single-argument form of IOUtils.toString [is deprecated for good reason](https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/IOUtils.html#toString-java.io.InputStream-).","body":"The single-argument form of IOUtils.toString <a href=\"https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/IOUtils.html#toString-java.io.InputStream-\" rel=\"nofollow noreferrer\">is deprecated for good reason</a>."}],"owner":{"account_id":22180648,"reputation":367,"user_id":16424414,"display_name":"Orly Orly"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648641339,"creation_date":1648640338,"question_id":71676532,"body_markdown":"I have a maven project compressed into an executable jar.\r\n\r\nThis jar is including an XML file that contains unique chars as: &#39;度&#39;, &#39;行&#39;\r\n\r\nWhile my maven program reads and prints this XML file, it prints the unique chars as three black \r\ndiamonds.\r\n\r\nThis is the code to read and print the XML file from the jar:\r\n\r\n```\r\ninput = this.getClass().getClassLoader().getResourceAsStream(resource);\r\nString xml = IOUtils.toString(input);\r\nAutomationLogger.getLog().debug(xml);\r\n```\r\n\r\nAny idea?","title":"Printing an XML file contains unique chars shows tree black diamonds","body":"<p>I have a maven project compressed into an executable jar.</p>\n<p>This jar is including an XML file that contains unique chars as: '度', '行'</p>\n<p>While my maven program reads and prints this XML file, it prints the unique chars as three black\ndiamonds.</p>\n<p>This is the code to read and print the XML file from the jar:</p>\n<pre><code>input = this.getClass().getClassLoader().getResourceAsStream(resource);\nString xml = IOUtils.toString(input);\nAutomationLogger.getLog().debug(xml);\n</code></pre>\n<p>Any idea?</p>\n"},{"tags":["java","windows","r"],"comments":[{"owner":{"account_id":54503,"reputation":98928,"user_id":163053,"accept_rate":84,"display_name":"Shane"},"score":0,"creation_date":1268855963,"post_id":2464721,"comment_id":2455182,"body_markdown":"What version of windows are you using?  Is it 64-bit?","body":"What version of windows are you using?  Is it 64-bit?"},{"owner":{"account_id":45221,"reputation":13023,"user_id":133234,"accept_rate":79,"display_name":"Leo Alekseyev"},"score":2,"creation_date":1268856182,"post_id":2464721,"comment_id":2455207,"body_markdown":"It seems to me that the problem is with the java config, not with R.  Try googling for the error.  What happens if you do system(&quot;C:\\Program Files\\Java\\jre6\\bin\\java.exe -version&quot;), does that work?..  Are there other instances of java.exe somewhere on your path? (cf this SO question: http://stackoverflow.com/questions/1059954/how-to-completely-remove-java-error-could-not-open-c-program-files-java-jre6)","body":"It seems to me that the problem is with the java config, not with R.  Try googling for the error.  What happens if you do system(&quot;C:\\Program Files\\Java\\jre6\\bin\\java.exe -version&quot;), does that work?..  Are there other instances of java.exe somewhere on your path? (cf this SO question: <a href=\"http://stackoverflow.com/questions/1059954/how-to-completely-remove-java-error-could-not-open-c-program-files-java-jre6\" title=\"how to completely remove java error could not open c program files java jre6\">stackoverflow.com/questions/1059954/&hellip;</a>)"}],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1268877170,"creation_date":1268850206,"answer_id":2464813,"question_id":2464721,"body_markdown":"You&#39;re assuming that R is looking at the windows path, but the code is telling you that it&#39;s not.  So check your assumption: R is getting the path somewhere else.\r\n\r\nIf I open up a command shell on my Windows machine and type &quot;java -version&quot; I get this: \r\n\r\n    C:\\&gt;java -version\r\n    java version &quot;1.6.0_13&quot;\r\n    Java(TM) SE Runtime Environment (build 1.6.0_13-b03)\r\n    Java HotSpot(TM) Client VM (build 11.3-b02, mixed mode, sharing)\r\n\r\nIf I check the PATH on my machine, I get (edited for clarity): \r\n\r\n    C:\\&gt;set path\r\n    Path=;C:\\JDKs\\jdk1.6.0_13\\bin;\r\n\r\nIf I open up R version 2.8.1 and run system(&quot;java -version&quot;) I get this: \r\n\r\n    &gt; system(&quot;java -version&quot;)\r\n    java version &quot;1.6.0_15&quot;\r\n    Java(TM) SE Runtime Environment (build 1.6.0_15-b03)\r\n    Java HotSpot(TM) Client VM (build 14.1-b02, mixed mode, sharing)\r\n    &gt;\r\n\r\nSo, like I said, R is not using my path to find java.exe.  It&#39;s using something else. \r\n\r\n\r\n \r\n\r\n","title":"R looking for the wrong java version","body":"<p>You're assuming that R is looking at the windows path, but the code is telling you that it's not.  So check your assumption: R is getting the path somewhere else.</p>\n\n<p>If I open up a command shell on my Windows machine and type \"java -version\" I get this: </p>\n\n<pre><code>C:\\&gt;java -version\njava version \"1.6.0_13\"\nJava(TM) SE Runtime Environment (build 1.6.0_13-b03)\nJava HotSpot(TM) Client VM (build 11.3-b02, mixed mode, sharing)\n</code></pre>\n\n<p>If I check the PATH on my machine, I get (edited for clarity): </p>\n\n<pre><code>C:\\&gt;set path\nPath=;C:\\JDKs\\jdk1.6.0_13\\bin;\n</code></pre>\n\n<p>If I open up R version 2.8.1 and run system(\"java -version\") I get this: </p>\n\n<pre><code>&gt; system(\"java -version\")\njava version \"1.6.0_15\"\nJava(TM) SE Runtime Environment (build 1.6.0_15-b03)\nJava HotSpot(TM) Client VM (build 14.1-b02, mixed mode, sharing)\n&gt;\n</code></pre>\n\n<p>So, like I said, R is not using my path to find java.exe.  It's using something else. </p>\n"},{"tags":[],"owner":{"account_id":111602,"reputation":8153,"user_id":294738,"accept_rate":67,"display_name":"M. Jessup"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1268850584,"creation_date":1268850584,"answer_id":2464859,"question_id":2464721,"body_markdown":"You may also need to check the registry, R may have its own setting. You can also start regedit and do a search on the path to binary that it is starting.","title":"R looking for the wrong java version","body":"<p>You may also need to check the registry, R may have its own setting. You can also start regedit and do a search on the path to binary that it is starting.</p>\n"},{"tags":[],"owner":{"account_id":56338,"reputation":49742,"user_id":168747,"display_name":"Marek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1272273808,"creation_date":1268904012,"answer_id":2468603,"question_id":2464721,"body_markdown":"You problem depends on 64/32 bit versions.  \r\nYou run 32-bit R, which use 32-bit command prompt and find 32-bit java. If you use 64-bit R then it runs 64-bit command promt and proper java.\r\n\r\nYou could check it by run 32-bit command promt (following [this post][1]):\r\n\r\n 1. Click Start.\r\n 2. Type `%windir%\\SysWoW64\\cmd.exe` in Start Search box.\r\n 3. Press Enter.\r\n 4. Type `java -version`\r\n\r\nIn my system it fails because I don&#39;t have 32-bit java. With standard cmd.exe I get proper path.\r\n\r\nFor possible solution there are two ways. Install 32-bit R and 32-bit Java or 64-bit R (which is [officially supported from 2.11 version][2]) and 64-bit Java. On my system (64-bit Windows 7) I&#39;ve got both sets, so on 32-bit combination I get:\r\n\r\n    &gt; system(&quot;java -version&quot;)\r\n    java version &quot;1.6.0_20&quot;\r\n    Java(TM) SE Runtime Environment (build 1.6.0_20-b02)\r\n    Java HotSpot(TM) Client VM (build 16.3-b01, mixed mode, sharing)\r\n\r\nAnd on 64-bit:\r\n\r\n    &gt; system(&quot;java -version&quot;)\r\n    java version &quot;1.6.0_18&quot;\r\n    Java(TM) SE Runtime Environment (build 1.6.0_18-b07)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 16.0-b13, mixed mode)\r\n\r\nOn 64-bit version you could call 32-bit Java using 32-bit cmd:\r\n\r\n    shell(\r\n    \t&quot;java -version&quot;,\r\n    \tshell = file.path(Sys.getenv(&quot;windir&quot;),&quot;SysWoW64/cmd.exe&quot;)\r\n    )\r\n    java version &quot;1.6.0_20&quot;\r\n    Java(TM) SE Runtime Environment (build 1.6.0_20-b02)\r\n    Java HotSpot(TM) Client VM (build 16.3-b01, mixed mode, sharing)\r\n\r\nAbout Shane&#39;s comment I think the question is how R get path to 32-bit cmd. Because I can&#39;t find a way to call 64-bit cmd on 32-bit R.\r\n\r\n\r\n  [1]: http://www.tipandtrick.net/2008/how-to-open-and-run-32-bit-command-prompt-in-64-bit-x64-windows/ &quot;How to Open and Run 32-bit Command Prompt in 64-bit (x64) Windows&quot;\r\n  [2]: http://cran.at.r-project.org/bin/windows64/base/ &quot;R 2.11.0 64-bit&quot;","title":"R looking for the wrong java version","body":"<p>You problem depends on 64/32 bit versions.<br>\nYou run 32-bit R, which use 32-bit command prompt and find 32-bit java. If you use 64-bit R then it runs 64-bit command promt and proper java.</p>\n\n<p>You could check it by run 32-bit command promt (following <a href=\"http://www.tipandtrick.net/2008/how-to-open-and-run-32-bit-command-prompt-in-64-bit-x64-windows/\" rel=\"nofollow noreferrer\" title=\"How to Open and Run 32-bit Command Prompt in 64-bit (x64) Windows\">this post</a>):</p>\n\n<ol>\n<li>Click Start.</li>\n<li>Type <code>%windir%\\SysWoW64\\cmd.exe</code> in Start Search box.</li>\n<li>Press Enter.</li>\n<li>Type <code>java -version</code></li>\n</ol>\n\n<p>In my system it fails because I don't have 32-bit java. With standard cmd.exe I get proper path.</p>\n\n<p>For possible solution there are two ways. Install 32-bit R and 32-bit Java or 64-bit R (which is <a href=\"http://cran.at.r-project.org/bin/windows64/base/\" rel=\"nofollow noreferrer\" title=\"R 2.11.0 64-bit\">officially supported from 2.11 version</a>) and 64-bit Java. On my system (64-bit Windows 7) I've got both sets, so on 32-bit combination I get:</p>\n\n<pre><code>&gt; system(\"java -version\")\njava version \"1.6.0_20\"\nJava(TM) SE Runtime Environment (build 1.6.0_20-b02)\nJava HotSpot(TM) Client VM (build 16.3-b01, mixed mode, sharing)\n</code></pre>\n\n<p>And on 64-bit:</p>\n\n<pre><code>&gt; system(\"java -version\")\njava version \"1.6.0_18\"\nJava(TM) SE Runtime Environment (build 1.6.0_18-b07)\nJava HotSpot(TM) 64-Bit Server VM (build 16.0-b13, mixed mode)\n</code></pre>\n\n<p>On 64-bit version you could call 32-bit Java using 32-bit cmd:</p>\n\n<pre><code>shell(\n    \"java -version\",\n    shell = file.path(Sys.getenv(\"windir\"),\"SysWoW64/cmd.exe\")\n)\njava version \"1.6.0_20\"\nJava(TM) SE Runtime Environment (build 1.6.0_20-b02)\nJava HotSpot(TM) Client VM (build 16.3-b01, mixed mode, sharing)\n</code></pre>\n\n<p>About Shane's comment I think the question is how R get path to 32-bit cmd. Because I can't find a way to call 64-bit cmd on 32-bit R.</p>\n"},{"tags":[],"owner":{"account_id":698420,"reputation":21,"user_id":584763,"display_name":"Nathan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1295629728,"creation_date":1295629728,"answer_id":4761634,"question_id":2464721,"body_markdown":"I got to this page trying to work out why my JDK was reporting 64 bit despite the PATH and JAVA_HOME were pointing to 32 bit.\r\n\r\nI dont even know what R is, but this article might help (it solved it for me)\r\n\r\nhttp://www.tipandtrick.net/2008/how-to-open-and-run-32-bit-command-prompt-in-64-bit-x64-windows/\r\n\r\nIn a nutshell, dont run from &#39;cmd&#39; use &#39;%windir%\\SysWoW64\\cmd.exe&#39; instead.\r\nOr, put your JDK at the front of the path instead of the end (I dont think this is ideal).","title":"R looking for the wrong java version","body":"<p>I got to this page trying to work out why my JDK was reporting 64 bit despite the PATH and JAVA_HOME were pointing to 32 bit.</p>\n\n<p>I dont even know what R is, but this article might help (it solved it for me)</p>\n\n<p><a href=\"http://www.tipandtrick.net/2008/how-to-open-and-run-32-bit-command-prompt-in-64-bit-x64-windows/\" rel=\"nofollow\">http://www.tipandtrick.net/2008/how-to-open-and-run-32-bit-command-prompt-in-64-bit-x64-windows/</a></p>\n\n<p>In a nutshell, dont run from 'cmd' use '%windir%\\SysWoW64\\cmd.exe' instead.\nOr, put your JDK at the front of the path instead of the end (I dont think this is ideal).</p>\n"},{"tags":[],"owner":{"account_id":4403952,"reputation":13361,"user_id":3588876,"accept_rate":78,"display_name":"rafa.pereira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648641003,"creation_date":1648641003,"answer_id":71676677,"question_id":2464721,"body_markdown":"There is a simple way to check which version of Java you have installed on your computer using the `rJava` package.\r\n\r\n```\r\n  rJava::.jinit()\r\n  rJava::.jcall(&quot;java.lang.System&quot;, &quot;S&quot;, &quot;getProperty&quot;, &quot;java.version&quot;)\r\n```\r\n","title":"R looking for the wrong java version","body":"<p>There is a simple way to check which version of Java you have installed on your computer using the <code>rJava</code> package.</p>\n<pre><code>  rJava::.jinit()\n  rJava::.jcall(&quot;java.lang.System&quot;, &quot;S&quot;, &quot;getProperty&quot;, &quot;java.version&quot;)\n</code></pre>\n"}],"owner":{"account_id":596252,"reputation":43,"user_id":294729,"display_name":"Veit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19391,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":2468603,"answer_count":5,"score":4,"last_activity_date":1648641003,"creation_date":1268849531,"question_id":2464721,"body_markdown":"I installed/uninstalled java jre/jdk now many times and finally installed the older version 1.6.0_17 which is now located at &quot;C:\\Program Files\\Java\\jre6\\bin&quot;. Now after all if I call &#39;java -version&#39; within R i can see that R is looking for Java at the old path which is now wrong. The question is: Why is R looking for Java at the wrong path even so the windows path is set correctly? There are no double entrys within the windows path as far as I can see and I restarted R as well as Windows more then once since then. Any Ideas where R takes the wrong path from?\r\n\r\nOn windows shell:\r\n\r\n    &gt; set\r\n    [..]\r\n    OS=Windows_NT\r\n    Path=C:\\Program Files\\Java\\jre6\\bin;\r\n    [..]\r\n\r\n\r\n    &gt; java -version\r\n    java version &quot;1.6.0_17&quot;\r\n    Java(TM) SE Runtime Environment (build 1.6.0_17-b04)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 14.3-b01, mixed mode)\r\n\r\nwithin R:\r\n\r\n    &gt; system(&quot;java -version&quot;)\r\n    Error: could not open `C:\\Program Files (x86)\\Java\\jre6\\lib\\i386\\jvm.cfg&#39;\r\n\r\n","title":"R looking for the wrong java version","body":"<p>I installed/uninstalled java jre/jdk now many times and finally installed the older version 1.6.0_17 which is now located at &quot;C:\\Program Files\\Java\\jre6\\bin&quot;. Now after all if I call 'java -version' within R i can see that R is looking for Java at the old path which is now wrong. The question is: Why is R looking for Java at the wrong path even so the windows path is set correctly? There are no double entrys within the windows path as far as I can see and I restarted R as well as Windows more then once since then. Any Ideas where R takes the wrong path from?</p>\n<p>On windows shell:</p>\n<pre><code>&gt; set\n[..]\nOS=Windows_NT\nPath=C:\\Program Files\\Java\\jre6\\bin;\n[..]\n\n\n&gt; java -version\njava version &quot;1.6.0_17&quot;\nJava(TM) SE Runtime Environment (build 1.6.0_17-b04)\nJava HotSpot(TM) 64-Bit Server VM (build 14.3-b01, mixed mode)\n</code></pre>\n<p>within R:</p>\n<pre><code>&gt; system(&quot;java -version&quot;)\nError: could not open `C:\\Program Files (x86)\\Java\\jre6\\lib\\i386\\jvm.cfg'\n</code></pre>\n"},{"tags":["java","apache-camel","spring-camel"],"comments":[{"owner":{"account_id":1951203,"reputation":10695,"user_id":1755242,"accept_rate":80,"display_name":"sunleo"},"score":0,"creation_date":1648565397,"post_id":71664216,"comment_id":126653660,"body_markdown":"Do you mean the route should start only if the directory has all these 4 files?","body":"Do you mean the route should start only if the directory has all these 4 files?"},{"owner":{"account_id":101336,"reputation":10523,"user_id":272735,"accept_rate":92,"display_name":"user272735"},"score":0,"creation_date":1648569964,"post_id":71664216,"comment_id":126655857,"body_markdown":"You might find [File Watch](https://camel.apache.org/components/latest/file-watch-component.html) component useful.","body":"You might find <a href=\"https://camel.apache.org/components/latest/file-watch-component.html\" rel=\"nofollow noreferrer\">File Watch</a> component useful."},{"owner":{"account_id":20520447,"reputation":5,"user_id":15060172,"display_name":"MrNone"},"score":0,"creation_date":1648632351,"post_id":71664216,"comment_id":126671452,"body_markdown":"FileWatch component work but when it passes two filenames in antInclude, it interprets it as one filename. antInclude=file1.csv,file2.csv","body":"FileWatch component work but when it passes two filenames in antInclude, it interprets it as one filename. antInclude=file1.csv,file2.csv"}],"answers":[{"tags":[],"owner":{"account_id":22247129,"reputation":2052,"user_id":16480631,"display_name":"Pasi &#214;sterman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648640822,"creation_date":1648639989,"answer_id":71676449,"question_id":71664216,"body_markdown":"You could create timer or scheduled route that uses custom processor that checks contents of a folder using `File.list()` or `File.listFiles()`. If all the required files exist processor sets body, header or property to signal that the route should continue. \r\n\r\nAfter that you can use [PollEnrich](https://camel.apache.org/components/latest/eips/pollEnrich-eip.html) to consume each of the files individually and store them to a header or property for later use. \r\n\r\n```java\r\nString filePath = getContext()\r\n    .resolvePropertyPlaceholders(&quot;{{input.path}}&quot;);\r\n\r\nString[] requiredFiles = new String[]{\r\n    &quot;file1.csv.sem&quot;, \r\n    &quot;file2.csv.sem&quot;, \r\n    &quot;file3.csv.sem&quot;\r\n};\r\n\r\n// Poll input folder every 5 seconds for required files\r\nfrom(&quot;timer:timerName?period=5000&quot;)\r\n    .routeId(&quot;multifiles&quot;)\r\n    .process(new Processor() {\r\n        @Override\r\n        public void process(Exchange exchange) throws Exception {\r\n            \r\n            for (int i = 0; i &lt; requiredFiles.length; i++) {\r\n                File file = new File(filePath + File.separator + requiredFiles[i]);\r\n                if(!file.exists()){\r\n                    exchange.getMessage().setBody(false);\r\n                    return;    \r\n                }\r\n            }\r\n            exchange.getMessage().setBody(true);\r\n        }  \r\n    })\r\n    .filter(body().isEqualTo(false))\r\n        .log(&quot;Missing files..&quot;)\r\n        .stop()\r\n    .end()\r\n    .to(&quot;direct:processFileGroup&quot;);\r\n\r\nfrom(&quot;direct:processFileGroup&quot;)\r\n    .routeId(&quot;processFileGroup&quot;)\r\n    .setBody(constant(Arrays.asList(requiredFiles)))\r\n    // Read required files and aggregate to a list\r\n    .split(body(), AggregationStrategies.groupedBody())\r\n        .log(&quot;${body}&quot;)\r\n        .pollEnrich()\r\n            .simple(&quot;file:{{input.path}}?fileName=${body}&quot;)\r\n            .timeout(1000)\r\n        .end()\r\n    .end()\r\n    // Do stuff with the List of Exchange(s) in body\r\n    .process(new Processor() {\r\n        @Override\r\n        public void process(Exchange exchange) throws Exception {\r\n            \r\n            List&lt;GenericFile&gt; files = exchange.getMessage().getBody(List.class);\r\n            for (int i = 0; i &lt; files.size(); i++) {\r\n                System.out.println(files.get(i).getFileName());\r\n            }\r\n        }\r\n    });\r\n```\r\n \r\nAlternatively you could probably use file component with some custom aggregation strategy or some trickery with File-watch but those sound more complex at least for me.\r\n\r\nThis is fairly common problem so there&#39;s probably some sort of EIP to handle this more elegantly but have not stumbled upon such yet. ","title":"Camel - start route when multiple files in directory","body":"<p>You could create timer or scheduled route that uses custom processor that checks contents of a folder using <code>File.list()</code> or <code>File.listFiles()</code>. If all the required files exist processor sets body, header or property to signal that the route should continue.</p>\n<p>After that you can use <a href=\"https://camel.apache.org/components/latest/eips/pollEnrich-eip.html\" rel=\"nofollow noreferrer\">PollEnrich</a> to consume each of the files individually and store them to a header or property for later use.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String filePath = getContext()\n    .resolvePropertyPlaceholders(&quot;{{input.path}}&quot;);\n\nString[] requiredFiles = new String[]{\n    &quot;file1.csv.sem&quot;, \n    &quot;file2.csv.sem&quot;, \n    &quot;file3.csv.sem&quot;\n};\n\n// Poll input folder every 5 seconds for required files\nfrom(&quot;timer:timerName?period=5000&quot;)\n    .routeId(&quot;multifiles&quot;)\n    .process(new Processor() {\n        @Override\n        public void process(Exchange exchange) throws Exception {\n            \n            for (int i = 0; i &lt; requiredFiles.length; i++) {\n                File file = new File(filePath + File.separator + requiredFiles[i]);\n                if(!file.exists()){\n                    exchange.getMessage().setBody(false);\n                    return;    \n                }\n            }\n            exchange.getMessage().setBody(true);\n        }  \n    })\n    .filter(body().isEqualTo(false))\n        .log(&quot;Missing files..&quot;)\n        .stop()\n    .end()\n    .to(&quot;direct:processFileGroup&quot;);\n\nfrom(&quot;direct:processFileGroup&quot;)\n    .routeId(&quot;processFileGroup&quot;)\n    .setBody(constant(Arrays.asList(requiredFiles)))\n    // Read required files and aggregate to a list\n    .split(body(), AggregationStrategies.groupedBody())\n        .log(&quot;${body}&quot;)\n        .pollEnrich()\n            .simple(&quot;file:{{input.path}}?fileName=${body}&quot;)\n            .timeout(1000)\n        .end()\n    .end()\n    // Do stuff with the List of Exchange(s) in body\n    .process(new Processor() {\n        @Override\n        public void process(Exchange exchange) throws Exception {\n            \n            List&lt;GenericFile&gt; files = exchange.getMessage().getBody(List.class);\n            for (int i = 0; i &lt; files.size(); i++) {\n                System.out.println(files.get(i).getFileName());\n            }\n        }\n    });\n</code></pre>\n<p>Alternatively you could probably use file component with some custom aggregation strategy or some trickery with File-watch but those sound more complex at least for me.</p>\n<p>This is fairly common problem so there's probably some sort of EIP to handle this more elegantly but have not stumbled upon such yet.</p>\n"}],"owner":{"account_id":20520447,"reputation":5,"user_id":15060172,"display_name":"MrNone"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":750,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71676449,"answer_count":1,"score":0,"last_activity_date":1648640822,"creation_date":1648565248,"question_id":71664216,"body_markdown":"I want start camel route when 4 files with specific names are in directory. When file1.csv.sem, file2.csv.sem, file3.csv.sem, file4.csv.sem start camel route.\r\n\r\n```\r\n &lt;from uri=&quot;file:{{directory.path}}?include=file1.*.sem&quot;/&gt;\r\n```\r\n\r\nI expect camel route will start when these 4 files are in directory.","title":"Camel - start route when multiple files in directory","body":"<p>I want start camel route when 4 files with specific names are in directory. When file1.csv.sem, file2.csv.sem, file3.csv.sem, file4.csv.sem start camel route.</p>\n<pre><code> &lt;from uri=&quot;file:{{directory.path}}?include=file1.*.sem&quot;/&gt;\n</code></pre>\n<p>I expect camel route will start when these 4 files are in directory.</p>\n"},{"tags":["java","android","database","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1648542402,"post_id":71658736,"comment_id":126644014,"body_markdown":"&quot;is not working&quot; doesn&#39;t provide enough information so we can help. What exactly doesn&#39;t work? Is any of the callbacks triggered?","body":"&quot;is not working&quot; doesn&#39;t provide enough information so we can help. What exactly doesn&#39;t work? Is any of the callbacks triggered?"},{"owner":{"account_id":8726421,"reputation":821,"user_id":15119028,"display_name":"Junaid Khalid"},"score":0,"creation_date":1648542470,"post_id":71658736,"comment_id":126644037,"body_markdown":".set function in first line is not working and it is mentioned in the questions that **None of these callbacks are working and nothing in logs as well.**","body":".set function in first line is not working and it is mentioned in the questions that <b>None of these callbacks are working and nothing in logs as well.</b>"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1648542971,"post_id":71658736,"comment_id":126644218,"body_markdown":"Are you then sure you have an internet connection on the user device?","body":"Are you then sure you have an internet connection on the user device?"},{"owner":{"account_id":945295,"reputation":611,"user_id":972651,"display_name":"b2m9"},"score":0,"creation_date":1648543053,"post_id":71658736,"comment_id":126644249,"body_markdown":"Let&#39;s start at the beginning: is `data` written to your `email` document at all?","body":"Let&#39;s start at the beginning: is <code>data</code> written to your <code>email</code> document at all?"},{"owner":{"account_id":8726421,"reputation":821,"user_id":15119028,"display_name":"Junaid Khalid"},"score":0,"creation_date":1648543055,"post_id":71658736,"comment_id":126644250,"body_markdown":"Yes because that is why Authentication is working","body":"Yes because that is why Authentication is working"},{"owner":{"account_id":8726421,"reputation":821,"user_id":15119028,"display_name":"Junaid Khalid"},"score":0,"creation_date":1648543092,"post_id":71658736,"comment_id":126644262,"body_markdown":"@b2m9 nothing literally nothing in firestore","body":"@b2m9 nothing literally nothing in firestore"},{"owner":{"account_id":945295,"reputation":611,"user_id":972651,"display_name":"b2m9"},"score":0,"creation_date":1648543459,"post_id":71658736,"comment_id":126644372,"body_markdown":"Is your collection reference valid? Does _any_ write operation to Firestore succeed? Does a network request to Firestore even go out? If yes, what does the response contain?","body":"Is your collection reference valid? Does <i>any</i> write operation to Firestore succeed? Does a network request to Firestore even go out? If yes, what does the response contain?"},{"owner":{"account_id":8726421,"reputation":821,"user_id":15119028,"display_name":"Junaid Khalid"},"score":0,"creation_date":1648543664,"post_id":71658736,"comment_id":126644459,"body_markdown":"Yes Reference is valid but none of the succeed and I do think that somehow request is not going out because after that line there is nothing in logs.","body":"Yes Reference is valid but none of the succeed and I do think that somehow request is not going out because after that line there is nothing in logs."},{"owner":{"account_id":8726421,"reputation":821,"user_id":15119028,"display_name":"Junaid Khalid"},"score":0,"creation_date":1648543699,"post_id":71658736,"comment_id":126644469,"body_markdown":"In case of invalid reference onFailure gets called","body":"In case of invalid reference onFailure gets called"},{"owner":{"account_id":8726421,"reputation":821,"user_id":15119028,"display_name":"Junaid Khalid"},"score":0,"creation_date":1648543969,"post_id":71658736,"comment_id":126644575,"body_markdown":"Well out of nowhere it is working now magically","body":"Well out of nowhere it is working now magically"},{"owner":{"account_id":24326117,"reputation":2235,"user_id":18265638,"display_name":"Sathi Aiswarya"},"score":0,"creation_date":1648624727,"post_id":71658736,"comment_id":126668580,"body_markdown":"how did you resolve the issue?","body":"how did you resolve the issue?"},{"owner":{"account_id":8726421,"reputation":821,"user_id":15119028,"display_name":"Junaid Khalid"},"score":0,"creation_date":1648635051,"post_id":71658736,"comment_id":126672592,"body_markdown":"I actually had one `auth.signOut()` before this as well I removed that and it worked","body":"I actually had one <code>auth.signOut()</code> before this as well I removed that and it worked"}],"answers":[{"tags":[],"owner":{"account_id":24326117,"reputation":2235,"user_id":18265638,"display_name":"Sathi Aiswarya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648640699,"creation_date":1648640699,"answer_id":71676615,"question_id":71658736,"body_markdown":"\r\nauth.signout() deletes the current registration token, clears the document folder on the device, and logs out the user. As confirmed by @Junaid Khalid,  by removing the auth.signout(), it is working fine now.\r\n\r\n","title":"None of the callback of Firestore.collection.document.set() is trigering","body":"<p>auth.signout() deletes the current registration token, clears the document folder on the device, and logs out the user. As confirmed by @Junaid Khalid,  by removing the auth.signout(), it is working fine now.</p>\n"}],"owner":{"account_id":8726421,"reputation":821,"user_id":15119028,"display_name":"Junaid Khalid"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71676615,"answer_count":1,"score":0,"last_activity_date":1648640699,"creation_date":1648542209,"question_id":71658736,"body_markdown":"I am working on a project that uses firestore but it is not setting the value of the document. Authentication is working fine but the `Firestore.collection.document.set()` is not working. here is the code I have tried\r\n```\r\ncollectionReference.document(email).set(data).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n    @Override\r\n    public void onSuccess(Void unused) {\r\n        auth.signOut();\r\n        progressDialog.dismiss();\r\n        startActivity(new Intent(SignUpRepActivity.this,LoginActivity.class));\r\n    }\r\n}).addOnFailureListener(new OnFailureListener() {\r\n    @Override\r\n    public void onFailure(@NonNull Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n}).addOnCanceledListener(new OnCanceledListener() {\r\n    @Override\r\n    public void onCanceled() {\r\n        Log.v(&quot;Cancelled&quot;,&quot;Cancelled&quot;);\r\n    }\r\n}).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n    @Override\r\n    public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n        Log.v(&quot;Task&quot;,&quot;Complete&quot;);\r\n    }\r\n});\r\n```\r\n\r\nNone of these callbacks are working and nothing in logs as well.","title":"None of the callback of Firestore.collection.document.set() is trigering","body":"<p>I am working on a project that uses firestore but it is not setting the value of the document. Authentication is working fine but the <code>Firestore.collection.document.set()</code> is not working. here is the code I have tried</p>\n<pre><code>collectionReference.document(email).set(data).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n    @Override\n    public void onSuccess(Void unused) {\n        auth.signOut();\n        progressDialog.dismiss();\n        startActivity(new Intent(SignUpRepActivity.this,LoginActivity.class));\n    }\n}).addOnFailureListener(new OnFailureListener() {\n    @Override\n    public void onFailure(@NonNull Exception e) {\n        e.printStackTrace();\n    }\n}).addOnCanceledListener(new OnCanceledListener() {\n    @Override\n    public void onCanceled() {\n        Log.v(&quot;Cancelled&quot;,&quot;Cancelled&quot;);\n    }\n}).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;Void&gt; task) {\n        Log.v(&quot;Task&quot;,&quot;Complete&quot;);\n    }\n});\n</code></pre>\n<p>None of these callbacks are working and nothing in logs as well.</p>\n"},{"tags":["java","arrays","duplicates","time-complexity"],"comments":[{"owner":{"account_id":366823,"reputation":77621,"user_id":712603,"accept_rate":92,"display_name":"David Robinson"},"score":2,"creation_date":1349807675,"post_id":12806186,"comment_id":17318593,"body_markdown":"It&#39;s impossible to remove duplicates in O(N).","body":"It&#39;s impossible to remove duplicates in O(N)."},{"owner":{"account_id":1331302,"reputation":118767,"user_id":1275169,"accept_rate":71,"display_name":"P.P"},"score":0,"creation_date":1349807816,"post_id":12806186,"comment_id":17318639,"body_markdown":"http://stackoverflow.com/questions/4395668/remove-duplicates-from-array-without-using-hash-table","body":"<a href=\"http://stackoverflow.com/questions/4395668/remove-duplicates-from-array-without-using-hash-table\" title=\"remove duplicates from array without using hash table\">stackoverflow.com/questions/4395668/&hellip;</a>"},{"owner":{"account_id":478226,"reputation":4717,"user_id":2109541,"accept_rate":60,"display_name":"FSP"},"score":0,"creation_date":1349808154,"post_id":12806186,"comment_id":17318798,"body_markdown":"He doesn&#39;t say that hash tables are not to be used.","body":"He doesn&#39;t say that hash tables are not to be used."},{"owner":{"account_id":438909,"reputation":23723,"user_id":827480,"accept_rate":61,"display_name":"Eric B."},"score":0,"creation_date":1349809145,"post_id":12806186,"comment_id":17319196,"body_markdown":"Not to split hairs, but O(n) can be done using a HashMap.  But I&#39;m not sure if the &quot;no HashSet&quot; requirement includes HashMap or not.","body":"Not to split hairs, but O(n) can be done using a HashMap.  But I&#39;m not sure if the &quot;no HashSet&quot; requirement includes HashMap or not."}],"answers":[{"tags":[],"owner":{"account_id":1078519,"reputation":10470,"user_id":1076143,"accept_rate":100,"display_name":"Misch"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1349808838,"creation_date":1349807757,"answer_id":12806273,"question_id":12806186,"body_markdown":"**You can&#39;t find duplicates in `O(n)` (in general).** \r\n\r\nHowever it is possible in **`O(n*log n)`**. Simply sort your array (`O(n*log n)`), and then the scanning for duplicates can be done in `O(n)`. \r\n\r\nOn the other hand, if you can use hash tables (what you probably don&#39;t want to do, if you don&#39;t want to use any additional libraries) you can scan through the array and count how often each element appears in the array. After that, you can go through each element in the hash table and find those elements that appeared more than once. This would take an **expected** runtime of **`O(n)`**, but not deterministic `O(n)`. \r\n\r\n**Finally, why did I write that you can&#39;t find duplicates in `O(n)` in general?**  \r\nOne could imagine several special cases, where finding duplicates is possible in `O(n)`. \r\nFor example, your array could only contain numbers from 0 to 99. \r\nIn that case, you could use another array (of size 100) to count how often each element appears in the array. This works the same way as with the hash table, but its runtime would be deterministic `O(n)`. \r\n\r\nAnother example where finding duplicates is possible in `O(n)` is of course, if the array is already sorted. ","title":"How to modify my method to search and then remove duplicates in O(N) or O(N * log N)?","body":"<p><strong>You can't find duplicates in <code>O(n)</code> (in general).</strong> </p>\n\n<p>However it is possible in <strong><code>O(n*log n)</code></strong>. Simply sort your array (<code>O(n*log n)</code>), and then the scanning for duplicates can be done in <code>O(n)</code>. </p>\n\n<p>On the other hand, if you can use hash tables (what you probably don't want to do, if you don't want to use any additional libraries) you can scan through the array and count how often each element appears in the array. After that, you can go through each element in the hash table and find those elements that appeared more than once. This would take an <strong>expected</strong> runtime of <strong><code>O(n)</code></strong>, but not deterministic <code>O(n)</code>. </p>\n\n<p><strong>Finally, why did I write that you can't find duplicates in <code>O(n)</code> in general?</strong><br>\nOne could imagine several special cases, where finding duplicates is possible in <code>O(n)</code>. \nFor example, your array could only contain numbers from 0 to 99. \nIn that case, you could use another array (of size 100) to count how often each element appears in the array. This works the same way as with the hash table, but its runtime would be deterministic <code>O(n)</code>. </p>\n\n<p>Another example where finding duplicates is possible in <code>O(n)</code> is of course, if the array is already sorted. </p>\n"},{"tags":[],"owner":{"account_id":203516,"reputation":469,"user_id":451210,"accept_rate":82,"display_name":"zoli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1349808166,"creation_date":1349808166,"answer_id":12806371,"question_id":12806186,"body_markdown":"This is not O(n) because of the hash and equals comparisons, and uses LinkedHashSet, which is part of the Java standard library, but probably close enough:\r\n\r\n    public void dups() {\r\n        Set&lt;Integer&gt; uniques = new LinkedHashSet&lt;&gt;();\r\n        for (int i = 0; i &lt; elements.length; i++) {\r\n            uniques.add(elements[i]);\r\n        }\r\n        // todo: copy the set into a list, then call toArray() to get an array.\r\n    }","title":"How to modify my method to search and then remove duplicates in O(N) or O(N * log N)?","body":"<p>This is not O(n) because of the hash and equals comparisons, and uses LinkedHashSet, which is part of the Java standard library, but probably close enough:</p>\n\n<pre><code>public void dups() {\n    Set&lt;Integer&gt; uniques = new LinkedHashSet&lt;&gt;();\n    for (int i = 0; i &lt; elements.length; i++) {\n        uniques.add(elements[i]);\n    }\n    // todo: copy the set into a list, then call toArray() to get an array.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":54976,"reputation":14415,"user_id":164553,"accept_rate":100,"display_name":"Brigham"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1349810348,"creation_date":1349808218,"answer_id":12806387,"question_id":12806186,"body_markdown":"Use a `HashSet` to do this in O(n) time:\r\n\r\n    public &lt;T&gt; int removeDups(T[] original) {\r\n        HashSet&lt;T&gt; unique = new HashSet&lt;T&gt;();\r\n        for (T item: original) {\r\n            unique.add(item);\r\n        }\r\n\r\n        int size = unique.size();\r\n        int curr = 0;\r\n        for (int i = 0; i &lt; original.length; i += 1) {\r\n            if (unique.remove(original[i])) {\r\n                original[curr] = original[i];\r\n                curr++;\r\n            }\r\n        }\r\n\r\n        return size;\r\n    }\r\n\r\nBe aware that this depends on the `hashCode` method of your list elements properly distributing elements over the buckets in the `HashSet` to achieve O(n). In worst case, this is O(n*m), where m is the number of unique elements, so you should definitely measure it.\r\n\r\nThis implementation modifies the array in place, and returns the number of unique elements. Although the array may be larger than this, elements past that point should considered garbage.\r\n\r\nIt makes one pass over the list to add items to the `HashSet` (adding an item is O(1)), and another pass to update the array, so it&#39;s O(n) (again, assuming a good hash function).","title":"How to modify my method to search and then remove duplicates in O(N) or O(N * log N)?","body":"<p>Use a <code>HashSet</code> to do this in O(n) time:</p>\n\n<pre><code>public &lt;T&gt; int removeDups(T[] original) {\n    HashSet&lt;T&gt; unique = new HashSet&lt;T&gt;();\n    for (T item: original) {\n        unique.add(item);\n    }\n\n    int size = unique.size();\n    int curr = 0;\n    for (int i = 0; i &lt; original.length; i += 1) {\n        if (unique.remove(original[i])) {\n            original[curr] = original[i];\n            curr++;\n        }\n    }\n\n    return size;\n}\n</code></pre>\n\n<p>Be aware that this depends on the <code>hashCode</code> method of your list elements properly distributing elements over the buckets in the <code>HashSet</code> to achieve O(n). In worst case, this is O(n*m), where m is the number of unique elements, so you should definitely measure it.</p>\n\n<p>This implementation modifies the array in place, and returns the number of unique elements. Although the array may be larger than this, elements past that point should considered garbage.</p>\n\n<p>It makes one pass over the list to add items to the <code>HashSet</code> (adding an item is O(1)), and another pass to update the array, so it's O(n) (again, assuming a good hash function).</p>\n"},{"tags":[],"owner":{"account_id":438909,"reputation":23723,"user_id":827480,"accept_rate":61,"display_name":"Eric B."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1349809816,"creation_date":1349809816,"answer_id":12806772,"question_id":12806186,"body_markdown":"The default implementation of a HashMap is array based and is O(n).  Consequently, if you want a fun exercise, you can sift through the implementation of the HashMap to understand exactly how  it hashes its keys.  Basically, it uses the key&#39;s hashCode and uses it to index an array in predetermined location (hashCode &amp; arraylength - 1), and stores the value at that index.  If you were to repeat the concept, using the value as both the key and the value, you would have only unique entries in your array.\r\n\r\nYou will, however, end up with an array with a lot of empty slots, if you have a large number of duplicates, but only unique values.  Once you populate the array, you only need to loop through it once to remove any empty slots. (ex: copy all non-null entries to a List)\r\n\r\nIt would be O(n), but required 2 passes - once to populate the array and once to remove the empty slots.  It would also require an additional array of same length as your existing array,  and a smaller array (or list) for a final list of unique values.","title":"How to modify my method to search and then remove duplicates in O(N) or O(N * log N)?","body":"<p>The default implementation of a HashMap is array based and is O(n).  Consequently, if you want a fun exercise, you can sift through the implementation of the HashMap to understand exactly how  it hashes its keys.  Basically, it uses the key's hashCode and uses it to index an array in predetermined location (hashCode &amp; arraylength - 1), and stores the value at that index.  If you were to repeat the concept, using the value as both the key and the value, you would have only unique entries in your array.</p>\n\n<p>You will, however, end up with an array with a lot of empty slots, if you have a large number of duplicates, but only unique values.  Once you populate the array, you only need to loop through it once to remove any empty slots. (ex: copy all non-null entries to a List)</p>\n\n<p>It would be O(n), but required 2 passes - once to populate the array and once to remove the empty slots.  It would also require an additional array of same length as your existing array,  and a smaller array (or list) for a final list of unique values.</p>\n"},{"tags":[],"owner":{"account_id":8004185,"reputation":1391,"user_id":6037956,"display_name":"Soudipta Dutta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648640478,"creation_date":1648634146,"answer_id":71675125,"question_id":12806186,"body_markdown":"\r\n\r\n\r\n    array1 = [1,2,2,3,3,3,4,5,6,4,4,5,5,5,5,10,10,8,7,7,9,10]\r\n    \r\n    array1.sort() # sorting is must\r\n    print(array1)\r\n    \r\n    current = NONE\r\n    count = 0 \r\n    \r\n    # overwriting the numbers at the frontal part of the array\r\n    for item in array1:\r\n        if item != current:\r\n            array1[count] = item\r\n            count +=1\r\n            current=item\r\n            \r\n           \r\n    \r\n    print(array1)#[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 5, 5, 5, 5, 6, 7, 7, 8, 9, 10, 10, 10]\r\n    \r\n    print(array1[:count])#[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\r\n\r\n\r\n\r\n\r\nThe most Efficient method is :\r\n\r\n\r\n\r\n\r\n\r\n    array1 = [1,2,2,3,3,3,4,5,6,4,4,5,5,5,5,10,10,8,7,7,9,10]\r\n    \r\n    array1.sort()\r\n    print(array1)\r\n    \r\n    print([*dict.fromkeys(array1)])#[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\r\n    \r\n    #OR#\r\n    aa = list(dict.fromkeys(array1))\r\n    print( aa)#[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to modify my method to search and then remove duplicates in O(N) or O(N * log N)?","body":"<pre><code>array1 = [1,2,2,3,3,3,4,5,6,4,4,5,5,5,5,10,10,8,7,7,9,10]\n\narray1.sort() # sorting is must\nprint(array1)\n\ncurrent = NONE\ncount = 0 \n\n# overwriting the numbers at the frontal part of the array\nfor item in array1:\n    if item != current:\n        array1[count] = item\n        count +=1\n        current=item\n        \n       \n\nprint(array1)#[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 5, 5, 5, 5, 6, 7, 7, 8, 9, 10, 10, 10]\n\nprint(array1[:count])#[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n</code></pre>\n<p>The most Efficient method is :</p>\n<pre><code>array1 = [1,2,2,3,3,3,4,5,6,4,4,5,5,5,5,10,10,8,7,7,9,10]\n\narray1.sort()\nprint(array1)\n\nprint([*dict.fromkeys(array1)])#[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n\n#OR#\naa = list(dict.fromkeys(array1))\nprint( aa)#[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n</code></pre>\n"}],"owner":{"account_id":371672,"reputation":6381,"user_id":720323,"accept_rate":97,"display_name":"HelpNeeder"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":12806273,"answer_count":5,"score":2,"last_activity_date":1648640478,"creation_date":1349807416,"question_id":12806186,"body_markdown":"I created a method which search for duplicates and then stores duplicates index into another array. Then I&#39;m running through my big array and move all entries without duplicates.\r\n\r\nNow, my problem is that this uses O(N*N) and I am using additional memory space since I am adding additional array.\r\n\r\nHow could this be done? **Assuming that I need to understand how this could be done without using additional libraries or HashSet.**\r\n\r\nAny tips appreciated.\r\n\r\n       public void dups()\r\n       {\r\n           int[] index = new int[100];\r\n    \r\n           int k = 0;\r\n           int n = 0;\r\n           int p = 0;\r\n          \r\n           for (int i = 0; i &lt; elements; i++)\r\n               for (int j = i + 1; j &lt; elements; j++)\r\n                   if(a[j].equals(a[i]))\r\n                       index[k++] = i;\r\n          \r\n           for (int m = 0; m &lt; elements; m++)\r\n               if (m != index[p])\r\n                   a[n++] = (T) a[m];\r\n               else\r\n                   p++;\r\n          \r\n           elements -= k;\r\n       }","title":"How to modify my method to search and then remove duplicates in O(N) or O(N * log N)?","body":"<p>I created a method which search for duplicates and then stores duplicates index into another array. Then I'm running through my big array and move all entries without duplicates.</p>\n\n<p>Now, my problem is that this uses O(N*N) and I am using additional memory space since I am adding additional array.</p>\n\n<p>How could this be done? <strong>Assuming that I need to understand how this could be done without using additional libraries or HashSet.</strong></p>\n\n<p>Any tips appreciated.</p>\n\n<pre><code>   public void dups()\n   {\n       int[] index = new int[100];\n\n       int k = 0;\n       int n = 0;\n       int p = 0;\n\n       for (int i = 0; i &lt; elements; i++)\n           for (int j = i + 1; j &lt; elements; j++)\n               if(a[j].equals(a[i]))\n                   index[k++] = i;\n\n       for (int m = 0; m &lt; elements; m++)\n           if (m != index[p])\n               a[n++] = (T) a[m];\n           else\n               p++;\n\n       elements -= k;\n   }\n</code></pre>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":2536623,"reputation":1158,"user_id":2203541,"accept_rate":86,"display_name":"mlwn"},"score":0,"creation_date":1409900933,"post_id":25680295,"comment_id":40134435,"body_markdown":"I think you don&#39;t even need the &quot;else&quot; block.. just catch the exception, don&#39;t even print it... return false","body":"I think you don&#39;t even need the &quot;else&quot; block.. just catch the exception, don&#39;t even print it... return false"},{"owner":{"account_id":4737435,"reputation":1101,"user_id":3831400,"accept_rate":75,"display_name":"Jae Heon Lee"},"score":1,"creation_date":1409900951,"post_id":25680295,"comment_id":40134441,"body_markdown":"Did you try catching a TimeoutException rather than a NoSuchElementException?","body":"Did you try catching a TimeoutException rather than a NoSuchElementException?"},{"owner":{"account_id":4869518,"reputation":683,"user_id":3926533,"accept_rate":88,"display_name":"Ali Hamadi"},"score":0,"creation_date":1409901284,"post_id":25680295,"comment_id":40134584,"body_markdown":"yes you right, i don&#39;t even need the else the code never get to the else argument,and yes Jae i have tried the timeoutException , the problem is that the if condition i wrote will never return null because it&#39;s basically throw an exception when the element is not found. i am wondering if there is a better way to achieve the purpose of the method.","body":"yes you right, i don&#39;t even need the else the code never get to the else argument,and yes Jae i have tried the timeoutException , the problem is that the if condition i wrote will never return null because it&#39;s basically throw an exception when the element is not found. i am wondering if there is a better way to achieve the purpose of the method."},{"owner":{"account_id":4737435,"reputation":1101,"user_id":3831400,"accept_rate":75,"display_name":"Jae Heon Lee"},"score":2,"creation_date":1409901944,"post_id":25680295,"comment_id":40134866,"body_markdown":"@AliHamadi I imagine that `try { wait.until( ... ); return true; } catch(TimeoutException ex) { return false; }` might work if the `wait.until( ... )` throws a TimeoutException reporting that no elements have been found.","body":"@AliHamadi I imagine that <code>try { wait.until( ... ); return true; } catch(TimeoutException ex) { return false; }</code> might work if the <code>wait.until( ... )</code> throws a TimeoutException reporting that no elements have been found."},{"owner":{"account_id":4869518,"reputation":683,"user_id":3926533,"accept_rate":88,"display_name":"Ali Hamadi"},"score":0,"creation_date":1409903034,"post_id":25680295,"comment_id":40135389,"body_markdown":"Thank You So Much Jae!!! it worked , to be honest i am not that good at throwing exceptions error and how they work, i was thinking that each method throw a specific exception error that i can&#39;t change and i thought the NoSuchElementException is the only one that i could use, thank you very much Jae","body":"Thank You So Much Jae!!! it worked , to be honest i am not that good at throwing exceptions error and how they work, i was thinking that each method throw a specific exception error that i can&#39;t change and i thought the NoSuchElementException is the only one that i could use, thank you very much Jae"}],"answers":[{"tags":[],"owner":{"account_id":4869518,"reputation":683,"user_id":3926533,"accept_rate":88,"display_name":"Ali Hamadi"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1648640451,"creation_date":1410532552,"answer_id":25810781,"question_id":25680295,"body_markdown":"Jae Heon Lee answered this question \r\n\r\n    try {\r\n    \twait.until( ... );\r\n    \treturn true;\r\n    } catch (TimeoutException ex) {\r\n    \t// might work if the wait.until( ... ) throws a TimeoutException \r\n    \t// reporting that no elements have been found. \r\n    \treturn false;\r\n    }\r\n\r\n","title":"how to make a my method that is using Wait.Until ignore throwing exceptions in selenium webdriver","body":"<p>Jae Heon Lee answered this question</p>\n<pre><code>try {\n    wait.until( ... );\n    return true;\n} catch (TimeoutException ex) {\n    // might work if the wait.until( ... ) throws a TimeoutException \n    // reporting that no elements have been found. \n    return false;\n}\n</code></pre>\n"}],"owner":{"account_id":4869518,"reputation":683,"user_id":3926533,"accept_rate":88,"display_name":"Ali Hamadi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9788,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":25810781,"answer_count":1,"score":0,"last_activity_date":1648640451,"creation_date":1409900620,"question_id":25680295,"body_markdown":"i have a method that is \r\n\r\n    private boolean findElements(\r\n                                      String xpath,\r\n                                      int timeOut ) {\r\n    \r\n            WebDriverWait wait = new WebDriverWait( driver, timeOut );\r\n    \r\n            try {\r\n                if( wait.until( ExpectedConditions.visibilityOfElementLocated( By.xpath( xpath ) ) ) != null ) {\r\n                    return true;\r\n                } else {\r\n                    return false;\r\n                }\r\n            } catch( NoSuchElementException e ) {\r\n                e.printStackTrace();\r\n                return false;\r\n            }\r\n    \r\n        }\r\n\r\nit returning true when element is found but it throwing an exception when element is not found, how can i make the method returning false instead of the exception throwing , or is there a better way or method that is boolean which can do the job for me.\r\n\r\nKind Regards\r\n","title":"how to make a my method that is using Wait.Until ignore throwing exceptions in selenium webdriver","body":"<p>i have a method that is </p>\n\n<pre><code>private boolean findElements(\n                                  String xpath,\n                                  int timeOut ) {\n\n        WebDriverWait wait = new WebDriverWait( driver, timeOut );\n\n        try {\n            if( wait.until( ExpectedConditions.visibilityOfElementLocated( By.xpath( xpath ) ) ) != null ) {\n                return true;\n            } else {\n                return false;\n            }\n        } catch( NoSuchElementException e ) {\n            e.printStackTrace();\n            return false;\n        }\n\n    }\n</code></pre>\n\n<p>it returning true when element is found but it throwing an exception when element is not found, how can i make the method returning false instead of the exception throwing , or is there a better way or method that is boolean which can do the job for me.</p>\n\n<p>Kind Regards</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1648635664,"post_id":71675373,"comment_id":126672822,"body_markdown":"Have you inspected what the inputstream from con.getInputStream() looks like?","body":"Have you inspected what the inputstream from con.getInputStream() looks like?"},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1648636916,"post_id":71675373,"comment_id":126673346,"body_markdown":"Just because you mark the request with accept encoding gzip, that does not imply the server will always send back as gzip.","body":"Just because you mark the request with accept encoding gzip, that does not imply the server will always send back as gzip."},{"owner":{"account_id":22559583,"reputation":11,"user_id":16747404,"display_name":"Developer123"},"score":0,"creation_date":1648637089,"post_id":71675373,"comment_id":126673415,"body_markdown":"@DuncG i tried to add gzip, deflate, br but it doesn&#39;t work again","body":"@DuncG i tried to add gzip, deflate, br but it doesn&#39;t work again"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648640262,"creation_date":1648640262,"answer_id":71676513,"question_id":71675373,"body_markdown":"Two issues here:\r\n\r\n* You can tell a server you want GZIP encoding. That doesn&#39;t mean it&#39;ll neccessarily comply.\r\n\r\nAs a consequence, your current code goes: Well, I _asked_ for gzip, so I will assume i Must gunzip the stream. That&#39;s incorrect - you need to ask for gzip as you do, but you need to let &#39;should I GZipInputStream the response&#39; depend on whether __the server__ actually did that. To figure this out, use `con.connect` to actually connect (`.getInputStream` implies it, but now we need to fetch some response info _before_ opening the inputstream so you need to explicitly connect now), and you can call `.&quot;gzip&quot;.equals(con.getContentEncoding())` to figure it out. If that is `true`, then wrap `con.getInputStream()` in GZIPInputStream. If it isn&#39;t, don&#39;t do that.\r\n\r\n* More generally you&#39;re abusing HttpURLConnection.\r\n\r\nHttpURLConnection&#39;s job is to deal with the stream/processing of the data itself. That means headers like `Transfer-Encoding`, `Host`, and `Accept-Encoding` aren&#39;t &#39;your turf&#39;, you shouldn&#39;t be messing with this stuff. _It_ needs to send &#39;hey, I can support gzip!&#39; and _it_ needs to wrap the response in a GZIPInputStream if the server says: &quot;Great, okay, therefore I gzipped it for you!&quot;.\r\n\r\nUnfortunately HttpURLConnection is extremely basic _and_ messes up this distinction itself, for example it looks at the Transfer-Encoding header you set and will chunk sends (I think - oof, I haven&#39;t used this class in forever because its so bad).\r\n\r\nIf you have needs to make things even slightly complicated (and I&#39;d say this qualifies), then stop using it. There&#39;s [OkHttp](https://square.github.io/okhttp/) from square. Java itself (Available in JDK11 and up, I think) [calls HttpURLConnection obsolete and has replaced it - here is a tutorial](https://www.baeldung.com/java-9-http-client), and even apache has [HttpComponents](https://hc.apache.org) but note that this is outdated and as with most apache java libraries, oof, it&#39;s bad API design. I wouldn&#39;t use that one, even if it is rather popular. It&#39;s still much better than HttpURLConnection though!\r\n","title":"How to resolve: java.util.zip.ZipException: Not in GZIP format","body":"<p>Two issues here:</p>\n<ul>\n<li>You can tell a server you want GZIP encoding. That doesn't mean it'll neccessarily comply.</li>\n</ul>\n<p>As a consequence, your current code goes: Well, I <em>asked</em> for gzip, so I will assume i Must gunzip the stream. That's incorrect - you need to ask for gzip as you do, but you need to let 'should I GZipInputStream the response' depend on whether <strong>the server</strong> actually did that. To figure this out, use <code>con.connect</code> to actually connect (<code>.getInputStream</code> implies it, but now we need to fetch some response info <em>before</em> opening the inputstream so you need to explicitly connect now), and you can call <code>.&quot;gzip&quot;.equals(con.getContentEncoding())</code> to figure it out. If that is <code>true</code>, then wrap <code>con.getInputStream()</code> in GZIPInputStream. If it isn't, don't do that.</p>\n<ul>\n<li>More generally you're abusing HttpURLConnection.</li>\n</ul>\n<p>HttpURLConnection's job is to deal with the stream/processing of the data itself. That means headers like <code>Transfer-Encoding</code>, <code>Host</code>, and <code>Accept-Encoding</code> aren't 'your turf', you shouldn't be messing with this stuff. <em>It</em> needs to send 'hey, I can support gzip!' and <em>it</em> needs to wrap the response in a GZIPInputStream if the server says: &quot;Great, okay, therefore I gzipped it for you!&quot;.</p>\n<p>Unfortunately HttpURLConnection is extremely basic <em>and</em> messes up this distinction itself, for example it looks at the Transfer-Encoding header you set and will chunk sends (I think - oof, I haven't used this class in forever because its so bad).</p>\n<p>If you have needs to make things even slightly complicated (and I'd say this qualifies), then stop using it. There's <a href=\"https://square.github.io/okhttp/\" rel=\"nofollow noreferrer\">OkHttp</a> from square. Java itself (Available in JDK11 and up, I think) <a href=\"https://www.baeldung.com/java-9-http-client\" rel=\"nofollow noreferrer\">calls HttpURLConnection obsolete and has replaced it - here is a tutorial</a>, and even apache has <a href=\"https://hc.apache.org\" rel=\"nofollow noreferrer\">HttpComponents</a> but note that this is outdated and as with most apache java libraries, oof, it's bad API design. I wouldn't use that one, even if it is rather popular. It's still much better than HttpURLConnection though!</p>\n"}],"owner":{"account_id":22559583,"reputation":11,"user_id":16747404,"display_name":"Developer123"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1588,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1648640262,"creation_date":1648635345,"question_id":71675373,"body_markdown":"\r\n\r\nLine InputStream is = new GZIPInputStream (con.getInputStream ()); returns this &quot;java.util.zip.ZipException: Not in GZIP format&quot; exception. Does anyone know how to solve this?\r\n\r\n  **my code:**\r\n\r\n    private String getJsonFromRapidAPI(final String url) throws Exception {\r\n    \r\n            final String token = generateSessionToken();\r\n            final HttpClient httpclient = new DefaultHttpClient();\r\n            final HttpGet httpget = new HttpGet(url);\r\n    \r\n            String fileContents = null;\r\n            StringBuilder sb = new StringBuilder();\r\n            BufferedReader in = null;\r\n    \r\n            if (inetAddress == null) {\r\n                inetAddress = InetAddress.getLocalHost();\r\n            }\r\n    \r\n            final String serverIP = inetAddress.getHostAddress();\r\n    \r\n            URL urlToCall = new URL(url);\r\n            HttpURLConnection con = (HttpURLConnection) urlToCall.openConnection();\r\n            con.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n            con.setRequestProperty(&quot;Accept-Encoding&quot;, &quot;gzip&quot;);\r\n            con.setRequestProperty(&quot;Authorization&quot;, token);\r\n            con.setRequestProperty(&quot;Customer-Ip&quot;, serverIP);\r\n            con.setRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36&quot;);\r\n    \r\n            InputStream is = new GZIPInputStream(con.getInputStream());\r\n    \r\n            StringWriter writer = new StringWriter();\r\n            IOUtils.copy(is, writer, &quot;UTF-8&quot;);\r\n    \r\n            return writer.toString();\r\n    \r\n        }","title":"How to resolve: java.util.zip.ZipException: Not in GZIP format","body":"<p>Line InputStream is = new GZIPInputStream (con.getInputStream ()); returns this &quot;java.util.zip.ZipException: Not in GZIP format&quot; exception. Does anyone know how to solve this?</p>\n<p><strong>my code:</strong></p>\n<pre><code>private String getJsonFromRapidAPI(final String url) throws Exception {\n\n        final String token = generateSessionToken();\n        final HttpClient httpclient = new DefaultHttpClient();\n        final HttpGet httpget = new HttpGet(url);\n\n        String fileContents = null;\n        StringBuilder sb = new StringBuilder();\n        BufferedReader in = null;\n\n        if (inetAddress == null) {\n            inetAddress = InetAddress.getLocalHost();\n        }\n\n        final String serverIP = inetAddress.getHostAddress();\n\n        URL urlToCall = new URL(url);\n        HttpURLConnection con = (HttpURLConnection) urlToCall.openConnection();\n        con.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\n        con.setRequestProperty(&quot;Accept-Encoding&quot;, &quot;gzip&quot;);\n        con.setRequestProperty(&quot;Authorization&quot;, token);\n        con.setRequestProperty(&quot;Customer-Ip&quot;, serverIP);\n        con.setRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36&quot;);\n\n        InputStream is = new GZIPInputStream(con.getInputStream());\n\n        StringWriter writer = new StringWriter();\n        IOUtils.copy(is, writer, &quot;UTF-8&quot;);\n\n        return writer.toString();\n\n    }\n</code></pre>\n"},{"tags":["java","amazon-web-services","ssl","kubernetes"],"comments":[{"owner":{"account_id":14334930,"reputation":1021,"user_id":10354705,"display_name":"Dan Obregon"},"score":0,"creation_date":1648641134,"post_id":71676226,"comment_id":126674864,"body_markdown":"Please provide additional details. What kind of certificates do you have? What is the target environment? Is this an application or a web site? Is it running within a container or natively?  Are the certificates for specific environments (i.e. development, staging, production, etc)?","body":"Please provide additional details. What kind of certificates do you have? What is the target environment? Is this an application or a web site? Is it running within a container or natively?  Are the certificates for specific environments (i.e. development, staging, production, etc)?"}],"answers":[{"tags":[],"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1648639903,"creation_date":1648639903,"answer_id":71676430,"question_id":71676226,"body_markdown":"There&#39;s two ways:\r\n\r\n  1. *(Perhaps not what you&#39;re looking for)* Use AWS Application Load Balancer and AWS Certificate Manager to terminal TLS. This is done by creating `Service` of type `LoadBalancer` with annotation `service.beta.kubernetes.io/aws-load-balancer-ssl-cert: ...` (and some others). *Note that you can&#39;t access the ACM private key, so this doesn&#39;t work if you want to terminate TLS in Java.*\r\n  2. Use [`cert-mananager`](https://github.com/cert-manager/cert-manager) to generate a certificate with Let&#39;s Encrypt or another supported service. Create an `Issuer` and then create a `Certificate` and a `Secret` to store its private key in the appropriate namespace. Then you can reference the Secret in your pods and load them in Java.\r\n\r\nIf you go the second route but would like to have a single certificate that is reused across namespaces, then you have to use something like [`syncator`](https://github.com/almson/synator/) to replicate the Secrets across namespaces.","title":"How to install TLS certificates on pods where Java is deployed","body":"<p>There's two ways:</p>\n<ol>\n<li><em>(Perhaps not what you're looking for)</em> Use AWS Application Load Balancer and AWS Certificate Manager to terminal TLS. This is done by creating <code>Service</code> of type <code>LoadBalancer</code> with annotation <code>service.beta.kubernetes.io/aws-load-balancer-ssl-cert: ...</code> (and some others). <em>Note that you can't access the ACM private key, so this doesn't work if you want to terminate TLS in Java.</em></li>\n<li>Use <a href=\"https://github.com/cert-manager/cert-manager\" rel=\"nofollow noreferrer\"><code>cert-mananager</code></a> to generate a certificate with Let's Encrypt or another supported service. Create an <code>Issuer</code> and then create a <code>Certificate</code> and a <code>Secret</code> to store its private key in the appropriate namespace. Then you can reference the Secret in your pods and load them in Java.</li>\n</ol>\n<p>If you go the second route but would like to have a single certificate that is reused across namespaces, then you have to use something like <a href=\"https://github.com/almson/synator/\" rel=\"nofollow noreferrer\"><code>syncator</code></a> to replicate the Secrets across namespaces.</p>\n"}],"owner":{"account_id":23710192,"reputation":11,"user_id":17732144,"display_name":"Subhan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648640080,"creation_date":1648638921,"question_id":71676226,"body_markdown":"How can I install certificates on pods or servers where Java code is deployed?","title":"How to install TLS certificates on pods where Java is deployed","body":"<p>How can I install certificates on pods or servers where Java code is deployed?</p>\n"},{"tags":["java","jdbc","mariadb","wireshark"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1648034353,"post_id":71586158,"comment_id":126520282,"body_markdown":"I&#39;ve never packet inspected this kind of stuff but I&#39;d imagine the client would always be &#39;Java&#39;","body":"I&#39;ve never packet inspected this kind of stuff but I&#39;d imagine the client would always be &#39;Java&#39;"},{"owner":{"account_id":43373,"reputation":224943,"user_id":126769,"accept_rate":94,"display_name":"nos"},"score":0,"creation_date":1648034821,"post_id":71586158,"comment_id":126520453,"body_markdown":"I don&#39;t think the mysql protocol has a field to send the client name","body":"I don&#39;t think the mysql protocol has a field to send the client name"},{"owner":{"account_id":22180648,"reputation":367,"user_id":16424414,"display_name":"Orly Orly"},"score":0,"creation_date":1648035328,"post_id":71586158,"comment_id":126520660,"body_markdown":"@nos it has. i added a screen shot","body":"@nos it has. i added a screen shot"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1648040981,"post_id":71586158,"comment_id":126522845,"body_markdown":"You should be using a connection URL starting with `jdbc:mariadb:`, not `jdbc:mysql:`. It is entirely possible right now you&#39;re connecting with MySQL Connector/J instead of MariaDB Connector/J.","body":"You should be using a connection URL starting with <code>jdbc:mariadb:</code>, not <code>jdbc:mysql:</code>. It is entirely possible right now you&#39;re connecting with MySQL Connector/J instead of MariaDB Connector/J."}],"answers":[{"tags":[],"owner":{"account_id":22180648,"reputation":367,"user_id":16424414,"display_name":"Orly Orly"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1648639541,"creation_date":1648639541,"answer_id":71676355,"question_id":71586158,"body_markdown":"the solution:\r\n\r\nreplace mysql driver with this driver: &quot;mariadb-java-client-3.0.3.jar driver&quot;\r\n\r\ndriverClassName: &quot;org.mariadb.jdbc.Driver&quot;,\r\n\r\ndbConnectionUrl: &quot;jdbc:mariadb://${host}:${port}/${dbName}&quot;","title":"Client name field is missing in the pcap - connection by DriverManager to MariaDB","body":"<p>the solution:</p>\n<p>replace mysql driver with this driver: &quot;mariadb-java-client-3.0.3.jar driver&quot;</p>\n<p>driverClassName: &quot;org.mariadb.jdbc.Driver&quot;,</p>\n<p>dbConnectionUrl: &quot;jdbc:mariadb://${host}:${port}/${dbName}&quot;</p>\n"}],"owner":{"account_id":22180648,"reputation":367,"user_id":16424414,"display_name":"Orly Orly"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71676355,"answer_count":1,"score":0,"last_activity_date":1648639541,"creation_date":1648033640,"question_id":71586158,"body_markdown":"Writing with Java, I am using JDBC DriverManager Interface to connect MariaDB:\r\n```\r\nconnectionUrl = jdbc:mysql://10.100.92.141:3306/mysql\r\nsqlConnection = DriverManager.getConnection(connectionUrl, dbUser, dbPassword);\r\n```\r\nAfter the connection is established, I send some queries and the traffic is recorded to a pcap.\r\n\r\nWhile opening the pcap, the field of &quot;client_name&quot; that should be: &quot;MariaDB Connector/J&quot; is missing.\r\n\r\nHow can I make the connection send also the client name field?\r\n\r\nI added a screenshot of comparing two pcaps:\r\n\r\nOn the left: traffic that I sent manually to DB via DBeaver, there I can see connection attributes and there is the client name.\r\n\r\nOn the right: traffic that sent via Java code, there are no connection attributes:  \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9cCdz.png","title":"Client name field is missing in the pcap - connection by DriverManager to MariaDB","body":"<p>Writing with Java, I am using JDBC DriverManager Interface to connect MariaDB:</p>\n<pre><code>connectionUrl = jdbc:mysql://10.100.92.141:3306/mysql\nsqlConnection = DriverManager.getConnection(connectionUrl, dbUser, dbPassword);\n</code></pre>\n<p>After the connection is established, I send some queries and the traffic is recorded to a pcap.</p>\n<p>While opening the pcap, the field of &quot;client_name&quot; that should be: &quot;MariaDB Connector/J&quot; is missing.</p>\n<p>How can I make the connection send also the client name field?</p>\n<p>I added a screenshot of comparing two pcaps:</p>\n<p>On the left: traffic that I sent manually to DB via DBeaver, there I can see connection attributes and there is the client name.</p>\n<p>On the right: traffic that sent via Java code, there are no connection attributes:<br />\n<a href=\"https://i.stack.imgur.com/9cCdz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9cCdz.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","multidimensional-array","methods"],"comments":[{"owner":{"account_id":19315618,"reputation":83,"user_id":14120463,"display_name":"Barnesly"},"score":1,"creation_date":1646159158,"post_id":71312803,"comment_id":126052997,"body_markdown":"Could you add some expected input/output or clarify the behaviour you expect? The input in your question is a bit confusing as you talk about a 2d array but are using a 1d array and it&#39;s unclear what you are actually attempting to accomplish. Based on what you&#39;ve described it shouldn&#39;t be too hard, just a case of understanding exactly what you need.","body":"Could you add some expected input/output or clarify the behaviour you expect? The input in your question is a bit confusing as you talk about a 2d array but are using a 1d array and it&#39;s unclear what you are actually attempting to accomplish. Based on what you&#39;ve described it shouldn&#39;t be too hard, just a case of understanding exactly what you need."},{"owner":{"account_id":20557566,"reputation":17,"user_id":15088753,"display_name":"Evil2"},"score":0,"creation_date":1646160236,"post_id":71312803,"comment_id":126053347,"body_markdown":"@Barnesly sorry about the confusion. as long as I can get names names out of an array it will be fine I just assumed that doing it with a 2d array would be easier. but basically to state my question again. I need to output 1 random name out of a list of 5 names every time i call a method. when a the method outputs a name from the list i need the name to not be able to be output again until i run the method 4 more times and all the names are used. let me know if that makes any more sense. again sorry if im a little slow im still a begginner at this.","body":"@Barnesly sorry about the confusion. as long as I can get names names out of an array it will be fine I just assumed that doing it with a 2d array would be easier. but basically to state my question again. I need to output 1 random name out of a list of 5 names every time i call a method. when a the method outputs a name from the list i need the name to not be able to be output again until i run the method 4 more times and all the names are used. let me know if that makes any more sense. again sorry if im a little slow im still a begginner at this."},{"owner":{"account_id":19315618,"reputation":83,"user_id":14120463,"display_name":"Barnesly"},"score":0,"creation_date":1646160602,"post_id":71312803,"comment_id":126053448,"body_markdown":"Ahhh that makes sense - I&#39;ll post an answer in a bit","body":"Ahhh that makes sense - I&#39;ll post an answer in a bit"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1646161015,"post_id":71312803,"comment_id":126053573,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":19315618,"reputation":83,"user_id":14120463,"display_name":"Barnesly"},"score":0,"creation_date":1646162656,"post_id":71312803,"comment_id":126054014,"body_markdown":"I&#39;ve added an answer but think you actually aren&#39;t for off doing what you are asking - all I&#39;ve really done is shuffled things around so you have a method to call which returns a name as and when you need it (whether in a loop or otherwise). Hopefully it helps but if not let me know...","body":"I&#39;ve added an answer but think you actually aren&#39;t for off doing what you are asking - all I&#39;ve really done is shuffled things around so you have a method to call which returns a name as and when you need it (whether in a loop or otherwise). Hopefully it helps but if not let me know..."}],"answers":[{"tags":[],"owner":{"account_id":19315618,"reputation":83,"user_id":14120463,"display_name":"Barnesly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646162577,"creation_date":1646162577,"answer_id":71313631,"question_id":71312803,"body_markdown":"One way of doing this is to randomly remove an item from the list each time you want to process a name, and continue to do so while there are more names left in the list.\r\n\r\ne.g.\r\n```java\r\n    private static final Random R = new Random(System.currentTimeMillis());\r\n\r\n    private static String getRandomFromList(List&lt;String&gt; list) {\r\n        final int index = r.nextInt(list.size());\r\n        return list.remove(index);\r\n    }\r\n\r\n    private static void processName(String name) {\r\n        // do stuff here\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        final String[] peoples = {&quot;Person 1&quot;, &quot;Person 2&quot;, &quot;Person 3&quot;, &quot;Person 4&quot;};\r\n        final List&lt;String&gt; names = Arrays.stream(peoples).collect(Collectors.toList());\r\n\r\n\r\n        while (!names.isEmpty()) {\r\n            final String name = getRandomFromList(names);\r\n            // Now do your processing for the name here e.g.\r\n            processName(name);\r\n        }\r\n    }\r\n```\r\n\r\nSo you can call `getRandomFromList` 4 times (in the above example), getting a random name each time which you can then process. Rather than assuming a specific number of entries I have just put this in a while loop with a check on whether there are any names left.\r\n\r\nIf you need to call it more sequentially you can do something like below. It&#39;s good to make sure there are actually names left in the list and if not you can write out an error and return early, or throw an exception.\r\n```java\r\nif (names.isEmpty()) {\r\n    return; // or log error, or throw exception\r\n}\r\nString name = getRandomFromList(names);\r\n\r\n// do stuff with first name\r\n\r\nif (names.isEmpty()) {\r\n    return; // or log error, or throw exception\r\n}\r\nname = getRandomFromList(names);\r\n\r\n// do stuff with second name\r\n\r\n// etc.\r\n```","title":"How would I return one string at a time from a 2d array and not have any repeating ouputs until i have used the entire list?","body":"<p>One way of doing this is to randomly remove an item from the list each time you want to process a name, and continue to do so while there are more names left in the list.</p>\n<p>e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private static final Random R = new Random(System.currentTimeMillis());\n\n    private static String getRandomFromList(List&lt;String&gt; list) {\n        final int index = r.nextInt(list.size());\n        return list.remove(index);\n    }\n\n    private static void processName(String name) {\n        // do stuff here\n    }\n\n    public static void main(String[] args) {\n        final String[] peoples = {&quot;Person 1&quot;, &quot;Person 2&quot;, &quot;Person 3&quot;, &quot;Person 4&quot;};\n        final List&lt;String&gt; names = Arrays.stream(peoples).collect(Collectors.toList());\n\n\n        while (!names.isEmpty()) {\n            final String name = getRandomFromList(names);\n            // Now do your processing for the name here e.g.\n            processName(name);\n        }\n    }\n</code></pre>\n<p>So you can call <code>getRandomFromList</code> 4 times (in the above example), getting a random name each time which you can then process. Rather than assuming a specific number of entries I have just put this in a while loop with a check on whether there are any names left.</p>\n<p>If you need to call it more sequentially you can do something like below. It's good to make sure there are actually names left in the list and if not you can write out an error and return early, or throw an exception.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (names.isEmpty()) {\n    return; // or log error, or throw exception\n}\nString name = getRandomFromList(names);\n\n// do stuff with first name\n\nif (names.isEmpty()) {\n    return; // or log error, or throw exception\n}\nname = getRandomFromList(names);\n\n// do stuff with second name\n\n// etc.\n</code></pre>\n"}],"owner":{"account_id":20557566,"reputation":17,"user_id":15088753,"display_name":"Evil2"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71313631,"answer_count":1,"score":0,"last_activity_date":1648639514,"creation_date":1646157779,"question_id":71312803,"body_markdown":"I am trying to make a thing that selects one of five names from a 2d array of strings and return it. I only want to return one name at a time so I am using methods, but I also want the names to not repeat until all of them have been generated. I found something that was almost what I needed. However the output was still in a list and if I put it in a method it would just repeat.\r\n\r\n```java\r\nimport java.util.Arrays;\r\n  import java.util.Collections;\r\n    import java.util.List;\r\n\r\npublic class Main {\r\n  static void runArray() {\r\n        String[] peoples = {&quot;Person 1&quot;, &quot;Person 2&quot;, &quot;Person 3&quot;, &quot;Person 4&quot;};\r\n    List&lt;String&gt; names = Arrays.asList(peoples);\r\n    Collections.shuffle(names);\r\n    for (String name : names) {\r\n      System.out.println(name + &quot; &quot;);\r\n    }\r\n  }\r\n  public static void main(String[] args) {\r\n    runArray();\r\n  }\r\n}\r\n```","title":"How would I return one string at a time from a 2d array and not have any repeating ouputs until i have used the entire list?","body":"<p>I am trying to make a thing that selects one of five names from a 2d array of strings and return it. I only want to return one name at a time so I am using methods, but I also want the names to not repeat until all of them have been generated. I found something that was almost what I needed. However the output was still in a list and if I put it in a method it would just repeat.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\n  import java.util.Collections;\n    import java.util.List;\n\npublic class Main {\n  static void runArray() {\n        String[] peoples = {&quot;Person 1&quot;, &quot;Person 2&quot;, &quot;Person 3&quot;, &quot;Person 4&quot;};\n    List&lt;String&gt; names = Arrays.asList(peoples);\n    Collections.shuffle(names);\n    for (String name : names) {\n      System.out.println(name + &quot; &quot;);\n    }\n  }\n  public static void main(String[] args) {\n    runArray();\n  }\n}\n</code></pre>\n"},{"tags":["java","naming-conventions"],"comments":[{"owner":{"account_id":119097,"reputation":85328,"user_id":310574,"accept_rate":80,"display_name":"Gabe"},"score":2,"creation_date":1335505512,"post_id":10345344,"comment_id":13325931,"body_markdown":"Everything in Java except primitive types are objects. Would you prepend `obj` on every variable name?","body":"Everything in Java except primitive types are objects. Would you prepend <code>obj</code> on every variable name?"},{"owner":{"account_id":279943,"reputation":202411,"user_id":575376,"accept_rate":82,"display_name":"juergen d"},"score":0,"creation_date":1335505520,"post_id":10345344,"comment_id":13325934,"body_markdown":"this `obj...` stuff if from old times.","body":"this <code>obj...</code> stuff if from old times."},{"owner":{"account_id":552770,"reputation":2556,"user_id":917672,"accept_rate":100,"display_name":"Neifen"},"score":1,"creation_date":1335505565,"post_id":10345344,"comment_id":13325941,"body_markdown":"if for you it is more simple to identify your attribute... why not with &quot;obj&quot;","body":"if for you it is more simple to identify your attribute... why not with &quot;obj&quot;"},{"owner":{"account_id":433296,"reputation":7639,"user_id":818557,"accept_rate":80,"display_name":"Anuj Balan"},"score":0,"creation_date":1335505644,"post_id":10345344,"comment_id":13325963,"body_markdown":"Can anyone tell what is the standard followed ?","body":"Can anyone tell what is the standard followed ?"},{"owner":{"account_id":960726,"reputation":4256,"user_id":985143,"display_name":"Zaz Gmy"},"score":1,"creation_date":1335505690,"post_id":10345344,"comment_id":13325974,"body_markdown":"see this http://www.iwombat.com/standards/JavaStyleGuide.html","body":"see this <a href=\"http://www.iwombat.com/standards/JavaStyleGuide.html\" rel=\"nofollow noreferrer\">iwombat.com/standards/JavaStyleGuide.html</a>"},{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":4,"creation_date":1335512135,"post_id":10345344,"comment_id":13327817,"body_markdown":"**Objects** don&#39;t have names. **Variables** have names.","body":"<b>Objects</b> don&#39;t have names. <b>Variables</b> have names."}],"answers":[{"tags":[],"owner":{"account_id":1252925,"reputation":16085,"user_id":1212960,"accept_rate":93,"display_name":"Greg Kopff"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1335505835,"creation_date":1335505493,"answer_id":10345368,"question_id":10345344,"body_markdown":"Just call it `car`.  [Hungarian notation][1] is not used by Sun/Oracle.\r\n\r\nName your variables in a manner which describes their *use*.  But you don&#39;t need to indicate the type in the variable name.  You already specified the type in the variable declaration.  IDEs will show you the type of the variable if you mouse-over them so that information is always readily available.\r\n\r\nYou should use `lowercaseStartingCamelCase` for variable names and method names, and `UppercaseStartingCamelCase` for class names.\r\n\r\nIf you want to read how Sun/Oracle do things, you can read their [Code Conventions for the Java Programming Language][2].\r\n\r\n[1]: http://en.wikipedia.org/wiki/Hungarian_notation\r\n[2]: http://www.oracle.com/technetwork/java/javase/documentation/codeconvtoc-136057.html","title":"Naming convention for objects in Java","body":"<p>Just call it <code>car</code>.  <a href=\"http://en.wikipedia.org/wiki/Hungarian_notation\" rel=\"noreferrer\">Hungarian notation</a> is not used by Sun/Oracle.</p>\n\n<p>Name your variables in a manner which describes their <em>use</em>.  But you don't need to indicate the type in the variable name.  You already specified the type in the variable declaration.  IDEs will show you the type of the variable if you mouse-over them so that information is always readily available.</p>\n\n<p>You should use <code>lowercaseStartingCamelCase</code> for variable names and method names, and <code>UppercaseStartingCamelCase</code> for class names.</p>\n\n<p>If you want to read how Sun/Oracle do things, you can read their <a href=\"http://www.oracle.com/technetwork/java/javase/documentation/codeconvtoc-136057.html\" rel=\"noreferrer\">Code Conventions for the Java Programming Language</a>.</p>\n"},{"tags":[],"owner":{"account_id":878548,"reputation":573,"user_id":148591,"display_name":"Gren"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1335505533,"creation_date":1335505533,"answer_id":10345377,"question_id":10345344,"body_markdown":"Name your objects what they are, it makes reading and refactoring easier.","title":"Naming convention for objects in Java","body":"<p>Name your objects what they are, it makes reading and refactoring easier.</p>\n"},{"tags":[],"owner":{"account_id":1367428,"reputation":2301,"user_id":1303587,"display_name":"llewellyn falco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1335505628,"creation_date":1335505628,"answer_id":10345388,"question_id":10345344,"body_markdown":"naming conventions for objects in java are just names.\r\nFor example \r\n\r\n    Car car = new Car(&quot;Ferrari&quot;);\r\n\r\nThe remnants of Hungarian notation have been abandoned mainly because of the added support the IDE&#39;s have provided for navigation.","title":"Naming convention for objects in Java","body":"<p>naming conventions for objects in java are just names.\nFor example </p>\n\n<pre><code>Car car = new Car(\"Ferrari\");\n</code></pre>\n\n<p>The remnants of Hungarian notation have been abandoned mainly because of the added support the IDE's have provided for navigation.</p>\n"},{"tags":[],"owner":{"account_id":1299488,"reputation":6269,"user_id":1249710,"display_name":"JDGuide"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1335507674,"creation_date":1335506003,"answer_id":10345450,"question_id":10345344,"body_markdown":"Being you are senior , after all I can suggest you some naming \r\nconvention related to your doubts. As we know all class name are\r\nstarted with first capital letter, suppose class &quot;MyTest&quot; when \r\nobject we need to create of this class it should be &quot;mytest&quot;. \r\nObject name should be in this format. According to the jakarta\r\nproject menifesto I found this type of convection and the are\r\nfollowing . Other than jakarta, Sun API including IDE for \r\ndevelopment also they are using this.\r\nHope ,it will help you.Yes I am new.Thanks for your helpful information.\r\n\r\n","title":"Naming convention for objects in Java","body":"<p>Being you are senior , after all I can suggest you some naming \nconvention related to your doubts. As we know all class name are\nstarted with first capital letter, suppose class \"MyTest\" when \nobject we need to create of this class it should be \"mytest\". \nObject name should be in this format. According to the jakarta\nproject menifesto I found this type of convection and the are\nfollowing . Other than jakarta, Sun API including IDE for \ndevelopment also they are using this.\nHope ,it will help you.Yes I am new.Thanks for your helpful information.</p>\n"},{"tags":[],"owner":{"account_id":1028895,"reputation":8390,"user_id":1037609,"accept_rate":100,"display_name":"Balaswamy Vaddeman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1335508194,"creation_date":1335506020,"answer_id":10345453,"question_id":10345344,"body_markdown":"class name in small letters is Sun/Oracle standard.\r\n\r\nwhen you are working for a company,\r\n\r\ndepending upon project naming conventions it may vary.\r\n\r\n    Car car=new Car(); //good to follow\r\n\r\nif It is [Singleton pattern][1],you may give a name like below\r\n\r\n  \r\n\r\n     private static final Car singletonCar=new Car();\r\n\r\n\r\n\r\n[1]:http://en.wikipedia.org/wiki/Singleton_pattern","title":"Naming convention for objects in Java","body":"<p>class name in small letters is Sun/Oracle standard.</p>\n\n<p>when you are working for a company,</p>\n\n<p>depending upon project naming conventions it may vary.</p>\n\n<pre><code>Car car=new Car(); //good to follow\n</code></pre>\n\n<p>if It is <a href=\"http://en.wikipedia.org/wiki/Singleton_pattern\" rel=\"nofollow\">Singleton pattern</a>,you may give a name like below</p>\n\n<pre><code> private static final Car singletonCar=new Car();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1335506977,"creation_date":1335506977,"answer_id":10345611,"question_id":10345344,"body_markdown":"Your example is a bit too trivial. In reality you would never name a field of object type &quot;Car&quot; as &quot;car&quot;. Likewise you never name an &quot;Integer&quot; type as &quot;integer&quot;.\r\n\r\nInstead, the use names that tell the reader what the field is used for. Some examples:\r\n\r\n    private Transport preferredTransportMethod;\r\n\r\n    private int invoiceCounter;\r\n\r\nPrefixing field type is not used commonly is Java. However, class member are sometimes prefixed with lower case &quot;m&quot; to prevent accidental self assignments in setter methods.\r\n\r\n    private long mTripDurationMillis;","title":"Naming convention for objects in Java","body":"<p>Your example is a bit too trivial. In reality you would never name a field of object type \"Car\" as \"car\". Likewise you never name an \"Integer\" type as \"integer\".</p>\n\n<p>Instead, the use names that tell the reader what the field is used for. Some examples:</p>\n\n<pre><code>private Transport preferredTransportMethod;\n\nprivate int invoiceCounter;\n</code></pre>\n\n<p>Prefixing field type is not used commonly is Java. However, class member are sometimes prefixed with lower case \"m\" to prevent accidental self assignments in setter methods.</p>\n\n<pre><code>private long mTripDurationMillis;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4598771,"reputation":27,"user_id":3730115,"display_name":"pietroSV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648639417,"creation_date":1648638820,"answer_id":71676200,"question_id":10345344,"body_markdown":"If you use more objects, I do it like this:\r\n```\r\nCar carFerrari = new Car(&quot;Ferrari&quot;);\r\nCar carFord = new Car(&quot;Ford&quot;);\r\nCar carAudi = new Car(&quot;Audi&quot;);\r\n```\r\nOf course, the names can be &quot;ferrari&quot;, &quot;ford&quot; and &quot;audi&quot;, but I like to refer to objects of same type.","title":"Naming convention for objects in Java","body":"<p>If you use more objects, I do it like this:</p>\n<pre><code>Car carFerrari = new Car(&quot;Ferrari&quot;);\nCar carFord = new Car(&quot;Ford&quot;);\nCar carAudi = new Car(&quot;Audi&quot;);\n</code></pre>\n<p>Of course, the names can be &quot;ferrari&quot;, &quot;ford&quot; and &quot;audi&quot;, but I like to refer to objects of same type.</p>\n"}],"owner":{"account_id":433296,"reputation":7639,"user_id":818557,"accept_rate":80,"display_name":"Anuj Balan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28935,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":10345368,"answer_count":7,"score":14,"last_activity_date":1648639417,"creation_date":1335505361,"question_id":10345344,"body_markdown":"I had started programming in Java 2 years back. Seniors in our project at that time had advised me to append &#39;obj&#39; to the name of the object which is being created.\r\n\r\nEx:\r\n\r\n    Car objCar = new Car(&quot;Ferrari&quot;);\r\n\r\nHere `objCar` is what I am talking about. But many at Stack Overflow had opposed to it and now I find that this shouldn&#39;t be the way naming of an object should be done. I am clear with naming conventions when collections are used but I am confused when objects of general classes are created.\r\n\r\nCan anyone shed some light on it? ","title":"Naming convention for objects in Java","body":"<p>I had started programming in Java 2 years back. Seniors in our project at that time had advised me to append 'obj' to the name of the object which is being created.</p>\n<p>Ex:</p>\n<pre><code>Car objCar = new Car(&quot;Ferrari&quot;);\n</code></pre>\n<p>Here <code>objCar</code> is what I am talking about. But many at Stack Overflow had opposed to it and now I find that this shouldn't be the way naming of an object should be done. I am clear with naming conventions when collections are used but I am confused when objects of general classes are created.</p>\n<p>Can anyone shed some light on it?</p>\n"},{"tags":["java","wicket"],"answers":[{"tags":[],"owner":{"account_id":232499,"reputation":17233,"user_id":497381,"display_name":"martin-g"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648639408,"creation_date":1648639408,"answer_id":71676329,"question_id":71675884,"body_markdown":"```diff\r\ndiff --git ResearchTracker/src/test/java/uk/ac/ox/ndph/ckb/TestHomePage.java ResearchTracker/src/test/java/uk/ac/ox/ndph/ckb/TestHomePage.java\r\nindex 757269f..a9df941 100644\r\n--- ResearchTracker/src/test/java/uk/ac/ox/ndph/ckb/TestHomePage.java\r\n+++ ResearchTracker/src/test/java/uk/ac/ox/ndph/ckb/TestHomePage.java\r\n@@ -21,8 +21,8 @@ public class TestHomePage\r\n     public void userPageRendersSuccessfully()\r\n     {\r\n         System.out.println(&quot;Testing userPageRendersSuccessfully &quot;);\r\n-        tester.getRequest().getSession().setAttribute(&quot;userName&quot;, &quot;Test user 1&quot;);\r\n-        System.out.println(&quot;Uesr name in session:&quot; + tester.getHttpSession().getAttribute(&quot;userName&quot;));\r\n+        tester.getSession().setAttribute(&quot;userName&quot;, &quot;Test user 1&quot;);\r\n+        System.out.println(&quot;Uesr name in session:&quot; + tester.getSession().getAttribute(&quot;userName&quot;));\r\n         //start and render the test page\r\n         tester.startPage(UserPage.class);\r\n         //assert rendered page class\r\n```\r\n\r\nIt seems you confuse the Wicket Session (`org.apache.wicket.Session`) with the HttpSession.\r\nIn the test you set the attribute on the HttpSession, while in `UserPage` you tried to read it from the Wicket Session.","title":"Accessing attributes of session throws NullPointerException error, when using WicketTester","body":"<pre><code>diff --git ResearchTracker/src/test/java/uk/ac/ox/ndph/ckb/TestHomePage.java ResearchTracker/src/test/java/uk/ac/ox/ndph/ckb/TestHomePage.java\nindex 757269f..a9df941 100644\n--- ResearchTracker/src/test/java/uk/ac/ox/ndph/ckb/TestHomePage.java\n+++ ResearchTracker/src/test/java/uk/ac/ox/ndph/ckb/TestHomePage.java\n@@ -21,8 +21,8 @@ public class TestHomePage\n     public void userPageRendersSuccessfully()\n     {\n         System.out.println(&quot;Testing userPageRendersSuccessfully &quot;);\n-        tester.getRequest().getSession().setAttribute(&quot;userName&quot;, &quot;Test user 1&quot;);\n-        System.out.println(&quot;Uesr name in session:&quot; + tester.getHttpSession().getAttribute(&quot;userName&quot;));\n+        tester.getSession().setAttribute(&quot;userName&quot;, &quot;Test user 1&quot;);\n+        System.out.println(&quot;Uesr name in session:&quot; + tester.getSession().getAttribute(&quot;userName&quot;));\n         //start and render the test page\n         tester.startPage(UserPage.class);\n         //assert rendered page class\n</code></pre>\n<p>It seems you confuse the Wicket Session (<code>org.apache.wicket.Session</code>) with the HttpSession.\nIn the test you set the attribute on the HttpSession, while in <code>UserPage</code> you tried to read it from the Wicket Session.</p>\n"}],"owner":{"account_id":19321062,"reputation":15,"user_id":14124741,"display_name":"Rajani Sohoni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71676329,"answer_count":1,"score":0,"last_activity_date":1648639408,"creation_date":1648637499,"question_id":71675884,"body_markdown":"Accessing attributes of session throws NullPointerException error, when using WicketTester.\r\n  \r\nThere was similar question asked earlier\r\nhttps://stackoverflow.com/questions/70258881/wicket-9-unit-testing-mockito-httpsession\r\n  \r\nThe discussion their suggested using\r\n  \r\ntester.getRequest().getSession().setAttribute(&quot;userName&quot;, &quot;Test user 1&quot;);\r\n  \r\ninstead of \r\n  \r\ntester.getHttpSession().setAttribute(&quot;userName&quot;, &quot;Test user 1&quot;);\r\n  \r\nMaking that change did not resolve the problem.\r\nComplete project, created using &#39;wicket.apache.org/start/quickstart.html&#39; can be found at github.com/rjngshn/WicketTesterSession \r\n\r\n        public class TestHomePage\r\n    {\r\n        private WicketTester tester;\r\n\r\n        @BeforeEach\r\n        public void setUp()\r\n        {\r\n            tester = new WicketTester(new RTApplication());\r\n        }\r\n    // https://stackoverflow.com/questions/70258881/wicket-9-unit-testing-mockito-httpsession\r\n        @Test\r\n        public void userPageRendersSuccessfully()\r\n        {\r\n            System.out.println(&quot;Testing userPageRendersSuccessfully &quot;);\r\n            tester.getRequest().getSession().setAttribute(&quot;userName&quot;, &quot;Test user 1&quot;);\r\n            System.out.println(&quot;Uesr name in session:&quot; + tester.getHttpSession().getAttribute(&quot;userName&quot;));\r\n            //start and render the test page\r\n            tester.startPage(UserPage.class);\r\n            //assert rendered page class\r\n            tester.assertRenderedPage(UserPage.class);\r\n            tester.assertModelValue(&quot;txtUserName&quot;, &quot;Test user 1&quot;);\r\n            System.out.println(&quot;Complete testing userPageRendersSuccessfully &quot;);\r\n        }\r\n    }\r\n\r\n\r\nThe error is:\r\n\r\n     [WARN] [stderr] java.lang.NullPointerException\r\n     [WARN] [stderr] \tat uk.ac.ox.ndph.ckb.UserPage.onInitialize(UserPage.java:19)\r\n     [WARN] [stderr] \tat org.apache.wicket.Component.fireInitialize(Component.java:883)\r\n     [WARN] [stderr] \tat org.apache.wicket.MarkupContainer.internalInitialize(MarkupContainer.java:1045)\r\n...","title":"Accessing attributes of session throws NullPointerException error, when using WicketTester","body":"<p>Accessing attributes of session throws NullPointerException error, when using WicketTester.</p>\n<p>There was similar question asked earlier\n<a href=\"https://stackoverflow.com/questions/70258881/wicket-9-unit-testing-mockito-httpsession\">wicket 9: unit testing + mockito + httpSession</a></p>\n<p>The discussion their suggested using</p>\n<p>tester.getRequest().getSession().setAttribute(&quot;userName&quot;, &quot;Test user 1&quot;);</p>\n<p>instead of</p>\n<p>tester.getHttpSession().setAttribute(&quot;userName&quot;, &quot;Test user 1&quot;);</p>\n<p>Making that change did not resolve the problem.\nComplete project, created using 'wicket.apache.org/start/quickstart.html' can be found at github.com/rjngshn/WicketTesterSession</p>\n<pre><code>    public class TestHomePage\n{\n    private WicketTester tester;\n\n    @BeforeEach\n    public void setUp()\n    {\n        tester = new WicketTester(new RTApplication());\n    }\n// https://stackoverflow.com/questions/70258881/wicket-9-unit-testing-mockito-httpsession\n    @Test\n    public void userPageRendersSuccessfully()\n    {\n        System.out.println(&quot;Testing userPageRendersSuccessfully &quot;);\n        tester.getRequest().getSession().setAttribute(&quot;userName&quot;, &quot;Test user 1&quot;);\n        System.out.println(&quot;Uesr name in session:&quot; + tester.getHttpSession().getAttribute(&quot;userName&quot;));\n        //start and render the test page\n        tester.startPage(UserPage.class);\n        //assert rendered page class\n        tester.assertRenderedPage(UserPage.class);\n        tester.assertModelValue(&quot;txtUserName&quot;, &quot;Test user 1&quot;);\n        System.out.println(&quot;Complete testing userPageRendersSuccessfully &quot;);\n    }\n}\n</code></pre>\n<p>The error is:</p>\n<pre><code> [WARN] [stderr] java.lang.NullPointerException\n [WARN] [stderr]    at uk.ac.ox.ndph.ckb.UserPage.onInitialize(UserPage.java:19)\n [WARN] [stderr]    at org.apache.wicket.Component.fireInitialize(Component.java:883)\n [WARN] [stderr]    at org.apache.wicket.MarkupContainer.internalInitialize(MarkupContainer.java:1045)\n</code></pre>\n<p>...</p>\n"},{"tags":["java","unit-testing","junit"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1648572792,"post_id":71665932,"comment_id":126656836,"body_markdown":"What is it that you want to test? In general, in this type of situation, you would just get call the static method, get the result, and test the result.","body":"What is it that you want to test? In general, in this type of situation, you would just get call the static method, get the result, and test the result."},{"owner":{"account_id":10954746,"reputation":175,"user_id":8049947,"display_name":"panther93"},"score":0,"creation_date":1648572889,"post_id":71665932,"comment_id":126656869,"body_markdown":"@Paul Samsotha Check whether this given object has the provided parameters inside it.","body":"@Paul Samsotha Check whether this given object has the provided parameters inside it."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1648572951,"post_id":71665932,"comment_id":126656893,"body_markdown":"Well you have the client as a return value. Can you just check those values on the client? Like client.getHostname()","body":"Well you have the client as a return value. Can you just check those values on the client? Like client.getHostname()"},{"owner":{"account_id":10954746,"reputation":175,"user_id":8049947,"display_name":"panther93"},"score":0,"creation_date":1648573195,"post_id":71665932,"comment_id":126656975,"body_markdown":"this NonBlockingStatsDClientBuilder object doesn&#39;t have any getters. That&#39;s the problem","body":"this NonBlockingStatsDClientBuilder object doesn&#39;t have any getters. That&#39;s the problem"},{"owner":{"account_id":7181840,"reputation":1565,"user_id":5485454,"display_name":"Kai-Sheng Yang"},"score":0,"creation_date":1648809553,"post_id":71665932,"comment_id":126724042,"body_markdown":"if `NonBlockingStatsDClientBuilder` is provided by a third-party library, then you don&#39;t need to test it. It should be tested by developer/author.","body":"if <code>NonBlockingStatsDClientBuilder</code> is provided by a third-party library, then you don&#39;t need to test it. It should be tested by developer/author."}],"answers":[{"tags":[],"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648639279,"creation_date":1648639279,"answer_id":71676300,"question_id":71665932,"body_markdown":"Since you have mentioned the `StatsDClient` doesn&#39;t have any getters, can you override the `equals` method of `StatsDClient` something like this.\r\nThis way you&#39;d not need getters\r\n\r\n    public class StatsDClient {\r\n        private String hostName;\r\n        private String prefix;\r\n        private int port;\r\n     \r\n        public StatsDClient(String hostName, String prefix, int port) {\r\n            this.hostName = hostName;\r\n            this.prefix = prefix;\r\n            this.port = port;\r\n        }\r\n\r\n        @Override\r\n        public boolean equals(Object obj) {\r\n            if (this == obj) {\r\n                return true;\r\n            }\r\n            if (!this.getClass().equals(obj.getClass())) {\r\n                return false;\r\n            }\r\n            StatsDClient otherStatsClient = (StatsDClient) obj;\r\n    \r\n            return this.hostName.equals(otherStatsClient.hostName) &amp;&amp; this.prefix.equals(otherStatsClient.prefix)\r\n                    &amp;&amp; this.port == otherStatsClient.port;\r\n        }\r\n    }\r\n\r\nYou can build expected `StatsDClient` and assert against the result\r\n\r\n    @Test\r\n    public void verifyStatsDClient() {\r\n        StatsDClient actualStatsDClient = exampleClass.getClient();\r\n        StatsDClient expectedStatsDClient = new StatsDClient(&quot;expectedHost&quot;,&quot;expectedPrefix&quot;,expectedPort);\r\n        assertEquals(expectedStatsDClient,actualStatsDClient);\r\n    }\r\n\r\nSince equals is overridden, `assertEquals` should implicitly calls the `equals` and verifies ","title":"Junit test Java static method","body":"<p>Since you have mentioned the <code>StatsDClient</code> doesn't have any getters, can you override the <code>equals</code> method of <code>StatsDClient</code> something like this.\nThis way you'd not need getters</p>\n<pre><code>public class StatsDClient {\n    private String hostName;\n    private String prefix;\n    private int port;\n \n    public StatsDClient(String hostName, String prefix, int port) {\n        this.hostName = hostName;\n        this.prefix = prefix;\n        this.port = port;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj) {\n            return true;\n        }\n        if (!this.getClass().equals(obj.getClass())) {\n            return false;\n        }\n        StatsDClient otherStatsClient = (StatsDClient) obj;\n\n        return this.hostName.equals(otherStatsClient.hostName) &amp;&amp; this.prefix.equals(otherStatsClient.prefix)\n                &amp;&amp; this.port == otherStatsClient.port;\n    }\n}\n</code></pre>\n<p>You can build expected <code>StatsDClient</code> and assert against the result</p>\n<pre><code>@Test\npublic void verifyStatsDClient() {\n    StatsDClient actualStatsDClient = exampleClass.getClient();\n    StatsDClient expectedStatsDClient = new StatsDClient(&quot;expectedHost&quot;,&quot;expectedPrefix&quot;,expectedPort);\n    assertEquals(expectedStatsDClient,actualStatsDClient);\n}\n</code></pre>\n<p>Since equals is overridden, <code>assertEquals</code> should implicitly calls the <code>equals</code> and verifies</p>\n"}],"owner":{"account_id":10954746,"reputation":175,"user_id":8049947,"display_name":"panther93"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648639279,"creation_date":1648572479,"question_id":71665932,"body_markdown":"I&#39;m bit newbie to Java. Is it possible to Unit test scenario like this?\r\n    \r\n    public class exampleClass {\r\n    \r\n        public static StatsDClient getClient() {\r\n            return new NonBlockingStatsDClientBuilder()\r\n                    .prefix(&quot;statsd1&quot;)\r\n                    .hostname(&quot;localhost&quot;)\r\n                    .port(4000)\r\n                    .build();\r\n        }\r\n    }","title":"Junit test Java static method","body":"<p>I'm bit newbie to Java. Is it possible to Unit test scenario like this?</p>\n<pre><code>public class exampleClass {\n\n    public static StatsDClient getClient() {\n        return new NonBlockingStatsDClientBuilder()\n                .prefix(&quot;statsd1&quot;)\n                .hostname(&quot;localhost&quot;)\n                .port(4000)\n                .build();\n    }\n}\n</code></pre>\n"},{"tags":["java","json","spring","spring-boot","httprequest"],"comments":[{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1648638156,"post_id":71675797,"comment_id":126673754,"body_markdown":"Can you post your `@GetMapping` method?","body":"Can you post your <code>@GetMapping</code> method?"},{"owner":{"account_id":1853146,"reputation":1785,"user_id":2256551,"accept_rate":76,"display_name":"SAR"},"score":0,"creation_date":1648638252,"post_id":71675797,"comment_id":126673786,"body_markdown":"private static final Logger logger = LogManager.getLogger(); remove static from it","body":"private static final Logger logger = LogManager.getLogger(); remove static from it"},{"owner":{"account_id":2982484,"reputation":373,"user_id":2532173,"accept_rate":92,"display_name":"Lucas Bertollo"},"score":1,"creation_date":1648638303,"post_id":71675797,"comment_id":126673803,"body_markdown":"Your method param Boo is missing @RequestBody","body":"Your method param Boo is missing @RequestBody"},{"owner":{"account_id":14571259,"reputation":994,"user_id":10524503,"display_name":"Wortig"},"score":0,"creation_date":1648638922,"post_id":71675797,"comment_id":126674015,"body_markdown":"@Sar Why should I?","body":"@Sar Why should I?"}],"answers":[{"tags":[],"owner":{"account_id":2982484,"reputation":373,"user_id":2532173,"accept_rate":92,"display_name":"Lucas Bertollo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1648639098,"creation_date":1648639098,"answer_id":71676261,"question_id":71675797,"body_markdown":"When you need to bound a request body to method parameter you should use @RequestBody annotation. That&#39;s why your Boo object attributes are null.\r\n\r\n    @PostMapping(path = &quot;/foo&quot;)\r\n    public String add(@RequestBody Boo boo, HttpServletRequest request)\r\n\r\nDocs:\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestBody.html","title":"Spring RestController Mapping method has object with null fields when making request with valid JSON body","body":"<p>When you need to bound a request body to method parameter you should use @RequestBody annotation. That's why your Boo object attributes are null.</p>\n<pre><code>@PostMapping(path = &quot;/foo&quot;)\npublic String add(@RequestBody Boo boo, HttpServletRequest request)\n</code></pre>\n<p>Docs:\n<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestBody.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestBody.html</a></p>\n"}],"owner":{"account_id":14571259,"reputation":994,"user_id":10524503,"display_name":"Wortig"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2163,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":71676261,"answer_count":1,"score":4,"last_activity_date":1648639098,"creation_date":1648637225,"question_id":71675797,"body_markdown":"I am trying to test my `@PostMapping` in on of my `@RestController`.\r\nThat controller looks like this:\r\n\r\n    @RestController\r\n    public class MyTestController\r\n    {\r\n    \tprivate static final Logger logger = LogManager.getLogger();\r\n    \r\n    \t@PostMapping(path = &quot;/foo&quot;)\r\n    \tpublic String add(@Valid Boo boo, HttpServletRequest request)\r\n    \t{\r\n    \t\tif (LoadManager.insert(request.getRemoteAddr()) &lt; 3)\r\n    \t\t\ttry\r\n    \t\t\t{\r\n    \t\t\t\tBooManager.persist(boo);\r\n    \t\t\t\treturn &quot;1&quot;;\r\n    \t\t\t}\r\n    \t\t\tcatch (Exception e)\r\n    \t\t\t{\r\n    \t\t\t\tlogger.error(ExceptionUtils.getStackTrace(e));\r\n    \t\t\t}\r\n    \t\treturn &quot;0&quot;;\r\n    \t}\r\n    }\r\n\r\nHowever `boo` fields are all null when I make a post request and look at boo object during debug in that add method.\r\n\r\nRequest body:\r\n\r\n    {\r\n        &quot;officialName&quot; : &quot;test&quot;,\r\n        &quot;phone&quot; : &quot;test&quot;,\r\n        &quot;email&quot; : &quot;test&quot;,\r\n        &quot;churchArea&quot; : &quot;test&quot;,\r\n        &quot;deanery&quot; : &quot;test&quot;,\r\n        &quot;town&quot; : &quot;test&quot;,\r\n        &quot;pass&quot; : &quot;test152S56&quot;\r\n    }\r\n\r\nRequest header `Content-Type` is set to `application/json`\r\n\r\nBoo class:\r\n\r\n    @Data\r\n    public class Boo\r\n    {\r\n    \t@Size(max = 1000)\r\n    \t@NotBlank\r\n    \tprivate String officialName;\r\n    \r\n    \t@Size(max = 100)\r\n    \t@NotBlank\r\n    \tprivate String phone;\r\n    \r\n    \t@Size(max = 100)\r\n    \t@NotBlank\r\n    \tprivate String email;\r\n    \r\n    \t@Size(max = 100)\r\n    \t@NotBlank\r\n    \tprivate String churchArea;\r\n    \r\n    \t@Size(max = 100)\r\n    \t@NotBlank\r\n    \tprivate String deanery;\r\n    \r\n    \t@Size(max = 100)\r\n    \t@NotBlank\r\n    \tprivate String town;\r\n    \r\n    \t@Size(max = 1000)\r\n    \t@NotBlank\r\n    \tprivate String pass;\r\n    }\r\n@Data annotation is from [lombok][1], which generates, among other things, public getters and setter for that class.\r\n\r\n\r\n\r\n  [1]: https://projectlombok.org/features/Data","title":"Spring RestController Mapping method has object with null fields when making request with valid JSON body","body":"<p>I am trying to test my <code>@PostMapping</code> in on of my <code>@RestController</code>.\nThat controller looks like this:</p>\n<pre><code>@RestController\npublic class MyTestController\n{\n    private static final Logger logger = LogManager.getLogger();\n\n    @PostMapping(path = &quot;/foo&quot;)\n    public String add(@Valid Boo boo, HttpServletRequest request)\n    {\n        if (LoadManager.insert(request.getRemoteAddr()) &lt; 3)\n            try\n            {\n                BooManager.persist(boo);\n                return &quot;1&quot;;\n            }\n            catch (Exception e)\n            {\n                logger.error(ExceptionUtils.getStackTrace(e));\n            }\n        return &quot;0&quot;;\n    }\n}\n</code></pre>\n<p>However <code>boo</code> fields are all null when I make a post request and look at boo object during debug in that add method.</p>\n<p>Request body:</p>\n<pre><code>{\n    &quot;officialName&quot; : &quot;test&quot;,\n    &quot;phone&quot; : &quot;test&quot;,\n    &quot;email&quot; : &quot;test&quot;,\n    &quot;churchArea&quot; : &quot;test&quot;,\n    &quot;deanery&quot; : &quot;test&quot;,\n    &quot;town&quot; : &quot;test&quot;,\n    &quot;pass&quot; : &quot;test152S56&quot;\n}\n</code></pre>\n<p>Request header <code>Content-Type</code> is set to <code>application/json</code></p>\n<p>Boo class:</p>\n<pre><code>@Data\npublic class Boo\n{\n    @Size(max = 1000)\n    @NotBlank\n    private String officialName;\n\n    @Size(max = 100)\n    @NotBlank\n    private String phone;\n\n    @Size(max = 100)\n    @NotBlank\n    private String email;\n\n    @Size(max = 100)\n    @NotBlank\n    private String churchArea;\n\n    @Size(max = 100)\n    @NotBlank\n    private String deanery;\n\n    @Size(max = 100)\n    @NotBlank\n    private String town;\n\n    @Size(max = 1000)\n    @NotBlank\n    private String pass;\n}\n</code></pre>\n<p>@Data annotation is from <a href=\"https://projectlombok.org/features/Data\" rel=\"nofollow noreferrer\">lombok</a>, which generates, among other things, public getters and setter for that class.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1518567242,"post_id":48777744,"comment_id":84557094,"body_markdown":"You&#39;ll have to avoid writing to the map while copying it, probably by synchronizing.","body":"You&#39;ll have to avoid writing to the map while copying it, probably by synchronizing."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1518567476,"post_id":48777744,"comment_id":84557158,"body_markdown":"Unless you have access to and can modify every place in the code that _writes_ to the map you&#39;re out of luck.  Or, substitute a `ConcurrentHashMap` at instantiation.","body":"Unless you have access to and can modify every place in the code that <i>writes</i> to the map you&#39;re out of luck.  Or, substitute a <code>ConcurrentHashMap</code> at instantiation."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1518567957,"post_id":48777744,"comment_id":84557287,"body_markdown":"If you can&#39;t control access and type of the map, a hacky workaround is to catch CME and retry a couple of times in the hope of getting lucky. The success rate will obviously depend on how often the map is written to.","body":"If you can&#39;t control access and type of the map, a hacky workaround is to catch CME and retry a couple of times in the hope of getting lucky. The success rate will obviously depend on how often the map is written to."},{"owner":{"account_id":928231,"reputation":101,"user_id":958573,"display_name":"user958573"},"score":0,"creation_date":1518568112,"post_id":48777744,"comment_id":84557331,"body_markdown":"Will toArray method work as expected if I am interested in only the keySet of the Map https://www.journaldev.com/378/java-util-concurrentmodificationexception#to-avoid-concurrentmodificationexception-in-multi-threaded-environment . I think it should not but not sure","body":"Will toArray method work as expected if I am interested in only the keySet of the Map <a href=\"https://www.journaldev.com/378/java-util-concurrentmodificationexception#to-avoid-concurrentmodificationexception-in-multi-threaded-environment\" rel=\"nofollow noreferrer\">journaldev.com/378/&hellip;</a> . I think it should not but not sure"},{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":0,"creation_date":1518569231,"post_id":48777744,"comment_id":84557651,"body_markdown":"Are you actually using the `HashMap` across multiple threads? Have you actually run into a `ConcurrentModificationException`, or are you simply worried you might see one? What have you tried so far?","body":"Are you actually using the <code>HashMap</code> across multiple threads? Have you actually run into a <code>ConcurrentModificationException</code>, or are you simply worried you might see one? What have you tried so far?"},{"owner":{"account_id":928231,"reputation":101,"user_id":958573,"display_name":"user958573"},"score":0,"creation_date":1518569473,"post_id":48777744,"comment_id":84557722,"body_markdown":"We are getting ConcurrentModificationException. See the options that I see are have a ConcurrentHashMap, keep a separate copy of HashMap, or synchronize all part. Though not saying they are not possible I wanted to know if there is an easy way.","body":"We are getting ConcurrentModificationException. See the options that I see are have a ConcurrentHashMap, keep a separate copy of HashMap, or synchronize all part. Though not saying they are not possible I wanted to know if there is an easy way."},{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":0,"creation_date":1518571550,"post_id":48777744,"comment_id":84558244,"body_markdown":"As I said in my answer `ConcurrentModificationException` can happen even if you&#39;re not using multiple threads. If you *are* using multiple threads you can&#39;t safely use `HashMap` without synchronizing everything. The &quot;easy&quot; option would be to use `ConcurrentHashMap`, but it&#39;s difficult to give concrete advice without concrete example code to look at.","body":"As I said in my answer <code>ConcurrentModificationException</code> can happen even if you&#39;re not using multiple threads. If you <i>are</i> using multiple threads you can&#39;t safely use <code>HashMap</code> without synchronizing everything. The &quot;easy&quot; option would be to use <code>ConcurrentHashMap</code>, but it&#39;s difficult to give concrete advice without concrete example code to look at."},{"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":0,"creation_date":1614378171,"post_id":48777744,"comment_id":117376906,"body_markdown":"@dimo414 `ConcurrentHashMap` only makes each method call into the map thread safe. It does not make higher-level operations like copying out all elements thread safe. (`ConcurrentHashMap` has a `putAll` method that can copy another collection _into_ the map, but it doesn&#39;t have a method to copy all elements out.)","body":"@dimo414 <code>ConcurrentHashMap</code> only makes each method call into the map thread safe. It does not make higher-level operations like copying out all elements thread safe. (<code>ConcurrentHashMap</code> has a <code>putAll</code> method that can copy another collection <i>into</i> the map, but it doesn&#39;t have a method to copy all elements out.)"},{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":0,"creation_date":1614384174,"post_id":48777744,"comment_id":117378149,"body_markdown":"@TedHopp copying the contents of a `ConcurrentHashMap` is indeed thread-safe (as is any any other operation involving iterating over the map). It isn&#39;t _atomic_, but it is safe.","body":"@TedHopp copying the contents of a <code>ConcurrentHashMap</code> is indeed thread-safe (as is any any other operation involving iterating over the map). It isn&#39;t <i>atomic</i>, but it is safe."},{"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":0,"creation_date":1614470337,"post_id":48777744,"comment_id":117396206,"body_markdown":"@dimo414 - Sure, it&#39;s thread safe in the sense of preserving the integrity of the data structure. But copying is only thread-safe if you&#39;re copying _from_ a `ConcurrentHashMap`. The problem here is copying from any old `HashMap`. I don&#39;t see how copying _into_ a `ConcurrentHashMap` helps with this problem. And wrapping the source `HashMap` in a `ConcurrentHashMap` won&#39;t help if there are other references to the map floating around in unsynchronized threads.","body":"@dimo414 - Sure, it&#39;s thread safe in the sense of preserving the integrity of the data structure. But copying is only thread-safe if you&#39;re copying <i>from</i> a <code>ConcurrentHashMap</code>. The problem here is copying from any old <code>HashMap</code>. I don&#39;t see how copying <i>into</i> a <code>ConcurrentHashMap</code> helps with this problem. And wrapping the source <code>HashMap</code> in a <code>ConcurrentHashMap</code> won&#39;t help if there are other references to the map floating around in unsynchronized threads."},{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":0,"creation_date":1614533999,"post_id":48777744,"comment_id":117408633,"body_markdown":"Consider posting a new question with more details about what you&#39;re trying to understand; I&#39;d be happy to say more but it&#39;s difficult to do so in the comments of an old question. But it&#39;s perfectly safe to copy the contents of a HashMap into a CHM.","body":"Consider posting a new question with more details about what you&#39;re trying to understand; I&#39;d be happy to say more but it&#39;s difficult to do so in the comments of an old question. But it&#39;s perfectly safe to copy the contents of a HashMap into a CHM."}],"answers":[{"tags":[],"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1518567861,"creation_date":1518567575,"answer_id":48777813,"question_id":48777744,"body_markdown":"You will need to ensure that the original HashMap is not modified while creating the new map. The most direct way to do this is to synchronize on the original map:\r\n\r\n    HashMap&lt;K, V&gt; original = ...\r\n\r\n    HashMap&lt;K, V&gt; copy;\r\n    synchronized (original) {\r\n        copy = new HashMap&lt;&gt;(original);\r\n    }\r\n\r\nThis will only work in a thread-safe manner if all code that might modify `original` is synchronized on the same object (`original` itself, in my sample code, although it could be any shared object). If `original` is an object returned by `Collections.synchronizedMap()`, then you _must_ synchronize on `original` for all synchronization to work properly; using another lock object won&#39;t work due to how synchronized maps operate internally.","title":"Thread safe way to copy a HashMap","body":"<p>You will need to ensure that the original HashMap is not modified while creating the new map. The most direct way to do this is to synchronize on the original map:</p>\n\n<pre><code>HashMap&lt;K, V&gt; original = ...\n\nHashMap&lt;K, V&gt; copy;\nsynchronized (original) {\n    copy = new HashMap&lt;&gt;(original);\n}\n</code></pre>\n\n<p>This will only work in a thread-safe manner if all code that might modify <code>original</code> is synchronized on the same object (<code>original</code> itself, in my sample code, although it could be any shared object). If <code>original</code> is an object returned by <code>Collections.synchronizedMap()</code>, then you <em>must</em> synchronize on <code>original</code> for all synchronization to work properly; using another lock object won't work due to how synchronized maps operate internally.</p>\n"},{"tags":[],"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1518569181,"creation_date":1518569181,"answer_id":48778008,"question_id":48777744,"body_markdown":"First off, it&#39;s *never* safe to use a `HashMap` across multiple threads without some sort of external synchronization. If you&#39;re doing so currently and aren&#39;t running into issues that&#39;s just luck, and you&#39;ll see very strange bugs or even crashes in the near future.\r\n\r\nThe easiest option is to use a `ConcurrentHashMap`, which is designed to be safely used by multiple threads at the same time. You can then safely copy the map into another map whenever you&#39;d like.\r\n\r\nAs Ted Hopp mentions, using `synchronized` blocks is a potential alternative, but it&#39;s much more error-prone if not done correctly.\r\n\r\n---\r\n\r\nNote also that you can get a `ConcurrentModificationException` even if you&#39;re not working with a `HashMap` across multiple threads. For example:\r\n\r\n    for (K key : map.keySet()) {\r\n      map.remove(key);\r\n    }\r\n\r\nwould cause a `ConcurrentModificationException` because the map is modified &quot;concurrently&quot; with an attempt to iterate over its contents. So just seeing a CME does not mean that you need a thread-safe solution, you may simply need to change how you&#39;re modifying the collection:\r\n\r\n    Set&lt;K&gt; keysSnapshot = new HashSet&lt;&gt;(map.keySet());\r\n    for (K key : keysSnapshot) {\r\n      map.remove(key);\r\n    }","title":"Thread safe way to copy a HashMap","body":"<p>First off, it's <em>never</em> safe to use a <code>HashMap</code> across multiple threads without some sort of external synchronization. If you're doing so currently and aren't running into issues that's just luck, and you'll see very strange bugs or even crashes in the near future.</p>\n\n<p>The easiest option is to use a <code>ConcurrentHashMap</code>, which is designed to be safely used by multiple threads at the same time. You can then safely copy the map into another map whenever you'd like.</p>\n\n<p>As Ted Hopp mentions, using <code>synchronized</code> blocks is a potential alternative, but it's much more error-prone if not done correctly.</p>\n\n<hr>\n\n<p>Note also that you can get a <code>ConcurrentModificationException</code> even if you're not working with a <code>HashMap</code> across multiple threads. For example:</p>\n\n<pre><code>for (K key : map.keySet()) {\n  map.remove(key);\n}\n</code></pre>\n\n<p>would cause a <code>ConcurrentModificationException</code> because the map is modified \"concurrently\" with an attempt to iterate over its contents. So just seeing a CME does not mean that you need a thread-safe solution, you may simply need to change how you're modifying the collection:</p>\n\n<pre><code>Set&lt;K&gt; keysSnapshot = new HashSet&lt;&gt;(map.keySet());\nfor (K key : keysSnapshot) {\n  map.remove(key);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1248518,"reputation":46,"user_id":1209455,"display_name":"user1209455"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1648639026,"creation_date":1648639026,"answer_id":71676250,"question_id":48777744,"body_markdown":"\r\nUsing \r\n\r\n```\r\n  var in = Collections.synchronizedMap(new HashMap&lt;&gt;());\r\n```\r\n\r\nthis will copy the map inside the mutex:\r\n\r\n\r\n```\r\n  private static &lt;K, V&gt; Map&lt;K, V&gt; copy(Map&lt;K, V&gt; in) {\r\n    if (in == null) {\r\n      return null;\r\n    }\r\n    Map&lt;K, V&gt; out = new HashMap&lt;&gt;();\r\n    in.forEach((k, v) -&gt; out.put(k, v));\r\n    return out;\r\n  }\r\n```\r\n\r\n\r\n","title":"Thread safe way to copy a HashMap","body":"<p>Using</p>\n<pre><code>  var in = Collections.synchronizedMap(new HashMap&lt;&gt;());\n</code></pre>\n<p>this will copy the map inside the mutex:</p>\n<pre><code>  private static &lt;K, V&gt; Map&lt;K, V&gt; copy(Map&lt;K, V&gt; in) {\n    if (in == null) {\n      return null;\n    }\n    Map&lt;K, V&gt; out = new HashMap&lt;&gt;();\n    in.forEach((k, v) -&gt; out.put(k, v));\n    return out;\n  }\n</code></pre>\n"}],"owner":{"account_id":928231,"reputation":101,"user_id":958573,"display_name":"user958573"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1524,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1648639026,"creation_date":1518567181,"question_id":48777744,"body_markdown":"I have a scenario where I want to copy a HashMap into a new HashMap but in a thread safe manner. I want to do this to avoid any Concurrent Modification exceptions while copying the map.","title":"Thread safe way to copy a HashMap","body":"<p>I have a scenario where I want to copy a HashMap into a new HashMap but in a thread safe manner. I want to do this to avoid any Concurrent Modification exceptions while copying the map.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":1,"creation_date":1648565727,"post_id":71662617,"comment_id":126653829,"body_markdown":"at the very least, consider using maven and save yourself losing hair over every single dependency (or dependency update)","body":"at the very least, consider using maven and save yourself losing hair over every single dependency (or dependency update)"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1648598277,"post_id":71662617,"comment_id":126663826,"body_markdown":"If your goal is to compile from the command-line without Android Studio, then you should use `gradle`.","body":"If your goal is to compile from the command-line without Android Studio, then you should use <code>gradle</code>."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648638727,"creation_date":1648561524,"answer_id":71663233,"question_id":71662617,"body_markdown":"OK, so the problem is that the `NonNull` annotation is not defined in that JAR file.  (Or at least, not in the `android.jar` that I found ... on Github.)\r\n\r\nI managed to find a JAR containing `androidx.annotation.NonNull` in the Maven Central Repository: https://mvnrepository.com/artifact/androidx.annotation/annotation/1.3.0\r\n\r\nBut I suspect that you are going to find more of these issues as your project gets more complicated.\r\n\r\n---------------------\r\n\r\n&gt; Is there any way to let `javac` know that I am using AndroidX?\r\n\r\nNo there isn&#39;t.  The `javac` compiler understands nothing about `Android` let alone `AndroidX`.  It only knows about what you added to the compile-time classpath.  So if you are going to persist with compiling using `javac` directly, you are going to have to figure out how to find the JARs that you need for yourself&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\nMy recommendation would be:\r\n\r\n  - Just use Android Studio.  It really isn&#39;t that slow ... when you take into account all of the features it provides to make coding, testing, debugging, etc.\r\n\r\n  - You can also use the Gradle build tool&lt;sup&gt;2&lt;/sup&gt; independently of Android Studio.   It has a plugin designed especially for building Android apps; see https://developer.android.com/studio/build.  Among other things, it will automate the downloading of the dependencies and the configuration of the classpath.\r\n\r\n------------------\r\n\r\n&lt;sup&gt;1 - And down the track you will need to manually *update* the JARs that you manually downloaded, etc.\r\n&lt;br&gt;2 - There are alternatives such as Maven, Ant and so on, but AFAIK Gradle has the best integration for Android.&lt;/sup&gt;","title":"Get javac to use androidx","body":"<p>OK, so the problem is that the <code>NonNull</code> annotation is not defined in that JAR file.  (Or at least, not in the <code>android.jar</code> that I found ... on Github.)</p>\n<p>I managed to find a JAR containing <code>androidx.annotation.NonNull</code> in the Maven Central Repository: <a href=\"https://mvnrepository.com/artifact/androidx.annotation/annotation/1.3.0\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/androidx.annotation/annotation/1.3.0</a></p>\n<p>But I suspect that you are going to find more of these issues as your project gets more complicated.</p>\n<hr />\n<blockquote>\n<p>Is there any way to let <code>javac</code> know that I am using AndroidX?</p>\n</blockquote>\n<p>No there isn't.  The <code>javac</code> compiler understands nothing about <code>Android</code> let alone <code>AndroidX</code>.  It only knows about what you added to the compile-time classpath.  So if you are going to persist with compiling using <code>javac</code> directly, you are going to have to figure out how to find the JARs that you need for yourself<sup>1</sup>.</p>\n<p>My recommendation would be:</p>\n<ul>\n<li><p>Just use Android Studio.  It really isn't that slow ... when you take into account all of the features it provides to make coding, testing, debugging, etc.</p>\n</li>\n<li><p>You can also use the Gradle build tool<sup>2</sup> independently of Android Studio.   It has a plugin designed especially for building Android apps; see <a href=\"https://developer.android.com/studio/build\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/build</a>.  Among other things, it will automate the downloading of the dependencies and the configuration of the classpath.</p>\n</li>\n</ul>\n<hr />\n<p><sup>1 - And down the track you will need to manually <em>update</em> the JARs that you manually downloaded, etc.\n<br>2 - There are alternatives such as Maven, Ant and so on, but AFAIK Gradle has the best integration for Android.</sup></p>\n"},{"tags":[],"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648598468,"creation_date":1648598468,"answer_id":71670073,"question_id":71662617,"body_markdown":"&gt; Is there any way to let javac know that I am using AndroidX?\r\n\r\nYes, you can download the JAR files for the libraries you are using and add them to the classpath.\r\n\r\nHowever, this leads down a path of suffering and sadness because you will have to download many different JAR files that are implement different parts the `androidx` package, depending on what features you need.\r\n\r\nI strongly suggest you to use Android Studio. It is an incredible tool that makes Android development easier than it otherwise would be.\r\n\r\nIf your goal here is to compile your app from the command line, then you need to learn about `gradle`. This is a tool that will download the dependencies for you then run `javac` with the correct classpath set. Basically it automates all the steps you would need to take to do this manually.","title":"Get javac to use androidx","body":"<blockquote>\n<p>Is there any way to let javac know that I am using AndroidX?</p>\n</blockquote>\n<p>Yes, you can download the JAR files for the libraries you are using and add them to the classpath.</p>\n<p>However, this leads down a path of suffering and sadness because you will have to download many different JAR files that are implement different parts the <code>androidx</code> package, depending on what features you need.</p>\n<p>I strongly suggest you to use Android Studio. It is an incredible tool that makes Android development easier than it otherwise would be.</p>\n<p>If your goal here is to compile your app from the command line, then you need to learn about <code>gradle</code>. This is a tool that will download the dependencies for you then run <code>javac</code> with the correct classpath set. Basically it automates all the steps you would need to take to do this manually.</p>\n"}],"owner":{"account_id":17144652,"reputation":11,"user_id":12407861,"display_name":"FelinaSaber"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":607,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71663233,"answer_count":2,"score":0,"last_activity_date":1648638727,"creation_date":1648559185,"question_id":71662617,"body_markdown":"I am now coding Android apps without using Android Studio, and when I compile, I encountered the errors:\r\n&gt; ./src/com/example/projectname/GamePanel.java:8: error: cannot find symbol\r\n&gt; import androidx.annotation.NonNull;\r\n\r\nwhere the &quot;^&quot; points at the period before &quot;NonNull&quot;, and \r\n&gt; error: package androidx.appcompat.app does not exist\r\n\r\nAnd my compile command is:\r\n\r\n`javac -d obj -sourcepath src -classpath ../android/platforms/android-32/android.jar ./src/com/example/projectname/*.java`\r\n\r\nThe internet tells me that I should set android.useAndroidX to true, but I am not using Android Studio. Is there any way to let javac know that I am using AndroidX?","title":"Get javac to use androidx","body":"<p>I am now coding Android apps without using Android Studio, and when I compile, I encountered the errors:</p>\n<blockquote>\n<p>./src/com/example/projectname/GamePanel.java:8: error: cannot find symbol\nimport androidx.annotation.NonNull;</p>\n</blockquote>\n<p>where the &quot;^&quot; points at the period before &quot;NonNull&quot;, and</p>\n<blockquote>\n<p>error: package androidx.appcompat.app does not exist</p>\n</blockquote>\n<p>And my compile command is:</p>\n<p><code>javac -d obj -sourcepath src -classpath ../android/platforms/android-32/android.jar ./src/com/example/projectname/*.java</code></p>\n<p>The internet tells me that I should set android.useAndroidX to true, but I am not using Android Studio. Is there any way to let javac know that I am using AndroidX?</p>\n"},{"tags":["java","regex-lookarounds"],"comments":[{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1648638570,"post_id":71676003,"comment_id":126673901,"body_markdown":"You may simply split your string with the pattern, `DATA.split(&quot;(?&lt;=de)lim&quot;)`. See https://ideone.com/aZDakN","body":"You may simply split your string with the pattern, <code>DATA.split(&quot;(?&lt;=de)lim&quot;)</code>. See <a href=\"https://ideone.com/aZDakN\" rel=\"nofollow noreferrer\">ideone.com/aZDakN</a>"},{"owner":{"account_id":466838,"reputation":1564,"user_id":871836,"accept_rate":75,"display_name":"Pieter Bos"},"score":0,"creation_date":1648638867,"post_id":71676003,"comment_id":126673992,"body_markdown":"I am aware you can achieve a similar result in other ways, my question is specifically about `Scanner`","body":"I am aware you can achieve a similar result in other ways, my question is specifically about <code>Scanner</code>"},{"owner":{"account_id":466838,"reputation":1564,"user_id":871836,"accept_rate":75,"display_name":"Pieter Bos"},"score":0,"creation_date":1648640527,"post_id":71676003,"comment_id":126674617,"body_markdown":"I think this is a different version of this JDK bug: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8176407","body":"I think this is a different version of this JDK bug: <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8176407\" rel=\"nofollow noreferrer\">bugs.java.com/bugdatabase/view_bug.do?bug_id=8176407</a>"}],"owner":{"account_id":466838,"reputation":1564,"user_id":871836,"accept_rate":75,"display_name":"Pieter Bos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1648638339,"creation_date":1648637992,"question_id":71676003,"body_markdown":"If I use a `Scanner` with a delimiter that contains a lookbehind, like `(?&lt;=de)lim`, the delimiter is not skipped when I design my input such that the internal buffer of the Scanner starts with `&quot;lim&quot;`, even though in the source text it is preceded by `&quot;de&quot;`:\r\n\r\n```java\r\npublic class Scanning {\r\n    final static int SCANNER_BUFFER_SIZE = 1024 * 2;\r\n    final static int OFFSET = 5;\r\n    final static String DATA = &quot;=&quot;.repeat(SCANNER_BUFFER_SIZE - OFFSET) + &quot;delimdelim&quot; + &quot;=&quot;.repeat(10);\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(new StringReader(DATA));\r\n\r\n        scanner.useDelimiter(&quot;(?&lt;=de)lim&quot;);\r\n\r\n        while(scanner.hasNext()) {\r\n            System.out.println(scanner.next().replaceAll(&quot;=+&quot;, &quot;=&quot;));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI think that `DATA` should be split on these delimiters:\r\n\r\n```\r\n===(...)===delimdelim==========\r\n             ^~~  ^~~\r\n```\r\n\r\nAnd so the output should be:\r\n\r\n\r\n```\r\n=de\r\nde\r\n=\r\n```\r\n\r\nHowever, this outputs (openjdk version &quot;17.0.2&quot; 2022-01-18):\r\n\r\n```\r\n=de\r\nlimde\r\n=\r\n```\r\n\r\nI can see in the debugger that when the scanner is about to return `&quot;limde&quot;`, `scanner.buf` and `scanner.matcher.text` contain `&quot;limdelim...&quot;`, so I suspect that it the cause. If I alter `OFFSET` to e.g. `3` or `7`, my expected behavior occurs.\r\n\r\nI could not find any reference to this behavior in the documentation of `Scanner` or `Pattern`, so is this intended? Is it not safe to use lookaround for the delimiter of a `Scanner`?","title":"Scanner with a lookbehind delimiter does not work near Scanner.BUFFER_SIZE boundary","body":"<p>If I use a <code>Scanner</code> with a delimiter that contains a lookbehind, like <code>(?&lt;=de)lim</code>, the delimiter is not skipped when I design my input such that the internal buffer of the Scanner starts with <code>&quot;lim&quot;</code>, even though in the source text it is preceded by <code>&quot;de&quot;</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Scanning {\n    final static int SCANNER_BUFFER_SIZE = 1024 * 2;\n    final static int OFFSET = 5;\n    final static String DATA = &quot;=&quot;.repeat(SCANNER_BUFFER_SIZE - OFFSET) + &quot;delimdelim&quot; + &quot;=&quot;.repeat(10);\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(new StringReader(DATA));\n\n        scanner.useDelimiter(&quot;(?&lt;=de)lim&quot;);\n\n        while(scanner.hasNext()) {\n            System.out.println(scanner.next().replaceAll(&quot;=+&quot;, &quot;=&quot;));\n        }\n    }\n}\n</code></pre>\n<p>I think that <code>DATA</code> should be split on these delimiters:</p>\n<pre><code>===(...)===delimdelim==========\n             ^~~  ^~~\n</code></pre>\n<p>And so the output should be:</p>\n<pre><code>=de\nde\n=\n</code></pre>\n<p>However, this outputs (openjdk version &quot;17.0.2&quot; 2022-01-18):</p>\n<pre><code>=de\nlimde\n=\n</code></pre>\n<p>I can see in the debugger that when the scanner is about to return <code>&quot;limde&quot;</code>, <code>scanner.buf</code> and <code>scanner.matcher.text</code> contain <code>&quot;limdelim...&quot;</code>, so I suspect that it the cause. If I alter <code>OFFSET</code> to e.g. <code>3</code> or <code>7</code>, my expected behavior occurs.</p>\n<p>I could not find any reference to this behavior in the documentation of <code>Scanner</code> or <code>Pattern</code>, so is this intended? Is it not safe to use lookaround for the delimiter of a <code>Scanner</code>?</p>\n"},{"tags":["java","maven","build"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1586263536,"post_id":61079389,"comment_id":108059294,"body_markdown":"You can modify environment variables, but not the build command? Why that?","body":"You can modify environment variables, but not the build command? Why that?"},{"owner":{"account_id":7545845,"reputation":2461,"user_id":5728926,"accept_rate":90,"display_name":"D&#225;niel Kis"},"score":0,"creation_date":1586263667,"post_id":61079389,"comment_id":108059385,"body_markdown":"It is a gitlab-ci build, I cannot modify the repo, but I can modify the environment variables in group level.","body":"It is a gitlab-ci build, I cannot modify the repo, but I can modify the environment variables in group level."}],"answers":[{"tags":[],"owner":{"account_id":24744654,"reputation":21,"user_id":18630986,"display_name":"flesser"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648638326,"creation_date":1648638326,"answer_id":71676089,"question_id":61079389,"body_markdown":"You could try something like this in your gitlab-ci build script, just before calling `mvn`:  \r\n(see https://maven.apache.org/configure.html#mvn-maven-config-file)\r\n```bash\r\nmkdir -p .mvn &amp;&amp; echo &quot;-s /tmp/settings.xml&quot; &gt;&gt; .mvn/maven.config\r\n```\r\n\r\nThis does not modify the repo, only adds a file to the local checkout within the running build job.\r\n\r\n--- \r\n\r\n**Starting with Maven 4** this should also work:\r\n```bash\r\nexport MAVEN_ARGS=&quot;-s /tmp/settings.xml&quot;\r\n```\r\nsee https://maven.apache.org/configure.html#maven_args-environment-variable\r\n","title":"Maven build: set settings.xml path from environment variable","body":"<p>You could try something like this in your gitlab-ci build script, just before calling <code>mvn</code>:<br />\n(see <a href=\"https://maven.apache.org/configure.html#mvn-maven-config-file\" rel=\"nofollow noreferrer\">https://maven.apache.org/configure.html#mvn-maven-config-file</a>)</p>\n<pre class=\"lang-sh prettyprint-override\"><code>mkdir -p .mvn &amp;&amp; echo &quot;-s /tmp/settings.xml&quot; &gt;&gt; .mvn/maven.config\n</code></pre>\n<p>This does not modify the repo, only adds a file to the local checkout within the running build job.</p>\n<hr />\n<p><strong>Starting with Maven 4</strong> this should also work:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>export MAVEN_ARGS=&quot;-s /tmp/settings.xml&quot;\n</code></pre>\n<p>see <a href=\"https://maven.apache.org/configure.html#maven_args-environment-variable\" rel=\"nofollow noreferrer\">https://maven.apache.org/configure.html#maven_args-environment-variable</a></p>\n"}],"owner":{"account_id":7545845,"reputation":2461,"user_id":5728926,"accept_rate":90,"display_name":"D&#225;niel Kis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2086,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1648638326,"creation_date":1586260160,"question_id":61079389,"body_markdown":"How can I set the path of the settings.xml from environment variable in a mvn build?\r\n\r\nI have tried: \r\n\r\n    export MAVEN_OPTS=&quot;-s /tmp/settings.xml&quot;\r\n\r\nor \r\n\r\n    export MAVEN_OPTS=&quot;--settings /tmp/settings.xml&quot;\r\n\r\nbut it not works.\r\n\r\nI need it, because I cannot modify the build command.","title":"Maven build: set settings.xml path from environment variable","body":"<p>How can I set the path of the settings.xml from environment variable in a mvn build?</p>\n\n<p>I have tried: </p>\n\n<pre><code>export MAVEN_OPTS=\"-s /tmp/settings.xml\"\n</code></pre>\n\n<p>or </p>\n\n<pre><code>export MAVEN_OPTS=\"--settings /tmp/settings.xml\"\n</code></pre>\n\n<p>but it not works.</p>\n\n<p>I need it, because I cannot modify the build command.</p>\n"},{"tags":["java","email","smtp","tls1.2"],"answers":[{"tags":[],"owner":{"account_id":184517,"reputation":1199,"user_id":420611,"accept_rate":38,"display_name":"Sunny"},"down_vote_count":0,"up_vote_count":54,"is_accepted":true,"score":54,"last_activity_date":1597927210,"creation_date":1512758575,"answer_id":47720397,"question_id":47166425,"body_markdown":"This is the fix for the next guy looking:\r\n\r\n    mail.smtp.starttls.enable=true;\r\n    mail.smtp.ssl.protocols=TLSv1.2;","title":"How to force JavaMailSenderImpl to use TLS1.2?","body":"<p>This is the fix for the next guy looking:</p>\n<pre><code>mail.smtp.starttls.enable=true;\nmail.smtp.ssl.protocols=TLSv1.2;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7368323,"reputation":151,"user_id":5609398,"display_name":"Vojtěch Zavřel"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1597927232,"creation_date":1587109326,"answer_id":61266411,"question_id":47166425,"body_markdown":"It didn&#39;t work for me in one pretty old app and I couldn&#39;t realize why. After some research I found that the `javax.mail` version in the app dependencies was 1.4. You must upgrade to at least 1.5.","title":"How to force JavaMailSenderImpl to use TLS1.2?","body":"<p>It didn't work for me in one pretty old app and I couldn't realize why. After some research I found that the <code>javax.mail</code> version in the app dependencies was 1.4. You must upgrade to at least 1.5.</p>\n"},{"tags":[],"owner":{"account_id":4641343,"reputation":349,"user_id":3761102,"accept_rate":83,"display_name":"dfritch"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1625597201,"creation_date":1625597201,"answer_id":68275949,"question_id":47166425,"body_markdown":"I needed both Vojtech Zavrel and Sunny&#39;s answer in my case. I was running Java 1.8 Spring Boot 1.2.5 and running on Big Sur 11.2.3 and spring version 4.2.1.RELEASE. \r\n\r\nAfter I updated my dependency like this \r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.0-b01&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand I updated my `JavaMailSenderImpl` with\r\n\r\n    Properties prop = new Properties();\r\n    prop.setProperty(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n    prop.setProperty(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n    prop.setProperty(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;); // Added this line\r\n    prop.setProperty(&quot;mail.smtp.ssl.trust&quot;, mailUri.getHost());\r\n    mailSender.setJavaMailProperties(prop);\r\n\r\n\r\nI saw the `Received fatal alert: protocol_version` error resolve.","title":"How to force JavaMailSenderImpl to use TLS1.2?","body":"<p>I needed both Vojtech Zavrel and Sunny's answer in my case. I was running Java 1.8 Spring Boot 1.2.5 and running on Big Sur 11.2.3 and spring version 4.2.1.RELEASE.</p>\n<p>After I updated my dependency like this</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n        &lt;artifactId&gt;mail&lt;/artifactId&gt;\n        &lt;version&gt;1.5.0-b01&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and I updated my <code>JavaMailSenderImpl</code> with</p>\n<pre><code>Properties prop = new Properties();\nprop.setProperty(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\nprop.setProperty(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\nprop.setProperty(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;); // Added this line\nprop.setProperty(&quot;mail.smtp.ssl.trust&quot;, mailUri.getHost());\nmailSender.setJavaMailProperties(prop);\n</code></pre>\n<p>I saw the <code>Received fatal alert: protocol_version</code> error resolve.</p>\n"},{"tags":[],"owner":{"account_id":129028,"reputation":39302,"user_id":327301,"accept_rate":66,"display_name":"yankee"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1648638311,"creation_date":1648638311,"answer_id":71676087,"question_id":47166425,"body_markdown":"An update to the most recent version (1.6.2.) of Java Mail also fixes the issue. In my case I upgraded from:\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n    &lt;version&gt;1.5.0-b01&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nto:\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n    &lt;version&gt;1.6.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThis fixed the error\r\n\r\n&gt; javax.mail.AuthenticationFailedException: 421 4.7.66 TLS 1.0 and 1.1 are not supported. Please upgrade/update your client to support TLS 1.2\r\n\r\nI was getting from an Outlook SMTP-Server. No property changes needed.","title":"How to force JavaMailSenderImpl to use TLS1.2?","body":"<p>An update to the most recent version (1.6.2.) of Java Mail also fixes the issue. In my case I upgraded from:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n    &lt;artifactId&gt;mail&lt;/artifactId&gt;\n    &lt;version&gt;1.5.0-b01&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>to:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n    &lt;version&gt;1.6.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This fixed the error</p>\n<blockquote>\n<p>javax.mail.AuthenticationFailedException: 421 4.7.66 TLS 1.0 and 1.1 are not supported. Please upgrade/update your client to support TLS 1.2</p>\n</blockquote>\n<p>I was getting from an Outlook SMTP-Server. No property changes needed.</p>\n"}],"owner":{"account_id":184517,"reputation":1199,"user_id":420611,"accept_rate":38,"display_name":"Sunny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57445,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":47720397,"answer_count":4,"score":24,"last_activity_date":1648638311,"creation_date":1510084687,"question_id":47166425,"body_markdown":"Have a JDK7 app running on Tomcat and it does have the following env settings:\r\n\r\n    -Dhttps.protocols=TLSv1.1,TLSv1.2 \r\n\r\nThe above setting ensures that we don&#39;t use TLS 1.0 when connecting over HTTPS while making API calls etc.\r\n\r\nWe also use the org.springframework.mail.javamail.**JavaMailSenderImpl** class to send outgoing SMTP email, and use these props:\r\n\r\n     mail.smtp.auth=false;mail.smtp.socketFactory.port=2525;mail.smtp.socketFactory.fallback=true;mail.smtp.starttls.enable=true\r\n\r\nThe problem is that the connection to the SMTP email server is failing when it&#39;s upgraded to TLS1.2. \r\n\r\n&gt; javax.net.ssl.SSLHandshakeException: Remote host closed connection\r\n&gt; during handshake\r\n\r\n**Is there a settings or code change that will force the TLS1.2 protocol?**\r\n\r\nI did some searching and it looks like these env settings are only for applet and web clients, not for server side apps\r\n\r\n    -Ddeployment.security.SSLv2Hello=false -Ddeployment.security.SSLv3=false -Ddeployment.security.TLSv1=false\r\n\r\n","title":"How to force JavaMailSenderImpl to use TLS1.2?","body":"<p>Have a JDK7 app running on Tomcat and it does have the following env settings:</p>\n\n<pre><code>-Dhttps.protocols=TLSv1.1,TLSv1.2 \n</code></pre>\n\n<p>The above setting ensures that we don't use TLS 1.0 when connecting over HTTPS while making API calls etc.</p>\n\n<p>We also use the org.springframework.mail.javamail.<strong>JavaMailSenderImpl</strong> class to send outgoing SMTP email, and use these props:</p>\n\n<pre><code> mail.smtp.auth=false;mail.smtp.socketFactory.port=2525;mail.smtp.socketFactory.fallback=true;mail.smtp.starttls.enable=true\n</code></pre>\n\n<p>The problem is that the connection to the SMTP email server is failing when it's upgraded to TLS1.2. </p>\n\n<blockquote>\n  <p>javax.net.ssl.SSLHandshakeException: Remote host closed connection\n  during handshake</p>\n</blockquote>\n\n<p><strong>Is there a settings or code change that will force the TLS1.2 protocol?</strong></p>\n\n<p>I did some searching and it looks like these env settings are only for applet and web clients, not for server side apps</p>\n\n<pre><code>-Ddeployment.security.SSLv2Hello=false -Ddeployment.security.SSLv3=false -Ddeployment.security.TLSv1=false\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8518,"page":1474,"page_size":100}
