{"items":[{"tags":["java","android","android-activity"],"comments":[{"owner":{"account_id":9560534,"reputation":12492,"user_id":7101554,"accept_rate":68,"display_name":"Leandro Borges Ferreira"},"score":0,"creation_date":1479403904,"post_id":40661349,"comment_id":68553881,"body_markdown":"You can call finish() in the activity that is transparent. But don&#39;t you think you are probably better with a View on top of you activity?","body":"You can call finish() in the activity that is transparent. But don&#39;t you think you are probably better with a View on top of you activity?"},{"owner":{"account_id":7685749,"reputation":1783,"user_id":5823618,"accept_rate":57,"display_name":"Alex Wilson"},"score":0,"creation_date":1479404001,"post_id":40661349,"comment_id":68553937,"body_markdown":"Yes I can call finish() on the transparent activity. I want to know if I can trigger the call to finish() off the touch, even with FLAG_NOT_TOUCHABLE set.","body":"Yes I can call finish() on the transparent activity. I want to know if I can trigger the call to finish() off the touch, even with FLAG_NOT_TOUCHABLE set."}],"answers":[{"tags":[],"owner":{"account_id":413213,"reputation":35885,"user_id":786718,"accept_rate":87,"display_name":"DeeV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479404113,"creation_date":1479404113,"answer_id":40661504,"question_id":40661349,"body_markdown":"I do not believe you&#39;d be able to determine if the user touched the screen if `FLAG_NOT_TOUCHABLE` is set. Your Activity will simply not receive any touch events at all.\r\n\r\nInstead, what you can do is set an `onTouchListener` to the root View, then return `false` indicating that you do not want to handle the touch. This way, you&#39;ll always receive the first touch event (`ACTION_DOWN`) which allows you to call `finish()` and go. ","title":"Is it possible to set FLAG_NOT_TOUCHABLE on an activity, but also close the activity when a touch occurs?","body":"<p>I do not believe you'd be able to determine if the user touched the screen if <code>FLAG_NOT_TOUCHABLE</code> is set. Your Activity will simply not receive any touch events at all.</p>\n\n<p>Instead, what you can do is set an <code>onTouchListener</code> to the root View, then return <code>false</code> indicating that you do not want to handle the touch. This way, you'll always receive the first touch event (<code>ACTION_DOWN</code>) which allows you to call <code>finish()</code> and go. </p>\n"},{"tags":[],"owner":{"account_id":360935,"reputation":5619,"user_id":703225,"accept_rate":57,"display_name":"qinmiao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663948306,"creation_date":1663948306,"answer_id":73830246,"question_id":40661349,"body_markdown":"yes, you can.\r\n\r\n```java\r\n\r\n// not any touch event\r\n getWindow().setFlags(WindowManager.LayoutParams.FLAG_NOT_TOUCHABLE,WindowManager.LayoutParams.FLAG_NOT_TOUCHABLE);\r\n\r\n```\r\n\r\n","title":"Is it possible to set FLAG_NOT_TOUCHABLE on an activity, but also close the activity when a touch occurs?","body":"<p>yes, you can.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n// not any touch event\n getWindow().setFlags(WindowManager.LayoutParams.FLAG_NOT_TOUCHABLE,WindowManager.LayoutParams.FLAG_NOT_TOUCHABLE);\n\n</code></pre>\n"}],"owner":{"account_id":7685749,"reputation":1783,"user_id":5823618,"accept_rate":57,"display_name":"Alex Wilson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1941,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1663948306,"creation_date":1479403581,"question_id":40661349,"body_markdown":"I would like to set `FLAG_NOT_TOUCHABLE` on a transparent activity to allow interaction with the activity below. Is there any way to close the transparent activity when a user touches the screen while these flags are set? ","title":"Is it possible to set FLAG_NOT_TOUCHABLE on an activity, but also close the activity when a touch occurs?","body":"<p>I would like to set <code>FLAG_NOT_TOUCHABLE</code> on a transparent activity to allow interaction with the activity below. Is there any way to close the transparent activity when a user touches the screen while these flags are set? </p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1663947565,"post_id":73830034,"comment_id":130366973,"body_markdown":"Where did you add `?`? Note that html isn&#39;t a regular language, so it&#39;s not always an effective solution. What are examples of inputs for this regex?","body":"Where did you add <code>?</code>? Note that html isn&#39;t a regular language, so it&#39;s not always an effective solution. What are examples of inputs for this regex?"},{"owner":{"account_id":38665,"reputation":7120,"user_id":111143,"display_name":"Tommy Andersen"},"score":1,"creation_date":1663948794,"post_id":73830034,"comment_id":130367429,"body_markdown":"https://stackoverflow.com/a/1732454/111143","body":"<a href=\"https://stackoverflow.com/a/1732454/111143\">stackoverflow.com/a/1732454/111143</a>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663947958,"creation_date":1663947958,"answer_id":73830176,"question_id":73830034,"body_markdown":"With question marks, as the docs say. Evidently you didn&#39;t put the questionmark in the right place.\r\n\r\n```\r\nYou have: input.replaceAll(&quot;&lt;mfrac&gt;(&lt;mn&gt;\\\\[[^\\\\\\\\]+]&lt;/mn&gt;)&quot;, &quot;&lt;mfrac&gt;&lt;mrow&gt;$1&lt;/mrow&gt;&quot;);\r\nYou need: input.replaceAll(&quot;&lt;mfrac&gt;(&lt;mn&gt;\\\\[[^\\\\\\\\]+?]&lt;/mn&gt;)&quot;, &quot;&lt;mfrac&gt;&lt;mrow&gt;$1&lt;/mrow&gt;&quot;);\r\n```\r\n\r\nNote that HTML isn&#39;t regular so none of this is a good idea. Use JSoup or a similar tool (something that parses _html_), modify the tree it gives you, re-render the tree back out to HTML, that&#39;s the right approach.\r\n","title":"How to make this regex non-greedy","body":"<p>With question marks, as the docs say. Evidently you didn't put the questionmark in the right place.</p>\n<pre><code>You have: input.replaceAll(&quot;&lt;mfrac&gt;(&lt;mn&gt;\\\\[[^\\\\\\\\]+]&lt;/mn&gt;)&quot;, &quot;&lt;mfrac&gt;&lt;mrow&gt;$1&lt;/mrow&gt;&quot;);\nYou need: input.replaceAll(&quot;&lt;mfrac&gt;(&lt;mn&gt;\\\\[[^\\\\\\\\]+?]&lt;/mn&gt;)&quot;, &quot;&lt;mfrac&gt;&lt;mrow&gt;$1&lt;/mrow&gt;&quot;);\n</code></pre>\n<p>Note that HTML isn't regular so none of this is a good idea. Use JSoup or a similar tool (something that parses <em>html</em>), modify the tree it gives you, re-render the tree back out to HTML, that's the right approach.</p>\n"}],"owner":{"account_id":25864709,"reputation":11,"user_id":19596604,"display_name":"Tania"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663948001,"creation_date":1663947116,"question_id":73830034,"body_markdown":"    String input = &quot;&lt;p&gt;...&lt;mfrac&gt;&lt;mn&gt;[format(((([[B]])*([[C]]))),\\&quot;###,##0.######\\&quot;)]&lt;/mn&gt;&lt;mn&gt;[[D]]&lt;/mn&gt;&lt;/mfrac&gt;&lt;/math&gt;&lt;/p&gt;&quot;;\r\n    String result = input.replaceAll(&quot;&lt;mfrac&gt;(&lt;mn&gt;\\\\[[^\\\\\\\\]+]&lt;/mn&gt;)&quot;, &quot;&lt;mfrac&gt;&lt;mrow&gt;$1&lt;/mrow&gt;&quot;);\r\n\r\nOutput: \r\n\r\n    &lt;p&gt;...&lt;mfrac&gt;&lt;mrow&gt;&lt;mn&gt;[format(((([[B]])*([[C]]))),&quot;###,##0.######&quot;)]&lt;/mn&gt;&lt;mn&gt;[[D]]&lt;/mn&gt;&lt;/mrow&gt;&lt;/mfrac&gt;&lt;/math&gt;&lt;/p&gt;\r\n\r\nWanted: \r\n\r\n    &lt;p&gt;...&lt;mfrac&gt;&lt;mrow&gt;&lt;mn&gt;[format(((([[B]])*([[C]]))),&quot;###,##0.######&quot;)]&lt;/mn&gt;&lt;/mrow&gt;&lt;mn&gt;[[D]]&lt;/mn&gt;&lt;/mfrac&gt;&lt;/math&gt;&lt;/p&gt;\r\n\r\nHow can I make the regex not greedy? I tried adding &quot;?&quot;. Did not help.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hv3De.png","title":"How to make this regex non-greedy","body":"<pre><code>String input = &quot;&lt;p&gt;...&lt;mfrac&gt;&lt;mn&gt;[format(((([[B]])*([[C]]))),\\&quot;###,##0.######\\&quot;)]&lt;/mn&gt;&lt;mn&gt;[[D]]&lt;/mn&gt;&lt;/mfrac&gt;&lt;/math&gt;&lt;/p&gt;&quot;;\nString result = input.replaceAll(&quot;&lt;mfrac&gt;(&lt;mn&gt;\\\\[[^\\\\\\\\]+]&lt;/mn&gt;)&quot;, &quot;&lt;mfrac&gt;&lt;mrow&gt;$1&lt;/mrow&gt;&quot;);\n</code></pre>\n<p>Output:</p>\n<pre><code>&lt;p&gt;...&lt;mfrac&gt;&lt;mrow&gt;&lt;mn&gt;[format(((([[B]])*([[C]]))),&quot;###,##0.######&quot;)]&lt;/mn&gt;&lt;mn&gt;[[D]]&lt;/mn&gt;&lt;/mrow&gt;&lt;/mfrac&gt;&lt;/math&gt;&lt;/p&gt;\n</code></pre>\n<p>Wanted:</p>\n<pre><code>&lt;p&gt;...&lt;mfrac&gt;&lt;mrow&gt;&lt;mn&gt;[format(((([[B]])*([[C]]))),&quot;###,##0.######&quot;)]&lt;/mn&gt;&lt;/mrow&gt;&lt;mn&gt;[[D]]&lt;/mn&gt;&lt;/mfrac&gt;&lt;/math&gt;&lt;/p&gt;\n</code></pre>\n<p>How can I make the regex not greedy? I tried adding &quot;?&quot;. Did not help.\n<a href=\"https://i.stack.imgur.com/hv3De.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hv3De.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","jpa","converters","javers"],"comments":[{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":0,"creation_date":1467705312,"post_id":38191622,"comment_id":63820445,"body_markdown":"An AttributeConverter is to convert from a field value to a datastore value. The field is transient therefore there is no concept of datastore value, hence it won&#39;t be used.","body":"An AttributeConverter is to convert from a field value to a datastore value. The field is transient therefore there is no concept of datastore value, hence it won&#39;t be used."},{"owner":{"account_id":1282080,"reputation":131,"user_id":1235977,"accept_rate":45,"display_name":"termil0r"},"score":0,"creation_date":1468074625,"post_id":38191622,"comment_id":63984295,"body_markdown":"@NeilStockton: Like I said, you can propose the change of given code. I am aware that in its current state it doesn&#39;t work but that&#39;s the whole point of this forum to help give answers.","body":"@NeilStockton: Like I said, you can propose the change of given code. I am aware that in its current state it doesn&#39;t work but that&#39;s the whole point of this forum to help give answers."},{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":0,"creation_date":1468077776,"post_id":38191622,"comment_id":63985221,"body_markdown":"I&#39;m simply explaining WHY it doesn&#39;t work. I would have thought that adds to your knowledge ...","body":"I&#39;m simply explaining WHY it doesn&#39;t work. I would have thought that adds to your knowledge ..."},{"owner":{"account_id":1282080,"reputation":131,"user_id":1235977,"accept_rate":45,"display_name":"termil0r"},"score":0,"creation_date":1468229310,"post_id":38191622,"comment_id":64023379,"body_markdown":"@NeilStockton: Well in that case please do accept my apologies.","body":"@NeilStockton: Well in that case please do accept my apologies."}],"answers":[{"tags":[],"owner":{"account_id":5338007,"reputation":3416,"user_id":4256260,"display_name":"Bartek Walacik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467700650,"creation_date":1467700650,"answer_id":38196702,"question_id":38191622,"body_markdown":"Restoring original domain objects from CdoSnapshots is not yet implemented in JaVers. There are some plans about this - https://github.com/javers/javers/issues/133","title":"HowTo map Javers snapshot to entity via JPA annotations/converter","body":"<p>Restoring original domain objects from CdoSnapshots is not yet implemented in JaVers. There are some plans about this - <a href=\"https://github.com/javers/javers/issues/133\" rel=\"nofollow\">https://github.com/javers/javers/issues/133</a></p>\n"},{"tags":[],"owner":{"account_id":2273688,"reputation":5004,"user_id":2000503,"display_name":"Rolando Isidoro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663947655,"creation_date":1663947655,"answer_id":73830130,"question_id":38191622,"body_markdown":"According to the [Restore orginal domain object from persisted snapshot][1] issue mentioned by @Bartek, this feature has been implemented in version 3.2.0, back in 2017.\r\n\r\nIn JaVers, the feature is called Shadow, meaning users domain object restored from a Snapshot.\r\n\r\nMore information in the [Querying for Shadows section of the JQL (JaVers Query Language) examples official documentation page][2].\r\n\r\n\r\n  [1]: https://github.com/javers/javers/issues/133#issuecomment-304259072\r\n  [2]: https://javers.org/documentation/jql-examples/#query-for-shadows","title":"HowTo map Javers snapshot to entity via JPA annotations/converter","body":"<p>According to the <a href=\"https://github.com/javers/javers/issues/133#issuecomment-304259072\" rel=\"nofollow noreferrer\">Restore orginal domain object from persisted snapshot</a> issue mentioned by @Bartek, this feature has been implemented in version 3.2.0, back in 2017.</p>\n<p>In JaVers, the feature is called Shadow, meaning users domain object restored from a Snapshot.</p>\n<p>More information in the <a href=\"https://javers.org/documentation/jql-examples/#query-for-shadows\" rel=\"nofollow noreferrer\">Querying for Shadows section of the JQL (JaVers Query Language) examples official documentation page</a>.</p>\n"}],"owner":{"account_id":1282080,"reputation":131,"user_id":1235977,"accept_rate":45,"display_name":"termil0r"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1058,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1663947655,"creation_date":1467663016,"question_id":38191622,"body_markdown":"Given code:\r\n\r\n    public enum ApplicationStatus {\r\n         CREATED, VERIFIED, APPROVED, REJECTED, DELETED, PUBLISHED;\r\n    }\r\n    \r\n    @lombok.Data // adds constructors, getters, setters, equals &amp; hashcode\r\n    @Table(&quot;Application&quot;)\r\n    public class Application implements Serializable {\r\n        @Id @GeneratedValue\r\n        private Long id;\r\n    \r\n        @Enumerated(EnumType.STRING)\r\n        private ApplicationStatus status;\r\n    \r\n        @Transient\r\n        @Converter(HistoryConverter.class)\r\n        private List&lt;Application&gt; applicationHistory;\r\n    }\r\n    \r\n    @Repository\r\n    @JaversSpringDataAuditable\r\n    public interface ApplicationRepository extends PagingAndSortingRepository&lt;Application, Long&gt; {}\r\n    \r\n    @Component\r\n    @Converter\r\n    public class HistoryConverter implements AttributeConverter&lt;Application, List&lt;Application&gt;&gt; {\r\n       \r\n        @Autowired\r\n        private Javers javers;\r\n\r\n        @Override\r\n    \tpublic List&lt;Application&gt; convertToDatabaseColumn(Application entity) {\r\n\t\t    List&lt;CdoSnapshot&gt; snapshots = javers.findSnapshots(QueryBuilder.byInstanceId(entity.getId(), Application.class).build())\r\n\r\n            return snapshots.stream().map(s -&gt; convertToEntity(s.getState())).collect(Collectors.toList());\r\n\t    }\r\n\r\n        private Application convertToEntity(CdoSnapshot snapshot) {\r\n            JsonConverter gson = javers.getJsonConverter();\r\n\t\t    String json = gson.toJson(state);\r\n\t\t    return gson.fromJson(json, Application.class);\r\n        }\r\n\r\n        @Override\r\n\t    public Application convertToEntityAttribute(List&lt;Application&gt; dbData) {\r\n\t\t    throw new UnsupportedOperationException();\r\n\t    }\r\n    }\r\n\r\nHow to make JPA use my converter to convert snapshot got from javers back to Application entity object for list of history objects?\r\n\r\nI didn&#39;t find what I&#39;m looking for on google. Only a thread saying that it will be possible in the future to get object from snapshot. For such simple object I&#39;m using it can be done as presented above. But how it can be incorporated into the code so snapshots can be used as history entry.\r\n\r\nJavers store new snapshot for every saved change of the entity into database in its own table. State field/column is encoded to json by Gson (internally). So using Gson to convert it back to entity can be done as follows. This concept works but not automatically. Can you please help me in incorporating javers as out-of-the-box history mechanism into my code?\r\n\r\nOf course changes to entity class as well as converter class are welcome but history has to be done by javers snapshots instead of reinventing the wheel by introducing new entity with history state and process it as seperate entity.","title":"HowTo map Javers snapshot to entity via JPA annotations/converter","body":"<p>Given code:</p>\n\n<pre><code>public enum ApplicationStatus {\n     CREATED, VERIFIED, APPROVED, REJECTED, DELETED, PUBLISHED;\n}\n\n@lombok.Data // adds constructors, getters, setters, equals &amp; hashcode\n@Table(\"Application\")\npublic class Application implements Serializable {\n    @Id @GeneratedValue\n    private Long id;\n\n    @Enumerated(EnumType.STRING)\n    private ApplicationStatus status;\n\n    @Transient\n    @Converter(HistoryConverter.class)\n    private List&lt;Application&gt; applicationHistory;\n}\n\n@Repository\n@JaversSpringDataAuditable\npublic interface ApplicationRepository extends PagingAndSortingRepository&lt;Application, Long&gt; {}\n\n@Component\n@Converter\npublic class HistoryConverter implements AttributeConverter&lt;Application, List&lt;Application&gt;&gt; {\n\n    @Autowired\n    private Javers javers;\n\n    @Override\n    public List&lt;Application&gt; convertToDatabaseColumn(Application entity) {\n        List&lt;CdoSnapshot&gt; snapshots = javers.findSnapshots(QueryBuilder.byInstanceId(entity.getId(), Application.class).build())\n\n        return snapshots.stream().map(s -&gt; convertToEntity(s.getState())).collect(Collectors.toList());\n    }\n\n    private Application convertToEntity(CdoSnapshot snapshot) {\n        JsonConverter gson = javers.getJsonConverter();\n        String json = gson.toJson(state);\n        return gson.fromJson(json, Application.class);\n    }\n\n    @Override\n    public Application convertToEntityAttribute(List&lt;Application&gt; dbData) {\n        throw new UnsupportedOperationException();\n    }\n}\n</code></pre>\n\n<p>How to make JPA use my converter to convert snapshot got from javers back to Application entity object for list of history objects?</p>\n\n<p>I didn't find what I'm looking for on google. Only a thread saying that it will be possible in the future to get object from snapshot. For such simple object I'm using it can be done as presented above. But how it can be incorporated into the code so snapshots can be used as history entry.</p>\n\n<p>Javers store new snapshot for every saved change of the entity into database in its own table. State field/column is encoded to json by Gson (internally). So using Gson to convert it back to entity can be done as follows. This concept works but not automatically. Can you please help me in incorporating javers as out-of-the-box history mechanism into my code?</p>\n\n<p>Of course changes to entity class as well as converter class are welcome but history has to be done by javers snapshots instead of reinventing the wheel by introducing new entity with history state and process it as seperate entity.</p>\n"},{"tags":["java","xml","groovy"],"answers":[{"tags":[],"owner":{"account_id":22101947,"reputation":397,"user_id":16358266,"display_name":"user16358266"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663947413,"creation_date":1663947413,"answer_id":73830090,"question_id":73829565,"body_markdown":"You need to manipulate the node&#39;s children directly `firstNode.children().set(0, &quot;foo&quot;)`. Furthermore, the `root` node is implicit, so you need to omit it.\r\n\r\n```groovy\r\nString xml = &quot;&quot;&quot;\r\n&lt;root&gt;\r\n    &lt;firstNode class=&quot;first&quot;&gt;SomeText&lt;childNode class=&quot;child&quot;&gt;SomeMoreText&lt;/childNode&gt;&lt;/firstNode&gt;\r\n&lt;/root&gt;\r\n&quot;&quot;&quot;\r\ndef root = new groovy.xml.XmlParser().parseText(xml)\r\ndef firstNode =  root.children()[0]\r\nfirstNode.children().set(0, &quot;foo&quot;)\r\ndef nodeAsText = groovy.xml.XmlUtil.serialize(root)\r\nprintln nodeAsText\r\n```\r\n\r\nTry it in the [Groovy Web Console](https://gwc-experiment.appspot.com/?g=groovy_4_0&amp;codez=eJxtkE0KwjAQhfc5xZBVCpJ6gLTgARRBBUFcFDvVQJpIEvw7vZMUraJZTV7evPkmq-i1PcKtN1AB55wp71ysGdBRnfYhLlyLcDBNCBXPAq9Xrsc13qI6nLRpPw1ZGAxz5wdT-XbVqnxH1kyVw6g0tcUO0o0gLF7hSPXlLolKbnuzbHxALwp5TkXKFPRS5KYRsYKcIPM0j1YUu-menWm9aOzo-1U-Ohj7p8qAUUwnwDvnePEnMpNYqmYh0RHK9wKbqA2FeN0Y_UCRMMeYsY-x_O2v8wQNUYtg)","title":"Groovy set text of node that has children","body":"<p>You need to manipulate the node's children directly <code>firstNode.children().set(0, &quot;foo&quot;)</code>. Furthermore, the <code>root</code> node is implicit, so you need to omit it.</p>\n<pre><code>String xml = &quot;&quot;&quot;\n&lt;root&gt;\n    &lt;firstNode class=&quot;first&quot;&gt;SomeText&lt;childNode class=&quot;child&quot;&gt;SomeMoreText&lt;/childNode&gt;&lt;/firstNode&gt;\n&lt;/root&gt;\n&quot;&quot;&quot;\ndef root = new groovy.xml.XmlParser().parseText(xml)\ndef firstNode =  root.children()[0]\nfirstNode.children().set(0, &quot;foo&quot;)\ndef nodeAsText = groovy.xml.XmlUtil.serialize(root)\nprintln nodeAsText\n</code></pre>\n<p>Try it in the <a href=\"https://gwc-experiment.appspot.com/?g=groovy_4_0&amp;codez=eJxtkE0KwjAQhfc5xZBVCpJ6gLTgARRBBUFcFDvVQJpIEvw7vZMUraJZTV7evPkmq-i1PcKtN1AB55wp71ysGdBRnfYhLlyLcDBNCBXPAq9Xrsc13qI6nLRpPw1ZGAxz5wdT-XbVqnxH1kyVw6g0tcUO0o0gLF7hSPXlLolKbnuzbHxALwp5TkXKFPRS5KYRsYKcIPM0j1YUu-menWm9aOzo-1U-Ohj7p8qAUUwnwDvnePEnMpNYqmYh0RHK9wKbqA2FeN0Y_UCRMMeYsY-x_O2v8wQNUYtg\" rel=\"nofollow noreferrer\">Groovy Web Console</a></p>\n"}],"owner":{"account_id":26380720,"reputation":361,"user_id":20034020,"display_name":"frankM_DN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73830090,"answer_count":1,"score":0,"last_activity_date":1663947413,"creation_date":1663944678,"question_id":73829565,"body_markdown":"I have a node in an xml document that has the following general structure:\r\n\r\n````\r\nString xml = &quot;\r\n&lt;root&gt;\r\n    &lt;firstNode class=&quot;first&quot;&gt;SomeText&lt;childNode class=&quot;child&quot;&gt;SomeMoreText&lt;/childNode&gt;&lt;/firstNode&gt;\r\n&lt;/root&gt;&quot;\r\n````\r\n\r\nI want to modify the text of the ````firstNode```` node.  So I want to change the value of &quot;SomeText&quot; to something else, like &quot;NewText&quot;.  So the above xml would look like this:\r\n\r\n````\r\n&lt;root&gt;\r\n    &lt;firstNode class=&quot;first&quot;&gt;NewText&lt;childNode class=&quot;child&quot;&gt;SomeMoreText&lt;/childNode&gt;&lt;/firstNode&gt;\r\n&lt;/root&gt;&quot;\r\n````\r\n\r\nI can get the ````firstNode```` node using the ````XmlParser```` class:\r\n\r\n````def firstNode = new groovy.xml.XmlParser().parseText(xml).root[0]````\r\n\r\nFrom the [Node doc][1] I am able to get the &quot;SomeText&quot; value using ````firstNode.localText()[0]```` but I can&#39;t figure out how to set that text.  Somehow I was thinking of doing ````firstNode.setValue()```` but I don&#39;t know what to pass in that function.\r\n\r\nThanks for any ideas!\r\n\r\n\r\n  [1]: https://docs.groovy-lang.org/latest/html/api/groovy/util/Node.html","title":"Groovy set text of node that has children","body":"<p>I have a node in an xml document that has the following general structure:</p>\n<pre><code>String xml = &quot;\n&lt;root&gt;\n    &lt;firstNode class=&quot;first&quot;&gt;SomeText&lt;childNode class=&quot;child&quot;&gt;SomeMoreText&lt;/childNode&gt;&lt;/firstNode&gt;\n&lt;/root&gt;&quot;\n</code></pre>\n<p>I want to modify the text of the <code>firstNode</code> node.  So I want to change the value of &quot;SomeText&quot; to something else, like &quot;NewText&quot;.  So the above xml would look like this:</p>\n<pre><code>&lt;root&gt;\n    &lt;firstNode class=&quot;first&quot;&gt;NewText&lt;childNode class=&quot;child&quot;&gt;SomeMoreText&lt;/childNode&gt;&lt;/firstNode&gt;\n&lt;/root&gt;&quot;\n</code></pre>\n<p>I can get the <code>firstNode</code> node using the <code>XmlParser</code> class:</p>\n<p><code>def firstNode = new groovy.xml.XmlParser().parseText(xml).root[0]</code></p>\n<p>From the <a href=\"https://docs.groovy-lang.org/latest/html/api/groovy/util/Node.html\" rel=\"nofollow noreferrer\">Node doc</a> I am able to get the &quot;SomeText&quot; value using <code>firstNode.localText()[0]</code> but I can't figure out how to set that text.  Somehow I was thinking of doing <code>firstNode.setValue()</code> but I don't know what to pass in that function.</p>\n<p>Thanks for any ideas!</p>\n"},{"tags":["java","json","spring-boot","pojo"],"comments":[{"owner":{"account_id":7559040,"reputation":2250,"user_id":5737375,"display_name":"vindev"},"score":1,"creation_date":1663912195,"post_id":73823071,"comment_id":130354983,"body_markdown":"Code looks fine. Not sure if `import oms.models.Order;` is the problem, try removing it.","body":"Code looks fine. Not sure if <code>import oms.models.Order;</code> is the problem, try removing it."},{"owner":{"account_id":22048796,"reputation":31,"user_id":16313394,"display_name":"Kim Gordon"},"score":0,"creation_date":1663947062,"post_id":73823071,"comment_id":130366756,"body_markdown":"It is import oms.models.Person; actually. It also not working if I remove it","body":"It is import oms.models.Person; actually. It also not working if I remove it"}],"owner":{"account_id":22048796,"reputation":31,"user_id":16313394,"display_name":"Kim Gordon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663947033,"creation_date":1663908225,"question_id":73823071,"body_markdown":"I usually convert from POJO to JSON by using `org.json.JSONObject`. It always works very well, but I don&#39;t know why it&#39;s not working when I apply it in Spring Boot. Here are my 2 files: \r\n\r\n**src/main/java/oms/models/Person.java:**\r\n\r\n    public class Person {\r\n    \r\n        private String name;\r\n        private int age;\r\n    \r\n        public String getName() { return this.name; }\r\n        public void setName( String name ) { this.name = name; }\r\n    \r\n        public int getAge() { return this.age; }\r\n        public void setAge( int age ) { this.age = age; }\r\n    \r\n    }\r\n\r\n**src/test/java/oms/Test.java:**\r\n\r\n    import org.json.JSONObject;\r\n    import oms.models.Person;\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    public class Test{\r\n\r\n        @Test\r\n        void Test {\r\n            Person person = new Person();\r\n            person.setName( &quot;Person Name&quot; );\r\n            person.setAge( 333 );\r\n\r\n            \r\n            JSONObject jsonObj = new JSONObject( person );\r\n            System.out.println( jsonObj );\r\n        }\r\n    \r\n    }\r\n\r\nThen I&#39;m getting an error: `Cannot resolve constructor &#39;JSONObject(Order)&#39;`\r\n\r\n\r\nCan someone let me know what is the problem?","title":"Java Spring Boot Pojo to Json","body":"<p>I usually convert from POJO to JSON by using <code>org.json.JSONObject</code>. It always works very well, but I don't know why it's not working when I apply it in Spring Boot. Here are my 2 files:</p>\n<p><strong>src/main/java/oms/models/Person.java:</strong></p>\n<pre><code>public class Person {\n\n    private String name;\n    private int age;\n\n    public String getName() { return this.name; }\n    public void setName( String name ) { this.name = name; }\n\n    public int getAge() { return this.age; }\n    public void setAge( int age ) { this.age = age; }\n\n}\n</code></pre>\n<p><strong>src/test/java/oms/Test.java:</strong></p>\n<pre><code>import org.json.JSONObject;\nimport oms.models.Person;\nimport org.junit.jupiter.api.Test;\n\npublic class Test{\n\n    @Test\n    void Test {\n        Person person = new Person();\n        person.setName( &quot;Person Name&quot; );\n        person.setAge( 333 );\n\n        \n        JSONObject jsonObj = new JSONObject( person );\n        System.out.println( jsonObj );\n    }\n\n}\n</code></pre>\n<p>Then I'm getting an error: <code>Cannot resolve constructor 'JSONObject(Order)'</code></p>\n<p>Can someone let me know what is the problem?</p>\n"},{"tags":["java","hazelcast","distributed-cache"],"answers":[{"tags":[],"owner":{"account_id":17127425,"reputation":256,"user_id":12394291,"display_name":"mdumandag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663945578,"creation_date":1663945578,"answer_id":73829733,"question_id":73829276,"body_markdown":"Yes, you can use different serialization mechanisms to serialize entry processors, provided that they are correctly configured on the sender and receiver sides. So, after making sure that the Portable factory for your class is registered on the members and on the instance you are sending the entry processor from (for example, your client), it should work. ","title":"Custom Serialization capability for EntryProcessor in Hazelcast","body":"<p>Yes, you can use different serialization mechanisms to serialize entry processors, provided that they are correctly configured on the sender and receiver sides. So, after making sure that the Portable factory for your class is registered on the members and on the instance you are sending the entry processor from (for example, your client), it should work.</p>\n"}],"owner":{"account_id":23654345,"reputation":47,"user_id":17682856,"display_name":"George K J"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73829733,"answer_count":1,"score":1,"last_activity_date":1663946860,"creation_date":1663943319,"question_id":73829276,"body_markdown":"Do we have custom serialization capability for EntryProcessor or ExecutorService ?. Hazelcast document is not specifying anything in this regard. There are no samples given in the document related to custom serialization of EntryProcessor. We are looking for a Portable serialization of the EntryProcessor.\r\n\r\n    public class SampleEntryProcessor implements EntryProcessor&lt;SampleDataKey, SampleDataValue , SampleDataValue &gt;,Portable {\r\n\r\n\t/**\r\n\t * \r\n\t */\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\tprivate SampleDataValue sampleDataValue ;\r\n\r\n\tpublic SampleDataValue process(Map.Entry&lt;SampleDataKey, SampleDataValue &gt; entry) {\r\n\t\t\r\n        //Sample logic here\r\n\t\treturn null;\r\n\t}\r\n\r\n\r\n\t@Override\r\n\tpublic int getFactoryId() {\r\n\t\treturn 1;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int getClassId() {\r\n\t\treturn 1;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void writePortable(PortableWriter writer) throws IOException {\r\n\t\twriter.writePortable(&quot;i&quot;, sampleDataValue );\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void readPortable(PortableReader reader) throws IOException {\r\n\t\tsampleDataValue = reader.readPortable(&quot;i&quot;);\r\n\t}\r\n}\r\n\r\nUPDATE : When i try to call processor am getting error as follows.\r\n\r\n    Exception in thread &quot;main&quot; java.lang.ClassCastException: com.hazelcast.internal.serialization.impl.portable.DeserializedPortableGenericRecord cannot be cast to com.hazelcast.map.EntryProcessor\r\n\tat com.hazelcast.client.impl.protocol.task.map.MapExecuteOnKeyMessageTask.prepareOperation(MapExecuteOnKeyMessageTask.java:42)\r\n\tat com.hazelcast.client.impl.protocol.task.AbstractPartitionMessageTask.processInternal(AbstractPartitionMessageTask.java:45)","title":"Custom Serialization capability for EntryProcessor in Hazelcast","body":"<p>Do we have custom serialization capability for EntryProcessor or ExecutorService ?. Hazelcast document is not specifying anything in this regard. There are no samples given in the document related to custom serialization of EntryProcessor. We are looking for a Portable serialization of the EntryProcessor.</p>\n<pre><code>public class SampleEntryProcessor implements EntryProcessor&lt;SampleDataKey, SampleDataValue , SampleDataValue &gt;,Portable {\n\n/**\n * \n */\nprivate static final long serialVersionUID = 1L;\n\nprivate SampleDataValue sampleDataValue ;\n\npublic SampleDataValue process(Map.Entry&lt;SampleDataKey, SampleDataValue &gt; entry) {\n    \n    //Sample logic here\n    return null;\n}\n\n\n@Override\npublic int getFactoryId() {\n    return 1;\n}\n\n@Override\npublic int getClassId() {\n    return 1;\n}\n\n@Override\npublic void writePortable(PortableWriter writer) throws IOException {\n    writer.writePortable(&quot;i&quot;, sampleDataValue );\n    \n}\n\n@Override\npublic void readPortable(PortableReader reader) throws IOException {\n    sampleDataValue = reader.readPortable(&quot;i&quot;);\n}\n</code></pre>\n<p>}</p>\n<p>UPDATE : When i try to call processor am getting error as follows.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ClassCastException: com.hazelcast.internal.serialization.impl.portable.DeserializedPortableGenericRecord cannot be cast to com.hazelcast.map.EntryProcessor\nat com.hazelcast.client.impl.protocol.task.map.MapExecuteOnKeyMessageTask.prepareOperation(MapExecuteOnKeyMessageTask.java:42)\nat com.hazelcast.client.impl.protocol.task.AbstractPartitionMessageTask.processInternal(AbstractPartitionMessageTask.java:45)\n</code></pre>\n"},{"tags":["java","weblogic","jdeveloper","oim"],"answers":[{"tags":[],"owner":{"account_id":1652896,"reputation":2486,"user_id":1523120,"display_name":"Timo Hahn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663946686,"creation_date":1663946686,"answer_id":73829953,"question_id":73800381,"body_markdown":"For case 1) the problem is a missing library containing the mentioned class. You need to deploy the jar containing the class with your application onto the server.\r\n\r\nFor the second case, I can&#39;t tell as you have not given details.","title":"jdeveloper deployment issue on oracle weblogic server","body":"<p>For case 1) the problem is a missing library containing the mentioned class. You need to deploy the jar containing the class with your application onto the server.</p>\n<p>For the second case, I can't tell as you have not given details.</p>\n"}],"owner":{"account_id":26401639,"reputation":1,"user_id":20052005,"display_name":"jawad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663946686,"creation_date":1663761767,"question_id":73800381,"body_markdown":"I am working on an oracle product Identity Management (IDM). \r\nInitially when I wrote a separate program using Java (JDeveloper) it&#39;s worked fine.\r\nUsers are created in IDM using that java API. \r\nBut when I changed that program with the idea of the Web interface java code is even not able to deploy on\r\noracle WebLogic server.\r\n\r\nWork Flow of Pages\r\n-------------------\r\n\r\nindex.html (this page has 4 options on menu 1. create user 2. delete user 3. disable user 4.enable user)\r\n\r\nWhen a user clicks on option 3. disableuser.html page is called\r\n\r\nOn disableuser.html there are only 2 controls, a textbox and a button. In the text box the user provides user name whom he\r\nwants to disable and then he will click on submit button. This submit button will call\r\n\r\noperations.jsp\r\n\r\nthis operations.jsp code will call java class (oimuser.java)\r\n\r\nProblem:\r\n\r\n1. When I try to deploy this code on Oracle WebLogic Server it&#39;s unable to be deployed\r\n2. When I changed the machine and used my friend&#39;s machine the code is deployed and executed but it&#39;s not calling the Java code \r\n\tmeans user is not disable (even environment is not created)\r\n\r\nNote: unable to deploy.. with below error code\r\n~~~none\r\njava.lang.ClassNotFoundException: com.vaau.rbacx.api.service.RbacxServiceException\r\n~~~\r\n","title":"jdeveloper deployment issue on oracle weblogic server","body":"<p>I am working on an oracle product Identity Management (IDM).\nInitially when I wrote a separate program using Java (JDeveloper) it's worked fine.\nUsers are created in IDM using that java API.\nBut when I changed that program with the idea of the Web interface java code is even not able to deploy on\noracle WebLogic server.</p>\n<h2>Work Flow of Pages</h2>\n<p>index.html (this page has 4 options on menu 1. create user 2. delete user 3. disable user 4.enable user)</p>\n<p>When a user clicks on option 3. disableuser.html page is called</p>\n<p>On disableuser.html there are only 2 controls, a textbox and a button. In the text box the user provides user name whom he\nwants to disable and then he will click on submit button. This submit button will call</p>\n<p>operations.jsp</p>\n<p>this operations.jsp code will call java class (oimuser.java)</p>\n<p>Problem:</p>\n<ol>\n<li>When I try to deploy this code on Oracle WebLogic Server it's unable to be deployed</li>\n<li>When I changed the machine and used my friend's machine the code is deployed and executed but it's not calling the Java code\nmeans user is not disable (even environment is not created)</li>\n</ol>\n<p>Note: unable to deploy.. with below error code</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.ClassNotFoundException: com.vaau.rbacx.api.service.RbacxServiceException\n</code></pre>\n"},{"tags":["java","rust","java-native-interface","bazel"],"answers":[{"tags":[],"owner":{"account_id":187964,"reputation":21,"user_id":426397,"display_name":"Dmitry Komanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663946426,"creation_date":1663946426,"answer_id":73829909,"question_id":68896878,"body_markdown":"I didn&#39;t manage to make it work with `rust_shared_library`, so as workaround I wrapped it in `cc_binary` (relevant [commit](https://github.com/dkomanov/stuff/commit/1153115dbedb66b2913c4bb831affead16764d15#diff-cba8bd345e90e68e3ffcd2f780b14ebfc10db38de7ec1210d5632303b895615aR14)).\r\n\r\nIn your example try to change `rust/BUILD.bazel`:\r\n\r\n```bazel\r\nload(&quot;@rules_rust//rust:defs.bzl&quot;, &quot;rust_shared_library&quot;)\r\nload(&quot;//cargo:crates.bzl&quot;, &quot;all_crate_deps&quot;)\r\n\r\nrust_shared_library(\r\n    name = &quot;rust_lib&quot;,\r\n    srcs = glob([&quot;src/**/*.rs&quot;]),\r\n    edition = &quot;2018&quot;,\r\n    deps = all_crate_deps(), // Import the JNI crate using Bazel\r\n)\r\n\r\ncc_binary(\r\n    name = &quot;rust_bindings&quot;,\r\n    linkshared = True,\r\n    visibility = [&quot;//visibility:public&quot;],\r\n    deps = [&quot;:rust_lib&quot;],\r\n)\r\n```","title":"How to make Rust JNI bindings with Bazel","body":"<p>I didn't manage to make it work with <code>rust_shared_library</code>, so as workaround I wrapped it in <code>cc_binary</code> (relevant <a href=\"https://github.com/dkomanov/stuff/commit/1153115dbedb66b2913c4bb831affead16764d15#diff-cba8bd345e90e68e3ffcd2f780b14ebfc10db38de7ec1210d5632303b895615aR14\" rel=\"nofollow noreferrer\">commit</a>).</p>\n<p>In your example try to change <code>rust/BUILD.bazel</code>:</p>\n<pre><code>load(&quot;@rules_rust//rust:defs.bzl&quot;, &quot;rust_shared_library&quot;)\nload(&quot;//cargo:crates.bzl&quot;, &quot;all_crate_deps&quot;)\n\nrust_shared_library(\n    name = &quot;rust_lib&quot;,\n    srcs = glob([&quot;src/**/*.rs&quot;]),\n    edition = &quot;2018&quot;,\n    deps = all_crate_deps(), // Import the JNI crate using Bazel\n)\n\ncc_binary(\n    name = &quot;rust_bindings&quot;,\n    linkshared = True,\n    visibility = [&quot;//visibility:public&quot;],\n    deps = [&quot;:rust_lib&quot;],\n)\n</code></pre>\n"}],"owner":{"account_id":3331314,"reputation":165,"user_id":2800211,"display_name":"Billbucket"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1663946426,"creation_date":1629740542,"question_id":68896878,"body_markdown":"# Introduction\r\n\r\nI have a Rust library that I want to be able to call from Java through JNI. Using Maven, I can use it, but I&#39;m stuck when I try to move to Bazel.\r\n\r\nI run `bazel run //my_lib/java:java_binary` and I get the following\r\n```\r\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no rust_bindings in java.library.path: [/private/var/tmp/_bazel_XXXXXXXXX/XXXXXXXXXXXXX/execroot/__main__/bazel-out/darwin-fastbuild/bin/my_lib/java/java_binary.runfiles/__main__/my_lib/rust]\r\n\tat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2680)\r\n\tat java.base/java.lang.Runtime.loadLibrary0(Runtime.java:807)\r\n\tat java.base/java.lang.System.loadLibrary(System.java:1907)\r\n\tat Main.&lt;clinit&gt;(Main.java:8)\r\n```\r\n\r\nwhich means the Rust shared library library isn&#39;t available. Indeed when I `tree /private/var/tmp/_bazel_XXXXXXXXX/XXXXXXXXXXXXX/execroot/__main__/bazel-out/darwin-fastbuild/bin/my_lib/java/java_binary.runfiles/__main__/my_lib`, I get \r\n```\r\n└── java\r\n    ├── java_binary -&gt; /private/var/tmp/_bazel_XXXXXXXXX/XXXXXXXXXXXXX/execroot/__main__/bazel-out/darwin-fastbuild/bin/stackoverflow/java/java_binary\r\n    └── java_binary.jar -&gt; /private/var/tmp/_bazel_XXXXXXXXX/XXXXXXXXXXXXX/execroot/__main__/bazel-out/darwin-fastbuild/bin/stackoverflow/java/java_binary.jar\r\n```\r\n\r\nHow come bazel doesn&#39;t build the Rust shared library despite the fact it&#39;s a dependancy of the Java binary?\r\n\r\n# The code\r\n\r\n```bash\r\n$ tree .\r\n├── java\r\n│&#160;&#160; ├── BUILD.bazel\r\n│&#160;&#160; ├── Main.class\r\n│&#160;&#160; └── Main.java\r\n└── rust\r\n    ├── BUILD.bazel\r\n    ├── CARGO\r\n    │&#160;&#160; └── BUILD.bazel\r\n    ├── Cargo.toml\r\n    └── src\r\n        └── lib.rs\r\n```\r\n\r\n\r\n`java/Main.java`\r\n\r\n```java\r\npublic class Main {\r\n\r\n    static native void rust();\r\n\r\n    static {\r\n        System.loadLibrary(&quot;rust_bindings&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Hello from Java&quot;);\r\n        rust();\r\n    }\r\n}\r\n```\r\n\r\n`java/BUILD.bazel`\r\n\r\n```bazel\r\npackage(default_visibility = [&quot;//visibility:public&quot;])\r\n\r\nload(&quot;@rules_java//java:defs.bzl&quot;, &quot;java_binary&quot;)\r\n\r\njava_binary(\r\n    name = &quot;java_binary&quot;,\r\n    srcs = glob([&quot;*.java&quot;]),\r\n    main_class = &quot;Main&quot;,\r\n    deps = [\r\n        &quot;//my_lib/rust:rust_bindings&quot;\r\n    ],\r\n)\r\n\r\n```\r\n\r\n\r\n`rust/Cargo.toml`\r\n\r\n```toml\r\n[package]\r\nname = &quot;rust_bindings&quot;\r\nversion = &quot;0.1.0&quot;\r\nedition = &quot;2018&quot;\r\n\r\n[lib]\r\nname=&quot;rust_bindings&quot;\r\ncrate-type = [&quot;cdylib&quot;]\r\n\r\n[dependencies]\r\njni = &quot;0.19.0&quot;\r\n```\r\n\r\n`rust/src/lib.rs`\r\n\r\n```rust\r\nuse jni::JNIEnv;\r\nuse jni::objects::{JClass, JString};\r\n\r\n#[no_mangle]\r\npub extern &quot;system&quot; fn Java_Main_rust(env: JNIEnv,class: JClass)\r\n{\r\n    println!(&quot;Hello from Rust&quot;);\r\n}\r\n```\r\n\r\n`rust/BUILD.bazel`\r\n\r\n```bazel\r\npackage(default_visibility = [&quot;//visibility:public&quot;])\r\n\r\nload(&quot;@rules_rust//rust:defs.bzl&quot;, &quot;rust_shared_library&quot;)\r\nload(&quot;//cargo:crates.bzl&quot;, &quot;all_crate_deps&quot;)\r\n\r\nrust_shared_library(\r\n    name = &quot;rust_bindings&quot;,\r\n    srcs = glob([&quot;src/**/*.rs&quot;]),\r\n    edition = &quot;2018&quot;,\r\n    deps = all_crate_deps(), // Import the JNI crate using Bazel\r\n)\r\n```\r\n\r\n---\r\nEdit: simplified the code ","title":"How to make Rust JNI bindings with Bazel","body":"<h1>Introduction</h1>\n<p>I have a Rust library that I want to be able to call from Java through JNI. Using Maven, I can use it, but I'm stuck when I try to move to Bazel.</p>\n<p>I run <code>bazel run //my_lib/java:java_binary</code> and I get the following</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no rust_bindings in java.library.path: [/private/var/tmp/_bazel_XXXXXXXXX/XXXXXXXXXXXXX/execroot/__main__/bazel-out/darwin-fastbuild/bin/my_lib/java/java_binary.runfiles/__main__/my_lib/rust]\n    at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2680)\n    at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:807)\n    at java.base/java.lang.System.loadLibrary(System.java:1907)\n    at Main.&lt;clinit&gt;(Main.java:8)\n</code></pre>\n<p>which means the Rust shared library library isn't available. Indeed when I <code>tree /private/var/tmp/_bazel_XXXXXXXXX/XXXXXXXXXXXXX/execroot/__main__/bazel-out/darwin-fastbuild/bin/my_lib/java/java_binary.runfiles/__main__/my_lib</code>, I get</p>\n<pre><code>└── java\n    ├── java_binary -&gt; /private/var/tmp/_bazel_XXXXXXXXX/XXXXXXXXXXXXX/execroot/__main__/bazel-out/darwin-fastbuild/bin/stackoverflow/java/java_binary\n    └── java_binary.jar -&gt; /private/var/tmp/_bazel_XXXXXXXXX/XXXXXXXXXXXXX/execroot/__main__/bazel-out/darwin-fastbuild/bin/stackoverflow/java/java_binary.jar\n</code></pre>\n<p>How come bazel doesn't build the Rust shared library despite the fact it's a dependancy of the Java binary?</p>\n<h1>The code</h1>\n<pre class=\"lang-sh prettyprint-override\"><code>$ tree .\n├── java\n│   ├── BUILD.bazel\n│   ├── Main.class\n│   └── Main.java\n└── rust\n    ├── BUILD.bazel\n    ├── CARGO\n    │   └── BUILD.bazel\n    ├── Cargo.toml\n    └── src\n        └── lib.rs\n</code></pre>\n<p><code>java/Main.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n\n    static native void rust();\n\n    static {\n        System.loadLibrary(&quot;rust_bindings&quot;);\n    }\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello from Java&quot;);\n        rust();\n    }\n}\n</code></pre>\n<p><code>java/BUILD.bazel</code></p>\n<pre><code>package(default_visibility = [&quot;//visibility:public&quot;])\n\nload(&quot;@rules_java//java:defs.bzl&quot;, &quot;java_binary&quot;)\n\njava_binary(\n    name = &quot;java_binary&quot;,\n    srcs = glob([&quot;*.java&quot;]),\n    main_class = &quot;Main&quot;,\n    deps = [\n        &quot;//my_lib/rust:rust_bindings&quot;\n    ],\n)\n\n</code></pre>\n<p><code>rust/Cargo.toml</code></p>\n<pre><code>[package]\nname = &quot;rust_bindings&quot;\nversion = &quot;0.1.0&quot;\nedition = &quot;2018&quot;\n\n[lib]\nname=&quot;rust_bindings&quot;\ncrate-type = [&quot;cdylib&quot;]\n\n[dependencies]\njni = &quot;0.19.0&quot;\n</code></pre>\n<p><code>rust/src/lib.rs</code></p>\n<pre class=\"lang-rust prettyprint-override\"><code>use jni::JNIEnv;\nuse jni::objects::{JClass, JString};\n\n#[no_mangle]\npub extern &quot;system&quot; fn Java_Main_rust(env: JNIEnv,class: JClass)\n{\n    println!(&quot;Hello from Rust&quot;);\n}\n</code></pre>\n<p><code>rust/BUILD.bazel</code></p>\n<pre><code>package(default_visibility = [&quot;//visibility:public&quot;])\n\nload(&quot;@rules_rust//rust:defs.bzl&quot;, &quot;rust_shared_library&quot;)\nload(&quot;//cargo:crates.bzl&quot;, &quot;all_crate_deps&quot;)\n\nrust_shared_library(\n    name = &quot;rust_bindings&quot;,\n    srcs = glob([&quot;src/**/*.rs&quot;]),\n    edition = &quot;2018&quot;,\n    deps = all_crate_deps(), // Import the JNI crate using Bazel\n)\n</code></pre>\n<hr />\n<p>Edit: simplified the code</p>\n"},{"tags":["java","exception","try-catch"],"comments":[{"owner":{"account_id":1101381,"reputation":2436,"user_id":1093710,"accept_rate":95,"display_name":"Sridhar"},"score":4,"creation_date":1340787742,"post_id":11211286,"comment_id":14739113,"body_markdown":"Have a look at http://docs.oracle.com/javase/7/docs/technotes/guides/language/enhancements.html#javase7 for more Java 7 enhancements. I&#39;m a little surprised this question and it&#39;s answers received so many up votes.","body":"Have a look at <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/language/enhancements.html#javase7\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/technotes/guides/language/&hellip;</a> for more Java 7 enhancements. I&#39;m a little surprised this question and it&#39;s answers received so many up votes."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":234,"is_accepted":true,"score":234,"last_activity_date":1663946389,"creation_date":1340726325,"answer_id":11211334,"question_id":11211286,"body_markdown":"Java 7 and later\r\n----------------\r\n\r\n[Multiple-exception catches][1] are supported, starting in Java 7.\r\n\r\nThe syntax is:\r\n\r\n    try {\r\n         // stuff\r\n    } catch (Exception1 | Exception2 ex) {\r\n         // Handle both exceptions\r\n    }\r\n\r\nThe static type of `ex` is the most specialized common supertype of the exceptions listed.  There is a nice feature where if you rethrow `ex` in the catch, the compiler knows that only one of the *listed* exceptions can be thrown.\r\n\r\n---------------\r\n\r\nJava 6 and earlier\r\n------------------\r\n\r\nPrior to Java 7, there are ways to handle this problem, but they tend to be inelegant, and to have limitations.\r\n\r\nApproach #1\r\n-----------\r\n\r\n    try {\r\n         // stuff\r\n    } catch (Exception1 ex) {\r\n         handleException(ex);\r\n    } catch (Exception2 ex) {\r\n         handleException(ex);\r\n    }\r\n    \r\n    public void handleException(SuperException ex) {\r\n         // handle exception here\r\n    }\r\n\r\nThis gets messy if the exception handler needs to access local variables declared before the `try`.  And if the handler method needs to rethrow the exception (and it is checked) then you run into serious problems with the signature.  Specifically, `handleException` has to be declared as throwing `SuperException` ... which potentially means you have to change the signature of the enclosing method, and so on.\r\n\r\nApproach #2\r\n-----------\r\n\r\n    try {\r\n         // stuff\r\n    } catch (SuperException ex) {\r\n         if (ex instanceof Exception1 || ex instanceof Exception2) {\r\n             // handle exception\r\n         } else {\r\n             throw ex;\r\n         }\r\n    }\r\n\r\nOnce again, we have a potential problem with signatures.  \r\n\r\nApproach #3\r\n-----------\r\n\r\n    try {\r\n         // stuff\r\n    } catch (SuperException ex) {\r\n         if (ex instanceof Exception1 || ex instanceof Exception2) {\r\n             // handle exception\r\n         }\r\n    }\r\n\r\nIf you leave out the `else` part (e.g. because there are no other subtypes of `SuperException` at the moment) the code becomes more fragile.  If the exception hierarchy is reorganized, this handler without an `else` may end up silently eating exceptions!\r\n\r\n  [1]: http://www.oracle.com/technetwork/articles/java/java7exceptions-486908.html","title":"Is it possible in Java to catch two exceptions in the same catch block?","body":"<h2>Java 7 and later</h2>\n<p><a href=\"http://www.oracle.com/technetwork/articles/java/java7exceptions-486908.html\" rel=\"noreferrer\">Multiple-exception catches</a> are supported, starting in Java 7.</p>\n<p>The syntax is:</p>\n<pre><code>try {\n     // stuff\n} catch (Exception1 | Exception2 ex) {\n     // Handle both exceptions\n}\n</code></pre>\n<p>The static type of <code>ex</code> is the most specialized common supertype of the exceptions listed.  There is a nice feature where if you rethrow <code>ex</code> in the catch, the compiler knows that only one of the <em>listed</em> exceptions can be thrown.</p>\n<hr />\n<h2>Java 6 and earlier</h2>\n<p>Prior to Java 7, there are ways to handle this problem, but they tend to be inelegant, and to have limitations.</p>\n<h2>Approach #1</h2>\n<pre><code>try {\n     // stuff\n} catch (Exception1 ex) {\n     handleException(ex);\n} catch (Exception2 ex) {\n     handleException(ex);\n}\n\npublic void handleException(SuperException ex) {\n     // handle exception here\n}\n</code></pre>\n<p>This gets messy if the exception handler needs to access local variables declared before the <code>try</code>.  And if the handler method needs to rethrow the exception (and it is checked) then you run into serious problems with the signature.  Specifically, <code>handleException</code> has to be declared as throwing <code>SuperException</code> ... which potentially means you have to change the signature of the enclosing method, and so on.</p>\n<h2>Approach #2</h2>\n<pre><code>try {\n     // stuff\n} catch (SuperException ex) {\n     if (ex instanceof Exception1 || ex instanceof Exception2) {\n         // handle exception\n     } else {\n         throw ex;\n     }\n}\n</code></pre>\n<p>Once again, we have a potential problem with signatures.</p>\n<h2>Approach #3</h2>\n<pre><code>try {\n     // stuff\n} catch (SuperException ex) {\n     if (ex instanceof Exception1 || ex instanceof Exception2) {\n         // handle exception\n     }\n}\n</code></pre>\n<p>If you leave out the <code>else</code> part (e.g. because there are no other subtypes of <code>SuperException</code> at the moment) the code becomes more fragile.  If the exception hierarchy is reorganized, this handler without an <code>else</code> may end up silently eating exceptions!</p>\n"},{"tags":[],"owner":{"account_id":944235,"reputation":4325,"user_id":971808,"accept_rate":100,"display_name":"jeff"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1340726694,"creation_date":1340726694,"answer_id":11211439,"question_id":11211286,"body_markdown":"If you aren&#39;t on java 7, you can extract your exception handling to a method - that way you can at least minimize duplication\r\n\r\n    try {\r\n       // try something\r\n    }\r\n    catch(ExtendsRuntimeException e) { handleError(e); }\r\n    catch(Exception e) { handleError(e); }","title":"Is it possible in Java to catch two exceptions in the same catch block?","body":"<p>If you aren't on java 7, you can extract your exception handling to a method - that way you can at least minimize duplication</p>\n\n<pre><code>try {\n   // try something\n}\ncatch(ExtendsRuntimeException e) { handleError(e); }\ncatch(Exception e) { handleError(e); }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":981398,"reputation":23613,"user_id":1001027,"accept_rate":72,"display_name":"Francisco Spaeth"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1343082616,"creation_date":1340726945,"answer_id":11211495,"question_id":11211286,"body_markdown":"**Java &lt;= 6.x just allows you to catch one exception for each catch block:**\r\n\r\n    try {\r\n    \r\n    } catch (ExceptionType name) {\r\n    \r\n    } catch (ExceptionType name) {\r\n    \r\n    }\r\n\r\n*Documentation:*\r\n&gt; Each catch block is an exception handler and handles the type of\r\n&gt; exception indicated by its argument. The argument type, ExceptionType,\r\n&gt; declares the type of exception that the handler can handle and must be\r\n&gt; the name of a class that inherits from the Throwable class.\r\n\r\n**For Java 7 you can have multiple Exception caught on one catch block:**\r\n\r\n    catch (IOException|SQLException ex) {\r\n        logger.log(ex);\r\n        throw ex;\r\n    }\r\n\r\n*Documentation:*\r\n&gt; In Java SE 7 and later, a single catch block can handle more than one\r\n&gt; type of exception. This feature can reduce code duplication and lessen\r\n&gt; the temptation to catch an overly broad exception.\r\n\r\n***Reference:***\r\nhttp://docs.oracle.com/javase/tutorial/essential/exceptions/catch.html","title":"Is it possible in Java to catch two exceptions in the same catch block?","body":"<p><strong>Java &lt;= 6.x just allows you to catch one exception for each catch block:</strong></p>\n\n<pre><code>try {\n\n} catch (ExceptionType name) {\n\n} catch (ExceptionType name) {\n\n}\n</code></pre>\n\n<p><em>Documentation:</em></p>\n\n<blockquote>\n  <p>Each catch block is an exception handler and handles the type of\n  exception indicated by its argument. The argument type, ExceptionType,\n  declares the type of exception that the handler can handle and must be\n  the name of a class that inherits from the Throwable class.</p>\n</blockquote>\n\n<p><strong>For Java 7 you can have multiple Exception caught on one catch block:</strong></p>\n\n<pre><code>catch (IOException|SQLException ex) {\n    logger.log(ex);\n    throw ex;\n}\n</code></pre>\n\n<p><em>Documentation:</em></p>\n\n<blockquote>\n  <p>In Java SE 7 and later, a single catch block can handle more than one\n  type of exception. This feature can reduce code duplication and lessen\n  the temptation to catch an overly broad exception.</p>\n</blockquote>\n\n<p><em><strong>Reference:</em></strong>\n<a href=\"http://docs.oracle.com/javase/tutorial/essential/exceptions/catch.html\">http://docs.oracle.com/javase/tutorial/essential/exceptions/catch.html</a></p>\n"},{"tags":[],"owner":{"account_id":16279,"reputation":12487,"user_id":35264,"accept_rate":74,"display_name":"Sarel Botha"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1340821340,"creation_date":1340734459,"answer_id":11213494,"question_id":11211286,"body_markdown":"For Java &lt; 7 you can use if-else along with Exception:\r\n\r\n    try {\r\n        // common logic to handle both exceptions\r\n    } catch (Exception ex) {\r\n        if (ex instanceof Exception1 || ex instanceof Exception2) {\r\n \r\n        }\r\n        else {\r\n            throw ex;\r\n            // or if you don&#39;t want to have to declare Exception use\r\n            // throw new RuntimeException(ex);\r\n        }\r\n    }\r\n\r\nEdited and replaced Throwable with Exception.","title":"Is it possible in Java to catch two exceptions in the same catch block?","body":"<p>For Java &lt; 7 you can use if-else along with Exception:</p>\n\n<pre><code>try {\n    // common logic to handle both exceptions\n} catch (Exception ex) {\n    if (ex instanceof Exception1 || ex instanceof Exception2) {\n\n    }\n    else {\n        throw ex;\n        // or if you don't want to have to declare Exception use\n        // throw new RuntimeException(ex);\n    }\n}\n</code></pre>\n\n<p>Edited and replaced Throwable with Exception.</p>\n"},{"tags":[],"owner":{"account_id":2341440,"reputation":39,"user_id":2052634,"display_name":"Eli"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1360347352,"creation_date":1360347352,"answer_id":14778822,"question_id":11211286,"body_markdown":"http://docs.oracle.com/javase/tutorial/essential/exceptions/catch.html covers catching multiple exceptions in the same block.\r\n\r\n   \r\n\r\n     try {\r\n         // your code\r\n    } catch (Exception1 | Exception2 ex) {\r\n         // Handle 2 exceptions in Java 7\r\n    }\r\n\r\nI&#39;m making study cards, and this thread was helpful, just wanted to put in my two cents.","title":"Is it possible in Java to catch two exceptions in the same catch block?","body":"<p><a href=\"http://docs.oracle.com/javase/tutorial/essential/exceptions/catch.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/essential/exceptions/catch.html</a> covers catching multiple exceptions in the same block.</p>\n\n<pre><code> try {\n     // your code\n} catch (Exception1 | Exception2 ex) {\n     // Handle 2 exceptions in Java 7\n}\n</code></pre>\n\n<p>I'm making study cards, and this thread was helpful, just wanted to put in my two cents.</p>\n"},{"tags":[],"owner":{"account_id":3780651,"reputation":1064,"user_id":3140230,"accept_rate":42,"display_name":"Saurab Parakh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1391198181,"creation_date":1391198181,"answer_id":21488911,"question_id":11211286,"body_markdown":"Before the launch of Java SE 7 we were habitual of writing code with multiple catch statements associated with a try block.\r\nA very basic Example:\r\n\r\n     try {\r\n      // some instructions\r\n    } catch(ATypeException e) {\r\n    } catch(BTypeException e) {\r\n    } catch(CTypeException e) {\r\n    }\r\n\r\nBut now with the latest update on Java, instead of writing multiple catch statements we can handle multiple exceptions within a single catch clause. Here is an example showing how this feature can be achieved.\r\n\r\n    try {\r\n    // some instructions\r\n    } catch(ATypeException|BTypeException|CTypeException ex) {\r\n       throw e;\r\n    }\r\n\r\nSo multiple Exceptions in a single catch clause not only simplifies the code but also reduce the redundancy of code. \r\nI found this article which explains this feature very well along with its implementation.\r\n[Improved and Better Exception Handling from Java 7][1]\r\nThis may help you too.\r\n\r\n\r\n  [1]: http://www.coolcoder.in/2011/08/improved-and-better-exception-handling.html","title":"Is it possible in Java to catch two exceptions in the same catch block?","body":"<p>Before the launch of Java SE 7 we were habitual of writing code with multiple catch statements associated with a try block.\nA very basic Example:</p>\n\n<pre><code> try {\n  // some instructions\n} catch(ATypeException e) {\n} catch(BTypeException e) {\n} catch(CTypeException e) {\n}\n</code></pre>\n\n<p>But now with the latest update on Java, instead of writing multiple catch statements we can handle multiple exceptions within a single catch clause. Here is an example showing how this feature can be achieved.</p>\n\n<pre><code>try {\n// some instructions\n} catch(ATypeException|BTypeException|CTypeException ex) {\n   throw e;\n}\n</code></pre>\n\n<p>So multiple Exceptions in a single catch clause not only simplifies the code but also reduce the redundancy of code. \nI found this article which explains this feature very well along with its implementation.\n<a href=\"http://www.coolcoder.in/2011/08/improved-and-better-exception-handling.html\" rel=\"nofollow\">Improved and Better Exception Handling from Java 7</a>\nThis may help you too.</p>\n"}],"owner":{"account_id":365724,"reputation":23428,"user_id":710818,"accept_rate":82,"display_name":"user710818"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178957,"favorite_count":0,"down_vote_count":2,"up_vote_count":125,"closed_date":1412941718,"accepted_answer_id":11211334,"answer_count":6,"score":123,"last_activity_date":1663946389,"creation_date":1340726210,"question_id":11211286,"body_markdown":"I need to catch two exceptions because they require the same handling logic. I would like to do something like:\r\n\r\n    catch (Exception e, ExtendsRuntimeException re) {\r\n        // common logic to handle both exceptions\r\n    }\r\n\r\nIs it possible to avoid duplicating the handler code in each catch block?","title":"Is it possible in Java to catch two exceptions in the same catch block?","body":"<p>I need to catch two exceptions because they require the same handling logic. I would like to do something like:</p>\n\n<pre><code>catch (Exception e, ExtendsRuntimeException re) {\n    // common logic to handle both exceptions\n}\n</code></pre>\n\n<p>Is it possible to avoid duplicating the handler code in each catch block?</p>\n"},{"tags":["java","spring","spring-data-jpa","orm"],"answers":[{"tags":[],"owner":{"account_id":24881693,"reputation":155,"user_id":18754816,"display_name":"Игорь Ходыко"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663946005,"creation_date":1663946005,"answer_id":73829824,"question_id":73829041,"body_markdown":"1) It&#39;s issue that you want to add primary key of entity without real primary key, hibernate can&#39;t identify itemEntity. (Do you have item_id field?)\r\n2) About @IdClass - Hibernate can&#39;t identify class as field and think that you can use inner fields as primary key.\r\n ","title":"Composite key on table where primary key is also foreign key?","body":"<ol>\n<li>It's issue that you want to add primary key of entity without real primary key, hibernate can't identify itemEntity. (Do you have item_id field?)</li>\n<li>About @IdClass - Hibernate can't identify class as field and think that you can use inner fields as primary key.</li>\n</ol>\n"}],"owner":{"account_id":7527198,"reputation":1099,"user_id":5716914,"accept_rate":11,"display_name":"Johnyb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1663946005,"creation_date":1663942210,"question_id":73829041,"body_markdown":"I have table item_image:\r\n\r\n    create table item_image\r\n    (\r\n        item_id bigint        not null\r\n            constraint item_image_pk\r\n                primary key\r\n            constraint item_image_item_fk\r\n                references item,\r\n        location  varchar(1000) not null,\r\n        path      varchar(1000) not null,\r\n        file_name varchar(200)  not null\r\n    );\r\n\r\nAnd mapped it to entity:\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;item_image&quot;, schema = &quot;public&quot;)\r\n    public class ItemImageEntity implements Serializable {\r\n    \r\n        @Id\r\n        @OneToOne\r\n        @JoinColumn(name = &quot;item_id&quot;)\r\n        private ItemEntity item;\r\n    \r\n        private String location;\r\n        private String path;\r\n        private String fileName;\r\n        \r\n        // getters and setters\r\n    }\r\n\r\nMy item entity has:\r\n\r\n    @OneToOne(mappedBy = &quot;item&quot;)\r\n    private ItemImageEntity profileImage;\r\n\r\nin it, the postgress table does not contain refference to this item_image, only vice versa.\r\n\r\nWhen i try to run the app i get:\r\n\r\n    \r\n\r\n&gt; @EnableJpaRepositories declared on\r\n&gt; JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration:\r\n&gt; Invocation of init method failed; nested exception is\r\n&gt; java.lang.IllegalArgumentException: This class [ItemImageEntity] does\r\n&gt; not define an IdClass\r\n\r\n\r\nWhy do i need to define IdClass and How? Since i have only 1 primary key.\r\n\r\nThanks for help!\r\n","title":"Composite key on table where primary key is also foreign key?","body":"<p>I have table item_image:</p>\n<pre><code>create table item_image\n(\n    item_id bigint        not null\n        constraint item_image_pk\n            primary key\n        constraint item_image_item_fk\n            references item,\n    location  varchar(1000) not null,\n    path      varchar(1000) not null,\n    file_name varchar(200)  not null\n);\n</code></pre>\n<p>And mapped it to entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;item_image&quot;, schema = &quot;public&quot;)\npublic class ItemImageEntity implements Serializable {\n\n    @Id\n    @OneToOne\n    @JoinColumn(name = &quot;item_id&quot;)\n    private ItemEntity item;\n\n    private String location;\n    private String path;\n    private String fileName;\n    \n    // getters and setters\n}\n</code></pre>\n<p>My item entity has:</p>\n<pre><code>@OneToOne(mappedBy = &quot;item&quot;)\nprivate ItemImageEntity profileImage;\n</code></pre>\n<p>in it, the postgress table does not contain refference to this item_image, only vice versa.</p>\n<p>When i try to run the app i get:</p>\n<blockquote>\n<p>@EnableJpaRepositories declared on\nJpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration:\nInvocation of init method failed; nested exception is\njava.lang.IllegalArgumentException: This class [ItemImageEntity] does\nnot define an IdClass</p>\n</blockquote>\n<p>Why do i need to define IdClass and How? Since i have only 1 primary key.</p>\n<p>Thanks for help!</p>\n"},{"tags":["javascript","java","json","serialization"],"comments":[{"owner":{"account_id":255434,"reputation":21288,"user_id":535480,"display_name":"James"},"score":1,"creation_date":1663946717,"post_id":73829778,"comment_id":130366628,"body_markdown":"Does Java recognize Javascript functions as functions?  Or are they strings in Java?","body":"Does Java recognize Javascript functions as functions?  Or are they strings in Java?"},{"owner":{"account_id":323,"reputation":25104,"user_id":404,"accept_rate":73,"display_name":"Chris Farmer"},"score":0,"creation_date":1663946847,"post_id":73829778,"comment_id":130366676,"body_markdown":"I imagined I&#39;d have to create some simple custom java class to correctly serialize it, but JSONObject doesn&#39;t seem too friendly in allowing types to expose their own serializers.  All my functions happen to be really short text, but it just seems goofy to have to re-configure it all on the client like I&#39;m doing.  Anyway, my internal representation for these in java right now is just simple constant strings.","body":"I imagined I&#39;d have to create some simple custom java class to correctly serialize it, but JSONObject doesn&#39;t seem too friendly in allowing types to expose their own serializers.  All my functions happen to be really short text, but it just seems goofy to have to re-configure it all on the client like I&#39;m doing.  Anyway, my internal representation for these in java right now is just simple constant strings."},{"owner":{"account_id":255434,"reputation":21288,"user_id":535480,"display_name":"James"},"score":0,"creation_date":1663947204,"post_id":73829778,"comment_id":130366809,"body_markdown":"It depends on how you plan to feed this data into Javascript.  If you have to send it as a response to an AJAX request, it&#39;s not going to be as easy.  If you&#39;re writing it to a JSP (or similar server script) page, you can just output the object string with functions and it will be parsed as javascript by the browser.","body":"It depends on how you plan to feed this data into Javascript.  If you have to send it as a response to an AJAX request, it&#39;s not going to be as easy.  If you&#39;re writing it to a JSP (or similar server script) page, you can just output the object string with functions and it will be parsed as javascript by the browser."},{"owner":{"account_id":323,"reputation":25104,"user_id":404,"accept_rate":73,"display_name":"Chris Farmer"},"score":0,"creation_date":1663947644,"post_id":73829778,"comment_id":130367003,"body_markdown":"I&#39;m basically just writing a js file to be loaded directly by the browser via a `&lt;script&gt;` tag, and this object is one part of that file.","body":"I&#39;m basically just writing a js file to be loaded directly by the browser via a <code>&lt;script&gt;</code> tag, and this object is one part of that file."},{"owner":{"account_id":255434,"reputation":21288,"user_id":535480,"display_name":"James"},"score":0,"creation_date":1663948397,"post_id":73829778,"comment_id":130367286,"body_markdown":"I can&#39;t think of an easy way to get JSONObject to produce exactly the right JS with methods.  Something hacky like assign a special ID instead of the method, let JSONObject produce a JSON string, and then a search and replace (for the ID, replacing it with proper function code).","body":"I can&#39;t think of an easy way to get JSONObject to produce exactly the right JS with methods.  Something hacky like assign a special ID instead of the method, let JSONObject produce a JSON string, and then a search and replace (for the ID, replacing it with proper function code)."}],"owner":{"account_id":323,"reputation":25104,"user_id":404,"accept_rate":73,"display_name":"Chris Farmer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663945817,"creation_date":1663945817,"question_id":73829778,"body_markdown":"\r\nI have a java project where I am trying to serialize a javascript object that later needs to be viewed in a browser.  I&#39;d been using `org.json.JSONObject` to generate the javascript object, and that works great for basic json-friendly types.  Recently I have a need to add javascript functions to the serialized javascript, but this `JSONObject` doesn&#39;t seem to offer a good path to serialize javascript functions.\r\n\r\nI&#39;d really like to end up with something like this:\r\n\r\n```\r\n{\r\n  &quot;foo&quot;: &quot;bar&quot;,\r\n  &quot;baz&quot;: function (x, y) {\r\n    return x+y;\r\n  }\r\n}\r\n```\r\n\r\nI&#39;m happy to define some custom serializer in java for the function, but I&#39;ve had trouble seeing how I could extend `JSONObject` to accomplish that.  I have shamefully used this workaround for now, where I create a json structure of known shape...\r\n\r\n```\r\n{\r\n  &quot;foo&quot;: &quot;bar&quot;,\r\n  &quot;baz&quot;: {\r\n    &quot;function&quot;: {\r\n      &quot;args&quot;: [&quot;x&quot;, &quot;y&quot;],\r\n      &quot;body&quot;: &quot;return x+y;&quot;\r\n    }\r\n  }\r\n}\r\n```\r\n...and then converting it to a real function on the browser client side.  This seems to work, but I&#39;d really prefer just more cleanly serializing the function in the first place.\r\n\r\nFrom java, how can I serialize a javascript object that contains javascript functions?\r\n\r\n","title":"Serializing a non-JSON javascript object in java","body":"<p>I have a java project where I am trying to serialize a javascript object that later needs to be viewed in a browser.  I'd been using <code>org.json.JSONObject</code> to generate the javascript object, and that works great for basic json-friendly types.  Recently I have a need to add javascript functions to the serialized javascript, but this <code>JSONObject</code> doesn't seem to offer a good path to serialize javascript functions.</p>\n<p>I'd really like to end up with something like this:</p>\n<pre><code>{\n  &quot;foo&quot;: &quot;bar&quot;,\n  &quot;baz&quot;: function (x, y) {\n    return x+y;\n  }\n}\n</code></pre>\n<p>I'm happy to define some custom serializer in java for the function, but I've had trouble seeing how I could extend <code>JSONObject</code> to accomplish that.  I have shamefully used this workaround for now, where I create a json structure of known shape...</p>\n<pre><code>{\n  &quot;foo&quot;: &quot;bar&quot;,\n  &quot;baz&quot;: {\n    &quot;function&quot;: {\n      &quot;args&quot;: [&quot;x&quot;, &quot;y&quot;],\n      &quot;body&quot;: &quot;return x+y;&quot;\n    }\n  }\n}\n</code></pre>\n<p>...and then converting it to a real function on the browser client side.  This seems to work, but I'd really prefer just more cleanly serializing the function in the first place.</p>\n<p>From java, how can I serialize a javascript object that contains javascript functions?</p>\n"},{"tags":["java","pytorch"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1663775586,"post_id":73803672,"comment_id":130320208,"body_markdown":"AFAIK, pyTorch saves model files in [pickle](https://docs.python.org/3/library/pickle.html) format.  This might be a good option to read pickle files: https://formats.kaitai.io/python_pickle/java.html","body":"AFAIK, pyTorch saves model files in <a href=\"https://docs.python.org/3/library/pickle.html\" rel=\"nofollow noreferrer\">pickle</a> format.  This might be a good option to read pickle files: <a href=\"https://formats.kaitai.io/python_pickle/java.html\" rel=\"nofollow noreferrer\">formats.kaitai.io/python_pickle/java.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663877575,"creation_date":1663803282,"answer_id":73807904,"question_id":73803672,"body_markdown":"Q: What is the proper way to map from a pyTorch model file to Java objects?\r\n\r\nA: I believe a pyTorch model file is just a [pickle](https://docs.python.org/3/library/pickle.html) serialization of Python objects.  One alternative might be [PythonPickle](https://formats.kaitai.io/python_pickle/java.html).\r\n\r\n----------\r\n\r\nYour challenge is to read a PyTorch (.pt?) model file in Java.  \r\n\r\n* One alternative is to &quot;reverse engineer&quot; those parts of the format you&#39;re interested in, and write your own &quot;.pt decoder&quot;.  \r\n\r\n  It sounds like you&#39;ve already started down this path, and had some success.  If this works for you - great!\r\n\r\n* Since a &quot;.pt&quot; file is just  &quot;pickled Python&quot;, I suggested trying PythonPickle.  It&#39;s very &quot;lightweight&quot;, and it looked like it might do everything you&#39;re looking for - and more.\r\n\r\n* Yet another alternative might be [DeepJavaLibrary](https://github.com/deepjavalibrary), a set of Java-language bindings for pyTorch.\r\n\r\n* Who knows - you might even want to write a little Python script to a) read a .pt file, b) write it to JSON.\r\n\r\nAnyway - please let us know what you decide.\r\n\r\n","title":"What java API can I use to extract the names from a PyTorch model file?","body":"<p>Q: What is the proper way to map from a pyTorch model file to Java objects?</p>\n<p>A: I believe a pyTorch model file is just a <a href=\"https://docs.python.org/3/library/pickle.html\" rel=\"nofollow noreferrer\">pickle</a> serialization of Python objects.  One alternative might be <a href=\"https://formats.kaitai.io/python_pickle/java.html\" rel=\"nofollow noreferrer\">PythonPickle</a>.</p>\n<hr />\n<p>Your challenge is to read a PyTorch (.pt?) model file in Java.</p>\n<ul>\n<li><p>One alternative is to &quot;reverse engineer&quot; those parts of the format you're interested in, and write your own &quot;.pt decoder&quot;.</p>\n<p>It sounds like you've already started down this path, and had some success.  If this works for you - great!</p>\n</li>\n<li><p>Since a &quot;.pt&quot; file is just  &quot;pickled Python&quot;, I suggested trying PythonPickle.  It's very &quot;lightweight&quot;, and it looked like it might do everything you're looking for - and more.</p>\n</li>\n<li><p>Yet another alternative might be <a href=\"https://github.com/deepjavalibrary\" rel=\"nofollow noreferrer\">DeepJavaLibrary</a>, a set of Java-language bindings for pyTorch.</p>\n</li>\n<li><p>Who knows - you might even want to write a little Python script to a) read a .pt file, b) write it to JSON.</p>\n</li>\n</ul>\n<p>Anyway - please let us know what you decide.</p>\n"}],"owner":{"account_id":974084,"reputation":3173,"user_id":995935,"accept_rate":55,"display_name":"Mutant Bob"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663945442,"creation_date":1663775301,"question_id":73803672,"body_markdown":"I have been given a pytorch model file, and some object detection results.  The object detection results give number to identify what kind of object it detected, but I want the names from the model file.\r\n\r\nSome python code I found looks like this\r\n\r\n    model = DetectMultiBackend(weights, device=device, dnn=dnn, data=data, fp16=half)\r\n    stride, names, pt = model.stride, model.names, model.pt\r\n\r\nI am pretty sure I need to get the `names` array, but I&#39;m working in java, not python.  I looked into the `ai.djl.pytorch.engine.PtModel`, but could not spot anything that looks like a mapping from numbers to names.\r\n\r\nIt even looks like DeepJavaLibrary can&#39;t support loading a plain `.pt` file:\r\n\r\n    String fname = &quot;/tmp/yolov5s.pt&quot;; \r\n    {\r\n        PtEngine engine = (PtEngine) Engine.getEngine(&quot;PyTorch&quot;);\r\n        Model model = engine.newModel(&quot;bacon&quot;, null);\r\n        model.load(new File(fname).toPath());\r\n        Block block = model.getBlock();\r\n        System.out.println(block);\r\n    }\r\n\r\n```\r\nException in thread &quot;main&quot; ai.djl.engine.EngineException: PytorchStreamReader failed locating file constants.pkl: file not found\r\n\tat ai.djl.pytorch.jni.PyTorchLibrary.moduleLoad(Native Method)\r\n\tat ai.djl.pytorch.jni.JniUtils.loadModule(JniUtils.java:1550)\r\n\tat ai.djl.pytorch.engine.PtModel.load(PtModel.java:90)\r\n\tat ai.djl.Model.load(Model.java:110)\r\n\tat project.pictureServer.PyTorchFile.main(PyTorchFile.java:37)\r\n```\r\n\r\nWhat is the proper way to map from object/class numbers to names using Java and a PyTorch model file?\r\n","title":"What java API can I use to extract the names from a PyTorch model file?","body":"<p>I have been given a pytorch model file, and some object detection results.  The object detection results give number to identify what kind of object it detected, but I want the names from the model file.</p>\n<p>Some python code I found looks like this</p>\n<pre><code>model = DetectMultiBackend(weights, device=device, dnn=dnn, data=data, fp16=half)\nstride, names, pt = model.stride, model.names, model.pt\n</code></pre>\n<p>I am pretty sure I need to get the <code>names</code> array, but I'm working in java, not python.  I looked into the <code>ai.djl.pytorch.engine.PtModel</code>, but could not spot anything that looks like a mapping from numbers to names.</p>\n<p>It even looks like DeepJavaLibrary can't support loading a plain <code>.pt</code> file:</p>\n<pre><code>String fname = &quot;/tmp/yolov5s.pt&quot;; \n{\n    PtEngine engine = (PtEngine) Engine.getEngine(&quot;PyTorch&quot;);\n    Model model = engine.newModel(&quot;bacon&quot;, null);\n    model.load(new File(fname).toPath());\n    Block block = model.getBlock();\n    System.out.println(block);\n}\n</code></pre>\n<pre><code>Exception in thread &quot;main&quot; ai.djl.engine.EngineException: PytorchStreamReader failed locating file constants.pkl: file not found\n    at ai.djl.pytorch.jni.PyTorchLibrary.moduleLoad(Native Method)\n    at ai.djl.pytorch.jni.JniUtils.loadModule(JniUtils.java:1550)\n    at ai.djl.pytorch.engine.PtModel.load(PtModel.java:90)\n    at ai.djl.Model.load(Model.java:110)\n    at project.pictureServer.PyTorchFile.main(PyTorchFile.java:37)\n</code></pre>\n<p>What is the proper way to map from object/class numbers to names using Java and a PyTorch model file?</p>\n"},{"tags":["java","jackson","pojo"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":1,"creation_date":1663795346,"post_id":73806965,"comment_id":130326376,"body_markdown":"Pojos are great and they are the easiest to work with, but you can probably do something based on https://www.baeldung.com/jackson-custom-serialization i.e. write your own Serializer - another example https://stackoverflow.com/questions/12046786/jackson-json-custom-serialization-for-certain-fields","body":"Pojos are great and they are the easiest to work with, but you can probably do something based on <a href=\"https://www.baeldung.com/jackson-custom-serialization\" rel=\"nofollow noreferrer\">baeldung.com/jackson-custom-serialization</a> i.e. write your own Serializer - another example <a href=\"https://stackoverflow.com/questions/12046786/jackson-json-custom-serialization-for-certain-fields\" title=\"jackson json custom serialization for certain fields\">stackoverflow.com/questions/12046786/&hellip;</a>"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1663797389,"post_id":73806965,"comment_id":130326819,"body_markdown":"I would probably just represent each number as a `String`, exactly as supplied in the JSON. Does this program ever manipulate phone numbers as actual  numbers?","body":"I would probably just represent each number as a <code>String</code>, exactly as supplied in the JSON. Does this program ever manipulate phone numbers as actual  numbers?"},{"owner":{"account_id":14207111,"reputation":332,"user_id":10263321,"display_name":"Aleson"},"score":0,"creation_date":1663816629,"post_id":73806965,"comment_id":130329652,"body_markdown":"if you want list of phoneNumbers containing an object of String of phoneNumber then you need to define a POJO class for that, and also you class Person is not following the java naming conventions, please refer to this https://www.javatpoint.com/java-naming-conventions for further information.","body":"if you want list of phoneNumbers containing an object of String of phoneNumber then you need to define a POJO class for that, and also you class Person is not following the java naming conventions, please refer to this <a href=\"https://www.javatpoint.com/java-naming-conventions\" rel=\"nofollow noreferrer\">javatpoint.com/java-naming-conventions</a> for further information."}],"owner":{"account_id":10250946,"reputation":1325,"user_id":7565209,"display_name":"Chenhai-胡晨海"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663945437,"creation_date":1663794578,"question_id":73806965,"body_markdown":"What is the best way to represent below phoneNumbers. I know you can achieve this by defining a list of phoneNumber Class. \r\nBut I&#39;m not a big fan of creating POJOs, since it&#39;s only a single key-value pair. Are there any alternative ways such as Jackson annotation can do the same job? Don&#39;t worry about too much on the sample JSON below this is just an example, the phoneNumber array has to be serialized to array of objects\r\n\r\nI have below class defined:\r\n\r\n    class Person {\r\n       private String firstName;\r\n       private String lastName;\r\n       private int[] phoneNumbers; \r\n    }\r\n\r\nI expect output something like this:\r\n\r\n    {\r\n      &quot;firstName&quot;: &quot;John&quot;,\r\n      &quot;lastName&quot;: &quot;Doe&quot;,\r\n      &quot;phoneNumbers&quot;: [\r\n         { &quot;phoneNumber&quot;: &quot;123456&quot; },\r\n         { &quot;phoneNumber&quot;: &quot;321123&quot; },\r\n         { &quot;phoneNumber&quot;: &quot;123555&quot; }\r\n       ]\r\n    }","title":"Convert array of string to array of objects with jackson pojo","body":"<p>What is the best way to represent below phoneNumbers. I know you can achieve this by defining a list of phoneNumber Class.\nBut I'm not a big fan of creating POJOs, since it's only a single key-value pair. Are there any alternative ways such as Jackson annotation can do the same job? Don't worry about too much on the sample JSON below this is just an example, the phoneNumber array has to be serialized to array of objects</p>\n<p>I have below class defined:</p>\n<pre><code>class Person {\n   private String firstName;\n   private String lastName;\n   private int[] phoneNumbers; \n}\n</code></pre>\n<p>I expect output something like this:</p>\n<pre><code>{\n  &quot;firstName&quot;: &quot;John&quot;,\n  &quot;lastName&quot;: &quot;Doe&quot;,\n  &quot;phoneNumbers&quot;: [\n     { &quot;phoneNumber&quot;: &quot;123456&quot; },\n     { &quot;phoneNumber&quot;: &quot;321123&quot; },\n     { &quot;phoneNumber&quot;: &quot;123555&quot; }\n   ]\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":5,"creation_date":1663945163,"post_id":73829644,"comment_id":130366011,"body_markdown":"You just changed their name. They&#39;re still different variables, since they are in a different scope.","body":"You just changed their name. They&#39;re still different variables, since they are in a different scope."},{"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":0,"creation_date":1663945226,"post_id":73829644,"comment_id":130366028,"body_markdown":"You can name your variables whatever you like.  Did you *try* to make your changes?  Did something not work?  They aren&#39;t &quot;extra variables&quot;, changing their names doesn&#39;t remove them.","body":"You can name your variables whatever you like.  Did you <i>try</i> to make your changes?  Did something not work?  They aren&#39;t &quot;extra variables&quot;, changing their names doesn&#39;t remove them."},{"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1663945247,"post_id":73829644,"comment_id":130366033,"body_markdown":"You can use any name for them you want. The course probably used different names to make it easy and clear when referring to them in the text.","body":"You can use any name for them you want. The course probably used different names to make it easy and clear when referring to them in the text."},{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1663945275,"post_id":73829644,"comment_id":130366045,"body_markdown":"Changing variable names only changes how readable code is to a human being. It changes nothing about how the code is actually executed.","body":"Changing variable names only changes how readable code is to a human being. It changes nothing about how the code is actually executed."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1663945392,"post_id":73829644,"comment_id":130366101,"body_markdown":"&quot;the code isn&#39;t redundant, is it?&quot; &lt;- The code is neither &quot;redundant&quot; in the first nor the second version. You seem confused and probably think giving your method parameters the same name as some other variable somehow makes them related... This is not the case. Both versions you posted are absolutely identical.","body":"&quot;the code isn&#39;t redundant, is it?&quot; &lt;- The code is neither &quot;redundant&quot; in the first nor the second version. You seem confused and probably think giving your method parameters the same name as some other variable somehow makes them related... This is not the case. Both versions you posted are absolutely identical."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1663945404,"post_id":73829644,"comment_id":130366104,"body_markdown":"the parameter of a method work like a local variable of that method and is not related to the variables of any other block (simple test: do `a = 99` inside the `min()` method, the variables in `main()` will not be changed)","body":"the parameter of a method work like a local variable of that method and is not related to the variables of any other block (simple test: do <code>a = 99</code> inside the <code>min()</code> method, the variables in <code>main()</code> will not be changed)"},{"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":1,"creation_date":1663945421,"post_id":73829644,"comment_id":130366108,"body_markdown":"Regarding the update... *&quot;The result is the same&quot;* - Because no logic was changed.  All you did was re-name a couple of variables.  The code still does the same thing.  *&quot;the code isn&#39;t redundant, is it?&quot;* - Define &quot;redundant&quot; in this case.  Since your variable names are single letters with no contextual/semantic meaning then re-using the same letter **could** be considered making the code less clear.  Why not give **meaningful** names to your variables?","body":"Regarding the update... <i>&quot;The result is the same&quot;</i> - Because no logic was changed.  All you did was re-name a couple of variables.  The code still does the same thing.  <i>&quot;the code isn&#39;t redundant, is it?&quot;</i> - Define &quot;redundant&quot; in this case.  Since your variable names are single letters with no contextual/semantic meaning then re-using the same letter <b>could</b> be considered making the code less clear.  Why not give <b>meaningful</b> names to your variables?"},{"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":3,"creation_date":1663945635,"post_id":73829644,"comment_id":130366183,"body_markdown":"I think your confusion might be this: The `a` and `b` **variables** in `main` are *not* the same as your `a` and `b` **parameters** to the `min` function (originally `c` and `d`). They&#39;re completely different things that have the same names (in your version). There is nothing more complex about the original vs. your version (arguably, for a teaching example, the original is simpler for the reason I mentioned above: giving distinct things different names).","body":"I think your confusion might be this: The <code>a</code> and <code>b</code> <b>variables</b> in <code>main</code> are <i>not</i> the same as your <code>a</code> and <code>b</code> <b>parameters</b> to the <code>min</code> function (originally <code>c</code> and <code>d</code>). They&#39;re completely different things that have the same names (in your version). There is nothing more complex about the original vs. your version (arguably, for a teaching example, the original is simpler for the reason I mentioned above: giving distinct things different names)."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1663945743,"post_id":73829644,"comment_id":130366229,"body_markdown":"Does this answer your question? [Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?](https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\">Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?</a>"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1663945793,"post_id":73829644,"comment_id":130366250,"body_markdown":"also: https://stackoverflow.com/questions/38177140/what-is-scope-in-java","body":"also: <a href=\"https://stackoverflow.com/questions/38177140/what-is-scope-in-java\" title=\"what is scope in java\">stackoverflow.com/questions/38177140/what-is-scope-in-java</a>"}],"owner":{"account_id":25222919,"reputation":11,"user_id":19060590,"display_name":"noob_saibot"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663945315,"creation_date":1663945060,"question_id":73829644,"body_markdown":"I&#39;m learning Java these weeks.\r\n\r\nHere is a function code for my course:\r\n\r\n    public class MethodCall\r\n    {\r\n       public static void main(String[] args)\r\n       {\r\n          int a = 5, b = 7;\r\n          int m = min(a, b);\r\n          System.out.println(&quot;Minimum is &quot;+ m);\r\n       }\r\n    \r\n       public static int min(int c, int d)\r\n       {\r\n          int m2;\r\n          if (c &lt; d)\r\n               m2 = c;\r\n          else\r\n               m2 = d;\r\n    \r\n          return m2;\r\n       }\r\n    }\r\n\r\nWhy do I need to use extra variables: c and d?\r\n\r\nWhy not to write this code like this:\r\n\r\n    public class MethodCall\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            int a = 5, b = 7;\r\n            int m = min(a, b);\r\n            System.out.println(&quot;Minimum is &quot;+ m);\r\n        }\r\n    \r\n        public static int min(int a, int b)\r\n        {\r\n            int m2;\r\n            if (a &lt; b)\r\n                m2 = a;\r\n            \r\netc.\r\n\r\n ?\r\n\r\nThe result is the same and the code isn&#39;t redundant, is it?","title":"Why not to make this function more simple?","body":"<p>I'm learning Java these weeks.</p>\n<p>Here is a function code for my course:</p>\n<pre><code>public class MethodCall\n{\n   public static void main(String[] args)\n   {\n      int a = 5, b = 7;\n      int m = min(a, b);\n      System.out.println(&quot;Minimum is &quot;+ m);\n   }\n\n   public static int min(int c, int d)\n   {\n      int m2;\n      if (c &lt; d)\n           m2 = c;\n      else\n           m2 = d;\n\n      return m2;\n   }\n}\n</code></pre>\n<p>Why do I need to use extra variables: c and d?</p>\n<p>Why not to write this code like this:</p>\n<pre><code>public class MethodCall\n{\n    public static void main(String[] args)\n    {\n        int a = 5, b = 7;\n        int m = min(a, b);\n        System.out.println(&quot;Minimum is &quot;+ m);\n    }\n\n    public static int min(int a, int b)\n    {\n        int m2;\n        if (a &lt; b)\n            m2 = a;\n        \n</code></pre>\n<p>etc.</p>\n<p>?</p>\n<p>The result is the same and the code isn't redundant, is it?</p>\n"},{"tags":["java","spring","spring-mvc","url"],"comments":[{"owner":{"account_id":7457995,"reputation":872,"user_id":5670592,"display_name":"Andonaeus"},"score":1,"creation_date":1462478296,"post_id":37058691,"comment_id":61665438,"body_markdown":"Haven&#39;t tried it, but I think the following should work. Define a domain object that models your request objects (value in this case). Create a List of these objects as JSON, Base64 encode it, and send the GET request. On the Spring side, change the Class type of the Request Param to be a list of your domain objects.","body":"Haven&#39;t tried it, but I think the following should work. Define a domain object that models your request objects (value in this case). Create a List of these objects as JSON, Base64 encode it, and send the GET request. On the Spring side, change the Class type of the Request Param to be a list of your domain objects."},{"owner":{"account_id":1697235,"reputation":1676,"user_id":1558358,"accept_rate":80,"display_name":"DrGodCarl"},"score":2,"creation_date":1462478882,"post_id":37058691,"comment_id":61665743,"body_markdown":"@Andonaeus: That way lies madness. That said, I&#39;ve been considering it since I started this particular section of this project.","body":"@Andonaeus: That way lies madness. That said, I&#39;ve been considering it since I started this particular section of this project."},{"owner":{"account_id":3535938,"reputation":4695,"user_id":2954288,"accept_rate":48,"display_name":"Harald"},"score":0,"creation_date":1462479688,"post_id":37058691,"comment_id":61666175,"body_markdown":"Very similar yet also unsolved: http://stackoverflow.com/q/33484711/2954288","body":"Very similar yet also unsolved: <a href=\"http://stackoverflow.com/q/33484711/2954288\">stackoverflow.com/q/33484711/2954288</a>"},{"owner":{"account_id":7457995,"reputation":872,"user_id":5670592,"display_name":"Andonaeus"},"score":0,"creation_date":1462481529,"post_id":37058691,"comment_id":61667128,"body_markdown":"@DrGodCarl It is indeed not the best solution, but wouldn&#39;t be so bad if your domain object was literally a class that exposes a single String variable. I can&#39;t really think of another way to do it, but I will test that solution and reply.","body":"@DrGodCarl It is indeed not the best solution, but wouldn&#39;t be so bad if your domain object was literally a class that exposes a single String variable. I can&#39;t really think of another way to do it, but I will test that solution and reply."},{"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":1,"creation_date":1589580592,"post_id":37058691,"comment_id":109361062,"body_markdown":"Ran into a bug due to this today. App breaks due to an internal REST call to a Spring service that takes in a list of items.  The app behaves unexpectedly when the user enters a string containing a comma, since the internal REST service treats them as two separate items.","body":"Ran into a bug due to this today. App breaks due to an internal REST call to a Spring service that takes in a list of items.  The app behaves unexpectedly when the user enters a string containing a comma, since the internal REST service treats them as two separate items."},{"owner":{"account_id":287674,"reputation":2988,"user_id":587641,"accept_rate":42,"display_name":"xtian"},"score":0,"creation_date":1645738075,"post_id":37058691,"comment_id":125957829,"body_markdown":"Some solutions are here https://stackoverflow.com/questions/4998748/how-to-prevent-parameter-binding-from-interpreting-commas-in-spring-3-0-5","body":"Some solutions are here <a href=\"https://stackoverflow.com/questions/4998748/how-to-prevent-parameter-binding-from-interpreting-commas-in-spring-3-0-5\" title=\"how to prevent parameter binding from interpreting commas in spring 3 0 5\">stackoverflow.com/questions/4998748/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7457995,"reputation":872,"user_id":5670592,"display_name":"Andonaeus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1462484202,"creation_date":1462483114,"answer_id":37060422,"question_id":37058691,"body_markdown":"EDIT: I&#39;m not sure why I bothered creating a domain object and going through the trouble of encoding and decoding the whole list. It&#39;s just as well that you can simply Base64 encode each parameter, and decide each parameter when read in.\n\nAs per my comment above, I was able to implement a solution. I am not particularly satisfied with the implementation, but it gets the job done. I would like to reiterate that there is almost certainly a better solution that can follow a more explicit approach with regards to the domain objects and the marshalling and unmarshalling of the values.\r\n\r\nAssuming the list of values is formatted as a JSON list of value objects such as:\r\n\r\n    [{&quot;value&quot;:&quot;test,1&quot;},{&quot;value&quot;: &quot;test,2&quot;}]\r\n\r\nThe Base64 encoding is:\r\n\r\n    W3sidmFsdWUiOiJ0ZXN0LDEifSx7InZhbHVlIjogInRlc3QsMiJ9XQ==\r\n\r\nMy Controller is setup as:\r\n\r\n    @RequestMapping(value = &quot;/test&quot;, method = RequestMethod.GET)\r\n\t@ResponseBody\r\n\tpublic String test(@RequestParam(value = &quot;values&quot;, required = true) String values) throws JsonParseException, JsonMappingException, IOException{\r\n\t\t\r\n\t\tbyte[] bValues = Base64.getDecoder().decode(values.getBytes());\r\n\t\tString json = new String(bValues);\r\n\t\tObjectMapper mapper = new ObjectMapper();\r\n\t\tList&lt;Value&gt; myObjects = mapper.readValue(json, new TypeReference&lt;List&lt;Value&gt;&gt;(){});\r\n\t\tStringBuilder result = new StringBuilder();\r\n\t\t\r\n\t\tint i = 1;\r\n\t\tfor (Value value : myObjects){\r\n\t\t\tresult.append(&quot;value &quot;);\r\n\t\t\tresult.append(&quot; &quot;);\r\n\t\t\tresult.append(i++);\r\n\t\t\tresult.append(&quot;: &quot;);\r\n\t\t\tresult.append(value.getValue());\r\n\t\t\tresult.append(&quot;&lt;br&gt;&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tresult.setLength(result.length() - 1);\r\n\t\treturn result.length() &gt; 0 ? result.toString() : &quot;Test&quot;;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(UatproxyApplication.class, args);\r\n\t}\r\n\r\nThe Value class is:\r\n\r\n    public class Value implements Serializable{\r\n\r\n\tprivate static final long serialVersionUID = -7342446805363029057L;\r\n\r\n\tprivate String value;\r\n\t\r\n\tpublic Value(){\r\n\t\t\r\n\t}\r\n\r\n\tpublic String getValue() {\r\n\t\treturn value;\r\n\t}\r\n\r\n\tpublic void setValue(String value) {\r\n\t\tthis.value = value;\r\n\t}\r\n\t\r\n\t\r\n}\r\n\r\nThe request is:\r\n\r\n    /test?values=W3sidmFsdWUiOiJ0ZXN0LDEifSx7InZhbHVlIjogInRlc3QsMiJ9XQ==\r\n\r\nAnd the response is:\r\n\r\n    value 1: test,1\r\n    value 2: test,2","title":"Encoded Comma in URL is read as List in Spring","body":"<p>EDIT: I'm not sure why I bothered creating a domain object and going through the trouble of encoding and decoding the whole list. It's just as well that you can simply Base64 encode each parameter, and decide each parameter when read in.</p>\n\n<p>As per my comment above, I was able to implement a solution. I am not particularly satisfied with the implementation, but it gets the job done. I would like to reiterate that there is almost certainly a better solution that can follow a more explicit approach with regards to the domain objects and the marshalling and unmarshalling of the values.</p>\n\n<p>Assuming the list of values is formatted as a JSON list of value objects such as:</p>\n\n<pre><code>[{\"value\":\"test,1\"},{\"value\": \"test,2\"}]\n</code></pre>\n\n<p>The Base64 encoding is:</p>\n\n<pre><code>W3sidmFsdWUiOiJ0ZXN0LDEifSx7InZhbHVlIjogInRlc3QsMiJ9XQ==\n</code></pre>\n\n<p>My Controller is setup as:</p>\n\n<pre><code>@RequestMapping(value = \"/test\", method = RequestMethod.GET)\n@ResponseBody\npublic String test(@RequestParam(value = \"values\", required = true) String values) throws JsonParseException, JsonMappingException, IOException{\n\n    byte[] bValues = Base64.getDecoder().decode(values.getBytes());\n    String json = new String(bValues);\n    ObjectMapper mapper = new ObjectMapper();\n    List&lt;Value&gt; myObjects = mapper.readValue(json, new TypeReference&lt;List&lt;Value&gt;&gt;(){});\n    StringBuilder result = new StringBuilder();\n\n    int i = 1;\n    for (Value value : myObjects){\n        result.append(\"value \");\n        result.append(\" \");\n        result.append(i++);\n        result.append(\": \");\n        result.append(value.getValue());\n        result.append(\"&lt;br&gt;\");\n    }\n\n    result.setLength(result.length() - 1);\n    return result.length() &gt; 0 ? result.toString() : \"Test\";\n}\n\npublic static void main(String[] args) {\n    SpringApplication.run(UatproxyApplication.class, args);\n}\n</code></pre>\n\n<p>The Value class is:</p>\n\n<pre><code>public class Value implements Serializable{\n\nprivate static final long serialVersionUID = -7342446805363029057L;\n\nprivate String value;\n\npublic Value(){\n\n}\n\npublic String getValue() {\n    return value;\n}\n\npublic void setValue(String value) {\n    this.value = value;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>The request is:</p>\n\n<pre><code>/test?values=W3sidmFsdWUiOiJ0ZXN0LDEifSx7InZhbHVlIjogInRlc3QsMiJ9XQ==\n</code></pre>\n\n<p>And the response is:</p>\n\n<pre><code>value 1: test,1\nvalue 2: test,2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":190249,"reputation":306,"user_id":430100,"display_name":"Grez"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1663945134,"creation_date":1663945134,"answer_id":73829653,"question_id":37058691,"body_markdown":"You can set your `Delimiter`. The comma is just the default one used in  `org.springframework.boot.convert.DelimitedStringToCollectionConverter` when it isn&#39;t set. If you wish, you can disable the `Delimiter` completely. For your code, it would look like this:\r\n\r\n\r\n```java\r\nimport org.springframework.boot.convert.Delimiter;\r\n\r\n@RequestMapping(value = &quot;/route&quot;, method = RequestMethod.GET)\r\npublic Object thisIsTheMethod(@Delimiter(Delimiter.None) @RequestParam(value = &quot;value&quot;, required = false) List&lt;String&gt; values) {\r\n    return OtherClass.doTheThing(values);\r\n}\r\n```","title":"Encoded Comma in URL is read as List in Spring","body":"<p>You can set your <code>Delimiter</code>. The comma is just the default one used in  <code>org.springframework.boot.convert.DelimitedStringToCollectionConverter</code> when it isn't set. If you wish, you can disable the <code>Delimiter</code> completely. For your code, it would look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.boot.convert.Delimiter;\n\n@RequestMapping(value = &quot;/route&quot;, method = RequestMethod.GET)\npublic Object thisIsTheMethod(@Delimiter(Delimiter.None) @RequestParam(value = &quot;value&quot;, required = false) List&lt;String&gt; values) {\n    return OtherClass.doTheThing(values);\n}\n</code></pre>\n"}],"owner":{"account_id":1697235,"reputation":1676,"user_id":1558358,"accept_rate":80,"display_name":"DrGodCarl"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6134,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":73829653,"answer_count":2,"score":9,"last_activity_date":1663945134,"creation_date":1462476176,"question_id":37058691,"body_markdown":"I have a REST Component in Spring. Simplified, it looks like this:\r\n\r\n    @RequestMapping(value = &quot;/route&quot;, method = RequestMethod.GET)\r\n    public Object thisIsTheMethod(@RequestParam(value = &quot;value&quot;, required = false) List&lt;String&gt; values) {\r\n        return OtherClass.doTheThing(values);\r\n    }\r\n\r\nThis is used to consume a list of Strings of arbitrary length. You could do it a number of ways:\r\n\r\n    localhost:8080/route?value=this&amp;value=that\r\nOR\r\n\r\n    localhost:8080/route?value=this,that\r\n\r\nNow let&#39;s say I want to pass in one string which contains a comma: `value,1`. How would I go about doing that? Replacing the comma with %2C results in a list of 2 values (&quot;value&quot;, &quot;1&quot;). Putting anything in quotes, or escaped quotes, has similar problems. It looks like it works when I have multiple parameters and use the multiple-values pattern, though not when I use the comma-separated pattern.","title":"Encoded Comma in URL is read as List in Spring","body":"<p>I have a REST Component in Spring. Simplified, it looks like this:</p>\n\n<pre><code>@RequestMapping(value = \"/route\", method = RequestMethod.GET)\npublic Object thisIsTheMethod(@RequestParam(value = \"value\", required = false) List&lt;String&gt; values) {\n    return OtherClass.doTheThing(values);\n}\n</code></pre>\n\n<p>This is used to consume a list of Strings of arbitrary length. You could do it a number of ways:</p>\n\n<pre><code>localhost:8080/route?value=this&amp;value=that\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>localhost:8080/route?value=this,that\n</code></pre>\n\n<p>Now let's say I want to pass in one string which contains a comma: <code>value,1</code>. How would I go about doing that? Replacing the comma with %2C results in a list of 2 values (\"value\", \"1\"). Putting anything in quotes, or escaped quotes, has similar problems. It looks like it works when I have multiple parameters and use the multiple-values pattern, though not when I use the comma-separated pattern.</p>\n"},{"tags":["java","android","for-loop"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1663868408,"post_id":73818687,"comment_id":130346545,"body_markdown":"It&#39;s not super-clear what you&#39;re asking. For one thing since each request is separate they can resolve in any order, at any time.","body":"It&#39;s not super-clear what you&#39;re asking. For one thing since each request is separate they can resolve in any order, at any time."},{"owner":{"account_id":6925866,"reputation":61,"user_id":5316971,"display_name":"Basch"},"score":0,"creation_date":1663908399,"post_id":73818687,"comment_id":130354240,"body_markdown":"Hi sir thanks for the reply,  I use the array (list) with the index of x in movie_class.java (getJsonResponse)-method so that I can request a php json response dynamically with changing parameter. but I wonder why it doesn&#39;t print inorder, You mean I can&#39;t call the getReponse method in movie_class.java inside for loop to get a data in database dynamically?","body":"Hi sir thanks for the reply,  I use the array (list) with the index of x in movie_class.java (getJsonResponse)-method so that I can request a php json response dynamically with changing parameter. but I wonder why it doesn&#39;t print inorder, You mean I can&#39;t call the getReponse method in movie_class.java inside for loop to get a data in database dynamically?"}],"answers":[{"tags":[],"owner":{"account_id":6925866,"reputation":61,"user_id":5316971,"display_name":"Basch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663945132,"creation_date":1663945132,"answer_id":73829652,"question_id":73818687,"body_markdown":"I&#39;ve solve the problem by manipulating the data in php file so that I will just call one request in client side android. :) ","title":"Nested for Loop index is not in order","body":"<p>I've solve the problem by manipulating the data in php file so that I will just call one request in client side android. :)</p>\n"}],"owner":{"account_id":6925866,"reputation":61,"user_id":5316971,"display_name":"Basch"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663945132,"creation_date":1663868069,"question_id":73818687,"body_markdown":"MainActivity.java\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n    String server_ip = &quot;192.168.252.100&quot;;\r\n        String url = &quot;http://&quot;+server_ip+&quot;/lib/androidAPI.php&quot;;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n    \r\n        String[] list = {&quot;Action&quot;,&quot;Adventure&quot;, &quot;Family&quot;};\r\n                for(int x=0;x&lt;list.length;x++){\r\n                int y = x;\r\n    \r\n                movie_class test = new movie_class();\r\n                test.getJsonResponse(&quot;Get__Movies_By_Genre_Limit&quot;, list[x], getApplicationContext(), new VolleyCallback() {\r\n                    @Override\r\n                    public void onSuccess(JSONArray result2) {\r\n                        try {\r\n                            System.out.println(&quot;array list using y as index: (&quot;+y+&quot;)=&quot;+list[y]);\r\n                            System.out.println(&quot;-Database Query Results&quot;);\r\n                            for (int j = 0; j &lt; result2.length(); j++) {\r\n                                JSONObject obj = result2.getJSONObject(j);\r\n                                System.out.println(&quot;--(&quot; + j + &quot;)&quot; + obj.getString(&quot;name&quot;));\r\n                            }\r\n                        }catch (JSONException e){\r\n    \r\n                        }\r\n                    }\r\n                    @Override\r\n \r\n\r\n                       public void onError(String result) {\r\n                            System.out.println(&quot;(error) populate genres &quot; + result);\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            public interface VolleyCallback {\r\n                void onSuccess(JSONArray result);\r\n                void onError(String result);\r\n            }\r\n        }\r\n    \r\n        \r\n\r\nmovie_class.java\r\n\r\n    public class movie_class extends MainActivity{\r\n    public void getJsonResponse(String getType, String parameters, Context mainContext, final VolleyCallback callback) {\r\n        StringRequest strReq = new StringRequest(Request.Method.POST, url,\r\n                new Response.Listener&lt;String&gt;() {\r\n                    @Override\r\n                    public void onResponse(String response) {\r\n                        try {\r\n                            JSONObject jsonObject = new JSONObject(response);\r\n                            //JSONArray array = new JSONArray();\r\n                            JSONArray array = jsonObject.getJSONArray(&quot;array&quot;);\r\n                            callback.onSuccess(array);\r\n                        }catch (JSONException e){\r\n\r\n                        }\r\n                    }\r\n                }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError volleyError) {\r\n                callback.onError(volleyError + &quot;&quot;);\r\n            }\r\n        }){\r\n            @Override\r\n            public String getBodyContentType() {\r\n                // as we are passing data in the form of url encoded\r\n                // so we are passing the content type below\r\n                return &quot;application/x-www-form-urlencoded; charset=UTF-8&quot;;\r\n            }\r\n\r\n            @Override\r\n            protected Map&lt;String, String&gt; getParams() {\r\n\r\n                // below line we are creating a map for storing our values in key and value pair.\r\n                Map&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\r\n\r\n                // on below line we are passing our key and value pair to our parameters.\r\n                params.put(&quot;getType&quot;, getType);\r\n                params.put(&quot;parameters&quot;, parameters);\r\n\r\n                // at last we are returning our params.\r\n                return params;\r\n            }\r\n        };\r\n        Volley.newRequestQueue(mainContext).add(strReq);\r\n    }\r\n}\r\n\r\nOutput 1:\r\n\r\n    array list using y as index: (0)=Action\r\n    -Database Query Results\r\n    --(0)Air Force One\r\n    --(1)Ant-Man\r\n    array list using y as index: (2)=Family\r\n    -Database Query Results\r\n    --(0)Cocomelon\r\n    --(1)Finding Dory\r\n    array list using y as index: (1)=Adventure\r\n    -Database Query Results\r\n    --(0)Air Force One\r\n    --(1)Ant-Man\r\n\r\nOutput 2 without changing the codes:\r\n\r\n    array list using y as index: (1)=Adventure \r\n    -Database Query Results \r\n    --(0)Air Force One \r\n    --(1)Ant-Man\r\n    array list using y as index: (0)=Action\r\n    -Database Query Results\r\n    --(0)Air Force One\r\n    --(1)Ant-Man\r\n    array list using y as index: (2)=Family\r\n    -Database Query Results\r\n    --(0)Cocomelon\r\n    --(1)Finding Dory\r\n\r\nQuestion is why the for loop index (x) is not in order or randomly change order when using it inside the movie_class.getJsonResponse?\r\n\r\nI&#39;m using that technique many times in php but it was different in java.\r\n\r\n\r\n","title":"Nested for Loop index is not in order","body":"<p>MainActivity.java</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nString server_ip = &quot;192.168.252.100&quot;;\n    String url = &quot;http://&quot;+server_ip+&quot;/lib/androidAPI.php&quot;;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n    String[] list = {&quot;Action&quot;,&quot;Adventure&quot;, &quot;Family&quot;};\n            for(int x=0;x&lt;list.length;x++){\n            int y = x;\n\n            movie_class test = new movie_class();\n            test.getJsonResponse(&quot;Get__Movies_By_Genre_Limit&quot;, list[x], getApplicationContext(), new VolleyCallback() {\n                @Override\n                public void onSuccess(JSONArray result2) {\n                    try {\n                        System.out.println(&quot;array list using y as index: (&quot;+y+&quot;)=&quot;+list[y]);\n                        System.out.println(&quot;-Database Query Results&quot;);\n                        for (int j = 0; j &lt; result2.length(); j++) {\n                            JSONObject obj = result2.getJSONObject(j);\n                            System.out.println(&quot;--(&quot; + j + &quot;)&quot; + obj.getString(&quot;name&quot;));\n                        }\n                    }catch (JSONException e){\n\n                    }\n                }\n                @Override\n\n\n                   public void onError(String result) {\n                        System.out.println(&quot;(error) populate genres &quot; + result);\n                    }\n                });\n            }\n        }\n        public interface VolleyCallback {\n            void onSuccess(JSONArray result);\n            void onError(String result);\n        }\n    }\n\n    \n</code></pre>\n<p>movie_class.java</p>\n<pre><code>public class movie_class extends MainActivity{\npublic void getJsonResponse(String getType, String parameters, Context mainContext, final VolleyCallback callback) {\n    StringRequest strReq = new StringRequest(Request.Method.POST, url,\n            new Response.Listener&lt;String&gt;() {\n                @Override\n                public void onResponse(String response) {\n                    try {\n                        JSONObject jsonObject = new JSONObject(response);\n                        //JSONArray array = new JSONArray();\n                        JSONArray array = jsonObject.getJSONArray(&quot;array&quot;);\n                        callback.onSuccess(array);\n                    }catch (JSONException e){\n\n                    }\n                }\n            }, new Response.ErrorListener() {\n        @Override\n        public void onErrorResponse(VolleyError volleyError) {\n            callback.onError(volleyError + &quot;&quot;);\n        }\n    }){\n        @Override\n        public String getBodyContentType() {\n            // as we are passing data in the form of url encoded\n            // so we are passing the content type below\n            return &quot;application/x-www-form-urlencoded; charset=UTF-8&quot;;\n        }\n\n        @Override\n        protected Map&lt;String, String&gt; getParams() {\n\n            // below line we are creating a map for storing our values in key and value pair.\n            Map&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\n\n            // on below line we are passing our key and value pair to our parameters.\n            params.put(&quot;getType&quot;, getType);\n            params.put(&quot;parameters&quot;, parameters);\n\n            // at last we are returning our params.\n            return params;\n        }\n    };\n    Volley.newRequestQueue(mainContext).add(strReq);\n}\n</code></pre>\n<p>}</p>\n<p>Output 1:</p>\n<pre><code>array list using y as index: (0)=Action\n-Database Query Results\n--(0)Air Force One\n--(1)Ant-Man\narray list using y as index: (2)=Family\n-Database Query Results\n--(0)Cocomelon\n--(1)Finding Dory\narray list using y as index: (1)=Adventure\n-Database Query Results\n--(0)Air Force One\n--(1)Ant-Man\n</code></pre>\n<p>Output 2 without changing the codes:</p>\n<pre><code>array list using y as index: (1)=Adventure \n-Database Query Results \n--(0)Air Force One \n--(1)Ant-Man\narray list using y as index: (0)=Action\n-Database Query Results\n--(0)Air Force One\n--(1)Ant-Man\narray list using y as index: (2)=Family\n-Database Query Results\n--(0)Cocomelon\n--(1)Finding Dory\n</code></pre>\n<p>Question is why the for loop index (x) is not in order or randomly change order when using it inside the movie_class.getJsonResponse?</p>\n<p>I'm using that technique many times in php but it was different in java.</p>\n"},{"tags":["java","selenium","webdriver","testng","ui-automation"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1663939621,"post_id":73825925,"comment_id":130363723,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663945006,"creation_date":1663945006,"answer_id":73829630,"question_id":73825925,"body_markdown":"I can imagine you have proper installation (your question details was little bit ambiguous) but in any case it could be the java command is not on the command search path for your user account and take this steps to make sure about installation \r\n\r\n - verify that Java is installed `java -version`\r\n - Confirm the PATH variable includes Java’s \\bin directory in your remote machine\r\n\r\nAfter verification create shell file and execute shell as `ssh user@host &quot;sh ~/app-runner.sh&quot;`, you may also see [here][1] to how create shell for executing jar file(s).\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/29847709/15758781","title":"Why opening a jar file thru ssh on a windows vm opens the browser incognito?","body":"<p>I can imagine you have proper installation (your question details was little bit ambiguous) but in any case it could be the java command is not on the command search path for your user account and take this steps to make sure about installation</p>\n<ul>\n<li>verify that Java is installed <code>java -version</code></li>\n<li>Confirm the PATH variable includes Java’s \\bin directory in your remote machine</li>\n</ul>\n<p>After verification create shell file and execute shell as <code>ssh user@host &quot;sh ~/app-runner.sh&quot;</code>, you may also see <a href=\"https://stackoverflow.com/q/29847709/15758781\">here</a> to how create shell for executing jar file(s).</p>\n"}],"owner":{"account_id":26421394,"reputation":1,"user_id":20069021,"display_name":"Mihai Ghilenschi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663945006,"creation_date":1663926699,"question_id":73825925,"body_markdown":"If I open manually (java -jar name.jar)it works. When I try to open it with ssh command it opens the browser incognito. \r\nI have a windows vm with windows server. JDK is installed. ","title":"Why opening a jar file thru ssh on a windows vm opens the browser incognito?","body":"<p>If I open manually (java -jar name.jar)it works. When I try to open it with ssh command it opens the browser incognito.\nI have a windows vm with windows server. JDK is installed.</p>\n"},{"tags":["java","rx-java","spring-webflux"],"comments":[{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1663922482,"post_id":73822646,"comment_id":130357844,"body_markdown":"It is strange to use RxJava with Spring-webflux, as Webflux reactive engine is project-reactor, not RxJava. Have you mistaken one with the other ?","body":"It is strange to use RxJava with Spring-webflux, as Webflux reactive engine is project-reactor, not RxJava. Have you mistaken one with the other ?"},{"owner":{"account_id":25328595,"reputation":17,"user_id":19148797,"display_name":"mclc"},"score":0,"creation_date":1663938561,"post_id":73822646,"comment_id":130363297,"body_markdown":"@amanin No, sorry, I just put it as a label since both work with reactive programming and have similar methods, and the examples could be in any of them.","body":"@amanin No, sorry, I just put it as a label since both work with reactive programming and have similar methods, and the examples could be in any of them."}],"answers":[{"tags":[],"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663944984,"creation_date":1663944984,"answer_id":73829625,"question_id":73822646,"body_markdown":"First, a reactor operator can ends in different ways:\r\n\r\n 1. Completes successfully after emitting one (Mono) or more (Flux) value(s)\r\n 2. Completes *empty*: The pipeline sends completion signal, but no value has been emitted\r\n 3. Completes in *error*: somewhere in the pipeline, an error happened. By default, as in imperative code, it stops the chain of operations, and is propagated.\r\n 4. Cancelled: the pipeline might be interrupted by a manual action or a system shutdown. It then ends in error (a special kind of error, but an error nonetheless)\r\n\r\nSecondly, reactive-stream, whatever the implementation (RxJava or Reactor) does **not** accept null values. It means that  trying to produce a null value in/from a reactive stream will either cause an error or an undefined behavior. This is stated in [reactive-stream specification, rule 2.13](https://github.com/reactive-streams/reactive-streams-jvm#user-content-2.13):\r\n\r\n&gt; Calling [...] onNext [...] MUST return normally except when any provided parameter is **null** in which case it MUST throw a java.lang.NullPointerException to the caller\r\n\r\nLet&#39;s try to produce some simple examples first.\r\n\r\nThis program shows the possible ways a pipeline can complete:\r\n\r\n```java\r\n// Reactive streams does not accept null values:\r\ntry {\r\n\tMono.just(null);\r\n} catch (NullPointerException e) {\r\n\tSystem.out.println(&quot;NULL VALUE NOT ACCEPTED !&quot;);\r\n}\r\n\r\n// Mono/Flux operations stop if an error occurs internally, and send it downstream\r\ntry {\r\n\tMono.just(&quot;Something&quot;)\r\n\t    .map(it -&gt; { throw new IllegalStateException(&quot;Bouh !&quot;); })\r\n\t    .block();\r\n} catch (IllegalStateException e) {\r\n\tSystem.out.println(&quot;Error propagated: &quot;+e.getMessage());\r\n}\r\n\r\n// A mono or a flux can end &quot;empty&quot;. It means that no value or error happened.\r\n// The operation just finished without any result\r\nvar result = Mono.just(&quot;Hello !&quot;)\r\n\t\t.filter(it -&gt; !it.endsWith(&quot;!&quot;))\r\n\t\t// Materialize allow to receive the type of signal produced by the pipeline (next value, error, completion, etc.)\r\n\t\t.materialize()\r\n\t\t.block();\r\nSystem.out.println(&quot;Input value has been filtered out. No &#39;next&#39; value &quot; +\r\n\t\t&quot;received, just &#39;completion&#39; signal:&quot; + result.getType());\r\n```\r\n\r\nIts output:\r\n\r\n```stdout\r\nNULL VALUE NOT ACCEPTED !\r\nError propagated: Bouh !\r\nInput value has been filtered out. No &#39;next&#39; value received, just &#39;completion&#39; signal:onNext\r\n```\r\n\r\nThen, let&#39;s look at a program that intercept empty pipelines and errors, and handle them gracefully:\r\n\r\n```java\r\n// Errors can be intercepted and replaced by a value:\r\nvar result = Mono.error(new IllegalStateException(&quot;No !&quot;))\r\n\t\t.onErrorResume(err -&gt; Mono.just(&quot;Override error: Hello again !&quot;))\r\n\t\t.block();\r\nSystem.out.println(result);\r\n\r\n// Empty pipelines can also be replaced by another one that produce a value:\r\nresult = Mono.just(&quot;Hello !&quot;)\r\n\t\t.filter(it -&gt; !it.endsWith(&quot;!&quot;))\r\n\t\t.switchIfEmpty(Mono.just(&quot;Override empty: Hello again !&quot;))\r\n\t\t.block();\r\n\r\nSystem.out.println(result);\r\n```\r\n\r\nIt produces:\r\n\r\n```stdout\r\nOverride error: Hello again !\r\nOverride empty: Hello again !\r\n```\r\n\r\nWith all this tools, we can solve the problem you describe with your query.\r\n\r\nLet&#39;s mimic it:\r\n\r\n```java\r\npublic static Flux&lt;String&gt; processRequest(String queryParam) {\r\n\tif (queryParam == null || queryParam.isEmpty()) return Flux.error(new IllegalArgumentException(&quot;Bad request&quot;));\r\n\treturn Mono.just(queryParam)\r\n\t           .flatMapMany(param -&gt; Flux.fromArray(param.split(&quot;_&quot;)))\r\n\t           .switchIfEmpty(Mono.error(new IllegalStateException(&quot;No data&quot;)));\r\n}\r\n\r\npublic static void main(String[] args) {\r\n\t\r\n\tString[] inputs = { null, &quot;hello_world&quot;, &quot;___&quot; };\r\n\t\r\n\tfor (var input : inputs) {\r\n\t\ttry {\r\n\t\t\tString result = processRequest(input)\r\n\t\t\t\t\t.collect(Collectors.joining(&quot;, &quot;, &quot;[&quot;, &quot;]&quot;))\r\n\t\t\t\t\t.block();\r\n\t\t\tSystem.out.println(&quot;COMPLETED: &quot; + result);\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(&quot;ERROR: &quot; + e.getMessage());\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nIt prints:\r\n\r\n```stdout\r\nERROR: Bad request\r\nCOMPLETED: [hello, world]\r\nERROR: No data\r\n```","title":"how to handle errors in RxJava?","body":"<p>First, a reactor operator can ends in different ways:</p>\n<ol>\n<li>Completes successfully after emitting one (Mono) or more (Flux) value(s)</li>\n<li>Completes <em>empty</em>: The pipeline sends completion signal, but no value has been emitted</li>\n<li>Completes in <em>error</em>: somewhere in the pipeline, an error happened. By default, as in imperative code, it stops the chain of operations, and is propagated.</li>\n<li>Cancelled: the pipeline might be interrupted by a manual action or a system shutdown. It then ends in error (a special kind of error, but an error nonetheless)</li>\n</ol>\n<p>Secondly, reactive-stream, whatever the implementation (RxJava or Reactor) does <strong>not</strong> accept null values. It means that  trying to produce a null value in/from a reactive stream will either cause an error or an undefined behavior. This is stated in <a href=\"https://github.com/reactive-streams/reactive-streams-jvm#user-content-2.13\" rel=\"nofollow noreferrer\">reactive-stream specification, rule 2.13</a>:</p>\n<blockquote>\n<p>Calling [...] onNext [...] MUST return normally except when any provided parameter is <strong>null</strong> in which case it MUST throw a java.lang.NullPointerException to the caller</p>\n</blockquote>\n<p>Let's try to produce some simple examples first.</p>\n<p>This program shows the possible ways a pipeline can complete:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Reactive streams does not accept null values:\ntry {\n    Mono.just(null);\n} catch (NullPointerException e) {\n    System.out.println(&quot;NULL VALUE NOT ACCEPTED !&quot;);\n}\n\n// Mono/Flux operations stop if an error occurs internally, and send it downstream\ntry {\n    Mono.just(&quot;Something&quot;)\n        .map(it -&gt; { throw new IllegalStateException(&quot;Bouh !&quot;); })\n        .block();\n} catch (IllegalStateException e) {\n    System.out.println(&quot;Error propagated: &quot;+e.getMessage());\n}\n\n// A mono or a flux can end &quot;empty&quot;. It means that no value or error happened.\n// The operation just finished without any result\nvar result = Mono.just(&quot;Hello !&quot;)\n        .filter(it -&gt; !it.endsWith(&quot;!&quot;))\n        // Materialize allow to receive the type of signal produced by the pipeline (next value, error, completion, etc.)\n        .materialize()\n        .block();\nSystem.out.println(&quot;Input value has been filtered out. No 'next' value &quot; +\n        &quot;received, just 'completion' signal:&quot; + result.getType());\n</code></pre>\n<p>Its output:</p>\n<pre><code>NULL VALUE NOT ACCEPTED !\nError propagated: Bouh !\nInput value has been filtered out. No 'next' value received, just 'completion' signal:onNext\n</code></pre>\n<p>Then, let's look at a program that intercept empty pipelines and errors, and handle them gracefully:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Errors can be intercepted and replaced by a value:\nvar result = Mono.error(new IllegalStateException(&quot;No !&quot;))\n        .onErrorResume(err -&gt; Mono.just(&quot;Override error: Hello again !&quot;))\n        .block();\nSystem.out.println(result);\n\n// Empty pipelines can also be replaced by another one that produce a value:\nresult = Mono.just(&quot;Hello !&quot;)\n        .filter(it -&gt; !it.endsWith(&quot;!&quot;))\n        .switchIfEmpty(Mono.just(&quot;Override empty: Hello again !&quot;))\n        .block();\n\nSystem.out.println(result);\n</code></pre>\n<p>It produces:</p>\n<pre><code>Override error: Hello again !\nOverride empty: Hello again !\n</code></pre>\n<p>With all this tools, we can solve the problem you describe with your query.</p>\n<p>Let's mimic it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Flux&lt;String&gt; processRequest(String queryParam) {\n    if (queryParam == null || queryParam.isEmpty()) return Flux.error(new IllegalArgumentException(&quot;Bad request&quot;));\n    return Mono.just(queryParam)\n               .flatMapMany(param -&gt; Flux.fromArray(param.split(&quot;_&quot;)))\n               .switchIfEmpty(Mono.error(new IllegalStateException(&quot;No data&quot;)));\n}\n\npublic static void main(String[] args) {\n    \n    String[] inputs = { null, &quot;hello_world&quot;, &quot;___&quot; };\n    \n    for (var input : inputs) {\n        try {\n            String result = processRequest(input)\n                    .collect(Collectors.joining(&quot;, &quot;, &quot;[&quot;, &quot;]&quot;))\n                    .block();\n            System.out.println(&quot;COMPLETED: &quot; + result);\n        } catch (Exception e) {\n            System.out.println(&quot;ERROR: &quot; + e.getMessage());\n        }\n    }\n}\n</code></pre>\n<p>It prints:</p>\n<pre><code>ERROR: Bad request\nCOMPLETED: [hello, world]\nERROR: No data\n</code></pre>\n"}],"owner":{"account_id":25328595,"reputation":17,"user_id":19148797,"display_name":"mclc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73829625,"answer_count":1,"score":0,"last_activity_date":1663944984,"creation_date":1663903140,"question_id":73822646,"body_markdown":"It may sound funny or maybe novice, but I don&#39;t understand what it means that something &quot;failed&quot; in Reactive Programming. Do you mean a null? An empty object? someone could please give me examples.\r\n\r\nSome of the scenarios I wish to realize are:\r\n\r\nAssuming I send a query parameter and get either a listing with values or an empty listing; and lastly, I do not send the query parameter.\r\n\r\n- If an empty listing is issued I want to return an exception and a 404 status code.\r\n\r\n- If they do not send the query parameter I want to return an exception and some status code.\r\n\r\nAnd of course, if a list with values is found, return it. Will it be possible to make these cases in a single method? how do I do it?","title":"how to handle errors in RxJava?","body":"<p>It may sound funny or maybe novice, but I don't understand what it means that something &quot;failed&quot; in Reactive Programming. Do you mean a null? An empty object? someone could please give me examples.</p>\n<p>Some of the scenarios I wish to realize are:</p>\n<p>Assuming I send a query parameter and get either a listing with values or an empty listing; and lastly, I do not send the query parameter.</p>\n<ul>\n<li><p>If an empty listing is issued I want to return an exception and a 404 status code.</p>\n</li>\n<li><p>If they do not send the query parameter I want to return an exception and some status code.</p>\n</li>\n</ul>\n<p>And of course, if a list with values is found, return it. Will it be possible to make these cases in a single method? how do I do it?</p>\n"},{"tags":["java","hibernate","many-to-many","jpa-2.0","criteria"],"answers":[{"tags":[],"owner":{"account_id":903562,"reputation":15094,"user_id":939023,"accept_rate":90,"display_name":"Shivan Dragon"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1321361159,"creation_date":1321358674,"answer_id":8136047,"question_id":8135612,"body_markdown":"Using HQL:\r\n\r\nYou can use this:\r\n\r\n    Criteria criteria = session.createCriteria(Answer.class);\r\n    criteria.setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY);\r\n    criteria.createAlias(&quot;collaborators&quot;, &quot;collaborators&quot;);\r\n    criteria.add(Restrictions.eq(&quot;collaborators.id&quot;,desiredCollaboratorId);\r\n\r\n\r\nto get all the Answers associated to a certain Collaborator.\r\n\r\nAnd this:\r\n\r\n    Criteria criteria = session.createCriteria(Answer.class);\r\n    criteria.setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY);\r\n    criteria.setFetchMode(&quot;collaborators&quot;, FetchMode.JOIN)\r\n    criteria.add(Restrictions.idEq(desiredAnswerId));\r\n    dsrTrackingCriteria.setProjection(Projections.property(&quot;collaborators&quot;));\r\n\r\nTo get all Collaborators associated to a certain Answer.\r\n\r\n\r\nUsing JPA2 Criteria API you can do something like:\r\n\r\n    CriteriaBuilder cb = em.getCriteriaBuilder(); //creted from EntityManager instance\r\n    \t\t\r\n    CriteriaQuery&lt;Long&gt; cq = cb.createQuery(Collaborator.class);\r\n    Root&lt;Answer&gt; rootAnswer = cq.from(Answer.class);\r\n    Join&lt;Collaborator,Answer&gt; joinAnswerCollaborator = rootAnswer.join(&quot;collaborators&quot;); //(or rootAnswer.join(Answer_.collaborators); if you&#39;ve created the metamodel with JPA2\r\n\r\n","title":"jpa criteria for many to many relationship","body":"<p>Using HQL:</p>\n\n<p>You can use this:</p>\n\n<pre><code>Criteria criteria = session.createCriteria(Answer.class);\ncriteria.setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY);\ncriteria.createAlias(\"collaborators\", \"collaborators\");\ncriteria.add(Restrictions.eq(\"collaborators.id\",desiredCollaboratorId);\n</code></pre>\n\n<p>to get all the Answers associated to a certain Collaborator.</p>\n\n<p>And this:</p>\n\n<pre><code>Criteria criteria = session.createCriteria(Answer.class);\ncriteria.setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY);\ncriteria.setFetchMode(\"collaborators\", FetchMode.JOIN)\ncriteria.add(Restrictions.idEq(desiredAnswerId));\ndsrTrackingCriteria.setProjection(Projections.property(\"collaborators\"));\n</code></pre>\n\n<p>To get all Collaborators associated to a certain Answer.</p>\n\n<p>Using JPA2 Criteria API you can do something like:</p>\n\n<pre><code>CriteriaBuilder cb = em.getCriteriaBuilder(); //creted from EntityManager instance\n\nCriteriaQuery&lt;Long&gt; cq = cb.createQuery(Collaborator.class);\nRoot&lt;Answer&gt; rootAnswer = cq.from(Answer.class);\nJoin&lt;Collaborator,Answer&gt; joinAnswerCollaborator = rootAnswer.join(\"collaborators\"); //(or rootAnswer.join(Answer_.collaborators); if you've created the metamodel with JPA2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":978323,"reputation":5182,"user_id":998692,"accept_rate":97,"display_name":"user998692"},"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1632926862,"creation_date":1321605767,"answer_id":8179756,"question_id":8135612,"body_markdown":"It&#39;s done, finally...\r\n\r\nHere&#39;s the code:\r\n\r\n    public List&lt;Collaborator&gt; getCollaborators(Long answerId) {\r\n      CriteriaBuilder cb = entityManager.getCriteriaBuilder();\r\n      CriteriaQuery&lt;Collaborator&gt; criteriaQuery = cb.createQuery(Collaborator.class);\r\n      \r\n      Root&lt;Answer&gt; answerRoot = criteriaQuery.from(Answer.class);\r\n      SetJoin&lt;Answer, Collaborator&gt; answers = answerRoot.join(Answer_.collaborators);\r\n      criteriaQuery.where(cb.equal(answerRoot.get(Answer_.id), answerId));\r\n      \r\n      return entityManager\r\n        .createQuery(criteriaQuery.select(answers))\r\n        .getResultList();\r\n    }","title":"jpa criteria for many to many relationship","body":"<p>It's done, finally...</p>\n<p>Here's the code:</p>\n<pre><code>public List&lt;Collaborator&gt; getCollaborators(Long answerId) {\n  CriteriaBuilder cb = entityManager.getCriteriaBuilder();\n  CriteriaQuery&lt;Collaborator&gt; criteriaQuery = cb.createQuery(Collaborator.class);\n  \n  Root&lt;Answer&gt; answerRoot = criteriaQuery.from(Answer.class);\n  SetJoin&lt;Answer, Collaborator&gt; answers = answerRoot.join(Answer_.collaborators);\n  criteriaQuery.where(cb.equal(answerRoot.get(Answer_.id), answerId));\n  \n  return entityManager\n    .createQuery(criteriaQuery.select(answers))\n    .getResultList();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12795274,"reputation":595,"user_id":9258519,"display_name":"Saad Joudi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637082013,"creation_date":1637082013,"answer_id":69993229,"question_id":8135612,"body_markdown":"Using criteria Builder : \r\n\r\n    Join&lt;CLASS_A, CLASS_B&gt; join = root.join(WHAT_UVE_DECLARED_IN_MAPPEDBY, JoinType.INNER);\r\n    searchCriteria.add(criteriaBuilder.like(join.get(&quot;FIELD_IN_SUBCLASS&quot;).as(String.class), &quot;%blabla%&quot;));","title":"jpa criteria for many to many relationship","body":"<p>Using criteria Builder :</p>\n<pre><code>Join&lt;CLASS_A, CLASS_B&gt; join = root.join(WHAT_UVE_DECLARED_IN_MAPPEDBY, JoinType.INNER);\nsearchCriteria.add(criteriaBuilder.like(join.get(&quot;FIELD_IN_SUBCLASS&quot;).as(String.class), &quot;%blabla%&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17865245,"reputation":21,"user_id":12977747,"display_name":"rustem taralov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663944696,"creation_date":1663339293,"answer_id":73746563,"question_id":8135612,"body_markdown":"```\r\nJoin&lt;Answer , Collaborator&gt; join = root.join(&quot;collaborators&quot;,JoinType.INNER);\r\n\r\npredicates.add(criteriaBuilder.equal(join.get(&quot;id&quot;),id));\r\n```","title":"jpa criteria for many to many relationship","body":"<pre><code>Join&lt;Answer , Collaborator&gt; join = root.join(&quot;collaborators&quot;,JoinType.INNER);\n\npredicates.add(criteriaBuilder.equal(join.get(&quot;id&quot;),id));\n</code></pre>\n"}],"owner":{"account_id":978323,"reputation":5182,"user_id":998692,"accept_rate":97,"display_name":"user998692"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33327,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":8179756,"answer_count":4,"score":26,"last_activity_date":1663944696,"creation_date":1321356275,"question_id":8135612,"body_markdown":"I have 2 POJO classes in Java, Answer and Collaborator, in a many-to-many relationship.\r\n\r\n    class Answer {\r\n        @ManyToMany(cascade = CascadeType.ALL)\r\n    \t@JoinTable(name = &quot;ANSWERS_COLLABORATORS&quot;, joinColumns = { @JoinColumn(name = &quot;aid&quot;) }, inverseJoinColumns = { @JoinColumn(name = &quot;cid&quot;) })\r\n    \tprivate Set&lt;Collaborator&gt; collaborators = new HashSet&lt;Collaborator&gt;(0);\r\n    } \r\n\r\nClass `Answer` has a set of `Collaborator`, but a `Collaborator` doesn&#39;t keep a set of `Answer`.\r\nWhat I need to do from Hibernate `CriteriaQuery` is to find the collaborators for an answer given by id.\r\n\r\nI have already done this with Hibernate `Criteria` (`org.hibernate.Criteria`) using result transformer, but I&#39;m stuck when it comes to using `CriteriaQuery`, because I don&#39;t have a list of answers to give to the join.","title":"jpa criteria for many to many relationship","body":"<p>I have 2 POJO classes in Java, Answer and Collaborator, in a many-to-many relationship.</p>\n\n<pre><code>class Answer {\n    @ManyToMany(cascade = CascadeType.ALL)\n    @JoinTable(name = \"ANSWERS_COLLABORATORS\", joinColumns = { @JoinColumn(name = \"aid\") }, inverseJoinColumns = { @JoinColumn(name = \"cid\") })\n    private Set&lt;Collaborator&gt; collaborators = new HashSet&lt;Collaborator&gt;(0);\n} \n</code></pre>\n\n<p>Class <code>Answer</code> has a set of <code>Collaborator</code>, but a <code>Collaborator</code> doesn't keep a set of <code>Answer</code>.\nWhat I need to do from Hibernate <code>CriteriaQuery</code> is to find the collaborators for an answer given by id.</p>\n\n<p>I have already done this with Hibernate <code>Criteria</code> (<code>org.hibernate.Criteria</code>) using result transformer, but I'm stuck when it comes to using <code>CriteriaQuery</code>, because I don't have a list of answers to give to the join.</p>\n"},{"tags":["java","maven-2","build-process","executable-jar"],"comments":[{"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"score":0,"creation_date":1262887234,"post_id":2022032,"comment_id":1944682,"body_markdown":"Maybe this one http://stackoverflow.com/questions/1832853/is-it-possible-to-create-an-uber-jar-containing-the-project-classes-and-the-pro, or this one http://stackoverflow.com/questions/574594/how-can-i-create-an-executable-jar-with-dependencies-using-maven (but the accepted answer is wrong), or this one http://stackoverflow.com/questions/1814526/problem-building-executable-jar-with-maven. Actually, this seems to be one of the most frequent question on maven...","body":"Maybe this one <a href=\"http://stackoverflow.com/questions/1832853/is-it-possible-to-create-an-uber-jar-containing-the-project-classes-and-the-pro\" title=\"is it possible to create an uber jar containing the project classes and the pro\">stackoverflow.com/questions/1832853/&hellip;</a>, or this one <a href=\"http://stackoverflow.com/questions/574594/how-can-i-create-an-executable-jar-with-dependencies-using-maven\" title=\"how can i create an executable jar with dependencies using maven\">stackoverflow.com/questions/574594/&hellip;</a> (but the accepted answer is wrong), or this one <a href=\"http://stackoverflow.com/questions/1814526/problem-building-executable-jar-with-maven\" title=\"problem building executable jar with maven\">stackoverflow.com/questions/1814526/&hellip;</a>. Actually, this seems to be one of the most frequent question on maven..."},{"owner":{"account_id":29046,"reputation":66704,"user_id":78182,"accept_rate":94,"display_name":"Stefan Kendall"},"score":1,"creation_date":1262888477,"post_id":2022032,"comment_id":1944864,"body_markdown":"The other answers aren&#39;t as clean, and uber jar (ueber spelled incorrectly), does not mention executability. Furthermore, the other topics are littered with irrelevant material, such as source level etc.","body":"The other answers aren&#39;t as clean, and uber jar (ueber spelled incorrectly), does not mention executability. Furthermore, the other topics are littered with irrelevant material, such as source level etc."},{"owner":{"account_id":64432,"reputation":65199,"user_id":190201,"accept_rate":83,"display_name":"ataylor"},"score":0,"creation_date":1323361217,"post_id":2022032,"comment_id":10422181,"body_markdown":"possible duplicate of [Is it possible to package all the jar dependencies in one big jar?](http://stackoverflow.com/questions/1059851/is-it-possible-to-package-all-the-jar-dependencies-in-one-big-jar)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1059851/is-it-possible-to-package-all-the-jar-dependencies-in-one-big-jar\">Is it possible to package all the jar dependencies in one big jar?</a>"},{"owner":{"account_id":323460,"reputation":2036,"user_id":643483,"display_name":"Aaron Kurtzhals"},"score":0,"creation_date":1663944287,"post_id":2022032,"comment_id":130365664,"body_markdown":"I see many of the answers are ~10 years old, so I would be interested to see if there is anything different now.","body":"I see many of the answers are ~10 years old, so I would be interested to see if there is anything different now."}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1346836822,"creation_date":1262884193,"answer_id":2022134,"question_id":2022032,"body_markdown":"Maven is not packaging your dependencies inside your jar file, because you don&#39;t usually do this with Java programs.\r\n\r\nInstead you deliver the dependencies together with your jar file and mention them in [the `Class-Path` header of the Manifest][1].\r\n\r\nTo go this route, you&#39;ll need to enable the `addClasspath` property (documented [here][2]) for the [`maven-jar-plugin`][3].\r\n\r\nIf you really want to include all your dependencies in your jar file, then you can use the Maven Assembly plugin to create a [`jar-with-dependencies`][4].\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/deployment/jar/downman.html\r\n  [2]: http://maven.apache.org/shared/maven-archiver/index.html\r\n  [3]: http://maven.apache.org/plugins/maven-jar-plugin/index.html\r\n  [4]: http://maven.apache.org/plugins/maven-assembly-plugin/descriptor-refs.html#jar-with-dependencies","title":"Building a runnable jar with Maven 2","body":"<p>Maven is not packaging your dependencies inside your jar file, because you don't usually do this with Java programs.</p>\n\n<p>Instead you deliver the dependencies together with your jar file and mention them in <a href=\"http://java.sun.com/docs/books/tutorial/deployment/jar/downman.html\" rel=\"noreferrer\">the <code>Class-Path</code> header of the Manifest</a>.</p>\n\n<p>To go this route, you'll need to enable the <code>addClasspath</code> property (documented <a href=\"http://maven.apache.org/shared/maven-archiver/index.html\" rel=\"noreferrer\">here</a>) for the <a href=\"http://maven.apache.org/plugins/maven-jar-plugin/index.html\" rel=\"noreferrer\"><code>maven-jar-plugin</code></a>.</p>\n\n<p>If you really want to include all your dependencies in your jar file, then you can use the Maven Assembly plugin to create a <a href=\"http://maven.apache.org/plugins/maven-assembly-plugin/descriptor-refs.html#jar-with-dependencies\" rel=\"noreferrer\"><code>jar-with-dependencies</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"down_vote_count":0,"up_vote_count":114,"is_accepted":true,"score":114,"last_activity_date":1316494810,"creation_date":1262885717,"answer_id":2022272,"question_id":2022032,"body_markdown":"The easiest way to do this would be to create an assembly using the `maven-assembly-plugin` and the predefined `jar-with-dependencies` descriptor. You&#39;ll also need to generate a manifest with a main-class entry for this uber jar. The snippet below shows how to configure the assembly plugin to do so:\r\n\r\n    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n          &lt;configuration&gt;\r\n            &lt;descriptorRefs&gt;\r\n              &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n            &lt;/descriptorRefs&gt;\r\n            &lt;archive&gt;\r\n              &lt;manifest&gt;\r\n                &lt;mainClass&gt;fully.qualified.MainClass&lt;/mainClass&gt;\r\n              &lt;/manifest&gt;\r\n            &lt;/archive&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nThen, to generate the assembly, just run:\r\n\r\n    mvn assembly:assembly\r\n\r\nIf you want to generate the assembly as part of your build, simply bind the `assembly:single` mojo to the package phase:\r\n\r\n    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n          &lt;configuration&gt;\r\n            &lt;descriptorRefs&gt;\r\n              &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n            &lt;/descriptorRefs&gt;\r\n            &lt;archive&gt;\r\n              &lt;manifest&gt;\r\n                &lt;mainClass&gt;fully.qualified.MainClass&lt;/mainClass&gt;\r\n              &lt;/manifest&gt;\r\n            &lt;/archive&gt;\r\n          &lt;/configuration&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;phase&gt;package&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;single&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nAnd simply run:\r\n\r\n    mvn package","title":"Building a runnable jar with Maven 2","body":"<p>The easiest way to do this would be to create an assembly using the <code>maven-assembly-plugin</code> and the predefined <code>jar-with-dependencies</code> descriptor. You'll also need to generate a manifest with a main-class entry for this uber jar. The snippet below shows how to configure the assembly plugin to do so:</p>\n\n<pre><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n      &lt;configuration&gt;\n        &lt;descriptorRefs&gt;\n          &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n        &lt;/descriptorRefs&gt;\n        &lt;archive&gt;\n          &lt;manifest&gt;\n            &lt;mainClass&gt;fully.qualified.MainClass&lt;/mainClass&gt;\n          &lt;/manifest&gt;\n        &lt;/archive&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>Then, to generate the assembly, just run:</p>\n\n<pre><code>mvn assembly:assembly\n</code></pre>\n\n<p>If you want to generate the assembly as part of your build, simply bind the <code>assembly:single</code> mojo to the package phase:</p>\n\n<pre><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n      &lt;configuration&gt;\n        &lt;descriptorRefs&gt;\n          &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n        &lt;/descriptorRefs&gt;\n        &lt;archive&gt;\n          &lt;manifest&gt;\n            &lt;mainClass&gt;fully.qualified.MainClass&lt;/mainClass&gt;\n          &lt;/manifest&gt;\n        &lt;/archive&gt;\n      &lt;/configuration&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;phase&gt;package&lt;/phase&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;single&lt;/goal&gt;\n          &lt;/goals&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>And simply run:</p>\n\n<pre><code>mvn package\n</code></pre>\n"},{"tags":[],"owner":{"account_id":409026,"reputation":1559,"user_id":780036,"display_name":"formixian"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1331822648,"creation_date":1331561493,"answer_id":9668642,"question_id":2022032,"body_markdown":"I Agree with Joachim Sauer, \r\n\r\nInstead of using jar-with-dependency you should configure the jar plugin like that in your pom.xml:\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.4&lt;/version&gt;\r\n    \t&lt;configuration&gt;\r\n    \t\t&lt;archive&gt;\r\n    \t\t\t&lt;index&gt;true&lt;/index&gt;\r\n    \t\t\t&lt;manifest&gt;\r\n    \t\t\t\t&lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n    \t\t\t\t&lt;mainClass&gt;[mainClassFullName]&lt;/mainClass&gt;\r\n    \t\t\t&lt;/manifest&gt;\r\n    \t\t\t&lt;manifestEntries&gt;\r\n    \t\t\t\t&lt;mode&gt;development&lt;/mode&gt;\r\n    \t\t\t\t&lt;url&gt;${project.url}&lt;/url&gt;\r\n    \t\t\t\t&lt;key&gt;value&lt;/key&gt;\r\n    \t\t\t&lt;/manifestEntries&gt;\r\n    \t\t&lt;/archive&gt;\r\n    \t&lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nAnd use this assembly configuration to add the jar dependencies to you assembly:\r\n\r\n    &lt;assembly xmlns=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0&quot; \r\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0 http://maven.apache.org/xsd/assembly-1.1.0.xsd&quot;&gt;\r\n      &lt;id&gt;zip-with-jars&lt;/id&gt;\r\n      &lt;formats&gt;\r\n        &lt;format&gt;zip&lt;/format&gt;\r\n      &lt;/formats&gt;\r\n      &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\r\n      &lt;dependencySets&gt;\r\n        &lt;dependencySets&gt;\r\n\t    &lt;dependencySet&gt;\r\n\t\t&lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\r\n\t\t&lt;useProjectArtifact&gt;true&lt;/useProjectArtifact&gt;\r\n\t\t&lt;unpack&gt;false&lt;/unpack&gt;\r\n\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t    &lt;/dependencySet&gt;\r\n\t&lt;/dependencySets&gt;\r\n      &lt;/dependencySets&gt;\r\n    &lt;/assembly&gt;","title":"Building a runnable jar with Maven 2","body":"<p>I Agree with Joachim Sauer, </p>\n\n<p>Instead of using jar-with-dependency you should configure the jar plugin like that in your pom.xml:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.4&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;archive&gt;\n            &lt;index&gt;true&lt;/index&gt;\n            &lt;manifest&gt;\n                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                &lt;mainClass&gt;[mainClassFullName]&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n            &lt;manifestEntries&gt;\n                &lt;mode&gt;development&lt;/mode&gt;\n                &lt;url&gt;${project.url}&lt;/url&gt;\n                &lt;key&gt;value&lt;/key&gt;\n            &lt;/manifestEntries&gt;\n        &lt;/archive&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>And use this assembly configuration to add the jar dependencies to you assembly:</p>\n\n<pre><code>&lt;assembly xmlns=\"http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0\" \n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0 http://maven.apache.org/xsd/assembly-1.1.0.xsd\"&gt;\n  &lt;id&gt;zip-with-jars&lt;/id&gt;\n  &lt;formats&gt;\n    &lt;format&gt;zip&lt;/format&gt;\n  &lt;/formats&gt;\n  &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\n  &lt;dependencySets&gt;\n    &lt;dependencySets&gt;\n    &lt;dependencySet&gt;\n    &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\n    &lt;useProjectArtifact&gt;true&lt;/useProjectArtifact&gt;\n    &lt;unpack&gt;false&lt;/unpack&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependencySet&gt;\n&lt;/dependencySets&gt;\n  &lt;/dependencySets&gt;\n&lt;/assembly&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2801676,"reputation":81,"user_id":2409824,"display_name":"user2409824"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1375709420,"creation_date":1375709420,"answer_id":18059413,"question_id":2022032,"body_markdown":"This is what I would do for small projects. Most of the time you don&#39;t want one huge jar.\r\n\r\n**to build:**\r\nmvn clean dependency:copy-dependencies package\r\n\r\n**to execute (*in target dir*):**\r\njava -cp myjar.jar:./dependency/* com.something.MyClass","title":"Building a runnable jar with Maven 2","body":"<p>This is what I would do for small projects. Most of the time you don't want one huge jar.</p>\n\n<p><strong>to build:</strong>\nmvn clean dependency:copy-dependencies package</p>\n\n<p><strong>to execute (<em>in target dir</em>):</strong>\njava -cp myjar.jar:./dependency/* com.something.MyClass</p>\n"},{"tags":[],"owner":{"account_id":2807582,"reputation":1003,"user_id":2414505,"accept_rate":81,"display_name":"likeGreen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1406675507,"creation_date":1406675507,"answer_id":25026422,"question_id":2022032,"body_markdown":"Just add the below code in pom.xml and Run as: maven:install . The jar will be created in target folder of eclipse which can be used as &quot;java -jar Hello.jar&quot; . but make sure that name of main class is given &lt;main-class&gt;com.abc.HelloWorld.java&lt;/main-class&gt;\r\n\r\n    &lt;build&gt;\r\n    &lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n    &lt;groupid&gt;org.apache.maven.plugins&lt;/groupid&gt;\r\n    &lt;artifactid&gt;maven-shade-plugin&lt;/artifactid&gt;\r\n    &lt;executions&gt;\r\n    &lt;execution&gt;\r\n    &lt;phase&gt;package&lt;/phase&gt;\r\n    &lt;goals&gt;\r\n    &lt;goal&gt;shade&lt;/goal&gt;\r\n    &lt;/goals&gt;\r\n    &lt;configuration&gt;\r\n    &lt;finalname&gt;HelloW&lt;/finalname&gt;\r\n    &lt;transformers&gt;\r\n    &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n    &lt;manifestentries&gt;\r\n    &lt;main-class&gt;com.abc.HelloWorld.java&lt;/main-class&gt;\r\n    &lt;build-number&gt;1&lt;/build-number&gt;\r\n    &lt;/manifestentries&gt;\r\n    &lt;/transformer&gt;\r\n    &lt;/transformers&gt;\r\n    &lt;/configuration&gt;\r\n    &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n    \r\n    &lt;/build&gt;","title":"Building a runnable jar with Maven 2","body":"<p>Just add the below code in pom.xml and Run as: maven:install . The jar will be created in target folder of eclipse which can be used as \"java -jar Hello.jar\" . but make sure that name of main class is given com.abc.HelloWorld.java</p>\n\n<pre><code>&lt;build&gt;\n&lt;plugins&gt;\n&lt;plugin&gt;\n&lt;groupid&gt;org.apache.maven.plugins&lt;/groupid&gt;\n&lt;artifactid&gt;maven-shade-plugin&lt;/artifactid&gt;\n&lt;executions&gt;\n&lt;execution&gt;\n&lt;phase&gt;package&lt;/phase&gt;\n&lt;goals&gt;\n&lt;goal&gt;shade&lt;/goal&gt;\n&lt;/goals&gt;\n&lt;configuration&gt;\n&lt;finalname&gt;HelloW&lt;/finalname&gt;\n&lt;transformers&gt;\n&lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\"&gt;\n&lt;manifestentries&gt;\n&lt;main-class&gt;com.abc.HelloWorld.java&lt;/main-class&gt;\n&lt;build-number&gt;1&lt;/build-number&gt;\n&lt;/manifestentries&gt;\n&lt;/transformer&gt;\n&lt;/transformers&gt;\n&lt;/configuration&gt;\n&lt;/execution&gt;\n&lt;/executions&gt;\n&lt;/plugin&gt;\n&lt;/plugins&gt;\n\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":323460,"reputation":2036,"user_id":643483,"display_name":"Aaron Kurtzhals"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663944242,"creation_date":1663944242,"answer_id":73829476,"question_id":2022032,"body_markdown":"I have a spring boot application, and the jar created by maven package can be run without setting up additional plugins.\r\n\r\nInside my pom.xml:\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.12&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\nhttps://spring.io/projects/spring-boot","title":"Building a runnable jar with Maven 2","body":"<p>I have a spring boot application, and the jar created by maven package can be run without setting up additional plugins.</p>\n<p>Inside my pom.xml:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.6.12&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n<p><a href=\"https://spring.io/projects/spring-boot\" rel=\"nofollow noreferrer\">https://spring.io/projects/spring-boot</a></p>\n"}],"owner":{"account_id":29046,"reputation":66704,"user_id":78182,"accept_rate":94,"display_name":"Stefan Kendall"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100214,"favorite_count":0,"down_vote_count":0,"up_vote_count":86,"accepted_answer_id":2022272,"answer_count":6,"score":86,"last_activity_date":1663944242,"creation_date":1262883433,"question_id":2022032,"body_markdown":"I&#39;m relatively new to the Maven mantra, but I&#39;m trying to build a command-line runnable jar with Maven. I&#39;ve setup my dependencies, but when I run `mvn install` and attempt to run the jar, two things happen. First, no main class is found, which is correctable. When I&#39;ve corrected this, I get errors on run stating that classes cannot be found.\r\n\r\nMaven is not packaging my dependency libraries inside of the jar, so I am unable to run the jar as a stand-alone application. How do I correct this?","title":"Building a runnable jar with Maven 2","body":"<p>I'm relatively new to the Maven mantra, but I'm trying to build a command-line runnable jar with Maven. I've setup my dependencies, but when I run <code>mvn install</code> and attempt to run the jar, two things happen. First, no main class is found, which is correctable. When I've corrected this, I get errors on run stating that classes cannot be found.</p>\n\n<p>Maven is not packaging my dependency libraries inside of the jar, so I am unable to run the jar as a stand-alone application. How do I correct this?</p>\n"},{"tags":["java","apache-kafka","batching"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1663939720,"post_id":73824858,"comment_id":130363775,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663944232,"creation_date":1663944232,"answer_id":73829475,"question_id":73824858,"body_markdown":"It blocks to flush the buffer of records and wait for any configured ack of the producer.\r\n\r\n`KafkaProducer` is thread safe, so calling `send` in a non blocked thread should work, but may result in out-of-order events.\r\n\r\nOtherwise, yes, you can call send as many times as needed to batch up data, and not get the first Future. ","title":"Does Kafka Batching work with blocking send?","body":"<p>It blocks to flush the buffer of records and wait for any configured ack of the producer.</p>\n<p><code>KafkaProducer</code> is thread safe, so calling <code>send</code> in a non blocked thread should work, but may result in out-of-order events.</p>\n<p>Otherwise, yes, you can call send as many times as needed to batch up data, and not get the first Future.</p>\n"}],"owner":{"account_id":26420687,"reputation":1,"user_id":20068410,"display_name":"Vishal Makwana"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663944232,"creation_date":1663921029,"question_id":73824858,"body_markdown":"Considering that the producer.send() method returns a Future, does doing a future.get() right after it block the batching of records as well ?","title":"Does Kafka Batching work with blocking send?","body":"<p>Considering that the producer.send() method returns a Future, does doing a future.get() right after it block the batching of records as well ?</p>\n"},{"tags":["java","xml","gradle","gradle-kotlin-dsl"],"answers":[{"tags":[],"owner":{"account_id":292835,"reputation":6407,"user_id":595833,"accept_rate":94,"display_name":"bobbyrne01"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663944212,"creation_date":1663944212,"answer_id":73829468,"question_id":73828489,"body_markdown":"Split across lines:\r\n\r\n```\r\nval transformerFactory = TransformerFactory.newInstance()\r\nval transformer = transformerFactory.newTransformer()\r\n```","title":"Correct way to create TransformerFactory.newInstance().newTransformer() using Gradle Kotlin DSL","body":"<p>Split across lines:</p>\n<pre><code>val transformerFactory = TransformerFactory.newInstance()\nval transformer = transformerFactory.newTransformer()\n</code></pre>\n"}],"owner":{"account_id":292835,"reputation":6407,"user_id":595833,"accept_rate":94,"display_name":"bobbyrne01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73829468,"answer_count":1,"score":0,"last_activity_date":1663944212,"creation_date":1663939822,"question_id":73828489,"body_markdown":"How do I resolve this error?\r\n\r\nTransformer -&gt; `2 type arguments expected for interface Transformer&lt;OUT : Any!, IN : Any!&gt;`\r\n\r\nCode:\r\n```\r\n..\r\nvar liquibaseChangelog: File = File(&quot;${project.rootProject.projectDir}/src/main/resources/config/liquibase/changelog/changelog-root.xml&quot;)\r\n\r\nval source: Source = DOMSource(doc)\r\nval result = StreamResult(FileWriter(liquibaseChangelog))\r\n\r\nval transformer: Transformer = TransformerFactory.newInstance().newTransformer() // Error on `Transformer`\r\ntransformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;)\r\ntransformer.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;2&quot;)\r\n```","title":"Correct way to create TransformerFactory.newInstance().newTransformer() using Gradle Kotlin DSL","body":"<p>How do I resolve this error?</p>\n<p>Transformer -&gt; <code>2 type arguments expected for interface Transformer&lt;OUT : Any!, IN : Any!&gt;</code></p>\n<p>Code:</p>\n<pre><code>..\nvar liquibaseChangelog: File = File(&quot;${project.rootProject.projectDir}/src/main/resources/config/liquibase/changelog/changelog-root.xml&quot;)\n\nval source: Source = DOMSource(doc)\nval result = StreamResult(FileWriter(liquibaseChangelog))\n\nval transformer: Transformer = TransformerFactory.newInstance().newTransformer() // Error on `Transformer`\ntransformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;)\ntransformer.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;2&quot;)\n</code></pre>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka","jsonserializer"],"answers":[{"tags":[],"owner":{"account_id":18142591,"reputation":151,"user_id":13196276,"display_name":"Alexander Bobryakov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1663943791,"creation_date":1663942885,"answer_id":73829192,"question_id":73825223,"body_markdown":"I think the mistake is that your `producerConfig()` is not being used (try to debug it), because your `producerFactory()` method does not have `@Bean` annotation and Spring creates own `Bean` in `org.springframework.boot.autoconfigure.kafka.KafkaAutoConfiguration` class:\r\n\r\n    @Bean\r\n    @ConditionalOnMissingBean({ProducerFactory.class})\r\n    public ProducerFactory&lt;?, ?&gt; kafkaProducerFactory(ObjectProvider&lt;DefaultKafkaProducerFactoryCustomizer&gt; customizers) {...}\r\n\r\nThis `KafkaAutoConfiguration` class has field `org.springframework.boot.autoconfigure.kafka.KafkaProperties`- it is your application.yml binding with `spring.kafka...` properties, which is used for create bean `ProducerFactory`. But your `application.yml` has an invalid property `value.serializer` instead of `value-serializer`.\r\n\r\n\r\nSolution\r\n--------\r\n\r\nTry to add `@Bean` annotation on your `producerFactory()` method or fix name of  `value.serializer` property to `value-serializer`.\r\n\r\nBut I recommend you use Spring `KafkaProperties` in your `@Configuration` class and define kafka properties in the `application.yml` file:\r\n\r\n    @Configuration\r\n    public class KafkaProducerConfig {\r\n        private final KafkaProperties kafkaProperties;\r\n\r\n        public KafkaConfig(KafkaProperties kafkaProperties) {\r\n            this.kafkaProperties = kafkaProperties;\r\n        }\r\n\r\n        @Bean\r\n        public ProducerFactory&lt;String, CustomType&gt; producerFactory() {\r\n            return new DefaultKafkaProducerFactory&lt;&gt;(kafkaProperties.buildProducerProperties());\r\n        }\r\n\r\n        @Bean\r\n        public KafkaTemplate&lt;String, CustomType&gt; kafkaTemplate(ProducerFactory&lt;String, CustomType&gt; producerFactory) {\r\n            return new KafkaTemplate&lt;&gt;(producerFactory);\r\n        }\r\n    }\r\n\r\nwith `application.yml`:\r\n\r\n    spring:\r\n      kafka:\r\n        producer:\r\n          batch-size: ...\r\n          ...\r\n          properties:\r\n            ...\r\n          value-serializer: org.springframework.kafka.support.serializer.JsonSerializer\r\n          key-serializer: org.apache.kafka.common.serialization.StringSerializer\r\n        bootstrap-servers:\r\n          - localhost:9092\r\n \r\n\r\n","title":"springboot kafka value.serializer = StringSerializer despite producerConfig and the application.yml showing otherwise","body":"<p>I think the mistake is that your <code>producerConfig()</code> is not being used (try to debug it), because your <code>producerFactory()</code> method does not have <code>@Bean</code> annotation and Spring creates own <code>Bean</code> in <code>org.springframework.boot.autoconfigure.kafka.KafkaAutoConfiguration</code> class:</p>\n<pre><code>@Bean\n@ConditionalOnMissingBean({ProducerFactory.class})\npublic ProducerFactory&lt;?, ?&gt; kafkaProducerFactory(ObjectProvider&lt;DefaultKafkaProducerFactoryCustomizer&gt; customizers) {...}\n</code></pre>\n<p>This <code>KafkaAutoConfiguration</code> class has field <code>org.springframework.boot.autoconfigure.kafka.KafkaProperties</code>- it is your application.yml binding with <code>spring.kafka...</code> properties, which is used for create bean <code>ProducerFactory</code>. But your <code>application.yml</code> has an invalid property <code>value.serializer</code> instead of <code>value-serializer</code>.</p>\n<h2>Solution</h2>\n<p>Try to add <code>@Bean</code> annotation on your <code>producerFactory()</code> method or fix name of  <code>value.serializer</code> property to <code>value-serializer</code>.</p>\n<p>But I recommend you use Spring <code>KafkaProperties</code> in your <code>@Configuration</code> class and define kafka properties in the <code>application.yml</code> file:</p>\n<pre><code>@Configuration\npublic class KafkaProducerConfig {\n    private final KafkaProperties kafkaProperties;\n\n    public KafkaConfig(KafkaProperties kafkaProperties) {\n        this.kafkaProperties = kafkaProperties;\n    }\n\n    @Bean\n    public ProducerFactory&lt;String, CustomType&gt; producerFactory() {\n        return new DefaultKafkaProducerFactory&lt;&gt;(kafkaProperties.buildProducerProperties());\n    }\n\n    @Bean\n    public KafkaTemplate&lt;String, CustomType&gt; kafkaTemplate(ProducerFactory&lt;String, CustomType&gt; producerFactory) {\n        return new KafkaTemplate&lt;&gt;(producerFactory);\n    }\n}\n</code></pre>\n<p>with <code>application.yml</code>:</p>\n<pre><code>spring:\n  kafka:\n    producer:\n      batch-size: ...\n      ...\n      properties:\n        ...\n      value-serializer: org.springframework.kafka.support.serializer.JsonSerializer\n      key-serializer: org.apache.kafka.common.serialization.StringSerializer\n    bootstrap-servers:\n      - localhost:9092\n</code></pre>\n"}],"owner":{"account_id":15628680,"reputation":501,"user_id":11275562,"display_name":"Icarus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3246,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73829192,"answer_count":1,"score":1,"last_activity_date":1663944068,"creation_date":1663922960,"question_id":73825223,"body_markdown":"I&#39;m having trouble with my Kafka producer. For some reason, the value.serializer is being set to StringSerializer despite me specifically setting it to JsonSerializer in both the producerConfig and the application.yml as you can see below\r\n\r\n```\r\npublic class KafkaProducerConfig {\r\n\r\n    @Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\r\n    private String bootstrapServers;\r\n\r\n    public Map&lt;String, Object&gt; producerConfig(){\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\r\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);\r\n        return props;\r\n    }\r\n\r\n    public ProducerFactory&lt;String, CustomType &gt; producerFactory(){\r\n        return new DefaultKafkaProducerFactory&lt;&gt;(producerConfig());\r\n    }\r\n\r\n    @Bean\r\n    public KafkaTemplate&lt;String, CustomType &gt; kafkaTemplate(ProducerFactory&lt;String, CustomType &gt; producerFactory){\r\n        return new KafkaTemplate&lt;&gt;(producerFactory);\r\n    }\r\n}\r\n```\r\nAnd once again in the application.yml file, just for good measure\r\n```\r\nspring:\r\n  kafka:\r\n    producer:\r\n      value.serializer: org.springframework.kafka.support.serializer.JsonSerializer\r\n```\r\nThe problem lies here in the last line of this producerConfig; somehow the value.serializer is now StringSerializer.\r\n```\r\nProducerConfig values: \r\n\tacks = -1\r\n\tbatch.size = 65536\r\n\tbootstrap.servers = [***********,***********]\r\n\tbuffer.memory = 33554432\r\n\tclient.dns.lookup = use_all_dns_ips\r\n\tclient.id = producer-1\r\n\tcompression.type = lz4\r\n\tconnections.max.idle.ms = 540000\r\n\tdelivery.timeout.ms = 120000\r\n\tenable.idempotence = true\r\n\tinterceptor.classes = []\r\n\tkey.serializer = class org.apache.kafka.common.serialization.StringSerializer\r\n\tlinger.ms = 0\r\n\tmax.block.ms = 60000\r\n\tmax.in.flight.requests.per.connection = 5\r\n\tmax.request.size = 52428800\r\n\tmetadata.max.age.ms = 300000\r\n\tmetadata.max.idle.ms = 300000\r\n\tmetric.reporters = []\r\n\tmetrics.num.samples = 2\r\n\tmetrics.recording.level = INFO\r\n\tmetrics.sample.window.ms = 30000\r\n\tpartitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner\r\n\treceive.buffer.bytes = 32768\r\n\treconnect.backoff.max.ms = 1000\r\n\treconnect.backoff.ms = 50\r\n\trequest.timeout.ms = 30000\r\n\tretries = 2147483647\r\n\tretry.backoff.ms = 100\r\n\tsasl.client.callback.handler.class = null\r\n\tsasl.jaas.config = null\r\n\tsasl.kerberos.kinit.cmd = /usr/bin/kinit\r\n\tsasl.kerberos.min.time.before.relogin = 60000\r\n\tsasl.kerberos.service.name = null\r\n\tsasl.kerberos.ticket.renew.jitter = 0.05\r\n\tsasl.kerberos.ticket.renew.window.factor = 0.8\r\n\tsasl.login.callback.handler.class = null\r\n\tsasl.login.class = null\r\n\tsasl.login.refresh.buffer.seconds = 300\r\n\tsasl.login.refresh.min.period.seconds = 60\r\n\tsasl.login.refresh.window.factor = 0.8\r\n\tsasl.login.refresh.window.jitter = 0.05\r\n\tsasl.mechanism = GSSAPI\r\n\tsecurity.protocol = PLAINTEXT\r\n\tsecurity.providers = null\r\n\tsend.buffer.bytes = 131072\r\n\tsocket.connection.setup.timeout.max.ms = 30000\r\n\tsocket.connection.setup.timeout.ms = 10000\r\n\tssl.cipher.suites = null\r\n\tssl.enabled.protocols = [TLSv1.2, TLSv1.3]\r\n\tssl.endpoint.identification.algorithm = https\r\n\tssl.engine.factory.class = null\r\n\tssl.key.password = null\r\n\tssl.keymanager.algorithm = SunX509\r\n\tssl.keystore.certificate.chain = null\r\n\tssl.keystore.key = null\r\n\tssl.keystore.location = null\r\n\tssl.keystore.password = null\r\n\tssl.keystore.type = JKS\r\n\tssl.protocol = TLSv1.3\r\n\tssl.provider = null\r\n\tssl.secure.random.implementation = null\r\n\tssl.trustmanager.algorithm = PKIX\r\n\tssl.truststore.certificates = null\r\n\tssl.truststore.location = null\r\n\tssl.truststore.password = null\r\n\tssl.truststore.type = JKS\r\n\ttransaction.timeout.ms = 60000\r\n\ttransactional.id = null\r\n\tvalue.serializer = class org.apache.kafka.common.serialization.StringSerializer\r\n```\r\nUnsuprisingly this is causing a ```org.apache.kafka.common.errors.SerializationException: Can&#39;t convert value of class CustomType to class org.apache.kafka.common.serialization.StringSerializer specified in value.serializer```\r\n\r\nI can confirm that the correct profile is active from ```The following 1 profile is active: &quot;test&quot;```\r\n\r\nI also pinged the bootStrapServers and both of them are up and running\r\n\r\nAnother thing is that I searched all files in my projects and the only place where StringSerializer is even used is in the producerConfig when setting the KEY_SERIALIZER_CLASS_CONFIG. \r\n\r\nJust a bit more context, below is the function I use in order to send the kafka message\r\n```\r\n@Slf4j\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class KafkaTelemetryRawSend {\r\n\r\n    @Autowired\r\n    private KafkaTemplate&lt;String, CustomType &gt; kafkaTemplate;\r\n\r\n    public void send(CustomType customType){\r\n        System.out.println(&quot;kafka sending&quot;);\r\n        kafkaTemplate.send(&quot;topic&quot;, customType);\r\n    }\r\n}\r\n```\r\n\r\nAny help/suggestions to put me in the right direction would be much appreciated","title":"springboot kafka value.serializer = StringSerializer despite producerConfig and the application.yml showing otherwise","body":"<p>I'm having trouble with my Kafka producer. For some reason, the value.serializer is being set to StringSerializer despite me specifically setting it to JsonSerializer in both the producerConfig and the application.yml as you can see below</p>\n<pre><code>public class KafkaProducerConfig {\n\n    @Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\n    private String bootstrapServers;\n\n    public Map&lt;String, Object&gt; producerConfig(){\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);\n        return props;\n    }\n\n    public ProducerFactory&lt;String, CustomType &gt; producerFactory(){\n        return new DefaultKafkaProducerFactory&lt;&gt;(producerConfig());\n    }\n\n    @Bean\n    public KafkaTemplate&lt;String, CustomType &gt; kafkaTemplate(ProducerFactory&lt;String, CustomType &gt; producerFactory){\n        return new KafkaTemplate&lt;&gt;(producerFactory);\n    }\n}\n</code></pre>\n<p>And once again in the application.yml file, just for good measure</p>\n<pre><code>spring:\n  kafka:\n    producer:\n      value.serializer: org.springframework.kafka.support.serializer.JsonSerializer\n</code></pre>\n<p>The problem lies here in the last line of this producerConfig; somehow the value.serializer is now StringSerializer.</p>\n<pre><code>ProducerConfig values: \n    acks = -1\n    batch.size = 65536\n    bootstrap.servers = [***********,***********]\n    buffer.memory = 33554432\n    client.dns.lookup = use_all_dns_ips\n    client.id = producer-1\n    compression.type = lz4\n    connections.max.idle.ms = 540000\n    delivery.timeout.ms = 120000\n    enable.idempotence = true\n    interceptor.classes = []\n    key.serializer = class org.apache.kafka.common.serialization.StringSerializer\n    linger.ms = 0\n    max.block.ms = 60000\n    max.in.flight.requests.per.connection = 5\n    max.request.size = 52428800\n    metadata.max.age.ms = 300000\n    metadata.max.idle.ms = 300000\n    metric.reporters = []\n    metrics.num.samples = 2\n    metrics.recording.level = INFO\n    metrics.sample.window.ms = 30000\n    partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner\n    receive.buffer.bytes = 32768\n    reconnect.backoff.max.ms = 1000\n    reconnect.backoff.ms = 50\n    request.timeout.ms = 30000\n    retries = 2147483647\n    retry.backoff.ms = 100\n    sasl.client.callback.handler.class = null\n    sasl.jaas.config = null\n    sasl.kerberos.kinit.cmd = /usr/bin/kinit\n    sasl.kerberos.min.time.before.relogin = 60000\n    sasl.kerberos.service.name = null\n    sasl.kerberos.ticket.renew.jitter = 0.05\n    sasl.kerberos.ticket.renew.window.factor = 0.8\n    sasl.login.callback.handler.class = null\n    sasl.login.class = null\n    sasl.login.refresh.buffer.seconds = 300\n    sasl.login.refresh.min.period.seconds = 60\n    sasl.login.refresh.window.factor = 0.8\n    sasl.login.refresh.window.jitter = 0.05\n    sasl.mechanism = GSSAPI\n    security.protocol = PLAINTEXT\n    security.providers = null\n    send.buffer.bytes = 131072\n    socket.connection.setup.timeout.max.ms = 30000\n    socket.connection.setup.timeout.ms = 10000\n    ssl.cipher.suites = null\n    ssl.enabled.protocols = [TLSv1.2, TLSv1.3]\n    ssl.endpoint.identification.algorithm = https\n    ssl.engine.factory.class = null\n    ssl.key.password = null\n    ssl.keymanager.algorithm = SunX509\n    ssl.keystore.certificate.chain = null\n    ssl.keystore.key = null\n    ssl.keystore.location = null\n    ssl.keystore.password = null\n    ssl.keystore.type = JKS\n    ssl.protocol = TLSv1.3\n    ssl.provider = null\n    ssl.secure.random.implementation = null\n    ssl.trustmanager.algorithm = PKIX\n    ssl.truststore.certificates = null\n    ssl.truststore.location = null\n    ssl.truststore.password = null\n    ssl.truststore.type = JKS\n    transaction.timeout.ms = 60000\n    transactional.id = null\n    value.serializer = class org.apache.kafka.common.serialization.StringSerializer\n</code></pre>\n<p>Unsuprisingly this is causing a <code>org.apache.kafka.common.errors.SerializationException: Can't convert value of class CustomType to class org.apache.kafka.common.serialization.StringSerializer specified in value.serializer</code></p>\n<p>I can confirm that the correct profile is active from <code>The following 1 profile is active: &quot;test&quot;</code></p>\n<p>I also pinged the bootStrapServers and both of them are up and running</p>\n<p>Another thing is that I searched all files in my projects and the only place where StringSerializer is even used is in the producerConfig when setting the KEY_SERIALIZER_CLASS_CONFIG.</p>\n<p>Just a bit more context, below is the function I use in order to send the kafka message</p>\n<pre><code>@Slf4j\n@Service\n@RequiredArgsConstructor\npublic class KafkaTelemetryRawSend {\n\n    @Autowired\n    private KafkaTemplate&lt;String, CustomType &gt; kafkaTemplate;\n\n    public void send(CustomType customType){\n        System.out.println(&quot;kafka sending&quot;);\n        kafkaTemplate.send(&quot;topic&quot;, customType);\n    }\n}\n</code></pre>\n<p>Any help/suggestions to put me in the right direction would be much appreciated</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663943436,"creation_date":1663543132,"answer_id":73766987,"question_id":73764860,"body_markdown":"Your issue stems from BeverageEntity having a categoryId rather than a CategoryEntity. Normal bidirectional relationship would be as follows:\r\n```\r\n    // CategoryEntity\r\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;category&quot;)\r\n    List&lt;BeveragesEntity&gt; beverages;\r\n\r\n    // BeverageEntity\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;CATEGORY_ID&quot;)\r\n    private CategoryEntity category;\r\n```\r\nBefore saving, as well as setting beverages collection into category you should also ensure each beverage has a category set. Here&#39;s a tweak to your service method with comments highlighting this.\r\n```\r\n    public CategoryEntity addCategory(CategoryRequest request) {\r\n\r\n        List&lt;BeveragesModel&gt; beveragesModel = request.getCategory().getBeverages();\r\n        \r\n        CategoryEntity categoryEntity = CategoryEntity.builder()\r\n                .categoryName(request.getCategory().getCategoryName())\r\n                .build();\r\n\r\n        List&lt;BeveragesEntity&gt; beveragesEnties = new ArrayList&lt;&gt;();\r\n        if (!beveragesModel.isEmpty()) {\r\n            for (BeveragesModel model : beveragesModel) {\r\n                BeveragesEntity beveragesEntity = BeveragesEntity.builder()\r\n                        .name(model.getName())\r\n                        .price(model.getPrice())\r\n                        .category(categoryEntity) // set category in each beverage\r\n                        .build();\r\n                beveragesEnties.add(beveragesEntity);\r\n            }\r\n        }\r\n\r\n        categoryEntity.setBeverages(beveragesEnties); // set beverages in category\r\n\r\n        return categoryRepository.save(categoryEntity);\r\n    }\r\n```\r\nAs you are returning the identities themselves from the controller there is a circular dependency between CategoryEntity and BeveragesEntity so you need to prevent this. In your case you want to include the categoryId in your beverages json objects so you can do this by adding the following annotations to the category field in BeveragesEntity. I am not sure of how the client is handling the data returned, but including the categoryId is just duplicating the id that already in the category json object\r\n```\r\n    @JsonProperty(&quot;categoryId&quot;)\r\n    @JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;)\r\n    @JsonIdentityReference(alwaysAsId = true)\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;CATEGORY_ID&quot;)\r\n    private CategoryEntity category;\r\n```\r\nI implemented your code and made the above changes above and the response back from the controller was as follows\r\n```\r\n{\r\n    &quot;id&quot;: 1,\r\n    &quot;categoryName&quot;: &quot;Alkoholna pica&quot;,\r\n    &quot;beverages&quot;: [\r\n        {\r\n            &quot;id&quot;: 2,\r\n            &quot;name&quot;: &quot;Ozujsko&quot;,\r\n            &quot;price&quot;: 16.0,\r\n            &quot;categoryId&quot;: 1\r\n        },\r\n        {\r\n            &quot;id&quot;: 3,\r\n            &quot;name&quot;: &quot;Stella Artois&quot;,\r\n            &quot;price&quot;: 18.0,\r\n            &quot;categoryId&quot;: 1\r\n        }\r\n    ]\r\n}\r\n```\r\nLastly I would avoid using Lombok with Entities, particularly as @Data will autogenerate equals and hashcode methods and you want to ensure they are implemented correctly as you are using database generated identifiers [article here][1]\r\n\r\n\r\n  [1]: https://vladmihalcea.com/the-best-way-to-implement-equals-hashcode-and-tostring-with-jpa-and-hibernate/","title":"OneToMany returns null in response on JoinColumn from target Entity even though value was inserted in database - Spring boot JPA","body":"<p>Your issue stems from BeverageEntity having a categoryId rather than a CategoryEntity. Normal bidirectional relationship would be as follows:</p>\n<pre><code>    // CategoryEntity\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;category&quot;)\n    List&lt;BeveragesEntity&gt; beverages;\n\n    // BeverageEntity\n    @ManyToOne\n    @JoinColumn(name = &quot;CATEGORY_ID&quot;)\n    private CategoryEntity category;\n</code></pre>\n<p>Before saving, as well as setting beverages collection into category you should also ensure each beverage has a category set. Here's a tweak to your service method with comments highlighting this.</p>\n<pre><code>    public CategoryEntity addCategory(CategoryRequest request) {\n\n        List&lt;BeveragesModel&gt; beveragesModel = request.getCategory().getBeverages();\n        \n        CategoryEntity categoryEntity = CategoryEntity.builder()\n                .categoryName(request.getCategory().getCategoryName())\n                .build();\n\n        List&lt;BeveragesEntity&gt; beveragesEnties = new ArrayList&lt;&gt;();\n        if (!beveragesModel.isEmpty()) {\n            for (BeveragesModel model : beveragesModel) {\n                BeveragesEntity beveragesEntity = BeveragesEntity.builder()\n                        .name(model.getName())\n                        .price(model.getPrice())\n                        .category(categoryEntity) // set category in each beverage\n                        .build();\n                beveragesEnties.add(beveragesEntity);\n            }\n        }\n\n        categoryEntity.setBeverages(beveragesEnties); // set beverages in category\n\n        return categoryRepository.save(categoryEntity);\n    }\n</code></pre>\n<p>As you are returning the identities themselves from the controller there is a circular dependency between CategoryEntity and BeveragesEntity so you need to prevent this. In your case you want to include the categoryId in your beverages json objects so you can do this by adding the following annotations to the category field in BeveragesEntity. I am not sure of how the client is handling the data returned, but including the categoryId is just duplicating the id that already in the category json object</p>\n<pre><code>    @JsonProperty(&quot;categoryId&quot;)\n    @JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;)\n    @JsonIdentityReference(alwaysAsId = true)\n    @ManyToOne\n    @JoinColumn(name = &quot;CATEGORY_ID&quot;)\n    private CategoryEntity category;\n</code></pre>\n<p>I implemented your code and made the above changes above and the response back from the controller was as follows</p>\n<pre><code>{\n    &quot;id&quot;: 1,\n    &quot;categoryName&quot;: &quot;Alkoholna pica&quot;,\n    &quot;beverages&quot;: [\n        {\n            &quot;id&quot;: 2,\n            &quot;name&quot;: &quot;Ozujsko&quot;,\n            &quot;price&quot;: 16.0,\n            &quot;categoryId&quot;: 1\n        },\n        {\n            &quot;id&quot;: 3,\n            &quot;name&quot;: &quot;Stella Artois&quot;,\n            &quot;price&quot;: 18.0,\n            &quot;categoryId&quot;: 1\n        }\n    ]\n}\n</code></pre>\n<p>Lastly I would avoid using Lombok with Entities, particularly as @Data will autogenerate equals and hashcode methods and you want to ensure they are implemented correctly as you are using database generated identifiers <a href=\"https://vladmihalcea.com/the-best-way-to-implement-equals-hashcode-and-tostring-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">article here</a></p>\n"}],"owner":{"account_id":20152685,"reputation":1,"user_id":14779642,"display_name":"struxxx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1091,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663943436,"creation_date":1663521134,"question_id":73764860,"body_markdown":"I have two Models/Entities that are combined with @OneToMany, saving PK from one table to other as Foreign key. I want to get that newly updated foreign key in response aswell.\r\n\r\nThis is my code\r\n\r\nCategoryModel\r\n\r\n\r\n    \r\n    \r\n    \r\n    \r\n    @Data\r\n    @AllArgsConstructor\r\n    @Getter\r\n    @Builder\r\n    public class CategoryModel {\r\n    \t\r\n    \tpublic String categoryName;\r\n    \tpublic List&lt;BeveragesModel&gt; beverages;\r\n    \t\r\n    }\r\n\r\nBeveragesModel\r\n\r\n    \r\n    \r\n    @Data\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class BeveragesModel {\r\n    \t\r\n    \tpublic Integer categoryID;\r\n    \tpublic String name;\r\n    \tpublic double price;\r\n    \t\r\n    \t\r\n    }\r\n\r\nEntities of the models currently have the same fields as models\r\n\r\nBeveragesEntity\r\n\r\n    \r\n    \r\n   \r\n    \r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;BEVERAGES&quot;)\r\n    @ToString\r\n    @Builder\r\n    public class BeveragesEntity {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \t@Column(name = &quot;ID&quot;)\r\n    \tpublic Integer id;\r\n    \t@Column(name = &quot;CATEGORY_ID&quot;)\r\n    \tpublic Integer categoryId;\r\n    \t@Column(name = &quot;NAME&quot;)\r\n    \tpublic String name;\r\n    \t@Column(name = &quot;PRICE&quot;)\r\n    \tpublic double price;\r\n    \t\r\n    \t@ManyToOne\r\n    \tpublic void setCategoryId(Integer id) {\r\n    \t\tthis.categoryId=id;\r\n    \t}\r\n    \t\r\n    }\r\n    \r\nCategoryEntity\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    @Entity\r\n    @Table(name = &quot;CATEGORY&quot;)\r\n    public class CategoryEntity {\r\n    \r\n    \t// TO DO kako dobiti na front zapis iz BEVERAGES tablice za CATEGORY_ID kojeg spremam...\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \t@Column(name = &quot;ID&quot;)\r\n    \tpublic Integer id;\r\n    \t@Column(name = &quot;CATEGORY_NAME&quot;)\r\n    \tpublic String categoryName;\r\n    \t@Column(name = &quot;BEVERAGES&quot;)\r\n    \t@OneToMany(targetEntity = BeveragesEntity.class, cascade = CascadeType.ALL)\r\n    \t@JoinColumn(name = &quot;CATEGORY_ID&quot;, referencedColumnName = &quot;id&quot;)\r\n    \tList&lt;BeveragesEntity&gt; beverages;\r\n    }\r\n\r\nController is only calling service\r\n\r\n    @RestController\r\n    @CrossOrigin(origins = &quot;*&quot;)\r\n    public class CategoryController {\r\n    \r\n    \t\r\n    \t@Autowired\r\n    \tCategoryService categoryService;\r\n    \r\n    \t@RequestMapping(path = &quot;/addCategory&quot;, method = RequestMethod.PUT)\r\n    \tpublic CategoryEntity addCategory(@RequestBody CategoryRequest request) {\r\n    \t\treturn categoryService.addCategory(request);\r\n    \t}\r\n    \t\r\n    }\r\n\r\nCategoryService is currently rebuilding objects from models to entities\r\n\r\n    @Service\r\n    public class CategoryServiceImpl implements CategoryService {\r\n    \t\r\n    \t@Autowired\r\n    \tCategoryRepository categoryRepository;\r\n    \t\r\n      \tpublic CategoryEntity addCategory(CategoryRequest request) {\r\n    \t\t\r\n    \t\tList&lt;BeveragesModel&gt; beveragesModel = request.getCategory().getBeverages();\r\n    \t\tList&lt;BeveragesEntity&gt; beveragesEnties = new ArrayList&lt;&gt;();\r\n    \t\tif(!beveragesModel.isEmpty()) {\r\n    \t\t\tfor(BeveragesModel model : beveragesModel)  {\r\n    \t\t\t\tBeveragesEntity beveragesEntity = BeveragesEntity.builder()\r\n    \t\t\t\t\t\t.name(model.getName())\r\n    \t\t\t\t\t\t.price(model.getPrice())\r\n    \t\t\t\t\t\t.build();\r\n    \t\t\t\tbeveragesEnties.add(beveragesEntity);\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\tCategoryEntity categoryEntity = CategoryEntity.builder()\r\n    \t\t\t\t.categoryName(request.getCategory().getCategoryName())\r\n    \t\t\t\t.beverages(beveragesEnties)\r\n    \t\t\t\t.build();\r\n    \t\t\r\n    \t\treturn categoryRepository.save(categoryEntity);\r\n    \t}\r\n\r\nRequest is\r\n\r\n        { \r\n        &quot;category&quot; : {\r\n            &quot;categoryName&quot;: &quot;Alkoholna pića&quot;,\r\n            &quot;beverages&quot;: [\r\n                {\r\n                    &quot;name&quot;:&quot;Ozujsko&quot;,\r\n                    &quot;price&quot;:16.0\r\n                },\r\n                {\r\n                    &quot;name&quot;:&quot;Stella Artois&quot;,\r\n                    &quot;price&quot;:18.0\r\n                }\r\n            ]\r\n        }\r\n    }\r\n\r\nAnd this is response\r\n\r\n        {\r\n        &quot;id&quot;: 1,\r\n        &quot;categoryName&quot;: &quot;Alkoholna pića&quot;,\r\n        &quot;beverages&quot;: [\r\n            {\r\n                &quot;id&quot;: 1,\r\n                &quot;categoryId&quot;: null,\r\n                &quot;name&quot;: &quot;Ozujsko&quot;,\r\n                &quot;price&quot;: 16.0\r\n            },\r\n            {\r\n                &quot;id&quot;: 2,\r\n                &quot;categoryId&quot;: null,\r\n                &quot;name&quot;: &quot;Stella Artois&quot;,\r\n                &quot;price&quot;: 18.0\r\n            }\r\n        ]\r\n    }\r\n\r\nI want to get categoryId from objeck beverages in response from backend, but in response I get null. Howerver in my H2 database in BEVERAGES table I can see that categoryId is correctly saved with the ID from CATEGORY table (in this case both of this records have CATEGORY_ID = 1)\r\n\r\nWould be greatfull if some one would help me out... ","title":"OneToMany returns null in response on JoinColumn from target Entity even though value was inserted in database - Spring boot JPA","body":"<p>I have two Models/Entities that are combined with @OneToMany, saving PK from one table to other as Foreign key. I want to get that newly updated foreign key in response aswell.</p>\n<p>This is my code</p>\n<p>CategoryModel</p>\n<pre><code>@Data\n@AllArgsConstructor\n@Getter\n@Builder\npublic class CategoryModel {\n    \n    public String categoryName;\n    public List&lt;BeveragesModel&gt; beverages;\n    \n}\n</code></pre>\n<p>BeveragesModel</p>\n<pre><code>@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class BeveragesModel {\n    \n    public Integer categoryID;\n    public String name;\n    public double price;\n    \n    \n}\n</code></pre>\n<p>Entities of the models currently have the same fields as models</p>\n<p>BeveragesEntity</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;BEVERAGES&quot;)\n@ToString\n@Builder\npublic class BeveragesEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;ID&quot;)\n    public Integer id;\n    @Column(name = &quot;CATEGORY_ID&quot;)\n    public Integer categoryId;\n    @Column(name = &quot;NAME&quot;)\n    public String name;\n    @Column(name = &quot;PRICE&quot;)\n    public double price;\n    \n    @ManyToOne\n    public void setCategoryId(Integer id) {\n        this.categoryId=id;\n    }\n    \n}\n</code></pre>\n<p>CategoryEntity</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@Entity\n@Table(name = &quot;CATEGORY&quot;)\npublic class CategoryEntity {\n\n    // TO DO kako dobiti na front zapis iz BEVERAGES tablice za CATEGORY_ID kojeg spremam...\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;ID&quot;)\n    public Integer id;\n    @Column(name = &quot;CATEGORY_NAME&quot;)\n    public String categoryName;\n    @Column(name = &quot;BEVERAGES&quot;)\n    @OneToMany(targetEntity = BeveragesEntity.class, cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;CATEGORY_ID&quot;, referencedColumnName = &quot;id&quot;)\n    List&lt;BeveragesEntity&gt; beverages;\n}\n</code></pre>\n<p>Controller is only calling service</p>\n<pre><code>@RestController\n@CrossOrigin(origins = &quot;*&quot;)\npublic class CategoryController {\n\n    \n    @Autowired\n    CategoryService categoryService;\n\n    @RequestMapping(path = &quot;/addCategory&quot;, method = RequestMethod.PUT)\n    public CategoryEntity addCategory(@RequestBody CategoryRequest request) {\n        return categoryService.addCategory(request);\n    }\n    \n}\n</code></pre>\n<p>CategoryService is currently rebuilding objects from models to entities</p>\n<pre><code>@Service\npublic class CategoryServiceImpl implements CategoryService {\n    \n    @Autowired\n    CategoryRepository categoryRepository;\n    \n    public CategoryEntity addCategory(CategoryRequest request) {\n        \n        List&lt;BeveragesModel&gt; beveragesModel = request.getCategory().getBeverages();\n        List&lt;BeveragesEntity&gt; beveragesEnties = new ArrayList&lt;&gt;();\n        if(!beveragesModel.isEmpty()) {\n            for(BeveragesModel model : beveragesModel)  {\n                BeveragesEntity beveragesEntity = BeveragesEntity.builder()\n                        .name(model.getName())\n                        .price(model.getPrice())\n                        .build();\n                beveragesEnties.add(beveragesEntity);\n                \n            }\n        }\n        \n        CategoryEntity categoryEntity = CategoryEntity.builder()\n                .categoryName(request.getCategory().getCategoryName())\n                .beverages(beveragesEnties)\n                .build();\n        \n        return categoryRepository.save(categoryEntity);\n    }\n</code></pre>\n<p>Request is</p>\n<pre><code>    { \n    &quot;category&quot; : {\n        &quot;categoryName&quot;: &quot;Alkoholna pića&quot;,\n        &quot;beverages&quot;: [\n            {\n                &quot;name&quot;:&quot;Ozujsko&quot;,\n                &quot;price&quot;:16.0\n            },\n            {\n                &quot;name&quot;:&quot;Stella Artois&quot;,\n                &quot;price&quot;:18.0\n            }\n        ]\n    }\n}\n</code></pre>\n<p>And this is response</p>\n<pre><code>    {\n    &quot;id&quot;: 1,\n    &quot;categoryName&quot;: &quot;Alkoholna pića&quot;,\n    &quot;beverages&quot;: [\n        {\n            &quot;id&quot;: 1,\n            &quot;categoryId&quot;: null,\n            &quot;name&quot;: &quot;Ozujsko&quot;,\n            &quot;price&quot;: 16.0\n        },\n        {\n            &quot;id&quot;: 2,\n            &quot;categoryId&quot;: null,\n            &quot;name&quot;: &quot;Stella Artois&quot;,\n            &quot;price&quot;: 18.0\n        }\n    ]\n}\n</code></pre>\n<p>I want to get categoryId from objeck beverages in response from backend, but in response I get null. Howerver in my H2 database in BEVERAGES table I can see that categoryId is correctly saved with the ID from CATEGORY table (in this case both of this records have CATEGORY_ID = 1)</p>\n<p>Would be greatfull if some one would help me out...</p>\n"},{"tags":["java","conditional-operator"],"comments":[{"owner":{"account_id":44195,"reputation":269043,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":1,"creation_date":1390150599,"post_id":21219695,"comment_id":31958848,"body_markdown":"`selection.toLowerCase().equals(&quot;produkt&quot;)` evaluates to `true` or `false`, which looks a lot like the values you&#39;re passing to `setVisible()`...","body":"<code>selection.toLowerCase().equals(&quot;produkt&quot;)</code> evaluates to <code>true</code> or <code>false</code>, which looks a lot like the values you&#39;re passing to <code>setVisible()</code>..."},{"owner":{"account_id":323244,"reputation":11569,"user_id":643141,"display_name":"Hauke Ingmar Schmidt"},"score":0,"creation_date":1390150718,"post_id":21219695,"comment_id":31958908,"body_markdown":"Why? It is less readable, and sometimes not obvious to build (like... here and for you). There is no need to force its use when there is no advantage (unless you are going for code golf but that doesn&#39;t do too much good for your style).","body":"Why? It is less readable, and sometimes not obvious to build (like... here and for you). There is no need to force its use when there is no advantage (unless you are going for code golf but that doesn&#39;t do too much good for your style)."}],"answers":[{"tags":[],"owner":{"account_id":1399354,"reputation":32465,"user_id":2344584,"accept_rate":83,"display_name":"Stefano Sanfilippo"},"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1390151641,"creation_date":1390150616,"answer_id":21219722,"question_id":21219695,"body_markdown":"In this case, you don&#39;t even need a ternary operator:\r\n\r\n     cmdCse.setVisible(selection.toLowerCase().equals(&quot;produkt&quot;));\r\n\r\nOr, cleaner:\r\n\r\n     cmdCse.setVisible(selection.equalsIgnoreCase(&quot;produkt&quot;));\r\n\r\nYour version:\r\n\r\n    selection.toLowerCase().equals(&quot;produkt&quot;)? cmdCse.setVisible(true): cmdCse.setVisible(false);\r\n\r\nis semantically incorrect: **ternary operator should represent alternative assignments**, it&#39;s not a full replacement for `if` statements. This is ok:\r\n\r\n    double wow = x &gt; y? Math.sqrt(y): x;\r\n\r\nbecause you are assigning either `x` or `Math.sqrt(y)` to `wow`, _depending on a condition_.\r\n\r\nMy 2cents: use ternary operator only when it makes your program clearer, otherwise you will end up having some undecipherable one-liners.","title":"Ternary Operators Java","body":"<p>In this case, you don't even need a ternary operator:</p>\n\n<pre><code> cmdCse.setVisible(selection.toLowerCase().equals(\"produkt\"));\n</code></pre>\n\n<p>Or, cleaner:</p>\n\n<pre><code> cmdCse.setVisible(selection.equalsIgnoreCase(\"produkt\"));\n</code></pre>\n\n<p>Your version:</p>\n\n<pre><code>selection.toLowerCase().equals(\"produkt\")? cmdCse.setVisible(true): cmdCse.setVisible(false);\n</code></pre>\n\n<p>is semantically incorrect: <strong>ternary operator should represent alternative assignments</strong>, it's not a full replacement for <code>if</code> statements. This is ok:</p>\n\n<pre><code>double wow = x &gt; y? Math.sqrt(y): x;\n</code></pre>\n\n<p>because you are assigning either <code>x</code> or <code>Math.sqrt(y)</code> to <code>wow</code>, <em>depending on a condition</em>.</p>\n\n<p>My 2cents: use ternary operator only when it makes your program clearer, otherwise you will end up having some undecipherable one-liners.</p>\n"},{"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1390150619,"creation_date":1390150619,"answer_id":21219724,"question_id":21219695,"body_markdown":"Perhaps\r\n\r\n    cmdCse.setVisible(selection.toLowerCase().equals(&quot;produkt&quot;));","title":"Ternary Operators Java","body":"<p>Perhaps</p>\n\n<pre><code>cmdCse.setVisible(selection.toLowerCase().equals(\"produkt\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":347553,"reputation":6607,"user_id":1145285,"accept_rate":97,"display_name":"Bhavik Ambani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1390150710,"creation_date":1390150710,"answer_id":21219746,"question_id":21219695,"body_markdown":"I think this will work for you\r\n\r\n    cmdCse.setVisible(selection.toLowerCase().equals(&quot;produkt&quot;));","title":"Ternary Operators Java","body":"<p>I think this will work for you</p>\n\n<pre><code>cmdCse.setVisible(selection.toLowerCase().equals(\"produkt\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":467643,"reputation":41696,"user_id":873165,"accept_rate":84,"display_name":"Kevin Workman"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1390150718,"creation_date":1390150718,"answer_id":21219747,"question_id":21219695,"body_markdown":"The ternary operator isn&#39;t exactly like an if statement. A ternary operator has to &quot;return&quot; something from both sides, so putting void method calls like setVisible() there won&#39;t work.\r\n\r\nInstead, you could do something like this without ternary operators at all:\r\n\r\n    cmdCse.setVisible(selection.toLowerCase().equals(&quot;product&quot;));\r\n\r\nBut just to demonstrate the point, the ternary equivalent would look something like this:\r\n\r\n    cmdCse.setVisible(selection.toLowerCase().equals(&quot;product&quot;) ? true : false);\r\n\r\nNotice how now the ternary operator &quot;returns&quot; true or false on both sides instead of simply calling a void method.","title":"Ternary Operators Java","body":"<p>The ternary operator isn't exactly like an if statement. A ternary operator has to \"return\" something from both sides, so putting void method calls like setVisible() there won't work.</p>\n\n<p>Instead, you could do something like this without ternary operators at all:</p>\n\n<pre><code>cmdCse.setVisible(selection.toLowerCase().equals(\"product\"));\n</code></pre>\n\n<p>But just to demonstrate the point, the ternary equivalent would look something like this:</p>\n\n<pre><code>cmdCse.setVisible(selection.toLowerCase().equals(\"product\") ? true : false);\n</code></pre>\n\n<p>Notice how now the ternary operator \"returns\" true or false on both sides instead of simply calling a void method.</p>\n"},{"tags":[],"owner":{"account_id":121293,"reputation":105197,"user_id":314291,"accept_rate":89,"display_name":"StuartLC"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1393158545,"creation_date":1393158545,"answer_id":21968201,"question_id":21219695,"body_markdown":"Directly [from the docs](http://docs.oracle.com/javase/tutorial/java/nutsandbolts/op2.html)\r\n\r\n&gt; Use the ?: operator instead of an if-then-else statement if it makes your code more readable; for example, when the expressions are compact and without side-effects (such as assignments).\r\n\r\nIn your case `cmdCse.setVisible(true / false);` doesn&#39;t return anything, and the operation also has side effects (it changes state of `cmdCse`), so the conditional operator cannot be used here (when you do use the operator, both of the `?` and `:` branches must have the same return type).\r\n\r\nAs an aside, please note that ` .. ? .. : ..` should be referred to as the [`conditional operator`](https://stackoverflow.com/a/17470669/314291)","title":"Ternary Operators Java","body":"<p>Directly <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/op2.html\" rel=\"nofollow noreferrer\">from the docs</a></p>\n\n<blockquote>\n  <p>Use the ?: operator instead of an if-then-else statement if it makes your code more readable; for example, when the expressions are compact and without side-effects (such as assignments).</p>\n</blockquote>\n\n<p>In your case <code>cmdCse.setVisible(true / false);</code> doesn't return anything, and the operation also has side effects (it changes state of <code>cmdCse</code>), so the conditional operator cannot be used here (when you do use the operator, both of the <code>?</code> and <code>:</code> branches must have the same return type).</p>\n\n<p>As an aside, please note that <code>.. ? .. : ..</code> should be referred to as the <a href=\"https://stackoverflow.com/a/17470669/314291\"><code>conditional operator</code></a></p>\n"},{"tags":[],"owner":{"account_id":11390386,"reputation":100,"user_id":8350666,"accept_rate":50,"display_name":"DSOI__UNUNOCTIUM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504060492,"creation_date":1504060492,"answer_id":45951011,"question_id":21219695,"body_markdown":"Here are my tips, if you need to set things to booleans, then simple use setBoolean(condition), else, if you need to set a variable to a non boolean value, then use var=condition?result1:result2(or the variable itself if you don&#39;t want to change if condition is false), otherwise, use if else.","title":"Ternary Operators Java","body":"<p>Here are my tips, if you need to set things to booleans, then simple use setBoolean(condition), else, if you need to set a variable to a non boolean value, then use var=condition?result1:result2(or the variable itself if you don't want to change if condition is false), otherwise, use if else.</p>\n"},{"tags":[],"owner":{"account_id":5054493,"reputation":11,"user_id":4058140,"display_name":"PaulB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632573676,"creation_date":1632394003,"answer_id":69298532,"question_id":21219695,"body_markdown":"**On the issue of using exceptions**\r\n\r\nI want to answer the issue of the exceptions here as this question is a duplicate for [another question](https://stackoverflow.com/questions/30036183/throw-new-exception-in-ternary-condition/30036248) concerning throwing exceptions from a ternary expression, but this is not addressed in the above answers.\r\n\r\nThe general consensus is that it cannot be done directly as in:\r\n```\r\npublic Character next() {\r\n  return hasNext() ? s.charAt(cur++) : throw new NoSuchElementException(); // compilation error\r\n}\r\n```\r\nwill give you a compilation error, but as [Clement](https://stackoverflow.com/users/4455546/clement-cherlin) pointed out it can be done via a declared extra function. It can also be done via (ab-)using lambda expressions.\r\n```\r\npublic Character next() {\r\n  return hasNext() ? s.charAt(cur++) : ((Function&lt;Integer, Character&gt;) x -&gt; {throw new NoSuchElementException();}).apply(1);\r\n}\r\n```\r\nfor sure this is not that pretty (it is pretty ugly) and I would not recommend to do that for readability purposes, but sometimes there are circumstances which might warrant exceptionally doing that. If someones figures out a way to do it without the cast it would be a bit more readable.\r\n\r\nIf you had a function `throwNoSuchElementException()` defined somewhere that you use more than once, it would look a bit more readable:\r\n\r\n```\r\npublic Character next() {\r\n  return hasNext() ? s.charAt(cur++) : throwNoSuchElementException();\r\n}\r\n```\r\n\r\n(P.S.: I included this answer for completeness sake, as I asked myself can it really be not done?)\r\n\r\n(P.S.S.: If the exception to be thrown is not a runtime exception this will not work so easily and would require even more handstands - not really worth it)","title":"Ternary Operators Java","body":"<p><strong>On the issue of using exceptions</strong></p>\n<p>I want to answer the issue of the exceptions here as this question is a duplicate for <a href=\"https://stackoverflow.com/questions/30036183/throw-new-exception-in-ternary-condition/30036248\">another question</a> concerning throwing exceptions from a ternary expression, but this is not addressed in the above answers.</p>\n<p>The general consensus is that it cannot be done directly as in:</p>\n<pre><code>public Character next() {\n  return hasNext() ? s.charAt(cur++) : throw new NoSuchElementException(); // compilation error\n}\n</code></pre>\n<p>will give you a compilation error, but as <a href=\"https://stackoverflow.com/users/4455546/clement-cherlin\">Clement</a> pointed out it can be done via a declared extra function. It can also be done via (ab-)using lambda expressions.</p>\n<pre><code>public Character next() {\n  return hasNext() ? s.charAt(cur++) : ((Function&lt;Integer, Character&gt;) x -&gt; {throw new NoSuchElementException();}).apply(1);\n}\n</code></pre>\n<p>for sure this is not that pretty (it is pretty ugly) and I would not recommend to do that for readability purposes, but sometimes there are circumstances which might warrant exceptionally doing that. If someones figures out a way to do it without the cast it would be a bit more readable.</p>\n<p>If you had a function <code>throwNoSuchElementException()</code> defined somewhere that you use more than once, it would look a bit more readable:</p>\n<pre><code>public Character next() {\n  return hasNext() ? s.charAt(cur++) : throwNoSuchElementException();\n}\n</code></pre>\n<p>(P.S.: I included this answer for completeness sake, as I asked myself can it really be not done?)</p>\n<p>(P.S.S.: If the exception to be thrown is not a runtime exception this will not work so easily and would require even more handstands - not really worth it)</p>\n"}],"owner":{"account_id":2969865,"reputation":1050,"user_id":2522174,"accept_rate":93,"display_name":"Stefan Sprenger"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5066,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"closed_date":1663943129,"accepted_answer_id":21219722,"answer_count":7,"score":17,"last_activity_date":1663943253,"creation_date":1390150503,"question_id":21219695,"body_markdown":"Is there a way to implement this in a ternary operation. I&#39;m very new to that ternary stuff, maybe you could guide me.\r\n\r\n\r\n    if(selection.toLowerCase().equals(&quot;produkt&quot;))\r\n\t     cmdCse.setVisible(true);\r\n    else\r\n         cmdCse.setVisible(false);\r\n\r\n\r\nThis one doesn&#39;t seem to work.\r\n\r\n    selection.toLowerCase().equals(&quot;produkt&quot;)?cmdCse.setVisible(true):cmdCse.setVisible(false);","title":"Ternary Operators Java","body":"<p>Is there a way to implement this in a ternary operation. I'm very new to that ternary stuff, maybe you could guide me.</p>\n\n<pre><code>if(selection.toLowerCase().equals(\"produkt\"))\n     cmdCse.setVisible(true);\nelse\n     cmdCse.setVisible(false);\n</code></pre>\n\n<p>This one doesn't seem to work.</p>\n\n<pre><code>selection.toLowerCase().equals(\"produkt\")?cmdCse.setVisible(true):cmdCse.setVisible(false);\n</code></pre>\n"},{"tags":["java","conditional-operator"],"comments":[{"owner":{"account_id":2417243,"reputation":11672,"user_id":2111035,"display_name":"Chris K"},"score":3,"creation_date":1407337222,"post_id":25163713,"comment_id":39176895,"body_markdown":"An if statement in Java does not have a return type; to recode it using a ternary operator then you would have to add one.","body":"An if statement in Java does not have a return type; to recode it using a ternary operator then you would have to add one."},{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":1,"creation_date":1407337234,"post_id":25163713,"comment_id":39176904,"body_markdown":"The short answer is &quot;no&quot;, why would you?","body":"The short answer is &quot;no&quot;, why would you?"},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":3,"creation_date":1407337349,"post_id":25163713,"comment_id":39176981,"body_markdown":"There isn&#39;t much point in the ternary operator if you do nothing when the condition is false.","body":"There isn&#39;t much point in the ternary operator if you do nothing when the condition is false."},{"owner":{"account_id":541997,"reputation":7814,"user_id":910736,"display_name":"JamesB"},"score":0,"creation_date":1407339385,"post_id":25163713,"comment_id":39178257,"body_markdown":"I think trying to add a ternary operator to this logic is pointless. It is not going to make your code more readable or maintainable IMO.","body":"I think trying to add a ternary operator to this logic is pointless. It is not going to make your code more readable or maintainable IMO."}],"answers":[{"tags":[],"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1407337374,"creation_date":1407337374,"answer_id":25163791,"question_id":25163713,"body_markdown":"Yes. You can with keeping same `null` in `else` block.\r\n\r\n\r\n \r\n\r\n    String result = str !=null ?  callFunction(parameters) : null;\r\n\r\nMake sure that `callFunction(parameters)`  return a `String`.","title":"Ternary Operator","body":"<p>Yes. You can with keeping same <code>null</code> in <code>else</code> block.</p>\n\n<pre><code>String result = str !=null ?  callFunction(parameters) : null;\n</code></pre>\n\n<p>Make sure that <code>callFunction(parameters)</code>  return a <code>String</code>.</p>\n"},{"tags":[],"owner":{"account_id":4633949,"reputation":8005,"user_id":3755692,"accept_rate":62,"display_name":"msrd0"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1407338397,"creation_date":1407338397,"answer_id":25164185,"question_id":25163713,"body_markdown":"It could be possible if your method &lt;code&gt;callFunction()&lt;/code&gt; has a return type. Then, you could do it like &lt;em&gt;SURESH ATTA&lt;/em&gt; wrote in his answer:\r\n\r\n    String result = str!=null ? callFunction(str) : null;\r\n\r\nOr with any other type for result or any other arguments. If you want to call a method in the &lt;code&gt;else&lt;/code&gt;-Statement too, this one needs to have the same return type as the one in your &lt;code&gt;if&lt;/code&gt;-statement.\r\n\r\nIf your method doesn&#39;t have a return type / the return type of &lt;code&gt;callFunction()&lt;/code&gt; is &lt;code&gt;void&lt;/code&gt;, it is not possible to change your &lt;code&gt;if&lt;/code&gt;-&lt;code&gt;else&lt;/code&gt;-statement into a ternary operator.","title":"Ternary Operator","body":"<p>It could be possible if your method <code>callFunction()</code> has a return type. Then, you could do it like <em>SURESH ATTA</em> wrote in his answer:</p>\n\n<pre><code>String result = str!=null ? callFunction(str) : null;\n</code></pre>\n\n<p>Or with any other type for result or any other arguments. If you want to call a method in the <code>else</code>-Statement too, this one needs to have the same return type as the one in your <code>if</code>-statement.</p>\n\n<p>If your method doesn't have a return type / the return type of <code>callFunction()</code> is <code>void</code>, it is not possible to change your <code>if</code>-<code>else</code>-statement into a ternary operator.</p>\n"},{"tags":[],"owner":{"account_id":2702639,"reputation":4757,"user_id":2333021,"accept_rate":70,"display_name":"Christopher Rucinski"},"down_vote_count":0,"up_vote_count":61,"is_accepted":false,"score":61,"last_activity_date":1407340062,"creation_date":1407338800,"answer_id":25164343,"question_id":25163713,"body_markdown":"Well, the `ternary operator` in Java acts like this...\r\n\r\n    return_value = (true-false condition) ? (if true expression) : (if false expression);\r\n\r\n**...Another way of looking at it...**\r\n\r\n    return_value = (true-false condition) \r\n                 ? (if true expression) \r\n                 : (if false expression);\r\n\r\n------\r\n\r\nYou question is kind of vague and we have to assume here.\r\n\r\n - If **(and only if)** `callFunction(...)` declares a `non-void` return value (`Object`, `String`, `int`, `double`, etc..) *- it seems like it does not do that via your code -* then you could do this...\r\n\r\n\r\n        return_value = (string != null) \r\n                     ? (callFunction(...)) \r\n                     : (null);\r\n\r\n \r\n - If `callFunction(...)` does not return a value, then you **cannot** use the ternary operator! Simple as that. You will be using something that you don&#39;t need.\r\n\r\n  - Please post more code to clear up any issues\r\n\r\n------------\r\n\r\nNonetheless, **ternary operator should represent alternative assignments only!!** Your code does not seem to do that, so you should not be doing that.\r\n\r\nThis is how they should work...\r\n\r\n    if (obj != null) {            // If-else statement\r\n\r\n        retVal = obj.getValue();  // One alternative assignment for retVal\r\n\r\n    } else {\r\n\r\n        retVal = &quot;&quot;;              // Second alternative assignment for retVale\r\n\r\n    }\r\n\r\nThis can be converted to...\r\n\r\n    retVal = (obj != null)\r\n           ? (obj.getValue())\r\n           : (&quot;&quot;);\r\n\r\n---------\r\n\r\n**Since it seems like you *might* be trying to just refactor this code to be a one-liner, I have added the following**\r\n\r\nAlso, if your false-clause is truely empty, then you can do this...\r\n\r\n    if (string != null) {\r\n\r\n        callFunction(...);\r\n\r\n    } // Take note that there is not false clause because it isn&#39;t needed\r\n\r\nOR\r\n\r\n    if (string != null) callFunction(...);  // One-liner","title":"Ternary Operator","body":"<p>Well, the <code>ternary operator</code> in Java acts like this...</p>\n\n<pre><code>return_value = (true-false condition) ? (if true expression) : (if false expression);\n</code></pre>\n\n<p><strong>...Another way of looking at it...</strong></p>\n\n<pre><code>return_value = (true-false condition) \n             ? (if true expression) \n             : (if false expression);\n</code></pre>\n\n<hr>\n\n<p>You question is kind of vague and we have to assume here.</p>\n\n<ul>\n<li><p>If <strong>(and only if)</strong> <code>callFunction(...)</code> declares a <code>non-void</code> return value (<code>Object</code>, <code>String</code>, <code>int</code>, <code>double</code>, etc..) <em>- it seems like it does not do that via your code -</em> then you could do this...</p>\n\n<pre><code>return_value = (string != null) \n             ? (callFunction(...)) \n             : (null);\n</code></pre></li>\n<li><p>If <code>callFunction(...)</code> does not return a value, then you <strong>cannot</strong> use the ternary operator! Simple as that. You will be using something that you don't need.</p>\n\n<ul>\n<li>Please post more code to clear up any issues</li>\n</ul></li>\n</ul>\n\n<hr>\n\n<p>Nonetheless, <strong>ternary operator should represent alternative assignments only!!</strong> Your code does not seem to do that, so you should not be doing that.</p>\n\n<p>This is how they should work...</p>\n\n<pre><code>if (obj != null) {            // If-else statement\n\n    retVal = obj.getValue();  // One alternative assignment for retVal\n\n} else {\n\n    retVal = \"\";              // Second alternative assignment for retVale\n\n}\n</code></pre>\n\n<p>This can be converted to...</p>\n\n<pre><code>retVal = (obj != null)\n       ? (obj.getValue())\n       : (\"\");\n</code></pre>\n\n<hr>\n\n<p><strong>Since it seems like you <em>might</em> be trying to just refactor this code to be a one-liner, I have added the following</strong></p>\n\n<p>Also, if your false-clause is truely empty, then you can do this...</p>\n\n<pre><code>if (string != null) {\n\n    callFunction(...);\n\n} // Take note that there is not false clause because it isn't needed\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>if (string != null) callFunction(...);  // One-liner\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1407338870,"creation_date":1407338870,"answer_id":25164367,"question_id":25163713,"body_markdown":"The ternary operator can be used to combine two *expressions* but an empty *statement* is not an expression.\r\n\r\nA method invocation can be used as an expression if the method returns a value (read: is not declared `void`) and it could be used together with a dummy constant `null` to form a ternary operator but the result would be again an expression which is not allowed in places where a *statement* is required, in other words, it can not replace an `if` statement.\r\n\r\nBy adding another construct taking an expression and imposing no additional side effect you can construct a complete replacement. E.g. by declaring and assigning a new, otherwise unused, local variable you get:\r\n\r\n    Object dummy=condition? callFunction(parameters): null;\r\n\r\nBut there is no benefit over simply saying `if(condition) callFunction(parameters);`. It might even add unnecessary overhead as it will perform auto-boxing if the return value is a primitive type.\r\n\r\nWith Java&#160;8 there is a solution to the puzzle that works even for `void` methods:\r\n\r\n    ((Runnable)(condition? ()-&gt;callFunction(parameters): ()-&gt;{})).run();\r\n\r\nbut it still has no advantage over simply using `if`.\r\n","title":"Ternary Operator","body":"<p>The ternary operator can be used to combine two <em>expressions</em> but an empty <em>statement</em> is not an expression.</p>\n\n<p>A method invocation can be used as an expression if the method returns a value (read: is not declared <code>void</code>) and it could be used together with a dummy constant <code>null</code> to form a ternary operator but the result would be again an expression which is not allowed in places where a <em>statement</em> is required, in other words, it can not replace an <code>if</code> statement.</p>\n\n<p>By adding another construct taking an expression and imposing no additional side effect you can construct a complete replacement. E.g. by declaring and assigning a new, otherwise unused, local variable you get:</p>\n\n<pre><code>Object dummy=condition? callFunction(parameters): null;\n</code></pre>\n\n<p>But there is no benefit over simply saying <code>if(condition) callFunction(parameters);</code>. It might even add unnecessary overhead as it will perform auto-boxing if the return value is a primitive type.</p>\n\n<p>With Java 8 there is a solution to the puzzle that works even for <code>void</code> methods:</p>\n\n<pre><code>((Runnable)(condition? ()-&gt;callFunction(parameters): ()-&gt;{})).run();\n</code></pre>\n\n<p>but it still has no advantage over simply using <code>if</code>.</p>\n"}],"owner":{"account_id":3159730,"reputation":569,"user_id":2671218,"display_name":"Lucas Pugliese"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86359,"favorite_count":0,"down_vote_count":1,"up_vote_count":36,"answer_count":4,"score":35,"last_activity_date":1663943247,"creation_date":1407337093,"question_id":25163713,"body_markdown":"Is it possible to change this:\r\n\r\n```java\r\nif (string != null) {\r\n    callFunction(parameters);\r\n} else {\r\n    // Intentionally left blank\r\n}\r\n```\r\n\r\nto a ternary operator?\r\n","title":"Ternary Operator","body":"<p>Is it possible to change this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (string != null) {\n    callFunction(parameters);\n} else {\n    // Intentionally left blank\n}\n</code></pre>\n<p>to a ternary operator?</p>\n"},{"tags":["java","sonarqube"],"comments":[{"owner":{"account_id":1316894,"reputation":10675,"user_id":1263543,"display_name":"benzonico"},"score":1,"creation_date":1454335307,"post_id":35128195,"comment_id":57984430,"body_markdown":"Which version of the sonar java analyzer are you using ?","body":"Which version of the sonar java analyzer are you using ?"},{"owner":{"account_id":127164,"reputation":15713,"user_id":324152,"accept_rate":63,"display_name":"MRalwasser"},"score":0,"creation_date":1454343413,"post_id":35128195,"comment_id":57990344,"body_markdown":"@benzonico I&#39;m using 3.9","body":"@benzonico I&#39;m using 3.9"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1556627859,"post_id":35128195,"comment_id":98495857,"body_markdown":"Don&#39;t try to cache `PreparedStatements` like this. If it can be done, the driver will already do it.","body":"Don&#39;t try to cache <code>PreparedStatements</code> like this. If it can be done, the driver will already do it."}],"answers":[{"tags":[],"owner":{"account_id":5727357,"reputation":409,"user_id":4523982,"display_name":"fidudidu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1556786753,"creation_date":1556625218,"answer_id":55920396,"question_id":35128195,"body_markdown":"It&#39;s a false positive as you can see [here][1] it&#39;s fixed in version 4.5.\r\n\r\n**Answer to question 1:**&lt;br&gt;\r\nYes, it is a bug, upgrade your Sonar version to 4.5 (or newer)&lt;br&gt;&lt;br&gt;\r\n**Answer to question 2:**&lt;br&gt;\r\n*Disable rule in sonar* [here][2]&lt;br&gt;\r\nor&lt;br&gt;\r\n*How to remove False-Positive issues?* [here][3]\r\n\r\n\r\n  [1]: https://jira.sonarsource.com/browse/SONARJAVA-2036\r\n  [2]: https://stackoverflow.com/questions/16399311/disable-rule-in-sonar\r\n  [3]: https://docs.sonarqube.org/display/PLUG/Java+FAQ","title":"sonarqube incorrectly reports &quot;PreparedStatement has no parameters.&quot;","body":"<p>It's a false positive as you can see <a href=\"https://jira.sonarsource.com/browse/SONARJAVA-2036\" rel=\"nofollow noreferrer\">here</a> it's fixed in version 4.5.</p>\n\n<p><strong>Answer to question 1:</strong><br>\nYes, it is a bug, upgrade your Sonar version to 4.5 (or newer)<br><br>\n<strong>Answer to question 2:</strong><br>\n<em>Disable rule in sonar</em> <a href=\"https://stackoverflow.com/questions/16399311/disable-rule-in-sonar\">here</a><br>\nor<br>\n<em>How to remove False-Positive issues?</em> <a href=\"https://docs.sonarqube.org/display/PLUG/Java+FAQ\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":2421546,"reputation":806,"user_id":6416806,"display_name":"Sahil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663943085,"creation_date":1663943085,"answer_id":73829229,"question_id":35128195,"body_markdown":"You can get sonarlint/sonarqube to ignore false-positives by just commenting *//NOSONAR* at the end of your code line.\r\n\r\n    preparedStatement.setDate(1, date); //NOSONAR\r\n    preparedStatement.setLong(2, pk); //NOSONAR","title":"sonarqube incorrectly reports &quot;PreparedStatement has no parameters.&quot;","body":"<p>You can get sonarlint/sonarqube to ignore false-positives by just commenting <em>//NOSONAR</em> at the end of your code line.</p>\n<pre><code>preparedStatement.setDate(1, date); //NOSONAR\npreparedStatement.setLong(2, pk); //NOSONAR\n</code></pre>\n"}],"owner":{"account_id":127164,"reputation":15713,"user_id":324152,"accept_rate":63,"display_name":"MRalwasser"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2959,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":2,"score":9,"last_activity_date":1663943085,"creation_date":1454322505,"question_id":35128195,"body_markdown":"**sonarqube** ***incorrectly reports*** on the following (simplified) source `PreparedStatement has no parameters.` (squid:S2695):\r\n\r\n    public static final String UPDATE_QUERY = &quot;UPDATE TABLE SET COL1=? WHERE PK=?&quot;;\r\n    \r\n    private PreparedStatement preparedStatement = null;\r\n    \r\n    public void updateMethod(Date date, Long pk )\r\n    {\r\n      if(preparedStatement == null)\r\n      {\r\n        //ConnectionService is not a Connection!\r\n        preparedStatement = ConnectionService.prepareStatement(UPDATE_QUERY);\r\n      }\r\n      \t\r\n      //sonarqube reports on the following two lines: &#39;This &quot;PreparedStatement&quot; has no parameters.&#39;\r\n      preparedStatement.setDate(1, date);\r\n      preparedStatement.setLong(2, pk);\r\n      ResultSet rs = preparedStatement .executeQuery(); \r\n    \r\n      //further code left out\r\n    }\r\n\r\n**Questions:**&lt;br&gt;\r\n\r\n 1. Is this a bug or a limitation of the analyser?\r\n\r\n 2. Is there something I can do to hide these &quot;false positives&quot;?","title":"sonarqube incorrectly reports &quot;PreparedStatement has no parameters.&quot;","body":"<p><strong>sonarqube</strong> <strong><em>incorrectly reports</em></strong> on the following (simplified) source <code>PreparedStatement has no parameters.</code> (squid:S2695):</p>\n\n<pre><code>public static final String UPDATE_QUERY = \"UPDATE TABLE SET COL1=? WHERE PK=?\";\n\nprivate PreparedStatement preparedStatement = null;\n\npublic void updateMethod(Date date, Long pk )\n{\n  if(preparedStatement == null)\n  {\n    //ConnectionService is not a Connection!\n    preparedStatement = ConnectionService.prepareStatement(UPDATE_QUERY);\n  }\n\n  //sonarqube reports on the following two lines: 'This \"PreparedStatement\" has no parameters.'\n  preparedStatement.setDate(1, date);\n  preparedStatement.setLong(2, pk);\n  ResultSet rs = preparedStatement .executeQuery(); \n\n  //further code left out\n}\n</code></pre>\n\n<p><strong>Questions:</strong><br></p>\n\n<ol>\n<li><p>Is this a bug or a limitation of the analyser?</p></li>\n<li><p>Is there something I can do to hide these \"false positives\"?</p></li>\n</ol>\n"},{"tags":["java","spring-data-jpa","batch-processing"],"comments":[{"owner":{"account_id":7559040,"reputation":2250,"user_id":5737375,"display_name":"vindev"},"score":0,"creation_date":1663911449,"post_id":73823307,"comment_id":130354813,"body_markdown":"How is this data coming to the app? Is app pooling the devices for the data? Or the client(devices) send the data to the app using some API? Or there is some queue setup from where app reads the data?","body":"How is this data coming to the app? Is app pooling the devices for the data? Or the client(devices) send the data to the app using some API? Or there is some queue setup from where app reads the data?"},{"owner":{"account_id":18430625,"reputation":125,"user_id":13425875,"display_name":"devesh joshi"},"score":0,"creation_date":1663921645,"post_id":73823307,"comment_id":130357523,"body_markdown":"The data arrives on a subscribed mqtt topic. Each data is currently processed and saved in a separate thread from a threadpool.","body":"The data arrives on a subscribed mqtt topic. Each data is currently processed and saved in a separate thread from a threadpool."}],"answers":[{"tags":[],"owner":{"account_id":18430625,"reputation":125,"user_id":13425875,"display_name":"devesh joshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663942977,"creation_date":1663942977,"answer_id":73829212,"question_id":73823307,"body_markdown":"I am currently doing this using BlockingQueue and Guauva&#39;s Queues.drain\r\n\r\n    executorService.submit(() -&gt; {\r\n                while (true) {\r\n                    try {\r\n                        String first = queue.take();\r\n                        List&lt;String&gt; output = new LinkedList&lt;&gt;();\r\n                        output.add(first);\r\n                        Queues.drain(queue, output, BATCH_SIZE - 1, 5, TimeUnit.SECONDS);\r\n                        repo.saveAll(output);\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            });\r\n\r\nWhere I am doing queue.add() from the producer thread","title":"Spring data timeout based batch insert of data","body":"<p>I am currently doing this using BlockingQueue and Guauva's Queues.drain</p>\n<pre><code>executorService.submit(() -&gt; {\n            while (true) {\n                try {\n                    String first = queue.take();\n                    List&lt;String&gt; output = new LinkedList&lt;&gt;();\n                    output.add(first);\n                    Queues.drain(queue, output, BATCH_SIZE - 1, 5, TimeUnit.SECONDS);\n                    repo.saveAll(output);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n</code></pre>\n<p>Where I am doing queue.add() from the producer thread</p>\n"}],"owner":{"account_id":18430625,"reputation":125,"user_id":13425875,"display_name":"devesh joshi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":365,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663942977,"creation_date":1663910450,"question_id":73823307,"body_markdown":"I have a spring boot app that receives data from different devices that I need to insert as batch to maximize performance. For this I have considered storing data in memory for a while and then calling build in spring data saveAll method to save as a batch. But the my problem is that data does not come at a regular speed and I may get a few thousand data at a time and then no data for next few hours. So I am not sure how to properly build the batch as there may be few data at the end that would be left out with a fixed sized batch. Is there a way to do a timed batching in java/spring that flushes the batch after a configured timeout?","title":"Spring data timeout based batch insert of data","body":"<p>I have a spring boot app that receives data from different devices that I need to insert as batch to maximize performance. For this I have considered storing data in memory for a while and then calling build in spring data saveAll method to save as a batch. But the my problem is that data does not come at a regular speed and I may get a few thousand data at a time and then no data for next few hours. So I am not sure how to properly build the batch as there may be few data at the end that would be left out with a fixed sized batch. Is there a way to do a timed batching in java/spring that flushes the batch after a configured timeout?</p>\n"},{"tags":["python","java","tensorflow","keras","tf.keras"],"comments":[{"owner":{"account_id":19796986,"reputation":547,"user_id":14498767,"display_name":"SpaceBurger"},"score":0,"creation_date":1663777560,"post_id":73804090,"comment_id":130320940,"body_markdown":"Not exactly a solution to the problem - more of a workaround -, but why not convert the input data instead of trying to change the model ?","body":"Not exactly a solution to the problem - more of a workaround -, but why not convert the input data instead of trying to change the model ?"},{"owner":{"account_id":5973150,"reputation":1512,"user_id":7246805,"display_name":"AndrzejO"},"score":0,"creation_date":1663778483,"post_id":73804090,"comment_id":130321231,"body_markdown":"What is the BGR format? Is the same as RGB, just in different channel order?","body":"What is the BGR format? Is the same as RGB, just in different channel order?"},{"owner":{"account_id":29144164,"reputation":12197,"user_id":12361700,"display_name":"Alberto"},"score":0,"creation_date":1663783123,"post_id":73804090,"comment_id":130322845,"body_markdown":"change the channel order in the input, or, depending on the type of the first layer, you can try to swap filters order / matrix weights","body":"change the channel order in the input, or, depending on the type of the first layer, you can try to swap filters order / matrix weights"},{"owner":{"account_id":10293364,"reputation":11,"user_id":7594430,"display_name":"Hououin Kyouma"},"score":0,"creation_date":1663844735,"post_id":73804090,"comment_id":130337342,"body_markdown":"@AndrzejO yes, exactly.","body":"@AndrzejO yes, exactly."},{"owner":{"account_id":10293364,"reputation":11,"user_id":7594430,"display_name":"Hououin Kyouma"},"score":0,"creation_date":1663844876,"post_id":73804090,"comment_id":130337386,"body_markdown":"@SpaceBurger Because the input is not that simple to convert - it&#39;s an Android (Kotlin) project which takes input from the camera (YCrCb): https://github.com/googlesamples/mlkit/tree/master/android/material-showcase . \nPlus converted model would be more universal - I could use it with many different projects.","body":"@SpaceBurger Because the input is not that simple to convert - it&#39;s an Android (Kotlin) project which takes input from the camera (YCrCb): <a href=\"https://github.com/googlesamples/mlkit/tree/master/android/material-showcase\" rel=\"nofollow noreferrer\">github.com/googlesamples/mlkit/tree/master/android/&hellip;</a> .  Plus converted model would be more universal - I could use it with many different projects."},{"owner":{"account_id":10293364,"reputation":11,"user_id":7594430,"display_name":"Hououin Kyouma"},"score":0,"creation_date":1663846115,"post_id":73804090,"comment_id":130337856,"body_markdown":"@AlbertoSinigaglia I don&#39;t know how to properly visualize the SavedModel in the netron.app , so I visualize the tflite version. First there is an input. Then there is Pad, and then Conv2D with filter (64x7x7x3) and bias (64). I guess I would need to swap the values in that filter? Thank you - now I understand a bit better how is that working. But how can I perform that swap? Is there some tool for that? Or maybe I need to read the model, for example in Python, and somehow modify it, then export it again?","body":"@AlbertoSinigaglia I don&#39;t know how to properly visualize the SavedModel in the netron.app , so I visualize the tflite version. First there is an input. Then there is Pad, and then Conv2D with filter (64x7x7x3) and bias (64). I guess I would need to swap the values in that filter? Thank you - now I understand a bit better how is that working. But how can I perform that swap? Is there some tool for that? Or maybe I need to read the model, for example in Python, and somehow modify it, then export it again?"}],"answers":[{"tags":[],"owner":{"account_id":5973150,"reputation":1512,"user_id":7246805,"display_name":"AndrzejO"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663849202,"creation_date":1663849202,"answer_id":73814524,"question_id":73804090,"body_markdown":"You can create a new model: first a lambda layer which will reverse the channel order, than your saved model:\r\n\r\n    input_shape = old_model.get_layer(index = 0).input_shape[0][1:]\r\n    inputs = Input(shape=input_shape)\r\n    lambda_layer = Lambda(lambda x: x[:,:,:,::-1])(inputs)\r\n    outputs = old_model(lambda_layer)\r\n    new_model = Model(inputs=inputs, outputs=outputs)","title":"Is it possible to convert a TensorFlow (Keras) model from BGR to RGB?","body":"<p>You can create a new model: first a lambda layer which will reverse the channel order, than your saved model:</p>\n<pre><code>input_shape = old_model.get_layer(index = 0).input_shape[0][1:]\ninputs = Input(shape=input_shape)\nlambda_layer = Lambda(lambda x: x[:,:,:,::-1])(inputs)\noutputs = old_model(lambda_layer)\nnew_model = Model(inputs=inputs, outputs=outputs)\n</code></pre>\n"}],"owner":{"account_id":10293364,"reputation":11,"user_id":7594430,"display_name":"Hououin Kyouma"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":333,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73814524,"answer_count":1,"score":0,"last_activity_date":1663942959,"creation_date":1663777343,"question_id":73804090,"body_markdown":"I have converted a Caffe model, learned on BGR data, to ONNX format and then from ONNX to TensorFlow (Keras)\r\nSo now I have a Keras model, learned on BGR data. Is it possible to convert it in such a way, that it will properly work with RGB data? \r\n\r\nI&#39;ve tried to convert it to OpenVINO with the --reverse_input_channel flag and then back to TensorFlow, but it seems that openvino2tensorflow works very poorly, so it didn&#39;t work. Maybe there is some simpler way?\r\n\r\n**Update**\r\n\r\nI&#39;ve realized that I get SavedModel through Keras model, so I&#39;ve updated the question.\r\n\r\n**Update 2**\r\n\r\nI&#39;ve applied **AndrzejO** solution. However, now my model gives much worse results than before. Am I doing something wrong?\r\n\r\n```python\r\nfrom keras.layers import Input, Lambda\r\nfrom keras.models import Model\r\n\r\ninput_shape = k_model.get_layer(index = 0).input_shape[0][1:]\r\ninputs = Input(shape=input_shape)\r\nlambda_layer = Lambda(lambda x: x[:,:,:,::-1])(inputs)\r\noutputs = k_model(lambda_layer)\r\nk_model = Model(inputs=inputs, outputs=outputs)\r\n```\r\n\r\n**Update 3**\r\n\r\nRegarding **AndrdzejO** hint, I&#39;ve tested the reversed model on the reversed (BGR) images and compared results with the former model on normal (RGB) images. That&#39;s strange - they are similar but not the same. Below is the code (in Java) that reverses the image:\r\n\r\n```Java\r\n  public static byte[] getPixelsBGR(Bitmap image) {\r\n    // calculate how many bytes our image consists of\r\n    int bytes = image.getByteCount();\r\n\r\n    ByteBuffer buffer = ByteBuffer.allocate(bytes); // Create a new buffer\r\n    image.copyPixelsToBuffer(buffer); // Move the byte data to the buffer\r\n\r\n    byte[] pixels = buffer.array(); // Get the underlying array containing the data.\r\n\r\n    // Copy pixels into place\r\n    for (int i = 0; i &lt; pixels.length/4; i++)\r\n    {\r\n      byte pom = pixels[i*4];\r\n      pixels[i * 4] = pixels[i * 4 + 2];\r\n      pixels[i * 4 + 2] = pom;\r\n    }\r\n\r\n    return pixels;\r\n  }\r\n```\r\n\r\n```Java\r\nif (!modelBGR)\r\n{\r\n    byte[] pixels = getPixelsBGR(resizedBitmap);\r\n    ByteBuffer pixelBuffer = ByteBuffer.wrap(pixels);\r\n    resizedBitmap.copyPixelsFromBuffer(pixelBuffer);\r\n}\r\n\r\n**Update 4**\r\n\r\n**AndrzejO**&#39;s solution works perfectly. It correctly reverses the channel order. The thing was I had been subtracting channels mean in the tflite metadata and forgot that I need to also reverse the order of channels there. After I&#39;ve corrected this, I have the exact same results, which implies that the reversion of channels has worked perfectly.\r\n\r\nFor some reason, reversing the channel order in my case makes inference less accurate (as if though the channels have alreasdy been reversed in some earlier conversion process), but that&#39;s a different thing to investigate","title":"Is it possible to convert a TensorFlow (Keras) model from BGR to RGB?","body":"<p>I have converted a Caffe model, learned on BGR data, to ONNX format and then from ONNX to TensorFlow (Keras)\nSo now I have a Keras model, learned on BGR data. Is it possible to convert it in such a way, that it will properly work with RGB data?</p>\n<p>I've tried to convert it to OpenVINO with the --reverse_input_channel flag and then back to TensorFlow, but it seems that openvino2tensorflow works very poorly, so it didn't work. Maybe there is some simpler way?</p>\n<p><strong>Update</strong></p>\n<p>I've realized that I get SavedModel through Keras model, so I've updated the question.</p>\n<p><strong>Update 2</strong></p>\n<p>I've applied <strong>AndrzejO</strong> solution. However, now my model gives much worse results than before. Am I doing something wrong?</p>\n<pre class=\"lang-py prettyprint-override\"><code>from keras.layers import Input, Lambda\nfrom keras.models import Model\n\ninput_shape = k_model.get_layer(index = 0).input_shape[0][1:]\ninputs = Input(shape=input_shape)\nlambda_layer = Lambda(lambda x: x[:,:,:,::-1])(inputs)\noutputs = k_model(lambda_layer)\nk_model = Model(inputs=inputs, outputs=outputs)\n</code></pre>\n<p><strong>Update 3</strong></p>\n<p>Regarding <strong>AndrdzejO</strong> hint, I've tested the reversed model on the reversed (BGR) images and compared results with the former model on normal (RGB) images. That's strange - they are similar but not the same. Below is the code (in Java) that reverses the image:</p>\n<pre><code>  public static byte[] getPixelsBGR(Bitmap image) {\n    // calculate how many bytes our image consists of\n    int bytes = image.getByteCount();\n\n    ByteBuffer buffer = ByteBuffer.allocate(bytes); // Create a new buffer\n    image.copyPixelsToBuffer(buffer); // Move the byte data to the buffer\n\n    byte[] pixels = buffer.array(); // Get the underlying array containing the data.\n\n    // Copy pixels into place\n    for (int i = 0; i &lt; pixels.length/4; i++)\n    {\n      byte pom = pixels[i*4];\n      pixels[i * 4] = pixels[i * 4 + 2];\n      pixels[i * 4 + 2] = pom;\n    }\n\n    return pixels;\n  }\n</code></pre>\n<pre><code>if (!modelBGR)\n{\n    byte[] pixels = getPixelsBGR(resizedBitmap);\n    ByteBuffer pixelBuffer = ByteBuffer.wrap(pixels);\n    resizedBitmap.copyPixelsFromBuffer(pixelBuffer);\n}\n\n**Update 4**\n\n**AndrzejO**'s solution works perfectly. It correctly reverses the channel order. The thing was I had been subtracting channels mean in the tflite metadata and forgot that I need to also reverse the order of channels there. After I've corrected this, I have the exact same results, which implies that the reversion of channels has worked perfectly.\n\nFor some reason, reversing the channel order in my case makes inference less accurate (as if though the channels have alreasdy been reversed in some earlier conversion process), but that's a different thing to investigate\n</code></pre>\n"},{"tags":["java","plot","netlogo","patch"],"comments":[{"owner":{"account_id":23249347,"reputation":2200,"user_id":17337430,"display_name":"LeirsW"},"score":1,"creation_date":1663944498,"post_id":73829209,"comment_id":130365745,"body_markdown":"What options have you already tried?","body":"What options have you already tried?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1663946850,"post_id":73829209,"comment_id":130366678,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":17745969,"reputation":1,"user_id":16487721,"display_name":"Helpie114"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663942945,"creation_date":1663942945,"question_id":73829209,"body_markdown":"I want to measure the rate of change of patches from green to red. \r\nUsing the community fire model in Netlogo, how do I determine the number of tree patches that just turned red aka new burned trees? \r\n \r\n","title":"Counting the net change in patches with a certain color in Netlogo","body":"<p>I want to measure the rate of change of patches from green to red.\nUsing the community fire model in Netlogo, how do I determine the number of tree patches that just turned red aka new burned trees?</p>\n"},{"tags":["java","mysql","sql2o"],"answers":[{"tags":[],"owner":{"account_id":1399453,"reputation":2263,"user_id":1328497,"display_name":"aaberg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1518169572,"creation_date":1518169572,"answer_id":48702927,"question_id":48697084,"body_markdown":"I think you misunderstand what column mappings are. Column mappings are used to map column names to object-field names. \r\n\r\nYou should first create a data class to hold the result of your query. From your code above, I assume that you are trying to fetch players.\r\n\r\n\r\n    public class Player {\r\n       public String date;\r\n       public String playerList;\r\n       public String playerCount;\r\n       public String playerMax\r\n    }\r\n\r\n(Consider to use better data types. Date for dates, int for counts, etc)\r\n\r\nThen you can use sql2o to fetch data\r\n\r\n    List&lt;Player&gt; players = con.createQuery(sql).executeAndFetch(Player.class);\r\n","title":"How to get data from SQL with sql2o?","body":"<p>I think you misunderstand what column mappings are. Column mappings are used to map column names to object-field names. </p>\n\n<p>You should first create a data class to hold the result of your query. From your code above, I assume that you are trying to fetch players.</p>\n\n<pre><code>public class Player {\n   public String date;\n   public String playerList;\n   public String playerCount;\n   public String playerMax\n}\n</code></pre>\n\n<p>(Consider to use better data types. Date for dates, int for counts, etc)</p>\n\n<p>Then you can use sql2o to fetch data</p>\n\n<pre><code>List&lt;Player&gt; players = con.createQuery(sql).executeAndFetch(Player.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":538380,"reputation":3134,"user_id":906421,"display_name":"developer.g"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663942709,"creation_date":1663942709,"answer_id":73829151,"question_id":48697084,"body_markdown":"There is a much better way now.\r\n\r\n**.setAutoDeriveColumnNames(true)**\r\n\r\n    Example\r\n    try (Connection con = sql2o.open()) {\r\n        List&lt;Player&gt; l = con.createQuery(sql)\r\n            .setAutoDeriveColumnNames(true)\r\n            .executeAndFetch(Player.class);\r\n    }\r\n\r\nhttps://groups.google.com/g/sql2o/c/3H4XJIv-i04","title":"How to get data from SQL with sql2o?","body":"<p>There is a much better way now.</p>\n<p><strong>.setAutoDeriveColumnNames(true)</strong></p>\n<pre><code>Example\ntry (Connection con = sql2o.open()) {\n    List&lt;Player&gt; l = con.createQuery(sql)\n        .setAutoDeriveColumnNames(true)\n        .executeAndFetch(Player.class);\n}\n</code></pre>\n<p><a href=\"https://groups.google.com/g/sql2o/c/3H4XJIv-i04\" rel=\"nofollow noreferrer\">https://groups.google.com/g/sql2o/c/3H4XJIv-i04</a></p>\n"}],"owner":{"account_id":12909944,"reputation":3,"user_id":9335987,"display_name":"Kristi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2472,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":48702927,"answer_count":2,"score":0,"last_activity_date":1663942709,"creation_date":1518137140,"question_id":48697084,"body_markdown":"I&#39;m trying to get data from mySQL to List&lt;String&gt; in java using sql2o lib.\r\n\r\nBut for some reason I just fail to understand how to use it properly (it looks like).\r\n\r\nHere is the faulty code:\r\n\r\n       List&lt;String&gt; returning = new ArrayList&lt;String&gt;();\r\n       String date = &quot;&quot;;\r\n       String playerList = &quot;&quot;;\r\n       String playerCount = &quot;&quot;;\r\n       String playerMax = &quot;&quot;;\r\n    \r\n       con.createQuery(sql)\r\n       .throwOnMappingFailure(true).addColumnMapping(&quot;date&quot;, date)\r\n       .addColumnMapping(&quot;playerList&quot;, playerList)\r\n       .addColumnMapping(&quot;playerCount&quot;, playerCount)\r\n       .addColumnMapping(&quot;playerMax&quot;, playerMax).executeAndFetch(String.class);\r\n    \r\n       returning.add(date);\r\n       returning.add(playerList);\r\n       returning.add(playerCount);\r\n       returning.add(playerMax);\r\n\r\nAnd here is error I get:\r\n\r\n    org.sql2o.Sql2oException: Could not map date to any property.\r\n       at org.sql2o.DefaultResultSetHandlerFactory.newResultSetHandler0(DefaultResultSetHandlerFactory.java:199)\r\n       at org.sql2o.DefaultResultSetHandlerFactory.access$200(DefaultResultSetHandlerFactory.java:17)\r\n       at org.sql2o.DefaultResultSetHandlerFactory$5.evaluate(DefaultResultSetHandlerFactory.java:160)\r\n       at org.sql2o.DefaultResultSetHandlerFactory$5.evaluate(DefaultResultSetHandlerFactory.java:156)\r\n       at org.sql2o.tools.AbstractCache.get(AbstractCache.java:49)\r\n       at org.sql2o.DefaultResultSetHandlerFactory.newResultSetHandler(DefaultResultSetHandlerFactory.java:173)\r\n       at org.sql2o.PojoResultSetIterator.&lt;init&gt;(PojoResultSetIterator.java:20)\r\n       at org.sql2o.Query$14.iterator(Query.java:547)\r\n       at org.sql2o.Query.executeAndFetch(Query.java:588)\r\n       at org.sql2o.Query.executeAndFetch(Query.java:574)\r\n       at lol.discordbot.database.QueryServerInfo.getCurrent(QueryServerInfo.java:31)\r\n       at lol.discordbot.command.Query.execute(Query.java:20)\r\n       at lol.discordbot.command.CommandsListener.onMessageReceived(CommandsListener.java:39)\r\n\r\n","title":"How to get data from SQL with sql2o?","body":"<p>I'm trying to get data from mySQL to List in java using sql2o lib.</p>\n\n<p>But for some reason I just fail to understand how to use it properly (it looks like).</p>\n\n<p>Here is the faulty code:</p>\n\n<pre><code>   List&lt;String&gt; returning = new ArrayList&lt;String&gt;();\n   String date = \"\";\n   String playerList = \"\";\n   String playerCount = \"\";\n   String playerMax = \"\";\n\n   con.createQuery(sql)\n   .throwOnMappingFailure(true).addColumnMapping(\"date\", date)\n   .addColumnMapping(\"playerList\", playerList)\n   .addColumnMapping(\"playerCount\", playerCount)\n   .addColumnMapping(\"playerMax\", playerMax).executeAndFetch(String.class);\n\n   returning.add(date);\n   returning.add(playerList);\n   returning.add(playerCount);\n   returning.add(playerMax);\n</code></pre>\n\n<p>And here is error I get:</p>\n\n<pre><code>org.sql2o.Sql2oException: Could not map date to any property.\n   at org.sql2o.DefaultResultSetHandlerFactory.newResultSetHandler0(DefaultResultSetHandlerFactory.java:199)\n   at org.sql2o.DefaultResultSetHandlerFactory.access$200(DefaultResultSetHandlerFactory.java:17)\n   at org.sql2o.DefaultResultSetHandlerFactory$5.evaluate(DefaultResultSetHandlerFactory.java:160)\n   at org.sql2o.DefaultResultSetHandlerFactory$5.evaluate(DefaultResultSetHandlerFactory.java:156)\n   at org.sql2o.tools.AbstractCache.get(AbstractCache.java:49)\n   at org.sql2o.DefaultResultSetHandlerFactory.newResultSetHandler(DefaultResultSetHandlerFactory.java:173)\n   at org.sql2o.PojoResultSetIterator.&lt;init&gt;(PojoResultSetIterator.java:20)\n   at org.sql2o.Query$14.iterator(Query.java:547)\n   at org.sql2o.Query.executeAndFetch(Query.java:588)\n   at org.sql2o.Query.executeAndFetch(Query.java:574)\n   at lol.discordbot.database.QueryServerInfo.getCurrent(QueryServerInfo.java:31)\n   at lol.discordbot.command.Query.execute(Query.java:20)\n   at lol.discordbot.command.CommandsListener.onMessageReceived(CommandsListener.java:39)\n</code></pre>\n"},{"tags":["java","eclipse","ant"],"comments":[{"owner":{"account_id":320797,"reputation":5319,"user_id":639258,"accept_rate":92,"display_name":"Pramod Karandikar"},"score":0,"creation_date":1432097534,"post_id":30340486,"comment_id":48774603,"body_markdown":"Is using Ant mandatory? Or you just need to run the program?\nElse, right click on the Java file &gt; Run As &gt; Java application.","body":"Is using Ant mandatory? Or you just need to run the program? Else, right click on the Java file &gt; Run As &gt; Java application."},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1432097579,"post_id":30340486,"comment_id":48774621,"body_markdown":"Did you meddle with `Run Configuration`?","body":"Did you meddle with <code>Run Configuration</code>?"}],"answers":[{"tags":[],"owner":{"account_id":1421248,"reputation":1023,"user_id":1345798,"display_name":"Alaa Abuzaghleh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1432097566,"creation_date":1432097566,"answer_id":30340527,"question_id":30340486,"body_markdown":"dont run it as ant, right click on your file in eclipse select run as then choose java application ","title":"I tried to run Java in Eclipse and it asks me to select ant build and either one I choose it says unable to find ant file to run...","body":"<p>dont run it as ant, right click on your file in eclipse select run as then choose java application </p>\n"},{"tags":[],"owner":{"account_id":205888,"reputation":21,"user_id":1883772,"display_name":"mikrasov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1432097752,"creation_date":1432097752,"answer_id":30340557,"question_id":30340486,"body_markdown":"It looks like you don&#39;t have your file in your buildpath (what eclipse uses to figure out what files it should compile). Right click on the folder and select Buildpath -&gt; Use as Source folder. Now when you hit run it should hopefully work.","title":"I tried to run Java in Eclipse and it asks me to select ant build and either one I choose it says unable to find ant file to run...","body":"<p>It looks like you don't have your file in your buildpath (what eclipse uses to figure out what files it should compile). Right click on the folder and select Buildpath -> Use as Source folder. Now when you hit run it should hopefully work.</p>\n"},{"tags":[],"owner":{"account_id":10582993,"reputation":1,"user_id":7796195,"display_name":"Manoj M J"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1490942446,"creation_date":1490942446,"answer_id":43134073,"question_id":30340486,"body_markdown":"Try to create a Java class file with suitable name and method.This error usually occurs when compiler doesn&#39;t understand which file to execute.","title":"I tried to run Java in Eclipse and it asks me to select ant build and either one I choose it says unable to find ant file to run...","body":"<p>Try to create a Java class file with suitable name and method.This error usually occurs when compiler doesn't understand which file to execute.</p>\n"},{"tags":[],"owner":{"account_id":19624665,"reputation":1,"user_id":14364326,"display_name":"Sachet Thapa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601447097,"creation_date":1601423255,"answer_id":64129105,"question_id":30340486,"body_markdown":" 1. Go to Run\r\n 2. Run Configurations\r\n 3. Select Java Application(From Left Pane)\r\n 4. Fill Up Your Project Name and your Main Class\r\n 5. Apply and Run\r\n\r\n[example image][1]\r\n\r\n  [1]: https://i.stack.imgur.com/IrAQA.png","title":"I tried to run Java in Eclipse and it asks me to select ant build and either one I choose it says unable to find ant file to run...","body":"<ol>\n<li>Go to Run</li>\n<li>Run Configurations</li>\n<li>Select Java Application(From Left Pane)</li>\n<li>Fill Up Your Project Name and your Main Class</li>\n<li>Apply and Run</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/IrAQA.png\" rel=\"nofollow noreferrer\">example image</a></p>\n"},{"tags":[],"owner":{"account_id":22713833,"reputation":1,"user_id":16879415,"display_name":"nina"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1631283372,"creation_date":1631283372,"answer_id":69133590,"question_id":30340486,"body_markdown":"Simply click the javadoc next to your console and run it","title":"I tried to run Java in Eclipse and it asks me to select ant build and either one I choose it says unable to find ant file to run...","body":"<p>Simply click the javadoc next to your console and run it</p>\n"},{"tags":[],"owner":{"account_id":25359547,"reputation":1,"user_id":19175085,"display_name":"raju budhoju"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653239292,"creation_date":1653239257,"answer_id":72339691,"question_id":30340486,"body_markdown":"Best way is to\r\nDelete all eclipse files in your pc and again download eclipse and install it. Definitely works","title":"I tried to run Java in Eclipse and it asks me to select ant build and either one I choose it says unable to find ant file to run...","body":"<p>Best way is to\nDelete all eclipse files in your pc and again download eclipse and install it. Definitely works</p>\n"},{"tags":[],"owner":{"account_id":1088043,"reputation":24,"user_id":1487917,"display_name":"JamesR404"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663942622,"creation_date":1663942622,"answer_id":73829133,"question_id":30340486,"body_markdown":"Click Run As &gt; Java.\r\n\r\nIf Java is not available there, click Run Configurations &gt; JRE. \r\n\r\nChoose &quot;Execution environment&quot; , click Environments and choose the Java version you want to use. Click Apply, Run. \r\n\r\nThat should do it.","title":"I tried to run Java in Eclipse and it asks me to select ant build and either one I choose it says unable to find ant file to run...","body":"<p>Click Run As &gt; Java.</p>\n<p>If Java is not available there, click Run Configurations &gt; JRE.</p>\n<p>Choose &quot;Execution environment&quot; , click Environments and choose the Java version you want to use. Click Apply, Run.</p>\n<p>That should do it.</p>\n"}],"owner":{"account_id":6130705,"reputation":493,"user_id":4780992,"accept_rate":0,"display_name":"Mandy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29010,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":7,"score":4,"last_activity_date":1663942622,"creation_date":1432097336,"question_id":30340486,"body_markdown":"![enter image description here][1]\r\nSo I just installed JRE, JDK and Eclipse and I was trying to run this famous HelloWorld code, but it shows this message as in attached images. What&#39;s the ant build? \r\n\r\nThanks! \r\n\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/I87Iz.png\r\n  [2]: http://i.stack.imgur.com/vXsI3.png","title":"I tried to run Java in Eclipse and it asks me to select ant build and either one I choose it says unable to find ant file to run...","body":"<p><img src=\"https://i.stack.imgur.com/I87Iz.png\" alt=\"enter image description here\">\nSo I just installed JRE, JDK and Eclipse and I was trying to run this famous HelloWorld code, but it shows this message as in attached images. What's the ant build? </p>\n\n<p>Thanks! </p>\n\n<p><img src=\"https://i.stack.imgur.com/vXsI3.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","architecture","wildfly"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1663953991,"post_id":73829120,"comment_id":130368996,"body_markdown":"What version of WildFly are you using? If you&#39;re using Jakarta EE 8, have you tried the `ManagedExecutorService` which is managed by the container?","body":"What version of WildFly are you using? If you&#39;re using Jakarta EE 8, have you tried the <code>ManagedExecutorService</code> which is managed by the container?"},{"owner":{"account_id":3314736,"reputation":3800,"user_id":2787364,"accept_rate":75,"display_name":"Cosmin Ioniță"},"score":0,"creation_date":1664200247,"post_id":73829120,"comment_id":130410348,"body_markdown":"Looking over the projection you mentioned, I see that it&#39;s no longer maintained, so if you encounter any issues, you&#39;ll most probably have to fix them by yourself. What problems would show up if you increase the queue? Maybe an OOM because too many tasks have to be kept into memory, right?","body":"Looking over the projection you mentioned, I see that it&#39;s no longer maintained, so if you encounter any issues, you&#39;ll most probably have to fix them by yourself. What problems would show up if you increase the queue? Maybe an OOM because too many tasks have to be kept into memory, right?"},{"owner":{"account_id":1865629,"reputation":933,"user_id":1689284,"accept_rate":55,"display_name":"daniel sp"},"score":0,"creation_date":1664264586,"post_id":73829120,"comment_id":130425422,"body_markdown":"@James, we are using exactly that.","body":"@James, we are using exactly that."},{"owner":{"account_id":1865629,"reputation":933,"user_id":1689284,"accept_rate":55,"display_name":"daniel sp"},"score":0,"creation_date":1664264664,"post_id":73829120,"comment_id":130425445,"body_markdown":"@Cosmin, yes, I think for the moment I will increase the size of the queue, and simply try to insert all items without this wait in the offer","body":"@Cosmin, yes, I think for the moment I will increase the size of the queue, and simply try to insert all items without this wait in the offer"}],"owner":{"account_id":1865629,"reputation":933,"user_id":1689284,"accept_rate":55,"display_name":"daniel sp"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663942565,"creation_date":1663942565,"question_id":73829120,"body_markdown":"Under certain conditions, one of our servers running legacy code in a Wildfly application server, is suffering thread starvation and needs to be restarted.\r\n\r\nAfter an arduous investigation, I stumbled upon this silly code:\r\n\r\n    private void addToQueue (Item e) {\r\n    \r\n         if (!_queue.offer(e, 200L, TimeUnit.MILLISECONDS)) { \r\n                  ThreadService.getInstance().schedule(&quot;retry process&quot;, () -&gt; {\r\n                    addToQueue(e);\r\n                    return null;\r\n                  }, 5L, TimeUnit.SECONDS);\r\n                }\r\n        }\r\n\r\nThreadService is the Wildfly implementation of the Java SE Executor Service, that provides a limited number of threads (16).\r\n\r\nSometimes, during reconnections between services, we receive in short time a huge amount of items to be processed (~100k), and as you can see it spams the ThreadService with scheduled tasks.\r\n\r\nAn obvious solution would be to increase the queue, which has currently a capacity of 20k. However I am afraid this would end up in other problems. Obviously this thread creation spamming needs to be eliminated.\r\n\r\nSince processing these items is a non critical task I was thinking on using a disk backed queue, so it can be done in a separated process at slow pace. \r\n\r\nSearching a bit, I have seen this project: [Tape by Square][1]\r\n\r\nI would like to know your opinion about this solution, which kind of reminds me a bit to the pipes in Linux I used years ago. What do you think?\r\n\r\n  [1]: https://github.com/square/tape","title":"Using a disk backed queue","body":"<p>Under certain conditions, one of our servers running legacy code in a Wildfly application server, is suffering thread starvation and needs to be restarted.</p>\n<p>After an arduous investigation, I stumbled upon this silly code:</p>\n<pre><code>private void addToQueue (Item e) {\n\n     if (!_queue.offer(e, 200L, TimeUnit.MILLISECONDS)) { \n              ThreadService.getInstance().schedule(&quot;retry process&quot;, () -&gt; {\n                addToQueue(e);\n                return null;\n              }, 5L, TimeUnit.SECONDS);\n            }\n    }\n</code></pre>\n<p>ThreadService is the Wildfly implementation of the Java SE Executor Service, that provides a limited number of threads (16).</p>\n<p>Sometimes, during reconnections between services, we receive in short time a huge amount of items to be processed (~100k), and as you can see it spams the ThreadService with scheduled tasks.</p>\n<p>An obvious solution would be to increase the queue, which has currently a capacity of 20k. However I am afraid this would end up in other problems. Obviously this thread creation spamming needs to be eliminated.</p>\n<p>Since processing these items is a non critical task I was thinking on using a disk backed queue, so it can be done in a separated process at slow pace.</p>\n<p>Searching a bit, I have seen this project: <a href=\"https://github.com/square/tape\" rel=\"nofollow noreferrer\">Tape by Square</a></p>\n<p>I would like to know your opinion about this solution, which kind of reminds me a bit to the pipes in Linux I used years ago. What do you think?</p>\n"},{"tags":["java","jaxb","marshalling"],"owner":{"account_id":22565,"reputation":11004,"user_id":55794,"accept_rate":54,"display_name":"emeraldjava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663942496,"creation_date":1663942496,"question_id":73829104,"body_markdown":"I have a standard Organization Java object which uses JAXB annotations, and I can do all the standard\r\nJAX stuff like marshalling and unmarshalling.\r\n\r\n    import javax.xml.bind.annotation.XmlAccessType;\r\n    import javax.xml.bind.annotation.XmlAccessorType;\r\n    import javax.xml.bind.annotation.XmlElement;\r\n    import javax.xml.bind.annotation.XmlSeeAlso;\r\n    import javax.xml.bind.annotation.XmlType;\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(\r\n        name = &quot;Organization&quot;\r\n    )\r\n    public class Organization implements Serializable {\r\n        @XmlElement(\r\n            name = &quot;LegalName&quot;\r\n        )\r\n        protected String legalName;\r\n        @XmlElement(\r\n            name = &quot;Id&quot;\r\n        )\r\n        protected String id;\r\n        @XmlElement(\r\n            name = &quot;Addresses&quot;\r\n        )\r\n        protected Addresses addresses;\r\n\r\nThe object can be converted from an object\r\n\r\n    StringResult stringResult = new StringResult();\r\n    TransformerFactory.newInstance().newTransformer().transform(org, stringResult);\r\n    return stringResult.toString();\r\n\r\nto a full XML representation easily\r\n\r\n    &lt;Organization&gt;\r\n        &lt;Id&gt;1&lt;/Id&gt;\r\n        &lt;LegalName&gt;name&lt;/LegalName&gt;\r\n        &lt;Addresses&gt;\r\n            &lt;Address&gt;1&lt;/Address&gt;\r\n            &lt;Address&gt;2&lt;/Address&gt;\r\n            &lt;Address&gt;3&lt;/Address&gt;\r\n        &lt;/Addresses&gt;\r\n    &lt;/Organization&gt;\r\n\r\nI have a requirement to print a more conscise form of this object\r\n\r\n    Org {id}:{name}\r\n    - Addresses {count}: {Address1.id,Address2.id,Address3.id}\r\n\r\nIs there any way I can leverage the existing transform functionality of the JAXB librarys, and \r\ndefine the template/logic in a plugable custom java class?\r\n\r\nMy initial thought is a 100% bespoke solution would involve a Object Wrapper and a dirty toString() method.\r\n\r\n    System.out.println(new MyObjectWrapper(org).toString());","title":"Java JABX : Can I customize the output format?","body":"<p>I have a standard Organization Java object which uses JAXB annotations, and I can do all the standard\nJAX stuff like marshalling and unmarshalling.</p>\n<pre><code>import javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlSeeAlso;\nimport javax.xml.bind.annotation.XmlType;\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(\n    name = &quot;Organization&quot;\n)\npublic class Organization implements Serializable {\n    @XmlElement(\n        name = &quot;LegalName&quot;\n    )\n    protected String legalName;\n    @XmlElement(\n        name = &quot;Id&quot;\n    )\n    protected String id;\n    @XmlElement(\n        name = &quot;Addresses&quot;\n    )\n    protected Addresses addresses;\n</code></pre>\n<p>The object can be converted from an object</p>\n<pre><code>StringResult stringResult = new StringResult();\nTransformerFactory.newInstance().newTransformer().transform(org, stringResult);\nreturn stringResult.toString();\n</code></pre>\n<p>to a full XML representation easily</p>\n<pre><code>&lt;Organization&gt;\n    &lt;Id&gt;1&lt;/Id&gt;\n    &lt;LegalName&gt;name&lt;/LegalName&gt;\n    &lt;Addresses&gt;\n        &lt;Address&gt;1&lt;/Address&gt;\n        &lt;Address&gt;2&lt;/Address&gt;\n        &lt;Address&gt;3&lt;/Address&gt;\n    &lt;/Addresses&gt;\n&lt;/Organization&gt;\n</code></pre>\n<p>I have a requirement to print a more conscise form of this object</p>\n<pre><code>Org {id}:{name}\n- Addresses {count}: {Address1.id,Address2.id,Address3.id}\n</code></pre>\n<p>Is there any way I can leverage the existing transform functionality of the JAXB librarys, and\ndefine the template/logic in a plugable custom java class?</p>\n<p>My initial thought is a 100% bespoke solution would involve a Object Wrapper and a dirty toString() method.</p>\n<pre><code>System.out.println(new MyObjectWrapper(org).toString());\n</code></pre>\n"},{"tags":["java","amazon-web-services","aws-lambda","aws-sdk","aws-secrets-manager"],"answers":[{"tags":[],"owner":{"account_id":1108471,"reputation":531,"user_id":9897266,"display_name":"Nune Isabekyan"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1528909876,"creation_date":1528909876,"answer_id":50842781,"question_id":50798557,"body_markdown":"I had the same problem, the code that is present on AWS page doesn&#39;t work out of the box. The class you are looking for is `GetSecretValueResult` \r\nHere are the latest java docs\r\n\r\nhttps://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/secretsmanager/model/GetSecretValueResult.html\r\n\r\nHere is a piece that shall work:\r\n\r\n    public void printRdsSecret() throws IOException {\r\n        String secretName = &quot;mySecretName&quot;;\r\n \r\n        System.out.println(&quot;Requesting secret...&quot;);\r\n        AWSSecretsManager client = AWSSecretsManagerClientBuilder.standard().build();\r\n \r\n        GetSecretValueRequest getSecretValueRequest = new GetSecretValueRequest().withSecretId(secretName);\r\n \r\n        GetSecretValueResult getSecretValueResult = client.getSecretValue(getSecretValueRequest);\r\n \r\n        System.out.println(&quot;secret retrieved &quot;);\r\n        final String secretBinaryString = getSecretValueResult.getSecretString();\r\n        final ObjectMapper objectMapper = new ObjectMapper();\r\n \r\n        final HashMap&lt;String, String&gt; secretMap = objectMapper.readValue(secretBinaryString, HashMap.class);\r\n \r\n        String url = String.format(&quot;jdbc:postgresql://%s:%s/dbName&quot;, secretMap.get(&quot;host&quot;), secretMap.get(&quot;port&quot;));\r\n        System.out.println(&quot;Secret url = &quot;+url);\r\n        System.out.println(&quot;Secret username = &quot;+secretMap.get(&quot;username&quot;));\r\n        System.out.println(&quot;Secret password = &quot;+secretMap.get(&quot;password&quot;));\r\n     }\r\n\r\nThis was tested with `aws-java-sdk-secretsmanager` of version `1.11.337`","title":"Manage RDS access with AWS Secrets Manager","body":"<p>I had the same problem, the code that is present on AWS page doesn't work out of the box. The class you are looking for is <code>GetSecretValueResult</code> \nHere are the latest java docs</p>\n\n<p><a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/secretsmanager/model/GetSecretValueResult.html\" rel=\"noreferrer\">https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/secretsmanager/model/GetSecretValueResult.html</a></p>\n\n<p>Here is a piece that shall work:</p>\n\n<pre><code>public void printRdsSecret() throws IOException {\n    String secretName = \"mySecretName\";\n\n    System.out.println(\"Requesting secret...\");\n    AWSSecretsManager client = AWSSecretsManagerClientBuilder.standard().build();\n\n    GetSecretValueRequest getSecretValueRequest = new GetSecretValueRequest().withSecretId(secretName);\n\n    GetSecretValueResult getSecretValueResult = client.getSecretValue(getSecretValueRequest);\n\n    System.out.println(\"secret retrieved \");\n    final String secretBinaryString = getSecretValueResult.getSecretString();\n    final ObjectMapper objectMapper = new ObjectMapper();\n\n    final HashMap&lt;String, String&gt; secretMap = objectMapper.readValue(secretBinaryString, HashMap.class);\n\n    String url = String.format(\"jdbc:postgresql://%s:%s/dbName\", secretMap.get(\"host\"), secretMap.get(\"port\"));\n    System.out.println(\"Secret url = \"+url);\n    System.out.println(\"Secret username = \"+secretMap.get(\"username\"));\n    System.out.println(\"Secret password = \"+secretMap.get(\"password\"));\n }\n</code></pre>\n\n<p>This was tested with <code>aws-java-sdk-secretsmanager</code> of version <code>1.11.337</code></p>\n"},{"tags":[],"owner":{"account_id":3671314,"reputation":528,"user_id":3058468,"accept_rate":25,"display_name":"ido flax"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553068957,"creation_date":1553068957,"answer_id":55256012,"question_id":50798557,"body_markdown":"just add the lib to your pom:\r\nhttps://mvnrepository.com/artifact/com.amazonaws/aws-java-sdk-secretsmanager\r\n","title":"Manage RDS access with AWS Secrets Manager","body":"<p>just add the lib to your pom:\n<a href=\"https://mvnrepository.com/artifact/com.amazonaws/aws-java-sdk-secretsmanager\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.amazonaws/aws-java-sdk-secretsmanager</a></p>\n"},{"tags":[],"owner":{"account_id":4243102,"reputation":3047,"user_id":5784939,"display_name":"Eugene Maysyuk"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1562447129,"creation_date":1562446400,"answer_id":56917590,"question_id":50798557,"body_markdown":"I think the main problem was in lack of dependencies to **AWS SDK v2**.\r\n\r\nAdding a code snippet here that utilizes **AWS SDK v2**. Just in case anybody is looking for this.\r\n\r\n\r\n\r\n\r\n    package com.may.util;\r\n    \r\n    import software.amazon.awssdk.regions.Region;\r\n    import software.amazon.awssdk.services.secretsmanager.SecretsManagerClient;\r\n    import software.amazon.awssdk.services.secretsmanager.model.DecryptionFailureException;\r\n    import software.amazon.awssdk.services.secretsmanager.model.GetSecretValueRequest;\r\n    import software.amazon.awssdk.services.secretsmanager.model.GetSecretValueResponse;\r\n    import software.amazon.awssdk.services.secretsmanager.model.InternalServiceErrorException;\r\n    import software.amazon.awssdk.services.secretsmanager.model.InvalidParameterException;\r\n    import software.amazon.awssdk.services.secretsmanager.model.InvalidRequestException;\r\n    import software.amazon.awssdk.services.secretsmanager.model.ResourceNotFoundException;\r\n    \r\n    public class SecretsManagerUtil {\r\n    \r\n        public static String obtainSecret() {\r\n            String secretName = &quot;db_secret_name&quot;;\r\n            String region = &quot;us-east-1&quot;;\r\n    \r\n            SecretsManagerClient client = SecretsManagerClient.builder().region(Region.of(region)).build();\r\n            GetSecretValueResponse response = null;\r\n    \r\n            try {\r\n                response = client.getSecretValue(GetSecretValueRequest.builder().secretId(secretName).build());\r\n            } catch (DecryptionFailureException e) {\r\n                // Secrets Manager can&#39;t decrypt the protected secret text using the provided KMS key.\r\n                // Deal with the exception here, and/or rethrow at your discretion.\r\n                throw e;\r\n            } catch (InternalServiceErrorException e) {\r\n                // An error occurred on the server side.\r\n                // Deal with the exception here, and/or rethrow at your discretion.\r\n                throw e;\r\n            } catch (InvalidParameterException e) {\r\n                // You provided an invalid value for a parameter.\r\n                // Deal with the exception here, and/or rethrow at your discretion.\r\n                throw e;\r\n            } catch (InvalidRequestException e) {\r\n                // You provided a parameter value that is not valid for the current state of the resource.\r\n                // Deal with the exception here, and/or rethrow at your discretion.\r\n                throw e;\r\n            } catch (ResourceNotFoundException e) {\r\n                // We can&#39;t find the resource that you asked for.\r\n                // Deal with the exception here, and/or rethrow at your discretion.\r\n                throw e;\r\n            }\r\n    \r\n            return response.secretString();\r\n        }\r\n    }\r\n\r\n\r\nDeserialize and print secret:\r\n\r\n    public class SecretPrinter {\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(SecretPrinter.class);\r\n\r\n    public void printSecret() {\r\n        String json = SecretsManagerUtil.obtainSecret(); // secret in json format\r\n\r\n        RdsSecret secret;\r\n        try {\r\n            secret = new ObjectMapper().disable(FAIL_ON_UNKNOWN_PROPERTIES).readValue(json, RdsSecret.class);\r\n        } catch (IOException e) {\r\n            logger.error(&quot;Couldn&#39;t parse secret obtained from AWS Secrets Manager!&quot;);\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n        System.out.println(&quot;username: &quot; + secret.getUsername());\r\n        System.out.println(&quot;password: &quot; + secret.getPassword());\r\n    }\r\n\r\n    static class RdsSecret {\r\n        private String username;\r\n        private String password;\r\n\r\n        public String getUsername() {\r\n            return username;\r\n        }\r\n\r\n        public void setUsername(String username) {\r\n            this.username = username;\r\n        }\r\n\r\n        public String getPassword() {\r\n            return password;\r\n        }\r\n\r\n        public void setPassword(String password) {\r\n            this.password = password;\r\n        }\r\n    }\r\n}\r\n\r\nMaven:\r\n\r\n    &lt;dependencyManagement&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n          &lt;artifactId&gt;bom&lt;/artifactId&gt;\r\n          &lt;version&gt;2.6.3&lt;/version&gt;\r\n          &lt;type&gt;pom&lt;/type&gt;\r\n          &lt;scope&gt;import&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n    \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n      &lt;artifactId&gt;secretsmanager&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nGradle:\r\n\r\n    implementation platform(&#39;software.amazon.awssdk:bom:2.6.3&#39;)\r\n    implementation &#39;software.amazon.awssdk:secretsmanager&#39;\r\n\r\n","title":"Manage RDS access with AWS Secrets Manager","body":"<p>I think the main problem was in lack of dependencies to <strong>AWS SDK v2</strong>.</p>\n\n<p>Adding a code snippet here that utilizes <strong>AWS SDK v2</strong>. Just in case anybody is looking for this.</p>\n\n<pre><code>package com.may.util;\n\nimport software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.services.secretsmanager.SecretsManagerClient;\nimport software.amazon.awssdk.services.secretsmanager.model.DecryptionFailureException;\nimport software.amazon.awssdk.services.secretsmanager.model.GetSecretValueRequest;\nimport software.amazon.awssdk.services.secretsmanager.model.GetSecretValueResponse;\nimport software.amazon.awssdk.services.secretsmanager.model.InternalServiceErrorException;\nimport software.amazon.awssdk.services.secretsmanager.model.InvalidParameterException;\nimport software.amazon.awssdk.services.secretsmanager.model.InvalidRequestException;\nimport software.amazon.awssdk.services.secretsmanager.model.ResourceNotFoundException;\n\npublic class SecretsManagerUtil {\n\n    public static String obtainSecret() {\n        String secretName = \"db_secret_name\";\n        String region = \"us-east-1\";\n\n        SecretsManagerClient client = SecretsManagerClient.builder().region(Region.of(region)).build();\n        GetSecretValueResponse response = null;\n\n        try {\n            response = client.getSecretValue(GetSecretValueRequest.builder().secretId(secretName).build());\n        } catch (DecryptionFailureException e) {\n            // Secrets Manager can't decrypt the protected secret text using the provided KMS key.\n            // Deal with the exception here, and/or rethrow at your discretion.\n            throw e;\n        } catch (InternalServiceErrorException e) {\n            // An error occurred on the server side.\n            // Deal with the exception here, and/or rethrow at your discretion.\n            throw e;\n        } catch (InvalidParameterException e) {\n            // You provided an invalid value for a parameter.\n            // Deal with the exception here, and/or rethrow at your discretion.\n            throw e;\n        } catch (InvalidRequestException e) {\n            // You provided a parameter value that is not valid for the current state of the resource.\n            // Deal with the exception here, and/or rethrow at your discretion.\n            throw e;\n        } catch (ResourceNotFoundException e) {\n            // We can't find the resource that you asked for.\n            // Deal with the exception here, and/or rethrow at your discretion.\n            throw e;\n        }\n\n        return response.secretString();\n    }\n}\n</code></pre>\n\n<p>Deserialize and print secret:</p>\n\n<pre><code>public class SecretPrinter {\n\nprivate static final Logger logger = LoggerFactory.getLogger(SecretPrinter.class);\n\npublic void printSecret() {\n    String json = SecretsManagerUtil.obtainSecret(); // secret in json format\n\n    RdsSecret secret;\n    try {\n        secret = new ObjectMapper().disable(FAIL_ON_UNKNOWN_PROPERTIES).readValue(json, RdsSecret.class);\n    } catch (IOException e) {\n        logger.error(\"Couldn't parse secret obtained from AWS Secrets Manager!\");\n        throw new RuntimeException(e);\n    }\n\n    System.out.println(\"username: \" + secret.getUsername());\n    System.out.println(\"password: \" + secret.getPassword());\n}\n\nstatic class RdsSecret {\n    private String username;\n    private String password;\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Maven:</p>\n\n<pre><code>&lt;dependencyManagement&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n      &lt;artifactId&gt;bom&lt;/artifactId&gt;\n      &lt;version&gt;2.6.3&lt;/version&gt;\n      &lt;type&gt;pom&lt;/type&gt;\n      &lt;scope&gt;import&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n  &lt;artifactId&gt;secretsmanager&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Gradle:</p>\n\n<pre><code>implementation platform('software.amazon.awssdk:bom:2.6.3')\nimplementation 'software.amazon.awssdk:secretsmanager'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6638643,"reputation":133,"user_id":5125075,"display_name":"Prakash Tanaji"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565742429,"creation_date":1565742429,"answer_id":57486791,"question_id":50798557,"body_markdown":"I recommend using aws secret manger jdbc wrapper to access the RDS (https://github.com/aws/aws-secretsmanager-jdbc). You don&#39;t need to deal with fetching the secret, decode and move around with password in text before passing to RDS client. \r\n\r\nJust pass in secret id to RDS client and the jdbc wrapper will handle the rest.","title":"Manage RDS access with AWS Secrets Manager","body":"<p>I recommend using aws secret manger jdbc wrapper to access the RDS (<a href=\"https://github.com/aws/aws-secretsmanager-jdbc\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-secretsmanager-jdbc</a>). You don't need to deal with fetching the secret, decode and move around with password in text before passing to RDS client. </p>\n\n<p>Just pass in secret id to RDS client and the jdbc wrapper will handle the rest.</p>\n"},{"tags":[],"owner":{"account_id":2512916,"reputation":2168,"user_id":2184946,"accept_rate":59,"display_name":"Harsha Jayamanna"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1572927735,"creation_date":1572927735,"answer_id":58704473,"question_id":50798557,"body_markdown":"**aws-secretsmanager-jdbc** can be used to access AWS RDS via AWS secrete manager.\r\nhttps://github.com/aws/aws-secretsmanager-jdbc\r\n\r\nBelow is the content of my application.properties\r\n\r\n    spring.datasource.url=jdbc-secretsmanager:mysql://dev-xxxx-database.cluster-xxxxxxxxx.ap-southeast-1.rds.amazonaws.com:3306/dev_xxxxxx\r\n\r\n    spring.datasource.username=/secret/application\r\n    spring.datasource.driver-class-name=com.amazonaws.secretsmanager.sql.AWSSecretsManagerMySQLDriver\r\n\r\n    spring.jpa.database-platform = org.hibernate.dialect.MySQL5Dialect\r\n\r\n\r\n\r\n\r\nBelow is the secret in AWS secret manager.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kT6iY.jpg\r\n\r\nBy using this method, you don&#39;t need to obtain username and password manually and create data sources.","title":"Manage RDS access with AWS Secrets Manager","body":"<p><strong>aws-secretsmanager-jdbc</strong> can be used to access AWS RDS via AWS secrete manager.\n<a href=\"https://github.com/aws/aws-secretsmanager-jdbc\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-secretsmanager-jdbc</a></p>\n\n<p>Below is the content of my application.properties</p>\n\n<pre><code>spring.datasource.url=jdbc-secretsmanager:mysql://dev-xxxx-database.cluster-xxxxxxxxx.ap-southeast-1.rds.amazonaws.com:3306/dev_xxxxxx\n\nspring.datasource.username=/secret/application\nspring.datasource.driver-class-name=com.amazonaws.secretsmanager.sql.AWSSecretsManagerMySQLDriver\n\nspring.jpa.database-platform = org.hibernate.dialect.MySQL5Dialect\n</code></pre>\n\n<p>Below is the secret in AWS secret manager.</p>\n\n<p><a href=\"https://i.stack.imgur.com/kT6iY.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kT6iY.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>By using this method, you don't need to obtain username and password manually and create data sources.</p>\n"},{"tags":[],"owner":{"account_id":7816641,"reputation":111,"user_id":5911143,"display_name":"Rafael Paredes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598221687,"creation_date":1598221687,"answer_id":63552632,"question_id":50798557,"body_markdown":"You&#39;re missing &quot;aws-java-sdk-secretsmanager&quot; dependency, you have to add this to your pom.xml and then import on your java class.\r\n\r\nFrom Maven:\r\n\r\n        &lt;dependency&gt;\r\n\t        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;aws-java-sdk-secretsmanager&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.11.355 &lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n\r\n[AWS Reference][1]\r\n\r\nIf you are not using maven, you have [add AWS SDK to your existing project.][2]\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/prescriptive-guidance/latest/patterns/manage-credentials-using-aws-secrets-manager.html\r\n  [2]: https://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/java-dg-samples.html#prerequisites","title":"Manage RDS access with AWS Secrets Manager","body":"<p>You're missing &quot;aws-java-sdk-secretsmanager&quot; dependency, you have to add this to your pom.xml and then import on your java class.</p>\n<p>From Maven:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n        &lt;artifactId&gt;aws-java-sdk-secretsmanager&lt;/artifactId&gt;\n        &lt;version&gt;1.11.355 &lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p><a href=\"https://docs.aws.amazon.com/prescriptive-guidance/latest/patterns/manage-credentials-using-aws-secrets-manager.html\" rel=\"nofollow noreferrer\">AWS Reference</a></p>\n<p>If you are not using maven, you have <a href=\"https://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/java-dg-samples.html#prerequisites\" rel=\"nofollow noreferrer\">add AWS SDK to your existing project.</a></p>\n"},{"tags":[],"owner":{"account_id":26423689,"reputation":11,"user_id":20070998,"display_name":"Tanaya Maji"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663942477,"creation_date":1663942407,"answer_id":73829079,"question_id":50798557,"body_markdown":"I have faced the same issue. just delete the scope line i.e &quot;&lt;scope&gt;test&lt;/scope&gt;&quot; from the dependency. It&#39;ll work","title":"Manage RDS access with AWS Secrets Manager","body":"<p>I have faced the same issue. just delete the scope line i.e &quot;test&quot; from the dependency. It'll work</p>\n"}],"owner":{"account_id":7991116,"reputation":705,"user_id":6028947,"accept_rate":38,"display_name":"monkey intern"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15366,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":50842781,"answer_count":7,"score":7,"last_activity_date":1663942477,"creation_date":1528722704,"question_id":50798557,"body_markdown":"I am currently working with Eclipse and the AWS Toolkit for Eclipse. My project already works and it is doing its job, which is to connect to an RDS instance and return JSON objects to API Gateway calls.\r\n\r\nI just got a new requirement, we are to use the service SecretsManager to authomatically rotate RDS configuration such as Users, passwords and so on.\r\n\r\nThe problem is when I try to import classes such as `GetSecretValueResponse`, I get a `The import com.amazonaws.services.secretsmanager cannot be resolved`. When I explore the documentation and the SDK, there exists a `GetSecretValueRequest` but not a `GetSecretValueResponse`, so I am not being able to make sense on what should I do, nor I have found anything similar to an example I can study.\r\n\r\n\r\nThe following code is what I am trying to implement and is given by Amazon itself (in the Secrets Manager page there is a button you can click to see how it would go with Java, in this case), and it is presented without any modification yet because as I said I do not know how to import several classes:\r\n\r\n    // Use this code snippet in your app.\r\n    public static void getSecret() {\r\n    String secretName = &quot;secretName&quot;;\r\n    String endpoint = &quot;secretEndpoint&quot;;\r\n    String region = &quot;region&quot;;\r\n    \r\n    AwsClientBuilder.EndpointConfiguration config = new AwsClientBuilder.EndpointConfiguration(endpoint, region);\r\n    AWSSecretsManagerClientBuilder clientBuilder = AWSSecretsManagerClientBuilder.standard();\r\n    clientBuilder.setEndpointConfiguration(config);\r\n    AWSSecretsManager client = clientBuilder.build();\r\n    \r\n    String secret;\r\n    ByteBuffer binarySecretData;\r\n    GetSecretValueRequest getSecretValueRequest = GetSecretValueRequest.builder()\r\n            .withSecretId(secretName)\r\n            .build();\r\n    GetSecretValueResponse getSecretValueResponse = null;\r\n    try {\r\n        getSecretValueResponse = client.getSecretValue(getSecretValueRequest);\r\n    \r\n    } catch(ResourceNotFoundException e) {\r\n        System.out.println(&quot;The requested secret &quot; + secretName + &quot; was not found&quot;);\r\n    } catch (InvalidRequestException e) {\r\n        System.out.println(&quot;The request was invalid due to: &quot; + e.getMessage());\r\n    } catch (InvalidParameterException e) {\r\n        System.out.println(&quot;The request had invalid params: &quot; + e.getMessage());\r\n    }\r\n    \r\n    if(getSecretValueResponse == null) {\r\n        return;\r\n    }\r\n    \r\n    // Decrypted secret using the associated KMS CMK\r\n    // Depending on whether the secret was a string or binary, one of these fields will be populated\r\n    if(getSecretValueResponse.getSecretString() != null) {\r\n        secret = getSecretValueResponse.getSecretString();\r\n    }\r\n    else {\r\n        binarySecretData = getSecretValueResponse.getSecretBinary();\r\n    }\r\n    \r\n    // Your code goes here. \r\n    }","title":"Manage RDS access with AWS Secrets Manager","body":"<p>I am currently working with Eclipse and the AWS Toolkit for Eclipse. My project already works and it is doing its job, which is to connect to an RDS instance and return JSON objects to API Gateway calls.</p>\n\n<p>I just got a new requirement, we are to use the service SecretsManager to authomatically rotate RDS configuration such as Users, passwords and so on.</p>\n\n<p>The problem is when I try to import classes such as <code>GetSecretValueResponse</code>, I get a <code>The import com.amazonaws.services.secretsmanager cannot be resolved</code>. When I explore the documentation and the SDK, there exists a <code>GetSecretValueRequest</code> but not a <code>GetSecretValueResponse</code>, so I am not being able to make sense on what should I do, nor I have found anything similar to an example I can study.</p>\n\n<p>The following code is what I am trying to implement and is given by Amazon itself (in the Secrets Manager page there is a button you can click to see how it would go with Java, in this case), and it is presented without any modification yet because as I said I do not know how to import several classes:</p>\n\n<pre><code>// Use this code snippet in your app.\npublic static void getSecret() {\nString secretName = \"secretName\";\nString endpoint = \"secretEndpoint\";\nString region = \"region\";\n\nAwsClientBuilder.EndpointConfiguration config = new AwsClientBuilder.EndpointConfiguration(endpoint, region);\nAWSSecretsManagerClientBuilder clientBuilder = AWSSecretsManagerClientBuilder.standard();\nclientBuilder.setEndpointConfiguration(config);\nAWSSecretsManager client = clientBuilder.build();\n\nString secret;\nByteBuffer binarySecretData;\nGetSecretValueRequest getSecretValueRequest = GetSecretValueRequest.builder()\n        .withSecretId(secretName)\n        .build();\nGetSecretValueResponse getSecretValueResponse = null;\ntry {\n    getSecretValueResponse = client.getSecretValue(getSecretValueRequest);\n\n} catch(ResourceNotFoundException e) {\n    System.out.println(\"The requested secret \" + secretName + \" was not found\");\n} catch (InvalidRequestException e) {\n    System.out.println(\"The request was invalid due to: \" + e.getMessage());\n} catch (InvalidParameterException e) {\n    System.out.println(\"The request had invalid params: \" + e.getMessage());\n}\n\nif(getSecretValueResponse == null) {\n    return;\n}\n\n// Decrypted secret using the associated KMS CMK\n// Depending on whether the secret was a string or binary, one of these fields will be populated\nif(getSecretValueResponse.getSecretString() != null) {\n    secret = getSecretValueResponse.getSecretString();\n}\nelse {\n    binarySecretData = getSecretValueResponse.getSecretBinary();\n}\n\n// Your code goes here. \n}\n</code></pre>\n"},{"tags":["java","maven","junit","allure"],"answers":[{"tags":[],"owner":{"account_id":24156756,"reputation":1,"user_id":18120902,"display_name":"bogvol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643990936,"creation_date":1643988718,"answer_id":70988944,"question_id":70454222,"body_markdown":"I faced with the same situation. pls try to change the ```allure-junit5.version``` to ```2.16.1```, in my case it was the last properly working one.\r\neach one above it behaves similarly with NaN% in report\r\n\r\n---------------\r\nUPDATE: you can use a version above ```2.16.1```, but configure the ```allure-maven``` plugin with ```reportVersion``` tag, e.g. for version ```2.17.2```:\r\n\r\n    &lt;plugin&gt;\r\n       &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n       &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\r\n       &lt;version&gt;2.11.2&lt;/version&gt;\r\n       &lt;configuration&gt;\r\n           &lt;reportVersion&gt;2.17.2&lt;/reportVersion&gt;\r\n           &lt;resultsDirectory&gt;${project.build.directory}/allure-results&lt;/resultsDirectory&gt;\r\n           &lt;reportDirectory&gt;${project.build.directory}/allure-report&lt;/reportDirectory&gt;\r\n       &lt;/configuration&gt;\r\n    &lt;/plugin&gt;","title":"Allure report is NaN% via allure-maven plugin","body":"<p>I faced with the same situation. pls try to change the <code>allure-junit5.version</code> to <code>2.16.1</code>, in my case it was the last properly working one.\neach one above it behaves similarly with NaN% in report</p>\n<hr />\n<p>UPDATE: you can use a version above <code>2.16.1</code>, but configure the <code>allure-maven</code> plugin with <code>reportVersion</code> tag, e.g. for version <code>2.17.2</code>:</p>\n<pre><code>&lt;plugin&gt;\n   &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n   &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\n   &lt;version&gt;2.11.2&lt;/version&gt;\n   &lt;configuration&gt;\n       &lt;reportVersion&gt;2.17.2&lt;/reportVersion&gt;\n       &lt;resultsDirectory&gt;${project.build.directory}/allure-results&lt;/resultsDirectory&gt;\n       &lt;reportDirectory&gt;${project.build.directory}/allure-report&lt;/reportDirectory&gt;\n   &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18295710,"reputation":1,"user_id":13321699,"display_name":"Amar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663942456,"creation_date":1663942456,"answer_id":73829092,"question_id":70454222,"body_markdown":"It seems have spaces in one of the parent folder name under which allure-results exist. So, if there are space in folder name, keep the folder name in double quates and then run allure serve command as: \r\n\r\nIncorrect: allure serve D:\\test automation\\webautomation\\allure-results\r\n\r\nCorrect: allure serve D:&quot;test automation&quot;\\webautomation\\allure-results","title":"Allure report is NaN% via allure-maven plugin","body":"<p>It seems have spaces in one of the parent folder name under which allure-results exist. So, if there are space in folder name, keep the folder name in double quates and then run allure serve command as:</p>\n<p>Incorrect: allure serve D:\\test automation\\webautomation\\allure-results</p>\n<p>Correct: allure serve D:&quot;test automation&quot;\\webautomation\\allure-results</p>\n"}],"owner":{"account_id":23722915,"reputation":1,"user_id":17743234,"display_name":"elvinrain13"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1594,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1663942456,"creation_date":1640201482,"question_id":70454222,"body_markdown":"I trying view Allure report generated by maven-plugin and JUnit 5 but html page is empty\r\n\r\nI build my reports via `mvn clean test` then I use `mvn allure:serve` and it builds without error. But opened allure site is empty or contains NaN values.\r\n\r\nStarting allure site with `allure serve target/surefire-reports` generates proper web page\r\n\r\nBuild log contains no errors and says that all fine, after generating i found on `/allure-results` many json files with reports, containing information with project tests and containers:\r\n```\r\n[INFO] Scanning for projects...\r\n[INFO]\r\n[INFO] ----------------------&lt; org.example:TestProject &gt;-----------------------\r\n[INFO] Building TestProject 1.0-SNAPSHOT\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[INFO]\r\n[INFO] --- allure-maven:2.10.0:serve (default-cli) @ TestProject ---\r\n[WARNING] The artifact xml-apis:xml-apis:jar:2.0.2 has been relocated to xml-apis:xml-apis:jar:1.0.b2\r\n[INFO] Allure installation directory C:\\Users\\Я\\IdeaProjects\\TestProject/.allure\r\n[INFO] Try to finding out allure 2.8.1\r\n[INFO] Generate Allure report (serve) with version 2.8.1\r\n[INFO] Generate Allure report to C:\\Users\\Я\\IdeaProjects\\TestProject\\target\\site/allure-maven-plugin\r\n[INFO] Found results directory C:\\Users\\Я\\IdeaProjects\\TestProject\\allure-results\r\n[INFO] Can&#39;t find information about categories.\r\n[INFO] Generate report to C:\\Users\\Я\\IdeaProjects\\TestProject\\target\\site\\allure-maven-plugin\r\nGenerating report to temp directory...\r\nReport successfully generated to C:\\Users\\4483~1\\AppData\\Local\\Temp\\8774552783003673881\\allure-report\r\nStarting web server...\r\n2021-12-22 22:16:25.525:INFO::main: Logging initialized @1032ms to org.eclipse.jetty.util.log.StdErrLog\r\nServer started at &lt;http://192.168.56.1:64312/&gt;. Press &lt;Ctrl+C&gt; to exit\r\n```\r\n\r\nMy pom.xml:\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n  &lt;artifactId&gt;TestProject&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n  &lt;name&gt;TestProject&lt;/name&gt;\r\n  &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;aspectj.version&gt;1.8.10&lt;/aspectj.version&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n      &lt;artifactId&gt;allure-junit5&lt;/artifactId&gt;\r\n      &lt;version&gt;2.17.2&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n      &lt;version&gt;5.8.2&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n      &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n      &lt;version&gt;4.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n      &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n      &lt;version&gt;5.0.3&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.21.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\r\n          &lt;argLine&gt;\r\n            -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\r\n          &lt;/argLine&gt;\r\n          &lt;systemProperties&gt;\r\n            &lt;property&gt;\r\n              &lt;name&gt;junit.jupiter.extensions.autodetection.enabled&lt;/name&gt;\r\n              &lt;value&gt;true&lt;/value&gt;\r\n            &lt;/property&gt;\r\n          &lt;/systemProperties&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.0&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n          &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n          &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n          &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n        &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\r\n        &lt;version&gt;2.10.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n&lt;!--          &lt;reportVersion&gt;2.4.1&lt;/reportVersion&gt;--&gt;\r\n          &lt;buildDirectory&gt;${project.basedir}&lt;/buildDirectory&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n```\r\n\r\n[screenshot of site][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VVsY2.png","title":"Allure report is NaN% via allure-maven plugin","body":"<p>I trying view Allure report generated by maven-plugin and JUnit 5 but html page is empty</p>\n<p>I build my reports via <code>mvn clean test</code> then I use <code>mvn allure:serve</code> and it builds without error. But opened allure site is empty or contains NaN values.</p>\n<p>Starting allure site with <code>allure serve target/surefire-reports</code> generates proper web page</p>\n<p>Build log contains no errors and says that all fine, after generating i found on <code>/allure-results</code> many json files with reports, containing information with project tests and containers:</p>\n<pre><code>[INFO] Scanning for projects...\n[INFO]\n[INFO] ----------------------&lt; org.example:TestProject &gt;-----------------------\n[INFO] Building TestProject 1.0-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO]\n[INFO] --- allure-maven:2.10.0:serve (default-cli) @ TestProject ---\n[WARNING] The artifact xml-apis:xml-apis:jar:2.0.2 has been relocated to xml-apis:xml-apis:jar:1.0.b2\n[INFO] Allure installation directory C:\\Users\\Я\\IdeaProjects\\TestProject/.allure\n[INFO] Try to finding out allure 2.8.1\n[INFO] Generate Allure report (serve) with version 2.8.1\n[INFO] Generate Allure report to C:\\Users\\Я\\IdeaProjects\\TestProject\\target\\site/allure-maven-plugin\n[INFO] Found results directory C:\\Users\\Я\\IdeaProjects\\TestProject\\allure-results\n[INFO] Can't find information about categories.\n[INFO] Generate report to C:\\Users\\Я\\IdeaProjects\\TestProject\\target\\site\\allure-maven-plugin\nGenerating report to temp directory...\nReport successfully generated to C:\\Users\\4483~1\\AppData\\Local\\Temp\\8774552783003673881\\allure-report\nStarting web server...\n2021-12-22 22:16:25.525:INFO::main: Logging initialized @1032ms to org.eclipse.jetty.util.log.StdErrLog\nServer started at &lt;http://192.168.56.1:64312/&gt;. Press &lt;Ctrl+C&gt; to exit\n</code></pre>\n<p>My pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\n  &lt;artifactId&gt;TestProject&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n  &lt;name&gt;TestProject&lt;/name&gt;\n  &lt;!-- FIXME change it to the project's website --&gt;\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;aspectj.version&gt;1.8.10&lt;/aspectj.version&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n      &lt;artifactId&gt;allure-junit5&lt;/artifactId&gt;\n      &lt;version&gt;2.17.2&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n      &lt;version&gt;5.8.2&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n      &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n      &lt;version&gt;4.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n      &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n      &lt;version&gt;5.0.3&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.21.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\n          &lt;argLine&gt;\n            -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\n          &lt;/argLine&gt;\n          &lt;systemProperties&gt;\n            &lt;property&gt;\n              &lt;name&gt;junit.jupiter.extensions.autodetection.enabled&lt;/name&gt;\n              &lt;value&gt;true&lt;/value&gt;\n            &lt;/property&gt;\n          &lt;/systemProperties&gt;\n        &lt;/configuration&gt;\n        &lt;dependencies&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\n            &lt;version&gt;1.2.0&lt;/version&gt;\n          &lt;/dependency&gt;\n          &lt;dependency&gt;\n          &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n          &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n          &lt;version&gt;${aspectj.version}&lt;/version&gt;\n          &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n        &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\n        &lt;version&gt;2.10.0&lt;/version&gt;\n        &lt;configuration&gt;\n&lt;!--          &lt;reportVersion&gt;2.4.1&lt;/reportVersion&gt;--&gt;\n          &lt;buildDirectory&gt;${project.basedir}&lt;/buildDirectory&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/VVsY2.png\" rel=\"nofollow noreferrer\">screenshot of site</a></p>\n"},{"tags":["java","swing","java-8","graphics","jpanel"],"comments":[{"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"score":2,"creation_date":1663920049,"post_id":73824543,"comment_id":130357023,"body_markdown":"You can create a [BufferedImage](https://docs.oracle.com/javase/8/docs/api/java/awt/image/BufferedImage.html#BufferedImage-int-int-int-), [create a Graphics2D](https://docs.oracle.com/javase/8/docs/api/java/awt/image/BufferedImage.html#createGraphics--) from that to paint your diagram (dispose the Graphics2D object afterwards) and show this image in your component.","body":"You can create a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/image/BufferedImage.html#BufferedImage-int-int-int-\" rel=\"nofollow noreferrer\">BufferedImage</a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/image/BufferedImage.html#createGraphics--\" rel=\"nofollow noreferrer\">create a Graphics2D</a> from that to paint your diagram (dispose the Graphics2D object afterwards) and show this image in your component."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1663944665,"post_id":73824543,"comment_id":130365818,"body_markdown":"Then to display the BufferedImage you can create an ImageIcon and add the Icon to a JLabel and add the label to any panel.","body":"Then to display the BufferedImage you can create an ImageIcon and add the Icon to a JLabel and add the label to any panel."}],"owner":{"display_name":"user16179064"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663942138,"creation_date":1663919364,"question_id":73824543,"body_markdown":"By the code below, a graph is made and is added to a `JPanel` in another class which contains a bar to show the long graph (which usually has 3000 width):\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.FontMetrics;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Point;\r\n    import java.awt.RenderingHints;\r\n    import java.awt.Stroke;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import javax.swing.JPanel;\r\n    \r\n    public class Gf extends JPanel {\r\n      private static final long serialVersionUID = 1L;\r\n      private int padding = 0;\r\n      private int labelPadding = 0;\r\n      private Color pointColor = new Color(0, 10, 100);\r\n      private int pointWidth = 1;\r\n      private int numberYDivisions = 2;\r\n      private List&lt;Double&gt; scores;\r\n    \r\n      public Gf(List&lt;Double&gt; scores) {\r\n        this.scores = scores;\r\n      }\r\n    \r\n      @Override\r\n      protected void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        Graphics2D g2 = (Graphics2D) g;\r\n        g2.setRenderingHint(\r\n            RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n    \r\n        double xScale = ((double) getWidth() - (2 * padding) - labelPadding)\r\n            / (scores.size() - 1);\r\n        double yScale = ((double) getHeight() - 2 * padding - labelPadding) / 60000;\r\n    \r\n        List&lt;Point&gt; graphPoints = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; scores.size(); i++) {\r\n          int x1 = (int) (i * xScale + padding + labelPadding);\r\n          int y1 = (int) ((getMaxScore() - scores.get(i)) * yScale + padding);\r\n          graphPoints.add(new Point(x1, y1));\r\n        }\r\n    \r\n        // draw white background\r\n        g2.setColor(Color.BLACK);\r\n        g2.fillRect(padding + labelPadding, padding,\r\n            getWidth() - (2 * padding) - labelPadding,\r\n            getHeight() - 2 * padding - labelPadding);\r\n        g2.setColor(Color.BLACK);\r\n    \r\n        // create hatch marks and grid lines for y axis.\r\n        for (int i = 0; i &lt; numberYDivisions + 1; i++) {\r\n          int x0 = padding + labelPadding;\r\n          int x1 = pointWidth + padding + labelPadding;\r\n          int y0 = getHeight()\r\n              - ((i * (getHeight() - padding * 2 - labelPadding)) / numberYDivisions\r\n                  + padding + labelPadding);\r\n          int y1 = y0;\r\n          if (scores.size() &gt; 0) {\r\n            String yLabel = ((int) ((getMinScore()\r\n                                        + (getMaxScore() - getMinScore())\r\n                                            * ((i * 1.0) / numberYDivisions))\r\n                                * 100))\r\n                    / 100.0\r\n                + &quot;&quot;;\r\n            FontMetrics metrics = g2.getFontMetrics();\r\n            int labelWidth = metrics.stringWidth(yLabel);\r\n            g2.drawString(\r\n                yLabel, x0 - labelWidth - 5, y0 + (metrics.getHeight() / 2) - 3);\r\n          }\r\n          g2.drawLine(x0, y0, x1, y1);\r\n        }\r\n    \r\n        // and for x axis\r\n        for (int i = 0; i &lt; scores.size(); i++) {\r\n          if (scores.size() &gt; 1) {\r\n            int x0 =\r\n                i * (getWidth() - padding * 2 - labelPadding) / (scores.size() - 1)\r\n                + padding + labelPadding;\r\n            int x1 = x0;\r\n            int y0 = getHeight() - padding - labelPadding;\r\n            int y1 = y0 - pointWidth;\r\n            if ((i % ((int) ((scores.size() / 20.0)) + 1)) == 0) {\r\n              String xLabel = i + &quot;&quot;;\r\n              FontMetrics metrics = g2.getFontMetrics();\r\n              int labelWidth = metrics.stringWidth(xLabel);\r\n              g2.drawString(\r\n                  xLabel, x0 - labelWidth / 2, y0 + metrics.getHeight() + 3);\r\n            }\r\n            g2.drawLine(x0, y0, x1, y1);\r\n          }\r\n        }\r\n    \r\n        // create x and y axes\r\n        g2.drawLine(padding + labelPadding, getHeight() - padding - labelPadding,\r\n            padding + labelPadding, padding);\r\n        g2.drawLine(padding + labelPadding, getHeight() - padding - labelPadding,\r\n            getWidth() - padding, getHeight() - padding - labelPadding);\r\n    \r\n        Stroke oldStroke = g2.getStroke();\r\n    \r\n        g2.setStroke(oldStroke);\r\n        g2.setColor(pointColor);\r\n        for (int i = 0; i &lt; graphPoints.size(); i++) {\r\n          int x = graphPoints.get(i).x - pointWidth / 2;\r\n          int y = graphPoints.get(i).y - pointWidth / 2;\r\n          int ovalW = pointWidth;\r\n          int ovalH = pointWidth;\r\n          g2.fillOval(x, y, ovalW, ovalH);\r\n        }\r\n      }\r\n    \r\n      //    @Override\r\n      //    public Dimension getPreferredSize() {\r\n      //        return new Dimension(width, heigth);\r\n      //    }\r\n      private double getMinScore() {\r\n        double minScore = -30000;\r\n        return minScore;\r\n      }\r\n    \r\n      private double getMaxScore() {\r\n        double maxScore = 30000;\r\n        return maxScore;\r\n      }\r\n    \r\n      public void setScores(List&lt;Double&gt; scores) {\r\n        this.scores = scores;\r\n        invalidate();\r\n        this.repaint();\r\n      }\r\n    \r\n      public List&lt;Double&gt; getScores() {\r\n        return scores;\r\n      }\r\n    \r\n      public static void createAndShowGui() {\r\n        List&lt;Double&gt; scores = new ArrayList&lt;&gt;();\r\n        short[] x = mainclass.Omega; // getting required data from main class\r\n        for (int i = 0; i &lt; x.length; i++) {\r\n          scores.add((double) x[i]);\r\n        }\r\n        Gf mainPanel = new Gf(scores);\r\n        mainPanel.setPreferredSize(new Dimension(\r\n            mainclass.range, 276)); // range is calculated at main class and usually\r\n                                    // has more than 3k width\r\n        mainclass.p.add(mainPanel); // adding to jpanel at main class\r\n        mainclass.f.revalidate();\r\n        mainclass.f.repaint();\r\n      }\r\n    }\r\n\r\n\r\n\r\n\r\nThe problem is that sometimes gets way slow specially on slower devices when scrolling the bar to check the entire diagram.\r\n\r\n\r\nSo wanted to know if there is a way to save the graph as an image instead of showing at `JPanel`(so that it can be added to the `JPanel` later in some way that doesn&#39;t affect the performance).","title":"how to save a made graph as image instead of showing in jpanel?","body":"<p>By the code below, a graph is made and is added to a <code>JPanel</code> in another class which contains a bar to show the long graph (which usually has 3000 width):</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.FontMetrics;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Point;\nimport java.awt.RenderingHints;\nimport java.awt.Stroke;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.swing.JPanel;\n\npublic class Gf extends JPanel {\n  private static final long serialVersionUID = 1L;\n  private int padding = 0;\n  private int labelPadding = 0;\n  private Color pointColor = new Color(0, 10, 100);\n  private int pointWidth = 1;\n  private int numberYDivisions = 2;\n  private List&lt;Double&gt; scores;\n\n  public Gf(List&lt;Double&gt; scores) {\n    this.scores = scores;\n  }\n\n  @Override\n  protected void paintComponent(Graphics g) {\n    super.paintComponent(g);\n    Graphics2D g2 = (Graphics2D) g;\n    g2.setRenderingHint(\n        RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n\n    double xScale = ((double) getWidth() - (2 * padding) - labelPadding)\n        / (scores.size() - 1);\n    double yScale = ((double) getHeight() - 2 * padding - labelPadding) / 60000;\n\n    List&lt;Point&gt; graphPoints = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; scores.size(); i++) {\n      int x1 = (int) (i * xScale + padding + labelPadding);\n      int y1 = (int) ((getMaxScore() - scores.get(i)) * yScale + padding);\n      graphPoints.add(new Point(x1, y1));\n    }\n\n    // draw white background\n    g2.setColor(Color.BLACK);\n    g2.fillRect(padding + labelPadding, padding,\n        getWidth() - (2 * padding) - labelPadding,\n        getHeight() - 2 * padding - labelPadding);\n    g2.setColor(Color.BLACK);\n\n    // create hatch marks and grid lines for y axis.\n    for (int i = 0; i &lt; numberYDivisions + 1; i++) {\n      int x0 = padding + labelPadding;\n      int x1 = pointWidth + padding + labelPadding;\n      int y0 = getHeight()\n          - ((i * (getHeight() - padding * 2 - labelPadding)) / numberYDivisions\n              + padding + labelPadding);\n      int y1 = y0;\n      if (scores.size() &gt; 0) {\n        String yLabel = ((int) ((getMinScore()\n                                    + (getMaxScore() - getMinScore())\n                                        * ((i * 1.0) / numberYDivisions))\n                            * 100))\n                / 100.0\n            + &quot;&quot;;\n        FontMetrics metrics = g2.getFontMetrics();\n        int labelWidth = metrics.stringWidth(yLabel);\n        g2.drawString(\n            yLabel, x0 - labelWidth - 5, y0 + (metrics.getHeight() / 2) - 3);\n      }\n      g2.drawLine(x0, y0, x1, y1);\n    }\n\n    // and for x axis\n    for (int i = 0; i &lt; scores.size(); i++) {\n      if (scores.size() &gt; 1) {\n        int x0 =\n            i * (getWidth() - padding * 2 - labelPadding) / (scores.size() - 1)\n            + padding + labelPadding;\n        int x1 = x0;\n        int y0 = getHeight() - padding - labelPadding;\n        int y1 = y0 - pointWidth;\n        if ((i % ((int) ((scores.size() / 20.0)) + 1)) == 0) {\n          String xLabel = i + &quot;&quot;;\n          FontMetrics metrics = g2.getFontMetrics();\n          int labelWidth = metrics.stringWidth(xLabel);\n          g2.drawString(\n              xLabel, x0 - labelWidth / 2, y0 + metrics.getHeight() + 3);\n        }\n        g2.drawLine(x0, y0, x1, y1);\n      }\n    }\n\n    // create x and y axes\n    g2.drawLine(padding + labelPadding, getHeight() - padding - labelPadding,\n        padding + labelPadding, padding);\n    g2.drawLine(padding + labelPadding, getHeight() - padding - labelPadding,\n        getWidth() - padding, getHeight() - padding - labelPadding);\n\n    Stroke oldStroke = g2.getStroke();\n\n    g2.setStroke(oldStroke);\n    g2.setColor(pointColor);\n    for (int i = 0; i &lt; graphPoints.size(); i++) {\n      int x = graphPoints.get(i).x - pointWidth / 2;\n      int y = graphPoints.get(i).y - pointWidth / 2;\n      int ovalW = pointWidth;\n      int ovalH = pointWidth;\n      g2.fillOval(x, y, ovalW, ovalH);\n    }\n  }\n\n  //    @Override\n  //    public Dimension getPreferredSize() {\n  //        return new Dimension(width, heigth);\n  //    }\n  private double getMinScore() {\n    double minScore = -30000;\n    return minScore;\n  }\n\n  private double getMaxScore() {\n    double maxScore = 30000;\n    return maxScore;\n  }\n\n  public void setScores(List&lt;Double&gt; scores) {\n    this.scores = scores;\n    invalidate();\n    this.repaint();\n  }\n\n  public List&lt;Double&gt; getScores() {\n    return scores;\n  }\n\n  public static void createAndShowGui() {\n    List&lt;Double&gt; scores = new ArrayList&lt;&gt;();\n    short[] x = mainclass.Omega; // getting required data from main class\n    for (int i = 0; i &lt; x.length; i++) {\n      scores.add((double) x[i]);\n    }\n    Gf mainPanel = new Gf(scores);\n    mainPanel.setPreferredSize(new Dimension(\n        mainclass.range, 276)); // range is calculated at main class and usually\n                                // has more than 3k width\n    mainclass.p.add(mainPanel); // adding to jpanel at main class\n    mainclass.f.revalidate();\n    mainclass.f.repaint();\n  }\n}\n</code></pre>\n<p>The problem is that sometimes gets way slow specially on slower devices when scrolling the bar to check the entire diagram.</p>\n<p>So wanted to know if there is a way to save the graph as an image instead of showing at <code>JPanel</code>(so that it can be added to the <code>JPanel</code> later in some way that doesn't affect the performance).</p>\n"},{"tags":["java","maven","swing","intellij-idea","intellij-plugin"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1663670709,"post_id":73784955,"comment_id":130289545,"body_markdown":"If possible please prepare and provide a small project sample here https://youtrack.jetbrains.com/issue/IDEA-191465 . What build system do you use?","body":"If possible please prepare and provide a small project sample here <a href=\"https://youtrack.jetbrains.com/issue/IDEA-191465\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-191465</a> . What build system do you use?"},{"owner":{"account_id":12527777,"reputation":584,"user_id":9116959,"display_name":"Kfir Ettinger"},"score":0,"creation_date":1663671525,"post_id":73784955,"comment_id":130289807,"body_markdown":"the build system I use is `maven` and I can show you a sample code but it happening in all of my frames and they are pretty basic so I don&#39;t think it will help","body":"the build system I use is <code>maven</code> and I can show you a sample code but it happening in all of my frames and they are pretty basic so I don&#39;t think it will help"},{"owner":{"account_id":12527777,"reputation":584,"user_id":9116959,"display_name":"Kfir Ettinger"},"score":0,"creation_date":1663673553,"post_id":73784955,"comment_id":130290483,"body_markdown":"@EgorKlepikov do you think &quot;maven clean&quot; may cause this?","body":"@EgorKlepikov do you think &quot;maven clean&quot; may cause this?"}],"owner":{"account_id":12527777,"reputation":584,"user_id":9116959,"display_name":"Kfir Ettinger"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663942072,"creation_date":1663668243,"question_id":73784955,"body_markdown":"Similar questions has been asked but no good answers and nothing that worked for me ([1][1], [2][2], [3][3]).\r\n\r\n\r\nIn my `Maven`&#39;s project, I&#39;m using `IntelliJ IDEA`&#39;s `UI designer` and every once in a while I&#39;m getting (maybe it have something to do with me running maven clean &amp; install)\r\n```\r\n&quot;contentPane cannot be set to null.&quot;\r\n```\r\n\r\nTo fix it I simply change the panel name using the UI designer, but this solution is not good for running a jar made of my code, and I&#39;m trying to understand the problem and find a more permanent solution.\r\n\r\nAs you can see below, I haven&#39;t checked the &quot;Custom Create&quot; box, and as far as I know, it means that the designer is automatically initializing it (otherwise renaming the panel won&#39;t fix it).\r\n\r\n### swing frame\r\n```java\r\npublic class MyFrame extends JDialog {\r\n    private JPanel contentPanel;\r\n    .\r\n    .\r\n    .\r\n\r\n    private MyFrame() {\r\n        setContentPane(contentPanel);\r\n        .\r\n        .\r\n\r\n    }\r\n\r\n```\r\n\r\n### pom.xml\r\n```xml\r\n&lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass&gt;app.Main&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-assembly&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n&lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;ideauidesigner-maven-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;javac2&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;fork&gt;true&lt;/fork&gt;\r\n                    &lt;debug&gt;true&lt;/debug&gt;\r\n                    &lt;failOnError&gt;true&lt;/failOnError&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n.\r\n.\r\n.\r\n&lt;/build&gt;\r\n```\r\n\r\n### Component Tree\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/67611378/contentpane-cannot-be-null-when-using-ideas-content-designer\r\n  [2]: https://stackoverflow.com/questions/61887309/swing-gui-with-intellij-error-contentpane-cannot-be-set-to-null-when-compilin\r\n  [3]: https://stackoverflow.com/questions/48736420/intellij-contentpane-cannot-be-set-to-null-using-swing-designer\r\n  [4]: https://i.stack.imgur.com/l4Rjy.png","title":"intellij&#39;s swing plugin in maven project","body":"<p>Similar questions has been asked but no good answers and nothing that worked for me (<a href=\"https://stackoverflow.com/questions/67611378/contentpane-cannot-be-null-when-using-ideas-content-designer\">1</a>, <a href=\"https://stackoverflow.com/questions/61887309/swing-gui-with-intellij-error-contentpane-cannot-be-set-to-null-when-compilin\">2</a>, <a href=\"https://stackoverflow.com/questions/48736420/intellij-contentpane-cannot-be-set-to-null-using-swing-designer\">3</a>).</p>\n<p>In my <code>Maven</code>'s project, I'm using <code>IntelliJ IDEA</code>'s <code>UI designer</code> and every once in a while I'm getting (maybe it have something to do with me running maven clean &amp; install)</p>\n<pre><code>&quot;contentPane cannot be set to null.&quot;\n</code></pre>\n<p>To fix it I simply change the panel name using the UI designer, but this solution is not good for running a jar made of my code, and I'm trying to understand the problem and find a more permanent solution.</p>\n<p>As you can see below, I haven't checked the &quot;Custom Create&quot; box, and as far as I know, it means that the designer is automatically initializing it (otherwise renaming the panel won't fix it).</p>\n<h3>swing frame</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyFrame extends JDialog {\n    private JPanel contentPanel;\n    .\n    .\n    .\n\n    private MyFrame() {\n        setContentPane(contentPanel);\n        .\n        .\n\n    }\n\n</code></pre>\n<h3>pom.xml</h3>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;app.Main&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n&lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;ideauidesigner-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;javac2&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;fork&gt;true&lt;/fork&gt;\n                    &lt;debug&gt;true&lt;/debug&gt;\n                    &lt;failOnError&gt;true&lt;/failOnError&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n.\n.\n.\n&lt;/build&gt;\n</code></pre>\n<h3>Component Tree</h3>\n<p><a href=\"https://i.stack.imgur.com/l4Rjy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l4Rjy.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","do-while"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1583541233,"post_id":60573250,"comment_id":107164186,"body_markdown":"Don&#39;t ask the scanner if there are more ints in your `while`: if you want to ask a question until the user enters the correct int, check _the value they typed_. You capture that value already, so what should your `while` conditional look like instead?","body":"Don&#39;t ask the scanner if there are more ints in your <code>while</code>: if you want to ask a question until the user enters the correct int, check <i>the value they typed</i>. You capture that value already, so what should your <code>while</code> conditional look like instead?"},{"owner":{"account_id":14384415,"reputation":1324,"user_id":10390808,"display_name":"Abhinav Chauhan"},"score":0,"creation_date":1583552166,"post_id":60573250,"comment_id":107165561,"body_markdown":"do you also want to enforce a range to possible int that can be entered","body":"do you also want to enforce a range to possible int that can be entered"},{"owner":{"account_id":14384415,"reputation":1324,"user_id":10390808,"display_name":"Abhinav Chauhan"},"score":1,"creation_date":1593142518,"post_id":60573250,"comment_id":110682515,"body_markdown":"was my answer any help?","body":"was my answer any help?"}],"answers":[{"tags":[],"owner":{"account_id":947871,"reputation":64267,"user_id":974731,"display_name":"cybersam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1583541928,"creation_date":1583540885,"answer_id":60573292,"question_id":60573250,"body_markdown":"Try this:\r\n\r\n    Scanner scanner = new Scanner(System.in);\r\n    int userInput;\r\n    while(true) {\r\n        AskQuestion();\r\n        if (scanner.hasNextInt()) {\r\n            userInput = scanner.nextInt();\r\n            break;\r\n        }\r\n        scanner.next(); // consume non-int token\r\n    }\r\n","title":"How to repeat a question to a user until while loop condition is false?","body":"<p>Try this:</p>\n\n<pre><code>Scanner scanner = new Scanner(System.in);\nint userInput;\nwhile(true) {\n    AskQuestion();\n    if (scanner.hasNextInt()) {\n        userInput = scanner.nextInt();\n        break;\n    }\n    scanner.next(); // consume non-int token\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17918855,"reputation":91,"user_id":13019222,"display_name":"Bruno Gava Guerra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1583541364,"creation_date":1583541364,"answer_id":60573345,"question_id":60573250,"body_markdown":"You can use something like this. It&#39;a a pretty simple flag combined with the use of the Scanner class.\r\n\r\n        boolean flag = false;\r\n\t    int val = 0;\r\n\t    while(!flag){\r\n\t        System.out.println(&quot;Something&quot;);\r\n\t        if(sc.hasNext()){\r\n\t            if(sc.hasNextInt()){\r\n\t                val = sc.nextInt();\r\n\t                flag = true;\r\n\t            }\r\n\t            else{\r\n\t                sc.next();\r\n\t            }\r\n\t        }\r\n\t    }","title":"How to repeat a question to a user until while loop condition is false?","body":"<p>You can use something like this. It'a a pretty simple flag combined with the use of the Scanner class.</p>\n\n<pre><code>    boolean flag = false;\n    int val = 0;\n    while(!flag){\n        System.out.println(\"Something\");\n        if(sc.hasNext()){\n            if(sc.hasNextInt()){\n                val = sc.nextInt();\n                flag = true;\n            }\n            else{\n                sc.next();\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1583543095,"creation_date":1583543095,"answer_id":60573488,"question_id":60573250,"body_markdown":"Another alternative which utilizes the [Scanner#nextLine()](https://www.tutorialspoint.com/java/util/scanner_nextline.htm) method along with the [String#matches()](https://www.tutorialspoint.com/java/java_string_matches.htm) method and a small [Regular Expression](https://www.vogella.com/tutorials/JavaRegularExpressions/article.html) (RegEx) to ensure that the supplied string does indeed contain all numerical digits:\r\n\r\n    Scanner scanner = new Scanner(System.in);\r\n    String userInput = &quot;&quot;;\r\n    int desiredINT = 0;  // Default value.\r\n    while (desiredINT == 0) {\r\n        AskQuestion();\r\n        userInput = scanner.nextLine();\r\n        if (userInput.matches(&quot;\\\\d+&quot;)) {\r\n            desiredINT = Integer.parseInt(userInput);\r\n            if (desiredINT &lt; 1 || desiredINT &gt; 120) {\r\n                System.out.println(&quot;Invalid Input! The age supplied is not &quot;\r\n                                 + &quot;likely! Enter a valid Age!&quot;);\r\n                desiredINT = 0;\r\n            }\r\n        } \r\n        else {\r\n            System.out.println(&quot;Invalid Input! You must supply an Integer &quot;\r\n                             + &quot;value! Try Again...&quot;);\r\n        }\r\n    } \r\n    System.out.println(&quot;Your age is: --&gt; &quot; + desiredINT);\r\n\r\nAnd the **AskQuestion()** method:\r\n\r\n    private void AskQuestion() {\r\n        System.out.println(&quot;How old are you?&quot;);\r\n    }","title":"How to repeat a question to a user until while loop condition is false?","body":"<p>Another alternative which utilizes the <a href=\"https://www.tutorialspoint.com/java/util/scanner_nextline.htm\" rel=\"nofollow noreferrer\">Scanner#nextLine()</a> method along with the <a href=\"https://www.tutorialspoint.com/java/java_string_matches.htm\" rel=\"nofollow noreferrer\">String#matches()</a> method and a small <a href=\"https://www.vogella.com/tutorials/JavaRegularExpressions/article.html\" rel=\"nofollow noreferrer\">Regular Expression</a> (RegEx) to ensure that the supplied string does indeed contain all numerical digits:</p>\n\n<pre><code>Scanner scanner = new Scanner(System.in);\nString userInput = \"\";\nint desiredINT = 0;  // Default value.\nwhile (desiredINT == 0) {\n    AskQuestion();\n    userInput = scanner.nextLine();\n    if (userInput.matches(\"\\\\d+\")) {\n        desiredINT = Integer.parseInt(userInput);\n        if (desiredINT &lt; 1 || desiredINT &gt; 120) {\n            System.out.println(\"Invalid Input! The age supplied is not \"\n                             + \"likely! Enter a valid Age!\");\n            desiredINT = 0;\n        }\n    } \n    else {\n        System.out.println(\"Invalid Input! You must supply an Integer \"\n                         + \"value! Try Again...\");\n    }\n} \nSystem.out.println(\"Your age is: --&gt; \" + desiredINT);\n</code></pre>\n\n<p>And the <strong>AskQuestion()</strong> method:</p>\n\n<pre><code>private void AskQuestion() {\n    System.out.println(\"How old are you?\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14384415,"reputation":1324,"user_id":10390808,"display_name":"Abhinav Chauhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583779700,"creation_date":1583552754,"answer_id":60574195,"question_id":60573250,"body_markdown":"**This is nice and short one**\r\n\r\n    Scanner scanner = new Scanner(System.in);\r\n    do askQuestion();\r\n    while(!scanner.nextLine().trim().matches(&quot;[\\\\d]+&quot;));\r\n\r\n**Tell me if you like it**\r\n\r\n**Note** it just tell you if number was an int , and keeps repeating if not, but doesn&#39;t give you that int back , tell me if you need that, i shall find a way\r\n\r\n","title":"How to repeat a question to a user until while loop condition is false?","body":"<p><strong>This is nice and short one</strong></p>\n\n<pre><code>Scanner scanner = new Scanner(System.in);\ndo askQuestion();\nwhile(!scanner.nextLine().trim().matches(\"[\\\\d]+\"));\n</code></pre>\n\n<p><strong>Tell me if you like it</strong></p>\n\n<p><strong>Note</strong> it just tell you if number was an int , and keeps repeating if not, but doesn't give you that int back , tell me if you need that, i shall find a way</p>\n"},{"tags":[],"owner":{"account_id":26423576,"reputation":1,"user_id":20070899,"display_name":"Fermat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663941892,"creation_date":1663941892,"answer_id":73828977,"question_id":60573250,"body_markdown":"My solution might be a bit bloated, but I hope it&#39;s nice and clear what&#39;s going on. Please do let me know how it can be simplified!\r\n\r\n    import java.util.Scanner;  // Import the Scanner class\r\n\r\n    class Main {public static void main(String[] args) {\r\n\r\n        Scanner myObj = new Scanner(System.in);  // Create a Scanner object\r\n        String unit;\r\n\r\n        // unit selector\r\n        while (true) {\r\n            System.out.println(&quot;Did you measure ion feet or meters? Type &#39;meters&#39; or &#39;feet&#39;: &quot;);\r\n            String isUnit = myObj.nextLine();\r\n            if (isUnit.equals(&quot;feet&quot;) || (isUnit.equals(&quot;meters&quot;))) {\r\n                unit = isUnit;\r\n                break;\r\n            } else {\r\n                System.out.println(&quot;Please enter either &#39;meters&#39; or &#39;feet&#39;.&quot;);\r\n            }\r\n        }\r\n\r\n        System.out.println(&quot;Use selected &quot; + unit);\r\n\r\n    }","title":"How to repeat a question to a user until while loop condition is false?","body":"<p>My solution might be a bit bloated, but I hope it's nice and clear what's going on. Please do let me know how it can be simplified!</p>\n<pre><code>import java.util.Scanner;  // Import the Scanner class\n\nclass Main {public static void main(String[] args) {\n\n    Scanner myObj = new Scanner(System.in);  // Create a Scanner object\n    String unit;\n\n    // unit selector\n    while (true) {\n        System.out.println(&quot;Did you measure ion feet or meters? Type 'meters' or 'feet': &quot;);\n        String isUnit = myObj.nextLine();\n        if (isUnit.equals(&quot;feet&quot;) || (isUnit.equals(&quot;meters&quot;))) {\n            unit = isUnit;\n            break;\n        } else {\n            System.out.println(&quot;Please enter either 'meters' or 'feet'.&quot;);\n        }\n    }\n\n    System.out.println(&quot;Use selected &quot; + unit);\n\n}\n</code></pre>\n"}],"owner":{"account_id":12284545,"reputation":87,"user_id":8964654,"display_name":"user8964654"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":846,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":5,"score":0,"last_activity_date":1663941892,"creation_date":1583540586,"question_id":60573250,"body_markdown":"I&#39;m bulding a console application where I am trying to force a user to enter an ``` int ``` as a possible answer to a question otherwise the same question is repeated to the user.Thus, the user cannot move on without entering the proper data type. \r\n\r\nbelow is my sample code.\r\n```java\r\nScanner scanner = new Scanner(System.in);\r\nint userInput = 0;\r\ndo {\r\n       AskQuestion();\r\n       if(scanner.hasNextInt()) {\r\n          userInput = scanner.nextInt();\r\n\t}\r\n}\r\nwhile(!scanner.hasNextInt()) ;\r\n```\r\n\r\n\r\n\r\n\r\nWhile I know this can be done in C#, I&#39;m not exactly sure how to do it in java without getting stuck in an infinite loop. How do I get my code to do what I want to do? Please help!","title":"How to repeat a question to a user until while loop condition is false?","body":"<p>I'm bulding a console application where I am trying to force a user to enter an <code>int</code> as a possible answer to a question otherwise the same question is repeated to the user.Thus, the user cannot move on without entering the proper data type. </p>\n\n<p>below is my sample code.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Scanner scanner = new Scanner(System.in);\nint userInput = 0;\ndo {\n       AskQuestion();\n       if(scanner.hasNextInt()) {\n          userInput = scanner.nextInt();\n    }\n}\nwhile(!scanner.hasNextInt()) ;\n</code></pre>\n\n<p>While I know this can be done in C#, I'm not exactly sure how to do it in java without getting stuck in an infinite loop. How do I get my code to do what I want to do? Please help!</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"display_name":"user1196549"},"score":3,"creation_date":1663940560,"post_id":73828656,"comment_id":130364120,"body_markdown":"And what is your question ?","body":"And what is your question ?"},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":1,"creation_date":1663940657,"post_id":73828656,"comment_id":130364158,"body_markdown":"You forgot to post your attempt at solving this problem.","body":"You forgot to post your attempt at solving this problem."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1663940764,"post_id":73828656,"comment_id":130364202,"body_markdown":"Look at the [Javadoc for String](https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html), skim the page until you find something that lets you replace something. Use that in your code. Be aware that Strings are immutable, so you cannot modify the original String but you&#39;ll get back a new changed string. Good luck! See also [ask].","body":"Look at the <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html\" rel=\"nofollow noreferrer\">Javadoc for String</a>, skim the page until you find something that lets you replace something. Use that in your code. Be aware that Strings are immutable, so you cannot modify the original String but you&#39;ll get back a new changed string. Good luck! See also <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":1,"creation_date":1663941297,"post_id":73828656,"comment_id":130364441,"body_markdown":"`str.replaceAll(&quot;\\\\s[A-Za-z]{3}\\\\s&quot;, &quot; a &quot;)`","body":"<code>str.replaceAll(&quot;\\\\s[A-Za-z]{3}\\\\s&quot;, &quot; a &quot;)</code>"}],"answers":[{"tags":[],"owner":{"account_id":26406583,"reputation":89,"user_id":20056285,"display_name":"Aidan Wansbrough"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663940983,"creation_date":1663940983,"answer_id":73828768,"question_id":73828656,"body_markdown":"An algorithm like this should work:\r\n```java\r\nString str = &quot;Java is the best language in the world!&quot;;\r\nString randomWord = &quot;a&quot;;\r\nint givenLength = 3;\r\n\r\n// Split the string into an array containing each word:\r\nString arr[] = str.split(&quot; &quot;);\r\n\r\n// Loop through and find &amp; replace all words of the given length\r\nfor (int i=0; i&lt;arr.length; i++){\r\n    if (arr[i].length() == givenLength) {\r\n        arr[i] = randomWord;\r\n    }\r\n}\r\n\r\n// Rejoin words into a new string\r\nString output = String.join(&quot; &quot;,arr);\r\n```","title":"In the text, words of a given length are replaced by a specified substring of arbitrary length","body":"<p>An algorithm like this should work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String str = &quot;Java is the best language in the world!&quot;;\nString randomWord = &quot;a&quot;;\nint givenLength = 3;\n\n// Split the string into an array containing each word:\nString arr[] = str.split(&quot; &quot;);\n\n// Loop through and find &amp; replace all words of the given length\nfor (int i=0; i&lt;arr.length; i++){\n    if (arr[i].length() == givenLength) {\n        arr[i] = randomWord;\n    }\n}\n\n// Rejoin words into a new string\nString output = String.join(&quot; &quot;,arr);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26422736,"reputation":1,"user_id":20070180,"display_name":"Serhii"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663941556,"creation_date":1663941063,"answer_id":73828788,"question_id":73828656,"body_markdown":"```\r\n    public static void main(String[] args) {\r\n        String str = &quot;Java is the best language in the world!&quot;;\r\n        int wordLength = 3;\r\n        String replaceWord = &quot;a&quot;;\r\n        Function&lt;String, String&gt; replaceFunction = element -&gt; {\r\n            if (element.toCharArray().length == wordLength) {\r\n                return replaceWord;\r\n            } else {\r\n                return element;\r\n            }\r\n        };\r\n        String result = Arrays.stream(str.split(&quot; &quot;))\r\n                .toList()\r\n                .stream()\r\n                .map(replaceFunction)\r\n                .collect(Collectors.joining(&quot; &quot;));\r\n        \r\n        System.out.println(result);\r\n    }","title":"In the text, words of a given length are replaced by a specified substring of arbitrary length","body":"<pre><code>    public static void main(String[] args) {\n        String str = &quot;Java is the best language in the world!&quot;;\n        int wordLength = 3;\n        String replaceWord = &quot;a&quot;;\n        Function&lt;String, String&gt; replaceFunction = element -&gt; {\n            if (element.toCharArray().length == wordLength) {\n                return replaceWord;\n            } else {\n                return element;\n            }\n        };\n        String result = Arrays.stream(str.split(&quot; &quot;))\n                .toList()\n                .stream()\n                .map(replaceFunction)\n                .collect(Collectors.joining(&quot; &quot;));\n        \n        System.out.println(result);\n    }\n</code></pre>\n"}],"owner":{"account_id":26423185,"reputation":1,"user_id":20070574,"display_name":"Gar1s"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73828768,"answer_count":2,"score":-2,"last_activity_date":1663941556,"creation_date":1663940496,"question_id":73828656,"body_markdown":"I need to replace all words given length by random substring of arbitraty lenght.For example, the length given word is 3, thus i need to replace &quot;the&quot; to &quot;a&quot;\r\n```\t\t\r\nString str = &quot;Java is the best language in the world!&quot;;\r\nString randomWord = &quot;a&quot;; \r\n//Manipulations\r\nSystem.out.println(str);\r\n// Outputs: Java is a best language in a world!\r\n```","title":"In the text, words of a given length are replaced by a specified substring of arbitrary length","body":"<p>I need to replace all words given length by random substring of arbitraty lenght.For example, the length given word is 3, thus i need to replace &quot;the&quot; to &quot;a&quot;</p>\n<pre><code>String str = &quot;Java is the best language in the world!&quot;;\nString randomWord = &quot;a&quot;; \n//Manipulations\nSystem.out.println(str);\n// Outputs: Java is a best language in a world!\n</code></pre>\n"},{"tags":["java","bufferedoutputstream"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1663940292,"post_id":73828245,"comment_id":130364001,"body_markdown":"It doesn&#39;t. You need to do it as you suggested","body":"It doesn&#39;t. You need to do it as you suggested"}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663940554,"creation_date":1663940554,"answer_id":73828670,"question_id":73828245,"body_markdown":"For text there is a `LineNumberReader`, but no counting the progress of an `OutputStream`. You can add that with a wrapper class, a `FilterOutputStream`.\r\n\r\n    public class CountingOutputStream extends FilterOutputStream {\r\n    \t\r\n    \tprivate long count;\r\n    \tprivate int bufferCount;\r\n    \t\r\n    \tpublic CountingOutputStream(OutputStream out) {\r\n    \t\tsuper(out);\r\n    \t}\r\n    \t\r\n    \tpublic long written() {\r\n    \t\treturn count;\r\n    \t}\r\n    \t\r\n    \tpublic long willBeWritten() {\r\n    \t\treturn count + bufferCount;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void flush() {\r\n    \t\tcount += bufferCount;\r\n    \t\tbufferCount = 0;\r\n    \t\tsuper.flush();\r\n    \t}\r\n    \r\n        public void write​(int b)\r\n               throws IOException {\r\n    \t    ++bufferCount;\r\n    \t\tsuper.write(b);\t\t\r\n        }\r\n    \t@Override\r\n    \tpublic void write(byte[] b, int off, int len)\r\n               throws IOException {\r\n    \t\tbufferCount += len;\r\n    \t\tsuper.write(b, off, len);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void write(byte[] b, int off, int len)\r\n               throws IOException {\r\n    \t\tbufferCount += len;\r\n    \t\tsuper.write(b, off, len);\r\n    \t}\r\n    }\r\n\r\nOne could also think using a `MemoryMappedByteBuffer` (a memory mapped file) for a better speed/memory behavior. Created from a RandomAccessFile or FileChannel.\r\n\r\nIf all is too circumstantial, use the `Files` class which has many utilities, like `copy`. It uses `Path` - a generalisation of (disk I/O) `File` -, for files from the internet, files inside zip files, class path resources and so on.\r\n\r\n","title":"Obtain the number of written bytes from BufferedOutputStream","body":"<p>For text there is a <code>LineNumberReader</code>, but no counting the progress of an <code>OutputStream</code>. You can add that with a wrapper class, a <code>FilterOutputStream</code>.</p>\n<pre><code>public class CountingOutputStream extends FilterOutputStream {\n    \n    private long count;\n    private int bufferCount;\n    \n    public CountingOutputStream(OutputStream out) {\n        super(out);\n    }\n    \n    public long written() {\n        return count;\n    }\n    \n    public long willBeWritten() {\n        return count + bufferCount;\n    }\n    \n    @Override\n    public void flush() {\n        count += bufferCount;\n        bufferCount = 0;\n        super.flush();\n    }\n\n    public void write​(int b)\n           throws IOException {\n        ++bufferCount;\n        super.write(b);     \n    }\n    @Override\n    public void write(byte[] b, int off, int len)\n           throws IOException {\n        bufferCount += len;\n        super.write(b, off, len);\n    }\n    \n    @Override\n    public void write(byte[] b, int off, int len)\n           throws IOException {\n        bufferCount += len;\n        super.write(b, off, len);\n    }\n}\n</code></pre>\n<p>One could also think using a <code>MemoryMappedByteBuffer</code> (a memory mapped file) for a better speed/memory behavior. Created from a RandomAccessFile or FileChannel.</p>\n<p>If all is too circumstantial, use the <code>Files</code> class which has many utilities, like <code>copy</code>. It uses <code>Path</code> - a generalisation of (disk I/O) <code>File</code> -, for files from the internet, files inside zip files, class path resources and so on.</p>\n"}],"owner":{"account_id":145567,"reputation":17881,"user_id":355456,"accept_rate":70,"display_name":"Hong"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73828670,"answer_count":1,"score":0,"last_activity_date":1663940554,"creation_date":1663938715,"question_id":73828245,"body_markdown":"I am wondering if [BufferedOutputStream][1] offers any way to provide the count of bytes it has written. I am porting code from C# to Java. The code uses [Stream.Position][2] to obtain the count of written bytes. \r\n\r\nCould anyone shed some light on this? This is not a huge deal because I can easily add a few lines of code to track the count. It would be nice if BufferedOutputStream already has the function.\r\n\r\n\r\n  [1]: https://BufferedOutputStream\r\n  [2]: https://learn.microsoft.com/en-us/dotnet/api/system.io.stream.position?view=net-7.0","title":"Obtain the number of written bytes from BufferedOutputStream","body":"<p>I am wondering if <a href=\"https://BufferedOutputStream\" rel=\"nofollow noreferrer\">BufferedOutputStream</a> offers any way to provide the count of bytes it has written. I am porting code from C# to Java. The code uses <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.io.stream.position?view=net-7.0\" rel=\"nofollow noreferrer\">Stream.Position</a> to obtain the count of written bytes.</p>\n<p>Could anyone shed some light on this? This is not a huge deal because I can easily add a few lines of code to track the count. It would be nice if BufferedOutputStream already has the function.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":13813867,"reputation":1519,"user_id":10625375,"display_name":"0xA"},"score":0,"creation_date":1587680320,"post_id":61397751,"comment_id":108614551,"body_markdown":"Did you import the package ?","body":"Did you import the package ?"},{"owner":{"account_id":2225810,"reputation":1293,"user_id":1964609,"accept_rate":0,"display_name":"Sumit T"},"score":0,"creation_date":1587680553,"post_id":61397751,"comment_id":108614618,"body_markdown":"yes, its in my imports","body":"yes, its in my imports"},{"owner":{"account_id":13813867,"reputation":1519,"user_id":10625375,"display_name":"0xA"},"score":0,"creation_date":1587681067,"post_id":61397751,"comment_id":108614761,"body_markdown":"try instantiating. ClassName obj = new ClassName(); then access it.","body":"try instantiating. ClassName obj = new ClassName(); then access it."},{"owner":{"account_id":13813867,"reputation":1519,"user_id":10625375,"display_name":"0xA"},"score":0,"creation_date":1587681481,"post_id":61397751,"comment_id":108614900,"body_markdown":"i just marked the kotlin class open and then extended the java class and accessed the variables.","body":"i just marked the kotlin class open and then extended the java class and accessed the variables."},{"owner":{"account_id":2225810,"reputation":1293,"user_id":1964609,"accept_rate":0,"display_name":"Sumit T"},"score":0,"creation_date":1587682512,"post_id":61397751,"comment_id":108615194,"body_markdown":"I do not want to mark my class open, is there any other way?\nAlso, I was able to access this same variable in other Kotlin class.","body":"I do not want to mark my class open, is there any other way? Also, I was able to access this same variable in other Kotlin class."},{"owner":{"account_id":2225810,"reputation":1293,"user_id":1964609,"accept_rate":0,"display_name":"Sumit T"},"score":0,"creation_date":1587682617,"post_id":61397751,"comment_id":108615224,"body_markdown":"In java class, it can be accessed as a function call","body":"In java class, it can be accessed as a function call"},{"owner":{"account_id":13813867,"reputation":1519,"user_id":10625375,"display_name":"0xA"},"score":0,"creation_date":1587687507,"post_id":61397751,"comment_id":108616518,"body_markdown":"Yeah add @kotlin.jvm.JvmField","body":"Yeah add @kotlin.jvm.JvmField"}],"answers":[{"tags":[],"owner":{"account_id":1834173,"reputation":895,"user_id":1664863,"display_name":"xizzhu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1587684126,"creation_date":1587684126,"answer_id":61398576,"question_id":61397751,"body_markdown":"You need the `@JvmField` annotation.\r\n\r\n\r\nRead more here:\r\n\r\nhttps://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-jvm-field/\r\n\r\nhttps://kotlinlang.org/docs/reference/java-to-kotlin-interop.html#static-fields","title":"Kotlin public constant is not accessible in other Java class?","body":"<p>You need the <code>@JvmField</code> annotation.</p>\n\n<p>Read more here:</p>\n\n<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-jvm-field/\" rel=\"nofollow noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-jvm-field/</a></p>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html#static-fields\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html#static-fields</a></p>\n"},{"tags":[],"owner":{"account_id":8015872,"reputation":386,"user_id":6046199,"display_name":"Vinicius Almada"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1587686111,"creation_date":1587686111,"answer_id":61398862,"question_id":61397751,"body_markdown":"To access companion object fields from Kotlin class in Java class, you need to provide an annotation to Java reads appropriately. This annotation is `@JvmField`.\r\n\r\nAs shown in Kotlin docs [here][1]\r\n\r\n```kotlin\r\nclass A {\r\n   companion object {\r\n      @JvmField\r\n      val TESTVALUE = &quot;MY TEST VALUE&quot;\r\n   }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html#static-fields","title":"Kotlin public constant is not accessible in other Java class?","body":"<p>To access companion object fields from Kotlin class in Java class, you need to provide an annotation to Java reads appropriately. This annotation is <code>@JvmField</code>.</p>\n\n<p>As shown in Kotlin docs <a href=\"https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html#static-fields\" rel=\"noreferrer\">here</a></p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>class A {\n   companion object {\n      @JvmField\n      val TESTVALUE = \"MY TEST VALUE\"\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13813867,"reputation":1519,"user_id":10625375,"display_name":"0xA"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1587687823,"creation_date":1587687823,"answer_id":61399084,"question_id":61397751,"body_markdown":"JvmField. Instructs the Kotlin compiler not to generate getters/setters for this property and expose it as a field. See the Kotlin language documentation for more information.\r\n\r\nmake sure you also reference fields created from a non-static context.\r\n\r\n\r\nA.java\r\n\r\n     class A {\r\n        \r\n        private void testFunction() {\r\n            String testValue = B.TESTVALUE;\r\n            System.out.println(testValue);\r\n        }\r\n    };\r\n\r\nB.kt\r\n\r\n     class B {\r\n         companion object {\r\n             @kotlin.jvm.JvmField\r\n     \r\n             val TESTVALUE = &quot;MY TEST VALUE&quot;\r\n         } }\r\n","title":"Kotlin public constant is not accessible in other Java class?","body":"<p>JvmField. Instructs the Kotlin compiler not to generate getters/setters for this property and expose it as a field. See the Kotlin language documentation for more information.</p>\n\n<p>make sure you also reference fields created from a non-static context.</p>\n\n<p>A.java</p>\n\n<pre><code> class A {\n\n    private void testFunction() {\n        String testValue = B.TESTVALUE;\n        System.out.println(testValue);\n    }\n};\n</code></pre>\n\n<p>B.kt</p>\n\n<pre><code> class B {\n     companion object {\n         @kotlin.jvm.JvmField\n\n         val TESTVALUE = \"MY TEST VALUE\"\n     } }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":263343,"reputation":880,"user_id":548834,"accept_rate":62,"display_name":"android iPhone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663940329,"creation_date":1663940329,"answer_id":73828610,"question_id":61397751,"body_markdown":"If you cannot modify the Kotlin class (e.g. it&#39;s an auto-generated file) it should be ok retrieve a field by adding `get` the variable name.\r\n\r\nA.kt\r\n```\r\n    public class DateTime {\r\n      public companion object {\r\n        public val type: CustomScalarType = CustomScalarType(&quot;DateTime&quot;, &quot;java.util.Date&quot;)\r\n      }\r\n    }\r\n```\r\n\r\nB.java\r\n```  java \r\n    private void testFunction() {\r\n        String testValue = DateTime.Companion.getType();\r\n    }\r\n```","title":"Kotlin public constant is not accessible in other Java class?","body":"<p>If you cannot modify the Kotlin class (e.g. it's an auto-generated file) it should be ok retrieve a field by adding <code>get</code> the variable name.</p>\n<p>A.kt</p>\n<pre><code>    public class DateTime {\n      public companion object {\n        public val type: CustomScalarType = CustomScalarType(&quot;DateTime&quot;, &quot;java.util.Date&quot;)\n      }\n    }\n</code></pre>\n<p>B.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private void testFunction() {\n        String testValue = DateTime.Companion.getType();\n    }\n</code></pre>\n"}],"owner":{"account_id":2225810,"reputation":1293,"user_id":1964609,"accept_rate":0,"display_name":"Sumit T"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1224,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":61399084,"answer_count":4,"score":3,"last_activity_date":1663940329,"creation_date":1587679270,"question_id":61397751,"body_markdown":"In my Kotlin class A, I have a public constant defined, like: \r\n\r\n    class A {\r\n        companion object {\r\n            val TESTVALUE = &quot;MY TEST VALUE&quot;\r\n        }\r\n        ....\r\n    }\r\n\r\nAnd in my other Java class B, I am trying to use it, like:\r\n\r\n    class B {\r\n    \r\n        private void testFunction() {\r\n            String testValue = A.Companion.TESTVALUE\r\n            // &#39;or&#39;\r\n            String testValue = A.TESTVALUE\r\n    \r\n            .....\r\n        }\r\n        ....\r\n    }\r\n\r\n\r\nThe error that I get is: &#39;TESTVALUE has private access&#39;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/my4uT.png","title":"Kotlin public constant is not accessible in other Java class?","body":"<p>In my Kotlin class A, I have a public constant defined, like: </p>\n\n<pre><code>class A {\n    companion object {\n        val TESTVALUE = \"MY TEST VALUE\"\n    }\n    ....\n}\n</code></pre>\n\n<p>And in my other Java class B, I am trying to use it, like:</p>\n\n<pre><code>class B {\n\n    private void testFunction() {\n        String testValue = A.Companion.TESTVALUE\n        // 'or'\n        String testValue = A.TESTVALUE\n\n        .....\n    }\n    ....\n}\n</code></pre>\n\n<p>The error that I get is: 'TESTVALUE has private access'</p>\n\n<p><a href=\"https://i.stack.imgur.com/my4uT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/my4uT.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","spring","spring-boot","authentication","graphiql"],"answers":[{"tags":[],"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663939605,"creation_date":1663939605,"answer_id":73828451,"question_id":73827972,"body_markdown":"Add `Authentication header in JSON` format in the UI itself, refer the below image[![Authentication][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Z4GVT.png","title":"How to use Graphiql when graphql protected?","body":"<p>Add <code>Authentication header in JSON</code> format in the UI itself, refer the below image<a href=\"https://i.stack.imgur.com/Z4GVT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z4GVT.png\" alt=\"Authentication\" /></a></p>\n"}],"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73828451,"answer_count":1,"score":0,"last_activity_date":1663939605,"creation_date":1663937254,"question_id":73827972,"body_markdown":"I have added the token to the properties file, yet unable to get the resource, and in request header there is no `authorization`, do I need to add any extra properties\r\n\r\n \r\n\r\n    graphiql:\r\n        mapping: /graphiql\r\n        endpoint:\r\n          graphql: /graphql\r\n          subscriptions: /subscriptions\r\n        subscriptions:\r\n          timeout: 30\r\n          reconnect: false\r\n        basePath: /\r\n        headers:\r\n          Authorization: &quot;Bearer eyJraWQiOiJvMW5","title":"How to use Graphiql when graphql protected?","body":"<p>I have added the token to the properties file, yet unable to get the resource, and in request header there is no <code>authorization</code>, do I need to add any extra properties</p>\n<pre><code>graphiql:\n    mapping: /graphiql\n    endpoint:\n      graphql: /graphql\n      subscriptions: /subscriptions\n    subscriptions:\n      timeout: 30\n      reconnect: false\n    basePath: /\n    headers:\n      Authorization: &quot;Bearer eyJraWQiOiJvMW5\n</code></pre>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":4308086,"reputation":684,"user_id":3519957,"accept_rate":50,"display_name":"anirban"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432063633,"creation_date":1432063633,"answer_id":30334477,"question_id":30334044,"body_markdown":"Why don&#39;t you create a self referencing one to many relation keeping cascade = all. So individual child objects need not be saved separately. Only saving parent is enough. For example. \r\n\r\nhttps://stackoverflow.com/questions/16184580/adding-a-one-to-many-relationship-to-a-self-reference-parent-child\r\n","title":"Hibernate same table parent / child relation","body":"<p>Why don't you create a self referencing one to many relation keeping cascade = all. So individual child objects need not be saved separately. Only saving parent is enough. For example. </p>\n\n<p><a href=\"https://stackoverflow.com/questions/16184580/adding-a-one-to-many-relationship-to-a-self-reference-parent-child\">Adding a one to many relationship to a self reference parent/child</a></p>\n"},{"tags":[],"owner":{"account_id":2013250,"reputation":970,"user_id":1801192,"accept_rate":34,"display_name":"antohoho"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1663939239,"creation_date":1433530559,"answer_id":30673852,"question_id":30334044,"body_markdown":"Seems like all I needed to do is:\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;table_name&quot;)\r\n    public class TableName {\r\n    \r\n        ......\r\n    \r\n        @Transient\r\n        private Long parentId;\r\n    \r\n        ...... \r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY, optional=true)\r\n        @JoinColumn(name=&quot;parent_id&quot;)\r\n        private TableName parent;\r\n        \r\n        @OneToMany(mappedBy=&quot;parent&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval=true)\r\n        private Set&lt;TableName&gt; children = new HashSet&lt;TableName&gt;();\r\n    }\r\n\r\nThen simply\r\n\r\n    TableName papa = new TableName();\r\n    papa.setParent(null); // parent\r\n    \r\n    TableName kid1 = new TableName();\r\n    kid1.setParent(papa);\r\n    papa.getChildren().add(kid1);\r\n    \r\n    TableName kid1_1 = new TableName();\r\n    kid1_1.setParent(kid1);\r\n    kid1.getChildren().add(kid1_1);\r\n    \r\n    TableName kid2 = new TableName();\r\n    kid2.setParent(papa);\r\n    papa.getChildren().add(kid2);\r\n    \r\n    session.save(papa)","title":"Hibernate same table parent / child relation","body":"<p>Seems like all I needed to do is:</p>\n<pre><code>@Entity\n@Table(name = &quot;table_name&quot;)\npublic class TableName {\n\n    ......\n\n    @Transient\n    private Long parentId;\n\n    ...... \n\n    @ManyToOne(fetch = FetchType.LAZY, optional=true)\n    @JoinColumn(name=&quot;parent_id&quot;)\n    private TableName parent;\n    \n    @OneToMany(mappedBy=&quot;parent&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval=true)\n    private Set&lt;TableName&gt; children = new HashSet&lt;TableName&gt;();\n}\n</code></pre>\n<p>Then simply</p>\n<pre><code>TableName papa = new TableName();\npapa.setParent(null); // parent\n\nTableName kid1 = new TableName();\nkid1.setParent(papa);\npapa.getChildren().add(kid1);\n\nTableName kid1_1 = new TableName();\nkid1_1.setParent(kid1);\nkid1.getChildren().add(kid1_1);\n\nTableName kid2 = new TableName();\nkid2.setParent(papa);\npapa.getChildren().add(kid2);\n\nsession.save(papa)\n</code></pre>\n"}],"owner":{"account_id":2013250,"reputation":970,"user_id":1801192,"accept_rate":34,"display_name":"antohoho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20906,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":30673852,"answer_count":2,"score":17,"last_activity_date":1663939239,"creation_date":1432062166,"question_id":30334044,"body_markdown":"I have Parent/Child relationship in a single-table, let&#39;s say as simple as\r\n\r\n    id | parent_id | some_data\r\n\r\nI am trying to understand / implement best practices how to build Hibernate classes for single table relationship. \r\n\r\nI have a feed that comes from somewhere and it has nested JSON structure, so after parse it I want to have it representation in OracleDB.\r\n\r\nFeed looks like\r\n\r\n    {\r\n       1:\r\n           =&gt; 2:\r\n                  =&gt; 3\r\n                  =&gt; 4:\r\n                          =&gt; 5\r\n           =&gt; 6  \r\n    }\r\n\r\nthis data should end up in db as :\r\n\r\n    1 | 0 (main rec, no parent)\r\n    2 | 1\r\n    3 | 2\r\n    4 | 2\r\n    5 | 4\r\n    6 | 1 \r\n\r\nAnd it could go deeper and deeper... \r\n\r\nI would like to traverse JSON structure and build classes that at the end I save in db \r\n\r\n    session.save(parent)\r\n\r\nparent would be instance of my hibernate mapped class, lets name it Feed.\r\n\r\nEach time I descend a tree, it creates a new Feed, finds it&#39;s parent and add it to the list. \r\n\r\n    Feed **parent** = new Feed();\r\n    \r\n      -&gt;   Feed child2 = new Feed();\r\n           child2.setParent(parent)\r\n           parent.add(child2); \r\n    \r\n          -&gt;   Feed child3 = new Feed();\r\n               child3.setParent(child2)\r\n               child2.add(child3);\r\n     \r\n               Feed child4 = new Feed();\r\n               child4.setParent(child2)\r\n               child2.add(child4);\r\n    \r\n    ............. \r\n    \r\n    session.save(**parent**)\r\n\r\n\r\nMy question is could I use @ManyToOne and @OneToMany approach? \r\n\r\nI also looked at @Inheritance(strategy = InheritanceType.SINGLE_TABLE) but I do not think I could apply it to my problem since I do not know parents, they are dynamic. I could not build parent class and extend it. \r\n\r\nSo bottom line I am trying to solve two problems\r\n\r\n1. Easy save on a parent level\r\n\r\n2. How to get data from a parent to a leaf when I need it\r\n\r\n\r\nSome Hibernate Mapped Classes example would be very appreciated.\r\n\r\n","title":"Hibernate same table parent / child relation","body":"<p>I have Parent/Child relationship in a single-table, let's say as simple as</p>\n\n<pre><code>id | parent_id | some_data\n</code></pre>\n\n<p>I am trying to understand / implement best practices how to build Hibernate classes for single table relationship. </p>\n\n<p>I have a feed that comes from somewhere and it has nested JSON structure, so after parse it I want to have it representation in OracleDB.</p>\n\n<p>Feed looks like</p>\n\n<pre><code>{\n   1:\n       =&gt; 2:\n              =&gt; 3\n              =&gt; 4:\n                      =&gt; 5\n       =&gt; 6  \n}\n</code></pre>\n\n<p>this data should end up in db as :</p>\n\n<pre><code>1 | 0 (main rec, no parent)\n2 | 1\n3 | 2\n4 | 2\n5 | 4\n6 | 1 \n</code></pre>\n\n<p>And it could go deeper and deeper... </p>\n\n<p>I would like to traverse JSON structure and build classes that at the end I save in db </p>\n\n<pre><code>session.save(parent)\n</code></pre>\n\n<p>parent would be instance of my hibernate mapped class, lets name it Feed.</p>\n\n<p>Each time I descend a tree, it creates a new Feed, finds it's parent and add it to the list. </p>\n\n<pre><code>Feed **parent** = new Feed();\n\n  -&gt;   Feed child2 = new Feed();\n       child2.setParent(parent)\n       parent.add(child2); \n\n      -&gt;   Feed child3 = new Feed();\n           child3.setParent(child2)\n           child2.add(child3);\n\n           Feed child4 = new Feed();\n           child4.setParent(child2)\n           child2.add(child4);\n\n............. \n\nsession.save(**parent**)\n</code></pre>\n\n<p>My question is could I use @ManyToOne and @OneToMany approach? </p>\n\n<p>I also looked at @Inheritance(strategy = InheritanceType.SINGLE_TABLE) but I do not think I could apply it to my problem since I do not know parents, they are dynamic. I could not build parent class and extend it. </p>\n\n<p>So bottom line I am trying to solve two problems</p>\n\n<ol>\n<li><p>Easy save on a parent level</p></li>\n<li><p>How to get data from a parent to a leaf when I need it</p></li>\n</ol>\n\n<p>Some Hibernate Mapped Classes example would be very appreciated.</p>\n"},{"tags":["javascript","java","url"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1663937931,"post_id":73827875,"comment_id":130363053,"body_markdown":"Java and Javascript are two completely different languages. These are two completely different code snippets, so it&#39;s shouldn&#39;t be a suprise that their string representations look different. What is your question?","body":"Java and Javascript are two completely different languages. These are two completely different code snippets, so it&#39;s shouldn&#39;t be a suprise that their string representations look different. What is your question?"}],"answers":[{"tags":[],"owner":{"account_id":16025918,"reputation":4676,"user_id":11566161,"display_name":"Shri Hari L"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663939173,"creation_date":1663938371,"answer_id":73828181,"question_id":73827875,"body_markdown":"Looks like you are talking about the *semi-colon* part.\r\n\r\n`URLEncodedUtils` you have used is now [deprecated](https://hc.apache.org/httpcomponents-core-5.1.x/current/httpcore5/apidocs/org/apache/hc/core5/net/URLEncodedUtils.html) or you might be [using this](https://www.javadoc.io/doc/org.apache.httpcomponents/httpclient/4.5.1/org/apache/http/client/utils/URLEncodedUtils.html#parse(java.lang.String,%20java.nio.charset.Charset)). \r\n\r\nSemicolon was used to be a separator in query string, similar to what `&amp;` does.\r\n\r\n&gt; In the recommendations of 1999, W3C recommended that all web servers support semicolon separators in addition to ampersand separators to allow application/x-www-form-urlencoded query strings in URLs within HTML documents without having to entity escape ampersands.\r\n\r\n&gt; Since 2014, W3C recommends to use only ampersand as query separator\r\n\r\nRead about it here:\r\nhttps://en.wikipedia.org/wiki/Query_string#Web_forms\r\n\r\n\r\n\r\n","title":"Query params seperator differs in Java and Javascript for semicolon","body":"<p>Looks like you are talking about the <em>semi-colon</em> part.</p>\n<p><code>URLEncodedUtils</code> you have used is now <a href=\"https://hc.apache.org/httpcomponents-core-5.1.x/current/httpcore5/apidocs/org/apache/hc/core5/net/URLEncodedUtils.html\" rel=\"nofollow noreferrer\">deprecated</a> or you might be <a href=\"https://www.javadoc.io/doc/org.apache.httpcomponents/httpclient/4.5.1/org/apache/http/client/utils/URLEncodedUtils.html#parse(java.lang.String,%20java.nio.charset.Charset)\" rel=\"nofollow noreferrer\">using this</a>.</p>\n<p>Semicolon was used to be a separator in query string, similar to what <code>&amp;</code> does.</p>\n<blockquote>\n<p>In the recommendations of 1999, W3C recommended that all web servers support semicolon separators in addition to ampersand separators to allow application/x-www-form-urlencoded query strings in URLs within HTML documents without having to entity escape ampersands.</p>\n</blockquote>\n<blockquote>\n<p>Since 2014, W3C recommends to use only ampersand as query separator</p>\n</blockquote>\n<p>Read about it here:\n<a href=\"https://en.wikipedia.org/wiki/Query_string#Web_forms\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Query_string#Web_forms</a></p>\n"}],"owner":{"account_id":7770850,"reputation":502,"user_id":5880486,"display_name":"erondem"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73828181,"answer_count":1,"score":0,"last_activity_date":1663939173,"creation_date":1663936798,"question_id":73827875,"body_markdown":"For such url `example.com?head=1&amp;foot=1;id` Javascript URLSearchParams and Java URLEncodedUtils.parse returns different results.\r\n\r\nWhich one should I take into account?\r\n\r\nJavascript :\r\n\r\n    let url = new URLSearchParams(&quot;?head=1&amp;foot=1;id&quot;)\r\n    const params = Object.fromEntries(url.entries());\r\n    console.log(url) // --&gt; { head: &#39;1&#39;, foot: &#39;1;id&#39; }\r\n\r\n\r\nJava:\r\n\r\n     List&lt;NameValuePair&gt; params = URLEncodedUtils.parse(&quot;head=1&amp;foot=1;id&quot;, StandardCharsets.UTF_8);\r\n     System.out.println(params); // --&gt; [head=1, foot=1, id]","title":"Query params seperator differs in Java and Javascript for semicolon","body":"<p>For such url <code>example.com?head=1&amp;foot=1;id</code> Javascript URLSearchParams and Java URLEncodedUtils.parse returns different results.</p>\n<p>Which one should I take into account?</p>\n<p>Javascript :</p>\n<pre><code>let url = new URLSearchParams(&quot;?head=1&amp;foot=1;id&quot;)\nconst params = Object.fromEntries(url.entries());\nconsole.log(url) // --&gt; { head: '1', foot: '1;id' }\n</code></pre>\n<p>Java:</p>\n<pre><code> List&lt;NameValuePair&gt; params = URLEncodedUtils.parse(&quot;head=1&amp;foot=1;id&quot;, StandardCharsets.UTF_8);\n System.out.println(params); // --&gt; [head=1, foot=1, id]\n</code></pre>\n"},{"tags":["java","spring","spring-restcontroller"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1663938330,"post_id":73828027,"comment_id":130363218,"body_markdown":"How to customize 400 message: https://fullstackdeveloper.guru/2020/07/08/how-to-send-a-custom-error-message-for-bad-requests-400-error-code-in-spring-boot/ (works also without &quot;boot&quot;)","body":"How to customize 400 message: <a href=\"https://fullstackdeveloper.guru/2020/07/08/how-to-send-a-custom-error-message-for-bad-requests-400-error-code-in-spring-boot/\" rel=\"nofollow noreferrer\">fullstackdeveloper.guru/2020/07/08/&hellip;</a> (works also without &quot;boot&quot;)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1663938536,"post_id":73828027,"comment_id":130363292,"body_markdown":"But be aware that &quot;400&quot; is broader than the described problem ... In both (Link) approaches, you have access to `exception` (message, stacktrace... )","body":"But be aware that &quot;400&quot; is broader than the described problem ... In both (Link) approaches, you have access to <code>exception</code> (message, stacktrace... )"}],"answers":[{"tags":[],"owner":{"account_id":9118538,"reputation":319,"user_id":6784846,"display_name":"Annamalai Palanikumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663938039,"creation_date":1663938039,"answer_id":73828122,"question_id":73828027,"body_markdown":"You may need to receive that request body field as a **List of Objects**. You may also need to cast this field data while using it.\r\n\r\n    public UserWithIdsRequest{\r\n      \r\n        ...\r\n    \r\n        @XmlElementWrapper(name = &quot;userIds&quot;)\r\n        @XmlElement(name = &quot;userId&quot;)\r\n        private List&lt;Object&gt; userIds;\r\n    \r\n        ...\r\n    }","title":"How to handle different data type in Request - Spring","body":"<p>You may need to receive that request body field as a <strong>List of Objects</strong>. You may also need to cast this field data while using it.</p>\n<pre><code>public UserWithIdsRequest{\n  \n    ...\n\n    @XmlElementWrapper(name = &quot;userIds&quot;)\n    @XmlElement(name = &quot;userId&quot;)\n    private List&lt;Object&gt; userIds;\n\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":14743295,"reputation":191,"user_id":12273958,"display_name":"aman goyal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":411,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73828122,"answer_count":1,"score":2,"last_activity_date":1663938441,"creation_date":1663937539,"question_id":73828027,"body_markdown":"In a `UserWithIdsRequest` object\r\n\r\n```\r\npublic UserWithIdsRequest{\r\n  \r\n    ...\r\n\r\n    @XmlElementWrapper(name = &quot;userIds&quot;)\r\n    @XmlElement(name = &quot;userId&quot;)\r\n    private List&lt;Long&gt; userIds;\r\n\r\n    ...\r\n}\r\n```\r\nThis object maps to body of get request.\r\n\r\nThere is List of userIds of type Long (cannot be changed to any other type), but some users are sendings wrong data such as name(string) , location(string) etc, when they hit the endpoint.\r\n\r\nThis ends-up giving `400 Bad Request` and code never hits my requestMapping function, since I am using Java Spring.\r\n\r\nI need to return a proper error message in scenarios where data type in wrong.\r\n\r\nAny suggestions what can be done here?\r\n\r\n\r\nPS: I am fairly new to Spring, do let me know if I am missing something.","title":"How to handle different data type in Request - Spring","body":"<p>In a <code>UserWithIdsRequest</code> object</p>\n<pre><code>public UserWithIdsRequest{\n  \n    ...\n\n    @XmlElementWrapper(name = &quot;userIds&quot;)\n    @XmlElement(name = &quot;userId&quot;)\n    private List&lt;Long&gt; userIds;\n\n    ...\n}\n</code></pre>\n<p>This object maps to body of get request.</p>\n<p>There is List of userIds of type Long (cannot be changed to any other type), but some users are sendings wrong data such as name(string) , location(string) etc, when they hit the endpoint.</p>\n<p>This ends-up giving <code>400 Bad Request</code> and code never hits my requestMapping function, since I am using Java Spring.</p>\n<p>I need to return a proper error message in scenarios where data type in wrong.</p>\n<p>Any suggestions what can be done here?</p>\n<p>PS: I am fairly new to Spring, do let me know if I am missing something.</p>\n"},{"tags":["java","rest","websocket","vuejs3","java-websocket"],"owner":{"account_id":18337154,"reputation":69,"user_id":13354303,"display_name":"Laura"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663938436,"creation_date":1663935969,"question_id":73827718,"body_markdown":"- I use Java (with Quarkus) for the backend.\r\n - Vue3 for the frontend.\r\n - API and Websockets to transition data between the two.\r\n\r\n\r\nI am building a chat message application.\r\nSo far I was able to send a message inside the backend under a JSON format, do stuff in Java with this message (which holds the message inside a MessageJson class that I have created, hence the data type is now type of MessageJson), transform it into a String, then and send it back to the frontend. I wish to transform the String in the frontend, into a Json.\r\n\r\nHere is my function which send the message back to the front (using Websockets):\r\n\r\n    public MessageResponseForm processBackend(MessageJson messageJson) {\r\n            MessageResponseForm messageResponseForm = new MessageResponseForm();\r\n            messages(messageJson);\r\n            webSocketConfig.sendMessage(&quot;U001&quot;, messageJson.toString());\r\n            return messageResponseForm;\r\n        }\r\n\r\nThe frontend retrieve it without issue, in the String format.\r\nBut I need it back into Json format.\r\n\r\nI use the function JSON.parse() in Vue.js but it gives me this:\r\n[![enter image description here][1]][1]\r\n\r\nWhich is normal in my opinion, because I should receive something like this from the backend:\r\n\r\n    &quot;{&quot;toRecipient&quot;:&quot;U002&quot;,&quot;fromSender&quot;:&quot;U00555&quot;,&quot;messageContent&quot;:&quot;ewww555&quot;}&quot; .....\r\n\r\nBut instead I got this:\r\n\r\n    &quot;MessageJson(toRecipient=U002, fromSender=U00555, messageContent=ewww555, dateCreated=2022-9-23 14:15:57, companyName=test)&quot;\r\n\r\nMy Class MessageJson does not seems to keep the correct Json format.\r\nHow to prevent this?\r\nDo I need to use the **@Produces** annotations in Quarkus? If yes, where exactly?\r\n\r\nI found no other method related to ToString()...\r\n\r\nEDIT: Do I need to use the dependency GSON to do the job, or can I do this natively?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6Ra9N.png","title":"Java Class parsed to JSON does not output correct Json Object","body":"<ul>\n<li>I use Java (with Quarkus) for the backend.</li>\n<li>Vue3 for the frontend.</li>\n<li>API and Websockets to transition data between the two.</li>\n</ul>\n<p>I am building a chat message application.\nSo far I was able to send a message inside the backend under a JSON format, do stuff in Java with this message (which holds the message inside a MessageJson class that I have created, hence the data type is now type of MessageJson), transform it into a String, then and send it back to the frontend. I wish to transform the String in the frontend, into a Json.</p>\n<p>Here is my function which send the message back to the front (using Websockets):</p>\n<pre><code>public MessageResponseForm processBackend(MessageJson messageJson) {\n        MessageResponseForm messageResponseForm = new MessageResponseForm();\n        messages(messageJson);\n        webSocketConfig.sendMessage(&quot;U001&quot;, messageJson.toString());\n        return messageResponseForm;\n    }\n</code></pre>\n<p>The frontend retrieve it without issue, in the String format.\nBut I need it back into Json format.</p>\n<p>I use the function JSON.parse() in Vue.js but it gives me this:\n<a href=\"https://i.stack.imgur.com/6Ra9N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6Ra9N.png\" alt=\"enter image description here\" /></a></p>\n<p>Which is normal in my opinion, because I should receive something like this from the backend:</p>\n<pre><code>&quot;{&quot;toRecipient&quot;:&quot;U002&quot;,&quot;fromSender&quot;:&quot;U00555&quot;,&quot;messageContent&quot;:&quot;ewww555&quot;}&quot; .....\n</code></pre>\n<p>But instead I got this:</p>\n<pre><code>&quot;MessageJson(toRecipient=U002, fromSender=U00555, messageContent=ewww555, dateCreated=2022-9-23 14:15:57, companyName=test)&quot;\n</code></pre>\n<p>My Class MessageJson does not seems to keep the correct Json format.\nHow to prevent this?\nDo I need to use the <strong>@Produces</strong> annotations in Quarkus? If yes, where exactly?</p>\n<p>I found no other method related to ToString()...</p>\n<p>EDIT: Do I need to use the dependency GSON to do the job, or can I do this natively?</p>\n"},{"tags":["java","jpa"],"answers":[{"tags":[],"owner":{"account_id":44712,"reputation":99786,"user_id":131368,"accept_rate":78,"display_name":"ChssPly76"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1258418916,"creation_date":1258418916,"answer_id":1745914,"question_id":1745890,"body_markdown":"Use &lt;a href=&quot;http://java.sun.com/javaee/5/docs/api/javax/persistence/PrePersist.html&quot;&gt;@PrePersist&lt;/a&gt; and &lt;a href=&quot;http://java.sun.com/javaee/5/docs/api/javax/persistence/PreUpdate.html&quot;&gt;@PreUpdate&lt;/a&gt; annotations and write your own event listener.\r\n\r\nTake a look at &lt;a href=&quot;https://stackoverflow.com/questions/1725699/hard-time-setting-autogenerated-time-with-hibernate-jpa-annotations/1726375#1726375&quot;&gt;this answer&lt;/a&gt; for details. It&#39;s tagged as Hibernate but is applicable to any JPA provider.","title":"Last update timestamp with JPA","body":"<p>Use <a href=\"http://java.sun.com/javaee/5/docs/api/javax/persistence/PrePersist.html\" rel=\"noreferrer\">@PrePersist</a> and <a href=\"http://java.sun.com/javaee/5/docs/api/javax/persistence/PreUpdate.html\" rel=\"noreferrer\">@PreUpdate</a> annotations and write your own event listener.</p>\n\n<p>Take a look at <a href=\"https://stackoverflow.com/questions/1725699/hard-time-setting-autogenerated-time-with-hibernate-jpa-annotations/1726375#1726375\">this answer</a> for details. It's tagged as Hibernate but is applicable to any JPA provider.</p>\n"},{"tags":[],"owner":{"account_id":64878,"reputation":3521,"user_id":191300,"accept_rate":55,"display_name":"surajz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1258420554,"creation_date":1258419385,"answer_id":1745945,"question_id":1745890,"body_markdown":"if you are using mysql, I think you can do the following to disable the timestamps from being updated from entity\r\n\r\n    @Column(name = &quot;lastUpdate&quot;, updatable= false, insertable=false)\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    private Date lastUpdate;\r\n\r\nfor oracle you time have to set the timestamps from the entity using @PreUpdate annotation as explained above.","title":"Last update timestamp with JPA","body":"<p>if you are using mysql, I think you can do the following to disable the timestamps from being updated from entity</p>\n\n<pre><code>@Column(name = \"lastUpdate\", updatable= false, insertable=false)\n@Temporal(TemporalType.TIMESTAMP)\nprivate Date lastUpdate;\n</code></pre>\n\n<p>for oracle you time have to set the timestamps from the entity using @PreUpdate annotation as explained above.</p>\n"},{"tags":[],"owner":{"account_id":1134415,"reputation":157,"user_id":1119788,"accept_rate":75,"display_name":"Jubz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1348830787,"creation_date":1346208257,"answer_id":12170218,"question_id":1745890,"body_markdown":"Actually, **surajz** answer works. Consider a scenario where you are tracking 2 timestamps. You want to manually update them via the entity. You&#39;d need to set one to `updateble=false` (the one you do not want updated when the record is updated), and leave the other free for updates.\r\n\r\nThat&#39;s what worked for me.","title":"Last update timestamp with JPA","body":"<p>Actually, <strong>surajz</strong> answer works. Consider a scenario where you are tracking 2 timestamps. You want to manually update them via the entity. You'd need to set one to <code>updateble=false</code> (the one you do not want updated when the record is updated), and leave the other free for updates.</p>\n\n<p>That's what worked for me.</p>\n"},{"tags":[],"owner":{"account_id":1666502,"reputation":1120,"user_id":1533783,"display_name":"Khalid Habib"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663938266,"creation_date":1663937584,"answer_id":73828035,"question_id":1745890,"body_markdown":"In Entity class \r\n\r\n    @Column\r\n    @UpdateTimestamp\r\n    private Timestamp updatedOn\r\n    \r\n    @Column\r\n    @CreationTimestamp\r\n    private Timestamp createdOn\r\n\r\nit will update automatically when any change in entity\r\n\r\n\r\nSupported attribute types\r\n\r\n\r\n    java.time.LocalDate (since Hibernate 5.2.3)\r\n    java.time.LocalDateTime (since Hibernate 5.2.3)\r\n    java.util.Date\r\n    java.util.Calendar\r\n    java.sql.Date\r\n    java.sql.Time\r\n    java.sql.Timestamp\r\n\r\n\r\nExample :\r\n\r\n    @Entity\r\n    public class MyEntity {\r\n     \r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n     \r\n        @CreationTimestamp\r\n        private Timestamp createdOn;\r\n     \r\n        @UpdateTimestamp\r\n        private Timestamp updatedOn;\r\n     \r\n    }","title":"Last update timestamp with JPA","body":"<p>In Entity class</p>\n<pre><code>@Column\n@UpdateTimestamp\nprivate Timestamp updatedOn\n\n@Column\n@CreationTimestamp\nprivate Timestamp createdOn\n</code></pre>\n<p>it will update automatically when any change in entity</p>\n<p>Supported attribute types</p>\n<pre><code>java.time.LocalDate (since Hibernate 5.2.3)\njava.time.LocalDateTime (since Hibernate 5.2.3)\njava.util.Date\njava.util.Calendar\njava.sql.Date\njava.sql.Time\njava.sql.Timestamp\n</code></pre>\n<p>Example :</p>\n<pre><code>@Entity\npublic class MyEntity {\n \n    @Id\n    @GeneratedValue\n    private Long id;\n \n    @CreationTimestamp\n    private Timestamp createdOn;\n \n    @UpdateTimestamp\n    private Timestamp updatedOn;\n \n}\n</code></pre>\n"}],"owner":{"account_id":43373,"reputation":224943,"user_id":126769,"accept_rate":94,"display_name":"nos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34102,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":1745914,"answer_count":4,"score":14,"last_activity_date":1663938266,"creation_date":1258418609,"question_id":1745890,"body_markdown":"I&#39;m playing around a bit with JPA(Eclipselink to be specific). The below entity have a \r\ntimestamp that&#39;s supposed to reflect whenever that entity was last updated.\r\n\r\nWhat are the strategies for making JPA update that timestamp automatically every time\r\nthis entity is changed ?\r\n\r\nHow would I go about if I also want a &#39;creation&#39; timestamp, only set when the entity is first persisted, never allowed to be changed again ?\r\n\r\n\r\n\r\n     @Entity\r\n     public class Item implements Serializable {\r\n         private static final long serialVersionUID = 1L;\r\n         private Integer id;\r\n         private String note;\r\n    \r\n    \r\n        public Item () {\r\n        }\r\n    \r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy=SEQUENCE)\r\n    \t@Column(unique=true, nullable=false)\r\n    \tpublic Integer getId() {\r\n    \t\treturn this.id;\r\n    \t}\r\n    \r\n    \tpublic void setId(Integer id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \r\n    \t@Column(length=255)\r\n        @Column(nullable=false)\r\n    \tpublic String getNote() {\r\n    \t\treturn this.note;\r\n    \t}\r\n    \r\n    \tpublic void setNote(String note) {\r\n    \t\tthis.note = note;\r\n    \t}\r\n    \r\n    \t@Column(nullable=false)\r\n    \tpublic Timestamp getUpdated() {\r\n    \t\treturn this.updated;\r\n    \t}\r\n    \r\n    \tpublic void setUpdated(Timestamp updated) {\r\n    \t\tthis.updated = updated;\r\n    \t}\r\n    \r\n    \t\r\n    }","title":"Last update timestamp with JPA","body":"<p>I'm playing around a bit with JPA(Eclipselink to be specific). The below entity have a \ntimestamp that's supposed to reflect whenever that entity was last updated.</p>\n\n<p>What are the strategies for making JPA update that timestamp automatically every time\nthis entity is changed ?</p>\n\n<p>How would I go about if I also want a 'creation' timestamp, only set when the entity is first persisted, never allowed to be changed again ?</p>\n\n<pre><code> @Entity\n public class Item implements Serializable {\n     private static final long serialVersionUID = 1L;\n     private Integer id;\n     private String note;\n\n\n    public Item () {\n    }\n\n\n    @Id\n    @GeneratedValue(strategy=SEQUENCE)\n    @Column(unique=true, nullable=false)\n    public Integer getId() {\n        return this.id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n\n    @Column(length=255)\n    @Column(nullable=false)\n    public String getNote() {\n        return this.note;\n    }\n\n    public void setNote(String note) {\n        this.note = note;\n    }\n\n    @Column(nullable=false)\n    public Timestamp getUpdated() {\n        return this.updated;\n    }\n\n    public void setUpdated(Timestamp updated) {\n        this.updated = updated;\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","properties","yaml"],"comments":[{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1663938807,"post_id":73828088,"comment_id":130363410,"body_markdown":"The `.yml` file extension works fine here.","body":"The <code>.yml</code> file extension works fine here."},{"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"score":1,"creation_date":1663938815,"post_id":73828088,"comment_id":130363414,"body_markdown":"Can&#39;t reproduce this. Are you sure that you dont have some additional configuration?","body":"Can&#39;t reproduce this. Are you sure that you dont have some additional configuration?"},{"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"score":0,"creation_date":1663939035,"post_id":73828088,"comment_id":130363505,"body_markdown":"Your property name is tracer but you wrote this in your code @Value(&quot;${tracer.datadog}&quot;) so last &quot;r&quot; is redundand.","body":"Your property name is tracer but you wrote this in your code @Value(&quot;${tracer.datadog}&quot;) so last &quot;r&quot; is redundand."},{"owner":{"account_id":2621843,"reputation":145,"user_id":2269702,"display_name":"fran"},"score":0,"creation_date":1663943043,"post_id":73828088,"comment_id":130365168,"body_markdown":"@Nemanja you are right ... i create the project from a company archetype, son in the parent parent pom the yml file is excluded (among other things). THX","body":"@Nemanja you are right ... i create the project from a company archetype, son in the parent parent pom the yml file is excluded (among other things). THX"}],"owner":{"account_id":2621843,"reputation":145,"user_id":2269702,"display_name":"fran"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663937861,"creation_date":1663937861,"question_id":73828088,"body_markdown":"i cannot start my spring-boot application, because an exception with the following messagge is thrown&quot;Error creating bean with name &#39;application&#39;: Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;tracer.datadog&#39; in value\r\n\r\nThe reason is that spring-boot cannot find the &quot;tracer.datadog&quot; prop specificied on the application class:\r\n\r\n\r\n    @SpringBootApplication\r\n    @EnableMongoAuditing\r\n    public class Application {\r\n    \r\n        @Value(&quot;${tracer.datadog}&quot;)\r\n        private boolean datadog;\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    \r\n        @PostConstruct\r\n        private void jaegerTracer() {\r\n            if (!datadog) {\r\n                GlobalTracer.registerIfAbsent(Configuration.fromEnv().getTracer());\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nBut that property is correctly defined over the application.yml file:\r\n\r\n    tracer:\r\n      datadog: true\r\n\r\nHowever, changing the extension to .YAML spring-boot &quot;find&quot; the file and the application starts fine.  \r\nDoes anyone can tell me how can i do to solve this problem and use the .yml extension? using the .yaml extension is not a possibility because of company standards\r\n\r\n\r\n\r\n\r\n\r\n","title":"Spring Boot YAML binding: fail when using yml extension","body":"<p>i cannot start my spring-boot application, because an exception with the following messagge is thrown&quot;Error creating bean with name 'application': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'tracer.datadog' in value</p>\n<p>The reason is that spring-boot cannot find the &quot;tracer.datadog&quot; prop specificied on the application class:</p>\n<pre><code>@SpringBootApplication\n@EnableMongoAuditing\npublic class Application {\n\n    @Value(&quot;${tracer.datadog}&quot;)\n    private boolean datadog;\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n    @PostConstruct\n    private void jaegerTracer() {\n        if (!datadog) {\n            GlobalTracer.registerIfAbsent(Configuration.fromEnv().getTracer());\n        }\n    }\n\n}\n</code></pre>\n<p>But that property is correctly defined over the application.yml file:</p>\n<pre><code>tracer:\n  datadog: true\n</code></pre>\n<p>However, changing the extension to .YAML spring-boot &quot;find&quot; the file and the application starts fine.<br />\nDoes anyone can tell me how can i do to solve this problem and use the .yml extension? using the .yaml extension is not a possibility because of company standards</p>\n"},{"tags":["java","android","instrumentation"],"answers":[{"tags":[],"owner":{"account_id":168190,"reputation":11220,"user_id":393488,"display_name":"Rajdeep Dua"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1326478063,"creation_date":1326478063,"answer_id":8855157,"question_id":8854936,"body_markdown":"You are running it as an Android Project, try running it as a Android Test Project\r\n\r\nadb shell am instrument -e package &amp;lt;java package&gt; -w &amp;lt;test apk package&gt;/android.test.InstrumentationTestRunner","title":"Unable to resolve activity for: Intent when instrumentation-testing android activities","body":"<p>You are running it as an Android Project, try running it as a Android Test Project</p>\n\n<p>adb shell am instrument -e package &lt;java package> -w &lt;test apk package>/android.test.InstrumentationTestRunner</p>\n"},{"tags":[],"owner":{"account_id":468095,"reputation":40996,"user_id":873875,"display_name":"yorkw"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1326488196,"creation_date":1326488196,"answer_id":8857120,"question_id":8854936,"body_markdown":"    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n      package=&quot;com.mycompany.mobile.android.gui&quot;\r\n    ... ...\r\n\r\nAre you using the same package name for both your Android project and Android test project? This could be a problem, though I am not sure if it causes your java.lang.RuntimeException.\r\n\r\nAccording to the official dev guide [here][1], Your test project must have a different package name  from you tested project:\r\n\r\n&gt; An Android package name is a unique system name for a .apk file, set by the &quot;android:package&quot; attribute of the &lt;manifest&gt; element in the package&#39;s manifest. **The Android package name of your test package must be different from the Android package name of the application under test.** By default, Android tools create the test package name by appending &quot;.test&quot; to the package name of the application under test.\r\n\r\nTry using package name com.mycompany.mobile.android.gui.test for your test project.\r\n\r\n  [1]: http://developer.android.com/guide/topics/testing/testing_android.html#PackageNames","title":"Unable to resolve activity for: Intent when instrumentation-testing android activities","body":"<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n  package=\"com.mycompany.mobile.android.gui\"\n... ...\n</code></pre>\n\n<p>Are you using the same package name for both your Android project and Android test project? This could be a problem, though I am not sure if it causes your java.lang.RuntimeException.</p>\n\n<p>According to the official dev guide <a href=\"http://developer.android.com/guide/topics/testing/testing_android.html#PackageNames\" rel=\"noreferrer\">here</a>, Your test project must have a different package name  from you tested project:</p>\n\n<blockquote>\n  <p>An Android package name is a unique system name for a .apk file, set by the \"android:package\" attribute of the  element in the package's manifest. <strong>The Android package name of your test package must be different from the Android package name of the application under test.</strong> By default, Android tools create the test package name by appending \".test\" to the package name of the application under test.</p>\n</blockquote>\n\n<p>Try using package name com.mycompany.mobile.android.gui.test for your test project.</p>\n"},{"tags":[],"owner":{"account_id":13109291,"reputation":2682,"user_id":9470914,"display_name":"UdaraWanasinghe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663937828,"creation_date":1663937828,"answer_id":73828077,"question_id":8854936,"body_markdown":"There are two possible solutions.\r\n\r\n1. Add activity definition in the android manifest and mark it as exported.\r\n\r\nIf you forgot to define activity in your android manifest, you would get &quot;Unable to resolve activity error&quot;. If you are creating separate test activity in your android test project, create a separate test sub package and create your activity there. After that include it in your android manifest and mark it as exported.\r\n```shell\r\n# folder structure\r\n└── src\r\n    └── androidTest\r\n       &#160;└── java\r\n    &#160;&#160;      └── com\r\n    &#160;&#160;          └── example\r\n    &#160;&#160;              └── test\r\n    &#160;&#160;                  └── TestActivity.kt\r\n\r\n```\r\n\r\n```xml\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n  package=&quot;com.example.test&quot;&gt;\r\n  &lt;application&gt;\r\n     &lt;activity\r\n       android:name=&quot;.TestActivity&quot;\r\n       android:exported=&quot;true&quot; /&gt;\r\n  &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n```\r\n\r\nBy default the android Gradle plugin appends `.test` to the `applicationId` and `namespace` of the test app. So that you need to put all your classes in a separate test package.\r\n\r\n2. Change android test `namespace` and the `applicationId`.\r\n\r\nYou can define `namespace` and `applicationId` of the test app in module level `build.gradle` file. Set it to match your test app&#39;s package name.\r\n\r\n```groovy\r\nandroid {\r\n  testNamespace &#39;com.example.app&#39;\r\n  defaultConfig {\r\n     testApplicationId &#39;com.example.app&#39;\r\n  }\r\n}\r\n```\r\n\r\nIt is recommended to use same values for the `namespace` and the `applicationId`. If you use different values, the android Gradle plugin will copy `applicationId` in place of `namespace` in the android manifest.\r\n","title":"Unable to resolve activity for: Intent when instrumentation-testing android activities","body":"<p>There are two possible solutions.</p>\n<ol>\n<li>Add activity definition in the android manifest and mark it as exported.</li>\n</ol>\n<p>If you forgot to define activity in your android manifest, you would get &quot;Unable to resolve activity error&quot;. If you are creating separate test activity in your android test project, create a separate test sub package and create your activity there. After that include it in your android manifest and mark it as exported.</p>\n<pre class=\"lang-bash prettyprint-override\"><code># folder structure\n└── src\n    └── androidTest\n        └── java\n            └── com\n                └── example\n                    └── test\n                        └── TestActivity.kt\n\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n  package=&quot;com.example.test&quot;&gt;\n  &lt;application&gt;\n     &lt;activity\n       android:name=&quot;.TestActivity&quot;\n       android:exported=&quot;true&quot; /&gt;\n  &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>By default the android Gradle plugin appends <code>.test</code> to the <code>applicationId</code> and <code>namespace</code> of the test app. So that you need to put all your classes in a separate test package.</p>\n<ol start=\"2\">\n<li>Change android test <code>namespace</code> and the <code>applicationId</code>.</li>\n</ol>\n<p>You can define <code>namespace</code> and <code>applicationId</code> of the test app in module level <code>build.gradle</code> file. Set it to match your test app's package name.</p>\n<pre><code>android {\n  testNamespace 'com.example.app'\n  defaultConfig {\n     testApplicationId 'com.example.app'\n  }\n}\n</code></pre>\n<p>It is recommended to use same values for the <code>namespace</code> and the <code>applicationId</code>. If you use different values, the android Gradle plugin will copy <code>applicationId</code> in place of <code>namespace</code> in the android manifest.</p>\n"}],"owner":{"account_id":334412,"reputation":2033,"user_id":660848,"accept_rate":40,"display_name":"wonderb0lt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9347,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":8857120,"answer_count":3,"score":4,"last_activity_date":1663937828,"creation_date":1326476934,"question_id":8854936,"body_markdown":"I&#39;m getting errors when I&#39;m trying to run insturmentation tests on android. I&#39;ve written an Activity, called **AudioPlayerActivity** that lies in the package _com.mycompany.mobile.android.gui_, and now I&#39;m trying to test the GUI of that project and I&#39;m running in the following error:\r\n\r\n&gt;  java.lang.RuntimeException: Unable to resolve activity for: Intent { act=android.intent.action.MAIN flg=0x10000000 cmp=com.mycompany.mobile.android.gui/.AudioPlayerActivity }\r\n\r\nI have read [this question][1], and followed the advice there, but to no avail. I also googled for the error, but did not find any help.\r\n\r\nThis is how my AndroidManifest.xml for the test project looks like:\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.mycompany.mobile.android.gui&quot;\r\n        android:versionCode=&quot;1&quot;\r\n        android:versionName=&quot;1.0&quot; &gt;\r\n\r\n        &lt;instrumentation\r\n            android:name=&quot;android.test.InstrumentationTestRunner&quot;\r\n            android:targetPackage=&quot;com.mycompany.mobile.android.gui&quot; /&gt;\r\n        &lt;application&gt;\r\n            &lt;uses-library android:name=&quot;android.test.runner&quot; /&gt;\r\n        &lt;/application&gt;\r\n\r\n        &lt;uses-sdk android:targetSdkVersion=&quot;7&quot; /&gt;\r\n        &lt;supports-screens android:anyDensity=&quot;true&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;&gt;&lt;/uses-permission&gt;\r\n    &lt;/manifest&gt;\r\n\r\nAnd here&#39;s my Instrumentation test.\r\n    \r\n&lt;!-- language: lang-java --&gt;\r\n    package com.mycompany.mobile.android.gui;\r\n\r\n    import android.test.ActivityInstrumentationTestCase2;\r\n\r\n    import com.mycompany.mobile.android.gui.AudioPlayerActivity;\r\n\r\n    public class TestMusicPlayerActivityTest extends ActivityInstrumentationTestCase2&lt;AudioPlayerActivity&gt; {\r\n        public TestMusicPlayerActivityTest() {\r\n                super(&quot;com.mycompany.mobile.android.gui&quot;, AudioPlayerActivity.class);\r\n        }\r\n\r\n        public TestMusicPlayerActivityTest(String name) {\r\n            super(&quot;com.mycompany.mobile.android.gui&quot;, AudioPlayerActivity.class);\r\n        }\r\n\r\n        public TestMusicPlayerActivityTest(String pkg, Class&lt;AudioPlayerActivity&gt; activityClass) {\r\n            super(&quot;com.mycompany.mobile.android.gui&quot;, AudioPlayerActivity.class);\r\n        }\r\n\r\n        public void testSomething() {\r\n            System.out.println(&quot;Nothing works :(&quot;);\r\n            System.out.println(getActivity());\r\n        }   \r\n    }\r\n\r\nWe are running the entire process via maven, but that should not be a part of the problem.\r\n\r\nThe tested Activity, as you can see, also lies in the same package. I don&#39;t call the super constructor with the activity&#39;s instead of the package name, as most people having this issue do.\r\n\r\nFor your interest, this is the AndroidManifest.xml describing the tested activity:\r\n\r\n&lt;!--- language: lang-xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.mycompany.mobile.android.gui&quot;\r\n        android:versionCode=&quot;1&quot;\r\n        android:versionName=&quot;1.0&quot; &gt;\r\n        \r\n        &lt;!-- omitted Uses permission + Uses SDK --&gt;\r\n        &lt;application\r\n            android:icon=&quot;@drawable/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:debuggable=&quot;true&quot;\r\n            android:theme=&quot;@style/NoTitleBar&quot;\r\n        &gt;\r\n        &lt;!-- omitted other activities --&gt;\r\n            &lt;activity \r\n                android:name=&quot;com.mycompany.mobile.android.gui.AudioPlayerActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; &gt;&lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\n\r\nI also added the activity to the AndroidManifest.xml, but this didn&#39;t change anything. I also tried adding the MAIN/LAUNCHER intent filter for the desired activity, but to this didn&#39;t change the outcome of the test. I have tried starting the activity with extras and without them, that also didn&#39;t change the outcome.\r\n\r\n  [1]: https://stackoverflow.com/questions/3903736/unable-to-resolve-activity-for-intent","title":"Unable to resolve activity for: Intent when instrumentation-testing android activities","body":"<p>I'm getting errors when I'm trying to run insturmentation tests on android. I've written an Activity, called <strong>AudioPlayerActivity</strong> that lies in the package <em>com.mycompany.mobile.android.gui</em>, and now I'm trying to test the GUI of that project and I'm running in the following error:</p>\n\n<blockquote>\n  <p>java.lang.RuntimeException: Unable to resolve activity for: Intent { act=android.intent.action.MAIN flg=0x10000000 cmp=com.mycompany.mobile.android.gui/.AudioPlayerActivity }</p>\n</blockquote>\n\n<p>I have read <a href=\"https://stackoverflow.com/questions/3903736/unable-to-resolve-activity-for-intent\">this question</a>, and followed the advice there, but to no avail. I also googled for the error, but did not find any help.</p>\n\n<p>This is how my AndroidManifest.xml for the test project looks like:\n</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.mycompany.mobile.android.gui\"\n    android:versionCode=\"1\"\n    android:versionName=\"1.0\" &gt;\n\n    &lt;instrumentation\n        android:name=\"android.test.InstrumentationTestRunner\"\n        android:targetPackage=\"com.mycompany.mobile.android.gui\" /&gt;\n    &lt;application&gt;\n        &lt;uses-library android:name=\"android.test.runner\" /&gt;\n    &lt;/application&gt;\n\n    &lt;uses-sdk android:targetSdkVersion=\"7\" /&gt;\n    &lt;supports-screens android:anyDensity=\"true\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.INTERNET\"&gt;&lt;/uses-permission&gt;\n&lt;/manifest&gt;\n</code></pre>\n\n<p>And here's my Instrumentation test.</p>\n\n<p>package com.mycompany.mobile.android.gui;</p>\n\n<pre><code>import android.test.ActivityInstrumentationTestCase2;\n\nimport com.mycompany.mobile.android.gui.AudioPlayerActivity;\n\npublic class TestMusicPlayerActivityTest extends ActivityInstrumentationTestCase2&lt;AudioPlayerActivity&gt; {\n    public TestMusicPlayerActivityTest() {\n            super(\"com.mycompany.mobile.android.gui\", AudioPlayerActivity.class);\n    }\n\n    public TestMusicPlayerActivityTest(String name) {\n        super(\"com.mycompany.mobile.android.gui\", AudioPlayerActivity.class);\n    }\n\n    public TestMusicPlayerActivityTest(String pkg, Class&lt;AudioPlayerActivity&gt; activityClass) {\n        super(\"com.mycompany.mobile.android.gui\", AudioPlayerActivity.class);\n    }\n\n    public void testSomething() {\n        System.out.println(\"Nothing works :(\");\n        System.out.println(getActivity());\n    }   \n}\n</code></pre>\n\n<p>We are running the entire process via maven, but that should not be a part of the problem.</p>\n\n<p>The tested Activity, as you can see, also lies in the same package. I don't call the super constructor with the activity's instead of the package name, as most people having this issue do.</p>\n\n<p>For your interest, this is the AndroidManifest.xml describing the tested activity:</p>\n\n\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.mycompany.mobile.android.gui\"\n    android:versionCode=\"1\"\n    android:versionName=\"1.0\" &gt;\n\n    &lt;!-- omitted Uses permission + Uses SDK --&gt;\n    &lt;application\n        android:icon=\"@drawable/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:debuggable=\"true\"\n        android:theme=\"@style/NoTitleBar\"\n    &gt;\n    &lt;!-- omitted other activities --&gt;\n        &lt;activity \n            android:name=\"com.mycompany.mobile.android.gui.AudioPlayerActivity\"\n            android:screenOrientation=\"portrait\" &gt;&lt;/activity&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n\n<p>I also added the activity to the AndroidManifest.xml, but this didn't change anything. I also tried adding the MAIN/LAUNCHER intent filter for the desired activity, but to this didn't change the outcome of the test. I have tried starting the activity with extras and without them, that also didn't change the outcome.</p>\n"},{"tags":["java","json","schema","jsonschema"],"comments":[{"owner":{"account_id":6501728,"reputation":577,"user_id":5032258,"display_name":"Byted"},"score":0,"creation_date":1664164014,"post_id":73827930,"comment_id":130400487,"body_markdown":"I&#39;d go with `anyOf` to define one sub-schema like you already have and some more for the optional cases. I don&#39;t think there&#39;s a simpler solution.","body":"I&#39;d go with <code>anyOf</code> to define one sub-schema like you already have and some more for the optional cases. I don&#39;t think there&#39;s a simpler solution."},{"owner":{"account_id":32232,"reputation":11789,"user_id":89211,"accept_rate":90,"display_name":"Relequestual"},"score":0,"creation_date":1664870555,"post_id":73827930,"comment_id":130563424,"body_markdown":"When the value of `items` is an array, you&#39;re using the tuple form, which is not what you want. Here&#39;s an explanation of tuple form validation: https://json-schema.org/understanding-json-schema/reference/array.html#tuple-validation - Keep in mind these docs are for modern JSON Schema (2019-09 or newer) and you&#39;re using draft-04.","body":"When the value of <code>items</code> is an array, you&#39;re using the tuple form, which is not what you want. Here&#39;s an explanation of tuple form validation: <a href=\"https://json-schema.org/understanding-json-schema/reference/array.html#tuple-validation\" rel=\"nofollow noreferrer\">json-schema.org/understanding-json-schema/reference/&hellip;</a> - Keep in mind these docs are for modern JSON Schema (2019-09 or newer) and you&#39;re using draft-04."}],"owner":{"account_id":8841372,"reputation":862,"user_id":6603725,"accept_rate":53,"display_name":"KilledByCheese"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663937050,"creation_date":1663937050,"question_id":73827930,"body_markdown":"I need to define a Json Schema which accepts an array. This array can have one of the following structures:  \r\n1: `[&quot;StringConstant&quot;,{someKeys:someValues},&quot;StringConstant&quot;,&quot;StringConstant&quot;]`  \r\n2: `[{someKeys:someValues},{someKeys:someValues},...]`  \r\n3: `[&quot;StringConstant&quot;,{someKeys:someValues},&quot;StringConstant&quot;,&quot;StringConstant&quot;,&quot;StringConstant&quot;,{someKeys:someValues},&quot;StringConstant&quot;,&quot;StringConstant&quot;,...]`  \r\n4: `[&quot;StringConstant&quot;,{someKeys:someValues},&quot;StringConstant&quot;,&quot;StringConstant&quot;,{someKeys:someValues},...]`  \r\n\r\nThe `StringConstant` are all the same and the Objects `{someKeys:someValues}`all have the same keys.  \r\n\r\nBasically the Object `{someKeys:someValues}` can stand on its own or with a leading `StringConstant` and two trailing `StringConstant`  \r\n\r\n \r\n\r\nCurrently I have:  \r\n \r\n\r\n    {\r\n     &quot;type&quot;: &quot;array&quot;,\r\n     &quot;items&quot; : [\r\n          {\r\n           &quot;const&quot;: &quot;first&quot;\r\n          },\r\n          {\r\n           &quot;type&quot;: &quot;object&quot;,\r\n           &quot;properties&quot;:{...}\r\n          },\r\n          {\r\n           &quot;const&quot;: &quot;second&quot;\r\n          },\r\n          {\r\n           &quot;const&quot;: &quot;third&quot;\r\n          }\r\n        ],\r\n     &quot;additionalItems&quot;: false       \r\n    }\r\n\r\nBut this schema requires the constants to always be present.  \r\nIs there a way to define and validate the required structure with JsonSchema?  \r\n\r\nOne possible way I found is to define the array objects as `anyOf` and write the validation for the leading and trailing constants myself.","title":"JsonSchema Array of mixed items in fixed position with only second item required","body":"<p>I need to define a Json Schema which accepts an array. This array can have one of the following structures:<br />\n1: <code>[&quot;StringConstant&quot;,{someKeys:someValues},&quot;StringConstant&quot;,&quot;StringConstant&quot;]</code><br />\n2: <code>[{someKeys:someValues},{someKeys:someValues},...]</code><br />\n3: <code>[&quot;StringConstant&quot;,{someKeys:someValues},&quot;StringConstant&quot;,&quot;StringConstant&quot;,&quot;StringConstant&quot;,{someKeys:someValues},&quot;StringConstant&quot;,&quot;StringConstant&quot;,...]</code><br />\n4: <code>[&quot;StringConstant&quot;,{someKeys:someValues},&quot;StringConstant&quot;,&quot;StringConstant&quot;,{someKeys:someValues},...]</code></p>\n<p>The <code>StringConstant</code> are all the same and the Objects <code>{someKeys:someValues}</code>all have the same keys.</p>\n<p>Basically the Object <code>{someKeys:someValues}</code> can stand on its own or with a leading <code>StringConstant</code> and two trailing <code>StringConstant</code></p>\n<p>Currently I have:</p>\n<pre><code>{\n &quot;type&quot;: &quot;array&quot;,\n &quot;items&quot; : [\n      {\n       &quot;const&quot;: &quot;first&quot;\n      },\n      {\n       &quot;type&quot;: &quot;object&quot;,\n       &quot;properties&quot;:{...}\n      },\n      {\n       &quot;const&quot;: &quot;second&quot;\n      },\n      {\n       &quot;const&quot;: &quot;third&quot;\n      }\n    ],\n &quot;additionalItems&quot;: false       \n}\n</code></pre>\n<p>But this schema requires the constants to always be present.<br />\nIs there a way to define and validate the required structure with JsonSchema?</p>\n<p>One possible way I found is to define the array objects as <code>anyOf</code> and write the validation for the leading and trailing constants myself.</p>\n"},{"tags":["java","spring","kubernetes","curl"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1663846880,"post_id":73813453,"comment_id":130338126,"body_markdown":"Are you using Spring Boot and/or Spring Cloud? If so call the refresh endpoint after changing the configuration (when done in a cluster there should be a queue to listen to for all pods which triggers the refresh).","body":"Are you using Spring Boot and/or Spring Cloud? If so call the refresh endpoint after changing the configuration (when done in a cluster there should be a queue to listen to for all pods which triggers the refresh)."},{"owner":{"account_id":26127878,"reputation":21,"user_id":19819046,"display_name":"Lakshya Jain"},"score":0,"creation_date":1663850019,"post_id":73813453,"comment_id":130339288,"body_markdown":"If I call the refresh endpoint then also request will go to one of the pods only and hence config will get updated for one pod only.\nCan you help me with how I can set up a queue that listens to the request ?","body":"If I call the refresh endpoint then also request will go to one of the pods only and hence config will get updated for one pod only. Can you help me with how I can set up a queue that listens to the request ?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1663850547,"post_id":73813453,"comment_id":130339467,"body_markdown":"That is explained in the Spring Cloud Config guide.","body":"That is explained in the Spring Cloud Config guide."}],"owner":{"account_id":26127878,"reputation":21,"user_id":19819046,"display_name":"Lakshya Jain"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":524,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663936996,"creation_date":1663844503,"question_id":73813453,"body_markdown":"**Problem Statement** - I need to hit a curl on all the kubernetes pods. Currently if I hit the curl with Cname of the service then it will only go to one of the pod which depends on load balancer.\r\nI need to tweak some configuration so need to hit curl on all the running pods of the service.\r\nWe can do it via login into the pods the hit from their but I don&#39;t want to do as in future we won&#39;t be having access to pods.\r\n\r\nI have tried - https://stackoverflow.com/questions/49612412/kubenetes-is-it-possible-to-hit-multiple-pods-with-a-single-request-in-kubernet but no luck here, need to explore more.\r\n\r\nMy use case - I want to change the log level at runtime without deploying the service and that log level should also apply to new pods that will spons up in the future.\r\n\r\nLet me know if you have anything regarding this.","title":"How to hit Curl on all the running pods on Kubernetes of particular service","body":"<p><strong>Problem Statement</strong> - I need to hit a curl on all the kubernetes pods. Currently if I hit the curl with Cname of the service then it will only go to one of the pod which depends on load balancer.\nI need to tweak some configuration so need to hit curl on all the running pods of the service.\nWe can do it via login into the pods the hit from their but I don't want to do as in future we won't be having access to pods.</p>\n<p>I have tried - <a href=\"https://stackoverflow.com/questions/49612412/kubenetes-is-it-possible-to-hit-multiple-pods-with-a-single-request-in-kubernet\">Kubenetes: Is it possible to hit multiple pods with a single request in Kubernetes cluster</a> but no luck here, need to explore more.</p>\n<p>My use case - I want to change the log level at runtime without deploying the service and that log level should also apply to new pods that will spons up in the future.</p>\n<p>Let me know if you have anything regarding this.</p>\n"},{"tags":["java","spring","spring-boot","spring-data"],"answers":[{"tags":[],"owner":{"account_id":1639895,"reputation":1340,"user_id":1512555,"display_name":"alegria"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663936840,"creation_date":1663926396,"answer_id":73825873,"question_id":73813314,"body_markdown":"It seems that the service doesn&#39;t actually stop consuming requests. The succeeding requests were just taking forever in one method being called in the controller. It also seems that the service is not able to do the request because there is no available connection in the PoolingHttpClientConnectionManager. It looked like the requests is not being processed but it&#39;s actually waiting indefinitely to make the request.\r\n\r\nSetting the `logging.level.org.apache.http=DEBUG` in the `application.properties` helped me debug what&#39;s happening. It seems that the HTTP client object built from HttpClients.custom() doesn&#39;t have a default timeout https://www.baeldung.com/httpclient-timeout#timeout-and-dns-round-robin---something-to-be-aware-of\r\n\r\n","title":"Service stops receiving requests after a failure in ExceptionHandler due to ClientAbortException","body":"<p>It seems that the service doesn't actually stop consuming requests. The succeeding requests were just taking forever in one method being called in the controller. It also seems that the service is not able to do the request because there is no available connection in the PoolingHttpClientConnectionManager. It looked like the requests is not being processed but it's actually waiting indefinitely to make the request.</p>\n<p>Setting the <code>logging.level.org.apache.http=DEBUG</code> in the <code>application.properties</code> helped me debug what's happening. It seems that the HTTP client object built from HttpClients.custom() doesn't have a default timeout <a href=\"https://www.baeldung.com/httpclient-timeout#timeout-and-dns-round-robin---something-to-be-aware-of\" rel=\"nofollow noreferrer\">https://www.baeldung.com/httpclient-timeout#timeout-and-dns-round-robin---something-to-be-aware-of</a></p>\n"}],"owner":{"account_id":1639895,"reputation":1340,"user_id":1512555,"display_name":"alegria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":435,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663936840,"creation_date":1663843694,"question_id":73813314,"body_markdown":"I have the following exception handler class\r\n\r\n\r\n```\r\n@ControllerAdvice\r\npublic class ExceptionHandlingAdvice {\r\n\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(ExceptionHandlingAdvice.class);\r\n\r\n    @ResponseStatus(HttpStatus.REQUEST_TIMEOUT)\r\n    @ExceptionHandler(AsyncRequestTimeoutException.class)\r\n    public @ResponseBody ExceptionInfo handleAsyncRequestTimeoutException(HttpServletRequest request, Exception e) {\r\n        LOGGER.error(&quot;Uncaught AsyncRequestTimeoutException&quot;, e);\r\n        return new ExceptionInfo(request.getRequestURL().toString(), e.getLocalizedMessage());\r\n    }\r\n\r\n```\r\n\r\nThe ExceptionInfo is just to capture the specific request URL and error message:\r\n```\r\n@AllArgsConstructor\r\n@Getter\r\npublic class ExceptionInfo {\r\n    private final @NonNull String url;\r\n    private final String exceptionMessage;\r\n}\r\n```\r\n\r\nHowever, when the client aborts the request/reaches the request timeout, I would get the logs below and after some time the service application would stop consuming any further requests. I think the exception is being thrown when the response body is being written, but that happens behind the scenes and adding another handler method for the ClientAbortException doesn&#39;t seem to work. Any idea what&#39;s happening here and how to solve the issue?\r\n\r\n```\r\n@ExceptionHandler(ClientAbortException.class)\r\n    public void handleClientAbortException(ClientAbortException e) {\r\n        LOGGER.warn(&quot;A ClientAbortException has occurred&quot;, e.getMessage());\r\n    }\r\n```\r\n\r\nHere&#39;s the complete stacktrace logs:\r\n```\r\n2022-09-21 15:48:24.323  WARN 1 --- [nio-8084-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Failure in @ExceptionHandler \r\nmy.package.controllers.ExceptionHandlingAdvice#handleAsyncRequestTimeoutException(HttpServletRequest, Exception)\r\n\r\norg.apache.catalina.connector.ClientAbortException: java.io.IOException: The current thread was interrupted\r\n\tat org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:310) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:273) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.apache.catalina.connector.CoyoteOutputStream.flush(CoyoteOutputStream.java:118) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.springframework.security.web.util.OnCommittedResponseWrapper$SaveContextServletOutputStream.flush(OnCommittedResponseWrapper.java:523) ~[spring-security-web-5.4.6.jar!/:5.4.6]\r\n\tat org.springframework.security.web.util.OnCommittedResponseWrapper$SaveContextServletOutputStream.flush(OnCommittedResponseWrapper.java:523) ~[spring-security-web-5.4.6.jar!/:5.4.6]\r\n\tat org.springframework.security.web.util.OnCommittedResponseWrapper$SaveContextServletOutputStream.flush(OnCommittedResponseWrapper.java:523) ~[spring-security-web-5.4.6.jar!/:5.4.6]\r\n\tat java.base/java.io.FilterOutputStream.flush(FilterOutputStream.java:153) ~[na:na]\r\n\tat com.fasterxml.jackson.core.json.UTF8JsonGenerator.flush(UTF8JsonGenerator.java:1178) ~[jackson-core-2.11.4.jar!/:2.11.4]\r\n\tat com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1008) ~[jackson-databind-2.11.4.jar!/:2.11.4]\r\n\tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:454) ~[spring-web-5.3.6.jar!/:5.3.6]\r\n\tat org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:104) ~[spring-web-5.3.6.jar!/:5.3.6]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:290) ~[spring-webmvc-5.3.6.jar!/:5.3.6]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:181) ~[spring-webmvc-5.3.6.jar!/:5.3.6]\r\n\tat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-5.3.6.jar!/:5.3.6]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:124) ~[spring-webmvc-5.3.6.jar!/:5.3.6]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:428) ~[spring-webmvc-5.3.6.jar!/:5.3.6]\r\n\tat org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:75) ~[spring-webmvc-5.3.6.jar!/:5.3.6]\r\n\tat org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:141) ~[spring-webmvc-5.3.6.jar!/:5.3.6]\r\n\tat org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80) ~[spring-webmvc-5.3.6.jar!/:5.3.6]\r\n\tat org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1320) ~[spring-webmvc-5.3.6.jar!/:5.3.6]\r\n\tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1131) ~[spring-webmvc-5.3.6.jar!/:5.3.6]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1077) ~[spring-webmvc-5.3.6.jar!/:5.3.6]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:962) ~[spring-webmvc-5.3.6.jar!/:5.3.6]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.6.jar!/:5.3.6]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.6.jar!/:5.3.6]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:626) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.6.jar!/:5.3.6]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:733) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.4.6.jar!/:5.4.6]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:106) ~[spring-security-web-5.4.6.jar!/:5.4.6]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.4.6.jar!/:5.4.6]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar!/:5.4.6]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.4.6.jar!/:5.4.6]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113) ~[spring-security-web-5.4.6.jar!/:5.4.6]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar!/:5.4.6]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:87) ~[spring-security-web-5.4.6.jar!/:5.4.6]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.4.6.jar!/:5.4.6]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar!/:5.4.6]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105) ~[spring-security-web-5.4.6.jar!/:5.4.6]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar!/:5.4.6]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.4.6.jar!/:5.4.6]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar!/:5.4.6]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.4.6.jar!/:5.4.6]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar!/:5.4.6]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.3.6.jar!/:5.3.6]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar!/:5.4.6]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.4.6.jar!/:5.4.6]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.4.6.jar!/:5.4.6]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar!/:5.4.6]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.3.6.jar!/:5.3.6]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar!/:5.4.6]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.3.6.jar!/:5.3.6]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar!/:5.4.6]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.4.6.jar!/:5.4.6]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.4.6.jar!/:5.4.6]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar!/:5.4.6]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.3.6.jar!/:5.3.6]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar!/:5.4.6]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.4.6.jar!/:5.4.6]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.4.6.jar!/:5.4.6]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.6.jar!/:5.3.6]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.6.jar!/:5.3.6]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.6.jar!/:5.3.6]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.6.jar!/:5.3.6]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.3.6.jar!/:5.3.6]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93) ~[spring-boot-actuator-2.4.5.jar!/:2.4.5]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.6.jar!/:5.3.6]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.3.6.jar!/:5.3.6]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:710) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doDispatch(ApplicationDispatcher.java:631) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.dispatch(ApplicationDispatcher.java:599) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.apache.catalina.core.AsyncContextImpl$AsyncRunnable.run(AsyncContextImpl.java:586) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.apache.catalina.core.AsyncContextImpl.doInternalDispatch(AsyncContextImpl.java:354) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.apache.catalina.valves.RemoteIpValve.invoke(RemoteIpValve.java:764) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.asyncDispatch(CoyoteAdapter.java:249) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.apache.coyote.AbstractProcessor.dispatch(AbstractProcessor.java:241) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1707) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\r\nCaused by: java.io.IOException: The current thread was interrupted\r\n\tat org.apache.tomcat.util.net.NioChannel.checkInterruptStatus(NioChannel.java:236) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.apache.tomcat.util.net.NioChannel.write(NioChannel.java:134) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.apache.tomcat.util.net.NioBlockingSelector.write(NioBlockingSelector.java:118) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.apache.tomcat.util.net.NioSelectorPool.write(NioSelectorPool.java:151) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.doWrite(NioEndpoint.java:1367) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.apache.tomcat.util.net.SocketWrapperBase.doWrite(SocketWrapperBase.java:766) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.apache.tomcat.util.net.SocketWrapperBase.flushBlocking(SocketWrapperBase.java:719) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.apache.tomcat.util.net.SocketWrapperBase.flush(SocketWrapperBase.java:709) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.apache.coyote.http11.Http11OutputBuffer$SocketOutputBuffer.flush(Http11OutputBuffer.java:572) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.apache.coyote.http11.filters.IdentityOutputFilter.flush(IdentityOutputFilter.java:117) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.apache.coyote.http11.Http11OutputBuffer.flush(Http11OutputBuffer.java:220) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.apache.coyote.http11.Http11Processor.flush(Http11Processor.java:1196) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.apache.coyote.AbstractProcessor.action(AbstractProcessor.java:402) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.apache.coyote.Response.action(Response.java:209) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:306) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:273) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.apache.catalina.connector.CoyoteOutputStream.flush(CoyoteOutputStream.java:118) ~[tomcat-embed-core-9.0.45.jar!/:na]\r\n\tat org.springframework.security.web.util.OnCommittedResponseWrapper$SaveContextServletOutputStream.flush(OnCommittedResponseWrapper.java:523) ~[spring-security-web-5.4.6.jar!/:5.4.6]\r\n\tat org.springframework.security.web.util.OnCommittedResponseWrapper$SaveContextServletOutputStream.flush(OnCommittedResponseWrapper.java:523) ~[spring-security-web-5.4.6.jar!/:5.4.6]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.StreamingResponseBodyReturnValueHandler$StreamingResponseBodyTask.call(StreamingResponseBodyReturnValueHandler.java:112) ~[spring-webmvc-5.3.6.jar!/:5.3.6]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.StreamingResponseBodyReturnValueHandler$StreamingResponseBodyTask.call(StreamingResponseBodyReturnValueHandler.java:98) ~[spring-webmvc-5.3.6.jar!/:5.3.6]\r\n\tat org.springframework.web.context.request.async.WebAsyncManager.lambda$startCallableProcessing$4(WebAsyncManager.java:337) ~[spring-web-5.3.6.jar!/:5.3.6]\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\r\n\t... 1 common frames omitted\r\n```","title":"Service stops receiving requests after a failure in ExceptionHandler due to ClientAbortException","body":"<p>I have the following exception handler class</p>\n<pre><code>@ControllerAdvice\npublic class ExceptionHandlingAdvice {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(ExceptionHandlingAdvice.class);\n\n    @ResponseStatus(HttpStatus.REQUEST_TIMEOUT)\n    @ExceptionHandler(AsyncRequestTimeoutException.class)\n    public @ResponseBody ExceptionInfo handleAsyncRequestTimeoutException(HttpServletRequest request, Exception e) {\n        LOGGER.error(&quot;Uncaught AsyncRequestTimeoutException&quot;, e);\n        return new ExceptionInfo(request.getRequestURL().toString(), e.getLocalizedMessage());\n    }\n\n</code></pre>\n<p>The ExceptionInfo is just to capture the specific request URL and error message:</p>\n<pre><code>@AllArgsConstructor\n@Getter\npublic class ExceptionInfo {\n    private final @NonNull String url;\n    private final String exceptionMessage;\n}\n</code></pre>\n<p>However, when the client aborts the request/reaches the request timeout, I would get the logs below and after some time the service application would stop consuming any further requests. I think the exception is being thrown when the response body is being written, but that happens behind the scenes and adding another handler method for the ClientAbortException doesn't seem to work. Any idea what's happening here and how to solve the issue?</p>\n<pre><code>@ExceptionHandler(ClientAbortException.class)\n    public void handleClientAbortException(ClientAbortException e) {\n        LOGGER.warn(&quot;A ClientAbortException has occurred&quot;, e.getMessage());\n    }\n</code></pre>\n<p>Here's the complete stacktrace logs:</p>\n<pre><code>2022-09-21 15:48:24.323  WARN 1 --- [nio-8084-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Failure in @ExceptionHandler \nmy.package.controllers.ExceptionHandlingAdvice#handleAsyncRequestTimeoutException(HttpServletRequest, Exception)\n\norg.apache.catalina.connector.ClientAbortException: java.io.IOException: The current thread was interrupted\n    at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:310) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:273) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.apache.catalina.connector.CoyoteOutputStream.flush(CoyoteOutputStream.java:118) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.springframework.security.web.util.OnCommittedResponseWrapper$SaveContextServletOutputStream.flush(OnCommittedResponseWrapper.java:523) ~[spring-security-web-5.4.6.jar!/:5.4.6]\n    at org.springframework.security.web.util.OnCommittedResponseWrapper$SaveContextServletOutputStream.flush(OnCommittedResponseWrapper.java:523) ~[spring-security-web-5.4.6.jar!/:5.4.6]\n    at org.springframework.security.web.util.OnCommittedResponseWrapper$SaveContextServletOutputStream.flush(OnCommittedResponseWrapper.java:523) ~[spring-security-web-5.4.6.jar!/:5.4.6]\n    at java.base/java.io.FilterOutputStream.flush(FilterOutputStream.java:153) ~[na:na]\n    at com.fasterxml.jackson.core.json.UTF8JsonGenerator.flush(UTF8JsonGenerator.java:1178) ~[jackson-core-2.11.4.jar!/:2.11.4]\n    at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1008) ~[jackson-databind-2.11.4.jar!/:2.11.4]\n    at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:454) ~[spring-web-5.3.6.jar!/:5.3.6]\n    at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:104) ~[spring-web-5.3.6.jar!/:5.3.6]\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:290) ~[spring-webmvc-5.3.6.jar!/:5.3.6]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:181) ~[spring-webmvc-5.3.6.jar!/:5.3.6]\n    at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-5.3.6.jar!/:5.3.6]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:124) ~[spring-webmvc-5.3.6.jar!/:5.3.6]\n    at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:428) ~[spring-webmvc-5.3.6.jar!/:5.3.6]\n    at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:75) ~[spring-webmvc-5.3.6.jar!/:5.3.6]\n    at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:141) ~[spring-webmvc-5.3.6.jar!/:5.3.6]\n    at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80) ~[spring-webmvc-5.3.6.jar!/:5.3.6]\n    at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1320) ~[spring-webmvc-5.3.6.jar!/:5.3.6]\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1131) ~[spring-webmvc-5.3.6.jar!/:5.3.6]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1077) ~[spring-webmvc-5.3.6.jar!/:5.3.6]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:962) ~[spring-webmvc-5.3.6.jar!/:5.3.6]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.6.jar!/:5.3.6]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.6.jar!/:5.3.6]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:626) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.6.jar!/:5.3.6]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:733) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.4.6.jar!/:5.4.6]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:106) ~[spring-security-web-5.4.6.jar!/:5.4.6]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.4.6.jar!/:5.4.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar!/:5.4.6]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.4.6.jar!/:5.4.6]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113) ~[spring-security-web-5.4.6.jar!/:5.4.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar!/:5.4.6]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:87) ~[spring-security-web-5.4.6.jar!/:5.4.6]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.4.6.jar!/:5.4.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar!/:5.4.6]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105) ~[spring-security-web-5.4.6.jar!/:5.4.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar!/:5.4.6]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.4.6.jar!/:5.4.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar!/:5.4.6]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.4.6.jar!/:5.4.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar!/:5.4.6]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.3.6.jar!/:5.3.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar!/:5.4.6]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.4.6.jar!/:5.4.6]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.4.6.jar!/:5.4.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar!/:5.4.6]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.3.6.jar!/:5.3.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar!/:5.4.6]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.3.6.jar!/:5.3.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar!/:5.4.6]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.4.6.jar!/:5.4.6]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.4.6.jar!/:5.4.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar!/:5.4.6]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.3.6.jar!/:5.3.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar!/:5.4.6]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.4.6.jar!/:5.4.6]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.4.6.jar!/:5.4.6]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.6.jar!/:5.3.6]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.6.jar!/:5.3.6]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.6.jar!/:5.3.6]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.6.jar!/:5.3.6]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.3.6.jar!/:5.3.6]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93) ~[spring-boot-actuator-2.4.5.jar!/:2.4.5]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.6.jar!/:5.3.6]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.3.6.jar!/:5.3.6]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:710) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.apache.catalina.core.ApplicationDispatcher.doDispatch(ApplicationDispatcher.java:631) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.apache.catalina.core.ApplicationDispatcher.dispatch(ApplicationDispatcher.java:599) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.apache.catalina.core.AsyncContextImpl$AsyncRunnable.run(AsyncContextImpl.java:586) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.apache.catalina.core.AsyncContextImpl.doInternalDispatch(AsyncContextImpl.java:354) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.apache.catalina.valves.RemoteIpValve.invoke(RemoteIpValve.java:764) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.apache.catalina.connector.CoyoteAdapter.asyncDispatch(CoyoteAdapter.java:249) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.apache.coyote.AbstractProcessor.dispatch(AbstractProcessor.java:241) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1707) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\nCaused by: java.io.IOException: The current thread was interrupted\n    at org.apache.tomcat.util.net.NioChannel.checkInterruptStatus(NioChannel.java:236) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.apache.tomcat.util.net.NioChannel.write(NioChannel.java:134) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.apache.tomcat.util.net.NioBlockingSelector.write(NioBlockingSelector.java:118) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.apache.tomcat.util.net.NioSelectorPool.write(NioSelectorPool.java:151) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.doWrite(NioEndpoint.java:1367) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.apache.tomcat.util.net.SocketWrapperBase.doWrite(SocketWrapperBase.java:766) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.apache.tomcat.util.net.SocketWrapperBase.flushBlocking(SocketWrapperBase.java:719) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.apache.tomcat.util.net.SocketWrapperBase.flush(SocketWrapperBase.java:709) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.apache.coyote.http11.Http11OutputBuffer$SocketOutputBuffer.flush(Http11OutputBuffer.java:572) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.apache.coyote.http11.filters.IdentityOutputFilter.flush(IdentityOutputFilter.java:117) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.apache.coyote.http11.Http11OutputBuffer.flush(Http11OutputBuffer.java:220) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.apache.coyote.http11.Http11Processor.flush(Http11Processor.java:1196) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.apache.coyote.AbstractProcessor.action(AbstractProcessor.java:402) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.apache.coyote.Response.action(Response.java:209) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:306) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:273) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.apache.catalina.connector.CoyoteOutputStream.flush(CoyoteOutputStream.java:118) ~[tomcat-embed-core-9.0.45.jar!/:na]\n    at org.springframework.security.web.util.OnCommittedResponseWrapper$SaveContextServletOutputStream.flush(OnCommittedResponseWrapper.java:523) ~[spring-security-web-5.4.6.jar!/:5.4.6]\n    at org.springframework.security.web.util.OnCommittedResponseWrapper$SaveContextServletOutputStream.flush(OnCommittedResponseWrapper.java:523) ~[spring-security-web-5.4.6.jar!/:5.4.6]\n    at org.springframework.web.servlet.mvc.method.annotation.StreamingResponseBodyReturnValueHandler$StreamingResponseBodyTask.call(StreamingResponseBodyReturnValueHandler.java:112) ~[spring-webmvc-5.3.6.jar!/:5.3.6]\n    at org.springframework.web.servlet.mvc.method.annotation.StreamingResponseBodyReturnValueHandler$StreamingResponseBodyTask.call(StreamingResponseBodyReturnValueHandler.java:98) ~[spring-webmvc-5.3.6.jar!/:5.3.6]\n    at org.springframework.web.context.request.async.WebAsyncManager.lambda$startCallableProcessing$4(WebAsyncManager.java:337) ~[spring-web-5.3.6.jar!/:5.3.6]\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\n    ... 1 common frames omitted\n</code></pre>\n"},{"tags":["java","selenium","salesforce"],"answers":[{"tags":[],"owner":{"account_id":10001672,"reputation":511,"user_id":7397403,"display_name":"ketanvj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663936512,"creation_date":1663936512,"answer_id":73827823,"question_id":73826863,"body_markdown":"@Mansi Palav, Since I do not have the entire web page, not able to debug why it is not selecting the first one. But you can get all the elements at one go without using for loop as given below. Let me know if this works:\r\n\r\n\tList&lt;WebElement&gt; regions = driver.findElements(By.xpath(&quot;//ul[@role=&#39;listbox&#39;]/li/div&quot;));\r\n\r\n\tActions actions = new Actions(driver);\r\n\tactions.keyDown(Keys.LEFT_CONTROL).click(regions.get(0)).click(regions.get(1)).click(regions.get(3))\r\n\t\t\t.keyUp(Keys.LEFT_CONTROL).build().perform();\r\n\r\nYou will have to add the following import:\r\n\r\n    import java.util.List;\r\n\r\n","title":"Unable to select the very first option of multi-select values which are being passed","body":"<p>@Mansi Palav, Since I do not have the entire web page, not able to debug why it is not selecting the first one. But you can get all the elements at one go without using for loop as given below. Let me know if this works:</p>\n<pre><code>List&lt;WebElement&gt; regions = driver.findElements(By.xpath(&quot;//ul[@role='listbox']/li/div&quot;));\n\nActions actions = new Actions(driver);\nactions.keyDown(Keys.LEFT_CONTROL).click(regions.get(0)).click(regions.get(1)).click(regions.get(3))\n        .keyUp(Keys.LEFT_CONTROL).build().perform();\n</code></pre>\n<p>You will have to add the following import:</p>\n<pre><code>import java.util.List;\n</code></pre>\n"}],"owner":{"account_id":26019576,"reputation":11,"user_id":19727457,"display_name":"Mansi Palav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663936512,"creation_date":1663931678,"question_id":73826863,"body_markdown":"I am trying to select multiple values in a multi select picklist. I am able to select the multiple values but the very first value which is being passed is not selected.\r\n\r\nHTML CODE:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;ul lightning-duallistbox_duallistbox=&quot;&quot; class=&quot;slds-listbox slds-listbox_vertical&quot; data-source-list=&quot;&quot; id=&quot;source-list-315&quot; aria-describedby=&quot;keyboard-interacton-315&quot; aria-labelledby=&quot;source-list-label-315&quot; aria-multiselectable=&quot;true&quot; role=&quot;listbox&quot;\r\n      aria-disabled=&quot;false&quot;&gt;\r\n      &lt;li lightning-duallistbox_duallistbox=&quot;&quot; class=&quot;slds-listbox__item&quot; role=&quot;presentation&quot;&gt;\r\n        &lt;div lightning-duallistbox_duallistbox=&quot;&quot; class=&quot;slds-listbox__option slds-listbox__option_plain slds-media slds-media_small slds-media_inline&quot; aria-selected=&quot;false&quot; role=&quot;option&quot; tabindex=&quot;0&quot; data-index=&quot;0&quot; data-value=&quot;APAC&quot;&gt;&lt;span lightning-duallistbox_duallistbox=&quot;&quot; class=&quot;slds-media__body&quot;&gt;&lt;span lightning-duallistbox_duallistbox=&quot;&quot; class=&quot;slds-truncate&quot; title=&quot;APAC&quot;&gt;APAC&lt;/span&gt;&lt;/span&gt;\r\n        &lt;/div&gt;\r\n      &lt;/li&gt;\r\n      &lt;li lightning-duallistbox_duallistbox=&quot;&quot; class=&quot;slds-listbox__item&quot; role=&quot;presentation&quot;&gt;\r\n        &lt;div lightning-duallistbox_duallistbox=&quot;&quot; class=&quot;slds-listbox__option slds-listbox__option_plain slds-media slds-media_small slds-media_inline&quot; aria-selected=&quot;false&quot; role=&quot;option&quot; tabindex=&quot;-1&quot; data-index=&quot;1&quot; data-value=&quot;EMEA&quot;&gt;&lt;span lightning-duallistbox_duallistbox=&quot;&quot; class=&quot;slds-media__body&quot;&gt;&lt;span lightning-duallistbox_duallistbox=&quot;&quot; class=&quot;slds-truncate&quot; title=&quot;EMEA&quot;&gt;EMEA&lt;/span&gt;&lt;/span&gt;\r\n        &lt;/div&gt;\r\n      &lt;/li&gt;\r\n      &lt;li lightning-duallistbox_duallistbox=&quot;&quot; class=&quot;slds-listbox__item&quot; role=&quot;presentation&quot;&gt;\r\n        &lt;div lightning-duallistbox_duallistbox=&quot;&quot; class=&quot;slds-listbox__option slds-listbox__option_plain slds-media slds-media_small slds-media_inline&quot; aria-selected=&quot;false&quot; role=&quot;option&quot; tabindex=&quot;-1&quot; data-index=&quot;2&quot; data-value=&quot;LATAM&quot;&gt;&lt;span lightning-duallistbox_duallistbox=&quot;&quot; class=&quot;slds-media__body&quot;&gt;&lt;span lightning-duallistbox_duallistbox=&quot;&quot; class=&quot;slds-truncate&quot; title=&quot;LATAM&quot;&gt;LATAM&lt;/span&gt;&lt;/span&gt;\r\n        &lt;/div&gt;\r\n      &lt;/li&gt;\r\n      &lt;li lightning-duallistbox_duallistbox=&quot;&quot; class=&quot;slds-listbox__item&quot; role=&quot;presentation&quot;&gt;\r\n        &lt;div lightning-duallistbox_duallistbox=&quot;&quot; class=&quot;slds-listbox__option slds-listbox__option_plain slds-media slds-media_small slds-media_inline&quot; aria-selected=&quot;false&quot; role=&quot;option&quot; tabindex=&quot;-1&quot; data-index=&quot;3&quot; data-value=&quot;US&quot;&gt;&lt;span lightning-duallistbox_duallistbox=&quot;&quot; class=&quot;slds-media__body&quot;&gt;&lt;span lightning-duallistbox_duallistbox=&quot;&quot; class=&quot;slds-truncate&quot; title=&quot;US&quot;&gt;US&lt;/span&gt;&lt;/span&gt;\r\n        &lt;/div&gt;\r\n      &lt;/li&gt;\r\n      &lt;li lightning-duallistbox_duallistbox=&quot;&quot; class=&quot;slds-listbox__item&quot; role=&quot;presentation&quot;&gt;\r\n        &lt;div lightning-duallistbox_duallistbox=&quot;&quot; class=&quot;slds-listbox__option slds-listbox__option_plain slds-media slds-media_small slds-media_inline&quot; aria-selected=&quot;false&quot; role=&quot;option&quot; tabindex=&quot;-1&quot; data-index=&quot;4&quot; data-value=&quot;Canada&quot;&gt;&lt;span lightning-duallistbox_duallistbox=&quot;&quot; class=&quot;slds-media__body&quot;&gt;&lt;span lightning-duallistbox_duallistbox=&quot;&quot; class=&quot;slds-truncate&quot; title=&quot;Canada&quot;&gt;Canada&lt;/span&gt;&lt;/span&gt;\r\n        &lt;/div&gt;\r\n      &lt;/li&gt;\r\n    &lt;/ul&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n    //Code written by me.\r\n    List&lt;WebElement&gt; options = new ArrayList&lt;WebElement&gt;();\r\n\tfor(int i=1;i&lt;=5;i++) {\r\n\t\tWebElement region = driver.findElement(By.xpath(&quot;//ul[@role=\\&quot;listbox\\&quot;]/li[&quot;+i+&quot;]/div&quot;));\r\n\t\toptions.add(region);\r\n\t\tregion = null;\r\n\t}\r\n\r\n    Actions actions = new Actions(driver);\r\n    \tactions.keyDown(Keys.LEFT_CONTROL)\r\n    \t    .click(options.get(0))\r\n    \t    .click(options.get(1))\r\n    \t    .click(options.get(3))\r\n    \t    .keyUp(Keys.LEFT_CONTROL)\r\n    \t    .build()\r\n    \t    .perform();\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qDmsa.png\r\n\r\nThe first value i.e  .click(options.get(0)) is not selected.\r\n\r\nCan someone help me over here as I am stuck in this.\r\n\r\nThank You ","title":"Unable to select the very first option of multi-select values which are being passed","body":"<p>I am trying to select multiple values in a multi select picklist. I am able to select the multiple values but the very first value which is being passed is not selected.</p>\n<p>HTML CODE:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;ul lightning-duallistbox_duallistbox=\"\" class=\"slds-listbox slds-listbox_vertical\" data-source-list=\"\" id=\"source-list-315\" aria-describedby=\"keyboard-interacton-315\" aria-labelledby=\"source-list-label-315\" aria-multiselectable=\"true\" role=\"listbox\"\n  aria-disabled=\"false\"&gt;\n  &lt;li lightning-duallistbox_duallistbox=\"\" class=\"slds-listbox__item\" role=\"presentation\"&gt;\n    &lt;div lightning-duallistbox_duallistbox=\"\" class=\"slds-listbox__option slds-listbox__option_plain slds-media slds-media_small slds-media_inline\" aria-selected=\"false\" role=\"option\" tabindex=\"0\" data-index=\"0\" data-value=\"APAC\"&gt;&lt;span lightning-duallistbox_duallistbox=\"\" class=\"slds-media__body\"&gt;&lt;span lightning-duallistbox_duallistbox=\"\" class=\"slds-truncate\" title=\"APAC\"&gt;APAC&lt;/span&gt;&lt;/span&gt;\n    &lt;/div&gt;\n  &lt;/li&gt;\n  &lt;li lightning-duallistbox_duallistbox=\"\" class=\"slds-listbox__item\" role=\"presentation\"&gt;\n    &lt;div lightning-duallistbox_duallistbox=\"\" class=\"slds-listbox__option slds-listbox__option_plain slds-media slds-media_small slds-media_inline\" aria-selected=\"false\" role=\"option\" tabindex=\"-1\" data-index=\"1\" data-value=\"EMEA\"&gt;&lt;span lightning-duallistbox_duallistbox=\"\" class=\"slds-media__body\"&gt;&lt;span lightning-duallistbox_duallistbox=\"\" class=\"slds-truncate\" title=\"EMEA\"&gt;EMEA&lt;/span&gt;&lt;/span&gt;\n    &lt;/div&gt;\n  &lt;/li&gt;\n  &lt;li lightning-duallistbox_duallistbox=\"\" class=\"slds-listbox__item\" role=\"presentation\"&gt;\n    &lt;div lightning-duallistbox_duallistbox=\"\" class=\"slds-listbox__option slds-listbox__option_plain slds-media slds-media_small slds-media_inline\" aria-selected=\"false\" role=\"option\" tabindex=\"-1\" data-index=\"2\" data-value=\"LATAM\"&gt;&lt;span lightning-duallistbox_duallistbox=\"\" class=\"slds-media__body\"&gt;&lt;span lightning-duallistbox_duallistbox=\"\" class=\"slds-truncate\" title=\"LATAM\"&gt;LATAM&lt;/span&gt;&lt;/span&gt;\n    &lt;/div&gt;\n  &lt;/li&gt;\n  &lt;li lightning-duallistbox_duallistbox=\"\" class=\"slds-listbox__item\" role=\"presentation\"&gt;\n    &lt;div lightning-duallistbox_duallistbox=\"\" class=\"slds-listbox__option slds-listbox__option_plain slds-media slds-media_small slds-media_inline\" aria-selected=\"false\" role=\"option\" tabindex=\"-1\" data-index=\"3\" data-value=\"US\"&gt;&lt;span lightning-duallistbox_duallistbox=\"\" class=\"slds-media__body\"&gt;&lt;span lightning-duallistbox_duallistbox=\"\" class=\"slds-truncate\" title=\"US\"&gt;US&lt;/span&gt;&lt;/span&gt;\n    &lt;/div&gt;\n  &lt;/li&gt;\n  &lt;li lightning-duallistbox_duallistbox=\"\" class=\"slds-listbox__item\" role=\"presentation\"&gt;\n    &lt;div lightning-duallistbox_duallistbox=\"\" class=\"slds-listbox__option slds-listbox__option_plain slds-media slds-media_small slds-media_inline\" aria-selected=\"false\" role=\"option\" tabindex=\"-1\" data-index=\"4\" data-value=\"Canada\"&gt;&lt;span lightning-duallistbox_duallistbox=\"\" class=\"slds-media__body\"&gt;&lt;span lightning-duallistbox_duallistbox=\"\" class=\"slds-truncate\" title=\"Canada\"&gt;Canada&lt;/span&gt;&lt;/span&gt;\n    &lt;/div&gt;\n  &lt;/li&gt;\n&lt;/ul&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<pre><code>//Code written by me.\nList&lt;WebElement&gt; options = new ArrayList&lt;WebElement&gt;();\nfor(int i=1;i&lt;=5;i++) {\n    WebElement region = driver.findElement(By.xpath(&quot;//ul[@role=\\&quot;listbox\\&quot;]/li[&quot;+i+&quot;]/div&quot;));\n    options.add(region);\n    region = null;\n}\n\nActions actions = new Actions(driver);\n    actions.keyDown(Keys.LEFT_CONTROL)\n        .click(options.get(0))\n        .click(options.get(1))\n        .click(options.get(3))\n        .keyUp(Keys.LEFT_CONTROL)\n        .build()\n        .perform();\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/qDmsa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qDmsa.png\" alt=\"enter image description here\" /></a></p>\n<p>The first value i.e  .click(options.get(0)) is not selected.</p>\n<p>Can someone help me over here as I am stuck in this.</p>\n<p>Thank You</p>\n"},{"tags":["java","slack","slack-api","bolt","slack-bot"],"owner":{"account_id":458224,"reputation":37507,"user_id":857994,"accept_rate":97,"display_name":"John Humphreys"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":465,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1663936451,"creation_date":1663936451,"question_id":73827813,"body_markdown":"I have a Slack Bolt Java SDK bot (based on Spring Boot) and am using the `app.message()` function.  It is documented in the events API here - https://slack.dev/java-slack-sdk/guides/events-api.\r\n\r\nThe function seems to take in a regex and a handler, so you can basically say &quot;if a user says a message with the word hello, do XYZ&quot;.\r\n\r\nI have this working fine.\r\n\r\nWhen I try to have more than one message handler though, even with different regex, they seem to stomp on each other.  Stepping into the slack code, it seems like the handlers are held in a map of handler-type-string (e.g. &quot;message&quot;) to handler.\r\n\r\nSo, the SDK really looks like it&#39;s designed to let you have a bunch of app.message(&quot;regex&quot;, handler) events, but it doesn&#39;t seem to work in practice *and* I can&#39;t find that limitation in their documentation.\r\n\r\nAm I missing something / doing something wrong?  Or do I literally need a single &quot;.*&quot; regex if I need a bot to watch all messages in its channels?  It seems very unlikely any significant bot would only care to watch one single regex across all of its channels, so this seems like an odd limitation. \r\n\r\n\r\n","title":"Slack Bolt Java SDK - multiple app.message events with different regex stomp on each other","body":"<p>I have a Slack Bolt Java SDK bot (based on Spring Boot) and am using the <code>app.message()</code> function.  It is documented in the events API here - <a href=\"https://slack.dev/java-slack-sdk/guides/events-api\" rel=\"nofollow noreferrer\">https://slack.dev/java-slack-sdk/guides/events-api</a>.</p>\n<p>The function seems to take in a regex and a handler, so you can basically say &quot;if a user says a message with the word hello, do XYZ&quot;.</p>\n<p>I have this working fine.</p>\n<p>When I try to have more than one message handler though, even with different regex, they seem to stomp on each other.  Stepping into the slack code, it seems like the handlers are held in a map of handler-type-string (e.g. &quot;message&quot;) to handler.</p>\n<p>So, the SDK really looks like it's designed to let you have a bunch of app.message(&quot;regex&quot;, handler) events, but it doesn't seem to work in practice <em>and</em> I can't find that limitation in their documentation.</p>\n<p>Am I missing something / doing something wrong?  Or do I literally need a single &quot;.*&quot; regex if I need a bot to watch all messages in its channels?  It seems very unlikely any significant bot would only care to watch one single regex across all of its channels, so this seems like an odd limitation.</p>\n"},{"tags":["java","priority-queue","treemap"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1282242481,"post_id":3524862,"comment_id":3686967,"body_markdown":"Note that a `TreeMap` does **not** require you to remove and reinsert a key to update its value.  A `put(key, value)` call will update the value for a key if it (or an &quot;equal&quot; key value) is already in the map.","body":"Note that a <code>TreeMap</code> does <b>not</b> require you to remove and reinsert a key to update its value.  A <code>put(key, value)</code> call will update the value for a key if it (or an &quot;equal&quot; key value) is already in the map."},{"owner":{"account_id":628562,"reputation":997,"user_id":383330,"accept_rate":62,"display_name":"iceburn"},"score":0,"creation_date":1282243087,"post_id":3524862,"comment_id":3687083,"body_markdown":"hmm, then that means i can&#39;t have values with the same key, whereas in a priority queue i think i can.","body":"hmm, then that means i can&#39;t have values with the same key, whereas in a priority queue i think i can."},{"owner":{"account_id":27414,"reputation":4401,"user_id":72369,"accept_rate":92,"display_name":"Juan Besa"},"score":0,"creation_date":1282250734,"post_id":3524862,"comment_id":3688432,"body_markdown":"You can use a custom comparator to solve this and wrap your key in an object (maybe solve ties by edge id for example.)","body":"You can use a custom comparator to solve this and wrap your key in an object (maybe solve ties by edge id for example.)"}],"answers":[{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":56,"is_accepted":true,"score":56,"last_activity_date":1282241737,"creation_date":1282241737,"answer_id":3524893,"question_id":3524862,"body_markdown":"Generally speaking, it is less work to track only the minimum element, using a heap.\r\n\r\nA tree is more organized, and it requires more computation to maintain that organization. But if you need to access *any* key, and not just the minimum, a heap will not suffice, and the extra overhead of the tree is justified.","title":"When should I use a TreeMap over a PriorityQueue and vice versa?","body":"<p>Generally speaking, it is less work to track only the minimum element, using a heap.</p>\n\n<p>A tree is more organized, and it requires more computation to maintain that organization. But if you need to access <em>any</em> key, and not just the minimum, a heap will not suffice, and the extra overhead of the tree is justified.</p>\n"},{"tags":[],"owner":{"account_id":27414,"reputation":4401,"user_id":72369,"accept_rate":92,"display_name":"Juan Besa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1282311938,"creation_date":1282311938,"answer_id":3531410,"question_id":3524862,"body_markdown":"It depends on how you implement you Priority Queue. According to Cormen&#39;s book 2nd ed the fastest result is with a Fibonacci Heap. ","title":"When should I use a TreeMap over a PriorityQueue and vice versa?","body":"<p>It depends on how you implement you Priority Queue. According to Cormen's book 2nd ed the fastest result is with a Fibonacci Heap. </p>\n"},{"tags":[],"owner":{"account_id":21620,"reputation":2451,"user_id":52687,"accept_rate":80,"display_name":"Andrew McKinlay"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1429799082,"creation_date":1429799082,"answer_id":29826374,"question_id":3524862,"body_markdown":"One of the differences is that remove(Object) and contains(Object) are linear O(N) in a normal heap based PriorityQueue (like Oracle&#39;s), but O(log(N)) for a TreeSet/Map.\r\n\r\nSo if you have a large number of elements and do a lot of remove(Object) or contains(Object), then a TreeSet/Map may be faster.\r\n","title":"When should I use a TreeMap over a PriorityQueue and vice versa?","body":"<p>One of the differences is that remove(Object) and contains(Object) are linear O(N) in a normal heap based PriorityQueue (like Oracle's), but O(log(N)) for a TreeSet/Map.</p>\n\n<p>So if you have a large number of elements and do a lot of remove(Object) or contains(Object), then a TreeSet/Map may be faster.</p>\n"},{"tags":[],"owner":{"account_id":6836612,"reputation":141,"user_id":5258310,"display_name":"Leo Yee"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1519329795,"creation_date":1440373993,"answer_id":32172727,"question_id":3524862,"body_markdown":"Totally agree with Erickson on that priority queue only gives you the minimum/maximum element.\r\n\r\nIn addition, because the priority queue is less powerful in maintaining the total order of the data, it has the advantage in some special cases. If you want to track the biggest `M` elements in an array of `N`, the time complexity would be `O(N*LogM)` and the space complexity would be `O(M)`.  But if you do it in a map, the time complexity is `O(N*logN)` and the space is `O(N)`.  This is quite fundamental while we must use priority queue in some cases for example `M` is just a constant like 10.\r\n\r\n","title":"When should I use a TreeMap over a PriorityQueue and vice versa?","body":"<p>Totally agree with Erickson on that priority queue only gives you the minimum/maximum element.</p>\n\n<p>In addition, because the priority queue is less powerful in maintaining the total order of the data, it has the advantage in some special cases. If you want to track the biggest <code>M</code> elements in an array of <code>N</code>, the time complexity would be <code>O(N*LogM)</code> and the space complexity would be <code>O(M)</code>.  But if you do it in a map, the time complexity is <code>O(N*logN)</code> and the space is <code>O(N)</code>.  This is quite fundamental while we must use priority queue in some cases for example <code>M</code> is just a constant like 10.</p>\n"},{"tags":[],"owner":{"account_id":2887305,"reputation":8065,"user_id":2495795,"accept_rate":87,"display_name":"BufBills"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1562506027,"creation_date":1444761382,"answer_id":33110158,"question_id":3524862,"body_markdown":"Rule of thumb about it is:\r\n\r\nTreeMap maintains all elements orderly. (So intuitively, it takes time to construct it)\r\n\r\nPriorityQueue only guarantees min or max. It&#39;s less expensive but less powerful.","title":"When should I use a TreeMap over a PriorityQueue and vice versa?","body":"<p>Rule of thumb about it is:</p>\n\n<p>TreeMap maintains all elements orderly. (So intuitively, it takes time to construct it)</p>\n\n<p>PriorityQueue only guarantees min or max. It's less expensive but less powerful.</p>\n"},{"tags":[],"owner":{"account_id":3043403,"reputation":351,"user_id":2579802,"display_name":"Generic Person"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1468527552,"creation_date":1468527552,"answer_id":38383565,"question_id":3524862,"body_markdown":"\r\nThere are 2 differences I would like to point out (and this may be more relevant to https://stackoverflow.com/questions/16488104/difference-between-priorityqueue-and-treeset-in-java?noredirect=1&amp;lq=1 as that question is deemed a dup of this question).\r\n\r\n(1) PriorityQueue can have duplicates where as TreeSet can NOT have dups. So in Treeset, if your comparator deems 2 elements as equal, TreeSet will keep only one of those 2 elements and throw away the other one.\r\n\r\n(2) TreeSet iterator traverses the collection in a sorted order, whereas PriorityQueue iterator does NOT traverse in sorted order. For PriorityQueue If you want to get the items in sorted order, you have to destroy the queue by calling remove() repeatedly.\r\n\r\n\r\nI am assuming that the discussion is limited to Java&#39;s implementation of these data structures.\r\n","title":"When should I use a TreeMap over a PriorityQueue and vice versa?","body":"<p>There are 2 differences I would like to point out (and this may be more relevant to <a href=\"https://stackoverflow.com/questions/16488104/difference-between-priorityqueue-and-treeset-in-java?noredirect=1&amp;lq=1\">Difference between PriorityQueue and TreeSet in Java?</a> as that question is deemed a dup of this question).</p>\n\n<p>(1) PriorityQueue can have duplicates where as TreeSet can NOT have dups. So in Treeset, if your comparator deems 2 elements as equal, TreeSet will keep only one of those 2 elements and throw away the other one.</p>\n\n<p>(2) TreeSet iterator traverses the collection in a sorted order, whereas PriorityQueue iterator does NOT traverse in sorted order. For PriorityQueue If you want to get the items in sorted order, you have to destroy the queue by calling remove() repeatedly.</p>\n\n<p>I am assuming that the discussion is limited to Java's implementation of these data structures.</p>\n"},{"tags":[],"owner":{"account_id":3125702,"reputation":595,"user_id":2644597,"accept_rate":50,"display_name":"Dushyant Sapra"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1497724032,"creation_date":1497719967,"answer_id":44607359,"question_id":3524862,"body_markdown":"It all depends what you want to achieve. Here are the main points to consider before you choose one over other.\r\n\r\n1. PriorityQueue Allows Duplicate(i.e with same priority) while TreeMap doesn&#39;t.\r\n2. Complexity of PriorityQueue is O(n)(when is increases its size), while that of TreeMap is O(logn)(as it is based on Red Black Tree)\r\n3. PriorityQueue is based on Array while in TreeMap nodes are linked to each other, so contains method of PriorityQueue would take O(n) time while TreeMap would take O(logn) time.","title":"When should I use a TreeMap over a PriorityQueue and vice versa?","body":"<p>It all depends what you want to achieve. Here are the main points to consider before you choose one over other.</p>\n\n<ol>\n<li>PriorityQueue Allows Duplicate(i.e with same priority) while TreeMap doesn't.</li>\n<li>Complexity of PriorityQueue is O(n)(when is increases its size), while that of TreeMap is O(logn)(as it is based on Red Black Tree)</li>\n<li>PriorityQueue is based on Array while in TreeMap nodes are linked to each other, so contains method of PriorityQueue would take O(n) time while TreeMap would take O(logn) time.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3004149,"reputation":711,"user_id":2548990,"accept_rate":29,"display_name":"abhilash_goyal"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1580800027,"creation_date":1580800027,"answer_id":60052230,"question_id":3524862,"body_markdown":"I may be late to this answer but still.\r\n\r\nThey have their own use-cases, in which either one of them is a clear winner.\r\n\r\nFor Example:\r\n\r\n1: https://leetcode.com/problems/my-calendar-i TreeMap is the one you are looking at\r\n\r\n2: https://leetcode.com/problems/top-k-frequent-words you don&#39;t need the overhead of keys and values. \r\n\r\nSo my answer would be, look at the use-case, and see if that could be done without key and value, if yes, go for PQueue else move to TreeMap.\r\n","title":"When should I use a TreeMap over a PriorityQueue and vice versa?","body":"<p>I may be late to this answer but still.</p>\n\n<p>They have their own use-cases, in which either one of them is a clear winner.</p>\n\n<p>For Example:</p>\n\n<p>1: <a href=\"https://leetcode.com/problems/my-calendar-i\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/my-calendar-i</a> TreeMap is the one you are looking at</p>\n\n<p>2: <a href=\"https://leetcode.com/problems/top-k-frequent-words\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/top-k-frequent-words</a> you don't need the overhead of keys and values. </p>\n\n<p>So my answer would be, look at the use-case, and see if that could be done without key and value, if yes, go for PQueue else move to TreeMap.</p>\n"},{"tags":[],"owner":{"account_id":4842437,"reputation":119,"user_id":3907124,"display_name":"Gil Shapir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630094196,"creation_date":1630094196,"answer_id":68958773,"question_id":3524862,"body_markdown":"I find TreeMap to be useful, when there is a need to do something like:\r\n\r\n - find the minimal/least key, which is greater equal some value, using **ceilingKey()**  \r\n - find the maximum/greatest key, which is less equal some value, using **floorKey()**\r\n\r\nIf the above is not required, and it&#39;s mostly about having a quick option to retrieve the min/max - PriorityQueue might be preferred. \r\n\r\n \r\n\r\n\r\n ","title":"When should I use a TreeMap over a PriorityQueue and vice versa?","body":"<p>I find TreeMap to be useful, when there is a need to do something like:</p>\n<ul>\n<li>find the minimal/least key, which is greater equal some value, using <strong>ceilingKey()</strong></li>\n<li>find the maximum/greatest key, which is less equal some value, using <strong>floorKey()</strong></li>\n</ul>\n<p>If the above is not required, and it's mostly about having a quick option to retrieve the min/max - PriorityQueue might be preferred.</p>\n"},{"tags":[],"owner":{"account_id":19724039,"reputation":60,"user_id":14723273,"display_name":"cmhzc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645758856,"creation_date":1645758856,"answer_id":71260605,"question_id":3524862,"body_markdown":"Their difference on time complexity is stated clearly in Erickson&#39;s answer.\r\n\r\nOn space complexity, although a heap and a TreeMap both take O(n) space complexity, building them in actual programs takes up different amount of space and effort. \r\n\r\nSay if you have an array of numbers, you can build a heap **in place** with O(n) time and constant extra space. If you build a TreeMap based on the given array, you need O(nlogn) time and O(n) extra space to accomplish that.","title":"When should I use a TreeMap over a PriorityQueue and vice versa?","body":"<p>Their difference on time complexity is stated clearly in Erickson's answer.</p>\n<p>On space complexity, although a heap and a TreeMap both take O(n) space complexity, building them in actual programs takes up different amount of space and effort.</p>\n<p>Say if you have an array of numbers, you can build a heap <strong>in place</strong> with O(n) time and constant extra space. If you build a TreeMap based on the given array, you need O(nlogn) time and O(n) extra space to accomplish that.</p>\n"},{"tags":[],"owner":{"account_id":3795830,"reputation":6437,"user_id":3150948,"accept_rate":70,"display_name":"Amer Qarabsa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663935757,"creation_date":1663935757,"answer_id":73827673,"question_id":3524862,"body_markdown":"One more thing to take into consideration, PriorityQueue offers an api which return the max/min value without removing it, the time complexity is O(1) while for a TreeMap this will still cost you O(logn)\r\n\r\nThis could be clear advantage in case  of readonly cases where you are only interested in the top end value.","title":"When should I use a TreeMap over a PriorityQueue and vice versa?","body":"<p>One more thing to take into consideration, PriorityQueue offers an api which return the max/min value without removing it, the time complexity is O(1) while for a TreeMap this will still cost you O(logn)</p>\n<p>This could be clear advantage in case  of readonly cases where you are only interested in the top end value.</p>\n"}],"owner":{"account_id":628562,"reputation":997,"user_id":383330,"accept_rate":62,"display_name":"iceburn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27908,"favorite_count":0,"down_vote_count":0,"up_vote_count":54,"accepted_answer_id":3524893,"answer_count":11,"score":54,"last_activity_date":1663935757,"creation_date":1282241525,"question_id":3524862,"body_markdown":"Seems they both let you retrieve the minimum, which is what I need for Prim&#39;s algorithm, and force me to remove and reinsert a key to update its value. Is there any advantage of using one over the other, not just for this example, but generally speaking?","title":"When should I use a TreeMap over a PriorityQueue and vice versa?","body":"<p>Seems they both let you retrieve the minimum, which is what I need for Prim's algorithm, and force me to remove and reinsert a key to update its value. Is there any advantage of using one over the other, not just for this example, but generally speaking?</p>\n"},{"tags":["java","android","vpn"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663935755,"creation_date":1663935755,"answer_id":73827670,"question_id":73827033,"body_markdown":"&gt; When I open my application, I need to start VPN from app, and disconnect when I quit the app.\r\n\r\nThat is not an option.\r\n\r\n&gt; The condition is that VPN only works on my application and has no effect on any other app\r\n\r\nThe &quot;built-in VPN&quot; affects the entire device.\r\n\r\n&gt; Example Apps: OPERA BROWSER\r\n\r\n[They have their own VPN](https://www.opera.com/features/free-vpn) built into their app. They are not using a device-supplied VPN.","title":"How do I use VPN only in one android application?","body":"<blockquote>\n<p>When I open my application, I need to start VPN from app, and disconnect when I quit the app.</p>\n</blockquote>\n<p>That is not an option.</p>\n<blockquote>\n<p>The condition is that VPN only works on my application and has no effect on any other app</p>\n</blockquote>\n<p>The &quot;built-in VPN&quot; affects the entire device.</p>\n<blockquote>\n<p>Example Apps: OPERA BROWSER</p>\n</blockquote>\n<p><a href=\"https://www.opera.com/features/free-vpn\" rel=\"nofollow noreferrer\">They have their own VPN</a> built into their app. They are not using a device-supplied VPN.</p>\n"}],"owner":{"account_id":26377214,"reputation":68,"user_id":20030981,"display_name":"Sneh Malani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1663935755,"creation_date":1663932626,"question_id":73827033,"body_markdown":"I need to use the built-in **VPN** in my Android application. When I open my application, I need to start **VPN** from app, and disconnect when I quit the app.\r\n\r\nThe condition is that **VPN** only works on my application and has no effect on any other app. I need some source code or solution.\r\n\r\n\r\nLanguage: **JAVA {Android}**\r\n\r\nExample Apps: **OPERA BROWSER**\r\n\r\nlink: `https://play.google.com/store/apps/details?id=com.opera.browser&amp;hl=en_IN&amp;gl=US`","title":"How do I use VPN only in one android application?","body":"<p>I need to use the built-in <strong>VPN</strong> in my Android application. When I open my application, I need to start <strong>VPN</strong> from app, and disconnect when I quit the app.</p>\n<p>The condition is that <strong>VPN</strong> only works on my application and has no effect on any other app. I need some source code or solution.</p>\n<p>Language: <strong>JAVA {Android}</strong></p>\n<p>Example Apps: <strong>OPERA BROWSER</strong></p>\n<p>link: <code>https://play.google.com/store/apps/details?id=com.opera.browser&amp;hl=en_IN&amp;gl=US</code></p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":5,"creation_date":1663922077,"post_id":73825051,"comment_id":130357686,"body_markdown":"Do you know how to use if-statements?","body":"Do you know how to use if-statements?"}],"answers":[{"tags":[],"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1663935051,"creation_date":1663922306,"answer_id":73825105,"question_id":73825051,"body_markdown":"The simplest way to do this would be to wrap the logic within an if-statement:\r\n\r\n```java\r\n\r\nvar details = systemGeneratedDetails.get(0);\r\nvar id = details.getId();\r\nvar name = details.getName();\r\n\r\nif (id != null &amp;&amp; !id.isBlank()) {\r\n  attributes.put(&quot;Id&quot;, id);\r\n}\r\nif (name != null &amp;&amp; !name.isBlank()) {\r\n  attributes.put(&quot;Name&quot;, systemGeneratedDetails.get(0).getName());\r\n}\r\n```\r\n\r\nAnother interesting method of going about this is to use Optionals:\r\n\r\n```java\r\nvar details = Optional.of(systemGeneratedDetails.get(0));\r\nvar idOpt = details.map(YourDetailType::getId).filter(s -&gt; !s.isBlank());\r\nvar nameOpt = details.map(YourDetailType::getName).filter(s -&gt; !s.isBlank());\r\n\r\nidOpt.ifPresent(id -&gt; attributes.put(&quot;Id&quot;, id));\r\nnameOpt.ifPresent(name -&gt; attributes.put(&quot;Name&quot;, name));\r\n```\r\nJust make sure to replace `YourDetailType` with the actual type of `systemGeneratedDetails.get(0)`. \r\n\r\nPlease keep in mind however, that this will create a bunch of extra objects (though the impact should be minimal thanks to JVM escape analysis), and that some programmers frown upon the practice of using Optionals as anything except for return values.","title":"Add in hashmap only if value is not null and not blank JAVA","body":"<p>The simplest way to do this would be to wrap the logic within an if-statement:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nvar details = systemGeneratedDetails.get(0);\nvar id = details.getId();\nvar name = details.getName();\n\nif (id != null &amp;&amp; !id.isBlank()) {\n  attributes.put(&quot;Id&quot;, id);\n}\nif (name != null &amp;&amp; !name.isBlank()) {\n  attributes.put(&quot;Name&quot;, systemGeneratedDetails.get(0).getName());\n}\n</code></pre>\n<p>Another interesting method of going about this is to use Optionals:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var details = Optional.of(systemGeneratedDetails.get(0));\nvar idOpt = details.map(YourDetailType::getId).filter(s -&gt; !s.isBlank());\nvar nameOpt = details.map(YourDetailType::getName).filter(s -&gt; !s.isBlank());\n\nidOpt.ifPresent(id -&gt; attributes.put(&quot;Id&quot;, id));\nnameOpt.ifPresent(name -&gt; attributes.put(&quot;Name&quot;, name));\n</code></pre>\n<p>Just make sure to replace <code>YourDetailType</code> with the actual type of <code>systemGeneratedDetails.get(0)</code>.</p>\n<p>Please keep in mind however, that this will create a bunch of extra objects (though the impact should be minimal thanks to JVM escape analysis), and that some programmers frown upon the practice of using Optionals as anything except for return values.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663925617,"creation_date":1663923226,"answer_id":73825274,"question_id":73825051,"body_markdown":"# putIfAbsent() + replace()\r\n\r\nYou can use a combination [`Map.putIfAbsent()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#putIfAbsent(K,V)) + three-args version of [`Map.replace()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#replace(K,V,V)):\r\n\r\n```\r\nattributes.putIfAbsent(&quot;id&quot;, systemGeneratedDetails.get(0).getId());\r\nattributes.replace(&quot;id&quot;, &quot;&quot;, systemGeneratedDetails.get(0).getId());\r\n```\r\n\r\nTo avoid code-repetition, this logic can be extracted into a separate method and gentrified:\r\n\r\n    public static &lt;K, V&gt; void putIfNullOrEmpty(Map&lt;K, V&gt; map,\r\n                                               K key, V oldValue, V newValue) {\r\n    \r\n        map.putIfAbsent(key, newValue);\r\n        map.replace(key, oldValue, newValue);\r\n    }\r\n\r\n*Usage example:*\r\n\r\n```\r\nputIfNullOrEmpty(attributes, &quot;id&quot;, &quot;&quot;, systemGeneratedDetails.get(0).getId());\r\nputIfNullOrEmpty(attributes, &quot;Name&quot;, &quot;&quot;, systemGeneratedDetails.get(0).getId());\r\n```\r\n\r\n\r\n# compute()\r\n\r\nAnother way to achieve that is by using Java 8 method [`Map.compute()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#compute(K,java.util.function.BiFunction)), which expects a *key* and a *remappingFunction* responsible for generating the resulting *value* based on the *key* and *existing value* associated with the *key*:\r\n\r\n```\r\nattributes.compute(&quot;Id&quot;, (k, v) -&gt; v == null || v.isEmpty() ? \r\n                         systemGeneratedDetails.get(0).getId() : v);\r\n```\r\n\r\nTo avoid redundancy, you can extract this logic into a separate method and gentrify it:\r\n\r\n    public static &lt;K, V&gt; void putIf(Map&lt;K, V&gt; map,\r\n                                    Predicate&lt;V&gt; condition,\r\n                                    K key, V newValue) {\r\n        \r\n        map.compute(key, (k, v) -&gt; condition.test(v) ? newValue : v);\r\n    }\r\n\r\nUsage example:\r\n\r\n```\r\nPredicate&lt;String&gt; isNullOrEmpty = v -&gt; v == null || v.isEmpty();\r\n        \r\nputIf(attributes, isNullOrEmpty, &quot;id&quot;, systemGeneratedDetails.get(0).getId());\r\nputIf(attributes, isNullOrEmpty, &quot;Name&quot;, systemGeneratedDetails.get(0).getId());\r\n```","title":"Add in hashmap only if value is not null and not blank JAVA","body":"<h1>putIfAbsent() + replace()</h1>\n<p>You can use a combination <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#putIfAbsent(K,V)\" rel=\"nofollow noreferrer\"><code>Map.putIfAbsent()</code></a> + three-args version of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#replace(K,V,V)\" rel=\"nofollow noreferrer\"><code>Map.replace()</code></a>:</p>\n<pre><code>attributes.putIfAbsent(&quot;id&quot;, systemGeneratedDetails.get(0).getId());\nattributes.replace(&quot;id&quot;, &quot;&quot;, systemGeneratedDetails.get(0).getId());\n</code></pre>\n<p>To avoid code-repetition, this logic can be extracted into a separate method and gentrified:</p>\n<pre><code>public static &lt;K, V&gt; void putIfNullOrEmpty(Map&lt;K, V&gt; map,\n                                           K key, V oldValue, V newValue) {\n\n    map.putIfAbsent(key, newValue);\n    map.replace(key, oldValue, newValue);\n}\n</code></pre>\n<p><em>Usage example:</em></p>\n<pre><code>putIfNullOrEmpty(attributes, &quot;id&quot;, &quot;&quot;, systemGeneratedDetails.get(0).getId());\nputIfNullOrEmpty(attributes, &quot;Name&quot;, &quot;&quot;, systemGeneratedDetails.get(0).getId());\n</code></pre>\n<h1>compute()</h1>\n<p>Another way to achieve that is by using Java 8 method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#compute(K,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\"><code>Map.compute()</code></a>, which expects a <em>key</em> and a <em>remappingFunction</em> responsible for generating the resulting <em>value</em> based on the <em>key</em> and <em>existing value</em> associated with the <em>key</em>:</p>\n<pre><code>attributes.compute(&quot;Id&quot;, (k, v) -&gt; v == null || v.isEmpty() ? \n                         systemGeneratedDetails.get(0).getId() : v);\n</code></pre>\n<p>To avoid redundancy, you can extract this logic into a separate method and gentrify it:</p>\n<pre><code>public static &lt;K, V&gt; void putIf(Map&lt;K, V&gt; map,\n                                Predicate&lt;V&gt; condition,\n                                K key, V newValue) {\n    \n    map.compute(key, (k, v) -&gt; condition.test(v) ? newValue : v);\n}\n</code></pre>\n<p>Usage example:</p>\n<pre><code>Predicate&lt;String&gt; isNullOrEmpty = v -&gt; v == null || v.isEmpty();\n        \nputIf(attributes, isNullOrEmpty, &quot;id&quot;, systemGeneratedDetails.get(0).getId());\nputIf(attributes, isNullOrEmpty, &quot;Name&quot;, systemGeneratedDetails.get(0).getId());\n</code></pre>\n"}],"owner":{"account_id":3756894,"reputation":49,"user_id":3123056,"display_name":"Johny"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1265,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1663935051,"creation_date":1663921985,"question_id":73825051,"body_markdown":"I have hashmap like below\r\n```\r\nHashMap&lt;String, String&gt; attributes= new HashMap&lt;String, String&gt;();\r\n```\r\nI am trying to add values in it like below\r\n```\r\nattributes.put(&quot;Id&quot;, systemGeneratedDetails.get(0).getId());\r\nattributes.put(&quot;Name&quot;, systemGeneratedDetails.get(0).getName());\r\n```\r\nbut sometimes getId or getName will return null or blank. In that case I don&#39;t want to add it in map.\r\n\r\nHow to do it in Java?","title":"Add in hashmap only if value is not null and not blank JAVA","body":"<p>I have hashmap like below</p>\n<pre><code>HashMap&lt;String, String&gt; attributes= new HashMap&lt;String, String&gt;();\n</code></pre>\n<p>I am trying to add values in it like below</p>\n<pre><code>attributes.put(&quot;Id&quot;, systemGeneratedDetails.get(0).getId());\nattributes.put(&quot;Name&quot;, systemGeneratedDetails.get(0).getName());\n</code></pre>\n<p>but sometimes getId or getName will return null or blank. In that case I don't want to add it in map.</p>\n<p>How to do it in Java?</p>\n"},{"tags":["java","maven","azure-devops","azure-pipelines"],"answers":[{"tags":[],"owner":{"account_id":18482692,"reputation":23463,"user_id":13464420,"display_name":"Kevin Lu-MSFT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663934997,"creation_date":1663934997,"answer_id":73827512,"question_id":73822672,"body_markdown":"&gt;I want to know if this can be done by any Azure pipeline task like &quot;- task: Maven@3&quot; \r\n\r\nYes, the maven deploy step can be done via Maven task.\r\n\r\nHere is an example:\r\n\r\n    - task: Maven@3\r\n      displayName: &#39;Maven pom.xml&#39;\r\n      inputs:\r\n        mavenPomFile: pom.xml\r\n        goals: &#39;deploy:deploy-file&#39;\r\n        options: &#39;-DgroupId=&quot;com.mypkg&quot;  -DartifactId=&quot;my.artifact&quot; -Dversion=&quot;1.0.0-SNAPSHOT&quot;  -Dpackaging=jar -Dfile=&quot;my.artifact-1.0.0-SNAPSHOT.jar&quot; -DgeneratePom=&quot;true&quot; -DrepositoryId=&quot;$AZURE_FEED_ID&quot; -Durl=&quot;$AZURE_FEED_URL&quot;&#39;\r\n\r\nThe deploy command can be defined at **goals** field and the arguments can be defined at **options** field.\r\n\r\nFor more info, you can refer to the doc about [Maven task][1].\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/devops/pipelines/tasks/build/maven?view=azure-devops","title":"Publish custom maven artifact/package (*.jar) to Azure artifact using azure DevOps pipeline","body":"<blockquote>\n<p>I want to know if this can be done by any Azure pipeline task like &quot;- task: Maven@3&quot;</p>\n</blockquote>\n<p>Yes, the maven deploy step can be done via Maven task.</p>\n<p>Here is an example:</p>\n<pre><code>- task: Maven@3\n  displayName: 'Maven pom.xml'\n  inputs:\n    mavenPomFile: pom.xml\n    goals: 'deploy:deploy-file'\n    options: '-DgroupId=&quot;com.mypkg&quot;  -DartifactId=&quot;my.artifact&quot; -Dversion=&quot;1.0.0-SNAPSHOT&quot;  -Dpackaging=jar -Dfile=&quot;my.artifact-1.0.0-SNAPSHOT.jar&quot; -DgeneratePom=&quot;true&quot; -DrepositoryId=&quot;$AZURE_FEED_ID&quot; -Durl=&quot;$AZURE_FEED_URL&quot;'\n</code></pre>\n<p>The deploy command can be defined at <strong>goals</strong> field and the arguments can be defined at <strong>options</strong> field.</p>\n<p>For more info, you can refer to the doc about <a href=\"https://learn.microsoft.com/en-us/azure/devops/pipelines/tasks/build/maven?view=azure-devops\" rel=\"nofollow noreferrer\">Maven task</a>.</p>\n"}],"owner":{"account_id":14510631,"reputation":379,"user_id":10481143,"display_name":"Sanjesh M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1080,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73827512,"answer_count":1,"score":1,"last_activity_date":1663934997,"creation_date":1663903489,"question_id":73822672,"body_markdown":"I want to push my custom artifact/package (*.jar) to the Azure artifact using maven with the help of Azure DevOps pipeline.\r\nI am using java &amp; building the package using maven.\r\n\r\n\r\nI can do it by the below script/command in the Azure pipeline.\r\n\r\n     mvn deploy:deploy-file -DgroupId=&quot;com.mypkg&quot; `\r\n    -DartifactId=&quot;my.artifact&quot; `\r\n    -Dversion=&quot;1.0.0-SNAPSHOT&quot; `\r\n    -Dpackaging=jar `\r\n    -Dfile=&quot;my.artifact-1.0.0-SNAPSHOT.jar&quot; `\r\n    -DgeneratePom=&quot;true&quot; `\r\n    -DrepositoryId=&quot;$AZURE_FEED_ID&quot; `\r\n    -Durl=&quot;$AZURE_FEED_URL&quot;;\r\n\r\nI want to know if this can be done by any Azure pipeline task like  &quot;- task: Maven@3&quot;\r\nBecause Azure DevOps provides the publish tasks for npm, Gradel, Python etc but not for maven.","title":"Publish custom maven artifact/package (*.jar) to Azure artifact using azure DevOps pipeline","body":"<p>I want to push my custom artifact/package (*.jar) to the Azure artifact using maven with the help of Azure DevOps pipeline.\nI am using java &amp; building the package using maven.</p>\n<p>I can do it by the below script/command in the Azure pipeline.</p>\n<pre><code> mvn deploy:deploy-file -DgroupId=&quot;com.mypkg&quot; `\n-DartifactId=&quot;my.artifact&quot; `\n-Dversion=&quot;1.0.0-SNAPSHOT&quot; `\n-Dpackaging=jar `\n-Dfile=&quot;my.artifact-1.0.0-SNAPSHOT.jar&quot; `\n-DgeneratePom=&quot;true&quot; `\n-DrepositoryId=&quot;$AZURE_FEED_ID&quot; `\n-Durl=&quot;$AZURE_FEED_URL&quot;;\n</code></pre>\n<p>I want to know if this can be done by any Azure pipeline task like  &quot;- task: Maven@3&quot;\nBecause Azure DevOps provides the publish tasks for npm, Gradel, Python etc but not for maven.</p>\n"},{"tags":["java","apache-poi","apache-tika"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1663773541,"post_id":73803144,"comment_id":130319340,"body_markdown":"See https://github.com/apache/tika/blob/main/tika-parsers/tika-parsers-standard/tika-parsers-standard-modules/tika-parser-microsoft-module/src/main/java/org/apache/tika/parser/microsoft/ooxml/XWPFWordExtractorDecorator.java#L194 for an example of checking styles that is known to work","body":"See <a href=\"https://github.com/apache/tika/blob/main/tika-parsers/tika-parsers-standard/tika-parsers-standard-modules/tika-parser-microsoft-module/src/main/java/org/apache/tika/parser/microsoft/ooxml/XWPFWordExtractorDecorator.java#L194\" rel=\"nofollow noreferrer\">github.com/apache/tika/blob/main/tika-parsers/&hellip;</a> for an example of checking styles that is known to work"},{"owner":{"account_id":16589904,"reputation":19,"user_id":11988340,"display_name":"Rob Hesseling"},"score":0,"creation_date":1663832246,"post_id":73803144,"comment_id":130332867,"body_markdown":"@Gagravarr I have send you an email.","body":"@Gagravarr I have send you an email."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1663878313,"post_id":73803144,"comment_id":130349388,"body_markdown":"Please [edit] your question to reflect changes in your understanding based on @Gagravarr&#39;s link.","body":"Please <a href=\"https://stackoverflow.com/posts/73803144/edit\">edit</a> your question to reflect changes in your understanding based on @Gagravarr&#39;s link."},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1663932499,"post_id":73803144,"comment_id":130361088,"body_markdown":"Unzip the `.docx` file and look at the word generated xml, and see if/where Word put the style details?","body":"Unzip the <code>.docx</code> file and look at the word generated xml, and see if/where Word put the style details?"}],"answers":[{"tags":[],"owner":{"account_id":16589904,"reputation":19,"user_id":11988340,"display_name":"Rob Hesseling"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663934801,"creation_date":1663934801,"answer_id":73827459,"question_id":73803144,"body_markdown":"This is the code i ended up with. This worked.\r\n\r\n            FileInputStream file =  FileInputStream(*pathToFileWithFileNameAndExtenstion*);\r\n\t        XWPFDocument xdoc = new XWPFDocument(OPCPackage.open(file));\r\n\r\n\t        XWPFStyles styles = xdoc.getStyles();\r\n\t        java.util.List&lt;XWPFParagraph&gt; xwpfparagraphs = xdoc.getParagraphs();\r\n\r\n\t        for (int i = 0; i &lt; xwpfparagraphs.size(); i++) {\r\n\t\t\t\tXWPFParagraph paragraph = xwpfparagraphs.get(i);\r\n\t\t\t\t\r\n\t\t\t\tif(paragraph.getStyleID() != null) {\r\n\t\t\t\t\theadings.add(paragraph.getText());\r\n\t\t\t\t}\r\n\t        }\r\n\r\nAfter this, printing the ArrayList &#39;headings&#39; shows all the headings in the designated document (docx). ","title":"Print headings of a word document (docx)","body":"<p>This is the code i ended up with. This worked.</p>\n<pre><code>        FileInputStream file =  FileInputStream(*pathToFileWithFileNameAndExtenstion*);\n        XWPFDocument xdoc = new XWPFDocument(OPCPackage.open(file));\n\n        XWPFStyles styles = xdoc.getStyles();\n        java.util.List&lt;XWPFParagraph&gt; xwpfparagraphs = xdoc.getParagraphs();\n\n        for (int i = 0; i &lt; xwpfparagraphs.size(); i++) {\n            XWPFParagraph paragraph = xwpfparagraphs.get(i);\n            \n            if(paragraph.getStyleID() != null) {\n                headings.add(paragraph.getText());\n            }\n        }\n</code></pre>\n<p>After this, printing the ArrayList 'headings' shows all the headings in the designated document (docx).</p>\n"}],"owner":{"account_id":16589904,"reputation":19,"user_id":11988340,"display_name":"Rob Hesseling"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663934892,"creation_date":1663772987,"question_id":73803144,"body_markdown":"In an docx document i want to be able to get a list with all Headings (chapters) in the file. Every text that has &#39;Heading 1&#39;, &#39;Heading 2&#39; etc. This is the word file:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI am using apache POI to read into the file. However when i try to get the style from a paragraph or a run it always returns NULL.\r\n\r\n            File f=new File(&quot;src/TestFile.docx&quot;);\r\n\t        FileInputStream fis = new FileInputStream(f);\r\n\t        XWPFDocument xdoc=new XWPFDocument(OPCPackage.open(fis));\r\n\t        \r\n\t        XWPFStyles styles = xdoc.getStyles();\r\n\t        java.util.List&lt;XWPFParagraph&gt; xwpfparagraphs  = new ArrayList&lt;XWPFParagraph&gt;();\r\n\t        xwpfparagraphs = xdoc.getParagraphs();\r\n\r\n\t        System.out.println(&quot;Styleid paragraph: &quot; +xwpfparagraphs.get(0).getStyleID());\r\n\t        \r\n\t        XWPFParagraph paragraph = xwpfparagraphs.get(0);\r\n\t        \r\n\t        for (XWPFRun run : paragraph.getRuns()) {\r\n                System.out.println(&quot;Styleid run: &quot; + run.getStyle());\r\n\t        }\r\n\r\nOutput:\r\n\r\n            Styleid paragraph: null\r\n            Styleid run: \r\n            Styleid run: \r\n            Styleid run:\r\n\r\n\r\nSo the problem is, how can i recognize the headings if i can&#39;t trace back the style of the text? How to do this correctly? \r\n\r\n  [1]: https://i.stack.imgur.com/bugRg.png","title":"Print headings of a word document (docx)","body":"<p>In an docx document i want to be able to get a list with all Headings (chapters) in the file. Every text that has 'Heading 1', 'Heading 2' etc. This is the word file:</p>\n<p><a href=\"https://i.stack.imgur.com/bugRg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bugRg.png\" alt=\"enter image description here\" /></a></p>\n<p>I am using apache POI to read into the file. However when i try to get the style from a paragraph or a run it always returns NULL.</p>\n<pre><code>        File f=new File(&quot;src/TestFile.docx&quot;);\n        FileInputStream fis = new FileInputStream(f);\n        XWPFDocument xdoc=new XWPFDocument(OPCPackage.open(fis));\n        \n        XWPFStyles styles = xdoc.getStyles();\n        java.util.List&lt;XWPFParagraph&gt; xwpfparagraphs  = new ArrayList&lt;XWPFParagraph&gt;();\n        xwpfparagraphs = xdoc.getParagraphs();\n\n        System.out.println(&quot;Styleid paragraph: &quot; +xwpfparagraphs.get(0).getStyleID());\n        \n        XWPFParagraph paragraph = xwpfparagraphs.get(0);\n        \n        for (XWPFRun run : paragraph.getRuns()) {\n            System.out.println(&quot;Styleid run: &quot; + run.getStyle());\n        }\n</code></pre>\n<p>Output:</p>\n<pre><code>        Styleid paragraph: null\n        Styleid run: \n        Styleid run: \n        Styleid run:\n</code></pre>\n<p>So the problem is, how can i recognize the headings if i can't trace back the style of the text? How to do this correctly?</p>\n"},{"tags":["java","regex","validation"],"comments":[{"owner":{"account_id":89244,"reputation":172607,"user_id":246342,"display_name":"Alex K."},"score":1,"creation_date":1505923710,"post_id":46326822,"comment_id":79614681,"body_markdown":"Poor G&#252;nther :(","body":"Poor G&#252;nther :("},{"owner":{"account_id":295,"reputation":101679,"user_id":369,"accept_rate":93,"display_name":"Blorgbeard"},"score":1,"creation_date":1505923766,"post_id":46326822,"comment_id":79614711,"body_markdown":"And what&#39;s your question?","body":"And what&#39;s your question?"},{"owner":{"account_id":4420608,"reputation":22121,"user_id":3600709,"accept_rate":73,"display_name":"ctwheels"},"score":0,"creation_date":1505927362,"post_id":46326822,"comment_id":79616861,"body_markdown":"`(?&lt;=[^a-z &#39;,.-]|^)[a-z](?:(?:[a-z]|[ &#39;,.-](?![ &#39;,.-])){1,23}[a-z])?(?=[^a-z &#39;,.-]|$)`. This will ensure that there is a non-name character or no character before the name (beginning of string), that the name consists of at least 1 alphabetic character, potentially followed by 1-23 of characters in the set `a-z &#39;,.-` without two `&#39; ,.-` characters following each other and then followed by an alphabetic character, followed by a non-name character or no character (end of string). Also, use the `i` modifier for case-insensitivity","body":"<code>(?&lt;=[^a-z &#39;,.-]|^)[a-z](?:(?:[a-z]|[ &#39;,.-](?![ &#39;,.-])){1,23}[a-z])?(?=[^a-z &#39;,.-]|$)</code>. This will ensure that there is a non-name character or no character before the name (beginning of string), that the name consists of at least 1 alphabetic character, potentially followed by 1-23 of characters in the set <code>a-z &#39;,.-</code> without two <code>&#39; ,.-</code> characters following each other and then followed by an alphabetic character, followed by a non-name character or no character (end of string). Also, use the <code>i</code> modifier for case-insensitivity"}],"answers":[{"tags":[],"owner":{"account_id":2509044,"reputation":1286,"user_id":2181949,"display_name":"alirabiee"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1505984292,"creation_date":1505923839,"answer_id":46326977,"question_id":46326822,"body_markdown":"Your expression is almost correct. The following is a modification that satisfies all of the conditions:\r\n\r\n    valid = name.matches(&quot;(?i)(^[a-z])((?![ .,&#39;-]$)[a-z .,&#39;-]){0,24}$&quot;);","title":"Java Regex First Name Validation","body":"<p>Your expression is almost correct. The following is a modification that satisfies all of the conditions:</p>\n\n<pre><code>valid = name.matches(\"(?i)(^[a-z])((?![ .,'-]$)[a-z .,'-]){0,24}$\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8017626,"reputation":2089,"user_id":6613299,"accept_rate":75,"display_name":"Rohit-Pandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505924356,"creation_date":1505924051,"answer_id":46327037,"question_id":46326822,"body_markdown":"A regex for the same:\r\n    \r\n    ([a-zA-z]{1}[a-zA-z_&#39;-,.]{0,23}[a-zA-Z]{0,1})","title":"Java Regex First Name Validation","body":"<p>A regex for the same:</p>\n\n<pre><code>([a-zA-z]{1}[a-zA-z_'-,.]{0,23}[a-zA-Z]{0,1})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524727321,"creation_date":1505926797,"answer_id":46327862,"question_id":46326822,"body_markdown":"Lets change the order of the requirements:\r\n\r\n 1. ignore case: `&quot;(?i)&quot;`\r\n 2. can only start with an a-z character: `&quot;(?i)[a-z]&quot;`\r\n 3. can only end with an a-z: `&quot;(?i)[a-z](.*[a-z])?&quot;`\r\n 4. is between 1 and 25 characters: `&quot;(?i)[a-z](.{0,23}[a-z])?&quot;`\r\n 5. can contain a-z and [ &#39;-,.]: `&quot;(?i)[a-z]([- &#39;,.a-z]{0,23}[a-z])?&quot;`\r\n\r\nthe last one should do the job:\r\n\r\n    valid = name.matches(&quot;(?i)[a-z]([- &#39;,.a-z]{0,23}[a-z])?&quot;)\r\n\r\n&lt;del&gt;Test on [RegexPlanet](http://www.regexplanet.com/) (press java button).&lt;/del&gt;\r\n\r\nNotes for above points\r\n\r\n1. could have used `&quot;[a-zA-Z]&quot;&#39; instead of `&quot;(?i)&quot;&#39;\r\n3. need `?` since we want to allow one character names\r\n4. 23 is total length minus first and the last charracter (25-1-1)\r\n5. the `-` **must** come first (or last) inside `[]` else it is interpreted as range sepparator (assuming you didn&#39;t mean the characters between `&#39;` and `,`)","title":"Java Regex First Name Validation","body":"<p>Lets change the order of the requirements:</p>\n\n<ol>\n<li>ignore case: <code>\"(?i)\"</code></li>\n<li>can only start with an a-z character: <code>\"(?i)[a-z]\"</code></li>\n<li>can only end with an a-z: <code>\"(?i)[a-z](.*[a-z])?\"</code></li>\n<li>is between 1 and 25 characters: <code>\"(?i)[a-z](.{0,23}[a-z])?\"</code></li>\n<li>can contain a-z and [ '-,.]: <code>\"(?i)[a-z]([- ',.a-z]{0,23}[a-z])?\"</code></li>\n</ol>\n\n<p>the last one should do the job:</p>\n\n<pre><code>valid = name.matches(\"(?i)[a-z]([- ',.a-z]{0,23}[a-z])?\")\n</code></pre>\n\n<p><del>Test on <a href=\"http://www.regexplanet.com/\" rel=\"nofollow noreferrer\">RegexPlanet</a> (press java button).</del></p>\n\n<p>Notes for above points</p>\n\n<ol>\n<li>could have used <code>\"[a-zA-Z]\"' instead of</code>\"(?i)\"'</li>\n<li>need <code>?</code> since we want to allow one character names</li>\n<li>23 is total length minus first and the last charracter (25-1-1)</li>\n<li>the <code>-</code> <strong>must</strong> come first (or last) inside <code>[]</code> else it is interpreted as range sepparator (assuming you didn't mean the characters between <code>'</code> and <code>,</code>)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5116691,"reputation":31,"user_id":4101562,"display_name":"ProPhoto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612300133,"creation_date":1612300133,"answer_id":66017675,"question_id":46326822,"body_markdown":"Try this regex\r\n```\r\n^[^- &#39;](?=(?![A-Z]?[A-Z]))(?=(?![a-z]+[A-Z]))(?=(?!.*[A-Z][A-Z]))(?=(?!.*[- &#39;][- &#39;.]))(?=(?!.*[.][-&#39;.]))[A-Za-z- &#39;.]{2,}$\r\n```\r\n[Demo][1]\r\n \r\n\r\n\r\n  [1]: https://regex101.com/r/nMStwW/1","title":"Java Regex First Name Validation","body":"<p>Try this regex</p>\n<pre><code>^[^- '](?=(?![A-Z]?[A-Z]))(?=(?![a-z]+[A-Z]))(?=(?!.*[A-Z][A-Z]))(?=(?!.*[- '][- '.]))(?=(?!.*[.][-'.]))[A-Za-z- '.]{2,}$\n</code></pre>\n<p><a href=\"https://regex101.com/r/nMStwW/1\" rel=\"nofollow noreferrer\">Demo</a></p>\n"},{"tags":[],"owner":{"account_id":14384786,"reputation":1,"user_id":10391085,"display_name":"Rabindra Dahal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625833626,"creation_date":1625833626,"answer_id":68316794,"question_id":46326822,"body_markdown":"Try this simplest version:\r\n\r\n    ^[a-zA-Z][a-zA-Z][-&#39;,.][a-zA-Z]{1,25}$\r\n\r\nThanks for sharing.","title":"Java Regex First Name Validation","body":"<p>Try this simplest version:</p>\n<pre><code>^[a-zA-Z][a-zA-Z][-',.][a-zA-Z]{1,25}$\n</code></pre>\n<p>Thanks for sharing.</p>\n"},{"tags":[],"owner":{"account_id":222096,"reputation":10190,"user_id":480467,"accept_rate":0,"display_name":"Werner Altewischer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663934861,"creation_date":1663934861,"answer_id":73827469,"question_id":46326822,"body_markdown":"A unicode compatible version of the answer of @ProPhoto:\r\n\r\n`^[^- &#39;](?=(?!\\p{Lu}?\\p{Lu}))(?=(?!\\p{Ll}+\\p{Lu}))(?=(?!.*\\p{Lu}\\p{Lu}))(?=(?!.*[- &#39;][- &#39;.]))(?=(?!.*[.][-&#39;.]))(\\p{L}|[- &#39;.]){2,}$`","title":"Java Regex First Name Validation","body":"<p>A unicode compatible version of the answer of @ProPhoto:</p>\n<p><code>^[^- '](?=(?!\\p{Lu}?\\p{Lu}))(?=(?!\\p{Ll}+\\p{Lu}))(?=(?!.*\\p{Lu}\\p{Lu}))(?=(?!.*[- '][- '.]))(?=(?!.*[.][-'.]))(\\p{L}|[- '.]){2,}$</code></p>\n"}],"owner":{"account_id":5867615,"reputation":439,"user_id":4621020,"display_name":"oznomal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11273,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":46326977,"answer_count":6,"score":0,"last_activity_date":1663934861,"creation_date":1505923321,"question_id":46326822,"body_markdown":"I understand that validating the first name field is highly controversial due to the fact that there are so many different possibilities. However, I am just learning regex and in an effort to help grasp the concept, I have designed some simple validations to create just try to make sure I am able to make the code do exactly what I want it to, despite whether or not it conforms to best business logic practices. \r\n\r\nI am trying to validate a few things. \r\n\r\n1. The first name is between 1 and 25 characters.\r\n2. The first name can only start with an a-z (ignore case) character.\r\n3. After that the first name can contain a-z (ignore case) and [ &#39;-,.].\r\n4. The first name can only end with an a-z (ignore case) character.   \r\n\r\n    \tpublic static boolean firstNameValidation(String name){\r\n\t\t\r\n\t\t    valid = name.matches(&quot;(?i)(^[a-z]+)[a-z .,-]((?! .,-)$){1,25}$&quot;);\r\n\r\n            System.out.println(&quot;Name: &quot; + name + &quot;\\nValid: &quot; + valid);\r\n\r\n            return valid;\r\n\t     }","title":"Java Regex First Name Validation","body":"<p>I understand that validating the first name field is highly controversial due to the fact that there are so many different possibilities. However, I am just learning regex and in an effort to help grasp the concept, I have designed some simple validations to create just try to make sure I am able to make the code do exactly what I want it to, despite whether or not it conforms to best business logic practices. </p>\n\n<p>I am trying to validate a few things. </p>\n\n<ol>\n<li>The first name is between 1 and 25 characters.</li>\n<li>The first name can only start with an a-z (ignore case) character.</li>\n<li>After that the first name can contain a-z (ignore case) and [ '-,.].</li>\n<li><p>The first name can only end with an a-z (ignore case) character.   </p>\n\n<pre><code>public static boolean firstNameValidation(String name){\n\n    valid = name.matches(\"(?i)(^[a-z]+)[a-z .,-]((?! .,-)$){1,25}$\");\n\n    System.out.println(\"Name: \" + name + \"\\nValid: \" + valid);\n\n    return valid;\n }\n</code></pre></li>\n</ol>\n"},{"tags":["java","eclipse","eclipse-plugin","objectaid"],"answers":[{"tags":[],"owner":{"account_id":300914,"reputation":1710,"user_id":608339,"display_name":"exo_cw"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1642676841,"creation_date":1642676841,"answer_id":70785096,"question_id":68589918,"body_markdown":"It seems that [ObjectAid is no longer maintained][1]. I got this error running on JDK17.\r\n\r\nThere is a workaround:\r\n\r\n 1. Download [xstream 1.4.18][2] jar\r\n 2. Locate the `com.objectaid.uml_1.2.4.jar` file and open it (with the zip tool of your choice)\r\n 3. Delete the `xstream-1.3.1.jar` file inside the lib directory. Add the xstream-1.4.18.jar to the lib directory.\r\n 4. Open the file META-INF/MANIFEST.MF and replace line `lib/xstream-1.3.1.jar` with `lib/xstream-1.4.18.jar`.\r\n 5. Add to your `eclipse.ini` the following vmargs: ``\r\n--add-opens=java.base/java.lang=ALL-UNNAMED\r\n--add-opens=java.base/java.util=ALL-UNNAMED\r\n--add-opens=java.base/java.text=ALL-UNNAMED\r\n--add-opens=java.desktop/java.awt.font=ALL-UNNAMED\r\n``\r\n\r\nRestart Eclipse with `-clean` to ensure the OSGI cache is purged.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/69114490/objectaid-homepage-is-no-longer-accessible-and-so-is-the-update-site\r\n  [2]: https://repo1.maven.org/maven2/com/thoughtworks/xstream/xstream/1.4.18/xstream-1.4.18.jar","title":"ObjectAid : Unhandled event loop exception","body":"<p>It seems that <a href=\"https://stackoverflow.com/questions/69114490/objectaid-homepage-is-no-longer-accessible-and-so-is-the-update-site\">ObjectAid is no longer maintained</a>. I got this error running on JDK17.</p>\n<p>There is a workaround:</p>\n<ol>\n<li>Download <a href=\"https://repo1.maven.org/maven2/com/thoughtworks/xstream/xstream/1.4.18/xstream-1.4.18.jar\" rel=\"noreferrer\">xstream 1.4.18</a> jar</li>\n<li>Locate the <code>com.objectaid.uml_1.2.4.jar</code> file and open it (with the zip tool of your choice)</li>\n<li>Delete the <code>xstream-1.3.1.jar</code> file inside the lib directory. Add the xstream-1.4.18.jar to the lib directory.</li>\n<li>Open the file META-INF/MANIFEST.MF and replace line <code>lib/xstream-1.3.1.jar</code> with <code>lib/xstream-1.4.18.jar</code>.</li>\n<li>Add to your <code>eclipse.ini</code> the following vmargs: <code>--add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.text=ALL-UNNAMED --add-opens=java.desktop/java.awt.font=ALL-UNNAMED</code></li>\n</ol>\n<p>Restart Eclipse with <code>-clean</code> to ensure the OSGI cache is purged.</p>\n"},{"tags":[],"owner":{"account_id":14082627,"reputation":46,"user_id":10173242,"display_name":"CDerksen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663934850,"creation_date":1663928490,"answer_id":73826297,"question_id":68589918,"body_markdown":"Working with Eclipse 2022-09 and Java 17, I faced similar issues as described initially. For that I just followed the points 1 .- 4., but worked on an &quot;installation archive&quot; of ObjectAID.\r\n\r\nInstead of editing the eclipse.ini, I simply uninstalled the &#39;old&#39; ObjectAID and re-installed it from that edited &quot;installation archive&quot;. That worked!\r\n\r\n","title":"ObjectAid : Unhandled event loop exception","body":"<p>Working with Eclipse 2022-09 and Java 17, I faced similar issues as described initially. For that I just followed the points 1 .- 4., but worked on an &quot;installation archive&quot; of ObjectAID.</p>\n<p>Instead of editing the eclipse.ini, I simply uninstalled the 'old' ObjectAID and re-installed it from that edited &quot;installation archive&quot;. That worked!</p>\n"}],"owner":{"account_id":12892325,"reputation":71,"user_id":16404417,"display_name":"ROHIT KUMAR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7475,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1663934850,"creation_date":1627643114,"question_id":68589918,"body_markdown":"I&#39;m trying to use `ObjectAid` tool for UML diagram.&lt;br&gt;\r\n\r\nWhen I tried to create UML diagram for my package, in spring boot project &lt;br&gt;\r\n(`⌘ + N ` -&gt; `ObjectAid Class Diagram ` ) , and when I hit finish, nothing happens, the &lt;br&gt;window remains as it is, but in log, an exception appears. &lt;br&gt;\r\n\r\n[![ see this image][1]][1]\r\n\r\n The below exception appears each time I click on &#39;finish&#39;.:-\r\n\r\n    java.lang.NoClassDefFoundError: Could not initialize class com.thoughtworks.xstream.converters.collections.PropertiesConverter\r\n\tat com.thoughtworks.xstream.XStream.setupConverters(XStream.java:647)\r\n\tat com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:445)\r\n\tat com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:385)\r\n\tat com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:342)\r\n\tat com.objectaid.uml.model.persistence.DiagramXStream.&lt;init&gt;(DiagramXStream.java:30)\r\n\tat com.objectaid.uml.model.diagram.DiagramFactory.createXStream(DiagramFactory.java:99)\r\n\tat com.objectaid.uml.model.diagram.DiagramFactory.getStream(DiagramFactory.java:89)\r\n\tat com.objectaid.uml.model.diagram.DiagramFactory.marshal(DiagramFactory.java:268)\r\n\tat com.objectaid.uml.model.diagram.DiagramFactory.marshalComplete(DiagramFactory.java:297)\r\n\tat com.objectaid.uml.editor.NewDiagramWizard.createNewFile(NewDiagramWizard.java:99)\r\n\tat com.objectaid.uml.editor.NewDiagramWizard.performFinish(NewDiagramWizard.java:59)\r\n\tat org.eclipse.jface.wizard.WizardDialog.finishPressed(WizardDialog.java:832)\r\n\tat org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:472)\r\n\tat org.eclipse.jface.dialogs.Dialog.lambda$0(Dialog.java:619)\r\n\tat org.eclipse.swt.events.SelectionListener$1.widgetSelected(SelectionListener.java:84)\r\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:252)\r\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\r\n\tat org.eclipse.swt.widgets.Display.sendEvent(Display.java:4441)\r\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1512)\r\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1535)\r\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1520)\r\n\tat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:1324)\r\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4227)\r\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3837)\r\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:823)\r\n\tat org.eclipse.jface.window.Window.open(Window.java:799)\r\n\tat org.eclipse.ui.internal.handlers.WizardHandler$New.executeHandler(WizardHandler.java:263)\r\n\tat org.eclipse.ui.internal.handlers.WizardHandler.execute(WizardHandler.java:283)\r\n\tat org.eclipse.ui.internal.handlers.HandlerProxy.execute(HandlerProxy.java:283)\r\n\tat org.eclipse.ui.internal.handlers.E4HandlerProxy.execute(E4HandlerProxy.java:97)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\tat org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequestor.java:58)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.invokeUsingClass(InjectorImpl.java:319)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.invoke(InjectorImpl.java:253)\r\n\tat org.eclipse.e4.core.contexts.ContextInjectionFactory.invoke(ContextInjectionFactory.java:173)\r\n\tat org.eclipse.e4.core.commands.internal.HandlerServiceHandler.execute(HandlerServiceHandler.java:156)\r\n\tat org.eclipse.core.commands.Command.executeWithChecks(Command.java:488)\r\n\tat org.eclipse.core.commands.ParameterizedCommand.executeWithChecks(ParameterizedCommand.java:487)\r\n\tat org.eclipse.e4.core.commands.internal.HandlerServiceImpl.executeHandler(HandlerServiceImpl.java:213)\r\n\tat org.eclipse.ui.internal.handlers.LegacyHandlerService.executeCommand(LegacyHandlerService.java:389)\r\n\tat org.eclipse.ui.internal.actions.CommandAction.runWithEvent(CommandAction.java:142)\r\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:580)\r\n\tat org.eclipse.jface.action.ActionContributionItem.lambda$4(ActionContributionItem.java:414)\r\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\r\n\tat org.eclipse.swt.widgets.Display.sendEvent(Display.java:4441)\r\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1512)\r\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1535)\r\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1520)\r\n\tat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:1324)\r\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4227)\r\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3837)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1157)\r\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)\r\n\tat org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\r\n\tat org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:644)\r\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:551)\r\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:156)\r\n\tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:152)\r\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:134)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:401)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:654)\r\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:591)\r\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1462)\r\n\r\n\r\nI am on mac, followed installation instructions from official page: https://www.objectaid.com/install-objectaid \r\n\r\n**Eclipse version**: &lt;br&gt;\r\n\r\n&gt; Eclipse IDE for Enterprise Java and Web Developers (includes\r\n&gt; Incubating components)\r\n&gt; \r\n&gt; Version: 2021-06 (4.20.0) Build id: 20210612-2011\r\n\r\n  [1]: https://i.stack.imgur.com/XyBub.jpg","title":"ObjectAid : Unhandled event loop exception","body":"<p>I'm trying to use <code>ObjectAid</code> tool for UML diagram.<br></p>\n<p>When I tried to create UML diagram for my package, in spring boot project <br>\n(<code>⌘ + N </code> -&gt; <code>ObjectAid Class Diagram </code> ) , and when I hit finish, nothing happens, the <br>window remains as it is, but in log, an exception appears. <br></p>\n<p><a href=\"https://i.stack.imgur.com/XyBub.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/XyBub.jpg\" alt=\" see this image\" /></a></p>\n<p>The below exception appears each time I click on 'finish'.:-</p>\n<pre><code>java.lang.NoClassDefFoundError: Could not initialize class com.thoughtworks.xstream.converters.collections.PropertiesConverter\nat com.thoughtworks.xstream.XStream.setupConverters(XStream.java:647)\nat com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:445)\nat com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:385)\nat com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:342)\nat com.objectaid.uml.model.persistence.DiagramXStream.&lt;init&gt;(DiagramXStream.java:30)\nat com.objectaid.uml.model.diagram.DiagramFactory.createXStream(DiagramFactory.java:99)\nat com.objectaid.uml.model.diagram.DiagramFactory.getStream(DiagramFactory.java:89)\nat com.objectaid.uml.model.diagram.DiagramFactory.marshal(DiagramFactory.java:268)\nat com.objectaid.uml.model.diagram.DiagramFactory.marshalComplete(DiagramFactory.java:297)\nat com.objectaid.uml.editor.NewDiagramWizard.createNewFile(NewDiagramWizard.java:99)\nat com.objectaid.uml.editor.NewDiagramWizard.performFinish(NewDiagramWizard.java:59)\nat org.eclipse.jface.wizard.WizardDialog.finishPressed(WizardDialog.java:832)\nat org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:472)\nat org.eclipse.jface.dialogs.Dialog.lambda$0(Dialog.java:619)\nat org.eclipse.swt.events.SelectionListener$1.widgetSelected(SelectionListener.java:84)\nat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:252)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\nat org.eclipse.swt.widgets.Display.sendEvent(Display.java:4441)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1512)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1535)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1520)\nat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:1324)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4227)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3837)\nat org.eclipse.jface.window.Window.runEventLoop(Window.java:823)\nat org.eclipse.jface.window.Window.open(Window.java:799)\nat org.eclipse.ui.internal.handlers.WizardHandler$New.executeHandler(WizardHandler.java:263)\nat org.eclipse.ui.internal.handlers.WizardHandler.execute(WizardHandler.java:283)\nat org.eclipse.ui.internal.handlers.HandlerProxy.execute(HandlerProxy.java:283)\nat org.eclipse.ui.internal.handlers.E4HandlerProxy.execute(E4HandlerProxy.java:97)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:567)\nat org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequestor.java:58)\nat org.eclipse.e4.core.internal.di.InjectorImpl.invokeUsingClass(InjectorImpl.java:319)\nat org.eclipse.e4.core.internal.di.InjectorImpl.invoke(InjectorImpl.java:253)\nat org.eclipse.e4.core.contexts.ContextInjectionFactory.invoke(ContextInjectionFactory.java:173)\nat org.eclipse.e4.core.commands.internal.HandlerServiceHandler.execute(HandlerServiceHandler.java:156)\nat org.eclipse.core.commands.Command.executeWithChecks(Command.java:488)\nat org.eclipse.core.commands.ParameterizedCommand.executeWithChecks(ParameterizedCommand.java:487)\nat org.eclipse.e4.core.commands.internal.HandlerServiceImpl.executeHandler(HandlerServiceImpl.java:213)\nat org.eclipse.ui.internal.handlers.LegacyHandlerService.executeCommand(LegacyHandlerService.java:389)\nat org.eclipse.ui.internal.actions.CommandAction.runWithEvent(CommandAction.java:142)\nat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:580)\nat org.eclipse.jface.action.ActionContributionItem.lambda$4(ActionContributionItem.java:414)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\nat org.eclipse.swt.widgets.Display.sendEvent(Display.java:4441)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1512)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1535)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1520)\nat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:1324)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4227)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3837)\nat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1157)\nat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\nat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)\nat org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\nat org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:644)\nat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\nat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:551)\nat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:156)\nat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:152)\nat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:134)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:401)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:567)\nat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:654)\nat org.eclipse.equinox.launcher.Main.basicRun(Main.java:591)\nat org.eclipse.equinox.launcher.Main.run(Main.java:1462)\n</code></pre>\n<p>I am on mac, followed installation instructions from official page: <a href=\"https://www.objectaid.com/install-objectaid\" rel=\"noreferrer\">https://www.objectaid.com/install-objectaid</a></p>\n<p><strong>Eclipse version</strong>: <br></p>\n<blockquote>\n<p>Eclipse IDE for Enterprise Java and Web Developers (includes\nIncubating components)</p>\n<p>Version: 2021-06 (4.20.0) Build id: 20210612-2011</p>\n</blockquote>\n"},{"tags":["java","android","printing","javapos"],"comments":[{"owner":{"account_id":12359629,"reputation":4160,"user_id":9014308,"display_name":"kunif"},"score":0,"creation_date":1515679305,"post_id":48174463,"comment_id":83398450,"body_markdown":"If your printer and JavaPOS can run on Windows, [the answer to this article](https://stackoverflow.com/questions/30839049/how-can-i-use-javapos-to-print-reciepts-with-an-epson-printer) is to make the EPSON printer and its JavaPOS available on Windows. Please try replacing the contents with your printer and running on Windows.","body":"If your printer and JavaPOS can run on Windows, <a href=\"https://stackoverflow.com/questions/30839049/how-can-i-use-javapos-to-print-reciepts-with-an-epson-printer\">the answer to this article</a> is to make the EPSON printer and its JavaPOS available on Windows. Please try replacing the contents with your printer and running on Windows."}],"answers":[{"tags":[],"owner":{"account_id":3181533,"reputation":117,"user_id":2688109,"accept_rate":58,"display_name":"Siberia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577687254,"creation_date":1577687254,"answer_id":59526618,"question_id":48174463,"body_markdown":"I had the same issue with a scanner interface , i solved the problem including my jpos.xml (verify that profile name you are using inside your code meets exactly the profile name inside your xml file), like this:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IsqCn.png\r\n\r\nhope still can help !","title":"JavaPos for an application. Service does not exist in loaded JCL registry","body":"<p>I had the same issue with a scanner interface , i solved the problem including my jpos.xml (verify that profile name you are using inside your code meets exactly the profile name inside your xml file), like this:\n<a href=\"https://i.stack.imgur.com/IsqCn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IsqCn.png\" alt=\"enter image description here\"></a></p>\n\n<p>hope still can help !</p>\n"},{"tags":[],"owner":{"account_id":3140581,"reputation":1,"user_id":2656110,"display_name":"ubasarir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663934723,"creation_date":1663583210,"answer_id":73771961,"question_id":48174463,"body_markdown":"You got the error because of invalid device name you specified to open.\r\n\r\n**try this:**\r\n\r\n    String deviceName = &quot;HPPrinter&quot; // or what your device name is\r\n    printer.open(deviceName);\r\n\r\n**instead of:**\r\n\r\n    printer.open(&quot;printf&quot;);\r\n","title":"JavaPos for an application. Service does not exist in loaded JCL registry","body":"<p>You got the error because of invalid device name you specified to open.</p>\n<p><strong>try this:</strong></p>\n<pre><code>String deviceName = &quot;HPPrinter&quot; // or what your device name is\nprinter.open(deviceName);\n</code></pre>\n<p><strong>instead of:</strong></p>\n<pre><code>printer.open(&quot;printf&quot;);\n</code></pre>\n"}],"owner":{"account_id":2329516,"reputation":413,"user_id":2043278,"accept_rate":56,"display_name":"Tiz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7367,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1663934723,"creation_date":1515522181,"question_id":48174463,"body_markdown":"I&#39;m trying to use javapos for an android application and I&#39;m having quite an hard time making it works.\r\n\r\nHere&#39;s what I tried untill now.\r\n\r\nI have the jars of javapos an the jpos.xml file, which was given to me by the vendor of the printer. I loaded the jars inside the lib folder and jpos.xml inside the root folder of the application (I&#39;m not sure if it is where it has to be).\r\nThe I wrote the java to connect to it :\r\n   \r\n\r\n    System.setProperty(JposPropertiesConst.JPOS_POPULATOR_FILE_PROP_NAME, &quot;jpos.xml&quot;);\r\n\r\n    POSPrinter printer =  new POSPrinter();\r\n\r\n    try {\r\n                printer.open(&quot;printf&quot;);\r\n                printer.claim(100);\r\n                printer.setDeviceEnabled(true);\r\n\r\n                printer.printNormal(1, &quot;PRINT?&quot;);\r\n\r\n     } catch (jpos.JposException e) {\r\n                e.printStackTrace();\r\n     }\r\n\r\n\r\nWhere &quot;printf&quot; is the logicName inside my xml.         \r\nBut when I try to print I always get this error :\r\n\r\n    pos.JposException: Service does not exist in loaded JCL registry \r\n     \r\n    at jpos.loader.simple.SimpleServiceManager.createConnection(Unknown Source)\r\n    \r\n    at jpos.loader.JposServiceLoader.findService(Unknown Source)\r\n    \r\n    at jpos.BaseJposControl.open(Unknown Source)\r\n\r\nSo, my questions are:  \r\nis what I&#39;m tring to do right? It is even possible? because I have seen a couple of question about this, but never on an android application.  \r\nIf it is possible, how can I tell my application where to find JCL registry?\r\n","title":"JavaPos for an application. Service does not exist in loaded JCL registry","body":"<p>I'm trying to use javapos for an android application and I'm having quite an hard time making it works.</p>\n\n<p>Here's what I tried untill now.</p>\n\n<p>I have the jars of javapos an the jpos.xml file, which was given to me by the vendor of the printer. I loaded the jars inside the lib folder and jpos.xml inside the root folder of the application (I'm not sure if it is where it has to be).\nThe I wrote the java to connect to it :</p>\n\n<pre><code>System.setProperty(JposPropertiesConst.JPOS_POPULATOR_FILE_PROP_NAME, \"jpos.xml\");\n\nPOSPrinter printer =  new POSPrinter();\n\ntry {\n            printer.open(\"printf\");\n            printer.claim(100);\n            printer.setDeviceEnabled(true);\n\n            printer.printNormal(1, \"PRINT?\");\n\n } catch (jpos.JposException e) {\n            e.printStackTrace();\n }\n</code></pre>\n\n<p>Where \"printf\" is the logicName inside my xml.<br>\nBut when I try to print I always get this error :</p>\n\n<pre><code>pos.JposException: Service does not exist in loaded JCL registry \n\nat jpos.loader.simple.SimpleServiceManager.createConnection(Unknown Source)\n\nat jpos.loader.JposServiceLoader.findService(Unknown Source)\n\nat jpos.BaseJposControl.open(Unknown Source)\n</code></pre>\n\n<p>So, my questions are:<br>\nis what I'm tring to do right? It is even possible? because I have seen a couple of question about this, but never on an android application.<br>\nIf it is possible, how can I tell my application where to find JCL registry?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663934527,"creation_date":1663934203,"answer_id":73827334,"question_id":73827213,"body_markdown":"You can use the [JSoup](https://jsoup.org/) library to parse HTML content, and extract content text from it.\r\n\r\nWith JSoup, you parse an input content to a &quot;Document&quot; structure that contains HTML &quot;Elements&quot;. On each Jsoup &quot;Element&quot; or &quot;Document&quot;, you will find a [text()](https://jsoup.org/apidocs/org/jsoup/nodes/Element.html#text()) method that allow to extract and trim text content from parsed HTML elements:\r\n\r\n&gt; Gets the normalized, combined text of this element and all its children. Whitespace is normalized and trimmed.\r\n&gt;\r\n&gt; [...]\r\n&gt;\r\n&gt; Note that this method returns the textual content that would be presented to a reader. \r\n\r\nExample:\r\n\r\n```java\r\nimport org.jsoup.Jsoup;\r\n\r\npublic class JsoupGetText {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tvar txt = &quot;\\r\\n HDFC Bank &lt;/a&gt;\\r\\n &lt;/div&gt;\\r\\n &lt;/td&gt;\\r\\n&quot;;\r\n\r\n\t\tvar extracted = Jsoup.parse(txt).text();\r\n\t\tSystem.out.println(&#39;\\&#39;&#39;+extracted+&#39;\\&#39;&#39;);\r\n\t}\r\n}\r\n```\r\n\r\nprints:\r\n\r\n```stdout\r\n&#39;HDFC Bank&#39;\r\n```","title":"How to get java substring ignoring \\r\\n and few html tags","body":"<p>You can use the <a href=\"https://jsoup.org/\" rel=\"nofollow noreferrer\">JSoup</a> library to parse HTML content, and extract content text from it.</p>\n<p>With JSoup, you parse an input content to a &quot;Document&quot; structure that contains HTML &quot;Elements&quot;. On each Jsoup &quot;Element&quot; or &quot;Document&quot;, you will find a <a href=\"https://jsoup.org/apidocs/org/jsoup/nodes/Element.html#text()\" rel=\"nofollow noreferrer\">text()</a> method that allow to extract and trim text content from parsed HTML elements:</p>\n<blockquote>\n<p>Gets the normalized, combined text of this element and all its children. Whitespace is normalized and trimmed.</p>\n<p>[...]</p>\n<p>Note that this method returns the textual content that would be presented to a reader.</p>\n</blockquote>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.jsoup.Jsoup;\n\npublic class JsoupGetText {\n\n    public static void main(String[] args) {\n        var txt = &quot;\\r\\n HDFC Bank &lt;/a&gt;\\r\\n &lt;/div&gt;\\r\\n &lt;/td&gt;\\r\\n&quot;;\n\n        var extracted = Jsoup.parse(txt).text();\n        System.out.println('\\''+extracted+'\\'');\n    }\n}\n</code></pre>\n<p>prints:</p>\n<pre><code>'HDFC Bank'\n</code></pre>\n"}],"owner":{"account_id":3078593,"reputation":3398,"user_id":2607372,"accept_rate":87,"display_name":"vikramvi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1663949238,"accepted_answer_id":73827334,"answer_count":1,"score":-3,"last_activity_date":1663934527,"creation_date":1663933584,"question_id":73827213,"body_markdown":"Original String\r\n\r\n    \\r\\n HDFC Bank &lt;\\/a&gt;\\r\\n &lt;\\/div&gt;\\r\\n &lt;\\/td&gt;\\r\\n\r\n\r\nRequired sub-string\r\n\r\n\r\n    HDFC Bank","title":"How to get java substring ignoring \\r\\n and few html tags","body":"<p>Original String</p>\n<pre><code>\\r\\n HDFC Bank &lt;\\/a&gt;\\r\\n &lt;\\/div&gt;\\r\\n &lt;\\/td&gt;\\r\\n\n</code></pre>\n<p>Required sub-string</p>\n<pre><code>HDFC Bank\n</code></pre>\n"},{"tags":["java","jakarta-ee","tomcat","servlets"],"comments":[{"owner":{"account_id":259272,"reputation":2197,"user_id":542025,"accept_rate":50,"display_name":"Steven De Groote"},"score":2,"creation_date":1349949271,"post_id":12836006,"comment_id":17367625,"body_markdown":"So this looks like there is no out-of-the-box protection against session replay. We tested it, and you can indeed just tamper with your JSESSIONID cookie value to hijack another user&#39;s session. :(","body":"So this looks like there is no out-of-the-box protection against session replay. We tested it, and you can indeed just tamper with your JSESSIONID cookie value to hijack another user&#39;s session. :("}],"answers":[{"tags":[],"owner":{"account_id":1926913,"reputation":95,"user_id":1737117,"display_name":"dvsander"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1349946709,"creation_date":1349946709,"answer_id":12836106,"question_id":12836006,"body_markdown":"[http://docs.oracle.com/cd/E17802_01/products/products/servlet/2.3/javadoc/javax/servlet/http/HttpSession.html#getId()][1] \r\n\r\n&quot;The identifier is assigned by the servlet container and is implementation dependent.&quot;\r\n\r\nThe jsessionid is generated whenever a new session is created.\r\n\r\n\r\n  [1]: http://docs.oracle.com/cd/E17802_01/products/products/servlet/2.3/javadoc/javax/servlet/http/HttpSession.html#getId%28%29","title":"How is a sessionID generated?","body":"<p><a href=\"http://docs.oracle.com/cd/E17802_01/products/products/servlet/2.3/javadoc/javax/servlet/http/HttpSession.html#getId%28%29\" rel=\"nofollow\">http://docs.oracle.com/cd/E17802_01/products/products/servlet/2.3/javadoc/javax/servlet/http/HttpSession.html#getId()</a> </p>\n\n<p>\"The identifier is assigned by the servlet container and is implementation dependent.\"</p>\n\n<p>The jsessionid is generated whenever a new session is created.</p>\n"},{"tags":[],"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1349946916,"creation_date":1349946916,"answer_id":12836172,"question_id":12836006,"body_markdown":"It is container specific. Tomcat: http://tomcat.apache.org/tomcat-7.0-doc/security-howto.html#Manager","title":"How is a sessionID generated?","body":"<p>It is container specific. Tomcat: <a href=\"http://tomcat.apache.org/tomcat-7.0-doc/security-howto.html#Manager\" rel=\"noreferrer\">http://tomcat.apache.org/tomcat-7.0-doc/security-howto.html#Manager</a></p>\n"},{"tags":[],"owner":{"account_id":1355165,"reputation":258,"user_id":1293713,"display_name":"Nic"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1359149392,"creation_date":1349947545,"answer_id":12836355,"question_id":12836006,"body_markdown":"A `java.security.MessageDigest` algorithm is normally used.\r\n\r\nUsually the generated ID is just a set of random numbers, up until the required length, but it varies according to the algorithms used in the various servlet containers.\r\n\r\nIn Tomcat6, for example, have a look at:\r\n\r\n    ManagerBase.sessionIdLength\r\nand\r\n\r\n    ManagerBase.createSession() //which calls generateSessionId()\r\n\r\nSee http://www.docjar.com/html/api/org/apache/catalina/session/ManagerBase.java.html\r\n","title":"How is a sessionID generated?","body":"<p>A <code>java.security.MessageDigest</code> algorithm is normally used.</p>\n\n<p>Usually the generated ID is just a set of random numbers, up until the required length, but it varies according to the algorithms used in the various servlet containers.</p>\n\n<p>In Tomcat6, for example, have a look at:</p>\n\n<pre><code>ManagerBase.sessionIdLength\n</code></pre>\n\n<p>and</p>\n\n<pre><code>ManagerBase.createSession() //which calls generateSessionId()\n</code></pre>\n\n<p>See <a href=\"http://www.docjar.com/html/api/org/apache/catalina/session/ManagerBase.java.html\" rel=\"nofollow\">http://www.docjar.com/html/api/org/apache/catalina/session/ManagerBase.java.html</a></p>\n"},{"tags":[],"owner":{"account_id":11068930,"reputation":9,"user_id":8127819,"display_name":"Mani Manu"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1575793443,"creation_date":1575793443,"answer_id":59233665,"question_id":12836006,"body_markdown":"&gt; Here is complete code of you Question\n&gt;\n&gt; Create login.jsp\n\n   \n\n     &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\n        pageEncoding=&quot;ISO-8859-1&quot;%&gt;\n    &lt;!DOCTYPE html&gt;\n    &lt;html&gt;\n    &lt;head&gt;\n        &lt;meta charset=&quot;US-ASCII&quot;&gt;\n        &lt;title&gt;Login Page&lt;/title&gt;\n        &lt;h1&gt;Please login to continue&lt;/h1&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n    \n    &lt;form action=&quot;LoginServlet&quot; method=&quot;post&quot;&gt;\n    \n        User Name: &lt;input type=&quot;text&quot; name=&quot;username&quot;&gt;\n        &lt;br&gt;\n        Password: &lt;input type=&quot;password&quot; name=&quot;pwd&quot;&gt;\n        &lt;br&gt;&lt;br&gt;\n        &lt;input type=&quot;submit&quot; value=&quot;Login&quot;&gt;\n    &lt;/form&gt;\n    &lt;/body&gt;\n    &lt;/html&gt;\n\n&gt; Create LoginServlet\n\n    package com.self.sessionid;\n    \n    import java.io.IOException;\n    import java.io.PrintWriter;\n    import java.net.CookieStore;\n    \n    import javax.servlet.RequestDispatcher;\n    import javax.servlet.ServletException;\n    import javax.servlet.annotation.WebServlet;\n    import javax.servlet.http.Cookie;\n    import javax.servlet.http.HttpServlet;\n    import javax.servlet.http.HttpServletRequest;\n    import javax.servlet.http.HttpServletResponse;\n    import javax.servlet.http.HttpSession;\n    \n    \n    @WebServlet(&quot;/LoginServlet&quot;)\n    public class LoginServlet extends HttpServlet {\n        private static final long serialVersionUID = 1L;\n        private final String username = &quot;admin&quot;;\n        private final String password = &quot;password&quot;;\n        \n        protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n            String username = request.getParameter(&quot;username&quot;);\n            String password = request.getParameter(&quot;pwd&quot;);\n            System.out.println(&quot;%%%%%&quot;);\n            \n            if(this.username.equals(username) &amp;&amp; this.password.equals(password)) {\n                HttpSession oldSession = request.getSession(false);\n                if(oldSession != null) {\n                    oldSession.invalidate();\n                }\n                HttpSession newSession = request.getSession(true);\n                newSession.setMaxInactiveInterval(1*60);\n                Cookie message = new Cookie(&quot;message&quot;, &quot;welcome&quot;);\n                response.addCookie(message);\n                \n                String messag = null;\n                String sessionID = null;\n                Cookie[] cookies = request.getCookies();\n                if(cookies != null){\n                    for(Cookie cookie : cookies){\n                        if(cookie.getName().equals(&quot;message&quot;)) messag = cookie.getValue();\n                        if(cookie.getName().equals(&quot;JSESSIONID&quot;)) sessionID = cookie.getValue();\n                }\n                }\n                \n                \n                \n                System.out.println(&quot;message : &quot; + messag);\n                System.out.println(&quot;Session Id : &quot; + sessionID);\n                \n                \n                /* response.sendRedirect(&quot;/loginSuccess.jsp&quot;); */\n                RequestDispatcher rd = getServletContext().getRequestDispatcher(&quot;/loginSuccess.jsp&quot;);\n                rd.include(request, response);\n            } else {\n                RequestDispatcher rd = getServletContext().getRequestDispatcher(&quot;/login.jsp&quot;);\n                PrintWriter out = response.getWriter();\n                out.println(&quot;&lt;font color=red&gt;Either username or password is wrong.&lt;/font&gt;&quot;);\n                rd.include(request, response);\n            }\n        }\n    }\n\n&gt; Create loginSuccess.jsp file in WebComponent\n\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\n        pageEncoding=&quot;ISO-8859-1&quot;%&gt;\n    &lt;!DOCTYPE html&gt;\n    &lt;html&gt;\n    &lt;head&gt;\n    &lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n    &lt;title&gt;Insert title here&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n    &lt;%-- &lt;%\n        String message = null;\n        String sessionID = null;\n        Cookie[] cookies = request.getCookies();\n        if(cookies != null){\n            for(Cookie cookie : cookies){\n                if(cookie.getName().equals(&quot;message&quot;)) message = cookie.getValue();\n                if(cookie.getName().equals(&quot;JSESSIONID&quot;)) sessionID = cookie.getValue();\n            }\n        }\n    %&gt; --%&gt;\n        &lt;h3&gt;Login Success&lt;/h3&gt;\n        &lt;%-- &lt;h4&gt;&lt;%=message%&gt;&lt;/h4&gt;\n        &lt;h4&gt;Session ID = &lt;%=sessionID %&gt;&lt;/h4&gt;\n     --%&gt;   &lt;br&gt;&lt;br&gt;\n        &lt;h1&gt;Welcome&lt;/h1&gt;\n        &lt;form action=&quot;LogoutServlet&quot; method=&quot;post&quot;&gt;\n            &lt;input type=&quot;submit&quot; value=&quot;Logout&quot; &gt;\n        &lt;/form&gt;\n    &lt;/body&gt;\n    &lt;/html&gt;\n\n&gt; Create LogoutServlet\n\n    package com.self.sessionid;\n    \n    import java.io.IOException;\n    import javax.servlet.ServletException;\n    import javax.servlet.annotation.WebServlet;\n    import javax.servlet.http.HttpServlet;\n    import javax.servlet.http.HttpServletRequest;\n    import javax.servlet.http.HttpServletResponse;\n    import javax.servlet.http.HttpSession;\n    \n    /**\n     * Servlet implementation class LogoutServlet\n     */\n    @WebServlet(&quot;/LogoutServlet&quot;)\n    public class LogoutServlet extends HttpServlet {\n        private static final long serialVersionUID = 1L;\n        \n        protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n            HttpSession session = request.getSession(false);\n            if(session != null){\n                session.invalidate();\n            }\n            response.sendRedirect(request.getContextPath() + &quot;/login.jsp&quot;);\n        }\n    \n    }\n\n\n","title":"How is a sessionID generated?","body":"<blockquote>\n<p>Here is complete code of you Question</p>\n<p>Create login.jsp</p>\n</blockquote>\n<pre><code> &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\n    pageEncoding=&quot;ISO-8859-1&quot;%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;US-ASCII&quot;&gt;\n    &lt;title&gt;Login Page&lt;/title&gt;\n    &lt;h1&gt;Please login to continue&lt;/h1&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;form action=&quot;LoginServlet&quot; method=&quot;post&quot;&gt;\n\n    User Name: &lt;input type=&quot;text&quot; name=&quot;username&quot;&gt;\n    &lt;br&gt;\n    Password: &lt;input type=&quot;password&quot; name=&quot;pwd&quot;&gt;\n    &lt;br&gt;&lt;br&gt;\n    &lt;input type=&quot;submit&quot; value=&quot;Login&quot;&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<blockquote>\n<p>Create LoginServlet</p>\n</blockquote>\n<pre><code>package com.self.sessionid;\n\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.net.CookieStore;\n\nimport javax.servlet.RequestDispatcher;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.Cookie;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport javax.servlet.http.HttpSession;\n\n\n@WebServlet(&quot;/LoginServlet&quot;)\npublic class LoginServlet extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n    private final String username = &quot;admin&quot;;\n    private final String password = &quot;password&quot;;\n    \n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        String username = request.getParameter(&quot;username&quot;);\n        String password = request.getParameter(&quot;pwd&quot;);\n        System.out.println(&quot;%%%%%&quot;);\n        \n        if(this.username.equals(username) &amp;&amp; this.password.equals(password)) {\n            HttpSession oldSession = request.getSession(false);\n            if(oldSession != null) {\n                oldSession.invalidate();\n            }\n            HttpSession newSession = request.getSession(true);\n            newSession.setMaxInactiveInterval(1*60);\n            Cookie message = new Cookie(&quot;message&quot;, &quot;welcome&quot;);\n            response.addCookie(message);\n            \n            String messag = null;\n            String sessionID = null;\n            Cookie[] cookies = request.getCookies();\n            if(cookies != null){\n                for(Cookie cookie : cookies){\n                    if(cookie.getName().equals(&quot;message&quot;)) messag = cookie.getValue();\n                    if(cookie.getName().equals(&quot;JSESSIONID&quot;)) sessionID = cookie.getValue();\n            }\n            }\n            \n            \n            \n            System.out.println(&quot;message : &quot; + messag);\n            System.out.println(&quot;Session Id : &quot; + sessionID);\n            \n            \n            /* response.sendRedirect(&quot;/loginSuccess.jsp&quot;); */\n            RequestDispatcher rd = getServletContext().getRequestDispatcher(&quot;/loginSuccess.jsp&quot;);\n            rd.include(request, response);\n        } else {\n            RequestDispatcher rd = getServletContext().getRequestDispatcher(&quot;/login.jsp&quot;);\n            PrintWriter out = response.getWriter();\n            out.println(&quot;&lt;font color=red&gt;Either username or password is wrong.&lt;/font&gt;&quot;);\n            rd.include(request, response);\n        }\n    }\n}\n</code></pre>\n<blockquote>\n<p>Create loginSuccess.jsp file in WebComponent</p>\n</blockquote>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\n    pageEncoding=&quot;ISO-8859-1&quot;%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n&lt;title&gt;Insert title here&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;%-- &lt;%\n    String message = null;\n    String sessionID = null;\n    Cookie[] cookies = request.getCookies();\n    if(cookies != null){\n        for(Cookie cookie : cookies){\n            if(cookie.getName().equals(&quot;message&quot;)) message = cookie.getValue();\n            if(cookie.getName().equals(&quot;JSESSIONID&quot;)) sessionID = cookie.getValue();\n        }\n    }\n%&gt; --%&gt;\n    &lt;h3&gt;Login Success&lt;/h3&gt;\n    &lt;%-- &lt;h4&gt;&lt;%=message%&gt;&lt;/h4&gt;\n    &lt;h4&gt;Session ID = &lt;%=sessionID %&gt;&lt;/h4&gt;\n --%&gt;   &lt;br&gt;&lt;br&gt;\n    &lt;h1&gt;Welcome&lt;/h1&gt;\n    &lt;form action=&quot;LogoutServlet&quot; method=&quot;post&quot;&gt;\n        &lt;input type=&quot;submit&quot; value=&quot;Logout&quot; &gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<blockquote>\n<p>Create LogoutServlet</p>\n</blockquote>\n<pre><code>package com.self.sessionid;\n\nimport java.io.IOException;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport javax.servlet.http.HttpSession;\n\n/**\n * Servlet implementation class LogoutServlet\n */\n@WebServlet(&quot;/LogoutServlet&quot;)\npublic class LogoutServlet extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n    \n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        HttpSession session = request.getSession(false);\n        if(session != null){\n            session.invalidate();\n        }\n        response.sendRedirect(request.getContextPath() + &quot;/login.jsp&quot;);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5077546,"reputation":1,"user_id":4074531,"display_name":"Suneel Srivastava"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1663934247,"creation_date":1663583647,"answer_id":73772049,"question_id":12836006,"body_markdown":"              \r\nTry this following code: \r\n\r\n    HttpSession session = request.getSession();\r\n    String sessionid = session.getId();\r\n    sessionid = sessionid.substring((sessionid.length() - 23), sessionid.length());","title":"How is a sessionID generated?","body":"<p>Try this following code:</p>\n<pre><code>HttpSession session = request.getSession();\nString sessionid = session.getId();\nsessionid = sessionid.substring((sessionid.length() - 23), sessionid.length());\n</code></pre>\n"}],"owner":{"account_id":259272,"reputation":2197,"user_id":542025,"accept_rate":50,"display_name":"Steven De Groote"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36075,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":12836172,"answer_count":5,"score":13,"last_activity_date":1663934247,"creation_date":1349946368,"question_id":12836006,"body_markdown":"When running a java web application with the servlet api (like JSF or JSP pages), somewhere along the line a &#39;unique&#39; SessionID is generated to identify the user&#39;s session.\r\n\r\nI&#39;m wondering how these sessionID&#39;s are generated. Do they include the IP of the client? A timestamp? Random numbers?\r\n\r\nSecondly, I&#39;m wondering where this generation happens? Is this dependent on the server that runs the application?\r\n\r\n","title":"How is a sessionID generated?","body":"<p>When running a java web application with the servlet api (like JSF or JSP pages), somewhere along the line a 'unique' SessionID is generated to identify the user's session.</p>\n\n<p>I'm wondering how these sessionID's are generated. Do they include the IP of the client? A timestamp? Random numbers?</p>\n\n<p>Secondly, I'm wondering where this generation happens? Is this dependent on the server that runs the application?</p>\n"},{"tags":["java","generics","wildcard"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1663935353,"post_id":73827224,"comment_id":130362048,"body_markdown":"`BiConsumer&lt;Number, Number&gt; addition` must be the signature. Otherwise it is uncertain what exact Number child class may be passed. Known of `List&lt;? extends Number&gt; numbers` and such.","body":"<code>BiConsumer&lt;Number, Number&gt; addition</code> must be the signature. Otherwise it is uncertain what exact Number child class may be passed. Known of <code>List&lt;? extends Number&gt; numbers</code> and such."},{"owner":{"account_id":23391725,"reputation":243,"user_id":17456295,"display_name":"Sawan Meshram"},"score":0,"creation_date":1663935975,"post_id":73827224,"comment_id":130362249,"body_markdown":"The problem is that you don&#39;t know what exactly the Number, when you try to accept it. It could be a Float, Double, Integer, etc. of any subclass of Number.\nTo more understand about _Wildcards_ (https://docs.oracle.com/javase/tutorial/extra/generics/wildcards.html)","body":"The problem is that you don&#39;t know what exactly the Number, when you try to accept it. It could be a Float, Double, Integer, etc. of any subclass of Number. To more understand about <i>Wildcards</i> (<a href=\"https://docs.oracle.com/javase/tutorial/extra/generics/wildcards.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/extra/generics/wildcards.ht&zwnj;&#8203;ml</a>)"},{"owner":{"account_id":14105282,"reputation":657,"user_id":10189517,"display_name":"HKIT"},"score":0,"creation_date":1663936518,"post_id":73827224,"comment_id":130362466,"body_markdown":"@JoopEggen then why List&lt;? extends Number&gt; number;\nnumber = new ArrayList&lt;Integer&gt;(); will work?","body":"@JoopEggen then why List&lt;? extends Number&gt; number; number = new ArrayList&lt;Integer&gt;(); will work?"},{"owner":{"account_id":14105282,"reputation":657,"user_id":10189517,"display_name":"HKIT"},"score":0,"creation_date":1663936714,"post_id":73827224,"comment_id":130362531,"body_markdown":"@SawanMeshram this should be the same case as List&lt;? extends Number&gt; number;\n        number = new ArrayList&lt;Integer&gt;(); \nbut this works","body":"@SawanMeshram this should be the same case as List&lt;? extends Number&gt; number;         number = new ArrayList&lt;Integer&gt;();  but this works"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1663938110,"post_id":73827224,"comment_id":130363127,"body_markdown":"@HKIT If one is not sure whether one has a `List&lt;Double&gt;` or `List&lt;Integer&gt;` one cannot `add` any `Number`. And that is the problem here. The addition could actual be assigned a `(BigDecimal a, Short b) -&gt;...` so in general you cannot do an `accept(Double, Integer)`.","body":"@HKIT If one is not sure whether one has a <code>List&lt;Double&gt;</code> or <code>List&lt;Integer&gt;</code> one cannot <code>add</code> any <code>Number</code>. And that is the problem here. The addition could actual be assigned a <code>(BigDecimal a, Short b) -&gt;...</code> so in general you cannot do an <code>accept(Double, Integer)</code>."},{"owner":{"account_id":23391725,"reputation":243,"user_id":17456295,"display_name":"Sawan Meshram"},"score":0,"creation_date":1663938344,"post_id":73827224,"comment_id":130363223,"body_markdown":"@HKIT Yes, it is actually an upper bound wildcard. List&lt;? extends Number&gt; number; this number list is less restrictive of type Number or any of its subclasses.\nActual fact is that Java doesn’t know what type List really is. If you try to add number to list such as _number.add(100);_ // This will not compile","body":"@HKIT Yes, it is actually an upper bound wildcard. List&lt;? extends Number&gt; number; this number list is less restrictive of type Number or any of its subclasses. Actual fact is that Java doesn’t know what type List really is. If you try to add number to list such as <i>number.add(100);</i> // This will not compile"}],"owner":{"account_id":14105282,"reputation":657,"user_id":10189517,"display_name":"HKIT"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663934191,"creation_date":1663933647,"question_id":73827224,"body_markdown":"I try to use BiConsumer in Java to do an addition, which accepts all Number type.\r\nMy code is as follow:\r\n\r\n```\r\npublic class App {\r\n    public static void main(String[] args) {\r\n        BiConsumer&lt;? extends Number, ? extends Number&gt; addition = (a, b) -&gt; {\r\n            Double sum = a.doubleValue() + b.doubleValue();\r\n        };\r\n        addition.accept(1, 2.3);\r\n    }\r\n}\r\n```\r\n\r\nBut it will have compiler error as below when I call the accept method in BiConsumer: &lt;br&gt;\r\n[![enter image description here][1]][1]&lt;br&gt;\r\n\r\nThe accept method has a simple method signature as below:&lt;br&gt;\r\n`void accept(T t, U u);`&lt;br&gt;\r\nI am not familiar with Generic, can anyone explain why we cannot do so?\r\nIf it is invalid, why doesn&#39;t the compiler indicates when I declare `? extends Number` in the BiConsumer.&lt;br&gt;\r\nAnd what is the proper why to achieve my goal?\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TY28L.png","title":"Java Generic Type with wildcard extends class","body":"<p>I try to use BiConsumer in Java to do an addition, which accepts all Number type.\nMy code is as follow:</p>\n<pre><code>public class App {\n    public static void main(String[] args) {\n        BiConsumer&lt;? extends Number, ? extends Number&gt; addition = (a, b) -&gt; {\n            Double sum = a.doubleValue() + b.doubleValue();\n        };\n        addition.accept(1, 2.3);\n    }\n}\n</code></pre>\n<p>But it will have compiler error as below when I call the accept method in BiConsumer: <br>\n<a href=\"https://i.stack.imgur.com/TY28L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TY28L.png\" alt=\"enter image description here\" /></a><br></p>\n<p>The accept method has a simple method signature as below:<br>\n<code>void accept(T t, U u);</code><br>\nI am not familiar with Generic, can anyone explain why we cannot do so?\nIf it is invalid, why doesn't the compiler indicates when I declare <code>? extends Number</code> in the BiConsumer.<br>\nAnd what is the proper why to achieve my goal?</p>\n"},{"tags":["java","reflection","long-integer","primitive-types"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1663934476,"post_id":73827330,"comment_id":130361723,"body_markdown":"A column type *cannot* be a primitive afaik","body":"A column type <i>cannot</i> be a primitive afaik"},{"owner":{"account_id":17400576,"reputation":35,"user_id":12609542,"display_name":"David Blbulyan"},"score":0,"creation_date":1663941336,"post_id":73827330,"comment_id":130364459,"body_markdown":"Shouldn&#39;t use a primitive type in this case?","body":"Shouldn&#39;t use a primitive type in this case?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1663942679,"post_id":73827330,"comment_id":130365018,"body_markdown":"Does the [`getValueAt` method of your `TableModel`](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/table/TableModel.html#getValueAt(int,int)) return a `long` or a `Long`? Obviously the latter, as the method’s return type is `Object`. Hence, the correct column type is `Long`.","body":"Does the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/table/TableModel.html#getValueAt(int,int)\" rel=\"nofollow noreferrer\"><code>getValueAt</code> method of your <code>TableModel</code></a> return a <code>long</code> or a <code>Long</code>? Obviously the latter, as the method’s return type is <code>Object</code>. Hence, the correct column type is <code>Long</code>."}],"owner":{"account_id":17400576,"reputation":35,"user_id":12609542,"display_name":"David Blbulyan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663934188,"creation_date":1663934188,"question_id":73827330,"body_markdown":"I have a problem with sorting primitive long in JTable. I have a class, this class extends AbstractTableModel and overrides method getColumnClass, here is the code of this method:\r\n\r\n    public Class&lt;?&gt; getColumnClass(int columnIndex) {\r\n            return columnFields[columnIndex].getType();\r\n    }\r\n\r\nSo, this method uses reflection api for getting class type. And I notice, that, if I change in my class(which stored in this tablemodel) type from long on Long, sorting will work correct. But if I use long instead Long, jtable interpreters this value as a string and sorting it as a string. \r\nNotice: columnFields is array of fields of the stored class.\r\nWhat is this? How to fix it? How to make this working for any type long or Long?","title":"Why if I return primitive long type class in getColumnClass sorting in jtable doesn&#39;t work?","body":"<p>I have a problem with sorting primitive long in JTable. I have a class, this class extends AbstractTableModel and overrides method getColumnClass, here is the code of this method:</p>\n<pre><code>public Class&lt;?&gt; getColumnClass(int columnIndex) {\n        return columnFields[columnIndex].getType();\n}\n</code></pre>\n<p>So, this method uses reflection api for getting class type. And I notice, that, if I change in my class(which stored in this tablemodel) type from long on Long, sorting will work correct. But if I use long instead Long, jtable interpreters this value as a string and sorting it as a string.\nNotice: columnFields is array of fields of the stored class.\nWhat is this? How to fix it? How to make this working for any type long or Long?</p>\n"},{"tags":["java","cucumber-jvm"],"answers":[{"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1435882208,"creation_date":1398609341,"answer_id":23324687,"question_id":23324507,"body_markdown":"Cucumber-JVM is based on JUnit so its just like running any unit tests from the command line\r\n\r\n    java -cp /path/to/junit.jar org.junit.runner.JUnitCore [test class name]\r\n\r\nwhere `test class name` is annotated with [`@CucumberOptions`][1] whose [`features`][2]\r\nrefer to the feature file. If youre using Maven you could use\r\n\r\n    mvn test\r\n\r\n\r\n  [1]: http://cucumber.github.io/api/cucumber/jvm/javadoc/cucumber/api/CucumberOptions.html\r\n  [2]: http://cucumber.github.io/api/cucumber/jvm/javadoc/cucumber/api/CucumberOptions.html#features--","title":"How to run a Cucumber-JVM feature file from the command line","body":"<p>Cucumber-JVM is based on JUnit so its just like running any unit tests from the command line</p>\n\n<pre><code>java -cp /path/to/junit.jar org.junit.runner.JUnitCore [test class name]\n</code></pre>\n\n<p>where <code>test class name</code> is annotated with <a href=\"http://cucumber.github.io/api/cucumber/jvm/javadoc/cucumber/api/CucumberOptions.html\" rel=\"nofollow\"><code>@CucumberOptions</code></a> whose <a href=\"http://cucumber.github.io/api/cucumber/jvm/javadoc/cucumber/api/CucumberOptions.html#features--\" rel=\"nofollow\"><code>features</code></a>\nrefer to the feature file. If youre using Maven you could use</p>\n\n<pre><code>mvn test\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4278655,"reputation":40,"user_id":3498695,"display_name":"Uttej Guduru"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1459278547,"creation_date":1459278238,"answer_id":36292971,"question_id":23324507,"body_markdown":"If you are using Maven, you can run your `.feature` file this way:\r\n\r\n    mvn -Dcucumber.options=&quot;from/the/root/of/module/to/the/feature/MyFeature.feature&quot; test\r\n\r\nThis will override the `@CucumberOptions` in the test runner class. ","title":"How to run a Cucumber-JVM feature file from the command line","body":"<p>If you are using Maven, you can run your <code>.feature</code> file this way:</p>\n\n<pre><code>mvn -Dcucumber.options=\"from/the/root/of/module/to/the/feature/MyFeature.feature\" test\n</code></pre>\n\n<p>This will override the <code>@CucumberOptions</code> in the test runner class. </p>\n"},{"tags":[],"owner":{"account_id":4783845,"reputation":11,"user_id":3864911,"display_name":"Or&#231;un"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663933951,"creation_date":1663933951,"answer_id":73827287,"question_id":23324507,"body_markdown":"You can run any test runner or override default test runner by using the command line below. This means you only want to run the test named SmokeTestRunner. By the way, you are free to set surefire plugin in your pom.xml any way. For example, you can set up your surefire plugin in your pom.xml to run the regression test named RegressionTestRunner. It doesn&#39;t matter.\r\n\r\n&gt; mvn *-Dtest=**/SmokeTestRunner.java* test\r\n\r\nYour SmokeTestRunner java file should look like this. -&gt;\r\n\r\n    @CucumberOptions(\r\n    features = &quot;src/test/resources/features/Smoke.feature&quot;,\r\n    glue = {&quot;stepdefinitions&quot;, &quot;hooks&quot;},\r\n    tags = &quot;@chrome&quot;, // It runs only scenarios tagged with &quot;@chrome&quot;\r\n    plugin = {&quot;pretty&quot;/*you can add more cucumber plugins here if you want.*/},\r\n    monochrome = true)\r\n    public class SmokeTestRunner extends AbstractTestNGCucumberTests {}\r\n\r\nFor more details, have a look at the maven surefire plugin docs. (https://maven.apache.org/surefire/maven-surefire-plugin/examples/single-test.html) ","title":"How to run a Cucumber-JVM feature file from the command line","body":"<p>You can run any test runner or override default test runner by using the command line below. This means you only want to run the test named SmokeTestRunner. By the way, you are free to set surefire plugin in your pom.xml any way. For example, you can set up your surefire plugin in your pom.xml to run the regression test named RegressionTestRunner. It doesn't matter.</p>\n<blockquote>\n<p>mvn <em>-Dtest=**/SmokeTestRunner.java</em> test</p>\n</blockquote>\n<p>Your SmokeTestRunner java file should look like this. -&gt;</p>\n<pre><code>@CucumberOptions(\nfeatures = &quot;src/test/resources/features/Smoke.feature&quot;,\nglue = {&quot;stepdefinitions&quot;, &quot;hooks&quot;},\ntags = &quot;@chrome&quot;, // It runs only scenarios tagged with &quot;@chrome&quot;\nplugin = {&quot;pretty&quot;/*you can add more cucumber plugins here if you want.*/},\nmonochrome = true)\npublic class SmokeTestRunner extends AbstractTestNGCucumberTests {}\n</code></pre>\n<p>For more details, have a look at the maven surefire plugin docs. (<a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/single-test.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/surefire/maven-surefire-plugin/examples/single-test.html</a>)</p>\n"}],"owner":{"account_id":4103394,"reputation":29,"user_id":3368238,"accept_rate":0,"display_name":"Dhussein"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7492,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1663933951,"creation_date":1398608240,"question_id":23324507,"body_markdown":"I have a file with file extension `.feature`. HOw do run this from the command line?\r\n\r\nIn order to make a batch file for each feature. I am using [Cucumber-JVM][1] with Java and [Selenium][2].\r\n\r\n  [1]: https://github.com/cucumber/cucumber-jvm\r\n  [2]: http://en.wikipedia.org/wiki/Selenium_%28software%29\r\n","title":"How to run a Cucumber-JVM feature file from the command line","body":"<p>I have a file with file extension <code>.feature</code>. HOw do run this from the command line?</p>\n\n<p>In order to make a batch file for each feature. I am using <a href=\"https://github.com/cucumber/cucumber-jvm\" rel=\"nofollow\">Cucumber-JVM</a> with Java and <a href=\"http://en.wikipedia.org/wiki/Selenium_%28software%29\" rel=\"nofollow\">Selenium</a>.</p>\n"},{"tags":["java","spring","spring-retry"],"comments":[{"owner":{"account_id":15845759,"reputation":568,"user_id":11433112,"display_name":"Bernado"},"score":0,"creation_date":1663933901,"post_id":69916559,"comment_id":130361536,"body_markdown":"Iam facing the same issue with custom exception type but found no solution...","body":"Iam facing the same issue with custom exception type but found no solution..."}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636572018,"creation_date":1636572018,"answer_id":69919063,"question_id":69916559,"body_markdown":"This works fine for me; are you sure you have `@EnableRetry`?\r\n\r\n```java\r\n@SpringBootApplication\r\n@EnableRetry\r\npublic class So69916559Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(So69916559Application.class, args);\r\n\t}\r\n\r\n\r\n\t@Bean\r\n\tApplicationRunner runner(Test test) {\r\n\t\treturn args -&gt; {\r\n\t\t\tSystem.out.println(test.getSomething(&quot;foo&quot;));\r\n\t\t};\r\n\t}\r\n\r\n}\r\n\r\n@Component\r\nclass Test {\r\n\r\n\tprivate static final Logger log = LoggerFactory.getLogger(Test.class);\r\n\r\n\t@Retryable(value = RuntimeException.class)\r\n\tpublic MyOwnType getSomething(String performanceId) {\r\n\t\tMyOwnType s = new MyOwnType();\r\n\t\tlog.info(&quot;here&quot;);\r\n\t\tthrow new RuntimeException();\r\n\t}\r\n\r\n\t@Recover\r\n\tpublic MyOwnType recover(RuntimeException exception, String performanceId) {\r\n\t\tlog.info(&quot;In recover method!!!!!!!!!!!!!!!!!!&quot;);\r\n\t\treturn new MyOwnType();\r\n\t}\r\n\r\n}\r\n\r\nclass MyOwnType implements Serializable {\r\n\r\n}\r\n```\r\n\r\nResult\r\n```\r\nhere\r\nhere\r\nhere\r\nIn recover method!!!!!!!!!!!!!!!!!!\r\ncom.example.demo.MyOwnType@3f725306\r\n```","title":"@Recover is not working for custom exception","body":"<p>This works fine for me; are you sure you have <code>@EnableRetry</code>?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@EnableRetry\npublic class So69916559Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(So69916559Application.class, args);\n    }\n\n\n    @Bean\n    ApplicationRunner runner(Test test) {\n        return args -&gt; {\n            System.out.println(test.getSomething(&quot;foo&quot;));\n        };\n    }\n\n}\n\n@Component\nclass Test {\n\n    private static final Logger log = LoggerFactory.getLogger(Test.class);\n\n    @Retryable(value = RuntimeException.class)\n    public MyOwnType getSomething(String performanceId) {\n        MyOwnType s = new MyOwnType();\n        log.info(&quot;here&quot;);\n        throw new RuntimeException();\n    }\n\n    @Recover\n    public MyOwnType recover(RuntimeException exception, String performanceId) {\n        log.info(&quot;In recover method!!!!!!!!!!!!!!!!!!&quot;);\n        return new MyOwnType();\n    }\n\n}\n\nclass MyOwnType implements Serializable {\n\n}\n</code></pre>\n<p>Result</p>\n<pre><code>here\nhere\nhere\nIn recover method!!!!!!!!!!!!!!!!!!\ncom.example.demo.MyOwnType@3f725306\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11110432,"reputation":161,"user_id":8156402,"display_name":"Nan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636644478,"creation_date":1636644478,"answer_id":69930855,"question_id":69916559,"body_markdown":"Problem resolved by changing the recover method to \r\n\r\n```\r\n@Recover\r\npublic MyOwnType recover(RuntimeException exception, String performanceId) {\r\n     log.info(&quot;In recover method!!!!!!!!!!!!!!!!!!&quot;);\r\n     return new MyOwnType();\r\n}\r\n```\r\n\r\nEven though MyException extends RuntimeException. The recover method will not be invoked if it is expecting MyException. Not sure why\r\n","title":"@Recover is not working for custom exception","body":"<p>Problem resolved by changing the recover method to</p>\n<pre><code>@Recover\npublic MyOwnType recover(RuntimeException exception, String performanceId) {\n     log.info(&quot;In recover method!!!!!!!!!!!!!!!!!!&quot;);\n     return new MyOwnType();\n}\n</code></pre>\n<p>Even though MyException extends RuntimeException. The recover method will not be invoked if it is expecting MyException. Not sure why</p>\n"}],"owner":{"account_id":11110432,"reputation":161,"user_id":8156402,"display_name":"Nan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":721,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1663933865,"creation_date":1636560544,"question_id":69916559,"body_markdown":"The following retry is working fine. The recover method got invoked after 3 failed tries\r\n\r\n```\r\n@Retryable(value = MyException.class)\r\npublic String getSomething(String performanceId) {\r\n    String s = &quot;test&quot;;\r\n     ...\r\n     throw new MyException(&quot;test&quot;, new RuntimeException());\r\n     ...\r\n    return s;\r\n }\r\n\r\n@Recover\r\npublic String recover(MyException exception, String performanceId) {\r\n     log.info(&quot;In recover method!!!!!!!!!!!!!!!!!!&quot;);\r\n     return &quot;test&quot;;\r\n}\r\n```\r\n\r\nBut the following recover method will not be invoked when I changed the return type. Can you please tell why and how to fix this? Thanks a lot!\r\n\r\n```\r\n@Retryable(value = MyException.class)\r\npublic MyOwnType getSomething(String performanceId) {\r\n    MyOwnType s = new MyOwnType();\r\n     ...\r\n     throw new MyException(&quot;test&quot;, new RuntimeException());\r\n     ...\r\n    return s;\r\n }\r\n\r\n@Recover\r\npublic MyOwnType recover(MyException exception, String performanceId) {\r\n     log.info(&quot;In recover method!!!!!!!!!!!!!!!!!!&quot;);\r\n     return new MyOwnType();\r\n}\r\n```\r\n\r\n---\r\n\r\n```\r\npublic class MyOwnType implements Serializable {\r\n...\r\n}\r\n```\r\n\r\nEDIT:\r\nI forgot to mention that I am throwing a custom exception as well\r\n\r\n```\r\npublic class MyException extends RuntimeException {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    public MyException(String message, Throwable cause) {\r\n        super(message, cause);\r\n    }\r\n\r\n}\r\n```\r\n\r\n","title":"@Recover is not working for custom exception","body":"<p>The following retry is working fine. The recover method got invoked after 3 failed tries</p>\n<pre><code>@Retryable(value = MyException.class)\npublic String getSomething(String performanceId) {\n    String s = &quot;test&quot;;\n     ...\n     throw new MyException(&quot;test&quot;, new RuntimeException());\n     ...\n    return s;\n }\n\n@Recover\npublic String recover(MyException exception, String performanceId) {\n     log.info(&quot;In recover method!!!!!!!!!!!!!!!!!!&quot;);\n     return &quot;test&quot;;\n}\n</code></pre>\n<p>But the following recover method will not be invoked when I changed the return type. Can you please tell why and how to fix this? Thanks a lot!</p>\n<pre><code>@Retryable(value = MyException.class)\npublic MyOwnType getSomething(String performanceId) {\n    MyOwnType s = new MyOwnType();\n     ...\n     throw new MyException(&quot;test&quot;, new RuntimeException());\n     ...\n    return s;\n }\n\n@Recover\npublic MyOwnType recover(MyException exception, String performanceId) {\n     log.info(&quot;In recover method!!!!!!!!!!!!!!!!!!&quot;);\n     return new MyOwnType();\n}\n</code></pre>\n<hr />\n<pre><code>public class MyOwnType implements Serializable {\n...\n}\n</code></pre>\n<p>EDIT:\nI forgot to mention that I am throwing a custom exception as well</p>\n<pre><code>public class MyException extends RuntimeException {\n\n    private static final long serialVersionUID = 1L;\n\n    public MyException(String message, Throwable cause) {\n        super(message, cause);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","maven","tesseract"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1663933954,"post_id":73827199,"comment_id":130361555,"body_markdown":"How are you running it at the command line?","body":"How are you running it at the command line?"},{"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"score":0,"creation_date":1663934545,"post_id":73827199,"comment_id":130361749,"body_markdown":"&quot;java -jar DrivingRecordTool.jar&quot; -- it is built as a &quot;Runnable Jar&quot; in eclipse, with necessary dependent jars included.","body":"&quot;java -jar DrivingRecordTool.jar&quot; -- it is built as a &quot;Runnable Jar&quot; in eclipse, with necessary dependent jars included."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1663934719,"post_id":73827199,"comment_id":130361817,"body_markdown":"Ok so it&#39;s definitely a fat jar? I wonder how it&#39;s finding the native libraries if it has them, which I think it does. Yes I know the exception doesn&#39;t talk about unfound libraries but... It would be worth double checking that the dependences are packaged exactly as they were in the java 8 version","body":"Ok so it&#39;s definitely a fat jar? I wonder how it&#39;s finding the native libraries if it has them, which I think it does. Yes I know the exception doesn&#39;t talk about unfound libraries but... It would be worth double checking that the dependences are packaged exactly as they were in the java 8 version"},{"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"score":0,"creation_date":1663935430,"post_id":73827199,"comment_id":130362070,"body_markdown":"I&#39;m not sure how I would do that, and it seems highly unlikely to be a packaging problem. The wrapper is a JNA library, which I assume is calling the DLL I installed. But that&#39;s working in eclipse.","body":"I&#39;m not sure how I would do that, and it seems highly unlikely to be a packaging problem. The wrapper is a JNA library, which I assume is calling the DLL I installed. But that&#39;s working in eclipse."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1663935887,"post_id":73827199,"comment_id":130362213,"body_markdown":"From which directory are you running it at the command line?","body":"From which directory are you running it at the command line?"},{"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"score":0,"creation_date":1663936714,"post_id":73827199,"comment_id":130362530,"body_markdown":"The directory containing the jar file.","body":"The directory containing the jar file."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1663936894,"post_id":73827199,"comment_id":130362596,"body_markdown":"Out of interest, what libraries are listed when you do ```dir &quot;%TMP%\\tess4j&quot;``` ?","body":"Out of interest, what libraries are listed when you do <code>dir &quot;%TMP%\\tess4j&quot;</code> ?"},{"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"score":0,"creation_date":1663936975,"post_id":73827199,"comment_id":130362625,"body_markdown":"I&#39;m in our chat window, can you join me there?","body":"I&#39;m in our chat window, can you join me there?"},{"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"score":0,"creation_date":1663937091,"post_id":73827199,"comment_id":130362687,"body_markdown":"https://chat.stackoverflow.com/rooms/248297/discussion-between-g00se-and-arcy","body":"<a href=\"https://chat.stackoverflow.com/rooms/248297/discussion-between-g00se-and-arcy\">chat.stackoverflow.com/rooms/248297/&hellip;</a>"}],"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663933521,"creation_date":1663933521,"question_id":73827199,"body_markdown":"I have a Java desktop application that was running fine in Java 1.8; I&#39;m upgrading to Java 1.11 for a client, and am getting the above error.\r\n\r\nFull stacktrace:\r\n\r\n\t\tjava.lang.ExceptionInInitializerError\r\n\t\t\t\tat net.sourceforge.tess4j.Tesseract.init(Tesseract.java:442)\r\n\t\t\t\tat net.sourceforge.tess4j.Tesseract.doOCR(Tesseract.java:326)\r\n\t\t\t\tat net.sourceforge.tess4j.Tesseract.doOCR(Tesseract.java:309)\r\n\t\t\t\tat net.sourceforge.tess4j.Tesseract.doOCR(Tesseract.java:290)\r\n\t\t\t\tat net.sourceforge.tess4j.Tesseract.doOCR(Tesseract.java:274)\r\n\t\t\t\tat drivingrecordtool.file.DrivingRecordPDFTextReader.getOCRText(DrivingRecordPDFTextReader.java:152)\r\n\t\t\t\tat drivingrecordtool.file.DrivingRecordPDFTextReader.getText(DrivingRecordPDFTextReader.java:46)\r\n\t\t\t\tat drivingrecordtool.file.DrivingRecordFileReader.doInBackground(DrivingRecordFileReader.java:78)\r\n\t\t\t\tat drivingrecordtool.file.DrivingRecordFileReader.doInBackground(DrivingRecordFileReader.java:1)\r\n\t\t\t\tat java.desktop/javax.swing.SwingWorker$1.call(SwingWorker.java:304)\r\n\t\t\t\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\t\t\t\tat java.desktop/javax.swing.SwingWorker.run(SwingWorker.java:343)\r\n\t\t\t\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\t\t\t\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\t\t\t\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\t\tCaused by: java.lang.IllegalStateException: zip file closed\r\n\t\t\t\tat java.base/java.util.zip.ZipFile.ensureOpen(ZipFile.java:913)\r\n\t\t\t\tat java.base/java.util.zip.ZipFile.getEntry(ZipFile.java:348)\r\n\t\t\t\tat java.base/java.util.zip.ZipFile$1.getEntry(ZipFile.java:1130)\r\n\t\t\t\tat java.base/java.util.jar.JarFile.getEntry0(JarFile.java:586)\r\n\t\t\t\tat java.base/java.util.jar.JarFile.getEntry(JarFile.java:516)\r\n\t\t\t\tat java.base/sun.net.www.protocol.jar.URLJarFile.getEntry(URLJarFile.java:131)\r\n\t\t\t\tat java.base/java.util.jar.JarFile.getJarEntry(JarFile.java:478)\r\n\t\t\t\tat java.base/jdk.internal.loader.URLClassPath$JarLoader.getResource(URLClassPath.java:945)\r\n\t\t\t\tat java.base/jdk.internal.loader.URLClassPath.getResource(URLClassPath.java:315)\r\n\t\t\t\tat java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:455)\r\n\t\t\t\tat java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:452)\r\n\t\t\t\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\t\t\t\tat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:451)\r\n\t\t\t\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)\r\n\t\t\t\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t\t\t\tat net.sourceforge.tess4j.util.LoadLibs.getTessAPIInstance(LoadLibs.java:83)\r\n\t\t\t\tat net.sourceforge.tess4j.TessAPI.&lt;clinit&gt;(TessAPI.java:42)\r\n\t\t\t\t... 15 more\r\n\r\nThe Tesseract library has a Java wrapper that I&#39;ve used for months successfully but now seems involved in the error, whatever it is. I&#39;ve been using the same DLL and started getting this failure, and I&#39;ve updated the Tesseraact DLL and the wrapper to their latest version.\r\n\r\nMore puzzling is that the application runs fine within eclipse, and only fails like this when run from a command line (Windows 10). I have uninstalled and reinstalled the DLL a couple of times, rebooted the machine each time, and am running out of things to try. I went through the entire Maven dependencies list and deleted all files found there from my repository, then refreshed the eclipse project to reload all the files in the list.\r\n\r\nI saw one suggestion of placing a breakpoint in ZipFile, but that won&#39;t help since the problem does not appear in eclipse.\r\n\r\nI&#39;m willing to upgrade the Java further, but it would be nice, first, to have some knowledge of what the problem is so that I have some confidence that will fix it.\r\n\r\nCan someone suggest what might be wrong, or strategies to find out?","title":"IllegalStateException: zip file closed","body":"<p>I have a Java desktop application that was running fine in Java 1.8; I'm upgrading to Java 1.11 for a client, and am getting the above error.</p>\n<p>Full stacktrace:</p>\n<pre><code>    java.lang.ExceptionInInitializerError\n            at net.sourceforge.tess4j.Tesseract.init(Tesseract.java:442)\n            at net.sourceforge.tess4j.Tesseract.doOCR(Tesseract.java:326)\n            at net.sourceforge.tess4j.Tesseract.doOCR(Tesseract.java:309)\n            at net.sourceforge.tess4j.Tesseract.doOCR(Tesseract.java:290)\n            at net.sourceforge.tess4j.Tesseract.doOCR(Tesseract.java:274)\n            at drivingrecordtool.file.DrivingRecordPDFTextReader.getOCRText(DrivingRecordPDFTextReader.java:152)\n            at drivingrecordtool.file.DrivingRecordPDFTextReader.getText(DrivingRecordPDFTextReader.java:46)\n            at drivingrecordtool.file.DrivingRecordFileReader.doInBackground(DrivingRecordFileReader.java:78)\n            at drivingrecordtool.file.DrivingRecordFileReader.doInBackground(DrivingRecordFileReader.java:1)\n            at java.desktop/javax.swing.SwingWorker$1.call(SwingWorker.java:304)\n            at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n            at java.desktop/javax.swing.SwingWorker.run(SwingWorker.java:343)\n            at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n            at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n            at java.base/java.lang.Thread.run(Thread.java:834)\n    Caused by: java.lang.IllegalStateException: zip file closed\n            at java.base/java.util.zip.ZipFile.ensureOpen(ZipFile.java:913)\n            at java.base/java.util.zip.ZipFile.getEntry(ZipFile.java:348)\n            at java.base/java.util.zip.ZipFile$1.getEntry(ZipFile.java:1130)\n            at java.base/java.util.jar.JarFile.getEntry0(JarFile.java:586)\n            at java.base/java.util.jar.JarFile.getEntry(JarFile.java:516)\n            at java.base/sun.net.www.protocol.jar.URLJarFile.getEntry(URLJarFile.java:131)\n            at java.base/java.util.jar.JarFile.getJarEntry(JarFile.java:478)\n            at java.base/jdk.internal.loader.URLClassPath$JarLoader.getResource(URLClassPath.java:945)\n            at java.base/jdk.internal.loader.URLClassPath.getResource(URLClassPath.java:315)\n            at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:455)\n            at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:452)\n            at java.base/java.security.AccessController.doPrivileged(Native Method)\n            at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:451)\n            at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)\n            at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n            at net.sourceforge.tess4j.util.LoadLibs.getTessAPIInstance(LoadLibs.java:83)\n            at net.sourceforge.tess4j.TessAPI.&lt;clinit&gt;(TessAPI.java:42)\n            ... 15 more\n</code></pre>\n<p>The Tesseract library has a Java wrapper that I've used for months successfully but now seems involved in the error, whatever it is. I've been using the same DLL and started getting this failure, and I've updated the Tesseraact DLL and the wrapper to their latest version.</p>\n<p>More puzzling is that the application runs fine within eclipse, and only fails like this when run from a command line (Windows 10). I have uninstalled and reinstalled the DLL a couple of times, rebooted the machine each time, and am running out of things to try. I went through the entire Maven dependencies list and deleted all files found there from my repository, then refreshed the eclipse project to reload all the files in the list.</p>\n<p>I saw one suggestion of placing a breakpoint in ZipFile, but that won't help since the problem does not appear in eclipse.</p>\n<p>I'm willing to upgrade the Java further, but it would be nice, first, to have some knowledge of what the problem is so that I have some confidence that will fix it.</p>\n<p>Can someone suggest what might be wrong, or strategies to find out?</p>\n"},{"tags":["java","loops","while-loop","conditional-statements","java.util.scanner"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1663927398,"post_id":73826046,"comment_id":130359499,"body_markdown":"just combine a loop with a conditional statement. it&#39;s as simple as that","body":"just combine a loop with a conditional statement. it&#39;s as simple as that"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1663927427,"post_id":73826046,"comment_id":130359509,"body_markdown":"`do{...}while(!sc.nextLine().equalsIgnoreCase(&quot;quit&quot;));`","body":"<code>do{...}while(!sc.nextLine().equalsIgnoreCase(&quot;quit&quot;));</code>"},{"owner":{"account_id":26295104,"reputation":9,"user_id":19961477,"display_name":"Sotei"},"score":0,"creation_date":1663927634,"post_id":73826046,"comment_id":130359577,"body_markdown":"If it is a do while, won&#39;t the last condition not work the first time?","body":"If it is a do while, won&#39;t the last condition not work the first time?"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1663927751,"post_id":73826046,"comment_id":130359622,"body_markdown":"With a do-while you first perform the code in the block and then ask the user if they want to quit.","body":"With a do-while you first perform the code in the block and then ask the user if they want to quit."},{"owner":{"account_id":26295104,"reputation":9,"user_id":19961477,"display_name":"Sotei"},"score":0,"creation_date":1663928575,"post_id":73826046,"comment_id":130359849,"body_markdown":"The at any point when an input is being asked is the problem here. This will only check at the very end,","body":"The at any point when an input is being asked is the problem here. This will only check at the very end,"}],"answers":[{"tags":[],"owner":{"account_id":9576179,"reputation":83,"user_id":7112195,"accept_rate":75,"display_name":"TerZer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663929290,"creation_date":1663929290,"answer_id":73826440,"question_id":73826046,"body_markdown":"First of all, we create some helper methods for reading user input:\r\n\r\n```java\r\n    public static int readNumber(){\r\n        Scanner sc = new Scanner(System.in);\r\n        String string = sc.nextLine(); //Read anything that user typed\r\n\r\n        //Terminate program if &quot;quit&quot; was typed\r\n        if(string.equalsIgnoreCase(&quot;quit&quot;)){\r\n            System.exit(0);\r\n        }\r\n\r\n        try {\r\n            return Integer.parseInt(string);\r\n        } catch (Exception e){\r\n            return readNumber(); //If user typed gibberish - retry\r\n        }\r\n    }\r\n\r\n    public static int readNumber(int lowerBound, int upperBound){\r\n        int number = readNumber();\r\n        if(number &lt; lowerBound || number &gt; upperBound){\r\n            return readNumber(lowerBound, upperBound);\r\n        }\r\n        return number;\r\n    }\r\n```\r\n\r\nAnd after that change main program:\r\n\r\n```java\r\n    public static void main(String[] args) {\r\n        //Run program indefinitely\r\n        while(true) {\r\n            System.out.println(&quot;Please give three numbers&quot;);\r\n\r\n            int num1 = readNumber();\r\n            int num2 = readNumber();\r\n            int num3 = readNumber();\r\n            System.out.println(&quot;Choose the temperature unit of the three numbers.&quot;);\r\n            System.out.println(&quot;Enter 1 for Celsius, 2 for Fahrenheit and 3 for Kelvin&quot;);\r\n            int tempUnit = readNumber(1, 3);\r\n            switch (tempUnit) {\r\n                case 1: System.out.println(&quot;Celsius was chosen.&quot;);\r\n                case 2: System.out.println(&quot;Fahrenheit was chosen.&quot;);\r\n                case 3: System.out.println(&quot;Kelvin was chosen.&quot;);\r\n            }\r\n            System.out.println(&quot;Choose the temperature unit you want to convert it into.&quot;);\r\n            System.out.println(&quot;Enter 1 for Celsius, 2 for Fahrenheit and 3 for Kelvin&quot;);\r\n            int chosenTemp = readNumber(1, 3);\r\n            switch (chosenTemp) {\r\n                case 1: System.out.println(&quot;Celsius was chosen.&quot;);\r\n                case 2: System.out.println(&quot;Fahrenheit was chosen.&quot;);\r\n                case 3: System.out.println(&quot;Kelvin was chosen.&quot;);\r\n            }\r\n        }\r\n    }\r\n```","title":"How to set up a loop condition that ends when a particular string input is entered","body":"<p>First of all, we create some helper methods for reading user input:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static int readNumber(){\n        Scanner sc = new Scanner(System.in);\n        String string = sc.nextLine(); //Read anything that user typed\n\n        //Terminate program if &quot;quit&quot; was typed\n        if(string.equalsIgnoreCase(&quot;quit&quot;)){\n            System.exit(0);\n        }\n\n        try {\n            return Integer.parseInt(string);\n        } catch (Exception e){\n            return readNumber(); //If user typed gibberish - retry\n        }\n    }\n\n    public static int readNumber(int lowerBound, int upperBound){\n        int number = readNumber();\n        if(number &lt; lowerBound || number &gt; upperBound){\n            return readNumber(lowerBound, upperBound);\n        }\n        return number;\n    }\n</code></pre>\n<p>And after that change main program:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args) {\n        //Run program indefinitely\n        while(true) {\n            System.out.println(&quot;Please give three numbers&quot;);\n\n            int num1 = readNumber();\n            int num2 = readNumber();\n            int num3 = readNumber();\n            System.out.println(&quot;Choose the temperature unit of the three numbers.&quot;);\n            System.out.println(&quot;Enter 1 for Celsius, 2 for Fahrenheit and 3 for Kelvin&quot;);\n            int tempUnit = readNumber(1, 3);\n            switch (tempUnit) {\n                case 1: System.out.println(&quot;Celsius was chosen.&quot;);\n                case 2: System.out.println(&quot;Fahrenheit was chosen.&quot;);\n                case 3: System.out.println(&quot;Kelvin was chosen.&quot;);\n            }\n            System.out.println(&quot;Choose the temperature unit you want to convert it into.&quot;);\n            System.out.println(&quot;Enter 1 for Celsius, 2 for Fahrenheit and 3 for Kelvin&quot;);\n            int chosenTemp = readNumber(1, 3);\n            switch (chosenTemp) {\n                case 1: System.out.println(&quot;Celsius was chosen.&quot;);\n                case 2: System.out.println(&quot;Fahrenheit was chosen.&quot;);\n                case 3: System.out.println(&quot;Kelvin was chosen.&quot;);\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663933310,"creation_date":1663933310,"answer_id":73827153,"question_id":73826046,"body_markdown":"Move the logic for getting input from the user into a separate method.  This is generally a good idea even in small programs as it allows you to focus on a single thing at a time.\r\n\r\n    private int readInt();\r\n\r\nDefine the Scanner statically or provide it as an input.  For simplicity, I&#39;m going to say we are providing it as an input so we will add this as a parameter.\r\n\r\n    private int readInt(Scanner scanner);\r\n\r\nThe method will read a line of input from the user, terminate the program if it matches &#39;quit&#39;, then parse and return the integer value.  It will report bad input and allow the user to retry until they quit or enter a valid int value.\r\n\r\n    private int readInt(Scanner scanner) {\r\n      while (true) {\r\n        String line = scanner.readLine();\r\n        if (&quot;quit&quot;.equalsIgnoreCase(line)) {\r\n          System.exit(0);\r\n        }\r\n        try {\r\n          return Integer.parse(line);\r\n        } catch (Exception e) {\r\n          System.out.println(&quot;That does not appear to be an integer - try again&quot;);\r\n        }\r\n      }\r\n    }\r\n\r\nUsage will look something like\r\n\r\n    Scanner scanner = new Scanner(System.in);\r\n    ... stuff ...\r\n\r\n    int value = readInt(scanner);","title":"How to set up a loop condition that ends when a particular string input is entered","body":"<p>Move the logic for getting input from the user into a separate method.  This is generally a good idea even in small programs as it allows you to focus on a single thing at a time.</p>\n<pre><code>private int readInt();\n</code></pre>\n<p>Define the Scanner statically or provide it as an input.  For simplicity, I'm going to say we are providing it as an input so we will add this as a parameter.</p>\n<pre><code>private int readInt(Scanner scanner);\n</code></pre>\n<p>The method will read a line of input from the user, terminate the program if it matches 'quit', then parse and return the integer value.  It will report bad input and allow the user to retry until they quit or enter a valid int value.</p>\n<pre><code>private int readInt(Scanner scanner) {\n  while (true) {\n    String line = scanner.readLine();\n    if (&quot;quit&quot;.equalsIgnoreCase(line)) {\n      System.exit(0);\n    }\n    try {\n      return Integer.parse(line);\n    } catch (Exception e) {\n      System.out.println(&quot;That does not appear to be an integer - try again&quot;);\n    }\n  }\n}\n</code></pre>\n<p>Usage will look something like</p>\n<pre><code>Scanner scanner = new Scanner(System.in);\n... stuff ...\n\nint value = readInt(scanner);\n</code></pre>\n"}],"owner":{"account_id":26295104,"reputation":9,"user_id":19961477,"display_name":"Sotei"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1663933310,"creation_date":1663927233,"question_id":73826046,"body_markdown":"This is the input part of my problem.\r\nWrite a program that will continuously allow the user to enter the following:\r\n\r\n*Temperature at 3 different instances\r\n\r\n*Unit of Temperature for the 3 inputs (Celsius, Fahrenheit, Kelvin)*\r\n\r\n*Unit of Temperature for Conversion (Celsius, Fahrenheit, Kelvin)*\r\n\r\n*If none of these conditions are met or the output has been printed then it will return to ask the* \r\n\r\n*user to enter new values.*\r\n\r\n***If at any point during the input stage the user enters the word &quot;Quit&quot; then end the program.****\r\n\r\nI was able to do everything in the problem but I skipped the last condition above since I don&#39;t know how to set it up.\r\nNow this is the input phase of my program:\r\n\r\n    Scanner sc = new Scanner(System.in);\r\n     \r\n            System.out.println(&quot;Please give three numbers&quot;);\r\n            int num1 = sc.nextInt();\r\n            int num2 = sc.nextInt();\r\n            int num3 = sc.nextInt();\r\n            System.out.println(&quot;Choose the temperature unit of the three numbers.&quot;);\r\n            System.out.println(&quot;Enter 1 for Celsius, 2 for Fahrenheit and 3 for Kelvin&quot;);\r\n            int tempUnit = sc.nextInt();\r\n            switch (tempUnit) {\r\n                case (1) -&gt; System.out.println(&quot;Celsius was chosen.&quot;);\r\n                case (2) -&gt; System.out.println(&quot;Fahrenheit was chosen.&quot;);\r\n                case (3) -&gt; System.out.println(&quot;Kelvin was chosen.&quot;);\r\n            }\r\n            System.out.println(&quot;Choose the temperature unit you want to convert it into.&quot;);\r\n            System.out.println(&quot;Enter 1 for Celsius, 2 for Fahrenheit and 3 for Kelvin&quot;);\r\n            int chosenTemp = sc.nextInt();\r\n                switch (chosenTemp) {\r\n                    case (1) -&gt; System.out.println(&quot;Celsius was chosen.&quot;);\r\n                    case (2) -&gt; System.out.println(&quot;Fahrenheit was chosen.&quot;);\r\n                    case (3) -&gt; System.out.println(&quot;Kelvin was chosen.&quot;);\r\n                }\r\n\r\nThe condition that as long as the string &quot;Quit&quot; is input at any point the loop ends program ends.\r\n\r\nA while loop on top with the condition that checks if the input &quot;Quit&quot; is entered will complete \r\n\r\neverything but I keep failing most of the time because I get an error if a different data type is \r\n\r\ninputted than what is being asked. \r\n\r\nSomeone told me my prompt isn&#39;t set up for this to receive &quot;Quit&quot; for my while loop. Can anybody \r\n\r\ngive me an example or teach me how I set this up?","title":"How to set up a loop condition that ends when a particular string input is entered","body":"<p>This is the input part of my problem.\nWrite a program that will continuously allow the user to enter the following:</p>\n<p>*Temperature at 3 different instances</p>\n<p><em>Unit of Temperature for the 3 inputs (Celsius, Fahrenheit, Kelvin)</em></p>\n<p><em>Unit of Temperature for Conversion (Celsius, Fahrenheit, Kelvin)</em></p>\n<p><em>If none of these conditions are met or the output has been printed then it will return to ask the</em></p>\n<p><em>user to enter new values.</em></p>\n<p><em><strong>If at any point during the input stage the user enters the word &quot;Quit&quot; then end the program.</strong></em>*</p>\n<p>I was able to do everything in the problem but I skipped the last condition above since I don't know how to set it up.\nNow this is the input phase of my program:</p>\n<pre><code>Scanner sc = new Scanner(System.in);\n \n        System.out.println(&quot;Please give three numbers&quot;);\n        int num1 = sc.nextInt();\n        int num2 = sc.nextInt();\n        int num3 = sc.nextInt();\n        System.out.println(&quot;Choose the temperature unit of the three numbers.&quot;);\n        System.out.println(&quot;Enter 1 for Celsius, 2 for Fahrenheit and 3 for Kelvin&quot;);\n        int tempUnit = sc.nextInt();\n        switch (tempUnit) {\n            case (1) -&gt; System.out.println(&quot;Celsius was chosen.&quot;);\n            case (2) -&gt; System.out.println(&quot;Fahrenheit was chosen.&quot;);\n            case (3) -&gt; System.out.println(&quot;Kelvin was chosen.&quot;);\n        }\n        System.out.println(&quot;Choose the temperature unit you want to convert it into.&quot;);\n        System.out.println(&quot;Enter 1 for Celsius, 2 for Fahrenheit and 3 for Kelvin&quot;);\n        int chosenTemp = sc.nextInt();\n            switch (chosenTemp) {\n                case (1) -&gt; System.out.println(&quot;Celsius was chosen.&quot;);\n                case (2) -&gt; System.out.println(&quot;Fahrenheit was chosen.&quot;);\n                case (3) -&gt; System.out.println(&quot;Kelvin was chosen.&quot;);\n            }\n</code></pre>\n<p>The condition that as long as the string &quot;Quit&quot; is input at any point the loop ends program ends.</p>\n<p>A while loop on top with the condition that checks if the input &quot;Quit&quot; is entered will complete</p>\n<p>everything but I keep failing most of the time because I get an error if a different data type is</p>\n<p>inputted than what is being asked.</p>\n<p>Someone told me my prompt isn't set up for this to receive &quot;Quit&quot; for my while loop. Can anybody</p>\n<p>give me an example or teach me how I set this up?</p>\n"},{"tags":["java","configuration","microprofile","helidon"],"answers":[{"tags":[],"owner":{"account_id":25243309,"reputation":31,"user_id":19076907,"display_name":"Arjav Desai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652101559,"creation_date":1652101559,"answer_id":72172490,"question_id":72163465,"body_markdown":"We currently don&#39;t have a single documentation which list all possible config option for Helidon MP and are working on providing that as part of https://github.com/oracle/helidon/issues/3463\r\n\r\nThe doc you linked is giving example of how to configure as well as what to configure e.g. properties needed for TLS etc. If you can specify, what you want to configure on MP server or other component, we should be able to provide reference for the same.","title":"Documentation of Helidon MP configuration options","body":"<p>We currently don't have a single documentation which list all possible config option for Helidon MP and are working on providing that as part of <a href=\"https://github.com/oracle/helidon/issues/3463\" rel=\"nofollow noreferrer\">https://github.com/oracle/helidon/issues/3463</a></p>\n<p>The doc you linked is giving example of how to configure as well as what to configure e.g. properties needed for TLS etc. If you can specify, what you want to configure on MP server or other component, we should be able to provide reference for the same.</p>\n"},{"tags":[],"owner":{"account_id":3809533,"reputation":491,"user_id":5439738,"display_name":"Tomas Langer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1663933194,"creation_date":1663933194,"answer_id":73827133,"question_id":72163465,"body_markdown":"Configuration reference for all configurable objects of Helidon (both SE and MP):\r\nhttps://helidon.io/docs/v3/#/config/config_reference","title":"Documentation of Helidon MP configuration options","body":"<p>Configuration reference for all configurable objects of Helidon (both SE and MP):\n<a href=\"https://helidon.io/docs/v3/#/config/config_reference\" rel=\"nofollow noreferrer\">https://helidon.io/docs/v3/#/config/config_reference</a></p>\n"}],"owner":{"account_id":321078,"reputation":15468,"user_id":639687,"accept_rate":69,"display_name":"czerny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73827133,"answer_count":2,"score":0,"last_activity_date":1663933194,"creation_date":1652030446,"question_id":72163465,"body_markdown":"Is there a documentation that lists all configuration options of Helidon MP, what they control, their default and allowed values? \r\n\r\nThe official [Configuring the Server][1] guide focuses for on in what way the configuration can come from, but not much on what can be configured.\r\n\r\n[1]: https://helidon.io/docs/v2/#/mp/jaxrs/02_server-configuration","title":"Documentation of Helidon MP configuration options","body":"<p>Is there a documentation that lists all configuration options of Helidon MP, what they control, their default and allowed values?</p>\n<p>The official <a href=\"https://helidon.io/docs/v2/#/mp/jaxrs/02_server-configuration\" rel=\"nofollow noreferrer\">Configuring the Server</a> guide focuses for on in what way the configuration can come from, but not much on what can be configured.</p>\n"},{"tags":["java","mysql","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663933098,"creation_date":1663933098,"answer_id":73827112,"question_id":73826807,"body_markdown":"You&#39;ve got to think of separate types (tables) and the relationship that you&#39;ve declared. \r\n\r\nCascading means to apply the same operation to the entities that are related to the entity in which the corresponding relationship is declared. E.g. `CascadeType.REMOVE` means to delete the related borrowed books when the user is deleted. \r\n\r\nIf you just remove a book from the list and merge the user, the foreign key of the book is set to NULL and due to the `CascadeType.MERGE` it&#39;s saved to the DB. The borrowed book itself still exists in the table, but doesn&#39;t reference the user anymore, so it&#39;s &quot;orphan&quot;. To remove those orphan records automatically, you can add `orphanRemoval=true` to your `@OneToMany` annotation. Also have a look at the [docs](https://docs.oracle.com/javaee/7/api/javax/persistence/OneToMany.html#orphanRemoval--).","title":"How to remove rows from a table that is mapped using one to many unidirectional mapping with a primary table","body":"<p>You've got to think of separate types (tables) and the relationship that you've declared.</p>\n<p>Cascading means to apply the same operation to the entities that are related to the entity in which the corresponding relationship is declared. E.g. <code>CascadeType.REMOVE</code> means to delete the related borrowed books when the user is deleted.</p>\n<p>If you just remove a book from the list and merge the user, the foreign key of the book is set to NULL and due to the <code>CascadeType.MERGE</code> it's saved to the DB. The borrowed book itself still exists in the table, but doesn't reference the user anymore, so it's &quot;orphan&quot;. To remove those orphan records automatically, you can add <code>orphanRemoval=true</code> to your <code>@OneToMany</code> annotation. Also have a look at the <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/OneToMany.html#orphanRemoval--\" rel=\"nofollow noreferrer\">docs</a>.</p>\n"}],"owner":{"account_id":18130353,"reputation":65,"user_id":13185519,"display_name":"Mathew Pius"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73827112,"answer_count":1,"score":0,"last_activity_date":1663933098,"creation_date":1663931373,"question_id":73826807,"body_markdown":"I have an entity class for user:\r\n```\r\n@Entity\r\n@Table(name=&quot;user&quot;)\r\npublic class User {\r\n\r\n\t//one-to-many relationship with borrowed books\r\n\t\r\n\r\n\t@OneToMany(cascade = {CascadeType.DETACH, CascadeType.MERGE,CascadeType.PERSIST, CascadeType.REFRESH },fetch=FetchType.LAZY)\r\n\t@JoinColumn(name=&quot;user_id&quot;)\r\n\t\r\n\tprivate List&lt;BorrowedBooks&gt; borrowedBooks;\r\n\t\r\n\t\r\n\t\r\n\r\n\r\n\t//define fields\r\n\t@Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n     \r\n    @Column(nullable = false, unique = true, length = 45)\r\n    private String email;\r\n     \r\n    @Column(nullable = false, length = 64)\r\n    private String password;\r\n     \r\n    @Column(name = &quot;first_name&quot;, nullable = false, length = 20)\r\n    private String firstName;\r\n     \r\n    @Column(name = &quot;last_name&quot;, nullable = false, length = 20)\r\n    private String lastName;\r\n\t    \r\n    public User() {\r\n    \t\r\n    }\r\n    \r\n    public User(Integer id, String email, String password, String firstName,\r\n\t\t\tString lastName) {\r\n\t\tthis.id = id;\r\n\t\tthis.email = email;\r\n\t\tthis.password = password;\r\n\t\tthis.firstName = firstName;\r\n\t\tthis.lastName = lastName;\r\n\t}\r\n\r\n\t//define getters and setters\r\n\r\n\tpublic Integer getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Integer id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getEmail() {\r\n\t\treturn email;\r\n\t}\r\n\r\n\tpublic void setEmail(String email) {\r\n\t\tthis.email = email;\r\n\t}\r\n\r\n\tpublic String getPassword() {\r\n\t\treturn password;\r\n\t}\r\n\r\n\tpublic void setPassword(String password) {\r\n\t\tthis.password = password;\r\n\t}\r\n\r\n\tpublic String getFirstName() {\r\n\t\treturn firstName;\r\n\t}\r\n\r\n\tpublic void setFirstName(String firstName) {\r\n\t\tthis.firstName = firstName;\r\n\t}\r\n\r\n\tpublic String getLastName() {\r\n\t\treturn lastName;\r\n\t}\r\n\r\n\tpublic void setLastName(String lastName) {\r\n\t\tthis.lastName = lastName;\r\n\t}\r\n\t\r\n\tpublic List&lt;BorrowedBooks&gt; getBorrowedBooks() {\r\n\t\treturn borrowedBooks;\r\n\t}\r\n\tpublic void setBorrowedBooks(List&lt;BorrowedBooks&gt; borrowedBooks) {\r\n\t\tthis.borrowedBooks = borrowedBooks;\r\n\t}\r\n\t\r\n\tpublic void addBorrowedBook(BorrowedBooks borrowedbook) {\r\n\t\tif(borrowedBooks==null) {\r\n\t\t\tborrowedBooks = new ArrayList&lt;&gt;();\r\n\t\t}\r\n\t\tborrowedBooks.add(borrowedbook);\r\n\t}\r\n\r\n\t\r\n\t//define toString method\r\n\t\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;User [id=&quot; + id + &quot;, firstName=&quot; + firstName + &quot;, lastName=&quot; + lastName + &quot;, email=&quot; + email\r\n\t\t\t\t+ &quot;, password=&quot; + password + &quot;]&quot;;\r\n\t}\r\n\t\r\n\t\r\n}\r\n```\r\nI have another entity class borrowedBooks:\r\n```\r\n@Entity\r\n@Table(name=&quot;borrowed_books&quot;)\r\n\r\npublic class BorrowedBooks {\r\n\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy= GenerationType.IDENTITY)\r\n\t@Column(name=&quot;id&quot;)\r\n\tprivate Integer id;\r\n\t\r\n\t@Column(name=&quot;borrowed_date&quot;)\r\n\tprivate LocalDate borrowedDate;\r\n\t@Column(name=&quot;book_name&quot;)\r\n\tprivate String bookName;\r\n\t@Column(name=&quot;genre&quot;)\r\n\tprivate String genre ;\r\n\t@Column(name=&quot;book_id&quot;)\r\n\tprivate Integer bookId;\r\n\t@Column(name=&quot;due_date&quot;)\r\n\tprivate LocalDate dueDate = null;\r\n\t\r\n\r\n\t\r\n\t\r\n\t\r\n\tpublic BorrowedBooks() {\r\n\t\t\r\n\t}\r\n\tpublic BorrowedBooks(Integer id, LocalDate borrowedDate, String bookName, String genre, Integer bookId,\r\n\t\t\tLocalDate dueDate) {\r\n\t\tthis.id = id;\r\n\t\tthis.borrowedDate = borrowedDate;\r\n\t\tthis.bookName = bookName;\r\n\t\tthis.genre = genre;\r\n\t\tthis.bookId = bookId;\r\n\t\tthis.dueDate = dueDate;\r\n\t\t\r\n//\t\tthis.user = user;\r\n//\t\tthis.books = books;\r\n\t}\r\n\tpublic Integer getid() {\r\n\t\treturn id;\r\n\t}\r\n\tpublic void setid(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\tpublic LocalDate getBorrowedDate() {\r\n\t\treturn borrowedDate;\r\n\t}\r\n\tpublic void setBorrowedDate(LocalDate borrowedDate) {\r\n\t\tthis.borrowedDate = borrowedDate;\r\n\t}\r\n\tpublic String getBookName() {\r\n\t\treturn bookName;\r\n\t}\r\n\tpublic void setBookName(String bookName) {\r\n\t\tthis.bookName = bookName;\r\n\t}\r\n\tpublic String getGenre() {\r\n\t\treturn genre;\r\n\t}\r\n\tpublic void setGenre(String genre) {\r\n\t\tthis.genre = genre;\r\n\t}\r\n\tpublic int getBookId() {\r\n\t\treturn bookId;\r\n\t}\r\n\tpublic void setBookId(int bookId) {\r\n\t\tthis.bookId = bookId;\r\n\t}\r\n\tpublic LocalDate getDueDate() {\r\n\t\treturn dueDate;\r\n\t}\r\n\tpublic void setDueDate(LocalDate dueDate) {\r\n\t\tthis.dueDate = dueDate;\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nThe user is mapped to the borrowed books class with a one-to-many unidirectional mapping with the userId which is primary key in the user class as the foreign key of the borrowed books class.\r\n\r\nI have this controller code:\r\n```\r\n@GetMapping(&quot;/returnBooks&quot;)\r\n\tpublic String returnBooks(@RequestParam List&lt;Integer&gt; bookId) {\r\n\t\tint userId = CurrentUser.getCurrentUserId(); //i am fetching user Id\r\n\t\t\r\n\t\tUser theUser = userService.findById(userId); //finding the user from the db for the corresponding user Id\r\n\t\tList&lt;BorrowedBooks&gt; borrowedbooks = theUser.getBorrowedBooks(); // getting the borrowed books from the user class\r\n\t\tfor(int i=0;i&lt;bookId.size();i++) {\r\n\t\t\tif(borrowedbooks.get(i).getBookId()==bookId.get(i)) //checking if the borrowed books in the user class matches with the @RequestParam book id that i am passing from frontend\r\n\t\t\t{\t\r\n\t\t\t\tborrowedbooks.remove(borrowedbooks.get(i)); //removing the matching books\r\n\t\t\t}\r\n\t\t}\r\n\t\ttheUser.setBorrowedBooks(null); // setting the  borrowed books array to null so I can add the modified array of borrowed books\r\n\t\tfor(BorrowedBooks borrowedBook : borrowedbooks) {\r\n\t\t\ttheUser.addBorrowedBook(borrowedBook); //adding the borrowed book into the array of borrowed books\r\n\t\t}\r\n\t\tuserService.save(theUser); //saving the object back into the database with the new borrowedBooks\r\n\t\treturn &quot;success&quot;;\r\n\t\t\r\n\t}\r\n```\r\n\r\nBut this only removes the user Id foreign key from the borrowed books table and leaves the rest of the data in the row the same\r\n\r\nThis is my borrowed books table\r\n```\r\nid| borrowed_date   |   book_name                          category  book_id    due_date  user_id\r\n1 |\t2022-09-23      |\tData Science at the Command Line   | Tech    |   1     | 2022-10-14  |null\t\r\n2 |\t2022-09-23      |\tA Practical Introduction to Python | Tech    |   2     | 2022-10-14  |1\r\n```\r\n\r\nThis is how I want it to look like if I remove a book of Id 1\r\n```\r\nid| borrowed_date   |   book_name                          category  book_id    due_date  user_id\r\n2 |\t2022-09-23      |\tA Practical Introduction to Python | Tech    |   2     | 2022-10-14  |1\r\n```\t\t\t","title":"How to remove rows from a table that is mapped using one to many unidirectional mapping with a primary table","body":"<p>I have an entity class for user:</p>\n<pre><code>@Entity\n@Table(name=&quot;user&quot;)\npublic class User {\n\n    //one-to-many relationship with borrowed books\n    \n\n    @OneToMany(cascade = {CascadeType.DETACH, CascadeType.MERGE,CascadeType.PERSIST, CascadeType.REFRESH },fetch=FetchType.LAZY)\n    @JoinColumn(name=&quot;user_id&quot;)\n    \n    private List&lt;BorrowedBooks&gt; borrowedBooks;\n    \n    \n    \n\n\n    //define fields\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n     \n    @Column(nullable = false, unique = true, length = 45)\n    private String email;\n     \n    @Column(nullable = false, length = 64)\n    private String password;\n     \n    @Column(name = &quot;first_name&quot;, nullable = false, length = 20)\n    private String firstName;\n     \n    @Column(name = &quot;last_name&quot;, nullable = false, length = 20)\n    private String lastName;\n        \n    public User() {\n        \n    }\n    \n    public User(Integer id, String email, String password, String firstName,\n            String lastName) {\n        this.id = id;\n        this.email = email;\n        this.password = password;\n        this.firstName = firstName;\n        this.lastName = lastName;\n    }\n\n    //define getters and setters\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n    \n    public List&lt;BorrowedBooks&gt; getBorrowedBooks() {\n        return borrowedBooks;\n    }\n    public void setBorrowedBooks(List&lt;BorrowedBooks&gt; borrowedBooks) {\n        this.borrowedBooks = borrowedBooks;\n    }\n    \n    public void addBorrowedBook(BorrowedBooks borrowedbook) {\n        if(borrowedBooks==null) {\n            borrowedBooks = new ArrayList&lt;&gt;();\n        }\n        borrowedBooks.add(borrowedbook);\n    }\n\n    \n    //define toString method\n    \n    @Override\n    public String toString() {\n        return &quot;User [id=&quot; + id + &quot;, firstName=&quot; + firstName + &quot;, lastName=&quot; + lastName + &quot;, email=&quot; + email\n                + &quot;, password=&quot; + password + &quot;]&quot;;\n    }\n    \n    \n}\n</code></pre>\n<p>I have another entity class borrowedBooks:</p>\n<pre><code>@Entity\n@Table(name=&quot;borrowed_books&quot;)\n\npublic class BorrowedBooks {\n\n    \n    @Id\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\n    @Column(name=&quot;id&quot;)\n    private Integer id;\n    \n    @Column(name=&quot;borrowed_date&quot;)\n    private LocalDate borrowedDate;\n    @Column(name=&quot;book_name&quot;)\n    private String bookName;\n    @Column(name=&quot;genre&quot;)\n    private String genre ;\n    @Column(name=&quot;book_id&quot;)\n    private Integer bookId;\n    @Column(name=&quot;due_date&quot;)\n    private LocalDate dueDate = null;\n    \n\n    \n    \n    \n    public BorrowedBooks() {\n        \n    }\n    public BorrowedBooks(Integer id, LocalDate borrowedDate, String bookName, String genre, Integer bookId,\n            LocalDate dueDate) {\n        this.id = id;\n        this.borrowedDate = borrowedDate;\n        this.bookName = bookName;\n        this.genre = genre;\n        this.bookId = bookId;\n        this.dueDate = dueDate;\n        \n//      this.user = user;\n//      this.books = books;\n    }\n    public Integer getid() {\n        return id;\n    }\n    public void setid(int id) {\n        this.id = id;\n    }\n    public LocalDate getBorrowedDate() {\n        return borrowedDate;\n    }\n    public void setBorrowedDate(LocalDate borrowedDate) {\n        this.borrowedDate = borrowedDate;\n    }\n    public String getBookName() {\n        return bookName;\n    }\n    public void setBookName(String bookName) {\n        this.bookName = bookName;\n    }\n    public String getGenre() {\n        return genre;\n    }\n    public void setGenre(String genre) {\n        this.genre = genre;\n    }\n    public int getBookId() {\n        return bookId;\n    }\n    public void setBookId(int bookId) {\n        this.bookId = bookId;\n    }\n    public LocalDate getDueDate() {\n        return dueDate;\n    }\n    public void setDueDate(LocalDate dueDate) {\n        this.dueDate = dueDate;\n    }\n    \n}\n</code></pre>\n<p>The user is mapped to the borrowed books class with a one-to-many unidirectional mapping with the userId which is primary key in the user class as the foreign key of the borrowed books class.</p>\n<p>I have this controller code:</p>\n<pre><code>@GetMapping(&quot;/returnBooks&quot;)\n    public String returnBooks(@RequestParam List&lt;Integer&gt; bookId) {\n        int userId = CurrentUser.getCurrentUserId(); //i am fetching user Id\n        \n        User theUser = userService.findById(userId); //finding the user from the db for the corresponding user Id\n        List&lt;BorrowedBooks&gt; borrowedbooks = theUser.getBorrowedBooks(); // getting the borrowed books from the user class\n        for(int i=0;i&lt;bookId.size();i++) {\n            if(borrowedbooks.get(i).getBookId()==bookId.get(i)) //checking if the borrowed books in the user class matches with the @RequestParam book id that i am passing from frontend\n            {   \n                borrowedbooks.remove(borrowedbooks.get(i)); //removing the matching books\n            }\n        }\n        theUser.setBorrowedBooks(null); // setting the  borrowed books array to null so I can add the modified array of borrowed books\n        for(BorrowedBooks borrowedBook : borrowedbooks) {\n            theUser.addBorrowedBook(borrowedBook); //adding the borrowed book into the array of borrowed books\n        }\n        userService.save(theUser); //saving the object back into the database with the new borrowedBooks\n        return &quot;success&quot;;\n        \n    }\n</code></pre>\n<p>But this only removes the user Id foreign key from the borrowed books table and leaves the rest of the data in the row the same</p>\n<p>This is my borrowed books table</p>\n<pre><code>id| borrowed_date   |   book_name                          category  book_id    due_date  user_id\n1 | 2022-09-23      |   Data Science at the Command Line   | Tech    |   1     | 2022-10-14  |null  \n2 | 2022-09-23      |   A Practical Introduction to Python | Tech    |   2     | 2022-10-14  |1\n</code></pre>\n<p>This is how I want it to look like if I remove a book of Id 1</p>\n<pre><code>id| borrowed_date   |   book_name                          category  book_id    due_date  user_id\n2 | 2022-09-23      |   A Practical Introduction to Python | Tech    |   2     | 2022-10-14  |1\n</code></pre>\n"},{"tags":["java","fibonacci","joptionpane"],"comments":[{"owner":{"display_name":"user20069726"},"score":0,"creation_date":1663933161,"post_id":73827107,"comment_id":130361309,"body_markdown":"I just started learning java in our university","body":"I just started learning java in our university"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1663933177,"post_id":73827107,"comment_id":130361315,"body_markdown":"Have a `String output` that you add `c` to (e.g. `output = output + c + &quot; &quot;`) until the loop is finished and only then display a single dialog showing that string. Alternatively use a list that you join in the end or use a StringBuilder, etc.","body":"Have a <code>String output</code> that you add <code>c</code> to (e.g. <code>output = output + c + &quot; &quot;</code>) until the loop is finished and only then display a single dialog showing that string. Alternatively use a list that you join in the end or use a StringBuilder, etc."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1663933568,"post_id":73827107,"comment_id":130361428,"body_markdown":"... and your dialog needs to be called *after* the loop","body":"... and your dialog needs to be called <i>after</i> the loop"},{"owner":{"display_name":"user20069726"},"score":0,"creation_date":1663934170,"post_id":73827107,"comment_id":130361629,"body_markdown":"[Flowchart](https://ibb.co/V9ZdKhZ) this is what i need to follow for coding, but the problem is just the dialog","body":"<a href=\"https://ibb.co/V9ZdKhZ\" rel=\"nofollow noreferrer\">Flowchart</a> this is what i need to follow for coding, but the problem is just the dialog"}],"owner":{"display_name":"user20069726"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663933070,"creation_date":1663933070,"question_id":73827107,"body_markdown":"    import javax.swing.JOptionPane;\r\n\r\npublic class FibonacciSeries {\r\n    public static void main(String[] args){\r\n\r\n        String userInput;\r\n\r\n        int a = 1;\r\n        int b = 1;\r\n        int c = 0, d = 0;\r\n\r\n        userInput = JOptionPane.showInputDialog(null, &quot;Enter a number of series&quot;, &quot;Fibonacci Series&quot;, -1);\r\n        int fn = Integer.parseInt(userInput);\r\n\r\n        for (d = 0 ; d &lt; fn; d++)\r\n        {\r\n            JOptionPane.showMessageDialog(null, &quot;Fibonacci Series: &quot;+ a,&quot;Fibonacci Series&quot;, -1);\r\n            c = a + b;\r\n            a = b;\r\n            b = c;\r\n\r\n        }\r\n    }\r\n}\r\n\r\ni need to print the series of number example : 1 1 2 3 5 in one dialog i dont know how","title":"How can i show the series of numbers in one dialog?","body":"<pre><code>import javax.swing.JOptionPane;\n</code></pre>\n<p>public class FibonacciSeries {\npublic static void main(String[] args){</p>\n<pre><code>    String userInput;\n\n    int a = 1;\n    int b = 1;\n    int c = 0, d = 0;\n\n    userInput = JOptionPane.showInputDialog(null, &quot;Enter a number of series&quot;, &quot;Fibonacci Series&quot;, -1);\n    int fn = Integer.parseInt(userInput);\n\n    for (d = 0 ; d &lt; fn; d++)\n    {\n        JOptionPane.showMessageDialog(null, &quot;Fibonacci Series: &quot;+ a,&quot;Fibonacci Series&quot;, -1);\n        c = a + b;\n        a = b;\n        b = c;\n\n    }\n}\n</code></pre>\n<p>}</p>\n<p>i need to print the series of number example : 1 1 2 3 5 in one dialog i dont know how</p>\n"},{"tags":["java","android","android-recyclerview","android-nestedscrollview"],"answers":[{"tags":[],"owner":{"account_id":12904233,"reputation":394,"user_id":9332016,"display_name":"teh_raab"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663932554,"creation_date":1663932554,"answer_id":73827022,"question_id":73803695,"body_markdown":"After much time investigating, it appears that NestedScrollView doesn&#39;t actually support horizontal scrolling.\r\n\r\n&gt; Scroll view supports vertical scrolling only. **For horizontal scrolling, use HorizontalScrollView instead.**\r\n - [Android ScrollView Documentation][1]\r\n\r\n&gt; **For vertical scrolling, consider NestedScrollView** instead of scroll view which offers greater user interface flexibility and support for the material design scrolling patterns.\r\n - [Android NestedScrollView Documentation][2]\r\n\r\n\r\nChanging my layout by replacing **NestedScrollView** with **HorizontalScrollView**, resolves the issue.  The revised layout is as such (code changed to use type: NestedScrollView)..\r\n\r\n**activity_synced_scroll.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:id=&quot;@+id/main_root&quot;\r\n    android:clipToPadding=&quot;false&quot;\r\n    android:clipChildren=&quot;false&quot;&gt;\r\n    \r\n    &lt;androidx.core.widget.NestedScrollView\r\n    android:id=&quot;@+id/scrollContainer&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:orientation=&quot;horizontal&quot;\r\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/wrapper&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:id=&quot;@+id/topList&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@id/bottomList&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;/&gt;\r\n\r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:id=&quot;@+id/bottomList&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@id/topList&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;/&gt;\r\n        &lt;/LinearLayout&gt;\r\n        &lt;/androidx.core.widget.NestedScrollView&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/widget/ScrollView.html\r\n  [2]: https://developer.android.com/reference/androidx/core/widget/NestedScrollView.html","title":"NestedScrollView with wrapped RecyclerView&#39;s not scrolling","body":"<p>After much time investigating, it appears that NestedScrollView doesn't actually support horizontal scrolling.</p>\n<blockquote>\n<p>Scroll view supports vertical scrolling only. <strong>For horizontal scrolling, use HorizontalScrollView instead.</strong></p>\n</blockquote>\n<ul>\n<li><a href=\"https://developer.android.com/reference/android/widget/ScrollView.html\" rel=\"nofollow noreferrer\">Android ScrollView Documentation</a></li>\n</ul>\n<blockquote>\n<p><strong>For vertical scrolling, consider NestedScrollView</strong> instead of scroll view which offers greater user interface flexibility and support for the material design scrolling patterns.</p>\n</blockquote>\n<ul>\n<li><a href=\"https://developer.android.com/reference/androidx/core/widget/NestedScrollView.html\" rel=\"nofollow noreferrer\">Android NestedScrollView Documentation</a></li>\n</ul>\n<p>Changing my layout by replacing <strong>NestedScrollView</strong> with <strong>HorizontalScrollView</strong>, resolves the issue.  The revised layout is as such (code changed to use type: NestedScrollView)..</p>\n<p><strong>activity_synced_scroll.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:id=&quot;@+id/main_root&quot;\nandroid:clipToPadding=&quot;false&quot;\nandroid:clipChildren=&quot;false&quot;&gt;\n\n&lt;androidx.core.widget.NestedScrollView\nandroid:id=&quot;@+id/scrollContainer&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:orientation=&quot;horizontal&quot;\napp:layout_constraintTop_toTopOf=&quot;parent&quot;\napp:layout_constraintBottom_toBottomOf=&quot;parent&quot;&gt;\n\n&lt;LinearLayout\n    android:id=&quot;@+id/wrapper&quot;\n    android:orientation=&quot;vertical&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/topList&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;horizontal&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@id/bottomList&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;/&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/bottomList&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;horizontal&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/topList&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;/&gt;\n    &lt;/LinearLayout&gt;\n    &lt;/androidx.core.widget.NestedScrollView&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":12904233,"reputation":394,"user_id":9332016,"display_name":"teh_raab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73827022,"answer_count":1,"score":1,"last_activity_date":1663932554,"creation_date":1663775398,"question_id":73803695,"body_markdown":"I have two separate horizontal RecyclerView&#39;s that are embedded in a vertical LinearLayout, that itself is contained within a NestedScrollView - The top and bottom views have different dataset and eventually will have different layouts.\r\n\r\nHere is the layout.. [![enter image description here][1]][1]\r\n\r\nI am currently unable to get the NestedScrollView to scroll the content. Instead, both RecyclerView&#39;s are handling their own scroll behaviour independently.  The desired behaviour is that scrolling the NestedScrollView scrolls both RecyclerViews (the contents of the LinearLayout), so it looks like one menu.\r\n\r\nI have looked at many SO thread&#39;s on similar, but I cannot seem to get this working.  I&#39;ve tried things such as..\r\n\r\n - Setting fillViewPort\r\n - LinearLayout was originally a ConstraintLayout, but lots of posts suggesting to switch to LinearLayout, and so stuck with that\r\n - setNestedScrollingEnabled (tried both in code and xml on both RecyclerViews)\r\n - Tried ScrollView and NestedScrollView.  Nested seems to be the correct one.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PZOko.png\r\n\r\nHere is the code..\r\n\r\n**MainActivity.java**\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.view.Window;\r\n    import android.view.WindowManager;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n\t@Override\r\n\tpublic void onWindowFocusChanged(boolean hasFocus) {\r\n\t\tsuper.onWindowFocusChanged(hasFocus);\r\n\t\tif (hasFocus) {\r\n\t\t\tgetWindow().getDecorView().setSystemUiVisibility(\r\n\t\t\t\t\tView.SYSTEM_UI_FLAG_LAYOUT_STABLE\r\n\t\t\t\t\t\t\t| View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\r\n\t\t\t\t\t\t\t| View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\r\n\t\t\t\t\t\t\t| View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\r\n\t\t\t\t\t\t\t| View.SYSTEM_UI_FLAG_FULLSCREEN\r\n\t\t\t\t\t\t\t| View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY);\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\r\n\t\t// remove title\r\n\t\trequestWindowFeature(Window.FEATURE_NO_TITLE);\r\n\t\tgetWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\r\n\t\t\t\tWindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n\r\n\t\t            getWindow().getDecorView().setSystemUiVisibility(View.SYSTEM_UI_FLAG_HIDE_NAVIGATION);\r\n\r\n\t\tsetContentView(R.layout.activity_main);\r\n\r\n\t\tif (savedInstanceState == null) {\r\n\t\t\tgetSupportFragmentManager().beginTransaction()\r\n\t\t\t\t\t.replace(R.id.content, new SyncedListsActivity())\r\n\t\t\t\t\t.commitNow();\r\n\t\t    }\r\n\t    }\r\n    }\r\n\r\n\r\n**SyncedListsActivity.java**\r\n\r\n    import android.graphics.Rect;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.LinearLayout;\r\n    import androidx.core.widget.NestedScrollView;\r\n    import androidx.fragment.app.Fragment;\r\n    import androidx.recyclerview.widget.LinearLayoutManager;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n\r\n    public class SyncedListsActivity extends Fragment {\r\n\tView v;\r\n\tNestedScrollView scrollView;\r\n\tLinearLayout scrollContent;\r\n\tRecyclerView topMenu;\r\n\tTopAdapter topAdapter;\r\n\tRecyclerView bottomMenu;\r\n\tBottomAdapter bottomAdapter;\r\n\r\n\t@Override\r\n\tpublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n\t\tLog.d(&quot;SyncedListsActivity&quot;, &quot;onCreateView&quot;);\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\tif(v==null) {\r\n\t\t\tLog.d(&quot;SyncedListsActivity&quot;, &quot;v is NULL recreating&quot;);\r\n\t\t\tv = inflater.inflate(R.layout.activity_synced_scroll, container, false);\r\n\t\t\tscrollView = v.findViewById(R.id.scrollContainer);\r\n\t\t\tscrollContent = v.findViewById(R.id.wrapper);\r\n\r\n\t\t\ttopMenu = v.findViewById(R.id.topList);\r\n\t\t\ttopMenu.setNestedScrollingEnabled(false);\r\n\t\t\tbottomMenu = v.findViewById(R.id.bottomList);\r\n\t\t\tbottomMenu.setNestedScrollingEnabled(false);\r\n\r\n\t\t\tsetupTopMenu();\r\n\t\t\tsetupBottomMenu();\r\n\t\t}\r\n\t\treturn v;\r\n\t}\r\n\r\n\tprivate void setupTopMenu() {\r\n\t\ttopMenu.setLayoutManager(new LinearLayoutManager(requireContext(), LinearLayoutManager.HORIZONTAL, false));\r\n\t\ttopAdapter = new TopAdapter(getActivity(),this);\r\n\t\ttopMenu.setAdapter(topAdapter);\r\n\t\ttopAdapter.notifyDataSetChanged();\r\n\r\n\t\tSpacesItemDecoration decoration = new SpacesItemDecoration(12);\r\n\t\ttopMenu.addItemDecoration(decoration);\r\n\t}\r\n\r\n\tprivate void setupBottomMenu() {\r\n\t\tbottomMenu.setLayoutManager(new LinearLayoutManager(requireContext(), LinearLayoutManager.HORIZONTAL, false));\r\n\t\tbottomAdapter = new BottomAdapter(getActivity(),this);\r\n\t\tbottomMenu.setAdapter(bottomAdapter);\r\n\t\tbottomAdapter.notifyDataSetChanged();\r\n\r\n\t\tSpacesItemDecoration decoration = new SpacesItemDecoration(12);\r\n\t\tbottomMenu.addItemDecoration(decoration);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void onResume() {\r\n\t\tsuper.onResume();\r\n\t\tLog.d(&quot;SyncedListsActivity&quot;, &quot;onResume&quot;);\r\n\t\tif(topMenu == null) {\r\n\t\t\tsetupTopMenu();\r\n\t\t}\r\n\r\n\t\tif(bottomMenu == null) {\r\n\t\t\tsetupBottomMenu();\r\n\t\t}\r\n\t}\r\n    }\r\n\r\n    class SpacesItemDecoration extends RecyclerView.ItemDecoration {\r\n\tprivate int space;\r\n\r\n\tpublic SpacesItemDecoration(int space) {\r\n\t\tthis.space = space;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void getItemOffsets(Rect outRect, View view, RecyclerView parent, RecyclerView.State state) {\r\n\t\toutRect.left = space;\r\n\t\toutRect.right = space;\r\n\t\toutRect.top = space;\r\n\r\n\t\tif (parent.getChildLayoutPosition(view) == 0) {\r\n\t\t\toutRect.left = 0;\r\n\t\t}\r\n\t}\r\n    }\r\n\r\n\r\n**DelegateTile.java**\r\n    \r\n    class DelegateTile {\r\n\tprivate int pk; //primary key used by recyclerview DiffUtil to simplify adding/removing items.  Can probably use a CID value for this!\r\n\tprivate String title;\r\n\tprivate String color;\r\n\tprivate int width;\r\n\tprivate int viewType;\r\n\r\n\tpublic DelegateTile(int pk, String title, String color, int width, int viewType) {\r\n\t\tthis.pk = pk;\r\n\t\tthis.title = title;\r\n\t\tthis.color = color;\r\n\t\tthis.width = width;\r\n\t\tthis.viewType = viewType;\r\n\t}\r\n\r\n\tpublic int getPk() { return pk; }\r\n\tpublic int getTileType() {\r\n\t\treturn viewType;\r\n\t}\r\n\tpublic String getTitle() {\r\n\t\treturn title;\r\n\t}\r\n\tpublic String getColor() {\r\n\t\treturn color;\r\n\t}\r\n\tpublic int getSize() {\r\n\t\treturn width;\r\n\t}\r\n\t}\r\n\r\n\r\n**TopAdapter.java**\r\n\r\n    import android.content.Context;\r\n    import android.graphics.Color;\r\n    import android.util.Log;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.LinearLayout;\r\n    import android.widget.TextView;\r\n    import androidx.fragment.app.Fragment;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    public class TopAdapter extends RecyclerView.Adapter&lt;TopAdapter.TopAdapterView&gt; {\r\n\tprivate Context context;\r\n\tprivate Fragment parent;\r\n\r\n\tprivate List&lt;DelegateTile&gt; tileDefinitions;\r\n\r\n\tpublic TopAdapter(Context context, SyncedListsActivity parent) {\r\n\t\tthis.context = context;\r\n\t\tthis.parent = parent;\r\n\r\n\t\t//Create tiles\r\n\t\ttileDefinitions = new ArrayList&lt;&gt;();\r\n\t\ttileDefinitions.add(new DelegateTile(0, &quot;Item 1&quot;, &quot;9E0026&quot;, 800, 0));\r\n\t\ttileDefinitions.add(new DelegateTile(1, &quot;Item 2&quot;, &quot;539E3E&quot;, 400, 1));\r\n\t\ttileDefinitions.add(new DelegateTile(2, &quot;Item 3&quot;, &quot;F89B1C&quot;, 800, 0));\r\n\t\ttileDefinitions.add(new DelegateTile(3, &quot;Item 4&quot;, &quot;13ADA0&quot;, 400, 1));\r\n\t\ttileDefinitions.add(new DelegateTile(4, &quot;Item 5&quot;, &quot;00507E&quot;, 400, 1));\r\n\t\ttileDefinitions.add(new DelegateTile(5, &quot;Item 6&quot;, &quot;555555&quot;, 800, 0));\r\n\t}\r\n\r\n\t@Override\r\n\tpublic TopAdapterView onCreateViewHolder(ViewGroup parent, int viewType) {\r\n\t\tTopAdapterView gridAdapterView = null;\r\n\t\tLog.d(&quot;TOP_RECYCLER&quot;, &quot;onCreateViewHolder &quot; + viewType + &quot; rendering&quot;);\r\n\t\tswitch (viewType) {\r\n\t\t\tcase 0: { //Wide tile\r\n\t\t\t\tLog.d(&quot;TOP_RECYCLER&quot;, &quot;onCreateViewHolder &quot; + viewType + &quot; TILE_TYPE_WIDE&quot;);\r\n\t\t\t\tView layoutView = LayoutInflater.from(parent.getContext()).inflate(R.layout.tile_wide, parent, false);\r\n\t\t\t\tgridAdapterView = new TopAdapterView(layoutView, viewType);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 1: { //normal width tile\r\n\t\t\t\tLog.d(&quot;TOP_RECYCLER&quot;, &quot;onCreateViewHolder &quot; + viewType + &quot; TILE_TYPE_STANDARD&quot;);\r\n\t\t\t\tView layoutView = LayoutInflater.from(parent.getContext()).inflate(R.layout.tile_normal, parent, false);\r\n\t\t\t\tgridAdapterView = new TopAdapterView(layoutView, viewType);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn gridAdapterView;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void onBindViewHolder(TopAdapterView holder, int position) {\r\n        /*\r\n        different styles for different cells - Slideshow, tiles, Footer\r\n        */\r\n\t\tswitch (tileDefinitions.get(position).getTileType()) {\r\n\t\t\tcase 0: { //wide tile\r\n\t\t\t\t//Tiles - set tile behavior\r\n\t\t\t\tholder.title.setText(tileDefinitions.get(position).getTitle());\r\n\t\t\t\t//Dynamic colors for our tiles\r\n\t\t\t\tViewGroup.LayoutParams params = holder.layout.getLayoutParams();\r\n\t\t\t\tparams.width = tileDefinitions.get(position).getSize(); //setting width\r\n\t\t\t\tholder.layout.setLayoutParams(params);\r\n\t\t\t\tholder.layout.setBackgroundColor(Color.parseColor(&quot;#&quot; + tileDefinitions.get(position).getColor())); //setting color\r\n\t\t\t\tholder.layout.setTag(position);\r\n\t\t\t\t//margins\r\n\t\t\t\tViewGroup.MarginLayoutParams llparams = (ViewGroup.MarginLayoutParams) holder.layout.getLayoutParams();\r\n\t\t\t\tllparams.rightMargin = 5;\r\n\t\t\t}\r\n\t\t\tcase 1: { //normal width tile\r\n\t\t\t\t//Tiles - set tile behavior\r\n\t\t\t\tholder.title.setText(tileDefinitions.get(position).getTitle());\r\n\t\t\t\t//Dynamic colors for our tiles\r\n\t\t\t\tViewGroup.LayoutParams params = holder.layout.getLayoutParams();\r\n\t\t\t\tparams.width = tileDefinitions.get(position).getSize(); //setting width\r\n\t\t\t\tholder.layout.setLayoutParams(params);\r\n\t\t\t\tholder.layout.setBackgroundColor(Color.parseColor(&quot;#&quot; + tileDefinitions.get(position).getColor())); //setting color\r\n\t\t\t\tholder.layout.setTag(position);\r\n\t\t\t\t//margins\r\n\t\t\t\tViewGroup.MarginLayoutParams llparams = (ViewGroup.MarginLayoutParams) holder.layout.getLayoutParams();\r\n\t\t\t\tllparams.rightMargin = 5;\r\n\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int getItemCount() {\r\n\t\treturn tileDefinitions == null ? 0 : tileDefinitions.size();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int getItemViewType(int position) {\r\n\t\t// Return type based on position\r\n\t\treturn tileDefinitions.get(position).getTileType();\r\n\t}\r\n\r\n\tclass TopAdapterView extends RecyclerView.ViewHolder {\r\n\t\tTextView title;\r\n\t\tLinearLayout layout;\r\n\t\tpublic TopAdapterView(View itemView, int type) {\r\n\t\t\tsuper(itemView);\r\n\t\t\tswitch (type) {\r\n\t\t\t\tcase 0: { //wide tile\r\n\t\t\t\t\ttitle = itemView.findViewById(R.id.txtTitle);\r\n\t\t\t\t\tlayout = itemView.findViewById(R.id.wide_layout);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tcase 1: { //normal width tile\r\n\t\t\t\t\ttitle = itemView.findViewById(R.id.txtTitle);\r\n\t\t\t\t\tlayout = itemView.findViewById(R.id.normal_layout);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n    }\r\n\r\n**BottomAdapter.java**\r\n\r\n    import android.content.Context;\r\n    import android.graphics.Color;\r\n    import android.util.Log;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.LinearLayout;\r\n    import android.widget.TextView;\r\n    import androidx.fragment.app.Fragment;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    public class BottomAdapter extends RecyclerView.Adapter&lt;BottomAdapter.BottomAdapterView&gt; {\r\n\tprivate Context context;\r\n\tprivate Fragment parent;\r\n\r\n\tprivate List&lt;DelegateTile&gt; tileDefinitions;\r\n\r\n\tpublic BottomAdapter(Context context, SyncedListsActivity parent) {\r\n\t\tthis.context = context;\r\n\t\tthis.parent = parent;\r\n\r\n\t\t//Create tiles\r\n\t\ttileDefinitions = new ArrayList&lt;&gt;();\r\n\t\ttileDefinitions.add(new DelegateTile(0, &quot;Item 1&quot;, &quot;A21E23&quot;, 400, 1)); //1\r\n\t\ttileDefinitions.add(new DelegateTile(1, &quot;Item 2&quot;, &quot;008EAA&quot;, 800, 0)); //2\r\n\t\ttileDefinitions.add(new DelegateTile(2, &quot;Item 3&quot;, &quot;A8CF5A&quot;, 400, 1)); //5\r\n\t\ttileDefinitions.add(new DelegateTile(3, &quot;Item 4&quot;, &quot;814199&quot;, 400, 1)); //6\r\n\t\ttileDefinitions.add(new DelegateTile(4, &quot;Item 5&quot;, &quot;0093B2&quot;, 800, 0)); //7\r\n\t\ttileDefinitions.add(new DelegateTile(5, &quot;Item 6&quot;, &quot;13ADA0&quot;, 400, 1)); //6\r\n\t\ttileDefinitions.add(new DelegateTile(6, &quot;Item 7&quot;, &quot;00507E&quot;, 400, 1)); //7\r\n\t}\r\n\r\n\t@Override\r\n\tpublic BottomAdapterView onCreateViewHolder(ViewGroup parent, int viewType) {\r\n\t\tBottomAdapterView gridAdapterView = null;\r\n\t\tLog.d(&quot;BOTTOM_RECYCLER&quot;, &quot;onCreateViewHolder &quot; + viewType + &quot; rendering&quot;);\r\n\t\tswitch (viewType) {\r\n\t\t\tcase 0: { //Wide tile\r\n\t\t\t\tLog.d(&quot;BOTTOM_RECYCLER&quot;, &quot;onCreateViewHolder &quot; + viewType + &quot; TILE_TYPE_WIDE&quot;);\r\n\t\t\t\tView layoutView = LayoutInflater.from(parent.getContext()).inflate(R.layout.tile_wide, parent, false);\r\n\t\t\t\tgridAdapterView = new BottomAdapterView(layoutView, viewType);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 1: { //normal width tile\r\n\t\t\t\tLog.d(&quot;BOTTOM_RECYCLER&quot;, &quot;onCreateViewHolder &quot; + viewType + &quot; TILE_TYPE_STANDARD&quot;);\r\n\t\t\t\tView layoutView = LayoutInflater.from(parent.getContext()).inflate(R.layout.tile_normal, parent, false);\r\n\t\t\t\tgridAdapterView = new BottomAdapterView(layoutView, viewType);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn gridAdapterView;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void onBindViewHolder(BottomAdapterView holder, int position) {\r\n        /*\r\n        different styles for different cells - Slideshow, tiles, Footer\r\n        */\r\n\t\tswitch (tileDefinitions.get(position).getTileType()) {\r\n\t\t\tcase 0: { //wide tile\r\n\t\t\t\t//Tiles - set tile behavior\r\n\t\t\t\tholder.title.setText(tileDefinitions.get(position).getTitle());\r\n\t\t\t\t//Dynamic colors for our tiles\r\n\t\t\t\tViewGroup.LayoutParams params = holder.layout.getLayoutParams();\r\n\t\t\t\tparams.width = tileDefinitions.get(position).getSize(); //setting width\r\n\t\t\t\tholder.layout.setLayoutParams(params);\r\n\t\t\t\tholder.layout.setBackgroundColor(Color.parseColor(&quot;#&quot; + tileDefinitions.get(position).getColor())); //setting color\r\n\t\t\t\tholder.layout.setTag(position);\r\n\t\t\t\t//margins\r\n\t\t\t\tViewGroup.MarginLayoutParams llparams = (ViewGroup.MarginLayoutParams) holder.layout.getLayoutParams();\r\n\t\t\t\tllparams.rightMargin = 5;\r\n\t\t\t}\r\n\t\t\tcase 1: { //normal width tile\r\n\t\t\t\t//Tiles - set tile behavior\r\n\t\t\t\tholder.title.setText(tileDefinitions.get(position).getTitle());\r\n\t\t\t\t//Dynamic colors for our tiles\r\n\t\t\t\tViewGroup.LayoutParams params = holder.layout.getLayoutParams();\r\n\t\t\t\tparams.width = tileDefinitions.get(position).getSize(); //setting width\r\n\t\t\t\tholder.layout.setLayoutParams(params);\r\n\t\t\t\tholder.layout.setBackgroundColor(Color.parseColor(&quot;#&quot; + tileDefinitions.get(position).getColor())); //setting color\r\n\t\t\t\tholder.layout.setTag(position);\r\n\t\t\t\t//margins\r\n\t\t\t\tViewGroup.MarginLayoutParams llparams = (ViewGroup.MarginLayoutParams) holder.layout.getLayoutParams();\r\n\t\t\t\tllparams.rightMargin = 5;\r\n\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int getItemCount() {\r\n\t\treturn tileDefinitions == null ? 0 : tileDefinitions.size();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int getItemViewType(int position) {\r\n\t\t// Return type based on position\r\n\t\treturn tileDefinitions.get(position).getTileType();\r\n\t}\r\n\r\n\tclass BottomAdapterView extends RecyclerView.ViewHolder {\r\n\t\tTextView title;\r\n\t\tLinearLayout layout;\r\n\t\tpublic BottomAdapterView(View itemView, int type) {\r\n\t\t\tsuper(itemView);\r\n\t\t\tswitch (type) {\r\n\t\t\t\tcase 0: { //wide tile\r\n\t\t\t\t\ttitle = itemView.findViewById(R.id.txtTitle);\r\n\t\t\t\t\tlayout = itemView.findViewById(R.id.wide_layout);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tcase 1: { //normal width tile\r\n\t\t\t\t\ttitle = itemView.findViewById(R.id.txtTitle);\r\n\t\t\t\t\tlayout = itemView.findViewById(R.id.normal_layout);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n    }\r\n\r\n\r\n**activity_main.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n\txmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n\txmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n\tandroid:layout_width=&quot;match_parent&quot;\r\n\tandroid:layout_height=&quot;match_parent&quot;\r\n\tandroid:id=&quot;@+id/main_root&quot;\r\n\tandroid:layout_margin=&quot;20dp&quot;\r\n\tandroid:clipToPadding=&quot;false&quot;\r\n\tandroid:clipChildren=&quot;false&quot;&gt;\r\n\r\n\t&lt;FrameLayout\r\n\t\tandroid:id=&quot;@+id/content&quot;\r\n\t\tandroid:layout_width=&quot;0dp&quot;\r\n\t\tandroid:layout_height=&quot;0dp&quot;\r\n\t\tapp:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n\t\tapp:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n\t\tapp:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n\t\tapp:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n\t\tandroid:clipChildren=&quot;false&quot;\r\n\t\tandroid:clipToPadding=&quot;false&quot; /&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\n**activity_synced_scroll.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\t&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n\txmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n\txmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n\tandroid:layout_width=&quot;match_parent&quot;\r\n\tandroid:layout_height=&quot;match_parent&quot;\r\n\tandroid:id=&quot;@+id/main_root&quot;\r\n\tandroid:clipToPadding=&quot;false&quot;\r\n\tandroid:clipChildren=&quot;false&quot;&gt;\r\n\r\n\t&lt;androidx.core.widget.NestedScrollView\r\n\t\tandroid:id=&quot;@+id/scrollContainer&quot;\r\n\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\tandroid:orientation=&quot;horizontal&quot;\r\n\t\tapp:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n\t\tapp:layout_constraintBottom_toBottomOf=&quot;parent&quot;&gt;\r\n\r\n\t\t&lt;LinearLayout\r\n\t\t\tandroid:id=&quot;@+id/wrapper&quot;\r\n\t\t\tandroid:orientation=&quot;vertical&quot;\r\n\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\tandroid:layout_height=&quot;wrap_content&quot;&gt;\r\n\t\t\t&lt;androidx.recyclerview.widget.RecyclerView\r\n\t\t\t\tandroid:id=&quot;@+id/topList&quot;\r\n\t\t\t\tandroid:layout_width=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:orientation=&quot;horizontal&quot;\r\n\t\t\t\tapp:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n\t\t\t\tapp:layout_constraintBottom_toTopOf=&quot;@id/bottomList&quot;\r\n\t\t\t\tapp:layout_constraintStart_toStartOf=&quot;parent&quot;/&gt;\r\n\r\n\t\t\t&lt;androidx.recyclerview.widget.RecyclerView\r\n\t\t\t\tandroid:id=&quot;@+id/bottomList&quot;\r\n\t\t\t\tandroid:layout_width=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:orientation=&quot;horizontal&quot;\r\n\t\t\t\tapp:layout_constraintTop_toBottomOf=&quot;@id/topList&quot;\r\n\t\t\t\tapp:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n\t\t\t\tapp:layout_constraintStart_toStartOf=&quot;parent&quot;/&gt;\r\n\t\t&lt;/LinearLayout&gt;\r\n\t&lt;/androidx.core.widget.NestedScrollView&gt;\r\n\t&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\n**tile_normal.xml**\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\t&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n\tandroid:id=&quot;@+id/normal_layout&quot;\r\n\tandroid:layout_width=&quot;400px&quot;\r\n\tandroid:layout_height=&quot;400px&quot;\r\n\tandroid:orientation=&quot;vertical&quot;\r\n\tandroid:gravity=&quot;center&quot; &gt;\r\n\t&lt;TextView\r\n\t\tandroid:id=&quot;@+id/txtTitle&quot;\r\n\t\tandroid:layout_width=&quot;wrap_content&quot;\r\n\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\tandroid:gravity=&quot;center&quot;\r\n\t\tandroid:textSize=&quot;25sp&quot; /&gt;\r\n\t&lt;/LinearLayout&gt;\r\n\r\n**tile_wide.xml**\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\t&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n\tandroid:id=&quot;@+id/wide_layout&quot;\r\n\tandroid:layout_width=&quot;800px&quot;\r\n\tandroid:layout_height=&quot;400px&quot;\r\n\tandroid:orientation=&quot;vertical&quot;\r\n\tandroid:gravity=&quot;center&quot; &gt;\r\n\t&lt;TextView\r\n\t\tandroid:id=&quot;@+id/txtTitle&quot;\r\n\t\tandroid:layout_width=&quot;wrap_content&quot;\r\n\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\tandroid:gravity=&quot;center&quot;\r\n\t\tandroid:textSize=&quot;25sp&quot; /&gt;\r\n\t&lt;/LinearLayout&gt;","title":"NestedScrollView with wrapped RecyclerView&#39;s not scrolling","body":"<p>I have two separate horizontal RecyclerView's that are embedded in a vertical LinearLayout, that itself is contained within a NestedScrollView - The top and bottom views have different dataset and eventually will have different layouts.</p>\n<p>Here is the layout.. <a href=\"https://i.stack.imgur.com/PZOko.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PZOko.png\" alt=\"enter image description here\" /></a></p>\n<p>I am currently unable to get the NestedScrollView to scroll the content. Instead, both RecyclerView's are handling their own scroll behaviour independently.  The desired behaviour is that scrolling the NestedScrollView scrolls both RecyclerViews (the contents of the LinearLayout), so it looks like one menu.</p>\n<p>I have looked at many SO thread's on similar, but I cannot seem to get this working.  I've tried things such as..</p>\n<ul>\n<li>Setting fillViewPort</li>\n<li>LinearLayout was originally a ConstraintLayout, but lots of posts suggesting to switch to LinearLayout, and so stuck with that</li>\n<li>setNestedScrollingEnabled (tried both in code and xml on both RecyclerViews)</li>\n<li>Tried ScrollView and NestedScrollView.  Nested seems to be the correct one.</li>\n</ul>\n<p>Here is the code..</p>\n<p><strong>MainActivity.java</strong></p>\n<pre><code>import androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.view.Window;\nimport android.view.WindowManager;\n\npublic class MainActivity extends AppCompatActivity {\n\n@Override\npublic void onWindowFocusChanged(boolean hasFocus) {\n    super.onWindowFocusChanged(hasFocus);\n    if (hasFocus) {\n        getWindow().getDecorView().setSystemUiVisibility(\n                View.SYSTEM_UI_FLAG_LAYOUT_STABLE\n                        | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\n                        | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\n                        | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\n                        | View.SYSTEM_UI_FLAG_FULLSCREEN\n                        | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY);\n    }\n}\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    // remove title\n    requestWindowFeature(Window.FEATURE_NO_TITLE);\n    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\n            WindowManager.LayoutParams.FLAG_FULLSCREEN);\n\n                getWindow().getDecorView().setSystemUiVisibility(View.SYSTEM_UI_FLAG_HIDE_NAVIGATION);\n\n    setContentView(R.layout.activity_main);\n\n    if (savedInstanceState == null) {\n        getSupportFragmentManager().beginTransaction()\n                .replace(R.id.content, new SyncedListsActivity())\n                .commitNow();\n        }\n    }\n}\n</code></pre>\n<p><strong>SyncedListsActivity.java</strong></p>\n<pre><code>import android.graphics.Rect;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.LinearLayout;\nimport androidx.core.widget.NestedScrollView;\nimport androidx.fragment.app.Fragment;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\npublic class SyncedListsActivity extends Fragment {\nView v;\nNestedScrollView scrollView;\nLinearLayout scrollContent;\nRecyclerView topMenu;\nTopAdapter topAdapter;\nRecyclerView bottomMenu;\nBottomAdapter bottomAdapter;\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n    Log.d(&quot;SyncedListsActivity&quot;, &quot;onCreateView&quot;);\n    super.onCreate(savedInstanceState);\n    if(v==null) {\n        Log.d(&quot;SyncedListsActivity&quot;, &quot;v is NULL recreating&quot;);\n        v = inflater.inflate(R.layout.activity_synced_scroll, container, false);\n        scrollView = v.findViewById(R.id.scrollContainer);\n        scrollContent = v.findViewById(R.id.wrapper);\n\n        topMenu = v.findViewById(R.id.topList);\n        topMenu.setNestedScrollingEnabled(false);\n        bottomMenu = v.findViewById(R.id.bottomList);\n        bottomMenu.setNestedScrollingEnabled(false);\n\n        setupTopMenu();\n        setupBottomMenu();\n    }\n    return v;\n}\n\nprivate void setupTopMenu() {\n    topMenu.setLayoutManager(new LinearLayoutManager(requireContext(), LinearLayoutManager.HORIZONTAL, false));\n    topAdapter = new TopAdapter(getActivity(),this);\n    topMenu.setAdapter(topAdapter);\n    topAdapter.notifyDataSetChanged();\n\n    SpacesItemDecoration decoration = new SpacesItemDecoration(12);\n    topMenu.addItemDecoration(decoration);\n}\n\nprivate void setupBottomMenu() {\n    bottomMenu.setLayoutManager(new LinearLayoutManager(requireContext(), LinearLayoutManager.HORIZONTAL, false));\n    bottomAdapter = new BottomAdapter(getActivity(),this);\n    bottomMenu.setAdapter(bottomAdapter);\n    bottomAdapter.notifyDataSetChanged();\n\n    SpacesItemDecoration decoration = new SpacesItemDecoration(12);\n    bottomMenu.addItemDecoration(decoration);\n}\n\n@Override\npublic void onResume() {\n    super.onResume();\n    Log.d(&quot;SyncedListsActivity&quot;, &quot;onResume&quot;);\n    if(topMenu == null) {\n        setupTopMenu();\n    }\n\n    if(bottomMenu == null) {\n        setupBottomMenu();\n    }\n}\n}\n\nclass SpacesItemDecoration extends RecyclerView.ItemDecoration {\nprivate int space;\n\npublic SpacesItemDecoration(int space) {\n    this.space = space;\n}\n\n@Override\npublic void getItemOffsets(Rect outRect, View view, RecyclerView parent, RecyclerView.State state) {\n    outRect.left = space;\n    outRect.right = space;\n    outRect.top = space;\n\n    if (parent.getChildLayoutPosition(view) == 0) {\n        outRect.left = 0;\n    }\n}\n}\n</code></pre>\n<p><strong>DelegateTile.java</strong></p>\n<pre><code>class DelegateTile {\nprivate int pk; //primary key used by recyclerview DiffUtil to simplify adding/removing items.  Can probably use a CID value for this!\nprivate String title;\nprivate String color;\nprivate int width;\nprivate int viewType;\n\npublic DelegateTile(int pk, String title, String color, int width, int viewType) {\n    this.pk = pk;\n    this.title = title;\n    this.color = color;\n    this.width = width;\n    this.viewType = viewType;\n}\n\npublic int getPk() { return pk; }\npublic int getTileType() {\n    return viewType;\n}\npublic String getTitle() {\n    return title;\n}\npublic String getColor() {\n    return color;\n}\npublic int getSize() {\n    return width;\n}\n}\n</code></pre>\n<p><strong>TopAdapter.java</strong></p>\n<pre><code>import android.content.Context;\nimport android.graphics.Color;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.LinearLayout;\nimport android.widget.TextView;\nimport androidx.fragment.app.Fragment;\nimport androidx.recyclerview.widget.RecyclerView;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class TopAdapter extends RecyclerView.Adapter&lt;TopAdapter.TopAdapterView&gt; {\nprivate Context context;\nprivate Fragment parent;\n\nprivate List&lt;DelegateTile&gt; tileDefinitions;\n\npublic TopAdapter(Context context, SyncedListsActivity parent) {\n    this.context = context;\n    this.parent = parent;\n\n    //Create tiles\n    tileDefinitions = new ArrayList&lt;&gt;();\n    tileDefinitions.add(new DelegateTile(0, &quot;Item 1&quot;, &quot;9E0026&quot;, 800, 0));\n    tileDefinitions.add(new DelegateTile(1, &quot;Item 2&quot;, &quot;539E3E&quot;, 400, 1));\n    tileDefinitions.add(new DelegateTile(2, &quot;Item 3&quot;, &quot;F89B1C&quot;, 800, 0));\n    tileDefinitions.add(new DelegateTile(3, &quot;Item 4&quot;, &quot;13ADA0&quot;, 400, 1));\n    tileDefinitions.add(new DelegateTile(4, &quot;Item 5&quot;, &quot;00507E&quot;, 400, 1));\n    tileDefinitions.add(new DelegateTile(5, &quot;Item 6&quot;, &quot;555555&quot;, 800, 0));\n}\n\n@Override\npublic TopAdapterView onCreateViewHolder(ViewGroup parent, int viewType) {\n    TopAdapterView gridAdapterView = null;\n    Log.d(&quot;TOP_RECYCLER&quot;, &quot;onCreateViewHolder &quot; + viewType + &quot; rendering&quot;);\n    switch (viewType) {\n        case 0: { //Wide tile\n            Log.d(&quot;TOP_RECYCLER&quot;, &quot;onCreateViewHolder &quot; + viewType + &quot; TILE_TYPE_WIDE&quot;);\n            View layoutView = LayoutInflater.from(parent.getContext()).inflate(R.layout.tile_wide, parent, false);\n            gridAdapterView = new TopAdapterView(layoutView, viewType);\n            break;\n        }\n        case 1: { //normal width tile\n            Log.d(&quot;TOP_RECYCLER&quot;, &quot;onCreateViewHolder &quot; + viewType + &quot; TILE_TYPE_STANDARD&quot;);\n            View layoutView = LayoutInflater.from(parent.getContext()).inflate(R.layout.tile_normal, parent, false);\n            gridAdapterView = new TopAdapterView(layoutView, viewType);\n            break;\n        }\n    }\n    return gridAdapterView;\n}\n\n@Override\npublic void onBindViewHolder(TopAdapterView holder, int position) {\n    /*\n    different styles for different cells - Slideshow, tiles, Footer\n    */\n    switch (tileDefinitions.get(position).getTileType()) {\n        case 0: { //wide tile\n            //Tiles - set tile behavior\n            holder.title.setText(tileDefinitions.get(position).getTitle());\n            //Dynamic colors for our tiles\n            ViewGroup.LayoutParams params = holder.layout.getLayoutParams();\n            params.width = tileDefinitions.get(position).getSize(); //setting width\n            holder.layout.setLayoutParams(params);\n            holder.layout.setBackgroundColor(Color.parseColor(&quot;#&quot; + tileDefinitions.get(position).getColor())); //setting color\n            holder.layout.setTag(position);\n            //margins\n            ViewGroup.MarginLayoutParams llparams = (ViewGroup.MarginLayoutParams) holder.layout.getLayoutParams();\n            llparams.rightMargin = 5;\n        }\n        case 1: { //normal width tile\n            //Tiles - set tile behavior\n            holder.title.setText(tileDefinitions.get(position).getTitle());\n            //Dynamic colors for our tiles\n            ViewGroup.LayoutParams params = holder.layout.getLayoutParams();\n            params.width = tileDefinitions.get(position).getSize(); //setting width\n            holder.layout.setLayoutParams(params);\n            holder.layout.setBackgroundColor(Color.parseColor(&quot;#&quot; + tileDefinitions.get(position).getColor())); //setting color\n            holder.layout.setTag(position);\n            //margins\n            ViewGroup.MarginLayoutParams llparams = (ViewGroup.MarginLayoutParams) holder.layout.getLayoutParams();\n            llparams.rightMargin = 5;\n\n            break;\n        }\n    }\n}\n\n@Override\npublic int getItemCount() {\n    return tileDefinitions == null ? 0 : tileDefinitions.size();\n}\n\n@Override\npublic int getItemViewType(int position) {\n    // Return type based on position\n    return tileDefinitions.get(position).getTileType();\n}\n\nclass TopAdapterView extends RecyclerView.ViewHolder {\n    TextView title;\n    LinearLayout layout;\n    public TopAdapterView(View itemView, int type) {\n        super(itemView);\n        switch (type) {\n            case 0: { //wide tile\n                title = itemView.findViewById(R.id.txtTitle);\n                layout = itemView.findViewById(R.id.wide_layout);\n                break;\n            }\n            case 1: { //normal width tile\n                title = itemView.findViewById(R.id.txtTitle);\n                layout = itemView.findViewById(R.id.normal_layout);\n                break;\n            }\n        }\n    }\n}\n}\n</code></pre>\n<p><strong>BottomAdapter.java</strong></p>\n<pre><code>import android.content.Context;\nimport android.graphics.Color;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.LinearLayout;\nimport android.widget.TextView;\nimport androidx.fragment.app.Fragment;\nimport androidx.recyclerview.widget.RecyclerView;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class BottomAdapter extends RecyclerView.Adapter&lt;BottomAdapter.BottomAdapterView&gt; {\nprivate Context context;\nprivate Fragment parent;\n\nprivate List&lt;DelegateTile&gt; tileDefinitions;\n\npublic BottomAdapter(Context context, SyncedListsActivity parent) {\n    this.context = context;\n    this.parent = parent;\n\n    //Create tiles\n    tileDefinitions = new ArrayList&lt;&gt;();\n    tileDefinitions.add(new DelegateTile(0, &quot;Item 1&quot;, &quot;A21E23&quot;, 400, 1)); //1\n    tileDefinitions.add(new DelegateTile(1, &quot;Item 2&quot;, &quot;008EAA&quot;, 800, 0)); //2\n    tileDefinitions.add(new DelegateTile(2, &quot;Item 3&quot;, &quot;A8CF5A&quot;, 400, 1)); //5\n    tileDefinitions.add(new DelegateTile(3, &quot;Item 4&quot;, &quot;814199&quot;, 400, 1)); //6\n    tileDefinitions.add(new DelegateTile(4, &quot;Item 5&quot;, &quot;0093B2&quot;, 800, 0)); //7\n    tileDefinitions.add(new DelegateTile(5, &quot;Item 6&quot;, &quot;13ADA0&quot;, 400, 1)); //6\n    tileDefinitions.add(new DelegateTile(6, &quot;Item 7&quot;, &quot;00507E&quot;, 400, 1)); //7\n}\n\n@Override\npublic BottomAdapterView onCreateViewHolder(ViewGroup parent, int viewType) {\n    BottomAdapterView gridAdapterView = null;\n    Log.d(&quot;BOTTOM_RECYCLER&quot;, &quot;onCreateViewHolder &quot; + viewType + &quot; rendering&quot;);\n    switch (viewType) {\n        case 0: { //Wide tile\n            Log.d(&quot;BOTTOM_RECYCLER&quot;, &quot;onCreateViewHolder &quot; + viewType + &quot; TILE_TYPE_WIDE&quot;);\n            View layoutView = LayoutInflater.from(parent.getContext()).inflate(R.layout.tile_wide, parent, false);\n            gridAdapterView = new BottomAdapterView(layoutView, viewType);\n            break;\n        }\n        case 1: { //normal width tile\n            Log.d(&quot;BOTTOM_RECYCLER&quot;, &quot;onCreateViewHolder &quot; + viewType + &quot; TILE_TYPE_STANDARD&quot;);\n            View layoutView = LayoutInflater.from(parent.getContext()).inflate(R.layout.tile_normal, parent, false);\n            gridAdapterView = new BottomAdapterView(layoutView, viewType);\n            break;\n        }\n    }\n    return gridAdapterView;\n}\n\n@Override\npublic void onBindViewHolder(BottomAdapterView holder, int position) {\n    /*\n    different styles for different cells - Slideshow, tiles, Footer\n    */\n    switch (tileDefinitions.get(position).getTileType()) {\n        case 0: { //wide tile\n            //Tiles - set tile behavior\n            holder.title.setText(tileDefinitions.get(position).getTitle());\n            //Dynamic colors for our tiles\n            ViewGroup.LayoutParams params = holder.layout.getLayoutParams();\n            params.width = tileDefinitions.get(position).getSize(); //setting width\n            holder.layout.setLayoutParams(params);\n            holder.layout.setBackgroundColor(Color.parseColor(&quot;#&quot; + tileDefinitions.get(position).getColor())); //setting color\n            holder.layout.setTag(position);\n            //margins\n            ViewGroup.MarginLayoutParams llparams = (ViewGroup.MarginLayoutParams) holder.layout.getLayoutParams();\n            llparams.rightMargin = 5;\n        }\n        case 1: { //normal width tile\n            //Tiles - set tile behavior\n            holder.title.setText(tileDefinitions.get(position).getTitle());\n            //Dynamic colors for our tiles\n            ViewGroup.LayoutParams params = holder.layout.getLayoutParams();\n            params.width = tileDefinitions.get(position).getSize(); //setting width\n            holder.layout.setLayoutParams(params);\n            holder.layout.setBackgroundColor(Color.parseColor(&quot;#&quot; + tileDefinitions.get(position).getColor())); //setting color\n            holder.layout.setTag(position);\n            //margins\n            ViewGroup.MarginLayoutParams llparams = (ViewGroup.MarginLayoutParams) holder.layout.getLayoutParams();\n            llparams.rightMargin = 5;\n\n            break;\n        }\n    }\n}\n\n@Override\npublic int getItemCount() {\n    return tileDefinitions == null ? 0 : tileDefinitions.size();\n}\n\n@Override\npublic int getItemViewType(int position) {\n    // Return type based on position\n    return tileDefinitions.get(position).getTileType();\n}\n\nclass BottomAdapterView extends RecyclerView.ViewHolder {\n    TextView title;\n    LinearLayout layout;\n    public BottomAdapterView(View itemView, int type) {\n        super(itemView);\n        switch (type) {\n            case 0: { //wide tile\n                title = itemView.findViewById(R.id.txtTitle);\n                layout = itemView.findViewById(R.id.wide_layout);\n                break;\n            }\n            case 1: { //normal width tile\n                title = itemView.findViewById(R.id.txtTitle);\n                layout = itemView.findViewById(R.id.normal_layout);\n                break;\n            }\n        }\n    }\n}\n}\n</code></pre>\n<p><strong>activity_main.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:id=&quot;@+id/main_root&quot;\nandroid:layout_margin=&quot;20dp&quot;\nandroid:clipToPadding=&quot;false&quot;\nandroid:clipChildren=&quot;false&quot;&gt;\n\n&lt;FrameLayout\n    android:id=&quot;@+id/content&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;0dp&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    android:clipChildren=&quot;false&quot;\n    android:clipToPadding=&quot;false&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><strong>activity_synced_scroll.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:id=&quot;@+id/main_root&quot;\nandroid:clipToPadding=&quot;false&quot;\nandroid:clipChildren=&quot;false&quot;&gt;\n\n&lt;androidx.core.widget.NestedScrollView\n    android:id=&quot;@+id/scrollContainer&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;horizontal&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/wrapper&quot;\n        android:orientation=&quot;vertical&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n        &lt;androidx.recyclerview.widget.RecyclerView\n            android:id=&quot;@+id/topList&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;horizontal&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:layout_constraintBottom_toTopOf=&quot;@id/bottomList&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;/&gt;\n\n        &lt;androidx.recyclerview.widget.RecyclerView\n            android:id=&quot;@+id/bottomList&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;horizontal&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@id/topList&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;/&gt;\n    &lt;/LinearLayout&gt;\n&lt;/androidx.core.widget.NestedScrollView&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><strong>tile_normal.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:id=&quot;@+id/normal_layout&quot;\nandroid:layout_width=&quot;400px&quot;\nandroid:layout_height=&quot;400px&quot;\nandroid:orientation=&quot;vertical&quot;\nandroid:gravity=&quot;center&quot; &gt;\n&lt;TextView\n    android:id=&quot;@+id/txtTitle&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:gravity=&quot;center&quot;\n    android:textSize=&quot;25sp&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p><strong>tile_wide.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:id=&quot;@+id/wide_layout&quot;\nandroid:layout_width=&quot;800px&quot;\nandroid:layout_height=&quot;400px&quot;\nandroid:orientation=&quot;vertical&quot;\nandroid:gravity=&quot;center&quot; &gt;\n&lt;TextView\n    android:id=&quot;@+id/txtTitle&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:gravity=&quot;center&quot;\n    android:textSize=&quot;25sp&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","tomcat9"],"answers":[{"tags":[],"owner":{"account_id":3513945,"reputation":81,"user_id":2937844,"display_name":"yaceq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663931885,"creation_date":1663931885,"answer_id":73826905,"question_id":73708957,"body_markdown":"I had the same problem with Tomcat&#39;s PersistentValve and I managed to fix it using filter attribute to let Valve know which request really change session values.\r\nRequests for JS, HTML, CSS files or any static resources shouldn&#39;t change session so there&#39;s no need to change session in database.\r\nYou can find example and description of this Valve here - https://tomcat.apache.org/tomcat-9.0-doc/config/valve.html#Persistent_Valve","title":"Tomcat Persistent Manager with JDBC Store throwing nullpointer exception when accessing static resources","body":"<p>I had the same problem with Tomcat's PersistentValve and I managed to fix it using filter attribute to let Valve know which request really change session values.\nRequests for JS, HTML, CSS files or any static resources shouldn't change session so there's no need to change session in database.\nYou can find example and description of this Valve here - <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/config/valve.html#Persistent_Valve\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-9.0-doc/config/valve.html#Persistent_Valve</a></p>\n"}],"owner":{"account_id":10198503,"reputation":1,"user_id":7529612,"display_name":"sagarshah1983"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663931885,"creation_date":1663101553,"question_id":73708957,"body_markdown":"We have been using multiple instances of tomcat (using spring boot) 9.x versions on multiple nodes, which handles static + dynamic resources.\r\nIntermittently, we have been seeing issues with session management and below given exceptions particularly when multiple static resources like css/js are being accessed from html files.\r\n\r\n```\r\nAug 24 11:51:38 31f8d4f54c9a security [https-jsse-nio-4700-exec-24] 12e42fb1-c0ef-4717-aad9-cc61b5c40929 org.apache.catalina.core.ContainerBase.[Tomcat].[localhost] Exception Processing /security/images/logo.png\r\njava.lang.NullPointerException: null\r\n        at org.apache.catalina.session.StandardSession.doWriteObject(StandardSession.java:1641)\r\n        at org.apache.catalina.session.StandardSession.writeObjectData(StandardSession.java:1065)\r\n        at org.apache.catalina.session.JDBCStore.save(JDBCStore.java:804)\r\n        at org.apache.catalina.valves.PersistentValve.invoke(PersistentValve.java:166)\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\r\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)\r\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\n```\r\n\r\nFrom different articles and forums (Reference: https://stackoverflow.com/questions/54351959/why-should-tomcats-persistentvalve-not-be-used-where-there-may-be-concurrent-re/73707160#73707160), it seems that Persistent Valve assumes that only single request is being sent from the session. This is highly unlikely with web applications that requires many css or js files to be rendered on a webpage.\r\n\r\nWhat alternatives exist to manage and externalize this session without using JDBC Store or Persistent Valve? OR is there any workaround or a way to address this issue?\r\n\r\nPlease advise.\r\n\r\n\r\n","title":"Tomcat Persistent Manager with JDBC Store throwing nullpointer exception when accessing static resources","body":"<p>We have been using multiple instances of tomcat (using spring boot) 9.x versions on multiple nodes, which handles static + dynamic resources.\nIntermittently, we have been seeing issues with session management and below given exceptions particularly when multiple static resources like css/js are being accessed from html files.</p>\n<pre><code>Aug 24 11:51:38 31f8d4f54c9a security [https-jsse-nio-4700-exec-24] 12e42fb1-c0ef-4717-aad9-cc61b5c40929 org.apache.catalina.core.ContainerBase.[Tomcat].[localhost] Exception Processing /security/images/logo.png\njava.lang.NullPointerException: null\n        at org.apache.catalina.session.StandardSession.doWriteObject(StandardSession.java:1641)\n        at org.apache.catalina.session.StandardSession.writeObjectData(StandardSession.java:1065)\n        at org.apache.catalina.session.JDBCStore.save(JDBCStore.java:804)\n        at org.apache.catalina.valves.PersistentValve.invoke(PersistentValve.java:166)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n<p>From different articles and forums (Reference: <a href=\"https://stackoverflow.com/questions/54351959/why-should-tomcats-persistentvalve-not-be-used-where-there-may-be-concurrent-re/73707160#73707160\">Why should Tomcat&#39;s PersistentValve not be used where there may be concurrent requests per session?</a>), it seems that Persistent Valve assumes that only single request is being sent from the session. This is highly unlikely with web applications that requires many css or js files to be rendered on a webpage.</p>\n<p>What alternatives exist to manage and externalize this session without using JDBC Store or Persistent Valve? OR is there any workaround or a way to address this issue?</p>\n<p>Please advise.</p>\n"},{"tags":["java","for-loop"],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299858,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663929913,"creation_date":1663929913,"answer_id":73826568,"question_id":73826514,"body_markdown":"Instead of using a nested loop, you should iterate both arrays with the same loop:\r\n\r\n    String[] arr = new String[] { &quot;A&quot;, &quot;B&quot;};\r\n    String[] aar1 = new String[] { &quot;1&quot;, &quot;B&quot;};\r\n    for (int a = 0; a &lt; arr.length; a++) {\r\n        System.out.println(&quot;Item:&quot; + arr[a]);\r\n        System.out.println(aar1[a]);\r\n    }\r\n","title":"Facing problem with for loop in java, Not getting desired result","body":"<p>Instead of using a nested loop, you should iterate both arrays with the same loop:</p>\n<pre><code>String[] arr = new String[] { &quot;A&quot;, &quot;B&quot;};\nString[] aar1 = new String[] { &quot;1&quot;, &quot;B&quot;};\nfor (int a = 0; a &lt; arr.length; a++) {\n    System.out.println(&quot;Item:&quot; + arr[a]);\n    System.out.println(aar1[a]);\n}\n</code></pre>\n"}],"owner":{"account_id":20797378,"reputation":13,"user_id":15274155,"display_name":"Palash Chatterjee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1663929913,"creation_date":1663929645,"question_id":73826514,"body_markdown":"    public static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t\tString[] arr = new String[] { &quot;A&quot;, &quot;B&quot;};\r\n\t\tfor (int a = 0; a &lt; arr.length; a++) {\r\n\t\t\tSystem.out.println(&quot;Item:&quot; + arr[a]);\r\n\t\t\t\r\n\t\t\tString[] aar1 = new String[] { &quot;1&quot;, &quot;B&quot;};\r\n\t\t\tfor(int b=0;b&lt;aar1.length;b++) {\t\r\n\t\t\tSystem.out.println(aar1[b]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\nCurrently I am getting output as:\r\n```\r\nItem:A\r\n1\r\nB\r\nItem:B\r\n1\r\nB\r\n```\r\nHow can I get Output as:\r\n```\r\nItem:A\r\n1\r\nItem:B\r\nB\r\n```","title":"Facing problem with for loop in java, Not getting desired result","body":"<pre><code>public static void main(String[] args) {\n    // TODO Auto-generated method stub\n\n    String[] arr = new String[] { &quot;A&quot;, &quot;B&quot;};\n    for (int a = 0; a &lt; arr.length; a++) {\n        System.out.println(&quot;Item:&quot; + arr[a]);\n        \n        String[] aar1 = new String[] { &quot;1&quot;, &quot;B&quot;};\n        for(int b=0;b&lt;aar1.length;b++) {    \n        System.out.println(aar1[b]);\n        }\n    }\n}\n</code></pre>\n<p>Currently I am getting output as:</p>\n<pre><code>Item:A\n1\nB\nItem:B\n1\nB\n</code></pre>\n<p>How can I get Output as:</p>\n<pre><code>Item:A\n1\nItem:B\nB\n</code></pre>\n"},{"tags":["java","spring","logback","spring-logback"],"comments":[{"owner":{"account_id":13085809,"reputation":824,"user_id":9454812,"display_name":"walter33"},"score":0,"creation_date":1665661366,"post_id":73318818,"comment_id":130754537,"body_markdown":"log.info(&quot;value {} is updated to {}&quot;,value1, value2);","body":"log.info(&quot;value {} is updated to {}&quot;,value1, value2);"}],"answers":[{"tags":[],"owner":{"account_id":22165896,"reputation":9,"user_id":16412093,"display_name":"cc9"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1663929718,"creation_date":1663929718,"answer_id":73826531,"question_id":73318818,"body_markdown":"    log.info(dbMarker, &quot;formatted_message&quot;, &quot;arg0&quot;);\r\n","title":"Add arg0 in logback DB Appender spring boot","body":"<pre><code>log.info(dbMarker, &quot;formatted_message&quot;, &quot;arg0&quot;);\n</code></pre>\n"}],"owner":{"account_id":7120718,"reputation":54,"user_id":5445448,"display_name":"Mohamed Saber"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663929718,"creation_date":1660212181,"question_id":73318818,"body_markdown":"I am using logback with sprint boot, I have a DB appender and it works fine but I can&#39;t edit arg0, arg1...etc in logging_event table, how can I add values in these fields ?","title":"Add arg0 in logback DB Appender spring boot","body":"<p>I am using logback with sprint boot, I have a DB appender and it works fine but I can't edit arg0, arg1...etc in logging_event table, how can I add values in these fields ?</p>\n"},{"tags":["java","mysql","sql"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1663882093,"post_id":73820756,"comment_id":130350452,"body_markdown":"What does `Core.getDatabase().update(...)` do? How is the DB connection setup?  Is auto commit enabled? Side note - see also: SQL Injection","body":"What does <code>Core.getDatabase().update(...)</code> do? How is the DB connection setup?  Is auto commit enabled? Side note - see also: SQL Injection"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1663883392,"post_id":73820756,"comment_id":130350734,"body_markdown":"probably auto-commit is disabled and code is not executing a commit, so the actual transaction *sees* the updated value, but it is not yet stored in the table","body":"probably auto-commit is disabled and code is not executing a commit, so the actual transaction <i>sees</i> the updated value, but it is not yet stored in the table"},{"owner":{"account_id":31679,"reputation":209508,"user_id":87189,"accept_rate":100,"display_name":"tadman"},"score":0,"creation_date":1663890778,"post_id":73820756,"comment_id":130351923,"body_markdown":"**WARNING**: Be sure to use [prepared statements with placeholder values](http://bobby-tables.com/java) to avoid [SQL injection bugs](http://bobby-tables.com).","body":"<b>WARNING</b>: Be sure to use <a href=\"http://bobby-tables.com/java\" rel=\"nofollow noreferrer\">prepared statements with placeholder values</a> to avoid <a href=\"http://bobby-tables.com\" rel=\"nofollow noreferrer\">SQL injection bugs</a>."},{"owner":{"account_id":23124813,"reputation":23,"user_id":17230779,"display_name":"Jonas"},"score":0,"creation_date":1663927596,"post_id":73820756,"comment_id":130359568,"body_markdown":"@AndrewS thank you very much for your feedback!\n\nMy Database Connector Class looks like this:\nhttps://hastebin.com/arazubupiz.java\n\nAnd I&#39;m just using the `con.prepareStatement(&lt;query&gt;)` method and `preparedStatementVariable.executeUpdate()` after it.\n\nI also once had the returned integer from executeUpdate output to the console, which also confirmed that a line had been changed. :/","body":"@AndrewS thank you very much for your feedback!  My Database Connector Class looks like this: <a href=\"https://hastebin.com/arazubupiz.java\" rel=\"nofollow noreferrer\">hastebin.com/arazubupiz.java</a>  And I&#39;m just using the <code>con.prepareStatement(&lt;query&gt;)</code> method and <code>preparedStatementVariable.executeUpdate()</code> after it.  I also once had the returned integer from executeUpdate output to the console, which also confirmed that a line had been changed. :/"},{"owner":{"account_id":23124813,"reputation":23,"user_id":17230779,"display_name":"Jonas"},"score":0,"creation_date":1663927818,"post_id":73820756,"comment_id":130359644,"body_markdown":"@user16320675 thanks for the hint!\nWhere would I check something like that and change if necessary?","body":"@user16320675 thanks for the hint! Where would I check something like that and change if necessary?"},{"owner":{"account_id":23124813,"reputation":23,"user_id":17230779,"display_name":"Jonas"},"score":0,"creation_date":1663927855,"post_id":73820756,"comment_id":130359657,"body_markdown":"@tadmanyes, I already do, thank you! In the example I have now only directly injected, since I had the assumption that it could be due to PreparedStatements :/","body":"@tadmanyes, I already do, thank you! In the example I have now only directly injected, since I had the assumption that it could be due to PreparedStatements :/"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1663931040,"post_id":73820756,"comment_id":130360676,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":23124813,"reputation":23,"user_id":17230779,"display_name":"Jonas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663929628,"creation_date":1663929628,"answer_id":73826512,"question_id":73820756,"body_markdown":"Since the `AUTOCOMMIT` setting was disabled in MySQL, my changes were not applied to the database when performing an update.\r\nBut by using `.commit()` after all necessary changes everything works correctly now!\r\nThanks a lot! :)","title":"My database updates just expire after a system restart and are not saved properly","body":"<p>Since the <code>AUTOCOMMIT</code> setting was disabled in MySQL, my changes were not applied to the database when performing an update.\nBut by using <code>.commit()</code> after all necessary changes everything works correctly now!\nThanks a lot! :)</p>\n"}],"owner":{"account_id":23124813,"reputation":23,"user_id":17230779,"display_name":"Jonas"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73826512,"answer_count":1,"score":1,"last_activity_date":1663929628,"creation_date":1663881347,"question_id":73820756,"body_markdown":"Good evening!\r\nSince this morning, without actually changing anything, I have the problem that when I want to change a value in my database via `UPDATE` statement, it is not changed in the database.\r\n\r\nThe funny thing here is that getting the updated value in the next line then also returns the changed value, but after a restart and several phpmyadmin reloads the value still hasn&#39;t changed in the database itself.\r\n\r\nSo somehow UPDATE statement only affect the current execution of the system and not the actual database. Could this be some problem with the caching of my MySQL methods/libraries? \r\nIf you have any further questions, please feel free to contact me!\r\nThanks in advance! :)\r\n\r\n\r\n*DatabaseHelper.java*\r\n```java\r\n   public void editEntry(SearchCondition condition, EditValue... editValues) {\r\n        StringBuilder editCommand = new StringBuilder(&quot;UPDATE `&quot; + table.getName() + &quot;` SET &quot;);\r\n\r\n        for (int i = 0; i &lt; editValues.length; i++) {\r\n            EditValue editValue = editValues[i];\r\n            editCommand.append(&quot;`&quot; + editValue.getColumn() + &quot;` = &quot; + editValue.getValue());\r\n            if (i &lt; editValues.length - 1) {\r\n                editCommand.append(&quot;, &quot;);\r\n            }\r\n        }\r\n        editCommand.append(&quot; WHERE &quot;)\r\n                .append(&quot;`&quot; + condition.getColumn() + &quot;` = &#39;&quot; + condition.getValue() + &quot;&#39;&quot;)\r\n                .append(&quot;;&quot;);\r\n        System.out.println(editCommand);\r\n        Core.getDatabase().update(editCommand.toString());\r\n    }\r\n\r\n    public Object getEntry(SearchCondition... conditions) {\r\n        StringBuilder searchCommand = new StringBuilder(&quot;SELECT * FROM `&quot;)\r\n                .append(table.getName())\r\n                .append(&quot;`&quot;);\r\n        if (conditions.length &gt; 0) {\r\n            searchCommand.append(&quot; WHERE &quot;);\r\n            for (int i = 0; i &lt; conditions.length; i++) {\r\n                SearchCondition condition = conditions[i];\r\n                searchCommand.append(&quot;`&quot; + condition.getColumn() + &quot;` = \\&quot;&quot; + condition.getValue() + &quot;\\&quot;&quot;);\r\n                if (i &lt; conditions.length - 1) {\r\n                    searchCommand.append(&quot;, &quot;);\r\n                }\r\n            }\r\n        }\r\n        try {\r\n            ResultSet resultSet = Core.getDatabase().getResult(searchCommand.toString());\r\n            if (resultSet.next()) {\r\n                return resultSet.getObject(name);\r\n            }\r\n        } catch (SQLException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        return null;\r\n    }\r\n\r\n```\r\n\r\n*Main.java*\r\n```java\r\n  DataTable.load(&quot;stackoverflow&quot;).getColumn(&quot;id&quot;).editEntry(new SearchCondition(&quot;name&quot;, &quot;justin&quot;), new EditValue(&quot;id&quot;, 12));\r\n  System.out.println(DataTable.load(&quot;stackoverflow&quot;).getColumn(&quot;id&quot;).getEntry(new SearchCondition(&quot;name&quot;, &quot;justin&quot;));\r\n```\r\n\r\n*Output*\r\n```\r\n[System] Started MyExampleProject...\r\nUPDATE `stackoverflow` SET `id` = 12 WHERE `name` = &#39;justin&#39;;\r\n12\r\n```\r\n\r\n*Database Value in phpmyadmin before and after execution of the system*\r\n```\r\n26\r\n```\r\nDisclaimer: Yes, I made sure that the `DataTable.load()` and `getColumn()` function work correctly and no caching function was included on my part, but the `getEntry()` method grabs fresh from the database.\r\n","title":"My database updates just expire after a system restart and are not saved properly","body":"<p>Good evening!\nSince this morning, without actually changing anything, I have the problem that when I want to change a value in my database via <code>UPDATE</code> statement, it is not changed in the database.</p>\n<p>The funny thing here is that getting the updated value in the next line then also returns the changed value, but after a restart and several phpmyadmin reloads the value still hasn't changed in the database itself.</p>\n<p>So somehow UPDATE statement only affect the current execution of the system and not the actual database. Could this be some problem with the caching of my MySQL methods/libraries?\nIf you have any further questions, please feel free to contact me!\nThanks in advance! :)</p>\n<p><em>DatabaseHelper.java</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>   public void editEntry(SearchCondition condition, EditValue... editValues) {\n        StringBuilder editCommand = new StringBuilder(&quot;UPDATE `&quot; + table.getName() + &quot;` SET &quot;);\n\n        for (int i = 0; i &lt; editValues.length; i++) {\n            EditValue editValue = editValues[i];\n            editCommand.append(&quot;`&quot; + editValue.getColumn() + &quot;` = &quot; + editValue.getValue());\n            if (i &lt; editValues.length - 1) {\n                editCommand.append(&quot;, &quot;);\n            }\n        }\n        editCommand.append(&quot; WHERE &quot;)\n                .append(&quot;`&quot; + condition.getColumn() + &quot;` = '&quot; + condition.getValue() + &quot;'&quot;)\n                .append(&quot;;&quot;);\n        System.out.println(editCommand);\n        Core.getDatabase().update(editCommand.toString());\n    }\n\n    public Object getEntry(SearchCondition... conditions) {\n        StringBuilder searchCommand = new StringBuilder(&quot;SELECT * FROM `&quot;)\n                .append(table.getName())\n                .append(&quot;`&quot;);\n        if (conditions.length &gt; 0) {\n            searchCommand.append(&quot; WHERE &quot;);\n            for (int i = 0; i &lt; conditions.length; i++) {\n                SearchCondition condition = conditions[i];\n                searchCommand.append(&quot;`&quot; + condition.getColumn() + &quot;` = \\&quot;&quot; + condition.getValue() + &quot;\\&quot;&quot;);\n                if (i &lt; conditions.length - 1) {\n                    searchCommand.append(&quot;, &quot;);\n                }\n            }\n        }\n        try {\n            ResultSet resultSet = Core.getDatabase().getResult(searchCommand.toString());\n            if (resultSet.next()) {\n                return resultSet.getObject(name);\n            }\n        } catch (SQLException e) {\n            throw new RuntimeException(e);\n        }\n        return null;\n    }\n\n</code></pre>\n<p><em>Main.java</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>  DataTable.load(&quot;stackoverflow&quot;).getColumn(&quot;id&quot;).editEntry(new SearchCondition(&quot;name&quot;, &quot;justin&quot;), new EditValue(&quot;id&quot;, 12));\n  System.out.println(DataTable.load(&quot;stackoverflow&quot;).getColumn(&quot;id&quot;).getEntry(new SearchCondition(&quot;name&quot;, &quot;justin&quot;));\n</code></pre>\n<p><em>Output</em></p>\n<pre><code>[System] Started MyExampleProject...\nUPDATE `stackoverflow` SET `id` = 12 WHERE `name` = 'justin';\n12\n</code></pre>\n<p><em>Database Value in phpmyadmin before and after execution of the system</em></p>\n<pre><code>26\n</code></pre>\n<p>Disclaimer: Yes, I made sure that the <code>DataTable.load()</code> and <code>getColumn()</code> function work correctly and no caching function was included on my part, but the <code>getEntry()</code> method grabs fresh from the database.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1663929548,"post_id":73826293,"comment_id":130360163,"body_markdown":"```&quot;\\\\[(\\\\D+)\\\\]&quot;```  maybe?","body":"<code>&quot;\\\\[(\\\\D+)\\\\]&quot;</code>  maybe?"},{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1663931253,"post_id":73826293,"comment_id":130360736,"body_markdown":"You may add more restrictions to the negative lookahead, `\\[(?!(?:\\d+|_doc)])([^\\]\\[]*)]` or `\\[(?!\\d+])(?!_doc])([^\\]\\[]*)]`","body":"You may add more restrictions to the negative lookahead, <code>\\[(?!(?:\\d+|_doc)])([^\\]\\[]*)]</code> or <code>\\[(?!\\d+])(?!_doc])([^\\]\\[]*)]</code>"}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663929223,"creation_date":1663928705,"answer_id":73826332,"question_id":73826293,"body_markdown":"You can use either of\r\n```none\r\n\\[([^\\]\\[]*[^\\d\\[\\]][^\\]\\[]*)]\r\n\\[(?!\\d+])([^\\]\\[]*)]\r\n```\r\nSee the [regex demo #1][1] and [regex demo #2][2].\r\n\r\nIn Java, you will need to double escape the backslashes in the string literals:\r\n```java\r\nprivate static String REGEX = &quot;\\\\[[^\\\\]\\\\[]*[^\\\\d\\\\[\\\\]][^\\\\]\\\\[]*]&quot;;\r\nprivate static String REGEX = &quot;\\\\[(?!\\\\d+])[^\\\\]\\\\[]*]&quot;;\r\n```\r\n*Details*:\r\n\r\n - `\\[` - a `[` char\r\n - `[^\\]\\[]*` - zero or more chars other than `[` and `]`\r\n - `[^\\d\\[\\]]` - a char other than `[`, `]` and a digit\r\n - `[^\\]\\[]*` - zero or more chars other than `[` and `]`\r\n - `]` - a `]` char.\r\n \r\nAnd\r\n\r\n - `\\[` - a `[` char\r\n - `(?!\\d+])` - immediately to the right, there cannot be one or more digits followed with a `]` char\r\n - `[^\\]\\[]*` - zero or more chars other than `[` and `]`\r\n - `]` - a `]` char.\r\n\r\nIn your Java code, you probably can reduce the matching part with\r\n```java\r\nwhile (matcher.find()) {\r\n    String index = matcher.group(1);\r\n    indices.add(index);\r\n}\r\n```\r\nSee the [Java demo][3].\r\n\r\n\r\n  [1]: https://regex101.com/r/qIiLIH/3\r\n  [2]: https://regex101.com/r/qIiLIH/4\r\n  [3]: https://ideone.com/3lt8Bo","title":"How to grab string between square brackets and exclude if it is only a number","body":"<p>You can use either of</p>\n<pre class=\"lang-none prettyprint-override\"><code>\\[([^\\]\\[]*[^\\d\\[\\]][^\\]\\[]*)]\n\\[(?!\\d+])([^\\]\\[]*)]\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/qIiLIH/3\" rel=\"nofollow noreferrer\">regex demo #1</a> and <a href=\"https://regex101.com/r/qIiLIH/4\" rel=\"nofollow noreferrer\">regex demo #2</a>.</p>\n<p>In Java, you will need to double escape the backslashes in the string literals:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static String REGEX = &quot;\\\\[[^\\\\]\\\\[]*[^\\\\d\\\\[\\\\]][^\\\\]\\\\[]*]&quot;;\nprivate static String REGEX = &quot;\\\\[(?!\\\\d+])[^\\\\]\\\\[]*]&quot;;\n</code></pre>\n<p><em>Details</em>:</p>\n<ul>\n<li><code>\\[</code> - a <code>[</code> char</li>\n<li><code>[^\\]\\[]*</code> - zero or more chars other than <code>[</code> and <code>]</code></li>\n<li><code>[^\\d\\[\\]]</code> - a char other than <code>[</code>, <code>]</code> and a digit</li>\n<li><code>[^\\]\\[]*</code> - zero or more chars other than <code>[</code> and <code>]</code></li>\n<li><code>]</code> - a <code>]</code> char.</li>\n</ul>\n<p>And</p>\n<ul>\n<li><code>\\[</code> - a <code>[</code> char</li>\n<li><code>(?!\\d+])</code> - immediately to the right, there cannot be one or more digits followed with a <code>]</code> char</li>\n<li><code>[^\\]\\[]*</code> - zero or more chars other than <code>[</code> and <code>]</code></li>\n<li><code>]</code> - a <code>]</code> char.</li>\n</ul>\n<p>In your Java code, you probably can reduce the matching part with</p>\n<pre class=\"lang-java prettyprint-override\"><code>while (matcher.find()) {\n    String index = matcher.group(1);\n    indices.add(index);\n}\n</code></pre>\n<p>See the <a href=\"https://ideone.com/3lt8Bo\" rel=\"nofollow noreferrer\">Java demo</a>.</p>\n"},{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663929077,"creation_date":1663929077,"answer_id":73826393,"question_id":73826293,"body_markdown":"If your expected output is &quot;movies&quot;, and you don&#39;t want to match digits in between the square brackets and not match empty strings, you can use a capture group:\r\n\r\n    \\[([^\\]\\[\\d]+)]\r\n\r\n\r\n- `\\[` Match `[`\r\n- `(` Capture **group 1**\r\n  - `[^\\]\\[\\d]+` match 1+ chars other than `[` `]` or a digit\r\n- `)` Close group 1\r\n- `]` Match `]`\r\n\r\n[Regex demo](https://regex101.com/r/8rwo2E/1) | [Java demo](https://ideone.com/4reBeE)\r\n\r\nIn Java:\r\n\r\n    String regex = &quot;\\\\[([^\\\\]\\\\[\\\\d]*)\\\\]&quot;;\r\n\r\nExample\r\n\r\n    String regex = &quot;\\\\[([^\\\\]\\\\[\\\\d]+)]&quot;;\r\n    String string = &quot;requests[45180], indices[movies]&quot;;\r\n    \r\n    Pattern pattern = Pattern.compile(regex);\r\n    Matcher matcher = pattern.matcher(string);\r\n    \r\n    while (matcher.find()) {\r\n        System.out.println(matcher.group(1));\r\n    }\r\n\r\nOutput\r\n\r\n    movies","title":"How to grab string between square brackets and exclude if it is only a number","body":"<p>If your expected output is &quot;movies&quot;, and you don't want to match digits in between the square brackets and not match empty strings, you can use a capture group:</p>\n<pre><code>\\[([^\\]\\[\\d]+)]\n</code></pre>\n<ul>\n<li><code>\\[</code> Match <code>[</code></li>\n<li><code>(</code> Capture <strong>group 1</strong>\n<ul>\n<li><code>[^\\]\\[\\d]+</code> match 1+ chars other than <code>[</code> <code>]</code> or a digit</li>\n</ul>\n</li>\n<li><code>)</code> Close group 1</li>\n<li><code>]</code> Match <code>]</code></li>\n</ul>\n<p><a href=\"https://regex101.com/r/8rwo2E/1\" rel=\"nofollow noreferrer\">Regex demo</a> | <a href=\"https://ideone.com/4reBeE\" rel=\"nofollow noreferrer\">Java demo</a></p>\n<p>In Java:</p>\n<pre><code>String regex = &quot;\\\\[([^\\\\]\\\\[\\\\d]*)\\\\]&quot;;\n</code></pre>\n<p>Example</p>\n<pre><code>String regex = &quot;\\\\[([^\\\\]\\\\[\\\\d]+)]&quot;;\nString string = &quot;requests[45180], indices[movies]&quot;;\n\nPattern pattern = Pattern.compile(regex);\nMatcher matcher = pattern.matcher(string);\n\nwhile (matcher.find()) {\n    System.out.println(matcher.group(1));\n}\n</code></pre>\n<p>Output</p>\n<pre><code>movies\n</code></pre>\n"}],"owner":{"account_id":14326900,"reputation":15577,"user_id":10348758,"display_name":"ESCoder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73826332,"answer_count":2,"score":0,"last_activity_date":1663929223,"creation_date":1663928477,"question_id":73826293,"body_markdown":"I am trying to create a regex that will capture string between the square brackets, and if there is a number like (1234) then that should be excluded\r\n\r\nI am using the regex \r\n\r\n```\r\n\\[(.*?)\\]\r\n```\r\n\r\nSuppose the sample data is\r\n\r\n```\r\nrequests[45180], indices[movies]\r\n```\r\n\r\nIn this case, I get the output as :\r\n\r\n```\r\n[45180]\r\n[movies]\r\n```\r\n\r\nBut my expected output is :\r\n\r\n```\r\nmovies\r\n```\r\n\r\n**Code:**\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\npublic class RegexMatcher {\r\n    private static String REGEX = &quot;\\\\[(.*?)\\\\]&quot;;\r\n    private static String NUMBERS_REGEX = &quot;\\\\d+&quot;;\r\n    private static List sampleData = Arrays.asList(&quot;test from [a.b.v1.2.0.71-0] to [a.b.v1.2.0.73-0]&quot;,\r\n            &quot;requests[45180], indices[movies]&quot;);\r\n\r\n    public static void main(String[] args) {\r\n        Pattern pattern = Pattern.compile(REGEX);\r\n        Pattern numberPattern = Pattern.compile(NUMBERS_REGEX);\r\n        for (Object data : sampleData) {\r\n            List&lt;String&gt; indices = new ArrayList&lt;&gt;();\r\n            Matcher matcher = pattern.matcher(data.toString());\r\n\r\n            while (matcher.find()) {\r\n                String index = matcher.group().replaceAll(&quot;[\\\\[\\\\]&#39;]+&quot;, &quot;&quot;);\r\n                Matcher numberMatcher = numberPattern.matcher(index);\r\n                if (!numberMatcher.matches())\r\n                    indices.add(index);\r\n                \r\n            }\r\n            if (indices.size() &gt; 0)\r\n                System.out.println(&quot;Indices: &quot; + indices);\r\n        }\r\n    }\r\n}\r\n```\r\nCan anyone please help me resolve this issue?","title":"How to grab string between square brackets and exclude if it is only a number","body":"<p>I am trying to create a regex that will capture string between the square brackets, and if there is a number like (1234) then that should be excluded</p>\n<p>I am using the regex</p>\n<pre><code>\\[(.*?)\\]\n</code></pre>\n<p>Suppose the sample data is</p>\n<pre><code>requests[45180], indices[movies]\n</code></pre>\n<p>In this case, I get the output as :</p>\n<pre><code>[45180]\n[movies]\n</code></pre>\n<p>But my expected output is :</p>\n<pre><code>movies\n</code></pre>\n<p><strong>Code:</strong></p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class RegexMatcher {\n    private static String REGEX = &quot;\\\\[(.*?)\\\\]&quot;;\n    private static String NUMBERS_REGEX = &quot;\\\\d+&quot;;\n    private static List sampleData = Arrays.asList(&quot;test from [a.b.v1.2.0.71-0] to [a.b.v1.2.0.73-0]&quot;,\n            &quot;requests[45180], indices[movies]&quot;);\n\n    public static void main(String[] args) {\n        Pattern pattern = Pattern.compile(REGEX);\n        Pattern numberPattern = Pattern.compile(NUMBERS_REGEX);\n        for (Object data : sampleData) {\n            List&lt;String&gt; indices = new ArrayList&lt;&gt;();\n            Matcher matcher = pattern.matcher(data.toString());\n\n            while (matcher.find()) {\n                String index = matcher.group().replaceAll(&quot;[\\\\[\\\\]']+&quot;, &quot;&quot;);\n                Matcher numberMatcher = numberPattern.matcher(index);\n                if (!numberMatcher.matches())\n                    indices.add(index);\n                \n            }\n            if (indices.size() &gt; 0)\n                System.out.println(&quot;Indices: &quot; + indices);\n        }\n    }\n}\n</code></pre>\n<p>Can anyone please help me resolve this issue?</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1663929696,"post_id":73826399,"comment_id":130360205,"body_markdown":"Show the full stack trace too.","body":"Show the full stack trace too."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1663934010,"post_id":73826399,"comment_id":130361572,"body_markdown":"Your passwords in the database are probably not prepended with what decoder to use `{bcrypt}mySecretHashedPassword` if you fetch a hashed password from the database how is the service going to know what encoder was used? You need to prefix the passwords with the name of the encoding schema inside brackets","body":"Your passwords in the database are probably not prepended with what decoder to use <code>{bcrypt}mySecretHashedPassword</code> if you fetch a hashed password from the database how is the service going to know what encoder was used? You need to prefix the passwords with the name of the encoding schema inside brackets"},{"owner":{"account_id":21488921,"reputation":4715,"user_id":15835039,"display_name":"Steve Riesenberg"},"score":0,"creation_date":1663943942,"post_id":73826399,"comment_id":130365516,"body_markdown":"Have you tried just using `PasswordEncoderFactories.createDelegatingPasswordEncoder()` instead? Out of curiosity, why are you creating a custom delegating password encoder? It looks like you just support fewer than the provided one but don&#39;t customize anything about them.","body":"Have you tried just using <code>PasswordEncoderFactories.createDelegatingPasswordEncoder()</code> instead? Out of curiosity, why are you creating a custom delegating password encoder? It looks like you just support fewer than the provided one but don&#39;t customize anything about them."},{"owner":{"account_id":21488921,"reputation":4715,"user_id":15835039,"display_name":"Steve Riesenberg"},"score":1,"creation_date":1663944042,"post_id":73826399,"comment_id":130365562,"body_markdown":"Also see @Toerktumlare comment which I agree with. Please also show how you are encoding the passwords for the database.","body":"Also see @Toerktumlare comment which I agree with. Please also show how you are encoding the passwords for the database."}],"owner":{"account_id":26421528,"reputation":11,"user_id":20069140,"display_name":"Javier Figueiras "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1664315985,"answer_count":0,"score":0,"last_activity_date":1663929196,"creation_date":1663929100,"question_id":73826399,"body_markdown":"**I am not able to solve the problem --&gt; java.lang.IllegalArgumentException: There is no PasswordEncoder mapped for the id &quot;null&quot;\r\nI have it implemented like this:**\r\n         \r\n\r\n        @RequiredArgsConstructor\r\n            @Configuration\r\n            @EnableWebSecurity\r\n            @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n            public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n            \r\n                private final UserDetailsService userDetailsService;\r\n                private final PersistentTokenRepository persistentTokenRepository;\r\n            \r\n                // needed for use with Spring Data JPA SPeL\r\n                @Bean\r\n                public SecurityEvaluationContextExtension securityEvaluationContextExtension() {\r\n                    return new SecurityEvaluationContextExtension();\r\n                }\r\n            \r\n                @Override\r\n                protected void configure(HttpSecurity http) throws Exception {\r\n            \r\n                    http\r\n                            .authorizeRequests(authorize -&gt; {\r\n                                authorize\r\n                                        .antMatchers(&quot;/&quot;, &quot;/webjars/**&quot;, &quot;/login&quot;, &quot;/resources/**&quot;).permitAll();\r\n                            } )\r\n                            .authorizeRequests()\r\n                            .anyRequest().authenticated()\r\n                            .and()\r\n                            .formLogin(loginConfigurer -&gt; {\r\n                                loginConfigurer\r\n                                        .loginProcessingUrl(&quot;/login&quot;)\r\n                                        .loginPage(&quot;/&quot;).permitAll()\r\n                                        .successForwardUrl(&quot;/&quot;)\r\n                                        .defaultSuccessUrl(&quot;/&quot;)\r\n                                        .failureUrl(&quot;/?error&quot;);\r\n                            })\r\n                            .logout(logoutConfigurer -&gt; {\r\n                                logoutConfigurer\r\n                                        .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;, &quot;GET&quot;))\r\n                                        .logoutSuccessUrl(&quot;/?logout&quot;)\r\n                                        .permitAll();\r\n                            })\r\n                            .httpBasic()\r\n                            .and().rememberMe()\r\n                            .tokenRepository(persistentTokenRepository)\r\n                            .userDetailsService(userDetailsService);\r\n                    http.headers().frameOptions().sameOrigin();\r\n                }\r\n            \r\n                @Bean\r\n                PasswordEncoder passwordEncoder(){\r\n                    return SfgPasswordEncoderFactories.createDelegatingPasswordEncoder();\r\n                }\r\n            \r\n\r\n**Token creation**\r\n\r\n    @Configuration\r\n    public class SecurityBeans {\r\n        @Bean\r\n        public PersistentTokenRepository persistentTokenRepository(DataSource dataSource){\r\n            JdbcTokenRepositoryImpl tokenRepository = new JdbcTokenRepositoryImpl();\r\n            tokenRepository.setDataSource(dataSource);\r\n            return tokenRepository;\r\n        }\r\n    \r\n    }\r\n    \r\n    ****************************************************************************************************\r\n \r\n**In the DB insert a password in bcrypt for the user. The error seems to be in return new DelegatingPasswordEncoder(encodingId, encoders); but I think it&#39;s fine.**     \r\n    \r\n    public class SfgPasswordEncoderFactories {\r\n    \r\n        public static PasswordEncoder createDelegatingPasswordEncoder() {\r\n            String encodingId = &quot;bcrypt&quot;;\r\n            Map&lt;String, PasswordEncoder&gt; encoders = new HashMap&lt;&gt;();\r\n            encoders.put(encodingId, new BCryptPasswordEncoder());\r\n            encoders.put(&quot;bcrypt&quot;, new BCryptPasswordEncoder());\r\n            encoders.put(&quot;ldap&quot;, new org.springframework.security.crypto.password.LdapShaPasswordEncoder());\r\n            encoders.put(&quot;noop&quot;, org.springframework.security.crypto.password.NoOpPasswordEncoder.getInstance());\r\n            encoders.put(&quot;sha256&quot;, new org.springframework.security.crypto.password.StandardPasswordEncoder());\r\n    \r\n            return new DelegatingPasswordEncoder(encodingId, encoders);\r\n        }\r\n    \r\n        //don&#39;t instantiate class\r\n        private SfgPasswordEncoderFactories() {\r\n        }\r\n    }\r\n","title":"java.lang.IllegalArgumentException: There is no PasswordEncoder mapped for the id &quot;null&quot;. I am not able to solve it","body":"<p><strong>I am not able to solve the problem --&gt; java.lang.IllegalArgumentException: There is no PasswordEncoder mapped for the id &quot;null&quot;\nI have it implemented like this:</strong></p>\n<pre><code>    @RequiredArgsConstructor\n        @Configuration\n        @EnableWebSecurity\n        @EnableGlobalMethodSecurity(prePostEnabled = true)\n        public class SecurityConfig extends WebSecurityConfigurerAdapter {\n        \n            private final UserDetailsService userDetailsService;\n            private final PersistentTokenRepository persistentTokenRepository;\n        \n            // needed for use with Spring Data JPA SPeL\n            @Bean\n            public SecurityEvaluationContextExtension securityEvaluationContextExtension() {\n                return new SecurityEvaluationContextExtension();\n            }\n        \n            @Override\n            protected void configure(HttpSecurity http) throws Exception {\n        \n                http\n                        .authorizeRequests(authorize -&gt; {\n                            authorize\n                                    .antMatchers(&quot;/&quot;, &quot;/webjars/**&quot;, &quot;/login&quot;, &quot;/resources/**&quot;).permitAll();\n                        } )\n                        .authorizeRequests()\n                        .anyRequest().authenticated()\n                        .and()\n                        .formLogin(loginConfigurer -&gt; {\n                            loginConfigurer\n                                    .loginProcessingUrl(&quot;/login&quot;)\n                                    .loginPage(&quot;/&quot;).permitAll()\n                                    .successForwardUrl(&quot;/&quot;)\n                                    .defaultSuccessUrl(&quot;/&quot;)\n                                    .failureUrl(&quot;/?error&quot;);\n                        })\n                        .logout(logoutConfigurer -&gt; {\n                            logoutConfigurer\n                                    .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;, &quot;GET&quot;))\n                                    .logoutSuccessUrl(&quot;/?logout&quot;)\n                                    .permitAll();\n                        })\n                        .httpBasic()\n                        .and().rememberMe()\n                        .tokenRepository(persistentTokenRepository)\n                        .userDetailsService(userDetailsService);\n                http.headers().frameOptions().sameOrigin();\n            }\n        \n            @Bean\n            PasswordEncoder passwordEncoder(){\n                return SfgPasswordEncoderFactories.createDelegatingPasswordEncoder();\n            }\n        \n</code></pre>\n<p><strong>Token creation</strong></p>\n<pre><code>@Configuration\npublic class SecurityBeans {\n    @Bean\n    public PersistentTokenRepository persistentTokenRepository(DataSource dataSource){\n        JdbcTokenRepositoryImpl tokenRepository = new JdbcTokenRepositoryImpl();\n        tokenRepository.setDataSource(dataSource);\n        return tokenRepository;\n    }\n\n}\n\n****************************************************************************************************\n</code></pre>\n<p><strong>In the DB insert a password in bcrypt for the user. The error seems to be in return new DelegatingPasswordEncoder(encodingId, encoders); but I think it's fine.</strong></p>\n<pre><code>public class SfgPasswordEncoderFactories {\n\n    public static PasswordEncoder createDelegatingPasswordEncoder() {\n        String encodingId = &quot;bcrypt&quot;;\n        Map&lt;String, PasswordEncoder&gt; encoders = new HashMap&lt;&gt;();\n        encoders.put(encodingId, new BCryptPasswordEncoder());\n        encoders.put(&quot;bcrypt&quot;, new BCryptPasswordEncoder());\n        encoders.put(&quot;ldap&quot;, new org.springframework.security.crypto.password.LdapShaPasswordEncoder());\n        encoders.put(&quot;noop&quot;, org.springframework.security.crypto.password.NoOpPasswordEncoder.getInstance());\n        encoders.put(&quot;sha256&quot;, new org.springframework.security.crypto.password.StandardPasswordEncoder());\n\n        return new DelegatingPasswordEncoder(encodingId, encoders);\n    }\n\n    //don't instantiate class\n    private SfgPasswordEncoderFactories() {\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1663929439,"post_id":73826389,"comment_id":130360135,"body_markdown":"From `WatchlistPost` remove the `Long id` column and place `@Id` on both relationships. That way you ensure that each id pair is unique","body":"From <code>WatchlistPost</code> remove the <code>Long id</code> column and place <code>@Id</code> on both relationships. That way you ensure that each id pair is unique"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1663929518,"post_id":73826389,"comment_id":130360155,"body_markdown":"Your model (slightly) doesn&#39;t match your requirements/description ..yes, you need to &quot;constraint&quot; user/post somehow...i recommend: https://vladmihalcea.com/the-best-way-to-use-the-manytomany-annotation-with-jpa-and-hibernate/ and https://vladmihalcea.com/the-best-way-to-map-a-composite-primary-key-with-jpa-and-hibernate/","body":"Your model (slightly) doesn&#39;t match your requirements/description ..yes, you need to &quot;constraint&quot; user/post somehow...i recommend: <a href=\"https://vladmihalcea.com/the-best-way-to-use-the-manytomany-annotation-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">vladmihalcea.com/&hellip;</a> and <a href=\"https://vladmihalcea.com/the-best-way-to-map-a-composite-primary-key-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">vladmihalcea.com/&hellip;</a>"},{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1663930216,"post_id":73826389,"comment_id":130360381,"body_markdown":"You have to change your database, the three fields should be unique to not allow repeated rows. Besides that, in your model, the three attributes should have the `@Id` annotation too","body":"You have to change your database, the three fields should be unique to not allow repeated rows. Besides that, in your model, the three attributes should have the <code>@Id</code> annotation too"},{"owner":{"account_id":2038896,"reputation":134,"user_id":1820567,"display_name":"max de simone"},"score":0,"creation_date":1663938959,"post_id":73826389,"comment_id":130363482,"body_markdown":"IMHO, there is a problem with the database schema/mapping. You do not need to map the WATCHLISTPOST table to a Java entity. The WATCHLISTPOST is M:N relationship type between USER and POST, with no own attributes.","body":"IMHO, there is a problem with the database schema/mapping. You do not need to map the WATCHLISTPOST table to a Java entity. The WATCHLISTPOST is M:N relationship type between USER and POST, with no own attributes."},{"owner":{"account_id":22250524,"reputation":181,"user_id":16483521,"display_name":"ServletException"},"score":0,"creation_date":1663965510,"post_id":73826389,"comment_id":130371845,"body_markdown":"@maxdesimone thanks for the reply, I tried creating a M:N relation between User and Post, I am now able to watchlist a post fine, but the issue is that I can&#39;t watchlist more than one post per user id, when I watchlist another post, the entry gets updated in the DB with that post id, instead of adding it, which makes sense because of the user id pk.","body":"@maxdesimone thanks for the reply, I tried creating a M:N relation between User and Post, I am now able to watchlist a post fine, but the issue is that I can&#39;t watchlist more than one post per user id, when I watchlist another post, the entry gets updated in the DB with that post id, instead of adding it, which makes sense because of the user id pk."}],"owner":{"account_id":22250524,"reputation":181,"user_id":16483521,"display_name":"ServletException"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663929054,"creation_date":1663929054,"question_id":73826389,"body_markdown":"I have a Post entity and a User entity  (User can create many posts/advertisements), i&#39;m trying to add a watchlist functionality so that a user can select any post and it would be watchlisted (Allowing them to kind of save a post for future reference).\r\n\r\nI created a new entity called WatchlistPost, which contains a reference to both the User and the Post entities, and I can save a watchlisted post but I&#39;d like to only allow a user to watchlist a particular post once (atm a user can watchlist multiple posts even if the post is the same / has the same post id).\r\n\r\nA user should be able to watchlist multiple Posts, but not the same post multiple times.\r\n\r\n[![A user can watchlist the same post multiple times][1]][1]\r\n\r\n\r\n----\r\n\r\nThis is my Post Entity\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Post {\r\n\r\n    private long EXPIRATION_TIME_DAYS = 14;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @NotBlank(message = &quot;Required&quot;)\r\n    @Size(min=20, message = &quot;Minimum of 20 characters&quot;)\r\n    @Size(max=100, message = &quot;Maximum of 100 characters&quot;)\r\n    @Column(unique = true)\r\n    private String title;\r\n\r\n    @NotBlank(message = &quot;Required&quot;)\r\n    @Size(min = 50, message = &quot;Minimum of 50 characters&quot;)\r\n    @Size(max = 2000, message = &quot;Maximum of 2000 characters&quot;)\r\n    @Column(length = 2000)\r\n    private String description;\r\n\r\n    // Removed other fields\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name=&quot;user_id&quot;)\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    @JsonIgnore\r\n    private User user;\r\n\r\n}\r\n\r\n```\r\n\r\n----\r\n\r\n**My User Entity**\r\n```\r\n\r\n@Entity\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class User {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @NotBlank(message = &quot;Required&quot;)\r\n    private String fullName;\r\n\r\n    // Removed other fields\r\n\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER, mappedBy = &quot;user&quot;, orphanRemoval = true)\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    private List&lt;Post&gt; posts = new ArrayList&lt;&gt;();\r\n\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n----\r\n\r\n**Watchlist Post Entity**\r\n\r\n```\r\npackage com.carspot.app.entity;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport org.hibernate.annotations.OnDelete;\r\nimport org.hibernate.annotations.OnDeleteAction;\r\n\r\nimport javax.persistence.*;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n@Entity\r\n@Table(name=&quot;watchlist_post&quot;)\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class WatchlistPost {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n\r\n    @OneToOne(fetch = FetchType.LAZY)\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    @JsonIgnore\r\n    @JoinColumn(name = &quot;post_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Post post;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    @JsonIgnore\r\n    @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private User user;\r\n}\r\n\r\n```\r\n\r\n---\r\n\r\n**MySQL DDL for Watchlist table**\r\n[![Watchlist table DDL][2]][2]\r\n\r\n\r\n---\r\n\r\n**Service method to add a Watchlist Post**\r\n```\r\n    @Override\r\n    public void addToWatchlist(Long postId, String emailAddress) {\r\n        User user = userRepository.findUserByEmailAddress(emailAddress);\r\n\r\n        // findPostById(id) - finds post by id, or throws Exception if post doesn&#39;t exist\r\n        Post post = findPostById(postId);\r\n\r\n        WatchlistPost watchlistPost = new WatchlistPost();\r\n        watchlistPost.setPost(post);\r\n        watchlistPost.setUser(user);\r\n\r\n        postWatchlistRepository.save(watchlistPost);\r\n\r\n    }\r\n```\r\n\r\n---\r\n\r\n**Controller method**\r\n```\r\n    @PostMapping(&quot;api/post/watchlist/{postId}&quot;)\r\n    public ResponseEntity&lt;?&gt; addToWatchList(@PathVariable Long postId, Principal principal) {\r\n        postService.addToWatchlist(postId, principal.getName());\r\n        return new ResponseEntity&lt;&gt;(&quot;Post added to watchlist&quot;, HttpStatus.OK);\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LcCwB.png\r\n  [2]: https://i.stack.imgur.com/SD8OS.png","title":"Adding a watchlist functionality for JPA Entity","body":"<p>I have a Post entity and a User entity  (User can create many posts/advertisements), i'm trying to add a watchlist functionality so that a user can select any post and it would be watchlisted (Allowing them to kind of save a post for future reference).</p>\n<p>I created a new entity called WatchlistPost, which contains a reference to both the User and the Post entities, and I can save a watchlisted post but I'd like to only allow a user to watchlist a particular post once (atm a user can watchlist multiple posts even if the post is the same / has the same post id).</p>\n<p>A user should be able to watchlist multiple Posts, but not the same post multiple times.</p>\n<p><a href=\"https://i.stack.imgur.com/LcCwB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LcCwB.png\" alt=\"A user can watchlist the same post multiple times\" /></a></p>\n<hr />\n<p>This is my Post Entity</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Post {\n\n    private long EXPIRATION_TIME_DAYS = 14;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @NotBlank(message = &quot;Required&quot;)\n    @Size(min=20, message = &quot;Minimum of 20 characters&quot;)\n    @Size(max=100, message = &quot;Maximum of 100 characters&quot;)\n    @Column(unique = true)\n    private String title;\n\n    @NotBlank(message = &quot;Required&quot;)\n    @Size(min = 50, message = &quot;Minimum of 50 characters&quot;)\n    @Size(max = 2000, message = &quot;Maximum of 2000 characters&quot;)\n    @Column(length = 2000)\n    private String description;\n\n    // Removed other fields\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name=&quot;user_id&quot;)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    @JsonIgnore\n    private User user;\n\n}\n\n</code></pre>\n<hr />\n<p><strong>My User Entity</strong></p>\n<pre><code>\n@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @NotBlank(message = &quot;Required&quot;)\n    private String fullName;\n\n    // Removed other fields\n\n\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER, mappedBy = &quot;user&quot;, orphanRemoval = true)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    private List&lt;Post&gt; posts = new ArrayList&lt;&gt;();\n\n\n\n}\n\n</code></pre>\n<hr />\n<p><strong>Watchlist Post Entity</strong></p>\n<pre><code>package com.carspot.app.entity;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.hibernate.annotations.OnDelete;\nimport org.hibernate.annotations.OnDeleteAction;\n\nimport javax.persistence.*;\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Entity\n@Table(name=&quot;watchlist_post&quot;)\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class WatchlistPost {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n\n    @OneToOne(fetch = FetchType.LAZY)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    @JsonIgnore\n    @JoinColumn(name = &quot;post_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Post post;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    @JsonIgnore\n    @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\n    private User user;\n}\n\n</code></pre>\n<hr />\n<p><strong>MySQL DDL for Watchlist table</strong>\n<a href=\"https://i.stack.imgur.com/SD8OS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SD8OS.png\" alt=\"Watchlist table DDL\" /></a></p>\n<hr />\n<p><strong>Service method to add a Watchlist Post</strong></p>\n<pre><code>    @Override\n    public void addToWatchlist(Long postId, String emailAddress) {\n        User user = userRepository.findUserByEmailAddress(emailAddress);\n\n        // findPostById(id) - finds post by id, or throws Exception if post doesn't exist\n        Post post = findPostById(postId);\n\n        WatchlistPost watchlistPost = new WatchlistPost();\n        watchlistPost.setPost(post);\n        watchlistPost.setUser(user);\n\n        postWatchlistRepository.save(watchlistPost);\n\n    }\n</code></pre>\n<hr />\n<p><strong>Controller method</strong></p>\n<pre><code>    @PostMapping(&quot;api/post/watchlist/{postId}&quot;)\n    public ResponseEntity&lt;?&gt; addToWatchList(@PathVariable Long postId, Principal principal) {\n        postService.addToWatchlist(postId, principal.getName());\n        return new ResponseEntity&lt;&gt;(&quot;Post added to watchlist&quot;, HttpStatus.OK);\n    }\n</code></pre>\n"},{"tags":["java","android","android-fragments","android-architecture-navigation","fragment-backstack"],"comments":[{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1663903372,"post_id":73821968,"comment_id":130353563,"body_markdown":"So what&#39;s the actual problem you are facing? What of the [fragment state that you are saving](https://developer.android.com/guide/fragments/saving-state) isn&#39;t being restored? That&#39;s what the documentation says is saved and restored and that has absolutely nothing to do with the Fragment being destroyed or not.","body":"So what&#39;s the actual problem you are facing? What of the <a href=\"https://developer.android.com/guide/fragments/saving-state\" rel=\"nofollow noreferrer\">fragment state that you are saving</a> isn&#39;t being restored? That&#39;s what the documentation says is saved and restored and that has absolutely nothing to do with the Fragment being destroyed or not."},{"owner":{"account_id":23824421,"reputation":3,"user_id":17831676,"display_name":"yusufff"},"score":0,"creation_date":1663939658,"post_id":73821968,"comment_id":130363747,"body_markdown":"The problem is when I press the profile bottom navigation button, i would like to see blank fragment because this is where i came from","body":"The problem is when I press the profile bottom navigation button, i would like to see blank fragment because this is where i came from"}],"answers":[{"tags":[],"owner":{"account_id":21390158,"reputation":801,"user_id":15754377,"display_name":"Vivek Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663929044,"creation_date":1663902706,"answer_id":73822607,"question_id":73821968,"body_markdown":"You need to make each nav graph destination a top level destination. You can do so by passing each nav destination id as a set to appbarconfiguration \r\n\r\n    BottomNavigationView navView = findViewById(R.id.nav_view);\r\n    // Passing each menu ID as a set of Ids because each\r\n    // menu should be considered as top level destinations.\r\n    AppBarConfiguration appBarConfiguration = new AppBarConfiguration.Builder(\r\n            R.id.fragment_profile, R.id.fragment_blank, R.id.fragment_trends)\r\n            .build();\r\n    NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_activity_main);\r\n    NavigationUI.setupActionBarWithNavController(this, navController, appBarConfiguration);\r\n    NavigationUI.setupWithNavController(binding.forumBottomNav, navController);","title":"how to not detsroy the fragments opened when switching with bottom navigation buttons","body":"<p>You need to make each nav graph destination a top level destination. You can do so by passing each nav destination id as a set to appbarconfiguration</p>\n<pre><code>BottomNavigationView navView = findViewById(R.id.nav_view);\n// Passing each menu ID as a set of Ids because each\n// menu should be considered as top level destinations.\nAppBarConfiguration appBarConfiguration = new AppBarConfiguration.Builder(\n        R.id.fragment_profile, R.id.fragment_blank, R.id.fragment_trends)\n        .build();\nNavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_activity_main);\nNavigationUI.setupActionBarWithNavController(this, navController, appBarConfiguration);\nNavigationUI.setupWithNavController(binding.forumBottomNav, navController);\n</code></pre>\n"}],"owner":{"account_id":23824421,"reputation":3,"user_id":17831676,"display_name":"yusufff"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663929044,"creation_date":1663893986,"question_id":73821968,"body_markdown":"In the belowcode, we have a TrendsFragment and a ProfileFragment as base fragments that will be opened with bottom navigation view. I can open a Blank Fragment and navigate to it from both of these. When I do TrendsFragment-profileFragment-BlankFragment-TrendsFRagment, BlankFragment gets destroyed. I tried a lot of ways to change it but I could not manage it. How can I make blankFragment live? I started to use navigation component library because the documantation says : \r\n\r\n&quot;The NavigationUI class includes APIs that automatically save and restore the state of menu items as the user moves between them. These APIs implement multiple back stack support by default in the following cases:\r\n\r\nWhen you use the appropriate overload of setupWithNavController() to associate an instance of NavigationView or BottomNavigationView with a NavController instance, as described in Add a navigation drawer or Bottom navigation.\r\nWhen you use onNavDestinationSelected() to create a custom navigation menu UI tied to destinations hosted by a NavController instance.&quot;\r\n\r\nWhat am I doing wrong? please explain clearly, thanks in advance...\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    private static final String TAG = &quot;MainActivity&quot;;\r\n    ActivityMainBinding binding;\r\n    NavController navController;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n        NavHostFragment navHostFragment=(NavHostFragment) getSupportFragmentManager().findFragmentById(R.id.nav_host_fragment_container);\r\n        navController = navHostFragment.getNavController();\r\n        NavigationUI.setupWithNavController(binding.forumBottomNav, navController);\r\n    }\r\n\r\n    }\r\n\r\nHere is my navigation graph\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;navigation\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/nav_graph&quot;\r\n    app:startDestination=&quot;@id/trendsFragment&quot;&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/profileFragment&quot;\r\n        android:name=&quot;com.yusufemirbektas.bottomnavfrags.ProfileFragment&quot;\r\n        android:label=&quot;fragment_profile&quot;\r\n        tools:layout=&quot;@layout/fragment_profile&quot; &gt;\r\n        &lt;action\r\n            app:restoreState=&quot;true&quot;\r\n            android:id=&quot;@+id/action_profileFragment_to_blankFragment&quot;\r\n            app:destination=&quot;@id/blankFragment&quot; /&gt;\r\n    &lt;/fragment&gt;\r\n    &lt;fragment\r\n        android:id=&quot;@+id/trendsFragment&quot;\r\n        android:name=&quot;com.yusufemirbektas.bottomnavfrags.TrendsFragment&quot;\r\n        android:label=&quot;fragment_trends&quot;\r\n        tools:layout=&quot;@layout/fragment_trends&quot; &gt;\r\n        &lt;action\r\n            app:restoreState=&quot;true&quot;\r\n            android:id=&quot;@+id/action_trendsFragment_to_blankFragment&quot;\r\n            app:destination=&quot;@id/blankFragment&quot; /&gt;\r\n    &lt;/fragment&gt;\r\n    &lt;fragment\r\n        android:id=&quot;@+id/blankFragment&quot;\r\n        android:name=&quot;com.yusufemirbektas.bottomnavfrags.BlankFragment&quot;\r\n        android:label=&quot;fragment_blank&quot;\r\n        tools:layout=&quot;@layout/fragment_blank&quot; &gt;\r\n        &lt;action\r\n            app:restoreState=&quot;true&quot;\r\n            android:id=&quot;@+id/action_blankFragment_self&quot;\r\n            app:destination=&quot;@id/blankFragment&quot; /&gt;\r\n    &lt;/fragment&gt;\r\n&lt;/navigation&gt;\r\n\r\nTrends fragment\r\n\r\n    public class TrendsFragment extends Fragment {\r\n    FragmentsListener listener;\r\n    FragmentTrendsBinding binding;\r\n    FragmentManager fm;\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        fm = getChildFragmentManager();\r\n    }\r\n\r\n    public void setListener(FragmentsListener listener) {\r\n        this.listener = listener;\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        binding = FragmentTrendsBinding.inflate(inflater, container, false);\r\n        return binding.getRoot();\r\n    }\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n        NavController navController= Navigation.findNavController(view);\r\n        binding.openFragButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                navController.navigate(R.id.action_trendsFragment_to_blankFragment);\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n        binding = null;\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n        fm = null;\r\n        listener = null;\r\n    }\r\n    }\r\nprofile fragment\r\n\r\n    public class ProfileFragment extends Fragment {\r\n\r\n    private static final String TAG = &quot;ProfileFragment&quot;;\r\n    FragmentProfileBinding binding;\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n    }\r\n    \r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        binding=FragmentProfileBinding.inflate(inflater,container,false);\r\n\r\n        return binding.getRoot();\r\n    }\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n        NavController navController= Navigation.findNavController(view);\r\n        binding.openFragButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                navController.navigate(R.id.action_profileFragment_to_blankFragment);\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n        binding=null;\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n\r\n    }\r\n    }\r\n\r\nblank fragment\r\n\r\n    public class BlankFragment extends Fragment {\r\n\r\n    FragmentBlankBinding binding;\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n    }\r\n\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        binding = FragmentBlankBinding.inflate(inflater, container, false);\r\n        return binding.getRoot();\r\n    }\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n        NavController navController= Navigation.findNavController(view);\r\n        binding.openFragButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                navController.navigate(R.id.action_blankFragment_self);\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n        binding = null;\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n    }\r\n    }","title":"how to not detsroy the fragments opened when switching with bottom navigation buttons","body":"<p>In the belowcode, we have a TrendsFragment and a ProfileFragment as base fragments that will be opened with bottom navigation view. I can open a Blank Fragment and navigate to it from both of these. When I do TrendsFragment-profileFragment-BlankFragment-TrendsFRagment, BlankFragment gets destroyed. I tried a lot of ways to change it but I could not manage it. How can I make blankFragment live? I started to use navigation component library because the documantation says :</p>\n<p>&quot;The NavigationUI class includes APIs that automatically save and restore the state of menu items as the user moves between them. These APIs implement multiple back stack support by default in the following cases:</p>\n<p>When you use the appropriate overload of setupWithNavController() to associate an instance of NavigationView or BottomNavigationView with a NavController instance, as described in Add a navigation drawer or Bottom navigation.\nWhen you use onNavDestinationSelected() to create a custom navigation menu UI tied to destinations hosted by a NavController instance.&quot;</p>\n<p>What am I doing wrong? please explain clearly, thanks in advance...</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\nprivate static final String TAG = &quot;MainActivity&quot;;\nActivityMainBinding binding;\nNavController navController;\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    binding = ActivityMainBinding.inflate(getLayoutInflater());\n    setContentView(binding.getRoot());\n    NavHostFragment navHostFragment=(NavHostFragment) getSupportFragmentManager().findFragmentById(R.id.nav_host_fragment_container);\n    navController = navHostFragment.getNavController();\n    NavigationUI.setupWithNavController(binding.forumBottomNav, navController);\n}\n\n}\n</code></pre>\n<p>Here is my navigation graph</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;navigation\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:id=&quot;@+id/nav_graph&quot;\napp:startDestination=&quot;@id/trendsFragment&quot;&gt;\n\n&lt;fragment\n    android:id=&quot;@+id/profileFragment&quot;\n    android:name=&quot;com.yusufemirbektas.bottomnavfrags.ProfileFragment&quot;\n    android:label=&quot;fragment_profile&quot;\n    tools:layout=&quot;@layout/fragment_profile&quot; &gt;\n    &lt;action\n        app:restoreState=&quot;true&quot;\n        android:id=&quot;@+id/action_profileFragment_to_blankFragment&quot;\n        app:destination=&quot;@id/blankFragment&quot; /&gt;\n&lt;/fragment&gt;\n&lt;fragment\n    android:id=&quot;@+id/trendsFragment&quot;\n    android:name=&quot;com.yusufemirbektas.bottomnavfrags.TrendsFragment&quot;\n    android:label=&quot;fragment_trends&quot;\n    tools:layout=&quot;@layout/fragment_trends&quot; &gt;\n    &lt;action\n        app:restoreState=&quot;true&quot;\n        android:id=&quot;@+id/action_trendsFragment_to_blankFragment&quot;\n        app:destination=&quot;@id/blankFragment&quot; /&gt;\n&lt;/fragment&gt;\n&lt;fragment\n    android:id=&quot;@+id/blankFragment&quot;\n    android:name=&quot;com.yusufemirbektas.bottomnavfrags.BlankFragment&quot;\n    android:label=&quot;fragment_blank&quot;\n    tools:layout=&quot;@layout/fragment_blank&quot; &gt;\n    &lt;action\n        app:restoreState=&quot;true&quot;\n        android:id=&quot;@+id/action_blankFragment_self&quot;\n        app:destination=&quot;@id/blankFragment&quot; /&gt;\n&lt;/fragment&gt;\n</code></pre>\n\n<p>Trends fragment</p>\n<pre><code>public class TrendsFragment extends Fragment {\nFragmentsListener listener;\nFragmentTrendsBinding binding;\nFragmentManager fm;\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    fm = getChildFragmentManager();\n}\n\npublic void setListener(FragmentsListener listener) {\n    this.listener = listener;\n}\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    // Inflate the layout for this fragment\n    binding = FragmentTrendsBinding.inflate(inflater, container, false);\n    return binding.getRoot();\n}\n\n@Override\npublic void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n    super.onViewCreated(view, savedInstanceState);\n    NavController navController= Navigation.findNavController(view);\n    binding.openFragButton.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            navController.navigate(R.id.action_trendsFragment_to_blankFragment);\n        }\n    });\n}\n\n@Override\npublic void onDestroyView() {\n    super.onDestroyView();\n    binding = null;\n}\n\n@Override\npublic void onDestroy() {\n    super.onDestroy();\n    fm = null;\n    listener = null;\n}\n}\n</code></pre>\n<p>profile fragment</p>\n<pre><code>public class ProfileFragment extends Fragment {\n\nprivate static final String TAG = &quot;ProfileFragment&quot;;\nFragmentProfileBinding binding;\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n}\n\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    // Inflate the layout for this fragment\n    binding=FragmentProfileBinding.inflate(inflater,container,false);\n\n    return binding.getRoot();\n}\n\n@Override\npublic void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n    super.onViewCreated(view, savedInstanceState);\n    NavController navController= Navigation.findNavController(view);\n    binding.openFragButton.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            navController.navigate(R.id.action_profileFragment_to_blankFragment);\n        }\n    });\n}\n\n@Override\npublic void onDestroyView() {\n    super.onDestroyView();\n    binding=null;\n}\n\n@Override\npublic void onDestroy() {\n    super.onDestroy();\n\n}\n}\n</code></pre>\n<p>blank fragment</p>\n<pre><code>public class BlankFragment extends Fragment {\n\nFragmentBlankBinding binding;\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n}\n\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    binding = FragmentBlankBinding.inflate(inflater, container, false);\n    return binding.getRoot();\n}\n\n@Override\npublic void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n    super.onViewCreated(view, savedInstanceState);\n    NavController navController= Navigation.findNavController(view);\n    binding.openFragButton.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            navController.navigate(R.id.action_blankFragment_self);\n        }\n    });\n}\n\n@Override\npublic void onDestroyView() {\n    super.onDestroyView();\n    binding = null;\n}\n\n@Override\npublic void onDestroy() {\n    super.onDestroy();\n}\n}\n</code></pre>\n"},{"tags":["java","encryption","aes","aes-gcm"],"comments":[{"owner":{"account_id":85671,"reputation":40848,"user_id":238704,"display_name":"President James K. Polk"},"score":3,"creation_date":1663869586,"post_id":73817423,"comment_id":130346882,"body_markdown":"I assume you mean AES-GCM, I don&#39;t know what AES-GSM means. GCM mode is an authenticated encryption mode which computes a MAC over the entire plaintext contents. As such this is very much the wrong mode to do the sort of thing you&#39;re doing. In order to do this you would basically have to decrypt the entire file just recompute the MAC on the part you changed. The output of the MAC is often referred to as the *tag* in discussions about authenticated encryption.","body":"I assume you mean AES-GCM, I don&#39;t know what AES-GSM means. GCM mode is an authenticated encryption mode which computes a MAC over the entire plaintext contents. As such this is very much the wrong mode to do the sort of thing you&#39;re doing. In order to do this you would basically have to decrypt the entire file just recompute the MAC on the part you changed. The output of the MAC is often referred to as the <i>tag</i> in discussions about authenticated encryption."},{"owner":{"account_id":24049508,"reputation":21,"user_id":18028162,"display_name":"Callimard"},"score":0,"creation_date":1663929687,"post_id":73817423,"comment_id":130360200,"body_markdown":"Thanks for your answer. My problem is that if my file is very small, it is not really a problem to decrypt the entire file and encrypt again with changes. However, if my file is very big and I want just edit some bits of it at the middle of the file, recompute the encryptation is very not efficient and slow.\nMy alternative is to &quot;cut&quot; my file into blocks of 128bits, and cipher each block independently. If I do this method, I will use AES-CBC and I will define an IV that I will use for all 128 blocks of the files, but I don&#39;t know if it is really secure.","body":"Thanks for your answer. My problem is that if my file is very small, it is not really a problem to decrypt the entire file and encrypt again with changes. However, if my file is very big and I want just edit some bits of it at the middle of the file, recompute the encryptation is very not efficient and slow. My alternative is to &quot;cut&quot; my file into blocks of 128bits, and cipher each block independently. If I do this method, I will use AES-CBC and I will define an IV that I will use for all 128 blocks of the files, but I don&#39;t know if it is really secure."},{"owner":{"account_id":24049508,"reputation":21,"user_id":18028162,"display_name":"Callimard"},"score":0,"creation_date":1663929922,"post_id":73817423,"comment_id":130360273,"body_markdown":"I use GCM mode because I saw that is secured mode thanks to the Tag. However, if I use the CTR mode, I think I can decrypt and encrypt just a part of the file, howevere CTR is malleable","body":"I use GCM mode because I saw that is secured mode thanks to the Tag. However, if I use the CTR mode, I think I can decrypt and encrypt just a part of the file, howevere CTR is malleable"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1663932688,"post_id":73817423,"comment_id":130361150,"body_markdown":"@PresidentJamesK.Polk+ You must _read_ the whole file (ciphertext) to verify the MAC before you can safely decrypt any part; having done that it is algorithmically possible -- though not with the Java API -- to compute the modified ciphertext portion, and to compute the new MAC (tag) using only the regenerated (or decrypted) old tag, the XOR of the old and new ciphertext, and its position in the file. But doing this allows &#39;two-time pad&#39; attacks on confidentiality like crib dragging, and directly leaks the auth key allowing forgery, thus making your encryption worthless, so don&#39;t do that.","body":"@PresidentJamesK.Polk+ You must <i>read</i> the whole file (ciphertext) to verify the MAC before you can safely decrypt any part; having done that it is algorithmically possible -- though not with the Java API -- to compute the modified ciphertext portion, and to compute the new MAC (tag) using only the regenerated (or decrypted) old tag, the XOR of the old and new ciphertext, and its position in the file. But doing this allows &#39;two-time pad&#39; attacks on confidentiality like crib dragging, and directly leaks the auth key allowing forgery, thus making your encryption worthless, so don&#39;t do that."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1663932845,"post_id":73817423,"comment_id":130361202,"body_markdown":"You don&#39;t need to break into single blocks; if you can break into chunks of something like 1k-10k bytes -- either at application-relevant boundaries, or arbitrarily -- that should give a good tradeoff between overhead and efficiency. (Using CBC with fixed (key and) IV on one-block data is effectively the same as using ECB with an offset, and subject to all the attacks on ECB like duplicating and reordering.)","body":"You don&#39;t need to break into single blocks; if you can break into chunks of something like 1k-10k bytes -- either at application-relevant boundaries, or arbitrarily -- that should give a good tradeoff between overhead and efficiency. (Using CBC with fixed (key and) IV on one-block data is effectively the same as using ECB with an offset, and subject to all the attacks on ECB like duplicating and reordering.)"},{"owner":{"account_id":24049508,"reputation":21,"user_id":18028162,"display_name":"Callimard"},"score":0,"creation_date":1664030253,"post_id":73817423,"comment_id":130380498,"body_markdown":"@dave_thompson_085 Yes, create chunks can be a good alternative. I also see that CTR mode is GCM mode without MAC and allow random access in the cipher text if we know the counter. Therefore, CTR mode can be a good solution to my problem or it is also not safe?\nMaybe the real question must be: In which case we can use CTR mode?","body":"@dave_thompson_085 Yes, create chunks can be a good alternative. I also see that CTR mode is GCM mode without MAC and allow random access in the cipher text if we know the counter. Therefore, CTR mode can be a good solution to my problem or it is also not safe? Maybe the real question must be: In which case we can use CTR mode?"}],"owner":{"account_id":24049508,"reputation":21,"user_id":18028162,"display_name":"Callimard"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663928910,"creation_date":1663861435,"question_id":73817423,"body_markdown":"I want to encrypt and decrypt file with AES. I know how to entirely encrypt and decrypt a file but sometimes I just want to manipulate a part of the file (for example with a RandomAccessFile).\r\n\r\nI found some solutions to decrypt a part of a encrypted file with AES-GCM but my main problem is:\r\n\r\nIf I modify just a part of a file, **I need to re encrypt this new part. For performance reason, I don&#39;t want to re encrypt the whole file.** \r\n\r\n**It is possible to just re encrypt the block of bytes where changes has been done in the file?**","title":"Partial re encryption in AES-GCM mode in Java","body":"<p>I want to encrypt and decrypt file with AES. I know how to entirely encrypt and decrypt a file but sometimes I just want to manipulate a part of the file (for example with a RandomAccessFile).</p>\n<p>I found some solutions to decrypt a part of a encrypted file with AES-GCM but my main problem is:</p>\n<p>If I modify just a part of a file, <strong>I need to re encrypt this new part. For performance reason, I don't want to re encrypt the whole file.</strong></p>\n<p><strong>It is possible to just re encrypt the block of bytes where changes has been done in the file?</strong></p>\n"},{"tags":["java","spring","spring-webflux","reactive"],"owner":{"account_id":16214104,"reputation":481,"user_id":11707306,"display_name":"Maria1995"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":943,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663928773,"creation_date":1663928773,"question_id":73826342,"body_markdown":"I am building a microservice which uses the Reactive Feign Client defined in another microservice in order to fetch some data. I added the configuration for the feign client, enabled reactive feign clients, but when I am running the program, I get: \r\n\r\n&quot;Class CurrencyServiceClient has annotations [ReactiveFeignClient] that are not used by contract Default&quot; and &quot;Method getCurrenciesDefinition has an annotation GetMapping that is not used by contract Default&quot;.\r\n\r\nI am not sure what I did not configure right in my microservice.\r\nBelow is my code:\r\n\r\n1. ReactiveFeignClient from currencies-service\r\n\r\n``` \r\n@ReactiveFeignClient(\r\n        configuration = CurrencyServiceInternalClientConfiguration.class,\r\n        value = &quot;currency-service&quot;,\r\n        path = &quot;/currency-service/internal&quot;\r\n)\r\npublic interface CurrencyServiceClient {\r\n\r\n    @GetMapping(path = &quot;/users/{userId}/balances/{currencyId}&quot;)\r\n    Mono&lt;CurrencyBalanceResponse&gt; getUserBalance(@PathVariable(&quot;userId&quot;) String userId,\r\n                                                 @PathVariable(&quot;currencyId&quot;) Long currencyId);\r\n\r\n    @GetMapping(path = &quot;/currencies&quot;)\r\n    Mono&lt;CurrenciesResponse&gt; getCurrenciesDefinition(@RequestParam(value = &quot;userId&quot;, required = false) Optional&lt;String&gt; userId); ```\r\n ```\r\n\r\n2. service where reactive feign client is used in the other microservice\r\n\r\n``` \r\n@RequiredArgsConstructor\r\n@Service\r\n@Slf4j\r\npublic class CurrenciesService {\r\n\r\n    private final CurrencyServiceClient currencyServiceClient;\r\n\r\n    public CompletableFuture&lt;CurrenciesResponse&gt; getCurrencies() {\r\n        List&lt;Currency&gt; currenciesList = new ArrayList&lt;&gt;();\r\n        return currencyServiceClient.getCurrenciesDefinition(Optional.empty())\r\n                .toFuture()\r\n                .thenCompose(currenciesResponse -&gt; {\r\n                    currenciesResponse.getCurrencies().stream().forEach(currency -&gt; {\r\n                        Long currentTimestamp = Instant.now().getMillis();\r\n                        if (currency.getResetTimestamp() &lt;= currentTimestamp) {\r\n                            currenciesList.add(Currency.builder().id(currency.getId())\r\n                                    .name(currency.getName()).build());\r\n                        }\r\n                    });\r\n                    return CompletableFuture.completedFuture(CurrenciesResponse.builder()\r\n                            .status(ResponseStatus.SUCCESS)\r\n                            .currencies(currenciesList)\r\n                            .build());\r\n                })\r\n                .exceptionally(exception -&gt; CurrenciesResponse.builder()\r\n                        .status(ResponseStatus.ERROR)\r\n                        .build());\r\n    }\r\n}\r\n```\r\n3. configuration\r\n\r\n```  \r\n@Configuration\r\n@AutoConfigureAfter(ReactiveFeignAutoConfiguration.class)\r\n@ConditionalOnProperty(prefix = &quot;currency-service.client&quot;, name = &quot;enabled&quot;, havingValue = &quot;true&quot;,matchIfMissing = false)\r\n@EnableReactiveFeignClients(clients = CurrencyServiceClient.class)\r\npublic class CurrencyClientAutoConfiguration {\r\n}\r\n\r\n```\r\n\r\n\r\n4. other properties\r\n\r\n``` \r\nfeign:\r\n  hystrix:\r\n    enabled: true\r\ncurrency-service:\r\n  client:\r\n    enabled: true\r\neager-load:\r\n    clients: currency-service\r\n    enabled: true\r\n```\r\n\r\nCan anyone help?\r\n","title":"ReactiveFeignClient error: Class has annotations [ReactiveFeignClient] that are not used by contract Default","body":"<p>I am building a microservice which uses the Reactive Feign Client defined in another microservice in order to fetch some data. I added the configuration for the feign client, enabled reactive feign clients, but when I am running the program, I get:</p>\n<p>&quot;Class CurrencyServiceClient has annotations [ReactiveFeignClient] that are not used by contract Default&quot; and &quot;Method getCurrenciesDefinition has an annotation GetMapping that is not used by contract Default&quot;.</p>\n<p>I am not sure what I did not configure right in my microservice.\nBelow is my code:</p>\n<ol>\n<li>ReactiveFeignClient from currencies-service</li>\n</ol>\n<pre><code>@ReactiveFeignClient(\n        configuration = CurrencyServiceInternalClientConfiguration.class,\n        value = &quot;currency-service&quot;,\n        path = &quot;/currency-service/internal&quot;\n)\npublic interface CurrencyServiceClient {\n\n    @GetMapping(path = &quot;/users/{userId}/balances/{currencyId}&quot;)\n    Mono&lt;CurrencyBalanceResponse&gt; getUserBalance(@PathVariable(&quot;userId&quot;) String userId,\n                                                 @PathVariable(&quot;currencyId&quot;) Long currencyId);\n\n    @GetMapping(path = &quot;/currencies&quot;)\n    Mono&lt;CurrenciesResponse&gt; getCurrenciesDefinition(@RequestParam(value = &quot;userId&quot;, required = false) Optional&lt;String&gt; userId); ```\n</code></pre>\n<ol start=\"2\">\n<li>service where reactive feign client is used in the other microservice</li>\n</ol>\n<pre><code>@RequiredArgsConstructor\n@Service\n@Slf4j\npublic class CurrenciesService {\n\n    private final CurrencyServiceClient currencyServiceClient;\n\n    public CompletableFuture&lt;CurrenciesResponse&gt; getCurrencies() {\n        List&lt;Currency&gt; currenciesList = new ArrayList&lt;&gt;();\n        return currencyServiceClient.getCurrenciesDefinition(Optional.empty())\n                .toFuture()\n                .thenCompose(currenciesResponse -&gt; {\n                    currenciesResponse.getCurrencies().stream().forEach(currency -&gt; {\n                        Long currentTimestamp = Instant.now().getMillis();\n                        if (currency.getResetTimestamp() &lt;= currentTimestamp) {\n                            currenciesList.add(Currency.builder().id(currency.getId())\n                                    .name(currency.getName()).build());\n                        }\n                    });\n                    return CompletableFuture.completedFuture(CurrenciesResponse.builder()\n                            .status(ResponseStatus.SUCCESS)\n                            .currencies(currenciesList)\n                            .build());\n                })\n                .exceptionally(exception -&gt; CurrenciesResponse.builder()\n                        .status(ResponseStatus.ERROR)\n                        .build());\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>configuration</li>\n</ol>\n<pre><code>@Configuration\n@AutoConfigureAfter(ReactiveFeignAutoConfiguration.class)\n@ConditionalOnProperty(prefix = &quot;currency-service.client&quot;, name = &quot;enabled&quot;, havingValue = &quot;true&quot;,matchIfMissing = false)\n@EnableReactiveFeignClients(clients = CurrencyServiceClient.class)\npublic class CurrencyClientAutoConfiguration {\n}\n\n</code></pre>\n<ol start=\"4\">\n<li>other properties</li>\n</ol>\n<pre><code>feign:\n  hystrix:\n    enabled: true\ncurrency-service:\n  client:\n    enabled: true\neager-load:\n    clients: currency-service\n    enabled: true\n</code></pre>\n<p>Can anyone help?</p>\n"},{"tags":["java","spring","spring-boot","image","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1663843858,"creation_date":1663843858,"answer_id":73813345,"question_id":73813290,"body_markdown":"You can insert more than just an URL in the ```img``` tag. In this case, you can insert the base64 representation of the image you are loading by doing this:\r\n```HTML\r\n&lt;div&gt;\r\n  &lt;p&gt;Taken from wikpedia&lt;/p&gt;\r\n  &lt;img src=&quot;data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAAUA\r\n    AAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO\r\n        9TXL0Y4OHwAAAABJRU5ErkJggg==&quot; alt=&quot;Red dot&quot; /&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\nAnd from your code, get the base64 from the BefferedImage object like this:\r\n```Java\r\npublic static String imgToBase64String(final RenderedImage img, final String formatName)\r\n{\r\n  final ByteArrayOutputStream os = new ByteArrayOutputStream();\r\n\r\n  try\r\n  {\r\n    ImageIO.write(img, formatName, os);\r\n    return Base64.getEncoder().encodeToString(os.toByteArray());\r\n  }\r\n  catch (final IOException ioe)\r\n  {\r\n    throw new UncheckedIOException(ioe);\r\n  }\r\n}\r\n```\r\n\r\nAnd pass it to the view.\r\n\r\nLinks\r\n[IMG tag base64 src](https://stackoverflow.com/questions/8499633/how-to-display-base64-images-in-html)\r\n\r\n[BufferedImage to base64](https://stackoverflow.com/questions/7178937/java-bufferedimage-to-png-format-base64-string)","title":"How to display a BufferedImage in Thymeleaf","body":"<p>You can insert more than just an URL in the <code>img</code> tag. In this case, you can insert the base64 representation of the image you are loading by doing this:</p>\n<pre><code>&lt;div&gt;\n  &lt;p&gt;Taken from wikpedia&lt;/p&gt;\n  &lt;img src=&quot;data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAAUA\n    AAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO\n        9TXL0Y4OHwAAAABJRU5ErkJggg==&quot; alt=&quot;Red dot&quot; /&gt;\n&lt;/div&gt;\n</code></pre>\n<p>And from your code, get the base64 from the BefferedImage object like this:</p>\n<pre><code>public static String imgToBase64String(final RenderedImage img, final String formatName)\n{\n  final ByteArrayOutputStream os = new ByteArrayOutputStream();\n\n  try\n  {\n    ImageIO.write(img, formatName, os);\n    return Base64.getEncoder().encodeToString(os.toByteArray());\n  }\n  catch (final IOException ioe)\n  {\n    throw new UncheckedIOException(ioe);\n  }\n}\n</code></pre>\n<p>And pass it to the view.</p>\n<p>Links\n<a href=\"https://stackoverflow.com/questions/8499633/how-to-display-base64-images-in-html\">IMG tag base64 src</a></p>\n<p><a href=\"https://stackoverflow.com/questions/7178937/java-bufferedimage-to-png-format-base64-string\">BufferedImage to base64</a></p>\n"}],"owner":{"account_id":14750594,"reputation":47,"user_id":10652802,"display_name":"Markus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":662,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73813345,"answer_count":1,"score":2,"last_activity_date":1663928736,"creation_date":1663843526,"question_id":73813290,"body_markdown":"I&#39;m currently trying to teach myself Spring Boot by writing a simple tabletop simulator for the popular card game Magic the Gathering. So what I want to do first is retrieve card images from the Scryfall API and display them in Thymeleaf. I know how to do this for static images, but I can&#39;t seem to find a way to display images retrieved dynamically. My current workaround is to provide Thymeleaf with the Scryfall URI, but what I really want to do is to display a BufferedImage in Thymeleaf. So here&#39;s my current code for the controller.\r\n\r\n    package mtg;\r\n\r\n    import java.util.Map;\r\n    \r\n    import org.springframework.boot.json.BasicJsonParser;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.web.bind.annotation.*;\r\n    import org.springframework.web.client.RestTemplate;\r\n    \r\n    @Controller\r\n    @RequestMapping(&quot;/sample&quot;)\r\n    public class SampleCardController {\r\n\r\n    @ModelAttribute\r\n    public void addCardToModel(Model model) {\r\n        RestTemplate rest = new RestTemplate();\r\n        String jsonString = rest.getForObject(\r\n                &quot;https://api.scryfall.com/cards/random&quot;, String.class);\r\n        BasicJsonParser parser = new BasicJsonParser();\r\n        Map&lt;String, Object&gt; map = parser.parseMap(jsonString);\r\n        String name = (String) map.get(&quot;name&quot;);\r\n        String uri = (String) map.get(&quot;uri&quot;);\r\n        model.addAttribute(&quot;cardName&quot;, name);\r\n        model.addAttribute(&quot;imageURI&quot;, uri + &quot;?format=image&quot;);\r\n    }\r\n\r\n    @GetMapping\r\n    public String showSampleCard() {\r\n        return &quot;sample&quot;;\r\n    }\r\n    }\r\n\r\nAnd this is the Thymeleaf template ``sample.html``:\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n          xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n      &lt;head&gt;\r\n        &lt;title&gt;Sample&lt;/title&gt;\r\n      &lt;/head&gt;\r\n      &lt;body&gt;\r\n        &lt;h1&gt;Here&#39;s a sample card!&lt;/h1&gt;\r\n        &lt;h3 th:text=&quot;${cardName}&quot;&gt;&lt;/h3&gt;\r\n        &lt;img th:src=&quot;${imageURI}&quot;/&gt;\r\n      &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nWhat I really want to be doing in the controller, is something like this:\r\n\r\n    package mtg;\r\n    \r\n    import java.awt.image.BufferedImage;\r\n    import java.io.IOException;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    import java.util.Map;\r\n    \r\n    import javax.imageio.ImageIO;\r\n    \r\n    import org.springframework.boot.json.BasicJsonParser;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.web.bind.annotation.*;\r\n    import org.springframework.web.client.RestTemplate;\r\n    \r\n    @Controller\r\n    @RequestMapping(&quot;/sample&quot;)\r\n    public class SampleCardController2 {\r\n    \r\n        @ModelAttribute\r\n        public void addCardToModel(Model model) {\r\n            RestTemplate rest = new RestTemplate();\r\n            String jsonString = rest.getForObject(\r\n                    &quot;https://api.scryfall.com/cards/random&quot;, String.class);\r\n            BasicJsonParser parser = new BasicJsonParser();\r\n            Map&lt;String, Object&gt; map = parser.parseMap(jsonString);\r\n            String name = (String) map.get(&quot;name&quot;);\r\n            String imageURI = (String) map.get(&quot;uri&quot;);\r\n            BufferedImage image = null;\r\n            try {\r\n                image = ImageIO.read(new URL(imageURI + &quot;?format=image&quot;));\r\n            } catch (MalformedURLException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            }\r\n            model.addAttribute(&quot;cardName&quot;, name);\r\n            model.addAttribute(&quot;image&quot;, image);\r\n        }\r\n    \r\n        @GetMapping\r\n        public String showSampleCard() {\r\n            return &quot;sample&quot;;\r\n        }\r\n\r\n    }\r\n\r\nBut I don&#39;t know how to get Thymeleaf to display the image. It seems that for the ``img`` tag`you can only provide a ``th:src`` attribute which needs an URL. Is there something similar to ``th:text=&quot;${cardName}&quot;`` for images where you can use the name of the model attribute?\r\n\r\nEDIT: See @Lee Greiner &#39;s comment below for how to fix the template.\r\n","title":"How to display a BufferedImage in Thymeleaf","body":"<p>I'm currently trying to teach myself Spring Boot by writing a simple tabletop simulator for the popular card game Magic the Gathering. So what I want to do first is retrieve card images from the Scryfall API and display them in Thymeleaf. I know how to do this for static images, but I can't seem to find a way to display images retrieved dynamically. My current workaround is to provide Thymeleaf with the Scryfall URI, but what I really want to do is to display a BufferedImage in Thymeleaf. So here's my current code for the controller.</p>\n<pre><code>package mtg;\n\nimport java.util.Map;\n\nimport org.springframework.boot.json.BasicJsonParser;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.*;\nimport org.springframework.web.client.RestTemplate;\n\n@Controller\n@RequestMapping(&quot;/sample&quot;)\npublic class SampleCardController {\n\n@ModelAttribute\npublic void addCardToModel(Model model) {\n    RestTemplate rest = new RestTemplate();\n    String jsonString = rest.getForObject(\n            &quot;https://api.scryfall.com/cards/random&quot;, String.class);\n    BasicJsonParser parser = new BasicJsonParser();\n    Map&lt;String, Object&gt; map = parser.parseMap(jsonString);\n    String name = (String) map.get(&quot;name&quot;);\n    String uri = (String) map.get(&quot;uri&quot;);\n    model.addAttribute(&quot;cardName&quot;, name);\n    model.addAttribute(&quot;imageURI&quot;, uri + &quot;?format=image&quot;);\n}\n\n@GetMapping\npublic String showSampleCard() {\n    return &quot;sample&quot;;\n}\n}\n</code></pre>\n<p>And this is the Thymeleaf template <code>sample.html</code>:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\n      xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n  &lt;head&gt;\n    &lt;title&gt;Sample&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;h1&gt;Here's a sample card!&lt;/h1&gt;\n    &lt;h3 th:text=&quot;${cardName}&quot;&gt;&lt;/h3&gt;\n    &lt;img th:src=&quot;${imageURI}&quot;/&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>What I really want to be doing in the controller, is something like this:</p>\n<pre><code>package mtg;\n\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.util.Map;\n\nimport javax.imageio.ImageIO;\n\nimport org.springframework.boot.json.BasicJsonParser;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.*;\nimport org.springframework.web.client.RestTemplate;\n\n@Controller\n@RequestMapping(&quot;/sample&quot;)\npublic class SampleCardController2 {\n\n    @ModelAttribute\n    public void addCardToModel(Model model) {\n        RestTemplate rest = new RestTemplate();\n        String jsonString = rest.getForObject(\n                &quot;https://api.scryfall.com/cards/random&quot;, String.class);\n        BasicJsonParser parser = new BasicJsonParser();\n        Map&lt;String, Object&gt; map = parser.parseMap(jsonString);\n        String name = (String) map.get(&quot;name&quot;);\n        String imageURI = (String) map.get(&quot;uri&quot;);\n        BufferedImage image = null;\n        try {\n            image = ImageIO.read(new URL(imageURI + &quot;?format=image&quot;));\n        } catch (MalformedURLException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        model.addAttribute(&quot;cardName&quot;, name);\n        model.addAttribute(&quot;image&quot;, image);\n    }\n\n    @GetMapping\n    public String showSampleCard() {\n        return &quot;sample&quot;;\n    }\n\n}\n</code></pre>\n<p>But I don't know how to get Thymeleaf to display the image. It seems that for the <code>img</code> tag`you can only provide a <code>th:src</code> attribute which needs an URL. Is there something similar to <code>th:text=&quot;${cardName}&quot;</code> for images where you can use the name of the model attribute?</p>\n<p>EDIT: See @Lee Greiner 's comment below for how to fix the template.</p>\n"},{"tags":["java","html","spring","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"score":0,"creation_date":1663927682,"post_id":73826024,"comment_id":130359598,"body_markdown":"How does your CustomerDTO.class looks like?","body":"How does your CustomerDTO.class looks like?"},{"owner":{"account_id":26020646,"reputation":23,"user_id":19728398,"display_name":"Ege Coskun"},"score":0,"creation_date":1663927720,"post_id":73826024,"comment_id":130359611,"body_markdown":"It contains the name,surname,phonenumber,salary and age fields. @Nemanja","body":"It contains the name,surname,phonenumber,salary and age fields. @Nemanja"}],"answers":[{"tags":[],"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663928723,"creation_date":1663928072,"answer_id":73826218,"question_id":73826024,"body_markdown":"Thymeleaf **doesn&#39;t use JSON** so you can&#39;t use `@RequestBody` to deserilize your message, since you are not getting JSON when you submit thymeleaf form. You can use `@ModelAttribute` to avoid handling each form fields manually. Thymeleaf and Spring let you bundle all of them together using annotation I just mentioned.\r\n\r\nSo, something like this:\r\n\r\n    @RequestMapping(path = &quot;/updateCustomerForm/{identityNumber}&quot;)\r\n        public String updateCustomerForm(@PathVariable(&quot;identityNumber&quot;) String identityNumber,@ModelAttribute CustomerDTO customer){\r\n            customerService.updateCustomer(identityNumber,customer);\r\n            return &quot;redirect:/customer/showList&quot;;\r\n        }\r\n\r\nShoud work as expected.\r\nFor implementation details check [this post][1]\r\n\r\n\r\n  [1]: https://springhow.com/thymeleaf-form-handling/","title":"Required body is missing in Thymeleaf template","body":"<p>Thymeleaf <strong>doesn't use JSON</strong> so you can't use <code>@RequestBody</code> to deserilize your message, since you are not getting JSON when you submit thymeleaf form. You can use <code>@ModelAttribute</code> to avoid handling each form fields manually. Thymeleaf and Spring let you bundle all of them together using annotation I just mentioned.</p>\n<p>So, something like this:</p>\n<pre><code>@RequestMapping(path = &quot;/updateCustomerForm/{identityNumber}&quot;)\n    public String updateCustomerForm(@PathVariable(&quot;identityNumber&quot;) String identityNumber,@ModelAttribute CustomerDTO customer){\n        customerService.updateCustomer(identityNumber,customer);\n        return &quot;redirect:/customer/showList&quot;;\n    }\n</code></pre>\n<p>Shoud work as expected.\nFor implementation details check <a href=\"https://springhow.com/thymeleaf-form-handling/\" rel=\"nofollow noreferrer\">this post</a></p>\n"}],"owner":{"account_id":26020646,"reputation":23,"user_id":19728398,"display_name":"Ege Coskun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1663928723,"creation_date":1663927138,"question_id":73826024,"body_markdown":"I am trying to update customers info with this method\r\nThis is a classic update method where I take DTO as body and set the variables.\r\n```\r\n@RequestMapping(path = &quot;/updateCustomerForm/{identityNumber}&quot;)\r\n    public String updateCustomerForm(@PathVariable(&quot;identityNumber&quot;) String identityNumber,@RequestBody CustomerDTO customer){\r\n        customerService.updateCustomer(identityNumber,customer);\r\n        return &quot;redirect:/customer/showList&quot;;\r\n    }\r\n```\r\nThis is my thymeleaf\r\n```\r\n &lt;form th:action=&quot;@{/customer/updateCustomerForm/*{identityNumber}}&quot; th:object=&quot;${customer}&quot; method=&quot;put&quot;&gt;\r\n    &lt;input name=&quot;_method&quot; type=&quot;hidden&quot; value=&quot;put&quot; /&gt;\r\n    &lt;input type=&quot;text&quot; th:field=&quot;*{identityNumber}&quot; placeholder=&quot;Enter identity number&quot; class=&quot;form-control col-4 mb-4&quot; /&gt;\r\n\r\n    &lt;input type=&quot;text&quot; th:field=&quot;*{name}&quot; placeholder=&quot;Enter name&quot; class=&quot;form-control col-4 mb-4&quot; /&gt;\r\n\r\n    &lt;input type=&quot;text&quot; th:field=&quot;*{surname}&quot; placeholder=&quot;Enter surname&quot; class=&quot;form-control col-4 mb-4&quot; /&gt;\r\n\r\n    &lt;input type=&quot;text&quot; th:field=&quot;*{phoneNumber}&quot; placeholder=&quot;Enter phone number&quot; class=&quot;form-control col-4 mb-4&quot; /&gt;\r\n\r\n    &lt;input type=&quot;text&quot; th:field=&quot;*{salary}&quot; placeholder=&quot;Enter salary&quot; class=&quot;form-control col-4 mb-4&quot; /&gt;\r\n\r\n    &lt;input type=&quot;text&quot; th:field=&quot;*{age}&quot; placeholder=&quot;Enter age&quot; class=&quot;form-control col-4 mb-4&quot; /&gt;\r\n\r\n    &lt;button class=&quot;btn btn-primary col-2&quot; type=&quot;submit&quot;&gt;Save&lt;/button&gt;\r\n    &lt;input type=&quot;hidden&quot; th:field=&quot;*{identityNumber}&quot; /&gt;\r\n  &lt;/form&gt;\r\n```\r\n\r\nThe error is required body is missing.\r\n\r\nCan someone help with this topic?","title":"Required body is missing in Thymeleaf template","body":"<p>I am trying to update customers info with this method\nThis is a classic update method where I take DTO as body and set the variables.</p>\n<pre><code>@RequestMapping(path = &quot;/updateCustomerForm/{identityNumber}&quot;)\n    public String updateCustomerForm(@PathVariable(&quot;identityNumber&quot;) String identityNumber,@RequestBody CustomerDTO customer){\n        customerService.updateCustomer(identityNumber,customer);\n        return &quot;redirect:/customer/showList&quot;;\n    }\n</code></pre>\n<p>This is my thymeleaf</p>\n<pre><code> &lt;form th:action=&quot;@{/customer/updateCustomerForm/*{identityNumber}}&quot; th:object=&quot;${customer}&quot; method=&quot;put&quot;&gt;\n    &lt;input name=&quot;_method&quot; type=&quot;hidden&quot; value=&quot;put&quot; /&gt;\n    &lt;input type=&quot;text&quot; th:field=&quot;*{identityNumber}&quot; placeholder=&quot;Enter identity number&quot; class=&quot;form-control col-4 mb-4&quot; /&gt;\n\n    &lt;input type=&quot;text&quot; th:field=&quot;*{name}&quot; placeholder=&quot;Enter name&quot; class=&quot;form-control col-4 mb-4&quot; /&gt;\n\n    &lt;input type=&quot;text&quot; th:field=&quot;*{surname}&quot; placeholder=&quot;Enter surname&quot; class=&quot;form-control col-4 mb-4&quot; /&gt;\n\n    &lt;input type=&quot;text&quot; th:field=&quot;*{phoneNumber}&quot; placeholder=&quot;Enter phone number&quot; class=&quot;form-control col-4 mb-4&quot; /&gt;\n\n    &lt;input type=&quot;text&quot; th:field=&quot;*{salary}&quot; placeholder=&quot;Enter salary&quot; class=&quot;form-control col-4 mb-4&quot; /&gt;\n\n    &lt;input type=&quot;text&quot; th:field=&quot;*{age}&quot; placeholder=&quot;Enter age&quot; class=&quot;form-control col-4 mb-4&quot; /&gt;\n\n    &lt;button class=&quot;btn btn-primary col-2&quot; type=&quot;submit&quot;&gt;Save&lt;/button&gt;\n    &lt;input type=&quot;hidden&quot; th:field=&quot;*{identityNumber}&quot; /&gt;\n  &lt;/form&gt;\n</code></pre>\n<p>The error is required body is missing.</p>\n<p>Can someone help with this topic?</p>\n"},{"tags":["java","exception","throw","throws"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1663928780,"post_id":73826260,"comment_id":130359920,"body_markdown":"No, and it seems fairly redundant anyway. Just declare it to throw the base Exception. If your callers particularly care about handling IOException and IllegalStateException differently (and most of the time, they won&#39;t), then they can still have a more-specific catch clause for the ones they want to handle separately.","body":"No, and it seems fairly redundant anyway. Just declare it to throw the base Exception. If your callers particularly care about handling IOException and IllegalStateException differently (and most of the time, they won&#39;t), then they can still have a more-specific catch clause for the ones they want to handle separately."},{"owner":{"account_id":26106332,"reputation":3,"user_id":19800987,"display_name":"laj0"},"score":0,"creation_date":1663930785,"post_id":73826260,"comment_id":130360566,"body_markdown":"That makes sense. The exceptions are just examples. The interface is in a legacy codebase that&#39;s used by 100+ classes throwing all sorts of standard and custom exception types however. Edit: throwing the generic `java.lang.Exception` is what&#39;s done currently, forgot to say","body":"That makes sense. The exceptions are just examples. The interface is in a legacy codebase that&#39;s used by 100+ classes throwing all sorts of standard and custom exception types however. Edit: throwing the generic <code>java.lang.Exception</code> is what&#39;s done currently, forgot to say"}],"owner":{"account_id":26106332,"reputation":3,"user_id":19800987,"display_name":"laj0"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663928311,"creation_date":1663928311,"question_id":73826260,"body_markdown":"basically the question is in the title.\r\n\r\nI&#39;m looking for ways to set an interface method to throw 1..N `java.lang.Exception` subtypes. So far I&#39;m only able to make it work using generic type parameters in the constructor like `interface IFoo&lt;EX extends Exception&gt; { ... }` and then have a method be like `void bar() throws EX;`, but that requires pre-determining the number of exception types or at least to have them all have a shared superclass and throwing that in the signatures. Is there a way to do a &#39;variadic&#39; throw clause in Java like `interface IBaz&lt;EX extends Exception ...&gt;` so I can do something like `class Buzz implements IBaz&lt;IOException, IllegalStateException, SecurityException&gt;` and so forth?","title":"Is there a way to do variadic higher-kinded exception throws in Java?","body":"<p>basically the question is in the title.</p>\n<p>I'm looking for ways to set an interface method to throw 1..N <code>java.lang.Exception</code> subtypes. So far I'm only able to make it work using generic type parameters in the constructor like <code>interface IFoo&lt;EX extends Exception&gt; { ... }</code> and then have a method be like <code>void bar() throws EX;</code>, but that requires pre-determining the number of exception types or at least to have them all have a shared superclass and throwing that in the signatures. Is there a way to do a 'variadic' throw clause in Java like <code>interface IBaz&lt;EX extends Exception ...&gt;</code> so I can do something like <code>class Buzz implements IBaz&lt;IOException, IllegalStateException, SecurityException&gt;</code> and so forth?</p>\n"},{"tags":["java","elasticsearch","resthighlevelclient","elasticsearch-high-level-restclient"],"answers":[{"tags":[],"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663928063,"creation_date":1663928063,"answer_id":73826213,"question_id":73825362,"body_markdown":"This is expected behaviour because it should be take some time to refresh index after commiting index (default is 1 second). You can read answer provided by Val [here][1] which will give you more clarity why this is happening.\r\n\r\nSo when you are setting `Thread.sleep(5000);` in your code, elastic is able to complete index refresh so you are able to get search response.\r\n\r\nBelow code changes you can done in your code to refresh index manully.\r\n\r\n```java\r\npublic BulkByScrollResponse reIndexElasticResponse(ReindexRequest reindexRequest){\r\n    BulkByScrollResponse reindexResponse = null;\r\n    try{\r\n      reindexRequest.setRefresh(true); &lt;--- check this one\r\n      reindexResponse = client.reindex(reindexRequest,RequestOptions.DEFAULT);\r\n    } catch (IOException e){\r\n      throw new RuntimeException(e);\r\n    }\r\n    return reindexResponse;\r\n}\r\n```\r\n\r\n  [1]: https://stackoverflow.com/a/66928354/5489276","title":"ElasticSearch ReIndex Request not working in synchronous manner using Java Rest High Level Client","body":"<p>This is expected behaviour because it should be take some time to refresh index after commiting index (default is 1 second). You can read answer provided by Val <a href=\"https://stackoverflow.com/a/66928354/5489276\">here</a> which will give you more clarity why this is happening.</p>\n<p>So when you are setting <code>Thread.sleep(5000);</code> in your code, elastic is able to complete index refresh so you are able to get search response.</p>\n<p>Below code changes you can done in your code to refresh index manully.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public BulkByScrollResponse reIndexElasticResponse(ReindexRequest reindexRequest){\n    BulkByScrollResponse reindexResponse = null;\n    try{\n      reindexRequest.setRefresh(true); &lt;--- check this one\n      reindexResponse = client.reindex(reindexRequest,RequestOptions.DEFAULT);\n    } catch (IOException e){\n      throw new RuntimeException(e);\n    }\n    return reindexResponse;\n}\n</code></pre>\n"}],"owner":{"account_id":18368156,"reputation":303,"user_id":13378772,"display_name":"Aman Mehta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73826213,"answer_count":1,"score":0,"last_activity_date":1663928063,"creation_date":1663923614,"question_id":73825362,"body_markdown":"I have 2 indexes with names - \r\n```source_index```,\r\n```destination_index```\r\n\r\nBoth indexes have same mappings.\r\n\r\nI have written following code for making reindex and search requests - \r\n\r\n```\r\n@Autowired\r\nRestHighLevelClient client;\r\n\r\npublic BulkByScrollResponse reIndexElasticResponse(ReindexRequest reindexRequest){\r\n    BulkByScrollResponse reindexResponse = null;\r\n    try{\r\n      reindexResponse = client.reindex(reindexRequest,RequestOptions.DEFAULT);\r\n    } catch (IOException e){\r\n      throw new RuntimeException(e);\r\n    }\r\n    return reindexResponse;\r\n}\r\n\r\npublic SearchResponse searchElasticResponseByScrollAPI(SearchScrollRequest searchScrollRequest) {\r\n    SearchResponse searchResponse = null;\r\n    try {\r\n      searchResponse =  client.scroll(searchScrollRequest,RequestOptions.DEFAULT);\r\n    } catch (IOException e) {\r\n      throw new RuntimeException(e);\r\n    }\r\n    return searchResponse;\r\n}\r\n```\r\n\r\nNow my application is reindexing **only selected records** from ```source_index``` to ```destination_index```.\r\nAnd just after reindexing request, I am running one **search** query on ```destination_index```.\r\n\r\nThe problem is that my search query is not giving me correct response as I think that reindexing request is not working in synchronous manner.\r\nIf I use ```Thread.sleep(5000);``` after my reindexing request then my search query gives me correct result.\r\n\r\n```\r\nreIndexElasticResponse(reindexRequest);\r\nThread.sleep(5000);\r\nsearchElasticResponseByScrollAPI(searchScrollRequest);\r\n\r\n```\r\n\r\nThe above code will work fine. But if I comment ```Thread.sleep(5000)``` then search query doesn&#39;t give expected output.\r\n\r\n**I want my program to wait until all the records are reindexed and then run the search query on** ```destination_index```\r\n ","title":"ElasticSearch ReIndex Request not working in synchronous manner using Java Rest High Level Client","body":"<p>I have 2 indexes with names -\n<code>source_index</code>,\n<code>destination_index</code></p>\n<p>Both indexes have same mappings.</p>\n<p>I have written following code for making reindex and search requests -</p>\n<pre><code>@Autowired\nRestHighLevelClient client;\n\npublic BulkByScrollResponse reIndexElasticResponse(ReindexRequest reindexRequest){\n    BulkByScrollResponse reindexResponse = null;\n    try{\n      reindexResponse = client.reindex(reindexRequest,RequestOptions.DEFAULT);\n    } catch (IOException e){\n      throw new RuntimeException(e);\n    }\n    return reindexResponse;\n}\n\npublic SearchResponse searchElasticResponseByScrollAPI(SearchScrollRequest searchScrollRequest) {\n    SearchResponse searchResponse = null;\n    try {\n      searchResponse =  client.scroll(searchScrollRequest,RequestOptions.DEFAULT);\n    } catch (IOException e) {\n      throw new RuntimeException(e);\n    }\n    return searchResponse;\n}\n</code></pre>\n<p>Now my application is reindexing <strong>only selected records</strong> from <code>source_index</code> to <code>destination_index</code>.\nAnd just after reindexing request, I am running one <strong>search</strong> query on <code>destination_index</code>.</p>\n<p>The problem is that my search query is not giving me correct response as I think that reindexing request is not working in synchronous manner.\nIf I use <code>Thread.sleep(5000);</code> after my reindexing request then my search query gives me correct result.</p>\n<pre><code>reIndexElasticResponse(reindexRequest);\nThread.sleep(5000);\nsearchElasticResponseByScrollAPI(searchScrollRequest);\n\n</code></pre>\n<p>The above code will work fine. But if I comment <code>Thread.sleep(5000)</code> then search query doesn't give expected output.</p>\n<p><strong>I want my program to wait until all the records are reindexed and then run the search query on</strong> <code>destination_index</code></p>\n"},{"tags":["java","arrays","3d"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1663834444,"post_id":73811072,"comment_id":130333580,"body_markdown":"You assign 9 values, but you should assign 27 to have them all filled. All those coordinates you didn&#39;t assign a value to, remain null","body":"You assign 9 values, but you should assign 27 to have them all filled. All those coordinates you didn&#39;t assign a value to, remain null"},{"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"score":0,"creation_date":1663835648,"post_id":73811072,"comment_id":130334003,"body_markdown":"And perhaps you should assign the 27 values to `numbers`, not  to the non-existing `cars`...","body":"And perhaps you should assign the 27 values to <code>numbers</code>, not  to the non-existing <code>cars</code>..."},{"owner":{"account_id":26361981,"reputation":3,"user_id":20018037,"display_name":"Haap"},"score":0,"creation_date":1663837722,"post_id":73811072,"comment_id":130334843,"body_markdown":"@Mihe\nYeah sorry, my bad, I forgot to change it.","body":"@Mihe Yeah sorry, my bad, I forgot to change it."}],"answers":[{"tags":[],"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663928059,"creation_date":1663838346,"answer_id":73812162,"question_id":73811072,"body_markdown":"You&#39;ve got to fill your arrays correctly. A 3D-array in Java is just an array of 2D-arrays and a 2D-array is just an array of (1D-)arrays. \r\n\r\nYou can fill a given (1D-)array `row` of length 3 by assigning values to its elements, that is \r\n\r\n```\r\nrow[0] = &quot;One&quot;;\r\nrow[1] = &quot;Two&quot;;\r\nrow[2] = &quot;Three&quot;;\r\n```\r\n\r\nGiven a 2D-Array `matrix` you can do this for every single row:\r\n\r\n```\r\nfor (String[] row : matrix) {\r\n    row[0] = &quot;One&quot;;\r\n    row[1] = &quot;Two&quot;;\r\n    row[2] = &quot;Three&quot;;\r\n}\r\n```\r\n\r\nNow, you have an array `numbers` of those matrices:\r\n\r\n```\r\nfor (String[][] matrix : numbers) {\r\n    for (String[] row : matrix) {\r\n        row[0] = &quot;One&quot;;\r\n        row[1] = &quot;Two&quot;;\r\n        row[2] = &quot;Three&quot;;\r\n    }  \r\n}\r\n```\r\n\r\nI&#39;ve used for-each-loops here. They can be turned into normal for-loops easily:\r\n\r\n```\r\nfor (int i = 0; i &lt; numbers.length; i++) {\r\n    String[][] matrix = numbers[i];\r\n    for (int j = 0; j &lt; matrix.length; j++) {\r\n        String[] row = matrix[j];\r\n        row[0] = &quot;One&quot;;\r\n        row[1] = &quot;Two&quot;;\r\n        row[2] = &quot;Three&quot;;\r\n    }\r\n}\r\n```\r\n\r\nFrom that you can substitute `row` by `matrix[j]` which gives you\r\n\r\n```\r\nfor (int i = 0; i &lt; numbers.length; i++) {\r\n    String[][] matrix = numbers[i];\r\n    for (int j = 0; j &lt; matrix.length; j++) {\r\n        matrix[j][0] = &quot;One&quot;;\r\n        matrix[j][1] = &quot;Two&quot;;\r\n        matrix[j][2] = &quot;Three&quot;;\r\n    }\r\n}\r\n```\r\n\r\nOf course, you can substitute `matrix`, too. This time by `numbers[i]`:\r\n\r\n```\r\nfor (int i = 0; i &lt; numbers.length; i++) {\r\n    for (int j = 0; j &lt; numbers[i].length; j++) {\r\n        numbers[i][j][0] = &quot;One&quot;;\r\n        numbers[i][j][1] = &quot;Two&quot;;\r\n        numbers[i][j][2] = &quot;Three&quot;;\r\n    }\r\n}\r\n```\r\n\r\n**Update**\r\n\r\nYou can directly integrate this in your code:\r\n```\r\npublic class Main {\r\n    public static void main(String[] args)\r\n    {\r\n        String[][][] numbers = new String[3][3][3];\r\n        for (int i = 0; i &lt; numbers.length; i++) {\r\n            for (int j = 0; j &lt; numbers[i].length; j++) {\r\n                numbers[i][j][0] = &quot;One&quot;;\r\n                numbers[i][j][1] = &quot;Two&quot;;\r\n                numbers[i][j][2] = &quot;Three&quot;;\r\n            }\r\n        }        \r\n\r\n        for(int i = 0; i &lt; numbers.length; i++)\r\n        {\r\n            System.out.println();\r\n            for(int j = 0; j &lt; numbers[i].length; j++)\r\n            {\r\n                System.out.println();\r\n                for(int k = 0; k &lt; numbers[i][j].length; k++)\r\n                {\r\n                    System.out.print(numbers[i][j][k] + &quot; &quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"3D array output null in java?","body":"<p>You've got to fill your arrays correctly. A 3D-array in Java is just an array of 2D-arrays and a 2D-array is just an array of (1D-)arrays.</p>\n<p>You can fill a given (1D-)array <code>row</code> of length 3 by assigning values to its elements, that is</p>\n<pre><code>row[0] = &quot;One&quot;;\nrow[1] = &quot;Two&quot;;\nrow[2] = &quot;Three&quot;;\n</code></pre>\n<p>Given a 2D-Array <code>matrix</code> you can do this for every single row:</p>\n<pre><code>for (String[] row : matrix) {\n    row[0] = &quot;One&quot;;\n    row[1] = &quot;Two&quot;;\n    row[2] = &quot;Three&quot;;\n}\n</code></pre>\n<p>Now, you have an array <code>numbers</code> of those matrices:</p>\n<pre><code>for (String[][] matrix : numbers) {\n    for (String[] row : matrix) {\n        row[0] = &quot;One&quot;;\n        row[1] = &quot;Two&quot;;\n        row[2] = &quot;Three&quot;;\n    }  \n}\n</code></pre>\n<p>I've used for-each-loops here. They can be turned into normal for-loops easily:</p>\n<pre><code>for (int i = 0; i &lt; numbers.length; i++) {\n    String[][] matrix = numbers[i];\n    for (int j = 0; j &lt; matrix.length; j++) {\n        String[] row = matrix[j];\n        row[0] = &quot;One&quot;;\n        row[1] = &quot;Two&quot;;\n        row[2] = &quot;Three&quot;;\n    }\n}\n</code></pre>\n<p>From that you can substitute <code>row</code> by <code>matrix[j]</code> which gives you</p>\n<pre><code>for (int i = 0; i &lt; numbers.length; i++) {\n    String[][] matrix = numbers[i];\n    for (int j = 0; j &lt; matrix.length; j++) {\n        matrix[j][0] = &quot;One&quot;;\n        matrix[j][1] = &quot;Two&quot;;\n        matrix[j][2] = &quot;Three&quot;;\n    }\n}\n</code></pre>\n<p>Of course, you can substitute <code>matrix</code>, too. This time by <code>numbers[i]</code>:</p>\n<pre><code>for (int i = 0; i &lt; numbers.length; i++) {\n    for (int j = 0; j &lt; numbers[i].length; j++) {\n        numbers[i][j][0] = &quot;One&quot;;\n        numbers[i][j][1] = &quot;Two&quot;;\n        numbers[i][j][2] = &quot;Three&quot;;\n    }\n}\n</code></pre>\n<p><strong>Update</strong></p>\n<p>You can directly integrate this in your code:</p>\n<pre><code>public class Main {\n    public static void main(String[] args)\n    {\n        String[][][] numbers = new String[3][3][3];\n        for (int i = 0; i &lt; numbers.length; i++) {\n            for (int j = 0; j &lt; numbers[i].length; j++) {\n                numbers[i][j][0] = &quot;One&quot;;\n                numbers[i][j][1] = &quot;Two&quot;;\n                numbers[i][j][2] = &quot;Three&quot;;\n            }\n        }        \n\n        for(int i = 0; i &lt; numbers.length; i++)\n        {\n            System.out.println();\n            for(int j = 0; j &lt; numbers[i].length; j++)\n            {\n                System.out.println();\n                for(int k = 0; k &lt; numbers[i][j].length; k++)\n                {\n                    System.out.print(numbers[i][j][k] + &quot; &quot;);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26361981,"reputation":3,"user_id":20018037,"display_name":"Haap"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73812162,"answer_count":1,"score":-2,"last_activity_date":1663928059,"creation_date":1663833149,"question_id":73811072,"body_markdown":"So I just learned doing arrays in 1D and 2D in java, but I don&#39;t seem to do 3D correct since the output seems to show **null** like this:\r\n\r\n&gt; One null null  \r\nnull Two null  \r\nnull null Three \r\n&gt; \r\n&gt; One null null  \r\nnull Two null  \r\nnull null Three \r\n&gt; \r\n&gt; One null null  \r\nnull Two null  \r\nnull null Three\r\n\r\n\r\n----------\r\n\r\n\r\nI want it like this:\r\n&gt; One Two Three  \r\nOne Two Three  \r\nOne Two Three \r\n&gt; \r\n&gt; One Two Three  \r\nOne Two Three  \r\nOne Two Three \r\n&gt; \r\n&gt; One Two Three  \r\nOne Two Three  \r\nOne Two Three\r\n\r\n\r\n----------\r\n**SOLVED** *(changed the format of the array to make it simplier for me as a beginner.)*\r\n\r\n\r\n        public class Main {\r\n        public static void main(String[] args)\r\n        {\r\n            String[][][] numbers = {\r\n                                    {{&quot;One&quot;, &quot;Two&quot;, &quot;Three&quot;}, {&quot;Four&quot;, &quot;Five&quot;, &quot;Six&quot;},\r\n                                    {&quot;Seven&quot;, &quot;Eight&quot;, &quot;Nine&quot;}, {&quot;Ten&quot;, &quot;Eleven&quot;, &quot;Twelve&quot;}}\r\n                                    };\r\n    \r\n            for(int i = 0; i &lt; numbers.length; i++)\r\n            {\r\n                System.out.println();\r\n                for(int j = 0; j &lt; numbers[i].length; j++)\r\n                {\r\n                    System.out.println();\r\n                    for(int k = 0; k &lt; numbers[i][j].length; k++)\r\n                    {\r\n                        System.out.print(numbers[i][j][k] + &quot; &quot;);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }","title":"3D array output null in java?","body":"<p>So I just learned doing arrays in 1D and 2D in java, but I don't seem to do 3D correct since the output seems to show <strong>null</strong> like this:</p>\n<blockquote>\n<p>One null null<br />\nnull Two null<br />\nnull null Three</p>\n<p>One null null<br />\nnull Two null<br />\nnull null Three</p>\n<p>One null null<br />\nnull Two null<br />\nnull null Three</p>\n</blockquote>\n<hr />\n<p>I want it like this:</p>\n<blockquote>\n<p>One Two Three<br />\nOne Two Three<br />\nOne Two Three</p>\n<p>One Two Three<br />\nOne Two Three<br />\nOne Two Three</p>\n<p>One Two Three<br />\nOne Two Three<br />\nOne Two Three</p>\n</blockquote>\n<hr />\n<p><strong>SOLVED</strong> <em>(changed the format of the array to make it simplier for me as a beginner.)</em></p>\n<pre><code>    public class Main {\n    public static void main(String[] args)\n    {\n        String[][][] numbers = {\n                                {{&quot;One&quot;, &quot;Two&quot;, &quot;Three&quot;}, {&quot;Four&quot;, &quot;Five&quot;, &quot;Six&quot;},\n                                {&quot;Seven&quot;, &quot;Eight&quot;, &quot;Nine&quot;}, {&quot;Ten&quot;, &quot;Eleven&quot;, &quot;Twelve&quot;}}\n                                };\n\n        for(int i = 0; i &lt; numbers.length; i++)\n        {\n            System.out.println();\n            for(int j = 0; j &lt; numbers[i].length; j++)\n            {\n                System.out.println();\n                for(int k = 0; k &lt; numbers[i][j].length; k++)\n                {\n                    System.out.print(numbers[i][j][k] + &quot; &quot;);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","performance","hibernate"],"comments":[{"owner":{"account_id":2443099,"reputation":9128,"user_id":2131074,"accept_rate":75,"display_name":"GPI"},"score":0,"creation_date":1427449415,"post_id":29297196,"comment_id":46790310,"body_markdown":"I&#39;ve personnaly never seen an appreciable performance gap between the two in my Hibernate profiling. But both pale in comparison to `NamedQuery` because the former need to be compiled internally to produce the final SQL, while the later are parsed once and for all. You&#39;d have to throw `DetachedCriteria` in the mix for a fair comparison. Any way we&#39;re talking milliseconds or less, here.","body":"I&#39;ve personnaly never seen an appreciable performance gap between the two in my Hibernate profiling. But both pale in comparison to <code>NamedQuery</code> because the former need to be compiled internally to produce the final SQL, while the later are parsed once and for all. You&#39;d have to throw <code>DetachedCriteria</code> in the mix for a fair comparison. Any way we&#39;re talking milliseconds or less, here."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":2,"creation_date":1427450850,"post_id":29297196,"comment_id":46791182,"body_markdown":"The cost of generating the SQL query from HQL or criteria is negligible compared to the cost of executing the SQL query. Use what is the most readable. Unless the query is indeed a criteria query (i.e. a query wilth multiple optional criteria that needs to be dynamically composed), HQL is much more readable.","body":"The cost of generating the SQL query from HQL or criteria is negligible compared to the cost of executing the SQL query. Use what is the most readable. Unless the query is indeed a criteria query (i.e. a query wilth multiple optional criteria that needs to be dynamically composed), HQL is much more readable."},{"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":0,"creation_date":1427454200,"post_id":29297196,"comment_id":46793144,"body_markdown":"Try them both. Measure it. If there&#39;s no significant difference between (which I suspect there won&#39;t be), then pick whichever one gives you easier to read code.","body":"Try them both. Measure it. If there&#39;s no significant difference between (which I suspect there won&#39;t be), then pick whichever one gives you easier to read code."}],"answers":[{"tags":[],"owner":{"account_id":26421509,"reputation":1,"user_id":20069124,"display_name":"Amin Hossein Nadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663928022,"creation_date":1663928022,"answer_id":73826205,"question_id":29297196,"body_markdown":"session.createQuery() (**HQL/JPQL queries**) and session.createCriteria() (**Criteria queries**) have the same performance and efficiency.\r\n\r\nCriteria queries are more flexible and provide better support for writing dynamic queries as compared to HQL and JPQL. But HQL and JPQL provide native query support that isn&#39;t possible with the Criteria queries. This is one of the disadvantages of the Criteria query. We can easily write complex joins using JPQL native queries, whereas it gets difficult to manage while applying the same with Criteria API.\r\n\r\n[more info][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/jpql-hql-criteria-query","title":"Which one is faster: session.createCriteria() or session.createQuery() in hibernate?","body":"<p>session.createQuery() (<strong>HQL/JPQL queries</strong>) and session.createCriteria() (<strong>Criteria queries</strong>) have the same performance and efficiency.</p>\n<p>Criteria queries are more flexible and provide better support for writing dynamic queries as compared to HQL and JPQL. But HQL and JPQL provide native query support that isn't possible with the Criteria queries. This is one of the disadvantages of the Criteria query. We can easily write complex joins using JPQL native queries, whereas it gets difficult to manage while applying the same with Criteria API.</p>\n<p><a href=\"https://www.baeldung.com/jpql-hql-criteria-query\" rel=\"nofollow noreferrer\">more info</a></p>\n"}],"owner":{"account_id":3962960,"reputation":39,"user_id":3269650,"display_name":"Haresh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":630,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1663928022,"creation_date":1427448301,"question_id":29297196,"body_markdown":"Is there any difference in performance if we are using hibernate criteria queries\r\ninstead of create queries? I looked the web but didn&#39;t found a satisfactory answer. ","title":"Which one is faster: session.createCriteria() or session.createQuery() in hibernate?","body":"<p>Is there any difference in performance if we are using hibernate criteria queries\ninstead of create queries? I looked the web but didn't found a satisfactory answer. </p>\n"},{"tags":["java","spring","spring-boot","mockito","spring-boot-test"],"answers":[{"tags":[],"owner":{"account_id":18178896,"reputation":101,"user_id":13227074,"display_name":"BT_Code"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663927835,"creation_date":1663927835,"answer_id":73826168,"question_id":73825794,"body_markdown":"PEBCAK issue.\r\n\r\nAs you can see in the `bindPersistentThingworxPropertiesCall()`, I actually **didn&#39;t** use `ExpectedCount.manyTimes()`. I didn&#39;t catch that. Changed it and now it works.","title":"Spring Boot Test: Expected request don&#39;t persist using ExpectedCount.manyTimes()","body":"<p>PEBCAK issue.</p>\n<p>As you can see in the <code>bindPersistentThingworxPropertiesCall()</code>, I actually <strong>didn't</strong> use <code>ExpectedCount.manyTimes()</code>. I didn't catch that. Changed it and now it works.</p>\n"}],"owner":{"account_id":18178896,"reputation":101,"user_id":13227074,"display_name":"BT_Code"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73826168,"answer_count":1,"score":0,"last_activity_date":1663927835,"creation_date":1663925937,"question_id":73825794,"body_markdown":"I&#39;m trying to run some integration tests on my code and I use a `MockRestServiceServer` from `spring-boot-test` in order to set up the expected requests.\r\n\r\nI have one call that is called many times while running my test, but it seems not to persist during the test. My test looks like this:\r\n```java\r\n@Test\r\n    void getHealthStatus() {\r\n        try {\r\n            RequestBuilder request = get(&quot;/actuator/hc&quot;).contentType(&quot;application/json&quot;);\r\n\r\n            MockServerBinder.bindPersistentThingworxPropertiesCall(\r\n                    mockServer,\r\n                    requestTo(new URI(String.format(&quot;%sProperties/TestProp&quot;, thingworxUrl))),\r\n                    objectMapper.writeValueAsString(new PingResponse(DashboardIndicator.HEALTHY, 200))\r\n            );\r\n\r\n            DashboardStatusModel expectedResult = new DashboardStatusModel();\r\n            expectedResult.addResult(&quot;spring&quot;,service.getAppHealth());\r\n            expectedResult.addResult(&quot;thingworx&quot;, service.getThingworxAvailability());\r\n\r\n            assertOpenUrl(request);\r\n            MvcResult result = mockMvc.perform(get(&quot;/actuator/hc&quot;).contentType(&quot;application/json&quot;))\r\n                    .andExpect(status().isOk())\r\n                    .andReturn();\r\n\r\n            DashboardStatusModel actualResult = objectMapper.readValue(result.getResponse().getContentAsString(), DashboardStatusModel.class);\r\n\r\n            assertEquals(expectedResult.getResults().get(&quot;spring&quot;), actualResult.getResults().get(&quot;spring&quot;));\r\n            assertEquals(expectedResult.getResults().get(&quot;thingworx&quot;).getStatus(),actualResult.getResults().get(&quot;thingworx&quot;).getStatus());\r\n            assertEquals(expectedResult.getResults().get(&quot;thingworx&quot;).getData().get(&quot;url&quot;), actualResult.getResults().get(&quot;thingworx&quot;).getData().get(&quot;url&quot;));\r\n        } catch (Exception e) {\r\n            fail(&quot;Unable to perform REST call on GDP-API&quot;, e);\r\n        }\r\n    }\r\n```\r\n\r\n*As additional information:*\r\n- *`mockServer` is created in a superclass like this:*\r\n```java\r\nprotected static MockRestServiceServer mockServer;\r\n    @BeforeEach\r\n    public void configureMockServer() {\r\n        mockServer = MockRestServiceServer.bindTo(restTemplate).ignoreExpectOrder(true).build();\r\n    }\r\n````\r\n- *`MockServerBinder.bindPersistentThingworxPropertiesCall()` is a helper class that looks like this:*\r\n```java\r\npublic static void bindPersistentThingworxPropertiesCall(MockRestServiceServer mockServer, RequestMatcher request, String responseJSONasString){\r\n        mockServer.expect(ExpectedCount.once(), request)\r\n                .andExpect(method(HttpMethod.GET))\r\n                .andRespond(withStatus(HttpStatus.OK)\r\n                        .contentType(MediaType.APPLICATION_JSON)\r\n                        .body(responseJSONasString));\r\n    }\r\n```\r\n- *`assertOpenUrl(request);` is a function that checks if a URL doesn&#39;t have any authentication by using a `MockMVC`:*\r\n```java\r\npublic void assertOpenUrl(RequestBuilder request){\r\n        try{\r\n            mockMvc.perform(request).andExpect(status().isOk());\r\n        } catch (Exception e) {\r\n            fail(&quot;Unable to perform REST call on GDP-API&quot;, e);\r\n        }\r\n}\r\n```\r\n\r\nWhen I run this test, the `expectedResult.addResult(&quot;thingworx&quot;, service.getThingworxAvailability());` will be able to use the `MockRestServiceServer`, but the `assertOpenUrl(request);` line will fail, because `MockRestServiceServer` doesn&#39;t expect anymore calls to the endpoint binded in `MockServerBinder.bindPersistantThingworxPropertyCall()`. This does not happen if I Copy &amp; Paste `MockServerBinder.bindPersistantThingworxPropertyCall()` under the existing one, so I think it&#39;s a problem with how I binded the request in the first place.\r\n\r\nFrom what I understand `ExpectedCount.manyTimes()` should keep this request during the test. \r\nIs this not true or is there another way I should bind my request so that it stays available during the entire test?","title":"Spring Boot Test: Expected request don&#39;t persist using ExpectedCount.manyTimes()","body":"<p>I'm trying to run some integration tests on my code and I use a <code>MockRestServiceServer</code> from <code>spring-boot-test</code> in order to set up the expected requests.</p>\n<p>I have one call that is called many times while running my test, but it seems not to persist during the test. My test looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\n    void getHealthStatus() {\n        try {\n            RequestBuilder request = get(&quot;/actuator/hc&quot;).contentType(&quot;application/json&quot;);\n\n            MockServerBinder.bindPersistentThingworxPropertiesCall(\n                    mockServer,\n                    requestTo(new URI(String.format(&quot;%sProperties/TestProp&quot;, thingworxUrl))),\n                    objectMapper.writeValueAsString(new PingResponse(DashboardIndicator.HEALTHY, 200))\n            );\n\n            DashboardStatusModel expectedResult = new DashboardStatusModel();\n            expectedResult.addResult(&quot;spring&quot;,service.getAppHealth());\n            expectedResult.addResult(&quot;thingworx&quot;, service.getThingworxAvailability());\n\n            assertOpenUrl(request);\n            MvcResult result = mockMvc.perform(get(&quot;/actuator/hc&quot;).contentType(&quot;application/json&quot;))\n                    .andExpect(status().isOk())\n                    .andReturn();\n\n            DashboardStatusModel actualResult = objectMapper.readValue(result.getResponse().getContentAsString(), DashboardStatusModel.class);\n\n            assertEquals(expectedResult.getResults().get(&quot;spring&quot;), actualResult.getResults().get(&quot;spring&quot;));\n            assertEquals(expectedResult.getResults().get(&quot;thingworx&quot;).getStatus(),actualResult.getResults().get(&quot;thingworx&quot;).getStatus());\n            assertEquals(expectedResult.getResults().get(&quot;thingworx&quot;).getData().get(&quot;url&quot;), actualResult.getResults().get(&quot;thingworx&quot;).getData().get(&quot;url&quot;));\n        } catch (Exception e) {\n            fail(&quot;Unable to perform REST call on GDP-API&quot;, e);\n        }\n    }\n</code></pre>\n<p><em>As additional information:</em></p>\n<ul>\n<li><em><code>mockServer</code> is created in a superclass like this:</em></li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>protected static MockRestServiceServer mockServer;\n    @BeforeEach\n    public void configureMockServer() {\n        mockServer = MockRestServiceServer.bindTo(restTemplate).ignoreExpectOrder(true).build();\n    }\n</code></pre>\n<ul>\n<li><em><code>MockServerBinder.bindPersistentThingworxPropertiesCall()</code> is a helper class that looks like this:</em></li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public static void bindPersistentThingworxPropertiesCall(MockRestServiceServer mockServer, RequestMatcher request, String responseJSONasString){\n        mockServer.expect(ExpectedCount.once(), request)\n                .andExpect(method(HttpMethod.GET))\n                .andRespond(withStatus(HttpStatus.OK)\n                        .contentType(MediaType.APPLICATION_JSON)\n                        .body(responseJSONasString));\n    }\n</code></pre>\n<ul>\n<li><em><code>assertOpenUrl(request);</code> is a function that checks if a URL doesn't have any authentication by using a <code>MockMVC</code>:</em></li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public void assertOpenUrl(RequestBuilder request){\n        try{\n            mockMvc.perform(request).andExpect(status().isOk());\n        } catch (Exception e) {\n            fail(&quot;Unable to perform REST call on GDP-API&quot;, e);\n        }\n}\n</code></pre>\n<p>When I run this test, the <code>expectedResult.addResult(&quot;thingworx&quot;, service.getThingworxAvailability());</code> will be able to use the <code>MockRestServiceServer</code>, but the <code>assertOpenUrl(request);</code> line will fail, because <code>MockRestServiceServer</code> doesn't expect anymore calls to the endpoint binded in <code>MockServerBinder.bindPersistantThingworxPropertyCall()</code>. This does not happen if I Copy &amp; Paste <code>MockServerBinder.bindPersistantThingworxPropertyCall()</code> under the existing one, so I think it's a problem with how I binded the request in the first place.</p>\n<p>From what I understand <code>ExpectedCount.manyTimes()</code> should keep this request during the test.\nIs this not true or is there another way I should bind my request so that it stays available during the entire test?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1663918512,"post_id":73824393,"comment_id":130356588,"body_markdown":"What exact error do you experience? Please, provide a minimal and reproducible sample. The code you have posted looks good.","body":"What exact error do you experience? Please, provide a minimal and reproducible sample. The code you have posted looks good."},{"owner":{"account_id":20216668,"reputation":9,"user_id":14827242,"display_name":"Pedro"},"score":0,"creation_date":1663927677,"post_id":73824393,"comment_id":130359593,"body_markdown":"Sorry i had an error in some settings i fixed it.","body":"Sorry i had an error in some settings i fixed it."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1663927926,"post_id":73824393,"comment_id":130359683,"body_markdown":"You probably imported the wrong `List`.","body":"You probably imported the wrong <code>List</code>."}],"answers":[{"tags":[],"owner":{"account_id":20216668,"reputation":9,"user_id":14827242,"display_name":"Pedro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663927702,"creation_date":1663927702,"answer_id":73826145,"question_id":73824393,"body_markdown":"There was a problem with some settings so after changing them now it&#39;s working.","title":"The type List is not generic; it cannot be parameterized with arguments &lt;Integer&gt;","body":"<p>There was a problem with some settings so after changing them now it's working.</p>\n"}],"owner":{"account_id":20216668,"reputation":9,"user_id":14827242,"display_name":"Pedro"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663927702,"creation_date":1663918453,"question_id":73824393,"body_markdown":"Can&#39;t make a new list in java, i read that i should use import java.util.List; Still getting the error of The type List is not generic; it cannot be parameterized with arguments &lt;Integer&gt;\r\n\r\n    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\tlist.add(5);\r\n\t\tlist.add(12);\r\n\t\tlist.add(7);\r\n\t\tlist.add(25);\r\n\t\tlist.add(3);","title":"The type List is not generic; it cannot be parameterized with arguments &lt;Integer&gt;","body":"<p>Can't make a new list in java, i read that i should use import java.util.List; Still getting the error of The type List is not generic; it cannot be parameterized with arguments </p>\n<pre><code>List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n    \n    list.add(5);\n    list.add(12);\n    list.add(7);\n    list.add(25);\n    list.add(3);\n</code></pre>\n"},{"tags":["java","regex","string","split"],"answers":[{"tags":[],"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"down_vote_count":0,"up_vote_count":168,"is_accepted":true,"score":168,"last_activity_date":1358784427,"creation_date":1358783035,"answer_id":14442189,"question_id":14442162,"body_markdown":"The replaceAll method is attempting to match the String literal `[]` which does not exist within the `String` try replacing these items separately.\r\n\r\n    String str = &quot;[Chrissman-@1]&quot;;\r\n    str = str.replaceAll(&quot;\\\\[&quot;, &quot;&quot;).replaceAll(&quot;\\\\]&quot;,&quot;&quot;);\r\n","title":"Java replace all square brackets in a string","body":"<p>The replaceAll method is attempting to match the String literal <code>[]</code> which does not exist within the <code>String</code> try replacing these items separately.</p>\n\n<pre><code>String str = \"[Chrissman-@1]\";\nstr = str.replaceAll(\"\\\\[\", \"\").replaceAll(\"\\\\]\",\"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1042959,"reputation":638633,"user_id":1048572,"accept_rate":77,"display_name":"Bergi"},"down_vote_count":0,"up_vote_count":80,"is_accepted":false,"score":80,"last_activity_date":1358783075,"creation_date":1358783075,"answer_id":14442200,"question_id":14442162,"body_markdown":"Your regex matches (and removes) only subsequent square brackets. Use this instead:\r\n\r\n    str = str.replaceAll(&quot;\\\\[|\\\\]&quot;, &quot;&quot;);\r\n\r\nIf you only want to replace bracket pairs with content in between, you could use this:\r\n\r\n    str = str.replaceAll(&quot;\\\\[(.*?)\\\\]&quot;, &quot;$1&quot;);","title":"Java replace all square brackets in a string","body":"<p>Your regex matches (and removes) only subsequent square brackets. Use this instead:</p>\n\n<pre><code>str = str.replaceAll(\"\\\\[|\\\\]\", \"\");\n</code></pre>\n\n<p>If you only want to replace bracket pairs with content in between, you could use this:</p>\n\n<pre><code>str = str.replaceAll(\"\\\\[(.*?)\\\\]\", \"$1\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1358783106,"creation_date":1358783106,"answer_id":14442209,"question_id":14442162,"body_markdown":"You&#39;re currently trying to remove the *exact* string `[]` - two square brackets with nothing between them. Instead, you want to remove all `[` and separately remove all `]`.\r\n\r\nPersonally I would avoid using `replaceAll` here as it introduces more confusion due to the regex part - I&#39;d use:\r\n\r\n    String replaced = original.replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;);\r\n\r\nOnly use the methods which take regular expressions if you *really* want to do full pattern matching. When you just want to replace all occurrences of a fixed string, `replace` is simpler to read and understand.\r\n\r\n(There are alternative approaches which use the regular expression form and really match patterns, but I think the above code is significantly simpler.)","title":"Java replace all square brackets in a string","body":"<p>You're currently trying to remove the <em>exact</em> string <code>[]</code> - two square brackets with nothing between them. Instead, you want to remove all <code>[</code> and separately remove all <code>]</code>.</p>\n\n<p>Personally I would avoid using <code>replaceAll</code> here as it introduces more confusion due to the regex part - I'd use:</p>\n\n<pre><code>String replaced = original.replace(\"[\", \"\").replace(\"]\", \"\");\n</code></pre>\n\n<p>Only use the methods which take regular expressions if you <em>really</em> want to do full pattern matching. When you just want to replace all occurrences of a fixed string, <code>replace</code> is simpler to read and understand.</p>\n\n<p>(There are alternative approaches which use the regular expression form and really match patterns, but I think the above code is significantly simpler.)</p>\n"},{"tags":[],"owner":{"account_id":72575,"reputation":40794,"user_id":209513,"accept_rate":100,"display_name":"Subhrajyoti Majumder"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1358783816,"creation_date":1358783159,"answer_id":14442228,"question_id":14442162,"body_markdown":"use regex `[\\\\[\\\\]]` -\r\n\r\n    String str = &quot;[Chrissman-@1]&quot;;\r\n    String[] temp = str.replaceAll(&quot;[\\\\[\\\\]]&quot;, &quot;&quot;).split(&quot;-@&quot;);\r\n    System.out.println(&quot;Nickname: &quot; + temp[0] + &quot; | Power: &quot; + temp[1]);\r\n\r\n\r\noutput -\r\n\r\n    Nickname: Chrissman | Power: 1\r\n","title":"Java replace all square brackets in a string","body":"<p>use regex <code>[\\\\[\\\\]]</code> -</p>\n\n<pre><code>String str = \"[Chrissman-@1]\";\nString[] temp = str.replaceAll(\"[\\\\[\\\\]]\", \"\").split(\"-@\");\nSystem.out.println(\"Nickname: \" + temp[0] + \" | Power: \" + temp[1]);\n</code></pre>\n\n<p>output -</p>\n\n<pre><code>Nickname: Chrissman | Power: 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4275999,"reputation":34098,"user_id":3496570,"accept_rate":39,"display_name":"Zar E Ahmer"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1399270843,"creation_date":1399269345,"answer_id":23465718,"question_id":14442162,"body_markdown":"You may also do it like this:\r\n\r\n    String data = &quot;[yourdata]&quot;;\r\n    String regex = &quot;\\\\[|\\\\]&quot;;\r\n    data  = data .replaceAll(regex, &quot;&quot;);\r\n    System.out.println(data);","title":"Java replace all square brackets in a string","body":"<p>You may also do it like this:</p>\n\n<pre><code>String data = \"[yourdata]\";\nString regex = \"\\\\[|\\\\]\";\ndata  = data .replaceAll(regex, \"\");\nSystem.out.println(data);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9707206,"reputation":2787,"user_id":7200297,"display_name":"Agilanbu"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1540533673,"creation_date":1496213731,"answer_id":44277703,"question_id":14442162,"body_markdown":"\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n   Use this line:) String result = strCurBal.replaceAll(&quot;[(&quot; what ever u need to remove &quot;)]&quot;, &quot;&quot;);\r\n\r\n        String strCurBal = &quot;(+)3428&quot;;\r\n        Log.e(&quot;Agilanbu before omit &quot;, strCurBal);\r\n        String result = strCurBal.replaceAll(&quot;[()]&quot;, &quot;&quot;); // () removing special characters from string\r\n        Log.e(&quot;Agilanbu after omit &quot;, result);\r\n       \r\n        o/p :\r\n        Agilanbu before omit : (+)3428\r\n        Agilanbu after omit :  +3428\r\n\r\n        String finalVal = result.replaceAll(&quot;[+]&quot;, &quot;&quot;); // + removing special characters from string\r\n        Log.e(&quot;Agilanbu finalVal  &quot;, finalVal);\r\n        o/p\r\n        Agilanbu finalVal : 3428\r\n                \r\n        String finalVal1 = result.replaceAll(&quot;[+]&quot;, &quot;-&quot;); // insert | append | replace the special characters from string\r\n        Log.e(&quot;Agilanbu finalVal  &quot;, finalVal1);\r\n        o/p\r\n        Agilanbu finalVal : -3428  // replacing the + symbol to -\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Java replace all square brackets in a string","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>   Use this line:) String result = strCurBal.replaceAll(\"[(\" what ever u need to remove \")]\", \"\");\r\n\r\n    String strCurBal = \"(+)3428\";\r\n    Log.e(\"Agilanbu before omit \", strCurBal);\r\n    String result = strCurBal.replaceAll(\"[()]\", \"\"); // () removing special characters from string\r\n    Log.e(\"Agilanbu after omit \", result);\r\n   \r\n    o/p :\r\n    Agilanbu before omit : (+)3428\r\n    Agilanbu after omit :  +3428\r\n\r\n    String finalVal = result.replaceAll(\"[+]\", \"\"); // + removing special characters from string\r\n    Log.e(\"Agilanbu finalVal  \", finalVal);\r\n    o/p\r\n    Agilanbu finalVal : 3428\r\n            \r\n    String finalVal1 = result.replaceAll(\"[+]\", \"-\"); // insert | append | replace the special characters from string\r\n    Log.e(\"Agilanbu finalVal  \", finalVal1);\r\n    o/p\r\n    Agilanbu finalVal : -3428  // replacing the + symbol to -</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":13870302,"reputation":41,"user_id":10013636,"display_name":"Anmol Devta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530340207,"creation_date":1530335648,"answer_id":51111951,"question_id":14442162,"body_markdown":"    String str, str1;\r\n    Scanner sc = new Scanner(System.in);\r\n       \r\n    System.out.print(&quot;Enter a String : &quot;);\r\n    str = sc.nextLine();\r\n       \r\n      \r\n    str1 = str.replaceAll(&quot;[aeiouAEIOU]&quot;, &quot;&quot;);\r\n    \t\t   \r\n    \t      \r\n    \t             \r\n    System.out.print(str1);\r\n\r\n","title":"Java replace all square brackets in a string","body":"<pre><code>String str, str1;\nScanner sc = new Scanner(System.in);\n\nSystem.out.print(\"Enter a String : \");\nstr = sc.nextLine();\n\n\nstr1 = str.replaceAll(\"[aeiouAEIOU]\", \"\");\n\n\n\nSystem.out.print(str1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2681186,"reputation":43,"user_id":2316555,"display_name":"gOliveiraC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615488330,"creation_date":1615488330,"answer_id":66588640,"question_id":14442162,"body_markdown":"I use this regex to replace every string inside brackets:\r\n\r\n    var= var.replaceAll(&quot;\\\\[\\\\w+&quot;, &quot;[*&quot;).replaceAll(&quot;\\\\]&quot;, &quot;]&quot;);","title":"Java replace all square brackets in a string","body":"<p>I use this regex to replace every string inside brackets:</p>\n<pre><code>var= var.replaceAll(&quot;\\\\[\\\\w+&quot;, &quot;[*&quot;).replaceAll(&quot;\\\\]&quot;, &quot;]&quot;);\n</code></pre>\n"}],"owner":{"account_id":2207343,"reputation":9457,"user_id":1950209,"accept_rate":39,"display_name":"Zbarcea Christian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225941,"favorite_count":0,"down_vote_count":0,"up_vote_count":87,"accepted_answer_id":14442189,"answer_count":8,"score":87,"last_activity_date":1663927663,"creation_date":1358782950,"question_id":14442162,"body_markdown":"I want to remove square brackets from a string, but I don&#39;t know how.\r\n\r\n    String str = &quot;[Chrissman-@1]&quot;;\r\n    str = replaceAll(&quot;\\\\[\\\\]&quot;, &quot;&quot;);\r\n    \r\n    String[] temp = str.split(&quot;-@&quot;);\r\n    System.out.println(&quot;Nickname: &quot; + temp[0] + &quot; | Power: &quot; + temp[1]);\r\n\r\nBut my result is: [Chrissman | 1]\r\nThe square brackets doesn&#39;t get removed.\r\n\r\nI tried using a different regex: `&quot;\\\\[.*?\\\\]&quot;`, `&quot;\\\\[\\\\d+\\\\]&quot;`\r\nbut the result is the same, the square brackets still attached on the string.\r\n\r\nEdit:\r\n\r\nI tried:\r\n\r\n    str.replaceAll(&quot;]&quot;, &quot;&quot;);\r\n    str.replaceAll(&quot;[&quot;, &quot;&quot;);\r\n\r\nAnd now I&#39;m getting:\r\n\r\n    Exception in thread &quot;Thread-4&quot; java.util.regex.PatternSyntaxException: Unclosed character class near index 0\r\n    [\r\n    ^\r\n    \tat java.util.regex.Pattern.error(Unknown Source)\r\n    \tat java.util.regex.Pattern.clazz(Unknown Source)\r\n    \tat java.util.regex.Pattern.sequence(Unknown Source)\r\n    \tat java.util.regex.Pattern.expr(Unknown Source)\r\n    \tat java.util.regex.Pattern.compile(Unknown Source)\r\n    \tat java.util.regex.Pattern.&lt;init&gt;(Unknown Source)\r\n    \tat java.util.regex.Pattern.compile(Unknown Source)\r\n    \tat java.lang.String.replaceAll(Unknown Source)","title":"Java replace all square brackets in a string","body":"<p>I want to remove square brackets from a string, but I don't know how.</p>\n\n<pre><code>String str = \"[Chrissman-@1]\";\nstr = replaceAll(\"\\\\[\\\\]\", \"\");\n\nString[] temp = str.split(\"-@\");\nSystem.out.println(\"Nickname: \" + temp[0] + \" | Power: \" + temp[1]);\n</code></pre>\n\n<p>But my result is: [Chrissman | 1]\nThe square brackets doesn't get removed.</p>\n\n<p>I tried using a different regex: <code>\"\\\\[.*?\\\\]\"</code>, <code>\"\\\\[\\\\d+\\\\]\"</code>\nbut the result is the same, the square brackets still attached on the string.</p>\n\n<p>Edit:</p>\n\n<p>I tried:</p>\n\n<pre><code>str.replaceAll(\"]\", \"\");\nstr.replaceAll(\"[\", \"\");\n</code></pre>\n\n<p>And now I'm getting:</p>\n\n<pre><code>Exception in thread \"Thread-4\" java.util.regex.PatternSyntaxException: Unclosed character class near index 0\n[\n^\n    at java.util.regex.Pattern.error(Unknown Source)\n    at java.util.regex.Pattern.clazz(Unknown Source)\n    at java.util.regex.Pattern.sequence(Unknown Source)\n    at java.util.regex.Pattern.expr(Unknown Source)\n    at java.util.regex.Pattern.compile(Unknown Source)\n    at java.util.regex.Pattern.&lt;init&gt;(Unknown Source)\n    at java.util.regex.Pattern.compile(Unknown Source)\n    at java.lang.String.replaceAll(Unknown Source)\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"comments":[{"owner":{"account_id":26414497,"reputation":15,"user_id":20063094,"display_name":"Mario"},"score":0,"creation_date":1663923041,"post_id":73817691,"comment_id":130358063,"body_markdown":"I m not finding it on the (⠇) it only allow me to remove the data where is it?. Did you need to know the type of data?","body":"I m not finding it on the (⠇) it only allow me to remove the data where is it?. Did you need to know the type of data?"},{"owner":{"account_id":26414497,"reputation":15,"user_id":20063094,"display_name":"Mario"},"score":0,"creation_date":1663923544,"post_id":73817691,"comment_id":130358241,"body_markdown":"I have found the import export section but it is empty","body":"I have found the import export section but it is empty"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1663924976,"post_id":73817691,"comment_id":130358719,"body_markdown":"Oh, it&#39;s Firestore, then please edit your question and add your database structure as a screenshot.","body":"Oh, it&#39;s Firestore, then please edit your question and add your database structure as a screenshot."},{"owner":{"account_id":26414497,"reputation":15,"user_id":20063094,"display_name":"Mario"},"score":0,"creation_date":1663927593,"post_id":73817691,"comment_id":130359567,"body_markdown":"done lemme know if you need more information","body":"done lemme know if you need more information"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1663928007,"post_id":73817691,"comment_id":130359700,"body_markdown":"Are you sure that all documents have a `timestamp` field of type Timestamp and not a `long` value? Besides that, inside the class, the `timestamp` property should be Date, as explained [here](https://stackoverflow.com/questions/48474957/servertimestamp-is-allways-null-on-firebase-firestore/48475027), right?","body":"Are you sure that all documents have a <code>timestamp</code> field of type Timestamp and not a <code>long</code> value? Besides that, inside the class, the <code>timestamp</code> property should be Date, as explained <a href=\"https://stackoverflow.com/questions/48474957/servertimestamp-is-allways-null-on-firebase-firestore/48475027\">here</a>, right?"},{"owner":{"account_id":26414497,"reputation":15,"user_id":20063094,"display_name":"Mario"},"score":0,"creation_date":1663935482,"post_id":73817691,"comment_id":130362082,"body_markdown":"i dont think i have understood the question... they are all strings except for timestamp","body":"i dont think i have understood the question... they are all strings except for timestamp"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1663936325,"post_id":73817691,"comment_id":130362395,"body_markdown":"In the screenshot that you have provided, the timestamp field holds a Timestamp object. Are you sure that all documents follow the same rule? It&#39;s possible that one document to have a long rather than a timestamp. Did you understand now?","body":"In the screenshot that you have provided, the timestamp field holds a Timestamp object. Are you sure that all documents follow the same rule? It&#39;s possible that one document to have a long rather than a timestamp. Did you understand now?"},{"owner":{"account_id":26414497,"reputation":15,"user_id":20063094,"display_name":"Mario"},"score":0,"creation_date":1663938422,"post_id":73817691,"comment_id":130363251,"body_markdown":"There is a long in the last lines of mainActivity but in the firestore database there is no long value maybe i can add other parts of the code like Startpage.java and SaveState.java if you think could be helpful","body":"There is a long in the last lines of mainActivity but in the firestore database there is no long value maybe i can add other parts of the code like Startpage.java and SaveState.java if you think could be helpful"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1663941928,"post_id":73817691,"comment_id":130364729,"body_markdown":"It&#39;s not about the code, it&#39;s about what you have in the database.","body":"It&#39;s not about the code, it&#39;s about what you have in the database."},{"owner":{"account_id":26414497,"reputation":15,"user_id":20063094,"display_name":"Mario"},"score":0,"creation_date":1663942790,"post_id":73817691,"comment_id":130365058,"body_markdown":"chat_image is a string message is a string message id is a string timestamp is a timestamp user_image_url is a string user_name is a string","body":"chat_image is a string message is a string message id is a string timestamp is a timestamp user_image_url is a string user_name is a string"}],"owner":{"account_id":26414497,"reputation":15,"user_id":20063094,"display_name":"Mario"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663927572,"creation_date":1663862702,"question_id":73817691,"body_markdown":"Hi I&#39;m following this video tutorial https://www.youtube.com/watch?v=wQN2eCO-M_Q&amp;t=7717s (the part I suppose create this issue can be found at time 2:01:17)and I managed to make this code work without implementing the notifications, but it only works on the simulator.\r\nWhen I try to debug it with my phone it gives me the following error\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.chat, PID: 7894\r\n    java.lang.RuntimeException: Could not deserialize object. Failed to convert value of type java.lang.Long to Timestamp (found in field &#39;timestamp&#39;)\r\nOn others real devices it works properly but on my real me 8 pro it does not\r\nhere is some code from my android studio:\r\n\r\nChatModel.java\r\n\r\n        package com.example.chat.model;\r\n    import com.google.firebase.Timestamp;\r\n    \r\n    import java.sql.Time;\r\n    import java.util.Date;\r\n    \r\n    public class ChatModel {\r\n        String message;\r\n        String user_name;\r\n        String messageID;\r\n        String user_image_url;\r\n        String chat_image;\r\n        Timestamp timestamp;\r\n    \r\n        public ChatModel() {\r\n        }\r\n    \r\n        public ChatModel(String message, String user_name, String messageID, String user_image_url, String chat_image, Timestamp timestamp) {\r\n            this.message = message;\r\n            this.user_name = user_name;\r\n            this.messageID = messageID;\r\n            this.user_image_url = user_image_url;\r\n            this.chat_image = chat_image;\r\n            this.timestamp = timestamp;\r\n        }\r\n    \r\n        public String getMessage() {\r\n            return message;\r\n        }\r\n    \r\n        public void setMessage(String message) {\r\n            this.message = message;\r\n        }\r\n    \r\n        public String getUser_name() {\r\n            return user_name;\r\n        }\r\n    \r\n        public void setUser_name(String user_name) {\r\n            this.user_name = user_name;\r\n        }\r\n    \r\n        public String getMessageID() {\r\n            return messageID;\r\n        }\r\n    \r\n        public void setMessageID(String messageID) {\r\n            this.messageID = messageID;\r\n        }\r\n    \r\n        public String getUser_image_url() {\r\n            return user_image_url;\r\n        }\r\n    \r\n        public void setUser_image_url(String user_image_url) {\r\n            this.user_image_url = user_image_url;\r\n        }\r\n    \r\n        public String getChat_image() {\r\n            return chat_image;\r\n        }\r\n    \r\n        public void setChat_image(String chat_image) {\r\n            this.chat_image = chat_image;\r\n        }\r\n    \r\n        public Timestamp getTimestamp() {\r\n            return timestamp;\r\n        }\r\n    \r\n        public void setTimestamp(Timestamp timestamp) {\r\n            this.timestamp = timestamp;\r\n        }\r\n    }\r\n\r\ni have tried to change Timestamp with: long, Long, Date and Number.\r\nBut i wouldn&#39;t work anyways\r\nMainActivity.java\r\n\r\n        package com.example.chat;\r\n    \r\n    import static com.example.chat.cords.FirebaseCords.MAIN_CHAT_DATABASE;\r\n    import static com.example.chat.cords.FirebaseCords.mAuth;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.annotation.Nullable;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.Manifest;\r\n    import android.content.Intent;\r\n    import android.content.pm.PackageManager;\r\n    import android.net.Uri;\r\n    import android.os.Bundle;\r\n    import android.text.TextUtils;\r\n    import android.util.Log;\r\n    import android.view.Menu;\r\n    import android.view.MenuItem;\r\n    import android.view.View;\r\n    import android.widget.EditText;\r\n    import android.widget.Toast;\r\n    \r\n    import androidx.appcompat.widget.Toolbar;\r\n    import androidx.core.app.ActivityCompat;\r\n    import androidx.recyclerview.widget.LinearLayoutManager;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    import com.example.chat.adapter.ChatAdapter;\r\n    import com.example.chat.cords.FirebaseCords;\r\n    import com.example.chat.model.ChatModel;\r\n    import com.example.chat.model.SaveState;\r\n    import com.firebase.ui.firestore.FirestoreRecyclerAdapter;\r\n    import com.firebase.ui.firestore.FirestoreRecyclerOptions;\r\n    import com.google.android.gms.tasks.OnCompleteListener;\r\n    import com.google.android.gms.tasks.Task;\r\n    import com.google.firebase.auth.FirebaseUser;\r\n    import com.google.firebase.firestore.FieldValue;\r\n    import com.google.firebase.firestore.Query;\r\n    import com.theartofdev.edmodo.cropper.CropImage;\r\n    import com.theartofdev.edmodo.cropper.CropImageView;\r\n    \r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    import java.util.HashMap;\r\n    import java.util.Queue;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n    \r\n        @Override\r\n        public void onStart() {\r\n            super.onStart();\r\n            // Check if user is signed in (non-null) and update UI accordingly.\r\n            FirebaseUser currentUser = mAuth.getCurrentUser();\r\n            if (currentUser == null) {\r\n                startActivity(new Intent(this, LoginActivity.class));\r\n                finish();\r\n            }\r\n            chatAdapter.startListening();\r\n        }\r\n    \r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            getMenuInflater().inflate(R.menu.chat_room, menu);\r\n            return super.onCreateOptionsMenu(menu);\r\n        }\r\n    \r\n        @Override\r\n        public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n            switch (item.getItemId()) {\r\n                case R.id.logout:\r\n                    mAuth.signOut();\r\n                    startActivity((new Intent(this, LoginActivity.class)));\r\n                    break;\r\n            }\r\n            return super.onOptionsItemSelected(item);\r\n        }\r\n    \r\n        EditText chat_box;\r\n        RecyclerView chat_list;\r\n    \r\n        ChatAdapter chatAdapter;\r\n        Uri imageUri;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n    \r\n    \r\n            chat_box = findViewById(R.id.chat_box);\r\n            chat_list = findViewById(R.id.chat_list);\r\n    \r\n            initChatList();\r\n        }\r\n    \r\n        private void initChatList() {\r\n            chat_list.setHasFixedSize(true);\r\n            chat_list.setLayoutManager(new LinearLayoutManager(this, LinearLayoutManager.VERTICAL, true));\r\n    \r\n    \r\n            Query query = MAIN_CHAT_DATABASE.orderBy(&quot;timestamp&quot;, Query.Direction.DESCENDING);\r\n            FirestoreRecyclerOptions&lt;ChatModel&gt; option = new FirestoreRecyclerOptions.Builder&lt;ChatModel&gt;()\r\n                    .setQuery(query, ChatModel.class)\r\n                    .build();\r\n            chatAdapter = new ChatAdapter(option);\r\n            chat_list.setAdapter(chatAdapter);\r\n            chatAdapter.startListening();\r\n        }\r\n    \r\n        public void addMessage(View view) {\r\n            String message = chat_box.getText().toString();\r\n            FirebaseUser user = mAuth.getCurrentUser();\r\n            if (!TextUtils.isEmpty(message)) {\r\n    \r\n                /*Generate messageID using the current date. */\r\n    \r\n                Date today = new Date();\r\n                SimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n                String messageID = format.format(today);\r\n    \r\n                /*Getting user image from Google account*/\r\n    \r\n                String user_image_url = &quot;&quot;;\r\n                Uri photoUrl = user.getPhotoUrl();\r\n                String originalUrl = &quot;s96-c/photo.jpg&quot;;\r\n                String resizeImageUrl = &quot;s400-c/photo.jpg&quot;;\r\n                if (photoUrl!=null) {\r\n                    String photoPath = photoUrl.toString();\r\n                    user_image_url = photoPath.replace(originalUrl,resizeImageUrl);\r\n                }\r\n                HashMap&lt;String, Object&gt; messageObj = new HashMap&lt;&gt;();\r\n                messageObj.put(&quot;message&quot;, message);\r\n                messageObj.put(&quot;user_name&quot;, user.getDisplayName());\r\n                messageObj.put(&quot;timestamp&quot;,FieldValue.serverTimestamp());\r\n                messageObj.put(&quot;messageID&quot;, messageID);\r\n                messageObj.put(&quot;chat_image&quot;,&quot;&quot;);\r\n                messageObj.put(&quot;user_image_url&quot;, user_image_url);\r\n    \r\n                MAIN_CHAT_DATABASE.document(messageID).set(messageObj).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                        if (task.isSuccessful()) {\r\n                            Toast.makeText(MainActivity.this, &quot;Message send&quot;, Toast.LENGTH_SHORT).show();\r\n                            chat_box.setText(&quot;&quot;);\r\n                        } else {\r\n                            Toast.makeText(MainActivity.this, task.getException().getMessage(), Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    \r\n        public void OpenExplorer(View view) {\r\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.READ_EXTERNAL_STORAGE) ==\r\n                    PackageManager.PERMISSION_GRANTED) {\r\n                ChoseImage();\r\n            } else {\r\n                if(ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.READ_EXTERNAL_STORAGE)) {\r\n                    ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, 20);\r\n                } else {\r\n                    Toast.makeText(this, &quot;Storage Permission Needed&quot;, Toast.LENGTH_SHORT).show();\r\n                    ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, 20);\r\n    \r\n                }\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions,@NonNull int[] grantResults) {\r\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n            if (requestCode == 20) {\r\n                if (grantResults.length == 1 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    Toast.makeText(this, &quot;Permission Granted&quot;, Toast.LENGTH_SHORT).show();\r\n                    ChoseImage();\r\n                } else {\r\n                    Toast.makeText(this, &quot;Permission Denied&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        }\r\n        private void ChoseImage(){\r\n            CropImage.activity()\r\n                    .setGuidelines(CropImageView.Guidelines.ON)\r\n                    .start(MainActivity.this);\r\n        }\r\n        @Override\r\n        protected void onActivityResult(int requestCode, int resultCode,@Nullable Intent data) {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n            if (requestCode == CropImage.CROP_IMAGE_ACTIVITY_REQUEST_CODE) {\r\n                CropImage.ActivityResult result = CropImage.getActivityResult(data);\r\n                Log.d(&quot;TAG&quot;, &quot;onActivityResult:&quot;+result);\r\n                if (resultCode == RESULT_OK) {\r\n                    imageUri = result.getUri();\r\n                    Log.d(&quot;TAG&quot;, &quot;onActivityResult:&quot;+imageUri);\r\n                    startActivity(new Intent(MainActivity.this, ImageUploadPreview.class)\r\n                            .putExtra(&quot;image_uri&quot;, imageUri.toString()));\r\n                } else if (requestCode == CropImage.CROP_IMAGE_ACTIVITY_RESULT_ERROR_CODE) {\r\n                    Toast.makeText(this, result.getError().getMessage(),Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        }\r\n    \r\n        public void Finish(View view) {\r\n            long currentTime = new Date().getTime();\r\n            new SaveState(this).setClickTime(currentTime);\r\n            finish();\r\n        }\r\n    }\r\nChatAdapter.java\r\n\r\n        package com.example.chat.adapter;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.ImageView;\r\n    import android.widget.TextView;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    import com.bumptech.glide.Glide;\r\n    import com.example.chat.R;\r\n    import com.firebase.ui.firestore.FirestoreRecyclerAdapter;\r\n    import com.firebase.ui.firestore.FirestoreRecyclerOptions;\r\n    import com.example.chat.model.ChatModel;\r\n    \r\n    import org.w3c.dom.Text;\r\n    \r\n    import de.hdodenhof.circleimageview.CircleImageView;\r\n    \r\n    public class ChatAdapter extends FirestoreRecyclerAdapter&lt;ChatModel, ChatAdapter.ChatViewHolder&gt; {\r\n    \r\n        public ChatAdapter (@NonNull FirestoreRecyclerOptions &lt;ChatModel&gt; options) {\r\n            super(options);\r\n        }\r\n    \r\n        @Override\r\n        protected void onBindViewHolder (@NonNull ChatViewHolder chatViewHolder, int i, @NonNull ChatModel chatModel) {\r\n            chatViewHolder.message.setText(chatModel.getMessage());\r\n            Glide.with(chatViewHolder.user_image.getContext().getApplicationContext())\r\n                    .load(chatModel.getUser_image_url())\r\n                    .into(chatViewHolder.user_image);\r\n    \r\n            if(!chatModel.getChat_image().equals(&quot;&quot;)){\r\n                Glide.with(chatViewHolder.chat_image.getContext().getApplicationContext())\r\n                        .load(chatModel.getChat_image())\r\n                        .into(chatViewHolder.chat_image);\r\n                chatViewHolder.chat_image.setVisibility(View.VISIBLE);\r\n            }else{\r\n                chatViewHolder.chat_image.setVisibility(View.GONE);\r\n            }\r\n        }\r\n        @NonNull\r\n        @Override\r\n        public ChatViewHolder onCreateViewHolder (@NonNull ViewGroup parent, int viewType) {\r\n            View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.chat_item,parent,false);\r\n            return new ChatViewHolder(v);\r\n        }\r\n        class ChatViewHolder extends RecyclerView.ViewHolder {\r\n            TextView message;\r\n            CircleImageView user_image;\r\n            ImageView chat_image;\r\n    \r\n            public ChatViewHolder(@NonNull View itemView) {\r\n                super(itemView);\r\n                message = itemView.findViewById(R.id.message);\r\n                user_image = itemView.findViewById(R.id.user_image);\r\n                chat_image = itemView.findViewById(R.id.chat_image);\r\n    \r\n            }\r\n        }\r\n    }\r\nScreenshoot of thedatabase structure:\r\n[here][1]\r\nI have no idea how to solve that error can someone help me?\r\nIf you need any more information comment i will add it as soon as i see the message thanks in advance.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Rdf7F.png","title":"Failed to convert value of type java.lang.Long to Timestamp(Java,android studio)","body":"<p>Hi I'm following this video tutorial <a href=\"https://www.youtube.com/watch?v=wQN2eCO-M_Q&amp;t=7717s\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=wQN2eCO-M_Q&amp;t=7717s</a> (the part I suppose create this issue can be found at time 2:01:17)and I managed to make this code work without implementing the notifications, but it only works on the simulator.\nWhen I try to debug it with my phone it gives me the following error</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.chat, PID: 7894\njava.lang.RuntimeException: Could not deserialize object. Failed to convert value of type java.lang.Long to Timestamp (found in field 'timestamp')\n</code></pre>\n<p>On others real devices it works properly but on my real me 8 pro it does not\nhere is some code from my android studio:</p>\n<p>ChatModel.java</p>\n<pre><code>    package com.example.chat.model;\nimport com.google.firebase.Timestamp;\n\nimport java.sql.Time;\nimport java.util.Date;\n\npublic class ChatModel {\n    String message;\n    String user_name;\n    String messageID;\n    String user_image_url;\n    String chat_image;\n    Timestamp timestamp;\n\n    public ChatModel() {\n    }\n\n    public ChatModel(String message, String user_name, String messageID, String user_image_url, String chat_image, Timestamp timestamp) {\n        this.message = message;\n        this.user_name = user_name;\n        this.messageID = messageID;\n        this.user_image_url = user_image_url;\n        this.chat_image = chat_image;\n        this.timestamp = timestamp;\n    }\n\n    public String getMessage() {\n        return message;\n    }\n\n    public void setMessage(String message) {\n        this.message = message;\n    }\n\n    public String getUser_name() {\n        return user_name;\n    }\n\n    public void setUser_name(String user_name) {\n        this.user_name = user_name;\n    }\n\n    public String getMessageID() {\n        return messageID;\n    }\n\n    public void setMessageID(String messageID) {\n        this.messageID = messageID;\n    }\n\n    public String getUser_image_url() {\n        return user_image_url;\n    }\n\n    public void setUser_image_url(String user_image_url) {\n        this.user_image_url = user_image_url;\n    }\n\n    public String getChat_image() {\n        return chat_image;\n    }\n\n    public void setChat_image(String chat_image) {\n        this.chat_image = chat_image;\n    }\n\n    public Timestamp getTimestamp() {\n        return timestamp;\n    }\n\n    public void setTimestamp(Timestamp timestamp) {\n        this.timestamp = timestamp;\n    }\n}\n</code></pre>\n<p>i have tried to change Timestamp with: long, Long, Date and Number.\nBut i wouldn't work anyways\nMainActivity.java</p>\n<pre><code>    package com.example.chat;\n\nimport static com.example.chat.cords.FirebaseCords.MAIN_CHAT_DATABASE;\nimport static com.example.chat.cords.FirebaseCords.mAuth;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.Manifest;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.text.TextUtils;\nimport android.util.Log;\nimport android.view.Menu;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\nimport androidx.appcompat.widget.Toolbar;\nimport androidx.core.app.ActivityCompat;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.example.chat.adapter.ChatAdapter;\nimport com.example.chat.cords.FirebaseCords;\nimport com.example.chat.model.ChatModel;\nimport com.example.chat.model.SaveState;\nimport com.firebase.ui.firestore.FirestoreRecyclerAdapter;\nimport com.firebase.ui.firestore.FirestoreRecyclerOptions;\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.auth.FirebaseUser;\nimport com.google.firebase.firestore.FieldValue;\nimport com.google.firebase.firestore.Query;\nimport com.theartofdev.edmodo.cropper.CropImage;\nimport com.theartofdev.edmodo.cropper.CropImageView;\n\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.util.Queue;\n\npublic class MainActivity extends AppCompatActivity {\n\n\n    @Override\n    public void onStart() {\n        super.onStart();\n        // Check if user is signed in (non-null) and update UI accordingly.\n        FirebaseUser currentUser = mAuth.getCurrentUser();\n        if (currentUser == null) {\n            startActivity(new Intent(this, LoginActivity.class));\n            finish();\n        }\n        chatAdapter.startListening();\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.chat_room, menu);\n        return super.onCreateOptionsMenu(menu);\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\n        switch (item.getItemId()) {\n            case R.id.logout:\n                mAuth.signOut();\n                startActivity((new Intent(this, LoginActivity.class)));\n                break;\n        }\n        return super.onOptionsItemSelected(item);\n    }\n\n    EditText chat_box;\n    RecyclerView chat_list;\n\n    ChatAdapter chatAdapter;\n    Uri imageUri;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n\n        chat_box = findViewById(R.id.chat_box);\n        chat_list = findViewById(R.id.chat_list);\n\n        initChatList();\n    }\n\n    private void initChatList() {\n        chat_list.setHasFixedSize(true);\n        chat_list.setLayoutManager(new LinearLayoutManager(this, LinearLayoutManager.VERTICAL, true));\n\n\n        Query query = MAIN_CHAT_DATABASE.orderBy(&quot;timestamp&quot;, Query.Direction.DESCENDING);\n        FirestoreRecyclerOptions&lt;ChatModel&gt; option = new FirestoreRecyclerOptions.Builder&lt;ChatModel&gt;()\n                .setQuery(query, ChatModel.class)\n                .build();\n        chatAdapter = new ChatAdapter(option);\n        chat_list.setAdapter(chatAdapter);\n        chatAdapter.startListening();\n    }\n\n    public void addMessage(View view) {\n        String message = chat_box.getText().toString();\n        FirebaseUser user = mAuth.getCurrentUser();\n        if (!TextUtils.isEmpty(message)) {\n\n            /*Generate messageID using the current date. */\n\n            Date today = new Date();\n            SimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n            String messageID = format.format(today);\n\n            /*Getting user image from Google account*/\n\n            String user_image_url = &quot;&quot;;\n            Uri photoUrl = user.getPhotoUrl();\n            String originalUrl = &quot;s96-c/photo.jpg&quot;;\n            String resizeImageUrl = &quot;s400-c/photo.jpg&quot;;\n            if (photoUrl!=null) {\n                String photoPath = photoUrl.toString();\n                user_image_url = photoPath.replace(originalUrl,resizeImageUrl);\n            }\n            HashMap&lt;String, Object&gt; messageObj = new HashMap&lt;&gt;();\n            messageObj.put(&quot;message&quot;, message);\n            messageObj.put(&quot;user_name&quot;, user.getDisplayName());\n            messageObj.put(&quot;timestamp&quot;,FieldValue.serverTimestamp());\n            messageObj.put(&quot;messageID&quot;, messageID);\n            messageObj.put(&quot;chat_image&quot;,&quot;&quot;);\n            messageObj.put(&quot;user_image_url&quot;, user_image_url);\n\n            MAIN_CHAT_DATABASE.document(messageID).set(messageObj).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                    if (task.isSuccessful()) {\n                        Toast.makeText(MainActivity.this, &quot;Message send&quot;, Toast.LENGTH_SHORT).show();\n                        chat_box.setText(&quot;&quot;);\n                    } else {\n                        Toast.makeText(MainActivity.this, task.getException().getMessage(), Toast.LENGTH_SHORT).show();\n                    }\n                }\n            });\n        }\n    }\n\n    public void OpenExplorer(View view) {\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.READ_EXTERNAL_STORAGE) ==\n                PackageManager.PERMISSION_GRANTED) {\n            ChoseImage();\n        } else {\n            if(ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.READ_EXTERNAL_STORAGE)) {\n                ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, 20);\n            } else {\n                Toast.makeText(this, &quot;Storage Permission Needed&quot;, Toast.LENGTH_SHORT).show();\n                ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, 20);\n\n            }\n        }\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions,@NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if (requestCode == 20) {\n            if (grantResults.length == 1 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                Toast.makeText(this, &quot;Permission Granted&quot;, Toast.LENGTH_SHORT).show();\n                ChoseImage();\n            } else {\n                Toast.makeText(this, &quot;Permission Denied&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n    private void ChoseImage(){\n        CropImage.activity()\n                .setGuidelines(CropImageView.Guidelines.ON)\n                .start(MainActivity.this);\n    }\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode,@Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (requestCode == CropImage.CROP_IMAGE_ACTIVITY_REQUEST_CODE) {\n            CropImage.ActivityResult result = CropImage.getActivityResult(data);\n            Log.d(&quot;TAG&quot;, &quot;onActivityResult:&quot;+result);\n            if (resultCode == RESULT_OK) {\n                imageUri = result.getUri();\n                Log.d(&quot;TAG&quot;, &quot;onActivityResult:&quot;+imageUri);\n                startActivity(new Intent(MainActivity.this, ImageUploadPreview.class)\n                        .putExtra(&quot;image_uri&quot;, imageUri.toString()));\n            } else if (requestCode == CropImage.CROP_IMAGE_ACTIVITY_RESULT_ERROR_CODE) {\n                Toast.makeText(this, result.getError().getMessage(),Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n\n    public void Finish(View view) {\n        long currentTime = new Date().getTime();\n        new SaveState(this).setClickTime(currentTime);\n        finish();\n    }\n}\n</code></pre>\n<p>ChatAdapter.java</p>\n<pre><code>    package com.example.chat.adapter;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.bumptech.glide.Glide;\nimport com.example.chat.R;\nimport com.firebase.ui.firestore.FirestoreRecyclerAdapter;\nimport com.firebase.ui.firestore.FirestoreRecyclerOptions;\nimport com.example.chat.model.ChatModel;\n\nimport org.w3c.dom.Text;\n\nimport de.hdodenhof.circleimageview.CircleImageView;\n\npublic class ChatAdapter extends FirestoreRecyclerAdapter&lt;ChatModel, ChatAdapter.ChatViewHolder&gt; {\n\n    public ChatAdapter (@NonNull FirestoreRecyclerOptions &lt;ChatModel&gt; options) {\n        super(options);\n    }\n\n    @Override\n    protected void onBindViewHolder (@NonNull ChatViewHolder chatViewHolder, int i, @NonNull ChatModel chatModel) {\n        chatViewHolder.message.setText(chatModel.getMessage());\n        Glide.with(chatViewHolder.user_image.getContext().getApplicationContext())\n                .load(chatModel.getUser_image_url())\n                .into(chatViewHolder.user_image);\n\n        if(!chatModel.getChat_image().equals(&quot;&quot;)){\n            Glide.with(chatViewHolder.chat_image.getContext().getApplicationContext())\n                    .load(chatModel.getChat_image())\n                    .into(chatViewHolder.chat_image);\n            chatViewHolder.chat_image.setVisibility(View.VISIBLE);\n        }else{\n            chatViewHolder.chat_image.setVisibility(View.GONE);\n        }\n    }\n    @NonNull\n    @Override\n    public ChatViewHolder onCreateViewHolder (@NonNull ViewGroup parent, int viewType) {\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.chat_item,parent,false);\n        return new ChatViewHolder(v);\n    }\n    class ChatViewHolder extends RecyclerView.ViewHolder {\n        TextView message;\n        CircleImageView user_image;\n        ImageView chat_image;\n\n        public ChatViewHolder(@NonNull View itemView) {\n            super(itemView);\n            message = itemView.findViewById(R.id.message);\n            user_image = itemView.findViewById(R.id.user_image);\n            chat_image = itemView.findViewById(R.id.chat_image);\n\n        }\n    }\n}\n</code></pre>\n<p>Screenshoot of thedatabase structure:\n<a href=\"https://i.stack.imgur.com/Rdf7F.png\" rel=\"nofollow noreferrer\">here</a>\nI have no idea how to solve that error can someone help me?\nIf you need any more information comment i will add it as soon as i see the message thanks in advance.</p>\n"},{"tags":["java","spring-boot","prometheus","spring-actuator"],"answers":[{"tags":[],"owner":{"account_id":18178896,"reputation":101,"user_id":13227074,"display_name":"BT_Code"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663927470,"creation_date":1663927470,"answer_id":73826090,"question_id":73728526,"body_markdown":"After searching, I decided to do it another way. As you can&#39;t easily modify the `prometheus` endpoint itself to include other paths *(Tried with `WebEndpointExtension`, but didn&#39;t have any success)*, I created my own custom endpoint that fetches data from a service that contains the main registry that is autowired by Spring Boot and another service that contains a custom registry that is updated in intervals.\r\n\r\n```java\r\n@RestController\r\n@RestControllerEndpoint(id = &quot;multiPrometheus&quot;)\r\npublic class PrometheusController {\r\n\r\n    private final APIPrometheusService apiService;\r\n\r\n    private final ThingworxPrometheusService thingworxService;\r\n\r\n    public PrometheusController( APIPrometheusService apiService, ThingworxPrometheusService thingworxService) {\r\n        this.apiService = apiService;\r\n        this.thingworxService = thingworxService;\r\n    }\r\n\r\n    @GetMapping( value = &quot;/api&quot;, produces = TEXT_PLAIN_VALUE)\r\n    public String getPrometheusApiStream(){\r\n        return apiService.scrape();\r\n    }\r\n\r\n    @GetMapping(value = &quot;/thingworx&quot;, produces = TEXT_PLAIN_VALUE)\r\n    public String getPrometheusThingworxStream(){\r\n        if(thingworxService.isConnected()){\r\n            return thingworxService.scrape();\r\n        }\r\n        throw new ResponseStatusException(SERVICE_UNAVAILABLE);\r\n    }\r\n}\r\n\r\n```\r\n\r\nThis way I have full control over the path mapping of my endpoints that live under `/actuator`","title":"Spring Actuator: Configure multiple Prometheus endpoint with different data","body":"<p>After searching, I decided to do it another way. As you can't easily modify the <code>prometheus</code> endpoint itself to include other paths <em>(Tried with <code>WebEndpointExtension</code>, but didn't have any success)</em>, I created my own custom endpoint that fetches data from a service that contains the main registry that is autowired by Spring Boot and another service that contains a custom registry that is updated in intervals.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RestControllerEndpoint(id = &quot;multiPrometheus&quot;)\npublic class PrometheusController {\n\n    private final APIPrometheusService apiService;\n\n    private final ThingworxPrometheusService thingworxService;\n\n    public PrometheusController( APIPrometheusService apiService, ThingworxPrometheusService thingworxService) {\n        this.apiService = apiService;\n        this.thingworxService = thingworxService;\n    }\n\n    @GetMapping( value = &quot;/api&quot;, produces = TEXT_PLAIN_VALUE)\n    public String getPrometheusApiStream(){\n        return apiService.scrape();\n    }\n\n    @GetMapping(value = &quot;/thingworx&quot;, produces = TEXT_PLAIN_VALUE)\n    public String getPrometheusThingworxStream(){\n        if(thingworxService.isConnected()){\n            return thingworxService.scrape();\n        }\n        throw new ResponseStatusException(SERVICE_UNAVAILABLE);\n    }\n}\n\n</code></pre>\n<p>This way I have full control over the path mapping of my endpoints that live under <code>/actuator</code></p>\n"}],"owner":{"account_id":18178896,"reputation":101,"user_id":13227074,"display_name":"BT_Code"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":676,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73826090,"answer_count":1,"score":1,"last_activity_date":1663927470,"creation_date":1663233373,"question_id":73728526,"body_markdown":"Currently, we are experimenting with setting Prometheus up for monitoring for our services, internal as external. The problem is that we cannot configure Prometheus for some of our external services, but we would like these to be still included as a separate job in Prometheus.\r\n\r\nI want to have 2 different Prometheus endpoints (e.g. `/actuator/prometheus/api` and `/actuator/prometheus/thingworx`) that have return different data. \r\n- `/actuator/prometheus/api` would have the actual data of the API (similar like if you just install the package).\r\n- `/actuator/prometheus/thingworx` would only return some custom metrics that we get at certain intervals from our external service.\r\n\r\nThis should, ideally, be done on a single Spring server. Can this be done with Spring Actuator and Micrometer or is this impossible?","title":"Spring Actuator: Configure multiple Prometheus endpoint with different data","body":"<p>Currently, we are experimenting with setting Prometheus up for monitoring for our services, internal as external. The problem is that we cannot configure Prometheus for some of our external services, but we would like these to be still included as a separate job in Prometheus.</p>\n<p>I want to have 2 different Prometheus endpoints (e.g. <code>/actuator/prometheus/api</code> and <code>/actuator/prometheus/thingworx</code>) that have return different data.</p>\n<ul>\n<li><code>/actuator/prometheus/api</code> would have the actual data of the API (similar like if you just install the package).</li>\n<li><code>/actuator/prometheus/thingworx</code> would only return some custom metrics that we get at certain intervals from our external service.</li>\n</ul>\n<p>This should, ideally, be done on a single Spring server. Can this be done with Spring Actuator and Micrometer or is this impossible?</p>\n"},{"tags":["java","android","manifest","mime-types","intentfilter"],"comments":[{"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"score":0,"creation_date":1663771206,"post_id":73801220,"comment_id":130318397,"body_markdown":"`.so`? Is it an elf binary?","body":"<code>.so</code>? Is it an elf binary?"},{"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"score":0,"creation_date":1663778053,"post_id":73801220,"comment_id":130321095,"body_markdown":"You can&#39;t make custom extensions and expect Android  or any other apps to support them. These mimes are hard-coded in the system/app. Other apps might support custom mimes like `x-javascript` or `x-jsonld`. So it is up to the other apps to support them or not. You cannot expect other apps to know how to read/parse/todo with that file.","body":"You can&#39;t make custom extensions and expect Android  or any other apps to support them. These mimes are hard-coded in the system/app. Other apps might support custom mimes like <code>x-javascript</code> or <code>x-jsonld</code>. So it is up to the other apps to support them or not. You cannot expect other apps to know how to read/parse/todo with that file."},{"owner":{"account_id":19757645,"reputation":457,"user_id":14467573,"display_name":"Rohan Pande"},"score":0,"creation_date":1663807834,"post_id":73801220,"comment_id":130328373,"body_markdown":"I am having my own file with this extension  and I have my own application I just want that I click on my file my own application should open.                                                Then what is the use of vendor mime types? Can you correct me? @Darkman","body":"I am having my own file with this extension  and I have my own application I just want that I click on my file my own application should open.                                                Then what is the use of vendor mime types? Can you correct me? @Darkman"},{"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"score":0,"creation_date":1663829916,"post_id":73801220,"comment_id":130332127,"body_markdown":"The problem is how do you want to click that file? Using a file manager? It will look upon supported apps (apps that know what to do with that file). Unless you don&#39;t have to click it, it basically mean you can just call your activity to open it. No need mimes whatsoever.","body":"The problem is how do you want to click that file? Using a file manager? It will look upon supported apps (apps that know what to do with that file). Unless you don&#39;t have to click it, it basically mean you can just call your activity to open it. No need mimes whatsoever."},{"owner":{"account_id":19757645,"reputation":457,"user_id":14467573,"display_name":"Rohan Pande"},"score":0,"creation_date":1663895503,"post_id":73801220,"comment_id":130352527,"body_markdown":"But suppose I have a pdf document and if I want to open that document then it shows a list of apps through which I can open. In the similar way how to have my app appear in that list for my custom file?@Darkman","body":"But suppose I have a pdf document and if I want to open that document then it shows a list of apps through which I can open. In the similar way how to have my app appear in that list for my custom file?@Darkman"},{"owner":{"account_id":17626318,"reputation":1095,"user_id":12791298,"display_name":"NightFuryLxD"},"score":1,"creation_date":1663910444,"post_id":73801220,"comment_id":130354603,"body_markdown":"I have the same problem too. Have posted [this](https://stackoverflow.com/questions/71121617/associating-a-custom-file-with-my-android-app) question several months ago, but no response yet. :(","body":"I have the same problem too. Have posted <a href=\"https://stackoverflow.com/questions/71121617/associating-a-custom-file-with-my-android-app\">this</a> question several months ago, but no response yet. :("}],"answers":[{"tags":[],"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663927198,"creation_date":1663927198,"answer_id":73826039,"question_id":73801220,"body_markdown":"If you want a file manager to ***include*** your app when you&#39;re clicking a file with a custom extension, adding this in the `Manifest.xml` file might work:\r\n```xml\r\n&lt;intent-filter&gt;\r\n    &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n\t&lt;action android:name=&quot;android.intent.action.EDIT&quot; /&gt;\r\n\t&lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n\t&lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n    &lt;data android:host=&quot;*&quot; /&gt;\r\n    &lt;data android:scheme=&quot;content&quot; /&gt;\r\n\t&lt;data android:scheme=&quot;file&quot; /&gt;\r\n\t&lt;data android:mimeType=&quot;text/*&quot; /&gt;\r\n\t&lt;data android:mimeType=&quot;application/octet-stream&quot; /&gt;\r\n\t&lt;data android:pathPattern=&quot;.*\\\\.customextension&quot; /&gt;\r\n\t&lt;data android:pathPattern=&quot;.*\\\\.pdf&quot; /&gt;\r\n&lt;/intent-filter&gt;\r\n```\r\n\r\nTo get the extension, you can just sanitise the string like so:\r\n```java\r\nprivate final String getFileExtension(final String dataString)\r\n{\r\n\t//content://com.myapp.files/data/data/com.myapp/files/home/bsdiff/trunk/README.md (NO-NO)\r\n\t//content://com.myapp.files/storage/emulated/0/README.md (NO-NO)\r\n\t//file:///storage/emulated/0/README.md (YES)\r\n\r\n\tfinal String ext = dataString.replaceFirst(&quot;^.*\\\\/&quot;, &quot;&quot;).replaceFirst(&quot;^.+\\\\.&quot;, &quot;&quot;);\r\n\r\n\tif(ext.isEmpty() /*file.*/ || ext.charAt(0) == &#39;.&#39;) {\r\n\t\treturn null; //No extension.\r\n\t} else {\r\n\t\treturn ext.toLowerCase();\r\n\t}\r\n}\r\n```","title":"In Android, for a custom file extension (for ex: file1.extension) what should be the Mime Type for it?","body":"<p>If you want a file manager to <em><strong>include</strong></em> your app when you're clicking a file with a custom extension, adding this in the <code>Manifest.xml</code> file might work:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;intent-filter&gt;\n    &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n    &lt;action android:name=&quot;android.intent.action.EDIT&quot; /&gt;\n    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n    &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n    &lt;data android:host=&quot;*&quot; /&gt;\n    &lt;data android:scheme=&quot;content&quot; /&gt;\n    &lt;data android:scheme=&quot;file&quot; /&gt;\n    &lt;data android:mimeType=&quot;text/*&quot; /&gt;\n    &lt;data android:mimeType=&quot;application/octet-stream&quot; /&gt;\n    &lt;data android:pathPattern=&quot;.*\\\\.customextension&quot; /&gt;\n    &lt;data android:pathPattern=&quot;.*\\\\.pdf&quot; /&gt;\n&lt;/intent-filter&gt;\n</code></pre>\n<p>To get the extension, you can just sanitise the string like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private final String getFileExtension(final String dataString)\n{\n    //content://com.myapp.files/data/data/com.myapp/files/home/bsdiff/trunk/README.md (NO-NO)\n    //content://com.myapp.files/storage/emulated/0/README.md (NO-NO)\n    //file:///storage/emulated/0/README.md (YES)\n\n    final String ext = dataString.replaceFirst(&quot;^.*\\\\/&quot;, &quot;&quot;).replaceFirst(&quot;^.+\\\\.&quot;, &quot;&quot;);\n\n    if(ext.isEmpty() /*file.*/ || ext.charAt(0) == '.') {\n        return null; //No extension.\n    } else {\n        return ext.toLowerCase();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19757645,"reputation":457,"user_id":14467573,"display_name":"Rohan Pande"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1663927198,"creation_date":1663765390,"question_id":73801220,"body_markdown":"For an **Android Application**, I am having a custom file with (.xyz)  extension but in the AndroidManifest.xml what should be the value for the below code in the intent filter?\r\n\r\n\r\n```\r\n&lt;data android:mimeType= &quot;___________&quot;/&gt;\r\n```\r\n\r\nThe thing which I want is that I have a file with that extension in the phone so when I click on that file my application should open or my application should show in the OpenWith Dialog box. \r\n```\r\n&quot;*/*&quot;\r\n``` \r\nIf I put the above value in the code then it prompts for every file type.\r\n\r\n\r\nI have tried this vendor mime types by creating a public final class and declared all the values below it but that doesn&#39;t seem to be working for me.\r\n\r\nReference link for vendor mime types which I looked for: https://android.googlesource.com/platform/development/+/05523fb0b48280a5364908b00768ec71edb847a2/samples/NotePad?autodive=0\r\n\r\nCan anyone help me in this? Or any sources so that I can achieve this?\r\n\r\nThanks in advance","title":"In Android, for a custom file extension (for ex: file1.extension) what should be the Mime Type for it?","body":"<p>For an <strong>Android Application</strong>, I am having a custom file with (.xyz)  extension but in the AndroidManifest.xml what should be the value for the below code in the intent filter?</p>\n<pre><code>&lt;data android:mimeType= &quot;___________&quot;/&gt;\n</code></pre>\n<p>The thing which I want is that I have a file with that extension in the phone so when I click on that file my application should open or my application should show in the OpenWith Dialog box.</p>\n<pre><code>&quot;*/*&quot;\n</code></pre>\n<p>If I put the above value in the code then it prompts for every file type.</p>\n<p>I have tried this vendor mime types by creating a public final class and declared all the values below it but that doesn't seem to be working for me.</p>\n<p>Reference link for vendor mime types which I looked for: <a href=\"https://android.googlesource.com/platform/development/+/05523fb0b48280a5364908b00768ec71edb847a2/samples/NotePad?autodive=0\" rel=\"nofollow noreferrer\">https://android.googlesource.com/platform/development/+/05523fb0b48280a5364908b00768ec71edb847a2/samples/NotePad?autodive=0</a></p>\n<p>Can anyone help me in this? Or any sources so that I can achieve this?</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","spring-boot","deployment","weblogic","weblogic12c"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1663765323,"post_id":73801046,"comment_id":130315974,"body_markdown":"There is far too little information. Basically you dump a stacktrace on us and tell us it doesn&#39;t work. Please provide additional infromation (I expect there to be more information in the full stacktrace, show your config etc. ).","body":"There is far too little information. Basically you dump a stacktrace on us and tell us it doesn&#39;t work. Please provide additional infromation (I expect there to be more information in the full stacktrace, show your config etc. )."},{"owner":{"account_id":1489217,"reputation":13,"user_id":1396750,"display_name":"GITOS"},"score":0,"creation_date":1663771417,"post_id":73801046,"comment_id":130318493,"body_markdown":"I followed this tutorial step by step: https://o7planning.org/11901/deploy-spring-boot-application-on-oracle-weblogic-server","body":"I followed this tutorial step by step: <a href=\"https://o7planning.org/11901/deploy-spring-boot-application-on-oracle-weblogic-server\" rel=\"nofollow noreferrer\">o7planning.org/11901/&hellip;</a>"},{"owner":{"account_id":1489217,"reputation":13,"user_id":1396750,"display_name":"GITOS"},"score":0,"creation_date":1663775601,"post_id":73801046,"comment_id":130320212,"body_markdown":"I tried to deploy a spring mvc application following this tutorial: https://o7planning.org/11901/deploy-spring-boot-application-on-oracle-weblogic-server\nBut the same error was shown. Is there something wrong with my weblogic server ?","body":"I tried to deploy a spring mvc application following this tutorial: <a href=\"https://o7planning.org/11901/deploy-spring-boot-application-on-oracle-weblogic-server\" rel=\"nofollow noreferrer\">o7planning.org/11901/&hellip;</a> But the same error was shown. Is there something wrong with my weblogic server ?"}],"answers":[{"tags":[],"owner":{"account_id":1489217,"reputation":13,"user_id":1396750,"display_name":"GITOS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663927082,"creation_date":1663927082,"answer_id":73826009,"question_id":73801046,"body_markdown":"I solved this error by adding a web.xml file to the project.","title":"Deploy spring boot war into weblogic 12.2","body":"<p>I solved this error by adding a web.xml file to the project.</p>\n"}],"owner":{"account_id":1489217,"reputation":13,"user_id":1396750,"display_name":"GITOS"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663927082,"creation_date":1663764645,"question_id":73801046,"body_markdown":"I have created a simple spring boot application (v 2.7.3) with JDK 8 and I want to deploy the war to Weblogic 12.2 but an error is showen:\r\n\r\n    \r\n```\r\nStack trace for message 149004 weblogic.application.ModuleException: java.lang.ArrayStoreException\r\nat weblogic.application.internal.ExtensibleModuleWrapper.start(ExtensibleModuleWrapper.java:140)\r\nat weblogic.application.internal.flow.ModuleListenerInvoker.start(ModuleListenerInvoker.java:124)\r\nat weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:233)\r\nat weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:228)\r\nat weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:45)\r\nat weblogic.application.internal.flow.ModuleStateDriver.start(ModuleStateDriver.java:78)\r\nat weblogic.application.internal.flow.StartModulesFlow.activate(StartModulesFlow.java:52)\r\nat weblogic.application.internal.BaseDeployment$2.next(BaseDeployment.java:752)\r\nat weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:45)\r\nat weblogic.application.internal.BaseDeployment.activate(BaseDeployment.java:262)\r\nat weblogic.application.internal.SingleModuleDeployment.activate(SingleModuleDeployment.java:52)\r\nat weblogic.application.internal.DeploymentStateChecker.activate(DeploymentStateChecker.java:165)\r\nat weblogic.deploy.internal.targetserver.AppContainerInvoker.activate(AppContainerInvoker.java:90)\r\nat weblogic.deploy.internal.targetserver.operations.AbstractOperation.activate(AbstractOperation.java:631)\r\nat weblogic.deploy.internal.targetserver.operations.ActivateOperation.activateDeployment(ActivateOperation.java:171)\r\nat weblogic.deploy.internal.targetserver.operations.ActivateOperation.doCommit(ActivateOperation.java:121)\r\nat weblogic.deploy.internal.targetserver.operations.StartOperation.doCommit(StartOperation.java:151)\r\nat weblogic.deploy.internal.targetserver.operations.AbstractOperation.commit(AbstractOperation.java:348)\r\nat weblogic.deploy.internal.targetserver.DeploymentManager.handleDeploymentCommit(DeploymentManager.java:907)\r\nat weblogic.deploy.internal.targetserver.DeploymentManager.activateDeploymentList(DeploymentManager.java:1468)\r\nat weblogic.deploy.internal.targetserver.DeploymentManager.handleCommit(DeploymentManager.java:459)\r\nat weblogic.deploy.internal.targetserver.DeploymentServiceDispatcher.commit(DeploymentServiceDispatcher.java:181)\r\nat weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.doCommitCallback(DeploymentReceiverCallbackDeliverer.java:217)\r\nat weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.access$100(DeploymentReceiverCallbackDeliverer.java:14)\r\nat weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer$2.run(DeploymentReceiverCallbackDeliverer.java:69)\r\nat weblogic.work.SelfTuningWorkManagerImpl$WorkAdapterImpl.run(SelfTuningWorkManagerImpl.java:681)\r\nat weblogic.invocation.ComponentInvocationContextManager._runAs(ComponentInvocationContextManager.java:352)\r\nat weblogic.invocation.ComponentInvocationContextManager.runAs(ComponentInvocationContextManager.java:337)\r\nat weblogic.work.LivePartitionUtility.doRunWorkUnderContext(LivePartitionUtility.java:57)\r\nat weblogic.work.PartitionUtility.runWorkUnderContext(PartitionUtility.java:41)\r\nat weblogic.work.SelfTuningWorkManagerImpl.runWorkUnderContext(SelfTuningWorkManagerImpl.java:655)\r\nat weblogic.work.ExecuteThread.execute(ExecuteThread.java:420)\r\nat weblogic.work.ExecuteThread.run(ExecuteThread.java:360) \r\n\r\nCaused By: java.lang.ArrayStoreException\r\n```","title":"Deploy spring boot war into weblogic 12.2","body":"<p>I have created a simple spring boot application (v 2.7.3) with JDK 8 and I want to deploy the war to Weblogic 12.2 but an error is showen:</p>\n<pre><code>Stack trace for message 149004 weblogic.application.ModuleException: java.lang.ArrayStoreException\nat weblogic.application.internal.ExtensibleModuleWrapper.start(ExtensibleModuleWrapper.java:140)\nat weblogic.application.internal.flow.ModuleListenerInvoker.start(ModuleListenerInvoker.java:124)\nat weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:233)\nat weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:228)\nat weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:45)\nat weblogic.application.internal.flow.ModuleStateDriver.start(ModuleStateDriver.java:78)\nat weblogic.application.internal.flow.StartModulesFlow.activate(StartModulesFlow.java:52)\nat weblogic.application.internal.BaseDeployment$2.next(BaseDeployment.java:752)\nat weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:45)\nat weblogic.application.internal.BaseDeployment.activate(BaseDeployment.java:262)\nat weblogic.application.internal.SingleModuleDeployment.activate(SingleModuleDeployment.java:52)\nat weblogic.application.internal.DeploymentStateChecker.activate(DeploymentStateChecker.java:165)\nat weblogic.deploy.internal.targetserver.AppContainerInvoker.activate(AppContainerInvoker.java:90)\nat weblogic.deploy.internal.targetserver.operations.AbstractOperation.activate(AbstractOperation.java:631)\nat weblogic.deploy.internal.targetserver.operations.ActivateOperation.activateDeployment(ActivateOperation.java:171)\nat weblogic.deploy.internal.targetserver.operations.ActivateOperation.doCommit(ActivateOperation.java:121)\nat weblogic.deploy.internal.targetserver.operations.StartOperation.doCommit(StartOperation.java:151)\nat weblogic.deploy.internal.targetserver.operations.AbstractOperation.commit(AbstractOperation.java:348)\nat weblogic.deploy.internal.targetserver.DeploymentManager.handleDeploymentCommit(DeploymentManager.java:907)\nat weblogic.deploy.internal.targetserver.DeploymentManager.activateDeploymentList(DeploymentManager.java:1468)\nat weblogic.deploy.internal.targetserver.DeploymentManager.handleCommit(DeploymentManager.java:459)\nat weblogic.deploy.internal.targetserver.DeploymentServiceDispatcher.commit(DeploymentServiceDispatcher.java:181)\nat weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.doCommitCallback(DeploymentReceiverCallbackDeliverer.java:217)\nat weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.access$100(DeploymentReceiverCallbackDeliverer.java:14)\nat weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer$2.run(DeploymentReceiverCallbackDeliverer.java:69)\nat weblogic.work.SelfTuningWorkManagerImpl$WorkAdapterImpl.run(SelfTuningWorkManagerImpl.java:681)\nat weblogic.invocation.ComponentInvocationContextManager._runAs(ComponentInvocationContextManager.java:352)\nat weblogic.invocation.ComponentInvocationContextManager.runAs(ComponentInvocationContextManager.java:337)\nat weblogic.work.LivePartitionUtility.doRunWorkUnderContext(LivePartitionUtility.java:57)\nat weblogic.work.PartitionUtility.runWorkUnderContext(PartitionUtility.java:41)\nat weblogic.work.SelfTuningWorkManagerImpl.runWorkUnderContext(SelfTuningWorkManagerImpl.java:655)\nat weblogic.work.ExecuteThread.execute(ExecuteThread.java:420)\nat weblogic.work.ExecuteThread.run(ExecuteThread.java:360) \n\nCaused By: java.lang.ArrayStoreException\n</code></pre>\n"},{"tags":["java","class","oop"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1663920188,"post_id":73823851,"comment_id":130357062,"body_markdown":"Why do you want to call an instance method from a static method in the first place? It&#39;s usually the other way around, i.e. you usually call a static method from an instance method. Also note that there are other parts of your code that do not compile. Java is case sensitive. You named the class [uppercase] `V` but you call the constructor using [lowercase] `v`. I recommend you read [Oracle&#39;s Java tutorials](https://docs.oracle.com/javase/tutorial/).","body":"Why do you want to call an instance method from a static method in the first place? It&#39;s usually the other way around, i.e. you usually call a static method from an instance method. Also note that there are other parts of your code that do not compile. Java is case sensitive. You named the class [uppercase] <code>V</code> but you call the constructor using [lowercase] <code>v</code>. I recommend you read <a href=\"https://docs.oracle.com/javase/tutorial/\" rel=\"nofollow noreferrer\">Oracle&#39;s Java tutorials</a>."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1663921396,"post_id":73823851,"comment_id":130357444,"body_markdown":"Possibly [re-posted here](https://stackoverflow.com/questions/73824410/the-method-printvint-is-undefined-for-the-type-main-error).","body":"Possibly <a href=\"https://stackoverflow.com/questions/73824410/the-method-printvint-is-undefined-for-the-type-main-error\">re-posted here</a>."}],"answers":[{"tags":[],"owner":{"account_id":20689035,"reputation":13,"user_id":15190826,"display_name":"Davy Vos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663916888,"creation_date":1663916888,"answer_id":73824125,"question_id":73823851,"body_markdown":"Try to make the method you want to call public. I assume this is Java.\r\nSo instead of:\r\n```\r\nvoid print_V()\r\n``` \r\ndo:\r\n```\r\npublic void print_V()\r\n```\r\nMethods of classes are private by default. Private methods can not be called outside of their class scope. \r\nAlso, I would consider not declaring public or private bad practise. Same goes for snake case, so please read the following article about code conventions. It makes live for other programmers a lot easier.\r\nhttps://www.geeksforgeeks.org/java-naming-conventions/","title":"How do you create an instance variable to call a non-static method from another class?","body":"<p>Try to make the method you want to call public. I assume this is Java.\nSo instead of:</p>\n<pre><code>void print_V()\n</code></pre>\n<p>do:</p>\n<pre><code>public void print_V()\n</code></pre>\n<p>Methods of classes are private by default. Private methods can not be called outside of their class scope.\nAlso, I would consider not declaring public or private bad practise. Same goes for snake case, so please read the following article about code conventions. It makes live for other programmers a lot easier.\n<a href=\"https://www.geeksforgeeks.org/java-naming-conventions/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/java-naming-conventions/</a></p>\n"},{"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1663926709,"creation_date":1663918929,"answer_id":73824470,"question_id":73823851,"body_markdown":"You are trying to call print_V in a non static context.\r\nGive your class a constructor and call the method from the constructor.\r\nAlso, the recursive class initialzer call in main only needs to be\r\n\r\n\r\n    new V();\r\n\r\nYou can refer to your class in there as &quot;this&quot; (keyword) so no reference required if you make an ondestroy listener method for System.exit()\r\n\r\nAlso, input variable looks like it should be args[1] from main array argument to feed into constructor as argument \r\n\r\n\r\n    new V(new Integer(args[1]).intValue());\r\n\r\nAn instance variable is any non-static variable &quot;created as a global at construction time&quot;.\r\nIt usually is initialised in a constructor, or remains null until something wants to use it. Only globals, instance variables in the class, can remain null until they are required for use.\r\n\r\n\r\n                import W;\r\n                \r\n                class V{\r\n                W otherclass; // non static instance variable a global\r\n                boolean startedW = false; // non static instance variable a global\r\n            int arg1; // this classes non static  instance variable a global\r\n                \r\n                // a constructor is for when a class starts\r\n                // constructor a constructor is NOT a method only a class initializer\r\n                V(int arg1){ // any arguments fed to the class go in the ellipses curved brackets\r\n            this.arg1 = arg1;\r\n                otherclass = new W();\r\n                startedW = true;\r\n        // next line calls a method from class W\r\n            T typo = otherclass.someMethodToCall();\r\n        // would probably follow is more work here but...whatever\r\n                }// end of constructor 1\r\n    \r\n    // constructor overloading , a second constructor\r\n    V(String args1){\r\n    arg1 = new Integer(args1).intValue();\r\n    } // end constructor 2\r\n      \r\n    \r\n    public static void main(String args[]){\r\n    // doing anything much in main is difficult\r\n    // because of non static context errors for variables and methods\r\n    new V(args[1]);\r\n    }\r\n      \r\n      }// end class\r\n\r\n","title":"How do you create an instance variable to call a non-static method from another class?","body":"<p>You are trying to call print_V in a non static context.\nGive your class a constructor and call the method from the constructor.\nAlso, the recursive class initialzer call in main only needs to be</p>\n<pre><code>new V();\n</code></pre>\n<p>You can refer to your class in there as &quot;this&quot; (keyword) so no reference required if you make an ondestroy listener method for System.exit()</p>\n<p>Also, input variable looks like it should be args[1] from main array argument to feed into constructor as argument</p>\n<pre><code>new V(new Integer(args[1]).intValue());\n</code></pre>\n<p>An instance variable is any non-static variable &quot;created as a global at construction time&quot;.\nIt usually is initialised in a constructor, or remains null until something wants to use it. Only globals, instance variables in the class, can remain null until they are required for use.</p>\n<pre><code>            import W;\n            \n            class V{\n            W otherclass; // non static instance variable a global\n            boolean startedW = false; // non static instance variable a global\n        int arg1; // this classes non static  instance variable a global\n            \n            // a constructor is for when a class starts\n            // constructor a constructor is NOT a method only a class initializer\n            V(int arg1){ // any arguments fed to the class go in the ellipses curved brackets\n        this.arg1 = arg1;\n            otherclass = new W();\n            startedW = true;\n    // next line calls a method from class W\n        T typo = otherclass.someMethodToCall();\n    // would probably follow is more work here but...whatever\n            }// end of constructor 1\n\n// constructor overloading , a second constructor\nV(String args1){\narg1 = new Integer(args1).intValue();\n} // end constructor 2\n  \n\npublic static void main(String args[]){\n// doing anything much in main is difficult\n// because of non static context errors for variables and methods\nnew V(args[1]);\n}\n  \n  }// end class\n</code></pre>\n"}],"owner":{"account_id":26399071,"reputation":1,"user_id":20049785,"display_name":"Jen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1663926709,"creation_date":1663915231,"question_id":73823851,"body_markdown":"```java\r\nclass V\r\n{\r\n    void print_V(int number)\r\n    {\r\n        String v= &quot;v&quot;;\r\n        int count= number;\r\n        System.out.print(&quot;Letter&quot; + v.repeat(count));\r\n    }\r\n\r\n    void print_V()\r\n    {\r\n        System.out.print(&quot;v&quot;);\r\n    }\r\n\r\n    public static void call_Print_V(int n)\r\n    {\r\n        print_V(n);\r\n    }\r\n }\r\n\r\nclass Main \r\n{\r\n    public static void main(String[] args) \r\n    {\r\n        v call_Print_V = new v();\r\n        call_Print_V.print_V(input);\r\n    }\r\n}\r\n```\r\nI tried searching on the Internet for how to create instance methods but found none of them helpful. I tried to format the instance method in a similar way to the examples that I found but I still couldn&#39;t get my method to be called.\r\n","title":"How do you create an instance variable to call a non-static method from another class?","body":"<pre class=\"lang-java prettyprint-override\"><code>class V\n{\n    void print_V(int number)\n    {\n        String v= &quot;v&quot;;\n        int count= number;\n        System.out.print(&quot;Letter&quot; + v.repeat(count));\n    }\n\n    void print_V()\n    {\n        System.out.print(&quot;v&quot;);\n    }\n\n    public static void call_Print_V(int n)\n    {\n        print_V(n);\n    }\n }\n\nclass Main \n{\n    public static void main(String[] args) \n    {\n        v call_Print_V = new v();\n        call_Print_V.print_V(input);\n    }\n}\n</code></pre>\n<p>I tried searching on the Internet for how to create instance methods but found none of them helpful. I tried to format the instance method in a similar way to the examples that I found but I still couldn't get my method to be called.</p>\n"},{"tags":["java","unit-testing","mockito"],"answers":[{"tags":[],"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1663926666,"creation_date":1663925769,"answer_id":73825756,"question_id":73825628,"body_markdown":" [AdditionalMatchers][1] are used to implement common logical operations (‘not&#39;, ‘and&#39;, ‘or&#39;) on [ArgumentMatchers][2] \r\n\r\n   So following code:\r\n\r\n     verify(myLogger).logWarn(or(eq(&quot;My 1st Warning Message&quot;), eq(&quot;My 2nd Log Warning Message&quot;)));\r\n\r\nShould work as expected.\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/org.mockito/mockito-core/2.2.7/org/mockito/AdditionalMatchers.html#or(short,%20short)\r\n  [2]: https://javadoc.io/doc/org.mockito/mockito-core/2.2.7/org/mockito/ArgumentMatchers.html","title":"Why is the or-Matcher not working in my Mockito verify?","body":"<p><a href=\"https://www.javadoc.io/doc/org.mockito/mockito-core/2.2.7/org/mockito/AdditionalMatchers.html#or(short,%20short)\" rel=\"nofollow noreferrer\">AdditionalMatchers</a> are used to implement common logical operations (‘not', ‘and', ‘or') on <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/2.2.7/org/mockito/ArgumentMatchers.html\" rel=\"nofollow noreferrer\">ArgumentMatchers</a></p>\n<p>So following code:</p>\n<pre><code> verify(myLogger).logWarn(or(eq(&quot;My 1st Warning Message&quot;), eq(&quot;My 2nd Log Warning Message&quot;)));\n</code></pre>\n<p>Should work as expected.</p>\n"}],"owner":{"account_id":16416775,"reputation":67,"user_id":11858792,"display_name":"Tymo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73825756,"answer_count":1,"score":0,"last_activity_date":1663926666,"creation_date":1663925053,"question_id":73825628,"body_markdown":"I would like to verify that either of the following two method calls get executed once:\r\n\r\n```java\r\nmyLogger.logWarn(&quot;My 1st Warning Message&quot;); // depending on some randomness in my program,\r\nmyLogger.logWarn(&quot;My 2nd Warning Message&quot;); // one of these two get executed\r\n```\r\n\r\nI have tried the following:\r\n\r\n```java\r\nverify(myLogger).logWarn(or(&quot;My 1st Warning Message&quot;, &quot;My 2nd Log Warning Message&quot;));\r\n```\r\n\r\nBut running the test method resulted in the following error:\r\n\r\n```\r\nNo matchers found for additional matcher Or(?)\r\n-&gt; at foobar.builder.StopBuilderTest.build(StopBuilderTest.java:141)\r\n\r\norg.mockito.exceptions.misusing.InvalidUseOfMatchersException: \r\nNo matchers found for additional matcher Or(?)\r\n-&gt; at foobar.builder.StopBuilderTest.build(StopBuilderTest.java:141)\r\n```\r\n\r\nWhen I just test for a single method call as follows..\r\n\r\n```java\r\nverify(myLogger).logWarn(&quot;My 1st Warning Message&quot;);\r\n```\r\n\r\n..it runs fine and my test is always successful when `logWarn()` gets called with argument `&quot;My 1st Warning Message&quot;`.","title":"Why is the or-Matcher not working in my Mockito verify?","body":"<p>I would like to verify that either of the following two method calls get executed once:</p>\n<pre class=\"lang-java prettyprint-override\"><code>myLogger.logWarn(&quot;My 1st Warning Message&quot;); // depending on some randomness in my program,\nmyLogger.logWarn(&quot;My 2nd Warning Message&quot;); // one of these two get executed\n</code></pre>\n<p>I have tried the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>verify(myLogger).logWarn(or(&quot;My 1st Warning Message&quot;, &quot;My 2nd Log Warning Message&quot;));\n</code></pre>\n<p>But running the test method resulted in the following error:</p>\n<pre><code>No matchers found for additional matcher Or(?)\n-&gt; at foobar.builder.StopBuilderTest.build(StopBuilderTest.java:141)\n\norg.mockito.exceptions.misusing.InvalidUseOfMatchersException: \nNo matchers found for additional matcher Or(?)\n-&gt; at foobar.builder.StopBuilderTest.build(StopBuilderTest.java:141)\n</code></pre>\n<p>When I just test for a single method call as follows..</p>\n<pre class=\"lang-java prettyprint-override\"><code>verify(myLogger).logWarn(&quot;My 1st Warning Message&quot;);\n</code></pre>\n<p>..it runs fine and my test is always successful when <code>logWarn()</code> gets called with argument <code>&quot;My 1st Warning Message&quot;</code>.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8978,"page":1014,"page_size":100}
