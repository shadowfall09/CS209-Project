{"items":[{"tags":["java","spring","spring-boot","validation","nullpointerexception"],"answers":[{"comments":[{"owner":{"account_id":12972179,"reputation":31,"user_id":9377513,"display_name":"Radek Gackowski"},"score":0,"creation_date":1616320852,"post_id":66730810,"comment_id":117960058,"body_markdown":"Hi, thank you for answer. I don&#39;t want to run Spring container during my tests. I was trying to follow that answer https://stackoverflow.com/a/41671471/9377513, but I don&#39;t know why in my case this approach is not working.","body":"Hi, thank you for answer. I don&#39;t want to run Spring container during my tests. I was trying to follow that answer <a href=\"https://stackoverflow.com/a/41671471/9377513\">stackoverflow.com/a/41671471/9377513</a>, but I don&#39;t know why in my case this approach is not working."},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1616751767,"post_id":66730810,"comment_id":118106464,"body_markdown":"I am afraid you have no other choice otherwise the `Validator` won&#39;t be wired.","body":"I am afraid you have no other choice otherwise the <code>Validator</code> won&#39;t be wired."}],"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616319714,"creation_date":1616319714,"answer_id":66730810,"question_id":66730741,"body_markdown":"As long as it is a test, you need to annotate the test class with `@SpringBootTest` to boot up the container and autowire the `Validator` correctly using `@Autowired` annotation.\r\n\r\n```\r\n@SpringBootTest\r\npublic class AddressCheckTest {\r\n\r\n    @Autowired\r\n    private Validator validator;\r\n\r\n    // the rest of the code\r\n}\r\n```","title":"NullPointerException during testing javax ConstraintValidators","body":"<p>As long as it is a test, you need to annotate the test class with <code>@SpringBootTest</code> to boot up the container and autowire the <code>Validator</code> correctly using <code>@Autowired</code> annotation.</p>\n<pre><code>@SpringBootTest\npublic class AddressCheckTest {\n\n    @Autowired\n    private Validator validator;\n\n    // the rest of the code\n}\n</code></pre>\n"}],"owner":{"account_id":12972179,"reputation":31,"user_id":9377513,"display_name":"Radek Gackowski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2215,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1669154193,"creation_date":1616319133,"question_id":66730741,"body_markdown":"I have been trying to unit test (without running Spring container) my custom constraint annotations, but when I run my tests the NullPointerException is thrown and I don&#39;t have any clue why this is happening.\r\n\r\nThe NullPointerException is pointing out that ```this.validator = null``` in Validator class.\r\n\r\nI was following that answer https://stackoverflow.com/a/41671471/9377513 when writing my test. But I don&#39;t know why this approach do not work in my case.\r\n\r\nThe whole exception that has been thrown during the test:\r\n\r\n    java.lang.NullPointerException: Cannot invoke &quot;javax.validation.Validator.validate(Object, java.lang.Class[])&quot; because &quot;this.validator&quot; is null\r\n\r\n\tat com.radgac.vmmrestapi.annotations.AddressCheckTest.addressCheckWithinRangeTest(AddressCheckTest.java:32)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestTemplateMethod(TimeoutExtension.java:92)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask$DefaultDynamicTestExecutor.execute(NodeTestTask.java:212)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask$DefaultDynamicTestExecutor.execute(NodeTestTask.java:192)\r\n\tat org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.execute(TestTemplateTestDescriptor.java:139)\r\n\tat org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.lambda$execute$2(TestTemplateTestDescriptor.java:107)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n\tat java.base/java.util.stream.ReferencePipeline$11$1.accept(ReferencePipeline.java:442)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n\tat java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\r\n\tat java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:274)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\r\n\tat java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:274)\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\r\n\tat org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.execute(TestTemplateTestDescriptor.java:107)\r\n\tat org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.execute(TestTemplateTestDescriptor.java:42)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:220)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:53)\r\n\r\nMy custom constraint annotation:\r\n```\r\n@Target({ElementType.FIELD, ElementType.ANNOTATION_TYPE})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@NotNull\r\n@NotEmpty\r\n@NotBlank\r\n@Size(min = 1, max = 5)\r\n@Constraint(validatedBy = {AddressCheckValidator.class})\r\npublic @interface AddressCheck {\r\n    String message() default &quot;Please provide a valid String with length min=1 and max=5&quot;;\r\n\r\n    Class&lt;?&gt;[] groups() default {};\r\n\r\n    Class&lt;? extends Payload&gt;[] payload() default {};\r\n}\r\n```\r\n\r\nMy custom constraint validator:\r\n```\r\npublic class AddressCheckValidator implements ConstraintValidator&lt;AddressCheck, String&gt; {\r\n    @Override\r\n    public boolean isValid(String s, ConstraintValidatorContext constraintValidatorContext) {\r\n        return s != null &amp;&amp; !s.isEmpty() &amp;&amp; !s.isBlank() &amp;&amp; s.length() &lt;= 5;\r\n    }\r\n}\r\n```\r\n\r\nAnd my test class:\r\n```\r\npublic class AddressCheckTest {\r\n\r\n    private Validator validator;\r\n\r\n    @Before\r\n    public void setUp() {\r\n        validator = Validation.buildDefaultValidatorFactory().getValidator();\r\n    }\r\n\r\n    @ParameterizedTest\r\n    @ValueSource(strings = {&quot;a&quot;, &quot;ab&quot;, &quot;abc&quot;, &quot;abcd&quot;, &quot;abcde&quot;})\r\n    public void addressCheckWithinRangeTest(String value) {\r\n        var addressCheck = new AddressCheckFieldTest(value);\r\n        Set&lt;ConstraintViolation&lt;AddressCheckFieldTest&gt;&gt; violations = validator.validate(addressCheck);\r\n        assertTrue(violations.isEmpty());\r\n    }\r\n\r\n    private static class AddressCheckFieldTest {\r\n\r\n        @AddressCheck\r\n        private String addressField;\r\n\r\n        public AddressCheckFieldTest(String addressField) {\r\n            this.addressField = addressField;\r\n        }\r\n\r\n        public String getAddressField() {\r\n            return addressField;\r\n        }\r\n\r\n        public void setAddressField(String addressField) {\r\n            this.addressField = addressField;\r\n        }\r\n    }\r\n}\r\n```","title":"NullPointerException during testing javax ConstraintValidators","body":"<p>I have been trying to unit test (without running Spring container) my custom constraint annotations, but when I run my tests the NullPointerException is thrown and I don't have any clue why this is happening.</p>\n<p>The NullPointerException is pointing out that <code>this.validator = null</code> in Validator class.</p>\n<p>I was following that answer <a href=\"https://stackoverflow.com/a/41671471/9377513\">https://stackoverflow.com/a/41671471/9377513</a> when writing my test. But I don't know why this approach do not work in my case.</p>\n<p>The whole exception that has been thrown during the test:</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;javax.validation.Validator.validate(Object, java.lang.Class[])&quot; because &quot;this.validator&quot; is null\n\nat com.radgac.vmmrestapi.annotations.AddressCheckTest.addressCheckWithinRangeTest(AddressCheckTest.java:32)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:564)\nat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\nat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\nat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\nat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\nat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestTemplateMethod(TimeoutExtension.java:92)\nat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask$DefaultDynamicTestExecutor.execute(NodeTestTask.java:212)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask$DefaultDynamicTestExecutor.execute(NodeTestTask.java:192)\nat org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.execute(TestTemplateTestDescriptor.java:139)\nat org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.lambda$execute$2(TestTemplateTestDescriptor.java:107)\nat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\nat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\nat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\nat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\nat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\nat java.base/java.util.stream.ReferencePipeline$11$1.accept(ReferencePipeline.java:442)\nat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\nat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\nat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\nat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\nat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\nat java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)\nat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\nat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\nat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\nat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\nat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\nat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\nat java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:274)\nat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\nat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\nat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\nat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\nat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\nat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\nat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\nat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\nat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\nat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\nat java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:274)\nat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\nat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\nat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\nat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\nat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\nat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\nat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\nat org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.execute(TestTemplateTestDescriptor.java:107)\nat org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.execute(TestTemplateTestDescriptor.java:42)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\nat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\nat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\nat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:220)\nat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:53)\n</code></pre>\n<p>My custom constraint annotation:</p>\n<pre><code>@Target({ElementType.FIELD, ElementType.ANNOTATION_TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@NotNull\n@NotEmpty\n@NotBlank\n@Size(min = 1, max = 5)\n@Constraint(validatedBy = {AddressCheckValidator.class})\npublic @interface AddressCheck {\n    String message() default &quot;Please provide a valid String with length min=1 and max=5&quot;;\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<p>My custom constraint validator:</p>\n<pre><code>public class AddressCheckValidator implements ConstraintValidator&lt;AddressCheck, String&gt; {\n    @Override\n    public boolean isValid(String s, ConstraintValidatorContext constraintValidatorContext) {\n        return s != null &amp;&amp; !s.isEmpty() &amp;&amp; !s.isBlank() &amp;&amp; s.length() &lt;= 5;\n    }\n}\n</code></pre>\n<p>And my test class:</p>\n<pre><code>public class AddressCheckTest {\n\n    private Validator validator;\n\n    @Before\n    public void setUp() {\n        validator = Validation.buildDefaultValidatorFactory().getValidator();\n    }\n\n    @ParameterizedTest\n    @ValueSource(strings = {&quot;a&quot;, &quot;ab&quot;, &quot;abc&quot;, &quot;abcd&quot;, &quot;abcde&quot;})\n    public void addressCheckWithinRangeTest(String value) {\n        var addressCheck = new AddressCheckFieldTest(value);\n        Set&lt;ConstraintViolation&lt;AddressCheckFieldTest&gt;&gt; violations = validator.validate(addressCheck);\n        assertTrue(violations.isEmpty());\n    }\n\n    private static class AddressCheckFieldTest {\n\n        @AddressCheck\n        private String addressField;\n\n        public AddressCheckFieldTest(String addressField) {\n            this.addressField = addressField;\n        }\n\n        public String getAddressField() {\n            return addressField;\n        }\n\n        public void setAddressField(String addressField) {\n            this.addressField = addressField;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","jaxb","unmarshalling"],"answers":[{"tags":[],"owner":{"account_id":5901156,"reputation":27,"user_id":4843399,"display_name":"luvunix"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669154179,"creation_date":1669154179,"answer_id":74539423,"question_id":74525027,"body_markdown":"My issue turned out to be how I was using xjc.  I was building each schema we received individually, not realizing there was some overlap in the schemas due to the vendors using other vendors schemas.  This caused issues when one vendor&#39;s schema was built early in the process and then another vendor&#39;s schema was built after it that used the earlier vendor&#39;s schema.\r\n\r\nBuilding all the schemas as a group, instead of individually, allowed xjc to &quot;see&quot; everything it needed to see and the corresponding code worked as expected.\r\n","title":"Need help resolving a JAXB unmarshall issue","body":"<p>My issue turned out to be how I was using xjc.  I was building each schema we received individually, not realizing there was some overlap in the schemas due to the vendors using other vendors schemas.  This caused issues when one vendor's schema was built early in the process and then another vendor's schema was built after it that used the earlier vendor's schema.</p>\n<p>Building all the schemas as a group, instead of individually, allowed xjc to &quot;see&quot; everything it needed to see and the corresponding code worked as expected.</p>\n"}],"owner":{"account_id":5901156,"reputation":27,"user_id":4843399,"display_name":"luvunix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669154179,"creation_date":1669065707,"question_id":74525027,"body_markdown":"I am having the typical &#39;unexpected element (uri:&quot;&quot;, local:&quot;stickynote&quot;)&#39; JAXB error, although it only shows when I set the event handler on the unmarshaller object.  When the event handler is not set code runs fine, but the specific data needed is not unmarshalled.\r\n\r\nI have worked on the problem for a couple of days, including many Internet searches, and am not hitting on the right solution.  I feel like I am missing something simple, but so far it is eluding me.\r\n\r\nNotes:\r\n\r\n1. I am using Java JDK 8 with Apache NetBeans 15.\r\n2. The original code was generated with the xjc command from schemas we receive from multiple vendors.  I cannot modify the schemas and have to figure out how to use them &quot;as is&quot;.\r\n3. I wrote the code below to duplicate the issue and simplify the posted code. Import statements have been removed for brevity.  If they are needed please let me know.\r\n4. Since inheritance is involved in one of the classes, I added the appropriate `@XmlSeeAlso` annotation.  That did not help.\r\n5. This is my first real foray into JAXB.  It seems to be perfect for this project.  I just have to figure out how to get it to work.\r\n\r\nFirst, example XML:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;documents&gt;\r\n\t&lt;document&gt;\r\n\t\t&lt;notes&gt;\r\n\t\t\t&lt;stickynote id=&quot;123&quot;&gt;test note&lt;/stickynote&gt;\r\n\t\t&lt;/notes&gt;\r\n\t&lt;/document&gt;\r\n&lt;/documents&gt;\r\n```\r\n\r\nCode to create the JAXB context and create the Unmarshaller object:\r\n\r\n```\r\nJAXBContext context = JAXBContext.newInstance( Documents.class );\r\nUnmarshaller u = context.createUnmarshaller();\r\nu.setEventHandler(new DefaultValidationEventHandler());\r\n\r\nJAXBElement&lt; Documents &gt; root =\r\n\t\tu.unmarshal(\r\n\t\t\tnew StreamSource( new File( FILENAME )),\r\n\t\t\tDocuments.class );\r\n```\r\n\r\nThe corresponding classes to handle each element:\r\n\r\n**Documents class**\r\n\r\n```\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;&quot;, propOrder = { &quot;document&quot; })\r\n@XmlRootElement(name = &quot;documents&quot;, namespace = &quot;http://www.example.org/documents&quot;)\r\npublic class Documents {\r\n    protected Document document;\r\n\r\n    public Document getDocument() {\r\n        return document;\r\n    }\r\n\r\n    public void setDocument(Document document) {\r\n        this.document = document;\r\n    }\r\n}\r\n```\r\n\r\n**Document class**\r\n\r\n```\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;&quot;, propOrder = { &quot;notes&quot; })\r\n@XmlRootElement(name = &quot;document&quot;, namespace = &quot;http://www.example.org/documents&quot;)\r\npublic class Document {\r\n    protected NotesType notes;\r\n\r\n    public NotesType getNotes() {\r\n        return notes;\r\n    }\r\n\r\n    public void setNotes(NotesType notes) {\r\n        this.notes = notes;\r\n    }\r\n}\r\n```\r\n\r\n**NotesType class**\r\n\r\n```\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;NotesType&quot;, propOrder = { &quot;notes&quot; })\r\npublic class NotesType {\r\n    protected List&lt;NoteType&gt; notes;\r\n    \r\n    public List&lt;NoteType&gt; getNotes() {\r\n        if ( isNull( notes )) {\r\n            notes = new ArrayList&lt;&gt;();\r\n        }\r\n\r\n        return this.notes;\r\n    }\r\n}\r\n```\r\n\r\n**NoteType class**\r\n\r\n```\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;NoteType&quot;, propOrder = { &quot;note&quot; })\r\n@XmlSeeAlso({ StickyNote.class })\r\npublic class NoteType {\r\n    @XmlAttribute(name = &quot;id&quot;, required = true)\r\n    protected String id;\r\n    protected String note;\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getNote() {\r\n        return note;\r\n    }\r\n\r\n    public void setNote(String note) {\r\n        this.note = note;\r\n    }\r\n}\r\n```\r\n\r\nAnd finally, the **StickyNote** class, which extends the **NoteType** class:\r\n\r\n```\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;&quot;, propOrder = { &quot;subType&quot; })\r\npublic class StickyNote extends NoteType {\r\n    protected String subType = &quot;sticky&quot;;\r\n\r\n    public String getSubType() {\r\n        return subType;\r\n    }\r\n\r\n    public void setSubType(String subType) {\r\n        this.subType = subType;\r\n    }\r\n}\r\n```\r\n\r\nThe exception is:\r\n\r\n```\r\nDefaultValidationEventHandler: [ERROR]: unexpected element (uri:&quot;&quot;, local:&quot;stickynote&quot;). Expected elements are &lt;{}notes&gt; \r\n     Location: line 5 of file:/C:/Test/documents.xml\r\njavax.xml.bind.UnmarshalException: unexpected element (uri:&quot;&quot;, local:&quot;stickynote&quot;). Expected elements are &lt;{}notes&gt;\r\n\tat com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallingContext.handleEvent(UnmarshallingContext.java:726)\r\n\r\n*and so on*\r\n```\r\n\r\nThanks in advance for any and all suggestions and help!\r\n\r\njohn","title":"Need help resolving a JAXB unmarshall issue","body":"<p>I am having the typical 'unexpected element (uri:&quot;&quot;, local:&quot;stickynote&quot;)' JAXB error, although it only shows when I set the event handler on the unmarshaller object.  When the event handler is not set code runs fine, but the specific data needed is not unmarshalled.</p>\n<p>I have worked on the problem for a couple of days, including many Internet searches, and am not hitting on the right solution.  I feel like I am missing something simple, but so far it is eluding me.</p>\n<p>Notes:</p>\n<ol>\n<li>I am using Java JDK 8 with Apache NetBeans 15.</li>\n<li>The original code was generated with the xjc command from schemas we receive from multiple vendors.  I cannot modify the schemas and have to figure out how to use them &quot;as is&quot;.</li>\n<li>I wrote the code below to duplicate the issue and simplify the posted code. Import statements have been removed for brevity.  If they are needed please let me know.</li>\n<li>Since inheritance is involved in one of the classes, I added the appropriate <code>@XmlSeeAlso</code> annotation.  That did not help.</li>\n<li>This is my first real foray into JAXB.  It seems to be perfect for this project.  I just have to figure out how to get it to work.</li>\n</ol>\n<p>First, example XML:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;documents&gt;\n    &lt;document&gt;\n        &lt;notes&gt;\n            &lt;stickynote id=&quot;123&quot;&gt;test note&lt;/stickynote&gt;\n        &lt;/notes&gt;\n    &lt;/document&gt;\n&lt;/documents&gt;\n</code></pre>\n<p>Code to create the JAXB context and create the Unmarshaller object:</p>\n<pre><code>JAXBContext context = JAXBContext.newInstance( Documents.class );\nUnmarshaller u = context.createUnmarshaller();\nu.setEventHandler(new DefaultValidationEventHandler());\n\nJAXBElement&lt; Documents &gt; root =\n        u.unmarshal(\n            new StreamSource( new File( FILENAME )),\n            Documents.class );\n</code></pre>\n<p>The corresponding classes to handle each element:</p>\n<p><strong>Documents class</strong></p>\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = { &quot;document&quot; })\n@XmlRootElement(name = &quot;documents&quot;, namespace = &quot;http://www.example.org/documents&quot;)\npublic class Documents {\n    protected Document document;\n\n    public Document getDocument() {\n        return document;\n    }\n\n    public void setDocument(Document document) {\n        this.document = document;\n    }\n}\n</code></pre>\n<p><strong>Document class</strong></p>\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = { &quot;notes&quot; })\n@XmlRootElement(name = &quot;document&quot;, namespace = &quot;http://www.example.org/documents&quot;)\npublic class Document {\n    protected NotesType notes;\n\n    public NotesType getNotes() {\n        return notes;\n    }\n\n    public void setNotes(NotesType notes) {\n        this.notes = notes;\n    }\n}\n</code></pre>\n<p><strong>NotesType class</strong></p>\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;NotesType&quot;, propOrder = { &quot;notes&quot; })\npublic class NotesType {\n    protected List&lt;NoteType&gt; notes;\n    \n    public List&lt;NoteType&gt; getNotes() {\n        if ( isNull( notes )) {\n            notes = new ArrayList&lt;&gt;();\n        }\n\n        return this.notes;\n    }\n}\n</code></pre>\n<p><strong>NoteType class</strong></p>\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;NoteType&quot;, propOrder = { &quot;note&quot; })\n@XmlSeeAlso({ StickyNote.class })\npublic class NoteType {\n    @XmlAttribute(name = &quot;id&quot;, required = true)\n    protected String id;\n    protected String note;\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getNote() {\n        return note;\n    }\n\n    public void setNote(String note) {\n        this.note = note;\n    }\n}\n</code></pre>\n<p>And finally, the <strong>StickyNote</strong> class, which extends the <strong>NoteType</strong> class:</p>\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = { &quot;subType&quot; })\npublic class StickyNote extends NoteType {\n    protected String subType = &quot;sticky&quot;;\n\n    public String getSubType() {\n        return subType;\n    }\n\n    public void setSubType(String subType) {\n        this.subType = subType;\n    }\n}\n</code></pre>\n<p>The exception is:</p>\n<pre><code>DefaultValidationEventHandler: [ERROR]: unexpected element (uri:&quot;&quot;, local:&quot;stickynote&quot;). Expected elements are &lt;{}notes&gt; \n     Location: line 5 of file:/C:/Test/documents.xml\njavax.xml.bind.UnmarshalException: unexpected element (uri:&quot;&quot;, local:&quot;stickynote&quot;). Expected elements are &lt;{}notes&gt;\n    at com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallingContext.handleEvent(UnmarshallingContext.java:726)\n\n*and so on*\n</code></pre>\n<p>Thanks in advance for any and all suggestions and help!</p>\n<p>john</p>\n"},{"tags":["java","spring","validation"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":1,"creation_date":1544085936,"post_id":53647506,"comment_id":94153436,"body_markdown":"No, it&#39;s not correct to do this. Validation is intended for data integrity, not application state checks. In fact, if the object is locked, you should probably put it in a queue to perform the operation later.","body":"No, it&#39;s not correct to do this. Validation is intended for data integrity, not application state checks. In fact, if the object is locked, you should probably put it in a queue to perform the operation later."},{"owner":{"account_id":2772369,"reputation":2020,"user_id":2386710,"accept_rate":67,"display_name":"Akka Jaworek"},"score":0,"creation_date":1544086459,"post_id":53647506,"comment_id":94153741,"body_markdown":"ok, this seems reasonable to use Validation for data integrity, but then to check application state i should do this with dedicated service? is it correct approach to catch method call paramthers on method call and validate them on that level?","body":"ok, this seems reasonable to use Validation for data integrity, but then to check application state i should do this with dedicated service? is it correct approach to catch method call paramthers on method call and validate them on that level?"}],"owner":{"account_id":2772369,"reputation":2020,"user_id":2386710,"accept_rate":67,"display_name":"Akka Jaworek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669154167,"creation_date":1544085676,"question_id":53647506,"body_markdown":"I have a rest controller that takes in a ``Dto``. One of ``Dto``&#39;s attribute is and ``id`` of entity to update, however this entity might be locked for update (flag on entity). I have created a custom ``ConstraintValidator`` for ``id`` attribute to check if entity id locked and it returns code 400 (which is as expected but not desired since the request was valid). Is this correct approach to validate input data with annotations to check for business conditions? \r\n\r\nOr should I define a validation service which, in case of business conditions are not met, will throw whatever I want?\r\n\r\nOr is there another approach which i did not consider yet?\r\n\r\nWill provide code if necessary.\r\n","title":"Rest parameter validation with annotations","body":"<p>I have a rest controller that takes in a <code>Dto</code>. One of <code>Dto</code>'s attribute is and <code>id</code> of entity to update, however this entity might be locked for update (flag on entity). I have created a custom <code>ConstraintValidator</code> for <code>id</code> attribute to check if entity id locked and it returns code 400 (which is as expected but not desired since the request was valid). Is this correct approach to validate input data with annotations to check for business conditions? </p>\n\n<p>Or should I define a validation service which, in case of business conditions are not met, will throw whatever I want?</p>\n\n<p>Or is there another approach which i did not consider yet?</p>\n\n<p>Will provide code if necessary.</p>\n"},{"tags":["java","html","selenium","selenium-webdriver","constraint-validation-api"],"comments":[{"owner":{"account_id":5420821,"reputation":110,"user_id":4314483,"display_name":"E V N Raja"},"score":0,"creation_date":1543755601,"post_id":53579917,"comment_id":94024330,"body_markdown":"I have checked the site url. looks the site design was updated, because i&#39;m seeing the tooltip text as it is in screenshot shared in this link","body":"I have checked the site url. looks the site design was updated, because i&#39;m seeing the tooltip text as it is in screenshot shared in this link"}],"answers":[{"tags":[],"owner":{"account_id":5420821,"reputation":110,"user_id":4314483,"display_name":"E V N Raja"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543756217,"creation_date":1543756217,"answer_id":53580547,"question_id":53579917,"body_markdown":"There is possibility we perform mouse actions and move the mouse towards the element, when the mouse pointer moves on to the element then we will get the tool tip text.\r\n\r\n1. So, get the locator values of the element and tooltip text.\r\n2. Move the mouse pointer to element using element locator.\r\n3. create webelement object for tooltip text and get text.","title":"How can I extract the text of HTML5 Constraint validation in https://www.phptravels.net/ website using Selenium and Java?","body":"<p>There is possibility we perform mouse actions and move the mouse towards the element, when the mouse pointer moves on to the element then we will get the tool tip text.</p>\n\n<ol>\n<li>So, get the locator values of the element and tooltip text.</li>\n<li>Move the mouse pointer to element using element locator.</li>\n<li>create webelement object for tooltip text and get text.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585520732,"creation_date":1543832762,"answer_id":53591764,"question_id":53579917,"body_markdown":"The _alert window_ in `https://www.phptravels.net/` which you are referring is the outcome of [Constraint API&#39;s `element.setCustomValidity()`](https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/HTML5/Constraint_validation#Controlling_the_text_of_constraints_violation) method.\r\n\r\n&gt;**Note**: HTML5 Constraint validation doesn&#39;t remove the need for validation on the server side. Even though far fewer invalid form requests are to be expected, invalid ones can still be sent by non-compliant browsers (for instance, browsers without HTML5 and without JavaScript) or by bad guys trying to trick your web application. Therefore, like with HTML4, you need to also validate input constraints on the server side, in a way that is consistent with what is done on the client side.\r\n\r\nSolution\r\n--------\r\nTo retrieve the text which results out from the `element.setCustomValidity()` method, you can use the following solution:\r\n\r\n- Code Block:\r\n\r\n\t\timport org.openqa.selenium.WebDriver;\r\n\t\timport org.openqa.selenium.WebElement;\r\n\t\timport org.openqa.selenium.firefox.FirefoxDriver;\r\n\t\timport org.openqa.selenium.support.ui.ExpectedConditions;\r\n\t\timport org.openqa.selenium.support.ui.WebDriverWait;\r\n\t\timport org.openqa.selenium.By;\r\n\r\n\t\tpublic class HTML5_input_field_validation_message {\r\n\r\n\t\t\tpublic static void main(String[] args) {\r\n\r\n\t\t\t\tSystem.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;C:\\\\Utility\\\\BrowserDrivers\\\\geckodriver.exe&quot;);\r\n\t\t\t\tWebDriver driver = new FirefoxDriver();\r\n\t\t\t\tdriver.get(&quot;https://www.phptravels.net/&quot;);\r\n\t\t\t\tWebElement checkin = new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;input.form.input-lg.dpd1[name=&#39;checkin&#39;]&quot;)));\r\n\t\t\t\tSystem.out.println(checkin.getAttribute(&quot;validationMessage&quot;));\r\n\t\t\t}\r\n\t\t}\r\n\r\n- Console Output:\r\n\r\n\t\tPlease fill out this field.\r\n","title":"How can I extract the text of HTML5 Constraint validation in https://www.phptravels.net/ website using Selenium and Java?","body":"<p>The <em>alert window</em> in <code>https://www.phptravels.net/</code> which you are referring is the outcome of <a href=\"https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/HTML5/Constraint_validation#Controlling_the_text_of_constraints_violation\" rel=\"nofollow noreferrer\">Constraint API's <code>element.setCustomValidity()</code></a> method.</p>\n\n<blockquote>\n  <p><strong>Note</strong>: HTML5 Constraint validation doesn't remove the need for validation on the server side. Even though far fewer invalid form requests are to be expected, invalid ones can still be sent by non-compliant browsers (for instance, browsers without HTML5 and without JavaScript) or by bad guys trying to trick your web application. Therefore, like with HTML4, you need to also validate input constraints on the server side, in a way that is consistent with what is done on the client side.</p>\n</blockquote>\n\n<h2>Solution</h2>\n\n<p>To retrieve the text which results out from the <code>element.setCustomValidity()</code> method, you can use the following solution:</p>\n\n<ul>\n<li><p>Code Block:</p>\n\n<pre><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\nimport org.openqa.selenium.By;\n\npublic class HTML5_input_field_validation_message {\n\n    public static void main(String[] args) {\n\n        System.setProperty(\"webdriver.gecko.driver\", \"C:\\\\Utility\\\\BrowserDrivers\\\\geckodriver.exe\");\n        WebDriver driver = new FirefoxDriver();\n        driver.get(\"https://www.phptravels.net/\");\n        WebElement checkin = new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.cssSelector(\"input.form.input-lg.dpd1[name='checkin']\")));\n        System.out.println(checkin.getAttribute(\"validationMessage\"));\n    }\n}\n</code></pre></li>\n<li><p>Console Output:</p>\n\n<pre><code>Please fill out this field.\n</code></pre></li>\n</ul>\n"}],"owner":{"account_id":14612769,"reputation":39,"user_id":10553774,"display_name":"Prajeeth Anand"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":327,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1669212437,"answer_count":2,"score":0,"last_activity_date":1669154148,"creation_date":1543751407,"question_id":53579917,"body_markdown":"I have tried switch to alert but it&#39;s showing no such alert found error.\r\nAnd i have also tried ifranes,windowhandling.\r\nThe popup stays for only 1-2 sec and I can&#39;t use inspect element to get the xpath of that.\r\nPlease check the scrrenshot attached.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HPLXB.png","title":"How can I extract the text of HTML5 Constraint validation in https://www.phptravels.net/ website using Selenium and Java?","body":"<p>I have tried switch to alert but it's showing no such alert found error.\nAnd i have also tried ifranes,windowhandling.\nThe popup stays for only 1-2 sec and I can't use inspect element to get the xpath of that.\nPlease check the scrrenshot attached.</p>\n\n<p><img src=\"https://i.stack.imgur.com/HPLXB.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","tomcat","javafx"],"answers":[{"tags":[],"owner":{"account_id":7916222,"reputation":303,"user_id":5978561,"display_name":"Jake Henry"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669147858,"creation_date":1669147858,"answer_id":74538430,"question_id":74538318,"body_markdown":"Check to see if the Tomcat await call is never returning. If it never returns, then your JavaFX application will never get initialized. You should probably put these 2 operations in separate threads.\r\n\r\n[![Tomcat Java API await documentation][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Oj0lL.png","title":"Starting a JavaFX Application simultaneously with an TomcatServer","body":"<p>Check to see if the Tomcat await call is never returning. If it never returns, then your JavaFX application will never get initialized. You should probably put these 2 operations in separate threads.</p>\n<p><a href=\"https://i.stack.imgur.com/Oj0lL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Oj0lL.png\" alt=\"Tomcat Java API await documentation\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1669154064,"creation_date":1669152321,"answer_id":74539131,"question_id":74538318,"body_markdown":"**Don&#39;t await() at startup**\r\n\r\nThis is what [await()](https://tomcat.apache.org/tomcat-9.0-doc/api/org/apache/catalina/Server.html#await()) does for the tomcat server:\r\n\r\n&gt; Wait until a proper shutdown command is received, then return.\r\n\r\nYou state that you want the tomcat server running while your application runs.  Therefore you should not await shutdown of the server before you start your JavaFX application.  \r\n\r\n**Use the JavaFX application lifecycle**\r\n\r\n`start()` should not be directly called on the JavaFX app, instead the application [`launch()`][1] method should be invoked to launch the app.  This should be done so that the JavaFX application and system follow the JavaFX application lifecycle as explained in the [`Application`][2] javadoc.\r\n\r\nProbably also move the tomcat initialization code into the app [`init()`][3] method and store the tomcat server reference so you can later send messages to it (for example to shut it down when it is no longer needed).\r\n\r\nIf you want to gracefully shutdown the Tomcat server when your app completes, then call the server [`stop()`](https://tomcat.apache.org/tomcat-9.0-doc/api/org/apache/catalina/util/LifecycleBase.html#stop()) method from your application [`stop()`](https://openjfx.io/javadoc/19/javafx.graphics/javafx/application/Application.html#stop()) method.  You could await the graceful shutdown of the server after making the call, if you wished to, but doing that in a robust way is beyond the scope of what I will discuss here.  \r\n\r\nYou can probably get rid of your `Start` class completely, and just put the main method in the JavaFX application class, and use that to launch your application.\r\n\r\nDepending on the quality of the integration you want, you could probably add further logic to nicely synchronize the JavaFX application lifecycle with the Tomcat server [Lifecycle](https://tomcat.apache.org/tomcat-9.0-doc/api/org/apache/catalina/Lifecycle.html), discussing such integration in detail is out of scope for this answer.\r\n\r\n**Don&#39;t reference the `src` directory from code**\r\n\r\n`src\\main` is a project directory not a runtime location, you should not reference the `src` directory directly from your code.\r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/19/javafx.graphics/javafx/application/Application.html#launch(java.lang.Class,java.lang.String...)\r\n  [2]: https://openjfx.io/javadoc/19/javafx.graphics/javafx/application/Application.html\r\n  [3]: https://openjfx.io/javadoc/19/javafx.graphics/javafx/application/Application.html#init()","title":"Starting a JavaFX Application simultaneously with an TomcatServer","body":"<p><strong>Don't await() at startup</strong></p>\n<p>This is what <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/api/org/apache/catalina/Server.html#await()\" rel=\"noreferrer\">await()</a> does for the tomcat server:</p>\n<blockquote>\n<p>Wait until a proper shutdown command is received, then return.</p>\n</blockquote>\n<p>You state that you want the tomcat server running while your application runs.  Therefore you should not await shutdown of the server before you start your JavaFX application.</p>\n<p><strong>Use the JavaFX application lifecycle</strong></p>\n<p><code>start()</code> should not be directly called on the JavaFX app, instead the application <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/application/Application.html#launch(java.lang.Class,java.lang.String...)\" rel=\"noreferrer\"><code>launch()</code></a> method should be invoked to launch the app.  This should be done so that the JavaFX application and system follow the JavaFX application lifecycle as explained in the <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/application/Application.html\" rel=\"noreferrer\"><code>Application</code></a> javadoc.</p>\n<p>Probably also move the tomcat initialization code into the app <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/application/Application.html#init()\" rel=\"noreferrer\"><code>init()</code></a> method and store the tomcat server reference so you can later send messages to it (for example to shut it down when it is no longer needed).</p>\n<p>If you want to gracefully shutdown the Tomcat server when your app completes, then call the server <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/api/org/apache/catalina/util/LifecycleBase.html#stop()\" rel=\"noreferrer\"><code>stop()</code></a> method from your application <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/application/Application.html#stop()\" rel=\"noreferrer\"><code>stop()</code></a> method.  You could await the graceful shutdown of the server after making the call, if you wished to, but doing that in a robust way is beyond the scope of what I will discuss here.</p>\n<p>You can probably get rid of your <code>Start</code> class completely, and just put the main method in the JavaFX application class, and use that to launch your application.</p>\n<p>Depending on the quality of the integration you want, you could probably add further logic to nicely synchronize the JavaFX application lifecycle with the Tomcat server <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/api/org/apache/catalina/Lifecycle.html\" rel=\"noreferrer\">Lifecycle</a>, discussing such integration in detail is out of scope for this answer.</p>\n<p><strong>Don't reference the <code>src</code> directory from code</strong></p>\n<p><code>src\\main</code> is a project directory not a runtime location, you should not reference the <code>src</code> directory directly from your code.</p>\n"}],"owner":{"account_id":26218746,"reputation":46,"user_id":19896523,"display_name":"Thriest"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74539131,"answer_count":2,"score":0,"last_activity_date":1669154064,"creation_date":1669147185,"question_id":74538318,"body_markdown":"I created a project that needs a tomcat server to host a small website. Now I want to add a JavaFX application to this project. This should also start when the Tomcat starts up, but unfortunately nothing happens.\r\nFX has been added to the project library.\r\n\r\n```\r\npublic class Start {\r\n\t\r\n\tpublic static void main( String args[] )\r\n\t{\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tTomcat tomcat = new Tomcat( );\r\n\t\t\tString webappDirectory = new File( &quot;src/main/webapp&quot; ).getAbsolutePath( );\r\n\t\t\ttomcat.setPort( 8080 );\r\n\t\t\tContext context = tomcat.addWebapp( &quot;&quot;, webappDirectory );\r\n\t\t\tTomcat.addServlet( context, &quot;blockchain&quot;, new ServletContainer( new Applications( ) ) );\r\n\t\t\tcontext.addServletMappingDecoded( &quot;/blockchain/api/*&quot;, &quot;blockchain&quot; );\r\n\t\t\ttomcat.start( );\r\n\t\t\ttomcat.getServer( ).await( );\r\n\t\t\t\r\n\t\t\tConfigurationGui config = new ConfigurationGui();\r\n\t\t\tStage stage = new Stage();\r\n\t\t\tconfig.start(stage);\r\n\t\t\t\r\n\t\t}\r\n\t\tcatch ( Exception e )\r\n\t\t{\r\n\t\t\te.printStackTrace( );\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\nApplication-Class:\r\n\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.BorderPane;\r\nimport javafx.stage.Stage;\r\n\r\npublic class ConfigurationGui extends Application {\r\n\r\n\t@Override\r\n\tpublic void start(Stage primaryStage) throws Exception {\r\n\t\tParent root = new BorderPane();\r\n\t\tScene scene = new Scene(root,400,400);\r\n\t\tscene.getStylesheets().add(getClass().getResource(&quot;application.css&quot;).toExternalForm());\r\n\t\tprimaryStage.setScene(scene);\r\n\t\tprimaryStage.show();\r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\n```\r\n","title":"Starting a JavaFX Application simultaneously with an TomcatServer","body":"<p>I created a project that needs a tomcat server to host a small website. Now I want to add a JavaFX application to this project. This should also start when the Tomcat starts up, but unfortunately nothing happens.\nFX has been added to the project library.</p>\n<pre><code>public class Start {\n    \n    public static void main( String args[] )\n    {\n        try {\n            \n            Tomcat tomcat = new Tomcat( );\n            String webappDirectory = new File( &quot;src/main/webapp&quot; ).getAbsolutePath( );\n            tomcat.setPort( 8080 );\n            Context context = tomcat.addWebapp( &quot;&quot;, webappDirectory );\n            Tomcat.addServlet( context, &quot;blockchain&quot;, new ServletContainer( new Applications( ) ) );\n            context.addServletMappingDecoded( &quot;/blockchain/api/*&quot;, &quot;blockchain&quot; );\n            tomcat.start( );\n            tomcat.getServer( ).await( );\n            \n            ConfigurationGui config = new ConfigurationGui();\n            Stage stage = new Stage();\n            config.start(stage);\n            \n        }\n        catch ( Exception e )\n        {\n            e.printStackTrace( );\n        }\n    }\n\n}\n</code></pre>\n<p>Application-Class:</p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.BorderPane;\nimport javafx.stage.Stage;\n\npublic class ConfigurationGui extends Application {\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        Parent root = new BorderPane();\n        Scene scene = new Scene(root,400,400);\n        scene.getStylesheets().add(getClass().getResource(&quot;application.css&quot;).toExternalForm());\n        primaryStage.setScene(scene);\n        primaryStage.show();\n        \n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","validation"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1654862391,"post_id":72573746,"comment_id":128199411,"body_markdown":"Ofcourse you cannot. It is for validation not for changing values.","body":"Ofcourse you cannot. It is for validation not for changing values."},{"owner":{"display_name":"user19254373"},"score":0,"creation_date":1654862517,"post_id":72573746,"comment_id":128199456,"body_markdown":"I know that. But why not? I think I can get the value in the `initialize()` method and then manipulate it. Is that not possible?","body":"I know that. But why not? I think I can get the value in the <code>initialize()</code> method and then manipulate it. Is that not possible?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1654864138,"post_id":72573746,"comment_id":128200059,"body_markdown":"Because its use case is validation **not** binding/changing values. It will only read values not set them back into the objects. Next to that you shouldn&#39;t abuse a validation framework for that.","body":"Because its use case is validation <b>not</b> binding/changing values. It will only read values not set them back into the objects. Next to that you shouldn&#39;t abuse a validation framework for that."},{"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1654864525,"post_id":72573746,"comment_id":128200222,"body_markdown":"Additionally, `initialize(IsLessThan constraintAnnotation)` should be `initialize(MyConstraint constraintAnnotation)`.","body":"Additionally, <code>initialize(IsLessThan constraintAnnotation)</code> should be <code>initialize(MyConstraint constraintAnnotation)</code>."},{"owner":{"display_name":"user19254373"},"score":0,"creation_date":1654864769,"post_id":72573746,"comment_id":128200328,"body_markdown":"@M.Deinum I know it is not a right way, but just needed to make something via this approach. On the other hand, are you sure that it is not changed (field value)? Did you have  a look at that page, it seems as it can be changed. Any idea?","body":"@M.Deinum I know it is not a right way, but just needed to make something via this approach. On the other hand, are you sure that it is not changed (field value)? Did you have  a look at that page, it seems as it can be changed. Any idea?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1654864926,"post_id":72573746,"comment_id":128200390,"body_markdown":"Last time: no you cannot change the field value. The link you refer to doesn&#39;t change anything, it bypasses the default binding from spring and does its own validation, which is different from your use case. If you want to trim whitespaces register the proper propertyeditor in your binder (if binding form-data to an object) or use a proper deserializer for your json library when binding the request body.","body":"Last time: no you cannot change the field value. The link you refer to doesn&#39;t change anything, it bypasses the default binding from spring and does its own validation, which is different from your use case. If you want to trim whitespaces register the proper propertyeditor in your binder (if binding form-data to an object) or use a proper deserializer for your json library when binding the request body."},{"owner":{"display_name":"user19254373"},"score":0,"creation_date":1654866158,"post_id":72573746,"comment_id":128200839,"body_markdown":"Thanks a lot, in this scene I can follow &quot;registering  the proper property editor in my binder&quot; as you mentioned. Could you please post an example?","body":"Thanks a lot, in this scene I can follow &quot;registering  the proper property editor in my binder&quot; as you mentioned. Could you please post an example?"}],"owner":{"display_name":"user19254373"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669153954,"creation_date":1654861489,"question_id":72573746,"body_markdown":"I followed the approach mentioned on [Spring removes whitespace when converting Strings to Longs](https://stackoverflow.com/questions/13978614/spring-removes-whitespace-when-converting-strings-to-longs) in order to trim some String fields via **annotation** as shown below:\r\n\r\n```\r\n@Data\r\npublic class EmployeeRequest {\r\n\r\n    @MyConstraint(field = &quot;name&quot;) // ???\r\n    public String name;\r\n}\r\n```\r\n\r\nHowever, I cannot trim the name field and receive it with whitespace in my service. I also checked the documentation page, but could not understand what I am missing:\r\n\r\n\r\n\r\n***MyConstraint:***\r\n\r\n\r\n```\r\n@Target({ElementType.METHOD, ElementType.FIELD})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Constraint(validatedBy=MyConstraintValidator.class)\r\npublic @interface MyConstraint {\r\n\r\n    String field();\r\n}\r\n```\r\n\r\n\r\n\r\n***MyConstraintValidator:***\r\n\r\n```\r\npublic class MyConstraintValidator implements ConstraintValidator&lt;MyConstraint, String&gt; {\r\n\r\n    @Autowired\r\n    private String aDependency; // what is this dependency?\r\n\r\n    private String field;\r\n\r\n    public void initialize(IsLessThan constraintAnnotation) {\r\n\r\n        // I tried to trim value at here\r\n        this.field = constraintAnnotation.field().trim();\r\n    }\r\n\r\n    public boolean isValid(String value, ConstraintValidatorContext context) {\r\n\r\n        Object fieldValue = new BeanWrapperImpl(value).getPropertyValue(field);\r\n\r\n        return true; // I return true as I do not need to validate field value\r\n    }\r\n}\r\n```\r\n\r\nSo, what is wrong with this implementation? ","title":"Cannot change field value when using ConstraintValidator","body":"<p>I followed the approach mentioned on <a href=\"https://stackoverflow.com/questions/13978614/spring-removes-whitespace-when-converting-strings-to-longs\">Spring removes whitespace when converting Strings to Longs</a> in order to trim some String fields via <strong>annotation</strong> as shown below:</p>\n<pre><code>@Data\npublic class EmployeeRequest {\n\n    @MyConstraint(field = &quot;name&quot;) // ???\n    public String name;\n}\n</code></pre>\n<p>However, I cannot trim the name field and receive it with whitespace in my service. I also checked the documentation page, but could not understand what I am missing:</p>\n<p><em><strong>MyConstraint:</strong></em></p>\n<pre><code>@Target({ElementType.METHOD, ElementType.FIELD})\n@Retention(RetentionPolicy.RUNTIME)\n@Constraint(validatedBy=MyConstraintValidator.class)\npublic @interface MyConstraint {\n\n    String field();\n}\n</code></pre>\n<p><em><strong>MyConstraintValidator:</strong></em></p>\n<pre><code>public class MyConstraintValidator implements ConstraintValidator&lt;MyConstraint, String&gt; {\n\n    @Autowired\n    private String aDependency; // what is this dependency?\n\n    private String field;\n\n    public void initialize(IsLessThan constraintAnnotation) {\n\n        // I tried to trim value at here\n        this.field = constraintAnnotation.field().trim();\n    }\n\n    public boolean isValid(String value, ConstraintValidatorContext context) {\n\n        Object fieldValue = new BeanWrapperImpl(value).getPropertyValue(field);\n\n        return true; // I return true as I do not need to validate field value\n    }\n}\n</code></pre>\n<p>So, what is wrong with this implementation?</p>\n"},{"tags":["java","android","android-studio","google-play"],"comments":[{"owner":{"account_id":4877482,"reputation":990,"user_id":3932131,"accept_rate":75,"display_name":"Umang"},"score":1,"creation_date":1666800242,"post_id":74210560,"comment_id":131023024,"body_markdown":"I would suggest you look at the merged manifest in android studio, it would point to the library adding this permission.","body":"I would suggest you look at the merged manifest in android studio, it would point to the library adding this permission."},{"owner":{"account_id":21079421,"reputation":85,"user_id":15494076,"display_name":"web216"},"score":0,"creation_date":1666801019,"post_id":74210560,"comment_id":131023306,"body_markdown":"Thanks, but there is no such thing in the merged files either :(","body":"Thanks, but there is no such thing in the merged files either :("}],"answers":[{"tags":[],"owner":{"account_id":21079421,"reputation":85,"user_id":15494076,"display_name":"web216"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666853302,"creation_date":1666853302,"answer_id":74217818,"question_id":74210560,"body_markdown":"I managed to solve it.\r\n**The problem was that it had to be uploaded for the test editions as well!**\r\nIf anyone comes across something similar...","title":"Remove the use of REQUEST_INSTALL_PACKAGES, but what if there isn&#39;t?","body":"<p>I managed to solve it.\n<strong>The problem was that it had to be uploaded for the test editions as well!</strong>\nIf anyone comes across something similar...</p>\n"}],"owner":{"account_id":21079421,"reputation":85,"user_id":15494076,"display_name":"web216"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669153384,"creation_date":1666798865,"question_id":74210560,"body_markdown":"I want to ask for help.\r\nGoogle Play blocked my app because:\r\n*- Please remove the use of REQUEST_INSTALL_PACKAGES permission from your app.*\r\n\r\n**But I don&#39;t use such permission!**\r\n\r\nI submitted several times, tried to place this in the androidmanifest.xml:\r\n\r\n      &lt;uses-permission\r\n            android:name=&quot;android.permission.REQUEST_INSTALL_PACKAGES&quot;\r\n            tools:node=&quot;remove&quot;/&gt;\r\n\r\nBut it was not accepted even then....\r\nWhat could be the problem?\r\n\r\nI used this dependecies:\r\n\r\n    dependencies {\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        //noinspection GradleCompatible\r\n        implementation &#39;androidx.appcompat:appcompat:1.0.0&#39;\r\n        //noinspection GradleCompatible\r\n        implementation &#39;com.google.android.material:material:1.0.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n        implementation &#39;com.google.android.gms:play-services-ads:16.0.0&#39;\r\n        implementation &#39;com.android.volley:volley:1.1.0&#39;\r\n        implementation &#39;com.google.firebase:firebase-core:16.0.8&#39;\r\n        implementation &#39;com.google.firebase:firebase-messaging:17.3.4&#39;\r\n        testImplementation &#39;junit:junit:4.12&#39;\r\n        //noinspection GradleCompatible\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.1&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.1.0&#39;\r\n    }\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n\r\n\r\n\r\n\r\ntargetSdkVersion: 31\r\n\r\nPlease help me!\r\nThanks!","title":"Remove the use of REQUEST_INSTALL_PACKAGES, but what if there isn&#39;t?","body":"<p>I want to ask for help.\nGoogle Play blocked my app because:\n<em>- Please remove the use of REQUEST_INSTALL_PACKAGES permission from your app.</em></p>\n<p><strong>But I don't use such permission!</strong></p>\n<p>I submitted several times, tried to place this in the androidmanifest.xml:</p>\n<pre><code>  &lt;uses-permission\n        android:name=&quot;android.permission.REQUEST_INSTALL_PACKAGES&quot;\n        tools:node=&quot;remove&quot;/&gt;\n</code></pre>\n<p>But it was not accepted even then....\nWhat could be the problem?</p>\n<p>I used this dependecies:</p>\n<pre><code>dependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    //noinspection GradleCompatible\n    implementation 'androidx.appcompat:appcompat:1.0.0'\n    //noinspection GradleCompatible\n    implementation 'com.google.android.material:material:1.0.0'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    implementation 'com.google.android.gms:play-services-ads:16.0.0'\n    implementation 'com.android.volley:volley:1.1.0'\n    implementation 'com.google.firebase:firebase-core:16.0.8'\n    implementation 'com.google.firebase:firebase-messaging:17.3.4'\n    testImplementation 'junit:junit:4.12'\n    //noinspection GradleCompatible\n    androidTestImplementation 'androidx.test.ext:junit:1.1.1'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.1.0'\n}\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n<p>targetSdkVersion: 31</p>\n<p>Please help me!\nThanks!</p>\n"},{"tags":["java","sorting","insertion-sort"],"comments":[{"owner":{"account_id":22705934,"reputation":286,"user_id":16872665,"display_name":"ChrisSc"},"score":0,"creation_date":1669147373,"post_id":74538187,"comment_id":131577229,"body_markdown":"In `addAtHead` assign the old head to the tail, not the new node. Writing down the state of the list on paper may help resolve any other issues","body":"In <code>addAtHead</code> assign the old head to the tail, not the new node. Writing down the state of the list on paper may help resolve any other issues"},{"owner":{"account_id":17257676,"reputation":51,"user_id":12496408,"display_name":"Dani_lucifer923"},"score":0,"creation_date":1669195479,"post_id":74538187,"comment_id":131587138,"body_markdown":"i don&#39;t see problem in addAtHead as it works correctly only the sorting part is bugging","body":"i don&#39;t see problem in addAtHead as it works correctly only the sorting part is bugging"}],"owner":{"account_id":17257676,"reputation":51,"user_id":12496408,"display_name":"Dani_lucifer923"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669152442,"creation_date":1669146377,"question_id":74538187,"body_markdown":"i was trying to perform insertion sort on a doubly linked list and before anyone suggest that i should use sorted insertion i know it can be done but it is not allowed for the work.\r\nhere is the code:\r\n\r\n```\r\nimport java.util.ArrayList;\r\n\r\npublic class DLinkedList {\r\n\r\n\tprivate class Node {\r\n\t\tprivate int value;\r\n\t\tprivate Node nextNode;\r\n\t\tprivate Node prevNode;\r\n\r\n\t\tpublic Node(int v) {\r\n\t\t\tvalue = v;\r\n\t\t\tnextNode = null;\r\n\t\t\tprevNode = null;\r\n\t\t}\r\n\r\n\t\tpublic int getValue() {\r\n\t\t\treturn value;\r\n\t\t}\r\n\r\n\t\tpublic void setValue(int v) {\r\n\t\t\tvalue = v;\r\n\t\t}\r\n\r\n\t\tpublic Node getNextNode() {\r\n\t\t\treturn nextNode;\r\n\t\t}\r\n\r\n\t\tpublic void setNextNode(Node n) {\r\n\t\t\tnextNode = n;\r\n\t\t}\r\n\r\n\t\tpublic Node getPrevNode() {\r\n\t\t\treturn prevNode;\r\n\t\t}\r\n\r\n\t\tpublic void setPrevNode(Node n) {\r\n\t\t\tprevNode = n;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// Holds a reference to the head and tail of the list\r\n\tprivate Node headNode;\r\n\tprivate Node tailNode;\r\n\r\n\tpublic DLinkedList() {\r\n\t\theadNode = null;\r\n\t\ttailNode = null;\r\n\t}\r\n\r\n\tpublic Object getHeadValue() {\r\n\t\tif (headNode == null)\r\n\t\t\treturn null;\r\n\t\treturn headNode.value;\r\n\t}\r\n\r\n\tpublic Object getTailValue() {\r\n\t\tif (tailNode == null)\r\n\t\t\treturn null;\r\n\t\treturn tailNode.value;\r\n\t}\r\n\r\n\tpublic void addAtHead(int o) {\r\n\t\tNode newNode = new Node(o);\r\n\t\tnewNode.setNextNode(headNode);\r\n\t\tif (headNode != null)\r\n\t\t\theadNode.setPrevNode(newNode);\r\n\t\theadNode = newNode;\r\n\t\t// special case for empty list\r\n\t\tif (tailNode == null)\r\n\t\t\ttailNode = newNode;\r\n\t}\r\n\r\n\tpublic void addAtTail(int o) {\r\n\t\tNode newNode = new Node(o);\r\n\t\t// this means that headNode == null too!\r\n\t\tif (tailNode == null) {\r\n\t\t\ttailNode = newNode;\r\n\t\t\theadNode = newNode;\r\n\t\t} else {\r\n\t\t\tnewNode.setPrevNode(tailNode);\r\n\t\t\ttailNode.setNextNode(newNode);\r\n\t\t\ttailNode = newNode;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic int deleteAtHead() {\r\n\t\t// list is empty\r\n\t\tif (headNode == null) {\r\n\t\t\theadNode = null;\r\n\t\t\ttailNode = null;\r\n\t\t\treturn -1;\r\n\t\t}\r\n\t\t// singleton: must update tailnode too\r\n\t\tif (headNode == tailNode) {\r\n\t\t\tint res = headNode.getValue();\r\n\t\t\theadNode = null;\r\n\t\t\ttailNode = null;\r\n\t\t\treturn res;\r\n\t\t}\r\n\r\n\t\tint res = headNode.getValue();\r\n\t\theadNode = headNode.getNextNode();\r\n\t\theadNode.setPrevNode(null);\r\n\t\treturn res;\r\n\t}\r\n\r\n\tpublic int deleteAtTail() {\r\n\t\t// list is empty\r\n\t\tif (tailNode == null) {\r\n\t\t\theadNode = null;\r\n\t\t\ttailNode = null;\r\n\t\t\treturn -1;\r\n\t\t}\r\n\t\t// singleton: must update tailnode too\r\n\t\tif (headNode == tailNode) {\r\n\t\t\tint res = tailNode.getValue();\r\n\t\t\theadNode = null;\r\n\t\t\ttailNode = null;\r\n\t\t\treturn res;\r\n\t\t}\r\n\t\tint res = tailNode.getValue();\r\n\t\ttailNode = tailNode.getPrevNode();\r\n\t\ttailNode.setNextNode(null);\r\n\t\treturn res;\r\n\t}\r\n\r\n\tpublic int delete(Node n) {\r\n\t\tif (n == null)\r\n\t\t\treturn -1;\r\n\t\tNode next = n.getNextNode();\r\n\t\tNode prev = n.getPrevNode();\r\n\t\tint val = n.getValue();\r\n\t\tif (prev != null)\r\n\t\t\tprev.setNextNode(next);\r\n\t\tif (next != null)\r\n\t\t\tnext.setPrevNode(prev);\r\n\t\t// deleting at the end\r\n\t\tif (n == tailNode)\r\n\t\t\ttailNode = prev;\r\n\t\t// deleteing at beginning\r\n\t\tif (n == headNode)\r\n\t\t\theadNode = next;\r\n\t\treturn val;\r\n\t}\r\n\r\n\tpublic void insertAfter(Node n, int val) {\r\n\t\tif (n == null) { // this is the headNode\r\n\t\t\taddAtHead(val);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tNode next = n.getNextNode();\r\n\t\tNode newNode = new Node(val);\r\n\t\tnewNode.setPrevNode(n);\r\n\t\tnewNode.setNextNode(next);\r\n\t\tn.setNextNode(newNode);\r\n\t\tif (next == null) { // insert at tail\r\n\t\t\ttailNode = newNode;\r\n\t\t} else {\r\n\t\t\tnext.setPrevNode(newNode);\r\n\t\t}\r\n\t}\r\n\r\n\t// computes the size of the list\r\n\tpublic int size() {\r\n\t\tif (headNode == null)\r\n\t\t\treturn 0;\r\n\t\tNode n = headNode;\r\n\t\tint size = 0;\r\n\t\twhile (n != null) {\r\n\t\t\tsize++;\r\n\t\t\tn = n.getNextNode();\r\n\t\t}\r\n\t\treturn size;\r\n\t}\r\n\r\n\t// Predicate to check if the linked list is sorted\r\n\tpublic boolean isSorted() {\r\n\t\tif (headNode == null || headNode.nextNode == null)\r\n\t\t\treturn true;\r\n\t\tNode i = headNode.nextNode;\r\n\t\twhile (i != null) {\r\n\t\t\tif (i.getValue() &lt; i.getPrevNode().getValue())\r\n\t\t\t\treturn false;\r\n\t\t\ti = i.nextNode;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\t// toString methods to override printing of object\r\n\tpublic String toString() {\r\n\t\tNode n = headNode;\r\n\t\tStringBuffer buf = new StringBuffer();\r\n\t\twhile (n != null) {\r\n\t\t\tbuf.append(n.getValue());\r\n\t\t\tbuf.append(&quot; &quot;);\r\n\t\t\tn = n.getNetNode();\r\n\t\t}\r\n\t\treturn buf.toString();\r\n\t}\r\n\r\n\tpublic void insertionSort(DLinkedList arr) {\r\n\t\tNode current=arr.headNode.getNextNode();\r\n\t\twhile(current!=null)\r\n\t\t{\r\n\t\t\tNode nextNode=current.getNextNode();\r\n\t\t\tNode searchNode=current.prevNode;\r\n\t\t\t\r\n\t\t\twhile(searchNode!=null &amp;&amp; searchNode.getValue()&gt;current.getValue())\r\n\t\t\t{\r\n\t\t\t\tsearchNode=searchNode.prevNode;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tdelete(current);\r\n\t\t\t\r\n\t\t\tif(searchNode==null) {\r\n\t\t\t\tcurrent.prevNode=null;\r\n\t\t\t\taddAtHead(current.getValue());\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\telse {\r\n\t\t\t\tinsertAfter(searchNode,searchNode.getValue());\r\n\t\t\t}\r\n\t\t\tcurrent=nextNode;\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tDLinkedList d = new DLinkedList();\r\n\t\td.addAtHead(4);\r\n\t\td.addAtHead(1);\r\n\t\td.addAtHead(7);\r\n\t\td.addAtHead(10);\r\n\t\td.addAtHead(101);\r\n\t\tSystem.out.println(&quot;Before sorting: &quot; + d); // this will call the toString method\r\n\t\td.insertionSort(d);\r\n\t\tSystem.out.println(&quot;After sorting: &quot; + d);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nthe list i provided is 101 10 7 1 4\r\nand the list after sorting comes 1 1 7 10 101 \r\ni have been scratching my head for days but can&#39;t figure it out \r\n\r\nFunction you all need to look at is \r\n```\r\npublic void insertionSort(DLinkedList arr)\r\n```\r\n","title":"My insertion sort is not giving desired result and i am not able to figure out","body":"<p>i was trying to perform insertion sort on a doubly linked list and before anyone suggest that i should use sorted insertion i know it can be done but it is not allowed for the work.\nhere is the code:</p>\n<pre><code>import java.util.ArrayList;\n\npublic class DLinkedList {\n\n    private class Node {\n        private int value;\n        private Node nextNode;\n        private Node prevNode;\n\n        public Node(int v) {\n            value = v;\n            nextNode = null;\n            prevNode = null;\n        }\n\n        public int getValue() {\n            return value;\n        }\n\n        public void setValue(int v) {\n            value = v;\n        }\n\n        public Node getNextNode() {\n            return nextNode;\n        }\n\n        public void setNextNode(Node n) {\n            nextNode = n;\n        }\n\n        public Node getPrevNode() {\n            return prevNode;\n        }\n\n        public void setPrevNode(Node n) {\n            prevNode = n;\n        }\n\n    }\n\n    // Holds a reference to the head and tail of the list\n    private Node headNode;\n    private Node tailNode;\n\n    public DLinkedList() {\n        headNode = null;\n        tailNode = null;\n    }\n\n    public Object getHeadValue() {\n        if (headNode == null)\n            return null;\n        return headNode.value;\n    }\n\n    public Object getTailValue() {\n        if (tailNode == null)\n            return null;\n        return tailNode.value;\n    }\n\n    public void addAtHead(int o) {\n        Node newNode = new Node(o);\n        newNode.setNextNode(headNode);\n        if (headNode != null)\n            headNode.setPrevNode(newNode);\n        headNode = newNode;\n        // special case for empty list\n        if (tailNode == null)\n            tailNode = newNode;\n    }\n\n    public void addAtTail(int o) {\n        Node newNode = new Node(o);\n        // this means that headNode == null too!\n        if (tailNode == null) {\n            tailNode = newNode;\n            headNode = newNode;\n        } else {\n            newNode.setPrevNode(tailNode);\n            tailNode.setNextNode(newNode);\n            tailNode = newNode;\n        }\n    }\n\n    public int deleteAtHead() {\n        // list is empty\n        if (headNode == null) {\n            headNode = null;\n            tailNode = null;\n            return -1;\n        }\n        // singleton: must update tailnode too\n        if (headNode == tailNode) {\n            int res = headNode.getValue();\n            headNode = null;\n            tailNode = null;\n            return res;\n        }\n\n        int res = headNode.getValue();\n        headNode = headNode.getNextNode();\n        headNode.setPrevNode(null);\n        return res;\n    }\n\n    public int deleteAtTail() {\n        // list is empty\n        if (tailNode == null) {\n            headNode = null;\n            tailNode = null;\n            return -1;\n        }\n        // singleton: must update tailnode too\n        if (headNode == tailNode) {\n            int res = tailNode.getValue();\n            headNode = null;\n            tailNode = null;\n            return res;\n        }\n        int res = tailNode.getValue();\n        tailNode = tailNode.getPrevNode();\n        tailNode.setNextNode(null);\n        return res;\n    }\n\n    public int delete(Node n) {\n        if (n == null)\n            return -1;\n        Node next = n.getNextNode();\n        Node prev = n.getPrevNode();\n        int val = n.getValue();\n        if (prev != null)\n            prev.setNextNode(next);\n        if (next != null)\n            next.setPrevNode(prev);\n        // deleting at the end\n        if (n == tailNode)\n            tailNode = prev;\n        // deleteing at beginning\n        if (n == headNode)\n            headNode = next;\n        return val;\n    }\n\n    public void insertAfter(Node n, int val) {\n        if (n == null) { // this is the headNode\n            addAtHead(val);\n            return;\n        }\n        Node next = n.getNextNode();\n        Node newNode = new Node(val);\n        newNode.setPrevNode(n);\n        newNode.setNextNode(next);\n        n.setNextNode(newNode);\n        if (next == null) { // insert at tail\n            tailNode = newNode;\n        } else {\n            next.setPrevNode(newNode);\n        }\n    }\n\n    // computes the size of the list\n    public int size() {\n        if (headNode == null)\n            return 0;\n        Node n = headNode;\n        int size = 0;\n        while (n != null) {\n            size++;\n            n = n.getNextNode();\n        }\n        return size;\n    }\n\n    // Predicate to check if the linked list is sorted\n    public boolean isSorted() {\n        if (headNode == null || headNode.nextNode == null)\n            return true;\n        Node i = headNode.nextNode;\n        while (i != null) {\n            if (i.getValue() &lt; i.getPrevNode().getValue())\n                return false;\n            i = i.nextNode;\n        }\n        return true;\n    }\n\n    // toString methods to override printing of object\n    public String toString() {\n        Node n = headNode;\n        StringBuffer buf = new StringBuffer();\n        while (n != null) {\n            buf.append(n.getValue());\n            buf.append(&quot; &quot;);\n            n = n.getNetNode();\n        }\n        return buf.toString();\n    }\n\n    public void insertionSort(DLinkedList arr) {\n        Node current=arr.headNode.getNextNode();\n        while(current!=null)\n        {\n            Node nextNode=current.getNextNode();\n            Node searchNode=current.prevNode;\n            \n            while(searchNode!=null &amp;&amp; searchNode.getValue()&gt;current.getValue())\n            {\n                searchNode=searchNode.prevNode;\n            }\n            \n            delete(current);\n            \n            if(searchNode==null) {\n                current.prevNode=null;\n                addAtHead(current.getValue());\n            }\n            \n            else {\n                insertAfter(searchNode,searchNode.getValue());\n            }\n            current=nextNode;\n            \n            \n        }\n    }\n\n    public static void main(String[] args) {\n        DLinkedList d = new DLinkedList();\n        d.addAtHead(4);\n        d.addAtHead(1);\n        d.addAtHead(7);\n        d.addAtHead(10);\n        d.addAtHead(101);\n        System.out.println(&quot;Before sorting: &quot; + d); // this will call the toString method\n        d.insertionSort(d);\n        System.out.println(&quot;After sorting: &quot; + d);\n    }\n\n}\n\n</code></pre>\n<p>the list i provided is 101 10 7 1 4\nand the list after sorting comes 1 1 7 10 101\ni have been scratching my head for days but can't figure it out</p>\n<p>Function you all need to look at is</p>\n<pre><code>public void insertionSort(DLinkedList arr)\n</code></pre>\n"},{"tags":["javascript","java","build","ant","nashorn"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1583199135,"post_id":60497654,"comment_id":107027417,"body_markdown":"While I don’t know what your `......` line represents, I suspect the parts you’ve shown can be done with regular Ant tasks.","body":"While I don’t know what your <code>......</code> line represents, I suspect the parts you’ve shown can be done with regular Ant tasks."}],"answers":[{"comments":[{"owner":{"account_id":12938746,"reputation":286,"user_id":9355253,"display_name":"Christian Wirth"},"score":0,"creation_date":1584017765,"post_id":60515528,"comment_id":107310897,"body_markdown":"Specifically, you should probably set that to your ANT_OPTS before calling ant:\n\n    `ANT_OPTS=&quot;-Dpolyglot.js.nashorn-compat=true&quot; ant`\n\nSee our [FAQ](https://github.com/graalvm/graaljs/blob/master/docs/user/FAQ.md#my-application-used-to-run-on-nashorn-it-does-not-work-on-graalvm-javascript)","body":"Specifically, you should probably set that to your ANT_OPTS before calling ant:      <code>ANT_OPTS=&quot;-Dpolyglot.js.nashorn-compat=true&quot; ant</code>  See our <a href=\"https://github.com/graalvm/graaljs/blob/master/docs/user/FAQ.md#my-application-used-to-run-on-nashorn-it-does-not-work-on-graalvm-javascript\" rel=\"nofollow noreferrer\">FAQ</a>"}],"tags":[],"owner":{"account_id":1093963,"reputation":3605,"user_id":1087978,"display_name":"Oleg Šelajev"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1583269685,"creation_date":1583269685,"answer_id":60515528,"question_id":60497654,"body_markdown":"GraalVM is currently active, stable, has a [Nashorn compatibility mode](https://github.com/graalvm/graaljs/blob/master/docs/user/NashornMigrationGuide.md#nashorn-compatibility-mode). \r\nYou can run your ant scripts with GraalVM, and the JS engine is included by default. Or you can include GraalVM&#39;s JavaScript as a few dependencies and run on OpenJDK, which will be slower, and might be an untested combination of OpenJDK and GraalVM&#39;s JavaScript, but [can also work](https://github.com/graalvm/graaljs/blob/master/docs/user/RunOnJDK.md). ","title":"Replacing javascript nashorn:mozilla_compat.js use in ant script","body":"<p>GraalVM is currently active, stable, has a <a href=\"https://github.com/graalvm/graaljs/blob/master/docs/user/NashornMigrationGuide.md#nashorn-compatibility-mode\" rel=\"nofollow noreferrer\">Nashorn compatibility mode</a>. \nYou can run your ant scripts with GraalVM, and the JS engine is included by default. Or you can include GraalVM's JavaScript as a few dependencies and run on OpenJDK, which will be slower, and might be an untested combination of OpenJDK and GraalVM's JavaScript, but <a href=\"https://github.com/graalvm/graaljs/blob/master/docs/user/RunOnJDK.md\" rel=\"nofollow noreferrer\">can also work</a>. </p>\n"}],"owner":{"account_id":4578717,"reputation":41,"user_id":3716460,"display_name":"ScottD"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1985,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":60515528,"answer_count":1,"score":0,"last_activity_date":1669151713,"creation_date":1583188730,"question_id":60497654,"body_markdown":"Oracle has depreciated nashorn and I use it in my apache ant build scripts. \r\n\r\nHere is a short example;\r\n\r\n    try{load(&quot;nashorn:mozilla_compat.js&quot;);}catch(e){;}\r\n    \timportClass(java.io.File);\r\n    \tvar sourceName = project.getProperty(&quot;build.source.dir&quot;) + &quot;/&quot; +project.getProperty(&quot;teiFile&quot;) + &quot;.xml&quot;;\r\n       \tvar targetName = project.getProperty(&quot;build.search.dir&quot;) + &quot;/&quot; + project.getProperty(&quot;teiFile&quot;) + &quot;.xml&quot;;\r\n       \tvar sourceFile = new File(&quot;&quot;, sourceName);\r\n       \tvar targetFile = new File(&quot;&quot;, targetName);\r\n        var uptodate = targetFile.exists() &amp;&amp; sourceFile.lastModified() &lt; targetFile.lastModified();\r\n          var sourcePrefix = project.getProperty(&quot;teiFile&quot;);\r\n          if(!uptodate &amp; !sourcePrefix.startsWith(&quot;G&quot;)) {\r\n             ......\r\n           }\r\n    }\r\n\r\nI&#39;ve heard mentions of Rhino or graalVM as a replacement, but each seems to have a fairly long list of deficiencies.Suggestions for a library that is currently active and stable.\r\n\r\nthanks, scott","title":"Replacing javascript nashorn:mozilla_compat.js use in ant script","body":"<p>Oracle has depreciated nashorn and I use it in my apache ant build scripts. </p>\n\n<p>Here is a short example;</p>\n\n<pre><code>try{load(\"nashorn:mozilla_compat.js\");}catch(e){;}\n    importClass(java.io.File);\n    var sourceName = project.getProperty(\"build.source.dir\") + \"/\" +project.getProperty(\"teiFile\") + \".xml\";\n    var targetName = project.getProperty(\"build.search.dir\") + \"/\" + project.getProperty(\"teiFile\") + \".xml\";\n    var sourceFile = new File(\"\", sourceName);\n    var targetFile = new File(\"\", targetName);\n    var uptodate = targetFile.exists() &amp;&amp; sourceFile.lastModified() &lt; targetFile.lastModified();\n      var sourcePrefix = project.getProperty(\"teiFile\");\n      if(!uptodate &amp; !sourcePrefix.startsWith(\"G\")) {\n         ......\n       }\n}\n</code></pre>\n\n<p>I've heard mentions of Rhino or graalVM as a replacement, but each seems to have a fairly long list of deficiencies.Suggestions for a library that is currently active and stable.</p>\n\n<p>thanks, scott</p>\n"},{"tags":["java","treemap"],"comments":[{"owner":{"account_id":1111134,"reputation":2075,"user_id":1101579,"accept_rate":40,"display_name":"claesv"},"score":0,"creation_date":1333613970,"post_id":10025003,"comment_id":12820729,"body_markdown":"Have you looked at e.g. http://docs.oracle.com/javase/6/docs/api/java/util/ConcurrentModificationException.html ?","body":"Have you looked at e.g. <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/ConcurrentModificationException.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/api/java/util/&hellip;</a> ?"}],"answers":[{"comments":[{"owner":{"account_id":5305507,"reputation":4037,"user_id":4233586,"accept_rate":64,"display_name":"yurgis"},"score":3,"creation_date":1441050950,"post_id":10025045,"comment_id":52512865,"body_markdown":"this is clearly a wrong answer as Collections.synchronizedMap() does not protect from ConcurrentModificationException.","body":"this is clearly a wrong answer as Collections.synchronizedMap() does not protect from ConcurrentModificationException."}],"tags":[],"owner":{"account_id":1281287,"reputation":4633,"user_id":1235336,"accept_rate":100,"display_name":"Alex Stybaev"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":true,"score":-1,"last_activity_date":1333614054,"creation_date":1333614054,"answer_id":10025045,"question_id":10025003,"body_markdown":"try using `Collections` :\r\n\r\n        public static Map &lt;Long,Message&gt; map1 = \r\n    Collections.synchronizedMap(new TreeMap&lt;Long,Message&gt;());\r\n\r\nto synchronize your Map instance.","title":"java.util.ConcurrentModificationException in a TreeMap","body":"<p>try using <code>Collections</code> :</p>\n\n<pre><code>    public static Map &lt;Long,Message&gt; map1 = \nCollections.synchronizedMap(new TreeMap&lt;Long,Message&gt;());\n</code></pre>\n\n<p>to synchronize your Map instance.</p>\n"},{"tags":[],"owner":{"account_id":38453,"reputation":8528,"user_id":110353,"display_name":"James"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1333618366,"creation_date":1333618366,"answer_id":10026111,"question_id":10025003,"body_markdown":"The other answers are close, but I don&#39;t believe they&#39;re complete.  If you look at the CME being thrown, it&#39;s in a TreeMap iterator, which won&#39;t be made thread-safe even if you make it be a synchronizedMap.  You still have to explicitly synchronize on the TreeMap during iteration (in this case, serialization, it seems).\r\n\r\nhttps://stackoverflow.com/questions/1775717/explain-synchronization-of-collections-when-iterators-are-used","title":"java.util.ConcurrentModificationException in a TreeMap","body":"<p>The other answers are close, but I don't believe they're complete.  If you look at the CME being thrown, it's in a TreeMap iterator, which won't be made thread-safe even if you make it be a synchronizedMap.  You still have to explicitly synchronize on the TreeMap during iteration (in this case, serialization, it seems).</p>\n\n<p><a href=\"https://stackoverflow.com/questions/1775717/explain-synchronization-of-collections-when-iterators-are-used\">Explain synchronization of collections when iterators are used?</a></p>\n"},{"tags":[],"owner":{"account_id":1188118,"reputation":31,"user_id":1161639,"display_name":"user1161639"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1348831142,"creation_date":1343922984,"answer_id":11781337,"question_id":10025003,"body_markdown":"In theory you could lose a message even with a synchronized map. If a store is called while the `System.out.println()` is in progress. That is after it is serialized but before it is cleared. \r\n\r\nSo I think you could synchronize on the map (but I didn&#39;t test it):\r\n\r\n\tpublic static void store(Message message) throws Exception {\r\n\t\twhile (true) {\r\n\t\t\tlong now = System.currentTimeMillis();\r\n\t\t\tif (now &gt;= runUntilMillis) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tlong precise_time = TimeUnit.MILLISECONDS.toNanos(now)\r\n\t\t\t\t\t+ (System.nanoTime() - start_nanotime);\r\n\t\t\tsynchronized (map1) {\r\n\t\t\t\tmap1.put(precise_time, message);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\t\r\n\tpublic static byte[] returning() throws Exception {\r\n\r\n\t\tsynchronized (map1) {\r\n\t\t\tb = serializer.serialize(map1);\r\n\t\t\tSystem.out.println(b);\r\n\t\t\tmap1.clear();\r\n\t\t}\r\n\t\treturn b;\r\n\t}\r\n","title":"java.util.ConcurrentModificationException in a TreeMap","body":"<p>In theory you could lose a message even with a synchronized map. If a store is called while the <code>System.out.println()</code> is in progress. That is after it is serialized but before it is cleared. </p>\n\n<p>So I think you could synchronize on the map (but I didn't test it):</p>\n\n<pre><code>public static void store(Message message) throws Exception {\n    while (true) {\n        long now = System.currentTimeMillis();\n        if (now &gt;= runUntilMillis) {\n            break;\n        }\n        long precise_time = TimeUnit.MILLISECONDS.toNanos(now)\n                + (System.nanoTime() - start_nanotime);\n        synchronized (map1) {\n            map1.put(precise_time, message);\n        }\n    }\n}\n\npublic static byte[] returning() throws Exception {\n\n    synchronized (map1) {\n        b = serializer.serialize(map1);\n        System.out.println(b);\n        map1.clear();\n    }\n    return b;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3285978,"reputation":3430,"user_id":2765497,"accept_rate":75,"display_name":"Oleksandr B"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1500496197,"creation_date":1407946187,"answer_id":25291082,"question_id":10025003,"body_markdown":"`java.util.concurrent.ConcurrentSkipListMap` is the implementation for Thread safe `TreeMap` and it will keep the natural ordering\r\n\r\n    Map&lt;String, String&gt; treeMap = new ConcurrentSkipListMap&lt;String, String&gt;();\r\n\r\nWe can obtain unmodifiable (read-only) version also as follows:\r\n\r\n    TreeMap tM = new TreeMap();\r\n    Map tM2 = Collections.unmodifiableMap(tm1);\r\n\r\nNow the Map `tM2` is read-only.","title":"java.util.ConcurrentModificationException in a TreeMap","body":"<p><code>java.util.concurrent.ConcurrentSkipListMap</code> is the implementation for Thread safe <code>TreeMap</code> and it will keep the natural ordering</p>\n\n<pre><code>Map&lt;String, String&gt; treeMap = new ConcurrentSkipListMap&lt;String, String&gt;();\n</code></pre>\n\n<p>We can obtain unmodifiable (read-only) version also as follows:</p>\n\n<pre><code>TreeMap tM = new TreeMap();\nMap tM2 = Collections.unmodifiableMap(tm1);\n</code></pre>\n\n<p>Now the Map <code>tM2</code> is read-only.</p>\n"},{"tags":[],"owner":{"account_id":5435374,"reputation":4472,"user_id":4325010,"accept_rate":95,"display_name":"Dimitar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585386283,"creation_date":1500498489,"answer_id":45201028,"question_id":10025003,"body_markdown":"A bit late for the party but still, as @Flinbor pointed out, `ConcurrentSkipListMap` is the way to go in such situation. It is still ordered, naturally or through Comparator, and the access and modification times are the same for both the `ConcurrentSkipListMap` and the `TreeMap` - *O(log(n))*. However, could be a bit slower due to synchronization. \r\n\r\nWhile TreeMap&#39;s Iterator is *fail-fast*, meaning there was a structural modification post iteration creation by other than his own **`remove()`** method. While ConcurrentSkipListMap&#39;s Iterator is weakly consistent, returning elements reflecting the state of the map at some point at or since the creation of the iterator. They do not throw ConcurrentModificationException.","title":"java.util.ConcurrentModificationException in a TreeMap","body":"<p>A bit late for the party but still, as @Flinbor pointed out, <code>ConcurrentSkipListMap</code> is the way to go in such situation. It is still ordered, naturally or through Comparator, and the access and modification times are the same for both the <code>ConcurrentSkipListMap</code> and the <code>TreeMap</code> - <em>O(log(n))</em>. However, could be a bit slower due to synchronization. </p>\n\n<p>While TreeMap's Iterator is <em>fail-fast</em>, meaning there was a structural modification post iteration creation by other than his own <strong><code>remove()</code></strong> method. While ConcurrentSkipListMap's Iterator is weakly consistent, returning elements reflecting the state of the map at some point at or since the creation of the iterator. They do not throw ConcurrentModificationException.</p>\n"},{"tags":[],"owner":{"account_id":15299143,"reputation":13,"user_id":11038217,"display_name":"Suraj Kamble"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669151663,"creation_date":1669151663,"answer_id":74539024,"question_id":10025003,"body_markdown":"Using `ConcurrentSkipListMap` instead of TreeMap worked for me.","title":"java.util.ConcurrentModificationException in a TreeMap","body":"<p>Using <code>ConcurrentSkipListMap</code> instead of TreeMap worked for me.</p>\n"}],"owner":{"account_id":1366706,"reputation":31,"user_id":1302991,"accept_rate":30,"display_name":"kuks"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":10025045,"answer_count":6,"score":0,"last_activity_date":1669151663,"creation_date":1333613852,"question_id":10025003,"body_markdown":"\r\n    public class StoreMessage extends Thread implements Serializable{\r\n    \t\r\n    \tprivate static long start_nanotime=System.nanoTime();\r\n    \tprivate static int timeToRun = 60000; \r\n    \tprivate static byte[] b=null;\r\n    \tprivate static long startTime = System.currentTimeMillis();\r\n    \tprivate static long runUntilMillis = System.currentTimeMillis() + timeToRun;\r\n        public static Map &lt;Long,Message&gt; map1=new TreeMap&lt;Long,Message&gt;();\r\n\r\n    public static void store(Message message)throws Exception{\r\n            while (true) {\r\n    \t\t    long now = System.currentTimeMillis();\r\n    \t\t    if (now &gt;= runUntilMillis) {\r\n    \t\t       break;\r\n    \t\t    }\r\n    \t\t    long precise_time=TimeUnit.MILLISECONDS.toNanos(now)+(System.nanoTime()-start_nanotime);\r\n    \t\t    map1.put(precise_time, message);\r\n               }\r\n         }\r\n\r\n    public static byte[] returning()throws Exception\r\n    \t{ \r\n    \t\t\r\n    \t\tb=serializer.serialize(map1);\r\n    \t\tSystem.out.println(b);\r\n    \t\tmap1.clear();\r\n    \t\treturn b;\r\n    \r\n    \t\t\t\t\r\n    \t}\r\n    }\r\n\r\nWhat I am trying to do is, store all my message objects received by the class StoreMessage in every one minute to a TreeMap, serialize that TreeMap and return it to the class calling it, and create/clear the TreeMap for the next minute to store the other message objects.&lt;br&gt;\r\nMessage object of the message class are jms text messages, which are input as command-line-arguments. The `store` method is called in another class, while the `returning()` method is called in a different class. Both classes, when instantiated and run, with more than one argument, give me an exception\r\n\r\n    java.util.ConcurrentModificationException\r\n    at java.util.TreeMap$PrivateEntryIterator.nextEntry(TreeMap.java:1100)\r\n    at java.util.TreeMap$EntryIterator.next(TreeMap.java:1136)\r\n    at java.util.TreeMap$EntryIterator.next(TreeMap.java:1131)\r\n    at java.util.TreeMap.writeObject(TreeMap.java:2250)\r\n\r\nWhy? Especially, when I am clearing the map. I do not get this exception, if I am giving only one command-line-argument. But if it is complied over and over,i get the same exception.&lt;br&gt;\r\nSecondly, I noticed that, as and when the message objects as received, they are stored into the TreeMap and serialized and returned. When I want the tree map to store the messages for one minute and then serialize the whole lot.\r\n","title":"java.util.ConcurrentModificationException in a TreeMap","body":"<pre><code>public class StoreMessage extends Thread implements Serializable{\n\n    private static long start_nanotime=System.nanoTime();\n    private static int timeToRun = 60000; \n    private static byte[] b=null;\n    private static long startTime = System.currentTimeMillis();\n    private static long runUntilMillis = System.currentTimeMillis() + timeToRun;\n    public static Map &lt;Long,Message&gt; map1=new TreeMap&lt;Long,Message&gt;();\n\npublic static void store(Message message)throws Exception{\n        while (true) {\n            long now = System.currentTimeMillis();\n            if (now &gt;= runUntilMillis) {\n               break;\n            }\n            long precise_time=TimeUnit.MILLISECONDS.toNanos(now)+(System.nanoTime()-start_nanotime);\n            map1.put(precise_time, message);\n           }\n     }\n\npublic static byte[] returning()throws Exception\n    { \n\n        b=serializer.serialize(map1);\n        System.out.println(b);\n        map1.clear();\n        return b;\n\n\n    }\n}\n</code></pre>\n\n<p>What I am trying to do is, store all my message objects received by the class StoreMessage in every one minute to a TreeMap, serialize that TreeMap and return it to the class calling it, and create/clear the TreeMap for the next minute to store the other message objects.<br>\nMessage object of the message class are jms text messages, which are input as command-line-arguments. The <code>store</code> method is called in another class, while the <code>returning()</code> method is called in a different class. Both classes, when instantiated and run, with more than one argument, give me an exception</p>\n\n<pre><code>java.util.ConcurrentModificationException\nat java.util.TreeMap$PrivateEntryIterator.nextEntry(TreeMap.java:1100)\nat java.util.TreeMap$EntryIterator.next(TreeMap.java:1136)\nat java.util.TreeMap$EntryIterator.next(TreeMap.java:1131)\nat java.util.TreeMap.writeObject(TreeMap.java:2250)\n</code></pre>\n\n<p>Why? Especially, when I am clearing the map. I do not get this exception, if I am giving only one command-line-argument. But if it is complied over and over,i get the same exception.<br>\nSecondly, I noticed that, as and when the message objects as received, they are stored into the TreeMap and serialized and returned. When I want the tree map to store the messages for one minute and then serialize the whole lot.</p>\n"},{"tags":["java","algorithm","data-structures"],"comments":[{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":1,"creation_date":1669152068,"post_id":74538975,"comment_id":131578544,"body_markdown":"*&quot;i have a code here that print in this order:&quot;*: but that isn&#39;t the code you have provided in the question...","body":"<i>&quot;i have a code here that print in this order:&quot;</i>: but that isn&#39;t the code you have provided in the question..."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1669152141,"post_id":74538975,"comment_id":131578568,"body_markdown":"Please provide a runnable example which illustrates your question.","body":"Please provide a runnable example which illustrates your question."}],"owner":{"account_id":23012859,"reputation":341,"user_id":17135136,"display_name":"itmemilan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669151565,"creation_date":1669151333,"question_id":74538975,"body_markdown":"How can i make doubly linked lists print in this order:&lt;br&gt;\r\n1&lt;-&gt;2&lt;-&gt;3&lt;-&gt;4&lt;-&gt;5&lt;-&gt; etc..&lt;br&gt;\r\nFor example i have a code here that print in this order:&lt;br&gt;\r\n&lt;-1-&gt;&lt;-2-&gt;&lt;-3-&gt;&lt;-4-&gt;&lt;-5-&gt;&lt;br&gt;\r\nWhat should i modify in my `toString();` function ?\r\n  \r\n\r\n      @Override\r\n            public String toString() {\r\n                String ret = new String();\r\n                if (first != null) {\r\n                    DLLNode&lt;E&gt; tmp = first;\r\n                    ret += tmp + &quot;&lt;-&gt;&quot;;\r\n                    while (tmp.succ != null) {\r\n                        tmp = tmp.succ;\r\n                        ret += tmp;\r\n                    }\r\n                } else\r\n                    ret = &quot;Empty list&quot;;\r\n                return ret;\r\n            }","title":"How to modify DLL toString method?","body":"<p>How can i make doubly linked lists print in this order:<br>\n1&lt;-&gt;2&lt;-&gt;3&lt;-&gt;4&lt;-&gt;5&lt;-&gt; etc..<br>\nFor example i have a code here that print in this order:<br>\n&lt;-1-&gt;&lt;-2-&gt;&lt;-3-&gt;&lt;-4-&gt;&lt;-5-&gt;<br>\nWhat should i modify in my <code>toString();</code> function ?</p>\n<pre><code>  @Override\n        public String toString() {\n            String ret = new String();\n            if (first != null) {\n                DLLNode&lt;E&gt; tmp = first;\n                ret += tmp + &quot;&lt;-&gt;&quot;;\n                while (tmp.succ != null) {\n                    tmp = tmp.succ;\n                    ret += tmp;\n                }\n            } else\n                ret = &quot;Empty list&quot;;\n            return ret;\n        }\n</code></pre>\n"},{"tags":["java","spring","minecraft","bukkit","spigot"],"answers":[{"tags":[],"owner":{"account_id":24677130,"reputation":40,"user_id":18571385,"display_name":"DevOskar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669151329,"creation_date":1669151329,"answer_id":74538974,"question_id":71171572,"body_markdown":"Spring needs at least one source wich is annotated with ``@ComponentScan`` to scan for components.\r\n\r\nYou could use the ``SpringApplicationBuilder``. It provides an easy setup with the builder pattern.\r\n```java\r\nApplicationContext context = new SpringApplicationBuilder(Main.class)\r\n  .run(new String[]{});\r\n```","title":"Spring does not scan components without main function","body":"<p>Spring needs at least one source wich is annotated with <code>@ComponentScan</code> to scan for components.</p>\n<p>You could use the <code>SpringApplicationBuilder</code>. It provides an easy setup with the builder pattern.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ApplicationContext context = new SpringApplicationBuilder(Main.class)\n  .run(new String[]{});\n</code></pre>\n"}],"owner":{"account_id":20659062,"reputation":39,"user_id":15167433,"display_name":"Justin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74538974,"answer_count":1,"score":1,"last_activity_date":1669151329,"creation_date":1645178513,"question_id":71171572,"body_markdown":"I am trying to implement Spring in a spigot plugin. I noticed I got the BeanNotFoundException, when searching around on the internet I tried some things but it never worked. So I tried running the same code in the main function and it worked perfectly.  \r\n\r\nJava plugin code:\r\n\r\n    private static AnnotationConfigApplicationContext context;\r\n\r\n    @Override\r\n    public void onEnable() {\r\n        context = new AnnotationConfigApplicationContext(&quot;net.kikker234&quot;);\r\n\r\n        Arrays.stream(context.getBeanDefinitionNames()).forEach(System.out::println);\r\n    }\r\n\r\nMain code:\r\n\r\n    private static AnnotationConfigApplicationContext context;\r\n\r\n    public static void main(String[] args) {\r\n        context = new AnnotationConfigApplicationContext(&quot;net.kikker234&quot;);\r\n\r\n        Arrays.stream(context.getBeanDefinitionNames()).forEach(System.out::println);\r\n    }\r\n\r\n\r\nPom.xml dependencies:\r\n\r\n       &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.spigotmc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spigot-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18-R0.1-SNAPSHOT&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.22&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;version&gt;5.6.4.Final&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.15&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nOutput main function:\r\n\r\n        org.springframework.context.annotation.internalConfigurationAnnotationProcessor\r\n    org.springframework.context.annotation.internalAutowiredAnnotationProcessor\r\n    org.springframework.context.annotation.internalPersistenceAnnotationProcessor\r\n    org.springframework.context.event.internalEventListenerProcessor\r\n    org.springframework.context.event.internalEventListenerFactory\r\n    core\r\n    registration\r\n\r\nOutput java plugin:\r\n\r\n\r\n      [10:56:00] [Server thread/INFO]: org.springframework.context.annotation.internalConfigurationAnnotationProcessor\r\n    [10:56:00] [Server thread/INFO]: org.springframework.context.annotation.internalAutowiredAnnotationProcessor\r\n    [10:56:00] [Server thread/INFO]: org.springframework.context.annotation.internalPersistenceAnnotationProcessor\r\n    [10:56:00] [Server thread/INFO]: org.springframework.context.event.internalEventListenerProcessor\r\n    [10:56:00] [Server thread/INFO]: org.springframework.context.event.internalEventListenerFactory\r\n\r\nI understand that I can&#39;t use the main function in a plugin, but what can I try as a workaround?\r\n\r\nBTW: when I use the @ComponentScan annotation it didn&#39;t work in both cases.","title":"Spring does not scan components without main function","body":"<p>I am trying to implement Spring in a spigot plugin. I noticed I got the BeanNotFoundException, when searching around on the internet I tried some things but it never worked. So I tried running the same code in the main function and it worked perfectly.</p>\n<p>Java plugin code:</p>\n<pre><code>private static AnnotationConfigApplicationContext context;\n\n@Override\npublic void onEnable() {\n    context = new AnnotationConfigApplicationContext(&quot;net.kikker234&quot;);\n\n    Arrays.stream(context.getBeanDefinitionNames()).forEach(System.out::println);\n}\n</code></pre>\n<p>Main code:</p>\n<pre><code>private static AnnotationConfigApplicationContext context;\n\npublic static void main(String[] args) {\n    context = new AnnotationConfigApplicationContext(&quot;net.kikker234&quot;);\n\n    Arrays.stream(context.getBeanDefinitionNames()).forEach(System.out::println);\n}\n</code></pre>\n<p>Pom.xml dependencies:</p>\n<pre><code>   &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.spigotmc&lt;/groupId&gt;\n        &lt;artifactId&gt;spigot-api&lt;/artifactId&gt;\n        &lt;version&gt;1.18-R0.1-SNAPSHOT&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.18.22&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;5.6.4.Final&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n        &lt;version&gt;5.3.15&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n        &lt;version&gt;2.6.3&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Output main function:</p>\n<pre><code>    org.springframework.context.annotation.internalConfigurationAnnotationProcessor\norg.springframework.context.annotation.internalAutowiredAnnotationProcessor\norg.springframework.context.annotation.internalPersistenceAnnotationProcessor\norg.springframework.context.event.internalEventListenerProcessor\norg.springframework.context.event.internalEventListenerFactory\ncore\nregistration\n</code></pre>\n<p>Output java plugin:</p>\n<pre><code>  [10:56:00] [Server thread/INFO]: org.springframework.context.annotation.internalConfigurationAnnotationProcessor\n[10:56:00] [Server thread/INFO]: org.springframework.context.annotation.internalAutowiredAnnotationProcessor\n[10:56:00] [Server thread/INFO]: org.springframework.context.annotation.internalPersistenceAnnotationProcessor\n[10:56:00] [Server thread/INFO]: org.springframework.context.event.internalEventListenerProcessor\n[10:56:00] [Server thread/INFO]: org.springframework.context.event.internalEventListenerFactory\n</code></pre>\n<p>I understand that I can't use the main function in a plugin, but what can I try as a workaround?</p>\n<p>BTW: when I use the @ComponentScan annotation it didn't work in both cases.</p>\n"},{"tags":["java","eclipse","pom.xml","bukkit"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1669150897,"post_id":74538885,"comment_id":131578233,"body_markdown":"[There is no `3.8.6` version of the `maven-compiler-plugin`](https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-compiler-plugin).","body":"<a href=\"https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-compiler-plugin\" rel=\"nofollow noreferrer\">There is no <code>3.8.6</code> version of the <code>maven-compiler-plugin</code></a>."},{"owner":{"account_id":17872956,"reputation":727,"user_id":12985497,"display_name":"Caledonian26"},"score":0,"creation_date":1669151098,"post_id":74538885,"comment_id":131578287,"body_markdown":"Thanks so much - I changed it to 3.10.1 and lowered the target version to 17 (rather than 19) and both those things made the code work! :)","body":"Thanks so much - I changed it to 3.10.1 and lowered the target version to 17 (rather than 19) and both those things made the code work! :)"}],"answers":[{"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1669151211,"post_id":74538940,"comment_id":131578303,"body_markdown":"Java 1.8  was released in 2014. The last LTS is Java 17. The last release is Java 19.","body":"Java 1.8  was released in 2014. The last LTS is Java 17. The last release is Java 19."},{"owner":{"account_id":17872956,"reputation":727,"user_id":12985497,"display_name":"Caledonian26"},"score":0,"creation_date":1669151218,"post_id":74538940,"comment_id":131578304,"body_markdown":"Thanks so much - I have now solved the issue - I changed the version and target :)! (see below)","body":"Thanks so much - I have now solved the issue - I changed the version and target :)! (see below)"},{"owner":{"account_id":4107942,"reputation":15,"user_id":3371369,"display_name":"Ian"},"score":0,"creation_date":1669152220,"post_id":74538940,"comment_id":131578597,"body_markdown":"Didn&#39;t realize that was referring to the JDK, makes sense.  I try to stay out of our POM if I can. Also since I can&#39;t comment on the below. Version 17 is the LTS version, so I would  recommend sticking with 17 over 18 or 19.","body":"Didn&#39;t realize that was referring to the JDK, makes sense.  I try to stay out of our POM if I can. Also since I can&#39;t comment on the below. Version 17 is the LTS version, so I would  recommend sticking with 17 over 18 or 19."}],"tags":[],"owner":{"account_id":4107942,"reputation":15,"user_id":3371369,"display_name":"Ian"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669151123,"creation_date":1669151123,"answer_id":74538940,"question_id":74538885,"body_markdown":"The source and target look wrong, are you sure they shouldn&#39;t be 1.8? That is the only number I see listed. Double check that and try running mvn compile and see if that didn&#39;t fix it.","title":"The POM for org.apache.maven.plugins:maven-compiler-plugin:jar:3.8.6 is missing - not sure why","body":"<p>The source and target look wrong, are you sure they shouldn't be 1.8? That is the only number I see listed. Double check that and try running mvn compile and see if that didn't fix it.</p>\n"},{"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1669151449,"post_id":74538949,"comment_id":131578352,"body_markdown":"Are you sure yo need to downgrade `&lt;source&gt;` and `&lt;target&gt;` to `17`? It should work if you set `&lt;release&gt;19&lt;/release&gt;` instead of `&lt;source&gt;` and `&lt;target&gt;` (taken from [this answer](https://stackoverflow.com/a/73264624/4216641) by [Basil Bourque](https://stackoverflow.com/users/642706/basil-bourque))","body":"Are you sure yo need to downgrade <code>&lt;source&gt;</code> and <code>&lt;target&gt;</code> to <code>17</code>? It should work if you set <code>&lt;release&gt;19&lt;&#47;release&gt;</code> instead of <code>&lt;source&gt;</code> and <code>&lt;target&gt;</code> (taken from <a href=\"https://stackoverflow.com/a/73264624/4216641\">this answer</a> by <a href=\"https://stackoverflow.com/users/642706/basil-bourque\">Basil Bourque</a>)"},{"owner":{"account_id":17872956,"reputation":727,"user_id":12985497,"display_name":"Caledonian26"},"score":0,"creation_date":1669156179,"post_id":74538949,"comment_id":131579599,"body_markdown":"Does it make a significant difference? :)","body":"Does it make a significant difference? :)"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1669156284,"post_id":74538949,"comment_id":131579631,"body_markdown":"[I would say so](https://www.infoworld.com/article/3630510/jdk-18-the-new-features-in-java-18.html), [yes](https://www.infoworld.com/article/3653331/jdk-19-the-new-features-in-java-19.html).","body":"<a href=\"https://www.infoworld.com/article/3630510/jdk-18-the-new-features-in-java-18.html\" rel=\"nofollow noreferrer\">I would say so</a>, <a href=\"https://www.infoworld.com/article/3653331/jdk-19-the-new-features-in-java-19.html\" rel=\"nofollow noreferrer\">yes</a>."}],"tags":[],"owner":{"account_id":17872956,"reputation":727,"user_id":12985497,"display_name":"Caledonian26"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669151201,"creation_date":1669151201,"answer_id":74538949,"question_id":74538885,"body_markdown":"I changed the version to 3.10.1 and the target to 17 as follows, and the code successfully ran: \r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;newestfile.here&lt;/groupId&gt;\r\n      &lt;artifactId&gt;newestplugin&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n          &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                  &lt;version&gt;3.10.1&lt;/version&gt;       \r\n                  &lt;configuration&gt;\r\n                      &lt;source&gt;17&lt;/source&gt;\r\n                      &lt;target&gt;17&lt;/target&gt;\r\n                  &lt;/configuration&gt;   \r\n            &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n       &lt;repositories&gt;\r\n           &lt;repository&gt;\r\n             &lt;id&gt;spigot-repo&lt;/id&gt;\r\n             &lt;url&gt;https://hub.spigotmc.org/nexus/content/repositories/public/&lt;/url&gt;\r\n           &lt;/repository&gt;\r\n       &lt;/repositories&gt;\r\n          &lt;dependencies&gt;\r\n           &lt;dependency&gt;\r\n               &lt;groupId&gt;org.spigotmc&lt;/groupId&gt;\r\n               &lt;artifactId&gt;spigot-api&lt;/artifactId&gt;\r\n               &lt;version&gt;1.16.5-R0.1-SNAPSHOT&lt;/version&gt;&lt;!--change this value depending on the version or use LATEST--&gt;\r\n               &lt;type&gt;jar&lt;/type&gt;\r\n               &lt;scope&gt;provided&lt;/scope&gt;\r\n           &lt;/dependency&gt;\r\n       &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nThanks so much for all your help! ","title":"The POM for org.apache.maven.plugins:maven-compiler-plugin:jar:3.8.6 is missing - not sure why","body":"<p>I changed the version to 3.10.1 and the target to 17 as follows, and the code successfully ran:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;newestfile.here&lt;/groupId&gt;\n  &lt;artifactId&gt;newestplugin&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;build&gt;\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n              &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n              &lt;version&gt;3.10.1&lt;/version&gt;       \n              &lt;configuration&gt;\n                  &lt;source&gt;17&lt;/source&gt;\n                  &lt;target&gt;17&lt;/target&gt;\n              &lt;/configuration&gt;   \n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n&lt;/build&gt;\n   &lt;repositories&gt;\n       &lt;repository&gt;\n         &lt;id&gt;spigot-repo&lt;/id&gt;\n         &lt;url&gt;https://hub.spigotmc.org/nexus/content/repositories/public/&lt;/url&gt;\n       &lt;/repository&gt;\n   &lt;/repositories&gt;\n      &lt;dependencies&gt;\n       &lt;dependency&gt;\n           &lt;groupId&gt;org.spigotmc&lt;/groupId&gt;\n           &lt;artifactId&gt;spigot-api&lt;/artifactId&gt;\n           &lt;version&gt;1.16.5-R0.1-SNAPSHOT&lt;/version&gt;&lt;!--change this value depending on the version or use LATEST--&gt;\n           &lt;type&gt;jar&lt;/type&gt;\n           &lt;scope&gt;provided&lt;/scope&gt;\n       &lt;/dependency&gt;\n   &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Thanks so much for all your help!</p>\n"},{"comments":[{"owner":{"account_id":17872956,"reputation":727,"user_id":12985497,"display_name":"Caledonian26"},"score":0,"creation_date":1669151272,"post_id":74538954,"comment_id":131578316,"body_markdown":"thanks so much - I have now solved it (solution below)! :) ...I changed the version as you said","body":"thanks so much - I have now solved it (solution below)! :) ...I changed the version as you said"}],"tags":[],"owner":{"account_id":19496972,"reputation":2160,"user_id":14263933,"display_name":"aatwork"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669151250,"creation_date":1669151250,"answer_id":74538954,"question_id":74538885,"body_markdown":"maven-compiler-plugin doesn&#39;t have 3.8.6 version. You need to choose some other version. Here is the available version list https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-compiler-plugin.","title":"The POM for org.apache.maven.plugins:maven-compiler-plugin:jar:3.8.6 is missing - not sure why","body":"<p>maven-compiler-plugin doesn't have 3.8.6 version. You need to choose some other version. Here is the available version list <a href=\"https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-compiler-plugin\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-compiler-plugin</a>.</p>\n"}],"owner":{"account_id":17872956,"reputation":727,"user_id":12985497,"display_name":"Caledonian26"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":866,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1669151250,"creation_date":1669150752,"question_id":74538885,"body_markdown":"I have the following code. \r\n\r\nI am trying to create a **&#39;pom.xml&#39;** file for a **bukkit** plugin (Minecraft) using Maven.\r\n\r\nHowever, this gives me the error: **&#39;The POM for org.apache.maven.plugins:maven-compiler-plugin:jar:3.8.6 is missing&#39;**. \r\n\r\nI have tried to trouble shoot a few different solutions but haven&#39;t been successful in any. \r\n\r\nI would be so grateful for a helping hand! \r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;newestfile.here&lt;/groupId&gt;\r\n  &lt;artifactId&gt;newestplugin&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  &lt;build&gt;\r\n    &lt;pluginManagement&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.8.6&lt;/version&gt;       \r\n              &lt;configuration&gt;\r\n                  &lt;source&gt;19&lt;/source&gt;\r\n                  &lt;target&gt;19&lt;/target&gt;\r\n              &lt;/configuration&gt;   \r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n```\r\n","title":"The POM for org.apache.maven.plugins:maven-compiler-plugin:jar:3.8.6 is missing - not sure why","body":"<p>I have the following code.</p>\n<p>I am trying to create a <strong>'pom.xml'</strong> file for a <strong>bukkit</strong> plugin (Minecraft) using Maven.</p>\n<p>However, this gives me the error: <strong>'The POM for org.apache.maven.plugins:maven-compiler-plugin:jar:3.8.6 is missing'</strong>.</p>\n<p>I have tried to trouble shoot a few different solutions but haven't been successful in any.</p>\n<p>I would be so grateful for a helping hand!</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;newestfile.here&lt;/groupId&gt;\n  &lt;artifactId&gt;newestplugin&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;build&gt;\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n              &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n              &lt;version&gt;3.8.6&lt;/version&gt;       \n              &lt;configuration&gt;\n                  &lt;source&gt;19&lt;/source&gt;\n                  &lt;target&gt;19&lt;/target&gt;\n              &lt;/configuration&gt;   \n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n</code></pre>\n"},{"tags":["java","minecraft","minecraft-fabric"],"owner":{"account_id":25407943,"reputation":31,"user_id":19216314,"display_name":"DerDane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669151235,"creation_date":1668868449,"question_id":74500895,"body_markdown":"I am relatively new to programming Minecraft Mods and just tried to code a client side mode using the fabirc API.\r\n\r\nMy problem so far is, that I want to animate my currently held Item, so I coded a way to move and rotate the Item.\r\nBut now I can clearly see that the movement is relatively clunky, even though I am using a de Casteljau Algorithm to compute the new position of my Item\r\n\r\nSo my question is:\r\n\r\nIs there A way to execute my code at a higher rate, as once per tick (20 times a second)?\r\nSomething like once half a tick (40 times a second) or even more\r\n\r\n[![Current Process][1]][1]\r\n\r\n[if the above gif isnt loading][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UlmXj.gif\r\n  [2]: https://cdn.discordapp.com/attachments/706821180426027058/1043192751971377234/ezgif.com-gif-maker.gif","title":"Minecraft Fabric Moding: how to increase tick rate for only one class?","body":"<p>I am relatively new to programming Minecraft Mods and just tried to code a client side mode using the fabirc API.</p>\n<p>My problem so far is, that I want to animate my currently held Item, so I coded a way to move and rotate the Item.\nBut now I can clearly see that the movement is relatively clunky, even though I am using a de Casteljau Algorithm to compute the new position of my Item</p>\n<p>So my question is:</p>\n<p>Is there A way to execute my code at a higher rate, as once per tick (20 times a second)?\nSomething like once half a tick (40 times a second) or even more</p>\n<p><a href=\"https://i.stack.imgur.com/UlmXj.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UlmXj.gif\" alt=\"Current Process\" /></a></p>\n<p><a href=\"https://cdn.discordapp.com/attachments/706821180426027058/1043192751971377234/ezgif.com-gif-maker.gif\" rel=\"nofollow noreferrer\">if the above gif isnt loading</a></p>\n"},{"tags":["java","json","gson","deserialization","record"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":2,"creation_date":1664543057,"post_id":73909212,"comment_id":130501999,"body_markdown":"https://github.com/google/gson/issues/1794","body":"<a href=\"https://github.com/google/gson/issues/1794\" rel=\"nofollow noreferrer\">github.com/google/gson/issues/1794</a>"},{"owner":{"account_id":19740305,"reputation":101,"user_id":14453810,"display_name":"sahzudin"},"score":0,"creation_date":1664544330,"post_id":73909212,"comment_id":130502455,"body_markdown":"We will probably use @Value annotation from Lombok instead of records. This way we got clean code just like when using records and Gson works too.","body":"We will probably use @Value annotation from Lombok instead of records. This way we got clean code just like when using records and Gson works too."},{"owner":{"account_id":13047412,"reputation":2792,"user_id":9428851,"display_name":"Victor Gubin"},"score":0,"creation_date":1664545671,"post_id":73909212,"comment_id":130502984,"body_markdown":"Record is immutable, i.e. all fields are final. Check it https://www.baeldung.com/java-record-keyword Type Adapter needed","body":"Record is immutable, i.e. all fields are final. Check it <a href=\"https://www.baeldung.com/java-record-keyword\" rel=\"nofollow noreferrer\">baeldung.com/java-record-keyword</a> Type Adapter needed"}],"answers":[{"tags":[],"owner":{"account_id":1791528,"reputation":175,"user_id":1631803,"display_name":"Austin"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1669151190,"creation_date":1669151190,"answer_id":74538947,"question_id":73909212,"body_markdown":"Gson 2.10 supports Java 16+ records: https://github.com/google/gson/releases\r\n\r\nThe previously linked https://github.com/google/gson/issues/1794 has a number of workarounds in thread if you can&#39;t upgrade.","title":"Deserialize JSON to java record using Gson","body":"<p>Gson 2.10 supports Java 16+ records: <a href=\"https://github.com/google/gson/releases\" rel=\"noreferrer\">https://github.com/google/gson/releases</a></p>\n<p>The previously linked <a href=\"https://github.com/google/gson/issues/1794\" rel=\"noreferrer\">https://github.com/google/gson/issues/1794</a> has a number of workarounds in thread if you can't upgrade.</p>\n"}],"owner":{"account_id":19740305,"reputation":101,"user_id":14453810,"display_name":"sahzudin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3709,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":74538947,"answer_count":1,"score":2,"last_activity_date":1669151190,"creation_date":1664542942,"question_id":73909212,"body_markdown":"Here is my code example\r\n\r\n``` \r\n  public record Person(String firstName, String lastName) {}\r\n\r\n  @Test\r\n  void test() {\r\n    String json =\r\n        &quot;&quot;&quot;\r\n            {\r\n                &quot;firstName&quot;: &quot;John&quot;,\r\n                &quot;lastName&quot;: &quot;Doe&quot;\r\n            }\r\n        &quot;&quot;&quot;;\r\n\r\n    Person person = new Gson().fromJson(json, Person.class);\r\n\r\n    assertEquals(&quot;John&quot;, person.firstName);\r\n  }\r\n```\r\n\r\nHere is an exception I get:\r\n\r\n```\r\njava.lang.AssertionError: AssertionError (GSON 2.8.9): java.lang.IllegalAccessException: Can not set final java.lang.String field com.test.GsonTest$Person.firstName to java.lang.String\r\n```\r\n\r\nIs there any way to deserialize JSON to java record using Gson?","title":"Deserialize JSON to java record using Gson","body":"<p>Here is my code example</p>\n<pre><code>  public record Person(String firstName, String lastName) {}\n\n  @Test\n  void test() {\n    String json =\n        &quot;&quot;&quot;\n            {\n                &quot;firstName&quot;: &quot;John&quot;,\n                &quot;lastName&quot;: &quot;Doe&quot;\n            }\n        &quot;&quot;&quot;;\n\n    Person person = new Gson().fromJson(json, Person.class);\n\n    assertEquals(&quot;John&quot;, person.firstName);\n  }\n</code></pre>\n<p>Here is an exception I get:</p>\n<pre><code>java.lang.AssertionError: AssertionError (GSON 2.8.9): java.lang.IllegalAccessException: Can not set final java.lang.String field com.test.GsonTest$Person.firstName to java.lang.String\n</code></pre>\n<p>Is there any way to deserialize JSON to java record using Gson?</p>\n"},{"tags":["java","jpa","inheritance","jpql"],"comments":[{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1646762547,"post_id":71399443,"comment_id":126202551,"body_markdown":"please add all the relevant code to the `@NamedQuery` . The error seems to not match what you have posted","body":"please add all the relevant code to the <code>@NamedQuery</code> . The error seems to not match what you have posted"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1646763248,"post_id":71399443,"comment_id":126202792,"body_markdown":"Why are you adding &quot;AND s.type LIKE &#39;Fixed Internet&#39;&quot; to your query? Querying on FixedInternet automatically adds filters so you only get back FixedInternet instances. This would only be necessary if you want to exclude potential FixedInternet subclasses from the results, and you should be using the JPQL &#39;TYPE&#39; expression for that &quot;where TYPE(s) = FixedInternet&quot;","body":"Why are you adding &quot;AND s.type LIKE &#39;Fixed Internet&#39;&quot; to your query? Querying on FixedInternet automatically adds filters so you only get back FixedInternet instances. This would only be necessary if you want to exclude potential FixedInternet subclasses from the results, and you should be using the JPQL &#39;TYPE&#39; expression for that &quot;where TYPE(s) = FixedInternet&quot;"},{"owner":{"account_id":18678794,"reputation":23,"user_id":13615867,"display_name":"Valentina Politi"},"score":0,"creation_date":1646769490,"post_id":71399443,"comment_id":126204832,"body_markdown":"@PanagiotisBougioukos the query is the one that i wrote, it is completed, there is nothing else..","body":"@PanagiotisBougioukos the query is the one that i wrote, it is completed, there is nothing else.."},{"owner":{"account_id":18678794,"reputation":23,"user_id":13615867,"display_name":"Valentina Politi"},"score":0,"creation_date":1646769497,"post_id":71399443,"comment_id":126204835,"body_markdown":"@Chris i also tried to not add &quot;AND s.type LIKE &#39;Fixed Internet&#39;, but the error is pretty much the same (i updated the question with the result without that part)","body":"@Chris i also tried to not add &quot;AND s.type LIKE &#39;Fixed Internet&#39;, but the error is pretty much the same (i updated the question with the result without that part)"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1646771176,"post_id":71399443,"comment_id":126205389,"body_markdown":"the error doesn&#39;t match the query being executed - there are too many parentheses and the error states Like is being used instead of &#39;=&#39;. Looks too much like your old query, like the statement was cached and being reused - did you maybe cut and paste the old error string? Otherwise, try a clean restart, and maybe turn on SQL and parameter logging to see the statement that is executed before it issues the error. It is odd it starts off with the &#39;-&#39; though. Is that character allowed in table names for your database? You might try changing the table name to avoid &#39;-&#39;, using &#39;_&#39; instead.","body":"the error doesn&#39;t match the query being executed - there are too many parentheses and the error states Like is being used instead of &#39;=&#39;. Looks too much like your old query, like the statement was cached and being reused - did you maybe cut and paste the old error string? Otherwise, try a clean restart, and maybe turn on SQL and parameter logging to see the statement that is executed before it issues the error. It is odd it starts off with the &#39;-&#39; though. Is that character allowed in table names for your database? You might try changing the table name to avoid &#39;-&#39;, using &#39;_&#39; instead."},{"owner":{"account_id":18678794,"reputation":23,"user_id":13615867,"display_name":"Valentina Politi"},"score":0,"creation_date":1646773683,"post_id":71399443,"comment_id":126206152,"body_markdown":"@Chris i confirm that this is the error, no cut and paste.. I know there are too many parameters and this is the reason why i don&#39;t understand how can i fix it.. How can I turn on SQL and parameter logging to see the statement that is executed? \nFor the &#39;-&#39;, my tables don&#39;t have that name, i don&#39;t know why it is in the error.. you can see tables in the ER Diagram that is linked","body":"@Chris i confirm that this is the error, no cut and paste.. I know there are too many parameters and this is the reason why i don&#39;t understand how can i fix it.. How can I turn on SQL and parameter logging to see the statement that is executed?  For the &#39;-&#39;, my tables don&#39;t have that name, i don&#39;t know why it is in the error.. you can see tables in the ER Diagram that is linked"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1646842599,"post_id":71399443,"comment_id":126225196,"body_markdown":"JoinTable(name = &quot;pack-serv&quot;) is defined in your entity, so it is one of the tables. Try something different, or try escaping the table name so it is JoinTable(name = &quot;\\&quot;PACK-SERV\\&quot;&quot;) and see if that helps. As for SQL logging - that depends on your JPA provider. Check their docs. As for the error not changing - restart your app and show the full exception stack with the new query, as I can&#39;t see anything anymore that explains that error message. What DB and JDBC driver versions are you using?","body":"JoinTable(name = &quot;pack-serv&quot;) is defined in your entity, so it is one of the tables. Try something different, or try escaping the table name so it is JoinTable(name = &quot;\\&quot;PACK-SERV\\&quot;&quot;) and see if that helps. As for SQL logging - that depends on your JPA provider. Check their docs. As for the error not changing - restart your app and show the full exception stack with the new query, as I can&#39;t see anything anymore that explains that error message. What DB and JDBC driver versions are you using?"},{"owner":{"account_id":18678794,"reputation":23,"user_id":13615867,"display_name":"Valentina Politi"},"score":0,"creation_date":1647769672,"post_id":71399443,"comment_id":126450155,"body_markdown":"@Chris thank you, it worked! Sorry for the delay in the answer","body":"@Chris thank you, it worked! Sorry for the delay in the answer"}],"answers":[{"tags":[],"owner":{"account_id":27017636,"reputation":16,"user_id":20576173,"display_name":"Fraqmonpix"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669150955,"creation_date":1669150906,"answer_id":74538912,"question_id":71399443,"body_markdown":"I had the same error when I tried to CREATE a Table.\r\n\r\nInternal Exception: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;ORDER (ID BIGINT AUTO_INCREMENT NOT NULL, DATE DATE, ORDERTYPE INTEGER, VERSION &#39; at line 1\r\n\r\nError Code: 1064\r\n\r\nCall: CREATE TABLE ORDER (ID BIGINT AUTO_INCREMENT NOT NULL, DATE DATE, ORDERTYPE INTEGER, VERSION INTEGER, CUSTOMER_ID BIGINT, PRIMARY KEY (ID))\r\n\r\n\r\nThe problem was that I was using a word reserved for MySQL (ORDER) to name the Table. The solution was to change the Table name to other.\r\n\r\nIf this helps...","title":"JPA Query in inheritance tables","body":"<p>I had the same error when I tried to CREATE a Table.</p>\n<p>Internal Exception: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ORDER (ID BIGINT AUTO_INCREMENT NOT NULL, DATE DATE, ORDERTYPE INTEGER, VERSION ' at line 1</p>\n<p>Error Code: 1064</p>\n<p>Call: CREATE TABLE ORDER (ID BIGINT AUTO_INCREMENT NOT NULL, DATE DATE, ORDERTYPE INTEGER, VERSION INTEGER, CUSTOMER_ID BIGINT, PRIMARY KEY (ID))</p>\n<p>The problem was that I was using a word reserved for MySQL (ORDER) to name the Table. The solution was to change the Table name to other.</p>\n<p>If this helps...</p>\n"}],"owner":{"account_id":18678794,"reputation":23,"user_id":13615867,"display_name":"Valentina Politi"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":447,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74538912,"answer_count":1,"score":0,"last_activity_date":1669150955,"creation_date":1646761820,"question_id":71399443,"body_markdown":"i&#39;m new on JPA, i need some help with a query that i would like to make.\r\n\r\nThis are my entities:\r\n\r\n**Service Entity**\r\n\r\n    @Entity\r\n    @Table(name = &quot;service&quot;, schema = &quot;db2&quot;)\r\n    @Inheritance(strategy = InheritanceType.SINGLE_TABLE)\r\n    @DiscriminatorColumn(name = &quot;serviceType&quot;)\r\n    public abstract class Service implements Serializable {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate int idService;\r\n    \t@ManyToMany\r\n    \t@JoinTable(name = &quot;pack-serv&quot;, schema = &quot;db2&quot;, joinColumns = @JoinColumn(name = &quot;idService&quot;), inverseJoinColumns = @JoinColumn(name = &quot;idPackage&quot;))\r\n    \tprivate List&lt;Package&gt; packages;\r\n\r\n    \tpublic Service() {\r\n    \t}\r\n    \t//getter and setter of all attributes\r\n    }\r\n\r\n**Fixed Internet entity**\r\n\r\n    @Entity\r\n    @Table(name = &quot;service&quot;, schema = &quot;db2&quot;)\r\n    @DiscriminatorValue(&quot;Fixed Internet&quot;)\r\n    public class FixedInternet extends Service implements Serializable  {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t\r\n    \tprivate int GB;\r\n    \tprivate int feeExtraGB;\r\n        @Column(name=&quot;serviceType&quot;, insertable = false, updatable = false)\r\n        protected String type;\r\n    \t\r\n    \tpublic FixedInternet() {\r\n    \t\tsuper();\r\n    \t}\r\n         //getter and setter of all attributes\r\n    }\r\n\r\nI would like to retrieve all FixedInternet services that are related to a specific package ID. I made this query:\r\n\r\n    @NamedQuery(name = &quot;FixedInternet.findServicesByPackID&quot;, query = &quot;SELECT s.GB, s.feeExtraGB, s.idService FROM FixedInternet s JOIN s.packages p WHERE p.idPackage = ?1 AND s.type LIKE &#39;Fixed Internet&#39;&quot;)\r\n\r\nbut when i run it an error shows up related to SQL syntax:\r\n\r\n    Internal Exception: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;-serv t2, db2.package t1 WHERE ((((t1.IDPACKAGE = 1) AND t0.serviceType LIKE &#39;Fi&#39; at line 1\r\n    Error Code: 1064\r\n    Call: SELECT t0.GB, t0.FEEEXTRAGB, t0.IDSERVICE FROM db2.service t0, db2.pack-serv t2, db2.package t1 WHERE ((((t1.IDPACKAGE = ?) AND t0.serviceType LIKE ?) AND (t0.serviceType = ?)) AND ((t2.idService = t0.IDSERVICE) AND (t1.IDPACKAGE = t2.idPackage)))\r\n    \tbind =&gt; [3 parameters bound]\r\n\r\nI can&#39;t resolve it, someone can help me to understand what i&#39;m wrong?\r\n\r\nThis is the ER Diagram of the database if it could help: [ER Diagram][1]\r\n\r\n**UPDATE**: without the part of &quot;s.type LIKE &#39;Fixed Internet&#39;&quot;, the error is pretty the same:\r\n\r\n    Internal Exception: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;-serv t2, db2.package t1 WHERE ((((t1.IDPACKAGE = 1) AND t0.serviceType LIKE &#39;Fi&#39; at line 1\r\n    Error Code: 1064\r\n    Call: SELECT t0.GB, t0.FEEEXTRAGB, t0.IDSERVICE FROM db2.service t0, db2.pack-serv t2, db2.package t1 WHERE (((t1.IDPACKAGE = ?) AND (t0.serviceType = ?)) AND ((t2.idService = t0.IDSERVICE) AND (t1.IDPACKAGE = t2.idPackage)))\r\n        bind =&gt; [2 parameters bound]\r\n\r\n  [1]: https://i.stack.imgur.com/LEnVa.png","title":"JPA Query in inheritance tables","body":"<p>i'm new on JPA, i need some help with a query that i would like to make.</p>\n<p>This are my entities:</p>\n<p><strong>Service Entity</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;service&quot;, schema = &quot;db2&quot;)\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\n@DiscriminatorColumn(name = &quot;serviceType&quot;)\npublic abstract class Service implements Serializable {\n    private static final long serialVersionUID = 1L;\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int idService;\n    @ManyToMany\n    @JoinTable(name = &quot;pack-serv&quot;, schema = &quot;db2&quot;, joinColumns = @JoinColumn(name = &quot;idService&quot;), inverseJoinColumns = @JoinColumn(name = &quot;idPackage&quot;))\n    private List&lt;Package&gt; packages;\n\n    public Service() {\n    }\n    //getter and setter of all attributes\n}\n</code></pre>\n<p><strong>Fixed Internet entity</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;service&quot;, schema = &quot;db2&quot;)\n@DiscriminatorValue(&quot;Fixed Internet&quot;)\npublic class FixedInternet extends Service implements Serializable  {\n    private static final long serialVersionUID = 1L;\n    \n    private int GB;\n    private int feeExtraGB;\n    @Column(name=&quot;serviceType&quot;, insertable = false, updatable = false)\n    protected String type;\n    \n    public FixedInternet() {\n        super();\n    }\n     //getter and setter of all attributes\n}\n</code></pre>\n<p>I would like to retrieve all FixedInternet services that are related to a specific package ID. I made this query:</p>\n<pre><code>@NamedQuery(name = &quot;FixedInternet.findServicesByPackID&quot;, query = &quot;SELECT s.GB, s.feeExtraGB, s.idService FROM FixedInternet s JOIN s.packages p WHERE p.idPackage = ?1 AND s.type LIKE 'Fixed Internet'&quot;)\n</code></pre>\n<p>but when i run it an error shows up related to SQL syntax:</p>\n<pre><code>Internal Exception: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '-serv t2, db2.package t1 WHERE ((((t1.IDPACKAGE = 1) AND t0.serviceType LIKE 'Fi' at line 1\nError Code: 1064\nCall: SELECT t0.GB, t0.FEEEXTRAGB, t0.IDSERVICE FROM db2.service t0, db2.pack-serv t2, db2.package t1 WHERE ((((t1.IDPACKAGE = ?) AND t0.serviceType LIKE ?) AND (t0.serviceType = ?)) AND ((t2.idService = t0.IDSERVICE) AND (t1.IDPACKAGE = t2.idPackage)))\n    bind =&gt; [3 parameters bound]\n</code></pre>\n<p>I can't resolve it, someone can help me to understand what i'm wrong?</p>\n<p>This is the ER Diagram of the database if it could help: <a href=\"https://i.stack.imgur.com/LEnVa.png\" rel=\"nofollow noreferrer\">ER Diagram</a></p>\n<p><strong>UPDATE</strong>: without the part of &quot;s.type LIKE 'Fixed Internet'&quot;, the error is pretty the same:</p>\n<pre><code>Internal Exception: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '-serv t2, db2.package t1 WHERE ((((t1.IDPACKAGE = 1) AND t0.serviceType LIKE 'Fi' at line 1\nError Code: 1064\nCall: SELECT t0.GB, t0.FEEEXTRAGB, t0.IDSERVICE FROM db2.service t0, db2.pack-serv t2, db2.package t1 WHERE (((t1.IDPACKAGE = ?) AND (t0.serviceType = ?)) AND ((t2.idService = t0.IDSERVICE) AND (t1.IDPACKAGE = t2.idPackage)))\n    bind =&gt; [2 parameters bound]\n</code></pre>\n"},{"tags":["java","minecraft","bukkit"],"comments":[{"owner":{"account_id":1216675,"reputation":1575,"user_id":1184123,"display_name":"Cherusker"},"score":0,"creation_date":1548002280,"post_id":54277653,"comment_id":95379026,"body_markdown":"This should be moved to https://gamedev.stackexchange.com","body":"This should be moved to <a href=\"https://gamedev.stackexchange.com\">gamedev.stackexchange.com</a>"},{"owner":{"account_id":540166,"reputation":15708,"user_id":1663383,"accept_rate":54,"display_name":"Draco18s no longer trusts SE"},"score":0,"creation_date":1548026109,"post_id":54277653,"comment_id":95385466,"body_markdown":"@Cherusker No, it shouldn&#39;t. This question is perfectly fine here on Stack Exchange (and if it&#39;s Off Topic here, its likely Off Topic there too).","body":"@Cherusker No, it shouldn&#39;t. This question is perfectly fine here on Stack Exchange (and if it&#39;s Off Topic here, its likely Off Topic there too)."},{"owner":{"account_id":11116342,"reputation":1868,"user_id":8160563,"display_name":"Marvin Klar"},"score":1,"creation_date":1555054742,"post_id":54277653,"comment_id":97982658,"body_markdown":"Does the library containg the class `org/hibernate/service/ServiceRegistry` get exported with your plugin?","body":"Does the library containg the class <code>org&#47;hibernate&#47;service&#47;ServiceRegistry</code> get exported with your plugin?"}],"answers":[{"tags":[],"owner":{"account_id":24677130,"reputation":40,"user_id":18571385,"display_name":"DevOskar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669150816,"creation_date":1669150816,"answer_id":74538894,"question_id":54277653,"body_markdown":"You have to compile the artifacts your&#39;e using in your jar file. In Gradle you could use the UberJar.\r\n\r\nFor example:\r\n\r\n```java\r\n    task customFatJar(type: Jar) {\r\n       duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n       from { configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) } }\r\n       with jar\r\n    }\r\n```\r\n\r\nThen you can build the jarfile using this task.","title":"Could not load minecraft plugin: NoClassDefFoundError","body":"<p>You have to compile the artifacts your'e using in your jar file. In Gradle you could use the UberJar.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    task customFatJar(type: Jar) {\n       duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n       from { configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) } }\n       with jar\n    }\n</code></pre>\n<p>Then you can build the jarfile using this task.</p>\n"}],"owner":{"account_id":15161311,"reputation":91,"user_id":10940294,"display_name":"Gak_"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":523,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1669150816,"creation_date":1547995964,"question_id":54277653,"body_markdown":"First of all I&#39;m beginner and I&#39;m not the author of the plugin I&#39;m working on (also I don&#39;t speak English well). If I&#39;m not specific enough, tell me.\r\n\r\nThis plugin was running in the 1.12 version of minecraft properly. My goal is to update it for the 1.13 version. I&#39;ve already fix all issues Gradle showed. Now I want to test but here I&#39;m stuck.\r\n\r\nI&#39;m getting this error when I try to load the plugin:\r\n\r\n    [18:31:21] [Server thread/ERROR]: Could not load &#39;plugins/mainplugin-3.3.15-SNAPSHOT.jar&#39; in folder &#39;plugins&#39;\r\n    org.bukkit.plugin.InvalidPluginException: java.lang.NoClassDefFoundError: org/hibernate/service/ServiceRegistry\r\n    \tat org.bukkit.plugin.java.JavaPluginLoader.loadPlugin(JavaPluginLoader.java:133) ~[patched_1.13.2.jar:git-Paper-405]\r\n    \tat org.bukkit.plugin.SimplePluginManager.loadPlugin(SimplePluginManager.java:329) ~[patched_1.13.2.jar:git-Paper-405]\r\n    \tat org.bukkit.plugin.SimplePluginManager.loadPlugins(SimplePluginManager.java:251) ~[patched_1.13.2.jar:git-Paper-405]\r\n    \tat org.bukkit.craftbukkit.v1_13_R2.CraftServer.loadPlugins(CraftServer.java:326) ~[patched_1.13.2.jar:git-Paper-405]\r\n    \tat org.bukkit.craftbukkit.v1_13_R2.CraftServer.reload(CraftServer.java:851) ~[patched_1.13.2.jar:git-Paper-405]\r\n    \tat org.bukkit.Bukkit.reload(Bukkit.java:603) ~[patched_1.13.2.jar:git-Paper-405]\r\n    \tat org.bukkit.command.defaults.ReloadCommand.execute(ReloadCommand.java:55) ~[patched_1.13.2.jar:git-Paper-405]\r\n    \tat org.bukkit.command.SimpleCommandMap.dispatch(SimpleCommandMap.java:151) ~[patched_1.13.2.jar:git-Paper-405]\r\n    \tat org.bukkit.craftbukkit.v1_13_R2.CraftServer.dispatchCommand(CraftServer.java:729) ~[patched_1.13.2.jar:git-Paper-405]\r\n    \tat org.bukkit.craftbukkit.v1_13_R2.CraftServer.dispatchServerCommand(CraftServer.java:691) ~[patched_1.13.2.jar:git-Paper-405]\r\n    \tat net.minecraft.server.v1_13_R2.DedicatedServer.aU(DedicatedServer.java:483) ~[patched_1.13.2.jar:git-Paper-405]\r\n    \tat net.minecraft.server.v1_13_R2.DedicatedServer.b(DedicatedServer.java:440) ~[patched_1.13.2.jar:git-Paper-405]\r\n    \tat net.minecraft.server.v1_13_R2.MinecraftServer.a(MinecraftServer.java:943) ~[patched_1.13.2.jar:git-Paper-405]\r\n    \tat net.minecraft.server.v1_13_R2.MinecraftServer.run(MinecraftServer.java:841) ~[patched_1.13.2.jar:git-Paper-405]\r\n    \tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_131]\r\n    Caused by: java.lang.NoClassDefFoundError: org/hibernate/service/ServiceRegistry\r\n    \tat java.lang.Class.forName0(Native Method) ~[?:1.8.0_131]\r\n    \tat java.lang.Class.forName(Class.java:348) ~[?:1.8.0_131]\r\n    \tat org.bukkit.plugin.java.PluginClassLoader.&lt;init&gt;(PluginClassLoader.java:82) ~[patched_1.13.2.jar:git-Paper-405]\r\n    \tat org.bukkit.plugin.java.JavaPluginLoader.loadPlugin(JavaPluginLoader.java:129) ~[patched_1.13.2.jar:git-Paper-405]\r\n    \t... 14 more\r\n    Caused by: java.lang.ClassNotFoundException: org.hibernate.service.ServiceRegistry\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:381) ~[?:1.8.0_131]\r\n    \tat org.bukkit.plugin.java.PluginClassLoader.findClass(PluginClassLoader.java:158) ~[patched_1.13.2.jar:git-Paper-405]\r\n    \tat org.bukkit.plugin.java.PluginClassLoader.findClass(PluginClassLoader.java:104) ~[patched_1.13.2.jar:git-Paper-405]\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424) ~[?:1.8.0_131]\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357) ~[?:1.8.0_131]\r\n    \tat java.lang.Class.forName0(Native Method) ~[?:1.8.0_131]\r\n    \tat java.lang.Class.forName(Class.java:348) ~[?:1.8.0_131]\r\n    \tat org.bukkit.plugin.java.PluginClassLoader.&lt;init&gt;(PluginClassLoader.java:82) ~[patched_1.13.2.jar:git-Paper-405]\r\n    \tat org.bukkit.plugin.java.JavaPluginLoader.loadPlugin(JavaPluginLoader.java:129) ~[patched_1.13.2.jar:git-Paper-405]\r\n    \t... 14 more\r\n\r\nDependencies are managed by Gradle using Artifactory.\r\nThis plugin use a database and ORM. \r\nThe minecraft server is running on a Debian server.\r\nThe used API for the minecraft server is paperspigot.\r\nMy IDE is Eclipse.\r\n\r\n\r\n","title":"Could not load minecraft plugin: NoClassDefFoundError","body":"<p>First of all I'm beginner and I'm not the author of the plugin I'm working on (also I don't speak English well). If I'm not specific enough, tell me.</p>\n\n<p>This plugin was running in the 1.12 version of minecraft properly. My goal is to update it for the 1.13 version. I've already fix all issues Gradle showed. Now I want to test but here I'm stuck.</p>\n\n<p>I'm getting this error when I try to load the plugin:</p>\n\n<pre><code>[18:31:21] [Server thread/ERROR]: Could not load 'plugins/mainplugin-3.3.15-SNAPSHOT.jar' in folder 'plugins'\norg.bukkit.plugin.InvalidPluginException: java.lang.NoClassDefFoundError: org/hibernate/service/ServiceRegistry\n    at org.bukkit.plugin.java.JavaPluginLoader.loadPlugin(JavaPluginLoader.java:133) ~[patched_1.13.2.jar:git-Paper-405]\n    at org.bukkit.plugin.SimplePluginManager.loadPlugin(SimplePluginManager.java:329) ~[patched_1.13.2.jar:git-Paper-405]\n    at org.bukkit.plugin.SimplePluginManager.loadPlugins(SimplePluginManager.java:251) ~[patched_1.13.2.jar:git-Paper-405]\n    at org.bukkit.craftbukkit.v1_13_R2.CraftServer.loadPlugins(CraftServer.java:326) ~[patched_1.13.2.jar:git-Paper-405]\n    at org.bukkit.craftbukkit.v1_13_R2.CraftServer.reload(CraftServer.java:851) ~[patched_1.13.2.jar:git-Paper-405]\n    at org.bukkit.Bukkit.reload(Bukkit.java:603) ~[patched_1.13.2.jar:git-Paper-405]\n    at org.bukkit.command.defaults.ReloadCommand.execute(ReloadCommand.java:55) ~[patched_1.13.2.jar:git-Paper-405]\n    at org.bukkit.command.SimpleCommandMap.dispatch(SimpleCommandMap.java:151) ~[patched_1.13.2.jar:git-Paper-405]\n    at org.bukkit.craftbukkit.v1_13_R2.CraftServer.dispatchCommand(CraftServer.java:729) ~[patched_1.13.2.jar:git-Paper-405]\n    at org.bukkit.craftbukkit.v1_13_R2.CraftServer.dispatchServerCommand(CraftServer.java:691) ~[patched_1.13.2.jar:git-Paper-405]\n    at net.minecraft.server.v1_13_R2.DedicatedServer.aU(DedicatedServer.java:483) ~[patched_1.13.2.jar:git-Paper-405]\n    at net.minecraft.server.v1_13_R2.DedicatedServer.b(DedicatedServer.java:440) ~[patched_1.13.2.jar:git-Paper-405]\n    at net.minecraft.server.v1_13_R2.MinecraftServer.a(MinecraftServer.java:943) ~[patched_1.13.2.jar:git-Paper-405]\n    at net.minecraft.server.v1_13_R2.MinecraftServer.run(MinecraftServer.java:841) ~[patched_1.13.2.jar:git-Paper-405]\n    at java.lang.Thread.run(Thread.java:748) [?:1.8.0_131]\nCaused by: java.lang.NoClassDefFoundError: org/hibernate/service/ServiceRegistry\n    at java.lang.Class.forName0(Native Method) ~[?:1.8.0_131]\n    at java.lang.Class.forName(Class.java:348) ~[?:1.8.0_131]\n    at org.bukkit.plugin.java.PluginClassLoader.&lt;init&gt;(PluginClassLoader.java:82) ~[patched_1.13.2.jar:git-Paper-405]\n    at org.bukkit.plugin.java.JavaPluginLoader.loadPlugin(JavaPluginLoader.java:129) ~[patched_1.13.2.jar:git-Paper-405]\n    ... 14 more\nCaused by: java.lang.ClassNotFoundException: org.hibernate.service.ServiceRegistry\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381) ~[?:1.8.0_131]\n    at org.bukkit.plugin.java.PluginClassLoader.findClass(PluginClassLoader.java:158) ~[patched_1.13.2.jar:git-Paper-405]\n    at org.bukkit.plugin.java.PluginClassLoader.findClass(PluginClassLoader.java:104) ~[patched_1.13.2.jar:git-Paper-405]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424) ~[?:1.8.0_131]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357) ~[?:1.8.0_131]\n    at java.lang.Class.forName0(Native Method) ~[?:1.8.0_131]\n    at java.lang.Class.forName(Class.java:348) ~[?:1.8.0_131]\n    at org.bukkit.plugin.java.PluginClassLoader.&lt;init&gt;(PluginClassLoader.java:82) ~[patched_1.13.2.jar:git-Paper-405]\n    at org.bukkit.plugin.java.JavaPluginLoader.loadPlugin(JavaPluginLoader.java:129) ~[patched_1.13.2.jar:git-Paper-405]\n    ... 14 more\n</code></pre>\n\n<p>Dependencies are managed by Gradle using Artifactory.\nThis plugin use a database and ORM. \nThe minecraft server is running on a Debian server.\nThe used API for the minecraft server is paperspigot.\nMy IDE is Eclipse.</p>\n"},{"tags":["java","file","fileinputstream"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1669159289,"post_id":74538866,"comment_id":131580249,"body_markdown":"Please try and clarify your question it&#39;s very difficult to understand what you&#39;ve done and what you want","body":"Please try and clarify your question it&#39;s very difficult to understand what you&#39;ve done and what you want"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1669160233,"post_id":74538866,"comment_id":131580440,"body_markdown":"If you are asking whether it’s possible to use the underlying system to open data from an InputStream as if it’s a file, without copying the InputStream’s data to a file… the answer is no.","body":"If you are asking whether it’s possible to use the underlying system to open data from an InputStream as if it’s a file, without copying the InputStream’s data to a file… the answer is no."},{"owner":{"account_id":14263936,"reputation":386,"user_id":10323532,"display_name":"arash yousefi"},"score":0,"creation_date":1669187528,"post_id":74538866,"comment_id":131584836,"body_markdown":"@g00se I want to give the stream to a method which detects the os and opens the file with the exact application in the os which is set to show that extension. without putting stream into a File Object.","body":"@g00se I want to give the stream to a method which detects the os and opens the file with the exact application in the os which is set to show that extension. without putting stream into a File Object."},{"owner":{"account_id":14263936,"reputation":386,"user_id":10323532,"display_name":"arash yousefi"},"score":0,"creation_date":1669187677,"post_id":74538866,"comment_id":131584870,"body_markdown":"@VGR Thanks. that is the exact thing. is there any way to convert a stream to a file without writing it to hard disk. i want to keep it in memory. so the user won&#39;t be able to access it. it is only needed to be loaded once ?","body":"@VGR Thanks. that is the exact thing. is there any way to convert a stream to a file without writing it to hard disk. i want to keep it in memory. so the user won&#39;t be able to access it. it is only needed to be loaded once ?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1669194104,"post_id":74538866,"comment_id":131586669,"body_markdown":"There&#39;s possibly misunderstanding here. `File` in Java is for manipulation of paths mainly and actually has little to do with IO. You should probably read the stream and write it to a `ByteArrayOutputStream` and then call its `toByteArray()` method. Then you would have &#39;the stream in memory&#39;.","body":"There&#39;s possibly misunderstanding here. <code>File</code> in Java is for manipulation of paths mainly and actually has little to do with IO. You should probably read the stream and write it to a <code>ByteArrayOutputStream</code> and then call its <code>toByteArray()</code> method. Then you would have &#39;the stream in memory&#39;."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1669194473,"post_id":74538866,"comment_id":131586805,"body_markdown":"https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/filefilter/MagicNumberFileFilter.html","body":"<a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/filefilter/MagicNumberFileFilter.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-io/javadocs/api-2.5/org/&hellip;</a>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1669209456,"post_id":74538866,"comment_id":131592070,"body_markdown":"No.  [Desktop.open](https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/java/awt/Desktop.html#open(java.io.File)) requires a real file which is accessible by the system.  I suppose it might be possible to create a ramdisk and write the file there, though I don’t recall offhand how to do that in each operating system.","body":"No.  <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/java/awt/Desktop.html#open(java.io.File)\" rel=\"nofollow noreferrer\">Desktop.open</a> requires a real file which is accessible by the system.  I suppose it might be possible to create a ramdisk and write the file there, though I don’t recall offhand how to do that in each operating system."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1669213215,"post_id":74538866,"comment_id":131593586,"body_markdown":"I&#39;m interpreting this as magic detection (as in Unix `file`) *prior* to further processing. Also *some* apps will read from stdin so it doesn&#39;t *have* always to be present in the file system","body":"I&#39;m interpreting this as magic detection (as in Unix <code>file</code>) <i>prior</i> to further processing. Also <i>some</i> apps will read from stdin so it doesn&#39;t <i>have</i> always to be present in the file system"}],"owner":{"account_id":14263936,"reputation":386,"user_id":10323532,"display_name":"arash yousefi"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669150629,"creation_date":1669150629,"question_id":74538866,"body_markdown":"I have written a code which opens the File object with the exact application in any os, I was wondering, is it possible to show the inputstream without converting it to a file and saving on localstorage?\r\nOr use the memory ?","title":"Java show fileinputstream without converting to file","body":"<p>I have written a code which opens the File object with the exact application in any os, I was wondering, is it possible to show the inputstream without converting it to a file and saving on localstorage?\nOr use the memory ?</p>\n"},{"tags":["java","eclipse","minecraft","bukkit","decompiling"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1669139359,"post_id":74536953,"comment_id":131574719,"body_markdown":"There is no main *method*.  Also, please post code instead of images.","body":"There is no main <i>method</i>.  Also, please post code instead of images."},{"owner":{"account_id":17872956,"reputation":727,"user_id":12985497,"display_name":"Caledonian26"},"score":0,"creation_date":1669139378,"post_id":74536953,"comment_id":131574725,"body_markdown":"@AndrewS what method should I specify? :)","body":"@AndrewS what method should I specify? :)"},{"owner":{"account_id":26895750,"reputation":296,"user_id":20473701,"display_name":"Lorenz Hetterich"},"score":0,"creation_date":1669139481,"post_id":74536953,"comment_id":131574757,"body_markdown":"To me this looks like a Decompiled Bukkit plugin. They do not run on their own.","body":"To me this looks like a Decompiled Bukkit plugin. They do not run on their own."},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1669139507,"post_id":74536953,"comment_id":131574764,"body_markdown":"It&#39;s not at all clear what you&#39;re trying to do. You tagged &quot;minecraft&quot;, so you&#39;re probably trying to write a plugin, and those don&#39;t necessarily have a main class and intend to be running in the minecraft environment.","body":"It&#39;s not at all clear what you&#39;re trying to do. You tagged &quot;minecraft&quot;, so you&#39;re probably trying to write a plugin, and those don&#39;t necessarily have a main class and intend to be running in the minecraft environment."},{"owner":{"account_id":17872956,"reputation":727,"user_id":12985497,"display_name":"Caledonian26"},"score":0,"creation_date":1669139508,"post_id":74536953,"comment_id":131574767,"body_markdown":"@LorenzHetterich how can I run this bukkit plugin? :)","body":"@LorenzHetterich how can I run this bukkit plugin? :)"},{"owner":{"account_id":26895750,"reputation":296,"user_id":20473701,"display_name":"Lorenz Hetterich"},"score":1,"creation_date":1669139741,"post_id":74536953,"comment_id":131574846,"body_markdown":"To be clear, you want to run a minecraft bukkit server with the Plugin installed?\nI have never used bukkit for minecraft servers (I usually use Forge), but you can try to follow this guide: https://bukkit.fandom.com/wiki/Setting_up_a_server . However, I don&#39;t know wheter it is up-to-date and still works.","body":"To be clear, you want to run a minecraft bukkit server with the Plugin installed? I have never used bukkit for minecraft servers (I usually use Forge), but you can try to follow this guide: <a href=\"https://bukkit.fandom.com/wiki/Setting_up_a_server\" rel=\"nofollow noreferrer\">bukkit.fandom.com/wiki/Setting_up_a_server</a> . However, I don&#39;t know wheter it is up-to-date and still works."},{"owner":{"account_id":17872956,"reputation":727,"user_id":12985497,"display_name":"Caledonian26"},"score":0,"creation_date":1669140240,"post_id":74536953,"comment_id":131575026,"body_markdown":"@LorenzHetterich - why that should affect whether I am able to edit the code using a Java Decompiler on eclipse? :)","body":"@LorenzHetterich - why that should affect whether I am able to edit the code using a Java Decompiler on eclipse? :)"},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1669141429,"post_id":74536953,"comment_id":131575432,"body_markdown":"It doesn&#39;t but you can&#39;t run a plugin for an app on its own, which is what you&#39;re trying to do, and which obviously won&#39;t work. You need to run minecraft and tell it to include this plugin. Lorenz pointed you to a tutorial.","body":"It doesn&#39;t but you can&#39;t run a plugin for an app on its own, which is what you&#39;re trying to do, and which obviously won&#39;t work. You need to run minecraft and tell it to include this plugin. Lorenz pointed you to a tutorial."},{"owner":{"account_id":17872956,"reputation":727,"user_id":12985497,"display_name":"Caledonian26"},"score":0,"creation_date":1669141470,"post_id":74536953,"comment_id":131575444,"body_markdown":"@rzwitserloot thank you for confirming - I will check out that link :)","body":"@rzwitserloot thank you for confirming - I will check out that link :)"},{"owner":{"account_id":17872956,"reputation":727,"user_id":12985497,"display_name":"Caledonian26"},"score":0,"creation_date":1669143500,"post_id":74536953,"comment_id":131576079,"body_markdown":"I have posted a solution now :)","body":"I have posted a solution now :)"}],"answers":[{"tags":[],"owner":{"account_id":17872956,"reputation":727,"user_id":12985497,"display_name":"Caledonian26"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669143591,"creation_date":1669143591,"answer_id":74537760,"question_id":74536953,"body_markdown":"I have now created a plugin using &#39;Maven&#39;, which allows me to edit the code given that to use Bukkit as an API requires the tool &#39;Maven&#39;. \r\n\r\nhttps://bukkit.fandom.com/wiki/Plugin_Tutorial_(Eclipse)#Example_Files_and_Templates\r\n\r\nThanks so much for the help :) ","title":"Java: could not find or load main class main - not sure why","body":"<p>I have now created a plugin using 'Maven', which allows me to edit the code given that to use Bukkit as an API requires the tool 'Maven'.</p>\n<p><a href=\"https://bukkit.fandom.com/wiki/Plugin_Tutorial_(Eclipse)#Example_Files_and_Templates\" rel=\"nofollow noreferrer\">https://bukkit.fandom.com/wiki/Plugin_Tutorial_(Eclipse)#Example_Files_and_Templates</a></p>\n<p>Thanks so much for the help :)</p>\n"}],"owner":{"account_id":17872956,"reputation":727,"user_id":12985497,"display_name":"Caledonian26"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669150130,"creation_date":1669138926,"question_id":74536953,"body_markdown":"I am trying to upload a **.jar** file onto eclipse in order to be able to edit it. \r\n\r\nThe purpose of the **.jar** file is to track player coordinates on minecraft. \r\n\r\nI have decompiled this **.jar** file on Eclipse, using the **eclipse Java Decompiler**.\r\n\r\nHowever, when I try to run this decompiled code, I am getting the error: **&#39;Could not find or load main class main&#39;**.\r\n\r\nThis happens when I try to run the &#39;decompiled code&#39; by creating a run configuration and specify the main class: **&#39;main&#39;**. \r\n\r\nI have looked at other forums on this topic and have tried different things without success. However, none of these options have worked. \r\n\r\nThe decompiled &#39;main.class&#39; file is currently stored within the **&#39;JRE system library&#39;** folder. Is this the wrong place to store it?\r\n\r\nI would be so grateful for a helping hand!\r\n\r\nI have provided an image of the decompiled code: \r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd the run configuration tab, where I specify how I want the code to run. \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/w9NNK.png\r\n  [2]: https://i.stack.imgur.com/0CkNJ.png","title":"Java: could not find or load main class main - not sure why","body":"<p>I am trying to upload a <strong>.jar</strong> file onto eclipse in order to be able to edit it.</p>\n<p>The purpose of the <strong>.jar</strong> file is to track player coordinates on minecraft.</p>\n<p>I have decompiled this <strong>.jar</strong> file on Eclipse, using the <strong>eclipse Java Decompiler</strong>.</p>\n<p>However, when I try to run this decompiled code, I am getting the error: <strong>'Could not find or load main class main'</strong>.</p>\n<p>This happens when I try to run the 'decompiled code' by creating a run configuration and specify the main class: <strong>'main'</strong>.</p>\n<p>I have looked at other forums on this topic and have tried different things without success. However, none of these options have worked.</p>\n<p>The decompiled 'main.class' file is currently stored within the <strong>'JRE system library'</strong> folder. Is this the wrong place to store it?</p>\n<p>I would be so grateful for a helping hand!</p>\n<p>I have provided an image of the decompiled code:</p>\n<p><a href=\"https://i.stack.imgur.com/w9NNK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w9NNK.png\" alt=\"enter image description here\" /></a></p>\n<p>And the run configuration tab, where I specify how I want the code to run.</p>\n<p><a href=\"https://i.stack.imgur.com/0CkNJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0CkNJ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","postgis","jts","hibernate-spatial"],"answers":[{"comments":[{"owner":{"account_id":337407,"reputation":10009,"user_id":665657,"accept_rate":75,"display_name":"wjans"},"score":0,"creation_date":1669196849,"post_id":74538792,"comment_id":131587646,"body_markdown":"Thanks!  As I workaround I did something similar already which seems to do the trick too: `geometryFactory.createLineString(geometry.getCoordinates()).reverse()`.","body":"Thanks!  As I workaround I did something similar already which seems to do the trick too: <code>geometryFactory.createLineString(geometry.getCoordinates()).&zwnj;&#8203;reverse()</code>."}],"tags":[],"owner":{"account_id":4577330,"reputation":761,"user_id":3715449,"display_name":"Karel Maesen"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669150129,"creation_date":1669150129,"answer_id":74538792,"question_id":74521593,"body_markdown":"This is definitely a bug. There is a mismatch between JTS&#39;s `reverse()` and the `org.geolatte.geom.PackedCoordinateSequence`. The `CoordinateSequence` doesn&#39;t return the correct value for the M- coordinate.   \r\n\r\nI&#39;ve created [an issue](https://github.com/GeoLatte/geolatte-geom/issues/155) for this in the geolatte-geom project.\r\n\r\nIn the mean time you could use as a workaround a XYZM geometry with Z-coordinates set to 0.0. Then the mismatch disappears and reverse will work correctly. ","title":"Incorrect result using Geometry.reverse() for XYM coordinates","body":"<p>This is definitely a bug. There is a mismatch between JTS's <code>reverse()</code> and the <code>org.geolatte.geom.PackedCoordinateSequence</code>. The <code>CoordinateSequence</code> doesn't return the correct value for the M- coordinate.</p>\n<p>I've created <a href=\"https://github.com/GeoLatte/geolatte-geom/issues/155\" rel=\"nofollow noreferrer\">an issue</a> for this in the geolatte-geom project.</p>\n<p>In the mean time you could use as a workaround a XYZM geometry with Z-coordinates set to 0.0. Then the mismatch disappears and reverse will work correctly.</p>\n"}],"owner":{"account_id":337407,"reputation":10009,"user_id":665657,"accept_rate":75,"display_name":"wjans"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74538792,"answer_count":1,"score":2,"last_activity_date":1669150129,"creation_date":1669046100,"question_id":74521593,"body_markdown":"We are using `jts-core` (`org.locationtech.jts:jts-core:jar:1.19.0`) together with `hibernate-spatial` (`org.hibernate:hibernate-spatial:jar:5.6.10.Final:compile`) to retrieve geometries with measured dimensions from a PostGis (`14.3`) database.\r\n\r\nThe query looks something like this:\r\n\r\n```\r\nGeometry geometry = (Geometry) entityManager\r\n    .createNativeQuery(&quot;SELECT st_locatebetween(geom, :p1, :p2) as geom FROM GEOMS WHERE id = :id&quot;)\r\n    .setParameter(&quot;id&quot;, id)\r\n    .setParameter(&quot;p1&quot;, p1)\r\n    .setParameter(&quot;p2&quot;, p2)\r\n    .unwrap(NativeQuery.class)\r\n    .addScalar(&quot;geom&quot;, new JTSGeometryType(INSTANCE_WKB_2))\r\n    .getSingleResult();\r\n```\r\n\r\nThis query works fine to retrieve a geometry, returning XYM coordinates.  However, when we try to reverse the geometry using `org.locationtech.jts.geom.Geometry#reverse`, the M-coordinates get lost.  All coordinates, except for the middle one, have a `NaN` value for `m`.\r\n\r\nWhen trying this via a simple unit test using an array of `org.locationtech.jts.geom.CoordinateXYM`&#39;s this works fine.  When debugging the query, it seems to be using `org.geolatte.geom.PackedPositionSequence` which returns an incorrect reversed array.\r\n\r\nAre we doing something wrong?  Or is this a bug?\r\n    \r\nIf we try doing this with `org.geolatte.geom.Geometry` directly we seem to get the same problem:\r\n\r\n```\r\nGeometry geometry = JTS.to(Wkt.fromWkt(&quot;LINESTRING M (1 1 1, 2 2 2, 3 3 3)&quot;));\r\n\r\nstream(geometry.getCoordinates()).forEach(System.out::println);\r\nstream(geometry.reverse().getCoordinates()).forEach(System.out::println);\r\n```\r\n\r\ngives below output:\r\n\r\n```\r\n(1.0, 1.0 m=1.0)\r\n(2.0, 2.0 m=2.0)\r\n(3.0, 3.0 m=3.0)\r\n\r\n(3.0, 3.0 m=NaN)\r\n(2.0, 2.0 m=2.0)\r\n(1.0, 1.0 m=NaN)\r\n```","title":"Incorrect result using Geometry.reverse() for XYM coordinates","body":"<p>We are using <code>jts-core</code> (<code>org.locationtech.jts:jts-core:jar:1.19.0</code>) together with <code>hibernate-spatial</code> (<code>org.hibernate:hibernate-spatial:jar:5.6.10.Final:compile</code>) to retrieve geometries with measured dimensions from a PostGis (<code>14.3</code>) database.</p>\n<p>The query looks something like this:</p>\n<pre><code>Geometry geometry = (Geometry) entityManager\n    .createNativeQuery(&quot;SELECT st_locatebetween(geom, :p1, :p2) as geom FROM GEOMS WHERE id = :id&quot;)\n    .setParameter(&quot;id&quot;, id)\n    .setParameter(&quot;p1&quot;, p1)\n    .setParameter(&quot;p2&quot;, p2)\n    .unwrap(NativeQuery.class)\n    .addScalar(&quot;geom&quot;, new JTSGeometryType(INSTANCE_WKB_2))\n    .getSingleResult();\n</code></pre>\n<p>This query works fine to retrieve a geometry, returning XYM coordinates.  However, when we try to reverse the geometry using <code>org.locationtech.jts.geom.Geometry#reverse</code>, the M-coordinates get lost.  All coordinates, except for the middle one, have a <code>NaN</code> value for <code>m</code>.</p>\n<p>When trying this via a simple unit test using an array of <code>org.locationtech.jts.geom.CoordinateXYM</code>'s this works fine.  When debugging the query, it seems to be using <code>org.geolatte.geom.PackedPositionSequence</code> which returns an incorrect reversed array.</p>\n<p>Are we doing something wrong?  Or is this a bug?</p>\n<p>If we try doing this with <code>org.geolatte.geom.Geometry</code> directly we seem to get the same problem:</p>\n<pre><code>Geometry geometry = JTS.to(Wkt.fromWkt(&quot;LINESTRING M (1 1 1, 2 2 2, 3 3 3)&quot;));\n\nstream(geometry.getCoordinates()).forEach(System.out::println);\nstream(geometry.reverse().getCoordinates()).forEach(System.out::println);\n</code></pre>\n<p>gives below output:</p>\n<pre><code>(1.0, 1.0 m=1.0)\n(2.0, 2.0 m=2.0)\n(3.0, 3.0 m=3.0)\n\n(3.0, 3.0 m=NaN)\n(2.0, 2.0 m=2.0)\n(1.0, 1.0 m=NaN)\n</code></pre>\n"},{"tags":["java","sql","sql-server","jpa","varbinary"],"comments":[{"owner":{"account_id":1144312,"reputation":25594,"user_id":1127428,"accept_rate":79,"display_name":"Dale K"},"score":1,"creation_date":1669149540,"post_id":74538684,"comment_id":131577858,"body_markdown":"The reverse of however you save it...","body":"The reverse of however you save it..."},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1669152734,"post_id":74538684,"comment_id":131578734,"body_markdown":"To expand on Dale&#39;s comment: it&#39;s however Java decided to serialize it to binary, you&#39;d need to deserialize it in Java code again to extract the meaningful information. If you need to consume the data inside SQL Server consider serializing it to JSON or XML instead.","body":"To expand on Dale&#39;s comment: it&#39;s however Java decided to serialize it to binary, you&#39;d need to deserialize it in Java code again to extract the meaningful information. If you need to consume the data inside SQL Server consider serializing it to JSON or XML instead."},{"owner":{"account_id":9851857,"reputation":82584,"user_id":7297700,"display_name":"David Browne - Microsoft"},"score":0,"creation_date":1669155268,"post_id":74538684,"comment_id":131579371,"body_markdown":"If you want to both store it as a Java object and read it on the server with queries, you&#39;ll need the Java language extension. https://learn.microsoft.com/en-us/sql/language-extensions/java-overview?view=sql-server-ver16","body":"If you want to both store it as a Java object and read it on the server with queries, you&#39;ll need the Java language extension. <a href=\"https://learn.microsoft.com/en-us/sql/language-extensions/java-overview?view=sql-server-ver16\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/sql/language-extensions/&hellip;</a>"}],"owner":{"account_id":6588427,"reputation":336,"user_id":5090511,"accept_rate":25,"display_name":"Pedro Fernandes"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669149422,"creation_date":1669149422,"question_id":74538684,"body_markdown":"I have a &#39;varbinary&#39; column where a java Properties object (Extends Hashtable) is being saved in the binary format. If I just query and convert to VARCHAR the value I get is still an un-queryble format\r\n\r\n``select CAST(myBinaryColumn AS VARCHAR(max)) from myTable;``\r\n\r\nThe result is something like:\r\n\r\n``&#172;&#237;\u0005sr\u0014java.util.Properties9\u0012&#208;zp6&gt;˜\u0002\u0001L\bdefaultst\u0016Ljava/util/Properties;xr\u0013java.util.Hashtable\u0013&#187;\u000F%!J&#228;&#184;\u0003\u0002F\r\nloadFactorI\tthresholdxp?@\u0003w\b\u0005\u0002t\u0002tot\u00079999.99t\u0004fromt\u00030.0xp``\r\n\r\n\r\nHow do I convert this into something usable in a query or at least human readable?","title":"SQL Editor Query Java Object saved into VARBINARY column","body":"<p>I have a 'varbinary' column where a java Properties object (Extends Hashtable) is being saved in the binary format. If I just query and convert to VARCHAR the value I get is still an un-queryble format</p>\n<p><code>select CAST(myBinaryColumn AS VARCHAR(max)) from myTable;</code></p>\n<p>The result is something like:</p>\n<p><code>¬ísrjava.util.Properties9Ðzp6&gt;˜LdefaultstLjava/util/Properties;xr\u0013java.util.Hashtable\u0013»\u000F%!Jä¸F loadFactorI thresholdxp?@wttot9999.99tfromt0.0xp</code></p>\n<p>How do I convert this into something usable in a query or at least human readable?</p>\n"},{"tags":["java","spring","tomcat","netbeans","ide"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1669140224,"post_id":74537155,"comment_id":131575018,"body_markdown":"`See the server log for details.` - Can you show us the relevant error from the server log?","body":"<code>See the server log for details.</code> - Can you show us the relevant error from the server log?"},{"owner":{"account_id":20300378,"reputation":1,"user_id":14889936,"display_name":"MinhajBoss"},"score":0,"creation_date":1669141226,"post_id":74537155,"comment_id":131575366,"body_markdown":"server log added @andrewJames","body":"server log added @andrewJames"},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1669142691,"post_id":74537155,"comment_id":131575808,"body_markdown":"OK, thank you. I did say &quot;relevant&quot;... but do you see that &quot;caused by&quot; message buried in there? `Caused by: java.lang.IllegalArgumentException: More than one fragment with the name [spring_web] was found.` You can research that. Also you can take a Spring tutorial, instead of just adding Spring and hoping it works.","body":"OK, thank you. I did say &quot;relevant&quot;... but do you see that &quot;caused by&quot; message buried in there? <code>Caused by: java.lang.IllegalArgumentException: More than one fragment with the name [spring_web] was found.</code> You can research that. Also you can take a Spring tutorial, instead of just adding Spring and hoping it works."}],"owner":{"account_id":20300378,"reputation":1,"user_id":14889936,"display_name":"MinhajBoss"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":411,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669148358,"creation_date":1669139950,"question_id":74537155,"body_markdown":"When I create a new web project on NetBeans the project runs fine but after adding Spring library on the project I got this type of error. What&#39;s the reason for the problem?\r\n\r\n- JDK version: 19\r\n- NetBeans IDE version: 15\r\n- Tomcat version: apache-tomcat-10.0.27\r\n- Spring version: spring-framework-5.3.9\r\n\r\nHere is the Application log:\r\n\r\n```\r\nant -f C:\\\\Users\\\\Admin\\\\Documents\\\\NetBeansProjects\\\\WebApplication2 -Dnb.internal.action.name=run -Ddirectory.deployment.supported=true -DforceRedeploy=false -Dnb.wait.for.caches=true -Dbrowser.context=C:\\\\Users\\\\Admin\\\\Documents\\\\NetBeansProjects\\\\WebApplication2 run\r\ninit:\r\ndeps-module-jar:\r\ndeps-ear-jar:\r\ndeps-jar:\r\nlibrary-inclusion-in-archive:\r\nlibrary-inclusion-in-manifest:\r\ncompile:\r\ncompile-jsps:\r\nIncrementally deploying http://localhost:8080/WebApplication2\r\nCompleted incremental distribution of http://localhost:8080/WebApplication2\r\nIncrementally redeploying http://localhost:8080/WebApplication2\r\nDeploy is in progress...\r\ndeploy?config=file%3A%2FC%3A%2FUsers%2FAdmin%2FAppData%2FLocal%2FTemp%2Fcontext566804997520945144.xml&amp;path=/WebApplication2\r\nFAIL - Deployed application at context path [/WebApplication2] but context failed to start\r\nC:\\Users\\Admin\\Documents\\NetBeansProjects\\WebApplication2\\nbproject\\build-impl.xml:1163: The module has not been deployed.\r\nSee the server log for details.\r\nBUILD FAILED (total time: 1 second)\r\n```\r\n\r\nHere is the server log:\r\n\r\n```\r\n23-Nov-2022 00:13:00.540 INFO [http-nio-8080-exec-34] org.apache.catalina.startup.HostConfig.undeploy Undeploying context [/WebApplication2]\r\n23-Nov-2022 00:13:01.057 INFO [Catalina-utility-2] org.apache.catalina.startup.HostConfig.undeploy Undeploying context [/WebApplication2]\r\n23-Nov-2022 00:14:30.343 INFO [http-nio-8080-exec-38] org.apache.catalina.startup.HostConfig.deployDescriptor Deploying deployment descriptor [D:\\Software\\Code Related Apps\\JAVA\\apache-tomcat-10.0.27\\conf\\Catalina\\localhost\\WebApplication2.xml]\r\n23-Nov-2022 00:14:30.344 WARNING [http-nio-8080-exec-38] org.apache.catalina.startup.HostConfig.deployDescriptor The path attribute with value [/WebApplication2] in deployment descriptor [D:\\Software\\Code Related Apps\\JAVA\\apache-tomcat-10.0.27\\conf\\Catalina\\localhost\\WebApplication2.xml] has been ignored\r\n23-Nov-2022 00:14:30.472 SEVERE [http-nio-8080-exec-38] org.apache.catalina.startup.HostConfig.deployDescriptor Error deploying deployment descriptor [D:\\Software\\Code Related Apps\\JAVA\\apache-tomcat-10.0.27\\conf\\Catalina\\localhost\\WebApplication2.xml]\r\n\tjava.lang.IllegalStateException: Error starting child\r\n\t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:729)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\r\n\t\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:747)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:693)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:541)\r\n\t\tat org.apache.catalina.startup.HostConfig.check(HostConfig.java:1780)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\t\tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:293)\r\n\t\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n\t\tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n\t\tat org.apache.catalina.manager.ManagerServlet.check(ManagerServlet.java:1592)\r\n\t\tat org.apache.catalina.manager.ManagerServlet.deploy(ManagerServlet.java:1027)\r\n\t\tat org.apache.catalina.manager.ManagerServlet.doGet(ManagerServlet.java:358)\r\n\t\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:683)\r\n\t\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:792)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n\t\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n\t\tat org.apache.catalina.filters.HttpHeaderSecurityFilter.doFilter(HttpHeaderSecurityFilter.java:126)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n\t\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\t\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\t\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:661)\r\n\t\tat org.apache.catalina.valves.RequestFilterValve.process(RequestFilterValve.java:378)\r\n\t\tat org.apache.catalina.valves.RemoteAddrValve.invoke(RemoteAddrValve.java:56)\r\n\t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\r\n\t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\t\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:690)\r\n\t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:356)\r\n\t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:870)\r\n\t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1762)\r\n\t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\t\tat java.lang.Thread.run(Thread.java:748)\r\n\tCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/WebApplication2]]\r\n\t\tat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\r\n\t\t... 44 more\r\n\tCaused by: java.lang.IllegalArgumentException: More than one fragment with the name [spring_web] was found. This is not legal with relative ordering. See section 8.2.2 2c of the Servlet specification for details. Consider using absolute ordering. Duplicate fragments found in [[file:/C:/Users/Admin/Documents/NetBeansProjects/WebApplication2/build/web/WEB-INF/lib/spring-web-5.3.9.jar, file:/C:/Users/Admin/Documents/NetBeansProjects/WebApplication2/build/web/WEB-INF/lib/spring-web-5.3.9-sources.jar]].\r\n\t\tat org.apache.tomcat.util.descriptor.web.WebXml.orderWebFragments(WebXml.java:2281)\r\n\t\tat org.apache.tomcat.util.descriptor.web.WebXml.orderWebFragments(WebXml.java:2237)\r\n\t\tat org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1294)\r\n\t\tat org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:986)\r\n\t\tat org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:303)\r\n\t\tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n\t\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5085)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\t... 45 more\r\n23-Nov-2022 00:14:30.633 INFO [http-nio-8080-exec-38] org.apache.catalina.startup.HostConfig.deployDescriptor Deployment of deployment descriptor [D:\\Software\\Code Related Apps\\JAVA\\apache-tomcat-10.0.27\\conf\\Catalina\\localhost\\WebApplication2.xml] has finished in [290] ms\r\n23-Nov-2022 00:14:39.841 INFO [http-nio-8080-exec-29] org.apache.catalina.startup.HostConfig.undeploy Undeploying context [/WebApplication2]\r\n23-Nov-2022 00:14:39.857 INFO [http-nio-8080-exec-30] org.apache.catalina.startup.HostConfig.deployDescriptor Deploying deployment descriptor [D:\\Software\\Code Related Apps\\JAVA\\apache-tomcat-10.0.27\\conf\\Catalina\\localhost\\WebApplication2.xml]\r\n23-Nov-2022 00:14:39.859 WARNING [http-nio-8080-exec-30] org.apache.catalina.startup.HostConfig.deployDescriptor The path attribute with value [/WebApplication2] in deployment descriptor [D:\\Software\\Code Related Apps\\JAVA\\apache-tomcat-10.0.27\\conf\\Catalina\\localhost\\WebApplication2.xml] has been ignored\r\n23-Nov-2022 00:14:39.977 SEVERE [http-nio-8080-exec-30] org.apache.catalina.startup.HostConfig.deployDescriptor Error deploying deployment descriptor [D:\\Software\\Code Related Apps\\JAVA\\apache-tomcat-10.0.27\\conf\\Catalina\\localhost\\WebApplication2.xml]\r\n\tjava.lang.IllegalStateException: Error starting child\r\n\t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:729)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\r\n\t\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:747)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:693)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:541)\r\n\t\tat org.apache.catalina.startup.HostConfig.check(HostConfig.java:1780)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\t\tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:293)\r\n\t\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n\t\tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n\t\tat org.apache.catalina.manager.ManagerServlet.check(ManagerServlet.java:1592)\r\n\t\tat org.apache.catalina.manager.ManagerServlet.deploy(ManagerServlet.java:1027)\r\n\t\tat org.apache.catalina.manager.ManagerServlet.doGet(ManagerServlet.java:358)\r\n\t\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:683)\r\n\t\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:792)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n\t\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n\t\tat org.apache.catalina.filters.HttpHeaderSecurityFilter.doFilter(HttpHeaderSecurityFilter.java:126)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n\t\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\t\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\t\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:661)\r\n\t\tat org.apache.catalina.valves.RequestFilterValve.process(RequestFilterValve.java:378)\r\n\t\tat org.apache.catalina.valves.RemoteAddrValve.invoke(RemoteAddrValve.java:56)\r\n\t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\r\n\t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\t\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:690)\r\n\t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:356)\r\n\t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:870)\r\n\t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1762)\r\n\t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\t\tat java.lang.Thread.run(Thread.java:748)\r\n\tCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/WebApplication2]]\r\n\t\tat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\r\n\t\t... 44 more\r\n\tCaused by: java.lang.IllegalArgumentException: More than one fragment with the name [spring_web] was found. This is not legal with relative ordering. See section 8.2.2 2c of the Servlet specification for details. Consider using absolute ordering. Duplicate fragments found in [[file:/C:/Users/Admin/Documents/NetBeansProjects/WebApplication2/build/web/WEB-INF/lib/spring-web-5.3.9.jar, file:/C:/Users/Admin/Documents/NetBeansProjects/WebApplication2/build/web/WEB-INF/lib/spring-web-5.3.9-sources.jar]].\r\n\t\tat org.apache.tomcat.util.descriptor.web.WebXml.orderWebFragments(WebXml.java:2281)\r\n\t\tat org.apache.tomcat.util.descriptor.web.WebXml.orderWebFragments(WebXml.java:2237)\r\n\t\tat org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1294)\r\n\t\tat org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:986)\r\n\t\tat org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:303)\r\n\t\tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n\t\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5085)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\t... 45 more\r\n23-Nov-2022 00:14:40.014 INFO [http-nio-8080-exec-30] org.apache.catalina.startup.HostConfig.deployDescriptor Deployment of deployment descriptor [D:\\Software\\Code Related Apps\\JAVA\\apache-tomcat-10.0.27\\conf\\Catalina\\localhost\\WebApplication2.xml] has finished in [156] ms\r\n```\r\n\r\nLet me know if you know the solution please.\r\n\r\n_Note: I do not know the Spring framework yet I just added the library for learning._","title":"The module has not been deployed problem in NetBeans Tomcat","body":"<p>When I create a new web project on NetBeans the project runs fine but after adding Spring library on the project I got this type of error. What's the reason for the problem?</p>\n<ul>\n<li>JDK version: 19</li>\n<li>NetBeans IDE version: 15</li>\n<li>Tomcat version: apache-tomcat-10.0.27</li>\n<li>Spring version: spring-framework-5.3.9</li>\n</ul>\n<p>Here is the Application log:</p>\n<pre><code>ant -f C:\\\\Users\\\\Admin\\\\Documents\\\\NetBeansProjects\\\\WebApplication2 -Dnb.internal.action.name=run -Ddirectory.deployment.supported=true -DforceRedeploy=false -Dnb.wait.for.caches=true -Dbrowser.context=C:\\\\Users\\\\Admin\\\\Documents\\\\NetBeansProjects\\\\WebApplication2 run\ninit:\ndeps-module-jar:\ndeps-ear-jar:\ndeps-jar:\nlibrary-inclusion-in-archive:\nlibrary-inclusion-in-manifest:\ncompile:\ncompile-jsps:\nIncrementally deploying http://localhost:8080/WebApplication2\nCompleted incremental distribution of http://localhost:8080/WebApplication2\nIncrementally redeploying http://localhost:8080/WebApplication2\nDeploy is in progress...\ndeploy?config=file%3A%2FC%3A%2FUsers%2FAdmin%2FAppData%2FLocal%2FTemp%2Fcontext566804997520945144.xml&amp;path=/WebApplication2\nFAIL - Deployed application at context path [/WebApplication2] but context failed to start\nC:\\Users\\Admin\\Documents\\NetBeansProjects\\WebApplication2\\nbproject\\build-impl.xml:1163: The module has not been deployed.\nSee the server log for details.\nBUILD FAILED (total time: 1 second)\n</code></pre>\n<p>Here is the server log:</p>\n<pre><code>23-Nov-2022 00:13:00.540 INFO [http-nio-8080-exec-34] org.apache.catalina.startup.HostConfig.undeploy Undeploying context [/WebApplication2]\n23-Nov-2022 00:13:01.057 INFO [Catalina-utility-2] org.apache.catalina.startup.HostConfig.undeploy Undeploying context [/WebApplication2]\n23-Nov-2022 00:14:30.343 INFO [http-nio-8080-exec-38] org.apache.catalina.startup.HostConfig.deployDescriptor Deploying deployment descriptor [D:\\Software\\Code Related Apps\\JAVA\\apache-tomcat-10.0.27\\conf\\Catalina\\localhost\\WebApplication2.xml]\n23-Nov-2022 00:14:30.344 WARNING [http-nio-8080-exec-38] org.apache.catalina.startup.HostConfig.deployDescriptor The path attribute with value [/WebApplication2] in deployment descriptor [D:\\Software\\Code Related Apps\\JAVA\\apache-tomcat-10.0.27\\conf\\Catalina\\localhost\\WebApplication2.xml] has been ignored\n23-Nov-2022 00:14:30.472 SEVERE [http-nio-8080-exec-38] org.apache.catalina.startup.HostConfig.deployDescriptor Error deploying deployment descriptor [D:\\Software\\Code Related Apps\\JAVA\\apache-tomcat-10.0.27\\conf\\Catalina\\localhost\\WebApplication2.xml]\n    java.lang.IllegalStateException: Error starting child\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:729)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:747)\n        at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:693)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:541)\n        at org.apache.catalina.startup.HostConfig.check(HostConfig.java:1780)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:293)\n        at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n        at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n        at org.apache.catalina.manager.ManagerServlet.check(ManagerServlet.java:1592)\n        at org.apache.catalina.manager.ManagerServlet.deploy(ManagerServlet.java:1027)\n        at org.apache.catalina.manager.ManagerServlet.doGet(ManagerServlet.java:358)\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:683)\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:792)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n        at org.apache.catalina.filters.HttpHeaderSecurityFilter.doFilter(HttpHeaderSecurityFilter.java:126)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:661)\n        at org.apache.catalina.valves.RequestFilterValve.process(RequestFilterValve.java:378)\n        at org.apache.catalina.valves.RemoteAddrValve.invoke(RemoteAddrValve.java:56)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:690)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:356)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:870)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1762)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.lang.Thread.run(Thread.java:748)\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/WebApplication2]]\n        at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\n        ... 44 more\n    Caused by: java.lang.IllegalArgumentException: More than one fragment with the name [spring_web] was found. This is not legal with relative ordering. See section 8.2.2 2c of the Servlet specification for details. Consider using absolute ordering. Duplicate fragments found in [[file:/C:/Users/Admin/Documents/NetBeansProjects/WebApplication2/build/web/WEB-INF/lib/spring-web-5.3.9.jar, file:/C:/Users/Admin/Documents/NetBeansProjects/WebApplication2/build/web/WEB-INF/lib/spring-web-5.3.9-sources.jar]].\n        at org.apache.tomcat.util.descriptor.web.WebXml.orderWebFragments(WebXml.java:2281)\n        at org.apache.tomcat.util.descriptor.web.WebXml.orderWebFragments(WebXml.java:2237)\n        at org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1294)\n        at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:986)\n        at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:303)\n        at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5085)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        ... 45 more\n23-Nov-2022 00:14:30.633 INFO [http-nio-8080-exec-38] org.apache.catalina.startup.HostConfig.deployDescriptor Deployment of deployment descriptor [D:\\Software\\Code Related Apps\\JAVA\\apache-tomcat-10.0.27\\conf\\Catalina\\localhost\\WebApplication2.xml] has finished in [290] ms\n23-Nov-2022 00:14:39.841 INFO [http-nio-8080-exec-29] org.apache.catalina.startup.HostConfig.undeploy Undeploying context [/WebApplication2]\n23-Nov-2022 00:14:39.857 INFO [http-nio-8080-exec-30] org.apache.catalina.startup.HostConfig.deployDescriptor Deploying deployment descriptor [D:\\Software\\Code Related Apps\\JAVA\\apache-tomcat-10.0.27\\conf\\Catalina\\localhost\\WebApplication2.xml]\n23-Nov-2022 00:14:39.859 WARNING [http-nio-8080-exec-30] org.apache.catalina.startup.HostConfig.deployDescriptor The path attribute with value [/WebApplication2] in deployment descriptor [D:\\Software\\Code Related Apps\\JAVA\\apache-tomcat-10.0.27\\conf\\Catalina\\localhost\\WebApplication2.xml] has been ignored\n23-Nov-2022 00:14:39.977 SEVERE [http-nio-8080-exec-30] org.apache.catalina.startup.HostConfig.deployDescriptor Error deploying deployment descriptor [D:\\Software\\Code Related Apps\\JAVA\\apache-tomcat-10.0.27\\conf\\Catalina\\localhost\\WebApplication2.xml]\n    java.lang.IllegalStateException: Error starting child\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:729)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:747)\n        at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:693)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:541)\n        at org.apache.catalina.startup.HostConfig.check(HostConfig.java:1780)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:293)\n        at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n        at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n        at org.apache.catalina.manager.ManagerServlet.check(ManagerServlet.java:1592)\n        at org.apache.catalina.manager.ManagerServlet.deploy(ManagerServlet.java:1027)\n        at org.apache.catalina.manager.ManagerServlet.doGet(ManagerServlet.java:358)\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:683)\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:792)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n        at org.apache.catalina.filters.HttpHeaderSecurityFilter.doFilter(HttpHeaderSecurityFilter.java:126)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:661)\n        at org.apache.catalina.valves.RequestFilterValve.process(RequestFilterValve.java:378)\n        at org.apache.catalina.valves.RemoteAddrValve.invoke(RemoteAddrValve.java:56)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:690)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:356)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:870)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1762)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.lang.Thread.run(Thread.java:748)\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/WebApplication2]]\n        at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\n        ... 44 more\n    Caused by: java.lang.IllegalArgumentException: More than one fragment with the name [spring_web] was found. This is not legal with relative ordering. See section 8.2.2 2c of the Servlet specification for details. Consider using absolute ordering. Duplicate fragments found in [[file:/C:/Users/Admin/Documents/NetBeansProjects/WebApplication2/build/web/WEB-INF/lib/spring-web-5.3.9.jar, file:/C:/Users/Admin/Documents/NetBeansProjects/WebApplication2/build/web/WEB-INF/lib/spring-web-5.3.9-sources.jar]].\n        at org.apache.tomcat.util.descriptor.web.WebXml.orderWebFragments(WebXml.java:2281)\n        at org.apache.tomcat.util.descriptor.web.WebXml.orderWebFragments(WebXml.java:2237)\n        at org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1294)\n        at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:986)\n        at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:303)\n        at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5085)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        ... 45 more\n23-Nov-2022 00:14:40.014 INFO [http-nio-8080-exec-30] org.apache.catalina.startup.HostConfig.deployDescriptor Deployment of deployment descriptor [D:\\Software\\Code Related Apps\\JAVA\\apache-tomcat-10.0.27\\conf\\Catalina\\localhost\\WebApplication2.xml] has finished in [156] ms\n</code></pre>\n<p>Let me know if you know the solution please.</p>\n<p><em>Note: I do not know the Spring framework yet I just added the library for learning.</em></p>\n"},{"tags":["java","discord","discord-jda"],"answers":[{"tags":[],"owner":{"account_id":9789138,"reputation":171,"user_id":7254424,"display_name":"thorin9000"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649414574,"creation_date":1649414574,"answer_id":71795616,"question_id":71778916,"body_markdown":"In recent versions of JDA, sending embeds has changed a little:\r\n\r\n    event.getChannel().sendMessageEmbeds(embed.build()).queue();\r\n\r\nAlso, a message could precede an embed:\r\n\r\n    event.getChannel().sendMessage(&quot;message&quot;).setEmbeds(embed.build()).queue();","title":"Cannot get Java Discord bot (JDA) to send embed","body":"<p>In recent versions of JDA, sending embeds has changed a little:</p>\n<pre><code>event.getChannel().sendMessageEmbeds(embed.build()).queue();\n</code></pre>\n<p>Also, a message could precede an embed:</p>\n<pre><code>event.getChannel().sendMessage(&quot;message&quot;).setEmbeds(embed.build()).queue();\n</code></pre>\n"}],"owner":{"account_id":24845073,"reputation":1,"user_id":18722682,"display_name":"Anthony Mayoral"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2893,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669147875,"creation_date":1649320808,"question_id":71778916,"body_markdown":"I&#39;m trying to get my discord bot to send embeds but I send the message in discord and it doesn&#39;t do anything. It&#39;s working when I do this for regular messages, but not for embeds. Not sure what I&#39;m doing wrong.\r\n\r\n```java\r\npublic class Commands extends ListenerAdapter\r\n{\r\n\tpublic String prefix = &quot;!&quot;;\r\n\t\r\n\t@Override\r\n\tpublic void onGuildMessageReceived(GuildMessageReceivedEvent event)\r\n\t{\r\n\t\tString[] args = event.getMessage().getContentRaw().split(&quot; &quot;);\r\n\t\t\r\n\t\tif (args[0].equalsIgnoreCase(prefix + &quot;Test&quot;))\r\n\t\t{\r\n\t\t\tEmbedBuilder embed = new EmbedBuilder();\r\n\t\t\tembed.setTitle(&quot;This is a tilte&quot;, null);\r\n\t\t\tembed.setDescription(&quot;This is a description&quot;);\r\n\t\t\tembed.addField(&quot;Phrase 1)&quot;, &quot;Stuff&quot;, false);\r\n\t\t\tembed.addField(&quot;Phrase 2)&quot;, &quot;Stuff&quot;, false);\r\n\t\t\t\r\n\t\t\tembed.setColor(Color.RED);\r\n\t\t\t\r\n\t\t\tembed.setFooter(&quot;Bot created by person&quot;, event.getGuild().getOwner().getUser().getAvatarUrl());\r\n\t\t\tevent.getChannel().sendMessage(embed.build()).queue();\r\n\t\t\tembed.clear();\t\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"Cannot get Java Discord bot (JDA) to send embed","body":"<p>I'm trying to get my discord bot to send embeds but I send the message in discord and it doesn't do anything. It's working when I do this for regular messages, but not for embeds. Not sure what I'm doing wrong.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Commands extends ListenerAdapter\n{\n    public String prefix = &quot;!&quot;;\n    \n    @Override\n    public void onGuildMessageReceived(GuildMessageReceivedEvent event)\n    {\n        String[] args = event.getMessage().getContentRaw().split(&quot; &quot;);\n        \n        if (args[0].equalsIgnoreCase(prefix + &quot;Test&quot;))\n        {\n            EmbedBuilder embed = new EmbedBuilder();\n            embed.setTitle(&quot;This is a tilte&quot;, null);\n            embed.setDescription(&quot;This is a description&quot;);\n            embed.addField(&quot;Phrase 1)&quot;, &quot;Stuff&quot;, false);\n            embed.addField(&quot;Phrase 2)&quot;, &quot;Stuff&quot;, false);\n            \n            embed.setColor(Color.RED);\n            \n            embed.setFooter(&quot;Bot created by person&quot;, event.getGuild().getOwner().getUser().getAvatarUrl());\n            event.getChannel().sendMessage(embed.build()).queue();\n            embed.clear();  \n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","unit-testing","spring-mvc"],"comments":[{"owner":{"account_id":3340846,"reputation":2516,"user_id":2807172,"accept_rate":70,"display_name":"Raju Sharma"},"score":0,"creation_date":1503224873,"post_id":45781086,"comment_id":78519310,"body_markdown":"Show your config class for unit testing","body":"Show your config class for unit testing"},{"owner":{"account_id":7105431,"reputation":2516,"user_id":5435216,"display_name":"Tahir Hussain Mir"},"score":1,"creation_date":1503227653,"post_id":45781086,"comment_id":78520145,"body_markdown":"update the question with complete error stack, so that we can check the root cause.","body":"update the question with complete error stack, so that we can check the root cause."},{"owner":{"account_id":8452422,"reputation":301,"user_id":6340849,"accept_rate":37,"display_name":"abhishek"},"score":0,"creation_date":1503228142,"post_id":45781086,"comment_id":78520295,"body_markdown":"updated. @TahirHussainMir please have a look","body":"updated. @TahirHussainMir please have a look"},{"owner":{"account_id":11287750,"reputation":5468,"user_id":8277987,"display_name":"Daniel C."},"score":0,"creation_date":1503228516,"post_id":45781086,"comment_id":78520412,"body_markdown":"Please also provide ApplicationConfig, the error comes from that bean creation.","body":"Please also provide ApplicationConfig, the error comes from that bean creation."},{"owner":{"account_id":8452422,"reputation":301,"user_id":6340849,"accept_rate":37,"display_name":"abhishek"},"score":0,"creation_date":1503228737,"post_id":45781086,"comment_id":78520479,"body_markdown":"Added @DanielC. Please have a look","body":"Added @DanielC. Please have a look"},{"owner":{"account_id":11287750,"reputation":5468,"user_id":8277987,"display_name":"Daniel C."},"score":2,"creation_date":1503228999,"post_id":45781086,"comment_id":78520559,"body_markdown":"Good here we are!  the ApplicationConfig could&#39;t be created because the fields countries and redirectUrl are getting null values, you have many options, one is remove the NotNull annotation from your properties, and try to run your test, if that success then go to ApplicationConfig and make sure that your properties have values assigned and put your NotNull again","body":"Good here we are!  the ApplicationConfig could&#39;t be created because the fields countries and redirectUrl are getting null values, you have many options, one is remove the NotNull annotation from your properties, and try to run your test, if that success then go to ApplicationConfig and make sure that your properties have values assigned and put your NotNull again"},{"owner":{"account_id":11287750,"reputation":5468,"user_id":8277987,"display_name":"Daniel C."},"score":0,"creation_date":1503229290,"post_id":45781086,"comment_id":78520654,"body_markdown":"Make sure that company.services.verification values are in your properties file also, it will depend how you need to handle your configuration, another approach is to set default values for  your ApplicationConfig just in case  that the properties are not defined in properties file","body":"Make sure that company.services.verification values are in your properties file also, it will depend how you need to handle your configuration, another approach is to set default values for  your ApplicationConfig just in case  that the properties are not defined in properties file"},{"owner":{"account_id":8452422,"reputation":301,"user_id":6340849,"accept_rate":37,"display_name":"abhishek"},"score":0,"creation_date":1503229476,"post_id":45781086,"comment_id":78520719,"body_markdown":"Thanks DanielC. yeah the issue was that @notnull property. But I have defined those properties like others in my application.yaml file..I have added in my question above . Please have a look. why then countries and callbackUrl not getting assigned  and others get assigned?","body":"Thanks DanielC. yeah the issue was that @notnull property. But I have defined those properties like others in my application.yaml file..I have added in my question above . Please have a look. why then countries and callbackUrl not getting assigned  and others get assigned?"},{"owner":{"account_id":1342162,"reputation":442,"user_id":1283636,"display_name":"ngc4151"},"score":0,"creation_date":1503230500,"post_id":45781086,"comment_id":78521045,"body_markdown":"Could you please update your codes with imported libraries?","body":"Could you please update your codes with imported libraries?"}],"answers":[{"comments":[{"owner":{"account_id":8452422,"reputation":301,"user_id":6340849,"accept_rate":37,"display_name":"abhishek"},"score":0,"creation_date":1503234597,"post_id":45782253,"comment_id":78522306,"body_markdown":"Yeah it is at one tab for all properties after verification. By mistake I copied wrong. But still redirectUrl and countries not getting assigned and same null error. :(","body":"Yeah it is at one tab for all properties after verification. By mistake I copied wrong. But still redirectUrl and countries not getting assigned and same null error. :("},{"owner":{"account_id":11287750,"reputation":5468,"user_id":8277987,"display_name":"Daniel C."},"score":0,"creation_date":1503235188,"post_id":45782253,"comment_id":78522494,"body_markdown":"Add setters and getters for each property in your ApplicationConfig class.  setFormEmail(String fromEmail) ; getFromEmail(){ return fromEmail;}, make that for each property.","body":"Add setters and getters for each property in your ApplicationConfig class.  setFormEmail(String fromEmail) ; getFromEmail(){ return fromEmail;}, make that for each property."},{"owner":{"account_id":8452422,"reputation":301,"user_id":6340849,"accept_rate":37,"display_name":"abhishek"},"score":0,"creation_date":1503235823,"post_id":45782253,"comment_id":78522671,"body_markdown":"added Daniel C. But no affect. Same error Its working fine if I remove @NotNull .. But with it same error:(","body":"added Daniel C. But no affect. Same error Its working fine if I remove @NotNull .. But with it same error:("},{"owner":{"account_id":11287750,"reputation":5468,"user_id":8277987,"display_name":"Daniel C."},"score":0,"creation_date":1503236755,"post_id":45782253,"comment_id":78522927,"body_markdown":"It should be working now, also not sure what  make `@Data` annotation on ApplicationConfig, have you try just let `@Configuration` and `@ConfigurationProperties(prefix = &quot;company.services.verification&quot;)`","body":"It should be working now, also not sure what  make <code>@Data</code> annotation on ApplicationConfig, have you try just let <code>@Configuration</code> and <code>@ConfigurationProperties(prefix = &quot;company.services.verification&quot;)</code>"},{"owner":{"account_id":11287750,"reputation":5468,"user_id":8277987,"display_name":"Daniel C."},"score":0,"creation_date":1503244475,"post_id":45782253,"comment_id":78525468,"body_markdown":"@Abhishek I added another alternative using `application.properries`","body":"@Abhishek I added another alternative using <code>application.properries</code>"}],"tags":[],"owner":{"account_id":11287750,"reputation":5468,"user_id":8277987,"display_name":"Daniel C."},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503238335,"creation_date":1503232918,"answer_id":45782253,"question_id":45781086,"body_markdown":"Try with this application.yaml, just one tab for all properties after verification section.\r\n\r\n    company:\r\n        services:\r\n          verification:\r\n            smstype: Claims\r\n            fromEmail: noreply@company.com\r\n            subjectEmail: Email Verification\r\n            subjectManual: Claim Initiated\r\n            redirectUrl: http://www.google.com\r\n            countries:\r\n              - 1\r\n              - 2\r\n              - 3\r\n              - 4\r\n\r\nOption2: instead of .yaml use `application.propterties` create the `application.propterties` file in the `resources` folder and the content should be like this:\r\n\r\n    company.services.verification.smstype: Claims\r\n    company.services.verification.fromEmail: noreply@company.com\r\n    company.services.verification.subjectEmail: Email Verification\r\n    company.services.verification.subjectManual: Claim Initiated\r\n    company.services.verification.redirectUrl: http://www.google.com\r\n    company.services.verification.countries[0]: 1\r\n    company.services.verification.countries[1]: 2\r\n    company.services.verification.countries[2]: 3\r\n    company.services.verification.countries[3]: 4\r\n\r\n\r\nExample of a Config Class\r\n\r\n\r\n    @Configuration\r\n    @ConfigurationProperties(prefix = &quot;company.services.verification&quot;)\r\n    public class MyConfig {\r\n    \r\n    \r\n        private String smstype;\r\n    \r\n    \r\n        private String fromEmail;\r\n    \r\n    \r\n        private String subjectEmail;\r\n    \r\n    \r\n        private String subjectManual;\r\n    \r\n    \r\n        private List&lt;Integer&gt; countries;\r\n    \r\n    \r\n        private String redirectUrl;\r\n    \r\n        public String getSmstype() {\r\n            return smstype;\r\n        }\r\n    \r\n        public void setSmstype(String smstype) {\r\n            this.smstype = smstype;\r\n        }\r\n    \r\n        public String getFromEmail() {\r\n            return fromEmail;\r\n        }\r\n    \r\n        public void setFromEmail(String fromEmail) {\r\n            this.fromEmail = fromEmail;\r\n        }\r\n    \r\n        public String getSubjectEmail() {\r\n            return subjectEmail;\r\n        }\r\n    \r\n        public void setSubjectEmail(String subjectEmail) {\r\n            this.subjectEmail = subjectEmail;\r\n        }\r\n    \r\n        public String getSubjectManual() {\r\n            return subjectManual;\r\n        }\r\n    \r\n        public void setSubjectManual(String subjectManual) {\r\n            this.subjectManual = subjectManual;\r\n        }\r\n    \r\n        public List&lt;Integer&gt; getCountries() {\r\n            return countries;\r\n        }\r\n    \r\n        public void setCountries(List&lt;Integer&gt; countries) {\r\n            this.countries = countries;\r\n        }\r\n    \r\n        public String getRedirectUrl() {\r\n            return redirectUrl;\r\n        }\r\n    \r\n        public void setRedirectUrl(String redirectUrl) {\r\n            this.redirectUrl = redirectUrl;\r\n        }\r\n    }\r\n\r\n","title":"java.lang.IllegalStateException: Failed to load ApplicationContext error java spring-boot","body":"<p>Try with this application.yaml, just one tab for all properties after verification section.</p>\n\n<pre><code>company:\n    services:\n      verification:\n        smstype: Claims\n        fromEmail: noreply@company.com\n        subjectEmail: Email Verification\n        subjectManual: Claim Initiated\n        redirectUrl: http://www.google.com\n        countries:\n          - 1\n          - 2\n          - 3\n          - 4\n</code></pre>\n\n<p>Option2: instead of .yaml use <code>application.propterties</code> create the <code>application.propterties</code> file in the <code>resources</code> folder and the content should be like this:</p>\n\n<pre><code>company.services.verification.smstype: Claims\ncompany.services.verification.fromEmail: noreply@company.com\ncompany.services.verification.subjectEmail: Email Verification\ncompany.services.verification.subjectManual: Claim Initiated\ncompany.services.verification.redirectUrl: http://www.google.com\ncompany.services.verification.countries[0]: 1\ncompany.services.verification.countries[1]: 2\ncompany.services.verification.countries[2]: 3\ncompany.services.verification.countries[3]: 4\n</code></pre>\n\n<p>Example of a Config Class</p>\n\n<pre><code>@Configuration\n@ConfigurationProperties(prefix = \"company.services.verification\")\npublic class MyConfig {\n\n\n    private String smstype;\n\n\n    private String fromEmail;\n\n\n    private String subjectEmail;\n\n\n    private String subjectManual;\n\n\n    private List&lt;Integer&gt; countries;\n\n\n    private String redirectUrl;\n\n    public String getSmstype() {\n        return smstype;\n    }\n\n    public void setSmstype(String smstype) {\n        this.smstype = smstype;\n    }\n\n    public String getFromEmail() {\n        return fromEmail;\n    }\n\n    public void setFromEmail(String fromEmail) {\n        this.fromEmail = fromEmail;\n    }\n\n    public String getSubjectEmail() {\n        return subjectEmail;\n    }\n\n    public void setSubjectEmail(String subjectEmail) {\n        this.subjectEmail = subjectEmail;\n    }\n\n    public String getSubjectManual() {\n        return subjectManual;\n    }\n\n    public void setSubjectManual(String subjectManual) {\n        this.subjectManual = subjectManual;\n    }\n\n    public List&lt;Integer&gt; getCountries() {\n        return countries;\n    }\n\n    public void setCountries(List&lt;Integer&gt; countries) {\n        this.countries = countries;\n    }\n\n    public String getRedirectUrl() {\n        return redirectUrl;\n    }\n\n    public void setRedirectUrl(String redirectUrl) {\n        this.redirectUrl = redirectUrl;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8452422,"reputation":301,"user_id":6340849,"accept_rate":37,"display_name":"abhishek"},"score":0,"creation_date":1503235015,"post_id":45782432,"comment_id":78522439,"body_markdown":"Why do we need to have getters and setters in ApplicationConfig. Without these it works fine. And when we have @AutoConfigureMockMvc then I guess we dont have to do any kind of pre initialization I guess.","body":"Why do we need to have getters and setters in ApplicationConfig. Without these it works fine. And when we have @AutoConfigureMockMvc then I guess we dont have to do any kind of pre initialization I guess."},{"owner":{"account_id":8452422,"reputation":301,"user_id":6340849,"accept_rate":37,"display_name":"abhishek"},"score":0,"creation_date":1503235054,"post_id":45782432,"comment_id":78522455,"body_markdown":"See this link . I followed this link - [link](https://spring.io/guides/gs/testing-web/)","body":"See this link . I followed this link - <a href=\"https://spring.io/guides/gs/testing-web/\" rel=\"nofollow noreferrer\">link</a>"}],"tags":[],"owner":{"account_id":1342162,"reputation":442,"user_id":1283636,"display_name":"ngc4151"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1503233945,"creation_date":1503233945,"answer_id":45782432,"question_id":45781086,"body_markdown":"First of all, please add the following dependency to you project and follow the Spring Doc instructions for &quot;**Generating your own meta-data using the annotation processor**&quot;\r\n\r\n[http://docs.spring.io/spring-boot/docs/1.5.6.RELEASE/reference/html/configuration-metadata.html#configuration-metadata-annotation-processor][1]\r\n\r\nHere is the maven dependency for generating custom spring meta-data configuration properties\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n        &lt;optional&gt;true&lt;/optional&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nYour applicationconfig class should also have getters and setters\r\n\r\n    @Configuration\r\n    @EnableAutoConfiguration\r\n    @ConfigurationProperties(prefix = &quot;company.services.verification&quot;)\r\n    public class ApplicationConfig {\r\n    \r\n        @NotNull\r\n        String smstype;\r\n    \r\n        @NotNull\r\n        String fromEmail;\r\n    \r\n        @NotNull\r\n        String subjectEmail;\r\n    \r\n        @NotNull\r\n        String subjectManual;\r\n    \r\n        @NotNull\r\n        List&lt;Integer&gt; countries;\r\n    \r\n        @NotNull\r\n        String redirectUrl;\r\n    \r\n        public String getSmstype() {\r\n            return smstype;\r\n        }\r\n    \r\n        public void setSmstype(String smstype) {\r\n            this.smstype = smstype;\r\n        }\r\n    \r\n        public String getFromEmail() {\r\n            return fromEmail;\r\n        }\r\n    \r\n        public void setFromEmail(String fromEmail) {\r\n            this.fromEmail = fromEmail;\r\n        }\r\n    \r\n        public String getSubjectEmail() {\r\n            return subjectEmail;\r\n        }\r\n    \r\n        public void setSubjectEmail(String subjectEmail) {\r\n            this.subjectEmail = subjectEmail;\r\n        }\r\n    \r\n        public String getSubjectManual() {\r\n            return subjectManual;\r\n        }\r\n    \r\n        public void setSubjectManual(String subjectManual) {\r\n            this.subjectManual = subjectManual;\r\n        }\r\n    \r\n        public List&lt;Integer&gt; getCountries() {\r\n            return countries;\r\n        }\r\n    \r\n        public void setCountries(List&lt;Integer&gt; countries) {\r\n            this.countries = countries;\r\n        }\r\n    \r\n        public String getRedirectUrl() {\r\n            return redirectUrl;\r\n        }\r\n    \r\n        public void setRedirectUrl(String redirectUrl) {\r\n            this.redirectUrl = redirectUrl;\r\n        }\r\n    }\r\n\r\n**EmailController.class**\r\n\r\n    @Controller\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    @RequestMapping(value = &quot;/verify/email&quot;)\r\n    public class EmailController {\r\n    \r\n        @Autowired\r\n        private ApplicationConfig config;\r\n    \r\n        @ResponseBody\r\n        @RequestMapping(method = RequestMethod.POST, produces = MediaType.APPLICATION_JSON)\r\n        public String newRequest(@RequestBody String email) throws\r\n                IOException {\r\n    \r\n            return email;\r\n        }\r\n    }\r\n\r\nSince i dont have any idea about your byEmail class in your controller i removed it.\r\n\r\n**Application.yaml**\r\n\r\n    company:\r\n      services:\r\n        verification:\r\n          from-email: noreply@company.com\r\n          redirect-url: http://www.google.com\r\n          subject-email: Email Verification\r\n          smstype: Claims\r\n          subject-manual: Claim Initiated\r\n          countries:\r\n            - 1\r\n            - 2\r\n            - 3\r\n            - 4\r\n\r\nAnd here is the most important part, you should add applicationcontext to your test classes also and make necessary mocking operations before any test.\r\n\r\nEmailControllerTests.java\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @AutoConfigureMockMvc\r\n    @WebAppConfiguration\r\n    @SpringBootTest\r\n    public class EmailControllerTests {\r\n        @Autowired\r\n        private MockMvc mockMvc;\r\n    \r\n        @Autowired\r\n        private WebApplicationContext applicationContext;\r\n    \r\n        @Mock\r\n        private ApplicationConfig applicationConfig;\r\n    \r\n        @Before\r\n        public void init() throws Exception {\r\n            MockitoAnnotations.initMocks(this);\r\n    \r\n            // @formatter:off\r\n    \t\tthis.mockMvc = webAppContextSetup(this.applicationContext)\r\n    \t\t\t\t.alwaysDo(print())\r\n    \t\t\t\t.build();\r\n    \t\t// @formatter:on\r\n    \r\n            EmailController emailController = this.applicationContext.getBean(EmailController.class);\r\n    \r\n            // REPLACE YOUR SERVICES WITH the MOCKED ONES HERE\r\n            //ReflectionTestUtils.setField(emailController, &quot;byEmail&quot;, this.byEmail);\r\n            ReflectionTestUtils.setField(emailController, &quot;config&quot;, this.applicationConfig);\r\n        }\r\n    \r\n        @Test\r\n        public void unauthenticatedUsersCannotAddProperty() throws Exception {\r\n            // @formatter:off\r\n            MvcResult result = this.mockMvc.perform(post(&quot;/verify/email&quot;).contentType(MediaType.APPLICATION_JSON).content(&quot;{ahmet@ahmet.com}&quot;))\r\n                    .andDo(print())\r\n                .andExpect(status().isOk())\r\n                .andReturn();\r\n    \t\t// @formatter:on\r\n    \r\n            Assert.assertNotNull(result);\r\n        }\r\n    }\r\n\r\nAnd here is the result, everything is working as it should be...\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHope this helps...\r\n\r\n  [1]: http://Generating%20your%20own%20meta-data%20using%20the%20annotation%20processor\r\n  [2]: https://i.stack.imgur.com/9zmgi.png","title":"java.lang.IllegalStateException: Failed to load ApplicationContext error java spring-boot","body":"<p>First of all, please add the following dependency to you project and follow the Spring Doc instructions for \"<strong>Generating your own meta-data using the annotation processor</strong>\"</p>\n\n<p><a href=\"http://Generating%20your%20own%20meta-data%20using%20the%20annotation%20processor\" rel=\"nofollow noreferrer\">http://docs.spring.io/spring-boot/docs/1.5.6.RELEASE/reference/html/configuration-metadata.html#configuration-metadata-annotation-processor</a></p>\n\n<p>Here is the maven dependency for generating custom spring meta-data configuration properties</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n    &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Your applicationconfig class should also have getters and setters</p>\n\n<pre><code>@Configuration\n@EnableAutoConfiguration\n@ConfigurationProperties(prefix = \"company.services.verification\")\npublic class ApplicationConfig {\n\n    @NotNull\n    String smstype;\n\n    @NotNull\n    String fromEmail;\n\n    @NotNull\n    String subjectEmail;\n\n    @NotNull\n    String subjectManual;\n\n    @NotNull\n    List&lt;Integer&gt; countries;\n\n    @NotNull\n    String redirectUrl;\n\n    public String getSmstype() {\n        return smstype;\n    }\n\n    public void setSmstype(String smstype) {\n        this.smstype = smstype;\n    }\n\n    public String getFromEmail() {\n        return fromEmail;\n    }\n\n    public void setFromEmail(String fromEmail) {\n        this.fromEmail = fromEmail;\n    }\n\n    public String getSubjectEmail() {\n        return subjectEmail;\n    }\n\n    public void setSubjectEmail(String subjectEmail) {\n        this.subjectEmail = subjectEmail;\n    }\n\n    public String getSubjectManual() {\n        return subjectManual;\n    }\n\n    public void setSubjectManual(String subjectManual) {\n        this.subjectManual = subjectManual;\n    }\n\n    public List&lt;Integer&gt; getCountries() {\n        return countries;\n    }\n\n    public void setCountries(List&lt;Integer&gt; countries) {\n        this.countries = countries;\n    }\n\n    public String getRedirectUrl() {\n        return redirectUrl;\n    }\n\n    public void setRedirectUrl(String redirectUrl) {\n        this.redirectUrl = redirectUrl;\n    }\n}\n</code></pre>\n\n<p><strong>EmailController.class</strong></p>\n\n<pre><code>@Controller\n@Produces(MediaType.APPLICATION_JSON)\n@RequestMapping(value = \"/verify/email\")\npublic class EmailController {\n\n    @Autowired\n    private ApplicationConfig config;\n\n    @ResponseBody\n    @RequestMapping(method = RequestMethod.POST, produces = MediaType.APPLICATION_JSON)\n    public String newRequest(@RequestBody String email) throws\n            IOException {\n\n        return email;\n    }\n}\n</code></pre>\n\n<p>Since i dont have any idea about your byEmail class in your controller i removed it.</p>\n\n<p><strong>Application.yaml</strong></p>\n\n<pre><code>company:\n  services:\n    verification:\n      from-email: noreply@company.com\n      redirect-url: http://www.google.com\n      subject-email: Email Verification\n      smstype: Claims\n      subject-manual: Claim Initiated\n      countries:\n        - 1\n        - 2\n        - 3\n        - 4\n</code></pre>\n\n<p>And here is the most important part, you should add applicationcontext to your test classes also and make necessary mocking operations before any test.</p>\n\n<p>EmailControllerTests.java</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@AutoConfigureMockMvc\n@WebAppConfiguration\n@SpringBootTest\npublic class EmailControllerTests {\n    @Autowired\n    private MockMvc mockMvc;\n\n    @Autowired\n    private WebApplicationContext applicationContext;\n\n    @Mock\n    private ApplicationConfig applicationConfig;\n\n    @Before\n    public void init() throws Exception {\n        MockitoAnnotations.initMocks(this);\n\n        // @formatter:off\n        this.mockMvc = webAppContextSetup(this.applicationContext)\n                .alwaysDo(print())\n                .build();\n        // @formatter:on\n\n        EmailController emailController = this.applicationContext.getBean(EmailController.class);\n\n        // REPLACE YOUR SERVICES WITH the MOCKED ONES HERE\n        //ReflectionTestUtils.setField(emailController, \"byEmail\", this.byEmail);\n        ReflectionTestUtils.setField(emailController, \"config\", this.applicationConfig);\n    }\n\n    @Test\n    public void unauthenticatedUsersCannotAddProperty() throws Exception {\n        // @formatter:off\n        MvcResult result = this.mockMvc.perform(post(\"/verify/email\").contentType(MediaType.APPLICATION_JSON).content(\"{ahmet@ahmet.com}\"))\n                .andDo(print())\n            .andExpect(status().isOk())\n            .andReturn();\n        // @formatter:on\n\n        Assert.assertNotNull(result);\n    }\n}\n</code></pre>\n\n<p>And here is the result, everything is working as it should be...</p>\n\n<p><a href=\"https://i.stack.imgur.com/9zmgi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9zmgi.png\" alt=\"enter image description here\"></a></p>\n\n<p>Hope this helps...</p>\n"}],"owner":{"account_id":8452422,"reputation":301,"user_id":6340849,"accept_rate":37,"display_name":"abhishek"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24694,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1669147610,"creation_date":1503224625,"question_id":45781086,"body_markdown":"Okay i went through a lot of answers but my problem is still unsolved.\r\nI am  trying to test my controller -\r\n\r\n    \r\n    @Controller\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    @RequestMapping(value = &quot;/verify/email&quot;)\r\n    public class EmailController {\r\n\r\n    @Autowired\r\n    private ByEmail strategy;\r\n\r\n    @Autowired\r\n    private ApplicationConfig config;\r\n\r\n    @ResponseBody\r\n    @RequestMapping(method = RequestMethod.POST, produces = \r\n    MediaType.APPLICATION_JSON)\r\n    public Request newRequest(@RequestBody VRequest request) throws \r\n    IOException {\r\n        log.info(request.toString());\r\n        System.out.println(request.toString());\r\n        request.setType(VType.EMAIL);\r\n        Optional&lt;Request&gt; response = strategy.processRequest(request);\r\n        return response.orElseThrow(BadRequestException::new);\r\n    }\r\n\r\n\r\nAnd my test is -\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @AutoConfigureMockMvc\r\n    @WebAppConfiguration\r\n    @SpringBootTest\r\n    public class TestEmailController {\r\n\r\n    @Mock\r\n    private ByEmail strategy;\r\n\r\n    @InjectMocks\r\n    @Autowired\r\n    private EmailController controller;\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n    @Test\r\n    public void contexLoads() throws Exception {\r\n        assertThat(controller).isNotNull();\r\n    }\r\n\r\nWhen I tried to run the test it is giving following error - \r\n\r\n    java.lang.IllegalStateException: Failed to load ApplicationContext\r\n\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\r\n\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)\r\n\tat org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189)\r\n\tat org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131)\r\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n\tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\r\n\tat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\r\n\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;application&#39;: Unsatisfied dependency expressed through field &#39;configs&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;applicationConfig&#39;: Could not bind properties to ApplicationConfig (prefix=company.services.verification, ignoreInvalidFields=false, ignoreUnknownFields=true, ignoreNestedProperties=false); nested exception is org.springframework.validation.BindException: org.springframework.boot.bind.RelaxedDataBinder$RelaxedBeanPropertyBindingResult: 2 errors\r\n    Field error in object &#39;company.services.verification&#39; on field &#39;redirectUrl&#39;: rejected value [null]; codes [NotNull.company.services.verification.redirectUrl,NotNull.redirectUrl,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [company.services.verification.redirectUrl,redirectUrl]; arguments []; default message [redirectUrl]]; default message [may not be null]\r\n    Field error in object &#39;company.services.verification&#39; on field &#39;countries&#39;: rejected value [null]; codes [NotNull.company.services.verification.countries,NotNull.countries,NotNull.java.util.List,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [company.services.verification.countries,countries]; arguments []; default message [countries]]; default message [may not be null]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588)\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)\r\n    \t... 24 more\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;applicationConfig&#39;: Could not bind properties to ApplicationConfig (prefix=company.services.verification, ignoreInvalidFields=false, ignoreUnknownFields=true, ignoreNestedProperties=false); nested exception is org.springframework.validation.BindException: org.springframework.boot.bind.RelaxedDataBinder$RelaxedBeanPropertyBindingResult: 2 errors\r\n    Field error in object &#39;company.services.verification&#39; on field &#39;redirectUrl&#39;: rejected value [null]; codes [NotNull.company.services.verification.redirectUrl,NotNull.redirectUrl,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [company.services.verification.redirectUrl,redirectUrl]; arguments []; default message [redirectUrl]]; default message [may not be null]\r\n    Field error in object &#39;company.services.verification&#39; on field &#39;countries&#39;: rejected value [null]; codes [NotNull.company.services.verification.countries,NotNull.countries,NotNull.java.util.List,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [company.services.verification.countries,countries]; arguments []; default message [countries]]; default message [may not be null]\r\n    \tat org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:334)\r\n    \tat org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:291)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:409)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1620)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)\r\n    \t... 42 more\r\n    Caused by: org.springframework.validation.BindException: org.springframework.boot.bind.RelaxedDataBinder$RelaxedBeanPropertyBindingResult: 2 errors\r\n    Field error in object &#39;company.services.verification&#39; on field &#39;redirectUrl&#39;: rejected value [null]; codes [NotNull.company.services.verification.redirectUrl,NotNull.redirectUrl,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [company.services.verification.redirectUrl,redirectUrl]; arguments []; default message [redirectUrl]]; default message [may not be null]\r\n    Field error in object &#39;company.services.verification&#39; on field &#39;countries&#39;: rejected value [null]; codes [NotNull.company.services.verification.countries,NotNull.countries,NotNull.java.util.List,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [company.services.verification.countries,countries]; arguments []; default message [countries]]; default message [may not be null]\r\n    \tat org.springframework.boot.bind.PropertiesConfigurationFactory.checkForBindingErrors(PropertiesConfigurationFactory.java:359)\r\n    \tat org.springframework.boot.bind.PropertiesConfigurationFactory.doBindPropertiesToTarget(PropertiesConfigurationFactory.java:276)\r\n    \tat org.springframework.boot.bind.PropertiesConfigurationFactory.bindPropertiesToTarget(PropertiesConfigurationFactory.java:240)\r\n    \tat org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:329)\r\n    \t... 55 more\r\n\r\nthis is my ApplicationTest class - \r\n\r\n   \r\n\r\n     @RunWith(SpringRunner.class)\r\n        @SpringBootTest\r\n        public class ApplicationTests {\r\n    \r\n    \t@Test\r\n    \tpublic void contextLoads() {\r\n    \t}\r\n    \r\n    }\r\n\r\nHere is my ApplicationConfig class -\r\n\r\n    @Data\r\n    @Configuration\r\n    @EnableAutoConfiguration\r\n    @ConfigurationProperties(prefix = &quot;company.services.verification&quot;)\r\n    public class ApplicationConfig {\r\n\r\n    @NotNull\r\n    String smstype;\r\n\r\n    @NotNull\r\n    String fromEmail;\r\n\r\n    @NotNull\r\n    String subjectEmail;\r\n\r\n    @NotNull\r\n    String subjectManual;\r\n\r\n    @NotNull\r\n    List&lt;Integer&gt; countries;\r\n\r\n    @NotNull\r\n    String redirectUrl;\r\n    }\r\n\r\nAnd my application.yaml file where the abover properties are defined -\r\n\r\n   \r\n\r\n    company:\r\n        services:\r\n          verification:\r\n            smstype: Claims\r\n            fromEmail: noreply@company.com\r\n            subjectEmail: Email Verification\r\n            subjectManual: Claim Initiated\r\n            redirectUrl: http://www.google.com\r\n            countries:\r\n             - 1\r\n             - 2\r\n             - 3\r\n             - 4\r\n\r\nI went through a lot of answers but the error remains the same.\r\nI am using spring-boot 1.5.6. Any help please?\r\n\r\n\r\n","title":"java.lang.IllegalStateException: Failed to load ApplicationContext error java spring-boot","body":"<p>Okay i went through a lot of answers but my problem is still unsolved.\nI am  trying to test my controller -</p>\n\n<pre><code>@Controller\n@Produces(MediaType.APPLICATION_JSON)\n@RequestMapping(value = \"/verify/email\")\npublic class EmailController {\n\n@Autowired\nprivate ByEmail strategy;\n\n@Autowired\nprivate ApplicationConfig config;\n\n@ResponseBody\n@RequestMapping(method = RequestMethod.POST, produces = \nMediaType.APPLICATION_JSON)\npublic Request newRequest(@RequestBody VRequest request) throws \nIOException {\n    log.info(request.toString());\n    System.out.println(request.toString());\n    request.setType(VType.EMAIL);\n    Optional&lt;Request&gt; response = strategy.processRequest(request);\n    return response.orElseThrow(BadRequestException::new);\n}\n</code></pre>\n\n<p>And my test is -</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@AutoConfigureMockMvc\n@WebAppConfiguration\n@SpringBootTest\npublic class TestEmailController {\n\n@Mock\nprivate ByEmail strategy;\n\n@InjectMocks\n@Autowired\nprivate EmailController controller;\n\n@Autowired\nprivate MockMvc mockMvc;\n\n@Test\npublic void contexLoads() throws Exception {\n    assertThat(controller).isNotNull();\n}\n</code></pre>\n\n<p>When I tried to run the test it is giving following error - </p>\n\n<pre><code>java.lang.IllegalStateException: Failed to load ApplicationContext\n\nat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\nat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)\nat org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189)\nat org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131)\nat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)\nat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)\nat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\nat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\nat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\nat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\nat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\nat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\nat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\nat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\nat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\n\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'application': Unsatisfied dependency expressed through field 'configs'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'applicationConfig': Could not bind properties to ApplicationConfig (prefix=company.services.verification, ignoreInvalidFields=false, ignoreUnknownFields=true, ignoreNestedProperties=false); nested exception is org.springframework.validation.BindException: org.springframework.boot.bind.RelaxedDataBinder$RelaxedBeanPropertyBindingResult: 2 errors\nField error in object 'company.services.verification' on field 'redirectUrl': rejected value [null]; codes [NotNull.company.services.verification.redirectUrl,NotNull.redirectUrl,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [company.services.verification.redirectUrl,redirectUrl]; arguments []; default message [redirectUrl]]; default message [may not be null]\nField error in object 'company.services.verification' on field 'countries': rejected value [null]; codes [NotNull.company.services.verification.countries,NotNull.countries,NotNull.java.util.List,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [company.services.verification.countries,countries]; arguments []; default message [countries]]; default message [may not be null]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)\n    ... 24 more\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'applicationConfig': Could not bind properties to ApplicationConfig (prefix=company.services.verification, ignoreInvalidFields=false, ignoreUnknownFields=true, ignoreNestedProperties=false); nested exception is org.springframework.validation.BindException: org.springframework.boot.bind.RelaxedDataBinder$RelaxedBeanPropertyBindingResult: 2 errors\nField error in object 'company.services.verification' on field 'redirectUrl': rejected value [null]; codes [NotNull.company.services.verification.redirectUrl,NotNull.redirectUrl,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [company.services.verification.redirectUrl,redirectUrl]; arguments []; default message [redirectUrl]]; default message [may not be null]\nField error in object 'company.services.verification' on field 'countries': rejected value [null]; codes [NotNull.company.services.verification.countries,NotNull.countries,NotNull.java.util.List,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [company.services.verification.countries,countries]; arguments []; default message [countries]]; default message [may not be null]\n    at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:334)\n    at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:291)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:409)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1620)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)\n    ... 42 more\nCaused by: org.springframework.validation.BindException: org.springframework.boot.bind.RelaxedDataBinder$RelaxedBeanPropertyBindingResult: 2 errors\nField error in object 'company.services.verification' on field 'redirectUrl': rejected value [null]; codes [NotNull.company.services.verification.redirectUrl,NotNull.redirectUrl,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [company.services.verification.redirectUrl,redirectUrl]; arguments []; default message [redirectUrl]]; default message [may not be null]\nField error in object 'company.services.verification' on field 'countries': rejected value [null]; codes [NotNull.company.services.verification.countries,NotNull.countries,NotNull.java.util.List,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [company.services.verification.countries,countries]; arguments []; default message [countries]]; default message [may not be null]\n    at org.springframework.boot.bind.PropertiesConfigurationFactory.checkForBindingErrors(PropertiesConfigurationFactory.java:359)\n    at org.springframework.boot.bind.PropertiesConfigurationFactory.doBindPropertiesToTarget(PropertiesConfigurationFactory.java:276)\n    at org.springframework.boot.bind.PropertiesConfigurationFactory.bindPropertiesToTarget(PropertiesConfigurationFactory.java:240)\n    at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:329)\n    ... 55 more\n</code></pre>\n\n<p>this is my ApplicationTest class - </p>\n\n<pre><code> @RunWith(SpringRunner.class)\n    @SpringBootTest\n    public class ApplicationTests {\n\n    @Test\n    public void contextLoads() {\n    }\n\n}\n</code></pre>\n\n<p>Here is my ApplicationConfig class -</p>\n\n<pre><code>@Data\n@Configuration\n@EnableAutoConfiguration\n@ConfigurationProperties(prefix = \"company.services.verification\")\npublic class ApplicationConfig {\n\n@NotNull\nString smstype;\n\n@NotNull\nString fromEmail;\n\n@NotNull\nString subjectEmail;\n\n@NotNull\nString subjectManual;\n\n@NotNull\nList&lt;Integer&gt; countries;\n\n@NotNull\nString redirectUrl;\n}\n</code></pre>\n\n<p>And my application.yaml file where the abover properties are defined -</p>\n\n<pre><code>company:\n    services:\n      verification:\n        smstype: Claims\n        fromEmail: noreply@company.com\n        subjectEmail: Email Verification\n        subjectManual: Claim Initiated\n        redirectUrl: http://www.google.com\n        countries:\n         - 1\n         - 2\n         - 3\n         - 4\n</code></pre>\n\n<p>I went through a lot of answers but the error remains the same.\nI am using spring-boot 1.5.6. Any help please?</p>\n"},{"tags":["java","sql","spring-boot","liquibase","bidirectional"],"comments":[{"owner":{"account_id":300481,"reputation":24692,"user_id":607637,"accept_rate":78,"display_name":"gtiwari333"},"score":0,"creation_date":1601750574,"post_id":64183096,"comment_id":113504953,"body_markdown":"I don&#39;t know how you wrote or generated the change log xmls.. but liquibase would generate the change logs for tables first and then the FKs","body":"I don&#39;t know how you wrote or generated the change log xmls.. but liquibase would generate the change logs for tables first and then the FKs"},{"owner":{"account_id":300481,"reputation":24692,"user_id":607637,"accept_rate":78,"display_name":"gtiwari333"},"score":0,"creation_date":1601750609,"post_id":64183096,"comment_id":113504962,"body_markdown":"Use liquibase plugin to generate change logs","body":"Use liquibase plugin to generate change logs"},{"owner":{"account_id":300481,"reputation":24692,"user_id":607637,"accept_rate":78,"display_name":"gtiwari333"},"score":0,"creation_date":1601750644,"post_id":64183096,"comment_id":113504974,"body_markdown":"See this for an example: https://github.com/gtiwari333/spring-boot-web-application-seed/blob/master/orm/pom.xml","body":"See this for an example: <a href=\"https://github.com/gtiwari333/spring-boot-web-application-seed/blob/master/orm/pom.xml\" rel=\"nofollow noreferrer\">github.com/gtiwari333/spring-boot-web-application-seed/blob/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":300481,"reputation":24692,"user_id":607637,"accept_rate":78,"display_name":"gtiwari333"},"score":0,"creation_date":1601750682,"post_id":64183096,"comment_id":113504978,"body_markdown":"https://github.com/gtiwari333/spring-boot-web-application-seed/blob/master/orm/src/main/resources/liquibase/changelog/20200810015320_changelog.xml is an example of generated XML. Note how things are ordered","body":"<a href=\"https://github.com/gtiwari333/spring-boot-web-application-seed/blob/master/orm/src/main/resources/liquibase/changelog/20200810015320_changelog.xml\" rel=\"nofollow noreferrer\">github.com/gtiwari333/spring-boot-web-application-seed/blob/&zwnj;&#8203;&hellip;</a> is an example of generated XML. Note how things are ordered"},{"owner":{"account_id":18624606,"reputation":33,"user_id":13574018,"display_name":"Maxim Grankin"},"score":1,"creation_date":1602012974,"post_id":64183096,"comment_id":113583965,"body_markdown":"@gtiwari333 thank you very much! I&#39;ve never heard about generating change logs and you helped me a lot.","body":"@gtiwari333 thank you very much! I&#39;ve never heard about generating change logs and you helped me a lot."}],"answers":[{"comments":[{"owner":{"account_id":18624606,"reputation":33,"user_id":13574018,"display_name":"Maxim Grankin"},"score":0,"creation_date":1602070636,"post_id":64235757,"comment_id":113602092,"body_markdown":"Actually, this won&#39;t help. Stock cannot be created without company and company cannot be created without stock. Bidirectional relationship.","body":"Actually, this won&#39;t help. Stock cannot be created without company and company cannot be created without stock. Bidirectional relationship."},{"owner":{"account_id":202816,"reputation":1100,"user_id":450100,"display_name":"Christian Maslen"},"score":0,"creation_date":1602472128,"post_id":64235757,"comment_id":113721354,"body_markdown":"You&#39;re right, I didn&#39;t read the question properly&#129318;&#127995;","body":"You&#39;re right, I didn&#39;t read the question properly🤦🏻"}],"tags":[],"owner":{"account_id":202816,"reputation":1100,"user_id":450100,"display_name":"Christian Maslen"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602032446,"creation_date":1602032446,"answer_id":64235757,"question_id":64183096,"body_markdown":"The include order needs to be switched in the master change log file. The company table isn&#39;t created by the time the db.changelog.stock.xml file is executed.","title":"Liquibase bidirectional relationships changelog order","body":"<p>The include order needs to be switched in the master change log file. The company table isn't created by the time the db.changelog.stock.xml file is executed.</p>\n"},{"comments":[{"owner":{"account_id":18624606,"reputation":33,"user_id":13574018,"display_name":"Maxim Grankin"},"score":0,"creation_date":1602233170,"post_id":64246940,"comment_id":113661348,"body_markdown":"Amazing answer, ty.","body":"Amazing answer, ty."},{"owner":{"account_id":262192,"reputation":5128,"user_id":546888,"accept_rate":68,"display_name":"Gunjan Shah"},"score":0,"creation_date":1669109535,"post_id":64246940,"comment_id":131563332,"body_markdown":"The reference links are not working any more. Please update the GIT reference links.","body":"The reference links are not working any more. Please update the GIT reference links."},{"owner":{"account_id":300481,"reputation":24692,"user_id":607637,"accept_rate":78,"display_name":"gtiwari333"},"score":1,"creation_date":1669146606,"post_id":64246940,"comment_id":131576994,"body_markdown":"@GunjanShah links are updated","body":"@GunjanShah links are updated"}],"tags":[],"owner":{"account_id":300481,"reputation":24692,"user_id":607637,"accept_rate":78,"display_name":"gtiwari333"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669146591,"creation_date":1602083223,"answer_id":64246940,"question_id":64183096,"body_markdown":"*Creating Answer out of my Comments on the Question:*\r\n\r\nIt looks you are writing your change log xml manually. If you arrange your change log to put table creation at first and the FKs then it would be fine.\r\n\r\n- Create Table1, Table2, Table3\r\n- Setup relation between Table1 and Table2, Table2 an Table3 \r\n\r\n\r\n**Better option is to use liquibase plugin** (for your maven/gradle) to generate such change logs. Liquibase would generate the change logs for tables first and then the FKs so that you don&#39;t need to worry about this.\r\n\r\nSee these as an reference:\r\n- https://github.com/gtiwari333/spring-boot-web-application-sample/blob/master/main-app/main-orm/pom.xml\r\n- https://github.com/gtiwari333/spring-boot-web-application-sample/tree/master/main-app/main-orm/src/main/resources/liquibase/changelog","title":"Liquibase bidirectional relationships changelog order","body":"<p><em>Creating Answer out of my Comments on the Question:</em></p>\n<p>It looks you are writing your change log xml manually. If you arrange your change log to put table creation at first and the FKs then it would be fine.</p>\n<ul>\n<li>Create Table1, Table2, Table3</li>\n<li>Setup relation between Table1 and Table2, Table2 an Table3</li>\n</ul>\n<p><strong>Better option is to use liquibase plugin</strong> (for your maven/gradle) to generate such change logs. Liquibase would generate the change logs for tables first and then the FKs so that you don't need to worry about this.</p>\n<p>See these as an reference:</p>\n<ul>\n<li><a href=\"https://github.com/gtiwari333/spring-boot-web-application-sample/blob/master/main-app/main-orm/pom.xml\" rel=\"nofollow noreferrer\">https://github.com/gtiwari333/spring-boot-web-application-sample/blob/master/main-app/main-orm/pom.xml</a></li>\n<li><a href=\"https://github.com/gtiwari333/spring-boot-web-application-sample/tree/master/main-app/main-orm/src/main/resources/liquibase/changelog\" rel=\"nofollow noreferrer\">https://github.com/gtiwari333/spring-boot-web-application-sample/tree/master/main-app/main-orm/src/main/resources/liquibase/changelog</a></li>\n</ul>\n"}],"owner":{"account_id":18624606,"reputation":33,"user_id":13574018,"display_name":"Maxim Grankin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":428,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":64246940,"answer_count":2,"score":2,"last_activity_date":1669146591,"creation_date":1601720139,"question_id":64183096,"body_markdown":"I&#39;ve faced a problem when implementing liquibase in an existing project. So we have two entities:\r\n\r\n**Company**:\r\n\r\n    @Entity\r\n    @Table(name = &quot;company&quot;)\r\n    @EqualsAndHashCode(of = {}, callSuper = true)\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class Company extends AbstractAccount {\r\n\r\n        private String organizationName;\r\n        private String mail;\r\n        private Set&lt;Stock&gt; stocks;\r\n        private Stock currentStock;\r\n\r\n        @Column(name = &quot;organization_name&quot;, unique = true)\r\n        public String getOrganizationName() {\r\n            return organizationName;\r\n        }\r\n\r\n        @Email\r\n        @Column(name = &quot;mail&quot;, unique = true)\r\n        public String getMail() {\r\n            return mail;\r\n        }\r\n\r\n        @Cascade({CascadeType.REMOVE, CascadeType.SAVE_UPDATE})\r\n        @OneToMany(mappedBy = &quot;company&quot;, fetch = FetchType.LAZY)\r\n        public Set&lt;Stock&gt; getStocks() {\r\n            return stocks;\r\n        }\r\n\r\n        @OneToOne\r\n        @JoinColumn(name = &quot;current_stock_id&quot;, referencedColumnName = &quot;id&quot;)\r\n        public Stock getCurrentStock() {\r\n            return currentStock;\r\n        } \r\n    }\r\n\r\n**Stock**:\r\n\r\n    @Entity\r\n    @Table(name = &quot;stock&quot;)\r\n    @EqualsAndHashCode(of = {}, callSuper = true)\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class Stock extends AbstractEntity {\r\n    \r\n        private String name;\r\n        private Company company;\r\n        private Double fare;\r\n    \r\n        @Column(name = &quot;panel&quot;)\r\n        public Double getFare() {\r\n            return fare;\r\n        }\r\n    \r\n        @NotBlank(message = &quot;Название акции не может быть пустым.&quot;)\r\n        @Column(name = &quot;name&quot;)\r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        @Cascade({CascadeType.SAVE_UPDATE})\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        public Company getCompany() {\r\n            return company;\r\n        }\r\n    \r\n    }\r\n\r\nAnd my liquibase changelogs.\r\n\r\n**Company**:\r\n\r\n\r\n    &lt;databaseChangeLog\r\n        xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd&quot;&gt;\r\n\r\n    &lt;changeSet id=&quot;1&quot; author=&quot;Maxim Grankin&quot;&gt;\r\n        &lt;createTable tableName=&quot;company&quot;&gt;\r\n            &lt;column name=&quot;id&quot; type=&quot;bigint&quot; autoIncrement=&quot;true&quot;&gt;\r\n                &lt;constraints primaryKey=&quot;true&quot; nullable=&quot;false&quot;/&gt;\r\n            &lt;/column&gt;\r\n        &lt;/createTable&gt;\r\n    &lt;/changeSet&gt;\r\n\r\n    &lt;changeSet id=&quot;2&quot; author=&quot;Maxim Grankin&quot;&gt;\r\n        &lt;addColumn tableName=&quot;company&quot;&gt;\r\n            &lt;column name=&quot;organizationName&quot; type=&quot;varchar(255)&quot;&gt;\r\n                &lt;constraints unique=&quot;true&quot;/&gt;\r\n            &lt;/column&gt;\r\n            &lt;column name=&quot;mail&quot; type=&quot;varchar(255)&quot;&gt;\r\n                &lt;constraints unique=&quot;true&quot;/&gt;\r\n            &lt;/column&gt;\r\n            &lt;column name=&quot;current_stock_id&quot; type=&quot;bigint&quot;/&gt;\r\n        &lt;/addColumn&gt;\r\n        &lt;addForeignKeyConstraint baseTableName=&quot;company&quot; baseColumnNames=&quot;current_stock_id&quot;\r\n                                 constraintName=&quot;fkoi5aq2bm82091ubh15kfj29m1&quot;\r\n                                 referencedTableName=&quot;stock&quot;\r\n                                 referencedColumnNames=&quot;id&quot;/&gt;\r\n    &lt;/changeSet&gt;\r\n&lt;/databaseChangeLog&gt;\r\n\r\n\r\n**Stock**:\r\n\r\n    &lt;databaseChangeLog\r\n        xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd&quot;&gt;\r\n\r\n    &lt;changeSet id=&quot;1&quot; author=&quot;Maxim Grankin&quot;&gt;\r\n        &lt;createTable tableName=&quot;stock&quot;&gt;\r\n            &lt;column name=&quot;id&quot; type=&quot;bigint&quot; autoIncrement=&quot;true&quot;&gt;\r\n                &lt;constraints primaryKey=&quot;true&quot; nullable=&quot;false&quot;/&gt;\r\n            &lt;/column&gt;\r\n        &lt;/createTable&gt;\r\n    &lt;/changeSet&gt;\r\n\r\n    &lt;changeSet id=&quot;2&quot; author=&quot;Maxim Grankin&quot;&gt;\r\n        &lt;addColumn tableName=&quot;stock&quot;&gt;\r\n            &lt;column name=&quot;name&quot; type=&quot;varchar(255)&quot;/&gt;\r\n            &lt;column name=&quot;panel&quot; type=&quot;double precision&quot;/&gt;\r\n            &lt;column name=&quot;company_id&quot; type=&quot;bigint&quot;/&gt;\r\n        &lt;/addColumn&gt;\r\n        &lt;addForeignKeyConstraint baseTableName=&quot;stock&quot; baseColumnNames=&quot;company_id&quot;\r\n                                 constraintName=&quot;fk9r297vk0rghnrccw09x0qybfj&quot;\r\n                                 referencedTableName=&quot;company&quot;\r\n                                 referencedColumnNames=&quot;id&quot;/&gt;\r\n    &lt;/changeSet&gt;\r\n&lt;/databaseChangeLog&gt;\r\n\r\n\r\nAnd **master**:\r\n\r\n    &lt;databaseChangeLog\r\n        xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xmlns:ext=&quot;http://www.liquibase.org/xml/ns/dbchangelog-ext&quot;\r\n        xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd\r\n        http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd&quot;&gt;\r\n\r\n    &lt;include file=&quot;data/changelogs/stock/stock/db.changelog.stock.xml&quot;/&gt;\r\n    &lt;include file=&quot;data/changelogs/company/db.changelog.company.xml&quot;/&gt;\r\n\r\n&lt;/databaseChangeLog&gt;\r\n\r\nI have this exception:\r\n\r\n    Caused by: org.postgresql.util.PSQLException: ERROR: relation &quot;public.company&quot; does not exist\r\n\r\nI understand that liquibase trying to create stock and then add company_id as foreign key although there is no company table yet. I have a bunch of bidirectional relationships and this one is only part of them.\r\n\r\n**Question**: How can I organize liquibase changeLogs to create all tables and relationships between them in one build? Should I create something like &quot;db.changelogs.relations&quot; where I will set up foreign keys?\r\n\r\nUPD: Closed. Generate your changeLogs with maven plugin for liquibase","title":"Liquibase bidirectional relationships changelog order","body":"<p>I've faced a problem when implementing liquibase in an existing project. So we have two entities:</p>\n<p><strong>Company</strong>:</p>\n<pre><code>@Entity\n@Table(name = &quot;company&quot;)\n@EqualsAndHashCode(of = {}, callSuper = true)\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Company extends AbstractAccount {\n\n    private String organizationName;\n    private String mail;\n    private Set&lt;Stock&gt; stocks;\n    private Stock currentStock;\n\n    @Column(name = &quot;organization_name&quot;, unique = true)\n    public String getOrganizationName() {\n        return organizationName;\n    }\n\n    @Email\n    @Column(name = &quot;mail&quot;, unique = true)\n    public String getMail() {\n        return mail;\n    }\n\n    @Cascade({CascadeType.REMOVE, CascadeType.SAVE_UPDATE})\n    @OneToMany(mappedBy = &quot;company&quot;, fetch = FetchType.LAZY)\n    public Set&lt;Stock&gt; getStocks() {\n        return stocks;\n    }\n\n    @OneToOne\n    @JoinColumn(name = &quot;current_stock_id&quot;, referencedColumnName = &quot;id&quot;)\n    public Stock getCurrentStock() {\n        return currentStock;\n    } \n}\n</code></pre>\n<p><strong>Stock</strong>:</p>\n<pre><code>@Entity\n@Table(name = &quot;stock&quot;)\n@EqualsAndHashCode(of = {}, callSuper = true)\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Stock extends AbstractEntity {\n\n    private String name;\n    private Company company;\n    private Double fare;\n\n    @Column(name = &quot;panel&quot;)\n    public Double getFare() {\n        return fare;\n    }\n\n    @NotBlank(message = &quot;Название акции не может быть пустым.&quot;)\n    @Column(name = &quot;name&quot;)\n    public String getName() {\n        return name;\n    }\n\n    @Cascade({CascadeType.SAVE_UPDATE})\n    @ManyToOne(fetch = FetchType.LAZY)\n    public Company getCompany() {\n        return company;\n    }\n\n}\n</code></pre>\n<p>And my liquibase changelogs.</p>\n<p><strong>Company</strong>:</p>\n<pre><code>&lt;databaseChangeLog\n    xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd&quot;&gt;\n\n&lt;changeSet id=&quot;1&quot; author=&quot;Maxim Grankin&quot;&gt;\n    &lt;createTable tableName=&quot;company&quot;&gt;\n        &lt;column name=&quot;id&quot; type=&quot;bigint&quot; autoIncrement=&quot;true&quot;&gt;\n            &lt;constraints primaryKey=&quot;true&quot; nullable=&quot;false&quot;/&gt;\n        &lt;/column&gt;\n    &lt;/createTable&gt;\n&lt;/changeSet&gt;\n\n&lt;changeSet id=&quot;2&quot; author=&quot;Maxim Grankin&quot;&gt;\n    &lt;addColumn tableName=&quot;company&quot;&gt;\n        &lt;column name=&quot;organizationName&quot; type=&quot;varchar(255)&quot;&gt;\n            &lt;constraints unique=&quot;true&quot;/&gt;\n        &lt;/column&gt;\n        &lt;column name=&quot;mail&quot; type=&quot;varchar(255)&quot;&gt;\n            &lt;constraints unique=&quot;true&quot;/&gt;\n        &lt;/column&gt;\n        &lt;column name=&quot;current_stock_id&quot; type=&quot;bigint&quot;/&gt;\n    &lt;/addColumn&gt;\n    &lt;addForeignKeyConstraint baseTableName=&quot;company&quot; baseColumnNames=&quot;current_stock_id&quot;\n                             constraintName=&quot;fkoi5aq2bm82091ubh15kfj29m1&quot;\n                             referencedTableName=&quot;stock&quot;\n                             referencedColumnNames=&quot;id&quot;/&gt;\n&lt;/changeSet&gt;\n</code></pre>\n\n<p><strong>Stock</strong>:</p>\n<pre><code>&lt;databaseChangeLog\n    xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd&quot;&gt;\n\n&lt;changeSet id=&quot;1&quot; author=&quot;Maxim Grankin&quot;&gt;\n    &lt;createTable tableName=&quot;stock&quot;&gt;\n        &lt;column name=&quot;id&quot; type=&quot;bigint&quot; autoIncrement=&quot;true&quot;&gt;\n            &lt;constraints primaryKey=&quot;true&quot; nullable=&quot;false&quot;/&gt;\n        &lt;/column&gt;\n    &lt;/createTable&gt;\n&lt;/changeSet&gt;\n\n&lt;changeSet id=&quot;2&quot; author=&quot;Maxim Grankin&quot;&gt;\n    &lt;addColumn tableName=&quot;stock&quot;&gt;\n        &lt;column name=&quot;name&quot; type=&quot;varchar(255)&quot;/&gt;\n        &lt;column name=&quot;panel&quot; type=&quot;double precision&quot;/&gt;\n        &lt;column name=&quot;company_id&quot; type=&quot;bigint&quot;/&gt;\n    &lt;/addColumn&gt;\n    &lt;addForeignKeyConstraint baseTableName=&quot;stock&quot; baseColumnNames=&quot;company_id&quot;\n                             constraintName=&quot;fk9r297vk0rghnrccw09x0qybfj&quot;\n                             referencedTableName=&quot;company&quot;\n                             referencedColumnNames=&quot;id&quot;/&gt;\n&lt;/changeSet&gt;\n</code></pre>\n\n<p>And <strong>master</strong>:</p>\n<pre><code>&lt;databaseChangeLog\n    xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns:ext=&quot;http://www.liquibase.org/xml/ns/dbchangelog-ext&quot;\n    xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd\n    http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd&quot;&gt;\n\n&lt;include file=&quot;data/changelogs/stock/stock/db.changelog.stock.xml&quot;/&gt;\n&lt;include file=&quot;data/changelogs/company/db.changelog.company.xml&quot;/&gt;\n</code></pre>\n\n<p>I have this exception:</p>\n<pre><code>Caused by: org.postgresql.util.PSQLException: ERROR: relation &quot;public.company&quot; does not exist\n</code></pre>\n<p>I understand that liquibase trying to create stock and then add company_id as foreign key although there is no company table yet. I have a bunch of bidirectional relationships and this one is only part of them.</p>\n<p><strong>Question</strong>: How can I organize liquibase changeLogs to create all tables and relationships between them in one build? Should I create something like &quot;db.changelogs.relations&quot; where I will set up foreign keys?</p>\n<p>UPD: Closed. Generate your changeLogs with maven plugin for liquibase</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1669145953,"post_id":74537982,"comment_id":131576788,"body_markdown":"&quot;*you say what i tried and what i expected is for the attributes to be passed*&quot; - Uh... what?","body":"&quot;<i>you say what i tried and what i expected is for the attributes to be passed</i>&quot; - Uh... what?"},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669146121,"post_id":74537982,"comment_id":131576841,"body_markdown":"Also you should review your formatting (and, in the future, don&#39;t forget the *minimal* part of &quot;minimal reproducible example)","body":"Also you should review your formatting (and, in the future, don&#39;t forget the <i>minimal</i> part of &quot;minimal reproducible example)"},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669146247,"post_id":74537982,"comment_id":131576881,"body_markdown":"Don&#39;t re-invent the wheel - Java has perfectly good classes for handling Dates, just use those","body":"Don&#39;t re-invent the wheel - Java has perfectly good classes for handling Dates, just use those"},{"owner":{"account_id":21152279,"reputation":1,"user_id":15552328,"display_name":"PoeticSonic"},"score":0,"creation_date":1669146269,"post_id":74537982,"comment_id":131576888,"body_markdown":"you saw* and what i expected was for the class to pass the attributes","body":"you saw* and what i expected was for the class to pass the attributes"},{"owner":{"account_id":21152279,"reputation":1,"user_id":15552328,"display_name":"PoeticSonic"},"score":0,"creation_date":1669146368,"post_id":74537982,"comment_id":131576918,"body_markdown":"i was forced to make the Dates rather than use what were available","body":"i was forced to make the Dates rather than use what were available"},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669146423,"post_id":74537982,"comment_id":131576940,"body_markdown":"`carList` and `transactionList` don&#39;t need to  be static - it&#39;s almost always bad to have mutable static data.","body":"<code>carList</code> and <code>transactionList</code> don&#39;t need to  be static - it&#39;s almost always bad to have mutable static data."},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669146664,"post_id":74537982,"comment_id":131577015,"body_markdown":"What do you intend `buycarcheck` to do?","body":"What do you intend <code>buycarcheck</code> to do?"},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669146757,"post_id":74537982,"comment_id":131577048,"body_markdown":"`//my problem is with the .rentDate.UCI` - what did you mean here? Why would a rent date have a UCI?","body":"<code>&#47;&#47;my problem is with the .rentDate.UCI</code> - what did you mean here? Why would a rent date have a UCI?"},{"owner":{"account_id":21152279,"reputation":1,"user_id":15552328,"display_name":"PoeticSonic"},"score":0,"creation_date":1669146817,"post_id":74537982,"comment_id":131577068,"body_markdown":"tom ake sure the same car isn&#39;t added twice","body":"tom ake sure the same car isn&#39;t added twice"},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669146909,"post_id":74537982,"comment_id":131577094,"body_markdown":"But that&#39;s not what that code does - that code (in a very convoluted way) removes all cards with that UCI from the carList. I guess you could call that and then add safely to avoid duplicates, but it&#39;s a very strange way to do it.","body":"But that&#39;s not what that code does - that code (in a very convoluted way) removes all cards with that UCI from the carList. I guess you could call that and then add safely to avoid duplicates, but it&#39;s a very strange way to do it."},{"owner":{"account_id":21152279,"reputation":1,"user_id":15552328,"display_name":"PoeticSonic"},"score":0,"creation_date":1669146952,"post_id":74537982,"comment_id":131577103,"body_markdown":"the UCI is the Unique customer ID i need to make sure that the car is being rented by once at a time by one customer as 2 customers can&#39;t rent the care at the same time","body":"the UCI is the Unique customer ID i need to make sure that the car is being rented by once at a time by one customer as 2 customers can&#39;t rent the care at the same time"},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669147332,"post_id":74537982,"comment_id":131577217,"body_markdown":"So staring at your code, I&#39;m still unclear on what you&#39;re trying to do and how. I think you&#39;re making it harder than it needs to be, though. You can fulfill the requirements by just having a HashSet that stores the combinations of car and rentalDate you&#39;ve seen so far, and rejects anything that&#39;s already in the set.","body":"So staring at your code, I&#39;m still unclear on what you&#39;re trying to do and how. I think you&#39;re making it harder than it needs to be, though. You can fulfill the requirements by just having a HashSet that stores the combinations of car and rentalDate you&#39;ve seen so far, and rejects anything that&#39;s already in the set."},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669147477,"post_id":74537982,"comment_id":131577262,"body_markdown":"If you did have a `.rentalDate` attribute on a car, I would be suspicious - what happens if a car is rented three times? How would the third tell rental tell if matched either of the first two, if the car only stores one date?","body":"If you did have a <code>.rentalDate</code> attribute on a car, I would be suspicious - what happens if a car is rented three times? How would the third tell rental tell if matched either of the first two, if the car only stores one date?"}],"owner":{"account_id":21152279,"reputation":1,"user_id":15552328,"display_name":"PoeticSonic"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669145727,"creation_date":1669145007,"question_id":74537982,"body_markdown":"so i need to make a method to Rent a specific car to a specific customer in a specific\r\ndate. and that the car won&#39;t be rented at the same time more than once. this is what i cam up with. here are the exact words.\r\n\r\nClassRentalCompany (Main operations)\r\n- Attributes:\r\no static list of cars: ArrayList&lt;Car&gt;\r\n (multi-aggregation from Car class)\r\no static list of transactions: ArrayList&lt;RentTransaction&gt;\r\n (multi-aggregation from RentTransaction class)\r\n- static methods:\r\no Buying a new car and adding it to the application: takes\r\none argument (Car car): must ensure that the car has not\r\nbeen added before.\r\no Renting a specific car to a specific customer in a specific\r\ndate: takes three arguments (Car car, Customer\r\ncustomer, RentDate date): must ensure that the same car\r\nwon’t be rented twice in the same day\r\n\r\n```\r\n   public boolean carRental(RentTransactions newTransaction) {\r\n        boolean carRented = false;\r\n        if (!carList.isEmpty()) {\r\n            for (RentalCars car : carList) {\r\n                //my problem is with the .rentDate.UCI\r\n                if (car.rentDate.equals(newTransaction.rentdate) &amp;&amp; car.UCI == newTransaction.UCI) {\r\n                    carRented = true;\r\n                    break;\r\n                }\r\n\r\n            }\r\n        }\r\n        return carRented;\r\n    }\r\n```\r\nthe .rentDate, UCI(unique customer ID) comes from the passed objects in RentTransactions class. the actual classes for date, car and customer are these classes...\r\n\r\n```\r\npublic class DateOfRenting {\r\n    private int day;\r\n    private int month;\r\n    private int year;\r\n\r\npublic DateOfRenting(){\r\n      this(0, 0, 0);\r\n  }\r\npublic DateOfRenting(int day, int month, int year){\r\n    \r\n      this.day = day;\r\n      this.month=month;\r\n      this.year=year;\r\n  }\r\npublic int getday() {\r\n     return day;\r\n    }\r\npublic void setday(int day) {\r\n    this.day=day;\r\n    }\r\npublic int getmonth() {\r\n     return month;\r\n    }\r\npublic void setmonth(int month) {\r\n    this.month=month;\r\n    }\r\npublic int getyear() {\r\n     return year;\r\n    }\r\npublic void setyear(int year) {\r\n    this.year=year;\r\n    }\r\n@Override\r\npublic String toString()\r\n{\r\n    return day+&quot;/&quot;+month+&quot;/&quot;+year;\r\n }\r\n@Override\r\npublic boolean equals(Object obj) {\r\n\t\tif (this == obj)\r\n\t\t\treturn true;\r\n\t\tif (obj == null || getClass() != obj.getClass()){\r\n\t\t\treturn false;\r\n                }\r\n\t\tDateOfRenting other = (DateOfRenting) obj;\r\n\t\treturn this.day == other.day &amp;&amp; this.month == other.month &amp;&amp; \r\n                        this.year == other.year;\r\n\t}\r\n \r\n}\r\n```\r\n\r\n```\r\nimport java.io.*;\r\nimport java.util.*;\r\npublic class Customers {\r\n  private final int UCI;\r\n  private String Name;\r\n  private int age;\r\n  private String gender;\r\n  \r\npublic Customers(){\r\n      this(0, null, 0, null);\r\n  }\r\npublic Customers(int UCI, String Name, int age, String gender){\r\n    \r\n      this.UCI = UCI;\r\n      this.Name=Name;\r\n      this.age=age;\r\n      this.gender=gender;\r\n  }\r\npublic int getUCI() {\r\n     return UCI;\r\n    }\r\npublic String getName() {\r\n     return Name;\r\n    }\r\npublic void setName(String Name) {\r\n    this.Name=Name;\r\n    }\r\npublic int getage() {\r\n     return age;\r\n    }\r\npublic void setage(int age) {\r\n    this.age=age;\r\n    }\r\npublic String getgender() {\r\n     return gender;\r\n    }\r\npublic void setbrandname(String gender) {\r\n    this.gender=gender;\r\n    }\r\n@Override\r\npublic String toString()\r\n{\r\n    return &quot;the Unique civil ID is &quot;+UCI+&quot;the customer name is &quot;+Name+\r\n            &quot;the age of the customer is &quot;+age+&quot;the gender of the customer is &quot;+\r\n            gender;\r\n }\r\n@Override\r\npublic boolean equals(Object obj) {\r\n\t\tif (this == obj)\r\n\t\t\treturn true;\r\n\t\tif (obj == null)\r\n\t\t\treturn false;\r\n\t\tif (getClass() != obj.getClass())\r\n\t\t\treturn false;\r\n\t\tif (!super.equals(obj)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\tCustomers other = (Customers) obj;\r\n\t\treturn Objects.equals(UCI, other.UCI);\r\n\t}\r\n}\r\n```\r\n\r\n```\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\npublic class RentalCars implements Comparable&lt;RentalCars&gt; {\r\n  private final String UNP;\r\n  private String brandName;\r\n  private double rental_Rates;\r\n  private int wheel_Drive;\r\n  private String color;\r\n  private int milage;\r\n  \r\n  \r\n  \r\npublic RentalCars(){\r\n      this(null,null, 0.0, 0, null, 0);\r\n  }\r\npublic RentalCars(String UNP, String brandName, double rental_Rates, int wheel_Drive,\r\n   String color, int milage){\r\n    \r\n      this.UNP = UNP;\r\n      this.brandName=brandName;\r\n      this.rental_Rates=rental_Rates;\r\n      this.wheel_Drive=wheel_Drive;\r\n      this.color=color;\r\n      this.milage=milage;\r\n  }\r\npublic String getUNP() {\r\n    return UNP;\r\n    }\r\npublic String getbrandName() {\r\n     return brandName;\r\n    }\r\npublic void setbrandname(String brandName) {\r\n    this.brandName=brandName;\r\n    }\r\npublic double getrental_Rates() {\r\n    return rental_Rates;\r\n    }\r\npublic void setrental_Rates(double rental_Rates) {\r\n    this.rental_Rates=rental_Rates; \r\n    } \r\npublic int getwheel_Drive() {\r\n    return wheel_Drive;\r\n    }\r\npublic void setwheel_Drive(int wheel_Drive) {\r\n    this.wheel_Drive=wheel_Drive; \r\n    }\r\npublic String getcolor() {\r\n    return color;\r\n    }\r\npublic void setcolor(String color) {\r\n    this.color=color; \r\n    }\r\npublic int getmilage() {\r\n    return milage;\r\n    }\r\npublic void setmilage(int milage) {\r\n    this.milage=milage; \r\n    }\r\n\r\n@Override\r\npublic String toString()\r\n{\r\n    return &quot;the Number Plate of the car is &quot;+UNP+&quot;the Car brand is &quot;+brandName+\r\n            &quot;the rent rate of this car is &quot;+rental_Rates+&quot;the wheel drive is &quot;+\r\n            wheel_Drive+&quot;the color of the car is &quot;+color+&quot;the milage is &quot;+milage;\r\n }\r\n@Override\r\npublic boolean equals(Object obj) {\r\n\t\tif (this == obj)\r\n\t\t\treturn true;\r\n\t\tif (obj == null)\r\n\t\t\treturn false;\r\n\t\tif (getClass() != obj.getClass())\r\n\t\t\treturn false;\r\n\t\tif (!super.equals(obj)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\tRentalCars other = (RentalCars) obj;\r\n\t\treturn Objects.equals(UNP, other.UNP);\r\n\t}\r\npublic int compareTo(RentalCars rc){\r\n   return UNP.compareTo(rc.UNP);\r\n}\r\n}\r\n```\r\n\r\nand the class RentTransactions is this...\r\n\r\n\r\n```\r\npublic class RentTransactions {\r\n    RentalCars car;\r\n    Customers customer;\r\n    DateOfRenting rentDate;\r\npublic RentTransactions(){\r\n  }\r\npublic RentTransactions(RentalCars car, Customers customer, DateOfRenting rentDate){\r\n    \r\n      this.car = car;\r\n      this.customer=customer;\r\n      this.rentDate=rentDate;\r\n  }\r\npublic RentalCars getcar() {\r\n        return car;\r\n    }\r\npublic void setcar(RentalCars car) {\r\n        this.car = car;\r\n        }\r\npublic Customers getcustomer() {\r\n        return customer;\r\n    }\r\npublic void setcustomer(Customers customer) {\r\n        this.customer = customer;\r\n        }\r\npublic DateOfRenting getrentDate() {\r\n        return rentDate;\r\n    }\r\npublic void setcar(DateOfRenting rentDate) {\r\n        this.rentDate = rentDate;\r\n        }\r\n@Override\r\npublic String toString()\r\n{\r\n    return car+&quot;/&quot;+customer+&quot;/&quot;+rentDate;\r\n }\r\npublic boolean equals(Object obj) {\r\n\t\tif (this == obj)\r\n\t\t\treturn true;\r\n\t\tif (obj == null || getClass() != obj.getClass()){\r\n\t\t\treturn false;\r\n                }\r\n\t\tRentTransactions other = (RentTransactions) obj;\r\n\t\treturn this.car == other.car &amp;&amp; this.rentDate == other.rentDate;\r\n\t}\r\n}\r\n```\r\n\r\nwhile the main operations method is this...\r\n\r\n```\r\nimport java.util.*;\r\npublic class RentalCompany {\r\n    public static final List&lt;RentalCars&gt; carList = new ArrayList&lt;&gt;();\r\n    public static final List&lt;RentTransactions&gt; transactionList = new ArrayList&lt;&gt;();\r\n\r\n    public RentalCompany() {\r\n    }\r\n\r\n    public static List&lt;RentalCars&gt; getCar() {\r\n        return carList;\r\n    }\r\n\r\n    public static List&lt;RentTransactions&gt; getTransaction() {\r\n        return transactionList;\r\n    }\r\n    public static void buyCar(RentalCars car) {\r\n         carList.add(car);\r\n            }\r\n    public static void buycarcheck(String UNP) {\r\n        carList.stream().filter(car -&gt; (car.getUNP().equals(UNP))).forEachOrdered(car -&gt; {\r\n            carList.remove(car);\r\n        });\r\n        \r\n    }\r\n    \r\n    public boolean carRental(RentTransactions newTransaction) {\r\n        boolean carRented = false;\r\n        if (!carList.isEmpty()) {\r\n            for (RentalCars car : carList) {\r\n                //my problem is with the .rentDate.UCI\r\n                if (car.rentDate.equals(newTransaction.rentdate) &amp;&amp; car.UCI == newTransaction.UCI) {\r\n                    carRented = true;\r\n                    break;\r\n                }\r\n\r\n            }\r\n        }\r\n        return carRented;\r\n    }\r\n}\r\n```\r\n \r\nyou say what i tried and what i expected is for the attributes to be passed","title":"can arguments from a class that has objects passed to it work as a valid class to encapsulate the arguments in a method?","body":"<p>so i need to make a method to Rent a specific car to a specific customer in a specific\ndate. and that the car won't be rented at the same time more than once. this is what i cam up with. here are the exact words.</p>\n<p>ClassRentalCompany (Main operations)</p>\n<ul>\n<li>Attributes:\no static list of cars: ArrayList\n(multi-aggregation from Car class)\no static list of transactions: ArrayList\n(multi-aggregation from RentTransaction class)</li>\n<li>static methods:\no Buying a new car and adding it to the application: takes\none argument (Car car): must ensure that the car has not\nbeen added before.\no Renting a specific car to a specific customer in a specific\ndate: takes three arguments (Car car, Customer\ncustomer, RentDate date): must ensure that the same car\nwon’t be rented twice in the same day</li>\n</ul>\n<pre><code>   public boolean carRental(RentTransactions newTransaction) {\n        boolean carRented = false;\n        if (!carList.isEmpty()) {\n            for (RentalCars car : carList) {\n                //my problem is with the .rentDate.UCI\n                if (car.rentDate.equals(newTransaction.rentdate) &amp;&amp; car.UCI == newTransaction.UCI) {\n                    carRented = true;\n                    break;\n                }\n\n            }\n        }\n        return carRented;\n    }\n</code></pre>\n<p>the .rentDate, UCI(unique customer ID) comes from the passed objects in RentTransactions class. the actual classes for date, car and customer are these classes...</p>\n<pre><code>public class DateOfRenting {\n    private int day;\n    private int month;\n    private int year;\n\npublic DateOfRenting(){\n      this(0, 0, 0);\n  }\npublic DateOfRenting(int day, int month, int year){\n    \n      this.day = day;\n      this.month=month;\n      this.year=year;\n  }\npublic int getday() {\n     return day;\n    }\npublic void setday(int day) {\n    this.day=day;\n    }\npublic int getmonth() {\n     return month;\n    }\npublic void setmonth(int month) {\n    this.month=month;\n    }\npublic int getyear() {\n     return year;\n    }\npublic void setyear(int year) {\n    this.year=year;\n    }\n@Override\npublic String toString()\n{\n    return day+&quot;/&quot;+month+&quot;/&quot;+year;\n }\n@Override\npublic boolean equals(Object obj) {\n        if (this == obj)\n            return true;\n        if (obj == null || getClass() != obj.getClass()){\n            return false;\n                }\n        DateOfRenting other = (DateOfRenting) obj;\n        return this.day == other.day &amp;&amp; this.month == other.month &amp;&amp; \n                        this.year == other.year;\n    }\n \n}\n</code></pre>\n<pre><code>import java.io.*;\nimport java.util.*;\npublic class Customers {\n  private final int UCI;\n  private String Name;\n  private int age;\n  private String gender;\n  \npublic Customers(){\n      this(0, null, 0, null);\n  }\npublic Customers(int UCI, String Name, int age, String gender){\n    \n      this.UCI = UCI;\n      this.Name=Name;\n      this.age=age;\n      this.gender=gender;\n  }\npublic int getUCI() {\n     return UCI;\n    }\npublic String getName() {\n     return Name;\n    }\npublic void setName(String Name) {\n    this.Name=Name;\n    }\npublic int getage() {\n     return age;\n    }\npublic void setage(int age) {\n    this.age=age;\n    }\npublic String getgender() {\n     return gender;\n    }\npublic void setbrandname(String gender) {\n    this.gender=gender;\n    }\n@Override\npublic String toString()\n{\n    return &quot;the Unique civil ID is &quot;+UCI+&quot;the customer name is &quot;+Name+\n            &quot;the age of the customer is &quot;+age+&quot;the gender of the customer is &quot;+\n            gender;\n }\n@Override\npublic boolean equals(Object obj) {\n        if (this == obj)\n            return true;\n        if (obj == null)\n            return false;\n        if (getClass() != obj.getClass())\n            return false;\n        if (!super.equals(obj)) {\n            return false;\n        }\n        \n        Customers other = (Customers) obj;\n        return Objects.equals(UCI, other.UCI);\n    }\n}\n</code></pre>\n<pre><code>import java.io.*;\nimport java.util.*;\n\npublic class RentalCars implements Comparable&lt;RentalCars&gt; {\n  private final String UNP;\n  private String brandName;\n  private double rental_Rates;\n  private int wheel_Drive;\n  private String color;\n  private int milage;\n  \n  \n  \npublic RentalCars(){\n      this(null,null, 0.0, 0, null, 0);\n  }\npublic RentalCars(String UNP, String brandName, double rental_Rates, int wheel_Drive,\n   String color, int milage){\n    \n      this.UNP = UNP;\n      this.brandName=brandName;\n      this.rental_Rates=rental_Rates;\n      this.wheel_Drive=wheel_Drive;\n      this.color=color;\n      this.milage=milage;\n  }\npublic String getUNP() {\n    return UNP;\n    }\npublic String getbrandName() {\n     return brandName;\n    }\npublic void setbrandname(String brandName) {\n    this.brandName=brandName;\n    }\npublic double getrental_Rates() {\n    return rental_Rates;\n    }\npublic void setrental_Rates(double rental_Rates) {\n    this.rental_Rates=rental_Rates; \n    } \npublic int getwheel_Drive() {\n    return wheel_Drive;\n    }\npublic void setwheel_Drive(int wheel_Drive) {\n    this.wheel_Drive=wheel_Drive; \n    }\npublic String getcolor() {\n    return color;\n    }\npublic void setcolor(String color) {\n    this.color=color; \n    }\npublic int getmilage() {\n    return milage;\n    }\npublic void setmilage(int milage) {\n    this.milage=milage; \n    }\n\n@Override\npublic String toString()\n{\n    return &quot;the Number Plate of the car is &quot;+UNP+&quot;the Car brand is &quot;+brandName+\n            &quot;the rent rate of this car is &quot;+rental_Rates+&quot;the wheel drive is &quot;+\n            wheel_Drive+&quot;the color of the car is &quot;+color+&quot;the milage is &quot;+milage;\n }\n@Override\npublic boolean equals(Object obj) {\n        if (this == obj)\n            return true;\n        if (obj == null)\n            return false;\n        if (getClass() != obj.getClass())\n            return false;\n        if (!super.equals(obj)) {\n            return false;\n        }\n        \n        RentalCars other = (RentalCars) obj;\n        return Objects.equals(UNP, other.UNP);\n    }\npublic int compareTo(RentalCars rc){\n   return UNP.compareTo(rc.UNP);\n}\n}\n</code></pre>\n<p>and the class RentTransactions is this...</p>\n<pre><code>public class RentTransactions {\n    RentalCars car;\n    Customers customer;\n    DateOfRenting rentDate;\npublic RentTransactions(){\n  }\npublic RentTransactions(RentalCars car, Customers customer, DateOfRenting rentDate){\n    \n      this.car = car;\n      this.customer=customer;\n      this.rentDate=rentDate;\n  }\npublic RentalCars getcar() {\n        return car;\n    }\npublic void setcar(RentalCars car) {\n        this.car = car;\n        }\npublic Customers getcustomer() {\n        return customer;\n    }\npublic void setcustomer(Customers customer) {\n        this.customer = customer;\n        }\npublic DateOfRenting getrentDate() {\n        return rentDate;\n    }\npublic void setcar(DateOfRenting rentDate) {\n        this.rentDate = rentDate;\n        }\n@Override\npublic String toString()\n{\n    return car+&quot;/&quot;+customer+&quot;/&quot;+rentDate;\n }\npublic boolean equals(Object obj) {\n        if (this == obj)\n            return true;\n        if (obj == null || getClass() != obj.getClass()){\n            return false;\n                }\n        RentTransactions other = (RentTransactions) obj;\n        return this.car == other.car &amp;&amp; this.rentDate == other.rentDate;\n    }\n}\n</code></pre>\n<p>while the main operations method is this...</p>\n<pre><code>import java.util.*;\npublic class RentalCompany {\n    public static final List&lt;RentalCars&gt; carList = new ArrayList&lt;&gt;();\n    public static final List&lt;RentTransactions&gt; transactionList = new ArrayList&lt;&gt;();\n\n    public RentalCompany() {\n    }\n\n    public static List&lt;RentalCars&gt; getCar() {\n        return carList;\n    }\n\n    public static List&lt;RentTransactions&gt; getTransaction() {\n        return transactionList;\n    }\n    public static void buyCar(RentalCars car) {\n         carList.add(car);\n            }\n    public static void buycarcheck(String UNP) {\n        carList.stream().filter(car -&gt; (car.getUNP().equals(UNP))).forEachOrdered(car -&gt; {\n            carList.remove(car);\n        });\n        \n    }\n    \n    public boolean carRental(RentTransactions newTransaction) {\n        boolean carRented = false;\n        if (!carList.isEmpty()) {\n            for (RentalCars car : carList) {\n                //my problem is with the .rentDate.UCI\n                if (car.rentDate.equals(newTransaction.rentdate) &amp;&amp; car.UCI == newTransaction.UCI) {\n                    carRented = true;\n                    break;\n                }\n\n            }\n        }\n        return carRented;\n    }\n}\n</code></pre>\n<p>you say what i tried and what i expected is for the attributes to be passed</p>\n"},{"tags":["java","android","react-native","react-native-modules"],"comments":[{"owner":{"account_id":1053909,"reputation":10337,"user_id":1057052,"accept_rate":72,"display_name":"Jose A"},"score":0,"creation_date":1669145485,"post_id":74538058,"comment_id":131576662,"body_markdown":"If you need further context, let me know.","body":"If you need further context, let me know."},{"owner":{"account_id":125694,"reputation":1251,"user_id":321629,"accept_rate":41,"display_name":"CyberMew"},"score":0,"creation_date":1691603679,"post_id":74538058,"comment_id":135515302,"body_markdown":"Were you able to resolve this?","body":"Were you able to resolve this?"},{"owner":{"account_id":1053909,"reputation":10337,"user_id":1057052,"accept_rate":72,"display_name":"Jose A"},"score":0,"creation_date":1691612390,"post_id":74538058,"comment_id":135516674,"body_markdown":"@CyberMew Nope. This feature was never implemented","body":"@CyberMew Nope. This feature was never implemented"}],"owner":{"account_id":1053909,"reputation":10337,"user_id":1057052,"accept_rate":72,"display_name":"Jose A"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669145441,"creation_date":1669145441,"question_id":74538058,"body_markdown":"I&#39;m trying to implement a Visa SDK through React Native&#39;s Native Modules. I&#39;m currently using Expo 46. So far, the application is registered correctly, and I can view the 3 methods that are exposed within the app.\r\n\r\nUnfortunately, whenever I call the `init()` method in my app, the application crashes, and this message appears. \r\n\r\n&gt; Context must be application context to avoid memory leak\r\n\r\nUsing `adb logcat` to further inspect the issue returns:\r\n\r\n&gt; Method addObserver must be called on the main thread\r\n\r\nLeading me to the following line: \r\n\r\n```java\r\nProcessLifecycleOwner.get().getLifecycle().addObserver(new VisaInAppCoreApplicationObserver());\r\n```\r\nAfter some research, I found:\r\nhttps://stackoverflow.com/a/70591942/1057052\r\n\r\nTherefore, I tried running it like this:\r\n\r\n```java\r\n getCurrentActivity().runOnUiThread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    ProcessLifecycleOwner.get().getLifecycle().addObserver(new VisaInAppCoreApplicationObserver());\r\n                }\r\n            });\r\n```\r\n\r\nBut no luck. \r\n\r\n\r\nHere&#39;s my code so far.\r\n\r\n```java\r\n// PushProvisioningModule.java\r\n// adb logcat DEBUG-VISA:D *:S\r\npackage app.pana; // replace com.your-app-name with your app’s name\r\n\r\nimport android.util.Log;\r\n\r\nimport androidx.lifecycle.ProcessLifecycleOwner;\r\n\r\nimport com.facebook.react.bridge.Callback;\r\nimport com.facebook.react.bridge.ReactApplicationContext;\r\nimport com.facebook.react.bridge.ReactContextBaseJavaModule;\r\nimport com.facebook.react.bridge.ReactMethod;\r\nimport com.google.gson.Gson;\r\nimport com.visa.mobileEnablement.inAppCore.VisaInAppConfig;\r\nimport com.visa.mobileEnablement.inAppCore.VisaInAppCore;\r\nimport com.visa.mobileEnablement.inAppCore.VisaInAppCoreApplicationObserver;\r\nimport com.visa.mobileEnablement.inAppCore.VisaInAppEnvironment;\r\nimport com.visa.mobileEnablement.pushProvisioning.VPCardProvisioningRequest;\r\nimport com.visa.mobileEnablement.pushProvisioning.VPCardProvisioningResponse;\r\nimport com.visa.mobileEnablement.pushProvisioning.VPError;\r\nimport com.visa.mobileEnablement.pushProvisioning.VPInitResponse;\r\nimport com.visa.mobileEnablement.pushProvisioning.VPSupportedWallet;\r\nimport com.visa.mobileEnablement.pushProvisioning.VPSupportedWalletCode;\r\nimport com.visa.mobileEnablement.pushProvisioning.VPSupportedWalletRequest;\r\nimport com.visa.mobileEnablement.pushProvisioning.VPSupportedWalletResponse;\r\nimport com.visa.mobileEnablement.pushProvisioning.VisaPushProvisioningInterface;\r\nimport com.visa.mobileEnablement.pushProvisioning.VisaPushProvisioningInterfaceFactory;\r\nimport com.visa.mobileEnablement.pushProvisioning.VisaPushProvisioningListener;\r\n\r\n\r\n\r\nimport java.util.List;\r\n\r\nimport org.jetbrains.annotations.NotNull;\r\n\r\n// adb logcat DEBUG-VISA:D *:S\r\n\r\n/**\r\n * Page 32 Visa In-App Provisioning SDK Guide .pdf\r\n */\r\npublic class PushProvisioningModule extends ReactContextBaseJavaModule {\r\n\r\n    PushProvisioningModule(ReactApplicationContext context) {\r\n        super(context);\r\n    }\r\n\r\n    private VisaPushProvisioningInterface visaPushProvisioningInterface;\r\n    private Callback successCallback;\r\n    private Callback errorCallback;\r\n    private final Gson gson = new Gson();\r\n\r\n    @NotNull\r\n    @Override\r\n    public String getName() {\r\n        return &quot;PushProvisioningModule&quot;;\r\n    }\r\n\r\n    // Initialize\r\n    @ReactMethod\r\n    public void init(\r\n            String appId,\r\n            String environment,\r\n            Callback errorCallback,\r\n            Callback successCallback\r\n    ) {\r\n        Log.d(&quot;DEBUG-VISA&quot;, &quot;Got here here&quot;);\r\n        this.errorCallback = errorCallback;\r\n        this.successCallback = successCallback;\r\n        initializeSdk(appId, environment);\r\n    }\r\n\r\n    private void initializeSdk(String appId, String environment) {\r\n        // VPInitRequest vpInitRequest = new VPInitRequest(environment, appId, null);\r\n        runConfigure(environment, appId);\r\n        VisaPushProvisioningListener listener = new VisaPushProvisioningListener() {\r\n            // Initialization success result:\r\n            @Override\r\n            public void initializationSuccess(\r\n                    VisaPushProvisioningInterface visaPushProvisioningInterface,\r\n                    VPInitResponse vpInitResponse\r\n            ) {\r\n                String nonce = vpInitResponse.getSignedNonce();\r\n                successCallback.invoke(gson.toJson(vpInitResponse));\r\n            }\r\n\r\n            // Initialization failure result:\r\n            @Override\r\n            public void initializationFailure(\r\n                    @NotNull VisaPushProvisioningInterface visaPushProvisioningInterface,\r\n                    @NotNull VPError vpError\r\n            ) {\r\n                errorCallback.invoke(gson.toJson(vpError));\r\n            }\r\n\r\n            // startCardProvisioning success result:\r\n            @Override\r\n            public void cardProvisioningSuccess(\r\n                    @NotNull VisaPushProvisioningInterface visaPushProvisioningInterface,\r\n                    @NotNull VPCardProvisioningResponse vpCardProvisioningResponse\r\n            ) {\r\n                Log.i(\r\n                        &quot;CARD PROVISIONING&quot;,\r\n                        &quot;Card Provisioning Success : &quot; + vpCardProvisioningResponse\r\n                );\r\n                successCallback.invoke(gson.toJson(vpCardProvisioningResponse));\r\n            }\r\n\r\n            // startCardProvisioning failure result:\r\n            @Override\r\n            public void cardProvisioningFailure(\r\n                    @NotNull VisaPushProvisioningInterface visaPushProvisioningInterface,\r\n                    @NotNull VPError vpError\r\n            ) {\r\n                errorCallback.invoke(gson.toJson(vpError));\r\n            }\r\n\r\n            // getSupportedWallets success result:\r\n            @Override\r\n            public void supportedWalletSuccess(\r\n                    @NotNull VisaPushProvisioningInterface visaPushProvisioningInterface,\r\n                    @NotNull VPSupportedWalletResponse vpSupportedWalletResponse\r\n            ) {\r\n                List&lt;VPSupportedWallet&gt; vpSupportedWallets = vpSupportedWalletResponse.getWallets();\r\n                successCallback.invoke(gson.toJson(vpSupportedWallets));\r\n            }\r\n\r\n            // getSupportedWallets failure result:\r\n            @Override\r\n            public void supportedWalletFailure(\r\n                    @NotNull VisaPushProvisioningInterface visaPushProvisioningInterface,\r\n                    @NotNull VPError vpError\r\n            ) {\r\n                errorCallback.invoke(gson.toJson(vpError));\r\n            }\r\n        };\r\n        //VisaPushProvisioningInterfaceFactory.INSTANCE.createPushProvisioningInterface(getReactApplicationContext().getApplicationContext(), vpInitRequest,\r\n        visaPushProvisioningInterface =\r\n                VisaPushProvisioningInterfaceFactory.INSTANCE.createPushProvisioningInterface(\r\n                        listener,\r\n                        null\r\n                );\r\n        visaPushProvisioningInterface.initialize();\r\n\r\n        Log.d(&quot;DEBUG-VISA&quot;, &quot;Initialization Successful&quot;);\r\n    }\r\n\r\n    private void runConfigure(String environment, String appId) {\r\n        try {\r\n\r\n            VisaInAppEnvironment configEnv = VisaInAppEnvironment.Production;\r\n            //Log.d(&quot;DEBUG-VISA&quot;, &quot;Configuration Environment&quot;, configEnv);\r\n            VisaInAppConfig config = new VisaInAppConfig(configEnv, appId, null);\r\n            ReactApplicationContext context = this.getReactApplicationContext();\r\n\r\n            VisaInAppCore.Companion.configure(context, config);\r\n\r\n            getCurrentActivity().runOnUiThread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    ProcessLifecycleOwner.get().getLifecycle().addObserver(new VisaInAppCoreApplicationObserver());\r\n                }\r\n            });\r\n\r\n\r\n        } catch (Exception ex) {\r\n            Log.d(&quot;DEBUG-VISA&quot;, &quot;Exception thrown&quot;);\r\n            Log.e(&quot;DEBUG-VISA&quot;, ex.getMessage());\r\n        }\r\n    }\r\n\r\n    // to declare delegate methods and initialize (described below)  }\r\n    // Get eligible wallets\r\n    @ReactMethod\r\n    public void launchGetWallets(\r\n            String encPayload,\r\n            Callback errorCallback,\r\n            Callback successCallback\r\n    ) {\r\n        Log.i(&quot;DEBUG-VISA&quot;, &quot;Launching GET WALLETS&quot;);\r\n        this.errorCallback = errorCallback;\r\n        this.successCallback = successCallback;\r\n        Log.i(&quot;DEBUG-VISA&quot;, &quot;Launching GET WALLETS after callbacks&quot;);\r\n\r\n        try {\r\n            VPSupportedWalletRequest request = new VPSupportedWalletRequest(encPayload, null);\r\n            visaPushProvisioningInterface.getSupportedWallets(\r\n                    request\r\n            );\r\n\r\n\r\n        } catch (Exception e) {\r\n            Log.e(&quot;DEBUG-VISA&quot;, e.getMessage());\r\n        }\r\n    }\r\n\r\n    // Start card provisioning\r\n    @ReactMethod\r\n    public void launchStartCardProvisioning(\r\n            String walletDescription,\r\n            String walletCode,\r\n            Callback errorCallback,\r\n            Callback successCallback\r\n    ) {\r\n        this.errorCallback = errorCallback;\r\n        this.successCallback = successCallback;\r\n        visaPushProvisioningInterface.startCardProvisioning(\r\n                getReactApplicationContext().getApplicationContext(),\r\n                new VPCardProvisioningRequest(\r\n                        VPSupportedWalletCode.valueOf(walletCode),\r\n                        &quot;PROVISIONING_REQUEST&quot;,\r\n                        null\r\n                )\r\n        );\r\n    }\r\n}\r\n```\r\n\r\nHere are the dependencies:\r\n```groovy\r\ndependencies { \r\n     /**\r\n    * Visa SDK - START\r\n    */\r\n    //In-App Provisioning SDK\r\n    implementation files(&#39;libs/VisaPushProvisioning-3.3.0.aar&#39;)\r\n    implementation files(&#39;libs/VisaInAppCore-3.3.0.aar&#39;)\r\n    implementation files(&#39;libs/TMXProfiling-6.1-67.aar&#39;)\r\n    implementation files(&#39;libs/TMXProfilingConnections-6.1-67.aar&#39;)\r\n    implementation files(&#39;libs/dexguard-runtime-9.2.12.aar&#39;)\r\n    //Samsung Pay\r\n    implementation files(&#39;libs/samsungpaysdk-2.6.00.jar&#39;)\r\n    //Google Pay\r\n    implementation files(&#39;libs/play-services-tapandpay-18.1.0.aar&#39;)\r\n    implementation &quot;com.google.android.gms:play-services-base:18.0.0&quot;\r\n    //okhttp covers for okttp, okio dependency\r\n    implementation &quot;com.squareup.okhttp3:okhttp:3.14.9&quot;\r\n    implementation &quot;com.squareup.okhttp3:logging-interceptor:3.14.9&quot;\r\n    implementation &quot;net.minidev:json-smart:2.3&quot;\r\n    //For TrustDefender\r\n    implementation &quot;commons-io:commons-io:2.6&quot;\r\n    implementation &quot;commons-codec:commons-codec:1.13&quot;\r\n    //Nimbus\r\n    implementation &quot;com.nimbusds:nimbus-jose-jwt:8.2.1&quot;\r\n    implementation &quot;com.google.code.gson:gson:2.8.5&quot;\r\n    implementation &quot;androidx.lifecycle:lifecycle-process:2.5.1&quot;\r\n    // If kotlin plugins are not added then below dependencies require to add to kotlin coroutines\r\n    // used by SDK.\r\n    implementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.6.4&quot;\r\n    implementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-android:1.6.4&quot;\r\n    //Analytics Database\r\n    implementation &quot;androidx.room:room-runtime:2.4.3&quot;\r\n    implementation &quot;androidx.room:room-ktx:2.4.3&quot;\r\n    kapt &quot;androidx.room:room-compiler:2.4.3&quot;\r\n\r\n    //Instant apps\r\n    implementation &quot;com.google.android.gms:play-services-instantapps:18.0.0&quot;\r\n\r\n    /**\r\n    * Visa SDK - END\r\n    */\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\nNote, that I was successfully able to use the code above inside a non-expo react-native application.\r\n\r\n","title":"Expo and React Native - Context must be application context to avoid memory leak","body":"<p>I'm trying to implement a Visa SDK through React Native's Native Modules. I'm currently using Expo 46. So far, the application is registered correctly, and I can view the 3 methods that are exposed within the app.</p>\n<p>Unfortunately, whenever I call the <code>init()</code> method in my app, the application crashes, and this message appears.</p>\n<blockquote>\n<p>Context must be application context to avoid memory leak</p>\n</blockquote>\n<p>Using <code>adb logcat</code> to further inspect the issue returns:</p>\n<blockquote>\n<p>Method addObserver must be called on the main thread</p>\n</blockquote>\n<p>Leading me to the following line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ProcessLifecycleOwner.get().getLifecycle().addObserver(new VisaInAppCoreApplicationObserver());\n</code></pre>\n<p>After some research, I found:\n<a href=\"https://stackoverflow.com/a/70591942/1057052\">https://stackoverflow.com/a/70591942/1057052</a></p>\n<p>Therefore, I tried running it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code> getCurrentActivity().runOnUiThread(new Runnable() {\n                @Override\n                public void run() {\n                    ProcessLifecycleOwner.get().getLifecycle().addObserver(new VisaInAppCoreApplicationObserver());\n                }\n            });\n</code></pre>\n<p>But no luck.</p>\n<p>Here's my code so far.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// PushProvisioningModule.java\n// adb logcat DEBUG-VISA:D *:S\npackage app.pana; // replace com.your-app-name with your app’s name\n\nimport android.util.Log;\n\nimport androidx.lifecycle.ProcessLifecycleOwner;\n\nimport com.facebook.react.bridge.Callback;\nimport com.facebook.react.bridge.ReactApplicationContext;\nimport com.facebook.react.bridge.ReactContextBaseJavaModule;\nimport com.facebook.react.bridge.ReactMethod;\nimport com.google.gson.Gson;\nimport com.visa.mobileEnablement.inAppCore.VisaInAppConfig;\nimport com.visa.mobileEnablement.inAppCore.VisaInAppCore;\nimport com.visa.mobileEnablement.inAppCore.VisaInAppCoreApplicationObserver;\nimport com.visa.mobileEnablement.inAppCore.VisaInAppEnvironment;\nimport com.visa.mobileEnablement.pushProvisioning.VPCardProvisioningRequest;\nimport com.visa.mobileEnablement.pushProvisioning.VPCardProvisioningResponse;\nimport com.visa.mobileEnablement.pushProvisioning.VPError;\nimport com.visa.mobileEnablement.pushProvisioning.VPInitResponse;\nimport com.visa.mobileEnablement.pushProvisioning.VPSupportedWallet;\nimport com.visa.mobileEnablement.pushProvisioning.VPSupportedWalletCode;\nimport com.visa.mobileEnablement.pushProvisioning.VPSupportedWalletRequest;\nimport com.visa.mobileEnablement.pushProvisioning.VPSupportedWalletResponse;\nimport com.visa.mobileEnablement.pushProvisioning.VisaPushProvisioningInterface;\nimport com.visa.mobileEnablement.pushProvisioning.VisaPushProvisioningInterfaceFactory;\nimport com.visa.mobileEnablement.pushProvisioning.VisaPushProvisioningListener;\n\n\n\nimport java.util.List;\n\nimport org.jetbrains.annotations.NotNull;\n\n// adb logcat DEBUG-VISA:D *:S\n\n/**\n * Page 32 Visa In-App Provisioning SDK Guide .pdf\n */\npublic class PushProvisioningModule extends ReactContextBaseJavaModule {\n\n    PushProvisioningModule(ReactApplicationContext context) {\n        super(context);\n    }\n\n    private VisaPushProvisioningInterface visaPushProvisioningInterface;\n    private Callback successCallback;\n    private Callback errorCallback;\n    private final Gson gson = new Gson();\n\n    @NotNull\n    @Override\n    public String getName() {\n        return &quot;PushProvisioningModule&quot;;\n    }\n\n    // Initialize\n    @ReactMethod\n    public void init(\n            String appId,\n            String environment,\n            Callback errorCallback,\n            Callback successCallback\n    ) {\n        Log.d(&quot;DEBUG-VISA&quot;, &quot;Got here here&quot;);\n        this.errorCallback = errorCallback;\n        this.successCallback = successCallback;\n        initializeSdk(appId, environment);\n    }\n\n    private void initializeSdk(String appId, String environment) {\n        // VPInitRequest vpInitRequest = new VPInitRequest(environment, appId, null);\n        runConfigure(environment, appId);\n        VisaPushProvisioningListener listener = new VisaPushProvisioningListener() {\n            // Initialization success result:\n            @Override\n            public void initializationSuccess(\n                    VisaPushProvisioningInterface visaPushProvisioningInterface,\n                    VPInitResponse vpInitResponse\n            ) {\n                String nonce = vpInitResponse.getSignedNonce();\n                successCallback.invoke(gson.toJson(vpInitResponse));\n            }\n\n            // Initialization failure result:\n            @Override\n            public void initializationFailure(\n                    @NotNull VisaPushProvisioningInterface visaPushProvisioningInterface,\n                    @NotNull VPError vpError\n            ) {\n                errorCallback.invoke(gson.toJson(vpError));\n            }\n\n            // startCardProvisioning success result:\n            @Override\n            public void cardProvisioningSuccess(\n                    @NotNull VisaPushProvisioningInterface visaPushProvisioningInterface,\n                    @NotNull VPCardProvisioningResponse vpCardProvisioningResponse\n            ) {\n                Log.i(\n                        &quot;CARD PROVISIONING&quot;,\n                        &quot;Card Provisioning Success : &quot; + vpCardProvisioningResponse\n                );\n                successCallback.invoke(gson.toJson(vpCardProvisioningResponse));\n            }\n\n            // startCardProvisioning failure result:\n            @Override\n            public void cardProvisioningFailure(\n                    @NotNull VisaPushProvisioningInterface visaPushProvisioningInterface,\n                    @NotNull VPError vpError\n            ) {\n                errorCallback.invoke(gson.toJson(vpError));\n            }\n\n            // getSupportedWallets success result:\n            @Override\n            public void supportedWalletSuccess(\n                    @NotNull VisaPushProvisioningInterface visaPushProvisioningInterface,\n                    @NotNull VPSupportedWalletResponse vpSupportedWalletResponse\n            ) {\n                List&lt;VPSupportedWallet&gt; vpSupportedWallets = vpSupportedWalletResponse.getWallets();\n                successCallback.invoke(gson.toJson(vpSupportedWallets));\n            }\n\n            // getSupportedWallets failure result:\n            @Override\n            public void supportedWalletFailure(\n                    @NotNull VisaPushProvisioningInterface visaPushProvisioningInterface,\n                    @NotNull VPError vpError\n            ) {\n                errorCallback.invoke(gson.toJson(vpError));\n            }\n        };\n        //VisaPushProvisioningInterfaceFactory.INSTANCE.createPushProvisioningInterface(getReactApplicationContext().getApplicationContext(), vpInitRequest,\n        visaPushProvisioningInterface =\n                VisaPushProvisioningInterfaceFactory.INSTANCE.createPushProvisioningInterface(\n                        listener,\n                        null\n                );\n        visaPushProvisioningInterface.initialize();\n\n        Log.d(&quot;DEBUG-VISA&quot;, &quot;Initialization Successful&quot;);\n    }\n\n    private void runConfigure(String environment, String appId) {\n        try {\n\n            VisaInAppEnvironment configEnv = VisaInAppEnvironment.Production;\n            //Log.d(&quot;DEBUG-VISA&quot;, &quot;Configuration Environment&quot;, configEnv);\n            VisaInAppConfig config = new VisaInAppConfig(configEnv, appId, null);\n            ReactApplicationContext context = this.getReactApplicationContext();\n\n            VisaInAppCore.Companion.configure(context, config);\n\n            getCurrentActivity().runOnUiThread(new Runnable() {\n                @Override\n                public void run() {\n                    ProcessLifecycleOwner.get().getLifecycle().addObserver(new VisaInAppCoreApplicationObserver());\n                }\n            });\n\n\n        } catch (Exception ex) {\n            Log.d(&quot;DEBUG-VISA&quot;, &quot;Exception thrown&quot;);\n            Log.e(&quot;DEBUG-VISA&quot;, ex.getMessage());\n        }\n    }\n\n    // to declare delegate methods and initialize (described below)  }\n    // Get eligible wallets\n    @ReactMethod\n    public void launchGetWallets(\n            String encPayload,\n            Callback errorCallback,\n            Callback successCallback\n    ) {\n        Log.i(&quot;DEBUG-VISA&quot;, &quot;Launching GET WALLETS&quot;);\n        this.errorCallback = errorCallback;\n        this.successCallback = successCallback;\n        Log.i(&quot;DEBUG-VISA&quot;, &quot;Launching GET WALLETS after callbacks&quot;);\n\n        try {\n            VPSupportedWalletRequest request = new VPSupportedWalletRequest(encPayload, null);\n            visaPushProvisioningInterface.getSupportedWallets(\n                    request\n            );\n\n\n        } catch (Exception e) {\n            Log.e(&quot;DEBUG-VISA&quot;, e.getMessage());\n        }\n    }\n\n    // Start card provisioning\n    @ReactMethod\n    public void launchStartCardProvisioning(\n            String walletDescription,\n            String walletCode,\n            Callback errorCallback,\n            Callback successCallback\n    ) {\n        this.errorCallback = errorCallback;\n        this.successCallback = successCallback;\n        visaPushProvisioningInterface.startCardProvisioning(\n                getReactApplicationContext().getApplicationContext(),\n                new VPCardProvisioningRequest(\n                        VPSupportedWalletCode.valueOf(walletCode),\n                        &quot;PROVISIONING_REQUEST&quot;,\n                        null\n                )\n        );\n    }\n}\n</code></pre>\n<p>Here are the dependencies:</p>\n<pre><code>dependencies { \n     /**\n    * Visa SDK - START\n    */\n    //In-App Provisioning SDK\n    implementation files('libs/VisaPushProvisioning-3.3.0.aar')\n    implementation files('libs/VisaInAppCore-3.3.0.aar')\n    implementation files('libs/TMXProfiling-6.1-67.aar')\n    implementation files('libs/TMXProfilingConnections-6.1-67.aar')\n    implementation files('libs/dexguard-runtime-9.2.12.aar')\n    //Samsung Pay\n    implementation files('libs/samsungpaysdk-2.6.00.jar')\n    //Google Pay\n    implementation files('libs/play-services-tapandpay-18.1.0.aar')\n    implementation &quot;com.google.android.gms:play-services-base:18.0.0&quot;\n    //okhttp covers for okttp, okio dependency\n    implementation &quot;com.squareup.okhttp3:okhttp:3.14.9&quot;\n    implementation &quot;com.squareup.okhttp3:logging-interceptor:3.14.9&quot;\n    implementation &quot;net.minidev:json-smart:2.3&quot;\n    //For TrustDefender\n    implementation &quot;commons-io:commons-io:2.6&quot;\n    implementation &quot;commons-codec:commons-codec:1.13&quot;\n    //Nimbus\n    implementation &quot;com.nimbusds:nimbus-jose-jwt:8.2.1&quot;\n    implementation &quot;com.google.code.gson:gson:2.8.5&quot;\n    implementation &quot;androidx.lifecycle:lifecycle-process:2.5.1&quot;\n    // If kotlin plugins are not added then below dependencies require to add to kotlin coroutines\n    // used by SDK.\n    implementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.6.4&quot;\n    implementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-android:1.6.4&quot;\n    //Analytics Database\n    implementation &quot;androidx.room:room-runtime:2.4.3&quot;\n    implementation &quot;androidx.room:room-ktx:2.4.3&quot;\n    kapt &quot;androidx.room:room-compiler:2.4.3&quot;\n\n    //Instant apps\n    implementation &quot;com.google.android.gms:play-services-instantapps:18.0.0&quot;\n\n    /**\n    * Visa SDK - END\n    */\n}\n\n</code></pre>\n<p>Note, that I was successfully able to use the code above inside a non-expo react-native application.</p>\n"},{"tags":["java","security","java-11","zlib"],"answers":[{"tags":[],"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"comment_count":0,"down_vote_count":2,"up_vote_count":3,"is_accepted":true,"score":1,"last_activity_date":1669145035,"creation_date":1669145035,"answer_id":74537987,"question_id":74533835,"body_markdown":"Your reasoning is correct.....","title":"Is OpenJDK impacted by CVE-2022-37434?","body":"<p>Your reasoning is correct.....</p>\n"}],"owner":{"account_id":6746752,"reputation":298,"user_id":5198144,"display_name":"Pekinek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":540,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":74537987,"answer_count":1,"score":5,"last_activity_date":1669145035,"creation_date":1669125612,"question_id":74533835,"body_markdown":"I&#39;m trying to determine if OpenJDK is impacted by [CVE-2022-37434](https://nvd.nist.gov/vuln/detail/CVE-2022-37434).\r\n\r\nI checked OpenJDK [source code](https://github.com/openjdk/jdk11u/blob/master/src/java.base/share/native/libzip/Inflater.c) and it looks like it&#39;s using only following methods from zlib:\r\n\r\n- inflateInit2\r\n- inflate\r\n- inflateSetDictionary\r\n- inflateReset\r\n- inflateEnd\r\n\r\nMethod that contains vulnerabilities in zlib is inflateGetHeader, so it looks like that OpenJDK is not affected by this. Can somebody confirm if my reasoning is correct?","title":"Is OpenJDK impacted by CVE-2022-37434?","body":"<p>I'm trying to determine if OpenJDK is impacted by <a href=\"https://nvd.nist.gov/vuln/detail/CVE-2022-37434\" rel=\"noreferrer\">CVE-2022-37434</a>.</p>\n<p>I checked OpenJDK <a href=\"https://github.com/openjdk/jdk11u/blob/master/src/java.base/share/native/libzip/Inflater.c\" rel=\"noreferrer\">source code</a> and it looks like it's using only following methods from zlib:</p>\n<ul>\n<li>inflateInit2</li>\n<li>inflate</li>\n<li>inflateSetDictionary</li>\n<li>inflateReset</li>\n<li>inflateEnd</li>\n</ul>\n<p>Method that contains vulnerabilities in zlib is inflateGetHeader, so it looks like that OpenJDK is not affected by this. Can somebody confirm if my reasoning is correct?</p>\n"},{"tags":["java","maven","intellij-idea","character-encoding","charset"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1669139334,"post_id":74536855,"comment_id":131574706,"body_markdown":"Windows command line encoding is not the same as in IntelliJ IDEA. It&#39;s likely not UTF-8 by default.","body":"Windows command line encoding is not the same as in IntelliJ IDEA. It&#39;s likely not UTF-8 by default."},{"owner":{"account_id":25954920,"reputation":37,"user_id":19672397,"display_name":"Mert &#199;evik"},"score":0,"creation_date":1669139778,"post_id":74536855,"comment_id":131574857,"body_markdown":"Yes but when i run **intcl.cpl** and then **administrative** and **change system locale** and tick **Beta:Use Unicode UTF-8 for worldwide language support** but this doesn&#39;t work","body":"Yes but when i run <b>intcl.cpl</b> and then <b>administrative</b> and <b>change system locale</b> and tick <b>Beta:Use Unicode UTF-8 for worldwide language support</b> but this doesn&#39;t work"}],"answers":[{"comments":[{"owner":{"account_id":25954920,"reputation":37,"user_id":19672397,"display_name":"Mert &#199;evik"},"score":0,"creation_date":1669146212,"post_id":74537952,"comment_id":131576873,"body_markdown":"`mvn clean test -DargLine=&quot;-Dfile.encoding=UTF-8&quot; -D&quot;cucumber.filter.tags=@OCR3&quot;` i run this command but still same","body":"<code>mvn clean test -DargLine=&quot;-Dfile.encoding=UTF-8&quot; -D&quot;cucumber.filter.tags=@OCR3&quot;</code> i run this command but still same"},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1669177929,"post_id":74537952,"comment_id":131583052,"body_markdown":"Ok is it working fine with in IntelliJ? I mean without mvn","body":"Ok is it working fine with in IntelliJ? I mean without mvn"},{"owner":{"account_id":26671785,"reputation":354,"user_id":20283130,"display_name":"MJG"},"score":0,"creation_date":1669196279,"post_id":74537952,"comment_id":131587443,"body_markdown":"Did you try to write the output to a file? E.g. \n`PrintWriter o = new PrintWriter(                    &quot;file.output&quot;, &quot;UTF-8&quot;);            o.println(&quot;&#231;,ğ,ş,&#246;,&#199;,Ğ,Ş,İ,&#214;&quot;);            o.close();`","body":"Did you try to write the output to a file? E.g.  <code>PrintWriter o = new PrintWriter(                    &quot;file.output&quot;, &quot;UTF-8&quot;);            o.println(&quot;&#231;,ğ,ş,&#246;,&#199;,Ğ,Ş,İ,&#214;&quot;);            o.close();</code>"},{"owner":{"account_id":25954920,"reputation":37,"user_id":19672397,"display_name":"Mert &#199;evik"},"score":0,"creation_date":1669220338,"post_id":74537952,"comment_id":131596482,"body_markdown":"Yes file.output worked fine. But mvn clean test still same","body":"Yes file.output worked fine. But mvn clean test still same"},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1669229071,"post_id":74537952,"comment_id":131599599,"body_markdown":"Can you please remove maven-surefire-plugin from pom.xml and  encoding.xml file and try again with command I have mentioned.","body":"Can you please remove maven-surefire-plugin from pom.xml and  encoding.xml file and try again with command I have mentioned."},{"owner":{"account_id":25954920,"reputation":37,"user_id":19672397,"display_name":"Mert &#199;evik"},"score":0,"creation_date":1669364976,"post_id":74537952,"comment_id":131629657,"body_markdown":"Unfortunately didn&#39;t work","body":"Unfortunately didn&#39;t work"}],"tags":[],"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669144813,"creation_date":1669144813,"answer_id":74537952,"question_id":74536855,"body_markdown":"Can you please try this. It should work.\r\n\r\n```\r\nmvn clean test -DargLine=“-Dfile.encoding=UTF-8”\r\n\r\n```\r\n\r\nAt the end you can append cucumber arguments","title":"mvn clean test ... terminal output doesn&#39;t show some characters","body":"<p>Can you please try this. It should work.</p>\n<pre><code>mvn clean test -DargLine=“-Dfile.encoding=UTF-8”\n\n</code></pre>\n<p>At the end you can append cucumber arguments</p>\n"}],"owner":{"account_id":25954920,"reputation":37,"user_id":19672397,"display_name":"Mert &#199;evik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669144813,"creation_date":1669138451,"question_id":74536855,"body_markdown":"Here is my pom.xml file\r\n\r\n            &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n            &lt;aspectj.version&gt;1.8.10&lt;/aspectj.version&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;/properties&gt;\r\n        \r\n    ...\r\n    \r\n    &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.22.2&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;argLine&gt;-Dfile.encoding=${project.build.sourceEncoding}&lt;/argLine&gt;\r\n                        &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\r\n                        &lt;includes&gt;\r\n                            **/TestRunner*.java\r\n                        &lt;/includes&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n\r\nAnd my sample cucumber step class\r\n\r\n    @When(&quot;test&quot;)\r\n        public void searchToSplitFind(int index){\r\n          System.out.println(&quot;&#231;,ğ,ş,&#246;,&#199;,Ğ,Ş,İ,&#214;&quot;);\r\n    }\r\n\r\n\r\n\r\nSo when i run this command on terminal `mvn clean test -D&quot;cucumber.filter.tags=@OCR3&quot;`   \r\n\r\nMy output is \r\n\r\n    &#231;,?,?,&#246;,&#199;,?,?,?,&#214;\r\n\r\nFinally my encoding.xml file is\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project version=&quot;4&quot;&gt;\r\n      &lt;component name=&quot;Encoding&quot; defaultCharsetForPropertiesFiles=&quot;UTF-8&quot;&gt;\r\n        &lt;file url=&quot;file://$PROJECT_DIR$/src/main/java&quot; charset=&quot;UTF-8&quot; /&gt;\r\n        &lt;file url=&quot;file://$PROJECT_DIR$/src/main/resources&quot; charset=&quot;UTF-8&quot; /&gt;\r\n        &lt;file url=&quot;file://$PROJECT_DIR$/src/test/java&quot; charset=&quot;UTF-8&quot; /&gt;\r\n        &lt;file url=&quot;file://$PROJECT_DIR$/src/test/java/features/OCR.feature&quot; charset=&quot;UTF-8&quot; /&gt;\r\n        &lt;file url=&quot;PROJECT&quot; charset=&quot;UTF-8&quot; /&gt;\r\n      &lt;/component&gt;\r\n    &lt;/project&gt;\r\n\r\nP.S = I use windows and intelliJ idea","title":"mvn clean test ... terminal output doesn&#39;t show some characters","body":"<p>Here is my pom.xml file</p>\n<pre><code>        &lt;properties&gt;\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n        &lt;aspectj.version&gt;1.8.10&lt;/aspectj.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;/properties&gt;\n    \n...\n\n&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;argLine&gt;-Dfile.encoding=${project.build.sourceEncoding}&lt;/argLine&gt;\n                    &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\n                    &lt;includes&gt;\n                        **/TestRunner*.java\n                    &lt;/includes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>And my sample cucumber step class</p>\n<pre><code>@When(&quot;test&quot;)\n    public void searchToSplitFind(int index){\n      System.out.println(&quot;ç,ğ,ş,ö,Ç,Ğ,Ş,İ,Ö&quot;);\n}\n</code></pre>\n<p>So when i run this command on terminal <code>mvn clean test -D&quot;cucumber.filter.tags=@OCR3&quot;</code></p>\n<p>My output is</p>\n<pre><code>ç,?,?,ö,Ç,?,?,?,Ö\n</code></pre>\n<p>Finally my encoding.xml file is</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project version=&quot;4&quot;&gt;\n  &lt;component name=&quot;Encoding&quot; defaultCharsetForPropertiesFiles=&quot;UTF-8&quot;&gt;\n    &lt;file url=&quot;file://$PROJECT_DIR$/src/main/java&quot; charset=&quot;UTF-8&quot; /&gt;\n    &lt;file url=&quot;file://$PROJECT_DIR$/src/main/resources&quot; charset=&quot;UTF-8&quot; /&gt;\n    &lt;file url=&quot;file://$PROJECT_DIR$/src/test/java&quot; charset=&quot;UTF-8&quot; /&gt;\n    &lt;file url=&quot;file://$PROJECT_DIR$/src/test/java/features/OCR.feature&quot; charset=&quot;UTF-8&quot; /&gt;\n    &lt;file url=&quot;PROJECT&quot; charset=&quot;UTF-8&quot; /&gt;\n  &lt;/component&gt;\n&lt;/project&gt;\n</code></pre>\n<p>P.S = I use windows and intelliJ idea</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":5749769,"reputation":2331,"user_id":4539838,"display_name":"Amit kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1589973683,"creation_date":1589973683,"answer_id":61911790,"question_id":61911612,"body_markdown":"Include the below snippet in your **logback.xml** :\r\n\r\n    &lt;property resource=&quot;application.properties&quot; /&gt;\r\n\r\nThis will let you refer properties in a standard way\r\n \r\nExample : ${app.name}.\r\n","title":"How to call application.properties value in logback.xml file?","body":"<p>Include the below snippet in your <strong>logback.xml</strong> :</p>\n\n<pre><code>&lt;property resource=\"application.properties\" /&gt;\n</code></pre>\n\n<p>This will let you refer properties in a standard way</p>\n\n<p>Example : ${app.name}.</p>\n"},{"tags":[],"owner":{"account_id":4880806,"reputation":31,"user_id":3934652,"display_name":"chippie3000"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669144199,"creation_date":1669143302,"answer_id":74537721,"question_id":61911612,"body_markdown":"If you have configured my logback-spring.xml as per Spring Boot Documentation, this might be a better solution.\r\nInstead of calling the whole application.properties in your logback.xml file, you can refer to a specific property in the application.properties file like this:\r\n\r\n    &lt;springProperty scope=&quot;context&quot; name=&quot;APP_TIMEZONE&quot; source=&quot;application.timezone&quot; /&gt;\r\n\r\n\r\nThen you can use the springProperty like this: **${APP_TIMEZONE}**.\r\nThis way you can call a specific value in the application.properties file.\r\n\r\n    &lt;Pattern&gt;\r\n        %d{ISO8601,${APP_TIMEZONE}} [%thread] %-5level %logger{36} - %msg%n\r\n    &lt;/Pattern&gt;","title":"How to call application.properties value in logback.xml file?","body":"<p>If you have configured my logback-spring.xml as per Spring Boot Documentation, this might be a better solution.\nInstead of calling the whole application.properties in your logback.xml file, you can refer to a specific property in the application.properties file like this:</p>\n<pre><code>&lt;springProperty scope=&quot;context&quot; name=&quot;APP_TIMEZONE&quot; source=&quot;application.timezone&quot; /&gt;\n</code></pre>\n<p>Then you can use the springProperty like this: <strong>${APP_TIMEZONE}</strong>.\nThis way you can call a specific value in the application.properties file.</p>\n<pre><code>&lt;Pattern&gt;\n    %d{ISO8601,${APP_TIMEZONE}} [%thread] %-5level %logger{36} - %msg%n\n&lt;/Pattern&gt;\n</code></pre>\n"}],"owner":{"account_id":10024896,"reputation":25,"user_id":7413320,"display_name":"Ravi shankar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":636,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61911790,"answer_count":2,"score":0,"last_activity_date":1669144199,"creation_date":1589973080,"question_id":61911612,"body_markdown":"I want to call local location value(c:/temp) from application.properties file in logback.xml file.\r\n\r\ncurrently i am specify location value in logback.xml itself, it&#39;s working fine.\r\n\r\nlogback.xml\r\n\r\n```\r\n&lt;configuration&gt;\r\n \r\n    &lt;property name=&quot;LOG_PATTERN&quot; value=&quot;%d{yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ} %p %m%n&quot; /&gt;\r\n    &lt;property name=&quot;APP_LOG_ROOT&quot; value=&quot;c:/temp&quot;/&gt;\r\n...\r\n&lt;/configuration&gt;\r\n```\r\n\r\nBut i want to call value from application.properties file.\r\n\r\napplication.properties\r\n\r\n&#39;&#39;&#39;\r\nlog.location.value = c:/temp\r\n&#39;&#39;&#39;\r\n\r\nwhat i have to change in logback.xml file.\r\n\r\nThank you.","title":"How to call application.properties value in logback.xml file?","body":"<p>I want to call local location value(c:/temp) from application.properties file in logback.xml file.</p>\n\n<p>currently i am specify location value in logback.xml itself, it's working fine.</p>\n\n<p>logback.xml</p>\n\n<pre><code>&lt;configuration&gt;\n\n    &lt;property name=\"LOG_PATTERN\" value=\"%d{yyyy-MM-dd'T'HH:mm:ss.SSSZ} %p %m%n\" /&gt;\n    &lt;property name=\"APP_LOG_ROOT\" value=\"c:/temp\"/&gt;\n...\n&lt;/configuration&gt;\n</code></pre>\n\n<p>But i want to call value from application.properties file.</p>\n\n<p>application.properties</p>\n\n<p>'''\nlog.location.value = c:/temp\n'''</p>\n\n<p>what i have to change in logback.xml file.</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","spring-boot","vaadin","vaadin-flow","hilla"],"answers":[{"comments":[{"owner":{"account_id":3135571,"reputation":23,"user_id":2652139,"display_name":"anoop"},"score":0,"creation_date":1669220348,"post_id":74537857,"comment_id":131596487,"body_markdown":"Thanks for the update, solved the problem","body":"Thanks for the update, solved the problem"}],"tags":[],"owner":{"account_id":15754805,"reputation":805,"user_id":11368281,"display_name":"Sascha I&#223;br&#252;cker"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1669144159,"creation_date":1669144159,"answer_id":74537857,"question_id":74537359,"body_markdown":"There are multiple issues in your code:\r\n\r\n 1. The grid&#39;s `items` property is bound to the **method**  for loading the categories. You should bind it to the categories loaded from that method, which should be stored in `categoryListRegisterViewStore.categoryList`:\r\n```html\r\n&lt;vaadin-grid theme=&quot;row-stripes&quot; .items=&quot;${categoryListRegisterViewStore.categoryList}&quot; &gt; \r\n```\r\n\r\n 2. The `CategoryListRegisterViewStore.loadProductCategory` method tries to assign the result of `fetchProductCatgeory`, which returns a `Promise`, to the `categoryList` property, which is of type `ProductCategoryDataList[]`. That&#39;s where you&#39;re getting the type error from. You should wait for the promise to resolve and then store the result of the promise:\r\n\r\n```js\r\n    async loadProductCategory() {\r\n        const prodCategory = await appStore.tricampCrmProductStore.fetchProductCatgeory();\r\n        runInAction(() =&gt; {\r\n            this.categoryList = prodCategory;\r\n        });\r\n    }\r\n```\r\n\r\n3. Finally, the `fetchProductCatgeory` method is flawed. It doesn&#39;t return the result of the endpoint call, because you wrapped the return into a `runInAction`. Instead, just directly return the promise from the endpoint call:\r\n```js\r\n    fetchProductCatgeory() {\r\n        return ProductEndpoint.fetchAllProdCategory();\r\n    }\r\n```\r\n\r\nAt this point you might consider removing that method entirely and directly using the endpoint in `loadProductCategory` instead.","title":"Hilla Type &#39;Promise&lt;void&gt;&#39; is missing the following properties from type","body":"<p>There are multiple issues in your code:</p>\n<ol>\n<li>The grid's <code>items</code> property is bound to the <strong>method</strong>  for loading the categories. You should bind it to the categories loaded from that method, which should be stored in <code>categoryListRegisterViewStore.categoryList</code>:</li>\n</ol>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;vaadin-grid theme=&quot;row-stripes&quot; .items=&quot;${categoryListRegisterViewStore.categoryList}&quot; &gt; \n</code></pre>\n<ol start=\"2\">\n<li>The <code>CategoryListRegisterViewStore.loadProductCategory</code> method tries to assign the result of <code>fetchProductCatgeory</code>, which returns a <code>Promise</code>, to the <code>categoryList</code> property, which is of type <code>ProductCategoryDataList[]</code>. That's where you're getting the type error from. You should wait for the promise to resolve and then store the result of the promise:</li>\n</ol>\n<pre class=\"lang-js prettyprint-override\"><code>    async loadProductCategory() {\n        const prodCategory = await appStore.tricampCrmProductStore.fetchProductCatgeory();\n        runInAction(() =&gt; {\n            this.categoryList = prodCategory;\n        });\n    }\n</code></pre>\n<ol start=\"3\">\n<li>Finally, the <code>fetchProductCatgeory</code> method is flawed. It doesn't return the result of the endpoint call, because you wrapped the return into a <code>runInAction</code>. Instead, just directly return the promise from the endpoint call:</li>\n</ol>\n<pre class=\"lang-js prettyprint-override\"><code>    fetchProductCatgeory() {\n        return ProductEndpoint.fetchAllProdCategory();\n    }\n</code></pre>\n<p>At this point you might consider removing that method entirely and directly using the endpoint in <code>loadProductCategory</code> instead.</p>\n"}],"owner":{"account_id":3135571,"reputation":23,"user_id":2652139,"display_name":"anoop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74537857,"answer_count":1,"score":0,"last_activity_date":1669144159,"creation_date":1669141043,"question_id":74537359,"body_markdown":"Trying to create an application in hilla(vaadin), which will list product and their details. For categorizing the product need to store the information related to category, but the issue facing while trying to list the category in a hilla/vaadin grid. From the endpoint returning a list of category and in the store consumed the list and try to display in the grid. While trying to run the application getting th error as &quot;\r\n\r\n```\r\nType &#39;Promise&lt;void&gt;&#39; is missing the following properties from type\r\n```\r\n\r\n&quot;\r\n\r\n@Nonnull is specified in response of the list and in method still getting error\r\n\r\nBelow is the endpoint class\r\n\r\n```\r\n@Endpoint\r\n@AnonymousAllowed\r\npublic class ProductEndpoint {\r\n\r\n\tprivate InterProductService productService;\r\n\r\n\t@Autowired\r\n\tpublic ProductEndpoint(InterProductService productService) {\r\n\t\tthis.productService = productService;\r\n\t}\r\n\r\n\tpublic List&lt;ProductDataList&gt; fetchAllProducts() {\r\n\t\treturn this.productService.fetchProducts(&quot;&quot;);\r\n\t}\r\n\r\n\tpublic @Nonnull List&lt;@Nonnull ProductCategoryDataList&gt; fetchAllProdCategory() {\r\n\t\treturn this.productService.fetchProductCategory(&quot;&quot;);\r\n\t}\r\n\r\n\t@Nonnull\r\n\tpublic EndpointResponse saveCatgeory(@Nonnull CategoryDetails categoryDetails) {\r\n\t\treturn this.productService.saveCategory(categoryDetails);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nBelow is the store\r\n\r\n```\r\nexport class ProductStore {\r\n\tconstructor() {\r\n\t\tmakeAutoObservable(\r\n\t\t\tthis);\r\n\t\tthis.fetchProductCatgeory();\r\n\t}\r\n\r\n\tasync saveProductCategory(prodCategory: CategoryDetails) {\r\n\t\tconst responseData = await ProductEndpoint.saveCatgeory(prodCategory);\r\n\t\treturn responseData;\r\n\t}\r\n\r\n\tasync fetchProductCatgeory() {\r\n\t\tconst prodCatData = await ProductEndpoint.fetchAllProdCategory();\r\n\t\trunInAction(() =&gt; {\r\n\t\t\treturn prodCatData;\r\n\t\t});\r\n\t}\r\n\r\n}\r\n```\r\n\r\nStore class specific to that module of product and catgeory\r\n\r\n```\r\nexport class CategoryListRegisterViewStore {\r\n\r\n\tcategoryList: ProductCategoryDataList[] = [];\r\n\r\n\tconstructor() {\r\n\t\tmakeAutoObservable(\r\n\t\t\tthis,\r\n\t\t\t{\r\n\t\t\t\tcategoryList: observable.shallow,\r\n\t\t\t}\r\n\t\t);\r\n\t\tthis.loadProductCategory();\r\n\t}\r\n\r\n\tloadProductCategory() {\r\n\t\t//return appStore.tricampCrmProductStore.fetchProductCatgeory();\r\n\t\tconst prodCategory = appStore.tricampCrmProductStore.fetchProductCatgeory();\r\n\t\trunInAction(() =&gt; {\r\n\t\t\tthis.categoryList = prodCategory;\r\n    \t});\r\n\t}\r\n\r\n\tsaveProductCategory(categoryDetails: CategoryDetails) {\r\n\t\treturn appStore.tricampCrmProductStore.saveProductCategory(categoryDetails);\r\n\t}\r\n}\r\n\r\nexport const categoryListRegisterViewStore = new CategoryListRegisterViewStore();\r\n```\r\n\r\nHtml page with grid code is below\r\n\r\n&lt;vaadin-grid theme=&quot;row-stripes&quot; .items=&quot;${categoryListRegisterViewStore.loadProductCategory}&quot; &gt;\r\n\t&lt;vaadin-grid-column frozen header=&quot;Category&quot; path=&quot;prodCatName&quot; auto-width&gt; &lt;/vaadin-grid-column&gt;\r\n\t\r\n\t&lt;vaadin-grid-column header=&quot;Action&quot; frozen-to-end auto-width flex-grow=&quot;0&quot; ${columnBodyRenderer(this.actionRenderer,\r\n\t\t[])}&gt;\r\n\t&lt;/vaadin-grid-column&gt;\r\n&lt;/vaadin-grid&gt;\r\n\r\nTried multiple methods like returning from the method directly but getting different error like AllItem is not iterate. While inspect the promise also came &quot;undefined&quot;. So maybe i did some mistake, expecting someone can support to fix the issue","title":"Hilla Type &#39;Promise&lt;void&gt;&#39; is missing the following properties from type","body":"<p>Trying to create an application in hilla(vaadin), which will list product and their details. For categorizing the product need to store the information related to category, but the issue facing while trying to list the category in a hilla/vaadin grid. From the endpoint returning a list of category and in the store consumed the list and try to display in the grid. While trying to run the application getting th error as &quot;</p>\n<pre><code>Type 'Promise&lt;void&gt;' is missing the following properties from type\n</code></pre>\n<p>&quot;</p>\n<p>@Nonnull is specified in response of the list and in method still getting error</p>\n<p>Below is the endpoint class</p>\n<pre><code>@Endpoint\n@AnonymousAllowed\npublic class ProductEndpoint {\n\n    private InterProductService productService;\n\n    @Autowired\n    public ProductEndpoint(InterProductService productService) {\n        this.productService = productService;\n    }\n\n    public List&lt;ProductDataList&gt; fetchAllProducts() {\n        return this.productService.fetchProducts(&quot;&quot;);\n    }\n\n    public @Nonnull List&lt;@Nonnull ProductCategoryDataList&gt; fetchAllProdCategory() {\n        return this.productService.fetchProductCategory(&quot;&quot;);\n    }\n\n    @Nonnull\n    public EndpointResponse saveCatgeory(@Nonnull CategoryDetails categoryDetails) {\n        return this.productService.saveCategory(categoryDetails);\n    }\n\n}\n</code></pre>\n<p>Below is the store</p>\n<pre><code>export class ProductStore {\n    constructor() {\n        makeAutoObservable(\n            this);\n        this.fetchProductCatgeory();\n    }\n\n    async saveProductCategory(prodCategory: CategoryDetails) {\n        const responseData = await ProductEndpoint.saveCatgeory(prodCategory);\n        return responseData;\n    }\n\n    async fetchProductCatgeory() {\n        const prodCatData = await ProductEndpoint.fetchAllProdCategory();\n        runInAction(() =&gt; {\n            return prodCatData;\n        });\n    }\n\n}\n</code></pre>\n<p>Store class specific to that module of product and catgeory</p>\n<pre><code>export class CategoryListRegisterViewStore {\n\n    categoryList: ProductCategoryDataList[] = [];\n\n    constructor() {\n        makeAutoObservable(\n            this,\n            {\n                categoryList: observable.shallow,\n            }\n        );\n        this.loadProductCategory();\n    }\n\n    loadProductCategory() {\n        //return appStore.tricampCrmProductStore.fetchProductCatgeory();\n        const prodCategory = appStore.tricampCrmProductStore.fetchProductCatgeory();\n        runInAction(() =&gt; {\n            this.categoryList = prodCategory;\n        });\n    }\n\n    saveProductCategory(categoryDetails: CategoryDetails) {\n        return appStore.tricampCrmProductStore.saveProductCategory(categoryDetails);\n    }\n}\n\nexport const categoryListRegisterViewStore = new CategoryListRegisterViewStore();\n</code></pre>\n<p>Html page with grid code is below</p>\n<p>&lt;vaadin-grid theme=&quot;row-stripes&quot; .items=&quot;${categoryListRegisterViewStore.loadProductCategory}&quot; &gt;\n </p>\n<pre><code>&lt;vaadin-grid-column header=&quot;Action&quot; frozen-to-end auto-width flex-grow=&quot;0&quot; ${columnBodyRenderer(this.actionRenderer,\n    [])}&gt;\n&lt;/vaadin-grid-column&gt;\n</code></pre>\n\n<p>Tried multiple methods like returning from the method directly but getting different error like AllItem is not iterate. While inspect the promise also came &quot;undefined&quot;. So maybe i did some mistake, expecting someone can support to fix the issue</p>\n"},{"tags":["java","android","xml","android-fragments","navigation-drawer"],"comments":[{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1669144547,"post_id":74537782,"comment_id":131576400,"body_markdown":"You are using a `NavHostFragment`, which means you shouldn&#39;t ever be doing any `FragmentTransaction` at all. Remove that code from your `onCreate()` entirely, it is only breaking things.","body":"You are using a <code>NavHostFragment</code>, which means you shouldn&#39;t ever be doing any <code>FragmentTransaction</code> at all. Remove that code from your <code>onCreate()</code> entirely, it is only breaking things."},{"owner":{"account_id":24217927,"reputation":13,"user_id":18173525,"display_name":"ShinyStar MaybeNot"},"score":0,"creation_date":1669145082,"post_id":74537782,"comment_id":131576551,"body_markdown":"@ianhanniballake I removed the last part with the Transaction, but now it doesn&#39;t show anything anymore.","body":"@ianhanniballake I removed the last part with the Transaction, but now it doesn&#39;t show anything anymore."}],"owner":{"account_id":24217927,"reputation":13,"user_id":18173525,"display_name":"ShinyStar MaybeNot"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669143709,"creation_date":1669143709,"question_id":74537782,"body_markdown":"When starting the app, I see neither the recycle view nor the normal fragment. I&#39;m sure that the Navigation switch the fragments but I do not see results. But when I use the saveInstantState I can get the Recycle view to work but I can&#39;t switch fragments anymore...\r\n\r\nAny help would be great.\r\n\r\nMain.java\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    MusicStoreService music;\r\n    private DrawerLayout drawerLayout;\r\n    private NavController navController;\r\n    private NavigationView navigationView;\r\n    private AppBarConfiguration appBarConfiguration;\r\n    public MainActivity() {\r\n        super(R.layout.main);\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        music = new MusicStoreServiceMock();\r\n\r\n        setContentView(R.layout.main);\r\n\r\n        Toolbar toolbar = findViewById(R.id.toolbar);\r\n// make sure you import androidx.appcompat.widget.Toolbar !\r\n        setSupportActionBar(toolbar);\r\n\r\n        drawerLayout = findViewById(R.id.drawer_layout);\r\n        navigationView = findViewById(R.id.nav_view);\r\n        NavHostFragment navHostFragment = (NavHostFragment)\r\n                getSupportFragmentManager()\r\n                        .findFragmentById(R.id.nav_host_fragment_container);\r\n        navController = navHostFragment.getNavController();\r\n\r\n        Set&lt;Integer&gt; topLevelDestinations = new HashSet&lt;&gt;();\r\n        topLevelDestinations.add(R.id.productListFragment2);\r\n        topLevelDestinations.add(R.id.helloworld);\r\n\r\n        appBarConfiguration = new AppBarConfiguration.Builder(topLevelDestinations)\r\n                .setOpenableLayout(drawerLayout)\r\n                .build();\r\n\r\n        NavigationUI.setupWithNavController(toolbar, navController,\r\n                appBarConfiguration);\r\n        NavigationUI.setupWithNavController(navigationView, navController);\r\n\r\n        if (savedInstanceState == null) {\r\n            getSupportFragmentManager().beginTransaction()\r\n                    .setReorderingAllowed(true)\r\n                    .add(R.id.nav_host_fragment_container, ProductListFragment.class, null)\r\n                    .commit();\r\n            System.out.println();\r\n        }\r\n\r\n\r\n    }\r\n\r\n    public MusicStoreService getMusic() {\r\n        return music;\r\n    }\r\n\r\n}\r\n```\r\n\r\nmain.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:id=&quot;@+id/drawer_layout&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:fitsSystemWindows=&quot;true&quot;&gt;\r\n\r\n    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n        &lt;com.google.android.material.appbar.AppBarLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n            &lt;androidx.appcompat.widget.Toolbar\r\n                android:id=&quot;@+id/toolbar&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;?attr/actionBarSize&quot;\r\n                android:background=&quot;?attr/colorPrimary&quot;\r\n                android:elevation=&quot;4dp&quot;\r\n                android:theme=&quot;@style/ThemeOverlay.AppCompat.Dark.ActionBar&quot;\r\n                app:layout_scrollFlags=&quot;scroll|enterAlways&quot; /&gt;\r\n        &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n\r\n        &lt;androidx.core.widget.NestedScrollView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:fillViewport=&quot;true&quot;\r\n            app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;&gt;\r\n\r\n            &lt;androidx.fragment.app.FragmentContainerView\r\n                android:id=&quot;@+id/nav_host_fragment_container&quot;\r\n                android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                app:defaultNavHost=&quot;true&quot;\r\n                app:navGraph=&quot;@navigation/nav_graph&quot; /&gt;\r\n\r\n\r\n        &lt;/androidx.core.widget.NestedScrollView&gt;\r\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n\r\n    &lt;com.google.android.material.navigation.NavigationView\r\n        android:id=&quot;@+id/nav_view&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_gravity=&quot;start&quot;\r\n        android:fitsSystemWindows=&quot;true&quot;\r\n        app:menu=&quot;@menu/nav_menu&quot;\r\n\r\n        /&gt;\r\n    &lt;!-- attribute app:menu isn&#39;t mentioned in the documentation! --&gt;\r\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\r\n```\r\n\r\nmenu.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;group android:checkableBehavior=&quot;single&quot;&gt;\r\n        &lt;item android:title=&quot;MusicStore&quot;&gt;\r\n            &lt;menu&gt;\r\n                &lt;item\r\n                    android:id=&quot;@+id/productListFragment2&quot;\r\n                    android:title=&quot;Products&quot; /&gt;\r\n\r\n            &lt;/menu&gt;\r\n        &lt;/item&gt;\r\n        &lt;item android:title=&quot;Service&quot;&gt;\r\n            &lt;menu&gt;\r\n                &lt;item\r\n                    android:id=&quot;@+id/helloworld&quot;\r\n                    android:title=&quot;Your Account&quot; /&gt;\r\n\r\n            &lt;/menu&gt;\r\n        &lt;/item&gt;\r\n    &lt;/group&gt;\r\n&lt;/menu&gt;\r\n\r\n```\r\n\r\nnav_graph.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/nav_graph&quot;\r\n    app:startDestination=&quot;@id/productListFragment2&quot;&gt;\r\n    &lt;fragment\r\n        android:id=&quot;@+id/productListFragment2&quot;\r\n        android:name=&quot;musicstore.fragments.ProductListFragment&quot;\r\n        android:label=&quot;Product List&quot; &gt;\r\n        &lt;action\r\n            android:id=&quot;@+id/action_productListFragment2_to_mainActivity2&quot;\r\n            app:destination=&quot;@id/mainActivity2&quot; /&gt;\r\n    &lt;/fragment&gt;\r\n    &lt;fragment\r\n        android:id=&quot;@+id/helloworld&quot;\r\n        android:name=&quot;.musicstore.fragments.helloworld&quot;\r\n        android:label=&quot;Your Account&quot;\r\n        tools:layout=&quot;@layout/fragment_helloworld&quot; /&gt;\r\n    &lt;fragment\r\n        android:id=&quot;@+id/productDetailFragment2&quot;\r\n        android:name=&quot;musicstore.fragments.ProductDetailFragment&quot;\r\n        android:label=&quot;ProductDetailFragment&quot; /&gt;\r\n    &lt;activity\r\n        android:id=&quot;@+id/mainActivity2&quot;\r\n        android:name=&quot;musicstore.MainActivity&quot;\r\n        android:label=&quot;activity_main&quot;\r\n        tools:layout=&quot;@layout/activity_main&quot; /&gt;\r\n&lt;/navigation&gt;\r\n```\r\n\r\nRecycle view fragment:\r\n```\r\npublic class ProductListFragment extends Fragment {\r\n    RecyclerView  recyclerView;\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        System.out.println(&quot;Hello&quot;);\r\n        View v = inflater.inflate(R.layout.product_list_fragment, container, false);\r\n        recyclerView = (RecyclerView) v.findViewById(R.id.productlist_recycler);\r\n\r\n        recyclerView.setHasFixedSize(true);\r\n        RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(getContext());\r\n        recyclerView.setLayoutManager(layoutManager);\r\n\r\n        return v;\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        ProductListAdapter pld = new ProductListAdapter(((MainActivity) getActivity()).getMusic(),getContext(),new ClickerListener());\r\n\r\n        recyclerView.setAdapter(pld);\r\n    }\r\n```\r\n\r\nSimple fragment:\r\n```\r\npublic class helloworld extends Fragment {\r\n\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        return inflater.inflate(R.layout.fragment_helloworld, container, false);\r\n    }\r\n}\r\n```\r\n\r\n\r\n","title":"Why isn&#39;t the Fragment shown in Navigation?","body":"<p>When starting the app, I see neither the recycle view nor the normal fragment. I'm sure that the Navigation switch the fragments but I do not see results. But when I use the saveInstantState I can get the Recycle view to work but I can't switch fragments anymore...</p>\n<p>Any help would be great.</p>\n<p>Main.java</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    MusicStoreService music;\n    private DrawerLayout drawerLayout;\n    private NavController navController;\n    private NavigationView navigationView;\n    private AppBarConfiguration appBarConfiguration;\n    public MainActivity() {\n        super(R.layout.main);\n    }\n\n    @Nullable\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        music = new MusicStoreServiceMock();\n\n        setContentView(R.layout.main);\n\n        Toolbar toolbar = findViewById(R.id.toolbar);\n// make sure you import androidx.appcompat.widget.Toolbar !\n        setSupportActionBar(toolbar);\n\n        drawerLayout = findViewById(R.id.drawer_layout);\n        navigationView = findViewById(R.id.nav_view);\n        NavHostFragment navHostFragment = (NavHostFragment)\n                getSupportFragmentManager()\n                        .findFragmentById(R.id.nav_host_fragment_container);\n        navController = navHostFragment.getNavController();\n\n        Set&lt;Integer&gt; topLevelDestinations = new HashSet&lt;&gt;();\n        topLevelDestinations.add(R.id.productListFragment2);\n        topLevelDestinations.add(R.id.helloworld);\n\n        appBarConfiguration = new AppBarConfiguration.Builder(topLevelDestinations)\n                .setOpenableLayout(drawerLayout)\n                .build();\n\n        NavigationUI.setupWithNavController(toolbar, navController,\n                appBarConfiguration);\n        NavigationUI.setupWithNavController(navigationView, navController);\n\n        if (savedInstanceState == null) {\n            getSupportFragmentManager().beginTransaction()\n                    .setReorderingAllowed(true)\n                    .add(R.id.nav_host_fragment_container, ProductListFragment.class, null)\n                    .commit();\n            System.out.println();\n        }\n\n\n    }\n\n    public MusicStoreService getMusic() {\n        return music;\n    }\n\n}\n</code></pre>\n<p>main.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:id=&quot;@+id/drawer_layout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:fitsSystemWindows=&quot;true&quot;&gt;\n\n    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;vertical&quot;\n        tools:context=&quot;.MainActivity&quot;&gt;\n\n        &lt;com.google.android.material.appbar.AppBarLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;&gt;\n\n            &lt;androidx.appcompat.widget.Toolbar\n                android:id=&quot;@+id/toolbar&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;?attr/actionBarSize&quot;\n                android:background=&quot;?attr/colorPrimary&quot;\n                android:elevation=&quot;4dp&quot;\n                android:theme=&quot;@style/ThemeOverlay.AppCompat.Dark.ActionBar&quot;\n                app:layout_scrollFlags=&quot;scroll|enterAlways&quot; /&gt;\n        &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n        &lt;androidx.core.widget.NestedScrollView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:fillViewport=&quot;true&quot;\n            app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;&gt;\n\n            &lt;androidx.fragment.app.FragmentContainerView\n                android:id=&quot;@+id/nav_host_fragment_container&quot;\n                android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                app:defaultNavHost=&quot;true&quot;\n                app:navGraph=&quot;@navigation/nav_graph&quot; /&gt;\n\n\n        &lt;/androidx.core.widget.NestedScrollView&gt;\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n\n    &lt;com.google.android.material.navigation.NavigationView\n        android:id=&quot;@+id/nav_view&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_gravity=&quot;start&quot;\n        android:fitsSystemWindows=&quot;true&quot;\n        app:menu=&quot;@menu/nav_menu&quot;\n\n        /&gt;\n    &lt;!-- attribute app:menu isn't mentioned in the documentation! --&gt;\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n</code></pre>\n<p>menu.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;group android:checkableBehavior=&quot;single&quot;&gt;\n        &lt;item android:title=&quot;MusicStore&quot;&gt;\n            &lt;menu&gt;\n                &lt;item\n                    android:id=&quot;@+id/productListFragment2&quot;\n                    android:title=&quot;Products&quot; /&gt;\n\n            &lt;/menu&gt;\n        &lt;/item&gt;\n        &lt;item android:title=&quot;Service&quot;&gt;\n            &lt;menu&gt;\n                &lt;item\n                    android:id=&quot;@+id/helloworld&quot;\n                    android:title=&quot;Your Account&quot; /&gt;\n\n            &lt;/menu&gt;\n        &lt;/item&gt;\n    &lt;/group&gt;\n&lt;/menu&gt;\n\n</code></pre>\n<p>nav_graph.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/nav_graph&quot;\n    app:startDestination=&quot;@id/productListFragment2&quot;&gt;\n    &lt;fragment\n        android:id=&quot;@+id/productListFragment2&quot;\n        android:name=&quot;musicstore.fragments.ProductListFragment&quot;\n        android:label=&quot;Product List&quot; &gt;\n        &lt;action\n            android:id=&quot;@+id/action_productListFragment2_to_mainActivity2&quot;\n            app:destination=&quot;@id/mainActivity2&quot; /&gt;\n    &lt;/fragment&gt;\n    &lt;fragment\n        android:id=&quot;@+id/helloworld&quot;\n        android:name=&quot;.musicstore.fragments.helloworld&quot;\n        android:label=&quot;Your Account&quot;\n        tools:layout=&quot;@layout/fragment_helloworld&quot; /&gt;\n    &lt;fragment\n        android:id=&quot;@+id/productDetailFragment2&quot;\n        android:name=&quot;musicstore.fragments.ProductDetailFragment&quot;\n        android:label=&quot;ProductDetailFragment&quot; /&gt;\n    &lt;activity\n        android:id=&quot;@+id/mainActivity2&quot;\n        android:name=&quot;musicstore.MainActivity&quot;\n        android:label=&quot;activity_main&quot;\n        tools:layout=&quot;@layout/activity_main&quot; /&gt;\n&lt;/navigation&gt;\n</code></pre>\n<p>Recycle view fragment:</p>\n<pre><code>public class ProductListFragment extends Fragment {\n    RecyclerView  recyclerView;\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        System.out.println(&quot;Hello&quot;);\n        View v = inflater.inflate(R.layout.product_list_fragment, container, false);\n        recyclerView = (RecyclerView) v.findViewById(R.id.productlist_recycler);\n\n        recyclerView.setHasFixedSize(true);\n        RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(getContext());\n        recyclerView.setLayoutManager(layoutManager);\n\n        return v;\n    }\n\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        ProductListAdapter pld = new ProductListAdapter(((MainActivity) getActivity()).getMusic(),getContext(),new ClickerListener());\n\n        recyclerView.setAdapter(pld);\n    }\n</code></pre>\n<p>Simple fragment:</p>\n<pre><code>public class helloworld extends Fragment {\n\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        return inflater.inflate(R.layout.fragment_helloworld, container, false);\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading","jvm","thread-safety"],"comments":[{"owner":{"account_id":4831718,"reputation":1056,"user_id":3899765,"display_name":"Yonatan Karp-Rudin"},"score":0,"creation_date":1669143628,"post_id":74537752,"comment_id":131576118,"body_markdown":"Seems like what you&#39;re looking for is a classic producer-consumer pattern - you can find many examples online, for example: https://www.baeldung.com/java-producer-consumer-problem","body":"Seems like what you&#39;re looking for is a classic producer-consumer pattern - you can find many examples online, for example: <a href=\"https://www.baeldung.com/java-producer-consumer-problem\" rel=\"nofollow noreferrer\">baeldung.com/java-producer-consumer-problem</a>"},{"owner":{"account_id":24650124,"reputation":5,"user_id":18547316,"display_name":"Ion J."},"score":0,"creation_date":1669224433,"post_id":74537752,"comment_id":131598122,"body_markdown":"@YonatanKarp-Rudin I&#39;ll look further into it and maybe I can find the aswer I&#39;m looking for. Thanks for posting.","body":"@YonatanKarp-Rudin I&#39;ll look further into it and maybe I can find the aswer I&#39;m looking for. Thanks for posting."}],"owner":{"account_id":24650124,"reputation":5,"user_id":18547316,"display_name":"Ion J."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669143540,"creation_date":1669143540,"question_id":74537752,"body_markdown":"I&#39;m trying to create a program in Java where each student is a thread, that completes an assignment and then notifies() its assigned teacher (also a thread that wait()) to grade it and then continue to the next assignment. I want for the threads in Thread Class Students to randomly get assigned to threads from the Thread Class Teachers for the whole operation. e.g.\r\n`numberOfStudens = 5`\r\n`numberOfTeachers = 2`\r\n`numberOfAssignments = 2`\r\n\r\n Keep working together for `numberOfAssignments`\r\n- studentThread0 - teacherThread0\r\n- studentThread1 - teacherThread0\r\n- studentThread3 - teacherThread0\r\n- studentThread2 - teacherThread1\r\n- studentThread4 - teacherThread1\r\n\r\n\r\n\r\n\r\nSo far I have created the 2 Threads and I can only achieve that by using a contractor on the teacher thread, which is not random.\r\n\r\n**Student Thread**\r\n\r\n\r\n```\r\npublic static class Student extends Thread {\r\n        public void run() {\r\n            System.out.println(&quot;Student &quot; + studentId + &quot; is working on assignment &quot; + assignmentId);\r\n            try {\r\n                Thread.sleep(1000);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n            System.out.println(&quot;Student &quot; + studentId + &quot; is done with assignment &quot; + assignmentId);\r\n            synchronized (teacher) {\r\n                teacher.notify();\r\n                System.out.println(&quot;Student &quot; + studentId + &quot; notified teacher &quot; + teacherId + &quot; that assignment &quot; + assignmentId + &quot; is complete.&quot;);\r\n            }\r\n        }\r\n}\r\n```\r\n\r\n**Teacher Thread**\r\n\r\n\r\n```\r\n public static class Teacher extends Thread {\r\n \tpublic Teacher(int teacherId, int assignmentId, int studentId) {\r\n            this.teacherId = teacherId;\r\n            this.assignmentId = assignmentId;\r\n            this.studentId = studentId;\r\n        }\r\n         public void run() {\r\n         \tsynchronized (this) {\r\n                try {\r\n                    System.out.println(&quot;Teacher &quot; + teacherId + &quot; is waiting for students to finish assignment &quot; + assignmentId);\r\n                    this.wait();\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                System.out.println(&quot;Teacher &quot; + teacherId + &quot; is grading the &quot; + assignmentId);\r\n                System.out.println(&quot;Teacher &quot; + teacherId + &quot; is done grading the &quot; + assignmentId + &quot; and the grade is &quot; + grade);\r\n            }\r\n            //Randomly generate a grade for the assignment\r\n            Random random = new Random();\r\n            grade = random.nextInt(10);\r\n        }\r\n }\r\n```\r\n\r\n\r\n**Assignment Thread** (I&#39;m not sure if I should keep this as a thread)\r\n\r\n\r\n```\r\npublic static class Assignment extends Thread {\r\n        public void run() {\r\n            for (int i = 0; i &lt; students.length; i++) {\r\n                students[i] = new Student(i, this);\r\n                students[i].start();\r\n            }\r\n\r\n            teacher.start();\r\n\r\n            System.out.println(&quot;Assignment &quot; + assignmentId + &quot; is complete.&quot;);\r\n        }\r\n}\r\n```\r\n\r\n\r\nThank you for your time in advance.\r\n","title":"Java - Is it possible for n threads to be assigned randomly to m threads?","body":"<p>I'm trying to create a program in Java where each student is a thread, that completes an assignment and then notifies() its assigned teacher (also a thread that wait()) to grade it and then continue to the next assignment. I want for the threads in Thread Class Students to randomly get assigned to threads from the Thread Class Teachers for the whole operation. e.g.\n<code>numberOfStudens = 5</code>\n<code>numberOfTeachers = 2</code>\n<code>numberOfAssignments = 2</code></p>\n<p>Keep working together for <code>numberOfAssignments</code></p>\n<ul>\n<li>studentThread0 - teacherThread0</li>\n<li>studentThread1 - teacherThread0</li>\n<li>studentThread3 - teacherThread0</li>\n<li>studentThread2 - teacherThread1</li>\n<li>studentThread4 - teacherThread1</li>\n</ul>\n<p>So far I have created the 2 Threads and I can only achieve that by using a contractor on the teacher thread, which is not random.</p>\n<p><strong>Student Thread</strong></p>\n<pre><code>public static class Student extends Thread {\n        public void run() {\n            System.out.println(&quot;Student &quot; + studentId + &quot; is working on assignment &quot; + assignmentId);\n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            System.out.println(&quot;Student &quot; + studentId + &quot; is done with assignment &quot; + assignmentId);\n            synchronized (teacher) {\n                teacher.notify();\n                System.out.println(&quot;Student &quot; + studentId + &quot; notified teacher &quot; + teacherId + &quot; that assignment &quot; + assignmentId + &quot; is complete.&quot;);\n            }\n        }\n}\n</code></pre>\n<p><strong>Teacher Thread</strong></p>\n<pre><code> public static class Teacher extends Thread {\n    public Teacher(int teacherId, int assignmentId, int studentId) {\n            this.teacherId = teacherId;\n            this.assignmentId = assignmentId;\n            this.studentId = studentId;\n        }\n         public void run() {\n            synchronized (this) {\n                try {\n                    System.out.println(&quot;Teacher &quot; + teacherId + &quot; is waiting for students to finish assignment &quot; + assignmentId);\n                    this.wait();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n                System.out.println(&quot;Teacher &quot; + teacherId + &quot; is grading the &quot; + assignmentId);\n                System.out.println(&quot;Teacher &quot; + teacherId + &quot; is done grading the &quot; + assignmentId + &quot; and the grade is &quot; + grade);\n            }\n            //Randomly generate a grade for the assignment\n            Random random = new Random();\n            grade = random.nextInt(10);\n        }\n }\n</code></pre>\n<p><strong>Assignment Thread</strong> (I'm not sure if I should keep this as a thread)</p>\n<pre><code>public static class Assignment extends Thread {\n        public void run() {\n            for (int i = 0; i &lt; students.length; i++) {\n                students[i] = new Student(i, this);\n                students[i].start();\n            }\n\n            teacher.start();\n\n            System.out.println(&quot;Assignment &quot; + assignmentId + &quot; is complete.&quot;);\n        }\n}\n</code></pre>\n<p>Thank you for your time in advance.</p>\n"},{"tags":["java","spring","rest","crud"],"answers":[{"comments":[{"owner":{"account_id":27009379,"reputation":1,"user_id":20569294,"display_name":"Mehar"},"score":0,"creation_date":1669099981,"post_id":74528310,"comment_id":131560382,"body_markdown":"Tried this. Did not work","body":"Tried this. Did not work"}],"tags":[],"owner":{"account_id":11449092,"reputation":19,"user_id":8391938,"display_name":"Partha Debnath"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669098471,"creation_date":1669098471,"answer_id":74528310,"question_id":74528225,"body_markdown":"Try this\r\n\r\n    @DeleteMapping(path=&quot;/{id}&quot;)\r\n    public void deleteEmployee(@PathVariable(&quot;id&quot;) String id) {\r\n        System.out.println(&quot;Delete function&quot;);\r\n        empService.deleteEmployee(id);\r\n        \r\n    }","title":"@DeleteMapping not working. Error message: org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;DELETE&#39; not supported","body":"<p>Try this</p>\n<pre><code>@DeleteMapping(path=&quot;/{id}&quot;)\npublic void deleteEmployee(@PathVariable(&quot;id&quot;) String id) {\n    System.out.println(&quot;Delete function&quot;);\n    empService.deleteEmployee(id);\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27000035,"reputation":34,"user_id":20561457,"display_name":"npe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669143401,"creation_date":1669101730,"answer_id":74528796,"question_id":74528225,"body_markdown":"Could you put your request URL here? Maybe you used the wrong URL.\r\nThe right URL should be:\r\n```\r\nhttp://{host}:{port}/employees/1\r\n```\r\n1 is the id you want to delete.","title":"@DeleteMapping not working. Error message: org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;DELETE&#39; not supported","body":"<p>Could you put your request URL here? Maybe you used the wrong URL.\nThe right URL should be:</p>\n<pre><code>http://{host}:{port}/employees/1\n</code></pre>\n<p>1 is the id you want to delete.</p>\n"}],"owner":{"account_id":27009379,"reputation":1,"user_id":20569294,"display_name":"Mehar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":459,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1669143401,"creation_date":1669097803,"question_id":74528225,"body_markdown":"So I have to make a CRUD application and when run on postman, the error being shown is 405, Method not allowed. Upon trying &quot;spring.mvc.hiddenmethod.filter.enabled: true&quot; in the application.properties file, the code still showed the same error when tested using postman.\r\n\r\n\r\nThis is the controller\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/employees&quot;)\r\n\r\npublic class EmpController {\r\n\t\r\n\t@Autowired\r\n\tprivate EmpService empService;\r\n\t@Autowired\r\n\tprivate EmpRepository empRepo;\r\n\t@GetMapping(&quot;&quot;)\r\n\tpublic List&lt;Employee&gt; getAllEmployees()\r\n\t\t{\r\n\t\treturn empService.getAllEmployees();\r\n\t\t}\r\n\t\r\n\t@PostMapping(&quot;&quot;)\r\n\tpublic void addEmployee(@RequestBody Employee emp) \r\n\t{\r\n\t\tempService.addEmployee(emp);\r\n\t}\r\n\t\r\n\t@PutMapping(&quot;/{id}&quot;)\r\n\tpublic void updateEmployee(@PathVariable String id,@RequestBody Employee emp)\r\n\t{\r\n\t\tempService.updateEmployee(id,emp);\r\n\t}\r\n\t\r\n\t@DeleteMapping(path=&quot;/{id}&quot;)\r\n\tpublic void deleteEmployee(@PathVariable String id) {\r\n\t\tSystem.out.println(&quot;Delete function&quot;);\r\n\t\tempService.deleteEmployee(id);\r\n\t\t\r\n\t}\r\n}\r\n```\r\n\r\nThis is the service\r\n\r\n\r\n\r\n```\r\n@org.springframework.stereotype.Service\r\npublic class EmpService {\r\n\t@Autowired\r\n\tpublic EmpRepository empRepo;\r\n\t\r\n\tpublic List&lt;Employee&gt; getAllEmployees(){\r\n\t\tList&lt;Employee&gt; employees = new ArrayList&lt;&gt;();\r\n\t\tempRepo.findAll().forEach(employees::add);\r\n\t\treturn employees;\r\n\t}\r\n\tpublic void addEmployee(Employee emp) {\r\n\t\tempRepo.save(emp);\r\n\t}\r\n\tpublic void updateEmployee(String id, Employee emp) {\r\n\t\tempRepo.save(emp);\r\n\t\t\r\n\t}\r\n\tpublic void deleteEmployee(String id) {\r\n\t\tempRepo.deleteById(id);\r\n\t}\r\n\r\n}\r\n```\r\n\r\non trying the the other put post and get methods the code was working perfectly fine. But this is the only place where I found the 405 error.","title":"@DeleteMapping not working. Error message: org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;DELETE&#39; not supported","body":"<p>So I have to make a CRUD application and when run on postman, the error being shown is 405, Method not allowed. Upon trying &quot;spring.mvc.hiddenmethod.filter.enabled: true&quot; in the application.properties file, the code still showed the same error when tested using postman.</p>\n<p>This is the controller</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/employees&quot;)\n\npublic class EmpController {\n    \n    @Autowired\n    private EmpService empService;\n    @Autowired\n    private EmpRepository empRepo;\n    @GetMapping(&quot;&quot;)\n    public List&lt;Employee&gt; getAllEmployees()\n        {\n        return empService.getAllEmployees();\n        }\n    \n    @PostMapping(&quot;&quot;)\n    public void addEmployee(@RequestBody Employee emp) \n    {\n        empService.addEmployee(emp);\n    }\n    \n    @PutMapping(&quot;/{id}&quot;)\n    public void updateEmployee(@PathVariable String id,@RequestBody Employee emp)\n    {\n        empService.updateEmployee(id,emp);\n    }\n    \n    @DeleteMapping(path=&quot;/{id}&quot;)\n    public void deleteEmployee(@PathVariable String id) {\n        System.out.println(&quot;Delete function&quot;);\n        empService.deleteEmployee(id);\n        \n    }\n}\n</code></pre>\n<p>This is the service</p>\n<pre><code>@org.springframework.stereotype.Service\npublic class EmpService {\n    @Autowired\n    public EmpRepository empRepo;\n    \n    public List&lt;Employee&gt; getAllEmployees(){\n        List&lt;Employee&gt; employees = new ArrayList&lt;&gt;();\n        empRepo.findAll().forEach(employees::add);\n        return employees;\n    }\n    public void addEmployee(Employee emp) {\n        empRepo.save(emp);\n    }\n    public void updateEmployee(String id, Employee emp) {\n        empRepo.save(emp);\n        \n    }\n    public void deleteEmployee(String id) {\n        empRepo.deleteById(id);\n    }\n\n}\n</code></pre>\n<p>on trying the the other put post and get methods the code was working perfectly fine. But this is the only place where I found the 405 error.</p>\n"},{"tags":["java","overriding"],"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1669139082,"post_id":74536910,"comment_id":131574625,"body_markdown":"Equals only determines if one file is equal to another.  Using Java how would you get all the files that would  return `true` for a particular equals comparison?  And in what data structure would they be returned (list, array?  And what format of date/time would be used to indicate modification date?","body":"Equals only determines if one file is equal to another.  Using Java how would you get all the files that would  return <code>true</code> for a particular equals comparison?  And in what data structure would they be returned (list, array?  And what format of date/time would be used to indicate modification date?"},{"owner":{"account_id":12236495,"reputation":2250,"user_id":8930751,"accept_rate":78,"display_name":"CrazyCoder"},"score":0,"creation_date":1669139221,"post_id":74536910,"comment_id":131574661,"body_markdown":"The dateformat is in epoch","body":"The dateformat is in epoch"},{"owner":{"account_id":395910,"reputation":14044,"user_id":759126,"accept_rate":100,"display_name":"partlov"},"score":2,"creation_date":1669139279,"post_id":74536910,"comment_id":131574679,"body_markdown":"First thing, I don&#39;t think overriding these equals and hash would have anything to do with what entry you will fetch from DB, you should do that in query and take only latest entry by date. Second, hash and equals method are not correct. One is case sensitive and other not, so it may happen that for two equal objects hash is different, which mustn&#39;t happen.","body":"First thing, I don&#39;t think overriding these equals and hash would have anything to do with what entry you will fetch from DB, you should do that in query and take only latest entry by date. Second, hash and equals method are not correct. One is case sensitive and other not, so it may happen that for two equal objects hash is different, which mustn&#39;t happen."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1669139326,"post_id":74536910,"comment_id":131574700,"body_markdown":"@CrazyCoder You would have to return them in a list or array and find the most recent.  Provide more information as requested and I can probably help.","body":"@CrazyCoder You would have to return them in a list or array and find the most recent.  Provide more information as requested and I can probably help."},{"owner":{"account_id":12236495,"reputation":2250,"user_id":8930751,"accept_rate":78,"display_name":"CrazyCoder"},"score":0,"creation_date":1669139568,"post_id":74536910,"comment_id":131574793,"body_markdown":"@WJS , I&#39;m getting a Set&lt;FileDetails&gt; from database.","body":"@WJS , I&#39;m getting a Set&lt;FileDetails&gt; from database."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1669140561,"post_id":74536910,"comment_id":131575138,"body_markdown":"If your getting them in a set then overriding equals will cause a problem since sets don&#39;t contain duplicates.","body":"If your getting them in a set then overriding equals will cause a problem since sets don&#39;t contain duplicates."}],"answers":[{"comments":[{"owner":{"account_id":12236495,"reputation":2250,"user_id":8930751,"accept_rate":78,"display_name":"CrazyCoder"},"score":0,"creation_date":1669140867,"post_id":74537178,"comment_id":131575251,"body_markdown":"Thanks so much for your answer. My model class looks exactly like the one which I posted in question. Should I add getters for uploadedDate field ?","body":"Thanks so much for your answer. My model class looks exactly like the one which I posted in question. Should I add getters for uploadedDate field ?"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1669140976,"post_id":74537178,"comment_id":131575287,"body_markdown":"Probably since your fields are declared private.  Although within the class you can of course access private fields.","body":"Probably since your fields are declared private.  Although within the class you can of course access private fields."}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669143328,"creation_date":1669140057,"answer_id":74537178,"question_id":74536910,"body_markdown":"Sets can&#39;t contain duplicates so this may not work if you have overridden equals.  For example, if you have many files of the same name and want the latest, then the set would only contain `one` file that returns true and it may not be the latest. So you may need to do additional processing.\r\n\r\nFor a `Set&lt;FileDetails&gt; set` try the following.  It will retrieve the latest `FileDetails` based on the date.  You can put this in a method of your choice.\r\n```\r\nFileDetails mostRecent = set.stream()\r\n             .max(Comparator.comparing(FileDetails::getUploadedDate))\r\n             .get();\r\n```\r\nThe above presumes that.\r\n- you have getters.\r\n- the `int uploadedDate` is simply a relative value where the larger is the most recent.  And it should be unsigned so less or equal to `Integer.MAX_VALUE`\r\n- this set only contains files that would return `true` if all compared to each other based on your comparison criteria.  May not work because duplicates are ignored in sets.\r\n\r\nAnother option would be to first filter on the name and the get the latest file for that name.\r\n```\r\nString filename = &lt;some name&gt;;\r\nFileDetails mostRecent = set.stream().filter(FileDtails::getFileName)\r\n             .max(Comparator.comparing(FileDetails::getUploadedDate))\r\n             .get();\r\n```\r\nNote `max` returns an `Optional&lt;FileDetails&gt;`.  I presume that at least one file would be there so it was safe to use `get` to retrieve it from the Optional.  You can also do the following:\r\n```\r\nOptional&lt;FileDetails&gt; optional = set.stream().filter(FileDtails::getFileName)\r\n             .max(Comparator.comparing(FileDetails::getUploadedDate));\r\n\r\nif(optional.isPresent()) {\r\n    System.out.println(optional.get()); //gets FileDetails\r\n} else {\r\n    System.out.println(&quot;Details not found&quot;);\r\n}\r\n```\r\nInstead of using a method reference (e.g. `FileDetails::getUploadDate`) to find the most recent you could also do it with a lambda.\r\n```\r\nComparator.comparing(fd-&gt;fd.getUploadDate()) // calling the getter\r\n// or\r\nComparator.comparing(fd-&gt;fd.uploadedDate) // accessing the field","title":"Override equals method to get unique records with latest details in Java","body":"<p>Sets can't contain duplicates so this may not work if you have overridden equals.  For example, if you have many files of the same name and want the latest, then the set would only contain <code>one</code> file that returns true and it may not be the latest. So you may need to do additional processing.</p>\n<p>For a <code>Set&lt;FileDetails&gt; set</code> try the following.  It will retrieve the latest <code>FileDetails</code> based on the date.  You can put this in a method of your choice.</p>\n<pre><code>FileDetails mostRecent = set.stream()\n             .max(Comparator.comparing(FileDetails::getUploadedDate))\n             .get();\n</code></pre>\n<p>The above presumes that.</p>\n<ul>\n<li>you have getters.</li>\n<li>the <code>int uploadedDate</code> is simply a relative value where the larger is the most recent.  And it should be unsigned so less or equal to <code>Integer.MAX_VALUE</code></li>\n<li>this set only contains files that would return <code>true</code> if all compared to each other based on your comparison criteria.  May not work because duplicates are ignored in sets.</li>\n</ul>\n<p>Another option would be to first filter on the name and the get the latest file for that name.</p>\n<pre><code>String filename = &lt;some name&gt;;\nFileDetails mostRecent = set.stream().filter(FileDtails::getFileName)\n             .max(Comparator.comparing(FileDetails::getUploadedDate))\n             .get();\n</code></pre>\n<p>Note <code>max</code> returns an <code>Optional&lt;FileDetails&gt;</code>.  I presume that at least one file would be there so it was safe to use <code>get</code> to retrieve it from the Optional.  You can also do the following:</p>\n<pre><code>Optional&lt;FileDetails&gt; optional = set.stream().filter(FileDtails::getFileName)\n             .max(Comparator.comparing(FileDetails::getUploadedDate));\n\nif(optional.isPresent()) {\n    System.out.println(optional.get()); //gets FileDetails\n} else {\n    System.out.println(&quot;Details not found&quot;);\n}\n</code></pre>\n<p>Instead of using a method reference (e.g. <code>FileDetails::getUploadDate</code>) to find the most recent you could also do it with a lambda.</p>\n<pre><code>Comparator.comparing(fd-&gt;fd.getUploadDate()) // calling the getter\n// or\nComparator.comparing(fd-&gt;fd.uploadedDate) // accessing the field\n</code></pre>\n"}],"owner":{"account_id":12236495,"reputation":2250,"user_id":8930751,"accept_rate":78,"display_name":"CrazyCoder"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1669143328,"creation_date":1669138710,"question_id":74536910,"body_markdown":"I have a model class like this:\r\n```java\r\npublic class FileDetails extends BaseAuditingEntity {\r\n\r\n    @NotBlank\r\n    @Column\r\n    private String fileName;\r\n\r\n    @NotBlank\r\n    @Column\r\n    private String fileType;\r\n\r\n    @NotBlank\r\n    @Column\r\n    private String filePath;    \r\n\r\n    @Column\r\n    private String uploadedBy;\r\n\t\r\n\t@Column\r\n    private int uploadedDate;\r\n\r\n    @Override\r\n    public boolean equals(java.lang.Object o) {\r\n        if (this == o) {\r\n            return true;\r\n        }\r\n\r\n        if (o == null || getClass() != o.getClass()) {\r\n            return false;\r\n        }\r\n\r\n        FileDetails ileDetails = (FileDetails) o;\r\n        return this.fileName.equalsIgnoreCase(fileDetails.fileName);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(fileName);\r\n    }\r\n}\r\n```\r\nWhenever a file is uploaded an entry is made in the database. If a user uploads a file with the same name, a new entry is stored in the database.   \r\nBut when I try to fetch it, I want the latest uploaded file details if the filename is the same. For that, I have added an override method in my model class as mentioned above. But that is returning the oldest record for each file. But I want the latest file details.  \r\n\r\nCan someone tell me what needs to be changed in the override method to achieve this?    \r\nMy expectation is, I need to get the unique file names and the latest file uploaded details of those files.  \r\nMany thanks in advance for all your help.\r\n","title":"Override equals method to get unique records with latest details in Java","body":"<p>I have a model class like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FileDetails extends BaseAuditingEntity {\n\n    @NotBlank\n    @Column\n    private String fileName;\n\n    @NotBlank\n    @Column\n    private String fileType;\n\n    @NotBlank\n    @Column\n    private String filePath;    \n\n    @Column\n    private String uploadedBy;\n    \n    @Column\n    private int uploadedDate;\n\n    @Override\n    public boolean equals(java.lang.Object o) {\n        if (this == o) {\n            return true;\n        }\n\n        if (o == null || getClass() != o.getClass()) {\n            return false;\n        }\n\n        FileDetails ileDetails = (FileDetails) o;\n        return this.fileName.equalsIgnoreCase(fileDetails.fileName);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(fileName);\n    }\n}\n</code></pre>\n<p>Whenever a file is uploaded an entry is made in the database. If a user uploads a file with the same name, a new entry is stored in the database.<br />\nBut when I try to fetch it, I want the latest uploaded file details if the filename is the same. For that, I have added an override method in my model class as mentioned above. But that is returning the oldest record for each file. But I want the latest file details.</p>\n<p>Can someone tell me what needs to be changed in the override method to achieve this?<br />\nMy expectation is, I need to get the unique file names and the latest file uploaded details of those files.<br />\nMany thanks in advance for all your help.</p>\n"},{"tags":["java","string","integer","user-input","data-manipulation"],"comments":[{"owner":{"account_id":421470,"reputation":3939,"user_id":799737,"accept_rate":100,"display_name":"Daniel Gabriel"},"score":0,"creation_date":1379373008,"post_id":18838781,"comment_id":27792977,"body_markdown":"What&#39;s your code for the scanner input?","body":"What&#39;s your code for the scanner input?"},{"owner":{"account_id":168413,"reputation":1875,"user_id":393865,"display_name":"Bojan Dević"},"score":1,"creation_date":1379373068,"post_id":18838781,"comment_id":27792996,"body_markdown":"This is a duplicate question http://stackoverflow.com/questions/6881458/converting-a-string-array-into-an-int-array-in-java","body":"This is a duplicate question <a href=\"http://stackoverflow.com/questions/6881458/converting-a-string-array-into-an-int-array-in-java\" title=\"converting a string array into an int array in java\">stackoverflow.com/questions/6881458/&hellip;</a>"},{"owner":{"account_id":10764458,"reputation":119,"user_id":7919904,"display_name":"Bram Van Dyck"},"score":0,"creation_date":1493130332,"post_id":18838781,"comment_id":74275697,"body_markdown":"Here is a function that should help you:\nhttp://stackoverflow.com/a/43613298/7919904","body":"Here is a function that should help you: <a href=\"http://stackoverflow.com/a/43613298/7919904\">stackoverflow.com/a/43613298/7919904</a>"},{"owner":{"account_id":3765503,"reputation":146,"user_id":3129137,"display_name":"Mr. Jain"},"score":1,"creation_date":1596907074,"post_id":18838781,"comment_id":111964254,"body_markdown":"Does this answer your question? [Converting a String Array to an Int array](https://stackoverflow.com/questions/21677530/converting-a-string-array-to-an-int-array)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/21677530/converting-a-string-array-to-an-int-array\">Converting a String Array to an Int array</a>"}],"answers":[{"comments":[{"owner":{"account_id":2324803,"reputation":2518,"user_id":2039574,"accept_rate":80,"display_name":"Euridice01"},"score":0,"creation_date":1415388917,"post_id":18838815,"comment_id":42190181,"body_markdown":"Java Devil, what do you mean by this &quot;// and another index for the numbers if to continue adding the others&quot;? What if I want to add the others to the array?","body":"Java Devil, what do you mean by this &quot;// and another index for the numbers if to continue adding the others&quot;? What if I want to add the others to the array?"},{"owner":{"account_id":2888638,"reputation":10719,"user_id":2477916,"accept_rate":100,"display_name":"Java Devil"},"score":0,"creation_date":1415565385,"post_id":18838815,"comment_id":42232435,"body_markdown":"@Euridice01 It was merely a suggestion to deal with invalid input. Consider the input `4,6,z,10`. Here the `z` would cause a `NumberFormatException` so if continued using `i` as the index there would be a `null` at the third position in the Integer Array. It just depends on how you want to deal with that scenario. The extra index I was talking about was to just ignore the `z` so in the final Integer array, the third number would be `10`.","body":"@Euridice01 It was merely a suggestion to deal with invalid input. Consider the input <code>4,6,z,10</code>. Here the <code>z</code> would cause a <code>NumberFormatException</code> so if continued using <code>i</code> as the index there would be a <code>null</code> at the third position in the Integer Array. It just depends on how you want to deal with that scenario. The extra index I was talking about was to just ignore the <code>z</code> so in the final Integer array, the third number would be <code>10</code>."}],"tags":[],"owner":{"account_id":2888638,"reputation":10719,"user_id":2477916,"accept_rate":100,"display_name":"Java Devil"},"comment_count":2,"down_vote_count":1,"up_vote_count":74,"is_accepted":true,"score":73,"last_activity_date":1505159634,"creation_date":1379373040,"answer_id":18838815,"question_id":18838781,"body_markdown":"You could read the entire input line from scanner, then split the line by `,` then you have a `String[]`, parse each number into `int[]` with index one to one matching...(assuming valid input and no `NumberFormatExceptions`) like\r\n\r\n\r\n    String line = scanner.nextLine();\r\n    String[] numberStrs = line.split(&quot;,&quot;);\r\n    int[] numbers = new int[numberStrs.length];\r\n    for(int i = 0;i &lt; numberStrs.length;i++)\r\n    {\r\n       // Note that this is assuming valid input\r\n       // If you want to check then add a try/catch \r\n       // and another index for the numbers if to continue adding the others (see below)\r\n       numbers[i] = Integer.parseInt(numberStrs[i]);\r\n    }\r\n\r\n___\r\n\r\nAs [YoYo&#39;s answer](https://stackoverflow.com/a/37093052) suggests, the above can be achieved more concisely in Java 8:\r\n \r\n    int[] numbers = Arrays.stream(line.split(&quot;,&quot;)).mapToInt(Integer::parseInt).toArray();  \r\n\r\n___\r\n**To handle invalid input**\r\n\r\nYou will need to consider what you want need to do in this case, do you want to know that there was bad input at that element or just skip it.\r\n\r\nIf you don&#39;t need to know about invalid input but just want to continue parsing the array you could do the following:\r\n\r\n\tint index = 0;\r\n\tfor(int i = 0;i &lt; numberStrs.length;i++)\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tnumbers[index] = Integer.parseInt(numberStrs[i]);\r\n\t\t\tindex++;\r\n\t\t}\r\n\t\tcatch (NumberFormatException nfe)\r\n\t\t{\r\n\t\t\t//Do nothing or you could print error if you want\r\n\t\t}\r\n\t}\r\n\t// Now there will be a number of &#39;invalid&#39; elements \r\n    // at the end which will need to be trimmed\r\n\tnumbers = Arrays.copyOf(numbers, index);\r\n\r\nThe reason we should trim the resulting array is that the invalid elements at the end of the `int[]` will be represented by a `0`, these need to be removed in order to differentiate between a valid input value of `0`.\r\n\r\nResults in\r\n\r\n&gt;  Input: &quot;2,5,6,bad,10&quot;  \r\n&gt; Output: [2,3,6,10]\r\n\r\nIf you need to know about invalid input later you could do the following:\r\n\r\n    Integer[] numbers = new Integer[numberStrs.length];\r\n\tfor(int i = 0;i &lt; numberStrs.length;i++)\t\t\r\n    {\r\n\t\ttry\t\r\n        {\r\n\t\t\tnumbers[i] = Integer.parseInt(numberStrs[i]);\r\n\t\t}\r\n        catch (NumberFormatException nfe)\t\r\n        {\r\n\t\t\tnumbers[i] = null;\r\n\t\t}\r\n\t}\r\n   \r\nIn this case bad input (not a valid integer) the element will be null.\r\n\r\nResults in\r\n\r\n&gt;  Input: &quot;2,5,6,bad,10&quot;  \r\n&gt; Output: [2,3,6,null,10]\r\n\r\n___\r\n\r\nYou could potentially improve performance by not catching the exception ([see this question for more on this][1]) and use a different method to check for valid integers.\r\n\r\n  [1]: https://stackoverflow.com/questions/237159/whats-the-best-way-to-check-to-see-if-a-string-represents-an-integer-in-java","title":"Converting String Array to an Integer Array","body":"<p>You could read the entire input line from scanner, then split the line by <code>,</code> then you have a <code>String[]</code>, parse each number into <code>int[]</code> with index one to one matching...(assuming valid input and no <code>NumberFormatExceptions</code>) like</p>\n\n<pre><code>String line = scanner.nextLine();\nString[] numberStrs = line.split(\",\");\nint[] numbers = new int[numberStrs.length];\nfor(int i = 0;i &lt; numberStrs.length;i++)\n{\n   // Note that this is assuming valid input\n   // If you want to check then add a try/catch \n   // and another index for the numbers if to continue adding the others (see below)\n   numbers[i] = Integer.parseInt(numberStrs[i]);\n}\n</code></pre>\n\n<hr>\n\n<p>As <a href=\"https://stackoverflow.com/a/37093052\">YoYo's answer</a> suggests, the above can be achieved more concisely in Java 8:</p>\n\n<pre><code>int[] numbers = Arrays.stream(line.split(\",\")).mapToInt(Integer::parseInt).toArray();  \n</code></pre>\n\n<hr>\n\n<p><strong>To handle invalid input</strong></p>\n\n<p>You will need to consider what you want need to do in this case, do you want to know that there was bad input at that element or just skip it.</p>\n\n<p>If you don't need to know about invalid input but just want to continue parsing the array you could do the following:</p>\n\n<pre><code>int index = 0;\nfor(int i = 0;i &lt; numberStrs.length;i++)\n{\n    try\n    {\n        numbers[index] = Integer.parseInt(numberStrs[i]);\n        index++;\n    }\n    catch (NumberFormatException nfe)\n    {\n        //Do nothing or you could print error if you want\n    }\n}\n// Now there will be a number of 'invalid' elements \n// at the end which will need to be trimmed\nnumbers = Arrays.copyOf(numbers, index);\n</code></pre>\n\n<p>The reason we should trim the resulting array is that the invalid elements at the end of the <code>int[]</code> will be represented by a <code>0</code>, these need to be removed in order to differentiate between a valid input value of <code>0</code>.</p>\n\n<p>Results in</p>\n\n<blockquote>\n  <p>Input: \"2,5,6,bad,10\"<br>\n  Output: [2,3,6,10]</p>\n</blockquote>\n\n<p>If you need to know about invalid input later you could do the following:</p>\n\n<pre><code>Integer[] numbers = new Integer[numberStrs.length];\nfor(int i = 0;i &lt; numberStrs.length;i++)        \n{\n    try \n    {\n        numbers[i] = Integer.parseInt(numberStrs[i]);\n    }\n    catch (NumberFormatException nfe)   \n    {\n        numbers[i] = null;\n    }\n}\n</code></pre>\n\n<p>In this case bad input (not a valid integer) the element will be null.</p>\n\n<p>Results in</p>\n\n<blockquote>\n  <p>Input: \"2,5,6,bad,10\"<br>\n  Output: [2,3,6,null,10]</p>\n</blockquote>\n\n<hr>\n\n<p>You could potentially improve performance by not catching the exception (<a href=\"https://stackoverflow.com/questions/237159/whats-the-best-way-to-check-to-see-if-a-string-represents-an-integer-in-java\">see this question for more on this</a>) and use a different method to check for valid integers.</p>\n"},{"tags":[],"owner":{"account_id":6341336,"reputation":1,"user_id":4923131,"display_name":"Shreyansh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432184951,"creation_date":1432184686,"answer_id":30364988,"question_id":18838781,"body_markdown":"\timport java.util.ArrayList;\r\n\timport java.util.List;\r\n\timport java.util.Scanner;\r\n\t\r\n\tclass MultiArg {\r\n\t\r\n\t\tScanner sc;\r\n\t\tint n;\r\n\t\tString as;\r\n\t\tList&lt;Integer&gt; numList = new ArrayList&lt;Integer&gt;();\r\n\t\r\n\t\tpublic void fun() {\r\n\t\t\tsc = new Scanner(System.in);\r\n\t\t\tSystem.out.println(&quot;enter value&quot;);\r\n\t\t\twhile (sc.hasNextInt())\r\n\t\t\t\tas = sc.nextLine();\r\n\t\t}\r\n\t\r\n\t\tpublic void diplay() {\r\n\t\t\tSystem.out.println(&quot;x&quot;);\r\n\t\t\tInteger[] num = numList.toArray(new Integer[numList.size()]);\r\n\t\t\tSystem.out.println(&quot;show value &quot; + as);\r\n\t\t\tfor (Integer m : num) {\r\n\t\t\t\tSystem.out.println(&quot;\\t&quot; + m);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\nbut to terminate the while loop you have to put any charecter at the end of input.\r\n\r\nex. input:\r\n\r\n    12 34 56 78 45 67 .\r\n\r\noutput:\r\n\r\n    12 34 56 78 45 67","title":"Converting String Array to an Integer Array","body":"<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\n\nclass MultiArg {\n\n    Scanner sc;\n    int n;\n    String as;\n    List&lt;Integer&gt; numList = new ArrayList&lt;Integer&gt;();\n\n    public void fun() {\n        sc = new Scanner(System.in);\n        System.out.println(\"enter value\");\n        while (sc.hasNextInt())\n            as = sc.nextLine();\n    }\n\n    public void diplay() {\n        System.out.println(\"x\");\n        Integer[] num = numList.toArray(new Integer[numList.size()]);\n        System.out.println(\"show value \" + as);\n        for (Integer m : num) {\n            System.out.println(\"\\t\" + m);\n        }\n    }\n}\n</code></pre>\n\n<p>but to terminate the while loop you have to put any charecter at the end of input.</p>\n\n<p>ex. input:</p>\n\n<pre><code>12 34 56 78 45 67 .\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>12 34 56 78 45 67\n</code></pre>\n"},{"tags":[],"owner":{"account_id":386394,"reputation":9197,"user_id":744133,"accept_rate":57,"display_name":"YoYo"},"comment_count":0,"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1669143216,"creation_date":1462650844,"answer_id":37093052,"question_id":18838781,"body_markdown":"Line by line\r\n\r\n    int [] v = Stream.of(line.split(&quot;,\\\\s+&quot;))\r\n      .mapToInt(Integer::parseInt)\r\n      .toArray();\r\n\r\nWith the `Arrays.stream()` alternative as\r\n\r\n    int [] v = Arrays.stream(line.split(&quot;,\\\\s+&quot;))\r\n      .mapToInt(Integer::parseInt)\r\n      .toArray();\r\n\r\nHowever much better for parsing bigger chunks of text is\r\n\r\n    int [] v = Pattern.compile(&quot;,\\\\s+&quot;).splitAsStream(line)\r\n      .mapToInt(Integer::parseInt)\r\n      .toArray();  \r\n\r\nAs this does not require the string array to be in memory, and we do an incremental parse to produce the integers. Moreover, as the input to `splitAsStream` is a `CharSequece`, and not just `String`, we can now also used buffered character sources to avoid even having the full input source in memory.\r\n\r\nSee also https://stackoverflow.com/q/28148483/744133 for some more interesting reading on incremental parsing.","title":"Converting String Array to an Integer Array","body":"<p>Line by line</p>\n<pre><code>int [] v = Stream.of(line.split(&quot;,\\\\s+&quot;))\n  .mapToInt(Integer::parseInt)\n  .toArray();\n</code></pre>\n<p>With the <code>Arrays.stream()</code> alternative as</p>\n<pre><code>int [] v = Arrays.stream(line.split(&quot;,\\\\s+&quot;))\n  .mapToInt(Integer::parseInt)\n  .toArray();\n</code></pre>\n<p>However much better for parsing bigger chunks of text is</p>\n<pre><code>int [] v = Pattern.compile(&quot;,\\\\s+&quot;).splitAsStream(line)\n  .mapToInt(Integer::parseInt)\n  .toArray();  \n</code></pre>\n<p>As this does not require the string array to be in memory, and we do an incremental parse to produce the integers. Moreover, as the input to <code>splitAsStream</code> is a <code>CharSequece</code>, and not just <code>String</code>, we can now also used buffered character sources to avoid even having the full input source in memory.</p>\n<p>See also <a href=\"https://stackoverflow.com/q/28148483/744133\">How do I create a Stream of regex matches?</a> for some more interesting reading on incremental parsing.</p>\n"},{"tags":[],"owner":{"account_id":13529838,"reputation":485,"user_id":10644028,"display_name":"Ritam Chakraborty"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1563820931,"creation_date":1563820931,"answer_id":57152000,"question_id":18838781,"body_markdown":"`Stream.of().mapToInt().toArray()` seems to be the best options.\r\n\r\n    int[] arr = Stream.of(new String[]{&quot;1&quot;, &quot;2&quot;, &quot;3&quot;})\r\n                      .mapToInt(Integer::parseInt).toArray();\r\n\tSystem.out.println(Arrays.toString(arr));","title":"Converting String Array to an Integer Array","body":"<p><code>Stream.of().mapToInt().toArray()</code> seems to be the best options.</p>\n\n<pre><code>int[] arr = Stream.of(new String[]{\"1\", \"2\", \"3\"})\n                  .mapToInt(Integer::parseInt).toArray();\nSystem.out.println(Arrays.toString(arr));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8854143,"reputation":1257,"user_id":6612401,"accept_rate":100,"display_name":"Evgeny Mamaev"},"score":0,"creation_date":1598801584,"post_id":63658869,"comment_id":112569926,"body_markdown":"Which package and class is it?","body":"Which package and class is it?"},{"owner":{"account_id":496250,"reputation":543,"user_id":1757756,"display_name":"Mavaddat Javid"},"score":0,"creation_date":1619913832,"post_id":63658869,"comment_id":119047824,"body_markdown":"@EugeneMamaev it is in `org.alfonz.utility` https://github.com/petrnohejl/Alfonz/blob/ed7e04b2dcb3476a4a085690dd0b618b91c61b4b/alfonz-utility/src/main/java/org/alfonz/utility/VersionUtility.java#L83","body":"@EugeneMamaev it is in <code>org.alfonz.utility</code> <a href=\"https://github.com/petrnohejl/Alfonz/blob/ed7e04b2dcb3476a4a085690dd0b618b91c61b4b/alfonz-utility/src/main/java/org/alfonz/utility/VersionUtility.java#L83\" rel=\"nofollow noreferrer\">github.com/petrnohejl/Alfonz/blob/&hellip;</a>"}],"tags":[],"owner":{"account_id":19406478,"reputation":1,"user_id":14191819,"display_name":"Alex"},"comment_count":2,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1598800173,"creation_date":1598800173,"answer_id":63658869,"question_id":18838781,"body_markdown":"Java has a method for this, &quot;convertStringArrayToIntArray&quot;.\r\n\r\n    String numbers = sc.nextLine();\r\n    int[] intArray = convertStringArrayToIntArray(numbers.split(&quot;, &quot;));\r\n\r\n","title":"Converting String Array to an Integer Array","body":"<p>Java has a method for this, &quot;convertStringArrayToIntArray&quot;.</p>\n<pre><code>String numbers = sc.nextLine();\nint[] intArray = convertStringArrayToIntArray(numbers.split(&quot;, &quot;));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":386394,"reputation":9197,"user_id":744133,"accept_rate":57,"display_name":"YoYo"},"score":0,"creation_date":1669143474,"post_id":64891114,"comment_id":131576061,"body_markdown":"Again, this just covers alternative forms of converting `String []` --&gt; `int []`, not `String` --&gt; `int []` (missing the delimiter parsing step).","body":"Again, this just covers alternative forms of converting <code>String []</code> --&gt; <code>int []</code>, not <code>String</code> --&gt; <code>int []</code> (missing the delimiter parsing step)."}],"tags":[],"owner":{"account_id":15981637,"reputation":221,"user_id":11533190,"display_name":"Shubham Chaudhary"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1605694779,"creation_date":1605694779,"answer_id":64891114,"question_id":18838781,"body_markdown":"Converting String array into stream and mapping to int is the best option available in java 8.\r\n\r\n    \tString[] stringArray = new String[] { &quot;0&quot;, &quot;1&quot;, &quot;2&quot; };\r\n\t\tint[] intArray = Stream.of(stringArray).mapToInt(Integer::parseInt).toArray();\r\n\t\tSystem.out.println(Arrays.toString(intArray));","title":"Converting String Array to an Integer Array","body":"<p>Converting String array into stream and mapping to int is the best option available in java 8.</p>\n<pre><code>    String[] stringArray = new String[] { &quot;0&quot;, &quot;1&quot;, &quot;2&quot; };\n    int[] intArray = Stream.of(stringArray).mapToInt(Integer::parseInt).toArray();\n    System.out.println(Arrays.toString(intArray));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":386394,"reputation":9197,"user_id":744133,"accept_rate":57,"display_name":"YoYo"},"score":0,"creation_date":1669142827,"post_id":66049376,"comment_id":131575855,"body_markdown":"Does not answer &#39;I want to convert the string input to an integer array&#39; and this part answer is sufficiently covered in other answers, although you do offer the alternative `Arrays.stream()` instead of `Stream.of()`.","body":"Does not answer &#39;I want to convert the string input to an integer array&#39; and this part answer is sufficiently covered in other answers, although you do offer the alternative <code>Arrays.stream()</code> instead of <code>Stream.of()</code>."}],"tags":[],"owner":{"account_id":17640979,"reputation":61,"user_id":12803259,"display_name":"Anton Saburov"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1612454847,"creation_date":1612454847,"answer_id":66049376,"question_id":18838781,"body_markdown":"For Java 8 and higher:\r\n\r\n        String[] test = {&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;};\r\n        int[] ints = Arrays.stream(test).mapToInt(Integer::parseInt).toArray();\r\n","title":"Converting String Array to an Integer Array","body":"<p>For Java 8 and higher:</p>\n<pre><code>    String[] test = {&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;};\n    int[] ints = Arrays.stream(test).mapToInt(Integer::parseInt).toArray();\n</code></pre>\n"}],"owner":{"account_id":453587,"reputation":831,"user_id":850673,"accept_rate":60,"display_name":"Mario"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287680,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":18838815,"answer_count":7,"score":43,"last_activity_date":1669143216,"creation_date":1379372847,"question_id":18838781,"body_markdown":"so basically user enters a sequence from an scanner input.\r\n`12, 3, 4`, etc.  \r\nIt can be of any length long and it has to be integers.  \r\nI want to convert the string input to an integer array.  \r\nso `int[0]` would be `12`, `int[1]` would be `3`, etc.\r\n\r\nAny tips and ideas? I was thinking of implementing `if charat(i) == &#39;,&#39;` get the previous number(s) and parse them together and apply it to the current available slot in the array. But I&#39;m not quite sure how to code that.","title":"Converting String Array to an Integer Array","body":"<p>so basically user enters a sequence from an scanner input.\n<code>12, 3, 4</code>, etc.<br>\nIt can be of any length long and it has to be integers.<br>\nI want to convert the string input to an integer array.<br>\nso <code>int[0]</code> would be <code>12</code>, <code>int[1]</code> would be <code>3</code>, etc.</p>\n\n<p>Any tips and ideas? I was thinking of implementing <code>if charat(i) == ','</code> get the previous number(s) and parse them together and apply it to the current available slot in the array. But I'm not quite sure how to code that.</p>\n"},{"tags":["java","list","collections","java-stream"],"comments":[{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1669074023,"post_id":74525732,"comment_id":131556250,"body_markdown":"@AlexanderIvanchenko Ok. Thank you for reminding it to me. I edited my post.","body":"@AlexanderIvanchenko Ok. Thank you for reminding it to me. I edited my post."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1669074162,"post_id":74525732,"comment_id":131556277,"body_markdown":"Maybe `value` property should be of type `BigDecimal`. Otherwise, you would need to perform a cast.","body":"Maybe <code>value</code> property should be of type <code>BigDecimal</code>. Otherwise, you would need to perform a cast."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1669074344,"post_id":74525732,"comment_id":131556308,"body_markdown":"BTW, since you&#39;re converting `BigDecimal` into `int` in the `PersonGroupMetric`, maybe it should be `int` in the first place. Or a `BigDecimal` everywhere.","body":"BTW, since you&#39;re converting <code>BigDecimal</code> into <code>int</code> in the <code>PersonGroupMetric</code>, maybe it should be <code>int</code> in the first place. Or a <code>BigDecimal</code> everywhere."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1669078379,"creation_date":1669078379,"answer_id":74526372,"question_id":74525732,"body_markdown":"In order to obtain the count of unique `Students` (i.e. having distinct ids) per every month, while accumulating the data you can maintain a `Set`  in the Collector and offer `id` of each consumed Student to the set.\r\n\r\nTo minimize the changes, you can make use of the Java 12 Collector `teeing()` and provide it as a downstream collector of `groupingBy()`.\r\n\r\n[`teeing()`][teeing] expects three arguments: two downstream Collectors, and a function that that generates the resulting value based on the partial results produced by each Collector.\r\n\r\nAs the first downstream, we can provide a combination of Collectors [`mapping()`][mapping] + `toSet()` which would be responsible for maintaining a `Set` of `id`s. And the second downstream would be collector reducing from your code.\r\n\r\nThe *merger* function would generate an instance of `ResultDto` based on set size and `PersonGroupMetric` produced by Collector `reducing()`.\r\n\r\nThat would require making one change in `PersonGroupMetric`, namelly adding `month` field.\r\n\r\n    public static class PersonGroupMetric {\r\n        public static final PersonGroupMetric EMPTY = new PersonGroupMetric(0, BigDecimal.ZERO, -1);\r\n        \r\n        private int count;\r\n        private BigDecimal sum;\r\n        private int month;\r\n        \r\n        \r\n        // all-args constructor, getters\r\n        \r\n        public PersonGroupMetric(Student e) {\r\n            this(1, e.getValue(), e.getEventDate().getMonthValue());\r\n        }\r\n        \r\n        public PersonGroupMetric add(PersonGroupMetric other) {\r\n            return new PersonGroupMetric(\r\n                this.count + other.count,\r\n                this.sum.add(other.sum),\r\n                this.month\r\n            );\r\n        }        \r\n    }\r\n\r\nAnd when bring the pieces together, that&#39;s how the stream might look like:\r\n\r\n```\r\nList&lt;ResultDto&gt; result = students.values().stream()\r\n    .flatMap(List::stream)\r\n    .filter(s -&gt; s.getType() == State.BONUS || s.getType() == State.IN\r\n                || s.getType() == State.OUT)\r\n    .collect(Collectors.groupingBy(\r\n        e -&gt; e.getEventDate().getMonthValue(),\r\n        Collectors.teeing(\r\n            Collectors.mapping(Student::getId, Collectors.toSet()),\r\n            Collectors.reducing(\r\n                PersonGroupMetric.EMPTY,\r\n                PersonGroupMetric::new,\r\n                PersonGroupMetric::add\r\n            ),\r\n            (set, metric) -&gt; new ResultDto(\r\n                metric.getMonth(),\r\n                metric.getSum(),\r\n                set.size() // the number of unique ids\r\n            )\r\n        )\r\n    ))\r\n    .values().stream().toList();\r\n```\r\n\r\n\r\n\r\n   [teeing]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#teeing(java.util.stream.Collector,java.util.stream.Collector,java.util.function.BiFunction)\r\n\r\n   [mapping]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#mapping(java.util.function.Function,java.util.stream.Collector)","title":"Java Stream - Not Calculating total count and total sum for Map List with filtering and grouping process","body":"<p>In order to obtain the count of unique <code>Students</code> (i.e. having distinct ids) per every month, while accumulating the data you can maintain a <code>Set</code>  in the Collector and offer <code>id</code> of each consumed Student to the set.</p>\n<p>To minimize the changes, you can make use of the Java 12 Collector <code>teeing()</code> and provide it as a downstream collector of <code>groupingBy()</code>.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#teeing(java.util.stream.Collector,java.util.stream.Collector,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\"><code>teeing()</code></a> expects three arguments: two downstream Collectors, and a function that that generates the resulting value based on the partial results produced by each Collector.</p>\n<p>As the first downstream, we can provide a combination of Collectors <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#mapping(java.util.function.Function,java.util.stream.Collector)\" rel=\"nofollow noreferrer\"><code>mapping()</code></a> + <code>toSet()</code> which would be responsible for maintaining a <code>Set</code> of <code>id</code>s. And the second downstream would be collector reducing from your code.</p>\n<p>The <em>merger</em> function would generate an instance of <code>ResultDto</code> based on set size and <code>PersonGroupMetric</code> produced by Collector <code>reducing()</code>.</p>\n<p>That would require making one change in <code>PersonGroupMetric</code>, namelly adding <code>month</code> field.</p>\n<pre><code>public static class PersonGroupMetric {\n    public static final PersonGroupMetric EMPTY = new PersonGroupMetric(0, BigDecimal.ZERO, -1);\n    \n    private int count;\n    private BigDecimal sum;\n    private int month;\n    \n    \n    // all-args constructor, getters\n    \n    public PersonGroupMetric(Student e) {\n        this(1, e.getValue(), e.getEventDate().getMonthValue());\n    }\n    \n    public PersonGroupMetric add(PersonGroupMetric other) {\n        return new PersonGroupMetric(\n            this.count + other.count,\n            this.sum.add(other.sum),\n            this.month\n        );\n    }        \n}\n</code></pre>\n<p>And when bring the pieces together, that's how the stream might look like:</p>\n<pre><code>List&lt;ResultDto&gt; result = students.values().stream()\n    .flatMap(List::stream)\n    .filter(s -&gt; s.getType() == State.BONUS || s.getType() == State.IN\n                || s.getType() == State.OUT)\n    .collect(Collectors.groupingBy(\n        e -&gt; e.getEventDate().getMonthValue(),\n        Collectors.teeing(\n            Collectors.mapping(Student::getId, Collectors.toSet()),\n            Collectors.reducing(\n                PersonGroupMetric.EMPTY,\n                PersonGroupMetric::new,\n                PersonGroupMetric::add\n            ),\n            (set, metric) -&gt; new ResultDto(\n                metric.getMonth(),\n                metric.getSum(),\n                set.size() // the number of unique ids\n            )\n        )\n    ))\n    .values().stream().toList();\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1669143160,"creation_date":1669071288,"question_id":74525732,"body_markdown":"I want to get a DTO result after implementing different kinds of filtering and grouping by with Java Stream feature.\r\n\r\n\r\n\r\nHere is the list stored as a Map&lt;String,Student&gt;\r\n\r\n    Id     Type   Value      Date\r\n    sId1   BONUS  10       1-1-2022\r\n    sId1   OUT    20       2-1-2022\r\n    sId1   IN     100      3-1-2022\r\n    sId1   OTHER  &quot;other&quot;  4-1-2022\r\n    sId1   BONUS  10       1-2-2022\r\n    sId2   OUT    20       2-2-2022\r\n    sId3   IN     100      3-2-2022\r\n    sId2   BONUS  10       4-2-2022\r\n    sId2   OUT    20       1-3-2022\r\n    sId2   IN     100      2-3-2022\r\n    ....\r\n\r\nI want to get this result shown below after I only need the total sum except for OTHER tag and total count as Student\r\n\r\n    month -  Total Value - Total Student\r\n    1           230             1 (Only sId1)\r\n    2           140             3 (sId1,sId2 and sId3)\r\n    3           120             1 (Only sId1)\r\n\r\nHere is my Studeny Class shown below\r\n```java\r\npublic class Student {\r\n   private String id;\r\n   private State type;\r\n   private Object value;\r\n   private LocalDate date;\r\n}\r\n```\r\nHere is the State as enum\r\n```java\r\npublic enum State {\r\n    BONUS, IN, OUT, OTHER\r\n}\r\n```\r\n\r\nHere is my result DTO class shown below.\r\n```java\r\npublic class ResultDto {\r\n    private int month;\r\n    private BigDecimal totalValue;\r\n    private int totalStudents;\r\n}\r\n```\r\n\r\nHere is the groupmetric class shown below for **count** and **sum**\r\n```java\r\npublic class PersonGroupMetric {\r\n\r\n    public static final PersonGroupMetric EMPTY = new PersonGroupMetric(0, 0);\r\n\r\n    private int count;\r\n    private int sum;\r\n\r\n    public PersonGroupMetric(int count, int sum) {\r\n        this.count = count;\r\n        this.sum = sum;\r\n    }\r\n\r\n    public int getCount() {\r\n        return count;\r\n    }\r\n\r\n    public void setCount(int count) {\r\n        this.count = count;\r\n    }\r\n\r\n    public int getSum() {\r\n        return sum;\r\n    }\r\n\r\n    public void setSum(int sum) {\r\n        this.sum = sum;\r\n    }\r\n\r\n    public PersonGroupMetric(Student e) {\r\n        this(1, Integer.parseInt(e.getValue().toString()));\r\n    }\r\n\r\n    public PersonGroupMetric add(PersonGroupMetric other) {\r\n        return new PersonGroupMetric(\r\n                this.count + other.count,\r\n                this.sum + other.sum\r\n        );\r\n    }\r\n}\r\n```\r\nI followed this steps to handle with that.\r\n\r\n**1 )** Filter only BONUS, OUT and IN from the map.\r\n```java\r\nMap&lt;Integer, PersonGroupMetric&gt; group  = students.values().stream()\r\n                .flatMap(List::stream)\r\n                .filter(s -&gt; s.getType() == State.BONUS  || s.getType() == State.IN\r\n                        || s.getType() == OUT)            \r\n```\r\n**2 )** Grouping By month to calculate the results.\r\n```java\r\n.collect(Collectors.groupingBy(\r\n                    e -&gt; e.getEventDate().getMonthValue(),Collectors.reducing(\r\n                            PersonGroupMetric.EMPTY,\r\n                            PersonGroupMetric::new,\r\n                            PersonGroupMetric::add\r\n                    )\r\n\r\n ));\r\n```\r\n**3 )** Map Object to Dto\r\n```java\r\nvar fin = res.entrySet().stream()\r\n    .map(n -&gt; new Dto(\r\n           n.getKey(),\r\n           new BigDecimal(n.getValue().getSum()),\r\n           n.getValue().getCount()\r\n)).collect(toList());\r\n\r\nfin.forEach(System.out::println);\r\n```\r\nHere is the result shown below after **fin** result.\r\n\r\n    month -  Total Value - Total Student\r\n    1           230             3\r\n    2           140             3\r\n    3           120             2\r\n\r\nThere is a problem in Total student count. How can I fix it?","title":"Java Stream - Not Calculating total count and total sum for Map List with filtering and grouping process","body":"<p>I want to get a DTO result after implementing different kinds of filtering and grouping by with Java Stream feature.</p>\n<p>Here is the list stored as a Map&lt;String,Student&gt;</p>\n<pre><code>Id     Type   Value      Date\nsId1   BONUS  10       1-1-2022\nsId1   OUT    20       2-1-2022\nsId1   IN     100      3-1-2022\nsId1   OTHER  &quot;other&quot;  4-1-2022\nsId1   BONUS  10       1-2-2022\nsId2   OUT    20       2-2-2022\nsId3   IN     100      3-2-2022\nsId2   BONUS  10       4-2-2022\nsId2   OUT    20       1-3-2022\nsId2   IN     100      2-3-2022\n....\n</code></pre>\n<p>I want to get this result shown below after I only need the total sum except for OTHER tag and total count as Student</p>\n<pre><code>month -  Total Value - Total Student\n1           230             1 (Only sId1)\n2           140             3 (sId1,sId2 and sId3)\n3           120             1 (Only sId1)\n</code></pre>\n<p>Here is my Studeny Class shown below</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Student {\n   private String id;\n   private State type;\n   private Object value;\n   private LocalDate date;\n}\n</code></pre>\n<p>Here is the State as enum</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum State {\n    BONUS, IN, OUT, OTHER\n}\n</code></pre>\n<p>Here is my result DTO class shown below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ResultDto {\n    private int month;\n    private BigDecimal totalValue;\n    private int totalStudents;\n}\n</code></pre>\n<p>Here is the groupmetric class shown below for <strong>count</strong> and <strong>sum</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PersonGroupMetric {\n\n    public static final PersonGroupMetric EMPTY = new PersonGroupMetric(0, 0);\n\n    private int count;\n    private int sum;\n\n    public PersonGroupMetric(int count, int sum) {\n        this.count = count;\n        this.sum = sum;\n    }\n\n    public int getCount() {\n        return count;\n    }\n\n    public void setCount(int count) {\n        this.count = count;\n    }\n\n    public int getSum() {\n        return sum;\n    }\n\n    public void setSum(int sum) {\n        this.sum = sum;\n    }\n\n    public PersonGroupMetric(Student e) {\n        this(1, Integer.parseInt(e.getValue().toString()));\n    }\n\n    public PersonGroupMetric add(PersonGroupMetric other) {\n        return new PersonGroupMetric(\n                this.count + other.count,\n                this.sum + other.sum\n        );\n    }\n}\n</code></pre>\n<p>I followed this steps to handle with that.</p>\n<p><strong>1 )</strong> Filter only BONUS, OUT and IN from the map.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Integer, PersonGroupMetric&gt; group  = students.values().stream()\n                .flatMap(List::stream)\n                .filter(s -&gt; s.getType() == State.BONUS  || s.getType() == State.IN\n                        || s.getType() == OUT)            \n</code></pre>\n<p><strong>2 )</strong> Grouping By month to calculate the results.</p>\n<pre class=\"lang-java prettyprint-override\"><code>.collect(Collectors.groupingBy(\n                    e -&gt; e.getEventDate().getMonthValue(),Collectors.reducing(\n                            PersonGroupMetric.EMPTY,\n                            PersonGroupMetric::new,\n                            PersonGroupMetric::add\n                    )\n\n ));\n</code></pre>\n<p><strong>3 )</strong> Map Object to Dto</p>\n<pre class=\"lang-java prettyprint-override\"><code>var fin = res.entrySet().stream()\n    .map(n -&gt; new Dto(\n           n.getKey(),\n           new BigDecimal(n.getValue().getSum()),\n           n.getValue().getCount()\n)).collect(toList());\n\nfin.forEach(System.out::println);\n</code></pre>\n<p>Here is the result shown below after <strong>fin</strong> result.</p>\n<pre><code>month -  Total Value - Total Student\n1           230             3\n2           140             3\n3           120             2\n</code></pre>\n<p>There is a problem in Total student count. How can I fix it?</p>\n"},{"tags":["java","spring","spring-boot","spring-bean"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1669189693,"post_id":74537675,"comment_id":131585382,"body_markdown":"It isn&#39;t stateful, as the builder for each method call returns a new `RestTemplateBuilder` instead of modifying internal state. So if you need multiple different `RestTemplate` you can customize it for defaults and for each `RestTemplate` just chain method calls and build it.","body":"It isn&#39;t stateful, as the builder for each method call returns a new <code>RestTemplateBuilder</code> instead of modifying internal state. So if you need multiple different <code>RestTemplate</code> you can customize it for defaults and for each <code>RestTemplate</code> just chain method calls and build it."}],"answers":[{"tags":[],"owner":{"account_id":4831718,"reputation":1056,"user_id":3899765,"display_name":"Yonatan Karp-Rudin"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669143136,"creation_date":1669143136,"answer_id":74537697,"question_id":74537675,"body_markdown":"If you want to have a different instance for each class you inject you should use the scope annotation as follow:\r\n\r\n    @Bean\r\n    @Scope(&quot;prototype&quot;)\r\n    public Person personPrototype() {\r\n        return new Person();\r\n    }\r\n\r\nyou can also use the constant as follow:\r\n\r\n    @Scope(value = ConfigurableBeanFactory.SCOPE_PROTOTYPE)","title":"How to create a non reusable bean on springboot","body":"<p>If you want to have a different instance for each class you inject you should use the scope annotation as follow:</p>\n<pre><code>@Bean\n@Scope(&quot;prototype&quot;)\npublic Person personPrototype() {\n    return new Person();\n}\n</code></pre>\n<p>you can also use the constant as follow:</p>\n<pre><code>@Scope(value = ConfigurableBeanFactory.SCOPE_PROTOTYPE)\n</code></pre>\n"}],"owner":{"account_id":7471816,"reputation":3218,"user_id":5679560,"accept_rate":36,"display_name":"Rafael Lima"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74537697,"answer_count":1,"score":0,"last_activity_date":1669143136,"creation_date":1669143013,"question_id":74537675,"body_markdown":"By default, on springboot, when we declare a method with @Bean, the object instance will be shared across all objects that request for @Autowired that class...\r\n\r\nWhat if I want spring to deliver different instances for each autowire class that request that object?\r\n\r\nI mean instead of share one single instance of a bean have multiple &quot;disposable&quot; beans for each requisition of that object?\r\n\r\nWhy I want that?\r\n\r\nthe reason is quite simple, RestTemplateBuilder is a common bean used in most spring application, by its nature this builder is STATEFUL which means that any changes made to one class to its structure will cause side effects to all other objects that use it.\r\n","title":"How to create a non reusable bean on springboot","body":"<p>By default, on springboot, when we declare a method with @Bean, the object instance will be shared across all objects that request for @Autowired that class...</p>\n<p>What if I want spring to deliver different instances for each autowire class that request that object?</p>\n<p>I mean instead of share one single instance of a bean have multiple &quot;disposable&quot; beans for each requisition of that object?</p>\n<p>Why I want that?</p>\n<p>the reason is quite simple, RestTemplateBuilder is a common bean used in most spring application, by its nature this builder is STATEFUL which means that any changes made to one class to its structure will cause side effects to all other objects that use it.</p>\n"},{"tags":["java","testing","junit","byte","implementation"],"answers":[{"comments":[{"owner":{"account_id":18424174,"reputation":23,"user_id":15416320,"display_name":"Ewejnog"},"score":0,"creation_date":1669142900,"post_id":74537619,"comment_id":131575884,"body_markdown":"Hi, thank you! getFlags method was not implemented either, was just something I&#39;ve tried because in the test, it uses it     byte resource = ResourceUtil.getFlag(FLAG_PUBLIC_SECURITY, FLAG_PRIVATE_SECURITY, FLAG_BASIC_LIFE_SUPPORT);","body":"Hi, thank you! getFlags method was not implemented either, was just something I&#39;ve tried because in the test, it uses it     byte resource = ResourceUtil.getFlag(FLAG_PUBLIC_SECURITY, FLAG_PRIVATE_SECURITY, FLAG_BASIC_LIFE_SUPPORT);"}],"tags":[],"owner":{"account_id":5049794,"reputation":631,"user_id":4054720,"display_name":"Ben Borchard"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669142581,"creation_date":1669142581,"answer_id":74537619,"question_id":74537518,"body_markdown":"It looks like you are just looking for set bits inside a byte (and for all set bits in that last method).  To do this you can simply use your flags as a mask and compare to the flag.\r\n\r\n```\r\npublic class ResourceUtil {\r\n\r\n    public static boolean hasPublicSecurity(byte resource) {\r\n        return resource &amp; FLAG_PUBLIC_SECURITY == FLAG_PUBLIC_SECURITY;\r\n    }\r\n\r\n    public static boolean hasPrivateSecurity(byte resource) {\r\n        return resource &amp; FLAG_PRIVATE_SECURITY == FLAG_PRIVATE_SECURITY;\r\n    }\r\n\r\n    public static boolean hasBasicLifeSupport(byte resource) {\r\n        return resource &amp; FLAG_BASIC_LIFE_SUPPORT == FLAG_BASIC_LIFE_SUPPORT;\r\n    }\r\n\r\n    public static boolean hasVolunteers(byte resource) {\r\n        return resource &amp; FLAG_VOLUNTEERS == FLAG_VOLUNTEERS;\r\n    }\r\n\r\n    public static boolean hasAllOpts(byte resource) {\r\n        return resource &amp; FLAG_ALL_OPTS == FLAG_ALL_OPTS;\r\n    }\r\n\r\n}\r\n```\r\n\r\nNOTE: It&#39;s not completely clear to me what the `getFlags` method is supposed to accomplish, but these checks should work","title":"Implementation based on test Java (bytewise) JUnit test","body":"<p>It looks like you are just looking for set bits inside a byte (and for all set bits in that last method).  To do this you can simply use your flags as a mask and compare to the flag.</p>\n<pre><code>public class ResourceUtil {\n\n    public static boolean hasPublicSecurity(byte resource) {\n        return resource &amp; FLAG_PUBLIC_SECURITY == FLAG_PUBLIC_SECURITY;\n    }\n\n    public static boolean hasPrivateSecurity(byte resource) {\n        return resource &amp; FLAG_PRIVATE_SECURITY == FLAG_PRIVATE_SECURITY;\n    }\n\n    public static boolean hasBasicLifeSupport(byte resource) {\n        return resource &amp; FLAG_BASIC_LIFE_SUPPORT == FLAG_BASIC_LIFE_SUPPORT;\n    }\n\n    public static boolean hasVolunteers(byte resource) {\n        return resource &amp; FLAG_VOLUNTEERS == FLAG_VOLUNTEERS;\n    }\n\n    public static boolean hasAllOpts(byte resource) {\n        return resource &amp; FLAG_ALL_OPTS == FLAG_ALL_OPTS;\n    }\n\n}\n</code></pre>\n<p>NOTE: It's not completely clear to me what the <code>getFlags</code> method is supposed to accomplish, but these checks should work</p>\n"},{"comments":[{"owner":{"account_id":5049794,"reputation":631,"user_id":4054720,"display_name":"Ben Borchard"},"score":0,"creation_date":1669142746,"post_id":74537628,"comment_id":131575830,"body_markdown":"This method for `hasAllOpts` will definitely not work...","body":"This method for <code>hasAllOpts</code> will definitely not work..."},{"owner":{"account_id":4831718,"reputation":1056,"user_id":3899765,"display_name":"Yonatan Karp-Rudin"},"score":0,"creation_date":1669142829,"post_id":74537628,"comment_id":131575857,"body_markdown":"Yeah, you&#39;re right - it&#39;s better to check that it&#39;s the exactly expected flags - otherwise you might have edge cases - will update :)","body":"Yeah, you&#39;re right - it&#39;s better to check that it&#39;s the exactly expected flags - otherwise you might have edge cases - will update :)"},{"owner":{"account_id":4831718,"reputation":1056,"user_id":3899765,"display_name":"Yonatan Karp-Rudin"},"score":0,"creation_date":1669142894,"post_id":74537628,"comment_id":131575880,"body_markdown":"oh I just notice that that&#39;s exactly your solution - I&#39;ve missed that you posted it :sweat_smile:","body":"oh I just notice that that&#39;s exactly your solution - I&#39;ve missed that you posted it :sweat_smile:"},{"owner":{"account_id":18424174,"reputation":23,"user_id":15416320,"display_name":"Ewejnog"},"score":0,"creation_date":1669143211,"post_id":74537628,"comment_id":131575979,"body_markdown":"Hi I see you skiped the getFlag method, sry if you get confused by the implementation of that method, was just something random I&#39;ve tried, just edited it","body":"Hi I see you skiped the getFlag method, sry if you get confused by the implementation of that method, was just something random I&#39;ve tried, just edited it"},{"owner":{"account_id":4831718,"reputation":1056,"user_id":3899765,"display_name":"Yonatan Karp-Rudin"},"score":0,"creation_date":1669143967,"post_id":74537628,"comment_id":131576231,"body_markdown":"No worries, I hope that the explanation makes more sense so you know how to approach the problem next time :)","body":"No worries, I hope that the explanation makes more sense so you know how to approach the problem next time :)"}],"tags":[],"owner":{"account_id":4831718,"reputation":1056,"user_id":3899765,"display_name":"Yonatan Karp-Rudin"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669142868,"creation_date":1669142661,"answer_id":74537628,"question_id":74537518,"body_markdown":"The best (and probably fastest in terms of performance) way to do it would be to create a logical AND operation between the resources that you receive and the location of the bit.\r\n\r\nSo something like this:\r\n\r\n    public static boolean hasPublicSecurity(byte resource) {\r\n        return (resource &amp; FLAG_PUBLIC_SECURITY) == FLAG_PUBLIC_SECURITY;\r\n    }\r\n\r\n    public static boolean hasPrivateSecurity(byte resource) {\r\n        return (resource &amp; FLAG_PRIVATE_SECURITY) = FLAG_PRIVATE_SECURITY;\r\n    }\r\n\r\n    public static boolean hasBasicLifeSupport(byte resource) {\r\n        return (resource &amp; FLAG_BASIC_LIFE_SUPPORT) == FLAG_BASIC_LIFE_SUPPORT;\r\n    }\r\n\r\n    public static boolean hasVolunteers(byte resource) {\r\n        return (resource &amp; FLAG_VOLUNTEERS) == FLAG_VOLUNTEERS;\r\n    }\r\n\r\n    public static boolean hasAllOpts(byte resource) {\r\n        return (resource &amp; FLAG_ALL_OPTS) == FLAG_ALL_OPTS;\r\n    }\r\n\r\nThe reason for the code is as follows, let&#39;s assume in your example that we have the value 7 (`111` in binary), when we check for `PUBLIC_SECURITY` we&#39;re basically checking if:\r\n\r\n    111 &amp; 001 == 001\r\n\r\nIf the result is zero, that means that the relevant bit was not 1.","title":"Implementation based on test Java (bytewise) JUnit test","body":"<p>The best (and probably fastest in terms of performance) way to do it would be to create a logical AND operation between the resources that you receive and the location of the bit.</p>\n<p>So something like this:</p>\n<pre><code>public static boolean hasPublicSecurity(byte resource) {\n    return (resource &amp; FLAG_PUBLIC_SECURITY) == FLAG_PUBLIC_SECURITY;\n}\n\npublic static boolean hasPrivateSecurity(byte resource) {\n    return (resource &amp; FLAG_PRIVATE_SECURITY) = FLAG_PRIVATE_SECURITY;\n}\n\npublic static boolean hasBasicLifeSupport(byte resource) {\n    return (resource &amp; FLAG_BASIC_LIFE_SUPPORT) == FLAG_BASIC_LIFE_SUPPORT;\n}\n\npublic static boolean hasVolunteers(byte resource) {\n    return (resource &amp; FLAG_VOLUNTEERS) == FLAG_VOLUNTEERS;\n}\n\npublic static boolean hasAllOpts(byte resource) {\n    return (resource &amp; FLAG_ALL_OPTS) == FLAG_ALL_OPTS;\n}\n</code></pre>\n<p>The reason for the code is as follows, let's assume in your example that we have the value 7 (<code>111</code> in binary), when we check for <code>PUBLIC_SECURITY</code> we're basically checking if:</p>\n<pre><code>111 &amp; 001 == 001\n</code></pre>\n<p>If the result is zero, that means that the relevant bit was not 1.</p>\n"}],"owner":{"account_id":18424174,"reputation":23,"user_id":15416320,"display_name":"Ewejnog"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1669143029,"creation_date":1669142046,"question_id":74537518,"body_markdown":"I&#39;m trying to implement a class in order to pass the following **test** (Using bytewise operators &amp; and | \r\n\r\n    public void hasFlagTest1() {\r\n        byte resource = ResourceUtil.getFlag(FLAG_PUBLIC_SECURITY, FLAG_PRIVATE_SECURITY, FLAG_BASIC_LIFE_SUPPORT);\r\n\r\n        Assert.assertTrue(ResourceUtil.hasPublicSecurity(resource));\r\n        Assert.assertTrue(ResourceUtil.hasPrivateSecurity(resource));\r\n        Assert.assertTrue(ResourceUtil.hasBasicLifeSupport(resource));\r\n        Assert.assertFalse(ResourceUtil.hasVolunteers(resource));\r\n        Assert.assertFalse(ResourceUtil.hasAllOpts(resource));\r\n    }\r\n\r\nThe **constant values** that are passed by parameters are\r\n    \r\n    public static final byte FLAG_PRIVATE_SECURITY = 1;\r\n    public static final byte FLAG_PUBLIC_SECURITY = 2;\r\n    public static final byte FLAG_BASIC_LIFE_SUPPORT = 4;\r\n    public static final byte FLAG_VOLUNTEERS = 8;\r\n    public static final byte FLAG_ALL_OPTS  = 15;\r\n\r\nI have already created a **class** but not sure how to implement all methods in order to make this test pass, here&#39;s the class:\r\n\r\npublic class ResourceUtil {\r\n\r\n    public static byte getFlag(byte arg, byte arg2, byte arg3){\r\n        \r\n        return result;  //just a value, not implemented\r\n    }; \r\n\r\n    public static boolean hasPublicSecurity(byte resource) {\r\n\r\n        return true;  //just a value, not implemented\r\n    }\r\n\r\n    public static boolean hasPrivateSecurity(byte resource) {\r\n\r\n        return true;  //just a value, not implemented\r\n    }\r\n\r\n    public static boolean hasBasicLifeSupport(byte resource) {\r\n\r\n        return true;  //just a value, not implemented\r\n    }\r\n\r\n    public static boolean hasVolunteers(byte resource) {\r\n        return true;  //just a value, not implemented\r\n    }\r\n\r\n    public static boolean hasAllOpts(byte resource) {\r\n\r\n        return true;  //just a value, not implemented\r\n    }\r\n}\r\n\r\nAny idea? I&#39;ve been trying some \r\n\r\n","title":"Implementation based on test Java (bytewise) JUnit test","body":"<p>I'm trying to implement a class in order to pass the following <strong>test</strong> (Using bytewise operators &amp; and |</p>\n<pre><code>public void hasFlagTest1() {\n    byte resource = ResourceUtil.getFlag(FLAG_PUBLIC_SECURITY, FLAG_PRIVATE_SECURITY, FLAG_BASIC_LIFE_SUPPORT);\n\n    Assert.assertTrue(ResourceUtil.hasPublicSecurity(resource));\n    Assert.assertTrue(ResourceUtil.hasPrivateSecurity(resource));\n    Assert.assertTrue(ResourceUtil.hasBasicLifeSupport(resource));\n    Assert.assertFalse(ResourceUtil.hasVolunteers(resource));\n    Assert.assertFalse(ResourceUtil.hasAllOpts(resource));\n}\n</code></pre>\n<p>The <strong>constant values</strong> that are passed by parameters are</p>\n<pre><code>public static final byte FLAG_PRIVATE_SECURITY = 1;\npublic static final byte FLAG_PUBLIC_SECURITY = 2;\npublic static final byte FLAG_BASIC_LIFE_SUPPORT = 4;\npublic static final byte FLAG_VOLUNTEERS = 8;\npublic static final byte FLAG_ALL_OPTS  = 15;\n</code></pre>\n<p>I have already created a <strong>class</strong> but not sure how to implement all methods in order to make this test pass, here's the class:</p>\n<p>public class ResourceUtil {</p>\n<pre><code>public static byte getFlag(byte arg, byte arg2, byte arg3){\n    \n    return result;  //just a value, not implemented\n}; \n\npublic static boolean hasPublicSecurity(byte resource) {\n\n    return true;  //just a value, not implemented\n}\n\npublic static boolean hasPrivateSecurity(byte resource) {\n\n    return true;  //just a value, not implemented\n}\n\npublic static boolean hasBasicLifeSupport(byte resource) {\n\n    return true;  //just a value, not implemented\n}\n\npublic static boolean hasVolunteers(byte resource) {\n    return true;  //just a value, not implemented\n}\n\npublic static boolean hasAllOpts(byte resource) {\n\n    return true;  //just a value, not implemented\n}\n</code></pre>\n<p>}</p>\n<p>Any idea? I've been trying some</p>\n"},{"tags":["java","for-loop"],"comments":[{"owner":{"display_name":"user20331188"},"score":0,"creation_date":1668909981,"post_id":74505154,"comment_id":131520590,"body_markdown":"tried formatting my &quot;desired output &quot; dont know how","body":"tried formatting my &quot;desired output &quot; dont know how"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1669140570,"post_id":74505154,"comment_id":131575144,"body_markdown":"What does the crosses boolean parameter mean?","body":"What does the crosses boolean parameter mean?"}],"answers":[{"tags":[],"owner":{"account_id":18386365,"reputation":60,"user_id":13393309,"display_name":"LydiasPost"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668911348,"creation_date":1668911348,"answer_id":74505237,"question_id":74505154,"body_markdown":"```java\r\npublic static void crosses(int height, int length, char main, char filler, boolean pattern) {\r\n    char[][] output = new char[height][length];\r\n    if(pattern == false) {\r\n        for(int i = 0; i&lt;length; i++) {\r\n            for (int j = 0; j &lt; height; j++) {\r\n                if (j == (i - 2) || j == (i + 2) || j == (height - i - 3) || j == (height - i + 1)) {\r\n                    output[i][j] = main;\r\n                }\r\n                else {\r\n                    output[i][j] = filler;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    for (char[] row : output) {\r\n        for (char c : row) {\r\n            System.out.print(c);\r\n        }\r\n        System.out.println();\r\n    }\r\n}\r\n```\r\nThe above works as close to your code as possible, but here are a few improvements to the way you wrote it:\r\n```java\r\npublic static char[][] crosses(int height, int length, char main, char filler, boolean pattern) {\r\n    char[][] output = new char[height][length];\r\n    if (pattern) {\r\n        for (char[] row : output) { Arrays.fill(row, filler); }\r\n        return output; // I made an assumption that if true, the output should be filled with filler only.\r\n    }\r\n    // no need to do pattern == false, just leave using return if true.\r\n    for(int i = 0; i&lt;length; i++) {\r\n        for (int j = 0; j &lt; height; j++) {\r\n            if (j == (i - 2) || j == (i + 2) || j == (height - i - 3) || j == (height - i + 1)) {\r\n                output[i][j] = main;\r\n            }\r\n            else {\r\n                output[i][j] = filler;\r\n            }\r\n        }\r\n    }\r\n    return output; // Better to delegate the print to the caller, so they can decide how to print it.\r\n}\r\n\r\npublic static void main(String[] args) {\r\n    char[][] result = crosses(12, 12, &#39;x&#39;, &#39;.&#39;, false);\r\n    for (char[] row : result) {\r\n        System.out.println(row); // better than another for loop as it&#39;s already built in.\r\n    }\r\n}\r\n```","title":"console program","body":"<pre class=\"lang-java prettyprint-override\"><code>public static void crosses(int height, int length, char main, char filler, boolean pattern) {\n    char[][] output = new char[height][length];\n    if(pattern == false) {\n        for(int i = 0; i&lt;length; i++) {\n            for (int j = 0; j &lt; height; j++) {\n                if (j == (i - 2) || j == (i + 2) || j == (height - i - 3) || j == (height - i + 1)) {\n                    output[i][j] = main;\n                }\n                else {\n                    output[i][j] = filler;\n                }\n            }\n        }\n    }\n    for (char[] row : output) {\n        for (char c : row) {\n            System.out.print(c);\n        }\n        System.out.println();\n    }\n}\n</code></pre>\n<p>The above works as close to your code as possible, but here are a few improvements to the way you wrote it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static char[][] crosses(int height, int length, char main, char filler, boolean pattern) {\n    char[][] output = new char[height][length];\n    if (pattern) {\n        for (char[] row : output) { Arrays.fill(row, filler); }\n        return output; // I made an assumption that if true, the output should be filled with filler only.\n    }\n    // no need to do pattern == false, just leave using return if true.\n    for(int i = 0; i&lt;length; i++) {\n        for (int j = 0; j &lt; height; j++) {\n            if (j == (i - 2) || j == (i + 2) || j == (height - i - 3) || j == (height - i + 1)) {\n                output[i][j] = main;\n            }\n            else {\n                output[i][j] = filler;\n            }\n        }\n    }\n    return output; // Better to delegate the print to the caller, so they can decide how to print it.\n}\n\npublic static void main(String[] args) {\n    char[][] result = crosses(12, 12, 'x', '.', false);\n    for (char[] row : result) {\n        System.out.println(row); // better than another for loop as it's already built in.\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user20331188"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669142477,"creation_date":1668909691,"question_id":74505154,"body_markdown":"amking a tile console generator\r\n\r\nMy code so far is:\r\n\r\n    // if true\r\n\t\t\tif(pattern == true) {\r\n\t\t\tfor(int i=0;i&lt;length;i++) {\r\n\t\t\t\tfor(int j=0;j&lt;height;j++) {\r\n\t\t\t\t\tif(j%3 == 0) {\r\n\t\t\t\t\t\toutput[i][j] += main;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tif(i%3 == 0) {\r\n\t\t\t\t\t\t\toutput[i][j]+=main;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\toutput[i][j] += filler;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\toutput[i][j]+= &quot;\\n&quot;;\r\n\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\r\n\r\n\r\n\r\nI tried using a temp variable to increment but had no luck with the issue stated above\r\n","title":"console program","body":"<p>amking a tile console generator</p>\n<p>My code so far is:</p>\n<pre><code>// if true\n        if(pattern == true) {\n        for(int i=0;i&lt;length;i++) {\n            for(int j=0;j&lt;height;j++) {\n                if(j%3 == 0) {\n                    output[i][j] += main;\n                }\n                else {\n                    if(i%3 == 0) {\n                        output[i][j]+=main;\n                    }\n                    else {\n                        output[i][j] += filler;\n                    }\n                }\n            }\n            output[i][j]+= &quot;\\n&quot;;\n        }\n        }\n</code></pre>\n<p>I tried using a temp variable to increment but had no luck with the issue stated above</p>\n"},{"tags":["java","switch-statement","operator-keyword"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":2,"creation_date":1669029273,"post_id":74518019,"comment_id":131542015,"body_markdown":"Note that nextInt(3) will never return 3. See the [javadoc](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Random.html#nextInt(int)): *Returns a pseudorandom, uniformly distributed int value between 0 (inclusive) and the specified value (exclusive)*. And you don&#39;t change `operatorswitch` between the questions so I&#39;m not sure why you expect it to change...","body":"Note that nextInt(3) will never return 3. See the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Random.html#nextInt(int)\" rel=\"nofollow noreferrer\">javadoc</a>: <i>Returns a pseudorandom, uniformly distributed int value between 0 (inclusive) and the specified value (exclusive)</i>. And you don&#39;t change <code>operatorswitch</code> between the questions so I&#39;m not sure why you expect it to change..."},{"owner":{"account_id":26981642,"reputation":35,"user_id":20545889,"display_name":"Lau"},"score":0,"creation_date":1669034966,"post_id":74518019,"comment_id":131544012,"body_markdown":"what am i supposed to change it to to generate another random operator?","body":"what am i supposed to change it to to generate another random operator?"},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":1,"creation_date":1669035842,"post_id":74518019,"comment_id":131544353,"body_markdown":"You could write a `getRandomOperator` method that returns a random operatorSwitch - and in the last piece of code, you need to write `String operatorSwitch = getRandomOperator();` before each question.","body":"You could write a <code>getRandomOperator</code> method that returns a random operatorSwitch - and in the last piece of code, you need to write <code>String operatorSwitch = getRandomOperator();</code> before each question."}],"answers":[{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669141732,"creation_date":1669141732,"answer_id":74537465,"question_id":74518019,"body_markdown":"Note that nextInt(3) will never return 3. See the [javadoc](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Random.html#nextInt(int)):\r\n\r\n&gt; Returns a pseudorandom, uniformly distributed int value between 0 (inclusive) and the specified value (exclusive).\r\n\r\nSeparately, you don&#39;t change `operatorswitch` between the questions so its value won&#39;t change.\r\n\r\nOne solution would be to write a `getRandomOperator()` method that returns a random `operatorSwitch` - and in the last piece of code, you can then call that method before each question.","title":"Hvaing trouble generating new random operator","body":"<p>Note that nextInt(3) will never return 3. See the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Random.html#nextInt(int)\" rel=\"nofollow noreferrer\">javadoc</a>:</p>\n<blockquote>\n<p>Returns a pseudorandom, uniformly distributed int value between 0 (inclusive) and the specified value (exclusive).</p>\n</blockquote>\n<p>Separately, you don't change <code>operatorswitch</code> between the questions so its value won't change.</p>\n<p>One solution would be to write a <code>getRandomOperator()</code> method that returns a random <code>operatorSwitch</code> - and in the last piece of code, you can then call that method before each question.</p>\n"}],"owner":{"account_id":26981642,"reputation":35,"user_id":20545889,"display_name":"Lau"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1669141732,"creation_date":1669029135,"question_id":74518019,"body_markdown":"Im trying to generate a random operator for every line;\r\n\r\nmy code for generating a random operator is;\r\n\r\n    Random operatorChoice = new Random();\r\n    int operator = operatorChoice.nextInt(3);\r\n    \r\n\t int b = (0);\r\n\t int c = (0);\r\n\t \r\n String operatorSwitch;\r\n\r\n\t\t \r\n\t    switch (operator){// generates random operators\r\n\t\r\n\t        case 0: operatorSwitch= &quot;+&quot;;\r\n\t         \r\n\t            c = (int) (firstNumbereasy+secondNumbereasy);\r\n\t            break;\r\n\t        case 1: operatorSwitch= &quot;-&quot;;\r\n\t            c = (int) (firstNumbereasy-secondNumbereasy);\r\n\t            break;\r\n\t        case 2: operatorSwitch= &quot;*&quot;;\r\n\t            c = (int) (firstNumbereasy*secondNumbereasy);\r\n\t            break;\r\n\t        case 3: operatorSwitch= &quot;/&quot;;\r\n\t            c = (int) (firstNumbereasy/secondNumbereasy);\r\n\t            \r\n\t       default: operatorSwitch = &quot;&quot;;\r\n\t               \r\n\t      \r\n\t    }\r\n\r\nTrying to print two different random operators:\r\n\r\n    &gt; System.out.println(&quot;Question 1, what is &quot; + firstNumbereasy +operatorSwitch+ secondNumbereasy );\r\n    \t\t     b= scanner.nextInt();\r\n    \t          \r\n    \t\t     \r\n    \t\t     firstNumbereasy = randN.nextInt(9)+2; \r\n    \t\t     secondNumbereasy= randN.nextInt(firstNumbereasy - 1); \r\n\r\n    \t\t     System.out.println(&quot;Question 2, what is &quot; + firstNumbereasy + operatorSwitch + secondNumbereasy); \r\n    \t\t\tb = scanner.nextInt();`\r\n\r\nbut the same operator is being generated for both question 1 and 2\r\n\r\n\r\n","title":"Hvaing trouble generating new random operator","body":"<p>Im trying to generate a random operator for every line;</p>\n<p>my code for generating a random operator is;</p>\n<pre><code>Random operatorChoice = new Random();\nint operator = operatorChoice.nextInt(3);\n\n int b = (0);\n int c = (0);\n \n</code></pre>\n<p>String operatorSwitch;</p>\n<pre><code>    switch (operator){// generates random operators\n\n        case 0: operatorSwitch= &quot;+&quot;;\n         \n            c = (int) (firstNumbereasy+secondNumbereasy);\n            break;\n        case 1: operatorSwitch= &quot;-&quot;;\n            c = (int) (firstNumbereasy-secondNumbereasy);\n            break;\n        case 2: operatorSwitch= &quot;*&quot;;\n            c = (int) (firstNumbereasy*secondNumbereasy);\n            break;\n        case 3: operatorSwitch= &quot;/&quot;;\n            c = (int) (firstNumbereasy/secondNumbereasy);\n            \n       default: operatorSwitch = &quot;&quot;;\n               \n      \n    }\n</code></pre>\n<p>Trying to print two different random operators:</p>\n<pre><code>&gt; System.out.println(&quot;Question 1, what is &quot; + firstNumbereasy +operatorSwitch+ secondNumbereasy );\n             b= scanner.nextInt();\n              \n             \n             firstNumbereasy = randN.nextInt(9)+2; \n             secondNumbereasy= randN.nextInt(firstNumbereasy - 1); \n\n             System.out.println(&quot;Question 2, what is &quot; + firstNumbereasy + operatorSwitch + secondNumbereasy); \n            b = scanner.nextInt();`\n</code></pre>\n<p>but the same operator is being generated for both question 1 and 2</p>\n"},{"tags":["java","loops"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1668885959,"post_id":74502795,"comment_id":131516922,"body_markdown":"You tagged the question with `loops`, so it seems you already know that will be part of the solution. How about `long number = -1; while (number &lt; 0 || number &gt; 25) { System.out.print (&quot;Enter a number ` and so on?","body":"You tagged the question with <code>loops</code>, so it seems you already know that will be part of the solution. How about <code>long number = -1; while (number &lt; 0 || number &gt; 25) { System.out.print (&quot;Enter a number </code> and so on?"}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668886381,"creation_date":1668886381,"answer_id":74503047,"question_id":74502795,"body_markdown":"To simplify the logic, you could extract it to the separate method. The logic itself is pretty strightforward:\r\n\r\n - in loop\r\n - ask a number\r\n - check if the number within the bounds\r\n - if not repeate or return if yes\r\n\r\n```java\r\npublic static void main(String... args) {\r\n    Scanner scan = new Scanner(System.in);\r\n\r\n    int num = getNumberWithin(scan, 1, 25);\r\n}\r\n\r\nprivate static int getNumberWithin(Scanner scan, int lo, int hi) {\r\n    while (true) {\r\n        System.out.format(&quot;Enter a number between %d and %d: &quot;, lo, hi);\r\n        int num = scan.nextInt();\r\n\r\n        if (num &gt;= lo &amp;&amp; num &lt;= hi)\r\n            return num;\r\n\r\n        System.err.format(&quot;The number should be between %d and %d\\n&quot;, lo, hi);\r\n        System.out.println();\r\n    }\r\n}\r\n```","title":"Trying to return user to scanner to re enter a number if value falls out of range (&lt;25)","body":"<p>To simplify the logic, you could extract it to the separate method. The logic itself is pretty strightforward:</p>\n<ul>\n<li>in loop</li>\n<li>ask a number</li>\n<li>check if the number within the bounds</li>\n<li>if not repeate or return if yes</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String... args) {\n    Scanner scan = new Scanner(System.in);\n\n    int num = getNumberWithin(scan, 1, 25);\n}\n\nprivate static int getNumberWithin(Scanner scan, int lo, int hi) {\n    while (true) {\n        System.out.format(&quot;Enter a number between %d and %d: &quot;, lo, hi);\n        int num = scan.nextInt();\n\n        if (num &gt;= lo &amp;&amp; num &lt;= hi)\n            return num;\n\n        System.err.format(&quot;The number should be between %d and %d\\n&quot;, lo, hi);\n        System.out.println();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":19501442,"reputation":2332,"user_id":14267427,"display_name":"Tyler2P"},"score":0,"creation_date":1669141626,"post_id":74504142,"comment_id":131575499,"body_markdown":"Your answer could be improved by adding more information on what the code does and how it helps the OP.","body":"Your answer could be improved by adding more information on what the code does and how it helps the OP."}],"tags":[],"owner":{"account_id":26981642,"reputation":35,"user_id":20545889,"display_name":"Lau"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669141732,"creation_date":1668895728,"answer_id":74504142,"question_id":74502795,"body_markdown":"```\r\nboolean correctInputn = false;\r\n\r\nwhile(!correctInputn)\r\n{\r\n  long number;// declares variables for storing number\r\n  long factorial = 1;// declare variable for storing factorial\r\n    \r\n\r\n  System.out.println(&quot;Enter a number between 1 and 25&quot;); // tells user to enter number\r\n  number = scanner.nextLong();\r\n    \r\n  if (number &lt;0) {\r\n    System.out.println(&quot;Positive numbers only&quot;); // if number entered is negative\r\n    correctInputn = false;\r\n    continue; // if user enters number less than 0 loops back to code start\r\n  } else if (number &gt; 25) {\r\n    System.out.println(&quot;Number to large to print&quot;);\r\n    correctInputn = false;\r\n    continue; // if user enters number over 25 loops back to code start\r\n  } else  {\r\n    // if user enter 10, counter starts at 10 and runs to two\r\n    for(long mynumber = number; mynumber &gt;= 1; mynumber--) {\r\n      factorial = factorial * mynumber; // mynumber would contain different values and that is multiplied by value present in factorial value and stored again in factorial variable\r\n    }\r\n    \r\n    System.out.println(&quot;The factorial of &quot; + number +&quot; is equal to &quot; + factorial);\r\n    break;\r\n  }\r\n}\r\n```","title":"Trying to return user to scanner to re enter a number if value falls out of range (&lt;25)","body":"<pre><code>boolean correctInputn = false;\n\nwhile(!correctInputn)\n{\n  long number;// declares variables for storing number\n  long factorial = 1;// declare variable for storing factorial\n    \n\n  System.out.println(&quot;Enter a number between 1 and 25&quot;); // tells user to enter number\n  number = scanner.nextLong();\n    \n  if (number &lt;0) {\n    System.out.println(&quot;Positive numbers only&quot;); // if number entered is negative\n    correctInputn = false;\n    continue; // if user enters number less than 0 loops back to code start\n  } else if (number &gt; 25) {\n    System.out.println(&quot;Number to large to print&quot;);\n    correctInputn = false;\n    continue; // if user enters number over 25 loops back to code start\n  } else  {\n    // if user enter 10, counter starts at 10 and runs to two\n    for(long mynumber = number; mynumber &gt;= 1; mynumber--) {\n      factorial = factorial * mynumber; // mynumber would contain different values and that is multiplied by value present in factorial value and stored again in factorial variable\n    }\n    \n    System.out.println(&quot;The factorial of &quot; + number +&quot; is equal to &quot; + factorial);\n    break;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":26981642,"reputation":35,"user_id":20545889,"display_name":"Lau"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":74504142,"answer_count":2,"score":0,"last_activity_date":1669141732,"creation_date":1668884237,"question_id":74502795,"body_markdown":"Im trying to configure my code to tell the user to re enter a number, taking them back to the scanner if it falls outside of my specified range of 25\r\n\r\n```java\r\nlong number;// declares variables for storing number\r\nlong factorial = 1;// declare variable for storing factorial\r\n\r\nSystem.out.println(&quot;Enter a number between 1 and 25&quot;); // tells user to enter number\r\nnumber = scanner.nextLong();\r\n\r\n\r\nif (number &lt;0)  \r\n\t\r\n System.out.println(&quot;Positive numbers only&quot;);// if number entered is negative\r\n\r\nelse if (number &gt; 25)\r\n\t\r\n\tSystem.out.println(&quot;Number to large to print&quot;);\r\n\t\r\n\r\nelse if (number &lt;= 1)// if number entered is 0 or 1 \r\n\tSystem.out.printf(&quot;The factorial of &quot; + number+ &quot; is equal to &quot; + factorial);\r\nelse {\r\n  // if user enter 10, counter starts at 10 and runs to two\r\n\tfor(long mynumber = number; mynumber &gt;= 1; mynumber--) {\r\n\t\tfactorial = factorial*mynumber; // mynumber would contain different values and that is multiplied by value present in factorial value and storing again in factorial variable\r\n\t}\r\n\r\nSystem.out.println(&quot;The factorial of &quot; + number +&quot; is equal to &quot; + factorial);\r\n}\r\n```\r\n\r\n","title":"Trying to return user to scanner to re enter a number if value falls out of range (&lt;25)","body":"<p>Im trying to configure my code to tell the user to re enter a number, taking them back to the scanner if it falls outside of my specified range of 25</p>\n<pre class=\"lang-java prettyprint-override\"><code>long number;// declares variables for storing number\nlong factorial = 1;// declare variable for storing factorial\n\nSystem.out.println(&quot;Enter a number between 1 and 25&quot;); // tells user to enter number\nnumber = scanner.nextLong();\n\n\nif (number &lt;0)  \n    \n System.out.println(&quot;Positive numbers only&quot;);// if number entered is negative\n\nelse if (number &gt; 25)\n    \n    System.out.println(&quot;Number to large to print&quot;);\n    \n\nelse if (number &lt;= 1)// if number entered is 0 or 1 \n    System.out.printf(&quot;The factorial of &quot; + number+ &quot; is equal to &quot; + factorial);\nelse {\n  // if user enter 10, counter starts at 10 and runs to two\n    for(long mynumber = number; mynumber &gt;= 1; mynumber--) {\n        factorial = factorial*mynumber; // mynumber would contain different values and that is multiplied by value present in factorial value and storing again in factorial variable\n    }\n\nSystem.out.println(&quot;The factorial of &quot; + number +&quot; is equal to &quot; + factorial);\n}\n</code></pre>\n"},{"tags":["java","jvm","java-11"],"comments":[{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1669144888,"post_id":74536733,"comment_id":131576499,"body_markdown":"If CPU profiler shows the most time is spent in JIT compilation, this does not yet mean a performance problem. This is absolutely normal, especially at an early stage after the program starts. JIT compiler works in a background.","body":"If CPU profiler shows the most time is spent in JIT compilation, this does not yet mean a performance problem. This is absolutely normal, especially at an early stage after the program starts. JIT compiler works in a background."}],"answers":[{"comments":[{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":1,"creation_date":1669214490,"post_id":74537447,"comment_id":131594171,"body_markdown":"@emitrax You can use `-Xlog:help` for the doc, or look here: https://docs.oracle.com/en/java/javase/19/docs/specs/man/java.html#enable-logging-with-the-jvm-unified-logging-framework There&#39;s no documentation on the format of this specific log message AFAIA. I got the information in the answer by looking at the source code (https://github.com/openjdk/jdk/blob/0d93ab9dff04409469faa26d5cdb29c4d6488537/src/hotspot/share/compiler/compileTask.cpp#L252)","body":"@emitrax You can use <code>-Xlog:help</code> for the doc, or look here: <a href=\"https://docs.oracle.com/en/java/javase/19/docs/specs/man/java.html#enable-logging-with-the-jvm-unified-logging-framework\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/19/docs/specs/man/&hellip;</a> There&#39;s no documentation on the format of this specific log message AFAIA. I got the information in the answer by looking at the source code (<a href=\"https://github.com/openjdk/jdk/blob/0d93ab9dff04409469faa26d5cdb29c4d6488537/src/hotspot/share/compiler/compileTask.cpp#L252\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/blob/&hellip;</a>)"}],"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669141652,"creation_date":1669141652,"answer_id":74537447,"question_id":74536733,"body_markdown":"Yes, you can for instance use the `-Xlog:jit+compilation=debug:file=comp_log_%p.txt` VM flag to log compilations. This will write the log to the `comp_log_[pid].txt` file.\r\n\r\nThe output looks something like this:\r\n\r\n    [0.032s][debug][jit,compilation]    1       3       java.lang.String::charAt (25 bytes)\r\n    [0.032s][debug][jit,compilation]    2       3       java.lang.StringLatin1::charAt (15 bytes)\r\n    [0.033s][debug][jit,compilation]    7       3       java.lang.StringLatin1::hashCode (42 bytes)\r\n    [0.033s][debug][jit,compilation]    5       3       java.lang.Object::&lt;init&gt; (1 bytes)\r\n    [0.033s][debug][jit,compilation]   10       3       java.util.ImmutableCollections$SetN::probe (56 bytes)\r\n    [0.033s][debug][jit,compilation]    6       3       java.lang.String::hashCode (60 bytes)\r\n    [0.033s][debug][jit,compilation]   12       3       java.lang.StringLatin1::equals (36 bytes)\r\n    [0.034s][debug][jit,compilation]    9       3       java.lang.Math::floorMod (20 bytes)\r\n\r\nThe first number is the compilation id, the second number is the compilation level. Any compilation with a level of `4` is a C2 compilation, so that&#39;s the ones you want to look for.\r\n\r\nOther symbols in this log mean the following:\r\n\r\n - `%` = an OSR (on stack replacement) compilation\r\n - `s` = a synchronized method\r\n - `!` = compiled code has an exception handler\r\n - `b` = compilation task is blocking (for instance as a result of using `-Xbatch`)\r\n - `n` = a `native` method","title":"What is C2Compiler::compile_method compiling?","body":"<p>Yes, you can for instance use the <code>-Xlog:jit+compilation=debug:file=comp_log_%p.txt</code> VM flag to log compilations. This will write the log to the <code>comp_log_[pid].txt</code> file.</p>\n<p>The output looks something like this:</p>\n<pre><code>[0.032s][debug][jit,compilation]    1       3       java.lang.String::charAt (25 bytes)\n[0.032s][debug][jit,compilation]    2       3       java.lang.StringLatin1::charAt (15 bytes)\n[0.033s][debug][jit,compilation]    7       3       java.lang.StringLatin1::hashCode (42 bytes)\n[0.033s][debug][jit,compilation]    5       3       java.lang.Object::&lt;init&gt; (1 bytes)\n[0.033s][debug][jit,compilation]   10       3       java.util.ImmutableCollections$SetN::probe (56 bytes)\n[0.033s][debug][jit,compilation]    6       3       java.lang.String::hashCode (60 bytes)\n[0.033s][debug][jit,compilation]   12       3       java.lang.StringLatin1::equals (36 bytes)\n[0.034s][debug][jit,compilation]    9       3       java.lang.Math::floorMod (20 bytes)\n</code></pre>\n<p>The first number is the compilation id, the second number is the compilation level. Any compilation with a level of <code>4</code> is a C2 compilation, so that's the ones you want to look for.</p>\n<p>Other symbols in this log mean the following:</p>\n<ul>\n<li><code>%</code> = an OSR (on stack replacement) compilation</li>\n<li><code>s</code> = a synchronized method</li>\n<li><code>!</code> = compiled code has an exception handler</li>\n<li><code>b</code> = compilation task is blocking (for instance as a result of using <code>-Xbatch</code>)</li>\n<li><code>n</code> = a <code>native</code> method</li>\n</ul>\n"}],"owner":{"account_id":949966,"reputation":394,"user_id":976311,"accept_rate":50,"display_name":"emitrax"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74537447,"answer_count":1,"score":1,"last_activity_date":1669141652,"creation_date":1669137803,"question_id":74536733,"body_markdown":"I collected the Flamegraph of the execution of a Unit Test I&#39;ve written in Java and 90% of the time is being spent in compiling the code `C2Compiler::compile_method`.\r\n\r\nIs there a way to figure out what exactly is compiling? Which Methods?","title":"What is C2Compiler::compile_method compiling?","body":"<p>I collected the Flamegraph of the execution of a Unit Test I've written in Java and 90% of the time is being spent in compiling the code <code>C2Compiler::compile_method</code>.</p>\n<p>Is there a way to figure out what exactly is compiling? Which Methods?</p>\n"},{"tags":["java","maven-3","java-11","maven-surefire-plugin"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":2,"creation_date":1669140507,"post_id":74537220,"comment_id":131575119,"body_markdown":"I can&#39;t read that error screenshot.  This is a big, broad problem.  You&#39;ve waited too long to upgrade.","body":"I can&#39;t read that error screenshot.  This is a big, broad problem.  You&#39;ve waited too long to upgrade."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1669145028,"post_id":74537220,"comment_id":131576536,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1669191817,"post_id":74537220,"comment_id":131585986,"body_markdown":"First Upgrade your testng version also upgrade surefire-plugin version to most recent version (3.0.0-M7). Why are those `--add-opens` needed? Also the sonar-maven-plugin is too old (https://search.maven.org/artifact/org.sonarsource.scanner.maven/sonar-maven-plugin). Which Maven version do you use? Are all plugins uptodate? Check here: https://maven.apache.org/plugins/","body":"First Upgrade your testng version also upgrade surefire-plugin version to most recent version (3.0.0-M7). Why are those <code>--add-opens</code> needed? Also the sonar-maven-plugin is too old (<a href=\"https://search.maven.org/artifact/org.sonarsource.scanner.maven/sonar-maven-plugin\" rel=\"nofollow noreferrer\">search.maven.org/artifact/org.sonarsource.scanner.maven/&hellip;</a>). Which Maven version do you use? Are all plugins uptodate? Check here: <a href=\"https://maven.apache.org/plugins/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins</a>"}],"owner":{"display_name":"user20574819"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669140434,"creation_date":1669140357,"question_id":74537220,"body_markdown":"Error:\r\n\r\n[![error image][1]][1]\r\n\r\n[![second error][2]][2]\r\n\r\nI am trying to upgrade jdk from 1.8 to 11. But it is giving me an error.\r\n\r\nTest cases are getting failed.\r\n\r\n\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;surefire&lt;/id&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;2.22.2&lt;/version&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;suiteXmlFiles&gt;\r\n                                &lt;suiteXmlFile&gt;TestNG.xml&lt;/suiteXmlFile&gt;\r\n                            &lt;/suiteXmlFiles&gt;\r\n                            &lt;argLine&gt;\r\n                --add-opens java.xml/jdk.xml.internal=ALL-UNNAMED\r\n                -Xmx1024m&lt;/argLine&gt;\r\n                            &lt;forkCount&gt;1&lt;/forkCount&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n\r\nManager:\r\n\r\n    &lt;pluginManagement&gt;\r\n       &lt;plugins&gt;\r\n          &lt;!-- not required this plugin --&gt;\r\n          &lt;plugin&gt;\r\n             &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n             &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n             &lt;version&gt;2.22.2&lt;/version&gt;\r\n             &lt;configuration&gt;\r\n                &lt;skipTests&gt;false&lt;/skipTests&gt;\r\n                &lt;argLine&gt;\r\n                   --add-opens java.xml/jdk.xml.internal=ALL-UNNAMED\r\n                &lt;/argLine&gt;\r\n                &lt;excludes&gt;\r\n                   &lt;exclude&gt;**/*RegressionTest.java&lt;/exclude&gt;\r\n                &lt;/excludes&gt;\r\n    \r\n                &lt;forkCount&gt;1&lt;/forkCount&gt;\r\n             &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n    \r\n          &lt;plugin&gt;\r\n             &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\r\n             &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\r\n             &lt;version&gt;3.3.0.603&lt;/version&gt;\r\n          &lt;/plugin&gt;\r\n       &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n\r\n\r\nI have tried with changing the surefire version. So issue get changed. But I am not able to get the solution for the above error.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/87rJi.png\r\n  [2]: https://i.stack.imgur.com/r7w0y.png","title":"While Upgrading JDK version from 8 to 11 for the maven project, test is getting failed","body":"<p>Error:</p>\n<p><a href=\"https://i.stack.imgur.com/87rJi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/87rJi.png\" alt=\"error image\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/r7w0y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r7w0y.png\" alt=\"second error\" /></a></p>\n<p>I am trying to upgrade jdk from 1.8 to 11. But it is giving me an error.</p>\n<p>Test cases are getting failed.</p>\n<pre><code>&lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;surefire&lt;/id&gt;\n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.22.2&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;suiteXmlFiles&gt;\n                            &lt;suiteXmlFile&gt;TestNG.xml&lt;/suiteXmlFile&gt;\n                        &lt;/suiteXmlFiles&gt;\n                        &lt;argLine&gt;\n            --add-opens java.xml/jdk.xml.internal=ALL-UNNAMED\n            -Xmx1024m&lt;/argLine&gt;\n                        &lt;forkCount&gt;1&lt;/forkCount&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n<p>Manager:</p>\n<pre><code>&lt;pluginManagement&gt;\n   &lt;plugins&gt;\n      &lt;!-- not required this plugin --&gt;\n      &lt;plugin&gt;\n         &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n         &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n         &lt;version&gt;2.22.2&lt;/version&gt;\n         &lt;configuration&gt;\n            &lt;skipTests&gt;false&lt;/skipTests&gt;\n            &lt;argLine&gt;\n               --add-opens java.xml/jdk.xml.internal=ALL-UNNAMED\n            &lt;/argLine&gt;\n            &lt;excludes&gt;\n               &lt;exclude&gt;**/*RegressionTest.java&lt;/exclude&gt;\n            &lt;/excludes&gt;\n\n            &lt;forkCount&gt;1&lt;/forkCount&gt;\n         &lt;/configuration&gt;\n      &lt;/plugin&gt;\n\n      &lt;plugin&gt;\n         &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\n         &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\n         &lt;version&gt;3.3.0.603&lt;/version&gt;\n      &lt;/plugin&gt;\n   &lt;/plugins&gt;\n&lt;/pluginManagement&gt;\n</code></pre>\n<p>I have tried with changing the surefire version. So issue get changed. But I am not able to get the solution for the above error.</p>\n"},{"tags":["java","ant","build","jar","ivy"],"answers":[{"comments":[{"owner":{"account_id":311542,"reputation":16271,"user_id":625189,"accept_rate":92,"display_name":"Jaanus"},"score":0,"creation_date":1315303592,"post_id":7317961,"comment_id":8821399,"body_markdown":"Still same error, maybe the problem is because my ivy cache and library are downloaded to {user.home}/.ant .. or somethin like that .. I added ivy build.properties to question.","body":"Still same error, maybe the problem is because my ivy cache and library are downloaded to {user.home}/.ant .. or somethin like that .. I added ivy build.properties to question."}],"tags":[],"owner":{"account_id":307723,"reputation":926,"user_id":619189,"display_name":"Alexey Kiselev"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1315302483,"creation_date":1315302483,"answer_id":7317961,"question_id":7313316,"body_markdown":"Your update target should invoke ivy:resolve task after ivy:settings.\r\n\r\n    &lt;target name=&quot;update&quot; depends=&quot;init-ivy&quot; description=&quot;Download project dependencies&quot;&gt;\r\n      &lt;ivy:settings file=&quot;ivysettings.xml&quot; /&gt;\r\n      &lt;ivy:resolve conf=&quot;default&quot; /&gt;\r\n      &lt;ivy:retrieve pattern=&quot;war/WEB-INF/lib/[artifact]-[revision].[ext]&quot; /&gt;\r\n    &lt;/target&gt;\r\n\r\n","title":"Using a custom repository with Apache Ivy, no resolver found","body":"<p>Your update target should invoke ivy:resolve task after ivy:settings.</p>\n\n<pre><code>&lt;target name=\"update\" depends=\"init-ivy\" description=\"Download project dependencies\"&gt;\n  &lt;ivy:settings file=\"ivysettings.xml\" /&gt;\n  &lt;ivy:resolve conf=\"default\" /&gt;\n  &lt;ivy:retrieve pattern=\"war/WEB-INF/lib/[artifact]-[revision].[ext]\" /&gt;\n&lt;/target&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":311542,"reputation":16271,"user_id":625189,"accept_rate":92,"display_name":"Jaanus"},"score":0,"creation_date":1315577689,"post_id":7362756,"comment_id":8884978,"body_markdown":"Wow thanks, this helped, I was hoping that you would answer Mark :) Now this does not use the ivyroundup, but uses the maven central library right? It is fine, as long as there are the newest libraries :)","body":"Wow thanks, this helped, I was hoping that you would answer Mark :) Now this does not use the ivyroundup, but uses the maven central library right? It is fine, as long as there are the newest libraries :)"},{"owner":{"account_id":93866,"reputation":76253,"user_id":256618,"display_name":"Mark O&#39;Connor"},"score":0,"creation_date":1315594433,"post_id":7362756,"comment_id":8889769,"body_markdown":"Yes my example uses maven central. No disrepect to the ivyroundup project but they&#39;re always going to play catch up. Springsource have their own maven repo but they&#39;ve now releasing to maven central","body":"Yes my example uses maven central. No disrepect to the ivyroundup project but they&#39;re always going to play catch up. Springsource have their own maven repo but they&#39;ve now releasing to maven central"},{"owner":{"account_id":311542,"reputation":16271,"user_id":625189,"accept_rate":92,"display_name":"Jaanus"},"score":0,"creation_date":1315632472,"post_id":7362756,"comment_id":8895168,"body_markdown":"Oh yeah, actually it doesn&#39;t matter if I use ivyroundup or any other repo as long as I get my artifacts lol. thanks","body":"Oh yeah, actually it doesn&#39;t matter if I use ivyroundup or any other repo as long as I get my artifacts lol. thanks"}],"tags":[],"owner":{"account_id":93866,"reputation":76253,"user_id":256618,"display_name":"Mark O&#39;Connor"},"comment_count":3,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1315577765,"creation_date":1315576626,"answer_id":7362756,"question_id":7313316,"body_markdown":"[Ivyroundup][1] is designed around the [packager resolver][2] in ivy. This resolver is incredibly clever, demonstrates the true power of ivy, but the bulk of the world uses Maven repositories to host their software. Fact is soon Maven Central will contain nearly [90% of the world&#39;s Java open source][3] components.\r\n\r\nEnabling Maven repositories\r\n---------------------------\r\nThankfully, ivy fully understands Maven repositories, meaning we can use ivy as a client and let very good products like [Nexus][4] host the repository. Here&#39;s the settings file that enables Maven Central:\r\n\r\n    &lt;ivysettings&gt;\r\n      &lt;settings defaultResolver=&#39;central&#39;/&gt;\r\n      &lt;resolvers&gt;\r\n        &lt;ibiblio name=&#39;central&#39; m2compatible=&#39;true&#39;/&gt;\r\n      &lt;/resolvers&gt;\r\n    &lt;/ivysettings&gt;\r\n\r\nI would highly recommend you consider setting up you own local instance of [Nexus][5] (Or [Artifactory][6], or [Archiva][7]...). You can then cache Maven central artifacts (more efficient), search for software components and upload and host artifacts which cannot be downloaded, due to license restrictions (JDBC jars).\r\n\r\nEnabling a local repository manager also uses the *ibiblio* resolver as follows:\r\n\r\n    &lt;ivysettings&gt;\r\n      &lt;settings defaultResolver=&#39;nexus&#39;/&gt;\r\n      &lt;resolvers&gt;\r\n        &lt;ibiblio name=&#39;nexus&#39; m2compatible=&#39;true&#39; root=&#39;https://nexus.mydomain.com:8081/nexus/content/groups/central/&#39; /&gt;\r\n      &lt;/resolvers&gt;\r\n    &lt;/ivysettings&gt;\r\n\r\nSearching Maven Central (New ivy support features)\r\n------------------------------------------\r\n\r\nYou&#39;re looking for the Spring 3.0.6 release? It&#39;s already in Maven Central:\r\n\r\nhttp://search.maven.org/#search|ga|1|g%3A%22org.springframework%22%20AND%20v%3A%223.0.6.RELEASE%22\r\n\r\nThe Spring core artifact details are here:\r\n\r\nhttp://search.maven.org/#artifactdetails|org.springframework|spring-core|3.0.6.RELEASE|jar\r\n\r\nThe search page now conveniently gives you both the Maven and ivy client declaration to copy into your build:\r\n\r\n    &lt;dependency org=&quot;org.springframework&quot; name=&quot;spring-core&quot; rev=&quot;3.0.6.RELEASE&quot; &gt;\r\n        &lt;artifact name=&quot;spring-core&quot; type=&quot;jar&quot; /&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  [1]: http://code.google.com/p/ivyroundup/\r\n  [2]: http://ant.apache.org/ivy/history/latest-milestone/resolver/packager.html\r\n  [3]: http://www.sonatype.com/people/2011/09/8942/\r\n  [4]: http://nexus.sonatype.org/\r\n  [5]: http://nexus.sonatype.org/\r\n  [6]: http://www.jfrog.com/products.php\r\n  [7]: http://archiva.apache.org/","title":"Using a custom repository with Apache Ivy, no resolver found","body":"<p><a href=\"http://code.google.com/p/ivyroundup/\" rel=\"noreferrer\">Ivyroundup</a> is designed around the <a href=\"http://ant.apache.org/ivy/history/latest-milestone/resolver/packager.html\" rel=\"noreferrer\">packager resolver</a> in ivy. This resolver is incredibly clever, demonstrates the true power of ivy, but the bulk of the world uses Maven repositories to host their software. Fact is soon Maven Central will contain nearly <a href=\"http://www.sonatype.com/people/2011/09/8942/\" rel=\"noreferrer\">90% of the world's Java open source</a> components.</p>\n\n<h2>Enabling Maven repositories</h2>\n\n<p>Thankfully, ivy fully understands Maven repositories, meaning we can use ivy as a client and let very good products like <a href=\"http://nexus.sonatype.org/\" rel=\"noreferrer\">Nexus</a> host the repository. Here's the settings file that enables Maven Central:</p>\n\n<pre><code>&lt;ivysettings&gt;\n  &lt;settings defaultResolver='central'/&gt;\n  &lt;resolvers&gt;\n    &lt;ibiblio name='central' m2compatible='true'/&gt;\n  &lt;/resolvers&gt;\n&lt;/ivysettings&gt;\n</code></pre>\n\n<p>I would highly recommend you consider setting up you own local instance of <a href=\"http://nexus.sonatype.org/\" rel=\"noreferrer\">Nexus</a> (Or <a href=\"http://www.jfrog.com/products.php\" rel=\"noreferrer\">Artifactory</a>, or <a href=\"http://archiva.apache.org/\" rel=\"noreferrer\">Archiva</a>...). You can then cache Maven central artifacts (more efficient), search for software components and upload and host artifacts which cannot be downloaded, due to license restrictions (JDBC jars).</p>\n\n<p>Enabling a local repository manager also uses the <em>ibiblio</em> resolver as follows:</p>\n\n<pre><code>&lt;ivysettings&gt;\n  &lt;settings defaultResolver='nexus'/&gt;\n  &lt;resolvers&gt;\n    &lt;ibiblio name='nexus' m2compatible='true' root='https://nexus.mydomain.com:8081/nexus/content/groups/central/' /&gt;\n  &lt;/resolvers&gt;\n&lt;/ivysettings&gt;\n</code></pre>\n\n<h2>Searching Maven Central (New ivy support features)</h2>\n\n<p>You're looking for the Spring 3.0.6 release? It's already in Maven Central:</p>\n\n<p><a href=\"http://search.maven.org/#search|ga|1|g%3A%22org.springframework%22%20AND%20v%3A%223.0.6.RELEASE%22\" rel=\"noreferrer\">http://search.maven.org/#search|ga|1|g%3A%22org.springframework%22%20AND%20v%3A%223.0.6.RELEASE%22</a></p>\n\n<p>The Spring core artifact details are here:</p>\n\n<p><a href=\"http://search.maven.org/#artifactdetails|org.springframework|spring-core|3.0.6.RELEASE|jar\" rel=\"noreferrer\">http://search.maven.org/#artifactdetails|org.springframework|spring-core|3.0.6.RELEASE|jar</a></p>\n\n<p>The search page now conveniently gives you both the Maven and ivy client declaration to copy into your build:</p>\n\n<pre><code>&lt;dependency org=\"org.springframework\" name=\"spring-core\" rev=\"3.0.6.RELEASE\" &gt;\n    &lt;artifact name=\"spring-core\" type=\"jar\" /&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":178358,"reputation":25369,"user_id":410289,"accept_rate":0,"display_name":"Jackie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1351754033,"creation_date":1351754033,"answer_id":13172570,"question_id":7313316,"body_markdown":"you must have something to tell whats the default resolver, like, \r\n&amp;lt;conf defaultResolver=&quot;default&quot; /&amp;gt;\r\n","title":"Using a custom repository with Apache Ivy, no resolver found","body":"<p>you must have something to tell whats the default resolver, like, \n&lt;conf defaultResolver=\"default\" /&gt;</p>\n"},{"tags":[],"owner":{"account_id":13795134,"reputation":2762,"user_id":10440128,"display_name":"milahu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669139948,"creation_date":1669139948,"answer_id":74537152,"question_id":7313316,"body_markdown":"for sake of completeness ...\r\n\r\n`ivysettings.xml` with a chain resolver for\r\n\r\n1. https://maven.org\r\n2. https://jitpack.io/\r\n\r\n```xml\r\n&lt;ivysettings&gt;\r\n  &lt;settings defaultResolver=&quot;default-chain&quot;/&gt;\r\n  &lt;resolvers&gt;\r\n    &lt;chain name=&quot;default-chain&quot;&gt;\r\n      &lt;!-- default resolver\r\n        &lt;ibiblio name=&quot;maven.org&quot; m2compatible=&quot;true&quot; root=&quot;https://repo1.maven.org/maven2&quot;/&gt;\r\n      --&gt;\r\n      &lt;ibiblio name=&quot;maven.org&quot; m2compatible=&quot;true&quot;/&gt;\r\n      &lt;!-- resolver for github\r\n        example use in ivy.xml: https://github.com/omajid/xdg-java\r\n        &lt;dependency org=&quot;com.github.omajid&quot; name=&quot;xdg-java&quot; rev=&quot;7c623b86e6b99bef0a72db86318663ad3c0270e5&quot; conf=&quot;compile-&gt;master&quot;/&gt;\r\n      --&gt;\r\n      &lt;ibiblio name=&quot;jitpack.io&quot; m2compatible=&quot;true&quot; root=&quot;https://jitpack.io/&quot;/&gt;\r\n    &lt;/chain&gt;\r\n  &lt;/resolvers&gt;\r\n&lt;/ivysettings&gt;\r\n```\r\n","title":"Using a custom repository with Apache Ivy, no resolver found","body":"<p>for sake of completeness ...</p>\n<p><code>ivysettings.xml</code> with a chain resolver for</p>\n<ol>\n<li><a href=\"https://maven.org\" rel=\"nofollow noreferrer\">https://maven.org</a></li>\n<li><a href=\"https://jitpack.io/\" rel=\"nofollow noreferrer\">https://jitpack.io/</a></li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;ivysettings&gt;\n  &lt;settings defaultResolver=&quot;default-chain&quot;/&gt;\n  &lt;resolvers&gt;\n    &lt;chain name=&quot;default-chain&quot;&gt;\n      &lt;!-- default resolver\n        &lt;ibiblio name=&quot;maven.org&quot; m2compatible=&quot;true&quot; root=&quot;https://repo1.maven.org/maven2&quot;/&gt;\n      --&gt;\n      &lt;ibiblio name=&quot;maven.org&quot; m2compatible=&quot;true&quot;/&gt;\n      &lt;!-- resolver for github\n        example use in ivy.xml: https://github.com/omajid/xdg-java\n        &lt;dependency org=&quot;com.github.omajid&quot; name=&quot;xdg-java&quot; rev=&quot;7c623b86e6b99bef0a72db86318663ad3c0270e5&quot; conf=&quot;compile-&gt;master&quot;/&gt;\n      --&gt;\n      &lt;ibiblio name=&quot;jitpack.io&quot; m2compatible=&quot;true&quot; root=&quot;https://jitpack.io/&quot;/&gt;\n    &lt;/chain&gt;\n  &lt;/resolvers&gt;\n&lt;/ivysettings&gt;\n</code></pre>\n"}],"owner":{"account_id":311542,"reputation":16271,"user_id":625189,"accept_rate":92,"display_name":"Jaanus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10360,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":7362756,"answer_count":4,"score":0,"last_activity_date":1669139948,"creation_date":1315262385,"question_id":7313316,"body_markdown":"It seems that Apache ivy downloads artifacts only from http://mvnrepository.com/ and few other places, but all the jars are outdated there.\r\n\r\nSo I am trying to add custom repository for Ivy. I am using repository Ivy RoundUp : http://code.google.com/p/ivyroundup/\r\n\r\nThis is my configuration, but getting error:\r\n\r\nbuild.xml:\r\n\r\n\t&lt;target name=&quot;update&quot; depends=&quot;init-ivy&quot; description=&quot;Download project dependencies&quot;&gt;\r\n\t    &lt;!-- edited for brevity --&gt;\r\n\t\t&lt;ivy:settings file=&quot;ivysettings.xml&quot; /&gt;\r\n\t    &lt;ivy:retrieve pattern=&quot;war/WEB-INF/lib/[artifact]-[revision].[ext]&quot; /&gt;\r\n\t    &lt;!-- edited for brevity --&gt;\r\n\t&lt;/target&gt;\r\n\r\n\r\nivy.xml :\r\n\r\n\r\n\t&lt;ivy-module version=&quot;2.0&quot;&gt;\r\n\t\t&lt;info organisation=&quot;org.apache&quot; module=&quot;hello-ivy&quot;/&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency org=&quot;org.springframework&quot; name=&quot;spring&quot; rev=&quot;3.0.6&quot; conf=&quot;default-&gt;master&quot;/&gt;\r\n\t\t\t\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/ivy-module&gt;\r\n\t\r\n\r\nivysettings.xml:\r\n\r\n\r\n\t&lt;ivysettings&gt;\r\n\t\t&lt;resolvers&gt;\r\n\t\t    &lt;packager name=&quot;roundup&quot; buildRoot=&quot;${user.home}/.ivy2/packager/build&quot; resourceCache=&quot;${user.home}/.ivy2/packager/cache&quot;&gt;\r\n\t\t        &lt;ivy pattern=&quot;http://ivyroundup.googlecode.com/svn/trunk/repo/modules/[organisation]/[module]/[revision]/ivy.xml&quot;/&gt;\r\n\t\t        &lt;artifact pattern=&quot;http://ivyroundup.googlecode.com/svn/trunk/repo/modules/[organisation]/[module]/[revision]/packager.xml&quot;/&gt;\r\n\t\t    &lt;/packager&gt;\r\n\t\t&lt;/resolvers&gt;\r\n\t&lt;/ivysettings&gt;\r\n\r\n\r\nerror:\r\n\r\n\r\n\r\n\tBuildfile: C:\\Users\\Jansu\\workspace\\HibernateSpring\\build.xml\r\n\tbuild:\r\n\tdeploywar:\r\n\t      [war] Building war: C:\\Users\\Jansu\\workspace\\HibernateSpring\\hibernate.war\r\n\t     [copy] Copying 1 file to C:\\apache-tomcat-7.0.20\\webapps\r\n\tdownload-ivy:\r\n\t      [get] Getting: http://repo2.maven.org/maven2/org/apache/ivy/ivy/2.2.0/ivy-2.2.0.jar\r\n\t      [get] To: C:\\Users\\Jansu\\.ant\\lib\\ivy-2.2.0.jar\r\n\t      [get] Not modified - so not downloaded\r\n\tinit-ivy:\r\n\tupdate:\r\n\t[ivy:retrieve] :: Ivy 2.2.0 - 20100923230623 :: http://ant.apache.org/ivy/ ::\r\n\t[ivy:retrieve] :: loading settings :: file = C:\\Users\\Jansu\\workspace\\HibernateSpring\\ivysettings.xml\r\n\t[ivy:retrieve] :: resolving dependencies :: org.apache#hello-ivy;working@Jansu-PC\r\n\t[ivy:retrieve] \tconfs: [default]\r\n\t[ivy:retrieve] :: resolution report :: resolve 110ms :: artifacts dl 0ms\r\n\t\t---------------------------------------------------------------------\r\n\t\t|                  |            modules            ||   artifacts   |\r\n\t\t|       conf       | number| search|dwnlded|evicted|| number|dwnlded|\r\n\t\t---------------------------------------------------------------------\r\n\t\t|      default     |   1   |   0   |   0   |   0   ||   0   |   0   |\r\n\t\t---------------------------------------------------------------------\r\n\t[ivy:retrieve] :: problems summary ::\r\n\t[ivy:retrieve] :::: WARNINGS\r\n\t[ivy:retrieve] \t\t::::::::::::::::::::::::::::::::::::::::::::::\r\n\t[ivy:retrieve] \t\t::          UNRESOLVED DEPENDENCIES         ::\r\n\t[ivy:retrieve] \t\t::::::::::::::::::::::::::::::::::::::::::::::\r\n\t[ivy:retrieve] \t\t:: org.springframework#spring;3.0.6: no resolver found for org.springframework#spring: check your configuration\r\n\t[ivy:retrieve] \t\t::::::::::::::::::::::::::::::::::::::::::::::\r\n\t[ivy:retrieve] \r\n\t[ivy:retrieve] :::: ERRORS\r\n\t[ivy:retrieve] \tunknown resolver null\r\n\t[ivy:retrieve] \tno resolver found for org.springframework#spring: check your configuration\r\n\t[ivy:retrieve] \r\n\t[ivy:retrieve] :: USE VERBOSE OR DEBUG MESSAGE LEVEL FOR MORE DETAILS\r\n\t\r\n\tBUILD FAILED\r\n\tC:\\Users\\Jansu\\workspace\\HibernateSpring\\build.xml:177: impossible to resolve dependencies:\r\n\t\tresolve failed - see output for details\r\n\t\r\n\tTotal time: 2 seconds\r\n\r\n\r\n**So it seems that it does not find my resolver** . I did configure the resolver like the custom repository asked me to: http://code.google.com/p/ivyroundup/wiki/HowToConfigureIvy\r\n\r\nAnd here is list of all artifacts in that repo, so you can see that Spring 3.0.6 exists in there : http://ivyroundup.googlecode.com/svn/trunk/repo/modules.xml\r\n\r\n\r\nAny suggestions? Feel free to ask more information.\r\n\r\nEDIT:\r\n\r\nbuild.properties :\r\n\r\n\tivy.install.version=2.2.0\r\n\tivy.home=${user.home}/.ant\r\n\tivy.jar.dir=${ivy.home}/lib\r\n\tivy.jar.file=${ivy.jar.dir}/ivy-${ivy.install.version}.jar","title":"Using a custom repository with Apache Ivy, no resolver found","body":"<p>It seems that Apache ivy downloads artifacts only from <a href=\"http://mvnrepository.com/\" rel=\"nofollow\">http://mvnrepository.com/</a> and few other places, but all the jars are outdated there.</p>\n\n<p>So I am trying to add custom repository for Ivy. I am using repository Ivy RoundUp : <a href=\"http://code.google.com/p/ivyroundup/\" rel=\"nofollow\">http://code.google.com/p/ivyroundup/</a></p>\n\n<p>This is my configuration, but getting error:</p>\n\n<p>build.xml:</p>\n\n<pre><code>&lt;target name=\"update\" depends=\"init-ivy\" description=\"Download project dependencies\"&gt;\n    &lt;!-- edited for brevity --&gt;\n    &lt;ivy:settings file=\"ivysettings.xml\" /&gt;\n    &lt;ivy:retrieve pattern=\"war/WEB-INF/lib/[artifact]-[revision].[ext]\" /&gt;\n    &lt;!-- edited for brevity --&gt;\n&lt;/target&gt;\n</code></pre>\n\n<p>ivy.xml :</p>\n\n<pre><code>&lt;ivy-module version=\"2.0\"&gt;\n    &lt;info organisation=\"org.apache\" module=\"hello-ivy\"/&gt;\n    &lt;dependencies&gt;\n        &lt;dependency org=\"org.springframework\" name=\"spring\" rev=\"3.0.6\" conf=\"default-&gt;master\"/&gt;\n\n    &lt;/dependencies&gt;\n&lt;/ivy-module&gt;\n</code></pre>\n\n<p>ivysettings.xml:</p>\n\n<pre><code>&lt;ivysettings&gt;\n    &lt;resolvers&gt;\n        &lt;packager name=\"roundup\" buildRoot=\"${user.home}/.ivy2/packager/build\" resourceCache=\"${user.home}/.ivy2/packager/cache\"&gt;\n            &lt;ivy pattern=\"http://ivyroundup.googlecode.com/svn/trunk/repo/modules/[organisation]/[module]/[revision]/ivy.xml\"/&gt;\n            &lt;artifact pattern=\"http://ivyroundup.googlecode.com/svn/trunk/repo/modules/[organisation]/[module]/[revision]/packager.xml\"/&gt;\n        &lt;/packager&gt;\n    &lt;/resolvers&gt;\n&lt;/ivysettings&gt;\n</code></pre>\n\n<p>error:</p>\n\n<pre><code>Buildfile: C:\\Users\\Jansu\\workspace\\HibernateSpring\\build.xml\nbuild:\ndeploywar:\n      [war] Building war: C:\\Users\\Jansu\\workspace\\HibernateSpring\\hibernate.war\n     [copy] Copying 1 file to C:\\apache-tomcat-7.0.20\\webapps\ndownload-ivy:\n      [get] Getting: http://repo2.maven.org/maven2/org/apache/ivy/ivy/2.2.0/ivy-2.2.0.jar\n      [get] To: C:\\Users\\Jansu\\.ant\\lib\\ivy-2.2.0.jar\n      [get] Not modified - so not downloaded\ninit-ivy:\nupdate:\n[ivy:retrieve] :: Ivy 2.2.0 - 20100923230623 :: http://ant.apache.org/ivy/ ::\n[ivy:retrieve] :: loading settings :: file = C:\\Users\\Jansu\\workspace\\HibernateSpring\\ivysettings.xml\n[ivy:retrieve] :: resolving dependencies :: org.apache#hello-ivy;working@Jansu-PC\n[ivy:retrieve]  confs: [default]\n[ivy:retrieve] :: resolution report :: resolve 110ms :: artifacts dl 0ms\n    ---------------------------------------------------------------------\n    |                  |            modules            ||   artifacts   |\n    |       conf       | number| search|dwnlded|evicted|| number|dwnlded|\n    ---------------------------------------------------------------------\n    |      default     |   1   |   0   |   0   |   0   ||   0   |   0   |\n    ---------------------------------------------------------------------\n[ivy:retrieve] :: problems summary ::\n[ivy:retrieve] :::: WARNINGS\n[ivy:retrieve]      ::::::::::::::::::::::::::::::::::::::::::::::\n[ivy:retrieve]      ::          UNRESOLVED DEPENDENCIES         ::\n[ivy:retrieve]      ::::::::::::::::::::::::::::::::::::::::::::::\n[ivy:retrieve]      :: org.springframework#spring;3.0.6: no resolver found for org.springframework#spring: check your configuration\n[ivy:retrieve]      ::::::::::::::::::::::::::::::::::::::::::::::\n[ivy:retrieve] \n[ivy:retrieve] :::: ERRORS\n[ivy:retrieve]  unknown resolver null\n[ivy:retrieve]  no resolver found for org.springframework#spring: check your configuration\n[ivy:retrieve] \n[ivy:retrieve] :: USE VERBOSE OR DEBUG MESSAGE LEVEL FOR MORE DETAILS\n\nBUILD FAILED\nC:\\Users\\Jansu\\workspace\\HibernateSpring\\build.xml:177: impossible to resolve dependencies:\n    resolve failed - see output for details\n\nTotal time: 2 seconds\n</code></pre>\n\n<p><strong>So it seems that it does not find my resolver</strong> . I did configure the resolver like the custom repository asked me to: <a href=\"http://code.google.com/p/ivyroundup/wiki/HowToConfigureIvy\" rel=\"nofollow\">http://code.google.com/p/ivyroundup/wiki/HowToConfigureIvy</a></p>\n\n<p>And here is list of all artifacts in that repo, so you can see that Spring 3.0.6 exists in there : <a href=\"http://ivyroundup.googlecode.com/svn/trunk/repo/modules.xml\" rel=\"nofollow\">http://ivyroundup.googlecode.com/svn/trunk/repo/modules.xml</a></p>\n\n<p>Any suggestions? Feel free to ask more information.</p>\n\n<p>EDIT:</p>\n\n<p>build.properties :</p>\n\n<pre><code>ivy.install.version=2.2.0\nivy.home=${user.home}/.ant\nivy.jar.dir=${ivy.home}/lib\nivy.jar.file=${ivy.jar.dir}/ivy-${ivy.install.version}.jar\n</code></pre>\n"},{"tags":["java","android","kotlin","gradle"],"comments":[{"owner":{"account_id":1675086,"reputation":33930,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":0,"creation_date":1669127974,"post_id":74534360,"comment_id":131570152,"body_markdown":"I haven&#39;t done android dev in a long time, but this looks pretty normal to me. Just add a `dependencies { }` block to add your dependencies","body":"I haven&#39;t done android dev in a long time, but this looks pretty normal to me. Just add a <code>dependencies { }</code> block to add your dependencies"},{"owner":{"account_id":23477658,"reputation":428,"user_id":17530237,"display_name":"kamal douma"},"score":0,"creation_date":1669128417,"post_id":74534360,"comment_id":131570341,"body_markdown":"no i thing there should be some thing like build scripts , repositories,...","body":"no i thing there should be some thing like build scripts , repositories,..."},{"owner":{"account_id":1675086,"reputation":33930,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":1,"creation_date":1669128954,"post_id":74534360,"comment_id":131570569,"body_markdown":"Well it all depends on how the general build is defined. Check the `settings.gradle(.kts)` file(s) and how they include different builds from different folders, and check the potential other `build.gradle(.kts)` files (add them to the question if you find some). `buildScript` blocks are only useful to customize the behaviour of your build file itself, but it&#39;s completely optional, and could be declared elsewhere, or entirely superseded by the `plugins{}` block you have. `repositories { }` might be declared in other places.","body":"Well it all depends on how the general build is defined. Check the <code>settings.gradle(.kts)</code> file(s) and how they include different builds from different folders, and check the potential other <code>build.gradle(.kts)</code> files (add them to the question if you find some). <code>buildScript</code> blocks are only useful to customize the behaviour of your build file itself, but it&#39;s completely optional, and could be declared elsewhere, or entirely superseded by the <code>plugins{}</code> block you have. <code>repositories { }</code> might be declared in other places."},{"owner":{"account_id":1675086,"reputation":33930,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":0,"creation_date":1669129091,"post_id":74534360,"comment_id":131570637,"body_markdown":"Note that properly structured Gradle builds shouldn&#39;t have complicated project build scripts. Lots can be done via plugins (maybe convention plugins, or compiled plugins), so the different subprojects are simple.","body":"Note that properly structured Gradle builds shouldn&#39;t have complicated project build scripts. Lots can be done via plugins (maybe convention plugins, or compiled plugins), so the different subprojects are simple."}],"answers":[{"tags":[],"owner":{"account_id":2294849,"reputation":332016,"user_id":2016562,"accept_rate":92,"display_name":"Gabriele Mariotti"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669139908,"creation_date":1669139282,"answer_id":74537023,"question_id":74534360,"body_markdown":"The `plugins` block replaced the `apply plugin` block.\r\n\r\nIt uses the syntax:\r\n\r\n    plugins {\r\n        id &#171;plugin id&#187; version &#171;plugin version&#187; [apply &#171;false&#187;]\r\n    }\r\n\r\nThe `apply` false after the plugin declaration means that it&#39;s just added to the classpath without also applying it to the project. This is useful if you want to declare all plugins and their versions in the root project.\r\n\r\nIn your case:\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39; version &#39;7.3.1&#39; apply false\r\n    }\r\n\r\nreplaces:\r\n\r\n    buildscript {\r\n      repositories {\r\n        //...\r\n      }\r\n      dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:x.x.x&#39;\r\n      }\r\n    }\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n\r\nIn the `settings.gradle` you can find the repositories used to find the plugins:\r\n\r\n    pluginManagement {\r\n        repositories {\r\n            gradlePluginPortal()\r\n            google()\r\n            mavenCentral()\r\n        }\r\n    }\r\n\r\nYou can add other repos and also other plugins in same blocks.\r\n\r\nThen in your `app/build.gradle` file you can find:\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n    }\r\n\r\nIn the same file you can add other dependencies adding the `dependencies` block:\r\n\r\n    dependencies {\r\n    \r\n        implementation &#39;androidx.core:core-ktx:1.7.0&#39;\r\n        //\r\n    }\r\n\r\nand the `repositories` block\r\n\r\n       repositories {\r\n            google()\r\n        }\r\n\r\nIn the `settings.gradle` you can find also the repositories used by the module dependencies:\r\n\r\n    dependencyResolutionManagement {\r\n        repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n        }\r\n    }\r\n\r\n","title":"my build.gradle (project-level) looks different android studio dolphin","body":"<p>The <code>plugins</code> block replaced the <code>apply plugin</code> block.</p>\n<p>It uses the syntax:</p>\n<pre><code>plugins {\n    id «plugin id» version «plugin version» [apply «false»]\n}\n</code></pre>\n<p>The <code>apply</code> false after the plugin declaration means that it's just added to the classpath without also applying it to the project. This is useful if you want to declare all plugins and their versions in the root project.</p>\n<p>In your case:</p>\n<pre><code>plugins {\n    id 'com.android.application' version '7.3.1' apply false\n}\n</code></pre>\n<p>replaces:</p>\n<pre><code>buildscript {\n  repositories {\n    //...\n  }\n  dependencies {\n    classpath 'com.android.tools.build:gradle:x.x.x'\n  }\n}\n\napply plugin: 'com.android.application'\n</code></pre>\n<p>In the <code>settings.gradle</code> you can find the repositories used to find the plugins:</p>\n<pre><code>pluginManagement {\n    repositories {\n        gradlePluginPortal()\n        google()\n        mavenCentral()\n    }\n}\n</code></pre>\n<p>You can add other repos and also other plugins in same blocks.</p>\n<p>Then in your <code>app/build.gradle</code> file you can find:</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n</code></pre>\n<p>In the same file you can add other dependencies adding the <code>dependencies</code> block:</p>\n<pre><code>dependencies {\n\n    implementation 'androidx.core:core-ktx:1.7.0'\n    //\n}\n</code></pre>\n<p>and the <code>repositories</code> block</p>\n<pre><code>   repositories {\n        google()\n    }\n</code></pre>\n<p>In the <code>settings.gradle</code> you can find also the repositories used by the module dependencies:</p>\n<pre><code>dependencyResolutionManagement {\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23477658,"reputation":428,"user_id":17530237,"display_name":"kamal douma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669139908,"creation_date":1669127777,"question_id":74534360,"body_markdown":"I created a new project and this is what my build.gradle file contains:\r\n\r\n    \r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39; version &#39;7.3.1&#39; apply false\r\n        id &#39;com.android.library&#39; version &#39;7.3.1&#39; apply false\r\n        id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.7.20&#39; apply false\r\n    }\r\n\r\nthere is no build scripts and know I don&#39;t know where to add dependencies.\r\nis it a new thing or what? ","title":"my build.gradle (project-level) looks different android studio dolphin","body":"<p>I created a new project and this is what my build.gradle file contains:</p>\n<pre><code>plugins {\n    id 'com.android.application' version '7.3.1' apply false\n    id 'com.android.library' version '7.3.1' apply false\n    id 'org.jetbrains.kotlin.android' version '1.7.20' apply false\n}\n</code></pre>\n<p>there is no build scripts and know I don't know where to add dependencies.\nis it a new thing or what?</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1669146769,"post_id":74537095,"comment_id":131577051,"body_markdown":"Might want to try that all in one line/actions chain... (don&#39;t call perform til the end)  If that doesn&#39;t help you may need to generate certain HTML5 events.  (dragstart, dragend, drop...)","body":"Might want to try that all in one line/actions chain... (don&#39;t call perform til the end)  If that doesn&#39;t help you may need to generate certain HTML5 events.  (dragstart, dragend, drop...)"},{"owner":{"account_id":24069996,"reputation":1,"user_id":18046039,"display_name":"Ayse"},"score":0,"creation_date":1669193513,"post_id":74537095,"comment_id":131586467,"body_markdown":"I tried one line chain but it doesn&#39;t work too. I was thinking of js executor but since the line doesn&#39;t have a locator, I couldn&#39;t find a way to locate it according to the first element","body":"I tried one line chain but it doesn&#39;t work too. I was thinking of js executor but since the line doesn&#39;t have a locator, I couldn&#39;t find a way to locate it according to the first element"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1669224109,"post_id":74537095,"comment_id":131597994,"body_markdown":"canvas&#39;s can have webelements layered on top to retrieve events.  If that&#39;s not the case, you&#39;d have to hack out the coords.","body":"canvas&#39;s can have webelements layered on top to retrieve events.  If that&#39;s not the case, you&#39;d have to hack out the coords."},{"owner":{"account_id":24069996,"reputation":1,"user_id":18046039,"display_name":"Ayse"},"score":0,"creation_date":1669305648,"post_id":74537095,"comment_id":131619031,"body_markdown":"The panel is based on google maps so streets and roads can&#39;t be located. There is a route shown as a line which I mention in my question drawn by the application but it is in the canvas element. I have some polyline elements in the dom but I can&#39;t highlight them on the browser to make sure if it is related to that line. I tried with coordinates even though they are right, the action class is not doing its job.","body":"The panel is based on google maps so streets and roads can&#39;t be located. There is a route shown as a line which I mention in my question drawn by the application but it is in the canvas element. I have some polyline elements in the dom but I can&#39;t highlight them on the browser to make sure if it is related to that line. I tried with coordinates even though they are right, the action class is not doing its job."}],"owner":{"account_id":24069996,"reputation":1,"user_id":18046039,"display_name":"Ayse"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669139787,"creation_date":1669139673,"question_id":74537095,"body_markdown":"I need to drag a line with the CTRL key onto secondElement but it doesn&#39;t have a locator in the DOM since it is in the Canvas element. But I can locate it according to firstElement position. \r\n\r\nWith the following script, I can see the selenium selecting the line but not dragging on the second element. I don&#39;t know what is wrong with this method.  Here is the code: \r\n\r\n```\r\nActions actions = new Actions(driver);\r\nactions.moveToElement(firstElement,-10,-15)\r\n    .keyDown(Keys.CONTROL).clickAndHold().perform();\r\nactions.moveToElement(secondElement).release().keyUp(Keys.CONTROL).perform();\r\n```\r\n\r\n\r\n","title":"In Selenium Java, clickAndHold() method without element is not working","body":"<p>I need to drag a line with the CTRL key onto secondElement but it doesn't have a locator in the DOM since it is in the Canvas element. But I can locate it according to firstElement position.</p>\n<p>With the following script, I can see the selenium selecting the line but not dragging on the second element. I don't know what is wrong with this method.  Here is the code:</p>\n<pre><code>Actions actions = new Actions(driver);\nactions.moveToElement(firstElement,-10,-15)\n    .keyDown(Keys.CONTROL).clickAndHold().perform();\nactions.moveToElement(secondElement).release().keyUp(Keys.CONTROL).perform();\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1669136661,"post_id":74536442,"comment_id":131573743,"body_markdown":"Does this answer your question? [How to convert spring-boot request parameter](https://stackoverflow.com/questions/52557076/how-to-convert-spring-boot-request-parameter)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/52557076/how-to-convert-spring-boot-request-parameter\">How to convert spring-boot request parameter</a>"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1669138764,"post_id":74536442,"comment_id":131574523,"body_markdown":"@Turing85 no, it doesn&#39;t _quite_ answer it. See my update above.","body":"@Turing85 no, it doesn&#39;t <i>quite</i> answer it. See my update above."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1669138798,"post_id":74536442,"comment_id":131574528,"body_markdown":"You can just add the cases for `true` and `false`.","body":"You can just add the cases for <code>true</code> and <code>false</code>."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1669139206,"post_id":74536442,"comment_id":131574658,"body_markdown":"@Turing85 unfortunately I haven&#39;t got a Github account, but the application is trivial. It contains no more code than is shown above. I just created a Spring Boot app using the initializer, added the code above, and all done in 5 minutes.","body":"@Turing85 unfortunately I haven&#39;t got a Github account, but the application is trivial. It contains no more code than is shown above. I just created a Spring Boot app using the initializer, added the code above, and all done in 5 minutes."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1669139264,"post_id":74536442,"comment_id":131574675,"body_markdown":"And it takes about 2 minutes to create a github account :). And as I said: you can just add cases for `true` and `false`.","body":"And it takes about 2 minutes to create a github account :). And as I said: you can just add cases for <code>true</code> and <code>false</code>."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1669139429,"post_id":74536442,"comment_id":131574735,"body_markdown":"@Turing85 I don&#39;t see how I can add the cases for &quot;true&quot; and &quot;false&quot;. Where? In the Converter? That doesn&#39;t get called at all if the string matches what&#39;s already allowed by default (which is &quot;true&quot;, &quot;1&quot;, &quot;yes&quot;, &quot;on&quot;, &quot;false&quot;, &quot;0&quot;, &quot;no&quot;, and &quot;off&quot;).","body":"@Turing85 I don&#39;t see how I can add the cases for &quot;true&quot; and &quot;false&quot;. Where? In the Converter? That doesn&#39;t get called at all if the string matches what&#39;s already allowed by default (which is &quot;true&quot;, &quot;1&quot;, &quot;yes&quot;, &quot;on&quot;, &quot;false&quot;, &quot;0&quot;, &quot;no&quot;, and &quot;off&quot;)."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1669139447,"post_id":74536442,"comment_id":131574743,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/249814/discussion-between-turing85-and-k314159).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/249814/discussion-between-turing85-and-k314159\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":5083689,"reputation":1006,"user_id":4079056,"display_name":"sanurah"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669139632,"creation_date":1669139632,"answer_id":74537088,"question_id":74536442,"body_markdown":"can&#39;t you map it to an enum?\r\n\r\n    enum BooleanInput {\r\n        oui(true),\r\n        non(false);\r\n    \r\n        private boolean value;\r\n    \r\n        BooleanInput(boolean value) {\r\n            this.value = value;\r\n        }\r\n    \r\n        Boolean value() {\r\n            return this.value;\r\n        }\r\n    }\r\n\r\nand in the controller,\r\n\r\n        @GetMapping(&quot;/e&quot;)\r\n        ResponseEntity&lt;String&gt; showRequestParam(@RequestParam BooleanInput flag) {\r\n            return new ResponseEntity&lt;&gt;(flag.value(), HttpStatus.OK);\r\n        }","title":"Spring @RequestParam custom type conversion","body":"<p>can't you map it to an enum?</p>\n<pre><code>enum BooleanInput {\n    oui(true),\n    non(false);\n\n    private boolean value;\n\n    BooleanInput(boolean value) {\n        this.value = value;\n    }\n\n    Boolean value() {\n        return this.value;\n    }\n}\n</code></pre>\n<p>and in the controller,</p>\n<pre><code>    @GetMapping(&quot;/e&quot;)\n    ResponseEntity&lt;String&gt; showRequestParam(@RequestParam BooleanInput flag) {\n        return new ResponseEntity&lt;&gt;(flag.value(), HttpStatus.OK);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2721194,"reputation":51,"user_id":2347461,"display_name":"Noplopy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669139645,"creation_date":1669139645,"answer_id":74537090,"question_id":74536442,"body_markdown":"In your first case, your requestParam is a boolean but you bind a **B**oolean.\r\n\r\nI&#39;ve tried with this code\r\n```java\r\n@InitBinder\r\nprotected void initBinder(WebDataBinder binder) {\r\n    binder.registerCustomEditor(Boolean.class, new CustomBooleanEditor(&quot;oui&quot;, &quot;non&quot;, true));\r\n}\r\n\r\n@GetMapping(&quot;/e&quot;)\r\nResponseEntity&lt;String&gt; showRequestParam(@RequestParam(value=&quot;flag&quot;) Boolean flag) {\r\n    return new ResponseEntity&lt;&gt;(String.valueOf(flag), HttpStatus.OK);\r\n}\r\n```\r\n\r\nAnd it&#39;s print \r\n\r\n&gt; true\r\n\r\n when I call localhost:8080/e?flag=oui\r\n","title":"Spring @RequestParam custom type conversion","body":"<p>In your first case, your requestParam is a boolean but you bind a <strong>B</strong>oolean.</p>\n<p>I've tried with this code</p>\n<pre class=\"lang-java prettyprint-override\"><code>@InitBinder\nprotected void initBinder(WebDataBinder binder) {\n    binder.registerCustomEditor(Boolean.class, new CustomBooleanEditor(&quot;oui&quot;, &quot;non&quot;, true));\n}\n\n@GetMapping(&quot;/e&quot;)\nResponseEntity&lt;String&gt; showRequestParam(@RequestParam(value=&quot;flag&quot;) Boolean flag) {\n    return new ResponseEntity&lt;&gt;(String.valueOf(flag), HttpStatus.OK);\n}\n</code></pre>\n<p>And it's print</p>\n<blockquote>\n<p>true</p>\n</blockquote>\n<p>when I call localhost:8080/e?flag=oui</p>\n"}],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74537090,"answer_count":2,"score":0,"last_activity_date":1669139645,"creation_date":1669136490,"question_id":74536442,"body_markdown":"**How do I create a custom type converter for a boolean parameter in a GET request?**\r\n\r\nFor example, I want the allowed values in the GET request to be &quot;oui&quot; and &quot;non&quot; instead of &quot;true&quot; and &quot;false&quot;. I followed the [Spring documentation][1] on how to do this, and tried the following:\r\n\r\n```lang:java\r\n@RestController\r\npublic class ExampleController {\r\n    @InitBinder\r\n    protected void initBinder(WebDataBinder binder) {\r\n        binder.registerCustomEditor(Boolean.class, new CustomBooleanEditor(&quot;oui&quot;, &quot;non&quot;, true));\r\n    }\r\n\r\n    @GetMapping(&quot;/e&quot;)\r\n    ResponseEntity&lt;String&gt; showRequestParam(@RequestParam boolean flag) {\r\n        return new ResponseEntity&lt;&gt;(String.valueOf(flag), HttpStatus.OK);\r\n    }\r\n}\r\n```\r\n\r\nI also tried this:\r\n\r\n```lang:java\r\n@RestController\r\npublic class DemoController {\r\n    @InitBinder\r\n    protected void initBinder(WebDataBinder binder) {\r\n        binder.addCustomFormatter(new Formatter&lt;Boolean&gt;() {\r\n            @Override\r\n            public Boolean parse(String text, Locale locale) throws ParseException {\r\n                if (&quot;oui&quot;.equalsIgnoreCase(text)) return true;\r\n                if (&quot;non&quot;.equalsIgnoreCase(text)) return false;\r\n                throw new ParseException(&quot;Invalid boolean parameter value &#39;&quot; + text + &quot;&#39;; please specify oui or non&quot;, 0);\r\n            }\r\n\r\n            @Override\r\n            public String print(Boolean object, Locale locale) {\r\n                return String.valueOf(object);\r\n            }\r\n        }, Boolean.class);\r\n    }\r\n\r\n    @GetMapping(&quot;/r&quot;)\r\n    ResponseEntity&lt;String&gt; showRequestParam(@RequestParam(value = &quot;param&quot;) boolean param) {\r\n        return new ResponseEntity&lt;&gt;(String.valueOf(param), HttpStatus.OK);\r\n    }\r\n}\r\n```\r\n\r\nNeither of these worked. When supplying the value &quot;oui&quot;, I got an HTTP 400 response with the following message:\r\n\r\n&gt; Failed to convert value of type &#39;java.lang.String&#39; to required type\r\n&gt; &#39;boolean&#39;; nested exception is java.lang.IllegalArgumentException:\r\n&gt; Invalid boolean value [oui]&quot;\r\n\r\n**Update:**\r\n\r\nI&#39;ve also now tried using a Converter:\r\n\r\n```java\r\n@Component\r\npublic class BooleanConverter implements Converter&lt;String, Boolean&gt; {\r\n    @Override\r\n    public Boolean convert(String text) {\r\n        if (&quot;oui&quot;.equalsIgnoreCase(text)) return true;\r\n        if (&quot;non&quot;.equalsIgnoreCase(text)) return false;\r\n        throw new IllegalArgumentException(&quot;Invalid boolean parameter value &#39;&quot; + text + &quot;&#39;; please specify oui or non&quot;);\r\n    }\r\n}\r\n```\r\n\r\nThis &quot;kind of&quot; works, in that it now accepts &quot;oui&quot; and &quot;non&quot;, but it does so _in addition_ to &quot;true&quot; and &quot;false&quot;. How can I get it to accept &quot;oui&quot; and &quot;non&quot; _instead of_ &quot;true&quot; and &quot;false&quot;?\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/5.0.0.M4/spring-framework-reference/html/mvc.html#mvc-ann-typeconversion","title":"Spring @RequestParam custom type conversion","body":"<p><strong>How do I create a custom type converter for a boolean parameter in a GET request?</strong></p>\n<p>For example, I want the allowed values in the GET request to be &quot;oui&quot; and &quot;non&quot; instead of &quot;true&quot; and &quot;false&quot;. I followed the <a href=\"https://docs.spring.io/spring-framework/docs/5.0.0.M4/spring-framework-reference/html/mvc.html#mvc-ann-typeconversion\" rel=\"nofollow noreferrer\">Spring documentation</a> on how to do this, and tried the following:</p>\n<pre><code>@RestController\npublic class ExampleController {\n    @InitBinder\n    protected void initBinder(WebDataBinder binder) {\n        binder.registerCustomEditor(Boolean.class, new CustomBooleanEditor(&quot;oui&quot;, &quot;non&quot;, true));\n    }\n\n    @GetMapping(&quot;/e&quot;)\n    ResponseEntity&lt;String&gt; showRequestParam(@RequestParam boolean flag) {\n        return new ResponseEntity&lt;&gt;(String.valueOf(flag), HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>I also tried this:</p>\n<pre><code>@RestController\npublic class DemoController {\n    @InitBinder\n    protected void initBinder(WebDataBinder binder) {\n        binder.addCustomFormatter(new Formatter&lt;Boolean&gt;() {\n            @Override\n            public Boolean parse(String text, Locale locale) throws ParseException {\n                if (&quot;oui&quot;.equalsIgnoreCase(text)) return true;\n                if (&quot;non&quot;.equalsIgnoreCase(text)) return false;\n                throw new ParseException(&quot;Invalid boolean parameter value '&quot; + text + &quot;'; please specify oui or non&quot;, 0);\n            }\n\n            @Override\n            public String print(Boolean object, Locale locale) {\n                return String.valueOf(object);\n            }\n        }, Boolean.class);\n    }\n\n    @GetMapping(&quot;/r&quot;)\n    ResponseEntity&lt;String&gt; showRequestParam(@RequestParam(value = &quot;param&quot;) boolean param) {\n        return new ResponseEntity&lt;&gt;(String.valueOf(param), HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>Neither of these worked. When supplying the value &quot;oui&quot;, I got an HTTP 400 response with the following message:</p>\n<blockquote>\n<p>Failed to convert value of type 'java.lang.String' to required type\n'boolean'; nested exception is java.lang.IllegalArgumentException:\nInvalid boolean value [oui]&quot;</p>\n</blockquote>\n<p><strong>Update:</strong></p>\n<p>I've also now tried using a Converter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class BooleanConverter implements Converter&lt;String, Boolean&gt; {\n    @Override\n    public Boolean convert(String text) {\n        if (&quot;oui&quot;.equalsIgnoreCase(text)) return true;\n        if (&quot;non&quot;.equalsIgnoreCase(text)) return false;\n        throw new IllegalArgumentException(&quot;Invalid boolean parameter value '&quot; + text + &quot;'; please specify oui or non&quot;);\n    }\n}\n</code></pre>\n<p>This &quot;kind of&quot; works, in that it now accepts &quot;oui&quot; and &quot;non&quot;, but it does so <em>in addition</em> to &quot;true&quot; and &quot;false&quot;. How can I get it to accept &quot;oui&quot; and &quot;non&quot; <em>instead of</em> &quot;true&quot; and &quot;false&quot;?</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":5431557,"reputation":1199,"user_id":4322265,"display_name":"asdru"},"score":0,"creation_date":1668536062,"post_id":74450252,"comment_id":131427687,"body_markdown":"Is there a way to avoid touching `SomeClass`?","body":"Is there a way to avoid touching <code>SomeClass</code>?"},{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1668544450,"post_id":74450252,"comment_id":131430297,"body_markdown":"@asdru Nope. A protected class is not visible outside that class. So you either have to change `SomeClass` to do what you want or try to find a different solution.","body":"@asdru Nope. A protected class is not visible outside that class. So you either have to change <code>SomeClass</code> to do what you want or try to find a different solution."},{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1669140567,"post_id":74450252,"comment_id":131575141,"body_markdown":"@asdru I told a small fib here. Technically, `protected` members are available in the current class, in other classes in the same package, and in subclasses (whether in the same package or not). So one solution is to `extend SomeClass`. Then you can access `Nested `inside your new child class. Alternatively, you can declare a class in the same package.","body":"@asdru I told a small fib here. Technically, <code>protected</code> members are available in the current class, in other classes in the same package, and in subclasses (whether in the same package or not). So one solution is to <code>extend SomeClass</code>. Then you can access <code>Nested </code>inside your new child class. Alternatively, you can declare a class in the same package."}],"tags":[],"owner":{"account_id":13415327,"reputation":491,"user_id":9680087,"display_name":"Allan J."},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668535306,"creation_date":1668535306,"answer_id":74450252,"question_id":74450174,"body_markdown":"You cannot, as `Nested` is not accessible outside of `SomeClass`. You can either make `Nested` public (or package-private if both `SomeClass` and `MyClass` are in the same package), or move `MyClass` inside of `SomeClass`.","title":"List of protected nested class","body":"<p>You cannot, as <code>Nested</code> is not accessible outside of <code>SomeClass</code>. You can either make <code>Nested</code> public (or package-private if both <code>SomeClass</code> and <code>MyClass</code> are in the same package), or move <code>MyClass</code> inside of <code>SomeClass</code>.</p>\n"},{"comments":[{"owner":{"account_id":5431557,"reputation":1199,"user_id":4322265,"display_name":"asdru"},"score":0,"creation_date":1669139326,"post_id":74450293,"comment_id":131574699,"body_markdown":"SomeClass and SomeClass.Nested are not my stuff, I can&#39;t touch them.","body":"SomeClass and SomeClass.Nested are not my stuff, I can&#39;t touch them."},{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1669140455,"post_id":74450293,"comment_id":131575097,"body_markdown":"@asdru And `SomeClass.make()` returns `SomeClass.Nested`, not some interface that `SomeClass.Nested` implements?","body":"@asdru And <code>SomeClass.make()</code> returns <code>SomeClass.Nested</code>, not some interface that <code>SomeClass.Nested</code> implements?"}],"tags":[],"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668535453,"creation_date":1668535453,"answer_id":74450293,"question_id":74450174,"body_markdown":"One solution is to create a public interface which `Nested` implements. Then you can refer to that interface type `List&lt;MyInterface&gt;`, for example. And `make()` returns the interface type, instead of `Nested`. This is the pattern used by many classes in the standard Java API.","title":"List of protected nested class","body":"<p>One solution is to create a public interface which <code>Nested</code> implements. Then you can refer to that interface type <code>List&lt;MyInterface&gt;</code>, for example. And <code>make()</code> returns the interface type, instead of <code>Nested</code>. This is the pattern used by many classes in the standard Java API.</p>\n"},{"comments":[{"owner":{"account_id":5431557,"reputation":1199,"user_id":4322265,"display_name":"asdru"},"score":0,"creation_date":1669142655,"post_id":74450445,"comment_id":131575792,"body_markdown":"in this example jdoodle.com/ia/zRI the compiler says &quot;./project/MyClass.java:12: error: SomeClass.Nested has private access in SomeClass&quot;","body":"in this example jdoodle.com/ia/zRI the compiler says &quot;./project/MyClass.java:12: error: SomeClass.Nested has private access in SomeClass&quot;"}],"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668536190,"creation_date":1668536190,"answer_id":74450445,"question_id":74450174,"body_markdown":"First of all you should know, that ther&#39;re `static` and `not static` inner classes.\r\n\r\nOnly one differenct: `static` class does not have a reference to it&#39;s parent class (but `non static` does). So it is not possible to create `non static` inner class without it&#39;s parent.\r\n\r\nIn case you want to have a list (e.g. `Tree` and `Tree.Node`), looks like you should create a `static inner class`.\r\n\r\nAnyway, you can create a list of inner classes like `List&lt;[ParentClass].[InnerClass]&gt;` (you can have many `.` like `List&lt;A.B.C.D.E&gt;`).\r\n\r\n```java\r\npublic class MyClass {\r\n  public SomeClass instance;\r\n\r\n  public List&lt;SomeClass.Nested&gt; method() {\r\n    List&lt;SomeClass.Nested&gt; list = new ArrayList&lt;&gt;();\r\n    list.add(instance.make(1));\r\n    list.add(instance.make(2));\r\n    return list;\r\n  }\r\n}\r\n```\r\n\r\n","title":"List of protected nested class","body":"<p>First of all you should know, that ther're <code>static</code> and <code>not static</code> inner classes.</p>\n<p>Only one differenct: <code>static</code> class does not have a reference to it's parent class (but <code>non static</code> does). So it is not possible to create <code>non static</code> inner class without it's parent.</p>\n<p>In case you want to have a list (e.g. <code>Tree</code> and <code>Tree.Node</code>), looks like you should create a <code>static inner class</code>.</p>\n<p>Anyway, you can create a list of inner classes like <code>List&lt;[ParentClass].[InnerClass]&gt;</code> (you can have many <code>.</code> like <code>List&lt;A.B.C.D.E&gt;</code>).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyClass {\n  public SomeClass instance;\n\n  public List&lt;SomeClass.Nested&gt; method() {\n    List&lt;SomeClass.Nested&gt; list = new ArrayList&lt;&gt;();\n    list.add(instance.make(1));\n    list.add(instance.make(2));\n    return list;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":5431557,"reputation":1199,"user_id":4322265,"display_name":"asdru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1669139593,"creation_date":1668534971,"question_id":74450174,"body_markdown":"I have a Java class with a nested protected class in it. In a method of another class (and in another package) I have to make a list of such nested protected type.\r\n\r\nIs there a way to do this in Java?\r\n\r\n```Java\r\n// SomeClass.java\r\npackage stuff;\r\n\r\npublic class SomeClass {\r\n  protected class Nested {\r\n    int x;\r\n    public Nested setX(int arg) {\r\n      x = x;\r\n      return this;\r\n    }\r\n    public int getX() {\r\n      return x;\r\n    }\r\n  }\r\n\r\n  public Nested make(int x) {\r\n    return new Nested().setX(x);\r\n  }\r\n}\r\n```\r\n\r\n```Java\r\n// MyClass.java\r\npackage project;\r\n\r\nimport java.util.List;\r\nimport java.util.ArrayList;\r\nimport stuff.SomeClass;\r\n\r\npublic class MyClass {\r\n  public SomeClass instance;\r\n\r\n  // I don&#39;t know what I should insert ...\r\n  public List&lt; /* ... here... */ ?&gt; method() {\r\n    var list = new ArrayList&lt; /* ... and here... */ &gt;();\r\n    list.add(instance.make(1));\r\n    list.add(instance.make(2));\r\n    return list; // ... to return an ArrayList&lt;SomeClass.Nested&gt;\r\n  }\r\n}\r\n```\r\n\r\nMaybe something like the C++ `decltype()` or some kind of template deduction whould work!\r\n\r\nEven some reflection magic would be ok for me.\r\n\r\nPS.\r\nI whuld not modify SomeClass","title":"List of protected nested class","body":"<p>I have a Java class with a nested protected class in it. In a method of another class (and in another package) I have to make a list of such nested protected type.</p>\n<p>Is there a way to do this in Java?</p>\n<pre><code>// SomeClass.java\npackage stuff;\n\npublic class SomeClass {\n  protected class Nested {\n    int x;\n    public Nested setX(int arg) {\n      x = x;\n      return this;\n    }\n    public int getX() {\n      return x;\n    }\n  }\n\n  public Nested make(int x) {\n    return new Nested().setX(x);\n  }\n}\n</code></pre>\n<pre><code>// MyClass.java\npackage project;\n\nimport java.util.List;\nimport java.util.ArrayList;\nimport stuff.SomeClass;\n\npublic class MyClass {\n  public SomeClass instance;\n\n  // I don't know what I should insert ...\n  public List&lt; /* ... here... */ ?&gt; method() {\n    var list = new ArrayList&lt; /* ... and here... */ &gt;();\n    list.add(instance.make(1));\n    list.add(instance.make(2));\n    return list; // ... to return an ArrayList&lt;SomeClass.Nested&gt;\n  }\n}\n</code></pre>\n<p>Maybe something like the C++ <code>decltype()</code> or some kind of template deduction whould work!</p>\n<p>Even some reflection magic would be ok for me.</p>\n<p>PS.\nI whuld not modify SomeClass</p>\n"},{"tags":["java","spring-security","keycloak","keycloak-services","keycloak-rest-api"],"comments":[{"owner":{"account_id":1535526,"reputation":628,"user_id":1431690,"accept_rate":60,"display_name":"nettie"},"score":0,"creation_date":1669154915,"post_id":74537073,"comment_id":131579288,"body_markdown":"Why are you trying to get user secret key? Seems ethically questionable.","body":"Why are you trying to get user secret key? Seems ethically questionable."},{"owner":{"account_id":21109085,"reputation":11,"user_id":15517462,"display_name":"Gustavo Guimar&#227;es"},"score":2,"creation_date":1669202899,"post_id":74537073,"comment_id":131589820,"body_markdown":"I need the secret because I need to do OTP code validation on critical system screens. The secret would be used to generate the OTP code in the backend and then compare it","body":"I need the secret because I need to do OTP code validation on critical system screens. The secret would be used to generate the OTP code in the backend and then compare it"}],"owner":{"account_id":21109085,"reputation":11,"user_id":15517462,"display_name":"Gustavo Guimar&#227;es"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669139544,"creation_date":1669139544,"question_id":74537073,"body_markdown":"I have an application using spring boot, angular and keycloak in version 18.0. In the application all the users has 2FA configured by keycloak. I need recover the MFA secret of all the users. Is there any easy way to retrieve this secret?\r\n\r\n\r\nNote: I need the secret of the users and not the client secret","title":"How to Get a Secret User in keycloak","body":"<p>I have an application using spring boot, angular and keycloak in version 18.0. In the application all the users has 2FA configured by keycloak. I need recover the MFA secret of all the users. Is there any easy way to retrieve this secret?</p>\n<p>Note: I need the secret of the users and not the client secret</p>\n"},{"tags":["java","ethereum","web3-java"],"answers":[{"comments":[{"owner":{"account_id":17810467,"reputation":11,"user_id":12935213,"display_name":"Rodarg"},"score":0,"creation_date":1617724542,"post_id":66970720,"comment_id":118382148,"body_markdown":"This also returned Null for me. both the getCreates and getTo return null. Is this maybe because the node is a full one and not an archive one?","body":"This also returned Null for me. both the getCreates and getTo return null. Is this maybe because the node is a full one and not an archive one?"},{"owner":{"account_id":17810467,"reputation":11,"user_id":12935213,"display_name":"Rodarg"},"score":0,"creation_date":1617733406,"post_id":66970720,"comment_id":118386121,"body_markdown":"I have updated the post so you can see the code i used","body":"I have updated the post so you can see the code i used"},{"owner":{"account_id":1870979,"reputation":41420,"user_id":1693192,"accept_rate":80,"display_name":"Petr Hejda"},"score":0,"creation_date":1617746707,"post_id":66970720,"comment_id":118391015,"body_markdown":"@Rodarg I&#39;m not that well versed in the Java version of `web3` so I&#39;m not able to debug it in more depth. In my experience, in the **JavaScript** `web3js` you&#39;d use the property `contractAddress` that returns the contract address every time when a contract is created (and the `to` field is empty). But hopefully someone else is going to have a better answer.","body":"@Rodarg I&#39;m not that well versed in the Java version of <code>web3</code> so I&#39;m not able to debug it in more depth. In my experience, in the <b>JavaScript</b> <code>web3js</code> you&#39;d use the property <code>contractAddress</code> that returns the contract address every time when a contract is created (and the <code>to</code> field is empty). But hopefully someone else is going to have a better answer."},{"owner":{"account_id":1870979,"reputation":41420,"user_id":1693192,"accept_rate":80,"display_name":"Petr Hejda"},"score":0,"creation_date":1617747249,"post_id":66970720,"comment_id":118391175,"body_markdown":"One more idea. It is possible that the transaction has been reverted and no contract was created from this particular tx. So the `to` field is `Null`, but also no contract was created - which would possibly make the value of `creates` property `Null` as well.","body":"One more idea. It is possible that the transaction has been reverted and no contract was created from this particular tx. So the <code>to</code> field is <code>Null</code>, but also no contract was created - which would possibly make the value of <code>creates</code> property <code>Null</code> as well."},{"owner":{"account_id":17810467,"reputation":11,"user_id":12935213,"display_name":"Rodarg"},"score":0,"creation_date":1617749014,"post_id":66970720,"comment_id":118391620,"body_markdown":"Well looking at the transaction i linked it seems like the transaction is valid so dont really know what im doing wrong here","body":"Well looking at the transaction i linked it seems like the transaction is valid so dont really know what im doing wrong here"}],"tags":[],"owner":{"account_id":1870979,"reputation":41420,"user_id":1693192,"accept_rate":80,"display_name":"Petr Hejda"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617719654,"creation_date":1617719654,"answer_id":66970720,"question_id":66969641,"body_markdown":"When a transaction creates a contract, the `to` field is empty by design (of the Ethereum network).\r\n\r\nTo get the contract address that the transaction creates, use the [getCreates()][1] method.\r\n\r\n\r\n  [1]: https://javadoc.io/static/org.web3j/core/4.5.3/org/web3j/protocol/core/methods/response/Transaction.html#getCreates--","title":"Web3J &quot;transaction.getTo()&quot; returns null if sent to contract","body":"<p>When a transaction creates a contract, the <code>to</code> field is empty by design (of the Ethereum network).</p>\n<p>To get the contract address that the transaction creates, use the <a href=\"https://javadoc.io/static/org.web3j/core/4.5.3/org/web3j/protocol/core/methods/response/Transaction.html#getCreates--\" rel=\"nofollow noreferrer\">getCreates()</a> method.</p>\n"}],"owner":{"account_id":17810467,"reputation":11,"user_id":12935213,"display_name":"Rodarg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669139373,"creation_date":1617715815,"question_id":66969641,"body_markdown":"I&#39;m currently running a full node and am trying to loop through some transactions. Whenever I do so with Web3j and use the ```EthBlock.TransactionObject``` and I get to a transaction that contains a contract ([Like this one][1]) and use the ```.getTo()``` function it returns a null value. Is there any way for me to retrieve the contract address? \r\n\r\n\r\n  [1]: https://etherscan.io/tx/0x9e7b5966b33b4393f250bfcf45eed7751d44981b6d8dec9422a0bd2a2c698306\r\n\r\nEDIT:\r\nThis is the code im using to get the transaction\r\n```\r\nEthBlock.Block block = web3.ethGetBlockByNumber(DefaultBlockParameter.valueOf(BigInteger.valueOf(1397553)), true).send().getBlock();\r\nList&lt;EthBlock.TransactionResult&gt; transactionResults = block.getTransactions();\r\ntransactionResults.forEach(tx -&gt; {\r\n   EthBlock.TransactionObject transaction = (EthBlock.TransactionObject) tx.get();\r\n   System.out.println(transaction.getCreates());\r\n});\r\n```\r\n\r\nThis returns a &quot;null&quot;","title":"Web3J &quot;transaction.getTo()&quot; returns null if sent to contract","body":"<p>I'm currently running a full node and am trying to loop through some transactions. Whenever I do so with Web3j and use the <code>EthBlock.TransactionObject</code> and I get to a transaction that contains a contract (<a href=\"https://etherscan.io/tx/0x9e7b5966b33b4393f250bfcf45eed7751d44981b6d8dec9422a0bd2a2c698306\" rel=\"nofollow noreferrer\">Like this one</a>) and use the <code>.getTo()</code> function it returns a null value. Is there any way for me to retrieve the contract address?</p>\n<p>EDIT:\nThis is the code im using to get the transaction</p>\n<pre><code>EthBlock.Block block = web3.ethGetBlockByNumber(DefaultBlockParameter.valueOf(BigInteger.valueOf(1397553)), true).send().getBlock();\nList&lt;EthBlock.TransactionResult&gt; transactionResults = block.getTransactions();\ntransactionResults.forEach(tx -&gt; {\n   EthBlock.TransactionObject transaction = (EthBlock.TransactionObject) tx.get();\n   System.out.println(transaction.getCreates());\n});\n</code></pre>\n<p>This returns a &quot;null&quot;</p>\n"},{"tags":["java","mysql","spring-boot"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1669320839,"post_id":74536849,"comment_id":131622906,"body_markdown":"So, you want the result be sorted by column &quot;total_numbers_of_users_who“ and filtered by column „pid“?","body":"So, you want the result be sorted by column &quot;total_numbers_of_users_who“ and filtered by column „pid“?"}],"answers":[{"tags":[],"owner":{"account_id":24291308,"reputation":13,"user_id":18236283,"display_name":"Ben Chu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669138913,"creation_date":1669138913,"answer_id":74536948,"question_id":74536849,"body_markdown":"I have found the answer: findTopByProductOrderByPruidDesc","title":"MySQL command to get only the latest data in Spring boot?","body":"<p>I have found the answer: findTopByProductOrderByPruidDesc</p>\n"}],"owner":{"account_id":24291308,"reputation":13,"user_id":18236283,"display_name":"Ben Chu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1669598196,"accepted_answer_id":74536948,"answer_count":1,"score":0,"last_activity_date":1669138913,"creation_date":1669138408,"question_id":74536849,"body_markdown":"The following shows one entity, where the same product (same pid) is given a rating by two different users (different uid). I want to get the latest data about average_stars (namely the second column data), which is 4.50. I used a MySQL command **findTopByProduct**, which shows me the older average_stars instead, namely 4.00. I tried **findBottomByProduct**, which turns out to be non-existent. I will really appreciate anyone who can help me with this simple question. Thanks in advance!\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hct3M.png","title":"MySQL command to get only the latest data in Spring boot?","body":"<p>The following shows one entity, where the same product (same pid) is given a rating by two different users (different uid). I want to get the latest data about average_stars (namely the second column data), which is 4.50. I used a MySQL command <strong>findTopByProduct</strong>, which shows me the older average_stars instead, namely 4.00. I tried <strong>findBottomByProduct</strong>, which turns out to be non-existent. I will really appreciate anyone who can help me with this simple question. Thanks in advance!</p>\n<p><a href=\"https://i.stack.imgur.com/hct3M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hct3M.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","html","selenium","validation"],"comments":[{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":1,"creation_date":1535312459,"post_id":52029267,"comment_id":91009672,"body_markdown":"I think that is specific to Chrome and is not actually HTML in/on the page. I&#39;ve seen questions like this before and I&#39;ve tried to find it myself but was unable to. If you create a simple page and add an INPUT that contains the `required` attribute, if you try to submit the form while it&#39;s empty, you will get this message. You can see in the simple case that there is no HTML generated","body":"I think that is specific to Chrome and is not actually HTML in/on the page. I&#39;ve seen questions like this before and I&#39;ve tried to find it myself but was unable to. If you create a simple page and add an INPUT that contains the <code>required</code> attribute, if you try to submit the form while it&#39;s empty, you will get this message. You can see in the simple case that there is no HTML generated"}],"answers":[{"tags":[],"owner":{"account_id":13585116,"reputation":12147,"user_id":9800042,"display_name":"Sers"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1542919330,"creation_date":1535325061,"answer_id":52030901,"question_id":52029267,"body_markdown":"Attribute `validationMessage` will return the message, that will be showing if validation fails:\r\n\r\n    WebElement username = driver.findElement(By.name(&quot;uname&quot;));    \r\n    String validationMessage = username.getAttribute(&quot;validationMessage&quot;);\r\n\r\nIf element has `required` attribute, browser will show the message after submitting the form:\r\n\r\n    boolean required = Boolean.parseBoolean(username.getAttribute(&quot;required&quot;));\r\n\r\nYou can check whether entered value is valid:\r\n\r\n    boolean valid = (Boolean)((JavascriptExecutor)driver).executeScript(&quot;return arguments[0].validity.valid;&quot;, username);\r\n\r\n&lt;hr&gt;\r\n**Not**: message text and validation is customizable. If you want to test customized \r\nvalidation and message.\r\n\r\nHere test code for custom validation(Java, TestNG): \r\n\r\n    Assert.assertTrue(Boolean.parseBoolean(username.getAttribute(&quot;required&quot;)), &quot;Username is required and message should be showin&quot;);\r\n    Assert.assertEquals(username.getAttribute(&quot;validationMessage&quot;), &quot;My custom message&quot;, &quot;Message text control&quot;);\r\n\r\n    username.sendKeys(&quot;@vasya &quot;);\r\n    Assert.assertTrue((Boolean)((JavascriptExecutor)driver).executeScript(&quot;return arguments[0].validity.valid;&quot;, username), &quot;Username has special characters&quot;);\r\n\r\n","title":"How to get HTML5 validation message with selenium?","body":"<p>Attribute <code>validationMessage</code> will return the message, that will be showing if validation fails:</p>\n\n<pre><code>WebElement username = driver.findElement(By.name(\"uname\"));    \nString validationMessage = username.getAttribute(\"validationMessage\");\n</code></pre>\n\n<p>If element has <code>required</code> attribute, browser will show the message after submitting the form:</p>\n\n<pre><code>boolean required = Boolean.parseBoolean(username.getAttribute(\"required\"));\n</code></pre>\n\n<p>You can check whether entered value is valid:</p>\n\n<pre><code>boolean valid = (Boolean)((JavascriptExecutor)driver).executeScript(\"return arguments[0].validity.valid;\", username);\n</code></pre>\n\n<p><hr>\n<strong>Not</strong>: message text and validation is customizable. If you want to test customized \nvalidation and message.</p>\n\n<p>Here test code for custom validation(Java, TestNG): </p>\n\n<pre><code>Assert.assertTrue(Boolean.parseBoolean(username.getAttribute(\"required\")), \"Username is required and message should be showin\");\nAssert.assertEquals(username.getAttribute(\"validationMessage\"), \"My custom message\", \"Message text control\");\n\nusername.sendKeys(\"@vasya \");\nAssert.assertTrue((Boolean)((JavascriptExecutor)driver).executeScript(\"return arguments[0].validity.valid;\", username), \"Username has special characters\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9933941,"reputation":1741,"user_id":7352883,"accept_rate":50,"display_name":"Shivam Mishra"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1535353030,"creation_date":1535346593,"answer_id":52032867,"question_id":52029267,"body_markdown":"The validation messages are not the part of your DOM. They are generated because your input fileds have `required` attribute. If you see the HTML of your fields -\r\n\r\n    &lt;input type=&quot;text&quot; placeholder=&quot;Enter Username&quot; name=&quot;uname&quot; required=&quot;&quot;&gt;\r\n\r\nYou can see it has required attribute turned on. Check [this][1] out. You can verify that your fields have this required attribute or not, like this-\r\n\r\n    WebElement inputElement = driver.findElement(By.name(&quot;uname&quot;));\r\n    JavascriptExecutor js = (JavascriptExecutor) driver;  \r\n    boolean isRequired = (Boolean) js.executeScript(&quot;return arguments[0].required;&quot;,inputElement)\r\n    if(isRequired )\r\n    {\r\n       //element is required and validation error will popup if the field is empty.\r\n    }\r\n\r\nThere is no need to care about whether the message appears or not because that will handled by the browser.\r\n  [1]: https://www.w3schools.com/tags/att_required.asp\r\n","title":"How to get HTML5 validation message with selenium?","body":"<p>The validation messages are not the part of your DOM. They are generated because your input fileds have <code>required</code> attribute. If you see the HTML of your fields -</p>\n\n<pre><code>&lt;input type=\"text\" placeholder=\"Enter Username\" name=\"uname\" required=\"\"&gt;\n</code></pre>\n\n<p>You can see it has required attribute turned on. Check <a href=\"https://www.w3schools.com/tags/att_required.asp\" rel=\"noreferrer\">this</a> out. You can verify that your fields have this required attribute or not, like this-</p>\n\n<pre><code>WebElement inputElement = driver.findElement(By.name(\"uname\"));\nJavascriptExecutor js = (JavascriptExecutor) driver;  \nboolean isRequired = (Boolean) js.executeScript(\"return arguments[0].required;\",inputElement)\nif(isRequired )\n{\n   //element is required and validation error will popup if the field is empty.\n}\n</code></pre>\n\n<p>There is no need to care about whether the message appears or not because that will handled by the browser.</p>\n"},{"tags":[],"owner":{"account_id":5187115,"reputation":2534,"user_id":4151175,"display_name":"Charles Owen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657308114,"creation_date":1657308114,"answer_id":72916112,"question_id":52029267,"body_markdown":"I found a way to do this by calling the element&#39;s reportValidity() method within the Selenium test.  In C# we can use driver.executeScript().  For Java I&#39;m sure it&#39;s something similar.  If you don&#39;t execute the script then you have to look for the generic message, which is &quot;Please fill out this field&quot;.  Here&#39;s the code sample:\r\n\r\n        wait.Until(SeleniumExtras.WaitHelpers.ExpectedConditions\r\n            .ElementToBeClickable(By.CssSelector(&quot;input#NewPassword.form-control&quot;)));\r\n        IWebElement input = driver.FindElement(By.CssSelector(&quot;input#NewPassword.form-control&quot;));\r\n        input.SendKeys(string.Empty);\r\n        IWebElement form = driver.FindElement(By.TagName(&quot;form&quot;));        \r\n        form.Submit();\r\n        *driver.ExecuteScript(&quot;document.getElementById(&#39;NewPassword&#39;).reportValidity();&quot;);*\r\n        Assert.AreEqual(&quot;New password required&quot;, input.GetAttribute(&quot;validationMessage&quot;));","title":"How to get HTML5 validation message with selenium?","body":"<p>I found a way to do this by calling the element's reportValidity() method within the Selenium test.  In C# we can use driver.executeScript().  For Java I'm sure it's something similar.  If you don't execute the script then you have to look for the generic message, which is &quot;Please fill out this field&quot;.  Here's the code sample:</p>\n<pre><code>    wait.Until(SeleniumExtras.WaitHelpers.ExpectedConditions\n        .ElementToBeClickable(By.CssSelector(&quot;input#NewPassword.form-control&quot;)));\n    IWebElement input = driver.FindElement(By.CssSelector(&quot;input#NewPassword.form-control&quot;));\n    input.SendKeys(string.Empty);\n    IWebElement form = driver.FindElement(By.TagName(&quot;form&quot;));        \n    form.Submit();\n    *driver.ExecuteScript(&quot;document.getElementById('NewPassword').reportValidity();&quot;);*\n    Assert.AreEqual(&quot;New password required&quot;, input.GetAttribute(&quot;validationMessage&quot;));\n</code></pre>\n"}],"owner":{"account_id":13363003,"reputation":159,"user_id":9644344,"display_name":"Erofh Tor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8278,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":52032867,"answer_count":3,"score":4,"last_activity_date":1669138505,"creation_date":1535308887,"question_id":52029267,"body_markdown":"Please see [this][1] website.\r\n\r\nAfter click log in i have this User credentials form and after try to login with missing `Email Address` or `Password` i got this message:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nSo i try to find this element by print all the page `HTML` (`driver.getPageSource()`) but this text is missing.\r\n\r\n\r\nAny idea how to verify that i have this error message? \r\n\r\n\r\n\r\n  [1]: http://exam.doubleoctopus.com/exam.html#\r\n  [2]: https://i.stack.imgur.com/j92cv.png","title":"How to get HTML5 validation message with selenium?","body":"<p>Please see <a href=\"http://exam.doubleoctopus.com/exam.html#\" rel=\"nofollow noreferrer\">this</a> website.</p>\n<p>After click log in i have this User credentials form and after try to login with missing <code>Email Address</code> or <code>Password</code> i got this message:</p>\n<p><a href=\"https://i.stack.imgur.com/j92cv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j92cv.png\" alt=\"enter image description here\" /></a></p>\n<p>So i try to find this element by print all the page <code>HTML</code> (<code>driver.getPageSource()</code>) but this text is missing.</p>\n<p>Any idea how to verify that i have this error message?</p>\n"},{"tags":["java","html","selenium","validation","selenium-webdriver"],"comments":[{"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"score":1,"creation_date":1647938085,"post_id":71568981,"comment_id":126490545,"body_markdown":"Can you share HTML code?","body":"Can you share HTML code?"},{"owner":{"account_id":24507222,"reputation":95,"user_id":18422063,"display_name":"tester"},"score":0,"creation_date":1647938579,"post_id":71568981,"comment_id":126490722,"body_markdown":"`&lt;form action=&quot;/login&quot; method=&quot;post&quot; class=&quot;form-horizontal&quot;&gt;\n&lt;input type=&quot;hidden&quot;&gt;\n&lt;div class=&quot;form-group form-group-withLabel&quot;&gt;\n&lt;input type=&quot;email&quot; name=&quot;_username&quot; id=&quot;inputEmail&quot; required=&quot;&quot; autofocus=&quot;&quot; autocomplete=&quot;off&quot;&gt;\n&lt;label for=&quot;inputEmail&quot; class=&quot;inner-label&quot;&gt;Email address&lt;/label&gt;\n&lt;/div&gt;\n&lt;div class=&quot;form-group form-group-withLabel&quot;&gt;\n&lt;input type=&quot;password&quot; name=&quot;_password&quot; id=&quot;inputPassword&quot; placeholder=&quot;Password&quot; required=&quot;&quot;&gt;\n&lt;label class=&quot;inner-label&quot; for=&quot;inputPassword&quot;&gt;Password&lt;/label&gt;\n&lt;/div&gt;\n&lt;/form&gt;\n`","body":"<code>&lt;form action=&quot;&#47;login&quot; method=&quot;post&quot; class=&quot;form-horizontal&quot;&gt; &lt;input type=&quot;hidden&quot;&gt; &lt;div class=&quot;form-group form-group-withLabel&quot;&gt; &lt;input type=&quot;email&quot; name=&quot;_username&quot; id=&quot;inputEmail&quot; required=&quot;&quot; autofocus=&quot;&quot; autocomplete=&quot;off&quot;&gt; &lt;label for=&quot;inputEmail&quot; class=&quot;inner-label&quot;&gt;Email address&lt;&#47;label&gt; &lt;&#47;div&gt; &lt;div class=&quot;form-group form-group-withLabel&quot;&gt; &lt;input type=&quot;password&quot; name=&quot;_password&quot; id=&quot;inputPassword&quot; placeholder=&quot;Password&quot; required=&quot;&quot;&gt; &lt;label class=&quot;inner-label&quot; for=&quot;inputPassword&quot;&gt;Password&lt;&#47;label&gt; &lt;&#47;div&gt; &lt;&#47;form&gt; </code>"},{"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"score":0,"creation_date":1647938664,"post_id":71568981,"comment_id":126490742,"body_markdown":"When you hover to that error message, do you see any tooltip or any other tag?","body":"When you hover to that error message, do you see any tooltip or any other tag?"},{"owner":{"account_id":24507222,"reputation":95,"user_id":18422063,"display_name":"tester"},"score":0,"creation_date":1647939152,"post_id":71568981,"comment_id":126490929,"body_markdown":"No, this hint is not defined in html code","body":"No, this hint is not defined in html code"},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1647945090,"post_id":71568981,"comment_id":126493121,"body_markdown":"Feeze DOM in the moment of the textbox appears to see it is defined in the source code. See how to freeze DOM here https://stackoverflow.com/questions/19422214/how-can-i-inspect-disappearing-element-in-a-browser","body":"Feeze DOM in the moment of the textbox appears to see it is defined in the source code. See how to freeze DOM here <a href=\"https://stackoverflow.com/questions/19422214/how-can-i-inspect-disappearing-element-in-a-browser\" title=\"how can i inspect disappearing element in a browser\">stackoverflow.com/questions/19422214/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":24507222,"reputation":95,"user_id":18422063,"display_name":"tester"},"score":1,"creation_date":1648308236,"post_id":71580089,"comment_id":126593681,"body_markdown":"thanks for answering! it works for Java, but it is impossible to get validation message in php. I have used the same approach but no success","body":"thanks for answering! it works for Java, but it is impossible to get validation message in php. I have used the same approach but no success"},{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1648308343,"post_id":71580089,"comment_id":126593705,"body_markdown":"Feel free to raise a new question as per your new requirement.","body":"Feel free to raise a new question as per your new requirement."}],"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647991290,"creation_date":1647991290,"answer_id":71580089,"question_id":71568981,"body_markdown":"This error hint is basically the [_HTML5 Constraint validation_](https://stackoverflow.com/a/55352477/7429447) message which is the outcome of [Constraint API&#39;s element.setCustomValidity()](https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/HTML5/Constraint_validation#Controlling_the_text_of_constraints_violation) method.\r\n\r\nTo get text from the error hint you need to induce _WebDriverWait_ for the [_elementToBeClickable()_](https://stackoverflow.com/a/63301869/7429447) and you can use either of the following [locator strategies](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver):\r\n\r\n- Using _cssSelector_:\r\n\r\n      System.out.println(new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;input#inputEmail[name=&#39;_username&#39;]&quot;))).getAttribute(&quot;validationMessage&quot;));\r\n          \r\n- Using _xpath_:\r\n\r\n      System.out.println(new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//input[@id=&#39;inputEmail&#39; and @name=&#39;_username&#39;]&quot;))).getAttribute(&quot;validationMessage&quot;));\r\n\r\n\r\n----------\r\n\r\n\r\nReferences\r\n----------\r\nYou can find a couple of relevant detailed discussions in:\r\n\r\n- [How can I extract the text of HTML5 Constraint validation in https://www.phptravels.net/ website using Selenium and Java?](https://stackoverflow.com/a/53591764/7429447)\r\n","title":"How to extract the error hint of text box when user entered incorrect value in Selenium","body":"<p>This error hint is basically the <a href=\"https://stackoverflow.com/a/55352477/7429447\"><em>HTML5 Constraint validation</em></a> message which is the outcome of <a href=\"https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/HTML5/Constraint_validation#Controlling_the_text_of_constraints_violation\" rel=\"nofollow noreferrer\">Constraint API's element.setCustomValidity()</a> method.</p>\n<p>To get text from the error hint you need to induce <em>WebDriverWait</em> for the <a href=\"https://stackoverflow.com/a/63301869/7429447\"><em>elementToBeClickable()</em></a> and you can use either of the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver\">locator strategies</a>:</p>\n<ul>\n<li><p>Using <em>cssSelector</em>:</p>\n<pre><code>System.out.println(new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;input#inputEmail[name='_username']&quot;))).getAttribute(&quot;validationMessage&quot;));\n</code></pre>\n</li>\n<li><p>Using <em>xpath</em>:</p>\n<pre><code>System.out.println(new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//input[@id='inputEmail' and @name='_username']&quot;))).getAttribute(&quot;validationMessage&quot;));\n</code></pre>\n</li>\n</ul>\n<hr />\n<h2>References</h2>\n<p>You can find a couple of relevant detailed discussions in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/53591764/7429447\">How can I extract the text of HTML5 Constraint validation in https://www.phptravels.net/ website using Selenium and Java?</a></li>\n</ul>\n"}],"owner":{"account_id":24507222,"reputation":95,"user_id":18422063,"display_name":"tester"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71580089,"answer_count":1,"score":0,"last_activity_date":1669138447,"creation_date":1647937871,"question_id":71568981,"body_markdown":"When incorrect value is entered in textbox next hint is appeared:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2Vpmb.png\r\n\r\nHTML:\r\n\r\n    &lt;form action=&quot;/login&quot; method=&quot;post&quot; class=&quot;form-horizontal&quot;&gt; &lt;input type=&quot;hidden&quot;&gt; \r\n    \t&lt;div class=&quot;form-group form-group-withLabel&quot;&gt; \r\n    \t\t&lt;input type=&quot;email&quot; name=&quot;_username&quot; id=&quot;inputEmail&quot; required=&quot;&quot; autofocus=&quot;&quot; autocomplete=&quot;off&quot;&gt; \r\n    \t\t&lt;label for=&quot;inputEmail&quot; class=&quot;inner-label&quot;&gt;Email address&lt;/label&gt; \r\n    \t&lt;/div&gt; \r\n    \t&lt;div class=&quot;form-group form-group-withLabel&quot;&gt; \r\n    \t\t&lt;input type=&quot;password&quot; name=&quot;_password&quot; id=&quot;inputPassword&quot; placeholder=&quot;Password&quot; required=&quot;&quot;&gt; \r\n    \t\t&lt;label class=&quot;inner-label&quot; for=&quot;inputPassword&quot;&gt;Password&lt;/label&gt; \r\n    \t&lt;/div&gt; \r\n    &lt;/form&gt;\r\n\r\nI need to get text from this hint. \r\n\r\nI have tried to used:\r\n\r\n    Alert alert = driver.switchTo().alert()-&gt;getText();\r\n\r\nbut it did not help.\r\n\r\nHow to get text from such hints?","title":"How to extract the error hint of text box when user entered incorrect value in Selenium","body":"<p>When incorrect value is entered in textbox next hint is appeared:</p>\n<p><a href=\"https://i.stack.imgur.com/2Vpmb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2Vpmb.png\" alt=\"enter image description here\" /></a></p>\n<p>HTML:</p>\n<pre><code>&lt;form action=&quot;/login&quot; method=&quot;post&quot; class=&quot;form-horizontal&quot;&gt; &lt;input type=&quot;hidden&quot;&gt; \n    &lt;div class=&quot;form-group form-group-withLabel&quot;&gt; \n        &lt;input type=&quot;email&quot; name=&quot;_username&quot; id=&quot;inputEmail&quot; required=&quot;&quot; autofocus=&quot;&quot; autocomplete=&quot;off&quot;&gt; \n        &lt;label for=&quot;inputEmail&quot; class=&quot;inner-label&quot;&gt;Email address&lt;/label&gt; \n    &lt;/div&gt; \n    &lt;div class=&quot;form-group form-group-withLabel&quot;&gt; \n        &lt;input type=&quot;password&quot; name=&quot;_password&quot; id=&quot;inputPassword&quot; placeholder=&quot;Password&quot; required=&quot;&quot;&gt; \n        &lt;label class=&quot;inner-label&quot; for=&quot;inputPassword&quot;&gt;Password&lt;/label&gt; \n    &lt;/div&gt; \n&lt;/form&gt;\n</code></pre>\n<p>I need to get text from this hint.</p>\n<p>I have tried to used:</p>\n<pre><code>Alert alert = driver.switchTo().alert()-&gt;getText();\n</code></pre>\n<p>but it did not help.</p>\n<p>How to get text from such hints?</p>\n"},{"tags":["java","algorithm","optimization","data-structures"],"comments":[{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":2,"creation_date":1669135064,"post_id":74535826,"comment_id":131573154,"body_markdown":"It&#39;s almost always a bad idea to mix printing commands in with your logic in something like this. Map words to their reverse and then join them with a space, don&#39;t try to print spaces as you go, you&#39;ll just give yourself a headache.","body":"It&#39;s almost always a bad idea to mix printing commands in with your logic in something like this. Map words to their reverse and then join them with a space, don&#39;t try to print spaces as you go, you&#39;ll just give yourself a headache."},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":1,"creation_date":1669135143,"post_id":74535826,"comment_id":131573185,"body_markdown":"Do you have a reason to believe your code is insufficiently optimized? To me it looks perfectly reasonable. A good rule is to pick a good algorithm but don&#39;t worry about further optimization until you need to.","body":"Do you have a reason to believe your code is insufficiently optimized? To me it looks perfectly reasonable. A good rule is to pick a good algorithm but don&#39;t worry about further optimization until you need to."},{"owner":{"account_id":5768561,"reputation":61,"user_id":4552691,"accept_rate":8,"display_name":"Hoang Nguyen"},"score":0,"creation_date":1669136469,"post_id":74535826,"comment_id":131573685,"body_markdown":"@EdwardPeters My reviewer asked me to optimize my this code so I don&#39;t know where to start.","body":"@EdwardPeters My reviewer asked me to optimize my this code so I don&#39;t know where to start."},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669136813,"post_id":74535826,"comment_id":131573801,"body_markdown":"&quot;Reviewer&quot; as in code reviewer at work, fellow student...? There&#39;s a lot of cleanup I&#39;d make you do on this, but I question the judgement of anyone telling you this needs to be more optimized from a performance standpoint.","body":"&quot;Reviewer&quot; as in code reviewer at work, fellow student...? There&#39;s a lot of cleanup I&#39;d make you do on this, but I question the judgement of anyone telling you this needs to be more optimized from a performance standpoint."},{"owner":{"account_id":5768561,"reputation":61,"user_id":4552691,"accept_rate":8,"display_name":"Hoang Nguyen"},"score":0,"creation_date":1669137328,"post_id":74535826,"comment_id":131573991,"body_markdown":"@EdwardPeters yes I think he is talking about performance otimization so do you think we can optimize this code to make it has better performance. And do we have any theory /principle about code optimization.","body":"@EdwardPeters yes I think he is talking about performance otimization so do you think we can optimize this code to make it has better performance. And do we have any theory /principle about code optimization."},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":1,"creation_date":1669137625,"post_id":74535826,"comment_id":131574111,"body_markdown":"&quot;And do we have any theory /principle about code optimization.&quot; - yes, vast libraries of theory, far too much to cover in an SO question. But no, for performance, there&#39;s nothing worthwhile to do here. That&#39;s usually the case - simple code tends to be fast, and for low-level stuff, optimization is the compiler&#39;s job, not yours.","body":"&quot;And do we have any theory /principle about code optimization.&quot; - yes, vast libraries of theory, far too much to cover in an SO question. But no, for performance, there&#39;s nothing worthwhile to do here. That&#39;s usually the case - simple code tends to be fast, and for low-level stuff, optimization is the compiler&#39;s job, not yours."},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669137674,"post_id":74535826,"comment_id":131574132,"body_markdown":"Again, are we talking about a coworker doing a code review at work, a fellow student you asked to look over your code, a TA...? I think either you&#39;re misunderstanding them or they&#39;re incorrect.","body":"Again, are we talking about a coworker doing a code review at work, a fellow student you asked to look over your code, a TA...? I think either you&#39;re misunderstanding them or they&#39;re incorrect."},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669137811,"post_id":74535826,"comment_id":131574187,"body_markdown":"Context is important here. If you&#39;re taking a class on low-level optimizations then A: why on earth is it being taught in Java? but also B: You might be able to re-arrange a couple things to shave off a bit. Literally any other context, those optimizations are a waste of time and will make more confusing, worse code.","body":"Context is important here. If you&#39;re taking a class on low-level optimizations then A: why on earth is it being taught in Java? but also B: You might be able to re-arrange a couple things to shave off a bit. Literally any other context, those optimizations are a waste of time and will make more confusing, worse code."},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669138069,"post_id":74535826,"comment_id":131574274,"body_markdown":"Oh, one thing you should do is pull the `if` statements that refer to the loop index variables out - those should just run unconditionally after the loop. Technically that&#39;s an optimization, as you&#39;re running the if check fewer times, but mostly it&#39;s just cleaner.","body":"Oh, one thing you should do is pull the <code>if</code> statements that refer to the loop index variables out - those should just run unconditionally after the loop. Technically that&#39;s an optimization, as you&#39;re running the if check fewer times, but mostly it&#39;s just cleaner."},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":1,"creation_date":1669139204,"post_id":74535826,"comment_id":131574657,"body_markdown":"One questionable optimization for reversing words would be to use a stack to reverse them (store the whole word in a stack, read the stack to get reversed word out).  An additional improvement would be to use a StringBuffer to hold your solution rather than print it out character by character.","body":"One questionable optimization for reversing words would be to use a stack to reverse them (store the whole word in a stack, read the stack to get reversed word out).  An additional improvement would be to use a StringBuffer to hold your solution rather than print it out character by character."},{"owner":{"account_id":5768561,"reputation":61,"user_id":4552691,"accept_rate":8,"display_name":"Hoang Nguyen"},"score":0,"creation_date":1669140441,"post_id":74535826,"comment_id":131575090,"body_markdown":"@EdwardPeters &quot;yes, vast libraries of theory&quot; can you list out some  keywors then I will research them separately.","body":"@EdwardPeters &quot;yes, vast libraries of theory&quot; can you list out some  keywors then I will research them separately."},{"owner":{"account_id":5768561,"reputation":61,"user_id":4552691,"accept_rate":8,"display_name":"Hoang Nguyen"},"score":0,"creation_date":1669140521,"post_id":74535826,"comment_id":131575128,"body_markdown":"@EdwardPeters &quot;Again, are we talking about a coworker doing a code review at work, a fellow student &quot; he is my coworker and he is my manager.","body":"@EdwardPeters &quot;Again, are we talking about a coworker doing a code review at work, a fellow student &quot; he is my coworker and he is my manager."},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":2,"creation_date":1669140594,"post_id":74535826,"comment_id":131575155,"body_markdown":"@HoangNguyen since he&#39;s reviewing your code, and probably left a &quot;plesae optimize this part&quot; comment on this piece of code, could you ask him to &quot;could you please clarify, what sort of improvement did you have in mind? what&#39;s actually wrong with it?&quot;","body":"@HoangNguyen since he&#39;s reviewing your code, and probably left a &quot;plesae optimize this part&quot; comment on this piece of code, could you ask him to &quot;could you please clarify, what sort of improvement did you have in mind? what&#39;s actually wrong with it?&quot;"},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":1,"creation_date":1669140635,"post_id":74535826,"comment_id":131575166,"body_markdown":"If you just want to start researching all of optimization, google &quot;Program optimization&quot;, but it&#39;s really a huge and diverse field - wikipedia will be a better signpost for you than I can be.","body":"If you just want to start researching all of optimization, google &quot;Program optimization&quot;, but it&#39;s really a huge and diverse field - wikipedia will be a better signpost for you than I can be."},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669140716,"post_id":74535826,"comment_id":131575194,"body_markdown":"If you want my advice, apply the change I described in my answer, test it to make sure everything works, and then you&#39;ll have something to show him when you ask for further clarification.","body":"If you want my advice, apply the change I described in my answer, test it to make sure everything works, and then you&#39;ll have something to show him when you ask for further clarification."},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1669140776,"post_id":74535826,"comment_id":131575218,"body_markdown":"No, you don&#39;t want to start by just researching all optimization, or all sorts of optimization, especially with java because even measuring the optimization percentage in java will require you to warm up the code so you can actually see how much of a difference your changes made - and you usually warm up the code by running it 100k but more likely 5mil times before you even get to measure and see changes. Optimization percentage isn&#39;t trivial to get out from Java like it is with C :D","body":"No, you don&#39;t want to start by just researching all optimization, or all sorts of optimization, especially with java because even measuring the optimization percentage in java will require you to warm up the code so you can actually see how much of a difference your changes made - and you usually warm up the code by running it 100k but more likely 5mil times before you even get to measure and see changes. Optimization percentage isn&#39;t trivial to get out from Java like it is with C :D"},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":1,"creation_date":1669141053,"post_id":74535826,"comment_id":131575315,"body_markdown":"See [link1](https://stackoverflow.com/questions/8939299/java-optimize-code), [link2](https://stackoverflow.com/questions/5666621/how-to-optimize-the-code-in-my-java-application), [link3](https://stackoverflow.com/questions/60220417/how-to-optimize-this-code-to-make-it-faster), [link4](https://stackoverflow.com/questions/1481853/technique-or-utility-to-minimize-java-warm-up-time), [link5](https://stackoverflow.com/questions/36198278/why-does-the-jvm-require-warmup). That will get you somewhat started on the complex matter of nontriviality when it comes to serious java optimization.","body":"See <a href=\"https://stackoverflow.com/questions/8939299/java-optimize-code\">link1</a>, <a href=\"https://stackoverflow.com/questions/5666621/how-to-optimize-the-code-in-my-java-application\">link2</a>, <a href=\"https://stackoverflow.com/questions/60220417/how-to-optimize-this-code-to-make-it-faster\">link3</a>, <a href=\"https://stackoverflow.com/questions/1481853/technique-or-utility-to-minimize-java-warm-up-time\">link4</a>, <a href=\"https://stackoverflow.com/questions/36198278/why-does-the-jvm-require-warmup\">link5</a>. That will get you somewhat started on the complex matter of nontriviality when it comes to serious java optimization."},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1669141249,"post_id":74535826,"comment_id":131575374,"body_markdown":"There are also [link6](https://stackoverflow.com/questions/5981460/optimization-by-java-compiler), dubious [external link7](https://www.geeksforgeeks.org/12-tips-to-optimize-java-code-performance/) and [link8](https://stackoverflow.com/questions/36198278/why-does-the-jvm-require-warmup) - and you&#39;ve just started to enter the rabbit hole. So, just ask your coworker on what he thinks is subotimal about your thing, and then work together from there. You&#39;re a team.","body":"There are also <a href=\"https://stackoverflow.com/questions/5981460/optimization-by-java-compiler\">link6</a>, dubious <a href=\"https://www.geeksforgeeks.org/12-tips-to-optimize-java-code-performance/\" rel=\"nofollow noreferrer\">external link7</a> and <a href=\"https://stackoverflow.com/questions/36198278/why-does-the-jvm-require-warmup\">link8</a> - and you&#39;ve just started to enter the rabbit hole. So, just ask your coworker on what he thinks is subotimal about your thing, and then work together from there. You&#39;re a team."},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":2,"creation_date":1669141252,"post_id":74535826,"comment_id":131575376,"body_markdown":"To be clear, I don&#39;t actually recommend &quot;research all of it&quot; either, I just think that&#39;s as good as anything for where you&#39;re at. The most important lesson right now is to not be concerned with premature optimization, and to focus more on readability, maintainability and correctness.","body":"To be clear, I don&#39;t actually recommend &quot;research all of it&quot; either, I just think that&#39;s as good as anything for where you&#39;re at. The most important lesson right now is to not be concerned with premature optimization, and to focus more on readability, maintainability and correctness."}],"answers":[{"tags":[],"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669138416,"creation_date":1669138416,"answer_id":74536850,"question_id":74535826,"body_markdown":"The following code is bad: having ifs that refer to the loop variable is confusing and technically, maybe very slightly slower than the right way (though the compiler might just fix that for you.) \r\n   // Loop throw the word array\r\n                for(int w = 0; w &lt; words.length; w++) {\r\n                    \r\n                    // Revert the characters of each word\r\n                    for (int j = words[w].length() - 1;  j &gt;=0; j--) {\r\n                        if (j != 0) {\r\n                            System.out.print(words[w].charAt(j));\r\n                        } else {\r\n                            System.out.print(words[w].charAt(j) + &quot; &quot;);\r\n                        }\r\n                    }\r\n                    if ( w == words.length -1) {\r\n                        System.out.println();\r\n                    }\r\n                }\r\n\r\nInstead do:\r\n```\r\n  // Loop throw the word array\r\n                for(int w = 0; w &lt; words.length; w++) {\r\n                    // Revert the characters of each word\r\n                    for (int j = words[w].length() - 1;  j &gt;0; j--) {\r\n                        System.out.print(words[w].charAt(j) + &quot; &quot;);\r\n                    }\r\n                    System.out.print(words[w].charAt(j));\r\n                }\r\n                System.out.println();\r\n```\r\n\r\nNotice how I changed the `j&gt;=0` to `j&gt;0`. The `else` block would only have triggered on the last repetition, so this is semantically equivalent. ","title":"How to Optimize Code and Code Optimization Theory","body":"<p>The following code is bad: having ifs that refer to the loop variable is confusing and technically, maybe very slightly slower than the right way (though the compiler might just fix that for you.)\n// Loop throw the word array\nfor(int w = 0; w &lt; words.length; w++) {</p>\n<pre><code>                // Revert the characters of each word\n                for (int j = words[w].length() - 1;  j &gt;=0; j--) {\n                    if (j != 0) {\n                        System.out.print(words[w].charAt(j));\n                    } else {\n                        System.out.print(words[w].charAt(j) + &quot; &quot;);\n                    }\n                }\n                if ( w == words.length -1) {\n                    System.out.println();\n                }\n            }\n</code></pre>\n<p>Instead do:</p>\n<pre><code>  // Loop throw the word array\n                for(int w = 0; w &lt; words.length; w++) {\n                    // Revert the characters of each word\n                    for (int j = words[w].length() - 1;  j &gt;0; j--) {\n                        System.out.print(words[w].charAt(j) + &quot; &quot;);\n                    }\n                    System.out.print(words[w].charAt(j));\n                }\n                System.out.println();\n</code></pre>\n<p>Notice how I changed the <code>j&gt;=0</code> to <code>j&gt;0</code>. The <code>else</code> block would only have triggered on the last repetition, so this is semantically equivalent.</p>\n"}],"owner":{"account_id":5768561,"reputation":61,"user_id":4552691,"accept_rate":8,"display_name":"Hoang Nguyen"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669138416,"creation_date":1669133832,"question_id":74535826,"body_markdown":"I have written a coding challenge. The requirement of the challenge is reversing the particular words in a sentence  =&gt; still keep the oder the of the words in the sentence but reverse the characters of the word.\r\n\r\nThe input sample is something like this: `RemoteIo is awesome`-`Candiates pass interview`-`best candiates are selected`. \r\n\r\nThe sample output of the input above:\r\n\r\n    oIetomeR si emosewa \r\n    setaidnaC ssap weivretni \r\n    tseb setaidnac era detceles\r\n\r\nAs you can see the input sentences are separated by the `-` character so that mean we have 3 sentences in the example above and the sentence just able to contain anphabet characters and blank space only (one blank space between two words)\r\n\r\nSo my question is how can I optimize the below code and there is any theory/principle about Code Optimization. My code implementation in Java:\r\n\r\n    public class Test1 {\r\n        public static void main (String[] args) throws java.lang.Exception\r\n        {\r\n            BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n            String input = br.readLine();\r\n            \r\n            // Put sentences to a String array.\r\n            String[] data = input.split(&quot;-&quot;);\r\n            \r\n            // Loop throw sentence array\r\n            for(int i = 0; i &lt; data.length; i++) {\r\n            \t\r\n            \t// Put the words from the sentence to a String array.\r\n            \tString[] words = data[i].split(&quot; &quot;);\r\n            \t\r\n            \t// Loop throw the word array\r\n            \tfor(int w = 0; w &lt; words.length; w++) {\r\n            \t\t\r\n            \t\t// Revert the characters of each word\r\n            \t\tfor (int j = words[w].length() - 1;  j &gt;=0; j--) {\r\n                \t\tif (j != 0) {\r\n                \t\t\tSystem.out.print(words[w].charAt(j));\r\n                \t\t} else {\r\n                \t\t\tSystem.out.print(words[w].charAt(j) + &quot; &quot;);\r\n                \t\t}\r\n                \t}\r\n            \t\tif ( w == words.length -1) {\r\n            \t\t\tSystem.out.println();\r\n            \t\t}\r\n            \t}\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How to Optimize Code and Code Optimization Theory","body":"<p>I have written a coding challenge. The requirement of the challenge is reversing the particular words in a sentence  =&gt; still keep the oder the of the words in the sentence but reverse the characters of the word.</p>\n<p>The input sample is something like this: <code>RemoteIo is awesome</code>-<code>Candiates pass interview</code>-<code>best candiates are selected</code>.</p>\n<p>The sample output of the input above:</p>\n<pre><code>oIetomeR si emosewa \nsetaidnaC ssap weivretni \ntseb setaidnac era detceles\n</code></pre>\n<p>As you can see the input sentences are separated by the <code>-</code> character so that mean we have 3 sentences in the example above and the sentence just able to contain anphabet characters and blank space only (one blank space between two words)</p>\n<p>So my question is how can I optimize the below code and there is any theory/principle about Code Optimization. My code implementation in Java:</p>\n<pre><code>public class Test1 {\n    public static void main (String[] args) throws java.lang.Exception\n    {\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        String input = br.readLine();\n        \n        // Put sentences to a String array.\n        String[] data = input.split(&quot;-&quot;);\n        \n        // Loop throw sentence array\n        for(int i = 0; i &lt; data.length; i++) {\n            \n            // Put the words from the sentence to a String array.\n            String[] words = data[i].split(&quot; &quot;);\n            \n            // Loop throw the word array\n            for(int w = 0; w &lt; words.length; w++) {\n                \n                // Revert the characters of each word\n                for (int j = words[w].length() - 1;  j &gt;=0; j--) {\n                    if (j != 0) {\n                        System.out.print(words[w].charAt(j));\n                    } else {\n                        System.out.print(words[w].charAt(j) + &quot; &quot;);\n                    }\n                }\n                if ( w == words.length -1) {\n                    System.out.println();\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","html","css","thymeleaf"],"answers":[{"comments":[{"owner":{"account_id":26949185,"reputation":1,"user_id":20518690,"display_name":"reinbowpuke"},"score":0,"creation_date":1669097163,"post_id":74527792,"comment_id":131559761,"body_markdown":"After I changed the + to ~, at least one of the answers was selected when clicked. Thanks for the tip!","body":"After I changed the + to ~, at least one of the answers was selected when clicked. Thanks for the tip!"},{"owner":{"account_id":26852198,"reputation":7151,"user_id":20436957,"display_name":"John Li"},"score":0,"creation_date":1669098290,"post_id":74527792,"comment_id":131560004,"body_markdown":"@reinbowpuke too bad not all the components work, perhaps if more code could be posted we might be able to further advice. Anyways glad if it helps you at least get closer!","body":"@reinbowpuke too bad not all the components work, perhaps if more code could be posted we might be able to further advice. Anyways glad if it helps you at least get closer!"},{"owner":{"account_id":26949185,"reputation":1,"user_id":20518690,"display_name":"reinbowpuke"},"score":0,"creation_date":1669099357,"post_id":74527792,"comment_id":131560241,"body_markdown":"if it&#39;s not a bother for you, could you please review my code again? Only the first answer of the first question could be selected so I did some tweaking, but it somehow got stuck there. :(","body":"if it&#39;s not a bother for you, could you please review my code again? Only the first answer of the first question could be selected so I did some tweaking, but it somehow got stuck there. :("},{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":0,"creation_date":1669099664,"post_id":74527792,"comment_id":131560310,"body_markdown":"I think if you a &lt;p/&gt; on the line before the &lt;/div&gt;, you may get the desired effect of changing the color and background of the selected radio button. With getting styling correct when using Thymeleaf, I&#39;ve resorted to playing with the HTML in a W3Schools &quot;Try it&quot; page. I&#39;ll post that in a followup answer.","body":"I think if you a &lt;p/&gt; on the line before the &lt;/div&gt;, you may get the desired effect of changing the color and background of the selected radio button. With getting styling correct when using Thymeleaf, I&#39;ve resorted to playing with the HTML in a W3Schools &quot;Try it&quot; page. I&#39;ll post that in a followup answer."},{"owner":{"account_id":26852198,"reputation":7151,"user_id":20436957,"display_name":"John Li"},"score":0,"creation_date":1669101272,"post_id":74527792,"comment_id":131560722,"body_markdown":"@reinbowpuke and @pfurbacher I added a live test with the same code and it does seem to work. I think perhaps the `label` and `input` are not assigned the matching `id` and `for`, which caused it to fail, since in posted HTML in question they seem to be only hard coded.","body":"@reinbowpuke and @pfurbacher I added a live test with the same code and it does seem to work. I think perhaps the <code>label</code> and <code>input</code> are not assigned the matching <code>id</code> and <code>for</code>, which caused it to fail, since in posted HTML in question they seem to be only hard coded."},{"owner":{"account_id":26949185,"reputation":1,"user_id":20518690,"display_name":"reinbowpuke"},"score":0,"creation_date":1669103040,"post_id":74527792,"comment_id":131561225,"body_markdown":"thank you @JohnLi and @pfurbacher! It seemed to work on W3Schools &quot;Try it&quot; page and other online reviewers, but just not when it&#39;s accessed from localhost:8080 and I just can&#39;t understand why. :/ (I&#39;ve added more code too...!)","body":"thank you @JohnLi and @pfurbacher! It seemed to work on W3Schools &quot;Try it&quot; page and other online reviewers, but just not when it&#39;s accessed from localhost:8080 and I just can&#39;t understand why. :/ (I&#39;ve added more code too...!)"},{"owner":{"account_id":26852198,"reputation":7151,"user_id":20436957,"display_name":"John Li"},"score":0,"creation_date":1669103347,"post_id":74527792,"comment_id":131561312,"body_markdown":"@reinbowpuke Any chance it can be checked if each group of `input` and `label` on your side had a matching and unique `id` and `for`?","body":"@reinbowpuke Any chance it can be checked if each group of <code>input</code> and <code>label</code> on your side had a matching and unique <code>id</code> and <code>for</code>?"},{"owner":{"account_id":26949185,"reputation":1,"user_id":20518690,"display_name":"reinbowpuke"},"score":0,"creation_date":1669103871,"post_id":74527792,"comment_id":131561496,"body_markdown":"@JohnLi I checked the id and for, they were matching (will include a screenshot as well)","body":"@JohnLi I checked the id and for, they were matching (will include a screenshot as well)"},{"owner":{"account_id":26852198,"reputation":7151,"user_id":20436957,"display_name":"John Li"},"score":0,"creation_date":1669105397,"post_id":74527792,"comment_id":131561933,"body_markdown":"@reinbowpuke It didn&#39;t work because all `input` had same `id`. Each one of the `input` need to have an unique `id`, and the `label` of the same pair need a matching `for`.  In this case, I think both can be set as something like `stat.index`, so each pair will be different. Not sure if this is the only issue, but hope it would help.","body":"@reinbowpuke It didn&#39;t work because all <code>input</code> had same <code>id</code>. Each one of the <code>input</code> need to have an unique <code>id</code>, and the <code>label</code> of the same pair need a matching <code>for</code>.  In this case, I think both can be set as something like <code>stat.index</code>, so each pair will be different. Not sure if this is the only issue, but hope it would help."},{"owner":{"account_id":26949185,"reputation":1,"user_id":20518690,"display_name":"reinbowpuke"},"score":0,"creation_date":1669110933,"post_id":74527792,"comment_id":131563864,"body_markdown":"@JohnLi the problem really was with the id and index! It worked perfectly now, thanks a bunch!","body":"@JohnLi the problem really was with the id and index! It worked perfectly now, thanks a bunch!"}],"tags":[],"owner":{"account_id":26852198,"reputation":7151,"user_id":20436957,"display_name":"John Li"},"comment_count":10,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669104251,"creation_date":1669094112,"answer_id":74527792,"question_id":74527676,"body_markdown":"**UPDATE: Added live test at the end**\r\n\r\n**Unlike `class`, each `id` property must be unique in the whole document.**\r\n\r\n[More about `id`][1]\r\n\r\n**Matching `id` and `for` also need to be assigned for each pair of `input` and `label` to make the styles work.**\r\n\r\nThe `input[type=&quot;radio&quot;]:checked + label` selector is not targeting the `label` properly.\r\n\r\nThis is because it uses adjacent sibling selector `+`, but `input` and `label` are not adjacent due to a `&lt;br&gt;` in between.\r\n\r\n[More about CSS combinators][2]\r\n\r\nTo solve this, you could use a general sibling combinator `~` to target the `label`:\r\n\r\n```\r\ninput[type=&quot;radio&quot;]:checked ~ label {\r\n    background: #455a64; \r\n    color: #eceff1; \r\n}\r\n```\r\n\r\n**OR** remove the `&lt;br&gt;` in between the `input` and `label`, and keep the original CSS:\r\n\r\n```\r\n&lt;div class=&quot;choiceradiobox&quot; data-th-each=&quot;choice, stat : ${list.choice}&quot;&gt;\r\n  &lt;input\r\n    id=&quot;selectedchoice&quot;\r\n    name=&quot;choice&quot;\r\n    type=&quot;radio&quot;\r\n    data-th-value=&quot;*{list[__${st.index}__].choice}&quot;\r\n  /&gt;\r\n  &lt;label for=&quot;selectedchoice&quot;&gt;&lt;span data-th-text=&quot;${choice}&quot;&gt;&lt;/span&gt;&lt;/label&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\nBoth ways should make `label` change color when `:checked`.\r\n\r\nHope this will help!\r\n\r\n**LIVE TEST** (run with button below)\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    input[type=&quot;radio&quot;] {\r\n      display: none;\r\n    }\r\n\r\n    input[type=&quot;radio&quot;]:checked ~ label {\r\n      background: #455a64;\r\n      color: #eceff1;\r\n    }\r\n\r\n    label {\r\n      display: block;\r\n      margin: auto;\r\n      width: max-content;\r\n      text-align: center;\r\n      padding-top: 0.05em;\r\n      padding-bottom: 0.05em;\r\n      padding-left: 5em;\r\n      padding-right: 5em;\r\n      line-height: 45px;\r\n      cursor: pointer;\r\n      border: solid #eceff1;\r\n      background-color: #eceff1;\r\n      padding-top: 0.05em;\r\n    }\r\n\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;fieldset style=&quot;border: 0&quot;&gt;\r\n      &lt;div class=&quot;choiceradiobox&quot; data-th-each=&quot;choice, stat : ${list.choice}&quot;&gt;\r\n        &lt;input\r\n          id=&quot;selectedchoice1&quot;\r\n          name=&quot;choice&quot;\r\n          type=&quot;radio&quot;\r\n          data-th-value=&quot;*{list[__${st.index}__].choice}&quot;\r\n        /&gt;&lt;br /&gt;\r\n        &lt;label for=&quot;selectedchoice1&quot;&gt;selectedchoice1&lt;/label&gt;\r\n      &lt;/div&gt;\r\n      &lt;div class=&quot;choiceradiobox&quot; data-th-each=&quot;choice, stat : ${list.choice}&quot;&gt;\r\n        &lt;input\r\n          id=&quot;selectedchoice2&quot;\r\n          name=&quot;choice&quot;\r\n          type=&quot;radio&quot;\r\n          data-th-value=&quot;*{list[__${st.index}__].choice}&quot;\r\n        /&gt;&lt;br /&gt;\r\n        &lt;label for=&quot;selectedchoice2&quot;&gt;selectedchoice2&lt;/label&gt;\r\n      &lt;/div&gt;\r\n      &lt;div class=&quot;choiceradiobox&quot; data-th-each=&quot;choice, stat : ${list.choice}&quot;&gt;\r\n        &lt;input\r\n          id=&quot;selectedchoice3&quot;\r\n          name=&quot;choice&quot;\r\n          type=&quot;radio&quot;\r\n          data-th-value=&quot;*{list[__${st.index}__].choice}&quot;\r\n        /&gt;&lt;br /&gt;\r\n        &lt;label for=&quot;selectedchoice3&quot;&gt;selectedchoice3&lt;/label&gt;\r\n      &lt;/div&gt;\r\n    &lt;/fieldset&gt;\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/id\r\n  [2]: https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/Selectors/Combinators","title":"How to show colour change when customised radio button is selected?","body":"<p><strong>UPDATE: Added live test at the end</strong></p>\n<p><strong>Unlike <code>class</code>, each <code>id</code> property must be unique in the whole document.</strong></p>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/id\" rel=\"nofollow noreferrer\">More about <code>id</code></a></p>\n<p><strong>Matching <code>id</code> and <code>for</code> also need to be assigned for each pair of <code>input</code> and <code>label</code> to make the styles work.</strong></p>\n<p>The <code>input[type=&quot;radio&quot;]:checked + label</code> selector is not targeting the <code>label</code> properly.</p>\n<p>This is because it uses adjacent sibling selector <code>+</code>, but <code>input</code> and <code>label</code> are not adjacent due to a <code>&lt;br&gt;</code> in between.</p>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/Selectors/Combinators\" rel=\"nofollow noreferrer\">More about CSS combinators</a></p>\n<p>To solve this, you could use a general sibling combinator <code>~</code> to target the <code>label</code>:</p>\n<pre><code>input[type=&quot;radio&quot;]:checked ~ label {\n    background: #455a64; \n    color: #eceff1; \n}\n</code></pre>\n<p><strong>OR</strong> remove the <code>&lt;br&gt;</code> in between the <code>input</code> and <code>label</code>, and keep the original CSS:</p>\n<pre><code>&lt;div class=&quot;choiceradiobox&quot; data-th-each=&quot;choice, stat : ${list.choice}&quot;&gt;\n  &lt;input\n    id=&quot;selectedchoice&quot;\n    name=&quot;choice&quot;\n    type=&quot;radio&quot;\n    data-th-value=&quot;*{list[__${st.index}__].choice}&quot;\n  /&gt;\n  &lt;label for=&quot;selectedchoice&quot;&gt;&lt;span data-th-text=&quot;${choice}&quot;&gt;&lt;/span&gt;&lt;/label&gt;\n&lt;/div&gt;\n</code></pre>\n<p>Both ways should make <code>label</code> change color when <code>:checked</code>.</p>\n<p>Hope this will help!</p>\n<p><strong>LIVE TEST</strong> (run with button below)</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>input[type=\"radio\"] {\n  display: none;\n}\n\ninput[type=\"radio\"]:checked ~ label {\n  background: #455a64;\n  color: #eceff1;\n}\n\nlabel {\n  display: block;\n  margin: auto;\n  width: max-content;\n  text-align: center;\n  padding-top: 0.05em;\n  padding-bottom: 0.05em;\n  padding-left: 5em;\n  padding-right: 5em;\n  line-height: 45px;\n  cursor: pointer;\n  border: solid #eceff1;\n  background-color: #eceff1;\n  padding-top: 0.05em;\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;fieldset style=\"border: 0\"&gt;\n  &lt;div class=\"choiceradiobox\" data-th-each=\"choice, stat : ${list.choice}\"&gt;\n    &lt;input\n      id=\"selectedchoice1\"\n      name=\"choice\"\n      type=\"radio\"\n      data-th-value=\"*{list[__${st.index}__].choice}\"\n    /&gt;&lt;br /&gt;\n    &lt;label for=\"selectedchoice1\"&gt;selectedchoice1&lt;/label&gt;\n  &lt;/div&gt;\n  &lt;div class=\"choiceradiobox\" data-th-each=\"choice, stat : ${list.choice}\"&gt;\n    &lt;input\n      id=\"selectedchoice2\"\n      name=\"choice\"\n      type=\"radio\"\n      data-th-value=\"*{list[__${st.index}__].choice}\"\n    /&gt;&lt;br /&gt;\n    &lt;label for=\"selectedchoice2\"&gt;selectedchoice2&lt;/label&gt;\n  &lt;/div&gt;\n  &lt;div class=\"choiceradiobox\" data-th-each=\"choice, stat : ${list.choice}\"&gt;\n    &lt;input\n      id=\"selectedchoice3\"\n      name=\"choice\"\n      type=\"radio\"\n      data-th-value=\"*{list[__${st.index}__].choice}\"\n    /&gt;&lt;br /&gt;\n    &lt;label for=\"selectedchoice3\"&gt;selectedchoice3&lt;/label&gt;\n  &lt;/div&gt;\n&lt;/fieldset&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"comments":[{"owner":{"account_id":26949185,"reputation":1,"user_id":20518690,"display_name":"reinbowpuke"},"score":0,"creation_date":1669103218,"post_id":74528548,"comment_id":131561275,"body_markdown":"Thanks for the hint! But it seems to work perfectly on the online snippet sites I tried, and when I added the tiny &lt;p /&gt; on my IDE no selection could be made at all...","body":"Thanks for the hint! But it seems to work perfectly on the online snippet sites I tried, and when I added the tiny &lt;p /&gt; on my IDE no selection could be made at all..."}],"tags":[],"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669138348,"creation_date":1669100138,"answer_id":74528548,"question_id":74527676,"body_markdown":"Paste the following code into this [W3Schools &quot;Try it&quot;][1] runner page.\r\nDelete all the code that appears on the left hand side first, then paste.\r\nI double the input element so that the effect can be seen in this code. Once you are satisfied with the styling, just delete the extra dummy radio button. You will notice that I included @John Li&#39;s CSS, and changed you ```width: max-content;``` to ```width: auto;``` (just playing around).\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;header&gt;\r\n&lt;style&gt;\r\ninput[type=radio] {\r\n     display: none;\r\n}\r\ninput[type=&quot;radio&quot;]:checked ~ label {\r\n    background: #455a64; \r\n    color: #eceff1; \r\n}\r\nlabel {\r\n    display: block; \r\n    margin: auto; \r\n    width: auto; \r\n    text-align: center;\r\n    padding-top : 0.05em;\r\n    padding-bottom: 0.05em;\r\n    padding-left: 5em;\r\n    padding-right: 5em;\r\n    line-height: 45px; \r\n    cursor: pointer; \r\n    border: solid #eceff1; \r\n    background-color: #eceff1;\r\n    padding-top: 0.05em;\r\n}\r\n&lt;/style&gt;\r\n&lt;/header&gt;\r\n&lt;body&gt;\r\n\r\n&lt;h1&gt;Display Radio Buttons&lt;/h1&gt;\r\n\r\n&lt;form action=&quot;&quot;&gt;\r\n  &lt;div&gt;\r\n   &lt;input\r\n    id=&quot;selectedchoice1&quot;\r\n    name=&quot;choice&quot;\r\n    type=&quot;radio&quot;\r\n    data-th-value=&quot;*{list[__${st.index}__].choice}&quot;\r\n  /&gt;\r\n  &lt;label for=&quot;selectedchoice1&quot;&gt;&lt;span data-th-text=&quot;${choice}&quot;&gt;meow&lt;/span&gt;&lt;/label&gt; \r\n  &lt;p/&gt; &lt;!-- this seems to prevent bleeding of the color from top down. \r\nNeither br or div work. --&gt;\r\n  &lt;input\r\n    id=&quot;selectedchoice2&quot;\r\n    name=&quot;choice&quot;\r\n    type=&quot;radio&quot;\r\n    data-th-value=&quot;*{list[__${st.index}__].choice}&quot;\r\n  /&gt;\r\n &lt;label for=&quot;selectedchoice2&quot;&gt;&lt;span&gt;bark&lt;/span&gt;&lt;/label&gt;\r\n &lt;/div&gt;\r\n&lt;/form&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n\r\n  [1]: https://www.w3schools.com/tags/tryit.asp?filename=tryhtml5_input_type_radio","title":"How to show colour change when customised radio button is selected?","body":"<p>Paste the following code into this <a href=\"https://www.w3schools.com/tags/tryit.asp?filename=tryhtml5_input_type_radio\" rel=\"nofollow noreferrer\">W3Schools &quot;Try it&quot;</a> runner page.\nDelete all the code that appears on the left hand side first, then paste.\nI double the input element so that the effect can be seen in this code. Once you are satisfied with the styling, just delete the extra dummy radio button. You will notice that I included @John Li's CSS, and changed you <code>width: max-content;</code> to <code>width: auto;</code> (just playing around).</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;header&gt;\n&lt;style&gt;\ninput[type=radio] {\n     display: none;\n}\ninput[type=&quot;radio&quot;]:checked ~ label {\n    background: #455a64; \n    color: #eceff1; \n}\nlabel {\n    display: block; \n    margin: auto; \n    width: auto; \n    text-align: center;\n    padding-top : 0.05em;\n    padding-bottom: 0.05em;\n    padding-left: 5em;\n    padding-right: 5em;\n    line-height: 45px; \n    cursor: pointer; \n    border: solid #eceff1; \n    background-color: #eceff1;\n    padding-top: 0.05em;\n}\n&lt;/style&gt;\n&lt;/header&gt;\n&lt;body&gt;\n\n&lt;h1&gt;Display Radio Buttons&lt;/h1&gt;\n\n&lt;form action=&quot;&quot;&gt;\n  &lt;div&gt;\n   &lt;input\n    id=&quot;selectedchoice1&quot;\n    name=&quot;choice&quot;\n    type=&quot;radio&quot;\n    data-th-value=&quot;*{list[__${st.index}__].choice}&quot;\n  /&gt;\n  &lt;label for=&quot;selectedchoice1&quot;&gt;&lt;span data-th-text=&quot;${choice}&quot;&gt;meow&lt;/span&gt;&lt;/label&gt; \n  &lt;p/&gt; &lt;!-- this seems to prevent bleeding of the color from top down. \nNeither br or div work. --&gt;\n  &lt;input\n    id=&quot;selectedchoice2&quot;\n    name=&quot;choice&quot;\n    type=&quot;radio&quot;\n    data-th-value=&quot;*{list[__${st.index}__].choice}&quot;\n  /&gt;\n &lt;label for=&quot;selectedchoice2&quot;&gt;&lt;span&gt;bark&lt;/span&gt;&lt;/label&gt;\n &lt;/div&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}],"owner":{"account_id":26949185,"reputation":1,"user_id":20518690,"display_name":"reinbowpuke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74527792,"answer_count":2,"score":0,"last_activity_date":1669138348,"creation_date":1669092965,"question_id":74527676,"body_markdown":"I am new to coding generally, and have been working on a quiz program on HTML and CSS (data is from PostgreSQL, framework SpringBoot on Eclipse. PHP and JQuery not included in syllabus).\r\n\r\nHere&#39;s my problem:\r\n1. Now I have a list of answers where the user will have to select from. \r\n2. Was hoping to have the colours of the button-like radio input? change colour when the user clicks on it. \r\n3. Managed to create the buttons and the cursor when it hovers over the selections, but there&#39;s no change despite my CSS. \r\n\r\nCan someone tell me where I did wrong? Big thanks in advance.\r\n\r\n\r\n**※Updated HTML and CSS according to the advices in the comments + more code:**\r\n\r\nThis is the HTML code: \r\n\r\nthe screenshot of the id: https://i.stack.imgur.com/4IeWK.png\r\n\r\n```\r\n&lt;body&gt;\r\n\t&lt;form method=&quot;post&quot; action=&quot;/result&quot; data-th-object=&quot;${form}&quot;&gt;\r\n\t\t&lt;!-- ヘッダータイトル --&gt;\r\n\t\t&lt;div class=&quot;headerbackground&quot;&gt;\r\n\t\t\t&lt;h6&gt;模擬試験オンライン&lt;/h6&gt;\r\n\t\t&lt;/div&gt;\r\n\t\t&lt;br&gt;\r\n\t\t&lt;!-- 試験指示 --&gt;\r\n\t\t&lt;div class=&quot;examinstruction&quot;&gt;\r\n\t\t\t&lt;p&gt;表示された言葉の英単語を以下から選び、&lt;/p&gt;\r\n\t\t\t&lt;p&gt;OKボタンをクリックしてください。&lt;/p&gt;\r\n\t\t&lt;/div&gt;\r\n\t\t&lt;br&gt;\r\n\t\t&lt;!-- question --&gt;\r\n\r\n\t\t&lt;div data-th-each=&quot;list, st : ${form.list}&quot;&gt;\r\n\t\t\t&lt;p style=&quot;text-align: center; font-size: 12px;&quot;&gt;\r\n\t\t\t\t&lt;span data-th-text=&quot;${list.questionCount}&quot;&gt;n&lt;/span&gt; &lt;span&gt;/&lt;/span&gt; &lt;span\r\n\t\t\t\t\tdata-th-text=&quot;${list.questionTotal}&quot;&gt;/n&lt;/span&gt;\r\n\t\t\t&lt;/p&gt;\r\n\t\t\t&lt;div class=&quot;questionborder&quot;&gt;\r\n\t\t\t\t&lt;p style=&quot;font-size: 22px; font-weight: bold&quot;\r\n\t\t\t\t\tdata-th-text=&quot;${list.content}&quot;&gt;question&lt;/p&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t\t&lt;!-- answer choice --&gt;\r\n\t\t\t&lt;fieldset style=&quot;border: 0&quot;&gt;\r\n\t\t\t\t&lt;div class=&quot;choiceradiobox&quot;\r\n\t\t\t\t\tdata-th-each=&quot;choice, stat : ${list.choice}&quot;&gt;\r\n\t\t\t\t\t&lt;input id=&quot;selectedchoice&quot; data-th-name=&quot;|choice${st.count}|&quot;\r\n\t\t\t\t\t\ttype=&quot;radio&quot; data-th-value=&quot;${choice}&quot;\r\n\t\t\t\t\t\t/&gt;\r\n\t\t\t\t\t\t&lt;label\r\n\t\t\t\t\t\tfor=&quot;selectedchoice&quot;&gt;&lt;span data-th-text=&quot;${choice}&quot;&gt;&lt;/span&gt;&lt;/label&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n\t\t\t&lt;/fieldset&gt;\r\n\t\t&lt;/div&gt;\r\n\r\n\t\t&lt;!-- 解答完了ボタン --&gt;\r\n\t\t&lt;div class=&quot;submitsection&quot;&gt;\r\n\t\t\t&lt;input class=&quot;btn btn-secondary&quot; style=&quot;font-size: 25px&quot;\r\n\t\t\t\ttype=&quot;submit&quot; onclick=validate() value=&quot;OK!&quot;&gt;\r\n\t\t&lt;/div&gt;\r\n\t&lt;/form&gt;\r\n&lt;/body&gt;\r\n```\r\n CSS:\r\n\r\n```\r\ninput[type=radio] {\r\n\t display: none;\r\n}\r\n\r\ninput[type=&quot;radio&quot;]:checked + label {\r\n\tbackground: #455a64; \r\n\tcolor: #eceff1; \r\n}\r\n\r\nlabel {\r\n\tdisplay: block; \r\n\tmargin: auto; \r\n\twidth: max-content; \r\n\ttext-align: center;\r\n\tpadding-top : 0.05em;\r\n\tpadding-bottom: 0.05em;\r\n\tpadding-left: 5em;\r\n\tpadding-right: 5em;\r\n\tline-height: 45px; \r\n\tcursor: pointer; \r\n\tborder: solid #eceff1;\r\n\tbackground-color: #eceff1;\r\n\tpadding-top: 0.05em;\r\n}\r\n\r\n\r\n  ","title":"How to show colour change when customised radio button is selected?","body":"<p>I am new to coding generally, and have been working on a quiz program on HTML and CSS (data is from PostgreSQL, framework SpringBoot on Eclipse. PHP and JQuery not included in syllabus).</p>\n<p>Here's my problem:</p>\n<ol>\n<li>Now I have a list of answers where the user will have to select from.</li>\n<li>Was hoping to have the colours of the button-like radio input? change colour when the user clicks on it.</li>\n<li>Managed to create the buttons and the cursor when it hovers over the selections, but there's no change despite my CSS.</li>\n</ol>\n<p>Can someone tell me where I did wrong? Big thanks in advance.</p>\n<p><strong>※Updated HTML and CSS according to the advices in the comments + more code:</strong></p>\n<p>This is the HTML code:</p>\n<p>the screenshot of the id: <a href=\"https://i.stack.imgur.com/4IeWK.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/4IeWK.png</a></p>\n<pre><code>&lt;body&gt;\n    &lt;form method=&quot;post&quot; action=&quot;/result&quot; data-th-object=&quot;${form}&quot;&gt;\n        &lt;!-- ヘッダータイトル --&gt;\n        &lt;div class=&quot;headerbackground&quot;&gt;\n            &lt;h6&gt;模擬試験オンライン&lt;/h6&gt;\n        &lt;/div&gt;\n        &lt;br&gt;\n        &lt;!-- 試験指示 --&gt;\n        &lt;div class=&quot;examinstruction&quot;&gt;\n            &lt;p&gt;表示された言葉の英単語を以下から選び、&lt;/p&gt;\n            &lt;p&gt;OKボタンをクリックしてください。&lt;/p&gt;\n        &lt;/div&gt;\n        &lt;br&gt;\n        &lt;!-- question --&gt;\n\n        &lt;div data-th-each=&quot;list, st : ${form.list}&quot;&gt;\n            &lt;p style=&quot;text-align: center; font-size: 12px;&quot;&gt;\n                &lt;span data-th-text=&quot;${list.questionCount}&quot;&gt;n&lt;/span&gt; &lt;span&gt;/&lt;/span&gt; &lt;span\n                    data-th-text=&quot;${list.questionTotal}&quot;&gt;/n&lt;/span&gt;\n            &lt;/p&gt;\n            &lt;div class=&quot;questionborder&quot;&gt;\n                &lt;p style=&quot;font-size: 22px; font-weight: bold&quot;\n                    data-th-text=&quot;${list.content}&quot;&gt;question&lt;/p&gt;\n            &lt;/div&gt;\n            &lt;!-- answer choice --&gt;\n            &lt;fieldset style=&quot;border: 0&quot;&gt;\n                &lt;div class=&quot;choiceradiobox&quot;\n                    data-th-each=&quot;choice, stat : ${list.choice}&quot;&gt;\n                    &lt;input id=&quot;selectedchoice&quot; data-th-name=&quot;|choice${st.count}|&quot;\n                        type=&quot;radio&quot; data-th-value=&quot;${choice}&quot;\n                        /&gt;\n                        &lt;label\n                        for=&quot;selectedchoice&quot;&gt;&lt;span data-th-text=&quot;${choice}&quot;&gt;&lt;/span&gt;&lt;/label&gt;\n                &lt;/div&gt;\n            &lt;/fieldset&gt;\n        &lt;/div&gt;\n\n        &lt;!-- 解答完了ボタン --&gt;\n        &lt;div class=&quot;submitsection&quot;&gt;\n            &lt;input class=&quot;btn btn-secondary&quot; style=&quot;font-size: 25px&quot;\n                type=&quot;submit&quot; onclick=validate() value=&quot;OK!&quot;&gt;\n        &lt;/div&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n</code></pre>\n<p>CSS:</p>\n<pre><code>input[type=radio] {\n     display: none;\n}\n\ninput[type=&quot;radio&quot;]:checked + label {\n    background: #455a64; \n    color: #eceff1; \n}\n\nlabel {\n    display: block; \n    margin: auto; \n    width: max-content; \n    text-align: center;\n    padding-top : 0.05em;\n    padding-bottom: 0.05em;\n    padding-left: 5em;\n    padding-right: 5em;\n    line-height: 45px; \n    cursor: pointer; \n    border: solid #eceff1;\n    background-color: #eceff1;\n    padding-top: 0.05em;\n}\n\n\n  \n</code></pre>\n"},{"tags":["java","tdd","junit4"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1669137461,"post_id":74536614,"comment_id":131574048,"body_markdown":"Change `int value= initialValue;` in your constructor to  `value= initialValue;`. You are creating a new local variable instead of assigning to the existing field.","body":"Change <code>int value= initialValue;</code> in your constructor to  <code>value= initialValue;</code>. You are creating a new local variable instead of assigning to the existing field."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1669137586,"post_id":74536614,"comment_id":131574090,"body_markdown":"The error is btw. not related to JUnit. Your constructor was always wrong and didn&#39;t set the field value. And now you already know why tests are useful because your test revealed a bug in your code ;-)","body":"The error is btw. not related to JUnit. Your constructor was always wrong and didn&#39;t set the field value. And now you already know why tests are useful because your test revealed a bug in your code ;-)"}],"answers":[{"tags":[],"owner":{"account_id":5049794,"reputation":631,"user_id":4054720,"display_name":"Ben Borchard"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669137651,"creation_date":1669137651,"answer_id":74536695,"question_id":74536614,"body_markdown":"As spiders mentioned in the comments your line \r\n\r\n```\r\nint value= initialValue;\r\n```\r\n\r\ncreates a variable that is only accessible in scope for the constructor method.  The class field `value` will not be set to anything and thus will have the default value for an unassigned int, which is `0`\r\n\r\nIf you change that line to \r\n\r\n```\r\nvalue = initialValue;\r\n```\r\nor\r\n```\r\nthis.value = initialValue;\r\n```\r\n\r\nyou should see the behavior you want as you will be setting the value for the `value` field of your object (instead of a local `value` variable)","title":"JUnit4 - Trying to make my constructor work with my unit tests","body":"<p>As spiders mentioned in the comments your line</p>\n<pre><code>int value= initialValue;\n</code></pre>\n<p>creates a variable that is only accessible in scope for the constructor method.  The class field <code>value</code> will not be set to anything and thus will have the default value for an unassigned int, which is <code>0</code></p>\n<p>If you change that line to</p>\n<pre><code>value = initialValue;\n</code></pre>\n<p>or</p>\n<pre><code>this.value = initialValue;\n</code></pre>\n<p>you should see the behavior you want as you will be setting the value for the <code>value</code> field of your object (instead of a local <code>value</code> variable)</p>\n"},{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669137815,"creation_date":1669137815,"answer_id":74536737,"question_id":74536614,"body_markdown":"I&#39;m sure some good old printlns will show you what&#39;s going on:\r\n```\r\n    public int addToValue(int valueChange){\r\n        System.out.println(String.format(&quot;Adding %s to %s&quot;, valueChange, value));\r\n        value = value+valueChange;\r\n        System.out.println(&quot;Returning &quot; + value);\r\n        return value;\r\n    }\r\n```\r\n\r\nYou&#39;ll see that your constructor is wrong and this.value is initially zero","title":"JUnit4 - Trying to make my constructor work with my unit tests","body":"<p>I'm sure some good old printlns will show you what's going on:</p>\n<pre><code>    public int addToValue(int valueChange){\n        System.out.println(String.format(&quot;Adding %s to %s&quot;, valueChange, value));\n        value = value+valueChange;\n        System.out.println(&quot;Returning &quot; + value);\n        return value;\n    }\n</code></pre>\n<p>You'll see that your constructor is wrong and this.value is initially zero</p>\n"}],"owner":{"account_id":27015534,"reputation":3,"user_id":20574453,"display_name":"rulerH"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74536695,"answer_count":2,"score":0,"last_activity_date":1669137815,"creation_date":1669137278,"question_id":74536614,"body_markdown":"So as you will be able to see in the code, my class constructor asks the user for an input of the &quot;initialValue&quot; of their object. I then have a method &quot;addToValue&quot; which adds to that value.\r\nWhen trying to use JUnit4 to learn TDD it does not use the &quot;initialValue&quot; parameter to set the value of &quot;value&quot;, therefore it is only returning the input of the &quot;valueChange&quot; parameter.\r\nSorry if this is confusing.\r\n\r\nHere is my code\r\n\r\n```\r\npublic class Sterling {\r\n    int value;\r\n    public Sterling(int initialValue) {\r\n        int value= initialValue;\r\n\r\n\r\n    }\r\n    public int addToValue(int valueChange){;\r\n        value = value+valueChange;\r\n        return value;\r\n    }\r\n}\r\n```\r\n\r\nThis is the JUnit4 code\r\n```\r\nimport org.junit.Before;\r\nimport org.junit.Test;\r\n\r\nimport static org.junit.Assert.*;\r\n\r\npublic class SterlingTest {\r\n\r\n    private Sterling o;\r\n\r\n    @Before\r\n    public void setUp() {\r\n        o = new Sterling(100);\r\n    }\r\n\r\n    @Test\r\n    public void testAddToValue(){\r\n            assertEquals(150,o.addToValue(50));\r\n\r\n    }}\r\n\r\n```\r\n\r\n\r\n\r\n\r\nin the &quot;assertEquals&quot; line, 150 is the expected return value (initalValue is 100 and valueChange is 50) however my &quot;Actual&quot; output value is 50. As mentioned before I am only just learning to use JUnit so I&#39;m sure its a simple mistake but I have been stuck on this for nearly 2hours lol. \r\n\r\nThank you for any help :)","title":"JUnit4 - Trying to make my constructor work with my unit tests","body":"<p>So as you will be able to see in the code, my class constructor asks the user for an input of the &quot;initialValue&quot; of their object. I then have a method &quot;addToValue&quot; which adds to that value.\nWhen trying to use JUnit4 to learn TDD it does not use the &quot;initialValue&quot; parameter to set the value of &quot;value&quot;, therefore it is only returning the input of the &quot;valueChange&quot; parameter.\nSorry if this is confusing.</p>\n<p>Here is my code</p>\n<pre><code>public class Sterling {\n    int value;\n    public Sterling(int initialValue) {\n        int value= initialValue;\n\n\n    }\n    public int addToValue(int valueChange){;\n        value = value+valueChange;\n        return value;\n    }\n}\n</code></pre>\n<p>This is the JUnit4 code</p>\n<pre><code>import org.junit.Before;\nimport org.junit.Test;\n\nimport static org.junit.Assert.*;\n\npublic class SterlingTest {\n\n    private Sterling o;\n\n    @Before\n    public void setUp() {\n        o = new Sterling(100);\n    }\n\n    @Test\n    public void testAddToValue(){\n            assertEquals(150,o.addToValue(50));\n\n    }}\n\n</code></pre>\n<p>in the &quot;assertEquals&quot; line, 150 is the expected return value (initalValue is 100 and valueChange is 50) however my &quot;Actual&quot; output value is 50. As mentioned before I am only just learning to use JUnit so I'm sure its a simple mistake but I have been stuck on this for nearly 2hours lol.</p>\n<p>Thank you for any help :)</p>\n"},{"tags":["java","jframe"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1669138270,"post_id":74536683,"comment_id":131574348,"body_markdown":"You shouldn&#39;t refer to that frame there. The frame&#39;s visibility should be controlled by the code that *calls* that `Winner` class (not `WinnerClass` - string &quot;Class&quot; is completely redundant). [Method names](https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions) start lower case in Java btw","body":"You shouldn&#39;t refer to that frame there. The frame&#39;s visibility should be controlled by the code that <i>calls</i> that <code>Winner</code> class (not <code>WinnerClass</code> - string &quot;Class&quot; is completely redundant). <a href=\"https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions\" rel=\"nofollow noreferrer\">Method names</a> start lower case in Java btw"},{"owner":{"account_id":447793,"reputation":57,"user_id":841635,"display_name":"Arash"},"score":0,"creation_date":1669147699,"post_id":74536683,"comment_id":131577324,"body_markdown":"Thank you for your answer. &quot;WinnerClass&quot; is a name that i choose. imagine i change it to &quot;looooooser&quot;.","body":"Thank you for your answer. &quot;WinnerClass&quot; is a name that i choose. imagine i change it to &quot;looooooser&quot;."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1669148238,"post_id":74536683,"comment_id":131577482,"body_markdown":"You could, but it probably wouldn&#39;t work any better","body":"You could, but it probably wouldn&#39;t work any better"},{"owner":{"account_id":447793,"reputation":57,"user_id":841635,"display_name":"Arash"},"score":0,"creation_date":1669148878,"post_id":74536683,"comment_id":131577672,"body_markdown":"I don&#39;t think it happens because of name. Names can&#39;t make difference. It&#39;s about code.","body":"I don&#39;t think it happens because of name. Names can&#39;t make difference. It&#39;s about code."}],"owner":{"account_id":447793,"reputation":57,"user_id":841635,"display_name":"Arash"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669137604,"creation_date":1669137604,"question_id":74536683,"body_markdown":"I need to runtime change `JFrame `properties in below code but i got error. `F_3x3 `is a `JFrame`. Please help me:\r\n\r\n\r\n```\r\npublic class WinnerClass {\r\n        public void RunEnd(short who){\r\n            System.out.format(&quot;Player %d wins&quot;,who );\r\n&gt; *F_3x3.setVisible(false);*\r\n        }\r\n        public boolean win3x3( short who){\r\n            if (((mat9[0]==who)&amp;&amp;(mat9[1]==who)&amp;&amp;(mat9[2]==who))||\r\n                ((mat9[0]==who)&amp;&amp;(mat9[4]==who)&amp;&amp;(mat9[8]==who)))\r\n                    return true;\r\n            else\r\n                return false;\r\n        }\r\n    }\r\n```\r\n\r\n\r\n```\r\n i need something like this:\r\n\r\nF_3x3.setVisible(false);\r\n```","title":"Dynamically change JFrame Properties at runtime in Java","body":"<p>I need to runtime change <code>JFrame </code>properties in below code but i got error. <code>F_3x3 </code>is a <code>JFrame</code>. Please help me:</p>\n<pre><code>public class WinnerClass {\n        public void RunEnd(short who){\n            System.out.format(&quot;Player %d wins&quot;,who );\n&gt; *F_3x3.setVisible(false);*\n        }\n        public boolean win3x3( short who){\n            if (((mat9[0]==who)&amp;&amp;(mat9[1]==who)&amp;&amp;(mat9[2]==who))||\n                ((mat9[0]==who)&amp;&amp;(mat9[4]==who)&amp;&amp;(mat9[8]==who)))\n                    return true;\n            else\n                return false;\n        }\n    }\n</code></pre>\n<pre><code> i need something like this:\n\nF_3x3.setVisible(false);\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":5083689,"reputation":1006,"user_id":4079056,"display_name":"sanurah"},"score":0,"creation_date":1669138665,"post_id":74536284,"comment_id":131574470,"body_markdown":"How did you check the output? I get 2022-12-09T13:21:32Z\nhttps://ideone.com/3mGJDq","body":"How did you check the output? I get 2022-12-09T13:21:32Z <a href=\"https://ideone.com/3mGJDq\" rel=\"nofollow noreferrer\">ideone.com/3mGJDq</a>"},{"owner":{"account_id":26527947,"reputation":41,"user_id":20160624,"display_name":"Lewis12"},"score":0,"creation_date":1669140469,"post_id":74536284,"comment_id":131575105,"body_markdown":"As @Noplopy mentioned, there&#39;s a timezone difference in October. I tried the date in December and it returned the date with 5 hour of difference.","body":"As @Noplopy mentioned, there&#39;s a timezone difference in October. I tried the date in December and it returned the date with 5 hour of difference."}],"answers":[{"tags":[],"owner":{"account_id":2721194,"reputation":51,"user_id":2347461,"display_name":"Noplopy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669137422,"creation_date":1669137356,"answer_id":74536631,"question_id":74536284,"body_markdown":"There is a time change in EST timezone on October 30th, try in September and you have only 4 hours difference and 5 hours in December.\r\n\r\nYour can try this on this website: https://savvytime.com/converter/est-to-utc/sep-12-2022/8-30am\r\n\r\n","title":"How to convert String to UTC timezone?","body":"<p>There is a time change in EST timezone on October 30th, try in September and you have only 4 hours difference and 5 hours in December.</p>\n<p>Your can try this on this website: <a href=\"https://savvytime.com/converter/est-to-utc/sep-12-2022/8-30am\" rel=\"nofollow noreferrer\">https://savvytime.com/converter/est-to-utc/sep-12-2022/8-30am</a></p>\n"}],"owner":{"account_id":26527947,"reputation":41,"user_id":20160624,"display_name":"Lewis12"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74536631,"answer_count":1,"score":0,"last_activity_date":1669137422,"creation_date":1669135776,"question_id":74536284,"body_markdown":"I have a string like this, \r\n\r\n    String userTime = &quot;12-09-2022 08:21:32 EST&quot;\r\n\r\nI have a utility which converts this string to UTC time\r\n\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern(&quot;MM-dd-yyyy HH:mm:ss z&quot;);\r\n    ZonedDateTime zdt = ZonedDateTime.parse(userTime, f).withZoneSameInstant(ZoneOffset.UTC);\r\n\r\nThis returns the result `2022-12-09T12:21:32Z`\r\n\r\nIt gives back the time difference of 4 hours. Shouldn&#39;t it be 5 hours?","title":"How to convert String to UTC timezone?","body":"<p>I have a string like this,</p>\n<pre><code>String userTime = &quot;12-09-2022 08:21:32 EST&quot;\n</code></pre>\n<p>I have a utility which converts this string to UTC time</p>\n<pre><code>DateTimeFormatter f = DateTimeFormatter.ofPattern(&quot;MM-dd-yyyy HH:mm:ss z&quot;);\nZonedDateTime zdt = ZonedDateTime.parse(userTime, f).withZoneSameInstant(ZoneOffset.UTC);\n</code></pre>\n<p>This returns the result <code>2022-12-09T12:21:32Z</code></p>\n<p>It gives back the time difference of 4 hours. Shouldn't it be 5 hours?</p>\n"},{"tags":["java","android","git","gitlab","repository"],"answers":[{"comments":[{"owner":{"account_id":27014379,"reputation":1,"user_id":20573496,"display_name":"Tobs"},"score":0,"creation_date":1669186416,"post_id":74536608,"comment_id":131584587,"body_markdown":"Will these pushing my project directly to the correct folder in the master branch? For example, if I have my project 1 open I am in the main branch and execute these commands, how can I push them directly to the correct folder in the master branch?","body":"Will these pushing my project directly to the correct folder in the master branch? For example, if I have my project 1 open I am in the main branch and execute these commands, how can I push them directly to the correct folder in the master branch?"},{"owner":{"account_id":18118137,"reputation":86,"user_id":13174552,"display_name":"Ammar"},"score":0,"creation_date":1669186762,"post_id":74536608,"comment_id":131584657,"body_markdown":"for ex : if you make changes inside project 1 then only project 1 folder will be updated on remote","body":"for ex : if you make changes inside project 1 then only project 1 folder will be updated on remote"},{"owner":{"account_id":27014379,"reputation":1,"user_id":20573496,"display_name":"Tobs"},"score":0,"creation_date":1669186898,"post_id":74536608,"comment_id":131584687,"body_markdown":"How can I connect my git repo with my local files? with the git checkout master in the terminal i get the message &quot;error: pathspec &#39;master&#39; did not match any files known to git","body":"How can I connect my git repo with my local files? with the git checkout master in the terminal i get the message &quot;error: pathspec &#39;master&#39; did not match any files known to git"},{"owner":{"account_id":18118137,"reputation":86,"user_id":13174552,"display_name":"Ammar"},"score":0,"creation_date":1669187755,"post_id":74536608,"comment_id":131584891,"body_markdown":"first of all check your remote url with this command :\ngit remote -v\n\nif this shows the correct url then pull the changes from remote repo to local and then set upstream branch","body":"first of all check your remote url with this command : git remote -v  if this shows the correct url then pull the changes from remote repo to local and then set upstream branch"},{"owner":{"account_id":27014379,"reputation":1,"user_id":20573496,"display_name":"Tobs"},"score":0,"creation_date":1669189105,"post_id":74536608,"comment_id":131585244,"body_markdown":"I got the message fatal: not a git repository (or any of the parent directories): git.\nSo first I have to use the command git clone [url], right? To clone the existing remote repo to my local computer?\nAfter that I have to go to the correct branch with git branch master. \nBut how to proceed?\nIf I use git pull afterwards won&#39;t my local data be overwritten with the remote data? There is no data in the remote repository except for the project folders. But in my local project folder the project is already finished.","body":"I got the message fatal: not a git repository (or any of the parent directories): git. So first I have to use the command git clone [url], right? To clone the existing remote repo to my local computer? After that I have to go to the correct branch with git branch master.  But how to proceed? If I use git pull afterwards won&#39;t my local data be overwritten with the remote data? There is no data in the remote repository except for the project folders. But in my local project folder the project is already finished."},{"owner":{"account_id":18118137,"reputation":86,"user_id":13174552,"display_name":"Ammar"},"score":0,"creation_date":1669189578,"post_id":74536608,"comment_id":131585356,"body_markdown":"yes first clone the existing project then pull the changes and your data won’t be overwritten but for the save side i recommend  that you should make backup of your project.","body":"yes first clone the existing project then pull the changes and your data won’t be overwritten but for the save side i recommend  that you should make backup of your project."},{"owner":{"account_id":27014379,"reputation":1,"user_id":20573496,"display_name":"Tobs"},"score":0,"creation_date":1669190231,"post_id":74536608,"comment_id":131585510,"body_markdown":"Okay thanks, now I have the right remote url check it with git remote -v. After that I use git checkout master to go to the master branch. Now im on the master branch. Can I simply use git push now to push my project to the right remote folder? Or what is the correct push command?","body":"Okay thanks, now I have the right remote url check it with git remote -v. After that I use git checkout master to go to the master branch. Now im on the master branch. Can I simply use git push now to push my project to the right remote folder? Or what is the correct push command?"},{"owner":{"account_id":18118137,"reputation":86,"user_id":13174552,"display_name":"Ammar"},"score":0,"creation_date":1669190662,"post_id":74536608,"comment_id":131585638,"body_markdown":"git push origin master use this for push","body":"git push origin master use this for push"},{"owner":{"account_id":27014379,"reputation":1,"user_id":20573496,"display_name":"Tobs"},"score":0,"creation_date":1669191223,"post_id":74536608,"comment_id":131585810,"body_markdown":"I have now done that, but nothing has changed in the remote repo unfortunately. I do not know what is wrong.","body":"I have now done that, but nothing has changed in the remote repo unfortunately. I do not know what is wrong."},{"owner":{"account_id":18118137,"reputation":86,"user_id":13174552,"display_name":"Ammar"},"score":0,"creation_date":1669194480,"post_id":74536608,"comment_id":131586806,"body_markdown":"did you check your remote repo branch is it main or master? or are you sure code pushed successfully to remote branch? did you commit the code?","body":"did you check your remote repo branch is it main or master? or are you sure code pushed successfully to remote branch? did you commit the code?"}],"tags":[],"owner":{"account_id":18118137,"reputation":86,"user_id":13174552,"display_name":"Ammar"},"comment_count":10,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669137248,"creation_date":1669137248,"answer_id":74536608,"question_id":74534732,"body_markdown":"First of all, I am assuming that you have already added all files to the staging area. now you should check your branch by running this command on terminal :\r\n\r\n    git branch\r\n\r\nit will show your current branch either **main** or **master**\r\n\r\nif your current branch is main branch then run these commands it will push your code to master branch\r\n\r\n    1. Git checkout master \r\n    2. Git pull origin main\r\n    3. Git push origin master\r\n\r\nif you need more help please let me know in comments.","title":"How can I push a local android studio project to gitlab in an existing folder in the master branch?","body":"<p>First of all, I am assuming that you have already added all files to the staging area. now you should check your branch by running this command on terminal :</p>\n<pre><code>git branch\n</code></pre>\n<p>it will show your current branch either <strong>main</strong> or <strong>master</strong></p>\n<p>if your current branch is main branch then run these commands it will push your code to master branch</p>\n<pre><code>1. Git checkout master \n2. Git pull origin main\n3. Git push origin master\n</code></pre>\n<p>if you need more help please let me know in comments.</p>\n"}],"owner":{"account_id":27014379,"reputation":1,"user_id":20573496,"display_name":"Tobs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":436,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669137248,"creation_date":1669129368,"question_id":74534732,"body_markdown":"I have 3 local projects on my computer\r\nproject1,\r\nproject2\r\nand project3\r\n\r\nIn gitlab I have an existing repository. There is the master branch in this are 3 existing folders:\r\nproject1,\r\nproject2\r\nand project3\r\n\r\nHow can I push the contents/project of my local project folders into the respective matching project folder in the master branch?\r\n\r\nSo that the contents from the local folder project 1 are also in the same folder project 1 in the repository. And so on.\r\n\r\nI tried with project 1, but the files from this folder are now all in a new main branch. These should be in the master branch in the correct folder.\r\n\r\nCan someone help me here?\r\nThanks!","title":"How can I push a local android studio project to gitlab in an existing folder in the master branch?","body":"<p>I have 3 local projects on my computer\nproject1,\nproject2\nand project3</p>\n<p>In gitlab I have an existing repository. There is the master branch in this are 3 existing folders:\nproject1,\nproject2\nand project3</p>\n<p>How can I push the contents/project of my local project folders into the respective matching project folder in the master branch?</p>\n<p>So that the contents from the local folder project 1 are also in the same folder project 1 in the repository. And so on.</p>\n<p>I tried with project 1, but the files from this folder are now all in a new main branch. These should be in the master branch in the correct folder.</p>\n<p>Can someone help me here?\nThanks!</p>\n"},{"tags":["java","java-stream"],"answers":[{"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1669192427,"post_id":74536328,"comment_id":131586126,"body_markdown":"I forgot about `.boxed()`, that&#39;s of course better than those `.mapToObj` calls.","body":"I forgot about <code>.boxed()</code>, that&#39;s of course better than those <code>.mapToObj</code> calls."}],"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669136006,"creation_date":1669136006,"answer_id":74536328,"question_id":74536100,"body_markdown":"It takes a few `flatMap` operations, but the following is the result:\r\n\r\n```java\r\npublic ResultObject getBestObjectWithParameters() {\r\n    int maxParameterValue = 10;\r\n    return IntStream.range(0, maxParameterValue)\r\n            .mapToObj(a -&gt; a) // Stream&lt;Integer&gt;\r\n            .flatMap(a -&gt; IntStream.range(0, maxParameterValue)\r\n                    .mapToObj(b -&gt; b) // Stream&lt;Integer&gt;\r\n                    .flatMap(b -&gt; IntStream.range(0, maxParameterValue)\r\n                            .mapToObj(c -&gt; c) // Stream&lt;Integer&gt;\r\n                            .map(c -&gt; runCalculation(a, b, c)) // Stream&lt;ResultObject&gt;\r\n                     ) // Stream&lt;resultObject&gt;\r\n            ) // Stream&lt;ResultObject&gt;\r\n            .max(Comparator.comparingDouble(ResultObject::getValue))\r\n            .orElse(null);\r\n}\r\n```\r\nNote that I have to use `mapToObj`, because `IntStream` can only `flatMap` to an `IntStream`, not to a `Stream&lt;ResultObject&gt;`.","title":"Use Java Streams to get max value for combination of parameters","body":"<p>It takes a few <code>flatMap</code> operations, but the following is the result:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ResultObject getBestObjectWithParameters() {\n    int maxParameterValue = 10;\n    return IntStream.range(0, maxParameterValue)\n            .mapToObj(a -&gt; a) // Stream&lt;Integer&gt;\n            .flatMap(a -&gt; IntStream.range(0, maxParameterValue)\n                    .mapToObj(b -&gt; b) // Stream&lt;Integer&gt;\n                    .flatMap(b -&gt; IntStream.range(0, maxParameterValue)\n                            .mapToObj(c -&gt; c) // Stream&lt;Integer&gt;\n                            .map(c -&gt; runCalculation(a, b, c)) // Stream&lt;ResultObject&gt;\n                     ) // Stream&lt;resultObject&gt;\n            ) // Stream&lt;ResultObject&gt;\n            .max(Comparator.comparingDouble(ResultObject::getValue))\n            .orElse(null);\n}\n</code></pre>\n<p>Note that I have to use <code>mapToObj</code>, because <code>IntStream</code> can only <code>flatMap</code> to an <code>IntStream</code>, not to a <code>Stream&lt;ResultObject&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669136566,"creation_date":1669136566,"answer_id":74536464,"question_id":74536100,"body_markdown":"Use `IntStream` and `flatMap`, as in:\r\n  \r\n\r\n      int maxParameterValue = 10;\r\n              IntStream.range(0, maxParameterValue).boxed()\r\n                .flatMap(i -&gt; IntStream.range(0, maxParameterValue).boxed()\r\n                    .flatMap(j -&gt; IntStream.range(0, maxParameterValue).boxed()\r\n                        .map(k -&gt; i + &quot;-&quot; + j + &quot;-&quot; + k)))\r\n                .forEach(s -&gt; System.out.println(s));\r\n\r\nBTW, this was much more painful to write than it needed to be. Streams are nice, but other languages would make this so much more concise and not require the annoying `.boxed()` stuff.","title":"Use Java Streams to get max value for combination of parameters","body":"<p>Use <code>IntStream</code> and <code>flatMap</code>, as in:</p>\n<pre><code>  int maxParameterValue = 10;\n          IntStream.range(0, maxParameterValue).boxed()\n            .flatMap(i -&gt; IntStream.range(0, maxParameterValue).boxed()\n                .flatMap(j -&gt; IntStream.range(0, maxParameterValue).boxed()\n                    .map(k -&gt; i + &quot;-&quot; + j + &quot;-&quot; + k)))\n            .forEach(s -&gt; System.out.println(s));\n</code></pre>\n<p>BTW, this was much more painful to write than it needed to be. Streams are nice, but other languages would make this so much more concise and not require the annoying <code>.boxed()</code> stuff.</p>\n"},{"tags":[],"owner":{"account_id":5914240,"reputation":1974,"user_id":4653517,"display_name":"James Mudd"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669136953,"creation_date":1669136953,"answer_id":74536540,"question_id":74536100,"body_markdown":"Here is a solution using a little class to wrap each calculation\r\n```\r\nimport com.google.common.collect.Sets;\r\n\r\nimport java.util.Comparator;\r\nimport java.util.List;\r\nimport java.util.Set;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.IntStream;\r\n\r\nclass Scratch {\r\n    public static void main(String[] args) {\r\n        int maxParameterValue = 10;\r\n\r\n        Set&lt;Integer&gt; params = IntStream.range(0, maxParameterValue).boxed().collect(Collectors.toSet());\r\n        Result bestResult = Sets.cartesianProduct(params, params, params).stream()\r\n                .parallel()\r\n                .map(Result::new)\r\n                .max(Comparator.comparingDouble(Result::getResult)).get();\r\n\r\n        System.out.println(bestResult);\r\n    }\r\n\r\n    private static double runCalculation(int a, int b, int c) {\r\n        // This just sums the 3 inputs replace with your function\r\n        return a + b + c;\r\n    }\r\n\r\n    private static class Result {\r\n        int a,b, c;\r\n        double result;\r\n\r\n        public Result(List&lt;Integer&gt; params) {\r\n            this.a = params.get(0);\r\n            this.b = params.get(1);\r\n            this.c = params.get(2);\r\n            this.result = runCalculation(a, b, c);\r\n        }\r\n\r\n        public double getResult() {\r\n            return result;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return String.format(&quot;Result{a=%d, b=%d, c=%d, result=%s}&quot;, a, b, c, result);\r\n        }\r\n    }\r\n}\r\n```\r\nit uses Guava to generate the parameters","title":"Use Java Streams to get max value for combination of parameters","body":"<p>Here is a solution using a little class to wrap each calculation</p>\n<pre><code>import com.google.common.collect.Sets;\n\nimport java.util.Comparator;\nimport java.util.List;\nimport java.util.Set;\nimport java.util.stream.Collectors;\nimport java.util.stream.IntStream;\n\nclass Scratch {\n    public static void main(String[] args) {\n        int maxParameterValue = 10;\n\n        Set&lt;Integer&gt; params = IntStream.range(0, maxParameterValue).boxed().collect(Collectors.toSet());\n        Result bestResult = Sets.cartesianProduct(params, params, params).stream()\n                .parallel()\n                .map(Result::new)\n                .max(Comparator.comparingDouble(Result::getResult)).get();\n\n        System.out.println(bestResult);\n    }\n\n    private static double runCalculation(int a, int b, int c) {\n        // This just sums the 3 inputs replace with your function\n        return a + b + c;\n    }\n\n    private static class Result {\n        int a,b, c;\n        double result;\n\n        public Result(List&lt;Integer&gt; params) {\n            this.a = params.get(0);\n            this.b = params.get(1);\n            this.c = params.get(2);\n            this.result = runCalculation(a, b, c);\n        }\n\n        public double getResult() {\n            return result;\n        }\n\n        @Override\n        public String toString() {\n            return String.format(&quot;Result{a=%d, b=%d, c=%d, result=%s}&quot;, a, b, c, result);\n        }\n    }\n}\n</code></pre>\n<p>it uses Guava to generate the parameters</p>\n"}],"owner":{"account_id":418572,"reputation":459,"user_id":795221,"accept_rate":100,"display_name":"imichaeldotorg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74536540,"answer_count":3,"score":0,"last_activity_date":1669136953,"creation_date":1669134997,"question_id":74536100,"body_markdown":"I&#39;m looking to transition this code to use Streams. \r\n\r\n```java\r\npublic ResultObject getBestObjectWithParameters() {\r\n    int maxParameterValue = 10;\r\n    double bestValue = 0.0;\r\n    ResultObject bestObject = null;\r\n    for (int a = 0; a &lt; maxParameterValue; a++) {\r\n      for (int b = 0; b &lt; maxParameterValue; b++) {\r\n        for (int c = 0; c &lt; maxParameterValue; c++) {\r\n          ResultObject o = runCalculation(a, b, c);\r\n          if (o.getValue() &gt; bestValue) {\r\n            bestValue = getValue;\r\n            bestObject = o;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return bestObject;\r\n  }\r\n```\r\n\r\nIn short, I&#39;d like to `runCalculation` on every combination of parameters.  `runCalculation` returns a `ResultObject`.  I&#39;d like to return *the* `ResultObject` that returns the maximum `ResultObject.getValue()`.\r\n\r\nIdeally, I would like to use `parallel()` to run this as quickly as possible.\r\n\r\nWhat is the best way to do this?\r\n","title":"Use Java Streams to get max value for combination of parameters","body":"<p>I'm looking to transition this code to use Streams.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ResultObject getBestObjectWithParameters() {\n    int maxParameterValue = 10;\n    double bestValue = 0.0;\n    ResultObject bestObject = null;\n    for (int a = 0; a &lt; maxParameterValue; a++) {\n      for (int b = 0; b &lt; maxParameterValue; b++) {\n        for (int c = 0; c &lt; maxParameterValue; c++) {\n          ResultObject o = runCalculation(a, b, c);\n          if (o.getValue() &gt; bestValue) {\n            bestValue = getValue;\n            bestObject = o;\n          }\n        }\n      }\n    }\n    return bestObject;\n  }\n</code></pre>\n<p>In short, I'd like to <code>runCalculation</code> on every combination of parameters.  <code>runCalculation</code> returns a <code>ResultObject</code>.  I'd like to return <em>the</em> <code>ResultObject</code> that returns the maximum <code>ResultObject.getValue()</code>.</p>\n<p>Ideally, I would like to use <code>parallel()</code> to run this as quickly as possible.</p>\n<p>What is the best way to do this?</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":24291308,"reputation":13,"user_id":18236283,"display_name":"Ben Chu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669136950,"creation_date":1669129761,"answer_id":74534833,"question_id":74533809,"body_markdown":"I have found the mistake. In my RatingEntity code, the getter and setter are erroneous. There&#39;s some typos there. It should be\r\n\r\n    public Integer getPruid() {\r\n            return pruid;\r\n        }\r\n    \r\n        public void setPruid(Integer pruid) {\r\n            this.pruid = pruid;\r\n        }","title":"Going around the many-to-many relationship in Spring boot, but no new entity is created","body":"<p>I have found the mistake. In my RatingEntity code, the getter and setter are erroneous. There's some typos there. It should be</p>\n<pre><code>public Integer getPruid() {\n        return pruid;\n    }\n\n    public void setPruid(Integer pruid) {\n        this.pruid = pruid;\n    }\n</code></pre>\n"}],"owner":{"account_id":24291308,"reputation":13,"user_id":18236283,"display_name":"Ben Chu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74534833,"answer_count":1,"score":0,"last_activity_date":1669136950,"creation_date":1669125500,"question_id":74533809,"body_markdown":"I&#39;m using spring boot to construct a database using AWS RDS as well. I want to track down how many stars a user gives to different products. I learnt to go around the many-to-many relationship by creating a table connecting two one-to-many other tables. For this reason, I have created the following tables: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nWhen a user rates a product, an api is called through the put command in order to track down which user(uid) rates which product(pid). When the product(pid) is not rated by anyone, a rate_item is created that contains the pid and also the uid. However, when another user (with a different uid) rates the same product (same pid), **the rate_item is updated**, which is a problem becausse supposedly, a new row containing the same pid and a different uid should be created, as seen in the following (user with &quot;uid 1&quot; has already rated the same product and when user with &quot;uid 2&quot; rates the same product, the entity gets updated, but not like a new entity is created):\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6q8iB.png\r\n  [2]: https://i.stack.imgur.com/zgpxB.png\r\n\r\nProductEntity:\r\n\r\n    @Entity\r\n    @Table(name = &quot;product&quot;)\r\n    public class ProductEntity {\r\n        @Id\r\n        @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n        @Column(name = &quot;pid&quot;,nullable = false)\r\n        private Integer pid;\r\n        @Column(name = &quot;name&quot;, nullable = false)\r\n        private String name;\r\n        @Column(name=&quot;theme&quot;, nullable = false)\r\n        private String theme;\r\n        @Column(name=&quot;color&quot;, nullable = false)\r\n        private String color;\r\n        @Column(name=&quot;sizeZero&quot;, nullable = true)\r\n        private String sizeZero;\r\n        @Column(name=&quot;sizeOne&quot;, nullable = true)\r\n        private String sizeOne;\r\n        @Column(name=&quot;sizeTwo&quot;, nullable = true)\r\n        private String sizeTwo;\r\n        @Column(name=&quot;sizeThree&quot;, nullable = true)\r\n        private String sizeThree;\r\n        @Column(name=&quot;description&quot;,nullable = false)\r\n        private String description;\r\n        @Column(name = &quot;image_url&quot;, nullable = false)\r\n        private String imageUrl;\r\n        @Column(name = &quot;price&quot;,nullable = false)\r\n        private BigDecimal price;\r\n        @Column(name = &quot;stock&quot;,nullable = false)\r\n        private Integer stock;\r\n    \r\n        public ProductEntity(CreateProductData createProductData) {\r\n            this.pid = createProductData.getPid();\r\n            this.name = createProductData.getName();\r\n            this.theme =createProductData.getTheme();\r\n            this.color=createProductData.getColor();\r\n            this.sizeZero=createProductData.getSizeZero();\r\n            this.sizeOne =createProductData.getSizeOne();\r\n            this.sizeTwo =createProductData.getSizeTwo();\r\n            this.sizeThree =createProductData.getSizeThree();\r\n            this.description =createProductData.getDescription();\r\n            this.imageUrl = createProductData.getImageUrl();\r\n            this.price = createProductData.getPrice();\r\n            this.stock = createProductData.getStock();\r\n        }\r\n        public ProductEntity(){\r\n    \r\n        }\r\n    \r\n        public Integer getPid() {\r\n            return pid;\r\n        }\r\n    \r\n        public void setPid(Integer pid) {\r\n            this.pid = pid;\r\n        }\r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getTheme() {\r\n            return theme;\r\n        }\r\n    \r\n        public void setTheme(String productType) {\r\n            this.theme = productType;\r\n        }\r\n        public String getColor() {\r\n            return color;\r\n        }\r\n    \r\n        public void setColor(String color) {\r\n            this.color = color;\r\n        }\r\n    \r\n        public String getSizeZero() {\r\n            return sizeZero;\r\n        }\r\n    \r\n        public void setSizeZero(String sizeZero) {\r\n            this.sizeZero = sizeZero;\r\n        }\r\n        public String getSizeOne() {\r\n            return sizeOne;\r\n        }\r\n    \r\n        public void setSizeOne(String smallSize) {\r\n            this.sizeOne = smallSize;\r\n        }\r\n    \r\n        public String getSizeTwo() {\r\n            return sizeTwo;\r\n        }\r\n    \r\n        public void setSizeTwo(String mediumSize) {\r\n            this.sizeTwo = mediumSize;\r\n        }\r\n    \r\n        public String getSizeThree() {\r\n            return sizeThree;\r\n        }\r\n    \r\n        public void setSizeThree(String largeSize) {\r\n            this.sizeThree = largeSize;\r\n        }\r\n        public String getDescription() {\r\n            return description;\r\n        }\r\n    \r\n        public void setDescription(String description) {\r\n            this.description = description;\r\n        }\r\n    \r\n        public String getImageUrl() {\r\n            return imageUrl;\r\n        }\r\n    \r\n        public void setImageUrl(String imageUrl) {\r\n            this.imageUrl = imageUrl;\r\n        }\r\n    \r\n        public BigDecimal getPrice() {\r\n            return price;\r\n        }\r\n    \r\n        public void setPrice(BigDecimal price) {\r\n            this.price = price;\r\n        }\r\n    \r\n        public Integer getStock() {\r\n            return stock;\r\n        }\r\n    \r\n        public void setStock(Integer stock) {\r\n            this.stock = stock;\r\n        }\r\n    }\r\n\r\nUserEntity:\r\n\r\n    @Entity\r\n    @Table(name=&quot;User&quot;)\r\n    public class UserEntity {\r\n        @Id\r\n        @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n        @Column(name=&quot;uid&quot;,nullable = false)\r\n        private Integer uid;\r\n        @Column(name=&quot;username&quot;, nullable = false)\r\n        private String username;\r\n        @Column(name=&quot;email&quot;, nullable = false, unique = true)\r\n        private String email;\r\n        @Column(name=&quot;password&quot;, nullable = false)\r\n        private String password;\r\n        @Column(name = &quot;firebase_uid&quot;, nullable = false)\r\n        private String firebaseUid;\r\n        @Column(name= &quot;emailVerified&quot;, nullable = false,columnDefinition = &quot;boolean default false&quot;)\r\n        private Boolean emailVerified=false;\r\n    \r\n        @Column(name=&quot;subscribed&quot;, nullable = false)\r\n        private Boolean subscribed;\r\n    \r\n        public UserEntity(UserEntity tempUserEntity){\r\n            this.uid=tempUserEntity.getUid();\r\n            this.firebaseUid=tempUserEntity.getFirebaseUid();\r\n            this.email=tempUserEntity.getEmail();\r\n        }\r\n    \r\n        public UserEntity(CreateFirebaseUserData createFirebaseUserData){\r\n            this.username=createFirebaseUserData.getUsername();\r\n            this.email=createFirebaseUserData.getEmail();\r\n            this.password=createFirebaseUserData.getPassword();\r\n            this.firebaseUid= createFirebaseUserData.getFirebaseUid();\r\n            this.subscribed=createFirebaseUserData.getSubscribed();\r\n        }\r\n    \r\n        public UserEntity(){\r\n    \r\n        }\r\n    \r\n        public Integer getUid() {\r\n            return uid;\r\n        }\r\n    \r\n        public void setUid(Integer uid) {\r\n            this.uid = uid;\r\n        }\r\n    \r\n        public String getUsername() {\r\n            return username;\r\n        }\r\n    \r\n        public void setUsername(String username) {\r\n            this.username = username;\r\n        }\r\n    \r\n        public String getEmail() {\r\n            return email;\r\n        }\r\n    \r\n        public void setEmail(String email) {\r\n            this.email = email;\r\n        }\r\n    \r\n        public String getPassword() {\r\n            return password;\r\n        }\r\n    \r\n        public void setPassword(String password) {\r\n            this.password = password;\r\n        }\r\n    \r\n        public String getFirebaseUid() {\r\n            return firebaseUid;\r\n        }\r\n    \r\n        public void setFirebaseUid(String firebaseUid) {\r\n            this.firebaseUid = firebaseUid;\r\n        }\r\n    \r\n        public Boolean getEmailVerified() {\r\n            return emailVerified;\r\n        }\r\n    \r\n        public void setEmailVerified(Boolean emailVerified) {\r\n            this.emailVerified = emailVerified;\r\n        }\r\n    \r\n        public Boolean getSubscribed() {\r\n            return subscribed;\r\n        }\r\n    \r\n        public void setSubscribed(Boolean subscribed) {\r\n            this.subscribed = subscribed;\r\n        }\r\n    }\r\n\r\nRatingEntity:\r\n\r\n    @Entity\r\n    @Table(name=&quot;Rating&quot;)\r\n    public class ProductsRatedByUserEntity {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name=&quot;pruid&quot;)\r\n        private Integer pruid;\r\n        @OneToOne\r\n        @JoinColumn(name=&quot;pid&quot;,nullable = false)\r\n        private ProductEntity product;\r\n        @ManyToOne\r\n        @JoinColumn(name=&quot;uid&quot;,nullable = false)\r\n        private UserEntity user;\r\n        @Column\r\n        private Integer starsGiven;\r\n        @Column(name=&quot;total_stars&quot;, nullable = false)\r\n        private Integer totalStars;\r\n        @Column(name=&quot;total_num_of_users_who_rated&quot;, nullable = false)\r\n        private Integer totalNumOfUsersWhoRated;\r\n        @Column(name=&quot;average_stars&quot;)\r\n        private BigDecimal averageStars;\r\n    \r\n        public ProductsRatedByUserEntity(UserEntity userEntity, ProductEntity productEntity, Integer numOfStars){\r\n            this.product=productEntity;\r\n            this.user=userEntity;\r\n            this.starsGiven=numOfStars;\r\n            this.totalStars=numOfStars;\r\n            this.totalNumOfUsersWhoRated=1;\r\n            this.averageStars=BigDecimal.valueOf(this.getTotalStars()).divide(BigDecimal.valueOf(this.getTotalNumOfUsersWhoRated()));\r\n        }\r\n    \r\n        public ProductsRatedByUserEntity(ProductEntity product,UserEntity user,Integer numOfStars,Integer newTotalNumOfStars, Integer newTotalNumberOfUsers, BigDecimal averageStars){\r\n            this.product=product;\r\n            this.user=user;\r\n            this.starsGiven=numOfStars;\r\n            this.totalStars=newTotalNumOfStars;\r\n            this.totalNumOfUsersWhoRated=newTotalNumberOfUsers;\r\n            this.averageStars=averageStars;\r\n        }\r\n    \r\n    \r\n        public ProductsRatedByUserEntity(){\r\n    \r\n        }\r\n    \r\n    \r\n        public Integer getPruid() {\r\n            return pruid;\r\n        }\r\n    \r\n        public void setPruid(Integer plbuid) {\r\n            this.pruid = plbuid;\r\n        }\r\n    \r\n        public ProductEntity getProduct() {\r\n            return product;\r\n        }\r\n    \r\n        public void setProduct(ProductEntity product) {\r\n            this.product = product;\r\n        }\r\n    \r\n        public UserEntity getUser() {\r\n            return user;\r\n        }\r\n    \r\n        public void setUser(UserEntity user) {\r\n            this.user = user;\r\n        }\r\n    \r\n        public Integer getStarsGiven() {\r\n            return starsGiven;\r\n        }\r\n    \r\n        public void setStarsGiven(Integer starsGiven) {\r\n            this.starsGiven = starsGiven;\r\n        }\r\n    \r\n        public Integer getTotalStars() {\r\n            return totalStars;\r\n        }\r\n    \r\n        public void setTotalStars(Integer totalStars) {\r\n            this.totalStars = totalStars;\r\n        }\r\n    \r\n        public Integer getTotalNumOfUsersWhoRated() {\r\n            return totalNumOfUsersWhoRated;\r\n        }\r\n    \r\n        public void setTotalNumOfUsersWhoRated(Integer totalNumOfUsersWhoLiked) {\r\n            this.totalNumOfUsersWhoRated = totalNumOfUsersWhoLiked;\r\n        }\r\n    \r\n        public BigDecimal getAverageStars() {\r\n            return averageStars;\r\n        }\r\n    \r\n        public void setAverageStars(BigDecimal averageStars) {\r\n            this.averageStars = averageStars;\r\n        }\r\n    \r\n    \r\n    \r\n    }\r\n\r\nApi:\r\n\r\n    @CrossOrigin\r\n    @RestController\r\n    public class ProductApi {\r\n        private ProductService productService;\r\n        private ProductsRatedByUserService productsRatedByUserService;\r\n        @Autowired\r\n        public ProductApi(ProductService productService,ProductsRatedByUserService productsRatedByUserService){\r\n            this.productService=productService;\r\n            this.productsRatedByUserService=productsRatedByUserService;\r\n        }\r\n        @PutMapping(&quot;/product/rating/{pid}/{numOfStars}&quot;)\r\n        public ProductsRatedByUserResponseDto updateRating(@PathVariable Integer pid, @PathVariable Integer numOfStars, JwtAuthenticationToken jwtAuthenticationToken) throws ProductFoundByIdException {\r\n            FirebaseUserData firebaseUserData=new FirebaseUserData(jwtAuthenticationToken);\r\n            ProductsRatedByUserDetail productsRatedByUserDetail=productsRatedByUserService.updateProductRating(pid,numOfStars,firebaseUserData);\r\n            return new ProductsRatedByUserResponseDto(productsRatedByUserDetail);\r\n        }\r\n    }\r\n\r\nRatingServiceImpl:\r\n\r\n    @Service\r\n    @Component\r\n    public class ProductsRatedByUserServiceImpl implements ProductsRatedByUserService {\r\n        public ProductsRatedByUserRepository productsRatedByUserRepository;\r\n        public ProductRepository productRepository;\r\n        public UserRepository userRepository;\r\n    \r\n        @Autowired\r\n        public ProductsRatedByUserServiceImpl(ProductsRatedByUserRepository productsRatedByUserRepository,ProductRepository productRepository,UserRepository userRepository){\r\n            this.productsRatedByUserRepository=productsRatedByUserRepository;\r\n            this.productRepository=productRepository;\r\n            this.userRepository=userRepository;\r\n        }\r\n    \r\n        @Override\r\n        public ProductsRatedByUserDetail updateProductRating(Integer pid, Integer numOfStars, FirebaseUserData firebaseUserData) throws ProductFoundByIdException {\r\n            if(!productRepository.existsById(pid)){\r\n                throw new ProductFoundByIdException();\r\n            }\r\n            UserEntity userEntity=userRepository.findUserEntityByEmail(firebaseUserData.getEmail());\r\n            ProductEntity productEntity =productRepository.findById(pid).orElse(null);\r\n            //check if the product has been rated by *any user*\r\n            //If no, we need to create an entity\r\n            if(!productsRatedByUserRepository.existsByProduct(productEntity)){\r\n                ProductsRatedByUserEntity productsRatedByUserEntity=new ProductsRatedByUserEntity(userEntity, productEntity, numOfStars);\r\n                ProductsRatedByUserEntity productsRatedByUserEntityReturned=productsRatedByUserRepository.save(productsRatedByUserEntity);\r\n                System.out.println(&quot;the product has been rated by *any user*&quot;);\r\n                return new ProductsRatedByUserDetail(productsRatedByUserEntityReturned);\r\n            }\r\n            //If yes, we update the entity from there\r\n            else {\r\n                //if the product has been rated by this very user\r\n                if (productsRatedByUserRepository.existsByUserAndProduct(userEntity, productEntity)) {\r\n                    ProductsRatedByUserEntity productsRatedByUserEntity = productsRatedByUserRepository.findTopByUserAndProduct(userEntity, productEntity);\r\n                    productsRatedByUserEntity.setTotalStars(productsRatedByUserEntity.getTotalStars() - productsRatedByUserEntity.getStarsGiven() + numOfStars);\r\n                    productsRatedByUserEntity.setStarsGiven(numOfStars);\r\n                    productsRatedByUserEntity.setAverageStars(BigDecimal.valueOf(productsRatedByUserEntity.getTotalStars()).divide(BigDecimal.valueOf(productsRatedByUserEntity.getTotalNumOfUsersWhoRated())));\r\n                    ProductsRatedByUserEntity productsRatedByUserEntityReturned = productsRatedByUserRepository.save(productsRatedByUserEntity);\r\n                    System.out.println(&quot;the product has been rated by this very user&quot;);\r\n                    return new ProductsRatedByUserDetail(productsRatedByUserEntityReturned);\r\n                } else {\r\n                    //The product has not been rated by this very user\r\n                    ProductsRatedByUserEntity productsRatedByUserEntity = productsRatedByUserRepository.findTopByProduct(productEntity);\r\n                    int newTotalNumOfStars = (productsRatedByUserEntity.getTotalStars() + numOfStars);\r\n                    int newTotalNumberOfUsers = productsRatedByUserEntity.getTotalNumOfUsersWhoRated() + 1;\r\n                    productsRatedByUserEntity.setUser(userEntity);\r\n                    System.out.println(&quot;The product has not been rated by this very user&quot;);\r\n                    return new ProductsRatedByUserDetail(productsRatedByUserRepository.save(new ProductsRatedByUserEntity(productEntity, userEntity, numOfStars, newTotalNumOfStars, newTotalNumberOfUsers, BigDecimal.valueOf(newTotalNumOfStars).divide(BigDecimal.valueOf(newTotalNumberOfUsers)))));\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nRatingServiceInterface:\r\n\r\n    public interface ProductsRatedByUserService {\r\n        ProductsRatedByUserDetail updateProductRating(Integer pid, Integer numOfStars, FirebaseUserData firebaseUserData) throws ProductFoundByIdException;\r\n    \r\n    }\r\n\r\nRepository:\r\n\r\n    public interface ProductsRatedByUserRepository extends CrudRepository&lt;ProductsRatedByUserEntity,Integer&gt; {\r\n        boolean existsByProduct(ProductEntity product);\r\n        ProductsRatedByUserEntity findTopByProduct(ProductEntity product);\r\n        boolean existsByUserAndProduct(UserEntity userEntity, ProductEntity product);\r\n        ProductsRatedByUserEntity findTopByUserAndProduct(UserEntity userEntity, ProductEntity product);\r\n    }\r\n\r\nI will really appreciate anyone who can help me with this! I&#39;ve been stuck for a whole day! I don&#39;t want to use the many-to-many annotation because it seems a bit messy. Thanks!\r\n\r\n\r\n","title":"Going around the many-to-many relationship in Spring boot, but no new entity is created","body":"<p>I'm using spring boot to construct a database using AWS RDS as well. I want to track down how many stars a user gives to different products. I learnt to go around the many-to-many relationship by creating a table connecting two one-to-many other tables. For this reason, I have created the following tables:</p>\n<p><a href=\"https://i.stack.imgur.com/6q8iB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6q8iB.png\" alt=\"enter image description here\" /></a></p>\n<p>When a user rates a product, an api is called through the put command in order to track down which user(uid) rates which product(pid). When the product(pid) is not rated by anyone, a rate_item is created that contains the pid and also the uid. However, when another user (with a different uid) rates the same product (same pid), <strong>the rate_item is updated</strong>, which is a problem becausse supposedly, a new row containing the same pid and a different uid should be created, as seen in the following (user with &quot;uid 1&quot; has already rated the same product and when user with &quot;uid 2&quot; rates the same product, the entity gets updated, but not like a new entity is created):\n<a href=\"https://i.stack.imgur.com/zgpxB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zgpxB.png\" alt=\"enter image description here\" /></a></p>\n<p>ProductEntity:</p>\n<pre><code>@Entity\n@Table(name = &quot;product&quot;)\npublic class ProductEntity {\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    @Column(name = &quot;pid&quot;,nullable = false)\n    private Integer pid;\n    @Column(name = &quot;name&quot;, nullable = false)\n    private String name;\n    @Column(name=&quot;theme&quot;, nullable = false)\n    private String theme;\n    @Column(name=&quot;color&quot;, nullable = false)\n    private String color;\n    @Column(name=&quot;sizeZero&quot;, nullable = true)\n    private String sizeZero;\n    @Column(name=&quot;sizeOne&quot;, nullable = true)\n    private String sizeOne;\n    @Column(name=&quot;sizeTwo&quot;, nullable = true)\n    private String sizeTwo;\n    @Column(name=&quot;sizeThree&quot;, nullable = true)\n    private String sizeThree;\n    @Column(name=&quot;description&quot;,nullable = false)\n    private String description;\n    @Column(name = &quot;image_url&quot;, nullable = false)\n    private String imageUrl;\n    @Column(name = &quot;price&quot;,nullable = false)\n    private BigDecimal price;\n    @Column(name = &quot;stock&quot;,nullable = false)\n    private Integer stock;\n\n    public ProductEntity(CreateProductData createProductData) {\n        this.pid = createProductData.getPid();\n        this.name = createProductData.getName();\n        this.theme =createProductData.getTheme();\n        this.color=createProductData.getColor();\n        this.sizeZero=createProductData.getSizeZero();\n        this.sizeOne =createProductData.getSizeOne();\n        this.sizeTwo =createProductData.getSizeTwo();\n        this.sizeThree =createProductData.getSizeThree();\n        this.description =createProductData.getDescription();\n        this.imageUrl = createProductData.getImageUrl();\n        this.price = createProductData.getPrice();\n        this.stock = createProductData.getStock();\n    }\n    public ProductEntity(){\n\n    }\n\n    public Integer getPid() {\n        return pid;\n    }\n\n    public void setPid(Integer pid) {\n        this.pid = pid;\n    }\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getTheme() {\n        return theme;\n    }\n\n    public void setTheme(String productType) {\n        this.theme = productType;\n    }\n    public String getColor() {\n        return color;\n    }\n\n    public void setColor(String color) {\n        this.color = color;\n    }\n\n    public String getSizeZero() {\n        return sizeZero;\n    }\n\n    public void setSizeZero(String sizeZero) {\n        this.sizeZero = sizeZero;\n    }\n    public String getSizeOne() {\n        return sizeOne;\n    }\n\n    public void setSizeOne(String smallSize) {\n        this.sizeOne = smallSize;\n    }\n\n    public String getSizeTwo() {\n        return sizeTwo;\n    }\n\n    public void setSizeTwo(String mediumSize) {\n        this.sizeTwo = mediumSize;\n    }\n\n    public String getSizeThree() {\n        return sizeThree;\n    }\n\n    public void setSizeThree(String largeSize) {\n        this.sizeThree = largeSize;\n    }\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public String getImageUrl() {\n        return imageUrl;\n    }\n\n    public void setImageUrl(String imageUrl) {\n        this.imageUrl = imageUrl;\n    }\n\n    public BigDecimal getPrice() {\n        return price;\n    }\n\n    public void setPrice(BigDecimal price) {\n        this.price = price;\n    }\n\n    public Integer getStock() {\n        return stock;\n    }\n\n    public void setStock(Integer stock) {\n        this.stock = stock;\n    }\n}\n</code></pre>\n<p>UserEntity:</p>\n<pre><code>@Entity\n@Table(name=&quot;User&quot;)\npublic class UserEntity {\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    @Column(name=&quot;uid&quot;,nullable = false)\n    private Integer uid;\n    @Column(name=&quot;username&quot;, nullable = false)\n    private String username;\n    @Column(name=&quot;email&quot;, nullable = false, unique = true)\n    private String email;\n    @Column(name=&quot;password&quot;, nullable = false)\n    private String password;\n    @Column(name = &quot;firebase_uid&quot;, nullable = false)\n    private String firebaseUid;\n    @Column(name= &quot;emailVerified&quot;, nullable = false,columnDefinition = &quot;boolean default false&quot;)\n    private Boolean emailVerified=false;\n\n    @Column(name=&quot;subscribed&quot;, nullable = false)\n    private Boolean subscribed;\n\n    public UserEntity(UserEntity tempUserEntity){\n        this.uid=tempUserEntity.getUid();\n        this.firebaseUid=tempUserEntity.getFirebaseUid();\n        this.email=tempUserEntity.getEmail();\n    }\n\n    public UserEntity(CreateFirebaseUserData createFirebaseUserData){\n        this.username=createFirebaseUserData.getUsername();\n        this.email=createFirebaseUserData.getEmail();\n        this.password=createFirebaseUserData.getPassword();\n        this.firebaseUid= createFirebaseUserData.getFirebaseUid();\n        this.subscribed=createFirebaseUserData.getSubscribed();\n    }\n\n    public UserEntity(){\n\n    }\n\n    public Integer getUid() {\n        return uid;\n    }\n\n    public void setUid(Integer uid) {\n        this.uid = uid;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public String getFirebaseUid() {\n        return firebaseUid;\n    }\n\n    public void setFirebaseUid(String firebaseUid) {\n        this.firebaseUid = firebaseUid;\n    }\n\n    public Boolean getEmailVerified() {\n        return emailVerified;\n    }\n\n    public void setEmailVerified(Boolean emailVerified) {\n        this.emailVerified = emailVerified;\n    }\n\n    public Boolean getSubscribed() {\n        return subscribed;\n    }\n\n    public void setSubscribed(Boolean subscribed) {\n        this.subscribed = subscribed;\n    }\n}\n</code></pre>\n<p>RatingEntity:</p>\n<pre><code>@Entity\n@Table(name=&quot;Rating&quot;)\npublic class ProductsRatedByUserEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name=&quot;pruid&quot;)\n    private Integer pruid;\n    @OneToOne\n    @JoinColumn(name=&quot;pid&quot;,nullable = false)\n    private ProductEntity product;\n    @ManyToOne\n    @JoinColumn(name=&quot;uid&quot;,nullable = false)\n    private UserEntity user;\n    @Column\n    private Integer starsGiven;\n    @Column(name=&quot;total_stars&quot;, nullable = false)\n    private Integer totalStars;\n    @Column(name=&quot;total_num_of_users_who_rated&quot;, nullable = false)\n    private Integer totalNumOfUsersWhoRated;\n    @Column(name=&quot;average_stars&quot;)\n    private BigDecimal averageStars;\n\n    public ProductsRatedByUserEntity(UserEntity userEntity, ProductEntity productEntity, Integer numOfStars){\n        this.product=productEntity;\n        this.user=userEntity;\n        this.starsGiven=numOfStars;\n        this.totalStars=numOfStars;\n        this.totalNumOfUsersWhoRated=1;\n        this.averageStars=BigDecimal.valueOf(this.getTotalStars()).divide(BigDecimal.valueOf(this.getTotalNumOfUsersWhoRated()));\n    }\n\n    public ProductsRatedByUserEntity(ProductEntity product,UserEntity user,Integer numOfStars,Integer newTotalNumOfStars, Integer newTotalNumberOfUsers, BigDecimal averageStars){\n        this.product=product;\n        this.user=user;\n        this.starsGiven=numOfStars;\n        this.totalStars=newTotalNumOfStars;\n        this.totalNumOfUsersWhoRated=newTotalNumberOfUsers;\n        this.averageStars=averageStars;\n    }\n\n\n    public ProductsRatedByUserEntity(){\n\n    }\n\n\n    public Integer getPruid() {\n        return pruid;\n    }\n\n    public void setPruid(Integer plbuid) {\n        this.pruid = plbuid;\n    }\n\n    public ProductEntity getProduct() {\n        return product;\n    }\n\n    public void setProduct(ProductEntity product) {\n        this.product = product;\n    }\n\n    public UserEntity getUser() {\n        return user;\n    }\n\n    public void setUser(UserEntity user) {\n        this.user = user;\n    }\n\n    public Integer getStarsGiven() {\n        return starsGiven;\n    }\n\n    public void setStarsGiven(Integer starsGiven) {\n        this.starsGiven = starsGiven;\n    }\n\n    public Integer getTotalStars() {\n        return totalStars;\n    }\n\n    public void setTotalStars(Integer totalStars) {\n        this.totalStars = totalStars;\n    }\n\n    public Integer getTotalNumOfUsersWhoRated() {\n        return totalNumOfUsersWhoRated;\n    }\n\n    public void setTotalNumOfUsersWhoRated(Integer totalNumOfUsersWhoLiked) {\n        this.totalNumOfUsersWhoRated = totalNumOfUsersWhoLiked;\n    }\n\n    public BigDecimal getAverageStars() {\n        return averageStars;\n    }\n\n    public void setAverageStars(BigDecimal averageStars) {\n        this.averageStars = averageStars;\n    }\n\n\n\n}\n</code></pre>\n<p>Api:</p>\n<pre><code>@CrossOrigin\n@RestController\npublic class ProductApi {\n    private ProductService productService;\n    private ProductsRatedByUserService productsRatedByUserService;\n    @Autowired\n    public ProductApi(ProductService productService,ProductsRatedByUserService productsRatedByUserService){\n        this.productService=productService;\n        this.productsRatedByUserService=productsRatedByUserService;\n    }\n    @PutMapping(&quot;/product/rating/{pid}/{numOfStars}&quot;)\n    public ProductsRatedByUserResponseDto updateRating(@PathVariable Integer pid, @PathVariable Integer numOfStars, JwtAuthenticationToken jwtAuthenticationToken) throws ProductFoundByIdException {\n        FirebaseUserData firebaseUserData=new FirebaseUserData(jwtAuthenticationToken);\n        ProductsRatedByUserDetail productsRatedByUserDetail=productsRatedByUserService.updateProductRating(pid,numOfStars,firebaseUserData);\n        return new ProductsRatedByUserResponseDto(productsRatedByUserDetail);\n    }\n}\n</code></pre>\n<p>RatingServiceImpl:</p>\n<pre><code>@Service\n@Component\npublic class ProductsRatedByUserServiceImpl implements ProductsRatedByUserService {\n    public ProductsRatedByUserRepository productsRatedByUserRepository;\n    public ProductRepository productRepository;\n    public UserRepository userRepository;\n\n    @Autowired\n    public ProductsRatedByUserServiceImpl(ProductsRatedByUserRepository productsRatedByUserRepository,ProductRepository productRepository,UserRepository userRepository){\n        this.productsRatedByUserRepository=productsRatedByUserRepository;\n        this.productRepository=productRepository;\n        this.userRepository=userRepository;\n    }\n\n    @Override\n    public ProductsRatedByUserDetail updateProductRating(Integer pid, Integer numOfStars, FirebaseUserData firebaseUserData) throws ProductFoundByIdException {\n        if(!productRepository.existsById(pid)){\n            throw new ProductFoundByIdException();\n        }\n        UserEntity userEntity=userRepository.findUserEntityByEmail(firebaseUserData.getEmail());\n        ProductEntity productEntity =productRepository.findById(pid).orElse(null);\n        //check if the product has been rated by *any user*\n        //If no, we need to create an entity\n        if(!productsRatedByUserRepository.existsByProduct(productEntity)){\n            ProductsRatedByUserEntity productsRatedByUserEntity=new ProductsRatedByUserEntity(userEntity, productEntity, numOfStars);\n            ProductsRatedByUserEntity productsRatedByUserEntityReturned=productsRatedByUserRepository.save(productsRatedByUserEntity);\n            System.out.println(&quot;the product has been rated by *any user*&quot;);\n            return new ProductsRatedByUserDetail(productsRatedByUserEntityReturned);\n        }\n        //If yes, we update the entity from there\n        else {\n            //if the product has been rated by this very user\n            if (productsRatedByUserRepository.existsByUserAndProduct(userEntity, productEntity)) {\n                ProductsRatedByUserEntity productsRatedByUserEntity = productsRatedByUserRepository.findTopByUserAndProduct(userEntity, productEntity);\n                productsRatedByUserEntity.setTotalStars(productsRatedByUserEntity.getTotalStars() - productsRatedByUserEntity.getStarsGiven() + numOfStars);\n                productsRatedByUserEntity.setStarsGiven(numOfStars);\n                productsRatedByUserEntity.setAverageStars(BigDecimal.valueOf(productsRatedByUserEntity.getTotalStars()).divide(BigDecimal.valueOf(productsRatedByUserEntity.getTotalNumOfUsersWhoRated())));\n                ProductsRatedByUserEntity productsRatedByUserEntityReturned = productsRatedByUserRepository.save(productsRatedByUserEntity);\n                System.out.println(&quot;the product has been rated by this very user&quot;);\n                return new ProductsRatedByUserDetail(productsRatedByUserEntityReturned);\n            } else {\n                //The product has not been rated by this very user\n                ProductsRatedByUserEntity productsRatedByUserEntity = productsRatedByUserRepository.findTopByProduct(productEntity);\n                int newTotalNumOfStars = (productsRatedByUserEntity.getTotalStars() + numOfStars);\n                int newTotalNumberOfUsers = productsRatedByUserEntity.getTotalNumOfUsersWhoRated() + 1;\n                productsRatedByUserEntity.setUser(userEntity);\n                System.out.println(&quot;The product has not been rated by this very user&quot;);\n                return new ProductsRatedByUserDetail(productsRatedByUserRepository.save(new ProductsRatedByUserEntity(productEntity, userEntity, numOfStars, newTotalNumOfStars, newTotalNumberOfUsers, BigDecimal.valueOf(newTotalNumOfStars).divide(BigDecimal.valueOf(newTotalNumberOfUsers)))));\n            }\n        }\n    }\n}\n</code></pre>\n<p>RatingServiceInterface:</p>\n<pre><code>public interface ProductsRatedByUserService {\n    ProductsRatedByUserDetail updateProductRating(Integer pid, Integer numOfStars, FirebaseUserData firebaseUserData) throws ProductFoundByIdException;\n\n}\n</code></pre>\n<p>Repository:</p>\n<pre><code>public interface ProductsRatedByUserRepository extends CrudRepository&lt;ProductsRatedByUserEntity,Integer&gt; {\n    boolean existsByProduct(ProductEntity product);\n    ProductsRatedByUserEntity findTopByProduct(ProductEntity product);\n    boolean existsByUserAndProduct(UserEntity userEntity, ProductEntity product);\n    ProductsRatedByUserEntity findTopByUserAndProduct(UserEntity userEntity, ProductEntity product);\n}\n</code></pre>\n<p>I will really appreciate anyone who can help me with this! I've been stuck for a whole day! I don't want to use the many-to-many annotation because it seems a bit messy. Thanks!</p>\n"},{"tags":["java","multithreading","performance","concurrency"],"comments":[{"owner":{"account_id":874149,"reputation":31559,"user_id":924313,"accept_rate":96,"display_name":"corazza"},"score":1,"creation_date":1417548636,"post_id":27257359,"comment_id":42988367,"body_markdown":"`threads number = CPU cores * 2` how did you come to this formula?","body":"<code>threads number = CPU cores * 2</code> how did you come to this formula?"},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1417548882,"post_id":27257359,"comment_id":42988532,"body_markdown":"http://stackoverflow.com/a/10670440/462347, especially: &quot;the optimal number was equal to the number of cores in the machine&quot;. I use &quot;* 2&quot; to be sure I have enough threads for multi-core &amp; multi-threading CPUs. If you have another advice, please, share your opinion.","body":"<a href=\"http://stackoverflow.com/a/10670440/462347\">stackoverflow.com/a/10670440/462347</a>, especially: &quot;the optimal number was equal to the number of cores in the machine&quot;. I use &quot;* 2&quot; to be sure I have enough threads for multi-core &amp; multi-threading CPUs. If you have another advice, please, share your opinion."},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":2,"creation_date":1417549282,"post_id":27257359,"comment_id":42988745,"body_markdown":"You can not be sure what the best number is if you don&#39;t know how your threads behave. How frequent you complete tasks, whether they are IO or CPU bound, .. E.g. it makes no sense for CPU bound tasks to use more than exactly 1 thread per core, anything more will be slower.","body":"You can not be sure what the best number is if you don&#39;t know how your threads behave. How frequent you complete tasks, whether they are IO or CPU bound, .. E.g. it makes no sense for CPU bound tasks to use more than exactly 1 thread per core, anything more will be slower."},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1417549413,"post_id":27257359,"comment_id":42988818,"body_markdown":"They are CPU bound, calculation of some NLP-rank according to the string context.","body":"They are CPU bound, calculation of some NLP-rank according to the string context."}],"answers":[{"tags":[],"owner":{"account_id":1485940,"reputation":1335,"user_id":1394229,"accept_rate":100,"display_name":"Oleksandr Horobets"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1417550038,"creation_date":1417549347,"answer_id":27257612,"question_id":27257359,"body_markdown":"I think creating additional threads can slow down the processing, because of some additional overhead needed for new threads creation. But to be sure try to do an experiment. Try with different numbers of threads, then choose the optimal number.\r\n\r\nP.S. Like other people in this topic I would recommend using thread pool for this task.\r\n\r\nP.P.S. Consider using java.util.concurrent FixedThreadPool (launches n threads, if there are more tasks they are waiting for free thread) or CachedThreadPool (if there are more tasks creates new thread, otherwise reuses existing sleeping threads).\r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html#newFixedThreadPool(int)\r\nhttps://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html#newCachedThreadPool()\r\n","title":"Threads utilization strategy","body":"<p>I think creating additional threads can slow down the processing, because of some additional overhead needed for new threads creation. But to be sure try to do an experiment. Try with different numbers of threads, then choose the optimal number.</p>\n\n<p>P.S. Like other people in this topic I would recommend using thread pool for this task.</p>\n\n<p>P.P.S. Consider using java.util.concurrent FixedThreadPool (launches n threads, if there are more tasks they are waiting for free thread) or CachedThreadPool (if there are more tasks creates new thread, otherwise reuses existing sleeping threads).</p>\n\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html#newFixedThreadPool(int)\" rel=\"nofollow\">https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html#newFixedThreadPool(int)</a>\n<a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html#newCachedThreadPool()\" rel=\"nofollow\">https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html#newCachedThreadPool()</a></p>\n"},{"tags":[],"owner":{"account_id":5401917,"reputation":81,"user_id":4301568,"display_name":"anonymous"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417549362,"creation_date":1417549362,"answer_id":27257616,"question_id":27257359,"body_markdown":"I am first assuming that the threads are native threads (not green threads for performance reasons).\r\nThere isn&#39;t really a performance consideration with passing references of objects into the thread\r\nother than making the gc continually skipping the reference for clean up which is more efficient than\r\nserializing/deserializing the object into the thread.\r\n\r\nLong story short, you should avoid creating any unnecessary threads that exceed the hardware capacity if you know that the running threads have a high utilization rate (ie very rarely blocking on io/net/db/etc) otherwise you will force the cpu to perform a thread context switch which is very expensive.","title":"Threads utilization strategy","body":"<p>I am first assuming that the threads are native threads (not green threads for performance reasons).\nThere isn't really a performance consideration with passing references of objects into the thread\nother than making the gc continually skipping the reference for clean up which is more efficient than\nserializing/deserializing the object into the thread.</p>\n\n<p>Long story short, you should avoid creating any unnecessary threads that exceed the hardware capacity if you know that the running threads have a high utilization rate (ie very rarely blocking on io/net/db/etc) otherwise you will force the cpu to perform a thread context switch which is very expensive.</p>\n"},{"comments":[{"owner":{"account_id":296495,"reputation":17580,"user_id":601493,"accept_rate":73,"display_name":"Jan Zyka"},"score":0,"creation_date":1417549761,"post_id":27257638,"comment_id":42988994,"body_markdown":"If you process on user basis, wouldn&#39;t it be shame that the `Thread` which finishes can&#39;t help the others?","body":"If you process on user basis, wouldn&#39;t it be shame that the <code>Thread</code> which finishes can&#39;t help the others?"},{"owner":{"account_id":1343303,"reputation":11,"user_id":1284535,"display_name":"Chris"},"score":0,"creation_date":1417549912,"post_id":27257638,"comment_id":42989074,"body_markdown":"Each thread in a pool will process an entire person then move onto the next, until all persons are complete.","body":"Each thread in a pool will process an entire person then move onto the next, until all persons are complete."},{"owner":{"account_id":296495,"reputation":17580,"user_id":601493,"accept_rate":73,"display_name":"Jan Zyka"},"score":0,"creation_date":1417550006,"post_id":27257638,"comment_id":42989132,"body_markdown":"Well ok, depends on how big the person task is then. Yeah, it&#39;s really unclear ... My first thought was the `Person` task will be too BIG...","body":"Well ok, depends on how big the person task is then. Yeah, it&#39;s really unclear ... My first thought was the <code>Person</code> task will be too BIG..."},{"owner":{"account_id":1343303,"reputation":11,"user_id":1284535,"display_name":"Chris"},"score":0,"creation_date":1417550233,"post_id":27257638,"comment_id":42989270,"body_markdown":"If the processing of strings is the bulk of the work load, and you wish to process more strings across users, then you will want the thread pool to process the strings rather than an entire person.  You will likely have 1 thread deciding which strings to process, i.e iterate users choosing the strings to process, push the strings on to the queue.  If you need the workload to update back to the person object, you&#39;ll likey need to create a process record which contains the string and a link to the person object so it can perform any updates.","body":"If the processing of strings is the bulk of the work load, and you wish to process more strings across users, then you will want the thread pool to process the strings rather than an entire person.  You will likely have 1 thread deciding which strings to process, i.e iterate users choosing the strings to process, push the strings on to the queue.  If you need the workload to update back to the person object, you&#39;ll likey need to create a process record which contains the string and a link to the person object so it can perform any updates."},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1417555812,"post_id":27257638,"comment_id":42992028,"body_markdown":"In my specific case, there are 150 persons, while each person has about 3500 strings, I have to proceed. It is Enron Email Dataset.","body":"In my specific case, there are 150 persons, while each person has about 3500 strings, I have to proceed. It is Enron Email Dataset."}],"tags":[],"owner":{"account_id":1343303,"reputation":11,"user_id":1284535,"display_name":"Chris"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417549441,"creation_date":1417549441,"answer_id":27257638,"question_id":27257359,"body_markdown":"I would likely create a thread pool with a configurable size, which process a queue of person objects.\r\n\r\nThis allows then a thread to access, update and process an entire persons data without concerns of conflicts with other threads.\r\n\r\nIf there is IO within the process, you might be able to increase your thread pool size, or decrease it if over utilising the CPU.\r\n\r\nHope that helps\r\n\r\n\r\n\r\n","title":"Threads utilization strategy","body":"<p>I would likely create a thread pool with a configurable size, which process a queue of person objects.</p>\n\n<p>This allows then a thread to access, update and process an entire persons data without concerns of conflicts with other threads.</p>\n\n<p>If there is IO within the process, you might be able to increase your thread pool size, or decrease it if over utilising the CPU.</p>\n\n<p>Hope that helps</p>\n"},{"tags":[],"owner":{"account_id":978760,"reputation":1422,"user_id":999043,"accept_rate":83,"display_name":"Ralf H"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417550690,"creation_date":1417550690,"answer_id":27257942,"question_id":27257359,"body_markdown":"If processing each string takes in the order of 1&#181;s or more, you should be fine putting each string processing in its own Runnable and pass that job to a ThreadPool with as many worker threads as you have logical CPUs. If they are faster, you should batch them so there is less overhead handling the job queue.","title":"Threads utilization strategy","body":"<p>If processing each string takes in the order of 1µs or more, you should be fine putting each string processing in its own Runnable and pass that job to a ThreadPool with as many worker threads as you have logical CPUs. If they are faster, you should batch them so there is less overhead handling the job queue.</p>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":27257612,"answer_count":4,"score":0,"last_activity_date":1669136461,"creation_date":1417548473,"question_id":27257359,"body_markdown":"In my Java-system, I have X persons, each person has Y strings, where Y &gt;&gt; X. I need to execute some complex calculations on each string. In order to boost the process, I run strings computing process in separate threads (threads number = CPU cores * 2). My question is should I put each person treatment in the separate thread too or it is enough to run only strings treatment in separate threads?\r\n\r\nShould I execute person treatment in separate threads in additional to the thread-based strings computing? Or, because I&#39;m already using the maximum optimal number of threads per number of CPU cores for strings treatment I will not benefit if will put the persons in the separate threads.\r\n\r\nAll persons are independent of each other.\r\nAll person&#39;s strings are independent of each other.","title":"Threads utilization strategy","body":"<p>In my Java-system, I have X persons, each person has Y strings, where Y &gt;&gt; X. I need to execute some complex calculations on each string. In order to boost the process, I run strings computing process in separate threads (threads number = CPU cores * 2). My question is should I put each person treatment in the separate thread too or it is enough to run only strings treatment in separate threads?</p>\n<p>Should I execute person treatment in separate threads in additional to the thread-based strings computing? Or, because I'm already using the maximum optimal number of threads per number of CPU cores for strings treatment I will not benefit if will put the persons in the separate threads.</p>\n<p>All persons are independent of each other.\nAll person's strings are independent of each other.</p>\n"},{"tags":["java","youtube-api","youtube-data-api"],"answers":[{"comments":[{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":1,"creation_date":1454770975,"post_id":35241291,"comment_id":58198857,"body_markdown":"Your link works. It&#39;s very strange that they didn&#39;t published the link in the Download section: https://developers.google.com/api-client-library/java/google-api-java-client/download","body":"Your link works. It&#39;s very strange that they didn&#39;t published the link in the Download section: <a href=\"https://developers.google.com/api-client-library/java/google-api-java-client/download\" rel=\"nofollow noreferrer\">developers.google.com/api-client-library/java/&hellip;</a>"}],"tags":[],"owner":{"account_id":2244074,"reputation":4893,"user_id":1977887,"accept_rate":75,"display_name":"Erick G. Hagstrom"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1454763499,"creation_date":1454763499,"answer_id":35241291,"question_id":35241129,"body_markdown":"It appears that there is more to download. You got everything except the actual `YouTube Data API`. As of this writing it can be found at https://developers.google.com/api-client-library/java/apis/youtube/v3. At that site there is the option to download a `.zip` file, or obtain through `Maven` or `Gradle`.\r\n\r\nI found it by searching (googling) for the class `com.google.api.services.youtube.YouTube`, which I found listed as an import in the `Sample` that you linked above.","title":"Can&#39;t resolve YouTube class/symbol, YouTube Data API Java sample issue","body":"<p>It appears that there is more to download. You got everything except the actual <code>YouTube Data API</code>. As of this writing it can be found at <a href=\"https://developers.google.com/api-client-library/java/apis/youtube/v3\" rel=\"nofollow\">https://developers.google.com/api-client-library/java/apis/youtube/v3</a>. At that site there is the option to download a <code>.zip</code> file, or obtain through <code>Maven</code> or <code>Gradle</code>.</p>\n\n<p>I found it by searching (googling) for the class <code>com.google.api.services.youtube.YouTube</code>, which I found listed as an import in the <code>Sample</code> that you linked above.</p>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1146,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":35241291,"answer_count":1,"score":1,"last_activity_date":1669136373,"creation_date":1454762454,"question_id":35241129,"body_markdown":"I&#39;m trying to execute the [Search by keyword][1] sample code from YouTube Data API Java Samples collection.\r\n\r\nIn order to do that I:\r\n\r\n 1. Created a new project in IntelliJ IDEA.\r\n 2. Downloaded latest [google-api-java-client-featured.zip][2].\r\n 3. Added the libraries from the `google-api-java-client-featured` to the project via *Project Structure → Libraries → New Project Library*.\r\n 4. Created a class *Search.java* and copy pasted the [sample][1].\r\n\r\nIDEA can&#39;t resolve `YouTube` class:\r\n\r\n```java\r\n/**\r\n * Define a global instance of a Youtube object, which will be used\r\n * to make YouTube Data API requests.\r\n */\r\nprivate static YouTube youtube;\r\n```\r\n\r\nWhere can I find this `YouTube` class or what have I to do in order to be able to execute the official YouTube Data API Java sample?\r\n\r\n  [1]: https://developers.google.com/youtube/v3/code_samples/java#search_by_keyword\r\n  [2]: https://developers.google.com/api-client-library/java/google-api-java-client/download","title":"Can&#39;t resolve YouTube class/symbol, YouTube Data API Java sample issue","body":"<p>I'm trying to execute the <a href=\"https://developers.google.com/youtube/v3/code_samples/java#search_by_keyword\" rel=\"nofollow noreferrer\">Search by keyword</a> sample code from YouTube Data API Java Samples collection.</p>\n<p>In order to do that I:</p>\n<ol>\n<li>Created a new project in IntelliJ IDEA.</li>\n<li>Downloaded latest <a href=\"https://developers.google.com/api-client-library/java/google-api-java-client/download\" rel=\"nofollow noreferrer\">google-api-java-client-featured.zip</a>.</li>\n<li>Added the libraries from the <code>google-api-java-client-featured</code> to the project via <em>Project Structure → Libraries → New Project Library</em>.</li>\n<li>Created a class <em>Search.java</em> and copy pasted the <a href=\"https://developers.google.com/youtube/v3/code_samples/java#search_by_keyword\" rel=\"nofollow noreferrer\">sample</a>.</li>\n</ol>\n<p>IDEA can't resolve <code>YouTube</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Define a global instance of a Youtube object, which will be used\n * to make YouTube Data API requests.\n */\nprivate static YouTube youtube;\n</code></pre>\n<p>Where can I find this <code>YouTube</code> class or what have I to do in order to be able to execute the official YouTube Data API Java sample?</p>\n"},{"tags":["java","memory-leaks","garbage-collection"],"answers":[{"tags":[],"owner":{"account_id":1804338,"reputation":681,"user_id":2866559,"accept_rate":71,"display_name":"Ulysse Mizrahi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1454674865,"creation_date":1454674865,"answer_id":35224126,"question_id":35223924,"body_markdown":"There will be no leaks in your code as long as the `drv` object does not maintain references to `objArr`. The reference `objArr` to your &quot;heavy object&quot; is limited to the scope of the while loop, and thus once you leave an iteration, it is eligible for garbage collection. \r\nHowever, if `drv` maintains a permanent reference to the object, then it will not be collected as long as the reference persists.\r\n\r\nThe example in the link you mention is when the reference to your data lives outside the scope (in their example, the `E[]` array field of the `Stack` class) and cannot be collected. ","title":"Potential memory leak in Java, may this code lead to the memory leak?","body":"<p>There will be no leaks in your code as long as the <code>drv</code> object does not maintain references to <code>objArr</code>. The reference <code>objArr</code> to your \"heavy object\" is limited to the scope of the while loop, and thus once you leave an iteration, it is eligible for garbage collection. \nHowever, if <code>drv</code> maintains a permanent reference to the object, then it will not be collected as long as the reference persists.</p>\n\n<p>The example in the link you mention is when the reference to your data lives outside the scope (in their example, the <code>E[]</code> array field of the <code>Stack</code> class) and cannot be collected. </p>\n"},{"comments":[{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1454675081,"post_id":35224132,"comment_id":58162254,"body_markdown":"That what I though but the example in the article, where author claims that without `array[N] = null;` the memory will leak confused me, why in my code it&#39;s OK but in his example it does the problem? Is it because `pop()` just returns element but doesn&#39;t perform anything with the array and it&#39;s element assignment?","body":"That what I though but the example in the article, where author claims that without <code>array[N] = null;</code> the memory will leak confused me, why in my code it&#39;s OK but in his example it does the problem? Is it because <code>pop()</code> just returns element but doesn&#39;t perform anything with the array and it&#39;s element assignment?"},{"owner":{"account_id":325607,"reputation":33143,"user_id":646887,"accept_rate":100,"display_name":"Klas Lindb&#228;ck"},"score":1,"creation_date":1454676195,"post_id":35224132,"comment_id":58163023,"body_markdown":"His example is equivalent to you keeping a reference to older arrays. When an object is popped from a stack, the stack should not keep a reference to the object, hence `array[N] = null;`. The difference is that he doesn&#39;t have any new value (until someone calls `push`), that&#39;s why his code assigns `null`.","body":"His example is equivalent to you keeping a reference to older arrays. When an object is popped from a stack, the stack should not keep a reference to the object, hence <code>array[N] = null;</code>. The difference is that he doesn&#39;t have any new value (until someone calls <code>push</code>), that&#39;s why his code assigns <code>null</code>."}],"tags":[],"owner":{"account_id":325607,"reputation":33143,"user_id":646887,"accept_rate":100,"display_name":"Klas Lindb&#228;ck"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1454674878,"creation_date":1454674878,"answer_id":35224132,"question_id":35223924,"body_markdown":"It does make a difference.\r\n\r\nNormally it doesn&#39;t matter if you set it to null or to some other value. Reassigning `objArr` reduces the reference count and makes it possible to GC the array.\r\n\r\nIf, however, the array is so big that you cannot fit two of them in memory at the same time, then it might help, because if you set the reference to null before the call, then the current array can be GC:ed before assigning memory for the next array. ","title":"Potential memory leak in Java, may this code lead to the memory leak?","body":"<p>It does make a difference.</p>\n\n<p>Normally it doesn't matter if you set it to null or to some other value. Reassigning <code>objArr</code> reduces the reference count and makes it possible to GC the array.</p>\n\n<p>If, however, the array is so big that you cannot fit two of them in memory at the same time, then it might help, because if you set the reference to null before the call, then the current array can be GC:ed before assigning memory for the next array. </p>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":35224126,"answer_count":2,"score":3,"last_activity_date":1669136355,"creation_date":1454674251,"question_id":35223924,"body_markdown":"Let say I have a Java code, which constantly runs and every minute should get an array of really heavy objects and proceed them. The following code does the job:\r\n\r\n```java\r\nwhile (true) {\r\n\r\n\tArrayList&lt;HeavyObject&gt; objArr = this.getHeavyObject();\r\n\tdrv.processObject(objArr);\r\n\r\n\ttry {\r\n\t\tThread.sleep(60000);\r\n\t} catch (InterruptedException e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n}\r\n```\r\n\r\nMay this code lead to the memory leak when executing `ArrayList&lt;HeavyObject&gt; objArr = this.getHeavyObject();` without assigning `objArr = null` before getting new batch of heavy objects?\r\n\r\nAccording to the &#171;[Memory leaks in Java][1]&#187; article it&#39;s important to use assigning to `null` if I don&#39;t leave the scope of the variable (this code is a part of the `main()` and is alive until I exit the program).\r\n\r\nCan you clarify this aspect as applied to the code listed above?\r\n\r\n  [1]: http://coderevisited.com/memory-leaks-in-java/","title":"Potential memory leak in Java, may this code lead to the memory leak?","body":"<p>Let say I have a Java code, which constantly runs and every minute should get an array of really heavy objects and proceed them. The following code does the job:</p>\n<pre class=\"lang-java prettyprint-override\"><code>while (true) {\n\n    ArrayList&lt;HeavyObject&gt; objArr = this.getHeavyObject();\n    drv.processObject(objArr);\n\n    try {\n        Thread.sleep(60000);\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>May this code lead to the memory leak when executing <code>ArrayList&lt;HeavyObject&gt; objArr = this.getHeavyObject();</code> without assigning <code>objArr = null</code> before getting new batch of heavy objects?</p>\n<p>According to the «<a href=\"http://coderevisited.com/memory-leaks-in-java/\" rel=\"nofollow noreferrer\">Memory leaks in Java</a>» article it's important to use assigning to <code>null</code> if I don't leave the scope of the variable (this code is a part of the <code>main()</code> and is alive until I exit the program).</p>\n<p>Can you clarify this aspect as applied to the code listed above?</p>\n"},{"tags":["java","swing","jtextfield"],"answers":[{"tags":[],"owner":{"account_id":2900184,"reputation":3513,"user_id":4009739,"accept_rate":58,"display_name":"John Smith"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669136221,"creation_date":1669009816,"answer_id":74514743,"question_id":74514705,"body_markdown":"Got it!\r\n\r\n    jTextField.setBorder(BorderFactory.createMatteBorder(0,0,1,0, Color.BLACK));\r\n","title":"jTextFIeld bottom line border only","body":"<p>Got it!</p>\n<pre><code>jTextField.setBorder(BorderFactory.createMatteBorder(0,0,1,0, Color.BLACK));\n</code></pre>\n"}],"owner":{"account_id":2900184,"reputation":3513,"user_id":4009739,"accept_rate":58,"display_name":"John Smith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669136286,"creation_date":1669009448,"question_id":74514705,"body_markdown":"I&#39;m wanting to create a jTextField that only has a bottom black line for a border in the simplest way possible. createLineborder doesn&#39;t seem to have a parameter for only the bottom line. createEmptyBorder has but obviously no line.","title":"jTextFIeld bottom line border only","body":"<p>I'm wanting to create a jTextField that only has a bottom black line for a border in the simplest way possible. createLineborder doesn't seem to have a parameter for only the bottom line. createEmptyBorder has but obviously no line.</p>\n"},{"tags":["java","web-crawler","html-parsing","jsoup","crawler4j"],"answers":[{"tags":[],"owner":{"account_id":1158581,"reputation":17184,"user_id":1138559,"accept_rate":99,"display_name":"Alkis Kalogeris"},"comment_count":0,"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1458712130,"creation_date":1453269432,"answer_id":34892537,"question_id":34888510,"body_markdown":"Crawling is something bigger than just retrieving the contents of a single URI. If you just want to retrieve the content of some pages then there is no real benefit from using something like `Crawler4J`. \r\n\r\nLet&#39;s take a look at an example. Assume you want to crawl a website. The requirements would be:\r\n\r\n 1. Give base URI (home page)\r\n 2. Take all the URIs from each page and retrieve the contents of those too.\r\n 3. Move recursively for every URI you retrieve.\r\n 4. Retrieve the contents only of URIs that are inside this website (there could be external URIs referencing another website, we don&#39;t need those).\r\n 5. Avoid circular crawling. Page A has URI for page B (of the same site). Page B has URI for page A, but we already retrieved the content of page A (the `About` page has a link for the `Home` page, but we already got the contents of `Home` page so don&#39;t visit it again). \r\n 6. The crawling operation must be multithreaded\r\n 7. The website is vast. It contains a lot of pages. We only want to retrieve 50 URIs beginning from `Home` page. \r\n\r\nThis is a simple scenario. Try solving this with `Jsoup`. All this functionality must be implemented by you. Crawler4J or any crawler micro framework for that matter, would or should have an implementation for the actions above. `Jsoup`&#39;s strong qualities shine when you get to decide what to do with the content.\r\n\r\nLet&#39;s take a look at some requirements for parsing.\r\n\r\n 1. Get all paragraphs of a page\r\n 2. Get all images\r\n 3. Remove invalid tags (tags that do not comply to the `HTML` specs)\r\n 4. Remove script tags\r\n\r\nThis is where `Jsoup` comes to play. Of course, there is some overlapping here. Some things might be possible with both `Crawler4J` or `Jsoup`, but that doesn&#39;t make them equivalent. You could remove the mechanism of retrieving content from `Jsoup` and still be an amazing tool to use. If `Crawler4J` would remove the retrieval, then it would lose half of its functionality. \r\n\r\nI used both of them in the same project in a real life scenario. \r\nI crawled a site, leveraging the strong points of `Crawler4J`, for all the problems mentioned in the first example. Then I passed the content of each page I retrieved to `Jsoup`, in order to extract the information I needed. Could I have not used one or the other? Yes, I could, but I would have had to implement all the missing functionality. \r\n\r\nHence the difference, `Crawler4J` is a crawler with some simple operations for parsing (you could extract the images in one line), but there is no implementation for complex `CSS` queries. `Jsoup` is a parser that gives you a simple API for `HTTP` requests. For anything more complex there is no implementation.","title":"Crawler4j vs. Jsoup for the pages crawling and parsing in Java","body":"<p>Crawling is something bigger than just retrieving the contents of a single URI. If you just want to retrieve the content of some pages then there is no real benefit from using something like <code>Crawler4J</code>. </p>\n\n<p>Let's take a look at an example. Assume you want to crawl a website. The requirements would be:</p>\n\n<ol>\n<li>Give base URI (home page)</li>\n<li>Take all the URIs from each page and retrieve the contents of those too.</li>\n<li>Move recursively for every URI you retrieve.</li>\n<li>Retrieve the contents only of URIs that are inside this website (there could be external URIs referencing another website, we don't need those).</li>\n<li>Avoid circular crawling. Page A has URI for page B (of the same site). Page B has URI for page A, but we already retrieved the content of page A (the <code>About</code> page has a link for the <code>Home</code> page, but we already got the contents of <code>Home</code> page so don't visit it again). </li>\n<li>The crawling operation must be multithreaded</li>\n<li>The website is vast. It contains a lot of pages. We only want to retrieve 50 URIs beginning from <code>Home</code> page. </li>\n</ol>\n\n<p>This is a simple scenario. Try solving this with <code>Jsoup</code>. All this functionality must be implemented by you. Crawler4J or any crawler micro framework for that matter, would or should have an implementation for the actions above. <code>Jsoup</code>'s strong qualities shine when you get to decide what to do with the content.</p>\n\n<p>Let's take a look at some requirements for parsing.</p>\n\n<ol>\n<li>Get all paragraphs of a page</li>\n<li>Get all images</li>\n<li>Remove invalid tags (tags that do not comply to the <code>HTML</code> specs)</li>\n<li>Remove script tags</li>\n</ol>\n\n<p>This is where <code>Jsoup</code> comes to play. Of course, there is some overlapping here. Some things might be possible with both <code>Crawler4J</code> or <code>Jsoup</code>, but that doesn't make them equivalent. You could remove the mechanism of retrieving content from <code>Jsoup</code> and still be an amazing tool to use. If <code>Crawler4J</code> would remove the retrieval, then it would lose half of its functionality. </p>\n\n<p>I used both of them in the same project in a real life scenario. \nI crawled a site, leveraging the strong points of <code>Crawler4J</code>, for all the problems mentioned in the first example. Then I passed the content of each page I retrieved to <code>Jsoup</code>, in order to extract the information I needed. Could I have not used one or the other? Yes, I could, but I would have had to implement all the missing functionality. </p>\n\n<p>Hence the difference, <code>Crawler4J</code> is a crawler with some simple operations for parsing (you could extract the images in one line), but there is no implementation for complex <code>CSS</code> queries. <code>Jsoup</code> is a parser that gives you a simple API for <code>HTTP</code> requests. For anything more complex there is no implementation.</p>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4961,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":34892537,"answer_count":1,"score":11,"last_activity_date":1669136276,"creation_date":1453244111,"question_id":34888510,"body_markdown":"I want to get the content of a page and extract the specific parts of it. As far as I know, there are at least two solutions for such task: [Crawler4j][1] and [Jsoup][2].\r\n\r\nBoth of them are capable retrieving the content of a page and extract sub-parts of it. The only thing I&#39;m not sure about, what is the difference between them? There is a [similar question][3], which is marked as answered:\r\n\r\n&gt; Crawler4j is a crawler, Jsoup is a parser.\r\n\r\nBut I just checked, Jsoup is also capable crawling a page in addition to a parsing functionality, while Crawler4j is capable not only crawling the page but parsing its content.\r\n\r\nWhat is the difference between Crawler4j and Jsoup?\r\n\r\n  [1]: https://github.com/yasserg/crawler4j\r\n  [2]: http://jsoup.org/\r\n  [3]: https://stackoverflow.com/questions/24372118/crawler-in-groovy-jsoup-vs-crawler4j","title":"Crawler4j vs. Jsoup for the pages crawling and parsing in Java","body":"<p>I want to get the content of a page and extract the specific parts of it. As far as I know, there are at least two solutions for such task: <a href=\"https://github.com/yasserg/crawler4j\" rel=\"nofollow noreferrer\">Crawler4j</a> and <a href=\"http://jsoup.org/\" rel=\"nofollow noreferrer\">Jsoup</a>.</p>\n<p>Both of them are capable retrieving the content of a page and extract sub-parts of it. The only thing I'm not sure about, what is the difference between them? There is a <a href=\"https://stackoverflow.com/questions/24372118/crawler-in-groovy-jsoup-vs-crawler4j\">similar question</a>, which is marked as answered:</p>\n<blockquote>\n<p>Crawler4j is a crawler, Jsoup is a parser.</p>\n</blockquote>\n<p>But I just checked, Jsoup is also capable crawling a page in addition to a parsing functionality, while Crawler4j is capable not only crawling the page but parsing its content.</p>\n<p>What is the difference between Crawler4j and Jsoup?</p>\n"},{"tags":["java","mongodb","indexing","duplicates","crud"],"comments":[{"owner":{"account_id":3726276,"reputation":60422,"user_id":3100115,"accept_rate":100,"display_name":"styvane"},"score":0,"creation_date":1452383748,"post_id":34700258,"comment_id":57146856,"body_markdown":"That is not true. Why do you think `ChinaPost-f411f6... === skynews-1a2346...`?","body":"That is not true. Why do you think <code>ChinaPost-f411f6... === skynews-1a2346...</code>?"},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1452409173,"post_id":34700258,"comment_id":57151841,"body_markdown":"@user3100115, actually I mean that if I run the insert command two times or more then MongoDB will add `ChinaPost-f411f6…` twice or more. I&#39;m not comparing `ChinaPost-f411f6…` with `skynews-1a2346…` but `ChinaPost-f411f6…` from the first execution with `ChinaPost-f411f6…` of the second execution  of insert and so on.","body":"@user3100115, actually I mean that if I run the insert command two times or more then MongoDB will add <code>ChinaPost-f411f6…</code> twice or more. I&#39;m not comparing <code>ChinaPost-f411f6…</code> with <code>skynews-1a2346…</code> but <code>ChinaPost-f411f6…</code> from the first execution with <code>ChinaPost-f411f6…</code> of the second execution  of insert and so on."}],"answers":[{"comments":[{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1452410087,"post_id":34700725,"comment_id":57151986,"body_markdown":"Thanks Philip, could, you, please clarify, do I understand correctly that the approach `db.members.createIndex( { &quot;user_id&quot;: 1 }, { unique: true } )` described here: https://docs.mongodb.org/manual/core/index-unique/ is outdated?","body":"Thanks Philip, could, you, please clarify, do I understand correctly that the approach <code>db.members.createIndex( { &quot;user_id&quot;: 1 }, { unique: true } )</code> described here: <a href=\"https://docs.mongodb.org/manual/core/index-unique/\" rel=\"nofollow noreferrer\">docs.mongodb.org/manual/core/index-unique</a> is outdated?"},{"owner":{"account_id":3726276,"reputation":60422,"user_id":3100115,"accept_rate":100,"display_name":"styvane"},"score":0,"creation_date":1452413333,"post_id":34700725,"comment_id":57152545,"body_markdown":"@MikeB. it&#39;s not *outdated* this is how you create unique index.","body":"@MikeB. it&#39;s not <i>outdated</i> this is how you create unique index."},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1452419891,"post_id":34700725,"comment_id":57153981,"body_markdown":"@user3100115, so what&#39;s the difference between `db.members.createIndex( { &quot;user_id&quot;: 1 }, { unique: true } )` and `db.members.createIndex(new BasicDBObject(&quot;user_id&quot;, 1), new BasicDBObject(&quot;unique&quot;, true));`? Is it absolutely the same? If both variants work, which of them should I use and when should I prefer one over another?","body":"@user3100115, so what&#39;s the difference between <code>db.members.createIndex( { &quot;user_id&quot;: 1 }, { unique: true } )</code> and <code>db.members.createIndex(new BasicDBObject(&quot;user_id&quot;, 1), new BasicDBObject(&quot;unique&quot;, true));</code>? Is it absolutely the same? If both variants work, which of them should I use and when should I prefer one over another?"},{"owner":{"account_id":3726276,"reputation":60422,"user_id":3100115,"accept_rate":100,"display_name":"styvane"},"score":2,"creation_date":1452420191,"post_id":34700725,"comment_id":57154080,"body_markdown":"The first syntax is used in the shell while the second use the Java driver.","body":"The first syntax is used in the shell while the second use the Java driver."},{"owner":{"account_id":1777092,"reputation":68282,"user_id":1620671,"accept_rate":87,"display_name":"Philipp"},"score":1,"creation_date":1452447848,"post_id":34700725,"comment_id":57163454,"body_markdown":"@MikeB. The first example is how you create an unique index in Javascript, the second how you do the exact same thing in Java. Because index creation is a one-time action you can of course set up your indexes with the MongoDB shell using Javascript, but I would recommend to do it in the Java application at startup, because it makes deployment easier. When the exact same index already exists, createIndex is a no-op.","body":"@MikeB. The first example is how you create an unique index in Javascript, the second how you do the exact same thing in Java. Because index creation is a one-time action you can of course set up your indexes with the MongoDB shell using Javascript, but I would recommend to do it in the Java application at startup, because it makes deployment easier. When the exact same index already exists, createIndex is a no-op."}],"tags":[],"owner":{"account_id":1777092,"reputation":68282,"user_id":1620671,"accept_rate":87,"display_name":"Philipp"},"comment_count":5,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1452386497,"creation_date":1452386497,"answer_id":34700725,"question_id":34700258,"body_markdown":"Regular indexes allow multiple documents with the same value.\r\n\r\nWhat you need is not a regular index but [an unique index][1]. These are created by using the method [`createIndex(DBObject keys, DBObject options)`][2] with an options-object where `unique` is `true`.\r\n\r\n    collection.createIndex(new BasicDBObject(&quot;guid&quot;, 1), new BasicDBObject(&quot;unique&quot;, true));\r\n\r\n\r\n  [1]: https://docs.mongodb.org/manual/tutorial/create-a-unique-index/\r\n  [2]: http://api.mongodb.org/java/current/com/mongodb/DBCollection.html#createIndex-com.mongodb.DBObject-com.mongodb.DBObject-","title":"Create index in MongoDB 3.2 to avoid duplicated documents/rows","body":"<p>Regular indexes allow multiple documents with the same value.</p>\n\n<p>What you need is not a regular index but <a href=\"https://docs.mongodb.org/manual/tutorial/create-a-unique-index/\" rel=\"nofollow\">an unique index</a>. These are created by using the method <a href=\"http://api.mongodb.org/java/current/com/mongodb/DBCollection.html#createIndex-com.mongodb.DBObject-com.mongodb.DBObject-\" rel=\"nofollow\"><code>createIndex(DBObject keys, DBObject options)</code></a> with an options-object where <code>unique</code> is <code>true</code>.</p>\n\n<pre><code>collection.createIndex(new BasicDBObject(\"guid\", 1), new BasicDBObject(\"unique\", true));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1452423899,"creation_date":1452423504,"answer_id":34704605,"question_id":34700258,"body_markdown":"With the help of [Phillip][1], I composed a completely worked solution for the problem &#171;How to avoid duplicates / skip duplicates on insert&#187; in ***MongoDB 3.2*** for ***Java Driver 3.2.0***:\r\n\r\n\t\tIndexOptions options = new IndexOptions();\r\n\r\n\t\t// ensure the index is unique\r\n\t\toptions.unique(true);\r\n\t\t// define the index\r\n\t\tdbColl.createIndex(new BasicDBObject(&quot;guid&quot;, 1), options);\r\n\r\n\t\t// add data to DB\r\n\t\tfor (Object item : itemsArr) {\r\n\r\n\t\t\t// if there is a duplicate, skip it and write to a console (optionally)\r\n\t\t\ttry {\r\n\t\t\t\tdbColl.insertOne(Document.parse(item.toString()));\r\n\t\t\t} catch (com.mongodb.MongoWriteException ex) {\r\n\t\t\t\t//System.err.println(ex.getMessage());\r\n\t\t\t}\r\n\t\t}\r\n\r\nFeel free to use this ready-to-use solution.\r\n\r\n  [1]: https://stackoverflow.com/users/1620671/philipp","title":"Create index in MongoDB 3.2 to avoid duplicated documents/rows","body":"<p>With the help of <a href=\"https://stackoverflow.com/users/1620671/philipp\">Phillip</a>, I composed a completely worked solution for the problem «How to avoid duplicates / skip duplicates on insert» in <strong><em>MongoDB 3.2</em></strong> for <strong><em>Java Driver 3.2.0</em></strong>:</p>\n\n<pre><code>    IndexOptions options = new IndexOptions();\n\n    // ensure the index is unique\n    options.unique(true);\n    // define the index\n    dbColl.createIndex(new BasicDBObject(\"guid\", 1), options);\n\n    // add data to DB\n    for (Object item : itemsArr) {\n\n        // if there is a duplicate, skip it and write to a console (optionally)\n        try {\n            dbColl.insertOne(Document.parse(item.toString()));\n        } catch (com.mongodb.MongoWriteException ex) {\n            //System.err.println(ex.getMessage());\n        }\n    }\n</code></pre>\n\n<p>Feel free to use this ready-to-use solution.</p>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1763,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":34704605,"answer_count":2,"score":3,"last_activity_date":1669136251,"creation_date":1452382648,"question_id":34700258,"body_markdown":"I&#39;m using MongoDB 3.2 and want to avoid the duplicates in my collection. In order to do that I use `createIndex()` method (I tried different variants, none of them doesn&#39;t work):\r\n\r\n```java\r\ndbColl.createIndex(new Document(&quot;guid&quot;, 1));\r\ndbColl.createIndex(new BasicDBObject(&quot;guid&quot;, 1));\r\ndbColl.createIndex(new Document(&quot;guid.content&quot;, 1));\r\ndbColl.createIndex(new BasicDBObject(&quot;guid.content&quot;, 1));\r\n```\r\n\r\nThen I try to execute data insert with:\r\n\r\n```java\r\nitemsArr.forEach(\r\n\titem -&gt; dbColl.insertOne(Document.parse(item.toString()))\r\n);\r\n```\r\n\r\nI do it two times and anticipate that the second time MongoDB will not add any new row since the data has been already added and there is an index on the `guid` field. But that&#39;s not the case MongoDB adds duplicates despite index value.\r\n\r\nWhy does MongoDB add duplicates even if there is an index on a `guid` and/or `guid.content` field? And how to fix it? I want to be able to add the document with the same `guid` field only one time.\r\n\r\nHere is a sample of documents structure:\r\n[![Documents Schema Example][1]][1]\r\n\r\nIn my data the `guid` field is a unique document identifier.\r\n\r\n  [1]: http://i.stack.imgur.com/ZCagt.png","title":"Create index in MongoDB 3.2 to avoid duplicated documents/rows","body":"<p>I'm using MongoDB 3.2 and want to avoid the duplicates in my collection. In order to do that I use <code>createIndex()</code> method (I tried different variants, none of them doesn't work):</p>\n<pre class=\"lang-java prettyprint-override\"><code>dbColl.createIndex(new Document(&quot;guid&quot;, 1));\ndbColl.createIndex(new BasicDBObject(&quot;guid&quot;, 1));\ndbColl.createIndex(new Document(&quot;guid.content&quot;, 1));\ndbColl.createIndex(new BasicDBObject(&quot;guid.content&quot;, 1));\n</code></pre>\n<p>Then I try to execute data insert with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>itemsArr.forEach(\n    item -&gt; dbColl.insertOne(Document.parse(item.toString()))\n);\n</code></pre>\n<p>I do it two times and anticipate that the second time MongoDB will not add any new row since the data has been already added and there is an index on the <code>guid</code> field. But that's not the case MongoDB adds duplicates despite index value.</p>\n<p>Why does MongoDB add duplicates even if there is an index on a <code>guid</code> and/or <code>guid.content</code> field? And how to fix it? I want to be able to add the document with the same <code>guid</code> field only one time.</p>\n<p>Here is a sample of documents structure:\n<a href=\"https://i.stack.imgur.com/ZCagt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZCagt.png\" alt=\"Documents Schema Example\" /></a></p>\n<p>In my data the <code>guid</code> field is a unique document identifier.</p>\n"},{"tags":["java","mongodb","mongodb-query","mongodb-java"],"answers":[{"comments":[{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1449601671,"post_id":34156518,"comment_id":56074805,"body_markdown":"Thank you for the detailed answer. regarding `async` vs. `regular` driver, what are contra of the `async` driver? Why just not to use `async` always?","body":"Thank you for the detailed answer. regarding <code>async</code> vs. <code>regular</code> driver, what are contra of the <code>async</code> driver? Why just not to use <code>async</code> always?"},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":1,"creation_date":1449602185,"post_id":34156518,"comment_id":56075139,"body_markdown":"And one more sub-question. On https://mongodb.github.io/mongo-java-driver/ there are two different regular drivers: *mongo-**java**-driver* and *mongodb-driver* besides the *mongodb-driver-core*. Both of them are Java drivers, thus what is the difference between the first two drivers?","body":"And one more sub-question. On <a href=\"https://mongodb.github.io/mongo-java-driver/\" rel=\"nofollow noreferrer\">mongodb.github.io/mongo-java-driver</a> there are two different regular drivers: <i>mongo-<b>java</b>-driver</i> and <i>mongodb-driver</i> besides the <i>mongodb-driver-core</i>. Both of them are Java drivers, thus what is the difference between the first two drivers?"},{"owner":{"account_id":341446,"reputation":585,"user_id":672054,"display_name":"Sharadr"},"score":1,"creation_date":1539204264,"post_id":34156518,"comment_id":92421476,"body_markdown":"As per this link https://github.com/mongodb/mongo-java-driver, they say that mongo-java-driver is  an all-in-one jar (which embeds the core driver and bson).","body":"As per this link <a href=\"https://github.com/mongodb/mongo-java-driver\" rel=\"nofollow noreferrer\">github.com/mongodb/mongo-java-driver</a>, they say that mongo-java-driver is  an all-in-one jar (which embeds the core driver and bson)."},{"owner":{"account_id":2633537,"reputation":10047,"user_id":2278844,"accept_rate":93,"display_name":"Cydrick Trudel"},"score":2,"creation_date":1539210514,"post_id":34156518,"comment_id":92423589,"body_markdown":"@Sharadr Yes, that is correct. The BSON library and the Core drivers as dependencies of both the regular driver and the async driver. When they are mentioning that `mongo-java-driver` is a &quot;all-in-one jar&quot;, they mean that it&#39;s packaging the regular driver and its dependencies (so the core driver and BSON library) within the same JAR.","body":"@Sharadr Yes, that is correct. The BSON library and the Core drivers as dependencies of both the regular driver and the async driver. When they are mentioning that <code>mongo-java-driver</code> is a &quot;all-in-one jar&quot;, they mean that it&#39;s packaging the regular driver and its dependencies (so the core driver and BSON library) within the same JAR."}],"tags":[],"owner":{"account_id":2633537,"reputation":10047,"user_id":2278844,"accept_rate":93,"display_name":"Cydrick Trudel"},"comment_count":4,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1539210494,"creation_date":1449579475,"answer_id":34156518,"question_id":34155418,"body_markdown":"**TL;DR**:\r\n\r\nUse the async driver if the operations are slow, or use the regular driver in most cases. You shouldn&#39;t use the core driver.\r\n\r\n**MongoDB Regular Driver**:\r\n\r\nGeneral driver that you can use to search, create, read, update and delete documents. The `find(...)`, `updateMany(...)`, `deleteMany(...)` and similar methods will hang for as long as the result is not returned or the operation not done (synchronous behavior). This is the driver that most program uses and is good in most cases.\r\n\r\nHere is an example for inserting a single Document:\r\n\r\n    collection.insertOne(doc);\r\n    //Do something here.\r\n    System.out.println(&quot;Inserted!&quot;)\r\n\r\n**MongoDB Async Driver**:\r\n\r\nAnother type of driver that you can use to search, create, read, update and delete documents. This driver offers similar methods than the regular driver (`find(...)`, `updateMany(...)`, `deleteMany(...)`, etc.). \r\n\r\nThe difference with the regular driver is that the main thread will not hang because the async driver sends the result in a [callback][1] (asynchronous behavior). This driver is used when the operations can take a long time (a lot of data to go through, high latency, query on unindexed fields, etc.) and you do not want to manage multiple threads.\r\n\r\nHere is an example of the callback when inserting a single Document:\r\n\r\n    collection.insertOne(doc, new SingleResultCallback&lt;Void&gt;() {\r\n        @Override\r\n        public void onResult(final Void result, final Throwable t) {\r\n            //Do something here.\r\n            System.out.println(&quot;Inserted!&quot;);\r\n        }\r\n    });\r\n    // Do something to show that the Document was not inserted yet.\r\n    System.out.println(&quot;Inserting...&quot;)\r\n\r\nFor more informations, read [this][2].\r\n\r\n**MongoDB Core Driver**\r\n\r\nBase layer of the regular and async drivers. It contains low-level methods to do all the operations common to the regular and async drivers. Unless you are making a new API / Driver for MongoDB, you shouldn&#39;t use the core driver.\r\n\r\n  [1]: https://stackoverflow.com/questions/824234/what-is-a-callback-function\r\n  [2]: http://mongodb.github.io/mongo-java-driver/3.0/driver-async/getting-started/quick-tour/#going-async-with-callbacks","title":"MongoDB Java Driver: MongoCore Driver vs. MongoDB Driver vs. MongoDB Async Driver","body":"<p><strong>TL;DR</strong>:</p>\n\n<p>Use the async driver if the operations are slow, or use the regular driver in most cases. You shouldn't use the core driver.</p>\n\n<p><strong>MongoDB Regular Driver</strong>:</p>\n\n<p>General driver that you can use to search, create, read, update and delete documents. The <code>find(...)</code>, <code>updateMany(...)</code>, <code>deleteMany(...)</code> and similar methods will hang for as long as the result is not returned or the operation not done (synchronous behavior). This is the driver that most program uses and is good in most cases.</p>\n\n<p>Here is an example for inserting a single Document:</p>\n\n<pre><code>collection.insertOne(doc);\n//Do something here.\nSystem.out.println(\"Inserted!\")\n</code></pre>\n\n<p><strong>MongoDB Async Driver</strong>:</p>\n\n<p>Another type of driver that you can use to search, create, read, update and delete documents. This driver offers similar methods than the regular driver (<code>find(...)</code>, <code>updateMany(...)</code>, <code>deleteMany(...)</code>, etc.). </p>\n\n<p>The difference with the regular driver is that the main thread will not hang because the async driver sends the result in a <a href=\"https://stackoverflow.com/questions/824234/what-is-a-callback-function\">callback</a> (asynchronous behavior). This driver is used when the operations can take a long time (a lot of data to go through, high latency, query on unindexed fields, etc.) and you do not want to manage multiple threads.</p>\n\n<p>Here is an example of the callback when inserting a single Document:</p>\n\n<pre><code>collection.insertOne(doc, new SingleResultCallback&lt;Void&gt;() {\n    @Override\n    public void onResult(final Void result, final Throwable t) {\n        //Do something here.\n        System.out.println(\"Inserted!\");\n    }\n});\n// Do something to show that the Document was not inserted yet.\nSystem.out.println(\"Inserting...\")\n</code></pre>\n\n<p>For more informations, read <a href=\"http://mongodb.github.io/mongo-java-driver/3.0/driver-async/getting-started/quick-tour/#going-async-with-callbacks\" rel=\"noreferrer\">this</a>.</p>\n\n<p><strong>MongoDB Core Driver</strong></p>\n\n<p>Base layer of the regular and async drivers. It contains low-level methods to do all the operations common to the regular and async drivers. Unless you are making a new API / Driver for MongoDB, you shouldn't use the core driver.</p>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9667,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":34156518,"answer_count":1,"score":13,"last_activity_date":1669136207,"creation_date":1449576187,"question_id":34155418,"body_markdown":"There are three different driver options for the MongoDB Java driver:\r\n\r\n 1. Core Driver\r\n 2. MongoDB Driver\r\n 3. MongoDB Async Driver\r\n\r\nThe [drivers description page][1] gives a brief description of each of them but no further explanation is provided regarding when I should use each of them.\r\n\r\nMy questions:\r\n\r\n 1. What are the cases to use each of them?\r\n\r\n 2. When should I prefer one over the second and when I must/have to use the particular driver option?\r\n\r\n  [1]: https://docs.mongodb.org/ecosystem/drivers/java/","title":"MongoDB Java Driver: MongoCore Driver vs. MongoDB Driver vs. MongoDB Async Driver","body":"<p>There are three different driver options for the MongoDB Java driver:</p>\n<ol>\n<li>Core Driver</li>\n<li>MongoDB Driver</li>\n<li>MongoDB Async Driver</li>\n</ol>\n<p>The <a href=\"https://docs.mongodb.org/ecosystem/drivers/java/\" rel=\"nofollow noreferrer\">drivers description page</a> gives a brief description of each of them but no further explanation is provided regarding when I should use each of them.</p>\n<p>My questions:</p>\n<ol>\n<li><p>What are the cases to use each of them?</p>\n</li>\n<li><p>When should I prefer one over the second and when I must/have to use the particular driver option?</p>\n</li>\n</ol>\n"},{"tags":["java","mongodb"],"answers":[{"comments":[{"owner":{"account_id":1370050,"reputation":19409,"user_id":1305516,"accept_rate":59,"display_name":"David says Reinstate Monica"},"score":0,"creation_date":1448395369,"post_id":33902555,"comment_id":55568140,"body_markdown":"Point 1 explicitly states that it will create a new database, but then you end by explicitly saying that it wont because its lazy. Can you please clarify point 1 to reflect this.","body":"Point 1 explicitly states that it will create a new database, but then you end by explicitly saying that it wont because its lazy. Can you please clarify point 1 to reflect this."},{"owner":{"account_id":3449292,"reputation":1106,"user_id":2889288,"display_name":"k0ner"},"score":0,"creation_date":1448395880,"post_id":33902555,"comment_id":55568432,"body_markdown":"@DavidGrinberg I edited my answer, is it acceptable now?","body":"@DavidGrinberg I edited my answer, is it acceptable now?"},{"owner":{"account_id":1370050,"reputation":19409,"user_id":1305516,"accept_rate":59,"display_name":"David says Reinstate Monica"},"score":0,"creation_date":1448396228,"post_id":33902555,"comment_id":55568596,"body_markdown":"Yep, much better +1 :)","body":"Yep, much better +1 :)"},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":1,"creation_date":1448406254,"post_id":33902555,"comment_id":55573703,"body_markdown":"Great, thank you so much.\nI spent quite a lot of time to understand how to force the `MongoDB` to *really* create the DB with the `getDatabase()`. It&#39;s a pity that the official API documentation doesn&#39;t clarify such thin moments in an explicit way.","body":"Great, thank you so much. I spent quite a lot of time to understand how to force the <code>MongoDB</code> to <i>really</i> create the DB with the <code>getDatabase()</code>. It&#39;s a pity that the official API documentation doesn&#39;t clarify such thin moments in an explicit way."}],"tags":[],"owner":{"account_id":3449292,"reputation":1106,"user_id":2889288,"display_name":"k0ner"},"comment_count":4,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1448395848,"creation_date":1448394661,"answer_id":33902555,"question_id":33902181,"body_markdown":"In `3.1.1` driver:\r\n\r\nCalling `getDatabase` doesn&#39;t in fact create new database because operation is lazy - it returns database representation. Calling any modifiable operation (e.g. `createCollection`):\r\n\r\n1. will create new database for you if it is not present\r\n2. if present it will get database for you\r\n\r\nBut remember that you have to call any operation which actually performs something - like create. If you just call `getDatabase` it won&#39;t create it.","title":"Does MongoClient.getDatabase() return just a DB instance or actually creates it?","body":"<p>In <code>3.1.1</code> driver:</p>\n\n<p>Calling <code>getDatabase</code> doesn't in fact create new database because operation is lazy - it returns database representation. Calling any modifiable operation (e.g. <code>createCollection</code>):</p>\n\n<ol>\n<li>will create new database for you if it is not present</li>\n<li>if present it will get database for you</li>\n</ol>\n\n<p>But remember that you have to call any operation which actually performs something - like create. If you just call <code>getDatabase</code> it won't create it.</p>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4195,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":33902555,"answer_count":1,"score":3,"last_activity_date":1669136156,"creation_date":1448393348,"question_id":33902181,"body_markdown":"In order to create a database instance in MongoDB 3.2 you have to write something like that:\r\n\r\n```java\r\nnew MongoClient().getDatabase(&quot;dbName&quot;);\r\n```\r\n\r\nAccording to the official [MongoDB Java API 3.2][1] this should return you a database instance.\r\n\r\nMy questions:\r\n\r\n 1. Do I understand correctly, that if the DB with the specified name does not exist, thus MongoDB will create it for me?\r\n\r\n 2. And if the assumption from the question #1 is correct, what will happen if I&#39;ll try to request the same DB twice? Will it return just the already existed instance or will drop the existed one and will create a new one?\r\n\r\nP.S. Can you, please, advise me a good and *updated* MongoDB for Java manual/tutorial, I googled for a couple of them, but they are not so updated.\r\n\r\n  [1]: https://api.mongodb.org/java/3.2/com/mongodb/MongoClient.html#getDatabase-java.lang.String-","title":"Does MongoClient.getDatabase() return just a DB instance or actually creates it?","body":"<p>In order to create a database instance in MongoDB 3.2 you have to write something like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new MongoClient().getDatabase(&quot;dbName&quot;);\n</code></pre>\n<p>According to the official <a href=\"https://api.mongodb.org/java/3.2/com/mongodb/MongoClient.html#getDatabase-java.lang.String-\" rel=\"nofollow noreferrer\">MongoDB Java API 3.2</a> this should return you a database instance.</p>\n<p>My questions:</p>\n<ol>\n<li><p>Do I understand correctly, that if the DB with the specified name does not exist, thus MongoDB will create it for me?</p>\n</li>\n<li><p>And if the assumption from the question #1 is correct, what will happen if I'll try to request the same DB twice? Will it return just the already existed instance or will drop the existed one and will create a new one?</p>\n</li>\n</ol>\n<p>P.S. Can you, please, advise me a good and <em>updated</em> MongoDB for Java manual/tutorial, I googled for a couple of them, but they are not so updated.</p>\n"},{"tags":["java","c++","opencv","tomcat","servlets"],"answers":[{"comments":[{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1439142200,"post_id":31906872,"comment_id":51728019,"body_markdown":"Great! It works. Firstly, I tried to add these libs to the server IntelliJ IDEA project structure like we do it with JARs, but now I see, it&#39;s even simpler. Thank you so much, Meng Wang!","body":"Great! It works. Firstly, I tried to add these libs to the server IntelliJ IDEA project structure like we do it with JARs, but now I see, it&#39;s even simpler. Thank you so much, Meng Wang!"}],"tags":[],"owner":{"account_id":5715792,"reputation":277,"user_id":4516039,"display_name":"Meng Wang"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1439141082,"creation_date":1439141082,"answer_id":31906872,"question_id":31906737,"body_markdown":"I think the environment variables are somehow different when running in a Tomcat Servlet. That can explain why you program cannot load runtime library. \r\n\r\nI would try to copy necessary OpenCV runtime library files to the same directory as the C++ executable.","title":"C++ program returns -1073741515 when is called from the Java Tomcat Servlet","body":"<p>I think the environment variables are somehow different when running in a Tomcat Servlet. That can explain why you program cannot load runtime library. </p>\n\n<p>I would try to copy necessary OpenCV runtime library files to the same directory as the C++ executable.</p>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":31906872,"answer_count":1,"score":0,"last_activity_date":1669136123,"creation_date":1439140352,"question_id":31906737,"body_markdown":"I have a C++ application which deals with the image processing (by OpenCV 2.4.10). When I call this program from the command line or from another local Java application with the following code snippet:\r\n\r\n```java\r\nProcessBuilder pb = new ProcessBuilder(_IMG_PROC_ENGINE_PATH, imgPath);\r\npb.redirectError();\r\nProcess p = pb.start();\r\nexitCode = p.waitFor();\r\n```\r\n\r\neverything is working and the CPP-application returns the correct outcome.\r\n\r\nBut when I call the same CPP-program on the same PC with absolutely the same user account from ***Java Tomcat Servlet***, I get an error return code ***-1073741515*** from the CPP. After some searching, I discovered that this code error occurs when there is a problem with an external library loading. And it&#39;s true if I remove the OpenCV libraries usage from my C++ program, everything is OK.\r\n\r\nWhy, when I execute the program locally from the command line or from another local Java application, everything is OK, but when I call the same C++ EXE from the ***Java Servlet***, I get an error of library loading? How can I fix the issue?\r\n\r\nP.S. There is no antivirus or any other security software (e.g. Internet Security, EMET, etc.) on the PC, which can interrupt the process.","title":"C++ program returns -1073741515 when is called from the Java Tomcat Servlet","body":"<p>I have a C++ application which deals with the image processing (by OpenCV 2.4.10). When I call this program from the command line or from another local Java application with the following code snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ProcessBuilder pb = new ProcessBuilder(_IMG_PROC_ENGINE_PATH, imgPath);\npb.redirectError();\nProcess p = pb.start();\nexitCode = p.waitFor();\n</code></pre>\n<p>everything is working and the CPP-application returns the correct outcome.</p>\n<p>But when I call the same CPP-program on the same PC with absolutely the same user account from <em><strong>Java Tomcat Servlet</strong></em>, I get an error return code <em><strong>-1073741515</strong></em> from the CPP. After some searching, I discovered that this code error occurs when there is a problem with an external library loading. And it's true if I remove the OpenCV libraries usage from my C++ program, everything is OK.</p>\n<p>Why, when I execute the program locally from the command line or from another local Java application, everything is OK, but when I call the same C++ EXE from the <em><strong>Java Servlet</strong></em>, I get an error of library loading? How can I fix the issue?</p>\n<p>P.S. There is no antivirus or any other security software (e.g. Internet Security, EMET, etc.) on the PC, which can interrupt the process.</p>\n"},{"tags":["java","http","events","file-upload","raise"],"comments":[{"owner":{"account_id":2209650,"reputation":2966,"user_id":1951909,"accept_rate":80,"display_name":"SSC"},"score":1,"creation_date":1436905210,"post_id":31409361,"comment_id":50805644,"body_markdown":"Once you are done with httpclient.execute that means you are finished uploading, otherwise it goes into the catch section. By the way, it&#39;s discouraged to catch Exception, try to narrow it down.","body":"Once you are done with httpclient.execute that means you are finished uploading, otherwise it goes into the catch section. By the way, it&#39;s discouraged to catch Exception, try to narrow it down."},{"owner":{"account_id":2209650,"reputation":2966,"user_id":1951909,"accept_rate":80,"display_name":"SSC"},"score":0,"creation_date":1436905232,"post_id":31409361,"comment_id":50805659,"body_markdown":"Also, create a custom event handler and raise it once you are done with httpclient.execute.","body":"Also, create a custom event handler and raise it once you are done with httpclient.execute."}],"answers":[{"tags":[],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1436958978,"creation_date":1436958978,"answer_id":31428896,"question_id":31409361,"body_markdown":"Probably, the implementation of the ***Observer Design Pattern*** would be a suitable solution.  \r\nReference: https://stackoverflow.com/a/6270150/462347","title":"Upload complete event using HttpPost","body":"<p>Probably, the implementation of the <strong><em>Observer Design Pattern</em></strong> would be a suitable solution.<br>\nReference: <a href=\"https://stackoverflow.com/a/6270150/462347\">https://stackoverflow.com/a/6270150/462347</a></p>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":31428896,"answer_count":1,"score":0,"last_activity_date":1669136073,"creation_date":1436883684,"question_id":31409361,"body_markdown":"My app uploads an image to the server. In order to execute an uploading, I use the `HttpPost` class. Here is the relevant code fragment:\r\n\r\n```java\r\ntry {\r\n\tHttpClient httpclient = new DefaultHttpClient();\r\n\tHttpPost httppost = new HttpPost(&quot;%PATH_TO_SERVER_PAGE%&quot;);\r\n\t\r\n\thttppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));\r\n\thttpclient.execute(httppost);\r\n} catch (Exception e) {\r\n\tSystem.out.println(&quot;Connection error: &quot; + e.toString());\r\n}\r\n```\r\n\r\nHow can I raise an event and know if the uploading has been successfully finished to be sure that the file is already on a server?","title":"Upload complete event using HttpPost","body":"<p>My app uploads an image to the server. In order to execute an uploading, I use the <code>HttpPost</code> class. Here is the relevant code fragment:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    HttpClient httpclient = new DefaultHttpClient();\n    HttpPost httppost = new HttpPost(&quot;%PATH_TO_SERVER_PAGE%&quot;);\n    \n    httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));\n    httpclient.execute(httppost);\n} catch (Exception e) {\n    System.out.println(&quot;Connection error: &quot; + e.toString());\n}\n</code></pre>\n<p>How can I raise an event and know if the uploading has been successfully finished to be sure that the file is already on a server?</p>\n"},{"tags":["java","multithreading","performance","optimization","file-io"],"comments":[{"owner":{"account_id":5019425,"reputation":7741,"user_id":4033292,"accept_rate":81,"display_name":"Derrops"},"score":1,"creation_date":1435906340,"post_id":31187616,"comment_id":50403829,"body_markdown":"No one has mention that I/O calls are already buffered, I would take a guess that that if you have started new threads everytime you saw the possiblity it would slow down the larger application.","body":"No one has mention that I/O calls are already buffered, I would take a guess that that if you have started new threads everytime you saw the possiblity it would slow down the larger application."}],"answers":[{"tags":[],"owner":{"account_id":6145979,"reputation":1637,"user_id":4791954,"display_name":"Andr&#233; R."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1435848438,"creation_date":1435848438,"answer_id":31187764,"question_id":31187616,"body_markdown":"are you sure you are not constructing any new files before\r\nyour &#39;file deleting&#39; thread executes this `path.listFiles()` ?\r\n\r\nif not you might delete files that are currently needed !\r\n\r\napart from that spinning of some more threads would probably improve performance since in each iteration of the loop you will have a lot of IO-Time. In other words ... your thread is not CPU-bound but IO-bound, so spinning of more threads than you have CPU cores might pay off.\r\n\r\non the other hand you should not start thousands of threads if it might happen that you have thousands of files. in that case your logic would be a bit more complex to distribute the files to delete over the threads.","title":"Remove multiple files using multithreading in Java","body":"<p>are you sure you are not constructing any new files before\nyour 'file deleting' thread executes this <code>path.listFiles()</code> ?</p>\n\n<p>if not you might delete files that are currently needed !</p>\n\n<p>apart from that spinning of some more threads would probably improve performance since in each iteration of the loop you will have a lot of IO-Time. In other words ... your thread is not CPU-bound but IO-bound, so spinning of more threads than you have CPU cores might pay off.</p>\n\n<p>on the other hand you should not start thousands of threads if it might happen that you have thousands of files. in that case your logic would be a bit more complex to distribute the files to delete over the threads.</p>\n"},{"comments":[{"owner":{"account_id":4566152,"reputation":3414,"user_id":3707125,"display_name":"user3707125"},"score":1,"creation_date":1435850107,"post_id":31187777,"comment_id":50381906,"body_markdown":"Why are you so sure that this task can&#39;t be parallelized at the HDD&#39;s controller level? On my SSD-based laptop multi-threaded deletion works 2x times faster (for any amount of files from 1000 to 60000). However it doesn&#39;t boost up with three or more threads.","body":"Why are you so sure that this task can&#39;t be parallelized at the HDD&#39;s controller level? On my SSD-based laptop multi-threaded deletion works 2x times faster (for any amount of files from 1000 to 60000). However it doesn&#39;t boost up with three or more threads."},{"owner":{"account_id":1181066,"reputation":19241,"user_id":1155984,"display_name":"uraimo"},"score":0,"creation_date":1435851109,"post_id":31187777,"comment_id":50382638,"body_markdown":"At controller level i&#39;d say it depends on the disk internal structure, so yes, more than one concurrent operation could be possible (SSDs are a perfect example of this). So, what you saw is likely an indication of an SSD able to perform multiple parallel operation of physically separate NAND blocks. Other than this, soon, with fast enough disks, the cpu time needed to perform specific fast atomic i/o operations could be no more negligible  respect to i/o in languages like Java(considering all the layers of code you need to traverse), so it could make sense to start using more than one thread.","body":"At controller level i&#39;d say it depends on the disk internal structure, so yes, more than one concurrent operation could be possible (SSDs are a perfect example of this). So, what you saw is likely an indication of an SSD able to perform multiple parallel operation of physically separate NAND blocks. Other than this, soon, with fast enough disks, the cpu time needed to perform specific fast atomic i/o operations could be no more negligible  respect to i/o in languages like Java(considering all the layers of code you need to traverse), so it could make sense to start using more than one thread."},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":1,"creation_date":1435854792,"post_id":31187777,"comment_id":50385065,"body_markdown":"@user3707125 This corresponds with my experience reading directory tree (nearly threefold speed), both on SSD and HDD. I guess, it comes from enqueuing multiple commands so that the OS or the controller are able to plan ahead. So it should somewhat help even when no parallelism is available.","body":"@user3707125 This corresponds with my experience reading directory tree (nearly threefold speed), both on SSD and HDD. I guess, it comes from enqueuing multiple commands so that the OS or the controller are able to plan ahead. So it should somewhat help even when no parallelism is available."},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1435868953,"post_id":31187777,"comment_id":50392871,"body_markdown":"Update to the question:\nProbably, it&#39;s worth to mention, I&#39;m talking about Android application thus, there is no HDD, but internal and external memory of a smartphone.","body":"Update to the question: Probably, it&#39;s worth to mention, I&#39;m talking about Android application thus, there is no HDD, but internal and external memory of a smartphone."}],"tags":[],"owner":{"account_id":1181066,"reputation":19241,"user_id":1155984,"display_name":"uraimo"},"comment_count":4,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1435848967,"creation_date":1435848456,"answer_id":31187777,"question_id":31187616,"body_markdown":"If you are simply deleting files (cpu-wise the time needed is negligible and individually it is the same from the i/o point of view too) the bottleneck will be represented by disk I/O, i don&#39;t expect to see any improvement deleting file with multiple threads, you can just do it sequentially.","title":"Remove multiple files using multithreading in Java","body":"<p>If you are simply deleting files (cpu-wise the time needed is negligible and individually it is the same from the i/o point of view too) the bottleneck will be represented by disk I/O, i don't expect to see any improvement deleting file with multiple threads, you can just do it sequentially.</p>\n"},{"comments":[{"owner":{"account_id":1181066,"reputation":19241,"user_id":1155984,"display_name":"uraimo"},"score":0,"creation_date":1435849744,"post_id":31187921,"comment_id":50381657,"body_markdown":"Exactly, don&#39;t blindly try to optimize. +1","body":"Exactly, don&#39;t blindly try to optimize. +1"},{"owner":{"account_id":51901,"reputation":12651,"user_id":155082,"accept_rate":69,"display_name":"Lothar"},"score":0,"creation_date":1689536952,"post_id":31187921,"comment_id":135223936,"body_markdown":"Ask a lot of question to learn how well some parts of a system are multithreading optimized and its usefull. If you don&#39;t know the answer please stop this nonsense text. It doesn&#39;t help at all, remember you don&#39;t only answer for the guy who ask the question but for everyone who gets this as a top google hit. And i would love to know if the kernel can optimize parallel file deletes in a directory - 8 years later.","body":"Ask a lot of question to learn how well some parts of a system are multithreading optimized and its usefull. If you don&#39;t know the answer please stop this nonsense text. It doesn&#39;t help at all, remember you don&#39;t only answer for the guy who ask the question but for everyone who gets this as a top google hit. And i would love to know if the kernel can optimize parallel file deletes in a directory - 8 years later."}],"tags":[],"owner":{"account_id":2220773,"reputation":7600,"user_id":1960180,"accept_rate":100,"display_name":"Aaron D"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1435848796,"creation_date":1435848796,"answer_id":31187921,"question_id":31187616,"body_markdown":"Don&#39;t prematurely optimize until you know for sure that this code is a bottleneck. The time can always be spent fixing another bug or adding another feature.\r\n\r\nMaking it multi-threaded will make your application state more complex and thus harder to debug and the source code harder to read. So before you do this, I would run benchmarks to actually determine whether or not this operation is thread-bound and could actually be optimized by using more threads.","title":"Remove multiple files using multithreading in Java","body":"<p>Don't prematurely optimize until you know for sure that this code is a bottleneck. The time can always be spent fixing another bug or adding another feature.</p>\n\n<p>Making it multi-threaded will make your application state more complex and thus harder to debug and the source code harder to read. So before you do this, I would run benchmarks to actually determine whether or not this operation is thread-bound and could actually be optimized by using more threads.</p>\n"},{"tags":[],"owner":{"account_id":6262368,"reputation":409,"user_id":4869120,"accept_rate":0,"display_name":"amith"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435848948,"creation_date":1435848948,"answer_id":31187980,"question_id":31187616,"body_markdown":"If you are trying to start the log file afresh instaed of appending the current log you can use \r\n\r\n    &lt;appender name=&quot;RFA&quot; class=&quot;org.apache.log4j.RollingFileAppender&quot;&gt;\r\n    &lt;param name=&quot;Append&quot; value=&quot;false&quot; /&gt;\r\n\r\n\r\nI use this during my development \r\nThis does not delete or clean if the log file is rolled.\r\n","title":"Remove multiple files using multithreading in Java","body":"<p>If you are trying to start the log file afresh instaed of appending the current log you can use </p>\n\n<pre><code>&lt;appender name=\"RFA\" class=\"org.apache.log4j.RollingFileAppender\"&gt;\n&lt;param name=\"Append\" value=\"false\" /&gt;\n</code></pre>\n\n<p>I use this during my development \nThis does not delete or clean if the log file is rolled.</p>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2045,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":31187764,"answer_count":4,"score":0,"last_activity_date":1669136055,"creation_date":1435848033,"question_id":31187616,"body_markdown":"My application generates a lot of log files, I want to clean this folder each time I startup the application. The simplest way to do that is:\r\n\r\n```java\r\n//remove files from the previous executions\r\nThread tCleanAppFolder = new Thread() {\r\n\r\n\tpublic void run() {\r\n\r\n\t\tString savePath = getFilesDir().getPath() + File.separator;\r\n\t\tFile path = new File(savePath);\r\n\r\n\t\tfor (File file : path.listFiles()) {\r\n\t\t\tfile.delete();\r\n\t\t}\r\n\t}\r\n};\r\ntCleanAppFolder.start();\r\n```\r\n\r\nOf course, we execute this code in the separate thread for the performance reasons.\r\n\r\nMy questions:\r\n\r\n 1. Should I remove each file in the separate thread or it&#39;s OK to leave the code as it&#39;s now?\r\n\r\n 2. Will the usage of the multiple threads inside of `tCleanAppFolder` thread boost the cleaning process?\r\n\r\nProbably, it&#39;s worth to mention, I&#39;m talking about Android application thus, there is no HDD, but internal and external memory of a smartphone.","title":"Remove multiple files using multithreading in Java","body":"<p>My application generates a lot of log files, I want to clean this folder each time I startup the application. The simplest way to do that is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//remove files from the previous executions\nThread tCleanAppFolder = new Thread() {\n\n    public void run() {\n\n        String savePath = getFilesDir().getPath() + File.separator;\n        File path = new File(savePath);\n\n        for (File file : path.listFiles()) {\n            file.delete();\n        }\n    }\n};\ntCleanAppFolder.start();\n</code></pre>\n<p>Of course, we execute this code in the separate thread for the performance reasons.</p>\n<p>My questions:</p>\n<ol>\n<li><p>Should I remove each file in the separate thread or it's OK to leave the code as it's now?</p>\n</li>\n<li><p>Will the usage of the multiple threads inside of <code>tCleanAppFolder</code> thread boost the cleaning process?</p>\n</li>\n</ol>\n<p>Probably, it's worth to mention, I'm talking about Android application thus, there is no HDD, but internal and external memory of a smartphone.</p>\n"},{"tags":["java","date","datetime","java-8","date-comparison"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1455032226,"post_id":35295968,"comment_id":58301978,"body_markdown":"Use a `DateFormat.format(...)`, not `Date.toString()`, to print a `Date`. The latter prints it in the JVM default timezone; the former prints it out in whichever timezone you configure on the instance.","body":"Use a <code>DateFormat.format(...)</code>, not <code>Date.toString()</code>, to print a <code>Date</code>. The latter prints it in the JVM default timezone; the former prints it out in whichever timezone you configure on the instance."},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1455032428,"post_id":35295968,"comment_id":58302127,"body_markdown":"@AndyTurner, I check the value of `date` in debugger even there the date is in `IST 2016` and not in `GMT`.","body":"@AndyTurner, I check the value of <code>date</code> in debugger even there the date is in <code>IST 2016</code> and not in <code>GMT</code>."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":4,"creation_date":1455032513,"post_id":35295968,"comment_id":58302196,"body_markdown":"`Date`s don&#39;t have a specific &quot;timezone&quot;. The only timezone they have is that of the JVM. You must have some environment variable or preference somewhere specifying that IST should be used by default in the JVM.","body":"<code>Date</code>s don&#39;t have a specific &quot;timezone&quot;. The only timezone they have is that of the JVM. You must have some environment variable or preference somewhere specifying that IST should be used by default in the JVM."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1455032660,"post_id":35295968,"comment_id":58302324,"body_markdown":"BTW, I that&#39;s &quot;Israel Standard Time&quot;, not &quot;Indian Standard Time&quot;.","body":"BTW, I that&#39;s &quot;Israel Standard Time&quot;, not &quot;Indian Standard Time&quot;."},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1455032878,"post_id":35295968,"comment_id":58302479,"body_markdown":"@AndyTurner, `Israel Standard Time` is more logical for my case and, probably, it&#39;s a correct explanation. The reason I decided that&#39;s `Indian Standard Time`: http://www.timeanddate.com/time/zones/ist but there is also http://www.timeanddate.com/time/zones/ist-israel.","body":"@AndyTurner, <code>Israel Standard Time</code> is more logical for my case and, probably, it&#39;s a correct explanation. The reason I decided that&#39;s <code>Indian Standard Time</code>: <a href=\"http://www.timeanddate.com/time/zones/ist\" rel=\"nofollow noreferrer\">timeanddate.com/time/zones/ist</a> but there is also <a href=\"http://www.timeanddate.com/time/zones/ist-israel\" rel=\"nofollow noreferrer\">timeanddate.com/time/zones/ist-israel</a>."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1455032916,"post_id":35295968,"comment_id":58302511,"body_markdown":"And [Irish Standard Time](https://en.wikipedia.org/wiki/Ist#Time_zones). This is why three-letter abbreviations for timezones should be avoided.","body":"And <a href=\"https://en.wikipedia.org/wiki/Ist#Time_zones\" rel=\"nofollow noreferrer\">Irish Standard Time</a>. This is why three-letter abbreviations for timezones should be avoided."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1455037073,"post_id":35295968,"comment_id":58305697,"body_markdown":"As suggested, avoid such 3-4 letter codes as they are neither standardized nor unique. See [this list of proper time zone names](https://en.m.wikipedia.org/wiki/List_of_tz_database_time_zones). By the way, if it were India time you could tell by the half-hour; India uses an offset of five and a half hours, `+05:30`.","body":"As suggested, avoid such 3-4 letter codes as they are neither standardized nor unique. See <a href=\"https://en.m.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">this list of proper time zone names</a>. By the way, if it were India time you could tell by the half-hour; India uses an offset of five and a half hours, <code>+05:30</code>."}],"answers":[{"tags":[],"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1669116997,"creation_date":1455033161,"answer_id":35296352,"question_id":35295968,"body_markdown":"You are relying to `Date.toString()` to print your date when you should format it to a `String` with a formatter. What you are seeing is just the default pattern of `Date.toString()`. What you must keep in mind is that a `Date` does not have a timezone. You are seeing the output with the IST timezone, this must be because the current locale for the JVM is set to some specific locale for which the timezone name is `&quot;IST&quot;`.\r\n\r\nWith regard to your point 4, yes, you can do it much cleaner with Java Time API introduced in Java 8. You can create a `List` of your strings to parse, create a `DateTimeFormatter` to parse it, and keep the maximum date value.\r\n\r\n```js\r\npublic static void main(String[] args) {\r\n\r\n\tList&lt;String&gt; dates = Arrays.asList(&quot;Tue, 09 Feb 2016 14:07:00 GMT&quot;, &quot;Tue, 09 Feb 2016 19:55:00 GMT&quot;);\r\n\tDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;EEE, dd MMM yyyy HH:mm:ss z&quot;, Locale.ENGLISH);\r\n\t\r\n\tZonedDateTime maxDate = dates.stream()\r\n\t\t\t\t\t\t\t\t .map(s -&gt; ZonedDateTime.parse(s, formatter))\r\n\t\t\t\t\t\t\t\t .max(ZonedDateTime::compareTo)\r\n\t\t\t\t\t\t\t\t .get(); // or .orElse(null)\r\n\t\r\n\tSystem.out.println(maxDate);\r\n}\r\n```\r\n\r\nThis code is using a `ZonedDateTime` to keep the time-zone of the incoming strings.","title":"Can&#39;t convert string to date in Java, wrong timezone after conversion","body":"<p>You are relying to <code>Date.toString()</code> to print your date when you should format it to a <code>String</code> with a formatter. What you are seeing is just the default pattern of <code>Date.toString()</code>. What you must keep in mind is that a <code>Date</code> does not have a timezone. You are seeing the output with the IST timezone, this must be because the current locale for the JVM is set to some specific locale for which the timezone name is <code>&quot;IST&quot;</code>.</p>\n<p>With regard to your point 4, yes, you can do it much cleaner with Java Time API introduced in Java 8. You can create a <code>List</code> of your strings to parse, create a <code>DateTimeFormatter</code> to parse it, and keep the maximum date value.</p>\n<pre class=\"lang-js prettyprint-override\"><code>public static void main(String[] args) {\n\n    List&lt;String&gt; dates = Arrays.asList(&quot;Tue, 09 Feb 2016 14:07:00 GMT&quot;, &quot;Tue, 09 Feb 2016 19:55:00 GMT&quot;);\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;EEE, dd MMM yyyy HH:mm:ss z&quot;, Locale.ENGLISH);\n    \n    ZonedDateTime maxDate = dates.stream()\n                                 .map(s -&gt; ZonedDateTime.parse(s, formatter))\n                                 .max(ZonedDateTime::compareTo)\n                                 .get(); // or .orElse(null)\n    \n    System.out.println(maxDate);\n}\n</code></pre>\n<p>This code is using a <code>ZonedDateTime</code> to keep the time-zone of the incoming strings.</p>\n"},{"tags":[],"owner":{"account_id":5310965,"reputation":11758,"user_id":4237316,"accept_rate":47,"display_name":"Harald Nordgren"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455033292,"creation_date":1455033292,"answer_id":35296398,"question_id":35295968,"body_markdown":"Your computer seems to be set to `IST`. To force `GMT` output, import `java.util.TimeZone` and do this in your `try` block:\r\n\r\n    format.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n    date = format.parse(strDate);\r\n\r\n    System.out.println(&quot;Result: &quot; + format.format(date));","title":"Can&#39;t convert string to date in Java, wrong timezone after conversion","body":"<p>Your computer seems to be set to <code>IST</code>. To force <code>GMT</code> output, import <code>java.util.TimeZone</code> and do this in your <code>try</code> block:</p>\n\n<pre><code>format.setTimeZone(TimeZone.getTimeZone(\"GMT\"));\ndate = format.parse(strDate);\n\nSystem.out.println(\"Result: \" + format.format(date));\n</code></pre>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1091,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":35296352,"answer_count":2,"score":2,"last_activity_date":1669135927,"creation_date":1455032101,"question_id":35295968,"body_markdown":"I have an array of `Strings` with the dates e.g.:\r\n\r\n - *Tue, 09 Feb 2016 14:07:00 GMT*;\r\n - *Tue, 09 Feb 2016 19:55:00 GMT*.\r\n\r\nNow I want to find the most recent date on this list. In order to do that, I try to deserialize these strings to `java.util.Date` objects and after that compare them.\r\n\r\nThe code sample of `java.util.Date` object generation:\r\n\r\n```js\r\nstrDate = &quot;Tue, 09 Feb 2016 14:07:00 GMT&quot;;\r\nDateFormat format = new SimpleDateFormat(&quot;EEE, dd MMM yyyy HH:mm:ss z&quot;);\r\n\r\nDate date;\r\ntry {\r\n\r\n\tdate = format.parse(strDate);\r\n\r\n\t//Result: Tue Feb 09 16:07:00 IST 2016\r\n\tSystem.out.println(&quot;Result: &quot; + date.toString());\r\n\r\n} catch(ParseException e) {\r\n\te.printStackTrace();\r\n}\r\n```\r\n\r\nMy questions:\r\n\r\n 1. Why is the result in *IST 2016* time zone and not in *GMT*? What does the *IST 2016* stand for? Is it *India Standard Time* or *Irish Standard Time* or *Israel Standard Time*?\r\n\r\n 2. The initial string is in `EEE, dd MMM` format, the `SimpleDateFormat` pattern is also in this format, thus, why the result is in `EEE, MMM dd` format?\r\n\r\n 3. How can get a `java.util.Date` object in the same timezone as the initial string, in my case — *GMT*?\r\n\r\n 4. Is the approach I&#39;m using to find the most recent date in the list is OK or there is more convenient/modern way to do that in Java 8, e.g., with the usage of `LocalDateTime`?","title":"Can&#39;t convert string to date in Java, wrong timezone after conversion","body":"<p>I have an array of <code>Strings</code> with the dates e.g.:</p>\n<ul>\n<li><em>Tue, 09 Feb 2016 14:07:00 GMT</em>;</li>\n<li><em>Tue, 09 Feb 2016 19:55:00 GMT</em>.</li>\n</ul>\n<p>Now I want to find the most recent date on this list. In order to do that, I try to deserialize these strings to <code>java.util.Date</code> objects and after that compare them.</p>\n<p>The code sample of <code>java.util.Date</code> object generation:</p>\n<pre class=\"lang-js prettyprint-override\"><code>strDate = &quot;Tue, 09 Feb 2016 14:07:00 GMT&quot;;\nDateFormat format = new SimpleDateFormat(&quot;EEE, dd MMM yyyy HH:mm:ss z&quot;);\n\nDate date;\ntry {\n\n    date = format.parse(strDate);\n\n    //Result: Tue Feb 09 16:07:00 IST 2016\n    System.out.println(&quot;Result: &quot; + date.toString());\n\n} catch(ParseException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>My questions:</p>\n<ol>\n<li><p>Why is the result in <em>IST 2016</em> time zone and not in <em>GMT</em>? What does the <em>IST 2016</em> stand for? Is it <em>India Standard Time</em> or <em>Irish Standard Time</em> or <em>Israel Standard Time</em>?</p>\n</li>\n<li><p>The initial string is in <code>EEE, dd MMM</code> format, the <code>SimpleDateFormat</code> pattern is also in this format, thus, why the result is in <code>EEE, MMM dd</code> format?</p>\n</li>\n<li><p>How can get a <code>java.util.Date</code> object in the same timezone as the initial string, in my case — <em>GMT</em>?</p>\n</li>\n<li><p>Is the approach I'm using to find the most recent date in the list is OK or there is more convenient/modern way to do that in Java 8, e.g., with the usage of <code>LocalDateTime</code>?</p>\n</li>\n</ol>\n"},{"tags":["java","date","datetime","timestamp","java-8"],"comments":[{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":3,"creation_date":1455048850,"post_id":35301269,"comment_id":58312747,"body_markdown":"I&#39;m afraid this is too broad. You should start by reading the Javadoc for those classes. There is no good answer to this.","body":"I&#39;m afraid this is too broad. You should start by reading the Javadoc for those classes. There is no good answer to this."},{"owner":{"account_id":25684,"reputation":3449,"user_id":66207,"accept_rate":100,"display_name":"keuleJ"},"score":2,"creation_date":1455048963,"post_id":35301269,"comment_id":58312808,"body_markdown":"Don&#39;t use java.util.Date in Java 8.","body":"Don&#39;t use java.util.Date in Java 8."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1455049001,"post_id":35301269,"comment_id":58312838,"body_markdown":"Define &quot;store a date&quot;, first; you mention `java.sql.Timestamp`, does that mean you intend to store into/retrieve from an RDBMS engine? Do you need timezone information?","body":"Define &quot;store a date&quot;, first; you mention <code>java.sql.Timestamp</code>, does that mean you intend to store into/retrieve from an RDBMS engine? Do you need timezone information?"},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1455049017,"post_id":35301269,"comment_id":58312849,"body_markdown":"@Tunaki, I already passed over their JavaDocs and paid attention that all these classes contain all the methods I need, thus, for the moment I can select them randomly. But I guess, that there is some reason why there are 4 separate classes and each of them is dedicated to the specific purpose.","body":"@Tunaki, I already passed over their JavaDocs and paid attention that all these classes contain all the methods I need, thus, for the moment I can select them randomly. But I guess, that there is some reason why there are 4 separate classes and each of them is dedicated to the specific purpose."},{"owner":{"account_id":2915477,"reputation":15624,"user_id":2498782,"accept_rate":65,"display_name":"Eric Guan"},"score":2,"creation_date":1455049053,"post_id":35301269,"comment_id":58312867,"body_markdown":"Well obviously i wouldn&#39;t use java.sql.Timestamp if you aren&#39;t planning to do JDBC. java.util.Date is pre-java 8 and notoriously clunky. I would go with Java 8&#39;s LocalDateTime.","body":"Well obviously i wouldn&#39;t use java.sql.Timestamp if you aren&#39;t planning to do JDBC. java.util.Date is pre-java 8 and notoriously clunky. I would go with Java 8&#39;s LocalDateTime."},{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":1,"creation_date":1455049279,"post_id":35301269,"comment_id":58313005,"body_markdown":"@EricGuan Unless timezones are important and `ZonedDateTime` should be preferred.","body":"@EricGuan Unless timezones are important and <code>ZonedDateTime</code> should be preferred."},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1455049360,"post_id":35301269,"comment_id":58313061,"body_markdown":"@fge, I want to save a date in object&#39;s property and then compare/sort objects by this value. Furthermore, I&#39;ll store these objects in `MongoDB` and will perform the queries by date field as well.","body":"@fge, I want to save a date in object&#39;s property and then compare/sort objects by this value. Furthermore, I&#39;ll store these objects in <code>MongoDB</code> and will perform the queries by date field as well."},{"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"score":1,"creation_date":1455061902,"post_id":35301269,"comment_id":58319361,"body_markdown":"You have to give specific details. In what form do you get the input (string?), are time zones important, are they timestamps, what operations will be performed on them and what calculation will they be used for.","body":"You have to give specific details. In what form do you get the input (string?), are time zones important, are they timestamps, what operations will be performed on them and what calculation will they be used for."},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":2,"creation_date":1455093145,"post_id":35301269,"comment_id":58329735,"body_markdown":"@user1803551, the question has been narrowed and enriched by technical details.","body":"@user1803551, the question has been narrowed and enriched by technical details."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":3,"creation_date":1455094302,"post_id":35301269,"comment_id":58330388,"body_markdown":"@MikeB. This may be informative: https://docs.oracle.com/javase/tutorial/datetime/iso/overview.html - what matters is the underlying data you are trying to describe. Your string only has date and time information - it is essentially a LocalDateTime. But then you also mention time zones. When you get that string, do you know in what time zone it is? Also note that mongodb represents dates as a number of milliseconds since the epoch - the closest representation in Java would be an Instant. You should give a bit more background as to what those date actually represent.","body":"@MikeB. This may be informative: <a href=\"https://docs.oracle.com/javase/tutorial/datetime/iso/overview.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/datetime/iso/overview.html</a> - what matters is the underlying data you are trying to describe. Your string only has date and time information - it is essentially a LocalDateTime. But then you also mention time zones. When you get that string, do you know in what time zone it is? Also note that mongodb represents dates as a number of milliseconds since the epoch - the closest representation in Java would be an Instant. You should give a bit more background as to what those date actually represent."}],"answers":[{"tags":[],"owner":{"account_id":1465211,"reputation":340,"user_id":1378283,"display_name":"Maouven"},"comment_count":0,"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1455103787,"creation_date":1455100011,"answer_id":35312599,"question_id":35301269,"body_markdown":"Each one of the `Date` classes are for specific purposes: \r\n\r\n- If you want to use your Date in an `SQL`/`JDBC` context, use the `java.sql.Timestamp`.\r\n\r\n- `java.util.Date` is the old Java API, it is not thread safe, you can difficultly handle time zoning, and on the top of all, it is poorly designed: one simple uniformity is that months start from 1 while days start from 0.\r\n\r\n- `java.time.LocalDateTime` is an immutable date-time object that represents a date-time, often viewed as year-month-day-hour-minute-second, which you need exactly.\r\n\r\n- `java.time.ZonedDateTime` class stores all date and time fields, so you can use it to deal with values like:\r\n`27th January 1990 at 15:40.30.123123123 +02:00` in the Europe/Paris time-zone.\r\n\r\nTo do your task, the `ZonedDateTime` class handles conversion from the local time-line of `LocalDateTime` to the instant time-line of `Instant`(which models a single instantaneous point on the time-line). The difference between the two time-lines, represented by a `ZoneOffset`, is the offset from UTC/Greenwich.\r\n\r\nTo calculate duration and period: there is the `java.time.Duration` which is a time-based amount of time, such as &#39;20.5 seconds&#39;, and `java.time.Period`, which is a date-based amount of time (like: 26 years, 2 months and 2 days).\r\n\r\nTo get max and min dates, you can use the Java 8 lambdas in something like: \r\n\r\n    Date maxDate = list.stream().map(yourInstance -&gt; yourInstance.date).max(Date::compareTo).get();\r\n    Date minDate = list.stream().map(yourInstance -&gt; yourInstance.date).min(Date::compareTo).get();\r\n\r\n ","title":"Which date class should I use in Java 8?","body":"<p>Each one of the <code>Date</code> classes are for specific purposes: </p>\n\n<ul>\n<li><p>If you want to use your Date in an <code>SQL</code>/<code>JDBC</code> context, use the <code>java.sql.Timestamp</code>.</p></li>\n<li><p><code>java.util.Date</code> is the old Java API, it is not thread safe, you can difficultly handle time zoning, and on the top of all, it is poorly designed: one simple uniformity is that months start from 1 while days start from 0.</p></li>\n<li><p><code>java.time.LocalDateTime</code> is an immutable date-time object that represents a date-time, often viewed as year-month-day-hour-minute-second, which you need exactly.</p></li>\n<li><p><code>java.time.ZonedDateTime</code> class stores all date and time fields, so you can use it to deal with values like:\n<code>27th January 1990 at 15:40.30.123123123 +02:00</code> in the Europe/Paris time-zone.</p></li>\n</ul>\n\n<p>To do your task, the <code>ZonedDateTime</code> class handles conversion from the local time-line of <code>LocalDateTime</code> to the instant time-line of <code>Instant</code>(which models a single instantaneous point on the time-line). The difference between the two time-lines, represented by a <code>ZoneOffset</code>, is the offset from UTC/Greenwich.</p>\n\n<p>To calculate duration and period: there is the <code>java.time.Duration</code> which is a time-based amount of time, such as '20.5 seconds', and <code>java.time.Period</code>, which is a date-based amount of time (like: 26 years, 2 months and 2 days).</p>\n\n<p>To get max and min dates, you can use the Java 8 lambdas in something like: </p>\n\n<pre><code>Date maxDate = list.stream().map(yourInstance -&gt; yourInstance.date).max(Date::compareTo).get();\nDate minDate = list.stream().map(yourInstance -&gt; yourInstance.date).min(Date::compareTo).get();\n</code></pre>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11493,"favorite_count":0,"down_vote_count":1,"up_vote_count":32,"accepted_answer_id":35312599,"answer_count":1,"score":31,"last_activity_date":1669135903,"creation_date":1455048710,"question_id":35301269,"body_markdown":"There is a whole set of date&#39;s classes in Java 8:\r\n\r\n - [**`java.time.LocalDateTime`**][1];\r\n - [**`java.time.ZonedDateTime`**][2];\r\n - [**`java.time.Instant`**][3];\r\n - [**`java.time.OffsetDateTime`**][4];\r\n - [**`java.sql.Timestamp`**][5];\r\n - [**`java.util.Date`**][6].\r\n\r\nI already passed over their JavaDocs and paid attention that all these classes contain all the methods I need. Thus, for the moment, I can select them randomly. But I guess that there is some reason why there are 6 separate classes and each of them is dedicated to the specific purpose.\r\n\r\nTechnical information &amp; requirements:\r\n\r\n 1. The input is in `String`, which is converted to one of these date formats.\r\n 2. I don&#39;t need to display the time zones but when I compare two dates it&#39;s important to be capable to compare correctly the time in New York and in Paris.\r\n 3. The precise level is seconds, there is no need to use milliseconds.\r\n 4. The required operations:\r\n  - find max/min date;\r\n  - sort objects by date;\r\n  - calculate date &amp; time period (difference between two dates);\r\n  - insert objects to MongoDB and retrieve them from a db by date (e.g. all objects after specific date).\r\n\r\nMy questions:\r\n\r\n 1. Which aspects should I bear in mind in order to choose the optimal format among these four options from the performance &amp; maintainability points of view?\r\n\r\n 2. Is there any reason why I should avoid some of these date classes?\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/sql/Timestamp.html\r\n  [6]: https://docs.oracle.com/javase/8/docs/api/java/util/Date.html","title":"Which date class should I use in Java 8?","body":"<p>There is a whole set of date's classes in Java 8:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\"><strong><code>java.time.LocalDateTime</code></strong></a>;</li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><strong><code>java.time.ZonedDateTime</code></strong></a>;</li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"nofollow noreferrer\"><strong><code>java.time.Instant</code></strong></a>;</li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html\" rel=\"nofollow noreferrer\"><strong><code>java.time.OffsetDateTime</code></strong></a>;</li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/Timestamp.html\" rel=\"nofollow noreferrer\"><strong><code>java.sql.Timestamp</code></strong></a>;</li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><strong><code>java.util.Date</code></strong></a>.</li>\n</ul>\n<p>I already passed over their JavaDocs and paid attention that all these classes contain all the methods I need. Thus, for the moment, I can select them randomly. But I guess that there is some reason why there are 6 separate classes and each of them is dedicated to the specific purpose.</p>\n<p>Technical information &amp; requirements:</p>\n<ol>\n<li>The input is in <code>String</code>, which is converted to one of these date formats.</li>\n<li>I don't need to display the time zones but when I compare two dates it's important to be capable to compare correctly the time in New York and in Paris.</li>\n<li>The precise level is seconds, there is no need to use milliseconds.</li>\n<li>The required operations:</li>\n</ol>\n<ul>\n<li>find max/min date;</li>\n<li>sort objects by date;</li>\n<li>calculate date &amp; time period (difference between two dates);</li>\n<li>insert objects to MongoDB and retrieve them from a db by date (e.g. all objects after specific date).</li>\n</ul>\n<p>My questions:</p>\n<ol>\n<li><p>Which aspects should I bear in mind in order to choose the optimal format among these four options from the performance &amp; maintainability points of view?</p>\n</li>\n<li><p>Is there any reason why I should avoid some of these date classes?</p>\n</li>\n</ol>\n"},{"tags":["java","mongodb","authentication"],"comments":[{"owner":{"account_id":1358954,"reputation":19779,"user_id":1296707,"accept_rate":50,"display_name":"Markus W Mahlberg"},"score":0,"creation_date":1455461085,"post_id":35392797,"comment_id":58489802,"body_markdown":"Do you have an SSL-enabled `mongod`?","body":"Do you have an SSL-enabled <code>mongod</code>?"},{"owner":{"account_id":1358954,"reputation":19779,"user_id":1296707,"accept_rate":50,"display_name":"Markus W Mahlberg"},"score":1,"creation_date":1455461377,"post_id":35392797,"comment_id":58489898,"body_markdown":"And make sure that you have `myAppDB` appended to your connection string and/or use the [authSource parameter](https://docs.mongodb.org/manual/reference/connection-string/#uri.authSource).","body":"And make sure that you have <code>myAppDB</code> appended to your connection string and/or use the <a href=\"https://docs.mongodb.org/manual/reference/connection-string/#uri.authSource\" rel=\"nofollow noreferrer\">authSource parameter</a>."},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1455463138,"post_id":35392797,"comment_id":58490464,"body_markdown":"@MarkusWMahlberg, I enabled SSL in the settings of Mongo Explorer plugin.","body":"@MarkusWMahlberg, I enabled SSL in the settings of Mongo Explorer plugin."},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1455463635,"post_id":35392797,"comment_id":58490676,"body_markdown":"@MarkusWMahlberg, btw, in some tutorials I saw that users are created in `admin` table is it a good idea or it worth to create users only in a database they are going to work with?","body":"@MarkusWMahlberg, btw, in some tutorials I saw that users are created in <code>admin</code> table is it a good idea or it worth to create users only in a database they are going to work with?"},{"owner":{"account_id":1358954,"reputation":19779,"user_id":1296707,"accept_rate":50,"display_name":"Markus W Mahlberg"},"score":1,"creation_date":1455468158,"post_id":35392797,"comment_id":58492326,"body_markdown":"***My*** rule of thumb: if the user only has roles on one DB, create the user there. If the user has roles in multiple DBs, create the user in the &quot;primary&quot; DB (usually the first one he or she connects to). For everything else, I use &quot;admin&quot;.","body":"<b><i>My</i></b> rule of thumb: if the user only has roles on one DB, create the user there. If the user has roles in multiple DBs, create the user in the &quot;primary&quot; DB (usually the first one he or she connects to). For everything else, I use &quot;admin&quot;."}],"answers":[{"tags":[],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1460216329,"creation_date":1460216329,"answer_id":36518977,"question_id":35392797,"body_markdown":"As [MarkusWMahlberg][1] correctly noted, it is necessary to note the database name in the connection string.\r\n\r\nFor instance:\r\n\r\n    String mongoClientURI = &quot;mongodb://&quot; + DB_SRV_USR + &quot;:&quot; + DB_SRV_PWD + &quot;@&quot; + DB_URL + &quot;:&quot; + DB_PORT + &quot;/&quot; + dbName;\r\n\r\n  [1]: https://stackoverflow.com/users/1296707/markus-w-mahlberg","title":"How to connect to MongoDB 3.2 in Java with username and password?","body":"<p>As <a href=\"https://stackoverflow.com/users/1296707/markus-w-mahlberg\">MarkusWMahlberg</a> correctly noted, it is necessary to note the database name in the connection string.</p>\n\n<p>For instance:</p>\n\n<pre><code>String mongoClientURI = \"mongodb://\" + DB_SRV_USR + \":\" + DB_SRV_PWD + \"@\" + DB_URL + \":\" + DB_PORT + \"/\" + dbName;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1836998,"reputation":9822,"user_id":1667163,"display_name":"Jonathan L"},"comment_count":0,"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1494977298,"creation_date":1494976078,"answer_id":44013018,"question_id":35392797,"body_markdown":"Tested with mongodb-3.4.2 and mongo-java-driver-3.4.2.jar\r\n\r\n(1) Use MongoCredential\r\n\r\n    MongoCredential credential = MongoCredential.createCredential(&quot;user&quot;, &quot;database&quot;, &quot;passwd&quot;.toCharArray());\r\n    MongoClient mongoClient = new MongoClient(new ServerAddress(&quot;localhost&quot;, 27017), Arrays.asList(credential));\r\n\tMongoDatabase db = mongoClient.getDatabase( &quot;test&quot; );\r\n\tMongoCollection collection = db.getCollection(&quot;mycol&quot;);\r\n\tFindIterable fi = collection.find();\r\n    MongoCursor cursor = fi.iterator();\r\n\r\n(2) Use MongoClientURI\r\n\r\n    MongoClientURI uri = new MongoClientURI(&quot;mongodb://user:passwd@localhost:27017/?authSource=test&quot;);\r\n    MongoClient mongoClient = new MongoClient(uri);\r\n\r\nThere are some variant forms for using MongoCredential and MongoClientURI for different authentication mechanisms, check [here][1] for details\r\n\r\n  [1]: http://mongodb.github.io/mongo-java-driver/3.0/driver/reference/connecting/authenticating/","title":"How to connect to MongoDB 3.2 in Java with username and password?","body":"<p>Tested with mongodb-3.4.2 and mongo-java-driver-3.4.2.jar</p>\n\n<p>(1) Use MongoCredential</p>\n\n<pre><code>MongoCredential credential = MongoCredential.createCredential(\"user\", \"database\", \"passwd\".toCharArray());\nMongoClient mongoClient = new MongoClient(new ServerAddress(\"localhost\", 27017), Arrays.asList(credential));\nMongoDatabase db = mongoClient.getDatabase( \"test\" );\nMongoCollection collection = db.getCollection(\"mycol\");\nFindIterable fi = collection.find();\nMongoCursor cursor = fi.iterator();\n</code></pre>\n\n<p>(2) Use MongoClientURI</p>\n\n<pre><code>MongoClientURI uri = new MongoClientURI(\"mongodb://user:passwd@localhost:27017/?authSource=test\");\nMongoClient mongoClient = new MongoClient(uri);\n</code></pre>\n\n<p>There are some variant forms for using MongoCredential and MongoClientURI for different authentication mechanisms, check <a href=\"http://mongodb.github.io/mongo-java-driver/3.0/driver/reference/connecting/authenticating/\" rel=\"noreferrer\">here</a> for details</p>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30208,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":36518977,"answer_count":2,"score":12,"last_activity_date":1669135876,"creation_date":1455459371,"question_id":35392797,"body_markdown":"I&#39;m using MongoDB 3.2 in my application. The code below demonstrates database initialization logic:\r\n\r\n```java\r\nprivate void dbInit(String dbName) {\r\n\r\n\tString mongoClientURI = &quot;mongodb://&quot; + DB_URL + &quot;:&quot; + DB_PORT;\r\n\tMongoClientURI connectionString = new MongoClientURI(mongoClientURI);\r\n\r\n\t// enable SSL connection\r\n\tMongoClientOptions.builder().sslEnabled(true).build();\r\n\r\n\tif (this.mongoClient == null) {\r\n\t\tthis.mongoClient = new MongoClient(connectionString);\r\n\t}\r\n\r\n\t// create database if doesn&#39;t exist\r\n\tthis.mongoClient.getDatabase(dbName);\r\n}\r\n```\r\n\r\nThis code works fine, now I want to introduce access level separation to database.\r\n\r\nThe steps to do that:\r\n\r\n 1. Define users:\r\n\r\n```java\r\nuse myAppDB\r\ndb.createUser(\r\n   {\r\n      &quot;user&quot;: &quot;myAdmin&quot;,\r\n      &quot;pwd&quot;: &quot;123090d1487dd4ab7&quot;,\r\n      roles: [ &quot;readWrite&quot;, &quot;dbAdmin&quot; ]\r\n   }\r\n)\r\n\r\nuse myAppDB\r\ndb.createUser(\r\n   {\r\n      &quot;user&quot;: &quot;guest&quot;,\r\n      &quot;pwd&quot;: &quot;guest&quot;,\r\n      roles: [ &quot;read&quot; ]\r\n   }\r\n)\r\n```\r\n\r\n 2. Re-create the MongoDB 3.2 service in authentication mode:\r\n`&quot;C:\\Program Files\\MongoDB\\Server\\3.2\\bin\\mongod.exe&quot; --install --dbpath=C:\\data\\db --logpath=C:\\data\\log\\log.txt --auth --service`. And run it.\r\n\r\n 3. Change the `mongoClientURI` connection string to \r\n\r\n```java\r\nString mongoClientURI = &quot;mongodb://&quot; + DB_SRV_USR + &quot;:&quot; + DB_SRV_PWD + &quot;@&quot; + DB_URL + &quot;:&quot; + DB_PORT;\r\n```\r\nwhere `DB_SRV_USR` = `myAdmin` and `DB_SRV_PWD` = `123090d1487dd4ab7`.\r\n\r\n 4. Check the authenticated connection in IDEA&#39;s `Mongo Explorer` with the same credentials, everything is OK.\r\n\r\n 5. Execute my application and get exception `Authentication failed`.\r\n\r\nMy questions:\r\n\r\n 1. How to connect to MongoDB 3.2 in Java with username and password? I saw a couple of [examples][1] but they are using deprecated methods.\r\n\r\n 2. Should I add my users to `myAppDB` or to `admin` table? In some tutorials I saw that users are created in `admin` table is it a good idea or it worth to create users only in a database they are going to work with?\r\n\r\n  [1]: https://stackoverflow.com/a/34085215/462347","title":"How to connect to MongoDB 3.2 in Java with username and password?","body":"<p>I'm using MongoDB 3.2 in my application. The code below demonstrates database initialization logic:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void dbInit(String dbName) {\n\n    String mongoClientURI = &quot;mongodb://&quot; + DB_URL + &quot;:&quot; + DB_PORT;\n    MongoClientURI connectionString = new MongoClientURI(mongoClientURI);\n\n    // enable SSL connection\n    MongoClientOptions.builder().sslEnabled(true).build();\n\n    if (this.mongoClient == null) {\n        this.mongoClient = new MongoClient(connectionString);\n    }\n\n    // create database if doesn't exist\n    this.mongoClient.getDatabase(dbName);\n}\n</code></pre>\n<p>This code works fine, now I want to introduce access level separation to database.</p>\n<p>The steps to do that:</p>\n<ol>\n<li>Define users:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>use myAppDB\ndb.createUser(\n   {\n      &quot;user&quot;: &quot;myAdmin&quot;,\n      &quot;pwd&quot;: &quot;123090d1487dd4ab7&quot;,\n      roles: [ &quot;readWrite&quot;, &quot;dbAdmin&quot; ]\n   }\n)\n\nuse myAppDB\ndb.createUser(\n   {\n      &quot;user&quot;: &quot;guest&quot;,\n      &quot;pwd&quot;: &quot;guest&quot;,\n      roles: [ &quot;read&quot; ]\n   }\n)\n</code></pre>\n<ol start=\"2\">\n<li><p>Re-create the MongoDB 3.2 service in authentication mode:\n<code>&quot;C:\\Program Files\\MongoDB\\Server\\3.2\\bin\\mongod.exe&quot; --install --dbpath=C:\\data\\db --logpath=C:\\data\\log\\log.txt --auth --service</code>. And run it.</p>\n</li>\n<li><p>Change the <code>mongoClientURI</code> connection string to</p>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>String mongoClientURI = &quot;mongodb://&quot; + DB_SRV_USR + &quot;:&quot; + DB_SRV_PWD + &quot;@&quot; + DB_URL + &quot;:&quot; + DB_PORT;\n</code></pre>\n<p>where <code>DB_SRV_USR</code> = <code>myAdmin</code> and <code>DB_SRV_PWD</code> = <code>123090d1487dd4ab7</code>.</p>\n<ol start=\"4\">\n<li><p>Check the authenticated connection in IDEA's <code>Mongo Explorer</code> with the same credentials, everything is OK.</p>\n</li>\n<li><p>Execute my application and get exception <code>Authentication failed</code>.</p>\n</li>\n</ol>\n<p>My questions:</p>\n<ol>\n<li><p>How to connect to MongoDB 3.2 in Java with username and password? I saw a couple of <a href=\"https://stackoverflow.com/a/34085215/462347\">examples</a> but they are using deprecated methods.</p>\n</li>\n<li><p>Should I add my users to <code>myAppDB</code> or to <code>admin</code> table? In some tutorials I saw that users are created in <code>admin</code> table is it a good idea or it worth to create users only in a database they are going to work with?</p>\n</li>\n</ol>\n"},{"tags":["java","mongodb","synchronization"],"comments":[{"owner":{"account_id":1358954,"reputation":19779,"user_id":1296707,"accept_rate":50,"display_name":"Markus W Mahlberg"},"score":0,"creation_date":1456052024,"post_id":35535076,"comment_id":58759036,"body_markdown":"Please add a [minimal, complete and verifiable example](http://www.stackoverflow.com/help/mcve).","body":"Please add a <a href=\"http://www.stackoverflow.com/help/mcve\">minimal, complete and verifiable example</a>."},{"owner":{"account_id":1358954,"reputation":19779,"user_id":1296707,"accept_rate":50,"display_name":"Markus W Mahlberg"},"score":1,"creation_date":1456052359,"post_id":35535076,"comment_id":58759132,"body_markdown":"From what I can see, I think your application architecture is a bit... ...improvable. Here is what I would do: have a producer (the crawler) sending the new sites down a pipeline, one of the steps being persisting the data, and applying business logic before (and after) as needed. Camel is very usable for this.","body":"From what I can see, I think your application architecture is a bit... ...improvable. Here is what I would do: have a producer (the crawler) sending the new sites down a pipeline, one of the steps being persisting the data, and applying business logic before (and after) as needed. Camel is very usable for this."},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1456054240,"post_id":35535076,"comment_id":58759693,"body_markdown":"@MarkusWMahlberg, it&#39;s hard to provide the minimal, complete and verifiable example without providing the whole crawler project.","body":"@MarkusWMahlberg, it&#39;s hard to provide the minimal, complete and verifiable example without providing the whole crawler project."},{"owner":{"account_id":1358954,"reputation":19779,"user_id":1296707,"accept_rate":50,"display_name":"Markus W Mahlberg"},"score":0,"creation_date":1456054718,"post_id":35535076,"comment_id":58759854,"body_markdown":"Well, you have to put some effort into it ;) But take a deep look into my suggestion. Processing each site individually, potentially by many threads will make your life a lot easier.","body":"Well, you have to put some effort into it ;) But take a deep look into my suggestion. Processing each site individually, potentially by many threads will make your life a lot easier."},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1456055915,"post_id":35535076,"comment_id":58760185,"body_markdown":"Yeap, actually, I&#39;m working just with one site — a news aggregator, it accumulates all the data for me in one place, I just have to fetch it via RSS, store it in DB and after that process.","body":"Yeap, actually, I&#39;m working just with one site — a news aggregator, it accumulates all the data for me in one place, I just have to fetch it via RSS, store it in DB and after that process."},{"owner":{"account_id":1358954,"reputation":19779,"user_id":1296707,"accept_rate":50,"display_name":"Markus W Mahlberg"},"score":1,"creation_date":1456064464,"post_id":35535076,"comment_id":58763070,"body_markdown":"http://camel.apache.org/rss.html","body":"<a href=\"http://camel.apache.org/rss.html\" rel=\"nofollow noreferrer\">camel.apache.org/rss.html</a>"},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1456066056,"post_id":35535076,"comment_id":58763607,"body_markdown":"@MarkusWMahlberg, I checked this framework, looks great but my project is a small academic project, thus we don&#39;t need to use a whole zoo of frameworks/APIs at the same time.","body":"@MarkusWMahlberg, I checked this framework, looks great but my project is a small academic project, thus we don&#39;t need to use a whole zoo of frameworks/APIs at the same time."}],"answers":[{"comments":[{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1456082971,"post_id":35538477,"comment_id":58770406,"body_markdown":"Thanks for the explanation, now I do understand why it&#39;s changing. BTW, is it correct to assume that the database cursor works like a pointer and if I change the `document` within `for (Document document : unfetchedEpisodes){}` this change will be reflected in database without any additional operation (e.g. `updateOne()`)?","body":"Thanks for the explanation, now I do understand why it&#39;s changing. BTW, is it correct to assume that the database cursor works like a pointer and if I change the <code>document</code> within <code>for (Document document : unfetchedEpisodes){}</code> this change will be reflected in database without any additional operation (e.g. <code>updateOne()</code>)?"},{"owner":{"account_id":4698412,"reputation":5833,"user_id":5106017,"display_name":"sheilak"},"score":1,"creation_date":1456084741,"post_id":35538477,"comment_id":58771077,"body_markdown":"Nope when you access `document` within the loop, it has already been retrieved into memory and only the object in your application code will be updated, there is no synchronisation back to the database. You would have to perform an update operation.","body":"Nope when you access <code>document</code> within the loop, it has already been retrieved into memory and only the object in your application code will be updated, there is no synchronisation back to the database. You would have to perform an update operation."}],"tags":[],"owner":{"account_id":4698412,"reputation":5833,"user_id":5106017,"display_name":"sheilak"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1456071233,"creation_date":1456071233,"answer_id":35538477,"question_id":35535076,"body_markdown":"When you call `find` here:\r\n\r\n    FindIterable&lt;Document&gt; unfetchedEpisodes = dbC_Episodes.find(query);\r\n    \r\nyou are not actually getting all the episodes back. You are getting a database cursor pointing to the matched documents.\r\n\r\nThen when you call: \r\n\r\n    for (Document document : unfetchedEpisodes){}\r\n    \r\nan iterator is created over all of the documents that match the query.\r\n\r\nWhen you call it a second time, a new cursor is returned, for the same query, and all of the documents that match *now* are iterated over. \r\n\r\nIf the collection has changed in between, the results will be different.\r\n\r\nIf you want to ensure that the contents of `unfetchedEpisodes` are unchanged then one option is you could pull the entire result set into memory and iterate over it in memory rather than on the DB, e.g.\r\n\r\n    ArrayList&lt;Document&gt; unfetchedEpisodes = dbC_Episodes.find(query).into(new ArrayList&lt;Document&gt;());","title":"MongoDB result set getting modified after execution of a query","body":"<p>When you call <code>find</code> here:</p>\n\n<pre><code>FindIterable&lt;Document&gt; unfetchedEpisodes = dbC_Episodes.find(query);\n</code></pre>\n\n<p>you are not actually getting all the episodes back. You are getting a database cursor pointing to the matched documents.</p>\n\n<p>Then when you call: </p>\n\n<pre><code>for (Document document : unfetchedEpisodes){}\n</code></pre>\n\n<p>an iterator is created over all of the documents that match the query.</p>\n\n<p>When you call it a second time, a new cursor is returned, for the same query, and all of the documents that match <em>now</em> are iterated over. </p>\n\n<p>If the collection has changed in between, the results will be different.</p>\n\n<p>If you want to ensure that the contents of <code>unfetchedEpisodes</code> are unchanged then one option is you could pull the entire result set into memory and iterate over it in memory rather than on the DB, e.g.</p>\n\n<pre><code>ArrayList&lt;Document&gt; unfetchedEpisodes = dbC_Episodes.find(query).into(new ArrayList&lt;Document&gt;());\n</code></pre>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1350,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":35538477,"answer_count":1,"score":4,"last_activity_date":1669135827,"creation_date":1456051311,"question_id":35535076,"body_markdown":"In my application there are 2 threads:\r\n\r\n 1. crawl the web-sites and insert the data into MongoDB\r\n\r\n 2. retrieve the crawled sites and perform business logic\r\n\r\nIn order to retrieve the the crawled sites I use the following query:\r\n\r\n```java\r\nDocument query = new Document(&quot;fetchStatus&quot;, new Document(&quot;$lte&quot;, fetchStatusParam));\r\nFindIterable&lt;Document&gt; unfetchedEpisodes = dbC_Episodes.find(query);\r\n```\r\n\r\nAs the result I get all episodes, which its `fetchStatusParam` is less or equal to the specific value.\r\n\r\nThe next step, I store the items of the result set in `HashMap&lt;String, TrackedEpisode&gt;`, which is an object property in order to track them:\r\n\r\n```java\r\nfor (Document document : unfetchedEpisodes) {\r\n\tthis.trackedEpisodes.put(document.get(&quot;_id&quot;).toString(), new TrackedEpisode(document));\r\n}\r\n```\r\n\r\nThen I do some business logic, which:\r\n\r\n - ***doesn&#39;t*** modify the `unfetchedEpisodes` result set.\r\n\r\n - ***doesn&#39;t*** remove any object from `trackedEpisodes`.\r\n\r\nUp till now everything is OK.  \r\nThe last step, I pass over all retrieved documents and mark them as fetched in order to prevent the duplicate fetching in the future.\r\n\r\n```java\r\nfor (Document document : unfetchedEpisodes) {\r\n\r\n\tif (this.trackedEpisodes.containsKey(document.get(&quot;_id&quot;).toString())) {\r\n\r\n\t\t// prevent repeated fetching\r\n\t\tdocument.put(&quot;fetchStatus&quot;, FetchStatus.IN_PROCESS.getID());\r\n\r\n\t\tif (this.trackedEpisodes.get(document.get(&quot;_id&quot;).toString()).isExpired()) {\r\n\t\t\tdocument.put(&quot;isExpired&quot;, true);\r\n\t\t\tdocument.put(&quot;fetchStatus&quot;, FetchStatus.FETCHED.getID());\r\n\t\t}\r\n\t} else {\r\n\t\tSystem.out.println(&quot;BOO! Strange new object detected&quot;);\r\n\t}\r\n\r\n\tdbC_Episodes.updateOne(new Document(&quot;_id&quot;, document.get(&quot;_id&quot;)), new Document(&quot;$set&quot;, document));\r\n}\r\n```\r\n\r\nI run this code for a couple of days and paid attention that sometimes it arrives to the `else` part of the `if (this.trackedEpisodes.containsKey())` statement. It&#39;s weird for me, how it can be possible that `unfetchedEpisodes` and `trackedEpisodes` are not synchronized and don&#39;t contain the same items?\r\n\r\nI began to investigate the case and paid attention that the times I arrive to `&quot;BOO! Strange new object detected&quot;` the `document` iterator contains the item which is in database but should not yet be in `unfetchedEpisodes` since I didn&#39;t execute a new query to database.\r\n\r\nI checked couple of times the matter of storing retrieved items into `trackedEpisodes` and always all elements from the `unfetchedEpisodes` have been added to `trackedEpisodes` but after that sometimes I still arrive to `&quot;BOO! Strange new object detected&quot;`.\r\n\r\nMy question:  \r\n\r\n 1. Why `unfetchedEpisodes` gets new items after execution of a query?\r\n\r\n 2. Is it possible that `unfetchedEpisodes` will be modified by MongoDB driver after execution of `Collection#query()`?\r\n\r\n 3. Maybe should I use kind of `.close()` after executing a query from the MongoDB?\r\n\r\nThe used versions:\r\n\r\n - MongoDB: 3.2.3, x64\r\n\r\n - MongoDB Java Driver: *mongodb-driver-3.2.2*, *mongodb-driver-core-3.2.2*, *bson-3.2.2*","title":"MongoDB result set getting modified after execution of a query","body":"<p>In my application there are 2 threads:</p>\n<ol>\n<li><p>crawl the web-sites and insert the data into MongoDB</p>\n</li>\n<li><p>retrieve the crawled sites and perform business logic</p>\n</li>\n</ol>\n<p>In order to retrieve the the crawled sites I use the following query:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Document query = new Document(&quot;fetchStatus&quot;, new Document(&quot;$lte&quot;, fetchStatusParam));\nFindIterable&lt;Document&gt; unfetchedEpisodes = dbC_Episodes.find(query);\n</code></pre>\n<p>As the result I get all episodes, which its <code>fetchStatusParam</code> is less or equal to the specific value.</p>\n<p>The next step, I store the items of the result set in <code>HashMap&lt;String, TrackedEpisode&gt;</code>, which is an object property in order to track them:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (Document document : unfetchedEpisodes) {\n    this.trackedEpisodes.put(document.get(&quot;_id&quot;).toString(), new TrackedEpisode(document));\n}\n</code></pre>\n<p>Then I do some business logic, which:</p>\n<ul>\n<li><p><em><strong>doesn't</strong></em> modify the <code>unfetchedEpisodes</code> result set.</p>\n</li>\n<li><p><em><strong>doesn't</strong></em> remove any object from <code>trackedEpisodes</code>.</p>\n</li>\n</ul>\n<p>Up till now everything is OK.<br />\nThe last step, I pass over all retrieved documents and mark them as fetched in order to prevent the duplicate fetching in the future.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (Document document : unfetchedEpisodes) {\n\n    if (this.trackedEpisodes.containsKey(document.get(&quot;_id&quot;).toString())) {\n\n        // prevent repeated fetching\n        document.put(&quot;fetchStatus&quot;, FetchStatus.IN_PROCESS.getID());\n\n        if (this.trackedEpisodes.get(document.get(&quot;_id&quot;).toString()).isExpired()) {\n            document.put(&quot;isExpired&quot;, true);\n            document.put(&quot;fetchStatus&quot;, FetchStatus.FETCHED.getID());\n        }\n    } else {\n        System.out.println(&quot;BOO! Strange new object detected&quot;);\n    }\n\n    dbC_Episodes.updateOne(new Document(&quot;_id&quot;, document.get(&quot;_id&quot;)), new Document(&quot;$set&quot;, document));\n}\n</code></pre>\n<p>I run this code for a couple of days and paid attention that sometimes it arrives to the <code>else</code> part of the <code>if (this.trackedEpisodes.containsKey())</code> statement. It's weird for me, how it can be possible that <code>unfetchedEpisodes</code> and <code>trackedEpisodes</code> are not synchronized and don't contain the same items?</p>\n<p>I began to investigate the case and paid attention that the times I arrive to <code>&quot;BOO! Strange new object detected&quot;</code> the <code>document</code> iterator contains the item which is in database but should not yet be in <code>unfetchedEpisodes</code> since I didn't execute a new query to database.</p>\n<p>I checked couple of times the matter of storing retrieved items into <code>trackedEpisodes</code> and always all elements from the <code>unfetchedEpisodes</code> have been added to <code>trackedEpisodes</code> but after that sometimes I still arrive to <code>&quot;BOO! Strange new object detected&quot;</code>.</p>\n<p>My question:</p>\n<ol>\n<li><p>Why <code>unfetchedEpisodes</code> gets new items after execution of a query?</p>\n</li>\n<li><p>Is it possible that <code>unfetchedEpisodes</code> will be modified by MongoDB driver after execution of <code>Collection#query()</code>?</p>\n</li>\n<li><p>Maybe should I use kind of <code>.close()</code> after executing a query from the MongoDB?</p>\n</li>\n</ol>\n<p>The used versions:</p>\n<ul>\n<li><p>MongoDB: 3.2.3, x64</p>\n</li>\n<li><p>MongoDB Java Driver: <em>mongodb-driver-3.2.2</em>, <em>mongodb-driver-core-3.2.2</em>, <em>bson-3.2.2</em></p>\n</li>\n</ul>\n"},{"tags":["java","mongodb","mongodb-query","crud"],"answers":[{"tags":[],"owner":{"account_id":455406,"reputation":19774,"user_id":853558,"accept_rate":75,"display_name":"Lukasz Wiktor"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1457354031,"creation_date":1457354031,"answer_id":35843891,"question_id":35843111,"body_markdown":"It just updates the specified field. The field will be created if it doesn&#39;t exist. Other fields remain untouched. According to [documentation][1]:\r\n\r\n&gt; The $set operator replaces the value of a field with the specified value.\r\n\r\nand\r\n\r\n&gt; If the field does not exist, $set will add a new field with the specified value, provided that the new field does not violate a type constraint. If you specify a dotted path for a non-existent field, $set will create the embedded documents as needed to fulfill the dotted path to the field.\r\n\r\n  [1]: https://docs.mongodb.org/manual/reference/operator/update/set/","title":"Update the specific field and not the whole document in MongoDB with Java","body":"<p>It just updates the specified field. The field will be created if it doesn't exist. Other fields remain untouched. According to <a href=\"https://docs.mongodb.org/manual/reference/operator/update/set/\" rel=\"nofollow\">documentation</a>:</p>\n\n<blockquote>\n  <p>The $set operator replaces the value of a field with the specified value.</p>\n</blockquote>\n\n<p>and</p>\n\n<blockquote>\n  <p>If the field does not exist, $set will add a new field with the specified value, provided that the new field does not violate a type constraint. If you specify a dotted path for a non-existent field, $set will create the embedded documents as needed to fulfill the dotted path to the field.</p>\n</blockquote>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1224,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":35843891,"answer_count":1,"score":1,"last_activity_date":1669135743,"creation_date":1457351743,"question_id":35843111,"body_markdown":"I&#39;m using MongoDB 3.2 and MongoDB Java Driver 3.2. In order to update the document I use the following code:\r\n\r\n```java\r\nunfetchedEpisodes.stream()\r\n\t.forEach(ep -&gt; {\r\n\t\tBasicDBObject updatedFields = new BasicDBObject();\r\n\t\tupdatedFields.append(&quot;fetchStatus&quot;, &quot;IN_PROCESS&quot;);\r\n\r\n\t\tupdateColFields(updatedFields, dbCollection, new ObjectId(ep.get(&quot;_id&quot;).toString()));\r\n\t});\r\n\r\npublic void updateColFields(BasicDBObject updatedFields, MongoCollection&lt;Document&gt; dbCollection, ObjectId docID) {\r\n\r\n\tBasicDBObject setQuery = new BasicDBObject();\r\n\tsetQuery.append(&quot;$set&quot;, updatedFields);\r\n\r\n\tBasicDBObject searchQuery = new BasicDBObject(&quot;_id&quot;, docID);\r\n\r\n\tdbCollection.updateOne(searchQuery, setQuery);\r\n}\r\n```\r\n\r\nThis code works but I&#39;m not sure that this code updates ***only the specific field*** (e.g. `fetchStatus`) of the document and not overwrites the whole document.\r\n\r\nDoes this code update *only the specific field* of the document or simply overwrites *the whole document*?","title":"Update the specific field and not the whole document in MongoDB with Java","body":"<p>I'm using MongoDB 3.2 and MongoDB Java Driver 3.2. In order to update the document I use the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>unfetchedEpisodes.stream()\n    .forEach(ep -&gt; {\n        BasicDBObject updatedFields = new BasicDBObject();\n        updatedFields.append(&quot;fetchStatus&quot;, &quot;IN_PROCESS&quot;);\n\n        updateColFields(updatedFields, dbCollection, new ObjectId(ep.get(&quot;_id&quot;).toString()));\n    });\n\npublic void updateColFields(BasicDBObject updatedFields, MongoCollection&lt;Document&gt; dbCollection, ObjectId docID) {\n\n    BasicDBObject setQuery = new BasicDBObject();\n    setQuery.append(&quot;$set&quot;, updatedFields);\n\n    BasicDBObject searchQuery = new BasicDBObject(&quot;_id&quot;, docID);\n\n    dbCollection.updateOne(searchQuery, setQuery);\n}\n</code></pre>\n<p>This code works but I'm not sure that this code updates <em><strong>only the specific field</strong></em> (e.g. <code>fetchStatus</code>) of the document and not overwrites the whole document.</p>\n<p>Does this code update <em>only the specific field</em> of the document or simply overwrites <em>the whole document</em>?</p>\n"},{"tags":["java","mongodb","mongodb-query","crud","bulkinsert"],"comments":[{"owner":{"account_id":5600723,"reputation":649,"user_id":4437074,"display_name":"Ashutosh Srivastav"},"score":1,"creation_date":1504950865,"post_id":35846474,"comment_id":79221031,"body_markdown":"Look at the detailed example https://stackoverflow.com/a/39356860/4437074","body":"Look at the detailed example <a href=\"https://stackoverflow.com/a/39356860/4437074\">stackoverflow.com/a/39356860/4437074</a>"}],"answers":[{"comments":[{"owner":{"account_id":41926,"reputation":101732,"user_id":122005,"accept_rate":100,"display_name":"chridam"},"score":1,"creation_date":1457365319,"post_id":35847568,"comment_id":59361191,"body_markdown":"Not that I&#39;m aware of, but the [MongoDB Limits and Thresholds](https://docs.mongodb.org/manual/reference/limits/) still apply.","body":"Not that I&#39;m aware of, but the <a href=\"https://docs.mongodb.org/manual/reference/limits/\" rel=\"nofollow noreferrer\">MongoDB Limits and Thresholds</a> still apply."},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":1,"creation_date":1457365552,"post_id":35847568,"comment_id":59361349,"body_markdown":"Great &amp; thanks. Two questions. 1. Is there any rule when I have to move from single update to bulk update in `MongoDB`? I mean from amount of documents point of rule. 2. Regarding to `replaceOne()`, all my updated documents contain an update of one-two fields. Why should I use this method and not `updateOne()`? As far as I understand, `replaceOne()` replaces the whole document, while `updateOne()` may just update the value of the specific fields, which should be faster, am I right?","body":"Great &amp; thanks. Two questions. 1. Is there any rule when I have to move from single update to bulk update in <code>MongoDB</code>? I mean from amount of documents point of rule. 2. Regarding to <code>replaceOne()</code>, all my updated documents contain an update of one-two fields. Why should I use this method and not <code>updateOne()</code>? As far as I understand, <code>replaceOne()</code> replaces the whole document, while <code>updateOne()</code> may just update the value of the specific fields, which should be faster, am I right?"},{"owner":{"account_id":41926,"reputation":101732,"user_id":122005,"accept_rate":100,"display_name":"chridam"},"score":1,"creation_date":1457366516,"post_id":35847568,"comment_id":59362083,"body_markdown":"@MikeB. I think this warrants a new question as that is different from what you originally asked. If you post another question I will be as others happy to answer it. The general case here is one question one answer. I can answer your additional question but It should be another question entirely. Please post it separately.","body":"@MikeB. I think this warrants a new question as that is different from what you originally asked. If you post another question I will be as others happy to answer it. The general case here is one question one answer. I can answer your additional question but It should be another question entirely. Please post it separately."},{"owner":{"account_id":41926,"reputation":101732,"user_id":122005,"accept_rate":100,"display_name":"chridam"},"score":1,"creation_date":1457366970,"post_id":35847568,"comment_id":59362412,"body_markdown":"@MikeB. The general answer is `replaceOne` replaces a single document in the collection that matches the filter. If multiple documents match, `replaceOne` will replace the first matching document only. `updateOne()` updates a single document within the collection based on the filter. If `{upsert: true}` option is specified and no documents match the filter, a new document is created using the equality comparisons in filter with the modifications from update. If the filter only has comparison operations, then only the modifications from the update will be applied to the new document.","body":"@MikeB. The general answer is <code>replaceOne</code> replaces a single document in the collection that matches the filter. If multiple documents match, <code>replaceOne</code> will replace the first matching document only. <code>updateOne()</code> updates a single document within the collection based on the filter. If <code>{upsert: true}</code> option is specified and no documents match the filter, a new document is created using the equality comparisons in filter with the modifications from update. If the filter only has comparison operations, then only the modifications from the update will be applied to the new document."},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":1,"creation_date":1457367544,"post_id":35847568,"comment_id":59362847,"body_markdown":"I posted a separate question: http://stackoverflow.com/questions/35848688/whats-the-difference-between-replaceone-and-updateone-in-mongodb","body":"I posted a separate question: <a href=\"http://stackoverflow.com/questions/35848688/whats-the-difference-between-replaceone-and-updateone-in-mongodb\" title=\"whats the difference between replaceone and updateone in mongodb\">stackoverflow.com/questions/35848688/&hellip;</a>"},{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":0,"creation_date":1472575457,"post_id":35847568,"comment_id":65802999,"body_markdown":"By default if a write fails during the bulk operation then no more data will be written. If you want MongoDB to attempt the remaining writes then use this: `collection.bulkWrite(write, new BulkWriteOptions().ordered(false));`","body":"By default if a write fails during the bulk operation then no more data will be written. If you want MongoDB to attempt the remaining writes then use this: <code>collection.bulkWrite(write, new BulkWriteOptions().ordered(false));</code>"},{"owner":{"account_id":5193565,"reputation":1242,"user_id":4155686,"display_name":"Roman Scher"},"score":1,"creation_date":1591831665,"post_id":35847568,"comment_id":110209643,"body_markdown":"Wow. Forgetting to add $set to an updateOne operation in a bulk write overwrites the document like a replaceOne instead of updating it or throwing an error like a normal updateOne operation would. Wipes it clean. Thank goodness for backups.","body":"Wow. Forgetting to add $set to an updateOne operation in a bulk write overwrites the document like a replaceOne instead of updating it or throwing an error like a normal updateOne operation would. Wipes it clean. Thank goodness for backups."},{"owner":{"account_id":7071539,"reputation":107,"user_id":5412976,"display_name":"liga"},"score":0,"creation_date":1611599975,"post_id":35847568,"comment_id":116499001,"body_markdown":"Is there a way to check the progress of the bulk operation?","body":"Is there a way to check the progress of the bulk operation?"}],"tags":[],"owner":{"account_id":41926,"reputation":101732,"user_id":122005,"accept_rate":100,"display_name":"chridam"},"comment_count":8,"down_vote_count":0,"up_vote_count":43,"is_accepted":true,"score":43,"last_activity_date":1457364921,"creation_date":1457364549,"answer_id":35847568,"question_id":35846474,"body_markdown":"Using the example in the manual on the new **[`bulkWrite()`][1]** API, consider the following test collection which contains the following documents:\r\n\r\n    { &quot;_id&quot; : 1, &quot;char&quot; : &quot;Brisbane&quot;, &quot;class&quot; : &quot;monk&quot;, &quot;lvl&quot; : 4 },\r\n    { &quot;_id&quot; : 2, &quot;char&quot; : &quot;Eldon&quot;, &quot;class&quot; : &quot;alchemist&quot;, &quot;lvl&quot; : 3 },\r\n    { &quot;_id&quot; : 3, &quot;char&quot; : &quot;Meldane&quot;, &quot;class&quot; : &quot;ranger&quot;, &quot;lvl&quot; : 3 }\r\n\r\nThe following **[`bulkWrite()`][1]** performs multiple operations on the `characters` collection:\r\n\r\n\r\n----------\r\n\r\n\r\n**Mongo shell:**\r\n\r\n    try {\r\n    \tdb.characters.bulkWrite([\r\n    \t\t{ \r\n    \t\t\tinsertOne:{\r\n    \t\t\t\t&quot;document&quot;:{\r\n    \t\t\t\t\t&quot;_id&quot; : 4, &quot;char&quot; : &quot;Dithras&quot;, &quot;class&quot; : &quot;barbarian&quot;, &quot;lvl&quot; : 4\r\n    \t\t\t\t}\r\n                }\r\n    \t\t},\r\n    \t\t{ \r\n    \t\t\tinsertOne:{\r\n    \t\t\t\t&quot;document&quot;: {\r\n    \t\t\t\t\t&quot;_id&quot; : 5, &quot;char&quot; : &quot;Taeln&quot;, &quot;class&quot; : &quot;fighter&quot;, &quot;lvl&quot; : 3\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t},\r\n    \t\t{ \r\n    \t\t\tupdateOne: {\r\n    \t\t\t\t&quot;filter&quot; : { &quot;char&quot; : &quot;Eldon&quot; },\r\n    \t\t\t\t&quot;update&quot; : { $set : { &quot;status&quot; : &quot;Critical Injury&quot; } }\r\n    \t\t\t}\r\n    \t\t},\r\n    \t\t{ \r\n    \t\t\tdeleteOne: { &quot;filter&quot; : { &quot;char&quot; : &quot;Brisbane&quot;} }\r\n    \t\t},\r\n    \t\t{ \r\n    \t\t\treplaceOne: {\r\n                   &quot;filter&quot; : { &quot;char&quot; : &quot;Meldane&quot; },\r\n                   &quot;replacement&quot; : { &quot;char&quot; : &quot;Tanys&quot;, &quot;class&quot; : &quot;oracle&quot;, &quot;lvl&quot; : 4 }\r\n    \t\t\t}\r\n    \t\t}\r\n    \t]);\r\n    }\r\n    catch (e) {  print(e); }\r\n\r\nwhich prints the output:\r\n\r\n    {\r\n       &quot;acknowledged&quot; : true,\r\n       &quot;deletedCount&quot; : 1,\r\n       &quot;insertedCount&quot; : 2,\r\n       &quot;matchedCount&quot; : 2,\r\n       &quot;upsertedCount&quot; : 0,\r\n       &quot;insertedIds&quot; : {\r\n          &quot;0&quot; : 4,\r\n          &quot;1&quot; : 5\r\n       },\r\n       &quot;upsertedIds&quot; : {\r\n    \r\n       }\r\n    }\r\n\r\n----------\r\n\r\n\r\nThe equivalent Java 3.2 implementation follows:\r\n\r\n    MongoCollection&lt;Document&gt; collection = db.getCollection(&quot;characters&quot;);\r\n    List&lt;WriteModel&lt;Document&gt;&gt; writes = new ArrayList&lt;WriteModel&lt;Document&gt;&gt;();\r\n    writes.add(\r\n    \tnew InsertOneModel&lt;Document&gt;(\r\n    \t\tnew Document(&quot;_id&quot;, 4)\r\n    \t\t\t.append(&quot;char&quot;, &quot;Dithras&quot;)\r\n    \t\t\t.append(&quot;class&quot;, &quot;barbarian&quot;)\r\n    \t\t\t.append(&quot;lvl&quot;, 3)\r\n    \t)\r\n    );\r\n    writes.add(\r\n    \tnew InsertOneModel&lt;Document&gt;(\r\n    \t\tnew Document(&quot;_id&quot;, 5)\r\n    \t\t\t.append(&quot;char&quot;, &quot;Taeln&quot;)\r\n    \t\t\t.append(&quot;class&quot;, &quot;fighter&quot;)\r\n    \t\t\t.append(&quot;lvl&quot;, 4)\r\n    \t)\r\n    );\r\n    writes.add(\r\n    \tnew UpdateOneModel&lt;Document&gt;(\r\n    \t\tnew Document(&quot;char&quot;, &quot;Eldon&quot;), // filter\r\n    \t\tnew Document(&quot;$set&quot;, new Document(&quot;status&quot;, &quot;Critical Injury&quot;)) // update\r\n    \t)\r\n    );\r\n    writes.add(new DeleteOneModel&lt;Document&gt;(new Document(&quot;char&quot;, &quot;Brisbane&quot;)));\r\n    writes.add(\r\n    \tnew ReplaceOneModel&lt;Document&gt;(\r\n    \t\tnew Document(&quot;char&quot;, &quot;Meldane&quot;), \r\n    \t\tnew Document(&quot;char&quot;, &quot;Tanys&quot;)\r\n    \t\t\t.append(&quot;class&quot;, &quot;oracle&quot;)\r\n    \t\t\t.append(&quot;lvl&quot;, 4)\t\t\t\r\n    \t)\r\n    );\r\n     \r\n    BulkWriteResult bulkWriteResult = collection.bulkWrite(writes);\r\n\r\n\r\n----------\r\n\r\n\r\nFor your question use the **[`replaceOne()`][2]** method and this would be implemented as\r\n\r\n\r\n    MongoCollection&lt;Document&gt; collection = db.getCollection(&quot;collection&quot;);\r\n    List&lt;WriteModel&lt;Document&gt;&gt; writes = Arrays.&lt;WriteModel&lt;Document&gt;&gt;asList(\r\n    \tnew ReplaceOneModel&lt;Document&gt;(\r\n    \t\tnew Document(&quot;_id&quot;, 1001), // filter\r\n    \t\tnew Document(&quot;author&quot;, &quot;newName&quot;), // update\r\n            new UpdateOptions().upsert(true) // options\r\n    \t)\t\r\n    );\r\n    \r\n    BulkWriteResult bulkWriteResult = collection.bulkWrite(writes);\r\n\r\n\r\n  [1]: https://docs.mongodb.org/manual/core/bulk-write-operations/#bulkwrite-methods\r\n  [2]: https://docs.mongodb.org/manual/reference/method/db.collection.bulkWrite/#replaceone","title":"How to perform a bulk update of documents in MongoDB with Java?","body":"<p>Using the example in the manual on the new <strong><a href=\"https://docs.mongodb.org/manual/core/bulk-write-operations/#bulkwrite-methods\" rel=\"noreferrer\"><code>bulkWrite()</code></a></strong> API, consider the following test collection which contains the following documents:</p>\n\n<pre><code>{ \"_id\" : 1, \"char\" : \"Brisbane\", \"class\" : \"monk\", \"lvl\" : 4 },\n{ \"_id\" : 2, \"char\" : \"Eldon\", \"class\" : \"alchemist\", \"lvl\" : 3 },\n{ \"_id\" : 3, \"char\" : \"Meldane\", \"class\" : \"ranger\", \"lvl\" : 3 }\n</code></pre>\n\n<p>The following <strong><a href=\"https://docs.mongodb.org/manual/core/bulk-write-operations/#bulkwrite-methods\" rel=\"noreferrer\"><code>bulkWrite()</code></a></strong> performs multiple operations on the <code>characters</code> collection:</p>\n\n<hr>\n\n<p><strong>Mongo shell:</strong></p>\n\n<pre><code>try {\n    db.characters.bulkWrite([\n        { \n            insertOne:{\n                \"document\":{\n                    \"_id\" : 4, \"char\" : \"Dithras\", \"class\" : \"barbarian\", \"lvl\" : 4\n                }\n            }\n        },\n        { \n            insertOne:{\n                \"document\": {\n                    \"_id\" : 5, \"char\" : \"Taeln\", \"class\" : \"fighter\", \"lvl\" : 3\n                }\n            }\n        },\n        { \n            updateOne: {\n                \"filter\" : { \"char\" : \"Eldon\" },\n                \"update\" : { $set : { \"status\" : \"Critical Injury\" } }\n            }\n        },\n        { \n            deleteOne: { \"filter\" : { \"char\" : \"Brisbane\"} }\n        },\n        { \n            replaceOne: {\n               \"filter\" : { \"char\" : \"Meldane\" },\n               \"replacement\" : { \"char\" : \"Tanys\", \"class\" : \"oracle\", \"lvl\" : 4 }\n            }\n        }\n    ]);\n}\ncatch (e) {  print(e); }\n</code></pre>\n\n<p>which prints the output:</p>\n\n<pre><code>{\n   \"acknowledged\" : true,\n   \"deletedCount\" : 1,\n   \"insertedCount\" : 2,\n   \"matchedCount\" : 2,\n   \"upsertedCount\" : 0,\n   \"insertedIds\" : {\n      \"0\" : 4,\n      \"1\" : 5\n   },\n   \"upsertedIds\" : {\n\n   }\n}\n</code></pre>\n\n<hr>\n\n<p>The equivalent Java 3.2 implementation follows:</p>\n\n<pre><code>MongoCollection&lt;Document&gt; collection = db.getCollection(\"characters\");\nList&lt;WriteModel&lt;Document&gt;&gt; writes = new ArrayList&lt;WriteModel&lt;Document&gt;&gt;();\nwrites.add(\n    new InsertOneModel&lt;Document&gt;(\n        new Document(\"_id\", 4)\n            .append(\"char\", \"Dithras\")\n            .append(\"class\", \"barbarian\")\n            .append(\"lvl\", 3)\n    )\n);\nwrites.add(\n    new InsertOneModel&lt;Document&gt;(\n        new Document(\"_id\", 5)\n            .append(\"char\", \"Taeln\")\n            .append(\"class\", \"fighter\")\n            .append(\"lvl\", 4)\n    )\n);\nwrites.add(\n    new UpdateOneModel&lt;Document&gt;(\n        new Document(\"char\", \"Eldon\"), // filter\n        new Document(\"$set\", new Document(\"status\", \"Critical Injury\")) // update\n    )\n);\nwrites.add(new DeleteOneModel&lt;Document&gt;(new Document(\"char\", \"Brisbane\")));\nwrites.add(\n    new ReplaceOneModel&lt;Document&gt;(\n        new Document(\"char\", \"Meldane\"), \n        new Document(\"char\", \"Tanys\")\n            .append(\"class\", \"oracle\")\n            .append(\"lvl\", 4)           \n    )\n);\n\nBulkWriteResult bulkWriteResult = collection.bulkWrite(writes);\n</code></pre>\n\n<hr>\n\n<p>For your question use the <strong><a href=\"https://docs.mongodb.org/manual/reference/method/db.collection.bulkWrite/#replaceone\" rel=\"noreferrer\"><code>replaceOne()</code></a></strong> method and this would be implemented as</p>\n\n<pre><code>MongoCollection&lt;Document&gt; collection = db.getCollection(\"collection\");\nList&lt;WriteModel&lt;Document&gt;&gt; writes = Arrays.&lt;WriteModel&lt;Document&gt;&gt;asList(\n    new ReplaceOneModel&lt;Document&gt;(\n        new Document(\"_id\", 1001), // filter\n        new Document(\"author\", \"newName\"), // update\n        new UpdateOptions().upsert(true) // options\n    )   \n);\n\nBulkWriteResult bulkWriteResult = collection.bulkWrite(writes);\n</code></pre>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59081,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":35847568,"answer_count":1,"score":31,"last_activity_date":1669135730,"creation_date":1457361557,"question_id":35846474,"body_markdown":"I&#39;m using MongoDB 3.2 and MongoDB Java Driver 3.2. I have an array of a couple of hundreds of updated documents which should be now saved/stored in MongoDB. In order to do that, I iterate over the array and call for each document in this array the `updateOne()` method.\r\n\r\nNow, I want to re-implement this logic with a bulk update. I tried to find an example of bulk update in MongoDB 3.2 with MongoDB Java Driver 3.2.\r\n\r\nI tried this code:\r\n\r\n```java\r\nMongoClient mongo = new MongoClient(&quot;localhost&quot;, 27017);\r\n\r\nDB db = (DB) mongo.getDB(&quot;test1&quot;);\r\nDBCollection collection = db.getCollection(&quot;collection&quot;);\r\nBulkWriteOperation builder = collection.initializeUnorderedBulkOperation();\r\n\r\nbuilder.find(new BasicDBObject(&quot;_id&quot;, 1001)).upsert()\r\n\t.replaceOne(new BasicDBObject(&quot;_id&quot;, 1001).append(&quot;author&quot;, &quot;newName&quot;));\r\n\r\nbuilder.execute();\r\n```\r\n\r\nBut it seems that this approach is based on an outdated MongoDB Java Driver, such as 2.4 and uses deprecated methods.\r\n\r\nHow to perform a bulk update of documents in MongoDB 3.2 with MongoDB Java Driver 3.2?","title":"How to perform a bulk update of documents in MongoDB with Java?","body":"<p>I'm using MongoDB 3.2 and MongoDB Java Driver 3.2. I have an array of a couple of hundreds of updated documents which should be now saved/stored in MongoDB. In order to do that, I iterate over the array and call for each document in this array the <code>updateOne()</code> method.</p>\n<p>Now, I want to re-implement this logic with a bulk update. I tried to find an example of bulk update in MongoDB 3.2 with MongoDB Java Driver 3.2.</p>\n<p>I tried this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>MongoClient mongo = new MongoClient(&quot;localhost&quot;, 27017);\n\nDB db = (DB) mongo.getDB(&quot;test1&quot;);\nDBCollection collection = db.getCollection(&quot;collection&quot;);\nBulkWriteOperation builder = collection.initializeUnorderedBulkOperation();\n\nbuilder.find(new BasicDBObject(&quot;_id&quot;, 1001)).upsert()\n    .replaceOne(new BasicDBObject(&quot;_id&quot;, 1001).append(&quot;author&quot;, &quot;newName&quot;));\n\nbuilder.execute();\n</code></pre>\n<p>But it seems that this approach is based on an outdated MongoDB Java Driver, such as 2.4 and uses deprecated methods.</p>\n<p>How to perform a bulk update of documents in MongoDB 3.2 with MongoDB Java Driver 3.2?</p>\n"},{"tags":["java","apache","http-headers","apache-commons"],"answers":[{"comments":[{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1457981727,"post_id":35995538,"comment_id":59644097,"body_markdown":"I already use `Apache HttpComponents` but don&#39;t know how to combine the functionality of `copyURLToFile` and `HttpComponents`.","body":"I already use <code>Apache HttpComponents</code> but don&#39;t know how to combine the functionality of <code>copyURLToFile</code> and <code>HttpComponents</code>."},{"owner":{"account_id":3224451,"reputation":1606,"user_id":2721119,"display_name":"GerritCap"},"score":0,"creation_date":1457981807,"post_id":35995538,"comment_id":59644140,"body_markdown":"you don&#39;t use the copyToUrl, you can use https components nio package and use a file channel to write the data to a file","body":"you don&#39;t use the copyToUrl, you can use https components nio package and use a file channel to write the data to a file"}],"tags":[],"owner":{"account_id":3224451,"reputation":1606,"user_id":2721119,"display_name":"GerritCap"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457981004,"creation_date":1457981004,"answer_id":35995538,"question_id":35995431,"body_markdown":"Probably not, unless you can get a hold of the underlying mechanism that opens the URL.\r\n\r\nI recommend to use the https://hc.apache.org/ library. This has a lot of features regarding headers etc.","title":"How to specify User Agent and Referer in FileUtils.copyURLToFile(URL, File) method?","body":"<p>Probably not, unless you can get a hold of the underlying mechanism that opens the URL.</p>\n\n<p>I recommend to use the <a href=\"https://hc.apache.org/\" rel=\"nofollow\">https://hc.apache.org/</a> library. This has a lot of features regarding headers etc.</p>\n"},{"tags":[],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1614436686,"creation_date":1458405175,"answer_id":36104239,"question_id":35995431,"body_markdown":"I&#39;ve re-implement the functionality with `HttpComponents` instead of `Commons-IO`. This code allows you to download a file in Java according to its URL and save it at the specific destination.\r\n\r\n*The final code:*\r\n\r\n    public static boolean saveFile(URL imgURL, String imgSavePath) {\r\n    \r\n    \tboolean isSucceed = true;\r\n    \r\n    \tCloseableHttpClient httpClient = HttpClients.createDefault();\r\n    \r\n    \tHttpGet httpGet = new HttpGet(imgURL.toString());\r\n    \thttpGet.addHeader(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/50.0.2661.11 Safari/537.36&quot;);\r\n    \thttpGet.addHeader(&quot;Referer&quot;, &quot;https://www.google.com&quot;);\r\n    \r\n    \ttry {\r\n    \t\tCloseableHttpResponse httpResponse = httpClient.execute(httpGet);\r\n    \t\tHttpEntity imageEntity = httpResponse.getEntity();\r\n    \r\n    \t\tif (imageEntity != null) {\r\n    \t\t\tFileUtils.copyInputStreamToFile(imageEntity.getContent(), new File(imgSavePath));\r\n    \t\t}\r\n    \r\n    \t} catch (IOException e) {\r\n    \t\tisSucceed = false;\r\n    \t}\r\n    \r\n    \thttpGet.releaseConnection();\r\n\r\n    \treturn isSucceed;\r\n    }\r\n\r\nOf course, the code above takes more space then just single line of code:\r\n\r\n    FileUtils.copyURLToFile(imgURL, new File(imgSavePath),\r\n                            URLS_FETCH_TIMEOUT, URLS_FETCH_TIMEOUT);\r\n\r\nbut it will give you more control over a process and let you specify not only timeouts but `User-Agent` and `Referer` values, which are critical for many web-sites.","title":"How to specify User Agent and Referer in FileUtils.copyURLToFile(URL, File) method?","body":"<p>I've re-implement the functionality with <code>HttpComponents</code> instead of <code>Commons-IO</code>. This code allows you to download a file in Java according to its URL and save it at the specific destination.</p>\n<p><em>The final code:</em></p>\n<pre><code>public static boolean saveFile(URL imgURL, String imgSavePath) {\n\n    boolean isSucceed = true;\n\n    CloseableHttpClient httpClient = HttpClients.createDefault();\n\n    HttpGet httpGet = new HttpGet(imgURL.toString());\n    httpGet.addHeader(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/50.0.2661.11 Safari/537.36&quot;);\n    httpGet.addHeader(&quot;Referer&quot;, &quot;https://www.google.com&quot;);\n\n    try {\n        CloseableHttpResponse httpResponse = httpClient.execute(httpGet);\n        HttpEntity imageEntity = httpResponse.getEntity();\n\n        if (imageEntity != null) {\n            FileUtils.copyInputStreamToFile(imageEntity.getContent(), new File(imgSavePath));\n        }\n\n    } catch (IOException e) {\n        isSucceed = false;\n    }\n\n    httpGet.releaseConnection();\n\n    return isSucceed;\n}\n</code></pre>\n<p>Of course, the code above takes more space then just single line of code:</p>\n<pre><code>FileUtils.copyURLToFile(imgURL, new File(imgSavePath),\n                        URLS_FETCH_TIMEOUT, URLS_FETCH_TIMEOUT);\n</code></pre>\n<p>but it will give you more control over a process and let you specify not only timeouts but <code>User-Agent</code> and <code>Referer</code> values, which are critical for many web-sites.</p>\n"},{"tags":[],"owner":{"account_id":6522954,"reputation":1831,"user_id":5046586,"display_name":"Aldo Canepa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614847675,"creation_date":1614807293,"answer_id":66465252,"question_id":35995431,"body_markdown":"Completing the accepted answer on how to handle timeouts:\r\n\r\nIf you want to set timeouts, you have to create the `CloseableHttpClient` like this:\r\n\r\n```java\r\nRequestConfig config = RequestConfig.custom()\r\n                 .setConnectTimeout(connectionTimeout)\r\n                 .setConnectionRequestTimeout(readDataTimeout)\r\n                 .setSocketTimeout(readDataTimeout)\r\n                 .build();\r\n\r\nCloseableHttpClient httpClient = HttpClientBuilder\r\n                 .create()\r\n                 .setDefaultRequestConfig(config)\r\n                 .build();\r\n```\r\n\r\nAnd, it may be a good idea to create your `CloseableHttpClient` using a try-with-resource statement to handle its closing:\r\n\r\n```java\r\ntry (CloseableHttpClient httpClient = HttpClientBuilder.create().setDefaultRequestConfig(config).build()) {\r\n  ... rest of the code using httpClient\r\n}\r\n```","title":"How to specify User Agent and Referer in FileUtils.copyURLToFile(URL, File) method?","body":"<p>Completing the accepted answer on how to handle timeouts:</p>\n<p>If you want to set timeouts, you have to create the <code>CloseableHttpClient</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>RequestConfig config = RequestConfig.custom()\n                 .setConnectTimeout(connectionTimeout)\n                 .setConnectionRequestTimeout(readDataTimeout)\n                 .setSocketTimeout(readDataTimeout)\n                 .build();\n\nCloseableHttpClient httpClient = HttpClientBuilder\n                 .create()\n                 .setDefaultRequestConfig(config)\n                 .build();\n</code></pre>\n<p>And, it may be a good idea to create your <code>CloseableHttpClient</code> using a try-with-resource statement to handle its closing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (CloseableHttpClient httpClient = HttpClientBuilder.create().setDefaultRequestConfig(config).build()) {\n  ... rest of the code using httpClient\n}\n</code></pre>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3344,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":36104239,"answer_count":3,"score":5,"last_activity_date":1669135651,"creation_date":1457980680,"question_id":35995431,"body_markdown":"I&#39;m using **[`FileUtils.copyURLToFile(URL, File)`][1]**, an [Apache Commons IO 2.4][2] part, to download and save the file on my computer. The problem is that some sites refuse connection without referrer and user agent data.\r\n\r\nMy questions:\r\n\r\n 1. Is there any way to specify user agent and referrer to the `copyURLToFile` method?\r\n\r\n 2. Or should I use another approach to download a file and then save a given `InputStream` to file?\r\n\r\n  [1]: https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html#copyURLToFile(java.net.URL,%20java.io.File)\r\n  [2]: https://commons.apache.org/proper/commons-io/","title":"How to specify User Agent and Referer in FileUtils.copyURLToFile(URL, File) method?","body":"<p>I'm using <strong><a href=\"https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html#copyURLToFile(java.net.URL,%20java.io.File)\" rel=\"nofollow noreferrer\"><code>FileUtils.copyURLToFile(URL, File)</code></a></strong>, an <a href=\"https://commons.apache.org/proper/commons-io/\" rel=\"nofollow noreferrer\">Apache Commons IO 2.4</a> part, to download and save the file on my computer. The problem is that some sites refuse connection without referrer and user agent data.</p>\n<p>My questions:</p>\n<ol>\n<li><p>Is there any way to specify user agent and referrer to the <code>copyURLToFile</code> method?</p>\n</li>\n<li><p>Or should I use another approach to download a file and then save a given <code>InputStream</code> to file?</p>\n</li>\n</ol>\n"},{"tags":["java","mongodb","query-optimization","mongodb-query","crud"],"answers":[{"comments":[{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":1,"creation_date":1458481000,"post_id":36108441,"comment_id":59869445,"body_markdown":"Great, `.projection(fields(include(&quot;Name&quot;)))` works as expected. Thanks.","body":"Great, <code>.projection(fields(include(&quot;Name&quot;)))</code> works as expected. Thanks."}],"tags":[],"owner":{"account_id":6500113,"reputation":49680,"user_id":5031275,"display_name":"Blakes Seven"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1458429562,"creation_date":1458429562,"answer_id":36108441,"question_id":36108147,"body_markdown":"There is a [`.projection()`][1] method that is chainable to the query result which allows you to specify fields.\r\n\r\nEither expressed as a document, with the familiar and well documented BSON syntax:\r\n\r\n        ArrayList&lt;Document&gt; unfecthedEvents = collection.find(\r\n            new Document(&quot;fetchStatus&quot;, new Document(&quot;$lte&quot;, fetchStatusParam))\r\n        ).projection(\r\n            new Document(&quot;Name&quot;,1)\r\n        ).into(new ArrayList&lt;Document&gt;());\r\n\r\nOr as a [`fields`][2] property builder which really just translates to exactly the same BSON:\r\n\r\n        ArrayList&lt;Document&gt; unfecthedEvents = collection.find(\r\n            new Document(&quot;fetchStatus&quot;, new Document(&quot;$lte&quot;, fetchStatusParam))\r\n        ).projection(\r\n                fields(include(&quot;Name&quot;))\r\n        ).into(new ArrayList&lt;Document&gt;());\r\n\r\n\r\n\r\n  [1]: http://api.mongodb.org/java/3.0/?com/mongodb/client/model/Projections.html\r\n  [2]: http://api.mongodb.org/java/3.0/com/mongodb/client/model/Projections.html#fields-org.bson.conversions.Bson...-","title":"How to query only the specific fields in MongoDB with Java?","body":"<p>There is a <a href=\"http://api.mongodb.org/java/3.0/?com/mongodb/client/model/Projections.html\" rel=\"noreferrer\"><code>.projection()</code></a> method that is chainable to the query result which allows you to specify fields.</p>\n\n<p>Either expressed as a document, with the familiar and well documented BSON syntax:</p>\n\n<pre><code>    ArrayList&lt;Document&gt; unfecthedEvents = collection.find(\n        new Document(\"fetchStatus\", new Document(\"$lte\", fetchStatusParam))\n    ).projection(\n        new Document(\"Name\",1)\n    ).into(new ArrayList&lt;Document&gt;());\n</code></pre>\n\n<p>Or as a <a href=\"http://api.mongodb.org/java/3.0/com/mongodb/client/model/Projections.html#fields-org.bson.conversions.Bson...-\" rel=\"noreferrer\"><code>fields</code></a> property builder which really just translates to exactly the same BSON:</p>\n\n<pre><code>    ArrayList&lt;Document&gt; unfecthedEvents = collection.find(\n        new Document(\"fetchStatus\", new Document(\"$lte\", fetchStatusParam))\n    ).projection(\n            fields(include(\"Name\"))\n    ).into(new ArrayList&lt;Document&gt;());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11530127,"reputation":1,"user_id":8449285,"display_name":"Gayatri Purohit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623235283,"creation_date":1623232260,"answer_id":67901723,"question_id":36108147,"body_markdown":"It worked for me as well:\r\n\r\n```java\r\nBasicDBObject whereQuery = new BasicDBObject();\r\nBasicDBObject fields = new BasicDBObject();\t\t\r\n\r\n// the conditions in where query\r\nwhereQuery.put(&quot;dzeeClient&quot;, dzeeClient);\r\nwhereQuery.put(&quot;recommendationRunType&quot;, planView);\r\nwhereQuery.put(&quot;recommendedPlans.enrolled&quot;,employeeViewed);\r\n\r\n// the fields to be returned from the query-only loginId, and remove _id\r\nfields.put(&quot;loginId&quot;, 1); \r\nfields.put(&quot;_id&quot;, 0);\r\n\r\nFindIterable&lt;Document&gt; cursor = collection.find(whereQuery)\r\n\t\t\t\t\t.projection(fields).sort(new BasicDBObject(&quot;timeStamp&quot;,-1)).limit(1);\r\n```","title":"How to query only the specific fields in MongoDB with Java?","body":"<p>It worked for me as well:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BasicDBObject whereQuery = new BasicDBObject();\nBasicDBObject fields = new BasicDBObject();     \n\n// the conditions in where query\nwhereQuery.put(&quot;dzeeClient&quot;, dzeeClient);\nwhereQuery.put(&quot;recommendationRunType&quot;, planView);\nwhereQuery.put(&quot;recommendedPlans.enrolled&quot;,employeeViewed);\n\n// the fields to be returned from the query-only loginId, and remove _id\nfields.put(&quot;loginId&quot;, 1); \nfields.put(&quot;_id&quot;, 0);\n\nFindIterable&lt;Document&gt; cursor = collection.find(whereQuery)\n                    .projection(fields).sort(new BasicDBObject(&quot;timeStamp&quot;,-1)).limit(1);\n</code></pre>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13174,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":36108441,"answer_count":2,"score":2,"last_activity_date":1669135639,"creation_date":1458427659,"question_id":36108147,"body_markdown":"I&#39;m using MongoDB 3.2 and MongoDB Java Driver 3.2. In order to query document I use the following code:\r\n\r\n```java\r\nDocument query = new Document(&quot;fetchStatus&quot;, new Document(&quot;$lte&quot;, fetchStatusParam));\r\nArrayList&lt;Document&gt; unfetchedEvents = dbC_Events.find(query).into(new ArrayList&lt;Document&gt;());\r\n```\r\n\r\nThis query works but the problem is that in this case all fields of the document are retrieved (analog of `select *` in SQL). In order to optimize query performance, I want to specify fields I really need and fetch only them.\r\n\r\nI found couple of examples, such as:\r\n\r\n```java\r\nBasicDBObject query = new BasicDBObject();\r\nBasicDBObject fields = new BasicDBObject(&quot;Name&quot;, 1);\r\ncoll.find(query, fields);\r\n```\r\n\r\nbut all of them are designed for outdated version of MongoDB Java Driver, e.g. 2.4, while I&#39;m using 3.2.\r\n\r\nHow can I query only specific fields of document in MongoDB Java Driver 3.2?","title":"How to query only the specific fields in MongoDB with Java?","body":"<p>I'm using MongoDB 3.2 and MongoDB Java Driver 3.2. In order to query document I use the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Document query = new Document(&quot;fetchStatus&quot;, new Document(&quot;$lte&quot;, fetchStatusParam));\nArrayList&lt;Document&gt; unfetchedEvents = dbC_Events.find(query).into(new ArrayList&lt;Document&gt;());\n</code></pre>\n<p>This query works but the problem is that in this case all fields of the document are retrieved (analog of <code>select *</code> in SQL). In order to optimize query performance, I want to specify fields I really need and fetch only them.</p>\n<p>I found couple of examples, such as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BasicDBObject query = new BasicDBObject();\nBasicDBObject fields = new BasicDBObject(&quot;Name&quot;, 1);\ncoll.find(query, fields);\n</code></pre>\n<p>but all of them are designed for outdated version of MongoDB Java Driver, e.g. 2.4, while I'm using 3.2.</p>\n<p>How can I query only specific fields of document in MongoDB Java Driver 3.2?</p>\n"},{"tags":["java","apache","lucene","information-retrieval","stop-words"],"answers":[{"comments":[{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1459061191,"post_id":36243865,"comment_id":60119253,"body_markdown":"The problem is that `Lucene` doesn&#39;t filter out such words as `we`, `I` and other common English words. Should I attach other extended stop words dictionary? Does `Lucene` provide other stop words dictionaries?","body":"The problem is that <code>Lucene</code> doesn&#39;t filter out such words as <code>we</code>, <code>I</code> and other common English words. Should I attach other extended stop words dictionary? Does <code>Lucene</code> provide other stop words dictionaries?"},{"owner":{"account_id":1787149,"reputation":32983,"user_id":1628375,"display_name":"femtoRgon"},"score":1,"creation_date":1459062253,"post_id":36243865,"comment_id":60119466,"body_markdown":"`EnglishAnalyzer` and `StandardAnalyzer` use the same stopword set, so I don&#39;t believe there is a more extensive stop list that comes packaged in lucene.  So, yes, you would probably need to create your own.  If you are using StandardAnalyzer, it makes it easy to store the stop words in a plain text file, and pass a reader into the constructor.","body":"<code>EnglishAnalyzer</code> and <code>StandardAnalyzer</code> use the same stopword set, so I don&#39;t believe there is a more extensive stop list that comes packaged in lucene.  So, yes, you would probably need to create your own.  If you are using StandardAnalyzer, it makes it easy to store the stop words in a plain text file, and pass a reader into the constructor."},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1459062880,"post_id":36243865,"comment_id":60119590,"body_markdown":"Do you mean `StandardAnalyzer` or `StandardTokenizer`? I use `StandardAnalyzer.STOP_WORDS_SET` but no constructor for `StandardAnalyzer` is used. In contrast, I have `stdToken.setReader(new StringReader(fullText));`. Where exactly should I put my stop words list?","body":"Do you mean <code>StandardAnalyzer</code> or <code>StandardTokenizer</code>? I use <code>StandardAnalyzer.STOP_WORDS_SET</code> but no constructor for <code>StandardAnalyzer</code> is used. In contrast, I have <code>stdToken.setReader(new StringReader(fullText));</code>. Where exactly should I put my stop words list?"},{"owner":{"account_id":1787149,"reputation":32983,"user_id":1628375,"display_name":"femtoRgon"},"score":1,"creation_date":1459063370,"post_id":36243865,"comment_id":60119671,"body_markdown":"You need to pass a `CharArraySet` of the stop words into your `StopFilter`.  `StandardAnalyzer` just has a handy ctor that makes it convenient.  To build from a file, you&#39;d want to use [`WordListLoader.getWordSet`](https://lucene.apache.org/core/5_5_0/analyzers-common/org/apache/lucene/analysis/util/WordlistLoader.html#getWordSet(java.io.Reader)).  Or you can just create the [`CharArraySet`](https://lucene.apache.org/core/5_5_0/analyzers-common/org/apache/lucene/analysis/util/CharArraySet.html) yourself, it&#39;s pretty sraightforward to work with, really.","body":"You need to pass a <code>CharArraySet</code> of the stop words into your <code>StopFilter</code>.  <code>StandardAnalyzer</code> just has a handy ctor that makes it convenient.  To build from a file, you&#39;d want to use <a href=\"https://lucene.apache.org/core/5_5_0/analyzers-common/org/apache/lucene/analysis/util/WordlistLoader.html#getWordSet(java.io.Reader)\" rel=\"nofollow noreferrer\"><code>WordListLoader.getWordSet</code></a>.  Or you can just create the <a href=\"https://lucene.apache.org/core/5_5_0/analyzers-common/org/apache/lucene/analysis/util/CharArraySet.html\" rel=\"nofollow noreferrer\"><code>CharArraySet</code></a> yourself, it&#39;s pretty sraightforward to work with, really."},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1459064315,"post_id":36243865,"comment_id":60119873,"body_markdown":"Great, special thanks for the `WordlistLoader.getWordSet`.","body":"Great, special thanks for the <code>WordlistLoader.getWordSet</code>."}],"tags":[],"owner":{"account_id":1787149,"reputation":32983,"user_id":1628375,"display_name":"femtoRgon"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1459053227,"creation_date":1459053227,"answer_id":36243865,"question_id":36241051,"body_markdown":"Just tested both approach 1 and approach 2, and they both seem to filter out stop words just fine.  Here is how I tested it:\r\n\r\n\tpublic static void main(String[] args) throws IOException, ParseException, org.apache.lucene.queryparser.surround.parser.ParseException \r\n\t{\r\n\t\t StandardTokenizer stdToken = new StandardTokenizer();\r\n\t\t stdToken.setReader(new StringReader(&quot;Some stuff that is in need of analysis&quot;));\r\n\t\t TokenStream tokenStream;\r\n\t\t \r\n\t\t //You&#39;re code starts here\r\n\t\t tokenStream = new StopFilter(new ASCIIFoldingFilter(new ClassicFilter(new LowerCaseFilter(stdToken))), EnglishAnalyzer.getDefaultStopSet());\r\n\t\t tokenStream.reset();\r\n\t\t //And ends here\r\n\r\n         CharTermAttribute token = tokenStream.getAttribute(CharTermAttribute.class);\r\n         while (tokenStream.incrementToken()) {\r\n        \t System.out.println(token.toString());\r\n         }\r\n         tokenStream.close();\r\n\t}\r\n\r\nResults:\r\n\r\n&gt; some  \r\n&gt; stuff  \r\n&gt; need  \r\n&gt; analysis\r\n\r\nWhich has eliminated the four stop words in my sample.","title":"Apache Lucene doesn&#39;t filter stop words despite the usage of StopAnalyzer and StopFilter","body":"<p>Just tested both approach 1 and approach 2, and they both seem to filter out stop words just fine.  Here is how I tested it:</p>\n\n<pre><code>public static void main(String[] args) throws IOException, ParseException, org.apache.lucene.queryparser.surround.parser.ParseException \n{\n     StandardTokenizer stdToken = new StandardTokenizer();\n     stdToken.setReader(new StringReader(\"Some stuff that is in need of analysis\"));\n     TokenStream tokenStream;\n\n     //You're code starts here\n     tokenStream = new StopFilter(new ASCIIFoldingFilter(new ClassicFilter(new LowerCaseFilter(stdToken))), EnglishAnalyzer.getDefaultStopSet());\n     tokenStream.reset();\n     //And ends here\n\n     CharTermAttribute token = tokenStream.getAttribute(CharTermAttribute.class);\n     while (tokenStream.incrementToken()) {\n         System.out.println(token.toString());\n     }\n     tokenStream.close();\n}\n</code></pre>\n\n<p>Results:</p>\n\n<blockquote>\n  <p>some<br>\n  stuff<br>\n  need<br>\n  analysis</p>\n</blockquote>\n\n<p>Which has eliminated the four stop words in my sample.</p>\n"},{"tags":[],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1600705440,"creation_date":1459072947,"answer_id":36246089,"question_id":36241051,"body_markdown":"The pitfall was in the default Lucene&#39;s stop words list, I expected, it is much more broader.\r\n\r\nHere is the code which by default tries to load the customized stop words list and if it&#39;s failed then uses the standard one:\r\n\r\n```java\r\nCharArraySet stopWordsSet;\r\n\r\ntry {\r\n\t// use customized stop words list\r\n\tString stopWordsDictionary = FileUtils.readFileToString(new File(%PATH_TO_FILE%));\r\n\tstopWordsSet = WordlistLoader.getWordSet(new StringReader(stopWordsDictionary));\r\n} catch (FileNotFoundException e) {\r\n\t// use standard stop words list\r\n\tstopWordsSet = CharArraySet.copy(StandardAnalyzer.STOP_WORDS_SET);\r\n}\r\n\r\ntokenStream = new StopFilter(new ASCIIFoldingFilter(new ClassicFilter(new LowerCaseFilter(stdToken))), stopWordsSet);\r\ntokenStream.reset();\r\n```","title":"Apache Lucene doesn&#39;t filter stop words despite the usage of StopAnalyzer and StopFilter","body":"<p>The pitfall was in the default Lucene's stop words list, I expected, it is much more broader.</p>\n<p>Here is the code which by default tries to load the customized stop words list and if it's failed then uses the standard one:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CharArraySet stopWordsSet;\n\ntry {\n    // use customized stop words list\n    String stopWordsDictionary = FileUtils.readFileToString(new File(%PATH_TO_FILE%));\n    stopWordsSet = WordlistLoader.getWordSet(new StringReader(stopWordsDictionary));\n} catch (FileNotFoundException e) {\n    // use standard stop words list\n    stopWordsSet = CharArraySet.copy(StandardAnalyzer.STOP_WORDS_SET);\n}\n\ntokenStream = new StopFilter(new ASCIIFoldingFilter(new ClassicFilter(new LowerCaseFilter(stdToken))), stopWordsSet);\ntokenStream.reset();\n</code></pre>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2083,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":36246089,"answer_count":2,"score":2,"last_activity_date":1669135628,"creation_date":1459027334,"question_id":36241051,"body_markdown":"I have a module based on Apache Lucene 5.5 / 6.0 which retrieves keywords. Everything is working fine except one thing — Lucene doesn&#39;t filter stop words.\r\n\r\nI tried to enable stop word filtering with two different approaches.\r\n\r\n**Approach #1:**\r\n\r\n```java\r\ntokenStream = new StopFilter(new ASCIIFoldingFilter(new ClassicFilter(new LowerCaseFilter(stdToken))), EnglishAnalyzer.getDefaultStopSet());\r\ntokenStream.reset();\r\n```\r\n\r\n**Approach #2:**\r\n\r\n```java\r\ntokenStream = new StopFilter(new ClassicFilter(new LowerCaseFilter(stdToken)), StopAnalyzer.ENGLISH_STOP_WORDS_SET);\r\ntokenStream.reset();\r\n```\r\n\r\nThe full code is available here:  \r\nhttps://stackoverflow.com/a/36237769/462347\r\n\r\nMy questions:\r\n\r\n 1. Why Lucene doesn&#39;t filter stop words?\r\n\r\n 2. How can I enable the stop words filtering in Lucene 5.5 / 6.0?","title":"Apache Lucene doesn&#39;t filter stop words despite the usage of StopAnalyzer and StopFilter","body":"<p>I have a module based on Apache Lucene 5.5 / 6.0 which retrieves keywords. Everything is working fine except one thing — Lucene doesn't filter stop words.</p>\n<p>I tried to enable stop word filtering with two different approaches.</p>\n<p><strong>Approach #1:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>tokenStream = new StopFilter(new ASCIIFoldingFilter(new ClassicFilter(new LowerCaseFilter(stdToken))), EnglishAnalyzer.getDefaultStopSet());\ntokenStream.reset();\n</code></pre>\n<p><strong>Approach #2:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>tokenStream = new StopFilter(new ClassicFilter(new LowerCaseFilter(stdToken)), StopAnalyzer.ENGLISH_STOP_WORDS_SET);\ntokenStream.reset();\n</code></pre>\n<p>The full code is available here:<br />\n<a href=\"https://stackoverflow.com/a/36237769/462347\">https://stackoverflow.com/a/36237769/462347</a></p>\n<p>My questions:</p>\n<ol>\n<li><p>Why Lucene doesn't filter stop words?</p>\n</li>\n<li><p>How can I enable the stop words filtering in Lucene 5.5 / 6.0?</p>\n</li>\n</ol>\n"},{"tags":["java","java-8","guava","hashcode"],"comments":[{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":1,"creation_date":1459105880,"post_id":36251450,"comment_id":60132583,"body_markdown":"Why do you think the Guava implementation would be better than the new built-in? Also, define &quot;better&quot;.","body":"Why do you think the Guava implementation would be better than the new built-in? Also, define &quot;better&quot;."},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":2,"creation_date":1459105907,"post_id":36251450,"comment_id":60132593,"body_markdown":"This class is there since Java 7","body":"This class is there since Java 7"},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1459105990,"post_id":36251450,"comment_id":60132627,"body_markdown":"Perhaps, Guava&#39;s hash is based on better/other hash-function?","body":"Perhaps, Guava&#39;s hash is based on better/other hash-function?"},{"owner":{"account_id":6589256,"reputation":12808,"user_id":5091073,"display_name":"Nir Levy"},"score":2,"creation_date":1459106330,"post_id":36251450,"comment_id":60132752,"body_markdown":"like many other things, java inserts into the base classes features from guava or other libraries. This happened with Optional class that was first in guava and added to java8, many collection utils and more, and also hashcode. You can simply look at the source codes to see if there&#39;s a different implementation. In my mind- if you&#39;re using already the guava method - I wouldn&#39;t go into the trouble of migrating. if you don&#39;t and want to use this method- I prefer to use internal java when possible","body":"like many other things, java inserts into the base classes features from guava or other libraries. This happened with Optional class that was first in guava and added to java8, many collection utils and more, and also hashcode. You can simply look at the source codes to see if there&#39;s a different implementation. In my mind- if you&#39;re using already the guava method - I wouldn&#39;t go into the trouble of migrating. if you don&#39;t and want to use this method- I prefer to use internal java when possible"}],"answers":[{"tags":[],"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1459106665,"creation_date":1459106345,"answer_id":36251559,"question_id":36251450,"body_markdown":"Guava&#39;s method predates&#39; Java 7. \r\n\r\nThe Java method of the same name only accepts a single argument. But a sibling `java.util.Objects.hash()` accepts a variable number of arguments, like Guava&#39;s `Objects.hashCode()`.\r\n\r\nIf you&#39;re using Java 7 or later, you can use `java.util.Objects.hash(...)`. The [Guava documentation][1] notes this:\r\n\r\n&gt;Note for Java 7 and later: This method should be treated as deprecated; use Objects.hash(java.lang.Object...) instead.\r\n\r\n\r\nIf you&#39;re using Java 6 or earlier, you can use Guava&#39;s method.\r\n\r\n\r\n  [1]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Objects.html#hashCode(java.lang.Object...)","title":"Guava.Objects.hashCode vs Java.Objects.hashCode","body":"<p>Guava's method predates' Java 7. </p>\n\n<p>The Java method of the same name only accepts a single argument. But a sibling <code>java.util.Objects.hash()</code> accepts a variable number of arguments, like Guava's <code>Objects.hashCode()</code>.</p>\n\n<p>If you're using Java 7 or later, you can use <code>java.util.Objects.hash(...)</code>. The <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Objects.html#hashCode(java.lang.Object...)\">Guava documentation</a> notes this:</p>\n\n<blockquote>\n  <p>Note for Java 7 and later: This method should be treated as deprecated; use Objects.hash(java.lang.Object...) instead.</p>\n</blockquote>\n\n<p>If you're using Java 6 or earlier, you can use Guava's method.</p>\n"},{"tags":[],"owner":{"account_id":3313963,"reputation":11003,"user_id":2786733,"accept_rate":95,"display_name":"Andrejs"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1572250698,"creation_date":1572248526,"answer_id":58587197,"question_id":36251450,"body_markdown":"To add to the accepted answer:\r\n\r\nWhile `Objects.hash()` should be preferred to Guava in Java 7+ code, note the below (paraphrased) from Effective Java 3rd Edition by Joshua Bloch (Item 11):\r\n\r\n&gt; Unfortunately, `Objects.hash()` runs more slowly because it entails \r\n&gt; \r\n&gt; 1. array creation (*)\r\n&gt; 2. boxing and unboxing of any primitive arguments\r\n&gt; \r\n&gt; It is recommended for use only in situations where performance is not\r\n&gt; critical.\r\n\r\n(*) Indeed, `Objects.hash()` simply invokes another static method under the hood:\r\n\r\n    public static int hash(Object... values) {\r\n            return Arrays.hashCode(values);\r\n        }\r\n\r\n**What you can do to counter this is to either** \r\n\r\n1. cache the computed hash code instead of recomputing it each time \r\nand/or \r\n2. lazily initialize it. \r\n\r\n(but also remember that premature optimization is the root of many evils).\r\n\r\n**Alternatively:**\r\n\r\n\r\n1. Simply use your IDE to generate it for you (saves time, but boilerplate code still there). In IntelliJ: `Code &gt; Generate &gt; equals() and hashCode()`\r\n\r\n2. consider adding [Project Lombok][1] as a dependency\r\n\r\n\r\n  [1]: https://projectlombok.org/\r\n","title":"Guava.Objects.hashCode vs Java.Objects.hashCode","body":"<p>To add to the accepted answer:</p>\n\n<p>While <code>Objects.hash()</code> should be preferred to Guava in Java 7+ code, note the below (paraphrased) from Effective Java 3rd Edition by Joshua Bloch (Item 11):</p>\n\n<blockquote>\n  <p>Unfortunately, <code>Objects.hash()</code> runs more slowly because it entails </p>\n  \n  <ol>\n  <li>array creation (*)</li>\n  <li>boxing and unboxing of any primitive arguments</li>\n  </ol>\n  \n  <p>It is recommended for use only in situations where performance is not\n  critical.</p>\n</blockquote>\n\n<p>(*) Indeed, <code>Objects.hash()</code> simply invokes another static method under the hood:</p>\n\n<pre><code>public static int hash(Object... values) {\n        return Arrays.hashCode(values);\n    }\n</code></pre>\n\n<p><strong>What you can do to counter this is to either</strong> </p>\n\n<ol>\n<li>cache the computed hash code instead of recomputing it each time \nand/or </li>\n<li>lazily initialize it. </li>\n</ol>\n\n<p>(but also remember that premature optimization is the root of many evils).</p>\n\n<p><strong>Alternatively:</strong></p>\n\n<ol>\n<li><p>Simply use your IDE to generate it for you (saves time, but boilerplate code still there). In IntelliJ: <code>Code &gt; Generate &gt; equals() and hashCode()</code></p></li>\n<li><p>consider adding <a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\">Project Lombok</a> as a dependency</p></li>\n</ol>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3176,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":36251559,"answer_count":2,"score":9,"last_activity_date":1669135615,"creation_date":1459105779,"question_id":36251450,"body_markdown":"In Java 8 there is a class `java.util.Objects`, which contains `hashCode()` method. At the same time Google Guava 19 contains `com.google.common.base.Objects`, which also has `hashCode()` method.\r\n\r\nMy questions:\r\n\r\n 1. Is there any reason why should I prefer Guava&#39;s 19 `hashCode()` over Java&#39;s 8?\r\n\r\n 2. Can I completely rely on Java 8 `hashCode()` or it&#39;s better to stay with Guava?","title":"Guava.Objects.hashCode vs Java.Objects.hashCode","body":"<p>In Java 8 there is a class <code>java.util.Objects</code>, which contains <code>hashCode()</code> method. At the same time Google Guava 19 contains <code>com.google.common.base.Objects</code>, which also has <code>hashCode()</code> method.</p>\n<p>My questions:</p>\n<ol>\n<li><p>Is there any reason why should I prefer Guava's 19 <code>hashCode()</code> over Java's 8?</p>\n</li>\n<li><p>Can I completely rely on Java 8 <code>hashCode()</code> or it's better to stay with Guava?</p>\n</li>\n</ol>\n"},{"tags":["java","multithreading","concurrency","executorservice","java-threads"],"answers":[{"comments":[{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1459617446,"post_id":36376286,"comment_id":60370274,"body_markdown":"My threads don&#39;t return any value, thus, the second option seems to be more relevant.","body":"My threads don&#39;t return any value, thus, the second option seems to be more relevant."},{"owner":{"account_id":2719313,"reputation":15631,"user_id":2345933,"accept_rate":84,"display_name":"Adam Siemion"},"score":0,"creation_date":1459617701,"post_id":36376286,"comment_id":60370390,"body_markdown":"@MikeB. `submit` returns a `Future` regardless whether you pass a `Runnable` or `Callable`, in both cases calling `get()` on a `Future` waits for the thread to complete its work. Before calling `awaitTermination` you have to call `shutdown`.","body":"@MikeB. <code>submit</code> returns a <code>Future</code> regardless whether you pass a <code>Runnable</code> or <code>Callable</code>, in both cases calling <code>get()</code> on a <code>Future</code> waits for the thread to complete its work. Before calling <code>awaitTermination</code> you have to call <code>shutdown</code>."},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1459617835,"post_id":36376286,"comment_id":60370455,"body_markdown":"`awaitTermination()` requires some timeout to specify but in my case I don&#39;t know how much time it should take, thus, what value I have to specify as a `timeout` in order to assure that al threads will be finished correctly and not forced to stop due to `timeout`? From documentation: *&#171;Blocks until all tasks have completed execution after a shutdown request, or the timeout occurs, or the current thread is interrupted, **whichever happens first**.&#187;*","body":"<code>awaitTermination()</code> requires some timeout to specify but in my case I don&#39;t know how much time it should take, thus, what value I have to specify as a <code>timeout</code> in order to assure that al threads will be finished correctly and not forced to stop due to <code>timeout</code>? From documentation: <i>&#171;Blocks until all tasks have completed execution after a shutdown request, or the timeout occurs, or the current thread is interrupted, <b>whichever happens first</b>.&#187;</i>"},{"owner":{"account_id":2993703,"reputation":3071,"user_id":2540669,"display_name":"augray"},"score":2,"creation_date":1459617915,"post_id":36376286,"comment_id":60370490,"body_markdown":"Another option I would add for waiting until all of the executions are finished would be to give each thread a reference to a [`CountDownLatch`](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CountDownLatch.html) which is initialized with the number of threads. Call `latch.await()` in your main thread and have the worker threads call `latch.countDown()` when they&#39;re finished.","body":"Another option I would add for waiting until all of the executions are finished would be to give each thread a reference to a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CountDownLatch.html\" rel=\"nofollow noreferrer\"><code>CountDownLatch</code></a> which is initialized with the number of threads. Call <code>latch.await()</code> in your main thread and have the worker threads call <code>latch.countDown()</code> when they&#39;re finished."},{"owner":{"account_id":2719313,"reputation":15631,"user_id":2345933,"accept_rate":84,"display_name":"Adam Siemion"},"score":1,"creation_date":1459618708,"post_id":36376286,"comment_id":60370800,"body_markdown":"@MikeB. You can pass a very large number as a timeout e.g. `Long.MAX_VALUE` however it is always good to provide a timeout as your code can always block/deadlock that is why the JDK designers made this attribute mandatory, I guess.","body":"@MikeB. You can pass a very large number as a timeout e.g. <code>Long.MAX_VALUE</code> however it is always good to provide a timeout as your code can always block/deadlock that is why the JDK designers made this attribute mandatory, I guess."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1459860361,"post_id":36376286,"comment_id":60467800,"body_markdown":"Waiting on a single `Future` does not guaranty that *all* jobs are finished. So the first bullet is not a real option.","body":"Waiting on a single <code>Future</code> does not guaranty that <i>all</i> jobs are finished. So the first bullet is not a real option."},{"owner":{"account_id":2719313,"reputation":15631,"user_id":2345933,"accept_rate":84,"display_name":"Adam Siemion"},"score":0,"creation_date":1459861712,"post_id":36376286,"comment_id":60468876,"body_markdown":"@Holger of course when you call `get` on a single `Future` it only guarantees this `Future` is completed. I have updated the answer to avoid ambiguity.","body":"@Holger of course when you call <code>get</code> on a single <code>Future</code> it only guarantees this <code>Future</code> is completed. I have updated the answer to avoid ambiguity."}],"tags":[],"owner":{"account_id":2719313,"reputation":15631,"user_id":2345933,"accept_rate":84,"display_name":"Adam Siemion"},"comment_count":7,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1583840901,"creation_date":1459616821,"answer_id":36376286,"question_id":36376179,"body_markdown":"The answer is available in the [`ExecutorService.shutdown()`][1] Javadoc:\r\n\r\n&gt; This method does not wait for previously submitted tasks to complete execution. Use `awaitTermination` to do that.\r\n\r\n\r\nIf you want to wait for the threads to finish work you have the following options:\r\n\r\n- get `Future` instances returned by `submit()` and call `get()` on every `Future` instance\r\n- after calling `shutdown` on `service` call `awaitTermination` on `service` until it returns `true`\r\n- instead of calling `submit` on `service` add your `Runnable` instances to a `java.util.List` and pass this list to the `invokeAll` method called on `service`\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#shutdown--","title":"ExecutorService&#39;s shutdown() doesn&#39;t wait until all threads will be finished","body":"<p>The answer is available in the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#shutdown--\" rel=\"nofollow noreferrer\"><code>ExecutorService.shutdown()</code></a> Javadoc:</p>\n\n<blockquote>\n  <p>This method does not wait for previously submitted tasks to complete execution. Use <code>awaitTermination</code> to do that.</p>\n</blockquote>\n\n<p>If you want to wait for the threads to finish work you have the following options:</p>\n\n<ul>\n<li>get <code>Future</code> instances returned by <code>submit()</code> and call <code>get()</code> on every <code>Future</code> instance</li>\n<li>after calling <code>shutdown</code> on <code>service</code> call <code>awaitTermination</code> on <code>service</code> until it returns <code>true</code></li>\n<li>instead of calling <code>submit</code> on <code>service</code> add your <code>Runnable</code> instances to a <code>java.util.List</code> and pass this list to the <code>invokeAll</code> method called on <code>service</code></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":5412696,"reputation":2669,"user_id":4308897,"display_name":"Ercan"},"score":0,"creation_date":1583838375,"post_id":36378118,"comment_id":107240662,"body_markdown":"Thanks for sharing the solution","body":"Thanks for sharing the solution"}],"tags":[],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1459627373,"creation_date":1459627373,"answer_id":36378118,"question_id":36376179,"body_markdown":"Thanks to @[Adam Siemion][1] suggestions, here is a final code:\r\n\r\n\tExecutorService service = Executors.newFixedThreadPool(cpuCoresNum);\r\n\r\n\tint itNum = 1;\r\n\r\n\tfor (int i = 0; i &lt; cpuCoresNum; i++) {\r\n\r\n\t\tint treadID = itNum++;\r\n\r\n\t\tservice.submit(() -&gt; {\r\n\t\t\tThread.currentThread().setName(&quot;Thread_#&quot; + treadID);\r\n\t\t\ttry {\r\n\t\t\t\tfoo();\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t// wait until all threads will be finished\r\n\tservice.shutdown();\r\n\ttry {\r\n\t\tservice.awaitTermination(Long.MAX_VALUE, TimeUnit.MILLISECONDS);\r\n\t} catch (InterruptedException e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/2345933/adam-siemion","title":"ExecutorService&#39;s shutdown() doesn&#39;t wait until all threads will be finished","body":"<p>Thanks to @<a href=\"https://stackoverflow.com/users/2345933/adam-siemion\">Adam Siemion</a> suggestions, here is a final code:</p>\n\n<pre><code>ExecutorService service = Executors.newFixedThreadPool(cpuCoresNum);\n\nint itNum = 1;\n\nfor (int i = 0; i &lt; cpuCoresNum; i++) {\n\n    int treadID = itNum++;\n\n    service.submit(() -&gt; {\n        Thread.currentThread().setName(\"Thread_#\" + treadID);\n        try {\n            foo();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    });\n}\n\n// wait until all threads will be finished\nservice.shutdown();\ntry {\n    service.awaitTermination(Long.MAX_VALUE, TimeUnit.MILLISECONDS);\n} catch (InterruptedException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1462778624,"creation_date":1459881105,"answer_id":36434278,"question_id":36376179,"body_markdown":"Recommended way from oracle documentation page of [ExecutorService][1]:\r\n\r\n     void shutdownAndAwaitTermination(ExecutorService pool) {\r\n       pool.shutdown(); // Disable new tasks from being submitted\r\n       try {\r\n         // Wait a while for existing tasks to terminate\r\n         if (!pool.awaitTermination(60, TimeUnit.SECONDS)) {\r\n           pool.shutdownNow(); // Cancel currently executing tasks\r\n           // Wait a while for tasks to respond to being cancelled\r\n           if (!pool.awaitTermination(60, TimeUnit.SECONDS))\r\n               System.err.println(&quot;Pool did not terminate&quot;);\r\n         }\r\n       } catch (InterruptedException ie) {\r\n         // (Re-)Cancel if current thread also interrupted\r\n         pool.shutdownNow();\r\n         // Preserve interrupt status\r\n         Thread.currentThread().interrupt();\r\n       }\r\n\r\n\r\n`shutdown():`  Initiates an orderly shutdown in which previously submitted tasks are executed, but no new tasks will be accepted.\r\n\r\n`shutdownNow():`Attempts to stop all actively executing tasks, halts the processing of waiting tasks, and returns a list of the tasks that were awaiting execution.\r\n\r\nIn above example, if your tasks are taking more time to complete, you can change if condition to while condition\r\n\r\nReplace\r\n\r\n    if (!pool.awaitTermination(60, TimeUnit.SECONDS))\r\n\r\nwith\r\n\r\n     while(!pool.awaitTermination(60, TimeUnit.SECONDS)) {\r\n         Thread.sleep(60000);\r\n     }  \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html","title":"ExecutorService&#39;s shutdown() doesn&#39;t wait until all threads will be finished","body":"<p>Recommended way from oracle documentation page of <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html\" rel=\"nofollow\">ExecutorService</a>:</p>\n\n<pre><code> void shutdownAndAwaitTermination(ExecutorService pool) {\n   pool.shutdown(); // Disable new tasks from being submitted\n   try {\n     // Wait a while for existing tasks to terminate\n     if (!pool.awaitTermination(60, TimeUnit.SECONDS)) {\n       pool.shutdownNow(); // Cancel currently executing tasks\n       // Wait a while for tasks to respond to being cancelled\n       if (!pool.awaitTermination(60, TimeUnit.SECONDS))\n           System.err.println(\"Pool did not terminate\");\n     }\n   } catch (InterruptedException ie) {\n     // (Re-)Cancel if current thread also interrupted\n     pool.shutdownNow();\n     // Preserve interrupt status\n     Thread.currentThread().interrupt();\n   }\n</code></pre>\n\n<p><code>shutdown():</code>  Initiates an orderly shutdown in which previously submitted tasks are executed, but no new tasks will be accepted.</p>\n\n<p><code>shutdownNow():</code>Attempts to stop all actively executing tasks, halts the processing of waiting tasks, and returns a list of the tasks that were awaiting execution.</p>\n\n<p>In above example, if your tasks are taking more time to complete, you can change if condition to while condition</p>\n\n<p>Replace</p>\n\n<pre><code>if (!pool.awaitTermination(60, TimeUnit.SECONDS))\n</code></pre>\n\n<p>with</p>\n\n<pre><code> while(!pool.awaitTermination(60, TimeUnit.SECONDS)) {\n     Thread.sleep(60000);\n }  \n</code></pre>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11588,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":36376286,"answer_count":3,"score":8,"last_activity_date":1669135605,"creation_date":1459616332,"question_id":36376179,"body_markdown":"I have a code where 4 threads run at the same time. I want to wait until all these 4 threads will be finished. And only after that to continue the app flow.\r\n\r\nI tried two approaches:\r\n\r\n 1. [**`Thread#join()`**][1], this approach works as expected. The code, which comes after `join()` is executed only after all threads are finished.\r\n 2. [**`ExecutorService#shutdown()`**][2], this technique allows executing code, which comes after `shutdown()` even if not all threads are finished.\r\n\r\nCode sample:\r\n\r\n```java\r\nExecutorService service = Executors.newFixedThreadPool(cpuCoresNum);\r\n\r\nfor (int i = 0; i &lt; cpuCoresNum; i++) {\r\n\r\n\tservice.submit(() -&gt; {\r\n\t\ttry {\r\n\t\t\tfoo(); // some long execution function\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t});\r\n}\r\n\r\nservice.shutdown();\r\n\r\nSystem.out.println(&quot;We&#39;re done! All threads are finished!&quot;);\r\n```\r\n\r\nWhy don&#39;t `submit()` and `shutdown()` wait until all threads will be finished and prints *&#171;We&#39;re done! All threads are finished!&#187;* right after call of `service.shutdown();`?\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#join--\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#shutdown--","title":"ExecutorService&#39;s shutdown() doesn&#39;t wait until all threads will be finished","body":"<p>I have a code where 4 threads run at the same time. I want to wait until all these 4 threads will be finished. And only after that to continue the app flow.</p>\n<p>I tried two approaches:</p>\n<ol>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#join--\" rel=\"nofollow noreferrer\"><strong><code>Thread#join()</code></strong></a>, this approach works as expected. The code, which comes after <code>join()</code> is executed only after all threads are finished.</li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#shutdown--\" rel=\"nofollow noreferrer\"><strong><code>ExecutorService#shutdown()</code></strong></a>, this technique allows executing code, which comes after <code>shutdown()</code> even if not all threads are finished.</li>\n</ol>\n<p>Code sample:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ExecutorService service = Executors.newFixedThreadPool(cpuCoresNum);\n\nfor (int i = 0; i &lt; cpuCoresNum; i++) {\n\n    service.submit(() -&gt; {\n        try {\n            foo(); // some long execution function\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    });\n}\n\nservice.shutdown();\n\nSystem.out.println(&quot;We're done! All threads are finished!&quot;);\n</code></pre>\n<p>Why don't <code>submit()</code> and <code>shutdown()</code> wait until all threads will be finished and prints <em>«We're done! All threads are finished!»</em> right after call of <code>service.shutdown();</code>?</p>\n"},{"tags":["java","multithreading","concurrency","threadpool","executorservice"],"comments":[{"owner":{"account_id":5501406,"reputation":4041,"user_id":4370629,"accept_rate":67,"display_name":"Spotted"},"score":0,"creation_date":1459760655,"post_id":36398144,"comment_id":60413469,"body_markdown":"Option 1 is more common and has least overhead.","body":"Option 1 is more common and has least overhead."},{"owner":{"account_id":1251686,"reputation":29348,"user_id":1531054,"accept_rate":95,"display_name":"s.d"},"score":0,"creation_date":1459775972,"post_id":36398144,"comment_id":60423914,"body_markdown":"On another note, You can re-write the code inside infinite loop as a `Runnable` that posts itself again on as executor service, when run. That way, multiple tasks can run even on a single thread.","body":"On another note, You can re-write the code inside infinite loop as a <code>Runnable</code> that posts itself again on as executor service, when run. That way, multiple tasks can run even on a single thread."}],"answers":[{"comments":[{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1459773774,"post_id":36398846,"comment_id":60422215,"body_markdown":"As far as I know, I can assign a separate thread name even into `newFixedThreadPool`, not only with `newSingleThreadExecutor`. Is there any performance difference between define 1 `newFixedThreadPool` for X threads or X `newSingleThreadExecutor`s?","body":"As far as I know, I can assign a separate thread name even into <code>newFixedThreadPool</code>, not only with <code>newSingleThreadExecutor</code>. Is there any performance difference between define 1 <code>newFixedThreadPool</code> for X threads or X <code>newSingleThreadExecutor</code>s?"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1459780910,"post_id":36398846,"comment_id":60427558,"body_markdown":"@MikeB. You can assign a separate thread name, but not one based on the purpose of the task which might be more useful.  I would do whatever you feel is clearer, no matter which solution you chose, a `Thread` still does the work.","body":"@MikeB. You can assign a separate thread name, but not one based on the purpose of the task which might be more useful.  I would do whatever you feel is clearer, no matter which solution you chose, a <code>Thread</code> still does the work."}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1459761894,"creation_date":1459761894,"answer_id":36398846,"question_id":36398144,"body_markdown":"Given each task is a infinite loop, what I would used is a \r\n\r\n    newCachedThreadPool();\r\n\r\nThis would create a thread for every task which needed it (and no more)\r\n\r\nThe benefit of using a single threaded pool each is you could shutdown the pool individually, or give each thread a name, but if you don&#39;t need this, it&#39;s just overhead.\r\n\r\nNote: you can change the name of a thread with setName(&quot;My task&quot;) which might be useful for debugging/profiling purposes.\r\n\r\nOne of the tricks of using an ExecutorService is that it captures any uncaught exception/errors and places it in the `Future` object returned.  Often this `Future` is discarded which means that if your task dies unexpectedly it might also do it silently.\r\n\r\nI suggest you do a try/catch(Throwable) outside the loop and log it so you can see if the thread ever dies unexpectedly. e.g OutOfMemoryError","title":"Multiple newSingleThreadExecutor vs. newFixedThreadPool of ExecutorService","body":"<p>Given each task is a infinite loop, what I would used is a </p>\n\n<pre><code>newCachedThreadPool();\n</code></pre>\n\n<p>This would create a thread for every task which needed it (and no more)</p>\n\n<p>The benefit of using a single threaded pool each is you could shutdown the pool individually, or give each thread a name, but if you don't need this, it's just overhead.</p>\n\n<p>Note: you can change the name of a thread with setName(\"My task\") which might be useful for debugging/profiling purposes.</p>\n\n<p>One of the tricks of using an ExecutorService is that it captures any uncaught exception/errors and places it in the <code>Future</code> object returned.  Often this <code>Future</code> is discarded which means that if your task dies unexpectedly it might also do it silently.</p>\n\n<p>I suggest you do a try/catch(Throwable) outside the loop and log it so you can see if the thread ever dies unexpectedly. e.g OutOfMemoryError</p>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1459779315,"creation_date":1459776659,"answer_id":36404133,"question_id":36398144,"body_markdown":"I don&#39;t see any benefit for below option except shutting down individual executor.\r\n\r\n    numOfProc * newSingleThreadExecutor()\r\n\r\nBut you have more options. I prefer one of below three options from `Executors`. \r\n\r\n    newFixedThreadPool\r\n    newCachedThreadPool\r\n    newWorkStealingPool\r\n\r\n\r\n\r\nRefer to below SE questions for relevant queries :\r\n\r\nhttps://stackoverflow.com/questions/21156599/javas-fork-join-vs-executorservice-when-to-use-which/34922218#34922218\r\n\r\nhttps://stackoverflow.com/questions/33596079/how-to-properly-use-java-executor/33596230#33596230\r\n\r\n\r\nhttps://stackoverflow.com/questions/21300924/difference-between-executors-newfixedthreadpool1-and-executors-newsinglethread","title":"Multiple newSingleThreadExecutor vs. newFixedThreadPool of ExecutorService","body":"<p>I don't see any benefit for below option except shutting down individual executor.</p>\n\n<pre><code>numOfProc * newSingleThreadExecutor()\n</code></pre>\n\n<p>But you have more options. I prefer one of below three options from <code>Executors</code>. </p>\n\n<pre><code>newFixedThreadPool\nnewCachedThreadPool\nnewWorkStealingPool\n</code></pre>\n\n<p>Refer to below SE questions for relevant queries :</p>\n\n<p><a href=\"https://stackoverflow.com/questions/21156599/javas-fork-join-vs-executorservice-when-to-use-which/34922218#34922218\">Java&#39;s Fork/Join vs ExecutorService - when to use which?</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/33596079/how-to-properly-use-java-executor/33596230#33596230\">How to properly use Java Executor?</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/21300924/difference-between-executors-newfixedthreadpool1-and-executors-newsinglethread\">Difference between Executors.newFixedThreadPool(1) and Executors.newSingleThreadExecutor()</a></p>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3298,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":36398846,"answer_count":2,"score":6,"last_activity_date":1669135577,"creation_date":1459759757,"question_id":36398144,"body_markdown":"In my application I have 4 distinct processes, which run permanently with some small pauses.\r\n\r\nThe current version of code executes each process in a separate old-school thread:\r\n\r\n```java\r\nThread nlpAnalyzer = new Thread(() -&gt; {\r\n\r\n\t// infine lop for auto restore in case of crash\r\n\t//noinspection InfiniteLoopStatement\r\n\twhile (true) {\r\n\t\ttry {\r\n\t\t\t// this method should run permanently, pauses implemented internally\r\n\t\t\tNLPAnalyzer.analyzeNLP(dbCollection);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n});\r\n\r\nnlpAnalyzer.setName(&quot;im_nlpAnalyzer&quot;);\r\nnlpAnalyzer.start();\r\n```\r\n\r\nNow I would like to refactor this code with use of `ExecutorService`. In order to do that I can use at least two approaches:\r\n\r\n - `newFixedThreadPool(numOfProc)`;\r\n - `numOfProc * newSingleThreadExecutor()`.\r\n\r\nMy questions:\r\n\r\n 1. Is there any reason why I should prefer one option over another?\r\n\r\n 2. What is more accepted to generate a thread pool with X threads or generate X `newSingleThreadExecutor`s?\r\n\r\n 3. Pro et contra of each of the approach?","title":"Multiple newSingleThreadExecutor vs. newFixedThreadPool of ExecutorService","body":"<p>In my application I have 4 distinct processes, which run permanently with some small pauses.</p>\n<p>The current version of code executes each process in a separate old-school thread:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Thread nlpAnalyzer = new Thread(() -&gt; {\n\n    // infine lop for auto restore in case of crash\n    //noinspection InfiniteLoopStatement\n    while (true) {\n        try {\n            // this method should run permanently, pauses implemented internally\n            NLPAnalyzer.analyzeNLP(dbCollection);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n});\n\nnlpAnalyzer.setName(&quot;im_nlpAnalyzer&quot;);\nnlpAnalyzer.start();\n</code></pre>\n<p>Now I would like to refactor this code with use of <code>ExecutorService</code>. In order to do that I can use at least two approaches:</p>\n<ul>\n<li><code>newFixedThreadPool(numOfProc)</code>;</li>\n<li><code>numOfProc * newSingleThreadExecutor()</code>.</li>\n</ul>\n<p>My questions:</p>\n<ol>\n<li><p>Is there any reason why I should prefer one option over another?</p>\n</li>\n<li><p>What is more accepted to generate a thread pool with X threads or generate X <code>newSingleThreadExecutor</code>s?</p>\n</li>\n<li><p>Pro et contra of each of the approach?</p>\n</li>\n</ol>\n"},{"tags":["java","android","kotlin","android-fragments","android-activity"],"answers":[{"tags":[],"owner":{"account_id":18378745,"reputation":802,"user_id":13387235,"display_name":"Dhruv Sakariya"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669120956,"creation_date":1669120956,"answer_id":74532813,"question_id":74532760,"body_markdown":"    //simply put this code where you want to make back intent\r\n    super.onBackPressed();","title":"Is it possible to invoke a back button click programmatically?","body":"<pre><code>//simply put this code where you want to make back intent\nsuper.onBackPressed();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11231611,"reputation":91,"user_id":8239457,"display_name":"Mahmoud Gamal El-Din"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1669122088,"creation_date":1669121035,"answer_id":74532831,"question_id":74532760,"body_markdown":"From your activity just call =&gt; `onBackPressed()`,\r\n\r\nor form your fragment =&gt; `activity?.onBackPressed()`\r\n","title":"Is it possible to invoke a back button click programmatically?","body":"<p>From your activity just call =&gt; <code>onBackPressed()</code>,</p>\n<p>or form your fragment =&gt; <code>activity?.onBackPressed()</code></p>\n"},{"tags":[],"owner":{"account_id":18118137,"reputation":86,"user_id":13174552,"display_name":"Ammar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669135563,"creation_date":1669134866,"answer_id":74536073,"question_id":74532760,"body_markdown":"According to [official docs][1] onBackPressed is deprecated in Api level 33.\r\n\r\nyou can now use onBackPressedDispatcher please follow these steps:\r\n\r\n 1. Add android:enableOnBackInvokedCallBack=&quot;true” inside application tag\r\n    in manifest folder.\r\n\r\nKotlin code : \r\n\r\n    class YourActivity : AppCompatActivity() {\r\n\r\n    lateinit var button: Button\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n\r\n        button = findViewById(R.id.txt)\r\n        button.setOnClickListener {\r\n            onBackPressedCallback.handleOnBackPressed()\r\n        }\r\n\r\n    }\r\n\r\n    private val onBackPressedCallback = object : OnBackPressedCallback(true) {\r\n        override fun handleOnBackPressed() {\r\n            finish()  //this finishes the current activity\r\n            // Your business logic to handle the back pressed event\r\n        }\r\n\r\n      }\r\n    }\r\n\r\n\r\nAnd here is old way of implementation:\r\n\r\nJava : \r\n\r\n    buttonBack.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                YourActivity.super.onBackPressed();\r\n            }\r\n        });\r\n\r\nKotlin :\r\n\r\n     buttonBack.setOnClickListener{\r\n            super.onBackPressed()\r\n        }\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/app/Activity.html#onBackPressed()","title":"Is it possible to invoke a back button click programmatically?","body":"<p>According to <a href=\"https://developer.android.com/reference/android/app/Activity.html#onBackPressed()\" rel=\"nofollow noreferrer\">official docs</a> onBackPressed is deprecated in Api level 33.</p>\n<p>you can now use onBackPressedDispatcher please follow these steps:</p>\n<ol>\n<li>Add android:enableOnBackInvokedCallBack=&quot;true” inside application tag\nin manifest folder.</li>\n</ol>\n<p>Kotlin code :</p>\n<pre><code>class YourActivity : AppCompatActivity() {\n\nlateinit var button: Button\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    button = findViewById(R.id.txt)\n    button.setOnClickListener {\n        onBackPressedCallback.handleOnBackPressed()\n    }\n\n}\n\nprivate val onBackPressedCallback = object : OnBackPressedCallback(true) {\n    override fun handleOnBackPressed() {\n        finish()  //this finishes the current activity\n        // Your business logic to handle the back pressed event\n    }\n\n  }\n}\n</code></pre>\n<p>And here is old way of implementation:</p>\n<p>Java :</p>\n<pre><code>buttonBack.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            YourActivity.super.onBackPressed();\n        }\n    });\n</code></pre>\n<p>Kotlin :</p>\n<pre><code> buttonBack.setOnClickListener{\n        super.onBackPressed()\n    }\n</code></pre>\n"}],"owner":{"account_id":23684117,"reputation":200,"user_id":17709311,"display_name":"Saraf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":432,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74532831,"answer_count":3,"score":1,"last_activity_date":1669135563,"creation_date":1669120707,"question_id":74532760,"body_markdown":"I&#39;ve seen plenty of answers explaining how to override and add functionality to a back button press via user&#39;s interaction, but almost none of the answers explain how to programmatically trigger a back button press without any user input. Answers that do address it give somewhat deprecated code samples that don&#39;t really compute.","title":"Is it possible to invoke a back button click programmatically?","body":"<p>I've seen plenty of answers explaining how to override and add functionality to a back button press via user's interaction, but almost none of the answers explain how to programmatically trigger a back button press without any user input. Answers that do address it give somewhat deprecated code samples that don't really compute.</p>\n"},{"tags":["java","mongodb","exception","mongo-java-driver","mongo-java"],"comments":[{"owner":{"account_id":278995,"reputation":2459,"user_id":2553194,"display_name":"RubioRic"},"score":0,"creation_date":1460281955,"post_id":36527991,"comment_id":60660660,"body_markdown":"I agree with Frankenapps, that sentence is not throwing the exception. I think that it is being thrown when you instantiate your client. Catch the exception there.","body":"I agree with Frankenapps, that sentence is not throwing the exception. I think that it is being thrown when you instantiate your client. Catch the exception there."}],"answers":[{"comments":[{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1460281685,"post_id":36528177,"comment_id":60660589,"body_markdown":"What type `mongo` object is? In my case `mongoClient` is a type of `MongoClient`.","body":"What type <code>mongo</code> object is? In my case <code>mongoClient</code> is a type of <code>MongoClient</code>."},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1460282109,"post_id":36528177,"comment_id":60660695,"body_markdown":"It looks like we use the same object but different constructor. I use:\n`String mongoClientURI = &quot;mongodb://&quot; + DB_SRV_USR + &quot;:&quot; + DB_SRV_PWD + &quot;@&quot; + DB_URL + &quot;:&quot; + DB_PORT_CUS + &quot;/&quot; + dbName;\nMongoClientURI connectionString = new MongoClientURI(mongoClientURI);\n// enable SSL connection\nMongoClientOptions.builder().sslEnabled(true).build();`","body":"It looks like we use the same object but different constructor. I use: <code>String mongoClientURI = &quot;mongodb:&#47;&#47;&quot; + DB_SRV_USR + &quot;:&quot; + DB_SRV_PWD + &quot;@&quot; + DB_URL + &quot;:&quot; + DB_PORT_CUS + &quot;&#47;&quot; + dbName; MongoClientURI connectionString = new MongoClientURI(mongoClientURI); &#47;&#47; enable SSL connection MongoClientOptions.builder().sslEnabled(true).build();</code>"},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1460293855,"post_id":36528177,"comment_id":60664184,"body_markdown":"I just tried your approach and the exception was not caught as well.","body":"I just tried your approach and the exception was not caught as well."},{"owner":{"account_id":5809829,"reputation":917,"user_id":4581293,"display_name":"raga"},"score":0,"creation_date":1561715113,"post_id":36528177,"comment_id":100163346,"body_markdown":"Is there a better way ?","body":"Is there a better way ?"}],"tags":[],"owner":{"account_id":5827715,"reputation":6317,"user_id":4593433,"accept_rate":88,"display_name":"frankenapps"},"comment_count":4,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1460282000,"creation_date":1460281360,"answer_id":36528177,"question_id":36527991,"body_markdown":"1. I use this code to check connection:\r\n\r\n\t\ttry {\r\n\t\t\tmongo.getAddress();\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(&quot;Database unavailable!&quot;);\r\n\t\t\tmongo.close();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n2. Not sure here my guess would be that `this.mongoClient.getAddress();` does not throw that exception, but I don&#39;t really know\r\n\r\nEDIT: I initialized it via:\r\n\r\n\tBuilder builder = MongoClientOptions.builder().connectTimeout(3000);  \r\n\tMongoClient mongo = new MongoClient(new ServerAddress(&quot;192.168.0.1&quot;, 3000), builder.build());","title":"How to check if MongoDB connection is established with Java?","body":"<ol>\n<li><p>I use this code to check connection:</p>\n\n<pre><code>try {\n    mongo.getAddress();\n} catch (Exception e) {\n    System.out.println(\"Database unavailable!\");\n    mongo.close();\n    return;\n}\n</code></pre></li>\n<li><p>Not sure here my guess would be that <code>this.mongoClient.getAddress();</code> does not throw that exception, but I don't really know</p></li>\n</ol>\n\n<p>EDIT: I initialized it via:</p>\n\n<pre><code>Builder builder = MongoClientOptions.builder().connectTimeout(3000);  \nMongoClient mongo = new MongoClient(new ServerAddress(\"192.168.0.1\", 3000), builder.build());\n</code></pre>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12664,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":36528177,"answer_count":1,"score":3,"last_activity_date":1669135563,"creation_date":1460280076,"question_id":36527991,"body_markdown":"In my app, MongoDB 3.2.4 runs on a custom port, I want to implement logic where my app will try to reach MongoDB on a custom port and if it fails it will use the default `27018` port.\r\n\r\nIn order to do that I use the following code:\r\n\r\n```java\r\nString mongoClientURI = &quot;mongodb://&quot; + DB_SRV_USR + &quot;:&quot; + DB_SRV_PWD + &quot;@&quot; + DB_URL + &quot;:&quot; + DB_PORT_CUS + &quot;/&quot; + dbName;\r\nMongoClientURI connectionString = new MongoClientURI(mongoClientURI);\r\n\r\n// enable SSL connection\r\nMongoClientOptions.builder().sslEnabled(true).build();\r\n\r\nif (this.mongoClient == null) {\r\n\tthis.mongoClient = new MongoClient(connectionString);\r\n}\r\n\r\n// create database if doesn&#39;t exist\r\nMongoDatabase mdb = this.mongoClient.getDatabase(dbName);\r\n\r\ntry {\r\n\tthis.mongoClient.getAddress();\r\n} catch (com.mongodb.MongoSocketOpenException e) {\r\n\tSystem.out.println(&quot;Switch to default port&quot;);\r\n\t/*…use default port logic…*/\r\n}\r\n```\r\n\r\nThe problem is that this exception is not caught.\r\nAlthough MongoDB throws the following exception:\r\n\r\n&gt; com.mongodb.MongoSocketOpenException: Exception opening socket \tat\r\n&gt; com.mongodb.connection.SocketStream.open(SocketStream.java:63) \tat\r\n&gt; com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:114)\r\n&gt; \tat\r\n&gt; com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:128)\r\n&gt; \tat java.lang.Thread.run(Thread.java:745) Caused by:\r\n&gt; java.net.ConnectException: Connection refused: connect \tat\r\n&gt; java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) \tat\r\n&gt; java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85)\r\n&gt; \tat\r\n&gt; java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\r\n&gt; \tat\r\n&gt; java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\r\n&gt; \tat\r\n&gt; java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\r\n&gt; \tat java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) \tat\r\n&gt; java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) \tat\r\n&gt; java.net.Socket.connect(Socket.java:589) \tat\r\n&gt; com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:50)\r\n&gt; \tat com.mongodb.connection.SocketStream.open(SocketStream.java:58)\r\n&gt; \t... 3 more\r\n\r\nmy `try-catch` expression can&#39;t catch this exception.\r\n\r\nI tried multiple approaches, such as to catch:\r\n\r\n - `Exception`\r\n - `RuntimeException`\r\n - `MongoSocketOpenException`\r\n - `MongoException`\r\n - `MongoCommandException`\r\n\r\nnone of them doesn&#39;t work.\r\n\r\nMy questions:\r\n\r\n 1. How can I check if MongoDB connection is established?\r\n\r\n 2. How can catch the exception `MongoSocketOpenException`?","title":"How to check if MongoDB connection is established with Java?","body":"<p>In my app, MongoDB 3.2.4 runs on a custom port, I want to implement logic where my app will try to reach MongoDB on a custom port and if it fails it will use the default <code>27018</code> port.</p>\n<p>In order to do that I use the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String mongoClientURI = &quot;mongodb://&quot; + DB_SRV_USR + &quot;:&quot; + DB_SRV_PWD + &quot;@&quot; + DB_URL + &quot;:&quot; + DB_PORT_CUS + &quot;/&quot; + dbName;\nMongoClientURI connectionString = new MongoClientURI(mongoClientURI);\n\n// enable SSL connection\nMongoClientOptions.builder().sslEnabled(true).build();\n\nif (this.mongoClient == null) {\n    this.mongoClient = new MongoClient(connectionString);\n}\n\n// create database if doesn't exist\nMongoDatabase mdb = this.mongoClient.getDatabase(dbName);\n\ntry {\n    this.mongoClient.getAddress();\n} catch (com.mongodb.MongoSocketOpenException e) {\n    System.out.println(&quot;Switch to default port&quot;);\n    /*…use default port logic…*/\n}\n</code></pre>\n<p>The problem is that this exception is not caught.\nAlthough MongoDB throws the following exception:</p>\n<blockquote>\n<p>com.mongodb.MongoSocketOpenException: Exception opening socket    at\ncom.mongodb.connection.SocketStream.open(SocketStream.java:63)    at\ncom.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:114)\nat\ncom.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:128)\nat java.lang.Thread.run(Thread.java:745) Caused by:\njava.net.ConnectException: Connection refused: connect    at\njava.net.DualStackPlainSocketImpl.waitForConnect(Native Method)   at\njava.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85)\nat\njava.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\nat\njava.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\nat\njava.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\nat java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)   at\njava.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)    at\njava.net.Socket.connect(Socket.java:589)  at\ncom.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:50)\nat com.mongodb.connection.SocketStream.open(SocketStream.java:58)\n... 3 more</p>\n</blockquote>\n<p>my <code>try-catch</code> expression can't catch this exception.</p>\n<p>I tried multiple approaches, such as to catch:</p>\n<ul>\n<li><code>Exception</code></li>\n<li><code>RuntimeException</code></li>\n<li><code>MongoSocketOpenException</code></li>\n<li><code>MongoException</code></li>\n<li><code>MongoCommandException</code></li>\n</ul>\n<p>none of them doesn't work.</p>\n<p>My questions:</p>\n<ol>\n<li><p>How can I check if MongoDB connection is established?</p>\n</li>\n<li><p>How can catch the exception <code>MongoSocketOpenException</code>?</p>\n</li>\n</ol>\n"},{"tags":["java","mongodb","mongodb-query","mongo-java-driver"],"answers":[{"tags":[],"owner":{"account_id":2677968,"reputation":148917,"user_id":2313887,"accept_rate":82,"display_name":"Neil Lunn"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1461240058,"creation_date":1461188439,"answer_id":36755725,"question_id":36753254,"body_markdown":"Personally, I find it far less confusing to construct the object sequences just like U would with a JSON structure to enhance readability. But it&#39;s still just `Document()` wherever you see `{}` and `List` wherever you see `[]`:\r\n\r\n\r\n    Document query = new Document(\r\n        &quot;$or&quot;, Arrays.asList(\r\n            // First document in $or\r\n            new Document(\r\n                &quot;fetchStatus&quot;, \r\n                new Document( &quot;$gte&quot;, FetchStatus.PROCESSED_NLP.getID() )\r\n                .append(&quot;$lte&quot;, fetchStatusParam)\r\n            )\r\n            .append(&quot;episodeID&quot;, new Document( &quot;$in&quot;, episodeIDs)),\r\n            // Second document in $or\r\n            new Document(&quot;fetchStatus&quot;, PROCESSED_FETCH.getID())\r\n            .append(&quot;isFullTextRet&quot;, false)\r\n        )\r\n    );\r\n\r\n\r\nWhich is basically the same as:\r\n\r\n\r\n       {\r\n           &quot;$or&quot;: [\r\n               {\r\n                   &quot;fetchStatus&quot;: { \r\n                       &quot;$gte&quot;: FetchStatus.PROCESS_NLP.getID(),\r\n                       &quot;$lte&quot;: fetchStatusParam\r\n                   },\r\n                   &quot;episodeID&quot;: { &quot;$in&quot;: episodeIDs }\r\n               },\r\n               {\r\n                   &quot;fetchStatus&quot;: PROCESSED_FETCH.getID(),\r\n                   &quot;isFullTextRet&quot;: false\r\n               }\r\n           ]\r\n       }\r\n\r\nAlso there is no need for &quot;explicit&quot; `$eq` operators, since &quot;equals&quot; is actually the default meaning of a value assignment in a query property anyway.","title":"How to execute queries with both AND and OR clauses in MongoDB with Java?","body":"<p>Personally, I find it far less confusing to construct the object sequences just like U would with a JSON structure to enhance readability. But it's still just <code>Document()</code> wherever you see <code>{}</code> and <code>List</code> wherever you see <code>[]</code>:</p>\n\n<pre><code>Document query = new Document(\n    \"$or\", Arrays.asList(\n        // First document in $or\n        new Document(\n            \"fetchStatus\", \n            new Document( \"$gte\", FetchStatus.PROCESSED_NLP.getID() )\n            .append(\"$lte\", fetchStatusParam)\n        )\n        .append(\"episodeID\", new Document( \"$in\", episodeIDs)),\n        // Second document in $or\n        new Document(\"fetchStatus\", PROCESSED_FETCH.getID())\n        .append(\"isFullTextRet\", false)\n    )\n);\n</code></pre>\n\n<p>Which is basically the same as:</p>\n\n<pre><code>   {\n       \"$or\": [\n           {\n               \"fetchStatus\": { \n                   \"$gte\": FetchStatus.PROCESS_NLP.getID(),\n                   \"$lte\": fetchStatusParam\n               },\n               \"episodeID\": { \"$in\": episodeIDs }\n           },\n           {\n               \"fetchStatus\": PROCESSED_FETCH.getID(),\n               \"isFullTextRet\": false\n           }\n       ]\n   }\n</code></pre>\n\n<p>Also there is no need for \"explicit\" <code>$eq</code> operators, since \"equals\" is actually the default meaning of a value assignment in a query property anyway.</p>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1719,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":36755725,"answer_count":1,"score":4,"last_activity_date":1669135543,"creation_date":1461180144,"question_id":36753254,"body_markdown":"I want to execute query in MongoDB 3.2 with Java Driver 3.2, which contains both `$and` and `$or` clauses at the same time.\r\n\r\nWith the [reference][1], I tried the following approach:\r\n\r\n```java\r\nList&lt;Document&gt; criteria1 = new ArrayList&lt;&gt;();\r\nList&lt;Document&gt; criteria2 = new ArrayList&lt;&gt;();\r\n\r\ncriteria1.add(new Document(&quot;fetchStatus&quot;, new Document(&quot;$gte&quot;, FetchStatus.PROCESSED_NLP.getID())));\r\ncriteria1.add(new Document(&quot;fetchStatus&quot;, new Document(&quot;$lte&quot;, fetchStatusParam)));\r\ncriteria1.add(new Document(&quot;episodeID&quot;, new Document(&quot;$in&quot;, episodeIDs)));\r\n\r\ncriteria2.add(new Document(&quot;fetchStatus&quot;, new Document(&quot;$eq&quot;, PROCESSED_FETCH.getID())));\r\ncriteria2.add(new Document(&quot;isFullTextRet&quot;, new Document(&quot;$eq&quot;, false)));\r\n\r\nBasicDBList or = new BasicDBList();\r\nor.add(criteria1);\r\nor.add(criteria2);\r\n\r\nDBObject query = new BasicDBObject(&quot;$or&quot;, or);\r\nArrayList&lt;Document&gt; results = dbC_Coll.find(query).into(new ArrayList&lt;&gt;());\r\n```\r\n\r\nWhere the `criteria1` and `criteria2` should be connected with `$or` while within `criteria1` clause the `$and` should be applied.\r\n\r\nThe problem is that in MongoDB Java Driver 3.2 there is such no method and I get the `Cannot resolve method find(com.mongodb.DBObject)` error.\r\n\r\nHow can I compose a query such as `(A &amp;&amp; B) || (X &amp;&amp; Y)` in MongoDB Java Driver 3.2?\r\n\r\n  [1]: https://stackoverflow.com/a/10621210/462347","title":"How to execute queries with both AND and OR clauses in MongoDB with Java?","body":"<p>I want to execute query in MongoDB 3.2 with Java Driver 3.2, which contains both <code>$and</code> and <code>$or</code> clauses at the same time.</p>\n<p>With the <a href=\"https://stackoverflow.com/a/10621210/462347\">reference</a>, I tried the following approach:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Document&gt; criteria1 = new ArrayList&lt;&gt;();\nList&lt;Document&gt; criteria2 = new ArrayList&lt;&gt;();\n\ncriteria1.add(new Document(&quot;fetchStatus&quot;, new Document(&quot;$gte&quot;, FetchStatus.PROCESSED_NLP.getID())));\ncriteria1.add(new Document(&quot;fetchStatus&quot;, new Document(&quot;$lte&quot;, fetchStatusParam)));\ncriteria1.add(new Document(&quot;episodeID&quot;, new Document(&quot;$in&quot;, episodeIDs)));\n\ncriteria2.add(new Document(&quot;fetchStatus&quot;, new Document(&quot;$eq&quot;, PROCESSED_FETCH.getID())));\ncriteria2.add(new Document(&quot;isFullTextRet&quot;, new Document(&quot;$eq&quot;, false)));\n\nBasicDBList or = new BasicDBList();\nor.add(criteria1);\nor.add(criteria2);\n\nDBObject query = new BasicDBObject(&quot;$or&quot;, or);\nArrayList&lt;Document&gt; results = dbC_Coll.find(query).into(new ArrayList&lt;&gt;());\n</code></pre>\n<p>Where the <code>criteria1</code> and <code>criteria2</code> should be connected with <code>$or</code> while within <code>criteria1</code> clause the <code>$and</code> should be applied.</p>\n<p>The problem is that in MongoDB Java Driver 3.2 there is such no method and I get the <code>Cannot resolve method find(com.mongodb.DBObject)</code> error.</p>\n<p>How can I compose a query such as <code>(A &amp;&amp; B) || (X &amp;&amp; Y)</code> in MongoDB Java Driver 3.2?</p>\n"},{"tags":["java","json","encoding","utf-8","apache-commons-io"],"comments":[{"owner":{"account_id":4425499,"reputation":6084,"user_id":3604083,"display_name":"Yazan"},"score":0,"creation_date":1461505480,"post_id":36823851,"comment_id":61219108,"body_markdown":"if you log `jsonTxt` is it valid JSON?","body":"if you log <code>jsonTxt</code> is it valid JSON?"},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1461505615,"post_id":36823851,"comment_id":61219155,"body_markdown":"@Yazan, yes.At least `IDEA 2016.1` and `jsonlint.com` claim this.","body":"@Yazan, yes.At least <code>IDEA 2016.1</code> and <code>jsonlint.com</code> claim this."},{"owner":{"account_id":4425499,"reputation":6084,"user_id":3604083,"display_name":"Yazan"},"score":0,"creation_date":1461505869,"post_id":36823851,"comment_id":61219224,"body_markdown":"thats weird!  another note is `character 2 line 1` so what&#39;s the 1st character? is it some kind of invalid character (invisible maybe?), and another question, by `if I convert the file to ASCII` you mean convert the file encoding (save as) or just use other encoding name in your `readFileToString()` ?","body":"thats weird!  another note is <code>character 2 line 1</code> so what&#39;s the 1st character? is it some kind of invalid character (invisible maybe?), and another question, by <code>if I convert the file to ASCII</code> you mean convert the file encoding (save as) or just use other encoding name in your <code>readFileToString()</code> ?"},{"owner":{"account_id":1571066,"reputation":2177,"user_id":1458740,"display_name":"Ilya"},"score":1,"creation_date":1461508393,"post_id":36823851,"comment_id":61220094,"body_markdown":"I think you have a file encode in UTF-8 with BOM https://en.wikipedia.org/wiki/Byte_order_mark  try to convert file using Notepad++ or something similiar to UTF-8 without BOM.","body":"I think you have a file encode in UTF-8 with BOM <a href=\"https://en.wikipedia.org/wiki/Byte_order_mark\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Byte_order_mark</a>  try to convert file using Notepad++ or something similiar to UTF-8 without BOM."},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1461508432,"post_id":36823851,"comment_id":61220109,"body_markdown":"@Yazan, under `convert the file to ASCII` I mean `Save as` in notepad. BTW, of course, it&#39;s `ANSI` and not `ASCII`.","body":"@Yazan, under <code>convert the file to ASCII</code> I mean <code>Save as</code> in notepad. BTW, of course, it&#39;s <code>ANSI</code> and not <code>ASCII</code>."},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1461508744,"post_id":36823851,"comment_id":61220218,"body_markdown":"@Ilya, bingo! The problem was with `BOM`. Please, arrange your comment as an answer.","body":"@Ilya, bingo! The problem was with <code>BOM</code>. Please, arrange your comment as an answer."}],"answers":[{"tags":[],"owner":{"account_id":1571066,"reputation":2177,"user_id":1458740,"display_name":"Ilya"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1461508946,"creation_date":1461508946,"answer_id":36824567,"question_id":36823851,"body_markdown":"I think you have a file encode in [UTF-8 with BOM][1] try to convert file using Notepad++ or something similiar to UTF-8 without BOM\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Byte_order_mark","title":"JSON file processing error: A JSONArray text must start with &#39;[&#39; at 1 [character 2 line 1] when use file in UTF-8 encoding","body":"<p>I think you have a file encode in <a href=\"https://en.wikipedia.org/wiki/Byte_order_mark\" rel=\"nofollow\">UTF-8 with BOM</a> try to convert file using Notepad++ or something similiar to UTF-8 without BOM</p>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2154,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":36824567,"answer_count":1,"score":1,"last_activity_date":1669135533,"creation_date":1461504943,"question_id":36823851,"body_markdown":"I have a valid JSON-file. I want to read it into a memory as `JSONArray` object. \r\n\r\nIn order to do that I use the following code (powered by Apache Commons IO 2.5):\r\n\r\n```java\r\nString jsonTxt = FileUtils.readFileToString(new File(file.json), &quot;UTF-8&quot;);\r\nJSONArray itemsArr = new JSONArray(jsonTxt);\r\n```\r\n\r\nBut I get the error:\r\n\r\n```java\r\nException in thread &quot;main&quot; org.json.JSONException: A JSONArray text must start with &#39;[&#39; at 1 [character 2 line 1]\r\n\tat org.json.JSONTokener.syntaxError(JSONTokener.java:433)\r\n\tat org.json.JSONArray.&lt;init&gt;(JSONArray.java:106)\r\n\tat org.json.JSONArray.&lt;init&gt;(JSONArray.java:145)\r\n\tat myOrg.infomedia.dba.NewsSourcesData.loadNewsSourcesData(NewsSourcesData.java:39)\r\n\tat myOrg.infomedia.main.Main.main(Main.java:65)\r\n```\r\n\r\nAfter multiple checks, I found out that the root of the problem is the file encoding. If I provide a file in `UTF-8`, it throws exception, but if I convert the file to `ANSI` everything is working correctly.\r\n\r\nI&#39;m using `org.json` version *json-20160212.jar*.\r\n\r\nHow can I get `JSONArray` from my JSON-file in `UTF-8` encoding?","title":"JSON file processing error: A JSONArray text must start with &#39;[&#39; at 1 [character 2 line 1] when use file in UTF-8 encoding","body":"<p>I have a valid JSON-file. I want to read it into a memory as <code>JSONArray</code> object.</p>\n<p>In order to do that I use the following code (powered by Apache Commons IO 2.5):</p>\n<pre class=\"lang-java prettyprint-override\"><code>String jsonTxt = FileUtils.readFileToString(new File(file.json), &quot;UTF-8&quot;);\nJSONArray itemsArr = new JSONArray(jsonTxt);\n</code></pre>\n<p>But I get the error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Exception in thread &quot;main&quot; org.json.JSONException: A JSONArray text must start with '[' at 1 [character 2 line 1]\n    at org.json.JSONTokener.syntaxError(JSONTokener.java:433)\n    at org.json.JSONArray.&lt;init&gt;(JSONArray.java:106)\n    at org.json.JSONArray.&lt;init&gt;(JSONArray.java:145)\n    at myOrg.infomedia.dba.NewsSourcesData.loadNewsSourcesData(NewsSourcesData.java:39)\n    at myOrg.infomedia.main.Main.main(Main.java:65)\n</code></pre>\n<p>After multiple checks, I found out that the root of the problem is the file encoding. If I provide a file in <code>UTF-8</code>, it throws exception, but if I convert the file to <code>ANSI</code> everything is working correctly.</p>\n<p>I'm using <code>org.json</code> version <em>json-20160212.jar</em>.</p>\n<p>How can I get <code>JSONArray</code> from my JSON-file in <code>UTF-8</code> encoding?</p>\n"},{"tags":["java","tomcat","servlets","jackson","pom.xml"],"comments":[{"owner":{"account_id":13256684,"reputation":115,"user_id":9572517,"display_name":"Greg T."},"score":1,"creation_date":1530692372,"post_id":51168697,"comment_id":89320718,"body_markdown":"This sort of problem is usually caused by packaging issues with your code associated with the servlet engine classloader(s).  How is your code packaged when installed into the servlet engine?  Which servlet engine(s) are you using when you get the error?","body":"This sort of problem is usually caused by packaging issues with your code associated with the servlet engine classloader(s).  How is your code packaged when installed into the servlet engine?  Which servlet engine(s) are you using when you get the error?"},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1530693038,"post_id":51168697,"comment_id":89321082,"body_markdown":"@GregT., I&#39;m using Tomcat 8 to run a servlets. Servlet class and `PDFGenerator` class are located in different packages but with `public` access modifiers.","body":"@GregT., I&#39;m using Tomcat 8 to run a servlets. Servlet class and <code>PDFGenerator</code> class are located in different packages but with <code>public</code> access modifiers."}],"answers":[{"comments":[{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":1,"creation_date":1530706290,"post_id":51169615,"comment_id":89329481,"body_markdown":"Thanks for the link to the reference. The one-line solution is to copy all required JARs to the `/WEB-INF/lib` and restart Tomcat.","body":"Thanks for the link to the reference. The one-line solution is to copy all required JARs to the <code>&#47;WEB-INF&#47;lib</code> and restart Tomcat."},{"owner":{"account_id":13256684,"reputation":115,"user_id":9572517,"display_name":"Greg T."},"score":1,"creation_date":1530853087,"post_id":51169615,"comment_id":89387594,"body_markdown":"Yes, that will resolve the dependency. Just keep in mind that it&#39;s only a quick-fix. If you start running more servlets on the same Tomcat instance later, you could have dependency conflicts due to shared classloaders (unless you use a Webapp deployment).","body":"Yes, that will resolve the dependency. Just keep in mind that it&#39;s only a quick-fix. If you start running more servlets on the same Tomcat instance later, you could have dependency conflicts due to shared classloaders (unless you use a Webapp deployment)."}],"tags":[],"owner":{"account_id":13256684,"reputation":115,"user_id":9572517,"display_name":"Greg T."},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1530694446,"creation_date":1530694446,"answer_id":51169615,"question_id":51168697,"body_markdown":"This problem is almost certainly caused by classloaders within your servlet container (Tomcat 8.x) being unable to locate the library/JAR for Jackson. The way classes/libs are loaded within servlet containers is different than a standard classpath declaration from a standalone Java application. This is why you are seeing the error from the servlet engine but not during your direct execution of the class.  Here is the general documentation on how Tomcat 8.x handles classloading:\r\n\r\n[https://tomcat.apache.org/tomcat-8.0-doc/class-loader-howto.html][1]\r\n\r\nAs a general rule, to help prevent such issues in the first place, its a good idea to deploy your servlets within a &quot;webapp&quot; container including all required libraries (the appropriate versions of required JAR&#39;s, etc.).  Doing this isolates your servlets under a single classloader and automatically locates them in the correct hierarchy.  See this portion of the linked documentation:\r\n\r\n&gt; **WebappX** — A class loader is created for each web application that is deployed in a single Tomcat instance. All unpacked classes and resources in the /WEB-INF/classes directory of your web application, plus classes and resources in JAR files under the /WEB-INF/lib directory of your web application, are made visible to this web application, but not to other ones.\r\n\r\nFYI, there are other ways to do this with enterprise-class web applications, but we&#39;re not talking about that here.\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-8.0-doc/class-loader-howto.html","title":"Getting ClassNotFoundException: com.fasterxml.jackson.core.JsonProcessingException when calling Jackson JSON parser from a servlet","body":"<p>This problem is almost certainly caused by classloaders within your servlet container (Tomcat 8.x) being unable to locate the library/JAR for Jackson. The way classes/libs are loaded within servlet containers is different than a standard classpath declaration from a standalone Java application. This is why you are seeing the error from the servlet engine but not during your direct execution of the class.  Here is the general documentation on how Tomcat 8.x handles classloading:</p>\n\n<p><a href=\"https://tomcat.apache.org/tomcat-8.0-doc/class-loader-howto.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-8.0-doc/class-loader-howto.html</a></p>\n\n<p>As a general rule, to help prevent such issues in the first place, its a good idea to deploy your servlets within a \"webapp\" container including all required libraries (the appropriate versions of required JAR's, etc.).  Doing this isolates your servlets under a single classloader and automatically locates them in the correct hierarchy.  See this portion of the linked documentation:</p>\n\n<blockquote>\n  <p><strong>WebappX</strong> — A class loader is created for each web application that is deployed in a single Tomcat instance. All unpacked classes and resources in the /WEB-INF/classes directory of your web application, plus classes and resources in JAR files under the /WEB-INF/lib directory of your web application, are made visible to this web application, but not to other ones.</p>\n</blockquote>\n\n<p>FYI, there are other ways to do this with enterprise-class web applications, but we're not talking about that here.</p>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":576,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":51169615,"answer_count":1,"score":0,"last_activity_date":1669135401,"creation_date":1530691468,"question_id":51168697,"body_markdown":"I have a servlet, powered by Tomcat 8, which calls for a static method to perform JSON parsing with Jackson 2.9.6.\r\n\r\nDuring the code execution:\r\n\r\n```java\r\nJSONData parsedJSONData = PDFGenerator.parseJSONDocument(jsonDocument);\r\n```\r\n\r\nI get:\r\n\r\n```java\r\njava.lang.ClassNotFoundException: com.fasterxml.jackson.core.JsonProcessingException\r\n```\r\n\r\nIt&#39;s important to note, that servlet class and `PDFGenerator` class are located in different packages but with `public` access modifiers.\r\n\r\nI tried to add dependencies to the root of the project via *pom.xml*:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n    &lt;version&gt;2.9.6&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nbut it doesn&#39;t help.\r\n\r\nIn my project I&#39;m not using Maven, rather just added needed libraries via `classpath`.\r\n\r\nWhat&#39;s strange is that such exception appears only when I try to call `PDFGenerator.parseJSONDocument(jsonDocument)` from a servlet, execution from a regular Java-class works smoothly.\r\n\r\nWhat and where should I add in order to be able calling a static method with the JSON parser functionality based on a FasterXML/Jackson JSON library?","title":"Getting ClassNotFoundException: com.fasterxml.jackson.core.JsonProcessingException when calling Jackson JSON parser from a servlet","body":"<p>I have a servlet, powered by Tomcat 8, which calls for a static method to perform JSON parsing with Jackson 2.9.6.</p>\n<p>During the code execution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JSONData parsedJSONData = PDFGenerator.parseJSONDocument(jsonDocument);\n</code></pre>\n<p>I get:</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.lang.ClassNotFoundException: com.fasterxml.jackson.core.JsonProcessingException\n</code></pre>\n<p>It's important to note, that servlet class and <code>PDFGenerator</code> class are located in different packages but with <code>public</code> access modifiers.</p>\n<p>I tried to add dependencies to the root of the project via <em>pom.xml</em>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n    &lt;version&gt;2.9.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>but it doesn't help.</p>\n<p>In my project I'm not using Maven, rather just added needed libraries via <code>classpath</code>.</p>\n<p>What's strange is that such exception appears only when I try to call <code>PDFGenerator.parseJSONDocument(jsonDocument)</code> from a servlet, execution from a regular Java-class works smoothly.</p>\n<p>What and where should I add in order to be able calling a static method with the JSON parser functionality based on a FasterXML/Jackson JSON library?</p>\n"},{"tags":["java","apache","project","package","directory-structure"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1531483596,"post_id":51324282,"comment_id":89624404,"body_markdown":"This is because now not `src` but `main` and `test` are the java source folders. I personally would switch to the **maven** convention, start wit a maven project: src/main/java and src/test/java and likewise src/main/resources and src/test/resources. Maven already is well integrated in all IDEs. For now set the source folders in eclipse appropriately (or make a maven project).","body":"This is because now not <code>src</code> but <code>main</code> and <code>test</code> are the java source folders. I personally would switch to the <b>maven</b> convention, start wit a maven project: src/main/java and src/test/java and likewise src/main/resources and src/test/resources. Maven already is well integrated in all IDEs. For now set the source folders in eclipse appropriately (or make a maven project)."},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1531483891,"post_id":51324282,"comment_id":89624571,"body_markdown":"@JoopEggen, do I understand it correctly that in order specify a new java source folder I have to define `pom.xml`?","body":"@JoopEggen, do I understand it correctly that in order specify a new java source folder I have to define <code>pom.xml</code>?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1531485459,"post_id":51324282,"comment_id":89625511,"body_markdown":"Yes, as: File / New &gt; / Project ... / Maven / Maven Project.","body":"Yes, as: File / New &gt; / Project ... / Maven / Maven Project."}],"answers":[{"comments":[{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1531485255,"post_id":51325094,"comment_id":89625388,"body_markdown":"Thanks for the response. Since this specific project is kind of legacy code without any Maven integration, which is still in use in production, I would like to reduce a changes to just some settings in `pom.xml` without adding Maven integration it self.","body":"Thanks for the response. Since this specific project is kind of legacy code without any Maven integration, which is still in use in production, I would like to reduce a changes to just some settings in <code>pom.xml</code> without adding Maven integration it self."},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1531492006,"post_id":51325094,"comment_id":89629977,"body_markdown":"Maven integration is only something you need if you want this to be picked up automatically in Eclipse. To make the Maven build work, you just need to put your source in the default locations (`src/main/java` for example) and the build will pick it up if you run for example `mvn clean install` on the command line in the project root dir.","body":"Maven integration is only something you need if you want this to be picked up automatically in Eclipse. To make the Maven build work, you just need to put your source in the default locations (<code>src&#47;main&#47;java</code> for example) and the build will pick it up if you run for example <code>mvn clean install</code> on the command line in the project root dir."}],"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1531484848,"creation_date":1531484848,"answer_id":51325094,"question_id":51324282,"body_markdown":"You can do it in the pom.xml but you can also edit the project in Eclipse and define the source folders there\r\n\r\nI noticed you actually misread the Apache standard structure, it follows the Maven convention `src/main/java` etc so I would use that. Then, if you use some form of Maven-Eclipse integration the source folders should automatically be set correctly by default. I used to do that with `mvn eclipse:eclipse` (using the eclipse-maven-plugin) but that&#39;s a long time ago - I use Intellij now. I&#39;m guessing by now Eclipse picks up the source path from Maven automatically.","title":"Separate code to main and test branches under `src` folder without changing packages names","body":"<p>You can do it in the pom.xml but you can also edit the project in Eclipse and define the source folders there</p>\n\n<p>I noticed you actually misread the Apache standard structure, it follows the Maven convention <code>src/main/java</code> etc so I would use that. Then, if you use some form of Maven-Eclipse integration the source folders should automatically be set correctly by default. I used to do that with <code>mvn eclipse:eclipse</code> (using the eclipse-maven-plugin) but that's a long time ago - I use Intellij now. I'm guessing by now Eclipse picks up the source path from Maven automatically.</p>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":51325094,"answer_count":1,"score":0,"last_activity_date":1669135385,"creation_date":1531481922,"question_id":51324282,"body_markdown":"I would like to adopt an [Apache Software Foundation&#39;s standard directory structure][1] to already existing project, which is:\r\n\r\n```\r\nmodule/\r\n  src/\r\n    main/\r\n      java/\r\n        com.mycompany...\r\n    test/\r\n      java/\r\n        com.mycompany...\r\n```\r\n\r\nThe issue is that after moving the sources from `src/com.mycompany`to `src/main/java/com.mycompany` and `src/test/java/com.mycompany` the IDE (Eclipse) returns a warning and proposes to rename the packages from `com.mycompany` to `main.java.com.mycompany` and `test.java.com.mycompany` respectively.\r\n\r\n**Important note:**  \r\nSince this is a legacy project without any Maven integration, but which is still in use in production, I would like to reduce a changes to the project as much as possible but still separate the code on production and unit test code.\r\n\r\nIs there any way to avoid packages renaming in all source-files but still to use Apache&#39;s source directory structure?\r\n\r\n  [1]: http://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html","title":"Separate code to main and test branches under `src` folder without changing packages names","body":"<p>I would like to adopt an <a href=\"http://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html\" rel=\"nofollow noreferrer\">Apache Software Foundation's standard directory structure</a> to already existing project, which is:</p>\n<pre><code>module/\n  src/\n    main/\n      java/\n        com.mycompany...\n    test/\n      java/\n        com.mycompany...\n</code></pre>\n<p>The issue is that after moving the sources from <code>src/com.mycompany</code>to <code>src/main/java/com.mycompany</code> and <code>src/test/java/com.mycompany</code> the IDE (Eclipse) returns a warning and proposes to rename the packages from <code>com.mycompany</code> to <code>main.java.com.mycompany</code> and <code>test.java.com.mycompany</code> respectively.</p>\n<p><strong>Important note:</strong><br />\nSince this is a legacy project without any Maven integration, but which is still in use in production, I would like to reduce a changes to the project as much as possible but still separate the code on production and unit test code.</p>\n<p>Is there any way to avoid packages renaming in all source-files but still to use Apache's source directory structure?</p>\n"},{"tags":["java","generics","casting","jls","parameterization"],"comments":[{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1669121542,"post_id":74532578,"comment_id":131567564,"body_markdown":"Excellently asked :) Putting the effort into asking a question properly is to be commended.","body":"Excellently asked :) Putting the effort into asking a question properly is to be commended."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1669122003,"post_id":74532578,"comment_id":131567757,"body_markdown":"There’s a logical error in your reasoning. If the specification says “if X then an error occurs”, it does not imply that “if not X then no error occurs”. Your code still has to obey the other, not cited rules. Besides that, *S* is `S_intrf` and `S_intrf` is not a parameterized type.","body":"There’s a logical error in your reasoning. If the specification says “if X then an error occurs”, it does not imply that “if not X then no error occurs”. Your code still has to obey the other, not cited rules. Besides that, <i>S</i> is <code>S_intrf</code> and <code>S_intrf</code> is not a parameterized type."}],"answers":[{"comments":[{"owner":{"account_id":16188208,"reputation":493,"user_id":11687703,"display_name":"theutonium.18"},"score":0,"creation_date":1669124021,"post_id":74533018,"comment_id":131568501,"body_markdown":"I understand this part that on removing generics - as you demo-ed in your example - the rules clearly breach the JLS and so compile error is caused. Even my example may not be the correct representation of what JLS wants to convey in that clause.","body":"I understand this part that on removing generics - as you demo-ed in your example - the rules clearly breach the JLS and so compile error is caused. Even my example may not be the correct representation of what JLS wants to convey in that clause."},{"owner":{"account_id":16188208,"reputation":493,"user_id":11687703,"display_name":"theutonium.18"},"score":0,"creation_date":1669124126,"post_id":74533018,"comment_id":131568546,"body_markdown":"But what I want to understand is - that what is the hierarchy that JLS wants to demonstrate - that will follow the rule that it states above to be allowed for preventing compiler error during cast when (S : INTERFACE -&gt; T final class) in the above setting.?","body":"But what I want to understand is - that what is the hierarchy that JLS wants to demonstrate - that will follow the rule that it states above to be allowed for preventing compiler error during cast when (S : INTERFACE -&gt; T final class) in the above setting.?"},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1669124232,"post_id":74533018,"comment_id":131568595,"body_markdown":"If the generics part interests you, then come up with a different example. The compiler hasn&#39;t even looked at the generics part here, whatsoever - it sees the problem with the types itself and stops looking at it.","body":"If the generics part interests you, then come up with a different example. The compiler hasn&#39;t even looked at the generics part here, whatsoever - it sees the problem with the types itself and stops looking at it."},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1669124293,"post_id":74533018,"comment_id":131568615,"body_markdown":"The quote from the JLS is presumably about e.g. casting a `List&lt;T&gt;` (T being a typevar) to `List&lt;String&gt;` (String being a reified type), or casting `List` (raw type).","body":"The quote from the JLS is presumably about e.g. casting a <code>List&lt;T&gt;</code> (T being a typevar) to <code>List&lt;String&gt;</code> (String being a reified type), or casting <code>List</code> (raw type)."},{"owner":{"account_id":16188208,"reputation":493,"user_id":11687703,"display_name":"theutonium.18"},"score":0,"creation_date":1669124902,"post_id":74533018,"comment_id":131568845,"body_markdown":"Based on your comments - this is what I figured out: ```class Scratch {\n  public static void main(String[] args) {\n    G&lt;String&gt; S = new S_clss&lt;String&gt;();\n    T_clss&lt;String&gt; T = (T_clss&lt;String&gt;) S;\n  }\n}\ninterface G&lt;T&gt; {}\nclass S_clss&lt;T&gt; implements G&lt;T&gt; {}\nfinal class T_clss&lt;T&gt; implements G&lt;T&gt; {}```","body":"Based on your comments - this is what I figured out: <code>class Scratch {   public static void main(String[] args) {     G&lt;String&gt; S = new S_clss&lt;String&gt;();     T_clss&lt;String&gt; T = (T_clss&lt;String&gt;) S;   } } interface G&lt;T&gt; {} class S_clss&lt;T&gt; implements G&lt;T&gt; {} final class T_clss&lt;T&gt; implements G&lt;T&gt; {}</code>"},{"owner":{"account_id":16188208,"reputation":493,"user_id":11687703,"display_name":"theutonium.18"},"score":0,"creation_date":1669124954,"post_id":74533018,"comment_id":131568861,"body_markdown":"This seems to satisfy the clause of JLS. Please update your answer accordingly so that I can accept it :)","body":"This seems to satisfy the clause of JLS. Please update your answer accordingly so that I can accept it :)"},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1669135122,"post_id":74533018,"comment_id":131573172,"body_markdown":"Edited it somewhat; I hope that clarifies matters.","body":"Edited it somewhat; I hope that clarifies matters."}],"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669135112,"creation_date":1669121962,"answer_id":74533018,"question_id":74532578,"body_markdown":"You&#39;ve overcomplicated matters. Let&#39;s first ditch the generics:\r\n\r\n```java\r\nclass Scratch {\r\n  public static void main(String[] args) {\r\n    S_intrf S = new S_clss();\r\n    T_clss T = (T_clss) S;\r\n  }\r\n}\r\n\r\ninterface G {}\r\n\r\ninterface S_intrf extends G {}\r\nclass S_clss implements S_intrf {}\r\n\r\ninterface X extends G {}\r\nfinal class T_clss implements X {}\r\n```\r\n\r\nand try to compile that, which produces the exact same error. Hence the generics don&#39;t matter and just muddy the waters. They do not explain this error.\r\n\r\nAs you can see from your own diagram you made, there is an exclusionary principle at work:\r\n\r\n* There is some unknown type; this is the _actual_ type of the object that expression `S` resolves to.\r\n* We do know a few things about this unknown type; we know it __has to be__ an object (because it&#39;s a reference variable), and that object has `S_intrf` in its type hierarchy. After all, if that wasn&#39;t the case, we could never get here; the JVM does not let you assign a reference to an object that isn&#39;t to variable `S`, given that it is declared as being of type `S_intrf`. This is an absolute guarantee: You can&#39;t make `javac` compile code so that this doesn&#39;t hold, and if you try to use bytecode manipulation shenanigans, the verifier will refuse to load the class.\r\n\r\nGiven that knowledge, we can surmise one more thing: This unknown type, whatever it might be, __cannot possibly be `T_clss` or any subtype of it__. We know this because `T_clss` is final (therefore, no subtype of it can exist), _and_, it does not itself implement `S_intrf`.\r\n\r\nHence, the cast will necessarily fail, it can&#39;t not. And in the Java Lang Spec, there&#39;s a rule that says the compiler must reject such a situation with a compile time error.\r\n\r\nWe can &#39;prove&#39; this by reading the JLS, but I&#39;ll leave that as an exercise to the reader. A more pragmatic way to show this truly is the answer, is to simply remove the `final`. Now, it _does_ compile! If you then run it, you get, as expected, a `ClassCastException`.\r\n\r\nWithout `final`, one could write e.g. `class Example extends T_clss implements S_intrf {}` and now we have a type such that an instance of this could _both_ [A] be referred to by variable `S`, and [B] can be cast to `T_clss`.\r\n\r\nBy the rules of JLS, the fact that a code analyser can trivially figure out that variable `S` in fact refers to an instance of `S_clss()` is __not__ taken into consideration. The rules of the analysis that leads to &#39;oh, the analyser says this code will always fail, therefore refuse to compile it&#39; is set in stone, spelled out by the JLS, and a compiler must adhere to it exactly.\r\n\r\n\r\n----\r\n\r\nThe &#167;5.5.1 clause is most likely referring to the fact that you can use the cast operation to make assertions about the stuff in the generics part; you can for example do:\r\n\r\n```\r\nList&lt;Object&gt; foo = ...;\r\nList&lt;String&gt; bar = (List&lt;String&gt;) foo;\r\n```\r\n\r\nThis compiles, with a warning, as the java compiler is not going to generate any code or give you any guarantees that the list in fact only contains strings. &#167;5.5.1 is talking about casts where the non-generics part is useless (e.g. casting an expression of type `List` to `List`, which is obviously pointless), but the generics part is relevant - e.g. the above snippet.\r\n","title":"Rule for Cast operator validity when Interface held type is converted to a final class Type according to JLS","body":"<p>You've overcomplicated matters. Let's first ditch the generics:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Scratch {\n  public static void main(String[] args) {\n    S_intrf S = new S_clss();\n    T_clss T = (T_clss) S;\n  }\n}\n\ninterface G {}\n\ninterface S_intrf extends G {}\nclass S_clss implements S_intrf {}\n\ninterface X extends G {}\nfinal class T_clss implements X {}\n</code></pre>\n<p>and try to compile that, which produces the exact same error. Hence the generics don't matter and just muddy the waters. They do not explain this error.</p>\n<p>As you can see from your own diagram you made, there is an exclusionary principle at work:</p>\n<ul>\n<li>There is some unknown type; this is the <em>actual</em> type of the object that expression <code>S</code> resolves to.</li>\n<li>We do know a few things about this unknown type; we know it <strong>has to be</strong> an object (because it's a reference variable), and that object has <code>S_intrf</code> in its type hierarchy. After all, if that wasn't the case, we could never get here; the JVM does not let you assign a reference to an object that isn't to variable <code>S</code>, given that it is declared as being of type <code>S_intrf</code>. This is an absolute guarantee: You can't make <code>javac</code> compile code so that this doesn't hold, and if you try to use bytecode manipulation shenanigans, the verifier will refuse to load the class.</li>\n</ul>\n<p>Given that knowledge, we can surmise one more thing: This unknown type, whatever it might be, <strong>cannot possibly be <code>T_clss</code> or any subtype of it</strong>. We know this because <code>T_clss</code> is final (therefore, no subtype of it can exist), <em>and</em>, it does not itself implement <code>S_intrf</code>.</p>\n<p>Hence, the cast will necessarily fail, it can't not. And in the Java Lang Spec, there's a rule that says the compiler must reject such a situation with a compile time error.</p>\n<p>We can 'prove' this by reading the JLS, but I'll leave that as an exercise to the reader. A more pragmatic way to show this truly is the answer, is to simply remove the <code>final</code>. Now, it <em>does</em> compile! If you then run it, you get, as expected, a <code>ClassCastException</code>.</p>\n<p>Without <code>final</code>, one could write e.g. <code>class Example extends T_clss implements S_intrf {}</code> and now we have a type such that an instance of this could <em>both</em> [A] be referred to by variable <code>S</code>, and [B] can be cast to <code>T_clss</code>.</p>\n<p>By the rules of JLS, the fact that a code analyser can trivially figure out that variable <code>S</code> in fact refers to an instance of <code>S_clss()</code> is <strong>not</strong> taken into consideration. The rules of the analysis that leads to 'oh, the analyser says this code will always fail, therefore refuse to compile it' is set in stone, spelled out by the JLS, and a compiler must adhere to it exactly.</p>\n<hr />\n<p>The §5.5.1 clause is most likely referring to the fact that you can use the cast operation to make assertions about the stuff in the generics part; you can for example do:</p>\n<pre><code>List&lt;Object&gt; foo = ...;\nList&lt;String&gt; bar = (List&lt;String&gt;) foo;\n</code></pre>\n<p>This compiles, with a warning, as the java compiler is not going to generate any code or give you any guarantees that the list in fact only contains strings. §5.5.1 is talking about casts where the non-generics part is useless (e.g. casting an expression of type <code>List</code> to <code>List</code>, which is obviously pointless), but the generics part is relevant - e.g. the above snippet.</p>\n"}],"owner":{"account_id":16188208,"reputation":493,"user_id":11687703,"display_name":"theutonium.18"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74533018,"answer_count":1,"score":2,"last_activity_date":1669135112,"creation_date":1669119833,"question_id":74532578,"body_markdown":"Consider the following clause of JLS 8 [&#167;5.5.1](https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.5.1)\r\n\r\n&gt; Blockquote\r\n&gt; If S is an interface type:\r\n&gt;\r\n&gt; ...\r\n&gt;\r\n&gt; &gt; If T is a class type that is final, then:\r\n&gt; &gt; \r\n&gt; &gt; ...\r\n&gt; &gt;\r\n&gt; &gt; &gt; – Otherwise, S is either a parameterized type that is an invocation of some\r\ngeneric type declaration G, or a raw type corresponding to a generic type\r\ndeclaration G. Then there must exist a supertype X of T, such that X is an\r\ninvocation of G, or a compile-time error occurs.\r\n\r\nHere is the code example I tried to frame based on my understanding:\r\n```java\r\nclass Scratch {\r\n  public static void main(String[] args) {\r\n    S_intrf S = new S_clss();\r\n    T_clss T = (T_clss) S;\r\n  }\r\n}\r\n\r\ninterface G&lt;T&gt; {}\r\n\r\ninterface S_intrf extends G&lt;String&gt; {}\r\nclass S_clss implements S_intrf {}\r\n\r\ninterface X extends G&lt;String&gt; {}\r\nfinal class T_clss implements X {}\r\n```\r\n**The diagram shows what I tried to implement in the example:** \r\n[![enter image description here][1]][1]\r\n\r\n- Here the `interface G&lt;&gt;` is the generic super type that is being used to generate other types based on the clause:\r\n- **Not sure why I am getting compilation error at that section?** \r\n- In the `S -&gt; T` conversion - my target type is Parameterized type and final type which is complying all the rules that JLS mentions for validity of the cast operation.\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JyoRs.png\r\n\r\n\r\n","title":"Rule for Cast operator validity when Interface held type is converted to a final class Type according to JLS","body":"<p>Consider the following clause of JLS 8 <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.5.1\" rel=\"nofollow noreferrer\">§5.5.1</a></p>\n<blockquote>\n<p>Blockquote\nIf S is an interface type:</p>\n<p>...</p>\n<blockquote>\n<p>If T is a class type that is final, then:</p>\n<p>...</p>\n<blockquote>\n<p>– Otherwise, S is either a parameterized type that is an invocation of some\ngeneric type declaration G, or a raw type corresponding to a generic type\ndeclaration G. Then there must exist a supertype X of T, such that X is an\ninvocation of G, or a compile-time error occurs.</p>\n</blockquote>\n</blockquote>\n</blockquote>\n<p>Here is the code example I tried to frame based on my understanding:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Scratch {\n  public static void main(String[] args) {\n    S_intrf S = new S_clss();\n    T_clss T = (T_clss) S;\n  }\n}\n\ninterface G&lt;T&gt; {}\n\ninterface S_intrf extends G&lt;String&gt; {}\nclass S_clss implements S_intrf {}\n\ninterface X extends G&lt;String&gt; {}\nfinal class T_clss implements X {}\n</code></pre>\n<p><strong>The diagram shows what I tried to implement in the example:</strong>\n<a href=\"https://i.stack.imgur.com/JyoRs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JyoRs.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li>Here the <code>interface G&lt;&gt;</code> is the generic super type that is being used to generate other types based on the clause:</li>\n<li><strong>Not sure why I am getting compilation error at that section?</strong></li>\n<li>In the <code>S -&gt; T</code> conversion - my target type is Parameterized type and final type which is complying all the rules that JLS mentions for validity of the cast operation.</li>\n</ul>\n"},{"tags":["java","concurrency","akka","actor"],"answers":[{"comments":[{"owner":{"account_id":931736,"reputation":155,"user_id":961502,"accept_rate":40,"display_name":"jdh961502"},"score":1,"creation_date":1669139229,"post_id":74536087,"comment_id":131574663,"body_markdown":"Much of that explanation makes sense. I can see how using Akka for an event sourced system would make sense. I&#39;ve rolled my own solutions in the past and it is not as trivial as it first seems. Leaving persistence optimisations and concurrency control to Akka  and being less reliant on the transactional and locking aspects of an underlying database is quite tempting.","body":"Much of that explanation makes sense. I can see how using Akka for an event sourced system would make sense. I&#39;ve rolled my own solutions in the past and it is not as trivial as it first seems. Leaving persistence optimisations and concurrency control to Akka  and being less reliant on the transactional and locking aspects of an underlying database is quite tempting."}],"tags":[],"owner":{"account_id":5994994,"reputation":19189,"user_id":5641244,"display_name":"Levi Ramsey"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669134921,"creation_date":1669134921,"answer_id":74536087,"question_id":74530132,"body_markdown":"The actor model really helps with managing in-memory state and dramatically simplifies patterns/techniques like digital twins and memory image through the concurrency aspects.\r\n\r\nThere are other benefits: communication and latency being explicit in the model facilitating distribution is a major one... the closer an application is to a pure actor model the more able one is to present many replicas as one application with the attendant resiliency benefits.  There&#39;s also a failure-handling story (distinct from error-handling: they&#39;re rather distinct) which has a long history in building reliable systems.\r\n\r\nBut for the &quot;backend business apps&quot; you&#39;re talking about, where (from the talk of bounded contexts etc.) it seems you&#39;re following at least some DDD patterns, being able to keep state in memory is a pretty big win.\r\n\r\nConsider a DDD aggregate noting that all access to the entities within that aggregate is through its root and noting that an aggregate forms a consistency boundary.  These both conform well to the actor model: the model&#39;s concurrency guarantees only hold when the actor&#39;s internal state is only accessible via the actor and the consistency boundary is trivially satisfied by encoding operations on the aggregate as messages/commands to the actor and relying on the one-message-at-a-time processing.  So it&#39;s reasonable to model each instance of an aggregate as an actor.\r\n\r\nFor simplicity, I&#39;m going to assume (without loss of generality, but the one-aggregate-multiple-entity case introduces some complexity around preserving an illusion to the outside of one-message-at-a-time: the broad approach there in Akka terms is to map the aggregate to a sharded entity (there is a terminological mismatch...) and the entities in the aggregate to (likely persistent) child actors of that entity) that the aggregate contains a single entity.\r\n\r\nA request comes in, we resolve the aggregate root for the request, and we have a `Map&lt;AggregateRoot, ActorRef&lt;AggregateCommand&gt;&gt;` (I&#39;m using the typed API here, and we can assume that the map is concurrent) tracking the active in-memory instances of the aggregate.  If there&#39;s already an instance in memory, we translate the request into an `AggregateCommand` and send it to the actor (we&#39;ll probably be using the ask pattern so that we can return a different response for whether the command was accepted or rejected); if there isn&#39;t already an instance in memory, we&#39;ll spawn one and save it in the map before proceeding as before.\r\n\r\nAs a direct translation of the old logic, our aggregate actor will on every command load state for its entity from the DB, verify that certain invariants hold, process the command to update the in-memory state, persist that updated state and raise an event (presumably some sort of transactional outbox pattern is in use, otherwise there will be situations where no event was actually raised even though the state was updated...).\r\n\r\nIt&#39;s not clear what strategy you&#39;re taking with respect to concurrent command execution (I&#39;ll ignore event sourcing for the moment).  Perhaps you&#39;re able to encode all of your domain constraints in your database schema (letting the database take care of concurrency), which is great (we should all be so lucky!), though having the rules of the domain spread between our code and our DB schema introduces a potential point-of-conflict and means some category of changes to those rules requires a schema migration and all of that pain.  Alternatively, some optimistic concurrency control might be at work: if a concurrent update has gone through, we might go back to reload from the DB and onwards.\r\n\r\nBecause the actor and the concurrent `Map` combine to guard against concurrent modification (we&#39;ve basically introduced pessimistic concurrency control), we can persist under the assumption of no concurrency, thus not paying a concurrency tax.  Likewise, we can dispense with loading the entity from the DB and verifying that invariants hold with every message: as long as there&#39;s at most one actor for this instance of the aggregate active at any one time and only such an actor updates the DB (and the command processing upholds the invariants, which you&#39;d really hope was the case before), it suffices to load the entity into memory when the actor starts up and use the same in-memory state from command to command.  You&#39;re basically declaring the in-memory representation the source-of-truth with the DB representation only there for durability, and you&#39;ve also created a single-source-of-truth for the domain logic and constraints.  As a side benefit, you&#39;ve eliminated a majority of your DB load under concurrency (reads, DB concurrency resolution, retries under concurrency).\r\n\r\nThis sounds complex, but there are pre-existing implementations of this pattern: the concurrent `Map` is provided by Akka Cluster Sharding (note that a cluster of 1 node is perfectly acceptable) and I&#39;ve basically just described Akka Persistence&#39;s `DurableStateBehavior` API.\r\n\r\nNote that we&#39;ve dramatically shifted the DB&#39;s workload: it&#39;s gone from a basically 1 read:1 write to 1 read:_n_ writes (_n_ &gt;= 1).  You can now tune the DB for writes, especially if you&#39;re doing CQRS (and if you&#39;re publishing domain events for other bounded contexts, you&#39;re doing at least some CQRS already).  Shifting to event sourcing (e.g. Akka Persistence&#39;s `EventSourcedBehavior`), if done with fine-grained events, reduces the cost of the writes at the expense of the reads (since the events only concern part of the entity and can be small while reading a snapshot and then many events almost surely is more expensive than reading the whole state once), this optimization magnifies the benefits of our new write-heavy workload.\r\n\r\n(Disclaimer: I&#39;m employed by Lightbend, which is the primary developer of Akka, but this is the same answer I&#39;d give even before that employment)","title":"Does the Actor Model make most sense when dealing with concurrent in-memory state","body":"<p>The actor model really helps with managing in-memory state and dramatically simplifies patterns/techniques like digital twins and memory image through the concurrency aspects.</p>\n<p>There are other benefits: communication and latency being explicit in the model facilitating distribution is a major one... the closer an application is to a pure actor model the more able one is to present many replicas as one application with the attendant resiliency benefits.  There's also a failure-handling story (distinct from error-handling: they're rather distinct) which has a long history in building reliable systems.</p>\n<p>But for the &quot;backend business apps&quot; you're talking about, where (from the talk of bounded contexts etc.) it seems you're following at least some DDD patterns, being able to keep state in memory is a pretty big win.</p>\n<p>Consider a DDD aggregate noting that all access to the entities within that aggregate is through its root and noting that an aggregate forms a consistency boundary.  These both conform well to the actor model: the model's concurrency guarantees only hold when the actor's internal state is only accessible via the actor and the consistency boundary is trivially satisfied by encoding operations on the aggregate as messages/commands to the actor and relying on the one-message-at-a-time processing.  So it's reasonable to model each instance of an aggregate as an actor.</p>\n<p>For simplicity, I'm going to assume (without loss of generality, but the one-aggregate-multiple-entity case introduces some complexity around preserving an illusion to the outside of one-message-at-a-time: the broad approach there in Akka terms is to map the aggregate to a sharded entity (there is a terminological mismatch...) and the entities in the aggregate to (likely persistent) child actors of that entity) that the aggregate contains a single entity.</p>\n<p>A request comes in, we resolve the aggregate root for the request, and we have a <code>Map&lt;AggregateRoot, ActorRef&lt;AggregateCommand&gt;&gt;</code> (I'm using the typed API here, and we can assume that the map is concurrent) tracking the active in-memory instances of the aggregate.  If there's already an instance in memory, we translate the request into an <code>AggregateCommand</code> and send it to the actor (we'll probably be using the ask pattern so that we can return a different response for whether the command was accepted or rejected); if there isn't already an instance in memory, we'll spawn one and save it in the map before proceeding as before.</p>\n<p>As a direct translation of the old logic, our aggregate actor will on every command load state for its entity from the DB, verify that certain invariants hold, process the command to update the in-memory state, persist that updated state and raise an event (presumably some sort of transactional outbox pattern is in use, otherwise there will be situations where no event was actually raised even though the state was updated...).</p>\n<p>It's not clear what strategy you're taking with respect to concurrent command execution (I'll ignore event sourcing for the moment).  Perhaps you're able to encode all of your domain constraints in your database schema (letting the database take care of concurrency), which is great (we should all be so lucky!), though having the rules of the domain spread between our code and our DB schema introduces a potential point-of-conflict and means some category of changes to those rules requires a schema migration and all of that pain.  Alternatively, some optimistic concurrency control might be at work: if a concurrent update has gone through, we might go back to reload from the DB and onwards.</p>\n<p>Because the actor and the concurrent <code>Map</code> combine to guard against concurrent modification (we've basically introduced pessimistic concurrency control), we can persist under the assumption of no concurrency, thus not paying a concurrency tax.  Likewise, we can dispense with loading the entity from the DB and verifying that invariants hold with every message: as long as there's at most one actor for this instance of the aggregate active at any one time and only such an actor updates the DB (and the command processing upholds the invariants, which you'd really hope was the case before), it suffices to load the entity into memory when the actor starts up and use the same in-memory state from command to command.  You're basically declaring the in-memory representation the source-of-truth with the DB representation only there for durability, and you've also created a single-source-of-truth for the domain logic and constraints.  As a side benefit, you've eliminated a majority of your DB load under concurrency (reads, DB concurrency resolution, retries under concurrency).</p>\n<p>This sounds complex, but there are pre-existing implementations of this pattern: the concurrent <code>Map</code> is provided by Akka Cluster Sharding (note that a cluster of 1 node is perfectly acceptable) and I've basically just described Akka Persistence's <code>DurableStateBehavior</code> API.</p>\n<p>Note that we've dramatically shifted the DB's workload: it's gone from a basically 1 read:1 write to 1 read:<em>n</em> writes (<em>n</em> &gt;= 1).  You can now tune the DB for writes, especially if you're doing CQRS (and if you're publishing domain events for other bounded contexts, you're doing at least some CQRS already).  Shifting to event sourcing (e.g. Akka Persistence's <code>EventSourcedBehavior</code>), if done with fine-grained events, reduces the cost of the writes at the expense of the reads (since the events only concern part of the entity and can be small while reading a snapshot and then many events almost surely is more expensive than reading the whole state once), this optimization magnifies the benefits of our new write-heavy workload.</p>\n<p>(Disclaimer: I'm employed by Lightbend, which is the primary developer of Akka, but this is the same answer I'd give even before that employment)</p>\n"}],"owner":{"account_id":931736,"reputation":155,"user_id":961502,"accept_rate":40,"display_name":"jdh961502"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669134921,"creation_date":1669108654,"question_id":74530132,"body_markdown":"I&#39;ve been looking into the Actor Model and Akka of late. As an OOP programmer I try to adhere to loose coupling and &#39;tell don&#39;t ask&#39;. I also use messaging and events to communicate between bounded contexts. So, the patterns of actors make a lot of sense to me.\r\n\r\nIt is my understanding that the main motivation for using Actors is for managing state in a concurrent environment. Most of my day to day work involves writing backend business apps where the typical pattern is load an entity from a DB, check invariants, process a command, persist, raise event. If I have a high load and a lot of concurrent changes I might choose to use Event Sourcing rather than updating a database. So really my concurrency challenges are taken care of by my database layer.\r\n\r\nSo, my question is, is the Actor Model mainly an advantage where you dealing with fast changing, concurrent and in-memory state management such as an online multi player game.\r\n\r\n\r\n\r\n","title":"Does the Actor Model make most sense when dealing with concurrent in-memory state","body":"<p>I've been looking into the Actor Model and Akka of late. As an OOP programmer I try to adhere to loose coupling and 'tell don't ask'. I also use messaging and events to communicate between bounded contexts. So, the patterns of actors make a lot of sense to me.</p>\n<p>It is my understanding that the main motivation for using Actors is for managing state in a concurrent environment. Most of my day to day work involves writing backend business apps where the typical pattern is load an entity from a DB, check invariants, process a command, persist, raise event. If I have a high load and a lot of concurrent changes I might choose to use Event Sourcing rather than updating a database. So really my concurrency challenges are taken care of by my database layer.</p>\n<p>So, my question is, is the Actor Model mainly an advantage where you dealing with fast changing, concurrent and in-memory state management such as an online multi player game.</p>\n"},{"tags":["java","encryption","aes"],"comments":[{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":2,"creation_date":1646909702,"post_id":71422498,"comment_id":126242412,"body_markdown":"You must of course concatenate the return values of the `update()` and `doFinal()` calls. In the current case the return value of the `update()` call is simply ignored.","body":"You must of course concatenate the return values of the <code>update()</code> and <code>doFinal()</code> calls. In the current case the return value of the <code>update()</code> call is simply ignored."},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1646909848,"post_id":71422498,"comment_id":126242458,"body_markdown":"For a plaintext smaller than a block it works, because `update()` returns nothing for this case, but only `doFinal()`. See the functionality of [`update()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/javax/crypto/Cipher.html#update(byte%5B%5D)) and [`final()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/javax/crypto/Cipher.html#doFinal(byte%5B%5D)).","body":"For a plaintext smaller than a block it works, because <code>update()</code> returns nothing for this case, but only <code>doFinal()</code>. See the functionality of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/javax/crypto/Cipher.html#update(byte%5B%5D)\" rel=\"nofollow noreferrer\"><code>update()</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/javax/crypto/Cipher.html#doFinal(byte%5B%5D)\" rel=\"nofollow noreferrer\"><code>final()</code></a>."},{"owner":{"account_id":23843683,"reputation":3,"user_id":17848437,"display_name":"PeterJ"},"score":0,"creation_date":1669280805,"post_id":71422498,"comment_id":131610366,"body_markdown":"Sorry Topaco - thanks for your clarifications by the way.","body":"Sorry Topaco - thanks for your clarifications by the way."}],"answers":[{"comments":[{"owner":{"account_id":23843683,"reputation":3,"user_id":17848437,"display_name":"PeterJ"},"score":0,"creation_date":1669279543,"post_id":74536086,"comment_id":131609925,"body_markdown":"Nice :-) \nSorry cant give you a thumbs up on this... too low of a reputation score :-)\nI will have a look at your updated code. Thanks for sharing.","body":"Nice :-)  Sorry cant give you a thumbs up on this... too low of a reputation score :-) I will have a look at your updated code. Thanks for sharing."}],"tags":[],"owner":{"account_id":1714642,"reputation":687,"user_id":1571996,"accept_rate":28,"display_name":"Michael Remijan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669134920,"creation_date":1669134920,"answer_id":74536086,"question_id":71422498,"body_markdown":"I have updated my original blog post to fix the error Peter found. \r\n\r\nhttps://mjremijan.blogspot.com/2017/12/choosing-java-cryptographic-algorithms_22.html\r\n\r\nFor demonstration purposes, I made my `Aes` class abstract with two new concrete classes which extend it: \r\n\r\n 1. [AesUsingSinglePartEncryption.java](https://github.com/mjremijan/thoth-cryptography/blob/master/thoth-cryptography-03-encryption-symmetric-aes256/src/main/java/org/thoth/crypto/symmetric/AesUsingSinglePartEncryption.java) - Demonstrates the single-part encryption operation, which uses a single call to `Cipher#doFinal(byte[])` to get the encrypted bytes.\r\n2. [AesUsingMultiplePartEncryption.java](https://github.com/mjremijan/thoth-cryptography/blob/master/thoth-cryptography-03-encryption-symmetric-aes256/src/main/java/org/thoth/crypto/symmetric/AesUsingMultiplePartEncryption.java) - Demonstrates the multiple-part encryption operation which makes multiple calls to `Cipher#update(byte[])` and then a final call to `Cipher#doFinal()`. All the encrypted bytes are store along the way and returned after the call to `Cipher#doFinal()`.\r\n\r\nThis solves the problem and demonstrates two different ways of using `Cipher` to get encrypted bytes. \r\n\r\n","title":"javax.crypto.AEADBadTagException: Tag mismatch! when password.length &gt;= 16","body":"<p>I have updated my original blog post to fix the error Peter found.</p>\n<p><a href=\"https://mjremijan.blogspot.com/2017/12/choosing-java-cryptographic-algorithms_22.html\" rel=\"nofollow noreferrer\">https://mjremijan.blogspot.com/2017/12/choosing-java-cryptographic-algorithms_22.html</a></p>\n<p>For demonstration purposes, I made my <code>Aes</code> class abstract with two new concrete classes which extend it:</p>\n<ol>\n<li><a href=\"https://github.com/mjremijan/thoth-cryptography/blob/master/thoth-cryptography-03-encryption-symmetric-aes256/src/main/java/org/thoth/crypto/symmetric/AesUsingSinglePartEncryption.java\" rel=\"nofollow noreferrer\">AesUsingSinglePartEncryption.java</a> - Demonstrates the single-part encryption operation, which uses a single call to <code>Cipher#doFinal(byte[])</code> to get the encrypted bytes.</li>\n<li><a href=\"https://github.com/mjremijan/thoth-cryptography/blob/master/thoth-cryptography-03-encryption-symmetric-aes256/src/main/java/org/thoth/crypto/symmetric/AesUsingMultiplePartEncryption.java\" rel=\"nofollow noreferrer\">AesUsingMultiplePartEncryption.java</a> - Demonstrates the multiple-part encryption operation which makes multiple calls to <code>Cipher#update(byte[])</code> and then a final call to <code>Cipher#doFinal()</code>. All the encrypted bytes are store along the way and returned after the call to <code>Cipher#doFinal()</code>.</li>\n</ol>\n<p>This solves the problem and demonstrates two different ways of using <code>Cipher</code> to get encrypted bytes.</p>\n"}],"owner":{"account_id":23843683,"reputation":3,"user_id":17848437,"display_name":"PeterJ"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3970,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74536086,"answer_count":1,"score":0,"last_activity_date":1669134920,"creation_date":1646907650,"question_id":71422498,"body_markdown":"I am newbie in regards to AES encryption/decryption. \r\nI found the following nice article from Michael Remijan \r\nhttps://www.javacodegeeks.com/2017/12/choosing-java-cryptographic-algorithms-part-2-single-key-symmetric-encryption.html\r\n\r\nI have tried the example tests, and it runs just fine whith smaller length passwords.\r\nHowever when I change the length of the message (password) string to a length &gt;= 16 it fails with the following exception.\r\n\r\n    javax.crypto.AEADBadTagException: Tag mismatch!\r\n    \r\n    at com.sun.crypto.provider.GaloisCounterMode.decryptFinal(GaloisCounterMode.java:578)\r\n    at com.sun.crypto.provider.CipherCore.finalNoPadding(CipherCore.java:1049)\r\n    at com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:985)\r\n    at com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:847)\r\n    at com.sun.crypto.provider.AESCipher.engineDoFinal(AESCipher.java:446)\r\n    at javax.crypto.Cipher.doFinal(Cipher.java:2047)\r\n\r\nI have contacted Michael about this issue, yet he does not currently know why this behaviour occurs.\r\n\r\nHowever I recently just found a fix for this but I unfortunately do not understand why. I hope you guys can help here :-)\r\n\r\nThe fix looks like this and is to be found in the encrypt method of the Aes class.\r\nThe original encrypt method in the Aes class (from the article) contains the following : \r\n\r\n    public byte[] encrypt(String message, Optional&lt;String&gt; aad) {\r\n    ......\r\n    // Add message to encrypt\r\n    c.update(message.getBytes(&quot;UTF-8&quot;));\r\n          \r\n    // Encrypt\r\n    byte[] encryptedBytes = c.doFinal();\r\n    //....\r\n\r\nI changed it to this :\r\n\r\n    public byte[] encrypt(String message, Optional&lt;String&gt; aad) {\r\n    .....\r\n    // Add message to encrypt\r\n    // REMOVE THIS c.update(message.getBytes(&quot;UTF-8&quot;));\r\n            \r\n    // Encrypt\r\n    byte[] encryptedBytes = c.doFinal(message.getBytes(&quot;UTF-8&quot;));\r\n    .....\r\n\r\n     \r\n\r\nand it works :-) but why ?\r\n\r\nThanks alot.\r\n\r\n\r\n\r\n","title":"javax.crypto.AEADBadTagException: Tag mismatch! when password.length &gt;= 16","body":"<p>I am newbie in regards to AES encryption/decryption.\nI found the following nice article from Michael Remijan\n<a href=\"https://www.javacodegeeks.com/2017/12/choosing-java-cryptographic-algorithms-part-2-single-key-symmetric-encryption.html\" rel=\"nofollow noreferrer\">https://www.javacodegeeks.com/2017/12/choosing-java-cryptographic-algorithms-part-2-single-key-symmetric-encryption.html</a></p>\n<p>I have tried the example tests, and it runs just fine whith smaller length passwords.\nHowever when I change the length of the message (password) string to a length &gt;= 16 it fails with the following exception.</p>\n<pre><code>javax.crypto.AEADBadTagException: Tag mismatch!\n\nat com.sun.crypto.provider.GaloisCounterMode.decryptFinal(GaloisCounterMode.java:578)\nat com.sun.crypto.provider.CipherCore.finalNoPadding(CipherCore.java:1049)\nat com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:985)\nat com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:847)\nat com.sun.crypto.provider.AESCipher.engineDoFinal(AESCipher.java:446)\nat javax.crypto.Cipher.doFinal(Cipher.java:2047)\n</code></pre>\n<p>I have contacted Michael about this issue, yet he does not currently know why this behaviour occurs.</p>\n<p>However I recently just found a fix for this but I unfortunately do not understand why. I hope you guys can help here :-)</p>\n<p>The fix looks like this and is to be found in the encrypt method of the Aes class.\nThe original encrypt method in the Aes class (from the article) contains the following :</p>\n<pre><code>public byte[] encrypt(String message, Optional&lt;String&gt; aad) {\n......\n// Add message to encrypt\nc.update(message.getBytes(&quot;UTF-8&quot;));\n      \n// Encrypt\nbyte[] encryptedBytes = c.doFinal();\n//....\n</code></pre>\n<p>I changed it to this :</p>\n<pre><code>public byte[] encrypt(String message, Optional&lt;String&gt; aad) {\n.....\n// Add message to encrypt\n// REMOVE THIS c.update(message.getBytes(&quot;UTF-8&quot;));\n        \n// Encrypt\nbyte[] encryptedBytes = c.doFinal(message.getBytes(&quot;UTF-8&quot;));\n.....\n\n \n</code></pre>\n<p>and it works :-) but why ?</p>\n<p>Thanks alot.</p>\n"},{"tags":["java","google-cloud-platform","vert.x","google-cloud-bigtable"],"comments":[{"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"score":1,"creation_date":1669187957,"post_id":74531305,"comment_id":131584948,"body_markdown":"Have you considered generating a Vert.x client with vertx-grpc ? See https://vertx.io/docs/vertx-grpc/java/#_stub_api_2 and https://github.com/vert-x3/vertx-examples/blob/4.x/grpc-examples/src/main/java/io/vertx/example/grpc/empty/ClientWithStub.java","body":"Have you considered generating a Vert.x client with vertx-grpc ? See <a href=\"https://vertx.io/docs/vertx-grpc/java/#_stub_api_2\" rel=\"nofollow noreferrer\">vertx.io/docs/vertx-grpc/java/#_stub_api_2</a> and <a href=\"https://github.com/vert-x3/vertx-examples/blob/4.x/grpc-examples/src/main/java/io/vertx/example/grpc/empty/ClientWithStub.java\" rel=\"nofollow noreferrer\">github.com/vert-x3/vertx-examples/blob/4.x/grpc-examples/src&zwnj;&#8203;/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6552130,"reputation":896,"user_id":5066169,"accept_rate":80,"display_name":"Dharmvir Tiwari"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669134698,"creation_date":1669134698,"answer_id":74536040,"question_id":74531305,"body_markdown":"The block was due to the bigtable client being created in a normal vertical which blocks the event loop when making the call. Moving the instantiation of the client to a worker vertical solved the issue.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rOk5m.png\r\n\r\nHere the worker vertical should manage the lifecycle of any blocking third party libraries.","title":"GCP Bigtable client with Vert.X blocking out","body":"<p>The block was due to the bigtable client being created in a normal vertical which blocks the event loop when making the call. Moving the instantiation of the client to a worker vertical solved the issue.</p>\n<p><a href=\"https://i.stack.imgur.com/rOk5m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rOk5m.png\" alt=\"enter image description here\" /></a></p>\n<p>Here the worker vertical should manage the lifecycle of any blocking third party libraries.</p>\n"}],"owner":{"account_id":6552130,"reputation":896,"user_id":5066169,"accept_rate":80,"display_name":"Dharmvir Tiwari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669134698,"creation_date":1669113787,"question_id":74531305,"body_markdown":"I am using Vert.X and Bigtable client library provided by GCP. The call for querying data is made from a worker pool/executeBlocking. But the AsyncResult which i receive is null and after a while warning logs gets printed for the worked thread being blocked for too long.\r\n\r\nGradle Dependencies:\r\n\r\n```\r\nobject Versions {\r\n  const val protobuf = &quot;3.20.1&quot;\r\n  const val bigtable = &quot;2.5.3&quot;\r\n}\r\n\r\ndependencies {\r\n  apply(plugin = &quot;io.freefair.lombok&quot;)\r\n\r\n  implementation(&quot;com.google.protobuf&quot;, &quot;protobuf-java&quot;, Versions.protobuf)\r\n  implementation(&quot;com.google.cloud&quot;, &quot;google-cloud-bigtable&quot;, Versions.bigtable)\r\n// https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind\r\n  implementation(&quot;com.fasterxml.jackson.core:jackson-databind:2.14.0&quot;)\r\n  compileOnly(&quot;org.projectlombok:lombok&quot;)\r\n  annotationProcessor(&quot;org.projectlombok:lombok&quot;)\r\n  implementation(platform(&quot;io.vertx:vertx-stack-depchain:$vertxVersion&quot;))\r\n  implementation(&quot;org.slf4j:slf4j-api:1.7.+&quot;)\r\n  implementation(&quot;ch.qos.logback:logback-classic:1.2.+&quot;)\r\n  implementation(&quot;io.vertx:vertx-config&quot;)\r\n  implementation(&quot;io.vertx:vertx-web&quot;)\r\n  implementation(&quot;io.vertx:vertx-micrometer-metrics&quot;)\r\n  implementation(&quot;io.vertx:vertx-opentracing&quot;)\r\n  testImplementation(&quot;io.vertx:vertx-junit5&quot;)\r\n  testImplementation(&quot;org.junit.jupiter:junit-jupiter:$junitJupiterVersion&quot;)\r\n}\r\n```\r\n\r\n\r\n&gt; Bigtable API call:\r\n\r\n```\r\nvertx.&lt;Row&gt;executeBlocking(t-&gt;{\r\n      var row=dataClient.readRow(TABLE_ID,&quot;1234#DATA&quot;);\r\n      t.complete(row);\r\n    }).onComplete(r-&gt;{\r\n      log.info(&quot;Result&quot;+r.result());\r\n    });\r\n```\r\n\r\nBelow are the logs:\r\n11:36:46.376 [vert.x-worker-thread-1] INFO  StateRepository - StateRepository being deployed\r\n\r\n11:36:46.379 [vert.x-worker-thread-1] INFO  StateRepository - Resultnull\r\n\r\nI am thinking that Bigtable client creates an executor internally to handle the connection and is not using the worked thread pool under which it was initialised. But it might be something else altogether","title":"GCP Bigtable client with Vert.X blocking out","body":"<p>I am using Vert.X and Bigtable client library provided by GCP. The call for querying data is made from a worker pool/executeBlocking. But the AsyncResult which i receive is null and after a while warning logs gets printed for the worked thread being blocked for too long.</p>\n<p>Gradle Dependencies:</p>\n<pre><code>object Versions {\n  const val protobuf = &quot;3.20.1&quot;\n  const val bigtable = &quot;2.5.3&quot;\n}\n\ndependencies {\n  apply(plugin = &quot;io.freefair.lombok&quot;)\n\n  implementation(&quot;com.google.protobuf&quot;, &quot;protobuf-java&quot;, Versions.protobuf)\n  implementation(&quot;com.google.cloud&quot;, &quot;google-cloud-bigtable&quot;, Versions.bigtable)\n// https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind\n  implementation(&quot;com.fasterxml.jackson.core:jackson-databind:2.14.0&quot;)\n  compileOnly(&quot;org.projectlombok:lombok&quot;)\n  annotationProcessor(&quot;org.projectlombok:lombok&quot;)\n  implementation(platform(&quot;io.vertx:vertx-stack-depchain:$vertxVersion&quot;))\n  implementation(&quot;org.slf4j:slf4j-api:1.7.+&quot;)\n  implementation(&quot;ch.qos.logback:logback-classic:1.2.+&quot;)\n  implementation(&quot;io.vertx:vertx-config&quot;)\n  implementation(&quot;io.vertx:vertx-web&quot;)\n  implementation(&quot;io.vertx:vertx-micrometer-metrics&quot;)\n  implementation(&quot;io.vertx:vertx-opentracing&quot;)\n  testImplementation(&quot;io.vertx:vertx-junit5&quot;)\n  testImplementation(&quot;org.junit.jupiter:junit-jupiter:$junitJupiterVersion&quot;)\n}\n</code></pre>\n<blockquote>\n<p>Bigtable API call:</p>\n</blockquote>\n<pre><code>vertx.&lt;Row&gt;executeBlocking(t-&gt;{\n      var row=dataClient.readRow(TABLE_ID,&quot;1234#DATA&quot;);\n      t.complete(row);\n    }).onComplete(r-&gt;{\n      log.info(&quot;Result&quot;+r.result());\n    });\n</code></pre>\n<p>Below are the logs:\n11:36:46.376 [vert.x-worker-thread-1] INFO  StateRepository - StateRepository being deployed</p>\n<p>11:36:46.379 [vert.x-worker-thread-1] INFO  StateRepository - Resultnull</p>\n<p>I am thinking that Bigtable client creates an executor internally to handle the connection and is not using the worked thread pool under which it was initialised. But it might be something else altogether</p>\n"},{"tags":["java","reflection","java-17"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":4,"creation_date":1669133884,"post_id":74535107,"comment_id":131572659,"body_markdown":"`lambda`&#39;s class is a [hidden class](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Class.html#isHidden()) and the [documentation](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/reflect/Field.html#set(java.lang.Object,java.lang.Object)) of `set()` states: &quot;If the underlying field is final, this Field object has write access if and only if the following conditions are met:  ... the field&#39;s declaring class is not a hidden class ... If any of the above checks is not met, this method throws an IllegalAccessException&quot;","body":"<code>lambda</code>&#39;s class is a <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Class.html#isHidden()\" rel=\"nofollow noreferrer\">hidden class</a> and the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/reflect/Field.html#set(java.lang.Object,java.lang.Object)\" rel=\"nofollow noreferrer\">documentation</a> of <code>set()</code> states: &quot;If the underlying field is final, this Field object has write access if and only if the following conditions are met:  ... the field&#39;s declaring class is not a hidden class ... If any of the above checks is not met, this method throws an IllegalAccessException&quot;"},{"owner":{"account_id":1416522,"reputation":91374,"user_id":3553087,"display_name":"Brian Goetz"},"score":10,"creation_date":1669146888,"post_id":74535107,"comment_id":131577088,"body_markdown":"It is not &quot;supposed&quot; to work in Java 11, either; you just managed to get away with it by luck, and your luck ran out.  What reason do you even have to believe that the first field returned by `getDeclaredFields` corresponds to any captured value, let alone the one you think, let alone to think that by rewriting it you can predictably change the behavior of the lambda?  You relied heavily on questionable assumptions about the implementation details of the translation scheme.  This is exactly what you&#39;re not supposed to do, and this is why.","body":"It is not &quot;supposed&quot; to work in Java 11, either; you just managed to get away with it by luck, and your luck ran out.  What reason do you even have to believe that the first field returned by <code>getDeclaredFields</code> corresponds to any captured value, let alone the one you think, let alone to think that by rewriting it you can predictably change the behavior of the lambda?  You relied heavily on questionable assumptions about the implementation details of the translation scheme.  This is exactly what you&#39;re not supposed to do, and this is why."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1669204033,"post_id":74535107,"comment_id":131590207,"body_markdown":"The reasoning about this feature is similar to what has been said in [this answer](https://stackoverflow.com/a/71051688/2711488) about `record` fields. Serialization doesn’t store the lambda’s internal representation and cloning isn’t supported, so there is no reason to support overwriting `final` fields.","body":"The reasoning about this feature is similar to what has been said in <a href=\"https://stackoverflow.com/a/71051688/2711488\">this answer</a> about <code>record</code> fields. Serialization doesn’t store the lambda’s internal representation and cloning isn’t supported, so there is no reason to support overwriting <code>final</code> fields."}],"answers":[{"tags":[],"owner":{"account_id":13343141,"reputation":515,"user_id":9630748,"display_name":"Arnault Le Pr&#233;vost-Corvellec"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1669134509,"creation_date":1669134509,"answer_id":74535988,"question_id":74535107,"body_markdown":"Short answer : no you can&#39;t doing that this way\r\n\r\nExplanation : I don&#39;t test if on previsous version of java this can work but in j17 i am sur you can&#39;t : the lambda you use is basicaly something close of an innerClass and your are trying to edit the class in which this as been declare and that reference done by using a class pattern that is in the jvm. by the way the message is quite explicite the reference is a final one so no set will be allowed.\r\n\r\nmay be a solution will be to change le lambda as a Biconsumer\r\n```java \r\nBiConsumer&lt;LambdaArg1ReflectionTest,String&gt; lambda = (o,s) -&gt; o.parseInt(s, 7);\r\n```\r\nthis way you can specify the object on which apply your fonction including a stub.","title":"Java 17 reflection: assign the &quot;this&quot; reference of a lambda object","body":"<p>Short answer : no you can't doing that this way</p>\n<p>Explanation : I don't test if on previsous version of java this can work but in j17 i am sur you can't : the lambda you use is basicaly something close of an innerClass and your are trying to edit the class in which this as been declare and that reference done by using a class pattern that is in the jvm. by the way the message is quite explicite the reference is a final one so no set will be allowed.</p>\n<p>may be a solution will be to change le lambda as a Biconsumer</p>\n<pre class=\"lang-java prettyprint-override\"><code>BiConsumer&lt;LambdaArg1ReflectionTest,String&gt; lambda = (o,s) -&gt; o.parseInt(s, 7);\n</code></pre>\n<p>this way you can specify the object on which apply your fonction including a stub.</p>\n"}],"owner":{"account_id":7016426,"reputation":101,"user_id":5377597,"display_name":"tsoiland"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":333,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1669134509,"creation_date":1669130849,"question_id":74535107,"body_markdown":"This code runs fine in java 11.\r\n\r\n    package test;\r\n    \r\n    import org.junit.Assert;\r\n    import org.junit.Test;\r\n    \r\n    import java.lang.reflect.Field;\r\n    import java.util.function.Consumer;\r\n    \r\n    public class LambdaArg1ReflectionTest {\r\n        @Test\r\n        public void test() throws IllegalAccessException {\r\n            // Create a lambda with reference to parent class (this)\r\n            Consumer&lt;String&gt; lambda = s -&gt; this.parseInt(s, 7);\r\n    \r\n            // Get the value from the lambdas &quot;this&quot; reference\r\n            Field lambda_arg1_field = lambda.getClass().getDeclaredFields()[0];\r\n            lambda_arg1_field.setAccessible(true);\r\n            Object lambda_arg1_value = lambda_arg1_field.get(lambda);\r\n            // Assert that the value is as we expected\r\n            Assert.assertEquals(this, lambda_arg1_value);\r\n    \r\n            // Attempt to assign the same value\r\n            lambda_arg1_field.set(lambda, lambda_arg1_value);\r\n        }\r\n    \r\n        private int parseInt(String s, int i) {\r\n            return Integer.parseInt(s + i);\r\n        }\r\n    }\r\nBut, in java 17 it throws an exception:\r\n\r\n        java.lang.IllegalAccessException: Can not set final test.LambdaArg1ReflectionTest field test.LambdaArg1ReflectionTest$$Lambda$40/0x0000000800c191a8.arg$1 to test.LambdaArg1ReflectionTest\r\n    \r\n        at java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwFinalFieldIllegalAccessException(UnsafeFieldAccessorImpl.java:76)\r\n        at java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwFinalFieldIllegalAccessException(UnsafeFieldAccessorImpl.java:80)\r\n        at java.base/jdk.internal.reflect.UnsafeQualifiedObjectFieldAccessorImpl.set(UnsafeQualifiedObjectFieldAccessorImpl.java:79)\r\n        at java.base/java.lang.reflect.Field.set(Field.java:799)\r\n        at test.LambdaArg1ReflectionTest.test(LambdaArg1ReflectionTest.java:23)\r\n\r\n- Why?\r\n- Is it not supposed to work in java 17?\r\n- Is there any way to work around this?\r\n\r\nObviously this is an example. What the real code attempts to do is to replace the lambdas this reference with a spy object, invoke the lambda and then capture the arguments given to this.parseInt. Ultimately what it does is to serialize the first method invocation of a lambda.\r\n","title":"Java 17 reflection: assign the &quot;this&quot; reference of a lambda object","body":"<p>This code runs fine in java 11.</p>\n<pre><code>package test;\n\nimport org.junit.Assert;\nimport org.junit.Test;\n\nimport java.lang.reflect.Field;\nimport java.util.function.Consumer;\n\npublic class LambdaArg1ReflectionTest {\n    @Test\n    public void test() throws IllegalAccessException {\n        // Create a lambda with reference to parent class (this)\n        Consumer&lt;String&gt; lambda = s -&gt; this.parseInt(s, 7);\n\n        // Get the value from the lambdas &quot;this&quot; reference\n        Field lambda_arg1_field = lambda.getClass().getDeclaredFields()[0];\n        lambda_arg1_field.setAccessible(true);\n        Object lambda_arg1_value = lambda_arg1_field.get(lambda);\n        // Assert that the value is as we expected\n        Assert.assertEquals(this, lambda_arg1_value);\n\n        // Attempt to assign the same value\n        lambda_arg1_field.set(lambda, lambda_arg1_value);\n    }\n\n    private int parseInt(String s, int i) {\n        return Integer.parseInt(s + i);\n    }\n}\n</code></pre>\n<p>But, in java 17 it throws an exception:</p>\n<pre><code>    java.lang.IllegalAccessException: Can not set final test.LambdaArg1ReflectionTest field test.LambdaArg1ReflectionTest$$Lambda$40/0x0000000800c191a8.arg$1 to test.LambdaArg1ReflectionTest\n\n    at java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwFinalFieldIllegalAccessException(UnsafeFieldAccessorImpl.java:76)\n    at java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwFinalFieldIllegalAccessException(UnsafeFieldAccessorImpl.java:80)\n    at java.base/jdk.internal.reflect.UnsafeQualifiedObjectFieldAccessorImpl.set(UnsafeQualifiedObjectFieldAccessorImpl.java:79)\n    at java.base/java.lang.reflect.Field.set(Field.java:799)\n    at test.LambdaArg1ReflectionTest.test(LambdaArg1ReflectionTest.java:23)\n</code></pre>\n<ul>\n<li>Why?</li>\n<li>Is it not supposed to work in java 17?</li>\n<li>Is there any way to work around this?</li>\n</ul>\n<p>Obviously this is an example. What the real code attempts to do is to replace the lambdas this reference with a spy object, invoke the lambda and then capture the arguments given to this.parseInt. Ultimately what it does is to serialize the first method invocation of a lambda.</p>\n"},{"tags":["java","cucumber","cucumber-java"],"answers":[{"tags":[],"owner":{"account_id":7081386,"reputation":95,"user_id":5419683,"display_name":"krisc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669133962,"creation_date":1669133962,"answer_id":74535856,"question_id":74460096,"body_markdown":"Maybe you can rewrite the Gherkin Steps in a way that is not conditional. And within the step that is where you can write the condition as an if-else statement.\r\n```\r\nScenario: --\r\n  Given --\r\n  When User logs into application\r\n  Then navigate to fetch button\r\n\r\n--\r\n\r\n@Then(&#39;navigate to fetch button&#39;)\r\n  // check the element\r\n  // add an if-else statement\r\n```","title":"How to skip cucmber steps if certain condition matched","body":"<p>Maybe you can rewrite the Gherkin Steps in a way that is not conditional. And within the step that is where you can write the condition as an if-else statement.</p>\n<pre><code>Scenario: --\n  Given --\n  When User logs into application\n  Then navigate to fetch button\n\n--\n\n@Then('navigate to fetch button')\n  // check the element\n  // add an if-else statement\n</code></pre>\n"}],"owner":{"account_id":3756894,"reputation":49,"user_id":3123056,"display_name":"Johny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1669133962,"creation_date":1668600029,"question_id":74460096,"body_markdown":"In cucumber with java i am writing a test case, where in one step i am looking for one web element.\r\nIf this web element is not found then i want to skip all the steps below this and also wants to mark this scenario as pass.\r\n\r\nHow to do that ?\r\n\r\nWhen User logs into application\r\nThen check if element is present (if this web element is not present then skip below steps)\r\nThen navigate to Queue page\r\nThen click on Fetch button","title":"How to skip cucmber steps if certain condition matched","body":"<p>In cucumber with java i am writing a test case, where in one step i am looking for one web element.\nIf this web element is not found then i want to skip all the steps below this and also wants to mark this scenario as pass.</p>\n<p>How to do that ?</p>\n<p>When User logs into application\nThen check if element is present (if this web element is not present then skip below steps)\nThen navigate to Queue page\nThen click on Fetch button</p>\n"},{"tags":["java","jboss7.x","resteasy","jboss6.x","jersey-1.0"],"comments":[{"owner":{"account_id":1162076,"reputation":93,"user_id":1141387,"display_name":"wattale"},"score":0,"creation_date":1603344324,"post_id":64469030,"comment_id":114008546,"body_markdown":"What CDI implementation are you using ?","body":"What CDI implementation are you using ?"},{"owner":{"account_id":19791748,"reputation":11,"user_id":14494618,"display_name":"proceso"},"score":0,"creation_date":1603344379,"post_id":64469030,"comment_id":114008559,"body_markdown":"I&#39;m using resteasy-cdi library version 3.9.3.SP1","body":"I&#39;m using resteasy-cdi library version 3.9.3.SP1"}],"owner":{"account_id":19791748,"reputation":11,"user_id":14494618,"display_name":"proceso"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":403,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669133941,"creation_date":1603302425,"question_id":64469030,"body_markdown":"Recently i migrated a jboss eap 6.4 application to jboss eap 7.3. \r\n\r\nThe application uses resteasy and jersey(1.9.1) for some service implementations. \r\n\r\nSince resteasy is automatically loaded by jboss, i have excluded that from the deployment using the following confis in jboss-deployment-structure.xml \r\n\r\n    &lt;exclusions&gt;\r\n\t\t\t&lt;module name=&quot;org.jboss.resteasy.resteasy-atom-provider&quot; /&gt;\r\n            &lt;module name=&quot;org.jboss.resteasy.resteasy-cdi&quot; /&gt;\r\n            &lt;module name=&quot;org.jboss.resteasy.resteasy-jaxrs&quot; /&gt;\r\n            &lt;module name=&quot;org.jboss.resteasy.resteasy-jaxb-provider&quot; /&gt;\r\n            &lt;module name=&quot;org.jboss.resteasy.resteasy-jackson-provider&quot; /&gt;\r\n            &lt;module name=&quot;org.jboss.resteasy.resteasy-jsapi&quot; /&gt;\r\n            &lt;module name=&quot;org.jboss.resteasy.resteasy-multipart-provider&quot; /&gt;\r\n            &lt;module name=&quot;org.jboss.resteasy.async-http-servlet-30&quot; /&gt;\r\n\t\t\t&lt;module name=&quot;org.apache.httpcomponents&quot; /&gt;\t\t\t\r\n\t&lt;/exclusions&gt;\r\n\r\nAlso following parameters are set in the REST service war file web.xml \r\n\r\n    &lt;context-param&gt;\r\n\t\t&lt;param-name&gt;resteasy.scan&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;false&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\t&lt;context-param&gt;\r\n\t\t&lt;param-name&gt;resteasy.scan.providers&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;false&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\t&lt;context-param&gt;\r\n\t\t&lt;param-name&gt;resteasy.scan.resources&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;false&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\r\nWhat I can not figure out is, i&#39;m getting this following error \r\n\r\n        22 Oct 2020 01:01:49,354 ERROR [org.jboss.msc.service.fail] - MSC000001: Failed to start service jboss.deployment.subunit.&quot;xxxxxx_0.ear&quot;.&quot;xxxREST.war&quot;.undertow-deployment\r\n    org.jboss.msc.service.StartException in service jboss.deployment.subunit.&quot;xxxxxx_0.ear&quot;.&quot;xxxREST.war&quot;.undertow-deployment: java.lang.RuntimeException: Initialized Extension not found\r\n    \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:81)\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n    \tat org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)\r\n    \tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n    \tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    \tat org.jboss.threads.JBossThread.run(JBossThread.java:485)\r\n    Caused by: java.lang.RuntimeException: Initialized Extension not found\r\n    \tat com.sun.jersey.server.impl.cdi.CDIExtension.getInitializedExtensionFromBeanManager(CDIExtension.java:196)\r\n    \tat com.sun.jersey.server.impl.cdi.CDIComponentProviderFactory.&lt;init&gt;(CDIComponentProviderFactory.java:93)\r\n    \tat com.sun.jersey.server.impl.cdi.CDIComponentProviderFactoryInitializer.initialize(CDIComponentProviderFactoryInitializer.java:76)\r\n    \tat com.sun.jersey.spi.container.servlet.WebComponent.configure(WebComponent.java:572)\r\n    \tat com.sun.jersey.spi.container.servlet.ServletContainer$InternalWebComponent.configure(ServletContainer.java:332)\r\n    \tat com.sun.jersey.spi.container.servlet.WebComponent.load(WebComponent.java:604)\r\n    \tat com.sun.jersey.spi.container.servlet.WebComponent.init(WebComponent.java:207)\r\n    \tat com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:394)\r\n    \tat com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:577)\r\n    \tat javax.servlet.GenericServlet.init(GenericServlet.java:180)\r\n    \tat io.undertow.servlet.core.LifecyleInterceptorInvocation.proceed(LifecyleInterceptorInvocation.java:117)\r\n    \tat org.wildfly.extension.undertow.security.RunAsLifecycleInterceptor.init(RunAsLifecycleInterceptor.java:78)\r\n    \tat io.undertow.servlet.core.LifecyleInterceptorInvocation.proceed(LifecyleInterceptorInvocation.java:103)\r\n    \tat io.undertow.servlet.core.ManagedServlet$DefaultInstanceStrategy.start(ManagedServlet.java:305)\r\n    \tat io.undertow.servlet.core.ManagedServlet.createServlet(ManagedServlet.java:145)\r\n    \tat io.undertow.servlet.core.DeploymentManagerImpl$2.call(DeploymentManagerImpl.java:585)\r\n    \tat io.undertow.servlet.core.DeploymentManagerImpl$2.call(DeploymentManagerImpl.java:556)\r\n    \tat io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)\r\n    \tat io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n    \tat org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\r\n    \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1541)\r\n    \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1541)\r\n    \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1541)\r\n    \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1541)\r\n    \tat io.undertow.servlet.core.DeploymentManagerImpl.start(DeploymentManagerImpl.java:598)\r\n    \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:97)\r\n    \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:78)\r\n    \t... 8 more\r\n\r\n\r\nI would really appreciate if someone can give me some tips to solve this problem :) ","title":"Jersey error after migrating EAR from Jboss EAP 6.4 to Jboss EAP 7.3","body":"<p>Recently i migrated a jboss eap 6.4 application to jboss eap 7.3.</p>\n<p>The application uses resteasy and jersey(1.9.1) for some service implementations.</p>\n<p>Since resteasy is automatically loaded by jboss, i have excluded that from the deployment using the following confis in jboss-deployment-structure.xml</p>\n<pre><code>&lt;exclusions&gt;\n        &lt;module name=&quot;org.jboss.resteasy.resteasy-atom-provider&quot; /&gt;\n        &lt;module name=&quot;org.jboss.resteasy.resteasy-cdi&quot; /&gt;\n        &lt;module name=&quot;org.jboss.resteasy.resteasy-jaxrs&quot; /&gt;\n        &lt;module name=&quot;org.jboss.resteasy.resteasy-jaxb-provider&quot; /&gt;\n        &lt;module name=&quot;org.jboss.resteasy.resteasy-jackson-provider&quot; /&gt;\n        &lt;module name=&quot;org.jboss.resteasy.resteasy-jsapi&quot; /&gt;\n        &lt;module name=&quot;org.jboss.resteasy.resteasy-multipart-provider&quot; /&gt;\n        &lt;module name=&quot;org.jboss.resteasy.async-http-servlet-30&quot; /&gt;\n        &lt;module name=&quot;org.apache.httpcomponents&quot; /&gt;         \n&lt;/exclusions&gt;\n</code></pre>\n<p>Also following parameters are set in the REST service war file web.xml</p>\n<pre><code>&lt;context-param&gt;\n    &lt;param-name&gt;resteasy.scan&lt;/param-name&gt;\n    &lt;param-value&gt;false&lt;/param-value&gt;\n&lt;/context-param&gt;\n&lt;context-param&gt;\n    &lt;param-name&gt;resteasy.scan.providers&lt;/param-name&gt;\n    &lt;param-value&gt;false&lt;/param-value&gt;\n&lt;/context-param&gt;\n&lt;context-param&gt;\n    &lt;param-name&gt;resteasy.scan.resources&lt;/param-name&gt;\n    &lt;param-value&gt;false&lt;/param-value&gt;\n&lt;/context-param&gt;\n</code></pre>\n<p>What I can not figure out is, i'm getting this following error</p>\n<pre><code>    22 Oct 2020 01:01:49,354 ERROR [org.jboss.msc.service.fail] - MSC000001: Failed to start service jboss.deployment.subunit.&quot;xxxxxx_0.ear&quot;.&quot;xxxREST.war&quot;.undertow-deployment\norg.jboss.msc.service.StartException in service jboss.deployment.subunit.&quot;xxxxxx_0.ear&quot;.&quot;xxxREST.war&quot;.undertow-deployment: java.lang.RuntimeException: Initialized Extension not found\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:81)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n    at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n    at java.lang.Thread.run(Thread.java:748)\n    at org.jboss.threads.JBossThread.run(JBossThread.java:485)\nCaused by: java.lang.RuntimeException: Initialized Extension not found\n    at com.sun.jersey.server.impl.cdi.CDIExtension.getInitializedExtensionFromBeanManager(CDIExtension.java:196)\n    at com.sun.jersey.server.impl.cdi.CDIComponentProviderFactory.&lt;init&gt;(CDIComponentProviderFactory.java:93)\n    at com.sun.jersey.server.impl.cdi.CDIComponentProviderFactoryInitializer.initialize(CDIComponentProviderFactoryInitializer.java:76)\n    at com.sun.jersey.spi.container.servlet.WebComponent.configure(WebComponent.java:572)\n    at com.sun.jersey.spi.container.servlet.ServletContainer$InternalWebComponent.configure(ServletContainer.java:332)\n    at com.sun.jersey.spi.container.servlet.WebComponent.load(WebComponent.java:604)\n    at com.sun.jersey.spi.container.servlet.WebComponent.init(WebComponent.java:207)\n    at com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:394)\n    at com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:577)\n    at javax.servlet.GenericServlet.init(GenericServlet.java:180)\n    at io.undertow.servlet.core.LifecyleInterceptorInvocation.proceed(LifecyleInterceptorInvocation.java:117)\n    at org.wildfly.extension.undertow.security.RunAsLifecycleInterceptor.init(RunAsLifecycleInterceptor.java:78)\n    at io.undertow.servlet.core.LifecyleInterceptorInvocation.proceed(LifecyleInterceptorInvocation.java:103)\n    at io.undertow.servlet.core.ManagedServlet$DefaultInstanceStrategy.start(ManagedServlet.java:305)\n    at io.undertow.servlet.core.ManagedServlet.createServlet(ManagedServlet.java:145)\n    at io.undertow.servlet.core.DeploymentManagerImpl$2.call(DeploymentManagerImpl.java:585)\n    at io.undertow.servlet.core.DeploymentManagerImpl$2.call(DeploymentManagerImpl.java:556)\n    at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)\n    at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n    at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1541)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1541)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1541)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1541)\n    at io.undertow.servlet.core.DeploymentManagerImpl.start(DeploymentManagerImpl.java:598)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:97)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:78)\n    ... 8 more\n</code></pre>\n<p>I would really appreciate if someone can give me some tips to solve this problem :)</p>\n"},{"tags":["java","sql","postgresql","jdbc"],"comments":[{"owner":{"account_id":23201300,"reputation":3123,"user_id":17296084,"display_name":"Ramin Faracov"},"score":0,"creation_date":1669133752,"post_id":74535653,"comment_id":131572609,"body_markdown":"On PostgreSQL `insert into table` with `returning` statement - this is equivalent to any select statement. Try it: `stmt.executeQuery(&quot;insert into [table] values(default,0) returning id;&quot;)`","body":"On PostgreSQL <code>insert into table</code> with <code>returning</code> statement - this is equivalent to any select statement. Try it: <code>stmt.executeQuery(&quot;insert into [table] values(default,0) returning id;&quot;)</code>"},{"owner":{"account_id":18419514,"reputation":65,"user_id":13417522,"display_name":"Aldie Yung"},"score":0,"creation_date":1669135336,"post_id":74535653,"comment_id":131573256,"body_markdown":"now I&#39;m getting this: ```java.io.NotSerializableException: org.postgresql.jdbc.PgResultSet ``` any idea what&#39;s wrong? I&#39;m using ResultSet to send data to the client in other places in the code and it&#39;s wokring fine","body":"now I&#39;m getting this: <code>java.io.NotSerializableException: org.postgresql.jdbc.PgResultSet </code> any idea what&#39;s wrong? I&#39;m using ResultSet to send data to the client in other places in the code and it&#39;s wokring fine"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1669189445,"post_id":74535653,"comment_id":131585324,"body_markdown":"@AldieYung You can&#39;t serialize a result set. If you need to serialize things, you need to get the values from the result set and pack them in a way that can be serialized. That said, you really shouldn&#39;t use Java serialization unless you really, really have to.","body":"@AldieYung You can&#39;t serialize a result set. If you need to serialize things, you need to get the values from the result set and pack them in a way that can be serialized. That said, you really shouldn&#39;t use Java serialization unless you really, really have to."}],"answers":[{"tags":[],"owner":{"display_name":"user330315"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669133807,"creation_date":1669133807,"answer_id":74535822,"question_id":74535653,"body_markdown":"You can use `getGeneratedKeys()`\r\n\r\n```java\r\nString sql = &quot;insert into the_table(some_column) values (?)&quot;;\r\nPreparedStatement pstmt = connection.prepareStatement(sql, new String[]{&quot;id&quot;});    \r\npstmt.setInt(1, 0);\r\nint numRows = pstmt.executeUpdate();\r\nResultSet keys = pstmt.getGeneratedKeys();\r\nint newId = -1;\r\nif (keys.next()) {\r\n  newId = keys.getInt(1);\r\n}\r\n```\r\n\r\nAlternatively you can also use: \r\n\r\n\r\n```java\r\nPreparedStatement pstmt = connection.prepareStatement(&quot;...&quot;, PreparedStatement.RETURN_GENERATED_KEYS);\r\n```\r\n\r\nThis also works with batchedStatements (after `pstmt.executeBatch()`)  or multi-row inserts. In that case the `if (keys.next())` must be changed to a `while()` loop to iterate over all generated IDs","title":"Can I return values with execute() or executeUpdate()?","body":"<p>You can use <code>getGeneratedKeys()</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>String sql = &quot;insert into the_table(some_column) values (?)&quot;;\nPreparedStatement pstmt = connection.prepareStatement(sql, new String[]{&quot;id&quot;});    \npstmt.setInt(1, 0);\nint numRows = pstmt.executeUpdate();\nResultSet keys = pstmt.getGeneratedKeys();\nint newId = -1;\nif (keys.next()) {\n  newId = keys.getInt(1);\n}\n</code></pre>\n<p>Alternatively you can also use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PreparedStatement pstmt = connection.prepareStatement(&quot;...&quot;, PreparedStatement.RETURN_GENERATED_KEYS);\n</code></pre>\n<p>This also works with batchedStatements (after <code>pstmt.executeBatch()</code>)  or multi-row inserts. In that case the <code>if (keys.next())</code> must be changed to a <code>while()</code> loop to iterate over all generated IDs</p>\n"}],"owner":{"account_id":18419514,"reputation":65,"user_id":13417522,"display_name":"Aldie Yung"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1669189288,"answer_count":1,"score":0,"last_activity_date":1669133807,"creation_date":1669133105,"question_id":74535653,"body_markdown":"I have a server with connection to a database in postgreSQL and I want to return the ID of a new row to the client once it is inserted.\r\nI&#39;ve tried this:\r\n```\r\nint id = stmt.execute(&quot;insert into [table] values(default,0) returning id;&quot;);                         \r\n```\r\nthe SQL statement works if I&#39;m working directly on the database but not here, I get this error:\r\norg.postgresql.util.PSQLException: A result was returned when none was expected.\r\n\r\nI&#39;m thinking its because execute() and executeUpdate() aren&#39;t supposed to return values so I added this:\r\n```\r\nstmt.execute(&quot;insert into [table] values(default,0) returning id;&quot;);\r\nResultSet id = stmt.executeQuery(&quot;select last_insert_id();&quot;);\r\n```\r\nApparently that statement is for mySQL so it doesn&#39;t work, I&#39;ve read that CURRVAL and NEXTVAL do this in postgreSQL but I haven&#39;t been able to do it and I&#39;ve also read it&#39;s not always acurate.\r\n\r\nIs there something I&#39;m missing or another way to do it?","title":"Can I return values with execute() or executeUpdate()?","body":"<p>I have a server with connection to a database in postgreSQL and I want to return the ID of a new row to the client once it is inserted.\nI've tried this:</p>\n<pre><code>int id = stmt.execute(&quot;insert into [table] values(default,0) returning id;&quot;);                         \n</code></pre>\n<p>the SQL statement works if I'm working directly on the database but not here, I get this error:\norg.postgresql.util.PSQLException: A result was returned when none was expected.</p>\n<p>I'm thinking its because execute() and executeUpdate() aren't supposed to return values so I added this:</p>\n<pre><code>stmt.execute(&quot;insert into [table] values(default,0) returning id;&quot;);\nResultSet id = stmt.executeQuery(&quot;select last_insert_id();&quot;);\n</code></pre>\n<p>Apparently that statement is for mySQL so it doesn't work, I've read that CURRVAL and NEXTVAL do this in postgreSQL but I haven't been able to do it and I've also read it's not always acurate.</p>\n<p>Is there something I'm missing or another way to do it?</p>\n"},{"tags":["java","colors","java.util.scanner"],"comments":[{"owner":{"account_id":26895750,"reputation":296,"user_id":20473701,"display_name":"Lorenz Hetterich"},"score":0,"creation_date":1669133646,"post_id":74535725,"comment_id":131572571,"body_markdown":"A similar question has been answered here: https://stackoverflow.com/questions/5762491/how-to-print-color-in-console-using-system-out-println","body":"A similar question has been answered here: <a href=\"https://stackoverflow.com/questions/5762491/how-to-print-color-in-console-using-system-out-println\" title=\"how to print color in console using system out println\">stackoverflow.com/questions/5762491/&hellip;</a>"},{"owner":{"account_id":26720632,"reputation":1,"user_id":20324559,"display_name":"Ivan Parra"},"score":0,"creation_date":1669136441,"post_id":74535725,"comment_id":131573677,"body_markdown":"Thank&#39;s for your answer, but my objective is to switch the color in the input of the scanner if the word writed is a reserved java keyword, if not I print &quot;No es correcto&quot; in red.","body":"Thank&#39;s for your answer, but my objective is to switch the color in the input of the scanner if the word writed is a reserved java keyword, if not I print &quot;No es correcto&quot; in red."},{"owner":{"account_id":26895750,"reputation":296,"user_id":20473701,"display_name":"Lorenz Hetterich"},"score":0,"creation_date":1669136770,"post_id":74535725,"comment_id":131573787,"body_markdown":"your attempt of concatenating the Strings should work. Make sure to also put an ANSI_RESET when the color should end. Your code is missing some important details (e.g., what type is acertadas) to find out why it is not working.","body":"your attempt of concatenating the Strings should work. Make sure to also put an ANSI_RESET when the color should end. Your code is missing some important details (e.g., what type is acertadas) to find out why it is not working."},{"owner":{"account_id":26895750,"reputation":296,"user_id":20473701,"display_name":"Lorenz Hetterich"},"score":1,"creation_date":1669136905,"post_id":74535725,"comment_id":131573833,"body_markdown":"oh sorry I am completly wrong and I misunderstood your question. I believe that what you are trying to do is not possible (at least not in a generic way) using simple java IO. The only way it seems possible to me is by writing your own GUI.","body":"oh sorry I am completly wrong and I misunderstood your question. I believe that what you are trying to do is not possible (at least not in a generic way) using simple java IO. The only way it seems possible to me is by writing your own GUI."}],"owner":{"account_id":26720632,"reputation":1,"user_id":20324559,"display_name":"Ivan Parra"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669133389,"creation_date":1669133389,"question_id":74535725,"body_markdown":"I&#39;m doing a class exercise about reserved java keywords, and I want to change the color in the input of a scanner. Happy to hear any suggestion!\r\n\r\n[What I&#39;m trying to switch](https://i.stack.imgur.com/NWdSs.png)\r\n\r\nHere&#39;s my code if you want to take a look.\r\n\r\n```\r\nwhile (repetir || contador == max) {\r\n            String palabras = new Scanner(System.in).nextLine().toLowerCase();\r\n            \r\n            if (palabras.contains(&quot;.&quot;)) {\r\n                System.out.println(&quot;Has acertado las siguientes palabras: &quot;\r\n                        + acertadas);\r\n                repetir = false;\r\n            } else {\r\n                if(reservadas.contains(palabras)) {\r\n                    palabras = bien + palabras; //This is my attempt to switch the color\r\n                    acertadas.add(palabras);\r\n                    contador++;\r\n                } else {\r\n                    System.out.println(mal + &quot;No es correcto&quot; + ANSI_RESET);\r\n                }\r\n                if (contador == 50) {\r\n                    System.out.println(&quot;ENHORABUENA!!!&quot;);\r\n                    System.out.println(&quot;Has acertado todas las palabras &quot;\r\n                            + &quot;reservadas&quot;);\r\n                    repetir = false;\r\n                }\r\n            }\r\n            \r\n        }\r\n```\r\n\r\n\r\n\r\n\r\nWhen I press the intro keyword and the word writed in the  scanner is correct, I want to switch the color to green. ","title":"How to change the color in the input of a scanner?","body":"<p>I'm doing a class exercise about reserved java keywords, and I want to change the color in the input of a scanner. Happy to hear any suggestion!</p>\n<p><a href=\"https://i.stack.imgur.com/NWdSs.png\" rel=\"nofollow noreferrer\">What I'm trying to switch</a></p>\n<p>Here's my code if you want to take a look.</p>\n<pre><code>while (repetir || contador == max) {\n            String palabras = new Scanner(System.in).nextLine().toLowerCase();\n            \n            if (palabras.contains(&quot;.&quot;)) {\n                System.out.println(&quot;Has acertado las siguientes palabras: &quot;\n                        + acertadas);\n                repetir = false;\n            } else {\n                if(reservadas.contains(palabras)) {\n                    palabras = bien + palabras; //This is my attempt to switch the color\n                    acertadas.add(palabras);\n                    contador++;\n                } else {\n                    System.out.println(mal + &quot;No es correcto&quot; + ANSI_RESET);\n                }\n                if (contador == 50) {\n                    System.out.println(&quot;ENHORABUENA!!!&quot;);\n                    System.out.println(&quot;Has acertado todas las palabras &quot;\n                            + &quot;reservadas&quot;);\n                    repetir = false;\n                }\n            }\n            \n        }\n</code></pre>\n<p>When I press the intro keyword and the word writed in the  scanner is correct, I want to switch the color to green.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9359,"page":864,"page_size":100}
