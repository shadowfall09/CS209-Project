{"items":[{"tags":["java","debugging","intellij-idea","gwt","jetty"],"comments":[{"owner":{"account_id":1181589,"reputation":3787,"user_id":1156412,"display_name":"El Hoss"},"score":0,"creation_date":1644219119,"post_id":70979216,"comment_id":125537240,"body_markdown":"Did you add the GWT and web facet?","body":"Did you add the GWT and web facet?"},{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1644243584,"post_id":70979216,"comment_id":125546047,"body_markdown":"Jetty 11 requires use of Jakarta EE 9 namespace changed libraries, aka &quot;jakarta big bang&quot;.  old release versions of GWT will not work with this new of a Servlet spec.  see - https://stackoverflow.com/a/66368511/775715","body":"Jetty 11 requires use of Jakarta EE 9 namespace changed libraries, aka &quot;jakarta big bang&quot;.  old release versions of GWT will not work with this new of a Servlet spec.  see - <a href=\"https://stackoverflow.com/a/66368511/775715\">stackoverflow.com/a/66368511/775715</a>"},{"owner":{"account_id":4836407,"reputation":684,"user_id":3902947,"accept_rate":92,"display_name":"After_Sunset"},"score":0,"creation_date":1644336325,"post_id":70979216,"comment_id":125576938,"body_markdown":"@ElHoss hey, yes they are both added.","body":"@ElHoss hey, yes they are both added."},{"owner":{"account_id":4836407,"reputation":684,"user_id":3902947,"accept_rate":92,"display_name":"After_Sunset"},"score":0,"creation_date":1644336413,"post_id":70979216,"comment_id":125576984,"body_markdown":"@JoakimErdfelt thanks will take a look into this.","body":"@JoakimErdfelt thanks will take a look into this."}],"owner":{"account_id":4836407,"reputation":684,"user_id":3902947,"accept_rate":92,"display_name":"After_Sunset"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":498,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654255070,"creation_date":1643927478,"question_id":70979216,"body_markdown":"I&#39;m trying to migrate some legacy GWT applications from eclipse to IntelliJ. Oh man, what a nightmare. I&#39;ve come very near to a dead end with my research. I&#39;m at the point where there is simply no related page or documentation that I have not seen, not to mention the information on this topic is very, very sparse. \r\n\r\nMy setup is as follows: \r\n\r\n - *IntelliJ IDE*\r\n - *GWT 2.9 plugin*\r\n - *Jetty Runner that is using Jetty v11.0.7*\r\n\r\n\r\n\r\nHere are my GWT and Jetty debug configuration settings:[![GWT Debug Configuration][1]][1]\r\n\r\n\r\n[![Jetty Runner Debug Configuration][2]][2]\r\n\r\n\r\nWhen I navigate to the jetty server URL I always get &quot;**Error 404 Not Found**&quot; message.\r\n\r\n[![enter image description here][3]][3] \r\n[![enter image description here][4]][4]\r\n\r\nNow, when I navigate to the &quot;Debug&quot; directory that is specified in the GWT configuration I do see that there is no RSS.html which is a problem but even the &quot;blank.html&quot; is not able to be navigated to. One potential issue is maybe I am somehow not compiling the debuggable version of the GWT application correctly? \r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\nMy other guess is that I have to somehow point to an actual .war file. I do have an ant build script that works just fine and generates a .war that works correctly in production. Below is a screenshot of the generated war file as well as the directory used to build the war archive.\r\n\r\n[![enter image description here][6]][6]\r\n\r\n\r\nIn summation, how do you correctly debug a GWT application in IntelliJ using the GWT configuration with a Jetty Runner server?\r\n\r\nI can promptly provide any additional info that I may have left out.\r\n\r\n\r\n**EDIT**\r\nI would like to add that this [How to get GWT Super Dev Mode to work with IntelliJ][7] question is very similar to what I am asking here and it was never edited with the correct answer, also since this was posted super dev mode was added. It would be great to get a clear solution documented for myself and others. To reiterate the answer needs to achieve these three things,\r\n\r\n - Use a Jetty Runner configuration (to enable use of different Jetty versions as there can be a cascade of conflicts depending on your codebase)\r\n - Use a GWT configuration to run a code server with the Jetty Runner instance so debugging is possible.\r\n - Use IntelliJ IDEA\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rsSo0.png\r\n  [2]: https://i.stack.imgur.com/zxu9Y.png\r\n  [3]: https://i.stack.imgur.com/yfL6L.png\r\n  [4]: https://i.stack.imgur.com/KfvTS.png\r\n  [5]: https://i.stack.imgur.com/26bfx.png\r\n  [6]: https://i.stack.imgur.com/d2j75.png\r\n  [7]: https://stackoverflow.com/questions/23841301/how-to-get-gwt-super-dev-mode-to-work-with-intellij","title":"How to correctly debug a GWT application with Jetty Runner in IntelliJ IDEA","body":"<p>I'm trying to migrate some legacy GWT applications from eclipse to IntelliJ. Oh man, what a nightmare. I've come very near to a dead end with my research. I'm at the point where there is simply no related page or documentation that I have not seen, not to mention the information on this topic is very, very sparse.</p>\n<p>My setup is as follows:</p>\n<ul>\n<li><em>IntelliJ IDE</em></li>\n<li><em>GWT 2.9 plugin</em></li>\n<li><em>Jetty Runner that is using Jetty v11.0.7</em></li>\n</ul>\n<p>Here are my GWT and Jetty debug configuration settings:<a href=\"https://i.stack.imgur.com/rsSo0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rsSo0.png\" alt=\"GWT Debug Configuration\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/zxu9Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zxu9Y.png\" alt=\"Jetty Runner Debug Configuration\" /></a></p>\n<p>When I navigate to the jetty server URL I always get &quot;<strong>Error 404 Not Found</strong>&quot; message.</p>\n<p><a href=\"https://i.stack.imgur.com/yfL6L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yfL6L.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/KfvTS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KfvTS.png\" alt=\"enter image description here\" /></a></p>\n<p>Now, when I navigate to the &quot;Debug&quot; directory that is specified in the GWT configuration I do see that there is no RSS.html which is a problem but even the &quot;blank.html&quot; is not able to be navigated to. One potential issue is maybe I am somehow not compiling the debuggable version of the GWT application correctly?</p>\n<p><a href=\"https://i.stack.imgur.com/26bfx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/26bfx.png\" alt=\"enter image description here\" /></a></p>\n<p>My other guess is that I have to somehow point to an actual .war file. I do have an ant build script that works just fine and generates a .war that works correctly in production. Below is a screenshot of the generated war file as well as the directory used to build the war archive.</p>\n<p><a href=\"https://i.stack.imgur.com/d2j75.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d2j75.png\" alt=\"enter image description here\" /></a></p>\n<p>In summation, how do you correctly debug a GWT application in IntelliJ using the GWT configuration with a Jetty Runner server?</p>\n<p>I can promptly provide any additional info that I may have left out.</p>\n<p><strong>EDIT</strong>\nI would like to add that this <a href=\"https://stackoverflow.com/questions/23841301/how-to-get-gwt-super-dev-mode-to-work-with-intellij\">How to get GWT Super Dev Mode to work with IntelliJ</a> question is very similar to what I am asking here and it was never edited with the correct answer, also since this was posted super dev mode was added. It would be great to get a clear solution documented for myself and others. To reiterate the answer needs to achieve these three things,</p>\n<ul>\n<li>Use a Jetty Runner configuration (to enable use of different Jetty versions as there can be a cascade of conflicts depending on your codebase)</li>\n<li>Use a GWT configuration to run a code server with the Jetty Runner instance so debugging is possible.</li>\n<li>Use IntelliJ IDEA</li>\n</ul>\n"},{"tags":["java","ejb"],"answers":[{"tags":[],"owner":{"account_id":17103006,"reputation":29,"user_id":12375665,"display_name":"Pablo F"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651676327,"creation_date":1650894053,"answer_id":72000529,"question_id":71995852,"body_markdown":"According to:  \r\nhttps://stackoverflow.com/questions/71966064/java-fileoutputstreamnul-not-working-after-java-upgrade\r\n\r\n&gt; &quot;You can try setting the system property jdk.io.File.enableADS to true\r\n&gt; to re-enable the old behaviour.&quot;\r\n\r\nThere is a bug in this jvm version, that affects the library xnio (https://issues.redhat.com/browse/XNIO-404). \r\n\r\nIf that doesnt work, you can apply the same patch used in \r\nhttps://issues.redhat.com/browse/XNIO-404\r\n(I tested copying the class Channels.java and changed the problematic line, so it writes to NUL, as in the issue). Anyway, i will wait for the fix en the jvm bug, and if that is closed without fixing i will apply any of the previous solutions.\r\n\r\n\r\n**PS:** \r\nIt is fixed in 1.8.0_333 \r\n\r\n","title":"Problem invoking EJB from with a client that use Java 1.8.0_331","body":"<p>According to:<br />\n<a href=\"https://stackoverflow.com/questions/71966064/java-fileoutputstreamnul-not-working-after-java-upgrade\">Java: FileOutputStream(&quot;NUL:&quot;) not working after Java upgrade</a></p>\n<blockquote>\n<p>&quot;You can try setting the system property jdk.io.File.enableADS to true\nto re-enable the old behaviour.&quot;</p>\n</blockquote>\n<p>There is a bug in this jvm version, that affects the library xnio (<a href=\"https://issues.redhat.com/browse/XNIO-404\" rel=\"nofollow noreferrer\">https://issues.redhat.com/browse/XNIO-404</a>).</p>\n<p>If that doesnt work, you can apply the same patch used in\n<a href=\"https://issues.redhat.com/browse/XNIO-404\" rel=\"nofollow noreferrer\">https://issues.redhat.com/browse/XNIO-404</a>\n(I tested copying the class Channels.java and changed the problematic line, so it writes to NUL, as in the issue). Anyway, i will wait for the fix en the jvm bug, and if that is closed without fixing i will apply any of the previous solutions.</p>\n<p><strong>PS:</strong>\nIt is fixed in 1.8.0_333</p>\n"},{"tags":[],"owner":{"account_id":1769914,"reputation":11,"user_id":1614948,"display_name":"user1614948"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651777583,"creation_date":1651777583,"answer_id":72132434,"question_id":71995852,"body_markdown":"Many thanks Pablo! You have just ended hours of me beating my head against a wall. Upgraded from 331 to 333 and it&#39;s resolved.","title":"Problem invoking EJB from with a client that use Java 1.8.0_331","body":"<p>Many thanks Pablo! You have just ended hours of me beating my head against a wall. Upgraded from 331 to 333 and it's resolved.</p>\n"},{"tags":[],"owner":{"account_id":25464382,"reputation":21,"user_id":19263655,"display_name":"Johnny"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654254853,"creation_date":1654254853,"answer_id":72488768,"question_id":71995852,"body_markdown":"Theres a bug when you use Wildfly with JDK 11.0.15, just downgrade to version 11.0.14, that worked for our enviroment","title":"Problem invoking EJB from with a client that use Java 1.8.0_331","body":"<p>Theres a bug when you use Wildfly with JDK 11.0.15, just downgrade to version 11.0.14, that worked for our enviroment</p>\n"}],"owner":{"account_id":10412233,"reputation":281,"user_id":7677303,"display_name":"Andrea Biasillo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3813,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1654254853,"creation_date":1650871568,"question_id":71995852,"body_markdown":"Switching from Java 1.8.161 to 1.8.0_331 the EJB client stopped working.\r\nThe error message is:\r\n\r\n```\r\nApr 25, 2022 8:34:49 AM org.xnio.ChannelListeners invokeChannelListener\r\nERROR: XNIO001007: A channel event listener threw an exception\r\njava.io.IOError: java.io.FileNotFoundException: Invalid file path\r\n\tat org.xnio.channels.Channels$4.run(Channels.java:998)\r\n\tat org.xnio.channels.Channels$4.run(Channels.java:988)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat org.xnio.channels.Channels.&lt;clinit&gt;(Channels.java:988)\r\n\tat org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:403)\r\n\tat org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:242)\r\n\tat org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)\r\n\tat org.xnio.channels.TranslatingSuspendableChannel.handleReadable(TranslatingSuspendableChannel.java:199)\r\n\tat org.xnio.channels.TranslatingSuspendableChannel$1.handleEvent(TranslatingSuspendableChannel.java:113)\r\n\tat org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)\r\n\tat org.xnio.ChannelListeners$DelegatingChannelListener.handleEvent(ChannelListeners.java:1092)\r\n\tat org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)\r\n\tat org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:66)\r\n\tat org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:88)\r\n\tat org.xnio.nio.WorkerThread.run(WorkerThread.java:539)\r\nCaused by: java.io.FileNotFoundException: Invalid file path\r\n\tat java.io.FileOutputStream.&lt;init&gt;(Unknown Source)\r\n\tat java.io.FileOutputStream.&lt;init&gt;(Unknown Source)\r\n\tat org.xnio.channels.Channels$4.run(Channels.java:993)\r\n\t... 14 more\r\n```\r\n\r\nHere https://www.oracle.com/java/technologies/javase/8u331-relnotes.html\r\nis written that:\r\n\r\nThe parsing of URLs in the LDAP, DNS, RMI and CORBA built-in JNDI providers as been made more strict. The strength of the parsing can be controlled by system properties\r\n\r\nBut setting the system property seems do not have effect.\r\nSo I would want to know what means &quot;The parsing of URLs as been made more strict&quot;? How it should be?\r\n\r\nWe use Wildfly 8 as application server. We get the Context with this code:\r\n```\r\n\r\n    private static Context createRemoteEjbContext(String host, int port) throws NamingException {\r\n    Properties props = new Properties();\r\n    \t\r\n        String providerURL = &quot;http-remoting://&quot; + host + &quot;:&quot; + port;\r\n        props.put(Context.PROVIDER_URL, providerURL);\r\n        props.put(&quot;remote.connection.default.connect.options.org.jboss.remoting3.RemotingOptions.HEARTBEAT_INTERVAL&quot;, 60000);\r\n        props.put(Context.INITIAL_CONTEXT_FACTORY, &quot;org.jboss.naming.remote.client.InitialContextFactory&quot;);\r\n        props.put(&quot;jboss.naming.client.ejb.context&quot;, true);\r\n        \r\n        return new InitialContext(props);\r\n        }\r\n\r\n```\r\n\r\nand from the context we lookup passing this string:\r\n\r\n```\r\n\r\n    dataloy/dataloy-ejb/BasicServicesEJB!com.dataloy.svc.impl.ejb.BasicServicesHome\r\n\r\n```\r\n\r\nAny idea?\r\nThanks\r\nAndrea\r\n","title":"Problem invoking EJB from with a client that use Java 1.8.0_331","body":"<p>Switching from Java 1.8.161 to 1.8.0_331 the EJB client stopped working.\nThe error message is:</p>\n<pre><code>Apr 25, 2022 8:34:49 AM org.xnio.ChannelListeners invokeChannelListener\nERROR: XNIO001007: A channel event listener threw an exception\njava.io.IOError: java.io.FileNotFoundException: Invalid file path\n    at org.xnio.channels.Channels$4.run(Channels.java:998)\n    at org.xnio.channels.Channels$4.run(Channels.java:988)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at org.xnio.channels.Channels.&lt;clinit&gt;(Channels.java:988)\n    at org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:403)\n    at org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:242)\n    at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)\n    at org.xnio.channels.TranslatingSuspendableChannel.handleReadable(TranslatingSuspendableChannel.java:199)\n    at org.xnio.channels.TranslatingSuspendableChannel$1.handleEvent(TranslatingSuspendableChannel.java:113)\n    at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)\n    at org.xnio.ChannelListeners$DelegatingChannelListener.handleEvent(ChannelListeners.java:1092)\n    at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)\n    at org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:66)\n    at org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:88)\n    at org.xnio.nio.WorkerThread.run(WorkerThread.java:539)\nCaused by: java.io.FileNotFoundException: Invalid file path\n    at java.io.FileOutputStream.&lt;init&gt;(Unknown Source)\n    at java.io.FileOutputStream.&lt;init&gt;(Unknown Source)\n    at org.xnio.channels.Channels$4.run(Channels.java:993)\n    ... 14 more\n</code></pre>\n<p>Here <a href=\"https://www.oracle.com/java/technologies/javase/8u331-relnotes.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/javase/8u331-relnotes.html</a>\nis written that:</p>\n<p>The parsing of URLs in the LDAP, DNS, RMI and CORBA built-in JNDI providers as been made more strict. The strength of the parsing can be controlled by system properties</p>\n<p>But setting the system property seems do not have effect.\nSo I would want to know what means &quot;The parsing of URLs as been made more strict&quot;? How it should be?</p>\n<p>We use Wildfly 8 as application server. We get the Context with this code:</p>\n<pre><code>\n    private static Context createRemoteEjbContext(String host, int port) throws NamingException {\n    Properties props = new Properties();\n        \n        String providerURL = &quot;http-remoting://&quot; + host + &quot;:&quot; + port;\n        props.put(Context.PROVIDER_URL, providerURL);\n        props.put(&quot;remote.connection.default.connect.options.org.jboss.remoting3.RemotingOptions.HEARTBEAT_INTERVAL&quot;, 60000);\n        props.put(Context.INITIAL_CONTEXT_FACTORY, &quot;org.jboss.naming.remote.client.InitialContextFactory&quot;);\n        props.put(&quot;jboss.naming.client.ejb.context&quot;, true);\n        \n        return new InitialContext(props);\n        }\n\n</code></pre>\n<p>and from the context we lookup passing this string:</p>\n<pre><code>\n    dataloy/dataloy-ejb/BasicServicesEJB!com.dataloy.svc.impl.ejb.BasicServicesHome\n\n</code></pre>\n<p>Any idea?\nThanks\nAndrea</p>\n"},{"tags":["java","replace","hashmap"],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654253487,"creation_date":1654253487,"answer_id":72488527,"question_id":72488479,"body_markdown":"Use regular expression replaceAll with word-boundary `\\b`.\r\n\r\n    exp = exp.replaceAll(&quot;\\\\b&quot; + e.getKey() + &quot;\\\\b&quot;, e.getValue().toString());\r\n\r\nYou could also look into the **scripting API** or the java **REPL**.","title":"Hashmap replace the same key &quot;m&quot; as &quot;mL&quot; , is there anyway to fix it?","body":"<p>Use regular expression replaceAll with word-boundary <code>\\b</code>.</p>\n<pre><code>exp = exp.replaceAll(&quot;\\\\b&quot; + e.getKey() + &quot;\\\\b&quot;, e.getValue().toString());\n</code></pre>\n<p>You could also look into the <strong>scripting API</strong> or the java <strong>REPL</strong>.</p>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654254106,"creation_date":1654253837,"answer_id":72488590,"question_id":72488479,"body_markdown":"The problem is caused by HashMap not keeping insert order. Using LinkedHashMap, which keeps insertion order will solve the problem.\r\n```\r\nMap&lt;String, Integer&gt; mp = new LinkedHashMap&lt;&gt;();\r\n```\r\n[String.replace()][1] replaces all occurrence of the substring, so if `P` gets replaced before `mP`, it can lead to problems like the one you described. To avoid that, you can build the expression with placeholders, which don&#39;t have common letters. Like this for example:\r\n```\r\nString exp = &quot;a+(b/c+d/e)&quot;;\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replace(java.lang.CharSequence,%20java.lang.CharSequence)","title":"Hashmap replace the same key &quot;m&quot; as &quot;mL&quot; , is there anyway to fix it?","body":"<p>The problem is caused by HashMap not keeping insert order. Using LinkedHashMap, which keeps insertion order will solve the problem.</p>\n<pre><code>Map&lt;String, Integer&gt; mp = new LinkedHashMap&lt;&gt;();\n</code></pre>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replace(java.lang.CharSequence,%20java.lang.CharSequence)\" rel=\"nofollow noreferrer\">String.replace()</a> replaces all occurrence of the substring, so if <code>P</code> gets replaced before <code>mP</code>, it can lead to problems like the one you described. To avoid that, you can build the expression with placeholders, which don't have common letters. Like this for example:</p>\n<pre><code>String exp = &quot;a+(b/c+d/e)&quot;;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22490259,"reputation":23,"user_id":16688094,"display_name":"NicoHahn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654254138,"creation_date":1654254138,"answer_id":72488659,"question_id":72488479,"body_markdown":"You can also sort the keys by their length:\r\n\r\n```java\r\n\r\nimport java.util.Arrays;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic static void main(String[] args) {\r\n\tString exp = &quot;k+(mP/P+mL/L)&quot;;\r\n\r\n\tMap&lt;String, Integer&gt; mp = new HashMap&lt;String, Integer&gt;();\r\n\tmp.put(&quot;mP&quot;, 2);\r\n\tmp.put(&quot;mL&quot;, 4);\r\n\tmp.put(&quot;k&quot;, 1);\r\n\tmp.put(&quot;P&quot;, 3);\r\n\tmp.put(&quot;L&quot;, 5);\r\n\r\n\tString[] keys = new String[mp.keySet().size()];\r\n\r\n\tint i = 0;\r\n\tfor (String k : mp.keySet()) {\r\n\t\tkeys[i] = k;\r\n\t\ti++;\r\n\t}\r\n\r\n\t/* Sort array by string length (longest string at the beginning) */\r\n\tArrays.sort(keys, (a, b) -&gt; Integer.compare(b.length(), a.length()));\r\n\r\n\tfor (String k : keys) {\r\n\t\texp = exp.replace(k, mp.get(k).toString());\r\n\t}\r\n\tSystem.out.println(exp); // 1+(2/3+4/5)\r\n}\r\n```\r\n\r\n","title":"Hashmap replace the same key &quot;m&quot; as &quot;mL&quot; , is there anyway to fix it?","body":"<p>You can also sort the keys by their length:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport java.util.Arrays;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic static void main(String[] args) {\n    String exp = &quot;k+(mP/P+mL/L)&quot;;\n\n    Map&lt;String, Integer&gt; mp = new HashMap&lt;String, Integer&gt;();\n    mp.put(&quot;mP&quot;, 2);\n    mp.put(&quot;mL&quot;, 4);\n    mp.put(&quot;k&quot;, 1);\n    mp.put(&quot;P&quot;, 3);\n    mp.put(&quot;L&quot;, 5);\n\n    String[] keys = new String[mp.keySet().size()];\n\n    int i = 0;\n    for (String k : mp.keySet()) {\n        keys[i] = k;\n        i++;\n    }\n\n    /* Sort array by string length (longest string at the beginning) */\n    Arrays.sort(keys, (a, b) -&gt; Integer.compare(b.length(), a.length()));\n\n    for (String k : keys) {\n        exp = exp.replace(k, mp.get(k).toString());\n    }\n    System.out.println(exp); // 1+(2/3+4/5)\n}\n</code></pre>\n"}],"owner":{"account_id":25464106,"reputation":11,"user_id":19263427,"display_name":"Konstantinos Kolios"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72488527,"answer_count":3,"score":0,"last_activity_date":1654254823,"creation_date":1654253225,"question_id":72488479,"body_markdown":"I have this mathematical expression:\r\n\r\n    String exp = &quot;k+(mP/P+mL/L)&quot;;\r\n\r\nThen i create a new HashMap and put exactly the same params as the above expression :\r\n\r\n    Map&lt;String, Integer&gt; mp = new HashMap&lt;&gt;();\r\n    mp.put(&quot;k&quot;, 1);\r\n    mp.put(&quot;mP&quot;, 2);\r\n    mp.put(&quot;P&quot;, 3);\r\n    mp.put(&quot;mL&quot;, 4);\r\n    mp.put(&quot;L&quot;, 5);\r\n\r\nFinally i continue doing a litteration all of the entry-set by replace the parameter of my expression to values  and after that i print my result:\r\n\r\n    for(Map.Entry&lt;String,Integer&gt; e: mp.entrySet()){\r\n\r\n        exp = exp.replace(e.getKey(),e.getValue().toString());\r\n    }\r\n    System.out.println(exp);\r\n \r\n*the result of the above is : &quot;1+(m3/3 +m5/5)&quot;*\r\n\r\n*but i want this instead : &quot;1+(2/3+4/5)&quot;\r\n\r\nIs there any way?\r\n","title":"Hashmap replace the same key &quot;m&quot; as &quot;mL&quot; , is there anyway to fix it?","body":"<p>I have this mathematical expression:</p>\n<pre><code>String exp = &quot;k+(mP/P+mL/L)&quot;;\n</code></pre>\n<p>Then i create a new HashMap and put exactly the same params as the above expression :</p>\n<pre><code>Map&lt;String, Integer&gt; mp = new HashMap&lt;&gt;();\nmp.put(&quot;k&quot;, 1);\nmp.put(&quot;mP&quot;, 2);\nmp.put(&quot;P&quot;, 3);\nmp.put(&quot;mL&quot;, 4);\nmp.put(&quot;L&quot;, 5);\n</code></pre>\n<p>Finally i continue doing a litteration all of the entry-set by replace the parameter of my expression to values  and after that i print my result:</p>\n<pre><code>for(Map.Entry&lt;String,Integer&gt; e: mp.entrySet()){\n\n    exp = exp.replace(e.getKey(),e.getValue().toString());\n}\nSystem.out.println(exp);\n</code></pre>\n<p><em>the result of the above is : &quot;1+(m3/3 +m5/5)&quot;</em></p>\n<p>*but i want this instead : &quot;1+(2/3+4/5)&quot;</p>\n<p>Is there any way?</p>\n"},{"tags":["java","java-8","functional-programming"],"comments":[{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":0,"creation_date":1516872507,"post_id":48439457,"comment_id":83870132,"body_markdown":"https://stackoverflow.com/questions/25441088/group-by-counting-in-java-8-stream-api","body":"<a href=\"https://stackoverflow.com/questions/25441088/group-by-counting-in-java-8-stream-api\" title=\"group by counting in java 8 stream api\">stackoverflow.com/questions/25441088/&hellip;</a>"},{"owner":{"account_id":4788690,"reputation":877,"user_id":3868454,"accept_rate":60,"display_name":"Nick Legend"},"score":0,"creation_date":1516872658,"post_id":48439457,"comment_id":83870228,"body_markdown":"Please think it as a very simplistic example. In real there will be much more complicated logic than just counting the same values in a row. Actually I try to design a simple parser that accepts a stream of tokens and returns a stream of objects.","body":"Please think it as a very simplistic example. In real there will be much more complicated logic than just counting the same values in a row. Actually I try to design a simple parser that accepts a stream of tokens and returns a stream of objects."},{"owner":{"account_id":4788690,"reputation":877,"user_id":3868454,"accept_rate":60,"display_name":"Nick Legend"},"score":0,"creation_date":1516873408,"post_id":48439457,"comment_id":83870678,"body_markdown":"Guys, thanks for your answers!... but just some more details. I need it to stay a stream (there must be no terminal operation at the end), and also in this example it must really count the same values (not grouping). So from &quot;aaabbaa&quot; in must return (a, 3), (b, 2) and (a, 2).","body":"Guys, thanks for your answers!... but just some more details. I need it to stay a stream (there must be no terminal operation at the end), and also in this example it must really count the same values (not grouping). So from &quot;aaabbaa&quot; in must return (a, 3), (b, 2) and (a, 2)."}],"answers":[{"tags":[],"owner":{"account_id":2014628,"reputation":3559,"user_id":1802221,"accept_rate":60,"display_name":"Rishikesh Dhokare"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1516872654,"creation_date":1516872654,"answer_id":48439572,"question_id":48439457,"body_markdown":"    Map&lt;String, Long&gt; result = src.collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\r\n    System.out.println(result);\r\n\r\nThis will give the desired output\r\n\r\n    a=4, b=3\r\n\r\nYou can then go ahead and iterate over map and create objects of `TokenBag`.","title":"Count the same items in a row in Java 8 Stream API","body":"<pre><code>Map&lt;String, Long&gt; result = src.collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\nSystem.out.println(result);\n</code></pre>\n\n<p>This will give the desired output</p>\n\n<pre><code>a=4, b=3\n</code></pre>\n\n<p>You can then go ahead and iterate over map and create objects of <code>TokenBag</code>.</p>\n"},{"tags":[],"owner":{"account_id":3313246,"reputation":26479,"user_id":2786156,"accept_rate":76,"display_name":"St.Antario"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516872800,"creation_date":1516872800,"answer_id":48439616,"question_id":48439457,"body_markdown":"Create a map and then collect the map into the list:\r\n\r\n    Stream&lt;String&gt; src = Stream.of(&quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;);\r\n    Map&lt;String, Long&gt; m = src.collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\r\n    m.entrySet().stream().map(e -&gt; new TokenBag(e.getKey(), e.getValue().intValue())).collect(Collectors.toList());","title":"Count the same items in a row in Java 8 Stream API","body":"<p>Create a map and then collect the map into the list:</p>\n\n<pre><code>Stream&lt;String&gt; src = Stream.of(\"a\", \"a\", \"a\", \"a\", \"b\", \"b\", \"b\");\nMap&lt;String, Long&gt; m = src.collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\nm.entrySet().stream().map(e -&gt; new TokenBag(e.getKey(), e.getValue().intValue())).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8347208,"reputation":1853,"user_id":6300555,"display_name":"Senior Pomidor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1516872821,"creation_date":1516872821,"answer_id":48439621,"question_id":48439457,"body_markdown":"        Stream&lt;String&gt; src = Stream.of(&quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;);\r\n\r\n    // collect to map \r\n        Map&lt;String, Long&gt; counted = src\r\n                .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\r\n\r\n    // collect to list \r\n        List&lt;TokenBag&gt; tokenBags = counted.entrySet().stream().map(m -&gt; new TokenBag(m.getKey(), m.getValue().intValue()))\r\n                .collect(Collectors.toList());\r\n\r\n","title":"Count the same items in a row in Java 8 Stream API","body":"<pre><code>    Stream&lt;String&gt; src = Stream.of(\"a\", \"a\", \"a\", \"a\", \"b\", \"b\", \"b\");\n\n// collect to map \n    Map&lt;String, Long&gt; counted = src\n            .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\n\n// collect to list \n    List&lt;TokenBag&gt; tokenBags = counted.entrySet().stream().map(m -&gt; new TokenBag(m.getKey(), m.getValue().intValue()))\n            .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":41263,"reputation":3490,"user_id":119855,"accept_rate":96,"display_name":"Georg Leber"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1516872880,"creation_date":1516872880,"answer_id":48439639,"question_id":48439457,"body_markdown":"First group it to a Map and then map the entries to a TokenBag:\r\n\r\n    Map&lt;String, Long&gt; values = src.collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\r\n\tList&lt;TokenBag&gt; tokenBags = values.entrySet().stream().map(entry -&gt; {\r\n        TokenBag tb = new TokenBag();\r\n        tb.setToken(entry.getKey());\r\n        tb.setCount(entry.getValue().intValue());\r\n        return tb;\r\n    }).collect(Collectors.toList());","title":"Count the same items in a row in Java 8 Stream API","body":"<p>First group it to a Map and then map the entries to a TokenBag:</p>\n\n<pre><code>Map&lt;String, Long&gt; values = src.collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\nList&lt;TokenBag&gt; tokenBags = values.entrySet().stream().map(entry -&gt; {\n    TokenBag tb = new TokenBag();\n    tb.setToken(entry.getKey());\n    tb.setCount(entry.getValue().intValue());\n    return tb;\n}).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654254275,"creation_date":1517000424,"answer_id":48469445,"question_id":48439457,"body_markdown":"You&#39;d need to convert your stream to a [`Spliterator`][1] and then adapt this spliterator to a custom one that *partially-reduces* some elements according to your logic (in your example it would need to count equal elements until a different element appears). Then, you&#39;d need to turn your spliterator back to a new stream. \r\n\r\nBear in mind that this can&#39;t be 100% lazy, as you&#39;d need to eagerly consume some elements from the backing stream in order to create a new `TokenBag` element for the new stream.\r\n\r\nHere&#39;s the code for the custom spliterator:\r\n\r\n    public class CountingSpliterator\r\n            extends Spliterators.AbstractSpliterator&lt;TokenBag&gt;\r\n            implements Consumer&lt;String&gt; {\r\n\r\n        private final Spliterator&lt;String&gt; source;\r\n        private String currentToken;\r\n        private String previousToken;\r\n        private int tokenCount = 0;\r\n        private boolean tokenHasChanged;\r\n\r\n        public CountingSpliterator(Spliterator&lt;String&gt; source) {\r\n            super(source.estimateSize(), source.characteristics());\r\n            this.source = source;\r\n        }\r\n\r\n        @Override\r\n        public boolean tryAdvance(Consumer&lt;? super TokenBag&gt; action) {\r\n            while (source.tryAdvance(this)) {\r\n                if (tokenHasChanged) {\r\n                    action.accept(new TokenBag(previousToken, tokenCount));\r\n                    tokenCount = 1;\r\n                    return true;\r\n                }\r\n            }\r\n            if (tokenCount &gt; 0) {\r\n                action.accept(new TokenBag(currentToken, tokenCount));\r\n                tokenCount = 0;\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n\r\n        @Override\r\n        public void accept(String newToken) {\r\n            if (currentToken != null) {\r\n                previousToken = currentToken;\r\n            }\r\n            currentToken = newToken;\r\n            if (previousToken != null &amp;&amp; !previousToken.equals(currentToken)) {\r\n                tokenHasChanged = true;\r\n            } else {\r\n                tokenCount++;\r\n                tokenHasChanged = false;\r\n            }\r\n        }\r\n    }\r\n\r\nSo this spliterator extends [`Spliterators.AbstractSpliterator`][2] and also implements [`Consumer`][3]. The code is quite complex, but the idea is that it adapts one or more tokens from the source spliterator into an instance of `TokenBag`. \r\n\r\nFor every accepted token from the source spliterator, the count for that token is incremented, until the token changes. At this point, a `TokenBag` instance is created with the token and the count and is immediately pushed to the `Consumer&lt;? super TokenBag&gt; action` parameter. Also, the counter is reset to `1`. The logic in the `accept` method handles token changes, border cases, etc. \r\n\r\nHere&#39;s how you should use this spliterator:\r\n\r\n    Stream&lt;String&gt; src = Stream.of(&quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;b&quot;, &quot;b&quot;, &quot;a&quot;, &quot;a&quot;);\r\n\r\n    Stream&lt;TokenBag&gt; stream = StreamSupport.stream(\r\n            new CountingSpliterator(src.spliterator()),\r\n            false); // false means sequential, we don&#39;t want parallel!\r\n\r\n    stream.forEach(System.out::println);\r\n\r\nIf you override `toString()` in `TokenBag`, the output is:\r\n\r\n    TokenBag{token=&#39;a&#39;, count=3}\r\n    TokenBag{token=&#39;b&#39;, count=2}\r\n    TokenBag{token=&#39;a&#39;, count=2}\r\n\r\nA note on parallelism: I don&#39;t know how to parallelize this partial-reduce task, I even don&#39;t know if it&#39;s at all possible. But if it were, I doubt it would produce any measurable improvement.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/Spliterator.html\r\n  [2]: https://docs.oracle.com/javase/9/docs/api/java/util/Spliterators.AbstractSpliterator.html\r\n  [3]: https://docs.oracle.com/javase/9/docs/api/java/util/function/Consumer.html\r\n","title":"Count the same items in a row in Java 8 Stream API","body":"<p>You'd need to convert your stream to a <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Spliterator.html\" rel=\"nofollow noreferrer\"><code>Spliterator</code></a> and then adapt this spliterator to a custom one that <em>partially-reduces</em> some elements according to your logic (in your example it would need to count equal elements until a different element appears). Then, you'd need to turn your spliterator back to a new stream.</p>\n<p>Bear in mind that this can't be 100% lazy, as you'd need to eagerly consume some elements from the backing stream in order to create a new <code>TokenBag</code> element for the new stream.</p>\n<p>Here's the code for the custom spliterator:</p>\n<pre><code>public class CountingSpliterator\n        extends Spliterators.AbstractSpliterator&lt;TokenBag&gt;\n        implements Consumer&lt;String&gt; {\n\n    private final Spliterator&lt;String&gt; source;\n    private String currentToken;\n    private String previousToken;\n    private int tokenCount = 0;\n    private boolean tokenHasChanged;\n\n    public CountingSpliterator(Spliterator&lt;String&gt; source) {\n        super(source.estimateSize(), source.characteristics());\n        this.source = source;\n    }\n\n    @Override\n    public boolean tryAdvance(Consumer&lt;? super TokenBag&gt; action) {\n        while (source.tryAdvance(this)) {\n            if (tokenHasChanged) {\n                action.accept(new TokenBag(previousToken, tokenCount));\n                tokenCount = 1;\n                return true;\n            }\n        }\n        if (tokenCount &gt; 0) {\n            action.accept(new TokenBag(currentToken, tokenCount));\n            tokenCount = 0;\n            return true;\n        }\n        return false;\n    }\n\n    @Override\n    public void accept(String newToken) {\n        if (currentToken != null) {\n            previousToken = currentToken;\n        }\n        currentToken = newToken;\n        if (previousToken != null &amp;&amp; !previousToken.equals(currentToken)) {\n            tokenHasChanged = true;\n        } else {\n            tokenCount++;\n            tokenHasChanged = false;\n        }\n    }\n}\n</code></pre>\n<p>So this spliterator extends <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Spliterators.AbstractSpliterator.html\" rel=\"nofollow noreferrer\"><code>Spliterators.AbstractSpliterator</code></a> and also implements <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/function/Consumer.html\" rel=\"nofollow noreferrer\"><code>Consumer</code></a>. The code is quite complex, but the idea is that it adapts one or more tokens from the source spliterator into an instance of <code>TokenBag</code>.</p>\n<p>For every accepted token from the source spliterator, the count for that token is incremented, until the token changes. At this point, a <code>TokenBag</code> instance is created with the token and the count and is immediately pushed to the <code>Consumer&lt;? super TokenBag&gt; action</code> parameter. Also, the counter is reset to <code>1</code>. The logic in the <code>accept</code> method handles token changes, border cases, etc.</p>\n<p>Here's how you should use this spliterator:</p>\n<pre><code>Stream&lt;String&gt; src = Stream.of(&quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;b&quot;, &quot;b&quot;, &quot;a&quot;, &quot;a&quot;);\n\nStream&lt;TokenBag&gt; stream = StreamSupport.stream(\n        new CountingSpliterator(src.spliterator()),\n        false); // false means sequential, we don't want parallel!\n\nstream.forEach(System.out::println);\n</code></pre>\n<p>If you override <code>toString()</code> in <code>TokenBag</code>, the output is:</p>\n<pre><code>TokenBag{token='a', count=3}\nTokenBag{token='b', count=2}\nTokenBag{token='a', count=2}\n</code></pre>\n<p>A note on parallelism: I don't know how to parallelize this partial-reduce task, I even don't know if it's at all possible. But if it were, I doubt it would produce any measurable improvement.</p>\n"}],"owner":{"account_id":4788690,"reputation":877,"user_id":3868454,"accept_rate":60,"display_name":"Nick Legend"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":954,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":48469445,"answer_count":5,"score":2,"last_activity_date":1654254275,"creation_date":1516872302,"question_id":48439457,"body_markdown":"I have a bean and a stream\r\n\r\n    public class TokenBag {\r\n        private String token;\r\n        private int count;\r\n        // Standard constructor and getters here\r\n    }\r\n    Stream&lt;String&gt; src = Stream.of(&quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;b&quot;, &quot;b&quot;, &quot;a&quot;, &quot;a&quot;);\r\nand want to apply some intermediate operation to the stream that returns another stream of objects of TokenBag. In this example there must be two: (&quot;a&quot;, 3), (&quot;b&quot;, 3) and (&quot;a&quot;, 2).\r\n\r\nPlease think it as a very simplistic example. In real there will be much more complicated logic than just counting the same values in a row. Actually I try to design a simple parser that accepts a stream of tokens and returns a stream of objects.\r\n\r\nAlso please note that it must stay a stream (with no intermediate accumulation), and also in this example it must really count the same values in a row (it differs from grouping).\r\n\r\nWill appreciate your suggestions about the general approach to this task solution.","title":"Count the same items in a row in Java 8 Stream API","body":"<p>I have a bean and a stream</p>\n\n<pre><code>public class TokenBag {\n    private String token;\n    private int count;\n    // Standard constructor and getters here\n}\nStream&lt;String&gt; src = Stream.of(\"a\", \"a\", \"a\", \"b\", \"b\", \"a\", \"a\");\n</code></pre>\n\n<p>and want to apply some intermediate operation to the stream that returns another stream of objects of TokenBag. In this example there must be two: (\"a\", 3), (\"b\", 3) and (\"a\", 2).</p>\n\n<p>Please think it as a very simplistic example. In real there will be much more complicated logic than just counting the same values in a row. Actually I try to design a simple parser that accepts a stream of tokens and returns a stream of objects.</p>\n\n<p>Also please note that it must stay a stream (with no intermediate accumulation), and also in this example it must really count the same values in a row (it differs from grouping).</p>\n\n<p>Will appreciate your suggestions about the general approach to this task solution.</p>\n"},{"tags":["java","postgresql","jpa","eclipselink"],"comments":[{"owner":{"account_id":2056375,"reputation":909,"user_id":1834026,"display_name":"ketrox"},"score":2,"creation_date":1492546858,"post_id":43481353,"comment_id":74018804,"body_markdown":"@JacksonIgnore for your collection should solve your problem","body":"@JacksonIgnore for your collection should solve your problem"},{"owner":{"account_id":2637325,"reputation":810,"user_id":2281678,"accept_rate":67,"display_name":"Ecliptica"},"score":0,"creation_date":1492547164,"post_id":43481353,"comment_id":74018975,"body_markdown":"Indeed it did (assuming you meant `@JsonIgnore`). You&#39;re a lifesaver!","body":"Indeed it did (assuming you meant <code>@JsonIgnore</code>). You&#39;re a lifesaver!"},{"owner":{"account_id":1169697,"reputation":1416,"user_id":1147141,"accept_rate":42,"display_name":"bichito"},"score":0,"creation_date":1492547808,"post_id":43481353,"comment_id":74019341,"body_markdown":"Can you deserialize without losing information?","body":"Can you deserialize without losing information?"},{"owner":{"account_id":2637325,"reputation":810,"user_id":2281678,"accept_rate":67,"display_name":"Ecliptica"},"score":0,"creation_date":1492623441,"post_id":43481353,"comment_id":74059407,"body_markdown":"I won&#39;t be needing to send information about the followers through JSON so losing that information won&#39;t be an issue for me.","body":"I won&#39;t be needing to send information about the followers through JSON so losing that information won&#39;t be an issue for me."}],"answers":[{"tags":[],"owner":{"account_id":2056375,"reputation":909,"user_id":1834026,"display_name":"ketrox"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1492548465,"creation_date":1492547563,"answer_id":43481692,"question_id":43481353,"body_markdown":"Every time you have  `@OneToMany` (a collection) you need to add `@JsonIgnore` to it or else it will cause an infinite loop  which results in a stack overflow exception because it keeps looking up between the parent(the one side)  and the child (the many side)\r\nFor more info on dealing with this kind of problems check this excellent article http://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion","title":"JPA many-to-many relationship causing infinite recursion and stack overflow error","body":"<p>Every time you have  <code>@OneToMany</code> (a collection) you need to add <code>@JsonIgnore</code> to it or else it will cause an infinite loop  which results in a stack overflow exception because it keeps looking up between the parent(the one side)  and the child (the many side)\nFor more info on dealing with this kind of problems check this excellent article <a href=\"http://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion\" rel=\"noreferrer\">http://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion</a></p>\n"},{"tags":[],"owner":{"account_id":13414985,"reputation":11,"user_id":9679870,"display_name":"Igor Katselenbogen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571280773,"creation_date":1571280773,"answer_id":58424202,"question_id":43481353,"body_markdown":"I tried everything what I found in the web and it didn&#39;t work. None of any annotation. \r\nBut I found a solution after a huge fight with this issue.\r\n\r\nFirst point you need to add to both entities (not the relational one) this annotation:\r\n\r\n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;, &quot;relationClass&quot;})\r\n    public class YourClass { ...\r\n    }\r\n\r\nWhere &quot;relationClass&quot; is the name of the List/Set of your class for the relations:\r\n\r\nFor example:\r\n\r\n      @OneToMany(mappedBy = &quot;yourClass&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY,  orphanRemoval = true)\r\n        private Set&lt;RelationClass&gt; relationClass;\r\n\r\nYou also need to specify &quot;hibernateLazyInitializer&quot;, &quot;handler&quot; in the annotation or it will cause serialization problem.\r\n\r\nAfter it if you see the table that define relation table and you will see rows in there, and in your JSON response will not be any loop anymore. So as I think the best solution is also create a repository for the relation tablee and access the data from there.\r\n\r\nHope it will help someone!\r\n\r\n","title":"JPA many-to-many relationship causing infinite recursion and stack overflow error","body":"<p>I tried everything what I found in the web and it didn't work. None of any annotation. \nBut I found a solution after a huge fight with this issue.</p>\n\n<p>First point you need to add to both entities (not the relational one) this annotation:</p>\n\n<pre><code>@JsonIgnoreProperties({\"hibernateLazyInitializer\", \"handler\", \"relationClass\"})\npublic class YourClass { ...\n}\n</code></pre>\n\n<p>Where \"relationClass\" is the name of the List/Set of your class for the relations:</p>\n\n<p>For example:</p>\n\n<pre><code>  @OneToMany(mappedBy = \"yourClass\", cascade = CascadeType.ALL, fetch = FetchType.LAZY,  orphanRemoval = true)\n    private Set&lt;RelationClass&gt; relationClass;\n</code></pre>\n\n<p>You also need to specify \"hibernateLazyInitializer\", \"handler\" in the annotation or it will cause serialization problem.</p>\n\n<p>After it if you see the table that define relation table and you will see rows in there, and in your JSON response will not be any loop anymore. So as I think the best solution is also create a repository for the relation tablee and access the data from there.</p>\n\n<p>Hope it will help someone!</p>\n"},{"tags":[],"owner":{"account_id":13807566,"reputation":61,"user_id":9966043,"display_name":"Ahmet Erdem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632130516,"creation_date":1632129198,"answer_id":69251841,"question_id":43481353,"body_markdown":"I think the problem in previous answers is the package of the annotation. In the article  http://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion\r\n@JsonManagedReference and  @JsonBackReference works fine.\r\n\r\nBut the package should be com.fasterxml.jackson.annotation .\r\n\r\nSometimes another packages may be imported and does not solve the problem.\r\n\r\nIn addition adding \r\n\r\n    import com.fasterxml.jackson.annotation.JsonIdentityInfo;\r\n    \r\n    @JsonIdentityInfo(\r\n            generator = ObjectIdGenerators.PropertyGenerator.class,\r\n            property = &quot;id&quot;)\r\n\r\nbefore the class definition of the model works fine.","title":"JPA many-to-many relationship causing infinite recursion and stack overflow error","body":"<p>I think the problem in previous answers is the package of the annotation. In the article  <a href=\"http://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion\" rel=\"nofollow noreferrer\">http://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion</a>\n@JsonManagedReference and  @JsonBackReference works fine.</p>\n<p>But the package should be com.fasterxml.jackson.annotation .</p>\n<p>Sometimes another packages may be imported and does not solve the problem.</p>\n<p>In addition adding</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonIdentityInfo;\n\n@JsonIdentityInfo(\n        generator = ObjectIdGenerators.PropertyGenerator.class,\n        property = &quot;id&quot;)\n</code></pre>\n<p>before the class definition of the model works fine.</p>\n"},{"tags":[],"owner":{"account_id":16827985,"reputation":46,"user_id":12166744,"display_name":"Sergey Demyanenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641714370,"creation_date":1641714370,"answer_id":70639391,"question_id":43481353,"body_markdown":"    public class A {\r\n      private String name;\r\n      \r\n      @JsonIgnoreProperties(value = &quot;linkToA&quot;) // remove field to avoid loop\r\n      private B linkToB;\r\n    }\r\n\r\n    public class B {\r\n      private String name;\r\n      \r\n      @JsonIgnoreProperties(value = &quot;linkToB&quot;) // remove field to avoid loop\r\n      private A linkToA;\r\n    }","title":"JPA many-to-many relationship causing infinite recursion and stack overflow error","body":"<pre><code>public class A {\n  private String name;\n  \n  @JsonIgnoreProperties(value = &quot;linkToA&quot;) // remove field to avoid loop\n  private B linkToB;\n}\n\npublic class B {\n  private String name;\n  \n  @JsonIgnoreProperties(value = &quot;linkToB&quot;) // remove field to avoid loop\n  private A linkToA;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25464184,"reputation":1,"user_id":19263491,"display_name":"Vineeth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654254065,"creation_date":1654254065,"answer_id":72488640,"question_id":43481353,"body_markdown":"You can also use lombok&#39;s EqualsAndHashcode annotation like below.\r\n\r\n@EqualsAndHashcode(exclude ={&quot;following&quot;})\r\npublic class User{}","title":"JPA many-to-many relationship causing infinite recursion and stack overflow error","body":"<p>You can also use lombok's EqualsAndHashcode annotation like below.</p>\n<p>@EqualsAndHashcode(exclude ={&quot;following&quot;})\npublic class User{}</p>\n"}],"owner":{"account_id":2637325,"reputation":810,"user_id":2281678,"accept_rate":67,"display_name":"Ecliptica"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19868,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":43481692,"answer_count":5,"score":10,"last_activity_date":1654254065,"creation_date":1492546288,"question_id":43481353,"body_markdown":"I&#39;m working on an EclipseLink project in which one user can &quot;follow&quot; another as can be done on social media sites. I have this set up with a `User` entity (referencing a table called `users`) which has a list of &quot;followers&quot; (users who follow that user) and another list of &quot;following&quot; (users that user is following). The relationship is defined in a separate table called `followers` which contains columns for the followed user&#39;s ID (`user_id`) and the following user&#39;s ID (`follower_id`).\r\n\r\nMy users model looks like this:\r\n\r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    @NamedQuery(name = &quot;User.findAll&quot;, query = &quot;SELECT u FROM USER u&quot;)\r\n    public class User {\r\n        // other attributes\r\n        @ManyToMany(fetch = FetchType.LAZY)\r\n        @JoinTable(name = &quot;follower&quot;, joinColumns = @JoinColumn(\r\n            name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;),\r\n        inverseJoinColumns = @JoinColumn(\r\n            name = &quot;follower_id&quot;, referencedColumnName = &quot;id&quot;))\r\n        private List&lt;User&gt; followers;\r\n\r\n        @ManyToMany(mappedBy = &quot;followers&quot;)\r\n        private List&lt;User&gt; following;\r\n\r\n        // other getters and setters\r\n        public List&lt;User&gt; getFollowers() {\r\n            return this.followers;\r\n        }\r\n\r\n        public List&lt;User&gt; getFollowing() {\r\n            return this.following;\r\n        }\r\n    }\r\n\r\nThe `getFollowers()` method seems to work fine, but when `getFollowing()` is called I get a bunch of console spam that culminates in a StackOverflowException:\r\n\r\n    com.fasterxml.jackson.databind.JsonMappingException: Infinite recursion \r\n    (StackOverflowError) (through reference chain: \r\n    org.eclipse.persistence.indirection.IndirectList[0]-\r\n    &gt;org.myproject.model.User[&quot;followers&quot;]-\r\n    &gt;org.eclipse.persistence.indirection.IndirectList[0]-\r\n    &gt;org.myproject.model.User[&quot;following&quot;]-\r\n    ...\r\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase\r\n    .serializeFields(BeanSerializerBase.java:518)\r\n\tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize\r\n    (BeanSerializer.java:117)\r\n\tat com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer\r\n    .serializeContents(IndexedListSerializer.java:94)\r\n\tat com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer\r\n    .serializeContents(IndexedListSerializer.java:21)\r\n    ...\r\n\r\nPlease let me know if I should provide more of the stack trace. Any hints?","title":"JPA many-to-many relationship causing infinite recursion and stack overflow error","body":"<p>I'm working on an EclipseLink project in which one user can \"follow\" another as can be done on social media sites. I have this set up with a <code>User</code> entity (referencing a table called <code>users</code>) which has a list of \"followers\" (users who follow that user) and another list of \"following\" (users that user is following). The relationship is defined in a separate table called <code>followers</code> which contains columns for the followed user's ID (<code>user_id</code>) and the following user's ID (<code>follower_id</code>).</p>\n\n<p>My users model looks like this:</p>\n\n<pre><code>@Entity\n@Table(name = \"users\")\n@NamedQuery(name = \"User.findAll\", query = \"SELECT u FROM USER u\")\npublic class User {\n    // other attributes\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(name = \"follower\", joinColumns = @JoinColumn(\n        name = \"user_id\", referencedColumnName = \"id\"),\n    inverseJoinColumns = @JoinColumn(\n        name = \"follower_id\", referencedColumnName = \"id\"))\n    private List&lt;User&gt; followers;\n\n    @ManyToMany(mappedBy = \"followers\")\n    private List&lt;User&gt; following;\n\n    // other getters and setters\n    public List&lt;User&gt; getFollowers() {\n        return this.followers;\n    }\n\n    public List&lt;User&gt; getFollowing() {\n        return this.following;\n    }\n}\n</code></pre>\n\n<p>The <code>getFollowers()</code> method seems to work fine, but when <code>getFollowing()</code> is called I get a bunch of console spam that culminates in a StackOverflowException:</p>\n\n<pre><code>com.fasterxml.jackson.databind.JsonMappingException: Infinite recursion \n(StackOverflowError) (through reference chain: \norg.eclipse.persistence.indirection.IndirectList[0]-\n&gt;org.myproject.model.User[\"followers\"]-\n&gt;org.eclipse.persistence.indirection.IndirectList[0]-\n&gt;org.myproject.model.User[\"following\"]-\n...\nat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase\n.serializeFields(BeanSerializerBase.java:518)\nat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize\n(BeanSerializer.java:117)\nat com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer\n.serializeContents(IndexedListSerializer.java:94)\nat com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer\n.serializeContents(IndexedListSerializer.java:21)\n...\n</code></pre>\n\n<p>Please let me know if I should provide more of the stack trace. Any hints?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654253882,"creation_date":1654253882,"answer_id":72488597,"question_id":72488336,"body_markdown":"What&#39;s so difficult in understanding the error message?\r\n\r\n`e` is `null` in the call to `e.setCommand( cmd );`.\r\n\r\nThat&#39;s because the call to `equipmentRepository.findEquipmentBySerialNumber( serialNumber );` returns `null`.\r\n\r\nWhy that call returns `null` well, that is another question.","title":"Cannot invoke &quot;com.nadjibi.pump.entities.Equipment.setCommand(String)&quot; because &quot;e&quot; is null","body":"<p>What's so difficult in understanding the error message?</p>\n<p><code>e</code> is <code>null</code> in the call to <code>e.setCommand( cmd );</code>.</p>\n<p>That's because the call to <code>equipmentRepository.findEquipmentBySerialNumber( serialNumber );</code> returns <code>null</code>.</p>\n<p>Why that call returns <code>null</code> well, that is another question.</p>\n"}],"owner":{"account_id":25217986,"reputation":1,"user_id":19054878,"display_name":"Boucounta Ba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1654593656,"answer_count":1,"score":0,"last_activity_date":1654253882,"creation_date":1654252447,"question_id":72488336,"body_markdown":"```java\r\n@Override\r\npublic boolean changeEquipmentCmd( String serialNumber, String cmd )\r\n{\r\n  Equipment e = equipmentRepository.findEquipmentBySerialNumber( serialNumber );\r\n  e.setCommand( cmd );\r\n  equipmentRepository.save( e );\r\n  return true;\r\n}\r\n\r\n@RequestMapping( value = &quot;/equipment/changeCmd&quot;, method = RequestMethod.PUT )\r\npublic boolean changeEquipmentCmd( @RequestParam( &quot;sn&quot; ) String serialNumber, @RequestParam( &quot;cmd&quot; ) String cmd ) \r\n{\r\n  return iotMetier.changeEquipmentCmd( serialNumber, cmd );\r\n}\r\n```","title":"Cannot invoke &quot;com.nadjibi.pump.entities.Equipment.setCommand(String)&quot; because &quot;e&quot; is null","body":"<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic boolean changeEquipmentCmd( String serialNumber, String cmd )\n{\n  Equipment e = equipmentRepository.findEquipmentBySerialNumber( serialNumber );\n  e.setCommand( cmd );\n  equipmentRepository.save( e );\n  return true;\n}\n\n@RequestMapping( value = &quot;/equipment/changeCmd&quot;, method = RequestMethod.PUT )\npublic boolean changeEquipmentCmd( @RequestParam( &quot;sn&quot; ) String serialNumber, @RequestParam( &quot;cmd&quot; ) String cmd ) \n{\n  return iotMetier.changeEquipmentCmd( serialNumber, cmd );\n}\n</code></pre>\n"},{"tags":["java","corda","corda-flow"],"owner":{"account_id":20517082,"reputation":89,"user_id":15057489,"display_name":"Puneet Jindal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654253555,"creation_date":1654253555,"question_id":72488542,"body_markdown":"I&#39;m writing unit test cases on workflows of my corda app while I&#39;m initialising mock network and run it using command `./gradlew test` I&#39;m facing an error which is related to `liquibase`. Below is my code and error I&#39;m facing \r\n\r\n**Code**\r\n\r\n \r\n\r\n    @Before\r\n        public void setup() {\r\n            network = new MockNetwork(new MockNetworkParameters().withCordappsForAllNodes(ImmutableList.of(\r\n                    TestCordapp.findCordapp(&quot;net.corda.tokenizeddemocracy.contracts&quot;),\r\n                    TestCordapp.findCordapp(&quot;net.corda.tokenizeddemocracy.flows.KafkaFlows&quot;)))\r\n                    .withNotarySpecs(ImmutableList.of(new MockNetworkNotarySpec(CordaX500Name.parse(&quot;O=Notary,L=London,C=GB&quot;))))\r\n            );\r\n            a = network.createPartyNode(null);\r\n            b = network.createPartyNode(null);\r\n            network.runNetwork();\r\n        }\r\n\r\n**Console**\r\n\r\n    liquibase/exception/LiquibaseException\r\n    java.lang.NoClassDefFoundError: liquibase/exception/LiquibaseException\r\n    \tat net.corda.node.internal.AbstractNode$startHikariPool$1.invoke(AbstractNode.kt:1024)\r\n    \tat net.corda.node.internal.AbstractNode$startHikariPool$1.invoke(AbstractNode.kt:202)\r\n    \tat net.corda.node.internal.AbstractNodeKt.startHikariPool(AbstractNode.kt:1343)\r\n    \tat net.corda.node.internal.AbstractNode.startHikariPool(AbstractNode.kt:1023)\r\n    \tat net.corda.node.internal.AbstractNode.startDatabase(AbstractNode.kt:1017)\r\n    \tat net.corda.testing.node.internal.InternalMockNetwork$MockNode.startDatabase(InternalMockNetwork.kt:433)\r\n    \tat net.corda.node.internal.AbstractNode.start(AbstractNode.kt:572)\r\n    \tat net.corda.testing.node.internal.InternalMockNetwork$MockNode.start(InternalMockNetwork.kt:382)\r\n    \tat net.corda.testing.node.internal.InternalMockNetwork.createNodeImpl(InternalMockNetwork.kt:501)","title":"Error while creating mock network in CordaApp","body":"<p>I'm writing unit test cases on workflows of my corda app while I'm initialising mock network and run it using command <code>./gradlew test</code> I'm facing an error which is related to <code>liquibase</code>. Below is my code and error I'm facing</p>\n<p><strong>Code</strong></p>\n<pre><code>@Before\n    public void setup() {\n        network = new MockNetwork(new MockNetworkParameters().withCordappsForAllNodes(ImmutableList.of(\n                TestCordapp.findCordapp(&quot;net.corda.tokenizeddemocracy.contracts&quot;),\n                TestCordapp.findCordapp(&quot;net.corda.tokenizeddemocracy.flows.KafkaFlows&quot;)))\n                .withNotarySpecs(ImmutableList.of(new MockNetworkNotarySpec(CordaX500Name.parse(&quot;O=Notary,L=London,C=GB&quot;))))\n        );\n        a = network.createPartyNode(null);\n        b = network.createPartyNode(null);\n        network.runNetwork();\n    }\n</code></pre>\n<p><strong>Console</strong></p>\n<pre><code>liquibase/exception/LiquibaseException\njava.lang.NoClassDefFoundError: liquibase/exception/LiquibaseException\n    at net.corda.node.internal.AbstractNode$startHikariPool$1.invoke(AbstractNode.kt:1024)\n    at net.corda.node.internal.AbstractNode$startHikariPool$1.invoke(AbstractNode.kt:202)\n    at net.corda.node.internal.AbstractNodeKt.startHikariPool(AbstractNode.kt:1343)\n    at net.corda.node.internal.AbstractNode.startHikariPool(AbstractNode.kt:1023)\n    at net.corda.node.internal.AbstractNode.startDatabase(AbstractNode.kt:1017)\n    at net.corda.testing.node.internal.InternalMockNetwork$MockNode.startDatabase(InternalMockNetwork.kt:433)\n    at net.corda.node.internal.AbstractNode.start(AbstractNode.kt:572)\n    at net.corda.testing.node.internal.InternalMockNetwork$MockNode.start(InternalMockNetwork.kt:382)\n    at net.corda.testing.node.internal.InternalMockNetwork.createNodeImpl(InternalMockNetwork.kt:501)\n</code></pre>\n"},{"tags":["java","android-studio","sharedpreferences"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1653939462,"post_id":72439246,"comment_id":127968839,"body_markdown":"Can we see the code that accesses these &quot;shared preferences?&quot;  I&#39;m not sure what you&#39;re referring to by that name.","body":"Can we see the code that accesses these &quot;shared preferences?&quot;  I&#39;m not sure what you&#39;re referring to by that name."}],"answers":[{"tags":[],"owner":{"account_id":25104945,"reputation":76,"user_id":18955226,"display_name":"Yazan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653971552,"creation_date":1653971552,"answer_id":72442323,"question_id":72439246,"body_markdown":"SharedPreferences are stored in an XML file in the app data folder, i.e.\r\n\r\n    /data/data/YOUR_PACKAGE_NAME/shared_prefs/YOUR_PREFS_NAME.xml\r\n\r\nor the default preferences at:\r\n\r\n    /data/data/YOUR_PACKAGE_NAME/shared_prefs/YOUR_PACKAGE_NAME_preferences.xml\r\n\r\nSharedPreferences added during runtime are not stored in the Eclipse project.\r\n\r\nNote: Accessing `/data/data/&lt;package_name&gt;` requires superuser privileges","title":"I need to see where my sharedpreferances values are stored","body":"<p>SharedPreferences are stored in an XML file in the app data folder, i.e.</p>\n<pre><code>/data/data/YOUR_PACKAGE_NAME/shared_prefs/YOUR_PREFS_NAME.xml\n</code></pre>\n<p>or the default preferences at:</p>\n<pre><code>/data/data/YOUR_PACKAGE_NAME/shared_prefs/YOUR_PACKAGE_NAME_preferences.xml\n</code></pre>\n<p>SharedPreferences added during runtime are not stored in the Eclipse project.</p>\n<p>Note: Accessing <code>/data/data/&lt;package_name&gt;</code> requires superuser privileges</p>\n"},{"tags":[],"owner":{"account_id":19040401,"reputation":98,"user_id":13900631,"display_name":"Nandala Abhinav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654253501,"creation_date":1654253501,"answer_id":72488534,"question_id":72439246,"body_markdown":"Go to device File explorer at the right bottom of your android studio. From there go to data-&gt; data-&gt;(your package)-&gt;shared preferences ","title":"I need to see where my sharedpreferances values are stored","body":"<p>Go to device File explorer at the right bottom of your android studio. From there go to data-&gt; data-&gt;(your package)-&gt;shared preferences</p>\n"}],"owner":{"account_id":22070162,"reputation":19,"user_id":16331278,"display_name":"ratim shariar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1654253501,"creation_date":1653939401,"question_id":72439246,"body_markdown":"In my project, I need to see the location of my shared preference where can I see it.","title":"I need to see where my sharedpreferances values are stored","body":"<p>In my project, I need to see the location of my shared preference where can I see it.</p>\n"},{"tags":["java","android","colors","selector"],"answers":[{"tags":[],"owner":{"account_id":25439773,"reputation":11,"user_id":19242914,"display_name":"im-mahadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654253341,"creation_date":1654253341,"answer_id":72488497,"question_id":72487835,"body_markdown":"when you use selector as button background it inherits the color from theme. you can try changing the theme primary color and that will affect the button color.","title":"Android Studio, color in selector (in item) doesnt work","body":"<p>when you use selector as button background it inherits the color from theme. you can try changing the theme primary color and that will affect the button color.</p>\n"}],"owner":{"account_id":25463691,"reputation":31,"user_id":19263072,"display_name":"anio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654253341,"creation_date":1654249849,"question_id":72487835,"body_markdown":"```\r\n&lt;Button\r\n        android:id=&quot;@+id/sort_time&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;52dp&quot;\r\n        android:layout_marginTop=&quot;54dp&quot;\r\n        android:background=&quot;@drawable/roundless_button&quot;\r\n        android:backgroundTint=&quot;#2A56C6&quot;\r\n        android:text=&quot;@string/order_by_time&quot;\r\n        android:textSize=&quot;14sp&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;@+id/sort_status&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n```\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;item\r\n        android:drawable=&quot;@color/IndBlue&quot;\r\n        &gt;\r\n        &lt;shape android:shape=&quot;rectangle&quot;&gt;\r\n        &lt;/shape&gt;\r\n        &lt;solid android:color=&quot;@color/IndBlue&quot; /&gt;\r\n    &lt;/item&gt;\r\n\r\n&lt;/selector&gt;\r\n```\r\n\r\nI tried to edit the buttons colors, but for some reason it won&#39;t change. Solid android:color / android:drawable doesn&#39;t work even though I placed it everywhere.\r\n","title":"Android Studio, color in selector (in item) doesnt work","body":"<pre><code>&lt;Button\n        android:id=&quot;@+id/sort_time&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;52dp&quot;\n        android:layout_marginTop=&quot;54dp&quot;\n        android:background=&quot;@drawable/roundless_button&quot;\n        android:backgroundTint=&quot;#2A56C6&quot;\n        android:text=&quot;@string/order_by_time&quot;\n        android:textSize=&quot;14sp&quot;\n        app:layout_constraintEnd_toStartOf=&quot;@+id/sort_status&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n</code></pre>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item\n        android:drawable=&quot;@color/IndBlue&quot;\n        &gt;\n        &lt;shape android:shape=&quot;rectangle&quot;&gt;\n        &lt;/shape&gt;\n        &lt;solid android:color=&quot;@color/IndBlue&quot; /&gt;\n    &lt;/item&gt;\n\n&lt;/selector&gt;\n</code></pre>\n<p>I tried to edit the buttons colors, but for some reason it won't change. Solid android:color / android:drawable doesn't work even though I placed it everywhere.</p>\n"},{"tags":["java","eclipse","maven","tomcat"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1654249024,"post_id":72487406,"comment_id":128050980,"body_markdown":"Using breakpoints requires that the code has been compiled with debug information and that the source has been correctly attached. Please provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Using breakpoints requires that the code has been compiled with debug information and that the source has been correctly attached. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":4889079,"reputation":21,"user_id":3940699,"display_name":"Peter"},"score":0,"creation_date":1654253210,"post_id":72487406,"comment_id":128052312,"body_markdown":"I am sure it must be an eclipse / tomcat / maven issue.\nI have updated the question above. I hope it helps clarify. I cannot see how to add the demo.zip to the question.\nI get this issue on my machine you will in all probability not get the same issue on yours.","body":"I am sure it must be an eclipse / tomcat / maven issue. I have updated the question above. I hope it helps clarify. I cannot see how to add the demo.zip to the question. I get this issue on my machine you will in all probability not get the same issue on yours."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1654254279,"post_id":72487406,"comment_id":128052642,"body_markdown":"Prove it by a minimal reproducible example. If it is not reproducible, it can&#39;t be an Eclipse, Tomcat or Maven issue. You can use GitHub, etc. to share your minimal example project.","body":"Prove it by a minimal reproducible example. If it is not reproducible, it can&#39;t be an Eclipse, Tomcat or Maven issue. You can use GitHub, etc. to share your minimal example project."},{"owner":{"account_id":4889079,"reputation":21,"user_id":3940699,"display_name":"Peter"},"score":0,"creation_date":1654255612,"post_id":72487406,"comment_id":128053112,"body_markdown":"This is about as minimal as I can get. https://github.com/22ka/demo Thank you for taking the time to look at this.","body":"This is about as minimal as I can get. <a href=\"https://github.com/22ka/demo\" rel=\"nofollow noreferrer\">github.com/22ka/demo</a> Thank you for taking the time to look at this."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1654262532,"post_id":72487406,"comment_id":128055527,"body_markdown":"You have the same problem in there? In which file and line number?","body":"You have the same problem in there? In which file and line number?"},{"owner":{"account_id":4889079,"reputation":21,"user_id":3940699,"display_name":"Peter"},"score":0,"creation_date":1654266424,"post_id":72487406,"comment_id":128056971,"body_markdown":"In DemoApplication.java on line (13) the line with with SpringApplication.run(DemoApplication.class, args);\nbut that line is correct it just Eclipse or Tomcat or Maven that is not working","body":"In DemoApplication.java on line (13) the line with with SpringApplication.run(DemoApplication.class, args); but that line is correct it just Eclipse or Tomcat or Maven that is not working"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1654339015,"post_id":72487406,"comment_id":128070627,"body_markdown":"When running your application as a web application in Tomcat, I would guess (without being a web developer) the main method will never be called.","body":"When running your application as a web application in Tomcat, I would guess (without being a web developer) the main method will never be called."}],"owner":{"account_id":4889079,"reputation":21,"user_id":3940699,"display_name":"Peter"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":949,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654253115,"creation_date":1654247881,"question_id":72487406,"body_markdown":"Although I have tagged this with java it is not explicitly a java issue.\r\nI am upgrading a Vaadin application from Vaadin 8 to Vaadin 23. \r\nmy set up is \r\nOS windows 10 \r\nEclipse Version: 2022-03 (4.23.0) Build id: 20220310-1457 \r\napache tomcat 9.0.60 \r\napache maven 3.8.5\r\nJava adopt open jdk-11.0.10.9\r\n \r\nI am unable to run any application as a Tomcat server or a Maven build and debug it in eclipse.\r\nI am able to debug when it is a pure java application. \r\nI was initially able to build and debug the Vaadin 8 application with a Tomcat server or a Maven build. \r\n\r\nHowever after I started the upgrade to Vaadin 23  Eclipse &quot;broke&quot; and I cannot fix it. I keep getting \r\nunable to install breakpoint in  when debugging with Tomcat server or Maven. And even if I just continue Eclipse ignores the break points.(NB I dont get this when I run it as a java application) \r\n\r\nI have tried to make a new Spring Vaadin application at https://spring.io/quickstart and I am getting the same issue.\r\nSo new work space and project does not fix the issue.\r\nI have also deleted and rebuild the .m2 and .eclipse folders.\r\n\r\nI have unset and applied and reset and applied \r\nWindow =&gt; Preferences =&gt; Java =&gt;Compiler (class file generation) \r\n\r\n- Add variable attributes... \r\n- Add line number attributes... \r\n- Add source file name...\r\n\r\nI have unset and applied and reset and applied \r\nWindow =&gt; Preferences =&gt; Maven\r\n- Debug Output\r\n\r\nI have checked that the \r\nWindow =&gt; Preferences =&gt; Maven =&gt; installations\r\n- points to my maven 3.8.5  installation\r\n\r\nWindow =&gt; Run/Debug\r\n- Launch in debug mode when workspace contains break points (.) ALWAYS\r\n\r\nWindow =&gt; Server =&gt; Runtime Environment\r\n- points to the apache tomcat 9.0.60 installation\r\n\r\nThe following environment vars are also set and point to the relevant installation \r\n\r\n - JAVA_HOME \r\n - M2_HOME\r\n - MAVEN_HOME\r\n\r\nI have checked and gone through:\r\n\r\nhttps://stackoverflow.com/questions/957822/eclipse-unable-to-install-breakpoint-due-to-missing-line-number-attributes\r\n\r\nhttps://stackoverflow.com/questions/4760856/eclipse-unable-to-install-breakpoint \r\n\r\nI don&#39;t want to un-install  an re- install every thing. \r\nWhat have I missed? \r\n\r\n\r\n----------\r\nEdit\r\n\r\nSteps to reproduce\r\ngo to \r\nhttps://start.spring.io/\r\nselect \r\n- Mavan project\r\n- Language Java\r\n- Spring boot 2.6.8\r\n- Packaging War\r\n- Java 11\r\n\r\nIn dependencies add \r\n- Vaadin\r\n- Spring boot Dev tools\r\n- Liquibase Migration\r\n\r\nSelect generate and download \r\n- Demo.zip\r\n\r\nImport into eclipse\r\n\r\nIn eclipse Select Windows =&gt; View \r\n- Create new server \r\n- Point to Tomcat 9 installation\r\n- VM arguments are.\r\n\r\n  -Dcatalina.base=&quot;C:\\work\\programming\\spring\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0&quot; -Dcatalina.home=&quot;C:\\work\\projects\\common_libraries\\apache-tomcat-9.0.60&quot; -Dwtp.deploy=&quot;C:\\work\\programming\\spring\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps&quot; --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\r\n\r\nCreate debug line break point in DemoApplication.java on line with \r\nSpringApplication.run(DemoApplication.class, args);\r\n\r\nStart server :\r\nGet error message unable to install breakpoint in...\r\n\r\n(NB If I debug this as a java application it stops at the breakpoint)","title":"Eclipse debug unable to install breakpoint in","body":"<p>Although I have tagged this with java it is not explicitly a java issue.\nI am upgrading a Vaadin application from Vaadin 8 to Vaadin 23.\nmy set up is\nOS windows 10\nEclipse Version: 2022-03 (4.23.0) Build id: 20220310-1457\napache tomcat 9.0.60\napache maven 3.8.5\nJava adopt open jdk-11.0.10.9</p>\n<p>I am unable to run any application as a Tomcat server or a Maven build and debug it in eclipse.\nI am able to debug when it is a pure java application.\nI was initially able to build and debug the Vaadin 8 application with a Tomcat server or a Maven build.</p>\n<p>However after I started the upgrade to Vaadin 23  Eclipse &quot;broke&quot; and I cannot fix it. I keep getting\nunable to install breakpoint in  when debugging with Tomcat server or Maven. And even if I just continue Eclipse ignores the break points.(NB I dont get this when I run it as a java application)</p>\n<p>I have tried to make a new Spring Vaadin application at <a href=\"https://spring.io/quickstart\" rel=\"nofollow noreferrer\">https://spring.io/quickstart</a> and I am getting the same issue.\nSo new work space and project does not fix the issue.\nI have also deleted and rebuild the .m2 and .eclipse folders.</p>\n<p>I have unset and applied and reset and applied\nWindow =&gt; Preferences =&gt; Java =&gt;Compiler (class file generation)</p>\n<ul>\n<li>Add variable attributes...</li>\n<li>Add line number attributes...</li>\n<li>Add source file name...</li>\n</ul>\n<p>I have unset and applied and reset and applied\nWindow =&gt; Preferences =&gt; Maven</p>\n<ul>\n<li>Debug Output</li>\n</ul>\n<p>I have checked that the\nWindow =&gt; Preferences =&gt; Maven =&gt; installations</p>\n<ul>\n<li>points to my maven 3.8.5  installation</li>\n</ul>\n<p>Window =&gt; Run/Debug</p>\n<ul>\n<li>Launch in debug mode when workspace contains break points (.) ALWAYS</li>\n</ul>\n<p>Window =&gt; Server =&gt; Runtime Environment</p>\n<ul>\n<li>points to the apache tomcat 9.0.60 installation</li>\n</ul>\n<p>The following environment vars are also set and point to the relevant installation</p>\n<ul>\n<li>JAVA_HOME</li>\n<li>M2_HOME</li>\n<li>MAVEN_HOME</li>\n</ul>\n<p>I have checked and gone through:</p>\n<p><a href=\"https://stackoverflow.com/questions/957822/eclipse-unable-to-install-breakpoint-due-to-missing-line-number-attributes\">Eclipse - Unable to install breakpoint due to missing line number attributes</a></p>\n<p><a href=\"https://stackoverflow.com/questions/4760856/eclipse-unable-to-install-breakpoint\">Eclipse Unable to install breakpoint</a></p>\n<p>I don't want to un-install  an re- install every thing.\nWhat have I missed?</p>\n<hr />\n<p>Edit</p>\n<p>Steps to reproduce\ngo to\n<a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a>\nselect</p>\n<ul>\n<li>Mavan project</li>\n<li>Language Java</li>\n<li>Spring boot 2.6.8</li>\n<li>Packaging War</li>\n<li>Java 11</li>\n</ul>\n<p>In dependencies add</p>\n<ul>\n<li>Vaadin</li>\n<li>Spring boot Dev tools</li>\n<li>Liquibase Migration</li>\n</ul>\n<p>Select generate and download</p>\n<ul>\n<li>Demo.zip</li>\n</ul>\n<p>Import into eclipse</p>\n<p>In eclipse Select Windows =&gt; View</p>\n<ul>\n<li><p>Create new server</p>\n</li>\n<li><p>Point to Tomcat 9 installation</p>\n</li>\n<li><p>VM arguments are.</p>\n<p>-Dcatalina.base=&quot;C:\\work\\programming\\spring.metadata.plugins\\org.eclipse.wst.server.core\\tmp0&quot; -Dcatalina.home=&quot;C:\\work\\projects\\common_libraries\\apache-tomcat-9.0.60&quot; -Dwtp.deploy=&quot;C:\\work\\programming\\spring.metadata.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps&quot; --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED</p>\n</li>\n</ul>\n<p>Create debug line break point in DemoApplication.java on line with\nSpringApplication.run(DemoApplication.class, args);</p>\n<p>Start server :\nGet error message unable to install breakpoint in...</p>\n<p>(NB If I debug this as a java application it stops at the breakpoint)</p>\n"},{"tags":["java","android","onclicklistener"],"comments":[{"owner":{"account_id":2794865,"reputation":2078,"user_id":2404262,"accept_rate":67,"display_name":"Anshul Tyagi"},"score":0,"creation_date":1654245182,"post_id":72486664,"comment_id":128049719,"body_markdown":"Write `setContentView(R.layout.activity_main);` just after calling `super` then define textviews.","body":"Write <code>setContentView(R.layout.activity_main);</code> just after calling <code>super</code> then define textviews."}],"answers":[{"tags":[],"owner":{"account_id":8967184,"reputation":570,"user_id":9305266,"display_name":"Manish Ahire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654253044,"creation_date":1654253044,"answer_id":72488442,"question_id":72486664,"body_markdown":"\r\nMove the setContentView() after super, follow bellow code.\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_main);\r\n\t\r\n    TextView numbers = (TextView)findViewById(R.id.numbers);\r\n    TextView family = (TextView)findViewById(R.id.family);\r\n    TextView colors = (TextView)findViewById(R.id.colors);\r\n    TextView phrases = (TextView)findViewById(R.id.phrases);\r\n\r\n    numbers.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n            Intent intent = new Intent(MainActivity.this, NumbersActivity.class);\r\n            startActivity(intent);\r\n        }\r\n    });\r\n}\r\n```","title":"TextView OnClickListener Property not working","body":"<p>Move the setContentView() after super, follow bellow code.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    \n    TextView numbers = (TextView)findViewById(R.id.numbers);\n    TextView family = (TextView)findViewById(R.id.family);\n    TextView colors = (TextView)findViewById(R.id.colors);\n    TextView phrases = (TextView)findViewById(R.id.phrases);\n\n    numbers.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Intent intent = new Intent(MainActivity.this, NumbersActivity.class);\n            startActivity(intent);\n        }\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":18600581,"reputation":1,"user_id":13555501,"display_name":"Maitreyi Paweria"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1654253044,"creation_date":1654244234,"question_id":72486664,"body_markdown":"I am trying to call another layout when clicking a TextView on my MainActivity layout. I tried using the onClick() on the XML file but, due to the course purposes, it requires that everything is handled from the Java file. Following is the sample code given by the instructor that, in theory, should work, but it doesn&#39;t, followed by my very own code. When I click on the TextView to call on the other layout the program crashes.\r\n\r\nMy MainAcitivity.java code \r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        TextView numbers = (TextView)findViewById(R.id.numbers);\r\n        TextView family = (TextView)findViewById(R.id.family);\r\n        TextView colors = (TextView)findViewById(R.id.colors);\r\n        TextView phrases = (TextView)findViewById(R.id.phrases);\r\n\r\n        numbers.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(MainActivity.this, NumbersActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n\r\n        // Set the content of the activity to use the activity_main.xml layout file\r\n        setContentView(R.layout.activity_main);\r\n    }\r\n\r\nHere is my xml file\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/numbers&quot;\r\n        style=&quot;@style/CategoryStyle&quot;\r\n        android:background=&quot;@color/category_numbers&quot;\r\n        android:text=&quot;@string/category_numbers&quot; /&gt;\r\n\r\nThe file crashes with an error\r\n\r\n``` 2022-06-03 13:44:26.216 28613-28613/com.example.android.miwok E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.android.miwok, PID: 28613\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.android.miwok/com.example.android.miwok.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.TextView.setOnClickListener(android.view.View$OnClickListener)&#39; on a null object reference\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3782)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3961)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:91)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:149)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:103)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2386)\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)\r\n        at android.os.Looper.loop(Looper.java:213)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8178)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:513)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1101)\r\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.TextView.setOnClickListener(android.view.View$OnClickListener)&#39; on a null object reference\r\n        at com.example.android.miwok.MainActivity.onCreate(MainActivity.java:36)\r\n        at android.app.Activity.performCreate(Activity.java:8086)\r\n        at android.app.Activity.performCreate(Activity.java:8074)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1313)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3755)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3961)&#160;\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:91)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:149)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:103)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2386)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)&#160;\r\n        at android.os.Looper.loop(Looper.java:213)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:8178)&#160;\r\n\r\n\r\n","title":"TextView OnClickListener Property not working","body":"<p>I am trying to call another layout when clicking a TextView on my MainActivity layout. I tried using the onClick() on the XML file but, due to the course purposes, it requires that everything is handled from the Java file. Following is the sample code given by the instructor that, in theory, should work, but it doesn't, followed by my very own code. When I click on the TextView to call on the other layout the program crashes.</p>\n<p>My MainAcitivity.java code</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    TextView numbers = (TextView)findViewById(R.id.numbers);\n    TextView family = (TextView)findViewById(R.id.family);\n    TextView colors = (TextView)findViewById(R.id.colors);\n    TextView phrases = (TextView)findViewById(R.id.phrases);\n\n    numbers.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Intent intent = new Intent(MainActivity.this, NumbersActivity.class);\n            startActivity(intent);\n        }\n    });\n\n    // Set the content of the activity to use the activity_main.xml layout file\n    setContentView(R.layout.activity_main);\n}\n</code></pre>\n<p>Here is my xml file</p>\n<pre><code>&lt;TextView\n    android:id=&quot;@+id/numbers&quot;\n    style=&quot;@style/CategoryStyle&quot;\n    android:background=&quot;@color/category_numbers&quot;\n    android:text=&quot;@string/category_numbers&quot; /&gt;\n</code></pre>\n<p>The file crashes with an error</p>\n<pre><code>    Process: com.example.android.miwok, PID: 28613\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.android.miwok/com.example.android.miwok.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.TextView.setOnClickListener(android.view.View$OnClickListener)' on a null object reference\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3782)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3961)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:91)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:149)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:103)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2386)\n        at android.os.Handler.dispatchMessage(Handler.java:107)\n        at android.os.Looper.loop(Looper.java:213)\n        at android.app.ActivityThread.main(ActivityThread.java:8178)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:513)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1101)\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.TextView.setOnClickListener(android.view.View$OnClickListener)' on a null object reference\n        at com.example.android.miwok.MainActivity.onCreate(MainActivity.java:36)\n        at android.app.Activity.performCreate(Activity.java:8086)\n        at android.app.Activity.performCreate(Activity.java:8074)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1313)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3755)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3961)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:91)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:149)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:103)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2386)\n        at android.os.Handler.dispatchMessage(Handler.java:107)\n        at android.os.Looper.loop(Looper.java:213)\n        at android.app.ActivityThread.main(ActivityThread.java:8178)\n\n\n</code></pre>\n"},{"tags":["java","css","javafx","javafx-8"],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654225615,"creation_date":1654210489,"answer_id":72483090,"question_id":72480749,"body_markdown":"There is no need to set non-JavaFX CSS attributes like `font` rather than `-fx-font`, those non-JavaFX CSS attributes will just be ignored (or potentially cause issues).\r\n\r\nIf you set the font in the FXML (not recommended), then I think that would override the value you set in CSS usually.\r\n\r\nGenerally, for styles like titles, it is probably best to use a style class rather than an id.\r\n\r\nI don&#39;t think using the `*` universal selector is a good idea. Maybe it is OK, maybe it is not.  The standard JavaFX `modena.css` style sheet uses a syntax of `.root` for the defaults, perhaps that would be better for you. \r\n\r\nA description of the `root` style class in the [`Scene`](https://docs.oracle.com/javase/8/javafx/api/javafx/scene/doc-files/cssref.html#scene) JavaFX CSS: \r\n\r\n&gt; The Scene object has no settable CSS properties, nor does it have any pseudoclasses. However, the root node of the scene is assigned the style class &quot;root&quot; (in addition to style classes already assigned to the node). This is useful because the root node of Scene is the root container for all active scenegraph nodes. Thus, it can serve as a container for properties that are inherited or looked up.\r\n\r\nAlso, you tagged your question javafx-8.  JavaFX 8 is obsolete, and a more modern version of JavaFX is recommended.\r\n\r\n*Changing default colors*\r\n\r\nIf you want to change the default colors for the application, then you can do that by overriding the looked-up colors defined in the `.root` section of the default `modena.css` stylesheet.  \r\n\r\nThe main looked-up color which you might override is `-fx-base` which sets the default color style for the entire application.  \r\n\r\nStudy the JavaFX CSS reference if you would like to learn more about looked-up colors.\r\n\r\nFor example, the following style sheet rule sets the default font size to 20 and the default color of the text in labels to dark green.\r\n\r\n    .root {\r\n        -fx-font-size: 20;\r\n        -fx-text-background-color: darkgreen;\r\n    }\r\n\r\n**Example App**\r\n\r\nThe example defines a default size for text in the app within the `.root` section.  The default style size is overridden in the `.title` section so that titles can be larger.  The example application requires JavaFX 17+.\r\n\r\nThe example application doesn&#39;t set default colors, but, if you want to do that, you can experiment by changing the supplied CSS to match the CSS in the default colors section of the answer.\r\n\r\n[![earthlings][1]][1]\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class RootFontSizeApp extends Application {\r\n    \r\n        public static final String CSS = &quot;data:text/css,&quot; + // language=CSS\r\n                &quot;&quot;&quot;\r\n                .root {\r\n                    -fx-font-size: 20;\r\n                }\r\n                \r\n                .title {\r\n                    -fx-font-size: 30;\r\n                }\r\n                &quot;&quot;&quot;;\r\n    \r\n        @Override\r\n        public void start(Stage stage) throws Exception {\r\n            Label title = new Label(&quot;Greetings earthlings&quot;);\r\n            title.getStyleClass().add(&quot;title&quot;);\r\n    \r\n            Scene scene = new Scene(\r\n                    new VBox(20,\r\n                            title,\r\n                            new Label(&quot;hello, world&quot;)\r\n                    )\r\n            );\r\n            scene.getStylesheets().setAll(CSS);\r\n    \r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RRHIA.png\r\n\r\n","title":"JavaFx: CSS element unable to inherit properties of it&#39;s ID","body":"<p>There is no need to set non-JavaFX CSS attributes like <code>font</code> rather than <code>-fx-font</code>, those non-JavaFX CSS attributes will just be ignored (or potentially cause issues).</p>\n<p>If you set the font in the FXML (not recommended), then I think that would override the value you set in CSS usually.</p>\n<p>Generally, for styles like titles, it is probably best to use a style class rather than an id.</p>\n<p>I don't think using the <code>*</code> universal selector is a good idea. Maybe it is OK, maybe it is not.  The standard JavaFX <code>modena.css</code> style sheet uses a syntax of <code>.root</code> for the defaults, perhaps that would be better for you.</p>\n<p>A description of the <code>root</code> style class in the <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/doc-files/cssref.html#scene\" rel=\"nofollow noreferrer\"><code>Scene</code></a> JavaFX CSS:</p>\n<blockquote>\n<p>The Scene object has no settable CSS properties, nor does it have any pseudoclasses. However, the root node of the scene is assigned the style class &quot;root&quot; (in addition to style classes already assigned to the node). This is useful because the root node of Scene is the root container for all active scenegraph nodes. Thus, it can serve as a container for properties that are inherited or looked up.</p>\n</blockquote>\n<p>Also, you tagged your question javafx-8.  JavaFX 8 is obsolete, and a more modern version of JavaFX is recommended.</p>\n<p><em>Changing default colors</em></p>\n<p>If you want to change the default colors for the application, then you can do that by overriding the looked-up colors defined in the <code>.root</code> section of the default <code>modena.css</code> stylesheet.</p>\n<p>The main looked-up color which you might override is <code>-fx-base</code> which sets the default color style for the entire application.</p>\n<p>Study the JavaFX CSS reference if you would like to learn more about looked-up colors.</p>\n<p>For example, the following style sheet rule sets the default font size to 20 and the default color of the text in labels to dark green.</p>\n<pre><code>.root {\n    -fx-font-size: 20;\n    -fx-text-background-color: darkgreen;\n}\n</code></pre>\n<p><strong>Example App</strong></p>\n<p>The example defines a default size for text in the app within the <code>.root</code> section.  The default style size is overridden in the <code>.title</code> section so that titles can be larger.  The example application requires JavaFX 17+.</p>\n<p>The example application doesn't set default colors, but, if you want to do that, you can experiment by changing the supplied CSS to match the CSS in the default colors section of the answer.</p>\n<p><a href=\"https://i.stack.imgur.com/RRHIA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RRHIA.png\" alt=\"earthlings\" /></a></p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\npublic class RootFontSizeApp extends Application {\n\n    public static final String CSS = &quot;data:text/css,&quot; + // language=CSS\n            &quot;&quot;&quot;\n            .root {\n                -fx-font-size: 20;\n            }\n            \n            .title {\n                -fx-font-size: 30;\n            }\n            &quot;&quot;&quot;;\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        Label title = new Label(&quot;Greetings earthlings&quot;);\n        title.getStyleClass().add(&quot;title&quot;);\n\n        Scene scene = new Scene(\n                new VBox(20,\n                        title,\n                        new Label(&quot;hello, world&quot;)\n                )\n        );\n        scene.getStylesheets().setAll(CSS);\n\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19301668,"reputation":3,"user_id":18525298,"display_name":"0jas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72483090,"answer_count":1,"score":0,"last_activity_date":1654252958,"creation_date":1654194111,"question_id":72480749,"body_markdown":"I have created an Options menu with JavaFx and styled it with CSS. I have used FXML for designing the options window. In the options window, I have created a label at the top and given it ID &quot;title&quot;. Following is my FXML code and CSS code:\r\n\r\n    *{\r\n     -fx-font-size: 14px;\r\n        font-size: 14px;\r\n     }\r\n    \r\n     \r\n    #title{\r\n        -fx-font-size: 20px;\r\n        font-size: 20px;\r\n        -fx-text-fill: #35568c;\r\n    }\r\n\r\nFXML for Label:\r\n\r\n    &lt;Label id=&quot;title&quot; alignment=&quot;CENTER&quot; contentDisplay=&quot;CENTER&quot; layoutX=&quot;80.0&quot; layoutY=&quot;14.0&quot; prefHeight=&quot;31.0&quot; prefWidth=&quot;200.0&quot; styleClass=&quot;big&quot; text=&quot;Options&quot;&gt;\r\n             &lt;font&gt;\r\n                &lt;Font name=&quot;Bell MT Bold&quot; size=&quot;20.0&quot; /&gt;\r\n             &lt;/font&gt;\r\n          &lt;/Label&gt;\r\n\r\nThe problem with my output is that the label should inherit properties from #title part of CSS but instead, it is inheriting font-size from the * part and text-fill from #title part.\r\n\r\n[Screenshot of output][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/REIGk.png\r\n\r\nEDIT:\r\n\r\nI changed my CSS code for #title to\r\n\r\n    #title{\r\n        -fx-font: 20 &#39;Bell MT&#39;;\r\n        font: 20 &#39;Bell MT&#39;;\r\n        -fx-text-fill: #35568c;\r\n    }\r\n\r\nNow my code is working properly. I changed -fx-font-size to -fx-font. But I still don&#39;t understand why font-size was not working.","title":"JavaFx: CSS element unable to inherit properties of it&#39;s ID","body":"<p>I have created an Options menu with JavaFx and styled it with CSS. I have used FXML for designing the options window. In the options window, I have created a label at the top and given it ID &quot;title&quot;. Following is my FXML code and CSS code:</p>\n<pre><code>*{\n -fx-font-size: 14px;\n    font-size: 14px;\n }\n\n \n#title{\n    -fx-font-size: 20px;\n    font-size: 20px;\n    -fx-text-fill: #35568c;\n}\n</code></pre>\n<p>FXML for Label:</p>\n<pre><code>&lt;Label id=&quot;title&quot; alignment=&quot;CENTER&quot; contentDisplay=&quot;CENTER&quot; layoutX=&quot;80.0&quot; layoutY=&quot;14.0&quot; prefHeight=&quot;31.0&quot; prefWidth=&quot;200.0&quot; styleClass=&quot;big&quot; text=&quot;Options&quot;&gt;\n         &lt;font&gt;\n            &lt;Font name=&quot;Bell MT Bold&quot; size=&quot;20.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n</code></pre>\n<p>The problem with my output is that the label should inherit properties from #title part of CSS but instead, it is inheriting font-size from the * part and text-fill from #title part.</p>\n<p><a href=\"https://i.stack.imgur.com/REIGk.png\" rel=\"nofollow noreferrer\">Screenshot of output</a></p>\n<p>EDIT:</p>\n<p>I changed my CSS code for #title to</p>\n<pre><code>#title{\n    -fx-font: 20 'Bell MT';\n    font: 20 'Bell MT';\n    -fx-text-fill: #35568c;\n}\n</code></pre>\n<p>Now my code is working properly. I changed -fx-font-size to -fx-font. But I still don't understand why font-size was not working.</p>\n"},{"tags":["java","readfile","apache-commons-io"],"comments":[{"owner":{"account_id":24756257,"reputation":3,"user_id":18641150,"display_name":"Alex"},"score":0,"creation_date":1654247428,"post_id":72487102,"comment_id":128050448,"body_markdown":"@kabanus I tried and it seems that the problem is in split, I don&#39;t know how to improve it. Thank you","body":"@kabanus I tried and it seems that the problem is in split, I don&#39;t know how to improve it. Thank you"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1654253756,"post_id":72487102,"comment_id":128052470,"body_markdown":"How is your input data structured? If it follows a fixed format a format specific parser (using `String.indexOf()` and `String.substring()`) might be faster than the very generic `String.split()`","body":"How is your input data structured? If it follows a fixed format a format specific parser (using <code>String.indexOf()</code> and <code>String.substring()</code>) might be faster than the very generic <code>String.split()</code>"},{"owner":{"account_id":24756257,"reputation":3,"user_id":18641150,"display_name":"Alex"},"score":0,"creation_date":1654314127,"post_id":72487102,"comment_id":128067316,"body_markdown":"each line of my text file contains &quot;\\t&quot; or &quot; &quot;, not clearly format, then i have to use split() to get exactly string that i want","body":"each line of my text file contains &quot;\\t&quot; or &quot; &quot;, not clearly format, then i have to use split() to get exactly string that i want"}],"answers":[{"tags":[],"owner":{"account_id":25452201,"reputation":208,"user_id":19253406,"display_name":"Chicky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654251204,"creation_date":1654251204,"answer_id":72488107,"question_id":72487102,"body_markdown":"One problem is that String.split() using regex to matches delimiter, each time you invoke the split(), the delimiter `[\\t ]` must be recompiled first.\r\n\r\nYou can optimize it a bit by using Pattern.split() so that you can reuse the compiled pattern.\r\n\r\nTry this:\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        String text = &quot;one\\ttwo\\tthree&quot;;\r\n        String separatorPatternStr = &quot;[\\t ]&quot;;\r\n        Pattern separatorsPattern = Pattern.compile(separatorPatternStr);\r\n        int numIterations = 404000000;\r\n        long startTime = System.currentTimeMillis();\r\n        for (int i = 0; i &lt; numIterations; i++) {\r\n            String[] tmp = separatorsPattern.split(text);\r\n        }\r\n        long preCompiledElapsedTime = System.currentTimeMillis() - startTime;\r\n        System.out.printf(&quot;preCompiledElapsedTime: %d(ms)\\n&quot;, preCompiledElapsedTime);\r\n\r\n\r\n        long startTime2 = System.currentTimeMillis();\r\n        for (int i = 0; i &lt; numIterations; i++) {\r\n            String[] tmp = text.split(separatorPatternStr);\r\n        }\r\n        long plainSplitElapseTime = System.currentTimeMillis() - startTime2;\r\n        System.out.printf(&quot;plainSplitElapseTime: %d(ms)\\n&quot;, plainSplitElapseTime);\r\n    }\r\n\r\n\r\nAlso, regex matching is a costing operation, I suggest that your document must use only one delimiter char Ex. `&#39;\\t&#39;` so that you can write custom split by using String.indexOf or using guava which is much more efficient\r\n","title":"Read very large file make CPU loaded 100%","body":"<p>One problem is that String.split() using regex to matches delimiter, each time you invoke the split(), the delimiter <code>[\\t ]</code> must be recompiled first.</p>\n<p>You can optimize it a bit by using Pattern.split() so that you can reuse the compiled pattern.</p>\n<p>Try this:</p>\n<pre><code>public static void main(String[] args) throws Exception {\n    String text = &quot;one\\ttwo\\tthree&quot;;\n    String separatorPatternStr = &quot;[\\t ]&quot;;\n    Pattern separatorsPattern = Pattern.compile(separatorPatternStr);\n    int numIterations = 404000000;\n    long startTime = System.currentTimeMillis();\n    for (int i = 0; i &lt; numIterations; i++) {\n        String[] tmp = separatorsPattern.split(text);\n    }\n    long preCompiledElapsedTime = System.currentTimeMillis() - startTime;\n    System.out.printf(&quot;preCompiledElapsedTime: %d(ms)\\n&quot;, preCompiledElapsedTime);\n\n\n    long startTime2 = System.currentTimeMillis();\n    for (int i = 0; i &lt; numIterations; i++) {\n        String[] tmp = text.split(separatorPatternStr);\n    }\n    long plainSplitElapseTime = System.currentTimeMillis() - startTime2;\n    System.out.printf(&quot;plainSplitElapseTime: %d(ms)\\n&quot;, plainSplitElapseTime);\n}\n</code></pre>\n<p>Also, regex matching is a costing operation, I suggest that your document must use only one delimiter char Ex. <code>'\\t'</code> so that you can write custom split by using String.indexOf or using guava which is much more efficient</p>\n"}],"owner":{"account_id":24756257,"reputation":3,"user_id":18641150,"display_name":"Alex"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654252702,"creation_date":1654246502,"question_id":72487102,"body_markdown":"I&#39;m doing a text file reading with Apache Commons I/O and get full 100% CPU loaded with large file (23GB) ~ 404 million lines. My code snippet is below: \r\n\r\n```\r\ntry (LineIterator it = FileUtils.lineIterator(file1, &quot;UTF-8&quot;)) {\r\n    while (it.hasNext()) {\r\n        String lineR = it.nextLine();\r\n        // do something with line\r\n        bytesRead += lineR.length();\r\n        int percent = (int) (bytesRead * 100 / totalBytes);\r\n        if (percent &gt; prePercent &amp;&amp; percent % 5 == 0) {\r\n            log.info(percent + &quot;% &quot; + prefix + &quot; read.&quot;);\r\n            prePercent = percent;\r\n        }\r\n\r\n        //split \\t or &quot; &quot;, get domainName\r\n        String domainName = Arrays.stream(lineR.split(&quot;[\\t ]&quot;)).filter(line -&gt; line.contains(prefix)).findFirst().orElse(&quot; &quot;);\r\n        uniqueNameDomainSet.add(domainName.substring(0, a.length() -1));\r\n    }\r\n}\r\n```\r\n\r\nI don&#39;t think there&#39;s a problem with Apache Commons I/O, so which part can lead to full CPU?","title":"Read very large file make CPU loaded 100%","body":"<p>I'm doing a text file reading with Apache Commons I/O and get full 100% CPU loaded with large file (23GB) ~ 404 million lines. My code snippet is below:</p>\n<pre><code>try (LineIterator it = FileUtils.lineIterator(file1, &quot;UTF-8&quot;)) {\n    while (it.hasNext()) {\n        String lineR = it.nextLine();\n        // do something with line\n        bytesRead += lineR.length();\n        int percent = (int) (bytesRead * 100 / totalBytes);\n        if (percent &gt; prePercent &amp;&amp; percent % 5 == 0) {\n            log.info(percent + &quot;% &quot; + prefix + &quot; read.&quot;);\n            prePercent = percent;\n        }\n\n        //split \\t or &quot; &quot;, get domainName\n        String domainName = Arrays.stream(lineR.split(&quot;[\\t ]&quot;)).filter(line -&gt; line.contains(prefix)).findFirst().orElse(&quot; &quot;);\n        uniqueNameDomainSet.add(domainName.substring(0, a.length() -1));\n    }\n}\n</code></pre>\n<p>I don't think there's a problem with Apache Commons I/O, so which part can lead to full CPU?</p>\n"},{"tags":["java","java-time"],"comments":[{"owner":{"account_id":1076257,"reputation":155,"user_id":1074336,"accept_rate":40,"display_name":"curiousMind"},"score":1,"creation_date":1654096334,"post_id":72464193,"comment_id":128011289,"body_markdown":"This seems to be related to https://bugs.openjdk.java.net/browse/JDK-8061577. Is there a workaround to convert LocalDate to Date correctly?","body":"This seems to be related to <a href=\"https://bugs.openjdk.java.net/browse/JDK-8061577\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8061577</a>. Is there a workaround to convert LocalDate to Date correctly?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1654097302,"post_id":72464193,"comment_id":128011675,"body_markdown":"Generally speaking, time zone data gets wonky in the way past. Not only do we have limited specific information, what is available is often not encoded correctly or not used for some reason (some devices might ship with limited data cut off before a certain point to conserve storage/memory/processing time). I wouldn&#39;t expect any of this to work correctly. Is this an actual problem for your application or just a curiosity that you stumbled over?","body":"Generally speaking, time zone data gets wonky in the way past. Not only do we have limited specific information, what is available is often not encoded correctly or not used for some reason (some devices might ship with limited data cut off before a certain point to conserve storage/memory/processing time). I wouldn&#39;t expect any of this to work correctly. Is this an actual problem for your application or just a curiosity that you stumbled over?"},{"owner":{"account_id":1076257,"reputation":155,"user_id":1074336,"accept_rate":40,"display_name":"curiousMind"},"score":0,"creation_date":1654098148,"post_id":72464193,"comment_id":128012010,"body_markdown":"It&#39;s an actual problem as we use 1900-01-01 as universe start date which is required to be converted to Date object in one of the workflows.","body":"It&#39;s an actual problem as we use 1900-01-01 as universe start date which is required to be converted to Date object in one of the workflows."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":4,"creation_date":1654098205,"post_id":72464193,"comment_id":128012041,"body_markdown":"***Why*** are you trying to convert to `Date`? Why can&#39;t you do everything in `java.time`? From [my past experience](https://stackoverflow.com/q/72347528/5133585), `java.util.Date` have very different ideas about historical timezones compared to the `java.time` APIs.I&#39;d recommend you to stop using `java.util.Date` in the first place.","body":"<b><i>Why</i></b> are you trying to convert to <code>Date</code>? Why can&#39;t you do everything in <code>java.time</code>? From <a href=\"https://stackoverflow.com/q/72347528/5133585\">my past experience</a>, <code>java.util.Date</code> have very different ideas about historical timezones compared to the <code>java.time</code> APIs.I&#39;d recommend you to stop using <code>java.util.Date</code> in the first place."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1654098906,"post_id":72464193,"comment_id":128012336,"body_markdown":"If you are using 1901-01-01 as an epoch reference, why does your code invoke the JVMs current default time zone? Speaking of which, you never specified the time zone of your epoch reference. Are you counting time from first moment of January 1, 1900 as seen in UTC, or as seen in `Asia/Kolkata` time zone, or as seen in some other time zone?","body":"If you are using 1901-01-01 as an epoch reference, why does your code invoke the JVMs current default time zone? Speaking of which, you never specified the time zone of your epoch reference. Are you counting time from first moment of January 1, 1900 as seen in UTC, or as seen in <code>Asia&#47;Kolkata</code> time zone, or as seen in some other time zone?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1654098952,"post_id":72464193,"comment_id":128012352,"body_markdown":"You should post details and clarifications as edits to your Question rather than as Comments.","body":"You should post details and clarifications as edits to your Question rather than as Comments."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1654099639,"post_id":72464193,"comment_id":128012587,"body_markdown":"After some investigation, I feel this is just like the linked answer in my previous comment. `TimeZone` and `ZoneId` disagree about the offset of `Asia/Kolkata` at `i1`. See the results of `TimeZone.getTimeZone(&quot;Asia/Kolkata&quot;).getOffset(i1.toEpochMilli())` and `ZoneId.of(&quot;Asia/Kolkata&quot;).getRules().getOffset(i1).getTotalSeconds() * 1000`, and also those for `i2`.","body":"After some investigation, I feel this is just like the linked answer in my previous comment. <code>TimeZone</code> and <code>ZoneId</code> disagree about the offset of <code>Asia&#47;Kolkata</code> at <code>i1</code>. See the results of <code>TimeZone.getTimeZone(&quot;Asia&#47;Kolkata&quot;).getOffset(i1.toEpochMil&zwnj;&#8203;li())</code> and <code>ZoneId.of(&quot;Asia&#47;Kolkata&quot;).getRules().getOffset(i1).getTotalS&zwnj;&#8203;econds() * 1000</code>, and also those for <code>i2</code>."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1654099855,"post_id":72464193,"comment_id":128012672,"body_markdown":"It seems like the old `TimeZone` just treats everything before 1900-01-01 midnight UTC as using modern standardised timezones, while everything after that point seem to agrees with java.time. In any case, *just don&#39;t use `Date`.*","body":"It seems like the old <code>TimeZone</code> just treats everything before 1900-01-01 midnight UTC as using modern standardised timezones, while everything after that point seem to agrees with java.time. In any case, <i>just don&#39;t use <code>Date</code>.</i>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1654188062,"post_id":72464193,"comment_id":128037071,"body_markdown":"Does this answer your question? [Unable to convert dates - LocalDate minus one day](https://stackoverflow.com/questions/72347528/unable-to-convert-dates-localdate-minus-one-day)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/72347528/unable-to-convert-dates-localdate-minus-one-day\">Unable to convert dates - LocalDate minus one day</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1654188381,"post_id":72464193,"comment_id":128037164,"body_markdown":"If its any consolation, you are getting a `Date` representing the correct point in time. It just prints wrong when you do `System.out.println()` thereby invoking its `toString` method.","body":"If its any consolation, you are getting a <code>Date</code> representing the correct point in time. It just prints wrong when you do <code>System.out.println()</code> thereby invoking its <code>toString</code> method."},{"owner":{"account_id":1076257,"reputation":155,"user_id":1074336,"accept_rate":40,"display_name":"curiousMind"},"score":1,"creation_date":1654252602,"post_id":72464193,"comment_id":128052122,"body_markdown":"@sweeper, yes, not using `Date` would be ideal, but there are APIs which accept `Date` and thus we need to convert to `Date` until those APIs are migrated to use `java.time.*` classes.\n@OleV.V. thanks for the reference, it was helpful. Also, I agree on `toString` is little misleading as it tries to print in local time zone.","body":"@sweeper, yes, not using <code>Date</code> would be ideal, but there are APIs which accept <code>Date</code> and thus we need to convert to <code>Date</code> until those APIs are migrated to use <code>java.time.*</code> classes. @OleV.V. thanks for the reference, it was helpful. Also, I agree on <code>toString</code> is little misleading as it tries to print in local time zone."}],"answers":[{"tags":[],"owner":{"account_id":1076257,"reputation":155,"user_id":1074336,"accept_rate":40,"display_name":"curiousMind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654252512,"creation_date":1654252512,"answer_id":72488345,"question_id":72464193,"body_markdown":"Digging through online resources, I stumbled upon [JDK-8061577][1] which explains the behavior. It&#39;s because `java.util.Calendar` supports `Julian-Gregorian` calendar where as newer `java.time.*` classes support `ISO 8601` calendar (i.e. `Proleptic-Gregorian` calendar). As calendars used are different, there can be differences that are observed while converting from one type to another based on calendar rules.\r\n\r\nLuckily, Calendar builder allows setting calendar type to ISO 8601 which can be used as a workaround. So, following code snippet worked for us:\r\n```\r\nDate date = new Calendar.Builder().setCalendarType(&quot;iso8601&quot;)\r\n                .setDate(localDate.getYear(), localDate.getMonthValue() - 1, localDate.getDayOfMonth())\r\n                .build()\r\n                .getTime();\r\n```\r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-8061577","title":"Converting from java.time.LocalDate to java.util.Date results in incorrect timestamp in Asia/Kolkata time zone","body":"<p>Digging through online resources, I stumbled upon <a href=\"https://bugs.openjdk.java.net/browse/JDK-8061577\" rel=\"nofollow noreferrer\">JDK-8061577</a> which explains the behavior. It's because <code>java.util.Calendar</code> supports <code>Julian-Gregorian</code> calendar where as newer <code>java.time.*</code> classes support <code>ISO 8601</code> calendar (i.e. <code>Proleptic-Gregorian</code> calendar). As calendars used are different, there can be differences that are observed while converting from one type to another based on calendar rules.</p>\n<p>Luckily, Calendar builder allows setting calendar type to ISO 8601 which can be used as a workaround. So, following code snippet worked for us:</p>\n<pre><code>Date date = new Calendar.Builder().setCalendarType(&quot;iso8601&quot;)\n                .setDate(localDate.getYear(), localDate.getMonthValue() - 1, localDate.getDayOfMonth())\n                .build()\n                .getTime();\n</code></pre>\n"}],"owner":{"account_id":1076257,"reputation":155,"user_id":1074336,"accept_rate":40,"display_name":"curiousMind"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":778,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72488345,"answer_count":1,"score":1,"last_activity_date":1654252512,"creation_date":1654096141,"question_id":72464193,"body_markdown":"While converting `java.time.LocalDate` object into `java.util.Date` object, it works fine for  LocalDate &gt; 1900-01-02 when system timezone is set to `Asia/Kolkata` / `IST`.\r\n\r\nBut for LocalDate &lt;= 1900-01-01, it results in an offset 8 minutes and 50 seconds.\r\n\r\n```\r\nimport java.time.*;\r\nimport java.util.*;\r\n\r\nTimeZone.setDefault(TimeZone.getTimeZone(&quot;Asia/Kolkata&quot;));\r\nInstant i1 = LocalDate.of(1900,1, 1).atStartOfDay(ZoneId.systemDefault()).toInstant();\r\nInstant i2 = LocalDate.of(1900,1, 2).atStartOfDay(ZoneId.systemDefault()).toInstant();\r\n\r\nSystem.out.println(Date.from(i1));\r\nSystem.out.println(Date.from(i2));\r\n```\r\n\r\nOutput:\r\n```\r\nMon Jan 01 00:08:50 IST 1900\r\nTue Jan 02 00:00:00 IST 1900\r\n```\r\n\r\nOne can notice `08:50` for minutes and seconds for 1st of Jan, where as it&#39;s correctly set as `00:00` for 2nd Jan. It seems like it has something to do with 1st Jan, 1900 in IST falls on earlier year in UTC i.e. 31st Dec, 1899.\r\n\r\nAccording to https://www.timeanddate.com/time/zone/india, the country has officially observed India Standard Time (IST) since 1947. However, the UTC+5:30 offset has been used as the local standard time in India since 1906. But surprisingly, it&#39;s working correctly for any Dates where year is 1900 in UTC.\r\n\r\nIs there a way to convert 1900-01-01 LocalDate correctly into Date when time zone is set to `Asia/Kolkata` / `IST`?","title":"Converting from java.time.LocalDate to java.util.Date results in incorrect timestamp in Asia/Kolkata time zone","body":"<p>While converting <code>java.time.LocalDate</code> object into <code>java.util.Date</code> object, it works fine for  LocalDate &gt; 1900-01-02 when system timezone is set to <code>Asia/Kolkata</code> / <code>IST</code>.</p>\n<p>But for LocalDate &lt;= 1900-01-01, it results in an offset 8 minutes and 50 seconds.</p>\n<pre><code>import java.time.*;\nimport java.util.*;\n\nTimeZone.setDefault(TimeZone.getTimeZone(&quot;Asia/Kolkata&quot;));\nInstant i1 = LocalDate.of(1900,1, 1).atStartOfDay(ZoneId.systemDefault()).toInstant();\nInstant i2 = LocalDate.of(1900,1, 2).atStartOfDay(ZoneId.systemDefault()).toInstant();\n\nSystem.out.println(Date.from(i1));\nSystem.out.println(Date.from(i2));\n</code></pre>\n<p>Output:</p>\n<pre><code>Mon Jan 01 00:08:50 IST 1900\nTue Jan 02 00:00:00 IST 1900\n</code></pre>\n<p>One can notice <code>08:50</code> for minutes and seconds for 1st of Jan, where as it's correctly set as <code>00:00</code> for 2nd Jan. It seems like it has something to do with 1st Jan, 1900 in IST falls on earlier year in UTC i.e. 31st Dec, 1899.</p>\n<p>According to <a href=\"https://www.timeanddate.com/time/zone/india\" rel=\"nofollow noreferrer\">https://www.timeanddate.com/time/zone/india</a>, the country has officially observed India Standard Time (IST) since 1947. However, the UTC+5:30 offset has been used as the local standard time in India since 1906. But surprisingly, it's working correctly for any Dates where year is 1900 in UTC.</p>\n<p>Is there a way to convert 1900-01-01 LocalDate correctly into Date when time zone is set to <code>Asia/Kolkata</code> / <code>IST</code>?</p>\n"},{"tags":["java","spring-boot","cron","scheduler"],"comments":[{"owner":{"account_id":2421483,"reputation":533,"user_id":2538530,"accept_rate":67,"display_name":"leonardseymore"},"score":0,"creation_date":1654238571,"post_id":72485628,"comment_id":128047848,"body_markdown":"Take a look at https://spring.io/guides/gs/scheduling-tasks/","body":"Take a look at <a href=\"https://spring.io/guides/gs/scheduling-tasks/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/scheduling-tasks</a>"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1654238809,"post_id":72485628,"comment_id":128047913,"body_markdown":"How would it run for the first tim at 9.10 if you start it at 12.10?","body":"How would it run for the first tim at 9.10 if you start it at 12.10?"},{"owner":{"account_id":24871615,"reputation":11,"user_id":18746050,"display_name":"Umang"},"score":0,"creation_date":1654239594,"post_id":72485628,"comment_id":128048117,"body_markdown":"sorry, I updated the question it should run immediately after starting the application","body":"sorry, I updated the question it should run immediately after starting the application"},{"owner":{"account_id":12952658,"reputation":2391,"user_id":9364437,"display_name":"Shrikant Wandhare"},"score":0,"creation_date":1654241712,"post_id":72485628,"comment_id":128048749,"body_markdown":"https://crontab.guru/examples.html","body":"<a href=\"https://crontab.guru/examples.html\" rel=\"nofollow noreferrer\">crontab.guru/examples.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":1927812,"reputation":535,"user_id":1737869,"display_name":"Dmitriy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654242015,"creation_date":1654242015,"answer_id":72486249,"question_id":72485628,"body_markdown":"Start it manually (from code) first time when the application has finished startup and then use scheduler to run it every hour using [@Scheduled annotation][1].\r\n\r\nExamples for `@Scheduled` annotation: \r\n\r\n - [Baeldung on @Scheduled annotation][2]\r\n - [Callicoder and their &quot;How to Schedule Tasks with Spring Boot&quot;][3]\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html\r\n  [2]: https://www.baeldung.com/spring-scheduled-tasks\r\n  [3]: https://www.callicoder.com/spring-boot-task-scheduling-with-scheduled-annotation/\r\n\r\nNote:  \r\nI think `@Scheduled(fixedRate = 3600000)` (where `3600000` is 60 minutes in milliseconds, i.e. each hour) is what you are trying to achieve.","title":"I want to implement a spring cron scheduler that should run for the 1st time when the application is started and run every 1 hour from the next time","body":"<p>Start it manually (from code) first time when the application has finished startup and then use scheduler to run it every hour using <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html\" rel=\"nofollow noreferrer\">@Scheduled annotation</a>.</p>\n<p>Examples for <code>@Scheduled</code> annotation:</p>\n<ul>\n<li><a href=\"https://www.baeldung.com/spring-scheduled-tasks\" rel=\"nofollow noreferrer\">Baeldung on @Scheduled annotation</a></li>\n<li><a href=\"https://www.callicoder.com/spring-boot-task-scheduling-with-scheduled-annotation/\" rel=\"nofollow noreferrer\">Callicoder and their &quot;How to Schedule Tasks with Spring Boot&quot;</a></li>\n</ul>\n<p>Note:<br />\nI think <code>@Scheduled(fixedRate = 3600000)</code> (where <code>3600000</code> is 60 minutes in milliseconds, i.e. each hour) is what you are trying to achieve.</p>\n"}],"owner":{"account_id":24871615,"reputation":11,"user_id":18746050,"display_name":"Umang"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1743,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1654245044,"accepted_answer_id":72486249,"answer_count":1,"score":-1,"last_activity_date":1654252288,"creation_date":1654238374,"question_id":72485628,"body_markdown":"Eg. if I am starting the application at 9.10 am then it should run 1st time on 9.10 am and from the next time it should run in every 1 hour like at 10.10 am, 11.10 am, 12.10 pm etc \r\n\r\nNote : This is a springboot application ","title":"I want to implement a spring cron scheduler that should run for the 1st time when the application is started and run every 1 hour from the next time","body":"<p>Eg. if I am starting the application at 9.10 am then it should run 1st time on 9.10 am and from the next time it should run in every 1 hour like at 10.10 am, 11.10 am, 12.10 pm etc</p>\n<p>Note : This is a springboot application</p>\n"},{"tags":["java","unicode","encoding"],"comments":[{"owner":{"account_id":2587938,"reputation":3541,"user_id":2243178,"accept_rate":33,"display_name":"ThaiPD"},"score":0,"creation_date":1420514473,"post_id":27791430,"comment_id":43992863,"body_markdown":"Thanks @AnubianNoob, I solved my problem with your suggestion but in additional I want to solve it with only standard lib of Java.\nBecause  with suggest in http://stackoverflow.com/questions/20799512/convert-decimal-ncrs-code-into-utf-8-in-java-jsp?answertab=active#tab-top I can convert string with prefix is &quot;$#&quot;.\nCould you give a help ?\nThanks alot!","body":"Thanks @AnubianNoob, I solved my problem with your suggestion but in additional I want to solve it with only standard lib of Java. Because  with suggest in <a href=\"http://stackoverflow.com/questions/20799512/convert-decimal-ncrs-code-into-utf-8-in-java-jsp?answertab=active#tab-top\" title=\"convert decimal ncrs code into utf 8 in java jsp\">stackoverflow.com/questions/20799512/&hellip;</a> I can convert string with prefix is &quot;$#&quot;. Could you give a help ? Thanks alot!"}],"answers":[{"tags":[],"owner":{"account_id":2529002,"reputation":13456,"user_id":2197700,"accept_rate":80,"display_name":"Anubian Noob"},"down_vote_count":2,"up_vote_count":0,"is_accepted":true,"score":-2,"last_activity_date":1420513856,"creation_date":1420513104,"answer_id":27791447,"question_id":27791430,"body_markdown":"In Java, for a unicode string literal, you do `\\u` before the number.\r\n\r\nFor example:\r\n\r\n    System.out.println(&quot;\\u0042&quot;);\r\n    System.out.println(&quot;\\u00AF\\\\_(\\u30C4)_/\\u00AF&quot;);\r\n\r\nPrints:\r\n\r\n    B\r\n    &#175;\\_()_/&#175;\r\n\r\nWhat you want is:\r\n\r\n    System.out.println(&quot;\\u00D0\\u1ED9t nhi\\u00EAn, \\u1EDF g\\u1ED1c T\\u00E2y B\\u1EAFc v\\u0103ng v\\u1EB3ng c\\u00F3 ti\\u1EBFng v\\u00F3 ng\\u1EF1a d\\u1ED3n d\\u1EADp.\\n&quot;);\r\n\r\nPrints:\r\n\r\n    &#208;t nhi&#234;n,  gc T&#226;y Bc vng vng c&#243; ting v&#243; nga dn dp.\r\n\r\nEDIT: Apache commons is the best way to go:\r\n\r\n[`StringEscapeUtils.unescapeHtml4();`](http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/StringEscapeUtils.html#unescapeHtml4%28java.lang.String%29).","title":"How to convert string with html encoding to Unicode in java","body":"<p>In Java, for a unicode string literal, you do <code>\\u</code> before the number.</p>\n\n<p>For example:</p>\n\n<pre><code>System.out.println(\"\\u0042\");\nSystem.out.println(\"\\u00AF\\\\_(\\u30C4)_/\\u00AF\");\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>B\n\\_()_/\n</code></pre>\n\n<p>What you want is:</p>\n\n<pre><code>System.out.println(\"\\u00D0\\u1ED9t nhi\\u00EAn, \\u1EDF g\\u1ED1c T\\u00E2y B\\u1EAFc v\\u0103ng v\\u1EB3ng c\\u00F3 ti\\u1EBFng v\\u00F3 ng\\u1EF1a d\\u1ED3n d\\u1EADp.\\n\");\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>t nhin,  gc Ty Bc vng vng c ting v nga dn dp.\n</code></pre>\n\n<p>EDIT: Apache commons is the best way to go:</p>\n\n<p><a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/StringEscapeUtils.html#unescapeHtml4%28java.lang.String%29\" rel=\"nofollow\"><code>StringEscapeUtils.unescapeHtml4();</code></a>.</p>\n"},{"tags":[],"owner":{"display_name":"user8356718"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517972713,"creation_date":1517918421,"answer_id":48642595,"question_id":27791430,"body_markdown":"    maven:\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\r\n        &lt;version&gt;1.9.2&lt;/version&gt;\r\n    &lt;/dependency&gt;    \r\n\r\n    /**\r\n     * https://stackoverflow.com/a/6766497/8356718\r\n     */\r\n    public static String toDecimal(String text) {\r\n        StringBuffer sb = new StringBuffer();\r\n        for (int i = 0; i &lt; text.length(); i++) {\r\n            int codePoint = text.codePointAt(i);\r\n            // Skip over the second char in a surrogate pair\r\n            if (codePoint &gt; 0xffff) {\r\n                i++;\r\n            }\r\n            sb.append(String.format(&quot;&amp;#%s;&quot;, codePoint));\r\n        }\r\n        return sb.toString();\r\n    }\r\n\r\n    public static Document getNoPrettyDoc(String html) {\r\n        Document doc = Jsoup.parse(html);\r\n        doc.outputSettings().prettyPrint(false);\r\n        return doc;\r\n    }\r\n\r\n    public static String toDecimalHtml(String html) {\r\n        Document doc = getNoPrettyDoc(html);\r\n        toDecimalHtml(doc);\r\n        return doc.body().html().trim().replace(&quot;&amp;amp;&quot;, &quot;&amp;&quot;);\r\n    }\r\n\r\n    private static void toDecimalHtml(Node node) {\r\n        for (int i = 0; i &lt; node.childNodes().size(); ) {\r\n            Node child = node.childNode(i);\r\n            if (child.nodeName().equals(&quot;#text&quot;)) {\r\n                TextNode text = (TextNode) child;\r\n                String str = text.getWholeText();\r\n                text.text(toDecimal(str));\r\n                if (child.childNodes().size() &lt;= 0) {\r\n                    i++;\r\n                }\r\n            } else {\r\n                if (child.childNodes().size() &gt; 0) {\r\n                    toDecimalHtml(child);\r\n                }\r\n                i++;\r\n            }\r\n        }\r\n    }\r\n\r\nyou may need to remove: `\\n \\r \\t` first","title":"How to convert string with html encoding to Unicode in java","body":"<pre><code>maven:\n&lt;dependency&gt;\n    &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\n    &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\n    &lt;version&gt;1.9.2&lt;/version&gt;\n&lt;/dependency&gt;    \n\n/**\n * https://stackoverflow.com/a/6766497/8356718\n */\npublic static String toDecimal(String text) {\n    StringBuffer sb = new StringBuffer();\n    for (int i = 0; i &lt; text.length(); i++) {\n        int codePoint = text.codePointAt(i);\n        // Skip over the second char in a surrogate pair\n        if (codePoint &gt; 0xffff) {\n            i++;\n        }\n        sb.append(String.format(\"&amp;#%s;\", codePoint));\n    }\n    return sb.toString();\n}\n\npublic static Document getNoPrettyDoc(String html) {\n    Document doc = Jsoup.parse(html);\n    doc.outputSettings().prettyPrint(false);\n    return doc;\n}\n\npublic static String toDecimalHtml(String html) {\n    Document doc = getNoPrettyDoc(html);\n    toDecimalHtml(doc);\n    return doc.body().html().trim().replace(\"&amp;amp;\", \"&amp;\");\n}\n\nprivate static void toDecimalHtml(Node node) {\n    for (int i = 0; i &lt; node.childNodes().size(); ) {\n        Node child = node.childNode(i);\n        if (child.nodeName().equals(\"#text\")) {\n            TextNode text = (TextNode) child;\n            String str = text.getWholeText();\n            text.text(toDecimal(str));\n            if (child.childNodes().size() &lt;= 0) {\n                i++;\n            }\n        } else {\n            if (child.childNodes().size() &gt; 0) {\n                toDecimalHtml(child);\n            }\n            i++;\n        }\n    }\n}\n</code></pre>\n\n<p>you may need to remove: <code>\\n \\r \\t</code> first</p>\n"},{"tags":[],"owner":{"account_id":2474917,"reputation":874,"user_id":2155741,"accept_rate":62,"display_name":"bluearrow"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1524710626,"creation_date":1524710626,"answer_id":50034065,"question_id":27791430,"body_markdown":"Use Apache Commons `StringEscapeUtils.unescapeHtml(string)` for this.\r\n\r\nRefer: https://stackoverflow.com/questions/994331/java-how-to-unescape-html-character-entities-in-java","title":"How to convert string with html encoding to Unicode in java","body":"<p>Use Apache Commons <code>StringEscapeUtils.unescapeHtml(string)</code> for this.</p>\n\n<p>Refer: <a href=\"https://stackoverflow.com/questions/994331/java-how-to-unescape-html-character-entities-in-java\">Java: How to unescape HTML character entities in Java?</a></p>\n"},{"tags":[],"owner":{"account_id":13241878,"reputation":153,"user_id":9562104,"display_name":"Faran Tariq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560836662,"creation_date":1560836662,"answer_id":56642399,"question_id":27791430,"body_markdown":" You might need to try this for encoding and decoding.\r\n\r\nFor encoding \r\n\r\n    URLEncoder.encode(&quot;&lt;#&gt; Test&quot;, &quot;UTF-8&quot;).replace(&quot;+&quot;, &quot;%20&quot;);\r\n\r\nFor Decoding\r\n\r\n    URLDecoder.decode(&quot;%3C%23%3E%20Test&quot;);","title":"How to convert string with html encoding to Unicode in java","body":"<p>You might need to try this for encoding and decoding.</p>\n\n<p>For encoding </p>\n\n<pre><code>URLEncoder.encode(\"&lt;#&gt; Test\", \"UTF-8\").replace(\"+\", \"%20\");\n</code></pre>\n\n<p>For Decoding</p>\n\n<pre><code>URLDecoder.decode(\"%3C%23%3E%20Test\");\n</code></pre>\n"}],"owner":{"account_id":2587938,"reputation":3541,"user_id":2243178,"accept_rate":33,"display_name":"ThaiPD"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15961,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1654252595,"accepted_answer_id":27791447,"answer_count":4,"score":2,"last_activity_date":1654252058,"creation_date":1420512961,"question_id":27791430,"body_markdown":"I have a string with `HTML` encoding like below: \r\n\r\n    &amp;ETH;&amp;#7897;t nhi&amp;ecirc;n, &amp;#7903; g&amp;#7889;c T&amp;acirc;y B&amp;#7855;c v&amp;#259;ng v&amp;#7859;ng c&amp;oacute; ti&amp;#7871;ng v&amp;oacute; ng&amp;#7921;a d&amp;#7891;n d&amp;#7853;p.\r\n\r\nI want to convert this `String` to `Unicode`.\r\nExpected output:\r\n\r\n    &#208;t nhi&#234;n,  gc T&#226;y Bc vng vng c&#243; ting v&#243; nga dn dp.\r\n\r\nI found a solution by [Convert Decimal NCRs Code into UTF-8 in java (JSP)][1] but it only works for strings with all characters which has its format begins with `&amp;#`. \r\n\r\nWith characters begin with `&amp;xxxx`, using the page [HTML encoding of foreign language characters][2] I got its encode is html encoding but my input string is the combination of convert HTML Entity (named) and HTML Entity (decimal).\r\n\r\nDoes anyone have any suggestion?\r\nIt would be the best if we can make it without adding any additional libraries.\r\n\r\n**[UPDATE]** I solved my problem by using [Apache library][3] : \r\n\r\n    String encodeString = &quot;&amp;ETH;&amp;#7897;t nhi&amp;ecirc;n, &amp;#7903; g&amp;#7889;c T&amp;acirc;y B&amp;#7855;c v&amp;#259;ng v&amp;#7859;ng c&amp;oacute; ti&amp;#7871;ng v&amp;oacute; ng&amp;#7921;a d&amp;#7891;n d&amp;#7853;p.&quot;;\r\n\t\tString unEncodeString = StringEscapeUtils.unescapeHtml4(encodeString);\r\n\t\tSystem.out.println(&quot;OUTPUT : &quot; + unEncodeString);\r\n\r\n   =====&gt; `OUTPUT : &#208;t nhi&#234;n,  gc T&#226;y Bc vng vng c&#243; ting v&#243; nga dn dp.`\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/20799512/convert-decimal-ncrs-code-into-utf-8-in-java-jsp?answertab=active#tab-top\r\n  [2]: http://www.thesauruslex.com/typo/eng/enghtml.htm\r\n  [3]: http://commons.apache.org/proper/commons-lang/download_lang.cgi","title":"How to convert string with html encoding to Unicode in java","body":"<p>I have a string with <code>HTML</code> encoding like below:</p>\n<pre><code>&amp;ETH;&amp;#7897;t nhi&amp;ecirc;n, &amp;#7903; g&amp;#7889;c T&amp;acirc;y B&amp;#7855;c v&amp;#259;ng v&amp;#7859;ng c&amp;oacute; ti&amp;#7871;ng v&amp;oacute; ng&amp;#7921;a d&amp;#7891;n d&amp;#7853;p.\n</code></pre>\n<p>I want to convert this <code>String</code> to <code>Unicode</code>.\nExpected output:</p>\n<pre><code>t nhin,  gc Ty Bc vng vng c ting v nga dn dp.\n</code></pre>\n<p>I found a solution by <a href=\"https://stackoverflow.com/questions/20799512/convert-decimal-ncrs-code-into-utf-8-in-java-jsp?answertab=active#tab-top\">Convert Decimal NCRs Code into UTF-8 in java (JSP)</a> but it only works for strings with all characters which has its format begins with <code>&amp;#</code>.</p>\n<p>With characters begin with <code>&amp;xxxx</code>, using the page <a href=\"http://www.thesauruslex.com/typo/eng/enghtml.htm\" rel=\"nofollow noreferrer\">HTML encoding of foreign language characters</a> I got its encode is html encoding but my input string is the combination of convert HTML Entity (named) and HTML Entity (decimal).</p>\n<p>Does anyone have any suggestion?\nIt would be the best if we can make it without adding any additional libraries.</p>\n<p><strong>[UPDATE]</strong> I solved my problem by using <a href=\"http://commons.apache.org/proper/commons-lang/download_lang.cgi\" rel=\"nofollow noreferrer\">Apache library</a> :</p>\n<pre><code>String encodeString = &quot;&amp;ETH;&amp;#7897;t nhi&amp;ecirc;n, &amp;#7903; g&amp;#7889;c T&amp;acirc;y B&amp;#7855;c v&amp;#259;ng v&amp;#7859;ng c&amp;oacute; ti&amp;#7871;ng v&amp;oacute; ng&amp;#7921;a d&amp;#7891;n d&amp;#7853;p.&quot;;\n    String unEncodeString = StringEscapeUtils.unescapeHtml4(encodeString);\n    System.out.println(&quot;OUTPUT : &quot; + unEncodeString);\n</code></pre>\n<p>=====&gt; <code>OUTPUT : t nhin,  gc Ty Bc vng vng c ting v nga dn dp.</code></p>\n"},{"tags":["java","dictionary","unique","bidirectional"],"answers":[{"tags":[],"owner":{"account_id":7254047,"reputation":467,"user_id":5533359,"accept_rate":67,"display_name":"HMD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654251869,"creation_date":1654248135,"answer_id":72487467,"question_id":72487163,"body_markdown":"Best way is to declare your own class, extend `DualHashBidiMap` and override `put` method so you can implement custom logic before calling actual `put()`:\r\n\r\n    class MyDualHashBidiMap&lt;K,V&gt; extends DualHashBidiMap&lt;K,V&gt;{\r\n        @Override\r\n        public V put(K key, V value){\r\n            if(this.exists(key, value)){\r\n                return super.put(key, value)\r\n            }\r\n    \r\n            return null;\r\n        }\r\n    \r\n        public boolean exists(K key, V value){\r\n            // impl existence condition\r\n        }\r\n    }\r\n\r\nYou can also use _anonymous classes_ right on instance creation:\r\n\r\n    public static void main(String[] args){\r\n        BidiMap&lt;String, Integer&gt; map = new DualHashBidiMap(){\r\n         \r\n            @Override\r\n            public V put(K key, V value){\r\n                if(this.exists(key, value)){\r\n                    return super.put(key, value)\r\n                }\r\n        \r\n                return null;\r\n            }\r\n        \r\n            public boolean exists(K key, V value){\r\n                // impl existence condition\r\n            }\r\n        }\r\n    \r\n        /// ... rest of impl\r\n    }","title":"Bidirectional mapping in Java witch rejects entries of key or value already existing","body":"<p>Best way is to declare your own class, extend <code>DualHashBidiMap</code> and override <code>put</code> method so you can implement custom logic before calling actual <code>put()</code>:</p>\n<pre><code>class MyDualHashBidiMap&lt;K,V&gt; extends DualHashBidiMap&lt;K,V&gt;{\n    @Override\n    public V put(K key, V value){\n        if(this.exists(key, value)){\n            return super.put(key, value)\n        }\n\n        return null;\n    }\n\n    public boolean exists(K key, V value){\n        // impl existence condition\n    }\n}\n</code></pre>\n<p>You can also use <em>anonymous classes</em> right on instance creation:</p>\n<pre><code>public static void main(String[] args){\n    BidiMap&lt;String, Integer&gt; map = new DualHashBidiMap(){\n     \n        @Override\n        public V put(K key, V value){\n            if(this.exists(key, value)){\n                return super.put(key, value)\n            }\n    \n            return null;\n        }\n    \n        public boolean exists(K key, V value){\n            // impl existence condition\n        }\n    }\n\n    /// ... rest of impl\n}\n</code></pre>\n"}],"owner":{"account_id":2996624,"reputation":758,"user_id":2543055,"accept_rate":83,"display_name":"Simeon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1654251869,"creation_date":1654246792,"question_id":72487163,"body_markdown":"I am looking for a data structure such as a bidirectional map that allows to map from a unique key to it&#39;s unique value and also from its value to the key.\r\n\r\nI found [this][1] example of a BidiMap\r\n\r\n\r\n\r\n    public class IdToNames {\r\n      public static void main(String[] args){\r\n        BidiMap&lt;String, Integer&gt; map = new DualHashBidiMap&lt;&gt;();\r\n    \r\n        map.put(&quot;NameA&quot;, 100);\r\n        map.put(&quot;NameB&quot;, 200);\r\n    \r\n        System.out.println(map.size()); //2 as expected\r\n        System.out.println(map.get(&quot;NameA&quot;)); //100 as expected\r\n        System.out.println(map.getKey(100)); //&quot;NameA&quot; as expected\r\n      }\r\n    }\r\n\r\nSo far, so good. That was what I was looking for.\r\nBut if one puts a new entry into the map, which contains already existing keys and or values, old entries are thrown away in order to keep the new entry while still having unique keys and unique values.\r\n\r\n    public class IdToNames {\r\n      public static void main(String[] args){\r\n        BidiMap&lt;String, Integer&gt; map = new DualHashBidiMap&lt;&gt;();\r\n    \r\n        map.put(&quot;NameA&quot;, 100);\r\n        System.out.println(map.size()); //1 as expected\r\n        map.put(&quot;NameB&quot;, 200);\r\n        System.out.println(map.size()); //2 as expected\r\n        map.put(&quot;NameA&quot;, 200);    // unfortunately this works without warnings\r\n        System.out.println(map.size()); //1 which is problematic\r\n\r\n        System.out.println(map.get(&quot;NameA&quot;)); //now 200\r\n        System.out.println(map.getKey(100)); //null\r\n      }\r\n    }\r\n\r\nIs there a good way to prevent silently altering the map. I would prefer a data structure that rejects new entries which would violate uniqueness of existing keys or values.\r\nAny ideas are welcome.\r\n\r\n  [1]: https://www.tutorialspoint.com/commons_collections/commons_collections_bidimap.htm","title":"Bidirectional mapping in Java witch rejects entries of key or value already existing","body":"<p>I am looking for a data structure such as a bidirectional map that allows to map from a unique key to it's unique value and also from its value to the key.</p>\n<p>I found <a href=\"https://www.tutorialspoint.com/commons_collections/commons_collections_bidimap.htm\" rel=\"nofollow noreferrer\">this</a> example of a BidiMap</p>\n<pre><code>public class IdToNames {\n  public static void main(String[] args){\n    BidiMap&lt;String, Integer&gt; map = new DualHashBidiMap&lt;&gt;();\n\n    map.put(&quot;NameA&quot;, 100);\n    map.put(&quot;NameB&quot;, 200);\n\n    System.out.println(map.size()); //2 as expected\n    System.out.println(map.get(&quot;NameA&quot;)); //100 as expected\n    System.out.println(map.getKey(100)); //&quot;NameA&quot; as expected\n  }\n}\n</code></pre>\n<p>So far, so good. That was what I was looking for.\nBut if one puts a new entry into the map, which contains already existing keys and or values, old entries are thrown away in order to keep the new entry while still having unique keys and unique values.</p>\n<pre><code>public class IdToNames {\n  public static void main(String[] args){\n    BidiMap&lt;String, Integer&gt; map = new DualHashBidiMap&lt;&gt;();\n\n    map.put(&quot;NameA&quot;, 100);\n    System.out.println(map.size()); //1 as expected\n    map.put(&quot;NameB&quot;, 200);\n    System.out.println(map.size()); //2 as expected\n    map.put(&quot;NameA&quot;, 200);    // unfortunately this works without warnings\n    System.out.println(map.size()); //1 which is problematic\n\n    System.out.println(map.get(&quot;NameA&quot;)); //now 200\n    System.out.println(map.getKey(100)); //null\n  }\n}\n</code></pre>\n<p>Is there a good way to prevent silently altering the map. I would prefer a data structure that rejects new entries which would violate uniqueness of existing keys or values.\nAny ideas are welcome.</p>\n"},{"tags":["java","rx-java","rx-java2","reactivex","rx-java3"],"answers":[{"tags":[],"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1615457839,"creation_date":1615457839,"answer_id":66580513,"question_id":66576755,"body_markdown":"Use `Completable.fromAction` and perhaps try-catch the exception instead of that `doFinally` contraption:\r\n\r\n```java\r\nCompletable.fromAction(() -&gt; {\r\n    try {\r\n        Bucket bucket = storage.create(\r\n            BucketInfo.newBuilder(googleUploadObjectConfiguration.bucketName())\r\n                      .setStorageClass(storageClass)\r\n                      .setLocation(googleUploadObjectConfiguration.locationName())\r\n                      .build()); \r\n    } catch (Throwable error) {\r\n        LOG.error(error.getMessage());\r\n    }\r\n})\r\n```","title":"io.reactivex.exceptions.UndeliverableException The exception could not be delivered to the consumer because it has already canceled/disposed","body":"<p>Use <code>Completable.fromAction</code> and perhaps try-catch the exception instead of that <code>doFinally</code> contraption:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Completable.fromAction(() -&gt; {\n    try {\n        Bucket bucket = storage.create(\n            BucketInfo.newBuilder(googleUploadObjectConfiguration.bucketName())\n                      .setStorageClass(storageClass)\n                      .setLocation(googleUploadObjectConfiguration.locationName())\n                      .build()); \n    } catch (Throwable error) {\n        LOG.error(error.getMessage());\n    }\n})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16764203,"reputation":141,"user_id":12118236,"display_name":"jonathan"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1624356973,"creation_date":1624356973,"answer_id":68081735,"question_id":66576755,"body_markdown":"You should add this in you application class\r\n\r\n```RxJavaPlugins.setErrorHandler(e -&gt; { }); ```\r\n\r\n    RxJavaPlugins.setErrorHandler { e -&gt;\r\n    if (e is UndeliverableException) {\r\n        // Merely log undeliverable exceptions\r\n        log.error(e.message)\r\n    } else {\r\n        // Forward all others to current thread&#39;s uncaught exception handler\r\n        Thread.currentThread().also { thread -&gt;\r\n            thread.uncaughtExceptionHandler.uncaughtException(thread, e)\r\n        }\r\n    }\r\n\r\nMore info here https://github.com/instacart/truetime-android/issues/98\r\n\r\n","title":"io.reactivex.exceptions.UndeliverableException The exception could not be delivered to the consumer because it has already canceled/disposed","body":"<p>You should add this in you application class</p>\n<p><code>RxJavaPlugins.setErrorHandler(e -&gt; { }); </code></p>\n<pre><code>RxJavaPlugins.setErrorHandler { e -&gt;\nif (e is UndeliverableException) {\n    // Merely log undeliverable exceptions\n    log.error(e.message)\n} else {\n    // Forward all others to current thread's uncaught exception handler\n    Thread.currentThread().also { thread -&gt;\n        thread.uncaughtExceptionHandler.uncaughtException(thread, e)\n    }\n}\n</code></pre>\n<p>More info here <a href=\"https://github.com/instacart/truetime-android/issues/98\" rel=\"noreferrer\">https://github.com/instacart/truetime-android/issues/98</a></p>\n"},{"tags":[],"owner":{"account_id":16481367,"reputation":171,"user_id":11908053,"display_name":"Fran&#231;ois ROSTKER"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654251132,"creation_date":1654251132,"answer_id":72488091,"question_id":66576755,"body_markdown":"Like @jonathan said, to solve this, I simply add in my App class the following code :\r\n\r\n    RxJavaPlugins.setErrorHandler { error -&gt;\r\n      var e = error\r\n      if (e is UndeliverableException) {\r\n          e = e.cause ?:let { e }\r\n      }\r\n      if (e is IOException || e is SocketException) {\r\n          // fine, irrelevant network problem or API that throws on cancellation\r\n          return@setErrorHandler\r\n      }\r\n      if (e is InterruptedException) {\r\n          // fine, some blocking code was interrupted by a dispose call\r\n          return@setErrorHandler\r\n      }\r\n      if (e is NullPointerException || e is IllegalArgumentException) {\r\n        // that&#39;s likely a bug in the application\r\n        Thread.currentThread().uncaughtExceptionHandler?.uncaughtException(Thread.currentThread(), e)?:let {\r\n            FirebaseCrashlytics.log(Log.ERROR, TAG, &quot;RxJavaPlugins uncaughtExceptionHandler is null but error is NullPointerException || error is IllegalArgumentException : $e&quot;)\r\n        }\r\n        return@setErrorHandler\r\n      }\r\n      if (e is IllegalStateException) {\r\n        // that&#39;s a bug in RxJava or in a custom operator\r\n        Thread.currentThread().uncaughtExceptionHandler?.uncaughtException(Thread.currentThread(), e)?:let {\r\n            FirebaseCrashlytics.log(Log.ERROR, TAG, &quot;RxJavaPlugins uncaughtExceptionHandler is null but error is IllegalStateException : $e&quot;)\r\n        }\r\n        return@setErrorHandler\r\n      }\r\n      FirebaseCrashlytics.log(Log.ERROR, TAG, &quot;Undeliverable exception received, not sure what to do $e&quot;)\r\n    }\r\n\r\nYou can adapt this code with your own Log system if you don&#39;t use FirebaseCrashlytics.\r\nThis code is edited from the source code in [https://github.com/ReactiveX/RxJava/wiki/What%27s-different-in-2.0#error-handling][1] (URL indicate in the error itself).\r\n\r\n\r\n  [1]: https://github.com/ReactiveX/RxJava/wiki/What%27s-different-in-2.0#error-handling","title":"io.reactivex.exceptions.UndeliverableException The exception could not be delivered to the consumer because it has already canceled/disposed","body":"<p>Like @jonathan said, to solve this, I simply add in my App class the following code :</p>\n<pre><code>RxJavaPlugins.setErrorHandler { error -&gt;\n  var e = error\n  if (e is UndeliverableException) {\n      e = e.cause ?:let { e }\n  }\n  if (e is IOException || e is SocketException) {\n      // fine, irrelevant network problem or API that throws on cancellation\n      return@setErrorHandler\n  }\n  if (e is InterruptedException) {\n      // fine, some blocking code was interrupted by a dispose call\n      return@setErrorHandler\n  }\n  if (e is NullPointerException || e is IllegalArgumentException) {\n    // that's likely a bug in the application\n    Thread.currentThread().uncaughtExceptionHandler?.uncaughtException(Thread.currentThread(), e)?:let {\n        FirebaseCrashlytics.log(Log.ERROR, TAG, &quot;RxJavaPlugins uncaughtExceptionHandler is null but error is NullPointerException || error is IllegalArgumentException : $e&quot;)\n    }\n    return@setErrorHandler\n  }\n  if (e is IllegalStateException) {\n    // that's a bug in RxJava or in a custom operator\n    Thread.currentThread().uncaughtExceptionHandler?.uncaughtException(Thread.currentThread(), e)?:let {\n        FirebaseCrashlytics.log(Log.ERROR, TAG, &quot;RxJavaPlugins uncaughtExceptionHandler is null but error is IllegalStateException : $e&quot;)\n    }\n    return@setErrorHandler\n  }\n  FirebaseCrashlytics.log(Log.ERROR, TAG, &quot;Undeliverable exception received, not sure what to do $e&quot;)\n}\n</code></pre>\n<p>You can adapt this code with your own Log system if you don't use FirebaseCrashlytics.\nThis code is edited from the source code in <a href=\"https://github.com/ReactiveX/RxJava/wiki/What%27s-different-in-2.0#error-handling\" rel=\"nofollow noreferrer\">https://github.com/ReactiveX/RxJava/wiki/What%27s-different-in-2.0#error-handling</a> (URL indicate in the error itself).</p>\n"}],"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26356,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":66580513,"answer_count":3,"score":14,"last_activity_date":1654251132,"creation_date":1615438912,"question_id":66576755,"body_markdown":"Getting an UndeliverableException while using `completable` \r\n\r\n    public Completable createBucketWithStorageClassAndLocation() {\r\n            return Completable.complete()\r\n                    .doFinally(() -&gt; {\r\n                Bucket bucket =\r\n                        storage.create(\r\n                                BucketInfo.newBuilder(googleUploadObjectConfiguration.bucketName())\r\n                                        .setStorageClass(storageClass)\r\n                                        .setLocation(googleUploadObjectConfiguration.locationName())\r\n                                        .build());       \r\n            }).doOnError(error -&gt; LOG.error(error.getMessage()));\r\n        }\r\n\r\nThe exception is thrown from the Google storage which is correct, But trying to handle on `doOnError` method\r\n\r\n    Caused by: com.google.cloud.storage.StorageException: You already own this bucket. Please select another name.\r\n\r\n\r\nRXJava exception\r\n\r\n    io.reactivex.exceptions.UndeliverableException: The exception could not be delivered to the consumer because it has already canceled/disposed the flow or the exception has nowhere to go to begin with. Further reading: https://github.com/ReactiveX/RxJava/wiki/What&#39;s-different-in-2.0#error-handling | com.google.cloud.storage.StorageException: You already own this bucket. Please select another name.\r\n    \tat io.reactivex.plugins.RxJavaPlugins.onError(RxJavaPlugins.java:367)\r\n    \tat io.reactivex.internal.operators.completable.CompletableDoFinally$DoFinallyObserver.runFinally(CompletableDoFinally.java:99)\r\n    \tat io.reactivex.internal.operators.completable.CompletableDoFinally$DoFinallyObserver.onComplete(CompletableDoFinally.java:79)\r\n    \tat io.micronaut.reactive.rxjava2.RxInstrumentedCompletableObserver.onComplete(RxInstrumentedCompletableObserver.java:64)\r\n    \tat io.reactivex.internal.disposables.EmptyDisposable.complete(EmptyDisposable.java:68)\r\n    \tat io.reactivex.internal.operators.completable.CompletableEmpty.subscribeActual(CompletableEmpty.java:27)\r\n    \tat io.reactivex.Completable.subscribe(Completable.java:2309)\r\n    \tat io.micronaut.reactive.rxjava2.RxInstrumentedCompletable.subscribeActual(RxInstrumentedCompletable.java:51)\r\n    \tat io.reactivex.Completable.subscribe(Completable.java:2309)\r\n    \tat io.reactivex.internal.operators.completable.CompletableDoFinally.subscribeActual(CompletableDoFinally.java:43)\r\n    \tat io.reactivex.Completable.subscribe(Completable.java:2309)\r\n    \tat io.micronaut.reactive.rxjava2.RxInstrumentedCompletable.subscribeActual(RxInstrumentedCompletable.java:51)\r\n    \tat io.reactivex.Completable.subscribe(Completable.java:2309)\r\n    \tat io.reactivex.internal.operators.completable.CompletablePeek.subscribeActual(CompletablePeek.java:51)\r\n    \tat io.reactivex.Completable.subscribe(Completable.java:2309)\r\n    \tat io.micronaut.reactive.rxjava2.RxInstrumentedCompletable.subscribeActual(RxInstrumentedCompletable.java:51)\r\n    \tat io.reactivex.Completable.subscribe(Completable.java:2309)\r\n    \tat io.reactivex.Completable.subscribe(Completable.java:2410)\r\n    \tat fete.bird.StartUp.onApplicationEvent(StartUp.java:24)\r\n    \tat fete.bird.StartUp.onApplicationEvent(StartUp.java:12)\r\n    \tat io.micronaut.context.DefaultBeanContext.notifyEventListeners(DefaultBeanContext.java:1323)\r\n    \tat io.micronaut.context.DefaultBeanContext.publishEvent(DefaultBeanContext.java:1308)\r\n    \tat io.micronaut.http.server.netty.NettyHttpServer.fireStartupEvents(NettyHttpServer.java:507)\r\n    \tat io.micronaut.http.server.netty.NettyHttpServer.start(NettyHttpServer.java:350)\r\n    \tat io.micronaut.http.server.netty.NettyHttpServer.start(NettyHttpServer.java:113)\r\n    \tat io.micronaut.runtime.Micronaut.lambda$start$2(Micronaut.java:77)\r\n    \tat java.base/java.util.Optional.ifPresent(Optional.java:176)\r\n    \tat io.micronaut.runtime.Micronaut.start(Micronaut.java:75)\r\n    \tat io.micronaut.runtime.Micronaut.run(Micronaut.java:311)\r\n    \tat io.micronaut.runtime.Micronaut.run(Micronaut.java:297)\r\n    \tat fete.bird.FeteBirdServiceApplication.main(FeteBirdServiceApplication.java:16)\r\n\r\nFrom the rxjava documentation https://github.com/ReactiveX/RxJava/wiki/What&#39;s-different-in-2.0#error-handling I need to handle the error in the application.\r\n\r\nI need to write the below code, \r\n\r\n    / If Java 8 lambdas are supported\r\n    RxJavaPlugins.setErrorHandler(e -&gt; { });\r\n\r\nMy question is where should I write this code. I have a Micronaut application using java or this is the only way to handle the exception.","title":"io.reactivex.exceptions.UndeliverableException The exception could not be delivered to the consumer because it has already canceled/disposed","body":"<p>Getting an UndeliverableException while using <code>completable</code></p>\n<pre><code>public Completable createBucketWithStorageClassAndLocation() {\n        return Completable.complete()\n                .doFinally(() -&gt; {\n            Bucket bucket =\n                    storage.create(\n                            BucketInfo.newBuilder(googleUploadObjectConfiguration.bucketName())\n                                    .setStorageClass(storageClass)\n                                    .setLocation(googleUploadObjectConfiguration.locationName())\n                                    .build());       \n        }).doOnError(error -&gt; LOG.error(error.getMessage()));\n    }\n</code></pre>\n<p>The exception is thrown from the Google storage which is correct, But trying to handle on <code>doOnError</code> method</p>\n<pre><code>Caused by: com.google.cloud.storage.StorageException: You already own this bucket. Please select another name.\n</code></pre>\n<p>RXJava exception</p>\n<pre><code>io.reactivex.exceptions.UndeliverableException: The exception could not be delivered to the consumer because it has already canceled/disposed the flow or the exception has nowhere to go to begin with. Further reading: https://github.com/ReactiveX/RxJava/wiki/What's-different-in-2.0#error-handling | com.google.cloud.storage.StorageException: You already own this bucket. Please select another name.\n    at io.reactivex.plugins.RxJavaPlugins.onError(RxJavaPlugins.java:367)\n    at io.reactivex.internal.operators.completable.CompletableDoFinally$DoFinallyObserver.runFinally(CompletableDoFinally.java:99)\n    at io.reactivex.internal.operators.completable.CompletableDoFinally$DoFinallyObserver.onComplete(CompletableDoFinally.java:79)\n    at io.micronaut.reactive.rxjava2.RxInstrumentedCompletableObserver.onComplete(RxInstrumentedCompletableObserver.java:64)\n    at io.reactivex.internal.disposables.EmptyDisposable.complete(EmptyDisposable.java:68)\n    at io.reactivex.internal.operators.completable.CompletableEmpty.subscribeActual(CompletableEmpty.java:27)\n    at io.reactivex.Completable.subscribe(Completable.java:2309)\n    at io.micronaut.reactive.rxjava2.RxInstrumentedCompletable.subscribeActual(RxInstrumentedCompletable.java:51)\n    at io.reactivex.Completable.subscribe(Completable.java:2309)\n    at io.reactivex.internal.operators.completable.CompletableDoFinally.subscribeActual(CompletableDoFinally.java:43)\n    at io.reactivex.Completable.subscribe(Completable.java:2309)\n    at io.micronaut.reactive.rxjava2.RxInstrumentedCompletable.subscribeActual(RxInstrumentedCompletable.java:51)\n    at io.reactivex.Completable.subscribe(Completable.java:2309)\n    at io.reactivex.internal.operators.completable.CompletablePeek.subscribeActual(CompletablePeek.java:51)\n    at io.reactivex.Completable.subscribe(Completable.java:2309)\n    at io.micronaut.reactive.rxjava2.RxInstrumentedCompletable.subscribeActual(RxInstrumentedCompletable.java:51)\n    at io.reactivex.Completable.subscribe(Completable.java:2309)\n    at io.reactivex.Completable.subscribe(Completable.java:2410)\n    at fete.bird.StartUp.onApplicationEvent(StartUp.java:24)\n    at fete.bird.StartUp.onApplicationEvent(StartUp.java:12)\n    at io.micronaut.context.DefaultBeanContext.notifyEventListeners(DefaultBeanContext.java:1323)\n    at io.micronaut.context.DefaultBeanContext.publishEvent(DefaultBeanContext.java:1308)\n    at io.micronaut.http.server.netty.NettyHttpServer.fireStartupEvents(NettyHttpServer.java:507)\n    at io.micronaut.http.server.netty.NettyHttpServer.start(NettyHttpServer.java:350)\n    at io.micronaut.http.server.netty.NettyHttpServer.start(NettyHttpServer.java:113)\n    at io.micronaut.runtime.Micronaut.lambda$start$2(Micronaut.java:77)\n    at java.base/java.util.Optional.ifPresent(Optional.java:176)\n    at io.micronaut.runtime.Micronaut.start(Micronaut.java:75)\n    at io.micronaut.runtime.Micronaut.run(Micronaut.java:311)\n    at io.micronaut.runtime.Micronaut.run(Micronaut.java:297)\n    at fete.bird.FeteBirdServiceApplication.main(FeteBirdServiceApplication.java:16)\n</code></pre>\n<p>From the rxjava documentation <a href=\"https://github.com/ReactiveX/RxJava/wiki/What%27s-different-in-2.0#error-handling\" rel=\"noreferrer\">https://github.com/ReactiveX/RxJava/wiki/What's-different-in-2.0#error-handling</a> I need to handle the error in the application.</p>\n<p>I need to write the below code,</p>\n<pre><code>/ If Java 8 lambdas are supported\nRxJavaPlugins.setErrorHandler(e -&gt; { });\n</code></pre>\n<p>My question is where should I write this code. I have a Micronaut application using java or this is the only way to handle the exception.</p>\n"},{"tags":["java","junit","integration-testing","recaptcha","recaptcha-v3"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1654270089,"post_id":72488086,"comment_id":128058372,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":25463821,"reputation":41,"user_id":19263182,"display_name":"MEGHNA KAPOOR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":572,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1654251110,"creation_date":1654251110,"question_id":72488086,"body_markdown":"I am trying to write integration test (Junit) in java to test recaptcha v3. But I cannot hardcode recaptcha token.\r\n \r\nI tried referring to https://developers.google.com/recaptcha/docs/faq#id-like-to-run-automated-tests-with-recaptcha.-what-should-i-do but couldn&#39;t find any way to generate recaptcha token for junit. \r\n\r\nI also referred to - https://developers.google.com/recaptcha/docs/v3 but it seems that only JavaScript API is available for token generation. I am looking for an API in Java to generate the recaptcha token. ","title":"How to generate recaptcha token in integration test in java?","body":"<p>I am trying to write integration test (Junit) in java to test recaptcha v3. But I cannot hardcode recaptcha token.</p>\n<p>I tried referring to <a href=\"https://developers.google.com/recaptcha/docs/faq#id-like-to-run-automated-tests-with-recaptcha.-what-should-i-do\" rel=\"nofollow noreferrer\">https://developers.google.com/recaptcha/docs/faq#id-like-to-run-automated-tests-with-recaptcha.-what-should-i-do</a> but couldn't find any way to generate recaptcha token for junit.</p>\n<p>I also referred to - <a href=\"https://developers.google.com/recaptcha/docs/v3\" rel=\"nofollow noreferrer\">https://developers.google.com/recaptcha/docs/v3</a> but it seems that only JavaScript API is available for token generation. I am looking for an API in Java to generate the recaptcha token.</p>\n"},{"tags":["java","android","admob"],"comments":[{"owner":{"account_id":10793884,"reputation":895,"user_id":7940360,"display_name":"Kishan Viramgama"},"score":0,"creation_date":1654148192,"post_id":72471095,"comment_id":128023107,"body_markdown":"- Save flag in shared preferences or database.  user watch ads or not.","body":"- Save flag in shared preferences or database.  user watch ads or not."},{"owner":{"display_name":"user18105926"},"score":0,"creation_date":1654148373,"post_id":72471095,"comment_id":128023135,"body_markdown":"@KishanViramgama thanks, but can you explain in further details if possible or give me some refrence","body":"@KishanViramgama thanks, but can you explain in further details if possible or give me some refrence"},{"owner":{"account_id":10793884,"reputation":895,"user_id":7940360,"display_name":"Kishan Viramgama"},"score":0,"creation_date":1654148963,"post_id":72471095,"comment_id":128023282,"body_markdown":"Check this link to get some ideas :- https://stackoverflow.com/questions/60089735/after-watching-rewarded-video-how-to-stop-showing-all-ads-in-the-android-app-fo","body":"Check this link to get some ideas :- <a href=\"https://stackoverflow.com/questions/60089735/after-watching-rewarded-video-how-to-stop-showing-all-ads-in-the-android-app-fo\" title=\"after watching rewarded video how to stop showing all ads in the android app fo\">stackoverflow.com/questions/60089735/&hellip;</a>"},{"owner":{"display_name":"user18105926"},"score":0,"creation_date":1654149056,"post_id":72471095,"comment_id":128023315,"body_markdown":"yes i have go through that question but im not sure how do i implement it for a session","body":"yes i have go through that question but im not sure how do i implement it for a session"}],"owner":{"display_name":"user18105926"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1654250821,"creation_date":1654147796,"question_id":72471095,"body_markdown":"I want to remove all the ads for that particular session after a reward video ad and after the app reopen the ads will show again, how can I do that \r\n\r\n\r\ni like how this app done it \r\nhttps://play.google.com/store/apps/details?id=co.fourapps.morseconverter\r\n\r\n\r\ni have two ads, one is a banner ad and the second are interstitial ad \r\n\r\n\r\n\r\nHomeActivity.java\r\n\r\n \r\n\r\n     MobileAds.initialize(this, initializationStatus -&gt; {\r\n            });\r\n    \r\n            AdView mAdView = findViewById(R.id.adView);\r\n    \r\n            AdRequest adRequest = new AdRequest.Builder().build();\r\n            mAdView.loadAd(adRequest);\r\n    \r\n            intertitalAd();\r\n\r\n---------\r\n\r\n    private void copy() {\r\n            if (mInterstitialAd != null) {\r\n                mInterstitialAd.show(HomeActivity.this);\r\n                mInterstitialAd.setFullScreenContentCallback(new FullScreenContentCallback() {\r\n                    @Override\r\n                    public void onAdDismissedFullScreenContent() {\r\n                        super.onAdDismissedFullScreenContent();\r\n                        startActivity(new Intent(HomeActivity.this, HomeActivity.class));\r\n                        mInterstitialAd = null;\r\n                        intertitalAd();\r\n                    }\r\n                });\r\n            } else {\r\n                startActivity(new Intent(HomeActivity.this, HomeActivity.class));\r\n    \r\n            }\r\n            ClipboardManager clipboardManager = (ClipboardManager) getSystemService(Context.CLIPBOARD_SERVICE);\r\n            ClipData clipData = ClipData.newPlainText(&quot;text&quot;, quotesTxt.getText());\r\n            if (clipboardManager != null) {\r\n                clipboardManager.setPrimaryClip(clipData);\r\n            }\r\n            Toast.makeText(getApplicationContext(), &quot;Copied&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n        }\r\n    \r\n        private void share() {\r\n            if (mInterstitialAd != null) {\r\n                mInterstitialAd.show(HomeActivity.this);\r\n                mInterstitialAd.setFullScreenContentCallback(new FullScreenContentCallback() {\r\n                    @Override\r\n                    public void onAdDismissedFullScreenContent() {\r\n                        super.onAdDismissedFullScreenContent();\r\n                        startActivity(new Intent(HomeActivity.this, HomeActivity.class));\r\n                        mInterstitialAd = null;\r\n                        intertitalAd();\r\n                        Intent intent = new Intent(Intent.ACTION_SEND);\r\n                        intent.setType(&quot;text/plain&quot;);\r\n                        intent.putExtra(Intent.EXTRA_TEXT, quotesTxt.getText());\r\n                        startActivity(Intent.createChooser(intent, &quot;Share to&quot;));\r\n                    }\r\n                });\r\n            } else {\r\n                startActivity(new Intent(HomeActivity.this, HomeActivity.class));\r\n                Intent intent = new Intent(Intent.ACTION_SEND);\r\n                intent.setType(&quot;text/plain&quot;);\r\n                intent.putExtra(Intent.EXTRA_TEXT, quotesTxt.getText());\r\n                startActivity(Intent.createChooser(intent, &quot;Share to&quot;));\r\n    \r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n     public void intertitalAd() {\r\n    \r\n            AdRequest adRequest = new AdRequest.Builder().build();\r\n    \r\n    \r\n            InterstitialAd.load(this, &quot;ca-app-pub-3940256099942544/1033173712&quot;, adRequest,\r\n                    new InterstitialAdLoadCallback() {\r\n                        @Override\r\n                        public void onAdLoaded(@NonNull InterstitialAd interstitialAd) {\r\n                            // The mInterstitialAd reference will be null until\r\n                            // an ad is loaded.\r\n                            mInterstitialAd = interstitialAd;\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onAdFailedToLoad(@NonNull LoadAdError loadAdError) {\r\n                            // Handle the error\r\n                            mInterstitialAd = null;\r\n                        }\r\n                    });\r\n    \r\n        }\r\n\r\n\r\n","title":"How to remove all ads after watching a reward video for a particular session","body":"<p>I want to remove all the ads for that particular session after a reward video ad and after the app reopen the ads will show again, how can I do that</p>\n<p>i like how this app done it\n<a href=\"https://play.google.com/store/apps/details?id=co.fourapps.morseconverter\" rel=\"nofollow noreferrer\">https://play.google.com/store/apps/details?id=co.fourapps.morseconverter</a></p>\n<p>i have two ads, one is a banner ad and the second are interstitial ad</p>\n<p>HomeActivity.java</p>\n<pre><code> MobileAds.initialize(this, initializationStatus -&gt; {\n        });\n\n        AdView mAdView = findViewById(R.id.adView);\n\n        AdRequest adRequest = new AdRequest.Builder().build();\n        mAdView.loadAd(adRequest);\n\n        intertitalAd();\n</code></pre>\n<hr />\n<pre><code>private void copy() {\n        if (mInterstitialAd != null) {\n            mInterstitialAd.show(HomeActivity.this);\n            mInterstitialAd.setFullScreenContentCallback(new FullScreenContentCallback() {\n                @Override\n                public void onAdDismissedFullScreenContent() {\n                    super.onAdDismissedFullScreenContent();\n                    startActivity(new Intent(HomeActivity.this, HomeActivity.class));\n                    mInterstitialAd = null;\n                    intertitalAd();\n                }\n            });\n        } else {\n            startActivity(new Intent(HomeActivity.this, HomeActivity.class));\n\n        }\n        ClipboardManager clipboardManager = (ClipboardManager) getSystemService(Context.CLIPBOARD_SERVICE);\n        ClipData clipData = ClipData.newPlainText(&quot;text&quot;, quotesTxt.getText());\n        if (clipboardManager != null) {\n            clipboardManager.setPrimaryClip(clipData);\n        }\n        Toast.makeText(getApplicationContext(), &quot;Copied&quot;, Toast.LENGTH_SHORT).show();\n\n    }\n\n    private void share() {\n        if (mInterstitialAd != null) {\n            mInterstitialAd.show(HomeActivity.this);\n            mInterstitialAd.setFullScreenContentCallback(new FullScreenContentCallback() {\n                @Override\n                public void onAdDismissedFullScreenContent() {\n                    super.onAdDismissedFullScreenContent();\n                    startActivity(new Intent(HomeActivity.this, HomeActivity.class));\n                    mInterstitialAd = null;\n                    intertitalAd();\n                    Intent intent = new Intent(Intent.ACTION_SEND);\n                    intent.setType(&quot;text/plain&quot;);\n                    intent.putExtra(Intent.EXTRA_TEXT, quotesTxt.getText());\n                    startActivity(Intent.createChooser(intent, &quot;Share to&quot;));\n                }\n            });\n        } else {\n            startActivity(new Intent(HomeActivity.this, HomeActivity.class));\n            Intent intent = new Intent(Intent.ACTION_SEND);\n            intent.setType(&quot;text/plain&quot;);\n            intent.putExtra(Intent.EXTRA_TEXT, quotesTxt.getText());\n            startActivity(Intent.createChooser(intent, &quot;Share to&quot;));\n\n\n        }\n\n    }\n\n public void intertitalAd() {\n\n        AdRequest adRequest = new AdRequest.Builder().build();\n\n\n        InterstitialAd.load(this, &quot;ca-app-pub-3940256099942544/1033173712&quot;, adRequest,\n                new InterstitialAdLoadCallback() {\n                    @Override\n                    public void onAdLoaded(@NonNull InterstitialAd interstitialAd) {\n                        // The mInterstitialAd reference will be null until\n                        // an ad is loaded.\n                        mInterstitialAd = interstitialAd;\n                    }\n\n                    @Override\n                    public void onAdFailedToLoad(@NonNull LoadAdError loadAdError) {\n                        // Handle the error\n                        mInterstitialAd = null;\n                    }\n                });\n\n    }\n</code></pre>\n"},{"tags":["java","ignite"],"answers":[{"tags":[],"owner":{"account_id":16644,"reputation":18841,"user_id":36498,"accept_rate":86,"display_name":"alamar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1558960850,"creation_date":1558960850,"answer_id":56326314,"question_id":56325897,"body_markdown":"It is recommended to Java 8, as Apache Ignite 2.7.0 does not have full Java 12 support. Otherwise you can try [tinkering with JVM options][1].\r\n\r\n\r\n  [1]: https://apacheignite.readme.io/docs/getting-started#section-running-ignite-with-java-9-10-11","title":"How to fix &quot;Could not initialize class org.apache.ignite.IgniteJdbcThinDriver&quot; error in Apache Ignite?","body":"<p>It is recommended to Java 8, as Apache Ignite 2.7.0 does not have full Java 12 support. Otherwise you can try <a href=\"https://apacheignite.readme.io/docs/getting-started#section-running-ignite-with-java-9-10-11\" rel=\"nofollow noreferrer\">tinkering with JVM options</a>.</p>\n"},{"tags":[],"owner":{"account_id":16020068,"reputation":63,"user_id":11561775,"display_name":"MoffeeCug"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1558963520,"creation_date":1558963520,"answer_id":56327005,"question_id":56325897,"body_markdown":"Thank you @alamar, that worked!\r\n\r\nI uninstalled JDK12 that i had installed with RPM.\r\nCheck the package name:\r\n`rpm -qa | grep jdk`.\r\nDelete the package:\r\n`rpm -e jdk-12.0.1-12.0.1-ga.x86_64`.\r\n\r\nI&#39;m working on a isolated system, so I downloaded and transferred JDK8.rpm from another machine.\r\nInstall JDK8:\r\n`rpm -ihv jdk-8u211-linux-x64.rpm`.\r\n\r\nNow when I run:\r\n`./sqlline.sh --verbose=true -u jdbc:ignite:thin://172.19.0.2`,\r\nI get:\r\n`issuing: !connect jdbc:ignite:thin://172.19.0.2/ &#39;&#39; &#39;&#39; org.apache.ignite.IgniteJdbcTh\r\nConnecting to jdbc:ignite:thin://172.19.0.2/\r\nConnected to: Apache Ignite (version 2.7.0#20181130-sha1:256ae401)\r\nDriver: Apache Ignite Thin JDBC Driver (version 2.7.0#20181130-sha1:256ae401)\r\nAutocommit status: true\r\nTransaction isolation: TRANSACTION_REPEATABLE_READ\r\nsqlline version 1.3.0`.\r\n\r\nI can now query my database.","title":"How to fix &quot;Could not initialize class org.apache.ignite.IgniteJdbcThinDriver&quot; error in Apache Ignite?","body":"<p>Thank you @alamar, that worked!</p>\n\n<p>I uninstalled JDK12 that i had installed with RPM.\nCheck the package name:\n<code>rpm -qa | grep jdk</code>.\nDelete the package:\n<code>rpm -e jdk-12.0.1-12.0.1-ga.x86_64</code>.</p>\n\n<p>I'm working on a isolated system, so I downloaded and transferred JDK8.rpm from another machine.\nInstall JDK8:\n<code>rpm -ihv jdk-8u211-linux-x64.rpm</code>.</p>\n\n<p>Now when I run:\n<code>./sqlline.sh --verbose=true -u jdbc:ignite:thin://172.19.0.2</code>,\nI get:\n<code>issuing: !connect jdbc:ignite:thin://172.19.0.2/ '' '' org.apache.ignite.IgniteJdbcTh\nConnecting to jdbc:ignite:thin://172.19.0.2/\nConnected to: Apache Ignite (version 2.7.0#20181130-sha1:256ae401)\nDriver: Apache Ignite Thin JDBC Driver (version 2.7.0#20181130-sha1:256ae401)\nAutocommit status: true\nTransaction isolation: TRANSACTION_REPEATABLE_READ\nsqlline version 1.3.0</code>.</p>\n\n<p>I can now query my database.</p>\n"},{"tags":[],"owner":{"account_id":11688944,"reputation":61,"user_id":8557834,"display_name":"user8557834"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580839765,"creation_date":1580839765,"answer_id":60063253,"question_id":56325897,"body_markdown":"I got this error in the following very strange situation:\r\n\r\nA dependency of my maven java project had Apache-Ignite as a dependency. The moment I opened a connection to a SQLite database at an invalid path (e.g. ./result/r.sqlite where the folder ./result does not exist) this error occurred (using th driver `org.xerial.sqlite-jdbc:v3.30.1.`)So this call \r\n\r\n    Class.forName(&quot;org.sqlite.JDBC&quot;);\r\n    Connection conn = DriverManager.getConnection(&quot;jdbc:sqlite:result.sqlite&quot;)\r\n\r\nwould result in this stacktrace:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: Could not initialize class org.apache.ignite.IgniteJdbcThinDriver\r\n    \tat java.base/java.lang.Class.forName0(Native Method)\r\n    \tat java.base/java.lang.Class.forName(Class.java:398)\r\n    \tat java.sql/java.sql.DriverManager.isDriverAllowed(DriverManager.java:555)\r\n    \tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:674)\r\n    \tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:251)\r\n    \tat MyClass.myMethod(MyClass.java:154)\r\n\r\nSo the solution would obviously be to make sure the folder exsits where the sqlite database should be created in.\r\n\r\n","title":"How to fix &quot;Could not initialize class org.apache.ignite.IgniteJdbcThinDriver&quot; error in Apache Ignite?","body":"<p>I got this error in the following very strange situation:</p>\n\n<p>A dependency of my maven java project had Apache-Ignite as a dependency. The moment I opened a connection to a SQLite database at an invalid path (e.g. ./result/r.sqlite where the folder ./result does not exist) this error occurred (using th driver <code>org.xerial.sqlite-jdbc:v3.30.1.</code>)So this call </p>\n\n<pre><code>Class.forName(\"org.sqlite.JDBC\");\nConnection conn = DriverManager.getConnection(\"jdbc:sqlite:result.sqlite\")\n</code></pre>\n\n<p>would result in this stacktrace:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: Could not initialize class org.apache.ignite.IgniteJdbcThinDriver\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:398)\n    at java.sql/java.sql.DriverManager.isDriverAllowed(DriverManager.java:555)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:674)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:251)\n    at MyClass.myMethod(MyClass.java:154)\n</code></pre>\n\n<p>So the solution would obviously be to make sure the folder exsits where the sqlite database should be created in.</p>\n"},{"tags":[],"owner":{"account_id":9376049,"reputation":3355,"user_id":7643517,"display_name":"Nolequen"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1654250690,"creation_date":1654250690,"answer_id":72488000,"question_id":56325897,"body_markdown":"Adding JVM argument\r\n\r\n    --add-opens java.base/java.nio=ALL-UNNAMED\r\n\r\nsolved the problem for me.","title":"How to fix &quot;Could not initialize class org.apache.ignite.IgniteJdbcThinDriver&quot; error in Apache Ignite?","body":"<p>Adding JVM argument</p>\n<pre><code>--add-opens java.base/java.nio=ALL-UNNAMED\n</code></pre>\n<p>solved the problem for me.</p>\n"}],"owner":{"account_id":16020068,"reputation":63,"user_id":11561775,"display_name":"MoffeeCug"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10184,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":56326314,"answer_count":4,"score":5,"last_activity_date":1654250690,"creation_date":1558959363,"question_id":56325897,"body_markdown":"The Problem\r\n-----------\r\nI&#39;m trying to connect to a Apache Ignite server with Apache Ignite built-in tool, SQLLine. I get the error: `java.lang.NoClassDefFoundError: Could not initialize class org.apache.ignite.IgniteJdbcThinDriver`\r\n\r\nBackground\r\n----------\r\nI have Apache Ignite running in a container and CentOS7 running in another container. Both containers running in the same network (pinging works both ways). The tried connection is happening from CentOS7 to Apache Ignite.\r\n\r\nApache Ignite seems to be running fine with just the default configuration. In the CentOS7 container, I have installed **Oracle JDK 12.0.1** and I have **Apache Ignite 2.7.0** binary files in a folder. I have also set the **IGNITE_HOME** environmental variable.\r\n\r\nHere, (https://apacheignite-sql.readme.io/docs/sqlline), it says I can connect to my cluster with just: `./sqlline.sh --verbose=true -u jdbc:ignite:thin://127.0.0.1/`. However, this throws the previously mentioned error.\r\n\r\nSQLLine should come with Ignite JDBC drivers. I have tried downloading them manually (https://apacheignite-sql.readme.io/docs/jdbc-driver#section-multiple-endpoints). When I downloaded the driver, which is said to be the `ignite-core-{version}.jar`, I put it in the same folder as `sqlline.jar` files.\r\n\r\nOutput\r\n------\r\n    [root@bc72c4fbf47e bin]# ./sqlline.sh\r\n    sqlline version 1.3.0\r\n    sqlline&gt; !connect jdbc:ignite:thin://172.19.0.2/\r\n    WARNING: An illegal reflective access operation has occurred\r\n    WARNING: Illegal reflective access by org.apache.ignite.internal.util.GridUnsafe$2 (file:/var/tmp/apache-ignite/libs/ignite-core-2.7.0.jar) to field java.nio.Buffer.address\r\n    WARNING: Please consider reporting this to the maintainers of org.apache.ignite.internal.util.GridUnsafe$2\r\n    WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\n    WARNING: All illegal access operations will be denied in a future release\r\n    java.lang.NoClassDefFoundError: Could not initialize class org.apache.ignite.IgniteJdbcThinDriver\r\n        at java.base/java.lang.Class.forName0(Native Method)\r\n        at java.base/java.lang.Class.forName(Class.java:415)\r\n        at java.sql/java.sql.DriverManager.isDriverAllowed(DriverManager.java:555)\r\n        at java.sql/java.sql.DriverManager.isDriverAllowed(DriverManager.java:547)\r\n        at java.sql/java.sql.DriverManager.getDrivers(DriverManager.java:449)\r\n        at java.sql/java.sql.DriverManager.getDrivers(DriverManager.java:426)\r\n        at sqlline.SqlLine.findRegisteredDriver(SqlLine.java:1568)\r\n        at sqlline.SqlLine.scanForDriver(SqlLine.java:1542)\r\n        at sqlline.Commands.connect(Commands.java:1074)\r\n        at sqlline.Commands.connect(Commands.java:1001)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n        at sqlline.ReflectiveCommandHandler.execute(ReflectiveCommandHandler.java:38)\r\n        at sqlline.SqlLine.dispatch(SqlLine.java:791)\r\n        at sqlline.SqlLine.begin(SqlLine.java:668)\r\n        at sqlline.SqlLine.start(SqlLine.java:373)\r\n        at sqlline.SqlLine.main(SqlLine.java:265)\r\n\r\nConclusion\r\n----------\r\nI should be able to connect to my Ignite server with `!connect jdbc:ignite:thin://172.19.0.2/` command in sqlline.\r\nThis does not work, and throws `Could not initialize class org.apache.ignite.IgniteJdbcThinDriver`\r\nIgniteJDBCThinDriver is installed/available.","title":"How to fix &quot;Could not initialize class org.apache.ignite.IgniteJdbcThinDriver&quot; error in Apache Ignite?","body":"<h2>The Problem</h2>\n\n<p>I'm trying to connect to a Apache Ignite server with Apache Ignite built-in tool, SQLLine. I get the error: <code>java.lang.NoClassDefFoundError: Could not initialize class org.apache.ignite.IgniteJdbcThinDriver</code></p>\n\n<h2>Background</h2>\n\n<p>I have Apache Ignite running in a container and CentOS7 running in another container. Both containers running in the same network (pinging works both ways). The tried connection is happening from CentOS7 to Apache Ignite.</p>\n\n<p>Apache Ignite seems to be running fine with just the default configuration. In the CentOS7 container, I have installed <strong>Oracle JDK 12.0.1</strong> and I have <strong>Apache Ignite 2.7.0</strong> binary files in a folder. I have also set the <strong>IGNITE_HOME</strong> environmental variable.</p>\n\n<p>Here, (<a href=\"https://apacheignite-sql.readme.io/docs/sqlline\" rel=\"noreferrer\">https://apacheignite-sql.readme.io/docs/sqlline</a>), it says I can connect to my cluster with just: <code>./sqlline.sh --verbose=true -u jdbc:ignite:thin://127.0.0.1/</code>. However, this throws the previously mentioned error.</p>\n\n<p>SQLLine should come with Ignite JDBC drivers. I have tried downloading them manually (<a href=\"https://apacheignite-sql.readme.io/docs/jdbc-driver#section-multiple-endpoints\" rel=\"noreferrer\">https://apacheignite-sql.readme.io/docs/jdbc-driver#section-multiple-endpoints</a>). When I downloaded the driver, which is said to be the <code>ignite-core-{version}.jar</code>, I put it in the same folder as <code>sqlline.jar</code> files.</p>\n\n<h2>Output</h2>\n\n<pre><code>[root@bc72c4fbf47e bin]# ./sqlline.sh\nsqlline version 1.3.0\nsqlline&gt; !connect jdbc:ignite:thin://172.19.0.2/\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by org.apache.ignite.internal.util.GridUnsafe$2 (file:/var/tmp/apache-ignite/libs/ignite-core-2.7.0.jar) to field java.nio.Buffer.address\nWARNING: Please consider reporting this to the maintainers of org.apache.ignite.internal.util.GridUnsafe$2\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\njava.lang.NoClassDefFoundError: Could not initialize class org.apache.ignite.IgniteJdbcThinDriver\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:415)\n    at java.sql/java.sql.DriverManager.isDriverAllowed(DriverManager.java:555)\n    at java.sql/java.sql.DriverManager.isDriverAllowed(DriverManager.java:547)\n    at java.sql/java.sql.DriverManager.getDrivers(DriverManager.java:449)\n    at java.sql/java.sql.DriverManager.getDrivers(DriverManager.java:426)\n    at sqlline.SqlLine.findRegisteredDriver(SqlLine.java:1568)\n    at sqlline.SqlLine.scanForDriver(SqlLine.java:1542)\n    at sqlline.Commands.connect(Commands.java:1074)\n    at sqlline.Commands.connect(Commands.java:1001)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at sqlline.ReflectiveCommandHandler.execute(ReflectiveCommandHandler.java:38)\n    at sqlline.SqlLine.dispatch(SqlLine.java:791)\n    at sqlline.SqlLine.begin(SqlLine.java:668)\n    at sqlline.SqlLine.start(SqlLine.java:373)\n    at sqlline.SqlLine.main(SqlLine.java:265)\n</code></pre>\n\n<h2>Conclusion</h2>\n\n<p>I should be able to connect to my Ignite server with <code>!connect jdbc:ignite:thin://172.19.0.2/</code> command in sqlline.\nThis does not work, and throws <code>Could not initialize class org.apache.ignite.IgniteJdbcThinDriver</code>\nIgniteJDBCThinDriver is installed/available.</p>\n"},{"tags":["java","tomcat","servlets"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1654216933,"post_id":72483353,"comment_id":128044400,"body_markdown":"What specific error are you getting? As per the Tomcat [documentation](https://tomcat.apache.org/tomcat-10.0-doc/config/globalresources.html), global resources &quot;_are not visible in the per-web-application contexts unless you explicitly link them with &lt;ResourceLink&gt; elements_&quot;. Have you set that up?","body":"What specific error are you getting? As per the Tomcat <a href=\"https://tomcat.apache.org/tomcat-10.0-doc/config/globalresources.html\" rel=\"nofollow noreferrer\">documentation</a>, global resources &quot;<i>are not visible in the per-web-application contexts unless you explicitly link them with &lt;ResourceLink&gt; elements</i>&quot;. Have you set that up?"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1654216951,"post_id":72483353,"comment_id":128044403,"body_markdown":"(As an aside, I would expect the driver class to be `com.mysql.cj.jdbc.Driver`, unless you have an older MySQL JDBC driver.)","body":"(As an aside, I would expect the driver class to be <code>com.mysql.cj.jdbc.Driver</code>, unless you have an older MySQL JDBC driver.)"}],"owner":{"account_id":9331030,"reputation":171,"user_id":6926773,"display_name":"Lars Dormans"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654250189,"creation_date":1654213333,"question_id":72483353,"body_markdown":"Hey there im currently working on a application in tomcat and im trying to access a DataSource thats defined in the tomcat&#39;s server.xml. However im unable to access the resource and it will always return an empty DataSource. The servlet is able to access resources defined on the local level. My question is why is my application unable to access global resources?\r\nThe exception im getting when trying to access the database is: java.sql.SQLException: Cannot create JDBC driver of class &#39;&#39; for connect URL &#39;null&#39;\r\n\r\nserver.xml\r\n\r\n        &lt;GlobalNamingResources&gt;\r\n           &lt;Resource name=&quot;jdbc/AuthenticationDatabase&quot; auth=&quot;Container&quot; type=&quot;javax.sql.DataSource&quot; username=&quot;tomcat&quot; password=&quot;tomcat&quot; driverClassName=&quot;com.mysql.jdbc.Driver&quot; url=&quot;jdbc:mysql://localhost:3306/tomcat&quot; factory=&quot;org.apache.tomcat.jdbc.pool.DataSourceFactory&quot; /&gt;\r\n        &lt;/GlobalNamingResources&gt;\r\n\r\nAdminPanel.java\r\n\r\n    @WebServlet(name = &quot;adminpanel&quot;, value = &quot;/restricted/user-management&quot;)\r\n    public class AdminPanel extends HttpServlet {\r\n        private List&lt;User&gt; users;\r\n    \r\n        private final String PreparedUsersSelectQuery = &quot;SELECT active, user_name FROM users&quot;;\r\n    \r\n        private final String PreparedRoleSelectQuery = &quot;SELECT role_name FROM user_roles WHERE user_name = ?&quot;;\r\n        Context initCtx = new InitialContext();\r\n        Context EnvCtz = (Context) initCtx.lookup(&quot;java:comp/env&quot;);\r\n        DataSource userDB = (DataSource) EnvCtz.lookup(&quot;jdbc/AuthenticationDatabase&quot;);\r\n    \r\n        public AdminPanel() throws NamingException {\r\n        }\r\n    \r\n        protected void ProcessRequest(HttpServletRequest request, HttpServletResponse response) {\r\n            users = new ArrayList&lt;&gt;();\r\n            try {\r\n                Connection conn = userDB.getConnection();\r\n                PreparedStatement stmt = conn.prepareStatement(PreparedUsersSelectQuery);\r\n                ResultSet rs = stmt.executeQuery();\r\n                while (rs.next()) {\r\n                    User user = new User(rs.getString(&quot;user_name&quot;), rs.getBoolean(&quot;active&quot;));\r\n                    PreparedStatement roleStmt = conn.prepareStatement(PreparedRoleSelectQuery);\r\n                    roleStmt.setString(1, user.username);\r\n                    ResultSet roleResults = roleStmt.executeQuery();\r\n                    while (roleResults.next()) {\r\n                        user.roles.add(roleResults.getString(&quot;role_name&quot;));\r\n                    }\r\n                    users.add(user);\r\n                }\r\n    \r\n            } catch (SQLException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n    \r\n            request.setAttribute(&quot;data&quot;, users);\r\n            RequestDispatcher dispatcher = request.getRequestDispatcher(&quot;ListUsers.jsp&quot;);\r\n            try {\r\n                dispatcher.forward(request, response);\r\n            } catch (ServletException | IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    \r\n        public void init() {\r\n    \r\n        }\r\n    \r\n        public void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException {\r\n            ProcessRequest(request, response);\r\n        }\r\n    \r\n        @Override\r\n        protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n            ProcessRequest(req, resp);\r\n        }\r\n\r\n    public void destroy() {\r\n    }\r\n\r\nweb.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;\r\n             version=&quot;4.0&quot;&gt;\r\n        &lt;resource-ref&gt;\r\n            &lt;description&gt;Access to the userdatabase for the purpose of modifying the user data&lt;/description&gt;\r\n            &lt;res-ref-name&gt;jdbc/AuthenticationDatabase&lt;/res-ref-name&gt;\r\n            &lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\r\n            &lt;res-auth&gt;Container&lt;/res-auth&gt;\r\n        &lt;/resource-ref&gt;\r\n        &lt;security-constraint&gt;\r\n            &lt;web-resource-collection&gt;\r\n                &lt;web-resource-name&gt;Admin Panel&lt;/web-resource-name&gt;\r\n                &lt;url-pattern&gt;/restricted/*&lt;/url-pattern&gt;\r\n            &lt;/web-resource-collection&gt;\r\n            &lt;auth-constraint&gt;\r\n                &lt;role-name&gt;admin-user&lt;/role-name&gt;\r\n            &lt;/auth-constraint&gt;\r\n        &lt;/security-constraint&gt;\r\n        &lt;security-role&gt;\r\n            &lt;role-name&gt;admin-user&lt;/role-name&gt;\r\n        &lt;/security-role&gt;\r\n        &lt;login-config&gt;\r\n            &lt;auth-method&gt;BASIC&lt;/auth-method&gt;\r\n            &lt;realm-name&gt;User Management&lt;/realm-name&gt;\r\n        &lt;/login-config&gt;\r\n    &lt;/web-app&gt;\r\n\r\nThanks for any and all assistance in this matter.","title":"TomCat servlet unable to access GlobalNamingResources","body":"<p>Hey there im currently working on a application in tomcat and im trying to access a DataSource thats defined in the tomcat's server.xml. However im unable to access the resource and it will always return an empty DataSource. The servlet is able to access resources defined on the local level. My question is why is my application unable to access global resources?\nThe exception im getting when trying to access the database is: java.sql.SQLException: Cannot create JDBC driver of class '' for connect URL 'null'</p>\n<p>server.xml</p>\n<pre><code>    &lt;GlobalNamingResources&gt;\n       &lt;Resource name=&quot;jdbc/AuthenticationDatabase&quot; auth=&quot;Container&quot; type=&quot;javax.sql.DataSource&quot; username=&quot;tomcat&quot; password=&quot;tomcat&quot; driverClassName=&quot;com.mysql.jdbc.Driver&quot; url=&quot;jdbc:mysql://localhost:3306/tomcat&quot; factory=&quot;org.apache.tomcat.jdbc.pool.DataSourceFactory&quot; /&gt;\n    &lt;/GlobalNamingResources&gt;\n</code></pre>\n<p>AdminPanel.java</p>\n<pre><code>@WebServlet(name = &quot;adminpanel&quot;, value = &quot;/restricted/user-management&quot;)\npublic class AdminPanel extends HttpServlet {\n    private List&lt;User&gt; users;\n\n    private final String PreparedUsersSelectQuery = &quot;SELECT active, user_name FROM users&quot;;\n\n    private final String PreparedRoleSelectQuery = &quot;SELECT role_name FROM user_roles WHERE user_name = ?&quot;;\n    Context initCtx = new InitialContext();\n    Context EnvCtz = (Context) initCtx.lookup(&quot;java:comp/env&quot;);\n    DataSource userDB = (DataSource) EnvCtz.lookup(&quot;jdbc/AuthenticationDatabase&quot;);\n\n    public AdminPanel() throws NamingException {\n    }\n\n    protected void ProcessRequest(HttpServletRequest request, HttpServletResponse response) {\n        users = new ArrayList&lt;&gt;();\n        try {\n            Connection conn = userDB.getConnection();\n            PreparedStatement stmt = conn.prepareStatement(PreparedUsersSelectQuery);\n            ResultSet rs = stmt.executeQuery();\n            while (rs.next()) {\n                User user = new User(rs.getString(&quot;user_name&quot;), rs.getBoolean(&quot;active&quot;));\n                PreparedStatement roleStmt = conn.prepareStatement(PreparedRoleSelectQuery);\n                roleStmt.setString(1, user.username);\n                ResultSet roleResults = roleStmt.executeQuery();\n                while (roleResults.next()) {\n                    user.roles.add(roleResults.getString(&quot;role_name&quot;));\n                }\n                users.add(user);\n            }\n\n        } catch (SQLException e) {\n            throw new RuntimeException(e);\n        }\n\n        request.setAttribute(&quot;data&quot;, users);\n        RequestDispatcher dispatcher = request.getRequestDispatcher(&quot;ListUsers.jsp&quot;);\n        try {\n            dispatcher.forward(request, response);\n        } catch (ServletException | IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public void init() {\n\n    }\n\n    public void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException {\n        ProcessRequest(request, response);\n    }\n\n    @Override\n    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n        ProcessRequest(req, resp);\n    }\n\npublic void destroy() {\n}\n</code></pre>\n<p>web.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;\n         version=&quot;4.0&quot;&gt;\n    &lt;resource-ref&gt;\n        &lt;description&gt;Access to the userdatabase for the purpose of modifying the user data&lt;/description&gt;\n        &lt;res-ref-name&gt;jdbc/AuthenticationDatabase&lt;/res-ref-name&gt;\n        &lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\n        &lt;res-auth&gt;Container&lt;/res-auth&gt;\n    &lt;/resource-ref&gt;\n    &lt;security-constraint&gt;\n        &lt;web-resource-collection&gt;\n            &lt;web-resource-name&gt;Admin Panel&lt;/web-resource-name&gt;\n            &lt;url-pattern&gt;/restricted/*&lt;/url-pattern&gt;\n        &lt;/web-resource-collection&gt;\n        &lt;auth-constraint&gt;\n            &lt;role-name&gt;admin-user&lt;/role-name&gt;\n        &lt;/auth-constraint&gt;\n    &lt;/security-constraint&gt;\n    &lt;security-role&gt;\n        &lt;role-name&gt;admin-user&lt;/role-name&gt;\n    &lt;/security-role&gt;\n    &lt;login-config&gt;\n        &lt;auth-method&gt;BASIC&lt;/auth-method&gt;\n        &lt;realm-name&gt;User Management&lt;/realm-name&gt;\n    &lt;/login-config&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>Thanks for any and all assistance in this matter.</p>\n"},{"tags":["java","android","sqlite"],"comments":[{"owner":{"display_name":"user4571931"},"score":1,"creation_date":1654255349,"post_id":72487896,"comment_id":128053031,"body_markdown":"i think you are looking something similar to password protected PDF, but its not possible. Encryption-Decryption is best idea. Still if you want password protected than you can do setup on your own in the app but it won&#39;t make any difference to accessing database its just you are authorizing user to access database","body":"i think you are looking something similar to password protected PDF, but its not possible. Encryption-Decryption is best idea. Still if you want password protected than you can do setup on your own in the app but it won&#39;t make any difference to accessing database its just you are authorizing user to access database"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1654255832,"post_id":72487896,"comment_id":128053192,"body_markdown":"https://www.zetetic.net/sqlcipher/","body":"<a href=\"https://www.zetetic.net/sqlcipher/\" rel=\"nofollow noreferrer\">zetetic.net/sqlcipher</a>"}],"owner":{"account_id":19674930,"reputation":113,"user_id":14403334,"display_name":"Deepanjali Tripathi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654250165,"creation_date":1654250165,"question_id":72487896,"body_markdown":"I am working on an Android App which requires importing and exporting of SQLite Database. I have to protect the database as it contains crucial data . I have thought of encrypting and decrypting the database. But I want to know is it possible to password protect the SQLite database so that whenever the user wants to access the database he/she will be required to enter the password first.","title":"Password Protecting SQLite Database in Android","body":"<p>I am working on an Android App which requires importing and exporting of SQLite Database. I have to protect the database as it contains crucial data . I have thought of encrypting and decrypting the database. But I want to know is it possible to password protect the SQLite database so that whenever the user wants to access the database he/she will be required to enter the password first.</p>\n"},{"tags":["java","spring-boot","kotlin","exception","serialization"],"answers":[{"tags":[],"owner":{"account_id":1522872,"reputation":6419,"user_id":1422070,"accept_rate":71,"display_name":"edwardmp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654250162,"creation_date":1654250162,"answer_id":72487895,"question_id":72479514,"body_markdown":"Managed to solve this by adding another filter, as the first one in the chain.\r\n\r\nThis filter catches any exception and manually propagates it to the configured exception handlers.\r\n\r\n```kotlin\r\n@Component\r\nclass FilterExceptionHandler : OncePerRequestFilter() {\r\n    @Autowired\r\n    private lateinit var resolver: HandlerExceptionResolver\r\n\r\n    private val logger = LoggerFactory.getLogger(javaClass)\r\n\r\n    @Throws(ServletException::class, IOException::class)\r\n    override fun doFilterInternal(\r\n        request: HttpServletRequest,\r\n        response: HttpServletResponse,\r\n        filterChain: FilterChain\r\n    ) {\r\n        try {\r\n            filterChain.doFilter(request, response)\r\n        } catch (exception: Exception) {\r\n            logger.error(&quot;Spring Security filter chain exception : {}&quot;, exception)\r\n            resolver.resolveException(request, response, null, exception)\r\n        }\r\n    }\r\n}\r\n```","title":"Correctly serialize Zalando Problem thrown from Spring filter","body":"<p>Managed to solve this by adding another filter, as the first one in the chain.</p>\n<p>This filter catches any exception and manually propagates it to the configured exception handlers.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Component\nclass FilterExceptionHandler : OncePerRequestFilter() {\n    @Autowired\n    private lateinit var resolver: HandlerExceptionResolver\n\n    private val logger = LoggerFactory.getLogger(javaClass)\n\n    @Throws(ServletException::class, IOException::class)\n    override fun doFilterInternal(\n        request: HttpServletRequest,\n        response: HttpServletResponse,\n        filterChain: FilterChain\n    ) {\n        try {\n            filterChain.doFilter(request, response)\n        } catch (exception: Exception) {\n            logger.error(&quot;Spring Security filter chain exception : {}&quot;, exception)\n            resolver.resolveException(request, response, null, exception)\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1522872,"reputation":6419,"user_id":1422070,"accept_rate":71,"display_name":"edwardmp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":836,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72487895,"answer_count":1,"score":1,"last_activity_date":1654250162,"creation_date":1654187810,"question_id":72479514,"body_markdown":"I&#39;m using Zalando&#39;s Problem [library](https://github.com/zalando/problem) and am running in the following problem (pun intended):\r\n\r\nEverything works fine for problems thrown from normal controllers. In this case I have a custom Spring filter. If I throw a problem from the filter, the response is 500 error (shown using the standard spring error page), and not a 400 error as indicated in the problem. With other words, the exception is thrown like a normal exception, instead of being correctly serialised as a JSON response.\r\n\r\nHow can I make sure problems thrown from filter&#39;s are also correctly handled/serialised?\r\n\r\nMy code:\r\n\r\n```java\r\n\r\n@Component\r\nclass UserVerifiedFilter : OncePerRequestFilter() {\r\n\r\n    @Throws(ServletException::class, IOException::class)\r\n    override fun doFilterInternal(\r\n        request: HttpServletRequest,\r\n        response: HttpServletResponse,\r\n        filterChain: FilterChain\r\n    ) {\r\n\r\n       // ...\r\n        throw Problem.builder()\r\n            .withType(URI.create(&quot;https://example.org/email-unverified&quot;))\r\n            .withTitle(&quot;Email unverified&quot;)\r\n            .withStatus(Status.BAD_REQUEST)\r\n            .withDetail(&quot;Email needs to verified to use this endpoint&quot;)\r\n            .build()\r\n\r\n\r\n    }\r\n}\r\n\r\n@RestControllerAdvice\r\nclass ControllerExceptionHandler : ProblemHandling, SecurityAdviceTrait\r\n\r\n```","title":"Correctly serialize Zalando Problem thrown from Spring filter","body":"<p>I'm using Zalando's Problem <a href=\"https://github.com/zalando/problem\" rel=\"nofollow noreferrer\">library</a> and am running in the following problem (pun intended):</p>\n<p>Everything works fine for problems thrown from normal controllers. In this case I have a custom Spring filter. If I throw a problem from the filter, the response is 500 error (shown using the standard spring error page), and not a 400 error as indicated in the problem. With other words, the exception is thrown like a normal exception, instead of being correctly serialised as a JSON response.</p>\n<p>How can I make sure problems thrown from filter's are also correctly handled/serialised?</p>\n<p>My code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Component\nclass UserVerifiedFilter : OncePerRequestFilter() {\n\n    @Throws(ServletException::class, IOException::class)\n    override fun doFilterInternal(\n        request: HttpServletRequest,\n        response: HttpServletResponse,\n        filterChain: FilterChain\n    ) {\n\n       // ...\n        throw Problem.builder()\n            .withType(URI.create(&quot;https://example.org/email-unverified&quot;))\n            .withTitle(&quot;Email unverified&quot;)\n            .withStatus(Status.BAD_REQUEST)\n            .withDetail(&quot;Email needs to verified to use this endpoint&quot;)\n            .build()\n\n\n    }\n}\n\n@RestControllerAdvice\nclass ControllerExceptionHandler : ProblemHandling, SecurityAdviceTrait\n\n</code></pre>\n"},{"tags":["java","virtual-machine","file-management","cloudsim"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1654271114,"post_id":72487866,"comment_id":128058750,"body_markdown":"The error message sounds like you have an insanely bloated `main` method. Have you tried breaking that up in multiple methods? You may also want to look into a Java or object oriented programming tutorial.","body":"The error message sounds like you have an insanely bloated <code>main</code> method. Have you tried breaking that up in multiple methods? You may also want to look into a Java or object oriented programming tutorial."},{"owner":{"account_id":25448576,"reputation":1,"user_id":19250380,"display_name":"AliviaG"},"score":0,"creation_date":1654274288,"post_id":72487866,"comment_id":128059752,"body_markdown":"I know, but what I want is to use a file for inputing VMs in cloudsim package.","body":"I know, but what I want is to use a file for inputing VMs in cloudsim package."}],"owner":{"account_id":25448576,"reputation":1,"user_id":19250380,"display_name":"AliviaG"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654249989,"creation_date":1654249989,"question_id":72487866,"body_markdown":"Is there a way to take input from excel sheet/csv file and print output of the console in a text file in Cloudsim package using eclipse. \r\nI am testing a new load balancing vm allocation policy and for the same I need to test using atleast 10,000 vm and 50,000 cloudlets having heterogeneous parameters ( wrt size, MIPS, bw etc).\r\nI tried using for loop but my results using homogeneous parameters are not desirable.\r\nIts not possible to manually create so many objects as it gives &quot;The code of method main(String[]) is exceeding the 65535 bytes limit&quot; error.\r\n","title":"Is there a way to take input using excel/csv files in Cloudsim Package? I am testing a load balancing Vm allocation policy","body":"<p>Is there a way to take input from excel sheet/csv file and print output of the console in a text file in Cloudsim package using eclipse.\nI am testing a new load balancing vm allocation policy and for the same I need to test using atleast 10,000 vm and 50,000 cloudlets having heterogeneous parameters ( wrt size, MIPS, bw etc).\nI tried using for loop but my results using homogeneous parameters are not desirable.\nIts not possible to manually create so many objects as it gives &quot;The code of method main(String[]) is exceeding the 65535 bytes limit&quot; error.</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":20441485,"reputation":366,"user_id":14998237,"display_name":"Andrey Grigoriev"},"score":1,"creation_date":1653904236,"post_id":72428227,"comment_id":127957020,"body_markdown":"Did you create your own UserDetailsService implementation?","body":"Did you create your own UserDetailsService implementation?"},{"owner":{"account_id":19587917,"reputation":283,"user_id":14335620,"display_name":"ABpositive"},"score":0,"creation_date":1653909500,"post_id":72428227,"comment_id":127958883,"body_markdown":"@AndreyGrigoriev Yes, its named CustomUserService and implements UserDetailsService. \n\nI have updated the post to include this class. The class it is calling (userDetailsRepository) only has a single method respective of the find by username which extends JPA","body":"@AndreyGrigoriev Yes, its named CustomUserService and implements UserDetailsService.   I have updated the post to include this class. The class it is calling (userDetailsRepository) only has a single method respective of the find by username which extends JPA"},{"owner":{"account_id":20441485,"reputation":366,"user_id":14998237,"display_name":"Andrey Grigoriev"},"score":1,"creation_date":1653916795,"post_id":72428227,"comment_id":127961527,"body_markdown":"Please take a look at samples in https://github.com/spring-projects/spring-authorization-server. You introduce complexity where it shouldn&#39;t be. You don&#39;t need any JWTAuthenticationFilter or JWTTokenHelper, just a simple Spring Security configuration class. As for the error you get - it happens because you didn&#39;t register your CustomUserService in AuthenticationManagerBuilder","body":"Please take a look at samples in <a href=\"https://github.com/spring-projects/spring-authorization-server\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-authorization-server</a>. You introduce complexity where it shouldn&#39;t be. You don&#39;t need any JWTAuthenticationFilter or JWTTokenHelper, just a simple Spring Security configuration class. As for the error you get - it happens because you didn&#39;t register your CustomUserService in AuthenticationManagerBuilder"},{"owner":{"account_id":7134819,"reputation":5058,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":1,"creation_date":1654017325,"post_id":72428227,"comment_id":127990405,"body_markdown":"Spring Security has its own implementation of `UserDetails` which is `org.springframework.security.core.userdetails.User`, and this is the implementation that you are returning in the `UserDetailsService`. However, in your controller, you are trying to cast the Spring Security&#39;s implementation to your `com.example.springboot.model.User`. Please that a look at the imports","body":"Spring Security has its own implementation of <code>UserDetails</code> which is <code>org.springframework.security.core.userdetails.User</code>, and this is the implementation that you are returning in the <code>UserDetailsService</code>. However, in your controller, you are trying to cast the Spring Security&#39;s implementation to your <code>com.example.springboot.model.User</code>. Please that a look at the imports"}],"answers":[{"tags":[],"owner":{"account_id":19587917,"reputation":283,"user_id":14335620,"display_name":"ABpositive"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654249672,"creation_date":1654249672,"answer_id":72487804,"question_id":72428227,"body_markdown":"As suggested by @Marcus Hert da Coregio\r\n\r\norg.springframework.security.core.userdetails.User, and this is the implementation that you are returning in the UserDetailsService. However, in your controller, you are trying to cast the Spring Security&#39;s implementation to your com.example.springboot.model.User. Please that a look at the imports \r\n\r\n```\r\nimport org.springframework.security.core.userdetails.User;\r\n```\r\n\r\nThough other issues were encountered with this guide","title":"Spring security User cannot be casted to class user","body":"<p>As suggested by @Marcus Hert da Coregio</p>\n<p>org.springframework.security.core.userdetails.User, and this is the implementation that you are returning in the UserDetailsService. However, in your controller, you are trying to cast the Spring Security's implementation to your com.example.springboot.model.User. Please that a look at the imports</p>\n<pre><code>import org.springframework.security.core.userdetails.User;\n</code></pre>\n<p>Though other issues were encountered with this guide</p>\n"}],"owner":{"account_id":19587917,"reputation":283,"user_id":14335620,"display_name":"ABpositive"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72487804,"answer_count":1,"score":0,"last_activity_date":1654249672,"creation_date":1653871443,"question_id":72428227,"body_markdown":"Firstly please bare in mind I am a Java noob and this is all unexplored territory for me.\r\n\r\nI have followed a guide (roughly 6 months old) to implement spring security, I have never found a guide configured to work specifically with a separate frontend layer. \r\n\r\nEvery step worked right up until implementing tokens and I get spat this error:\r\n```\r\nclass org.springframework.security.core.userdetails.User cannot be cast to class com.example.springboot.model.User\r\n``` \r\n\r\nI have seen other posts on here which are similar though they discuss different\r\n\r\neg. \r\n\r\n 1. https://stackoverflow.com/questions/34055369/user-cant-be-cast-to-to-com-example-security-customuserdetails-spring-security - this discusses not returning an entity\r\n\r\n 2. https://stackoverflow.com/questions/69876243/spring-security-userdetails-cannot-be-cast-to-my-own-user-implementation - Discusses a wrong import statement `org.springframework.security.core.userdetails.User`, in JwtAuthenticationFilter class\r\n\r\n\r\nFirstly, I use\r\n    `org.springframework.security.core.userdetails.userDetails` (similar to the guide author)\r\n\r\nSecondly, I have three instances of where this this provider is outlined (2 `userDetails` and 1 `userDetailsService`)\r\n\r\n1x `userDetails` in `JWTAuthenticationFilter`\r\n\r\n1x `userDetailsService` in `JWTAuthenticationFilter`\r\n\r\n1x `userDetails` in `JWTTokenHelper`\r\n\r\nThis is the endpoint:\r\n```\r\n    @PostMapping(&quot;/auth/login&quot;)\r\n    public ResponseEntity&lt;?&gt; login(@RequestBody AuthenticationRequest authenticationRequest) throws InvalidKeySpecException, NoSuchAlgorithmException {\r\n\r\n        final Authentication authentication = authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(\r\n                authenticationRequest.getUserName(), authenticationRequest.getPassword()));\r\n\r\n        SecurityContextHolder.getContext().setAuthentication(authentication);\r\n\r\n        User user=(User)authentication.getPrincipal(); // crashes here\r\n        String jwtToken=jWTTokenHelper.generateToken(user.getUsername());\r\n\r\n        LoginResponse response=new LoginResponse();\r\n        response.setToken(jwtToken);\r\n\r\n        return ResponseEntity.ok(response);\r\n    }\r\n```\r\n\r\nWhich returns an error on the commented line, drilling further and looking at the following class, it hits the first if statement (which I think is if its not null?)\r\n\r\nThen goes to filterChain.doFilter and crashes\r\n\r\nJWTAuthenticationFilter as shown below:\r\n```\r\npackage com.example.springboot.config;\r\nimport java.io.IOException;\r\n\r\nimport javax.servlet.FilterChain;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\n\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.web.authentication.WebAuthenticationDetails;\r\nimport org.springframework.web.filter.OncePerRequestFilter;\r\n\r\npublic class JWTAuthenticationFilter extends OncePerRequestFilter {\r\n\r\n    private UserDetailsService userDetailsService;\r\n    private JWTTokenHelper jwtTokenHelper;\r\n\r\n    public JWTAuthenticationFilter(UserDetailsService userDetailsService, JWTTokenHelper jwtTokenHelper) {\r\n        this.userDetailsService = userDetailsService;\r\n        this.jwtTokenHelper = jwtTokenHelper;\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n            throws ServletException, IOException {\r\n        String authToken = jwtTokenHelper.getToken(request);\r\n        if (null != authToken) { // fails this check\r\n            String userName = jwtTokenHelper.getUsernameFromToken(authToken);\r\n            if (null != userName) {\r\n                UserDetails userDetails = userDetailsService.loadUserByUsername(userName);\r\n                if (jwtTokenHelper.validateToken(authToken, userDetails)) {\r\n                    UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\r\n                    authentication.setDetails(new WebAuthenticationDetails(request));\r\n\r\n                    SecurityContextHolder.getContext().setAuthentication(authentication);\r\n                }\r\n            }\r\n        }\r\n        filterChain.doFilter(request, response); // returns error here\r\n    }\r\n}\r\n```\r\n\r\nJWTTokenHelper as shown below:\r\n```\r\npackage com.example.springboot.config;\r\n\r\nimport java.security.NoSuchAlgorithmException;\r\nimport java.security.spec.InvalidKeySpecException;\r\nimport java.util.Date;\r\n\r\nimport javax.servlet.http.HttpServletRequest;\r\n\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport io.jsonwebtoken.Claims;\r\nimport io.jsonwebtoken.Jwts;\r\nimport io.jsonwebtoken.SignatureAlgorithm;\r\n\r\n@Component\r\npublic class JWTTokenHelper {\r\n\r\n    @Value(&quot;${jwt.auth.app}&quot;)\r\n    private String appName;\r\n\r\n    @Value(&quot;${jwt.auth.secret_key}&quot;)\r\n    private String secretKey;\r\n\r\n    @Value(&quot;${jwt.auth.expires_in}&quot;)\r\n    private int expiresIn;\r\n\r\n    private SignatureAlgorithm SIGNATURE_ALGORITHM = SignatureAlgorithm.HS256;\r\n\r\n    public JWTTokenHelper(String appName, String secretKey, int expiresIn, SignatureAlgorithm SIGNATURE_ALGORITHM) {\r\n        this.appName = appName;\r\n        this.secretKey = secretKey;\r\n        this.expiresIn = expiresIn;\r\n        this.SIGNATURE_ALGORITHM = SIGNATURE_ALGORITHM;\r\n    }\r\n\r\n    public JWTTokenHelper() { }\r\n\r\n    private Claims getAllClaimsFromToken(String token) {\r\n        Claims claims;\r\n        try {\r\n            claims = Jwts.parser()\r\n                    .setSigningKey(secretKey)\r\n                    .parseClaimsJws(token)\r\n                    .getBody();\r\n        } catch (Exception e) {\r\n            claims = null;\r\n        }\r\n        return claims;\r\n    }\r\n\r\n    public String getUsernameFromToken(String token) {\r\n        String username;\r\n        try {\r\n            final Claims claims = this.getAllClaimsFromToken(token);\r\n            username = claims.getSubject();\r\n        } catch (Exception e) {\r\n            username = null;\r\n        }\r\n        return username;\r\n    }\r\n\r\n    public String generateToken(String username) throws InvalidKeySpecException, NoSuchAlgorithmException {\r\n        return Jwts.builder()\r\n                .setIssuer( appName )\r\n                .setSubject(username)\r\n                .setIssuedAt(new Date())\r\n                .setExpiration(generateExpirationDate())\r\n                .signWith( SIGNATURE_ALGORITHM, secretKey )\r\n                .compact();\r\n    }\r\n\r\n    private Date generateExpirationDate() {\r\n        return new Date(new Date().getTime() + expiresIn * 1000);\r\n    }\r\n\r\n    public Boolean validateToken(String token, UserDetails userDetails) {\r\n        final String username = getUsernameFromToken(token);\r\n        return (\r\n                username != null &amp;&amp;\r\n                        username.equals(userDetails.getUsername()) &amp;&amp;\r\n                        !isTokenExpired(token)\r\n        );\r\n    }\r\n\r\n    public boolean isTokenExpired(String token) {\r\n        Date expireDate=getExpirationDate(token);\r\n        return expireDate.before(new Date());\r\n    }\r\n\r\n\r\n    private Date getExpirationDate(String token) {\r\n        Date expireDate;\r\n        try {\r\n            final Claims claims = this.getAllClaimsFromToken(token);\r\n            expireDate = claims.getExpiration();\r\n        } catch (Exception e) {\r\n            expireDate = null;\r\n        }\r\n        return expireDate;\r\n    }\r\n\r\n\r\n    public Date getIssuedAtDateFromToken(String token) {\r\n        Date issueAt;\r\n        try {\r\n            final Claims claims = this.getAllClaimsFromToken(token);\r\n            issueAt = claims.getIssuedAt();\r\n        } catch (Exception e) {\r\n            issueAt = null;\r\n        }\r\n        return issueAt;\r\n    }\r\n\r\n    public String getToken( HttpServletRequest request ) {\r\n        String authHeader = getAuthHeaderFromHeader( request );\r\n        if ( authHeader != null &amp;&amp; authHeader.startsWith(&quot;Bearer &quot;)) {\r\n            return authHeader.substring(7);\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    public String getAuthHeaderFromHeader( HttpServletRequest request ) {\r\n        return request.getHeader(&quot;Authorization&quot;);\r\n    }\r\n}\r\n```\r\n\r\nThis implementation is considerably long (14 classes) for something described a &quot;simple implementation&quot; and I am clueless which part is causing errors. Any suggestions are greatly appreciated! :)\r\n\r\n\r\nEDIT:\r\n\r\nAfter looking more it seems like the get token method fails here:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RLnGg.png\r\n\r\n\r\nEDIT2: \r\nCustom userDetailsService class:\r\n```\r\npackage com.example.springboot.service;\r\n\r\nimport com.example.springboot.model.User;\r\nimport com.example.springboot.repository.UserDetailsRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class CustomUserService implements UserDetailsService {\r\n\r\n    @Autowired\r\n    UserDetailsRepository userDetailsRepository;\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        User user = userDetailsRepository.findByUserName(username);\r\n        if (user != null){ return user; }\r\n        else{ throw new UsernameNotFoundException(&quot;Incorrect username:&quot; + username); }\r\n    }\r\n}\r\n\r\n```","title":"Spring security User cannot be casted to class user","body":"<p>Firstly please bare in mind I am a Java noob and this is all unexplored territory for me.</p>\n<p>I have followed a guide (roughly 6 months old) to implement spring security, I have never found a guide configured to work specifically with a separate frontend layer.</p>\n<p>Every step worked right up until implementing tokens and I get spat this error:</p>\n<pre><code>class org.springframework.security.core.userdetails.User cannot be cast to class com.example.springboot.model.User\n</code></pre>\n<p>I have seen other posts on here which are similar though they discuss different</p>\n<p>eg.</p>\n<ol>\n<li><p><a href=\"https://stackoverflow.com/questions/34055369/user-cant-be-cast-to-to-com-example-security-customuserdetails-spring-security\">User can&#39;t be cast to to com.example.security.CustomUserDetails Spring Security</a> - this discusses not returning an entity</p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/69876243/spring-security-userdetails-cannot-be-cast-to-my-own-user-implementation\">Spring security Userdetails cannot be cast to my own user implementation</a> - Discusses a wrong import statement <code>org.springframework.security.core.userdetails.User</code>, in JwtAuthenticationFilter class</p>\n</li>\n</ol>\n<p>Firstly, I use\n<code>org.springframework.security.core.userdetails.userDetails</code> (similar to the guide author)</p>\n<p>Secondly, I have three instances of where this this provider is outlined (2 <code>userDetails</code> and 1 <code>userDetailsService</code>)</p>\n<p>1x <code>userDetails</code> in <code>JWTAuthenticationFilter</code></p>\n<p>1x <code>userDetailsService</code> in <code>JWTAuthenticationFilter</code></p>\n<p>1x <code>userDetails</code> in <code>JWTTokenHelper</code></p>\n<p>This is the endpoint:</p>\n<pre><code>    @PostMapping(&quot;/auth/login&quot;)\n    public ResponseEntity&lt;?&gt; login(@RequestBody AuthenticationRequest authenticationRequest) throws InvalidKeySpecException, NoSuchAlgorithmException {\n\n        final Authentication authentication = authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(\n                authenticationRequest.getUserName(), authenticationRequest.getPassword()));\n\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n\n        User user=(User)authentication.getPrincipal(); // crashes here\n        String jwtToken=jWTTokenHelper.generateToken(user.getUsername());\n\n        LoginResponse response=new LoginResponse();\n        response.setToken(jwtToken);\n\n        return ResponseEntity.ok(response);\n    }\n</code></pre>\n<p>Which returns an error on the commented line, drilling further and looking at the following class, it hits the first if statement (which I think is if its not null?)</p>\n<p>Then goes to filterChain.doFilter and crashes</p>\n<p>JWTAuthenticationFilter as shown below:</p>\n<pre><code>package com.example.springboot.config;\nimport java.io.IOException;\n\nimport javax.servlet.FilterChain;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.core.userdetails.UserDetails;\n\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.web.authentication.WebAuthenticationDetails;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\npublic class JWTAuthenticationFilter extends OncePerRequestFilter {\n\n    private UserDetailsService userDetailsService;\n    private JWTTokenHelper jwtTokenHelper;\n\n    public JWTAuthenticationFilter(UserDetailsService userDetailsService, JWTTokenHelper jwtTokenHelper) {\n        this.userDetailsService = userDetailsService;\n        this.jwtTokenHelper = jwtTokenHelper;\n\n    }\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n            throws ServletException, IOException {\n        String authToken = jwtTokenHelper.getToken(request);\n        if (null != authToken) { // fails this check\n            String userName = jwtTokenHelper.getUsernameFromToken(authToken);\n            if (null != userName) {\n                UserDetails userDetails = userDetailsService.loadUserByUsername(userName);\n                if (jwtTokenHelper.validateToken(authToken, userDetails)) {\n                    UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\n                    authentication.setDetails(new WebAuthenticationDetails(request));\n\n                    SecurityContextHolder.getContext().setAuthentication(authentication);\n                }\n            }\n        }\n        filterChain.doFilter(request, response); // returns error here\n    }\n}\n</code></pre>\n<p>JWTTokenHelper as shown below:</p>\n<pre><code>package com.example.springboot.config;\n\nimport java.security.NoSuchAlgorithmException;\nimport java.security.spec.InvalidKeySpecException;\nimport java.util.Date;\n\nimport javax.servlet.http.HttpServletRequest;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.stereotype.Component;\n\nimport io.jsonwebtoken.Claims;\nimport io.jsonwebtoken.Jwts;\nimport io.jsonwebtoken.SignatureAlgorithm;\n\n@Component\npublic class JWTTokenHelper {\n\n    @Value(&quot;${jwt.auth.app}&quot;)\n    private String appName;\n\n    @Value(&quot;${jwt.auth.secret_key}&quot;)\n    private String secretKey;\n\n    @Value(&quot;${jwt.auth.expires_in}&quot;)\n    private int expiresIn;\n\n    private SignatureAlgorithm SIGNATURE_ALGORITHM = SignatureAlgorithm.HS256;\n\n    public JWTTokenHelper(String appName, String secretKey, int expiresIn, SignatureAlgorithm SIGNATURE_ALGORITHM) {\n        this.appName = appName;\n        this.secretKey = secretKey;\n        this.expiresIn = expiresIn;\n        this.SIGNATURE_ALGORITHM = SIGNATURE_ALGORITHM;\n    }\n\n    public JWTTokenHelper() { }\n\n    private Claims getAllClaimsFromToken(String token) {\n        Claims claims;\n        try {\n            claims = Jwts.parser()\n                    .setSigningKey(secretKey)\n                    .parseClaimsJws(token)\n                    .getBody();\n        } catch (Exception e) {\n            claims = null;\n        }\n        return claims;\n    }\n\n    public String getUsernameFromToken(String token) {\n        String username;\n        try {\n            final Claims claims = this.getAllClaimsFromToken(token);\n            username = claims.getSubject();\n        } catch (Exception e) {\n            username = null;\n        }\n        return username;\n    }\n\n    public String generateToken(String username) throws InvalidKeySpecException, NoSuchAlgorithmException {\n        return Jwts.builder()\n                .setIssuer( appName )\n                .setSubject(username)\n                .setIssuedAt(new Date())\n                .setExpiration(generateExpirationDate())\n                .signWith( SIGNATURE_ALGORITHM, secretKey )\n                .compact();\n    }\n\n    private Date generateExpirationDate() {\n        return new Date(new Date().getTime() + expiresIn * 1000);\n    }\n\n    public Boolean validateToken(String token, UserDetails userDetails) {\n        final String username = getUsernameFromToken(token);\n        return (\n                username != null &amp;&amp;\n                        username.equals(userDetails.getUsername()) &amp;&amp;\n                        !isTokenExpired(token)\n        );\n    }\n\n    public boolean isTokenExpired(String token) {\n        Date expireDate=getExpirationDate(token);\n        return expireDate.before(new Date());\n    }\n\n\n    private Date getExpirationDate(String token) {\n        Date expireDate;\n        try {\n            final Claims claims = this.getAllClaimsFromToken(token);\n            expireDate = claims.getExpiration();\n        } catch (Exception e) {\n            expireDate = null;\n        }\n        return expireDate;\n    }\n\n\n    public Date getIssuedAtDateFromToken(String token) {\n        Date issueAt;\n        try {\n            final Claims claims = this.getAllClaimsFromToken(token);\n            issueAt = claims.getIssuedAt();\n        } catch (Exception e) {\n            issueAt = null;\n        }\n        return issueAt;\n    }\n\n    public String getToken( HttpServletRequest request ) {\n        String authHeader = getAuthHeaderFromHeader( request );\n        if ( authHeader != null &amp;&amp; authHeader.startsWith(&quot;Bearer &quot;)) {\n            return authHeader.substring(7);\n        }\n\n        return null;\n    }\n\n    public String getAuthHeaderFromHeader( HttpServletRequest request ) {\n        return request.getHeader(&quot;Authorization&quot;);\n    }\n}\n</code></pre>\n<p>This implementation is considerably long (14 classes) for something described a &quot;simple implementation&quot; and I am clueless which part is causing errors. Any suggestions are greatly appreciated! :)</p>\n<p>EDIT:</p>\n<p>After looking more it seems like the get token method fails here:\n<a href=\"https://i.stack.imgur.com/RLnGg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RLnGg.png\" alt=\"enter image description here\" /></a></p>\n<p>EDIT2:\nCustom userDetailsService class:</p>\n<pre><code>package com.example.springboot.service;\n\nimport com.example.springboot.model.User;\nimport com.example.springboot.repository.UserDetailsRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class CustomUserService implements UserDetailsService {\n\n    @Autowired\n    UserDetailsRepository userDetailsRepository;\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        User user = userDetailsRepository.findByUserName(username);\n        if (user != null){ return user; }\n        else{ throw new UsernameNotFoundException(&quot;Incorrect username:&quot; + username); }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","search","solr","solr-search"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1640628506,"post_id":70427072,"comment_id":124620626,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":3477725,"reputation":197,"user_id":2910541,"display_name":"rustyfinger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654249056,"creation_date":1654183995,"answer_id":72478756,"question_id":70427072,"body_markdown":"You can use the org.apache.solr.client.solrj.embedded.EmbeddedSolrServer in your own search component to fire off a Solr-query. In my example I am doing a call to the same core, so the only thing left is to figure out how it can be done to a different core:\r\n@Override\r\n\tpublic void prepare(final ResponseBuilder responseBuilder) throws IOException\r\n\t{\r\n\t\tSolrParams params = responseBuilder.req.getParams();\r\n\t\t\r\n\t\tSolrClient solrClient = new EmbeddedSolrServer(responseBuilder.req.getCore());\r\n\t\t\r\n\t\tModifiableSolrParams subQueryParams = new ModifiableSolrParams(params);\r\n\t\tif( subQueryParams.get(&quot;rows&quot;).equals(&quot;0&quot;))//needed to prevent an infinite loop\r\n\t\t{\r\n\t\t\treturn;\t\r\n\t\t}\r\n\t\t\r\n\t\tsubQueryParams.set(&quot;rows&quot;,0);\r\n\t\tsubQueryParams.set(&quot;facet&quot;,true);\r\n\r\n\t\tsubQueryParams.set(&quot;facet.field&quot;, PIM_FIELDS);\r\n\r\n\t\ttry\r\n\t\t{\r\n\t\t\tQueryResponse response = solrClient.query(subQueryParams);\r\n\t\t\t\t\t\r\n\t\t\tFacetField pimFields = response.getFacetField(PIM_FIELDS);\r\n\r\n\t\t\tList&lt;FacetField.Count&gt; values = pimFields.getValues();\r\n\r\n\t\t\tModifiableSolrParams newParams = new ModifiableSolrParams(params);\r\n\t\t\tfor (final FacetField.Count value : values)\r\n\t\t\t{\r\n\t\t\t\tnewParams.add(&quot;facet.field&quot;, value.getName());\t\t\t\t\r\n\t\t\t\tvalue.getFacetField().getName();\r\n\t\t\t}\r\n\t\t\tnewParams.set(&quot;facet&quot;, true);\r\n\t\t\tnewParams.set(&quot;facet.mincount&quot;,1);\r\n\t\t\tresponseBuilder.req.setParams(newParams);\r\n\r\n\t\t}\r\n\t\tcatch (SolrServerException e)\r\n\t\t{\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t}\r\n\r\n\r\nYou can reach other collections running on the same solr-instance via the coreContainer on the req.getCore(), as I do in this example:\r\n\r\n\tprivate SolrDocumentList getEntries(final ResponseBuilder responseBuilder) throws IOException\r\n\t{\r\n\t\tModifiableSolrParams unitQueryParams = new ModifiableSolrParams();\r\n\t\tunitQueryParams.add(&quot;q&quot;,&quot;*:*&quot;);\r\n\t\tunitQueryParams.add(&quot;rows&quot;,&quot;300&quot;);\r\n\r\n\t\tSolrCore localDoc = responseBuilder.req.getCore().getCoreContainer().getCore(&quot;webshop_classificationattributeunit&quot;);\r\n\t\tEmbeddedSolrServer unitQueryClient = new EmbeddedSolrServer(localDoc);\r\n\r\n\r\n\t\tQueryResponse unitResponse;\r\n\t\ttry\r\n\t\t{\r\n\t\t\tunitResponse = unitQueryClient.query(unitQueryParams);\r\n\t\t}\r\n\t\tcatch (SolrServerException e)\r\n\t\t{\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t\t\r\n\t\treturn unitResponse.getResults();\r\n\t}","title":"How to fetch solr core data from custom search component","body":"<p>You can use the org.apache.solr.client.solrj.embedded.EmbeddedSolrServer in your own search component to fire off a Solr-query. In my example I am doing a call to the same core, so the only thing left is to figure out how it can be done to a different core:\n@Override\npublic void prepare(final ResponseBuilder responseBuilder) throws IOException\n{\nSolrParams params = responseBuilder.req.getParams();</p>\n<pre><code>    SolrClient solrClient = new EmbeddedSolrServer(responseBuilder.req.getCore());\n    \n    ModifiableSolrParams subQueryParams = new ModifiableSolrParams(params);\n    if( subQueryParams.get(&quot;rows&quot;).equals(&quot;0&quot;))//needed to prevent an infinite loop\n    {\n        return; \n    }\n    \n    subQueryParams.set(&quot;rows&quot;,0);\n    subQueryParams.set(&quot;facet&quot;,true);\n\n    subQueryParams.set(&quot;facet.field&quot;, PIM_FIELDS);\n\n    try\n    {\n        QueryResponse response = solrClient.query(subQueryParams);\n                \n        FacetField pimFields = response.getFacetField(PIM_FIELDS);\n\n        List&lt;FacetField.Count&gt; values = pimFields.getValues();\n\n        ModifiableSolrParams newParams = new ModifiableSolrParams(params);\n        for (final FacetField.Count value : values)\n        {\n            newParams.add(&quot;facet.field&quot;, value.getName());              \n            value.getFacetField().getName();\n        }\n        newParams.set(&quot;facet&quot;, true);\n        newParams.set(&quot;facet.mincount&quot;,1);\n        responseBuilder.req.setParams(newParams);\n\n    }\n    catch (SolrServerException e)\n    {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>You can reach other collections running on the same solr-instance via the coreContainer on the req.getCore(), as I do in this example:</p>\n<pre><code>private SolrDocumentList getEntries(final ResponseBuilder responseBuilder) throws IOException\n{\n    ModifiableSolrParams unitQueryParams = new ModifiableSolrParams();\n    unitQueryParams.add(&quot;q&quot;,&quot;*:*&quot;);\n    unitQueryParams.add(&quot;rows&quot;,&quot;300&quot;);\n\n    SolrCore localDoc = responseBuilder.req.getCore().getCoreContainer().getCore(&quot;webshop_classificationattributeunit&quot;);\n    EmbeddedSolrServer unitQueryClient = new EmbeddedSolrServer(localDoc);\n\n\n    QueryResponse unitResponse;\n    try\n    {\n        unitResponse = unitQueryClient.query(unitQueryParams);\n    }\n    catch (SolrServerException e)\n    {\n        throw new RuntimeException(e);\n    }\n    \n    return unitResponse.getResults();\n}\n</code></pre>\n"}],"owner":{"account_id":20489241,"reputation":1,"user_id":15035690,"display_name":"Shubham Srivastava"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654249056,"creation_date":1640028819,"question_id":70427072,"body_markdown":"This is our custom component class, in which I want to get the data from one core and search data into another core and use facet query and show in descending order.\r\nmeans suppose we get t-shirt name from one core and same t-shirt name we will search it into another core and display the over all result with facet query\r\n\r\n```\r\npackage com.shop.component;\r\nimport org.apache.solr.handler.component.ResponseBuilder;\r\nimport org.apache.solr.handler.component.SearchComponent;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport java.io.IOException;\r\npublic class CustomQueryComponent extends SearchComponent{\r\nprivate static final Logger LOG = LoggerFactory.getLogger(CustomQueryComponent.class);\r\n@Override\r\n    public void prepare(ResponseBuilder responseBuilder) throws IOException {\r\n        LOG.info(&quot;prepare method of CustomQueryComponent&quot;);\r\n    }\r\n@Override\r\n    public void process(ResponseBuilder responseBuilder) throws IOException {\r\n        LOG.info(&quot;process method of CustomQueryComponent&quot;);\r\n    }\r\n@Override\r\n    public String getDescription() {\r\n        return &quot;CustomQueryComponent&quot;;\r\n    }\r\n}\r\n\r\n```","title":"How to fetch solr core data from custom search component","body":"<p>This is our custom component class, in which I want to get the data from one core and search data into another core and use facet query and show in descending order.\nmeans suppose we get t-shirt name from one core and same t-shirt name we will search it into another core and display the over all result with facet query</p>\n<pre><code>package com.shop.component;\nimport org.apache.solr.handler.component.ResponseBuilder;\nimport org.apache.solr.handler.component.SearchComponent;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport java.io.IOException;\npublic class CustomQueryComponent extends SearchComponent{\nprivate static final Logger LOG = LoggerFactory.getLogger(CustomQueryComponent.class);\n@Override\n    public void prepare(ResponseBuilder responseBuilder) throws IOException {\n        LOG.info(&quot;prepare method of CustomQueryComponent&quot;);\n    }\n@Override\n    public void process(ResponseBuilder responseBuilder) throws IOException {\n        LOG.info(&quot;process method of CustomQueryComponent&quot;);\n    }\n@Override\n    public String getDescription() {\n        return &quot;CustomQueryComponent&quot;;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","xstream"],"comments":[{"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1654248891,"post_id":72487120,"comment_id":128050934,"body_markdown":"Great example XML covering 3 different cases. First end-tag mismatches, might be a typo: `&lt;phone1&gt;unknown&lt;/account_code&gt;`.","body":"Great example XML covering 3 different cases. First end-tag mismatches, might be a typo: <code>&lt;phone1&gt;unknown&lt;&#47;account_code&gt;</code>."}],"answers":[{"tags":[],"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654248403,"creation_date":1654248403,"answer_id":72487521,"question_id":72487120,"body_markdown":"You could use a custom converter like explained in:\r\n\r\n* https://stackoverflow.com/questions/12425401/xml-mapping-attribute-of-nested-element\r\n\r\n### Custom Converter to parse attributes\r\n\r\nImplement a custom `Converter` like this:\r\n```\r\npublic class PhoneNilableConverter implements Converter {\r\n\r\n    @Override\r\n    public void marshal(Object o, HierarchicalStreamWriter writer, MarshallingContext context) {\r\n        // implement logic for marshalling to xml\r\n        if (o == null) {\r\n            writer.addAttribute(&quot;nil&quot;, &quot;true&quot;);\r\n        } else {\r\n            writer.setValue(o.toString());\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public Object unmarshal(HierarchicalStreamReader reader, UnmarshallingContext context) {\r\n        String phone = &quot;&quot;;  // default phone value\r\n\r\n        if (&quot;true&quot;.equals(reader.getAttribute(&quot;nil&quot;))) {\r\n            phone = null;\r\n        } else {\r\n            phone = reader.getValue();\r\n        }\r\n\r\n        return phone;\r\n    }\r\n\r\n    @Override\r\n    public boolean canConvert(Class cls) {\r\n        return cls == String.class;\r\n    }\r\n}\r\n```\r\nThen add the converter to your field with annotation `@XStreamConverter` like this:\r\n```java\r\npublic class Account {\r\n  private String phone1;  \r\n  private String phone2; \r\n  @XStreamConverter(value=PhoneNilableConverter.class)\r\n  private String phone3;\r\n}\r\n```\r\n\r\nNext you can test and make sure to enable XStream to `processAnnotations` for this class:\r\n```\r\nXStream xs = new XStream();\r\nxs.processAnnotations(Account.class); // required to make XStream aware of annotations\r\n\r\nAccount a = (Account) xs.fromXML(\r\n  &quot;&lt;account&gt;\\n&quot; +\r\n  &quot;  &lt;phone1&gt;unknown&lt;/phone1&gt;\\n&quot; +\r\n  &quot;  &lt;phone2/&gt;\\n&quot; +\r\n  &quot;  &lt;phone3 nil=&quot;true&quot;/&gt;\\n&quot; +\r\n  &quot;&lt;/account&gt;&quot;);\r\nSystem.out.println(a);\r\n```\r\nSee also:\r\n\r\n* https://stackoverflow.com/questions/34206426/xstream-and-parse-xml-attributes","title":"Setup XStream to set object value to null if a certain attribute is present","body":"<p>You could use a custom converter like explained in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/12425401/xml-mapping-attribute-of-nested-element\">XML mapping attribute of nested element</a></li>\n</ul>\n<h3>Custom Converter to parse attributes</h3>\n<p>Implement a custom <code>Converter</code> like this:</p>\n<pre><code>public class PhoneNilableConverter implements Converter {\n\n    @Override\n    public void marshal(Object o, HierarchicalStreamWriter writer, MarshallingContext context) {\n        // implement logic for marshalling to xml\n        if (o == null) {\n            writer.addAttribute(&quot;nil&quot;, &quot;true&quot;);\n        } else {\n            writer.setValue(o.toString());\n        }\n    }\n\n    @Override\n    public Object unmarshal(HierarchicalStreamReader reader, UnmarshallingContext context) {\n        String phone = &quot;&quot;;  // default phone value\n\n        if (&quot;true&quot;.equals(reader.getAttribute(&quot;nil&quot;))) {\n            phone = null;\n        } else {\n            phone = reader.getValue();\n        }\n\n        return phone;\n    }\n\n    @Override\n    public boolean canConvert(Class cls) {\n        return cls == String.class;\n    }\n}\n</code></pre>\n<p>Then add the converter to your field with annotation <code>@XStreamConverter</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Account {\n  private String phone1;  \n  private String phone2; \n  @XStreamConverter(value=PhoneNilableConverter.class)\n  private String phone3;\n}\n</code></pre>\n<p>Next you can test and make sure to enable XStream to <code>processAnnotations</code> for this class:</p>\n<pre><code>XStream xs = new XStream();\nxs.processAnnotations(Account.class); // required to make XStream aware of annotations\n\nAccount a = (Account) xs.fromXML(\n  &quot;&lt;account&gt;\\n&quot; +\n  &quot;  &lt;phone1&gt;unknown&lt;/phone1&gt;\\n&quot; +\n  &quot;  &lt;phone2/&gt;\\n&quot; +\n  &quot;  &lt;phone3 nil=&quot;true&quot;/&gt;\\n&quot; +\n  &quot;&lt;/account&gt;&quot;);\nSystem.out.println(a);\n</code></pre>\n<p>See also:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/34206426/xstream-and-parse-xml-attributes\">XStream and parse xml attributes</a></li>\n</ul>\n"}],"owner":{"account_id":25463204,"reputation":21,"user_id":19262653,"display_name":"Per Jernstr&#246;m"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1654248403,"creation_date":1654246578,"question_id":72487120,"body_markdown":"I am receiving notifications in xml format from a third party system and trying to parse them with XStream.\r\n\r\nNotification sent from third party system looks like this:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;account&gt;\r\n  &lt;phone1&gt;unknown&lt;/account_code&gt;\r\n  &lt;phone2/&gt;\r\n  &lt;phone3 nil=&quot;true&quot;/&gt;\r\n&lt;/account&gt;\r\n```\r\n\r\nAn our java representation of the notification looks like this:\r\n```\r\npublic class Account {\r\n  private String phone1;  \r\n  private String phone2; \r\n  private String phone3;\r\n}\r\n```\r\n\r\nOut of the box XStream parses `phone1` and `phone2` as expected, but `phone3` is of course also parsed to an empty string.\r\n\r\nIs there a neat way to make XStream understand that when `nil=&quot;true&quot;` that the value should be set to null?\r\n\r\n\r\n","title":"Setup XStream to set object value to null if a certain attribute is present","body":"<p>I am receiving notifications in xml format from a third party system and trying to parse them with XStream.</p>\n<p>Notification sent from third party system looks like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;account&gt;\n  &lt;phone1&gt;unknown&lt;/account_code&gt;\n  &lt;phone2/&gt;\n  &lt;phone3 nil=&quot;true&quot;/&gt;\n&lt;/account&gt;\n</code></pre>\n<p>An our java representation of the notification looks like this:</p>\n<pre><code>public class Account {\n  private String phone1;  \n  private String phone2; \n  private String phone3;\n}\n</code></pre>\n<p>Out of the box XStream parses <code>phone1</code> and <code>phone2</code> as expected, but <code>phone3</code> is of course also parsed to an empty string.</p>\n<p>Is there a neat way to make XStream understand that when <code>nil=&quot;true&quot;</code> that the value should be set to null?</p>\n"},{"tags":["java","dictionary"],"comments":[{"owner":{"account_id":41230,"reputation":37690,"user_id":119775,"accept_rate":76,"display_name":"Jean-Fran&#231;ois Corbett"},"score":3,"creation_date":1332229710,"post_id":9783020,"comment_id":12453033,"body_markdown":"You could make your own class containing two hasmaps, one for each direction, and manage them in parallel. The obvious downside is a doubling in storage space and performance time.","body":"You could make your own class containing two hasmaps, one for each direction, and manage them in parallel. The obvious downside is a doubling in storage space and performance time."},{"owner":{"account_id":1455702,"reputation":15672,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":1,"creation_date":1395506681,"post_id":9783020,"comment_id":34373866,"body_markdown":"[java-hashmap-how-to-get-key-from-value](http://stackoverflow.com/questions/1383797/java-hashmap-how-to-get-key-from-value)","body":"<a href=\"http://stackoverflow.com/questions/1383797/java-hashmap-how-to-get-key-from-value\">java-hashmap-how-to-get-key-from-value</a>"},{"owner":{"account_id":7153022,"reputation":1759,"user_id":5466401,"accept_rate":22,"display_name":"Sibin John Mattappallil"},"score":0,"creation_date":1473074579,"post_id":9783020,"comment_id":65990409,"body_markdown":"See this simple answer http://stackoverflow.com/a/39329515/5466401","body":"See this simple answer <a href=\"http://stackoverflow.com/a/39329515/5466401\">stackoverflow.com/a/39329515/5466401</a>"}],"answers":[{"tags":[],"owner":{"account_id":123958,"reputation":109285,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1355334883,"creation_date":1332229870,"answer_id":9783084,"question_id":9783020,"body_markdown":"The most common solution is using two maps. You can easily encapsulate them in a class with a friendly interface by extending `AbstractMap`. (**Update:** This is how Guava&#39;s `HashBiMap` is implemented: two maps)\r\n\r\nCreating a new data structure using nothing but arrays and custom classes has few advantages. The map implementations are lightweight wrappers of a data structure that indexes the keys. Since you need two indexes you might as well use two complete maps.","title":"Bidirectional Map","body":"<p>The most common solution is using two maps. You can easily encapsulate them in a class with a friendly interface by extending <code>AbstractMap</code>. (<strong>Update:</strong> This is how Guava's <code>HashBiMap</code> is implemented: two maps)</p>\n\n<p>Creating a new data structure using nothing but arrays and custom classes has few advantages. The map implementations are lightweight wrappers of a data structure that indexes the keys. Since you need two indexes you might as well use two complete maps.</p>\n"},{"tags":[],"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1502873985,"creation_date":1332229895,"answer_id":9783092,"question_id":9783020,"body_markdown":"Java doesn&#39;t have a bidirectional map in its standard library.\r\n\r\nUse for example [`BiMap&lt;K, V&gt;`][1] from [Google Guava](https://github.com/google/guava) .\r\n\r\n\r\n  [1]: https://google.github.io/guava/releases/18.0/api/docs/com/google/common/collect/BiMap.html","title":"Bidirectional Map","body":"<p>Java doesn't have a bidirectional map in its standard library.</p>\n\n<p>Use for example <a href=\"https://google.github.io/guava/releases/18.0/api/docs/com/google/common/collect/BiMap.html\" rel=\"noreferrer\"><code>BiMap&lt;K, V&gt;</code></a> from <a href=\"https://github.com/google/guava\" rel=\"noreferrer\">Google Guava</a> .</p>\n"},{"tags":[],"owner":{"account_id":91502,"reputation":88301,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1492481496,"creation_date":1332229949,"answer_id":9783099,"question_id":9783020,"body_markdown":"[Google Guava][1] contains a [`BiMap`][2] (BiDirectional Map). \r\n\r\n\r\n[1]: https://github.com/google/guava\r\n[2]: http://google.github.io/guava/releases/21.0/api/docs/com/google/common/collect/BiMap.html","title":"Bidirectional Map","body":"<p><a href=\"https://github.com/google/guava\" rel=\"nofollow noreferrer\">Google Guava</a> contains a <a href=\"http://google.github.io/guava/releases/21.0/api/docs/com/google/common/collect/BiMap.html\" rel=\"nofollow noreferrer\"><code>BiMap</code></a> (BiDirectional Map). </p>\n"},{"tags":[],"owner":{"account_id":9052,"reputation":11722,"user_id":16549,"accept_rate":75,"display_name":"kervin"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1433089933,"creation_date":1433089933,"answer_id":30559798,"question_id":9783020,"body_markdown":"Also try Apache Commons Collections 4 [BidiMap][1] Package.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/bidimap/package-summary.html","title":"Bidirectional Map","body":"<p>Also try Apache Commons Collections 4 <a href=\"https://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/bidimap/package-summary.html\" rel=\"noreferrer\">BidiMap</a> Package.</p>\n"},{"tags":[],"owner":{"account_id":213928,"reputation":13807,"user_id":467592,"accept_rate":92,"display_name":"Rohit Sharma"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1461910548,"creation_date":1454661967,"answer_id":35219750,"question_id":9783020,"body_markdown":"If you feel it pain importing some third party library.\r\nHow about this simple class. \r\n\r\n\tpublic class BiMap&lt;K,V&gt; {\r\n\t    \r\n\t    HashMap&lt;K,V&gt; map = new HashMap&lt;K, V&gt;();\r\n\t    HashMap&lt;V,K&gt; inversedMap = new HashMap&lt;V, K&gt;();\r\n\t    \r\n\t    void put(K k, V v) {\r\n\t        map.put(k, v);\r\n\t        inversedMap.put(v, k);\r\n\t    }\r\n\t    \r\n\t    V get(K k) {\r\n\t        return map.get(k);\r\n\t    }\r\n\t    \r\n\t    K getKey(V v) {\r\n\t        return inversedMap.get(v);\r\n\t    }\r\n\t    \r\n\t}\r\n\r\n\t\r\nMake sure K and V class has proper hashCode implementation.\r\n\t","title":"Bidirectional Map","body":"<p>If you feel it pain importing some third party library.\nHow about this simple class. </p>\n\n<pre><code>public class BiMap&lt;K,V&gt; {\n\n    HashMap&lt;K,V&gt; map = new HashMap&lt;K, V&gt;();\n    HashMap&lt;V,K&gt; inversedMap = new HashMap&lt;V, K&gt;();\n\n    void put(K k, V v) {\n        map.put(k, v);\n        inversedMap.put(v, k);\n    }\n\n    V get(K k) {\n        return map.get(k);\n    }\n\n    K getKey(V v) {\n        return inversedMap.get(v);\n    }\n\n}\n</code></pre>\n\n<p>Make sure K and V class has proper hashCode implementation.</p>\n"},{"tags":[],"owner":{"account_id":53765,"reputation":1307,"user_id":160799,"accept_rate":75,"display_name":"Gregor"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1458595753,"creation_date":1458595753,"answer_id":36141961,"question_id":9783020,"body_markdown":"well for the average usecase where you need a Dictionary like that, I see nothing wrong with a KISS solution, just put&#39;ting the key and value vice versa, saving the overhead of a second Map or even library only for that purpose:\r\n\r\n    myMap.put(&quot;apple&quot;, &quot;Apfel&quot;);\r\n    myMap.put(&quot;Apfel&quot;, &quot;apple&quot;);\r\n","title":"Bidirectional Map","body":"<p>well for the average usecase where you need a Dictionary like that, I see nothing wrong with a KISS solution, just put'ting the key and value vice versa, saving the overhead of a second Map or even library only for that purpose:</p>\n\n<pre><code>myMap.put(\"apple\", \"Apfel\");\nmyMap.put(\"Apfel\", \"apple\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7764804,"reputation":11,"user_id":5876298,"display_name":"Narsi Reddy Nallamilli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548933509,"creation_date":1548933509,"answer_id":54459400,"question_id":9783020,"body_markdown":"You can define an enum and define helper method to get key. Performance is way too far better compared to BidiMap.\r\nE.g\r\n\r\n    public enum Fruit {\r\n            APPLE(&quot;_apple&quot;);\r\n            private final String value;\r\n            Fruit(String value){\r\n                this.value=value;\r\n            }\r\n            public String getValue(){\r\n                return this.value;\r\n            }\r\n            public static String getKey(String value){\r\n                Fruit fruits[] = Fruit.values();\r\n                for(Fruit fruit : fruits){\r\n                    if(value.equals(fruit.value)){\r\n                        return fruit.name();\r\n                    }\r\n                }\r\n                return null;        }\r\n        }","title":"Bidirectional Map","body":"<p>You can define an enum and define helper method to get key. Performance is way too far better compared to BidiMap.\nE.g</p>\n\n<pre><code>public enum Fruit {\n        APPLE(\"_apple\");\n        private final String value;\n        Fruit(String value){\n            this.value=value;\n        }\n        public String getValue(){\n            return this.value;\n        }\n        public static String getKey(String value){\n            Fruit fruits[] = Fruit.values();\n            for(Fruit fruit : fruits){\n                if(value.equals(fruit.value)){\n                    return fruit.name();\n                }\n            }\n            return null;        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":179998,"reputation":5576,"user_id":413032,"accept_rate":59,"display_name":"Davut G&#252;rb&#252;z"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1551193016,"creation_date":1551115013,"answer_id":54871433,"question_id":9783020,"body_markdown":"Based on [this answer][1] in this QA and its comments I wrote following. *[Will be tested]*\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/35219750/413032\r\n\r\n\r\n**Bidirectional Map**\r\n\r\n\r\n    import java.util.HashMap;\r\n\r\n    public class BidirectionalMap&lt;K, V&gt; extends HashMap&lt;K, V&gt; {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\tpublic HashMap&lt;V, K&gt; inversedMap = new HashMap&lt;V, K&gt;();\r\n\r\n\tpublic K getKey(V value) {\t\t\t\t\r\n\t\treturn inversedMap.get(value);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int size() {\r\n\t\treturn this.size();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean isEmpty() {\r\n\t\treturn this.size() &gt; 0;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic V remove(Object key) {\r\n\t\tV val=super.remove(key);\r\n\t\tinversedMap.remove(val);\r\n\t\treturn val;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic V get(Object key) {\r\n\t\treturn super.get(key);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic V put(K key, V value) {\t\t\r\n\t\tinversedMap.put(value, key);\r\n\t\treturn super.put(key, value);\r\n\t}\r\n\t\r\n    }\r\n","title":"Bidirectional Map","body":"<p>Based on <a href=\"https://stackoverflow.com/a/35219750/413032\">this answer</a> in this QA and its comments I wrote following. <em>[Will be tested]</em></p>\n\n<p><strong>Bidirectional Map</strong></p>\n\n<pre><code>import java.util.HashMap;\n\npublic class BidirectionalMap&lt;K, V&gt; extends HashMap&lt;K, V&gt; {\nprivate static final long serialVersionUID = 1L;\npublic HashMap&lt;V, K&gt; inversedMap = new HashMap&lt;V, K&gt;();\n\npublic K getKey(V value) {              \n    return inversedMap.get(value);\n}\n\n@Override\npublic int size() {\n    return this.size();\n}\n\n@Override\npublic boolean isEmpty() {\n    return this.size() &gt; 0;\n}\n\n@Override\npublic V remove(Object key) {\n    V val=super.remove(key);\n    inversedMap.remove(val);\n    return val;\n}\n\n@Override\npublic V get(Object key) {\n    return super.get(key);\n}\n\n@Override\npublic V put(K key, V value) {      \n    inversedMap.put(value, key);\n    return super.put(key, value);\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2996624,"reputation":758,"user_id":2543055,"accept_rate":83,"display_name":"Simeon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654248086,"creation_date":1654248086,"answer_id":72487455,"question_id":9783020,"body_markdown":"Based on [this][1] tutorial I suggest the following as answer:\r\n\r\n    public class IdToNames {\r\n      public static void main(String[] args){\r\n        BidiMap&lt;String, Integer&gt; map = new DualHashBidiMap&lt;&gt;();\r\n    \r\n        map.put(&quot;NameA&quot;, 100);\r\n        map.put(&quot;NameB&quot;, 200);\r\n    \r\n        System.out.println(map.size()); //2 as expected\r\n        System.out.println(map.get(&quot;NameA&quot;)); //100 as expected\r\n        System.out.println(map.getKey(100)); //&quot;NameA&quot; as expected\r\n      }\r\n    }\r\n\r\nNote the problem of duplicated keys and/or values described in this question [here][2]\r\n\r\n\r\n  [1]: https://www.tutorialspoint.com/commons_collections/commons_collections_bidimap.htm\r\n  [2]: https://stackoverflow.com/questions/72487163/bidirectional-mapping-in-java-witch-rejects-entries-of-key-or-value-already-exis","title":"Bidirectional Map","body":"<p>Based on <a href=\"https://www.tutorialspoint.com/commons_collections/commons_collections_bidimap.htm\" rel=\"nofollow noreferrer\">this</a> tutorial I suggest the following as answer:</p>\n<pre><code>public class IdToNames {\n  public static void main(String[] args){\n    BidiMap&lt;String, Integer&gt; map = new DualHashBidiMap&lt;&gt;();\n\n    map.put(&quot;NameA&quot;, 100);\n    map.put(&quot;NameB&quot;, 200);\n\n    System.out.println(map.size()); //2 as expected\n    System.out.println(map.get(&quot;NameA&quot;)); //100 as expected\n    System.out.println(map.getKey(100)); //&quot;NameA&quot; as expected\n  }\n}\n</code></pre>\n<p>Note the problem of duplicated keys and/or values described in this question <a href=\"https://stackoverflow.com/questions/72487163/bidirectional-mapping-in-java-witch-rejects-entries-of-key-or-value-already-exis\">here</a></p>\n"}],"owner":{"account_id":32599,"reputation":9219,"user_id":90575,"accept_rate":57,"display_name":"mawia"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27953,"favorite_count":0,"down_vote_count":0,"up_vote_count":70,"answer_count":9,"score":70,"last_activity_date":1654248086,"creation_date":1332229531,"question_id":9783020,"body_markdown":"Can you suggest a kind of map or similar data structure where we can get both the value and key from each other at equal ease. That is to say, that each may be used to find other.","title":"Bidirectional Map","body":"<p>Can you suggest a kind of map or similar data structure where we can get both the value and key from each other at equal ease. That is to say, that each may be used to find other.</p>\n"},{"tags":["java","crud"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1654245296,"post_id":72486390,"comment_id":128049749,"body_markdown":"Why should they be consecutive if you delete an entry in the middle? You store the id together with the first name, last name and age in the list. Why do you expect these ids to change?","body":"Why should they be consecutive if you delete an entry in the middle? You store the id together with the first name, last name and age in the list. Why do you expect these ids to change?"}],"answers":[{"tags":[],"owner":{"account_id":25301977,"reputation":31,"user_id":19126107,"display_name":"Massnissa BELAID"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654247848,"creation_date":1654247848,"answer_id":72487397,"question_id":72486390,"body_markdown":"I advise you to create a class to represent a person,\r\n\r\n    public class Person {\r\n    private String firstName;\r\n    private String lastName;\r\n    private String age;\r\n\r\n    public Person(String firstName, String lastName, String age) {\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.age = age;\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    public void setLastName(String lastName) {\r\n        this.lastName = lastName;\r\n    }\r\n\r\n    public String getAge() {\r\n        return age;\r\n    }\r\n\r\n    public void setAge(String age) {\r\n        this.age = age;\r\n    }}\r\n\r\nAnd use this class in your Main ArrayList, \r\nFor the id it is rather necessary to speak of index at this moment, here is the modification to make to your main\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        ArrayList&lt;Person&gt; personnes = new ArrayList&lt;&gt;();\r\n        boolean initiated = false;\r\n        int personID = 0; //Numbering the profiles\r\n        int operation = 0; //User Choice\r\n        int target = 0; //Targeted profile\r\n\r\n        while(operation != 0|| initiated == false){\r\n            System.out.println(&quot;============================&quot;);\r\n            System.out.print(&quot;1-Add Person\\n2-Edit Person\\n3-Delete Person\\n4-Print Report\\nSelect Option: &quot;);\r\n            operation = scanner.nextInt();\r\n            System.out.println(&quot;============================&quot;);\r\n\r\n            if(operation == 1){\r\n                personID++;\r\n                Add(scanner, personnes);\r\n            }\r\n            else if(operation == 2){\r\n                Edit(scanner,target, personnes);\r\n            }\r\n            else if(operation == 3){\r\n                System.out.println(&quot;PROFILE DELETE&quot;);\r\n                Delete(scanner, target, personnes);\r\n                personID--;\r\n            }\r\n            else if(operation == 4){\r\n                System.out.println(&quot;Reporting Records..&quot;);\r\n                Report(personnes);\r\n            }else{\r\n                System.out.print(&quot;Input Error!&quot;);\r\n                return;\r\n            }\r\n\r\n            if(operation != 4){\r\n                Report(personnes);\r\n            }\r\n            initiated = true;\r\n        }\r\n    }\r\n    public static void Add(Scanner scanner , ArrayList&lt;Person&gt; name){\r\n        System.out.println(&quot;PROFILE ADD&quot;);\r\n\r\n\r\n        String dummyScaner = scanner.nextLine(); //DOes Nothing but makesure FName gets an input\r\n        System.out.print(&quot;Enter First Name: &quot;);\r\n        String input0 = scanner.nextLine();\r\n        System.out.print(&quot;Enter Last Name: &quot;);\r\n        String input1 = scanner.nextLine();\r\n        System.out.print(&quot;Enter Age: &quot;);\r\n        String input2 = scanner.nextLine();\r\n        name.add(new Person(input0, input1, input2));\r\n    }\r\n    public static void Edit(Scanner scanner, int target, ArrayList&lt;Person&gt; name){\r\n        System.out.println(&quot;PROFILE EDIT&quot;);\r\n        Report(name);\r\n        System.out.print(&quot;Enter Number you want to update: &quot;);\r\n        int targetID = scanner.nextInt();\r\n\r\n        target = (targetID-1);\r\n        Person person = name.get(target);\r\n\r\n        System.out.print(&quot;Enter First Name: &quot;);\r\n        String dummyInput = scanner.nextLine();\r\n        String input0 = scanner.nextLine();\r\n        person.setFirstName(input0);\r\n        System.out.print(&quot;Enter Last Name: &quot;);\r\n        String input1 = scanner.nextLine();\r\n        person.setLastName(input1);\r\n        System.out.print(&quot;Age: &quot;);\r\n        String input2 = scanner.nextLine();\r\n        person.setAge(input2);\r\n        System.out.println(&quot;Number &quot;+target+&quot; updated successfully!&quot;);\r\n    }\r\n    public static void Delete(Scanner scanner, int target, ArrayList&lt;Person&gt; name){\r\n        System.out.println(&quot;PROFILE DELETE&quot;);\r\n        Report(name);\r\n        System.out.print(&quot;Enter Number you want to delete: &quot;);\r\n        int targetID = scanner.nextInt();\r\n\r\n        target = (targetID-1);\r\n\r\n        name.remove(target);\r\n\r\n        System.out.println(&quot;Number &quot;+target+&quot; deleted successfully!&quot;);\r\n    }\r\n    public static void Report(ArrayList&lt;Person&gt; name){\r\n\r\n        System.out.println(&quot;============================\\n&quot;);\r\n        System.out.println(&quot;No. | First Name | Last Name | Age&quot;);\r\n        for (int i = 0; i &lt; name.size(); i++) {\r\n            Person person = name.get(i);\r\n            System.out.println((i + 1) + &quot; | &quot; + person.getFirstName() + &quot; | &quot; + person.getLastName() + &quot; | &quot; + person.getAge());\r\n        }\r\n        System.out.println(&quot;&quot;);\r\n    }\r\n\r\n","title":"I have a little problem in the delete function.After i delete a certain data,the remaining 2 datas keeps their id numbers stays constants","body":"<p>I advise you to create a class to represent a person,</p>\n<pre><code>public class Person {\nprivate String firstName;\nprivate String lastName;\nprivate String age;\n\npublic Person(String firstName, String lastName, String age) {\n    this.firstName = firstName;\n    this.lastName = lastName;\n    this.age = age;\n}\n\npublic String getFirstName() {\n    return firstName;\n}\n\npublic void setFirstName(String firstName) {\n    this.firstName = firstName;\n}\n\npublic String getLastName() {\n    return lastName;\n}\n\npublic void setLastName(String lastName) {\n    this.lastName = lastName;\n}\n\npublic String getAge() {\n    return age;\n}\n\npublic void setAge(String age) {\n    this.age = age;\n}}\n</code></pre>\n<p>And use this class in your Main ArrayList,\nFor the id it is rather necessary to speak of index at this moment, here is the modification to make to your main</p>\n<pre><code>public static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    ArrayList&lt;Person&gt; personnes = new ArrayList&lt;&gt;();\n    boolean initiated = false;\n    int personID = 0; //Numbering the profiles\n    int operation = 0; //User Choice\n    int target = 0; //Targeted profile\n\n    while(operation != 0|| initiated == false){\n        System.out.println(&quot;============================&quot;);\n        System.out.print(&quot;1-Add Person\\n2-Edit Person\\n3-Delete Person\\n4-Print Report\\nSelect Option: &quot;);\n        operation = scanner.nextInt();\n        System.out.println(&quot;============================&quot;);\n\n        if(operation == 1){\n            personID++;\n            Add(scanner, personnes);\n        }\n        else if(operation == 2){\n            Edit(scanner,target, personnes);\n        }\n        else if(operation == 3){\n            System.out.println(&quot;PROFILE DELETE&quot;);\n            Delete(scanner, target, personnes);\n            personID--;\n        }\n        else if(operation == 4){\n            System.out.println(&quot;Reporting Records..&quot;);\n            Report(personnes);\n        }else{\n            System.out.print(&quot;Input Error!&quot;);\n            return;\n        }\n\n        if(operation != 4){\n            Report(personnes);\n        }\n        initiated = true;\n    }\n}\npublic static void Add(Scanner scanner , ArrayList&lt;Person&gt; name){\n    System.out.println(&quot;PROFILE ADD&quot;);\n\n\n    String dummyScaner = scanner.nextLine(); //DOes Nothing but makesure FName gets an input\n    System.out.print(&quot;Enter First Name: &quot;);\n    String input0 = scanner.nextLine();\n    System.out.print(&quot;Enter Last Name: &quot;);\n    String input1 = scanner.nextLine();\n    System.out.print(&quot;Enter Age: &quot;);\n    String input2 = scanner.nextLine();\n    name.add(new Person(input0, input1, input2));\n}\npublic static void Edit(Scanner scanner, int target, ArrayList&lt;Person&gt; name){\n    System.out.println(&quot;PROFILE EDIT&quot;);\n    Report(name);\n    System.out.print(&quot;Enter Number you want to update: &quot;);\n    int targetID = scanner.nextInt();\n\n    target = (targetID-1);\n    Person person = name.get(target);\n\n    System.out.print(&quot;Enter First Name: &quot;);\n    String dummyInput = scanner.nextLine();\n    String input0 = scanner.nextLine();\n    person.setFirstName(input0);\n    System.out.print(&quot;Enter Last Name: &quot;);\n    String input1 = scanner.nextLine();\n    person.setLastName(input1);\n    System.out.print(&quot;Age: &quot;);\n    String input2 = scanner.nextLine();\n    person.setAge(input2);\n    System.out.println(&quot;Number &quot;+target+&quot; updated successfully!&quot;);\n}\npublic static void Delete(Scanner scanner, int target, ArrayList&lt;Person&gt; name){\n    System.out.println(&quot;PROFILE DELETE&quot;);\n    Report(name);\n    System.out.print(&quot;Enter Number you want to delete: &quot;);\n    int targetID = scanner.nextInt();\n\n    target = (targetID-1);\n\n    name.remove(target);\n\n    System.out.println(&quot;Number &quot;+target+&quot; deleted successfully!&quot;);\n}\npublic static void Report(ArrayList&lt;Person&gt; name){\n\n    System.out.println(&quot;============================\\n&quot;);\n    System.out.println(&quot;No. | First Name | Last Name | Age&quot;);\n    for (int i = 0; i &lt; name.size(); i++) {\n        Person person = name.get(i);\n        System.out.println((i + 1) + &quot; | &quot; + person.getFirstName() + &quot; | &quot; + person.getLastName() + &quot; | &quot; + person.getAge());\n    }\n    System.out.println(&quot;&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":25222650,"reputation":13,"user_id":19058905,"display_name":"mmmmmmmellie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654247848,"creation_date":1654242854,"question_id":72486390,"body_markdown":"1. \r\n\r\n    This is the code\r\n    \r\n        import java.util.Scanner;\r\n        import java.util.ArrayList;\r\n         \r\n        public class Main{ \r\n            public static void main(String[] args) {\r\n                Scanner scanner = new Scanner(System.in);\r\n                ArrayList&lt;String&gt; name = new ArrayList&lt;String&gt;();\r\n                boolean initiated = false;\r\n                int personID = 0; //Numbering the profiles\r\n                int operation = 0; //User Choice\r\n                int target = 0; //Targeted profile\r\n                \r\n                while(operation != 0|| initiated == false){\r\n                    System.out.println(&quot;============================&quot;);\r\n                    System.out.print(&quot;1-Add Person\\n2-Edit Person\\n3-Delete Person\\n4-Print Report\\nSelect Option: &quot;);\r\n                    operation = scanner.nextInt();\r\n                    System.out.println(&quot;============================&quot;);\r\n         \r\n                    if(operation == 1){\r\n                        personID++;\r\n                        Add(scanner, personID, name);\r\n                    }\r\n                    else if(operation == 2){\r\n                        Edit(scanner,target,name);\r\n                    }\r\n                    else if(operation == 3){\r\n                        System.out.println(&quot;PROFILE DELETE&quot;);\r\n                        Delete(scanner, target, name);\r\n                        personID--;\r\n                    }\r\n                    else if(operation == 4){\r\n                        System.out.println(&quot;Reporting Records..&quot;);\r\n                        Report(name);\r\n                    }else{\r\n                        System.out.print(&quot;Input Error!&quot;);\r\n                        return;\r\n                    }\r\n         \r\n                    if(operation != 4){\r\n                        Report(name);\r\n                    }\r\n                    initiated = true;\r\n                }\r\n            }\r\n            public static void Add(Scanner scanner, int personID, ArrayList&lt;String&gt; name){\r\n                System.out.println(&quot;PROFILE ADD&quot;);\r\n                \r\n                name.add(Integer.toString(personID));\r\n                String dummyScaner = scanner.nextLine(); //DOes Nothing but makesure FName gets an input\r\n                System.out.print(&quot;Enter First Name: &quot;);\r\n                String input0 = scanner.nextLine();\r\n                name.add(input0);\r\n                System.out.print(&quot;Enter Last Name: &quot;);\r\n                String input1 = scanner.nextLine();\r\n                name.add(input1);\r\n                System.out.print(&quot;Enter Age: &quot;);\r\n                String input2 = scanner.nextLine();\r\n                name.add(input2);\r\n            }\r\n            public static void Edit(Scanner scanner, int target, ArrayList&lt;String&gt; name){\r\n                System.out.println(&quot;PROFILE EDIT&quot;);\r\n                Report(name);\r\n                System.out.print(&quot;Enter Number you want to update: &quot;);\r\n                int targetID = scanner.nextInt();\r\n         \r\n                target = (targetID-1)*4;\r\n         \r\n                System.out.print(&quot;Enter First Name: &quot;);\r\n                String dummyInput = scanner.nextLine();\r\n                String input0 = scanner.nextLine();\r\n                name.set(target+1,input0);\r\n                System.out.print(&quot;Enter Last Name: &quot;);\r\n                String input1 = scanner.nextLine();\r\n                name.set(target+2,input1);\r\n                System.out.print(&quot;Age: &quot;);\r\n                String input2 = scanner.nextLine();\r\n                name.set(target+3,input2);\r\n                System.out.println(&quot;Number &quot;+target+&quot; updated successfully!&quot;);\r\n            }\r\n            public static void Delete(Scanner scanner, int target, ArrayList&lt;String&gt; name){\r\n                System.out.println(&quot;PROFILE DELETE&quot;);\r\n                Report(name);\r\n                System.out.print(&quot;Enter Number you want to delete: &quot;);\r\n                int targetID = scanner.nextInt();\r\n         \r\n                target = (targetID-1)*4;\r\n                \r\n                name.remove(target+3);\r\n                name.remove(target+2);\r\n                name.remove(target+1);\r\n                name.remove(target);\r\n         \r\n                System.out.println(&quot;Number &quot;+target+&quot; deleted successfully!&quot;);\r\n            }\r\n            public static void Report(ArrayList&lt;String&gt; name){\r\n         \r\n                System.out.println(&quot;============================\\n&quot;);\r\n                System.out.print(&quot;No. | First Name | Last Name | Age&quot;);\r\n                for (int i = 0; i &lt; name.size(); i++) {\r\n                    if(i%4==0){\r\n                        System.out.println(&quot;&quot;);\r\n                    }\r\n                    System.out.print(name.get(i)+&quot; | &quot;);\r\n                }\r\n                System.out.println(&quot;&quot;);\r\n            }  \r\n        }\r\n\r\n \r\n\r\n    //To Do List:\r\n    //Fix: Delete Function\r\n        // Issue: When deleting a profile, with id number, the profile ID remains constant and does not adapt to new profile count.\r\n        // Ex: you have 3 profile and then you decided to delete 3. there will be 1 and 2 left.\r\n        //      But if you decided to delete 2 instead, it&#39;ll show 1 and 3 instead of being 1 and 2.        This is the to do list\r\n[![Output][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bGpFs.png","title":"I have a little problem in the delete function.After i delete a certain data,the remaining 2 datas keeps their id numbers stays constants","body":"<ol>\n<li><p>This is the code</p>\n<pre><code>  import java.util.Scanner;\n  import java.util.ArrayList;\n\n  public class Main{ \n      public static void main(String[] args) {\n          Scanner scanner = new Scanner(System.in);\n          ArrayList&lt;String&gt; name = new ArrayList&lt;String&gt;();\n          boolean initiated = false;\n          int personID = 0; //Numbering the profiles\n          int operation = 0; //User Choice\n          int target = 0; //Targeted profile\n\n          while(operation != 0|| initiated == false){\n              System.out.println(&quot;============================&quot;);\n              System.out.print(&quot;1-Add Person\\n2-Edit Person\\n3-Delete Person\\n4-Print Report\\nSelect Option: &quot;);\n              operation = scanner.nextInt();\n              System.out.println(&quot;============================&quot;);\n\n              if(operation == 1){\n                  personID++;\n                  Add(scanner, personID, name);\n              }\n              else if(operation == 2){\n                  Edit(scanner,target,name);\n              }\n              else if(operation == 3){\n                  System.out.println(&quot;PROFILE DELETE&quot;);\n                  Delete(scanner, target, name);\n                  personID--;\n              }\n              else if(operation == 4){\n                  System.out.println(&quot;Reporting Records..&quot;);\n                  Report(name);\n              }else{\n                  System.out.print(&quot;Input Error!&quot;);\n                  return;\n              }\n\n              if(operation != 4){\n                  Report(name);\n              }\n              initiated = true;\n          }\n      }\n      public static void Add(Scanner scanner, int personID, ArrayList&lt;String&gt; name){\n          System.out.println(&quot;PROFILE ADD&quot;);\n\n          name.add(Integer.toString(personID));\n          String dummyScaner = scanner.nextLine(); //DOes Nothing but makesure FName gets an input\n          System.out.print(&quot;Enter First Name: &quot;);\n          String input0 = scanner.nextLine();\n          name.add(input0);\n          System.out.print(&quot;Enter Last Name: &quot;);\n          String input1 = scanner.nextLine();\n          name.add(input1);\n          System.out.print(&quot;Enter Age: &quot;);\n          String input2 = scanner.nextLine();\n          name.add(input2);\n      }\n      public static void Edit(Scanner scanner, int target, ArrayList&lt;String&gt; name){\n          System.out.println(&quot;PROFILE EDIT&quot;);\n          Report(name);\n          System.out.print(&quot;Enter Number you want to update: &quot;);\n          int targetID = scanner.nextInt();\n\n          target = (targetID-1)*4;\n\n          System.out.print(&quot;Enter First Name: &quot;);\n          String dummyInput = scanner.nextLine();\n          String input0 = scanner.nextLine();\n          name.set(target+1,input0);\n          System.out.print(&quot;Enter Last Name: &quot;);\n          String input1 = scanner.nextLine();\n          name.set(target+2,input1);\n          System.out.print(&quot;Age: &quot;);\n          String input2 = scanner.nextLine();\n          name.set(target+3,input2);\n          System.out.println(&quot;Number &quot;+target+&quot; updated successfully!&quot;);\n      }\n      public static void Delete(Scanner scanner, int target, ArrayList&lt;String&gt; name){\n          System.out.println(&quot;PROFILE DELETE&quot;);\n          Report(name);\n          System.out.print(&quot;Enter Number you want to delete: &quot;);\n          int targetID = scanner.nextInt();\n\n          target = (targetID-1)*4;\n\n          name.remove(target+3);\n          name.remove(target+2);\n          name.remove(target+1);\n          name.remove(target);\n\n          System.out.println(&quot;Number &quot;+target+&quot; deleted successfully!&quot;);\n      }\n      public static void Report(ArrayList&lt;String&gt; name){\n\n          System.out.println(&quot;============================\\n&quot;);\n          System.out.print(&quot;No. | First Name | Last Name | Age&quot;);\n          for (int i = 0; i &lt; name.size(); i++) {\n              if(i%4==0){\n                  System.out.println(&quot;&quot;);\n              }\n              System.out.print(name.get(i)+&quot; | &quot;);\n          }\n          System.out.println(&quot;&quot;);\n      }  \n  }\n</code></pre>\n<p>//To Do List:\n//Fix: Delete Function\n// Issue: When deleting a profile, with id number, the profile ID remains constant and does not adapt to new profile count.\n// Ex: you have 3 profile and then you decided to delete 3. there will be 1 and 2 left.\n//      But if you decided to delete 2 instead, it'll show 1 and 3 instead of being 1 and 2.        This is the to do list\n<a href=\"https://i.stack.imgur.com/bGpFs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bGpFs.png\" alt=\"Output\" /></a></p>\n</li>\n</ol>\n"},{"tags":["javascript","java","rest","https","server"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1654247916,"post_id":72487393,"comment_id":128050607,"body_markdown":"Redirect Java and NodeJs through a proxy like Mitmproxy, Burp, Charles or Fiddler and compare the requests, then you will see the differences.","body":"Redirect Java and NodeJs through a proxy like Mitmproxy, Burp, Charles or Fiddler and compare the requests, then you will see the differences."},{"owner":{"account_id":14233920,"reputation":52,"user_id":10282276,"display_name":"Mark Score"},"score":0,"creation_date":1654249036,"post_id":72487393,"comment_id":128050981,"body_markdown":"500 Internal server error means there&#39;s exception in your java service, try to take a look at the logging and see what happened.","body":"500 Internal server error means there&#39;s exception in your java service, try to take a look at the logging and see what happened."}],"owner":{"account_id":24467331,"reputation":15,"user_id":18387513,"display_name":"Concellia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":841,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654247825,"creation_date":1654247825,"question_id":72487393,"body_markdown":"Can someone assist.\r\n\r\nI am currently working on a project and working with some APIs.\r\n\r\nI have two identical codes Java and Node(Javascript)\r\n\r\nBoth of the codes were working fine before but suddenly the Java one is now returning a status code 500 while the Node one returns 200.\r\n\r\n**Here is the Successful one in Node:**\r\n     \r\n**POST http://localhost:3001/pay**\r\n\r\n**Network**\r\naddress: &quot;::1&quot;\r\nfamily: &quot;IPv6&quot;\r\nport: 3001\r\n\r\n**Request Headers**\r\nContent-Type: application/json\r\nUser-Agent: PostmanRuntime/7.29.0\r\nAccept: */*\r\nCache-Control: no-cache\r\nPostman-Token: c3a4c3e4-8619-4d00-b1f0-5d32f0e65890\r\nHost: localhost:3001\r\nAccept-Encoding: gzip, deflate, br\r\nConnection: keep-alive\r\nContent-Length: 71\r\n\r\n**Response Headers**\r\nX-Powered-By: Express\r\nContent-Type: application/json; charset=utf-8\r\nContent-Length: 693\r\nETag: W/&quot;2b5-crRygc3ceDh/mgZoQAOuLBQoVsc&quot;\r\nDate: Fri, 03 Jun 2022 08:42:47 GMT\r\nConnection: keep-alive\r\nKeep-Alive: timeout=5\r\n\r\n**This is the one failing Java:**\r\n\r\n    \r\n**POST http://localhost:8090/pay**\r\n\r\n**Network**\r\naddress: &quot;::1&quot;\r\nfamily: &quot;IPv6&quot;\r\nport: 8090\r\n\r\n**Request Headers**\r\nContent-Type: application/json\r\nUser-Agent: PostmanRuntime/7.29.0\r\nAccept: */*\r\nCache-Control: no-cache\r\nPostman-Token: 88453221-ab41-4b51-843b-3022a5db571a\r\nHost: localhost:8090\r\nAccept-Encoding: gzip, deflate, br\r\nConnection: keep-alive\r\nContent-Length: 71\r\n\r\n**Response Headers**\r\nContent-Type: application/json\r\nTransfer-Encoding: chunked\r\nDate: Fri, 03 Jun 2022 08:43:19 GMT\r\nConnection: close\r\n\r\n**Response Body**\r\n{&quot;timestamp&quot;:&quot;2022-06-03T08:43:19.971+00:00&quot;,&quot;status&quot;:500,&quot;error&quot;:&quot;Internal Server Error&quot;,&quot;path&quot;:&quot;/pay&quot;}\r\n\r\nPlease note the request headers and body is the same for both projects.","title":"Getting 500 Internal Server Error on JAVA but 200 with Node","body":"<p>Can someone assist.</p>\n<p>I am currently working on a project and working with some APIs.</p>\n<p>I have two identical codes Java and Node(Javascript)</p>\n<p>Both of the codes were working fine before but suddenly the Java one is now returning a status code 500 while the Node one returns 200.</p>\n<p><strong>Here is the Successful one in Node:</strong></p>\n<p><strong>POST http://localhost:3001/pay</strong></p>\n<p><strong>Network</strong>\naddress: &quot;::1&quot;\nfamily: &quot;IPv6&quot;\nport: 3001</p>\n<p><strong>Request Headers</strong>\nContent-Type: application/json\nUser-Agent: PostmanRuntime/7.29.0\nAccept: <em>/</em>\nCache-Control: no-cache\nPostman-Token: c3a4c3e4-8619-4d00-b1f0-5d32f0e65890\nHost: localhost:3001\nAccept-Encoding: gzip, deflate, br\nConnection: keep-alive\nContent-Length: 71</p>\n<p><strong>Response Headers</strong>\nX-Powered-By: Express\nContent-Type: application/json; charset=utf-8\nContent-Length: 693\nETag: W/&quot;2b5-crRygc3ceDh/mgZoQAOuLBQoVsc&quot;\nDate: Fri, 03 Jun 2022 08:42:47 GMT\nConnection: keep-alive\nKeep-Alive: timeout=5</p>\n<p><strong>This is the one failing Java:</strong></p>\n<p><strong>POST http://localhost:8090/pay</strong></p>\n<p><strong>Network</strong>\naddress: &quot;::1&quot;\nfamily: &quot;IPv6&quot;\nport: 8090</p>\n<p><strong>Request Headers</strong>\nContent-Type: application/json\nUser-Agent: PostmanRuntime/7.29.0\nAccept: <em>/</em>\nCache-Control: no-cache\nPostman-Token: 88453221-ab41-4b51-843b-3022a5db571a\nHost: localhost:8090\nAccept-Encoding: gzip, deflate, br\nConnection: keep-alive\nContent-Length: 71</p>\n<p><strong>Response Headers</strong>\nContent-Type: application/json\nTransfer-Encoding: chunked\nDate: Fri, 03 Jun 2022 08:43:19 GMT\nConnection: close</p>\n<p><strong>Response Body</strong>\n{&quot;timestamp&quot;:&quot;2022-06-03T08:43:19.971+00:00&quot;,&quot;status&quot;:500,&quot;error&quot;:&quot;Internal Server Error&quot;,&quot;path&quot;:&quot;/pay&quot;}</p>\n<p>Please note the request headers and body is the same for both projects.</p>\n"},{"tags":["java","loops","java-stream"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1654196200,"post_id":72480687,"comment_id":128039761,"body_markdown":"Note, as documented, `iterate` works like a `for` loop. It starts with a seed value, tests if the value meets the condition, computes the next value, tests if the new value meets the condition, and so on. As long as the condition is met, the &quot;loop body&quot; is entered. So, `iterate` must grab the next value before it can test if the condition is still met.","body":"Note, as documented, <code>iterate</code> works like a <code>for</code> loop. It starts with a seed value, tests if the value meets the condition, computes the next value, tests if the new value meets the condition, and so on. As long as the condition is met, the &quot;loop body&quot; is entered. So, <code>iterate</code> must grab the next value before it can test if the condition is still met."},{"owner":{"account_id":13958474,"reputation":13,"user_id":10082124,"display_name":"AneeshMohan0"},"score":0,"creation_date":1654197914,"post_id":72480687,"comment_id":128040273,"body_markdown":"@Slaw  - You are right, it works like a `for` loop, It&#39;s misleading in Java API to say hasNext and next in Docs.","body":"@Slaw  - You are right, it works like a <code>for</code> loop, It&#39;s misleading in Java API to say hasNext and next in Docs."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654247628,"creation_date":1654198333,"answer_id":72481440,"question_id":72480687,"body_markdown":"According to the documentation [`Stream.iterate()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#iterate(T,java.util.function.Predicate,java.util.function.UnaryOperator)) utilizes `for` loop under the hood:\r\n\r\n&gt; Stream.iterate should produce the same sequence of elements as\r\n&gt; produced by the corresponding for-loop:\r\n&gt; \r\n&gt;      for (T index=seed; hasNext.test(index); index = next.apply(index)) {\r\n&gt;          ...\r\n&gt;      }  \r\n&gt; \r\n&gt; The resulting sequence may be empty if the hasNext predicate does not\r\n&gt; hold on the seed value. Otherwise the first element will be the\r\n&gt; supplied seed value, the next element (if present) will be the result\r\n&gt; of applying the `next` *function* to the seed value, and so on iteratively\r\n&gt; until the `hasNext` *predicate* indicates that the ***stream should\r\n&gt; terminate***.\r\n\r\nSo basically the first argument of the `iterate()` *seed* corresponds to the *initialization expression* of the `for` loop, the second argument (*predicate*) acts as the *termination expression* and the third argument (*unary operator*) plays the role of the *increment expression* ([*see*](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html)).\r\n\r\n&lt;h3&gt;Examples&lt;/h3&gt;\r\n\r\nLet&#39;s have a look at the couple of examples:\r\n```\r\nIterator&lt;String&gt; iter = List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;).iterator();\r\n\r\nStream.iterate(iter.next(), str -&gt; iter.hasNext(), str -&gt; iter.next())\r\n    .forEach(System.out::println);\r\n```\r\nWhich is does the same as:\r\n```\r\nStream.generate(() -&gt; &quot;dummy&quot;)\r\n    .map(str -&gt; iter.next()) // requesting the element\r\n    .peek(str -&gt; System.out.println(str + &quot; &lt;- invoking next()&quot;))\r\n    .takeWhile(str -&gt; {\r\n        boolean result = iter.hasNext(); // checking whether the next element exists\r\n        System.out.println(result + &quot; &lt;- invoking hasNext()&quot;);\r\n        return result;\r\n    })\r\n    .forEach(str -&gt; System.out.println(str + &quot; &lt;- has reached the terminal operation\\n&quot;));\r\n```\r\n*Output of the second stream:*\r\n```\r\nA &lt;- invoking next()\r\ntrue &lt;- invoking hasNext()\r\nA &lt;- has reached the terminal operation\r\n\r\nB &lt;- invoking next()\r\ntrue &lt;- invoking hasNext()\r\nB &lt;- has reached the terminal operation\r\n\r\nC &lt;- invoking next()\r\nfalse &lt;- invoking hasNext()\r\n```\r\n\r\nLet&#39;s explore all actions:\r\n\r\n* The *seed* `iter.next()` will retrieve the first element `A` (in the second stream it will be done by the `map` operation). Then the *predicate* `iter.next()` would be triggered. \r\n\r\n* Then the second element `B` would be retrieved, and the predicate will come into play. \r\n\r\n* Then the third element `C` would follow, and  the predicate `iter.next()` will return `false` because the source was already exhausted.\r\n\r\n**Conclusion** : in both cases, the last element `C` gets grabbed from the source before the *predicate* gets executed and since the source is already empty the *predicate* would be evaluated to `false` and this element would be thrown away.\r\n\r\n&lt;h3&gt;How to fix it?&lt;/h3&gt;\r\n\r\nTo make it successfully retrieve all the elements from the source, you need to swap the `map` and `takeWhile`, i.e. first check whether there&#39;s a *next element* and only then request the *next element*:\r\n```\r\nIterator&lt;String&gt; iter = List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;).iterator();\r\n\r\nStream.generate(() -&gt; &quot;dummy&quot;)\r\n    .takeWhile(str -&gt; iter.hasNext())\r\n    .map(str -&gt; iter.next())\r\n    .forEach(System.out::println);\r\n```\r\n*Output:*\r\n```\r\nA\r\nB\r\nC\r\n```\r\nThis fix is only applicable with combination `takeWhile` + `map`, but we can&#39;t change the behavior of the `iterate()`.\r\n____________________________________________________\r\n\r\nAs *@Slow* has mentioned in the comments, if you make the `SlidingWindows` class implement [`Iterator`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Iterator.html#method-summary ) interface, then you can make use of the [`StreamSupport`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/StreamSupport.html) utility class that will take care of translating all the elements into a stream for you as it has been described here: [Why does Iterable&lt;T&gt; not provide stream() and parallelStream() methods?](https://stackoverflow.com/a/23177907/17949945)\r\n\r\nNote that it also requires transforming the *iterator* into an instance of `Spliterator` which can be done by utilizing the static method [`spliteratorUnknownSize()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Spliterators.html#spliteratorUnknownSize(java.util.Iterator,int)) of the `Spliterators` utility class.\r\n```\r\nStreamSupport.stream(\r\n        Spliterators.spliteratorUnknownSize(iter, Spliterator.ORDERED), \r\n        false) // a flag that denotes whether the stream should be parallel\r\n    .forEach(System.out::println);\r\n```","title":"Java 9 Stream.iterate(T seed, Predicate&lt;? super T&gt; hasNext, UnaryOperator&lt;T&gt; next) call&#39;s hasNext after calling next","body":"<p>According to the documentation <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#iterate(T,java.util.function.Predicate,java.util.function.UnaryOperator)\" rel=\"nofollow noreferrer\"><code>Stream.iterate()</code></a> utilizes <code>for</code> loop under the hood:</p>\n<blockquote>\n<p>Stream.iterate should produce the same sequence of elements as\nproduced by the corresponding for-loop:</p>\n<pre><code> for (T index=seed; hasNext.test(index); index = next.apply(index)) {\n     ...\n }  \n</code></pre>\n<p>The resulting sequence may be empty if the hasNext predicate does not\nhold on the seed value. Otherwise the first element will be the\nsupplied seed value, the next element (if present) will be the result\nof applying the <code>next</code> <em>function</em> to the seed value, and so on iteratively\nuntil the <code>hasNext</code> <em>predicate</em> indicates that the <em><strong>stream should\nterminate</strong></em>.</p>\n</blockquote>\n<p>So basically the first argument of the <code>iterate()</code> <em>seed</em> corresponds to the <em>initialization expression</em> of the <code>for</code> loop, the second argument (<em>predicate</em>) acts as the <em>termination expression</em> and the third argument (<em>unary operator</em>) plays the role of the <em>increment expression</em> (<a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html\" rel=\"nofollow noreferrer\"><em>see</em></a>).</p>\n<h3>Examples</h3>\n<p>Let's have a look at the couple of examples:</p>\n<pre><code>Iterator&lt;String&gt; iter = List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;).iterator();\n\nStream.iterate(iter.next(), str -&gt; iter.hasNext(), str -&gt; iter.next())\n    .forEach(System.out::println);\n</code></pre>\n<p>Which is does the same as:</p>\n<pre><code>Stream.generate(() -&gt; &quot;dummy&quot;)\n    .map(str -&gt; iter.next()) // requesting the element\n    .peek(str -&gt; System.out.println(str + &quot; &lt;- invoking next()&quot;))\n    .takeWhile(str -&gt; {\n        boolean result = iter.hasNext(); // checking whether the next element exists\n        System.out.println(result + &quot; &lt;- invoking hasNext()&quot;);\n        return result;\n    })\n    .forEach(str -&gt; System.out.println(str + &quot; &lt;- has reached the terminal operation\\n&quot;));\n</code></pre>\n<p><em>Output of the second stream:</em></p>\n<pre><code>A &lt;- invoking next()\ntrue &lt;- invoking hasNext()\nA &lt;- has reached the terminal operation\n\nB &lt;- invoking next()\ntrue &lt;- invoking hasNext()\nB &lt;- has reached the terminal operation\n\nC &lt;- invoking next()\nfalse &lt;- invoking hasNext()\n</code></pre>\n<p>Let's explore all actions:</p>\n<ul>\n<li><p>The <em>seed</em> <code>iter.next()</code> will retrieve the first element <code>A</code> (in the second stream it will be done by the <code>map</code> operation). Then the <em>predicate</em> <code>iter.next()</code> would be triggered.</p>\n</li>\n<li><p>Then the second element <code>B</code> would be retrieved, and the predicate will come into play.</p>\n</li>\n<li><p>Then the third element <code>C</code> would follow, and  the predicate <code>iter.next()</code> will return <code>false</code> because the source was already exhausted.</p>\n</li>\n</ul>\n<p><strong>Conclusion</strong> : in both cases, the last element <code>C</code> gets grabbed from the source before the <em>predicate</em> gets executed and since the source is already empty the <em>predicate</em> would be evaluated to <code>false</code> and this element would be thrown away.</p>\n<h3>How to fix it?</h3>\n<p>To make it successfully retrieve all the elements from the source, you need to swap the <code>map</code> and <code>takeWhile</code>, i.e. first check whether there's a <em>next element</em> and only then request the <em>next element</em>:</p>\n<pre><code>Iterator&lt;String&gt; iter = List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;).iterator();\n\nStream.generate(() -&gt; &quot;dummy&quot;)\n    .takeWhile(str -&gt; iter.hasNext())\n    .map(str -&gt; iter.next())\n    .forEach(System.out::println);\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>A\nB\nC\n</code></pre>\n<p>This fix is only applicable with combination <code>takeWhile</code> + <code>map</code>, but we can't change the behavior of the <code>iterate()</code>.</p>\n<hr />\n<p>As <em>@Slow</em> has mentioned in the comments, if you make the <code>SlidingWindows</code> class implement <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Iterator.html#method-summary\" rel=\"nofollow noreferrer\"><code>Iterator</code></a> interface, then you can make use of the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/StreamSupport.html\" rel=\"nofollow noreferrer\"><code>StreamSupport</code></a> utility class that will take care of translating all the elements into a stream for you as it has been described here: <a href=\"https://stackoverflow.com/a/23177907/17949945\">Why does Iterable not provide stream() and parallelStream() methods?</a></p>\n<p>Note that it also requires transforming the <em>iterator</em> into an instance of <code>Spliterator</code> which can be done by utilizing the static method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Spliterators.html#spliteratorUnknownSize(java.util.Iterator,int)\" rel=\"nofollow noreferrer\"><code>spliteratorUnknownSize()</code></a> of the <code>Spliterators</code> utility class.</p>\n<pre><code>StreamSupport.stream(\n        Spliterators.spliteratorUnknownSize(iter, Spliterator.ORDERED), \n        false) // a flag that denotes whether the stream should be parallel\n    .forEach(System.out::println);\n</code></pre>\n"}],"owner":{"account_id":13958474,"reputation":13,"user_id":10082124,"display_name":"AneeshMohan0"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":373,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72481440,"answer_count":1,"score":1,"last_activity_date":1654247628,"creation_date":1654193759,"question_id":72480687,"body_markdown":"My understanding is it needs to check `hasNext` and then if it&#39;s `true`, then call the next method to get the element in the iterator.\r\n\r\n*Issue:* \r\n\r\nIt calls `hasNext` after retrieving the element, In my case, the last element is retrieved using next and checks for `hasNext` then it returns `false` and the loop ends. So I process `N-1` elements instead of `N` elements. \r\n\r\nAlternatively, I have used the below code.\r\n\r\n```\r\nStream.generate(() -&gt; j)\r\n    .takeWhile(SlidingWindow::hasNextTimePeriod)\r\n    .map(slider -&gt; slider.next())\r\n```\r\n\r\nReproducing Code :\r\n\r\n\r\n    @Slf4j\r\n    class Java9StreamTest {\r\n    \r\n        @Test\r\n        void testStream() {\r\n    \r\n            final SlidingWindows slidingWindows = new SlidingWindows();\r\n    \r\n            Stream.iterate(slidingWindows.next(), j -&gt; slidingWindows.hasNext(), j -&gt; slidingWindows.next())\r\n                    .forEach(value -&gt; log.info(&quot;{}&quot;, value));\r\n        }\r\n    }\r\n    \r\n    class SlidingWindows {\r\n        private final List&lt;String&gt; list = List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\r\n        private int count = 0;\r\n    \r\n        public boolean hasNext() {\r\n            return count &lt; list.size();\r\n        }\r\n    \r\n        public String next() {\r\n            final String result = list.get(count);\r\n            count = count + 1;\r\n            return result;\r\n        }    \r\n    }\r\n\r\n*Output :* \r\n```\r\n20:20:03.485 [main] INFO mohan.stream.Java9StreamTest - A\r\n20:20:03.489 [main] INFO mohan.stream.Java9StreamTest - B\r\n```\r\nMissing last element `C`\r\n\r\n\r\nIt works like a `for` loop, It&#39;s misleading in Java API to say `hasNext` and `next` in Docs. \r\n\r\nWhat is equivalent to the below code in Streams? \r\n\r\n  \r\n\r\n     while(slidingWindows.hasNext()) { \r\n        final String next = slidingWindows.next(); \r\n        log.info(&quot;{}&quot;, next); \r\n     }","title":"Java 9 Stream.iterate(T seed, Predicate&lt;? super T&gt; hasNext, UnaryOperator&lt;T&gt; next) call&#39;s hasNext after calling next","body":"<p>My understanding is it needs to check <code>hasNext</code> and then if it's <code>true</code>, then call the next method to get the element in the iterator.</p>\n<p><em>Issue:</em></p>\n<p>It calls <code>hasNext</code> after retrieving the element, In my case, the last element is retrieved using next and checks for <code>hasNext</code> then it returns <code>false</code> and the loop ends. So I process <code>N-1</code> elements instead of <code>N</code> elements.</p>\n<p>Alternatively, I have used the below code.</p>\n<pre><code>Stream.generate(() -&gt; j)\n    .takeWhile(SlidingWindow::hasNextTimePeriod)\n    .map(slider -&gt; slider.next())\n</code></pre>\n<p>Reproducing Code :</p>\n<pre><code>@Slf4j\nclass Java9StreamTest {\n\n    @Test\n    void testStream() {\n\n        final SlidingWindows slidingWindows = new SlidingWindows();\n\n        Stream.iterate(slidingWindows.next(), j -&gt; slidingWindows.hasNext(), j -&gt; slidingWindows.next())\n                .forEach(value -&gt; log.info(&quot;{}&quot;, value));\n    }\n}\n\nclass SlidingWindows {\n    private final List&lt;String&gt; list = List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\n    private int count = 0;\n\n    public boolean hasNext() {\n        return count &lt; list.size();\n    }\n\n    public String next() {\n        final String result = list.get(count);\n        count = count + 1;\n        return result;\n    }    \n}\n</code></pre>\n<p><em>Output :</em></p>\n<pre><code>20:20:03.485 [main] INFO mohan.stream.Java9StreamTest - A\n20:20:03.489 [main] INFO mohan.stream.Java9StreamTest - B\n</code></pre>\n<p>Missing last element <code>C</code></p>\n<p>It works like a <code>for</code> loop, It's misleading in Java API to say <code>hasNext</code> and <code>next</code> in Docs.</p>\n<p>What is equivalent to the below code in Streams?</p>\n<pre><code> while(slidingWindows.hasNext()) { \n    final String next = slidingWindows.next(); \n    log.info(&quot;{}&quot;, next); \n }\n</code></pre>\n"},{"tags":["java","ruby","groovy"],"comments":[{"owner":{"account_id":284007,"reputation":18939,"user_id":581845,"accept_rate":83,"display_name":"epidemian"},"score":1,"creation_date":1359184504,"post_id":14534476,"comment_id":20270210,"body_markdown":"BTW, the preferred Ruby style would be leaving out the parentheses for no-argument method definitions, i.e. `def calculate_total; end`, :)","body":"BTW, the preferred Ruby style would be leaving out the parentheses for no-argument method definitions, i.e. <code>def calculate_total; end</code>, :)"}],"answers":[{"tags":[],"owner":{"account_id":284007,"reputation":18939,"user_id":581845,"accept_rate":83,"display_name":"epidemian"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1654247346,"creation_date":1359183595,"answer_id":14534685,"question_id":14534476,"body_markdown":"The first one. Groovy took a lot from Ruby, but its main focus is to be a dynamic and powerful language that plays well with Java. Therefore, most Java coding conventions and coding styles apply to Groovy as well. \r\n\r\nAbout naming conventions, while I also prefer the `underscore_separated_words` style of Ruby/Python and others, I think sticking to convention and being consistent with the surrounding environment is much more important than personal preference in these kind-of-superfluous matters (there are other things, like preferring a functional style over imperative constructs or vice versa, that I think are more interesting to discuss. \r\n\r\nSo, always use `camelCasing` for Groovy methods. The [Groovy documentation][1] uses them; all the methods from the standard library use them. \r\n\r\nFinally, here&#39;s a nice [Groovy coding conventions guide][2]. It doesn&#39;t do any mention about naming conventions or formatting, but it introduces many of Groovy&#39;s nice syntactic additions and explains when it&#39;s preferred to use them\r\n\r\n[1]: http://groovy-lang.org/documentation.html\r\n[2]: http://groovy-lang.org/style-guide.html","title":"Groovy coding conventions?","body":"<p>The first one. Groovy took a lot from Ruby, but its main focus is to be a dynamic and powerful language that plays well with Java. Therefore, most Java coding conventions and coding styles apply to Groovy as well.</p>\n<p>About naming conventions, while I also prefer the <code>underscore_separated_words</code> style of Ruby/Python and others, I think sticking to convention and being consistent with the surrounding environment is much more important than personal preference in these kind-of-superfluous matters (there are other things, like preferring a functional style over imperative constructs or vice versa, that I think are more interesting to discuss.</p>\n<p>So, always use <code>camelCasing</code> for Groovy methods. The <a href=\"http://groovy-lang.org/documentation.html\" rel=\"nofollow noreferrer\">Groovy documentation</a> uses them; all the methods from the standard library use them.</p>\n<p>Finally, here's a nice <a href=\"http://groovy-lang.org/style-guide.html\" rel=\"nofollow noreferrer\">Groovy coding conventions guide</a>. It doesn't do any mention about naming conventions or formatting, but it introduces many of Groovy's nice syntactic additions and explains when it's preferred to use them</p>\n"}],"owner":{"account_id":1421077,"reputation":18087,"user_id":1345655,"accept_rate":78,"display_name":"Kshitiz Sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16588,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"closed_date":1359396107,"accepted_answer_id":14534685,"answer_count":1,"score":14,"last_activity_date":1654247346,"creation_date":1359181413,"question_id":14534476,"body_markdown":"What is the standard coding convention for Groovy?\r\n\r\nIn Java the method naming is done using camel case notation.\r\n\r\n    public void calculateTotal() {}\r\n\r\nIn Ruby on which Groovy is based, underscores are preferred.\r\n\r\n    def calculate_total()\r\n    end\r\n\r\nWhich of the above two styles would be considered more Groovyist?\r\n\r\nPersonally I&#39;m more inclined to use the Ruby style. Is there a standard document/general consensus among the Groovy community as to what is preferable?","title":"Groovy coding conventions?","body":"<p>What is the standard coding convention for Groovy?</p>\n\n<p>In Java the method naming is done using camel case notation.</p>\n\n<pre><code>public void calculateTotal() {}\n</code></pre>\n\n<p>In Ruby on which Groovy is based, underscores are preferred.</p>\n\n<pre><code>def calculate_total()\nend\n</code></pre>\n\n<p>Which of the above two styles would be considered more Groovyist?</p>\n\n<p>Personally I'm more inclined to use the Ruby style. Is there a standard document/general consensus among the Groovy community as to what is preferable?</p>\n"},{"tags":["java","equals","hashset","hashcode"],"comments":[{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":1,"creation_date":1654181798,"post_id":72478197,"comment_id":128034749,"body_markdown":"Without overwriting hashCode, this won&#39;t work with a set. But you could e.g. use a `HashMap&lt;String, User&gt;`, mapping the names to full users, then get the values from that map.","body":"Without overwriting hashCode, this won&#39;t work with a set. But you could e.g. use a <code>HashMap&lt;String, User&gt;</code>, mapping the names to full users, then get the values from that map."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1654181806,"post_id":72478197,"comment_id":128034754,"body_markdown":"Could just write another class that simply wraps a `User` instance and implements `equals` and `hashCode` as your want. Or write your own set implementation specifically for `User` (doesn&#39;t have to implement `Set`). Or use a `Map&lt;String, User&gt;` as a set. Or maybe some other idea I&#39;m not thinking of.","body":"Could just write another class that simply wraps a <code>User</code> instance and implements <code>equals</code> and <code>hashCode</code> as your want. Or write your own set implementation specifically for <code>User</code> (doesn&#39;t have to implement <code>Set</code>). Or use a <code>Map&lt;String, User&gt;</code> as a set. Or maybe some other idea I&#39;m not thinking of."},{"owner":{"account_id":16634092,"reputation":798,"user_id":12804925,"display_name":"Jakub Znamen&#225;ek"},"score":0,"creation_date":1654182039,"post_id":72478197,"comment_id":128034844,"body_markdown":"Ok, thanks Slaw and tobias_k, both are useful replies, I was thinkin about something like that, but I wasn&#39;t sure if there isn&#39;t anything easier how to solve this problem.","body":"Ok, thanks Slaw and tobias_k, both are useful replies, I was thinkin about something like that, but I wasn&#39;t sure if there isn&#39;t anything easier how to solve this problem."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1654182127,"post_id":72478197,"comment_id":128034883,"body_markdown":"@Slaw `UserDecorator` (with a an overridden `hashCode()` and `equals()`) sounds reasonable to me.","body":"@Slaw <code>UserDecorator</code> (with a an overridden <code>hashCode()</code> and <code>equals()</code>) sounds reasonable to me."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1654182838,"post_id":72478197,"comment_id":128035157,"body_markdown":"If it doesn&#39;t need to be a `HashSet`, `TreeSet` has a constructor that takes a custom comparator.","body":"If it doesn&#39;t need to be a <code>HashSet</code>, <code>TreeSet</code> has a constructor that takes a custom comparator."},{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":1,"creation_date":1654194994,"post_id":72478197,"comment_id":128039420,"body_markdown":"@JakubZnamen&#225;ek If you want feedback on the code you wrote you should better ask over at https://codereview.stackexchange.com","body":"@JakubZnamen&#225;ek If you want feedback on the code you wrote you should better ask over at <a href=\"https://codereview.stackexchange.com\">codereview.stackexchange.com</a>"},{"owner":{"account_id":16634092,"reputation":798,"user_id":12804925,"display_name":"Jakub Znamen&#225;ek"},"score":0,"creation_date":1654200732,"post_id":72478197,"comment_id":128041101,"body_markdown":"@SpaceTrucker Thank you, I did not know that something like that exists! Thanks","body":"@SpaceTrucker Thank you, I did not know that something like that exists! Thanks"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1654202530,"post_id":72478197,"comment_id":128041732,"body_markdown":"@JohannesKuhn Good suggestion. I posted [an Answer](https://stackoverflow.com/a/72482101/642706) using a `Comparator` with `TreeSet`. That does indeed seem to provide the behavior desired in this Question.","body":"@JohannesKuhn Good suggestion. I posted <a href=\"https://stackoverflow.com/a/72482101/642706\">an Answer</a> using a <code>Comparator</code> with <code>TreeSet</code>. That does indeed seem to provide the behavior desired in this Question."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1654207110,"post_id":72478197,"comment_id":128042871,"body_markdown":"The `TreeSet` would be the better approach.  And it can check on any number of items using the custom Comparator.","body":"The <code>TreeSet</code> would be the better approach.  And it can check on any number of items using the custom Comparator."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1654247343,"creation_date":1654182263,"answer_id":72478374,"question_id":72478197,"body_markdown":"&lt;h2&gt;Clean and Efficient&lt;/h2&gt;\r\n\r\n&gt; I would like to have UserNameSet which would allow to contain only users which have different name\r\n\r\nYou can apply composition and create a class that would maintain a `Map` and delegate all calls to it. \r\n\r\nThe approach of encapsulating a collection and providing limited access to it is more flexible and less tedious than extending a collection, and also doesn&#39;t create a tight coupling. \r\n\r\nSimilar advice, and also examples of disadvantages that come with making your code dependent on the existing collection by extending it, you can find in the book *&quot;Effective Java&quot;* by *Joshua Bloch*, item *Favor composition over inheritance*.\r\n\r\nThat&#39;s how such a class might look like:\r\n```\r\nclass UserNameSet {\r\n    private Map&lt;String, User&gt; userByName = new HashMap&lt;&gt;();\r\n    \r\n    public User add(User user) {\r\n        return userByName.put(user.getName(), user); // or `putIfAbsent()` if you want to retain the previously added user\r\n    }\r\n    \r\n    public User remove(User user) {\r\n        return userByName.remove(user.getName());\r\n    }\r\n    \r\n    public boolean contains(User user) {\r\n        return userByName.containsValue(user.getName());\r\n    }\r\n    \r\n    public User remove(String name) {\r\n        return userByName.remove(name);\r\n    }\r\n    \r\n    public boolean contains(String name) {\r\n        return userByName.containsKey(name);\r\n    }\r\n    \r\n    // all other methods that are required\r\n}\r\n```\r\nWe can also make this class to be *generic* and capable of wrapping any object.\r\n\r\nFor that, we need to introduce an additional argument - a *function* that will be responsible for extracting the target property from the object.\r\n\r\n```\r\nclass MyCustomSet&lt;K, V&gt; {\r\n    private Map&lt;K, V&gt; userByName = new HashMap&lt;&gt;();\r\n    private Function&lt;V, K&gt; keyExtractor;\r\n    \r\n    public MyCustomSet(Function&lt;V, K&gt; keyExtractor) {\r\n        this.keyExtractor = keyExtractor;\r\n    }\r\n    \r\n    public V add(V user) {\r\n        return userByName.put(keyExtractor.apply(user), user); // or `putIfAbsent()` if you want to retain the previously added user\r\n    }\r\n    \r\n    public V remove(V user) {\r\n        return userByName.remove(keyExtractor.apply(user));\r\n    }\r\n    \r\n    public boolean contains(V user) {\r\n        return userByName.containsValue(user);\r\n    }\r\n    \r\n    public V removeByKey(K name) {\r\n        return userByName.remove(name);\r\n    }\r\n    \r\n    public boolean containsKey(K name) {\r\n        return userByName.containsKey(name);\r\n    }\r\n    \r\n    // all other methods that are required\r\n}\r\n```\r\nAnd that&#39;s how it would be instantiated in the client code:\r\n```\r\nMyCustomSet&lt;String, User&gt; uniqueNameUsers = new MyCustomSet&lt;&gt;(User::getName);\r\n```\r\n\r\n&lt;h2&gt;Concise and Simple&lt;/h2&gt;\r\n\r\nThe approach of utilizing sorted collections like [`TreeSet`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/TreeSet.html#method-summary) described in the [*Basil&#39;s Bourque answer*](https://stackoverflow.com/a/72482101/17949945) can be used for a **relatively small** number of objects.\r\n\r\nIt&#39;s important to emphasize that storing the data in sorted collections has a cost. The larger they become, the slower they operate. `TreeSet` is backed by the [*Red-black tree*](https://en.wikipedia.org/wiki/Red%E2%80%93black_tree) and most of the actions like basic `add()`, `remove()` and `contains()` operations require **O(n)** time, apart from the edge-cases when we deal with the *lowest/highest key*.\r\n\r\n","title":"HashSet using custom hashCode","body":"<h2>Clean and Efficient</h2>\n<blockquote>\n<p>I would like to have UserNameSet which would allow to contain only users which have different name</p>\n</blockquote>\n<p>You can apply composition and create a class that would maintain a <code>Map</code> and delegate all calls to it.</p>\n<p>The approach of encapsulating a collection and providing limited access to it is more flexible and less tedious than extending a collection, and also doesn't create a tight coupling.</p>\n<p>Similar advice, and also examples of disadvantages that come with making your code dependent on the existing collection by extending it, you can find in the book <em>&quot;Effective Java&quot;</em> by <em>Joshua Bloch</em>, item <em>Favor composition over inheritance</em>.</p>\n<p>That's how such a class might look like:</p>\n<pre><code>class UserNameSet {\n    private Map&lt;String, User&gt; userByName = new HashMap&lt;&gt;();\n    \n    public User add(User user) {\n        return userByName.put(user.getName(), user); // or `putIfAbsent()` if you want to retain the previously added user\n    }\n    \n    public User remove(User user) {\n        return userByName.remove(user.getName());\n    }\n    \n    public boolean contains(User user) {\n        return userByName.containsValue(user.getName());\n    }\n    \n    public User remove(String name) {\n        return userByName.remove(name);\n    }\n    \n    public boolean contains(String name) {\n        return userByName.containsKey(name);\n    }\n    \n    // all other methods that are required\n}\n</code></pre>\n<p>We can also make this class to be <em>generic</em> and capable of wrapping any object.</p>\n<p>For that, we need to introduce an additional argument - a <em>function</em> that will be responsible for extracting the target property from the object.</p>\n<pre><code>class MyCustomSet&lt;K, V&gt; {\n    private Map&lt;K, V&gt; userByName = new HashMap&lt;&gt;();\n    private Function&lt;V, K&gt; keyExtractor;\n    \n    public MyCustomSet(Function&lt;V, K&gt; keyExtractor) {\n        this.keyExtractor = keyExtractor;\n    }\n    \n    public V add(V user) {\n        return userByName.put(keyExtractor.apply(user), user); // or `putIfAbsent()` if you want to retain the previously added user\n    }\n    \n    public V remove(V user) {\n        return userByName.remove(keyExtractor.apply(user));\n    }\n    \n    public boolean contains(V user) {\n        return userByName.containsValue(user);\n    }\n    \n    public V removeByKey(K name) {\n        return userByName.remove(name);\n    }\n    \n    public boolean containsKey(K name) {\n        return userByName.containsKey(name);\n    }\n    \n    // all other methods that are required\n}\n</code></pre>\n<p>And that's how it would be instantiated in the client code:</p>\n<pre><code>MyCustomSet&lt;String, User&gt; uniqueNameUsers = new MyCustomSet&lt;&gt;(User::getName);\n</code></pre>\n<h2>Concise and Simple</h2>\n<p>The approach of utilizing sorted collections like <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/TreeSet.html#method-summary\" rel=\"nofollow noreferrer\"><code>TreeSet</code></a> described in the <a href=\"https://stackoverflow.com/a/72482101/17949945\"><em>Basil's Bourque answer</em></a> can be used for a <strong>relatively small</strong> number of objects.</p>\n<p>It's important to emphasize that storing the data in sorted collections has a cost. The larger they become, the slower they operate. <code>TreeSet</code> is backed by the <a href=\"https://en.wikipedia.org/wiki/Red%E2%80%93black_tree\" rel=\"nofollow noreferrer\"><em>Red-black tree</em></a> and most of the actions like basic <code>add()</code>, <code>remove()</code> and <code>contains()</code> operations require <strong>O(n)</strong> time, apart from the edge-cases when we deal with the <em>lowest/highest key</em>.</p>\n"},{"tags":[],"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654184271,"creation_date":1654184271,"answer_id":72478816,"question_id":72478197,"body_markdown":"commons-collections already provides an [Equator][1] interface to do what you suggest:\r\n```\r\npublic interface Equator&lt;T&gt; {\r\n    boolean equate(T o1, T o2);\r\n    int hash(T o);\r\n}\r\n\r\n```\r\nHowever direct support for creating collections based on an equator is limited. There are a few operations involving an equator available in [CollectionUtils][2]. \r\n\r\nHowever you could leverage [Transformer][3] to wrap your desired objects into ones that use an equator and then use all the support commons-collections provides for transformers. For example using [SetUtils.transformedSet][4]:\r\n\r\n```\r\nclass EquatorWrapper&lt;T&gt; {\r\n\tprivate final Class&lt;T&gt; clazz;\r\n\tprivate final T wrapped;\r\n\tprivate final Equator&lt;T&gt; equator;\r\n\r\n\tpublic EquatorWrapper(Class&lt;T&gt; clazz, T wrapped, Equator&lt;T&gt; equator) {\r\n\t\tthis.clazz = clazz;\r\n\t\tthis.wrapped = wrapped;\r\n\t\tthis.equator = equator;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean equals(Object obj) {\r\n\t\tif (clazz.isInstance(obj)) {\r\n\t\t\treturn equator.equate(wrapped, clazz.cast(obj));\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int hashCode() {\r\n\t\treturn equator.hash(wrapped);\r\n\t}\r\n}\r\n\r\nclass EquatorTransformer&lt;T&gt; implements Transformer&lt;T, Object&gt; {\r\n\tprivate final Class&lt;T&gt; clazz;\r\n\tprivate final Equator&lt;T&gt; equator;\r\n\r\n\tpublic EquatorTransformer(Class&lt;T&gt; clazz, Equator&lt;T&gt; equator) {\r\n\t\tthis.clazz = clazz;\r\n\t\tthis.equator = equator;\r\n\t}\r\n\t\t\r\n\t@Override\r\n\tpublic Object transform(T input) {\r\n\t\treturn new EquatorWrapper&lt;&gt;(clazz, input, equator);\r\n\t}\r\n}\r\n\r\nSetUtils.transformedSet(someSet, EquatorTransformer.of(someEquator, SomeClazz.clazz));\r\n```\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-collections/javadocs/api-4.4/org/apache/commons/collections4/Equator.html\r\n  [2]: https://commons.apache.org/proper/commons-collections/javadocs/api-4.4/org/apache/commons/collections4/CollectionUtils.html\r\n  [3]: https://commons.apache.org/proper/commons-collections/javadocs/api-4.4/org/apache/commons/collections4/Transformer.html\r\n  [4]: https://commons.apache.org/proper/commons-collections/javadocs/api-4.4/org/apache/commons/collections4/SetUtils.html#transformedSet-java.util.Set-org.apache.commons.collections4.Transformer-","title":"HashSet using custom hashCode","body":"<p>commons-collections already provides an <a href=\"https://commons.apache.org/proper/commons-collections/javadocs/api-4.4/org/apache/commons/collections4/Equator.html\" rel=\"nofollow noreferrer\">Equator</a> interface to do what you suggest:</p>\n<pre><code>public interface Equator&lt;T&gt; {\n    boolean equate(T o1, T o2);\n    int hash(T o);\n}\n\n</code></pre>\n<p>However direct support for creating collections based on an equator is limited. There are a few operations involving an equator available in <a href=\"https://commons.apache.org/proper/commons-collections/javadocs/api-4.4/org/apache/commons/collections4/CollectionUtils.html\" rel=\"nofollow noreferrer\">CollectionUtils</a>.</p>\n<p>However you could leverage <a href=\"https://commons.apache.org/proper/commons-collections/javadocs/api-4.4/org/apache/commons/collections4/Transformer.html\" rel=\"nofollow noreferrer\">Transformer</a> to wrap your desired objects into ones that use an equator and then use all the support commons-collections provides for transformers. For example using <a href=\"https://commons.apache.org/proper/commons-collections/javadocs/api-4.4/org/apache/commons/collections4/SetUtils.html#transformedSet-java.util.Set-org.apache.commons.collections4.Transformer-\" rel=\"nofollow noreferrer\">SetUtils.transformedSet</a>:</p>\n<pre><code>class EquatorWrapper&lt;T&gt; {\n    private final Class&lt;T&gt; clazz;\n    private final T wrapped;\n    private final Equator&lt;T&gt; equator;\n\n    public EquatorWrapper(Class&lt;T&gt; clazz, T wrapped, Equator&lt;T&gt; equator) {\n        this.clazz = clazz;\n        this.wrapped = wrapped;\n        this.equator = equator;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (clazz.isInstance(obj)) {\n            return equator.equate(wrapped, clazz.cast(obj));\n        }\n        return false;\n    }\n\n    @Override\n    public int hashCode() {\n        return equator.hash(wrapped);\n    }\n}\n\nclass EquatorTransformer&lt;T&gt; implements Transformer&lt;T, Object&gt; {\n    private final Class&lt;T&gt; clazz;\n    private final Equator&lt;T&gt; equator;\n\n    public EquatorTransformer(Class&lt;T&gt; clazz, Equator&lt;T&gt; equator) {\n        this.clazz = clazz;\n        this.equator = equator;\n    }\n        \n    @Override\n    public Object transform(T input) {\n        return new EquatorWrapper&lt;&gt;(clazz, input, equator);\n    }\n}\n\nSetUtils.transformedSet(someSet, EquatorTransformer.of(someEquator, SomeClazz.clazz));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1654240076,"creation_date":1654202357,"answer_id":72482101,"question_id":72478197,"body_markdown":"# Use `Comparator` with `TreeSet`\r\n\r\nAs [commented][1] by Johannes Kuhn, you can get your desired behavior by using a [`NavigableSet`][2] (or `SortedSet`). **No need to invent your own class.**\r\n\r\nImplementations of [`NavigableSet`][2] such as [`TreeSet`][3] may offer a constructor taking a [`Comparator`][4] object. That `Comparator` is used for sorting the elements of the set. \r\n\r\nTo our point here in this Question, that `Comparator` is also used in deciding to admitting new distinct elements rather than using the elements own `Object#equals` method. \r\n\r\nAnd since there is no hashing involved in a `TreeSet`, there is no concern about overriding `hashCode`. \r\n\r\nWe can easily define our `Comparator` implementation. For convenience, we can call [`Comparator.comparing`][5] to make a comparator implementation. We define the comparator by passing a method reference for the getter method of your desired `name` field: `User :: name`. \r\n\r\nYou can add more criteria to your comparator by calling [`thenComparing`][6]. I leave that as an exercise for the reader.\r\n\r\nFor brevity, let&#39;s define your `User` class as a [record][7]. We simply declare the type and name of member fields. The compiler implicitly creates the constructor, getters, `equals` &amp; `hashCode`, and `toString`.\r\n\r\n    record User( String name , String email , int age ) { }\r\n\r\nMake some sample data.\r\n\r\n```java\r\nList &lt; User &gt; listOfUsers =\r\n        List.of(\r\n                new User( &quot;Bob&quot; , &quot;bob@x.com&quot; , 7 ) ,\r\n                new User( &quot;Alice&quot; , &quot;alice@x.com&quot; , 42 ) ,\r\n                new User( &quot;Carol&quot; , &quot;carol@x.com&quot; , 77 )\r\n        );\r\n```\r\n\r\nDefine our set, a `TreeSet`. \r\n\r\n```java\r\nNavigableSet &lt; User &gt; setOfUsers = new TreeSet &lt;&gt;( Comparator.comparing( User :: name )  );\r\n```\r\n\r\nPopulate our set with 3 elements. Verify 3 elements by dumping to console.\r\n\r\n```java\r\nsetOfUsers.addAll( listOfUsers );\r\nSystem.out.println( setOfUsers.size() + &quot; elements in setOfUsers = &quot; + setOfUsers );\r\n```\r\n\r\nNow we try to add another user with the same name but different values in the other fields. \r\n\r\n```java\r\nsetOfUsers.add( new User( &quot;Alice&quot; , &quot;a@aol.com&quot; , -666  ) );\r\n```\r\n\r\nBy default, a `record` decides on equality by comparing each and every member field. So:\r\n\r\n - If we have failed in our goal of using only `name` for comparison, we would get 4 elements in this set. \r\n - If we have succeeded in using only `name`, then we should get 3 elements   after having blocked admission of this interloper. \r\n\r\nDump to console.\r\n\r\n```java\r\nSystem.out.println( setOfUsers.size() + &quot; elements in setOfUsers = &quot; + setOfUsers );\r\n```\r\n\r\n&gt;3 elements in setOfUsers = [User[name=Alice, email=alice@x.com, age=42], User[name=Bob, email=bob@x.com, age=7], User[name=Carol, email=carol@x.com, age=77]]\r\n&gt;\r\n&gt;3 elements in setOfUsers = [User[name=Alice, email=alice@x.com, age=42], User[name=Bob, email=bob@x.com, age=7], User[name=Carol, email=carol@x.com, age=77]]\r\n\r\nWe see in those results (a) sorting of the elements by name, and (b) Blocking of the second `Alice`, with the original `Alice` remaining.\r\n\r\nTo see the alternate behavior, replace the `setOfUsers` definition with this:\r\n\r\n    Set &lt; User &gt; setOfUsers = new HashSet &lt;&gt;();\r\n\r\nRunning that edition of the code results in `setOfUsers.size()` being:\r\n\r\n&gt;3 elements in setOfUsers = [User[name=Bob, email=bob@x.com, age=7], User[name=Carol, email=carol@x.com, age=77], User[name=Alice, email=alice@x.com, age=42]]\r\n&gt;\r\n&gt;4 elements in setOfUsers = [User[name=Bob, email=bob@x.com, age=7], User[name=Carol, email=carol@x.com, age=77], User[name=Alice, email=alice@x.com, age=42], User[name=Alice, email=a@aol.com, age=-666]]\r\n\r\n\r\nWe see in those results (a) no particular sorting, and (b) the addition of a second &quot;Alice&quot;, having increased the set from 3 elements to 4. \r\n\r\n# Caveat\r\n\r\nOne possible downside to my solution here is that we are violating  the recommendation of the Javadoc of `TreeSet` to be consistent with `equals`, thereby violating the general contract of `Set`. \r\n\r\nI am not sure if that issue is problematic or not  I do not have enough perspective to form a judgement. \r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/72478197/hashset-using-custom-hashcode/72482101#comment128035157_72478197\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableSet.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/TreeSet.html\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#comparing(java.util.function.Function)\r\n  [6]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#thenComparing(java.util.function.Function)\r\n  [7]: http://openjdk.java.net/jeps/395","title":"HashSet using custom hashCode","body":"<h1>Use <code>Comparator</code> with <code>TreeSet</code></h1>\n<p>As <a href=\"https://stackoverflow.com/questions/72478197/hashset-using-custom-hashcode/72482101#comment128035157_72478197\">commented</a> by Johannes Kuhn, you can get your desired behavior by using a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableSet.html\" rel=\"nofollow noreferrer\"><code>NavigableSet</code></a> (or <code>SortedSet</code>). <strong>No need to invent your own class.</strong></p>\n<p>Implementations of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableSet.html\" rel=\"nofollow noreferrer\"><code>NavigableSet</code></a> such as <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/TreeSet.html\" rel=\"nofollow noreferrer\"><code>TreeSet</code></a> may offer a constructor taking a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html\" rel=\"nofollow noreferrer\"><code>Comparator</code></a> object. That <code>Comparator</code> is used for sorting the elements of the set.</p>\n<p>To our point here in this Question, that <code>Comparator</code> is also used in deciding to admitting new distinct elements rather than using the elements own <code>Object#equals</code> method.</p>\n<p>And since there is no hashing involved in a <code>TreeSet</code>, there is no concern about overriding <code>hashCode</code>.</p>\n<p>We can easily define our <code>Comparator</code> implementation. For convenience, we can call <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#comparing(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>Comparator.comparing</code></a> to make a comparator implementation. We define the comparator by passing a method reference for the getter method of your desired <code>name</code> field: <code>User :: name</code>.</p>\n<p>You can add more criteria to your comparator by calling <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#thenComparing(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>thenComparing</code></a>. I leave that as an exercise for the reader.</p>\n<p>For brevity, let's define your <code>User</code> class as a <a href=\"http://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\">record</a>. We simply declare the type and name of member fields. The compiler implicitly creates the constructor, getters, <code>equals</code> &amp; <code>hashCode</code>, and <code>toString</code>.</p>\n<pre><code>record User( String name , String email , int age ) { }\n</code></pre>\n<p>Make some sample data.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; User &gt; listOfUsers =\n        List.of(\n                new User( &quot;Bob&quot; , &quot;bob@x.com&quot; , 7 ) ,\n                new User( &quot;Alice&quot; , &quot;alice@x.com&quot; , 42 ) ,\n                new User( &quot;Carol&quot; , &quot;carol@x.com&quot; , 77 )\n        );\n</code></pre>\n<p>Define our set, a <code>TreeSet</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>NavigableSet &lt; User &gt; setOfUsers = new TreeSet &lt;&gt;( Comparator.comparing( User :: name )  );\n</code></pre>\n<p>Populate our set with 3 elements. Verify 3 elements by dumping to console.</p>\n<pre class=\"lang-java prettyprint-override\"><code>setOfUsers.addAll( listOfUsers );\nSystem.out.println( setOfUsers.size() + &quot; elements in setOfUsers = &quot; + setOfUsers );\n</code></pre>\n<p>Now we try to add another user with the same name but different values in the other fields.</p>\n<pre class=\"lang-java prettyprint-override\"><code>setOfUsers.add( new User( &quot;Alice&quot; , &quot;a@aol.com&quot; , -666  ) );\n</code></pre>\n<p>By default, a <code>record</code> decides on equality by comparing each and every member field. So:</p>\n<ul>\n<li>If we have failed in our goal of using only <code>name</code> for comparison, we would get 4 elements in this set.</li>\n<li>If we have succeeded in using only <code>name</code>, then we should get 3 elements   after having blocked admission of this interloper.</li>\n</ul>\n<p>Dump to console.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println( setOfUsers.size() + &quot; elements in setOfUsers = &quot; + setOfUsers );\n</code></pre>\n<blockquote>\n<p>3 elements in setOfUsers = [User[name=Alice, email=alice@x.com, age=42], User[name=Bob, email=bob@x.com, age=7], User[name=Carol, email=carol@x.com, age=77]]</p>\n<p>3 elements in setOfUsers = [User[name=Alice, email=alice@x.com, age=42], User[name=Bob, email=bob@x.com, age=7], User[name=Carol, email=carol@x.com, age=77]]</p>\n</blockquote>\n<p>We see in those results (a) sorting of the elements by name, and (b) Blocking of the second <code>Alice</code>, with the original <code>Alice</code> remaining.</p>\n<p>To see the alternate behavior, replace the <code>setOfUsers</code> definition with this:</p>\n<pre><code>Set &lt; User &gt; setOfUsers = new HashSet &lt;&gt;();\n</code></pre>\n<p>Running that edition of the code results in <code>setOfUsers.size()</code> being:</p>\n<blockquote>\n<p>3 elements in setOfUsers = [User[name=Bob, email=bob@x.com, age=7], User[name=Carol, email=carol@x.com, age=77], User[name=Alice, email=alice@x.com, age=42]]</p>\n<p>4 elements in setOfUsers = [User[name=Bob, email=bob@x.com, age=7], User[name=Carol, email=carol@x.com, age=77], User[name=Alice, email=alice@x.com, age=42], User[name=Alice, email=a@aol.com, age=-666]]</p>\n</blockquote>\n<p>We see in those results (a) no particular sorting, and (b) the addition of a second &quot;Alice&quot;, having increased the set from 3 elements to 4.</p>\n<h1>Caveat</h1>\n<p>One possible downside to my solution here is that we are violating  the recommendation of the Javadoc of <code>TreeSet</code> to be consistent with <code>equals</code>, thereby violating the general contract of <code>Set</code>.</p>\n<p>I am not sure if that issue is problematic or not  I do not have enough perspective to form a judgement.</p>\n"}],"owner":{"account_id":16634092,"reputation":798,"user_id":12804925,"display_name":"Jakub Znamen&#225;ek"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":746,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":72482101,"answer_count":3,"score":4,"last_activity_date":1654247343,"creation_date":1654181432,"question_id":72478197,"body_markdown":"Could someone point me the right direction: I would like to have a custom `HashSet` without changing `hashCode()/equals()` methods.\r\n\r\nUsage would be to have a Set of objects which must have different one attribute (or more).\r\n\r\nSo, for example, for this Class:\r\n```java\r\n@FieldDefaults(level = AccessLevel.PRIVATE)\r\n@Getter @Setter\r\npublic class User{\r\n    String name;\r\n    String email;\r\n    String age;\r\n}\r\n```\r\n\r\nI would like to have `UserNameSet` which would allow to contain only users which have different name. I do not want to override the hashCode and equals method in User, because I still want to differentiate between users with same name but different email for example.\r\n\r\nI would like to somehow **&quot;override&quot;** the `hashCode()/equals()` method just for this one `HashMap`.\r\n\r\n**EDITED**\r\n\r\nI have come up with this solution on first glance it works, could someone check it?\r\n\r\n```java\r\npackage com.znamenacek.debtor.util;\r\n\r\nimport lombok.AccessLevel;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.experimental.FieldDefaults;\r\n\r\nimport java.util.*;\r\nimport java.util.function.Consumer;\r\nimport java.util.function.Function;\r\nimport java.util.function.IntFunction;\r\nimport java.util.function.Predicate;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.Stream;\r\n\r\n@FieldDefaults(level = AccessLevel.PRIVATE)\r\npublic class CustomizableHashSet&lt;T&gt; implements Set&lt;T&gt; {\r\n    Function&lt;T, Integer&gt; customHashCode = Object::hashCode;\r\n    HashSet&lt;ClassWrapper&gt; storage = new HashSet&lt;&gt;();\r\n\r\n    public CustomizableHashSet(Function&lt;T, Integer&gt; customHashCode) {\r\n        this.customHashCode = customHashCode;\r\n    }\r\n\r\n    public CustomizableHashSet() {}\r\n\r\n    public CustomizableHashSet(Collection&lt;? extends T&gt; c, Function&lt;T, Integer&gt; customHashCode) {\r\n        storage = new HashSet&lt;&gt;(c.stream().map(ClassWrapper::new).toList());\r\n        this.customHashCode = customHashCode;\r\n    }\r\n\r\n    public CustomizableHashSet(Collection&lt;? extends T&gt; c) {\r\n        storage = new HashSet&lt;&gt;(c.stream().map(ClassWrapper::new).toList());\r\n    }\r\n\r\n    public CustomizableHashSet(int initialCapacity, float loadFactor, Function&lt;T, Integer&gt; customHashCode) {\r\n        storage = new HashSet&lt;&gt;(initialCapacity, loadFactor);\r\n        this.customHashCode = customHashCode;\r\n    }\r\n\r\n    public CustomizableHashSet(int initialCapacity, float loadFactor) {\r\n        storage = new HashSet&lt;&gt;(initialCapacity, loadFactor);\r\n    }\r\n\r\n    public CustomizableHashSet(int initialCapacity, Function&lt;T, Integer&gt; customHashCode) {\r\n        storage = new HashSet&lt;&gt;(initialCapacity);\r\n        this.customHashCode = customHashCode;\r\n    }\r\n\r\n    public CustomizableHashSet(int initialCapacity) {\r\n        storage = new HashSet&lt;&gt;(initialCapacity);\r\n    }\r\n\r\n    @Override\r\n    public Iterator&lt;T&gt; iterator() {\r\n        return storage.stream().map(ClassWrapper::get).iterator();\r\n    }\r\n\r\n    @Override\r\n    public int size() {\r\n        return storage.size();\r\n    }\r\n\r\n    @Override\r\n    public boolean isEmpty() {\r\n        return storage.isEmpty();\r\n    }\r\n\r\n    @Override\r\n    public boolean contains(Object o) {\r\n        return storage.stream().map(ClassWrapper::get).collect(Collectors.toSet()).contains(o);\r\n    }\r\n\r\n    @Override\r\n    public boolean add(T t) {\r\n        return storage.add(new ClassWrapper(t));\r\n    }\r\n\r\n    @Override\r\n    public boolean remove(Object o) {\r\n        boolean returnValue;\r\n        var storageContent = storage.stream().map(ClassWrapper::get).collect(Collectors.toSet());\r\n        returnValue = storageContent.remove(o);\r\n        storage = storageContent.stream().map(ClassWrapper::new).collect(Collectors.toCollection(HashSet::new));\r\n\r\n        return returnValue;\r\n    }\r\n\r\n    @Override\r\n    public void clear() {\r\n        storage.clear();\r\n    }\r\n\r\n    @Override\r\n    public Object clone() {\r\n        throw new UnsupportedOperationException();\r\n    }\r\n\r\n    @Override\r\n    public Spliterator&lt;T&gt; spliterator() {\r\n        return storage.stream().map(ClassWrapper::get).spliterator();\r\n    }\r\n\r\n    @Override\r\n    public Object[] toArray() {\r\n        return storage.stream().map(ClassWrapper::get).toArray();\r\n    }\r\n\r\n    @Override\r\n    public &lt;T1&gt; T1[] toArray(T1[] a) {\r\n        return storage.stream().map(ClassWrapper::get).collect(Collectors.toSet()).toArray(a);\r\n    }\r\n\r\n    @Override\r\n    public boolean removeAll(Collection&lt;?&gt; c) {\r\n        boolean returnValue;\r\n        var storageContent = storage.stream().map(ClassWrapper::get).collect(Collectors.toSet());\r\n        returnValue = storageContent.removeAll(c);\r\n        storage = storageContent.stream().map(ClassWrapper::new).collect(Collectors.toCollection(HashSet::new));\r\n\r\n        return returnValue;\r\n    }\r\n\r\n    @Override\r\n    public boolean containsAll(Collection&lt;?&gt; c) {\r\n        boolean returnValue;\r\n        var storageContent = storage.stream().map(ClassWrapper::get).collect(Collectors.toSet());\r\n        returnValue = storageContent.containsAll(c);\r\n        storage = storageContent.stream().map(ClassWrapper::new).collect(Collectors.toCollection(HashSet::new));\r\n\r\n        return returnValue;\r\n    }\r\n\r\n    @Override\r\n    public boolean addAll(Collection&lt;? extends T&gt; c) {\r\n        return storage.addAll(c.stream().map(ClassWrapper::new).collect(Collectors.toSet()));\r\n    }\r\n\r\n    @Override\r\n    public boolean retainAll(Collection&lt;?&gt; c) {\r\n        boolean returnValue;\r\n        var storageContent = storage.stream().map(ClassWrapper::get).collect(Collectors.toSet());\r\n        returnValue = storageContent.retainAll(c);\r\n        storage = storageContent.stream().map(ClassWrapper::new).collect(Collectors.toCollection(HashSet::new));\r\n\r\n        return returnValue;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return storage.stream().map(ClassWrapper::get).collect(Collectors.toSet()).toString();\r\n    }\r\n\r\n    @Override\r\n    public &lt;T1&gt; T1[] toArray(IntFunction&lt;T1[]&gt; generator) {\r\n        return storage.stream().map(ClassWrapper::get).collect(Collectors.toSet()).toArray(generator);\r\n    }\r\n\r\n    @Override\r\n    public boolean removeIf(Predicate&lt;? super T&gt; filter) {\r\n        boolean returnValue;\r\n        var storageContent = storage.stream().map(ClassWrapper::get).collect(Collectors.toSet());\r\n        returnValue = storageContent.removeIf(filter);\r\n        storage = storageContent.stream().map(ClassWrapper::new).collect(Collectors.toCollection(HashSet::new));\r\n\r\n        return returnValue;\r\n    }\r\n\r\n    @Override\r\n    public Stream&lt;T&gt; stream() {\r\n        return storage.stream().map(ClassWrapper::get);\r\n    }\r\n\r\n    @Override\r\n    public Stream&lt;T&gt; parallelStream() {\r\n        return storage.parallelStream().map(ClassWrapper::get);\r\n    }\r\n\r\n    @Override\r\n    public void forEach(Consumer&lt;? super T&gt; action) {\r\n        storage.stream().map(ClassWrapper::get).forEach(action);\r\n    }\r\n\r\n    @FieldDefaults(level = AccessLevel.PRIVATE, makeFinal = true)\r\n    @AllArgsConstructor\r\n    public class ClassWrapper{\r\n        T object;\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            return customHashCode.apply(object);\r\n        }\r\n\r\n        @Override\r\n        public boolean equals(Object obj) {\r\n            if(this == obj) return true;\r\n\r\n            if(obj == null) return false;\r\n\r\n            return hashCode() == obj.hashCode();\r\n        }\r\n\r\n        public T get(){\r\n            return object;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;&quot; + hashCode() + &quot; - &quot; + object.toString();\r\n        }\r\n    }\r\n}\r\n```","title":"HashSet using custom hashCode","body":"<p>Could someone point me the right direction: I would like to have a custom <code>HashSet</code> without changing <code>hashCode()/equals()</code> methods.</p>\n<p>Usage would be to have a Set of objects which must have different one attribute (or more).</p>\n<p>So, for example, for this Class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FieldDefaults(level = AccessLevel.PRIVATE)\n@Getter @Setter\npublic class User{\n    String name;\n    String email;\n    String age;\n}\n</code></pre>\n<p>I would like to have <code>UserNameSet</code> which would allow to contain only users which have different name. I do not want to override the hashCode and equals method in User, because I still want to differentiate between users with same name but different email for example.</p>\n<p>I would like to somehow <strong>&quot;override&quot;</strong> the <code>hashCode()/equals()</code> method just for this one <code>HashMap</code>.</p>\n<p><strong>EDITED</strong></p>\n<p>I have come up with this solution on first glance it works, could someone check it?</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.znamenacek.debtor.util;\n\nimport lombok.AccessLevel;\nimport lombok.AllArgsConstructor;\nimport lombok.experimental.FieldDefaults;\n\nimport java.util.*;\nimport java.util.function.Consumer;\nimport java.util.function.Function;\nimport java.util.function.IntFunction;\nimport java.util.function.Predicate;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\n@FieldDefaults(level = AccessLevel.PRIVATE)\npublic class CustomizableHashSet&lt;T&gt; implements Set&lt;T&gt; {\n    Function&lt;T, Integer&gt; customHashCode = Object::hashCode;\n    HashSet&lt;ClassWrapper&gt; storage = new HashSet&lt;&gt;();\n\n    public CustomizableHashSet(Function&lt;T, Integer&gt; customHashCode) {\n        this.customHashCode = customHashCode;\n    }\n\n    public CustomizableHashSet() {}\n\n    public CustomizableHashSet(Collection&lt;? extends T&gt; c, Function&lt;T, Integer&gt; customHashCode) {\n        storage = new HashSet&lt;&gt;(c.stream().map(ClassWrapper::new).toList());\n        this.customHashCode = customHashCode;\n    }\n\n    public CustomizableHashSet(Collection&lt;? extends T&gt; c) {\n        storage = new HashSet&lt;&gt;(c.stream().map(ClassWrapper::new).toList());\n    }\n\n    public CustomizableHashSet(int initialCapacity, float loadFactor, Function&lt;T, Integer&gt; customHashCode) {\n        storage = new HashSet&lt;&gt;(initialCapacity, loadFactor);\n        this.customHashCode = customHashCode;\n    }\n\n    public CustomizableHashSet(int initialCapacity, float loadFactor) {\n        storage = new HashSet&lt;&gt;(initialCapacity, loadFactor);\n    }\n\n    public CustomizableHashSet(int initialCapacity, Function&lt;T, Integer&gt; customHashCode) {\n        storage = new HashSet&lt;&gt;(initialCapacity);\n        this.customHashCode = customHashCode;\n    }\n\n    public CustomizableHashSet(int initialCapacity) {\n        storage = new HashSet&lt;&gt;(initialCapacity);\n    }\n\n    @Override\n    public Iterator&lt;T&gt; iterator() {\n        return storage.stream().map(ClassWrapper::get).iterator();\n    }\n\n    @Override\n    public int size() {\n        return storage.size();\n    }\n\n    @Override\n    public boolean isEmpty() {\n        return storage.isEmpty();\n    }\n\n    @Override\n    public boolean contains(Object o) {\n        return storage.stream().map(ClassWrapper::get).collect(Collectors.toSet()).contains(o);\n    }\n\n    @Override\n    public boolean add(T t) {\n        return storage.add(new ClassWrapper(t));\n    }\n\n    @Override\n    public boolean remove(Object o) {\n        boolean returnValue;\n        var storageContent = storage.stream().map(ClassWrapper::get).collect(Collectors.toSet());\n        returnValue = storageContent.remove(o);\n        storage = storageContent.stream().map(ClassWrapper::new).collect(Collectors.toCollection(HashSet::new));\n\n        return returnValue;\n    }\n\n    @Override\n    public void clear() {\n        storage.clear();\n    }\n\n    @Override\n    public Object clone() {\n        throw new UnsupportedOperationException();\n    }\n\n    @Override\n    public Spliterator&lt;T&gt; spliterator() {\n        return storage.stream().map(ClassWrapper::get).spliterator();\n    }\n\n    @Override\n    public Object[] toArray() {\n        return storage.stream().map(ClassWrapper::get).toArray();\n    }\n\n    @Override\n    public &lt;T1&gt; T1[] toArray(T1[] a) {\n        return storage.stream().map(ClassWrapper::get).collect(Collectors.toSet()).toArray(a);\n    }\n\n    @Override\n    public boolean removeAll(Collection&lt;?&gt; c) {\n        boolean returnValue;\n        var storageContent = storage.stream().map(ClassWrapper::get).collect(Collectors.toSet());\n        returnValue = storageContent.removeAll(c);\n        storage = storageContent.stream().map(ClassWrapper::new).collect(Collectors.toCollection(HashSet::new));\n\n        return returnValue;\n    }\n\n    @Override\n    public boolean containsAll(Collection&lt;?&gt; c) {\n        boolean returnValue;\n        var storageContent = storage.stream().map(ClassWrapper::get).collect(Collectors.toSet());\n        returnValue = storageContent.containsAll(c);\n        storage = storageContent.stream().map(ClassWrapper::new).collect(Collectors.toCollection(HashSet::new));\n\n        return returnValue;\n    }\n\n    @Override\n    public boolean addAll(Collection&lt;? extends T&gt; c) {\n        return storage.addAll(c.stream().map(ClassWrapper::new).collect(Collectors.toSet()));\n    }\n\n    @Override\n    public boolean retainAll(Collection&lt;?&gt; c) {\n        boolean returnValue;\n        var storageContent = storage.stream().map(ClassWrapper::get).collect(Collectors.toSet());\n        returnValue = storageContent.retainAll(c);\n        storage = storageContent.stream().map(ClassWrapper::new).collect(Collectors.toCollection(HashSet::new));\n\n        return returnValue;\n    }\n\n    @Override\n    public String toString() {\n        return storage.stream().map(ClassWrapper::get).collect(Collectors.toSet()).toString();\n    }\n\n    @Override\n    public &lt;T1&gt; T1[] toArray(IntFunction&lt;T1[]&gt; generator) {\n        return storage.stream().map(ClassWrapper::get).collect(Collectors.toSet()).toArray(generator);\n    }\n\n    @Override\n    public boolean removeIf(Predicate&lt;? super T&gt; filter) {\n        boolean returnValue;\n        var storageContent = storage.stream().map(ClassWrapper::get).collect(Collectors.toSet());\n        returnValue = storageContent.removeIf(filter);\n        storage = storageContent.stream().map(ClassWrapper::new).collect(Collectors.toCollection(HashSet::new));\n\n        return returnValue;\n    }\n\n    @Override\n    public Stream&lt;T&gt; stream() {\n        return storage.stream().map(ClassWrapper::get);\n    }\n\n    @Override\n    public Stream&lt;T&gt; parallelStream() {\n        return storage.parallelStream().map(ClassWrapper::get);\n    }\n\n    @Override\n    public void forEach(Consumer&lt;? super T&gt; action) {\n        storage.stream().map(ClassWrapper::get).forEach(action);\n    }\n\n    @FieldDefaults(level = AccessLevel.PRIVATE, makeFinal = true)\n    @AllArgsConstructor\n    public class ClassWrapper{\n        T object;\n\n        @Override\n        public int hashCode() {\n            return customHashCode.apply(object);\n        }\n\n        @Override\n        public boolean equals(Object obj) {\n            if(this == obj) return true;\n\n            if(obj == null) return false;\n\n            return hashCode() == obj.hashCode();\n        }\n\n        public T get(){\n            return object;\n        }\n\n        @Override\n        public String toString() {\n            return &quot;&quot; + hashCode() + &quot; - &quot; + object.toString();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1654178067,"post_id":72477129,"comment_id":128033180,"body_markdown":"Check if these articles help ? https://stackoverflow.com/questions/14856225/maven-separate-modules-for-interfaces-and-implementation-with-spring https://www.baeldung.com/maven-multi-module-project-java-jpms","body":"Check if these articles help ? <a href=\"https://stackoverflow.com/questions/14856225/maven-separate-modules-for-interfaces-and-implementation-with-spring\" title=\"maven separate modules for interfaces and implementation with spring\">stackoverflow.com/questions/14856225/&hellip;</a> <a href=\"https://www.baeldung.com/maven-multi-module-project-java-jpms\" rel=\"nofollow noreferrer\">baeldung.com/maven-multi-module-project-java-jpms</a>"},{"owner":{"account_id":23880214,"reputation":21,"user_id":17880992,"display_name":"sras"},"score":0,"creation_date":1654178800,"post_id":72477129,"comment_id":128033491,"body_markdown":"Not help me, i couldn&#39;t get what I want, i can&#39;t import my interface from module A to B, let me give you an example of how to do it?","body":"Not help me, i couldn&#39;t get what I want, i can&#39;t import my interface from module A to B, let me give you an example of how to do it?"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1654179052,"post_id":72477129,"comment_id":128033590,"body_markdown":"It is possible and good practice to do what you&#39;re asking. You should 1) Define interface in module A. 2) Define implementation in module B and hence module B depends on module A. 3) Make Spring module to depend on module A, and on module B with scope runtime. The second will allow you to use module B in the tests, but to let your code compile without packaging module B. However, when your code runs, an implementation of A (B or something else) will have to be provided. If the only implementation of A spring should provide is B, then directly add B as compile dependency.","body":"It is possible and good practice to do what you&#39;re asking. You should 1) Define interface in module A. 2) Define implementation in module B and hence module B depends on module A. 3) Make Spring module to depend on module A, and on module B with scope runtime. The second will allow you to use module B in the tests, but to let your code compile without packaging module B. However, when your code runs, an implementation of A (B or something else) will have to be provided. If the only implementation of A spring should provide is B, then directly add B as compile dependency."},{"owner":{"account_id":23880214,"reputation":21,"user_id":17880992,"display_name":"sras"},"score":0,"creation_date":1654180257,"post_id":72477129,"comment_id":128034137,"body_markdown":"I tried but i can&#39;t get the result I want, i get cyclic dependency errors when run mvn clean install","body":"I tried but i can&#39;t get the result I want, i get cyclic dependency errors when run mvn clean install"},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1654255781,"post_id":72477129,"comment_id":128053171,"body_markdown":"@sras, you should not import classes of B into A then. The dependency should flow one way, not both. Review all cases of using something from B in A, and remove them, use a different approach. Without knowing what you actually do in your code, I can&#39;t say anything more concrete here, but you will probably be able to find solutions in this site if you look for them (or ask a new question if you can&#39;t find anything).","body":"@sras, you should not import classes of B into A then. The dependency should flow one way, not both. Review all cases of using something from B in A, and remove them, use a different approach. Without knowing what you actually do in your code, I can&#39;t say anything more concrete here, but you will probably be able to find solutions in this site if you look for them (or ask a new question if you can&#39;t find anything)."}],"answers":[{"tags":[],"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654231996,"creation_date":1654231996,"answer_id":72484876,"question_id":72477129,"body_markdown":"You need a parent maven project with packaging as `POM` and modules under them!\r\n------------------------------------------------------------------------\r\n\r\nFollow this \r\n\r\n1) ***Create a maven project with packaging type as POM (It should look something like this, sorry for formatting issues)***\r\n\r\n    `&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;com.multimodule&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;com.example.multimodule&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n    \t&lt;modules&gt;\r\n    \t\t&lt;module&gt;interface-module&lt;/module&gt;\r\n    \t\t&lt;module&gt;implementation-module&lt;/module&gt;\r\n    \t&lt;/modules&gt;`\r\n\r\n2) ***Create an interface-module with packaging JAR with parent pointing to project you created in point 1 (See below)***\r\n\r\n    `&lt;parent&gt;\r\n    &lt;groupId&gt;com.multimodule&lt;/groupId&gt;\r\n    &lt;artifactId&gt;com.example.multimodule&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example.interface-module&lt;/groupId&gt;\r\n    &lt;artifactId&gt;interface-module&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;`\r\n\r\n\r\n\r\n3) ***Create an implementation-module with packaging JAR with parent pointing to project you created in point 1 and `dependency` to project created in point 2***\r\n\r\n\r\n    `&lt;parent&gt;\r\n    &lt;groupId&gt;com.multimodule&lt;/groupId&gt;\r\n    &lt;artifactId&gt;com.example.multimodule&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example.implementation-module&lt;/groupId&gt;\r\n    &lt;artifactId&gt;implementation-module&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;com.example.interface-module&lt;/groupId&gt;\r\n    &lt;artifactId&gt;interface-module&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;`\r\n\r\n\r\n**Likewise for other modules ! I was able to achieve what you asked , let me know if you need a reference, will upload and send GitHub link!**","title":"How to separate interface and implementation into different modules","body":"<h2>You need a parent maven project with packaging as <code>POM</code> and modules under them!</h2>\n<p>Follow this</p>\n<ol>\n<li><p><em><strong>Create a maven project with packaging type as POM (It should look something like this, sorry for formatting issues)</strong></em></p>\n<p><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com.multimodule&lt;/groupId&gt; &lt;artifactId&gt;com.example.multimodule&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;packaging&gt;pom&lt;/packaging&gt; &lt;modules&gt; &lt;module&gt;interface-module&lt;/module&gt; &lt;module&gt;implementation-module&lt;/module&gt; &lt;/modules&gt;</code></p>\n</li>\n<li><p><em><strong>Create an interface-module with packaging JAR with parent pointing to project you created in point 1 (See below)</strong></em></p>\n<p><code>&lt;parent&gt; &lt;groupId&gt;com.multimodule&lt;/groupId&gt; &lt;artifactId&gt;com.example.multimodule&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;/parent&gt; &lt;groupId&gt;com.example.interface-module&lt;/groupId&gt; &lt;artifactId&gt;interface-module&lt;/artifactId&gt; &lt;version&gt;1.0&lt;/version&gt; &lt;packaging&gt;jar&lt;/packaging&gt;</code></p>\n</li>\n<li><p><em><strong>Create an implementation-module with packaging JAR with parent pointing to project you created in point 1 and <code>dependency</code> to project created in point 2</strong></em></p>\n<p><code>&lt;parent&gt; &lt;groupId&gt;com.multimodule&lt;/groupId&gt; &lt;artifactId&gt;com.example.multimodule&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;/parent&gt; &lt;groupId&gt;com.example.implementation-module&lt;/groupId&gt; &lt;artifactId&gt;implementation-module&lt;/artifactId&gt; &lt;version&gt;1.0&lt;/version&gt; &lt;packaging&gt;jar&lt;/packaging&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;com.example.interface-module&lt;/groupId&gt; &lt;artifactId&gt;interface-module&lt;/artifactId&gt; &lt;version&gt;1.0&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt;</code></p>\n</li>\n</ol>\n<p><strong>Likewise for other modules ! I was able to achieve what you asked , let me know if you need a reference, will upload and send GitHub link!</strong></p>\n"},{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654247309,"creation_date":1654247309,"answer_id":72487275,"question_id":72477129,"body_markdown":"First let&#39;s clarify something here.\r\n\r\nYour question has to do with `apache-maven` modules, not with java modules.\r\n\r\nSo now that we are clear let us focus on the issue that you have.\r\n\r\n*From comments:* \r\n\r\n&gt; I couldn&#39;t get what I want, i can&#39;t import my interface from module A\r\n&gt; to B\r\n\r\nYes because what you use is \r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;test.some&lt;/groupId&gt;\r\n            &lt;artifactId&gt;B&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\nwhich means that you have this dependency in module A. So you try to import `Module B` into `Module A`.\r\n\r\nWhat however your requirement needs is exactly the opposite. You need `Module A` inside `Module B`.\r\n\r\nFor this you have to go to `.pom` of `Module B` and add the following\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;test.some&lt;/groupId&gt;\r\n            &lt;artifactId&gt;A&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\nand also remove the previous dependency that you have in `.pom` inside `Module A` because if not you will have circular dependency issue. ","title":"How to separate interface and implementation into different modules","body":"<p>First let's clarify something here.</p>\n<p>Your question has to do with <code>apache-maven</code> modules, not with java modules.</p>\n<p>So now that we are clear let us focus on the issue that you have.</p>\n<p><em>From comments:</em></p>\n<blockquote>\n<p>I couldn't get what I want, i can't import my interface from module A\nto B</p>\n</blockquote>\n<p>Yes because what you use is</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;test.some&lt;/groupId&gt;\n        &lt;artifactId&gt;B&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>which means that you have this dependency in module A. So you try to import <code>Module B</code> into <code>Module A</code>.</p>\n<p>What however your requirement needs is exactly the opposite. You need <code>Module A</code> inside <code>Module B</code>.</p>\n<p>For this you have to go to <code>.pom</code> of <code>Module B</code> and add the following</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;test.some&lt;/groupId&gt;\n        &lt;artifactId&gt;A&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>and also remove the previous dependency that you have in <code>.pom</code> inside <code>Module A</code> because if not you will have circular dependency issue.</p>\n"}],"owner":{"account_id":23880214,"reputation":21,"user_id":17880992,"display_name":"sras"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1209,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1654247309,"creation_date":1654176672,"question_id":72477129,"body_markdown":"Hi everyone i am creating a project in Spring Boot with multi-module maven, what i would like to obtain is to seperate the interface and implementation in two different modules, like this:\r\n\r\n 1. Module A: \r\n   \r\n ```\r\n    public interface MyTestInterface{\r\n    String testMethod();\r\n}\r\n```\r\n\r\n 2. Module B :\r\n\r\n  ```\r\n    public class MyTestImpl implements MyTestInterface{\r\n    @Override\r\n    String testMethod(){\r\n      return &quot;foo&quot;;\r\n    };\r\n\r\n}\r\n```\r\n\r\nI can&#39;t get this result, could you give me an example of how to get it? Also is it a good thing to do this?\r\nAs for the poms at the moment I only have a B versus A addiction in the poms.\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;test.some&lt;/groupId&gt;\r\n            &lt;artifactId&gt;B&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n\r\nThe pom of the project that contains A and B module is some likes this:\r\n\r\n```\r\n    &lt;modules&gt;\r\n        &lt;module&gt;A&lt;/module&gt;\r\n        &lt;module&gt;B&lt;/module&gt;\r\n\r\n    &lt;/modules&gt;\r\n```","title":"How to separate interface and implementation into different modules","body":"<p>Hi everyone i am creating a project in Spring Boot with multi-module maven, what i would like to obtain is to seperate the interface and implementation in two different modules, like this:</p>\n<ol>\n<li>Module A:</li>\n</ol>\n<pre><code>   public interface MyTestInterface{\n   String testMethod();\n}\n</code></pre>\n<ol start=\"2\">\n<li>Module B :</li>\n</ol>\n<pre><code>  public class MyTestImpl implements MyTestInterface{\n  @Override\n  String testMethod(){\n    return &quot;foo&quot;;\n  };\n\n}\n</code></pre>\n<p>I can't get this result, could you give me an example of how to get it? Also is it a good thing to do this?\nAs for the poms at the moment I only have a B versus A addiction in the poms.</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;test.some&lt;/groupId&gt;\n            &lt;artifactId&gt;B&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>The pom of the project that contains A and B module is some likes this:</p>\n<pre><code>    &lt;modules&gt;\n        &lt;module&gt;A&lt;/module&gt;\n        &lt;module&gt;B&lt;/module&gt;\n\n    &lt;/modules&gt;\n</code></pre>\n"},{"tags":["java","android","spring","spring-mvc","firebase-cloud-messaging"],"answers":[{"tags":[],"owner":{"account_id":13909160,"reputation":76,"user_id":10042809,"display_name":"Fahad Bin Asif"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653595317,"creation_date":1653595317,"answer_id":72397430,"question_id":72397184,"body_markdown":"You have to show a Notification once the message is received. So, call this below function in `onMessageReceived()` in `MyFirebaseInstanceIDService.java`. But first, make sure you are getting a response from the server. \r\n\r\n    private void showNotification(@NonNull RemoteMessage remoteMessage) {\r\n        \r\n                String channelId = &quot;fcm_default_channel&quot;;\r\n                NotificationCompat.Builder notificationBuilder =\r\n                        new NotificationCompat.Builder(this, channelId)\r\n                                .setSmallIcon(R.drawable.ic_notification)\r\n                                .setContentTitle(title)\r\n                                .setContentText(remoteMessage.getNotification().getBody();\r\n        \r\n                NotificationManager notificationManager =\r\n                        (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n        \r\n                // Since android Oreo notification channel is needed.\r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                    NotificationChannel channel = new NotificationChannel(channelId,\r\n                            &quot;Channel human readable title&quot;,\r\n                            NotificationManager.IMPORTANCE_DEFAULT);\r\n                    notificationManager.createNotificationChannel(channel);\r\n                }\r\n        \r\n                notificationManager.notify(0 /* ID of notification */, notificationBuilder.build()); \r\n    }\r\n","title":"I don&#39;t receive the Firebase Cloud Message in my android app","body":"<p>You have to show a Notification once the message is received. So, call this below function in <code>onMessageReceived()</code> in <code>MyFirebaseInstanceIDService.java</code>. But first, make sure you are getting a response from the server.</p>\n<pre><code>private void showNotification(@NonNull RemoteMessage remoteMessage) {\n    \n            String channelId = &quot;fcm_default_channel&quot;;\n            NotificationCompat.Builder notificationBuilder =\n                    new NotificationCompat.Builder(this, channelId)\n                            .setSmallIcon(R.drawable.ic_notification)\n                            .setContentTitle(title)\n                            .setContentText(remoteMessage.getNotification().getBody();\n    \n            NotificationManager notificationManager =\n                    (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n    \n            // Since android Oreo notification channel is needed.\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n                NotificationChannel channel = new NotificationChannel(channelId,\n                        &quot;Channel human readable title&quot;,\n                        NotificationManager.IMPORTANCE_DEFAULT);\n                notificationManager.createNotificationChannel(channel);\n            }\n    \n            notificationManager.notify(0 /* ID of notification */, notificationBuilder.build()); \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2263562,"reputation":1086,"user_id":3064995,"accept_rate":86,"display_name":"KostasC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654247161,"creation_date":1654247161,"answer_id":72487237,"question_id":72397184,"body_markdown":"I recheck the config files from the firebase console, clean build and rebuild and finally worked.","title":"I don&#39;t receive the Firebase Cloud Message in my android app","body":"<p>I recheck the config files from the firebase console, clean build and rebuild and finally worked.</p>\n"}],"owner":{"account_id":2263562,"reputation":1086,"user_id":3064995,"accept_rate":86,"display_name":"KostasC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72487237,"answer_count":2,"score":1,"last_activity_date":1654247161,"creation_date":1653594016,"question_id":72397184,"body_markdown":"My problem is that I don&#39;t receive the firebase cloud message in my android app client, which I send from my Spring MVC app.\r\nHere is the code in the Spring App Test.\r\n```\r\n GoogleCredentials googleCredentials = GoogleCredentials\r\n                    .fromStream(new ClassPathResource(&quot;my-config.json&quot;).getInputStream());\r\n            FirebaseOptions firebaseOptions = FirebaseOptions\r\n                    .builder()\r\n                    .setCredentials(googleCredentials)\r\n                    .build();\r\n            FirebaseApp app = FirebaseApp.initializeApp(firebaseOptions, &quot;my-app&quot;);\r\n            FirebaseMessaging firebaseMessaging = FirebaseMessaging.getInstance(app);\r\n            Notification notification = Notification\r\n                    .builder()\r\n                    .setTitle(&quot;My title&quot;)\r\n                    .setBody(&quot;My body&quot;)\r\n                    .build();\r\n\r\n            Message message = Message\r\n                    .builder()\r\n                    .setTopic(&quot;test1&quot;)\r\n                    .build();\r\n\r\n            String result = firebaseMessaging.send(message);\r\n            System.out.println(&quot;result:&quot; + result);\r\n```\r\nMy pom.xml:\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\r\n\t&lt;version&gt;7.3.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nWhen I ran the Unit test in the Spring MVC Project I am getting the result:\r\n```\r\nresult:projects/heliosemenu-9eba9/messages/6047526430479807699\r\n```\r\nAnd here is my android app client code:\r\nAndroidManifest.xml\r\n```\r\n&lt;service\r\n\tandroid:name=&quot;com.example.heliosfirebasereceiver.MyFirebaseInstanceIDService&quot;\r\n\tandroid:exported=&quot;false&quot;&gt;\r\n\t&lt;intent-filter&gt;\r\n\t\t&lt;action android:name=&quot;com.google.firebase.INSTANCE_ID_EVENT&quot;/&gt;\r\n\t&lt;/intent-filter&gt;\r\n&lt;/service&gt;\r\n```\r\nMainActivity.java\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private static final String TAG = &quot;MainActivity&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        FirebaseApp.initializeApp(getApplicationContext());\r\n\r\n        FirebaseMessaging.getInstance().getToken()\r\n                .addOnCompleteListener(new OnCompleteListener&lt;String&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;String&gt; task) {\r\n                        if (!task.isSuccessful()) {\r\n                            Log.w(TAG, &quot;Fetching FCM registration token failed&quot;, task.getException());\r\n                            return;\r\n                        }\r\n\r\n                        // Get new FCM registration token\r\n                        String token = task.getResult();\r\n\r\n                        // Log and toast\r\n                        String msg = getString(R.string.msg_token_fmt, token);\r\n                        Log.d(TAG, msg);\r\n                        Toast.makeText(MainActivity.this, msg, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n\r\n\r\n\r\n        FirebaseMessaging.getInstance().setAutoInitEnabled(true);\r\n\r\n        FirebaseMessaging.getInstance().subscribeToTopic(&quot;HeliosEMenuTest&quot;).\r\n                addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                        if (!task.isSuccessful()) {\r\n                            Log.w(TAG, &quot;Fetching FCM registration token failed&quot;, task.getException());\r\n                            return;\r\n                        }\r\n\r\n                        // Get new FCM registration token\r\n\r\n                        Log.i(TAG,task.isSuccessful()+&quot;|&quot;);\r\n                    }\r\n                });\r\n    }\r\n```\r\nMyFirebaseInstanceIDService.java\r\n```\r\npublic class MyFirebaseInstanceIDService extends FirebaseMessagingService {\r\n\r\n    private static final String TAG = &quot;MyFirebaseInstanceIDService&quot;;\r\n\r\n    @Override\r\n    public void onNewToken(String token) {\r\n        Log.d(TAG, &quot;Refreshed token: &quot; + token);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onMessageReceived(RemoteMessage remoteMessage) {\r\n        // ...\r\n\r\n        Log.d(TAG, &quot;From: &quot; + remoteMessage.getFrom());\r\n\r\n        if (remoteMessage.getData().size() &gt; 0) {\r\n            Log.d(TAG, &quot;Message data payload: &quot; + remoteMessage.getData());\r\n\r\n        }\r\n\r\n        if (remoteMessage.getNotification() != null) {\r\n            Log.d(TAG, &quot;Message Notification Body: &quot; + remoteMessage.getNotification().getBody());\r\n        }\r\n\r\n    }\r\n}\r\n```\r\nAdded the google-services.json in the app folder.\r\nbuild.gradle:\r\n```\r\nbuildscript {\r\n    dependencies {\r\n        classpath &#39;com.google.gms:google-services:4.3.10&#39;\r\n    }\r\n}// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nplugins {\r\n    id &#39;com.android.application&#39; version &#39;7.1.3&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.1.3&#39; apply false\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n```\r\napp/build.gradle:\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;com.google.gms.google-services&#39;\r\n}\r\n\r\nandroid {\r\n    compileSdk 32\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.heliosfirebasereceiver&quot;\r\n        minSdk 26\r\n        targetSdk 32\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.6.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;com.google.firebase:firebase-messaging:23.0.5&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n}\r\n```\r\nIn the logcat of the android app I never received any Message from the firebase! I don&#39;t know what I am missing here.\r\n\r\nUPDATE 1:\r\nThe app is in the foreground and running, and I don&#39;t receiving nothing from the firebase.","title":"I don&#39;t receive the Firebase Cloud Message in my android app","body":"<p>My problem is that I don't receive the firebase cloud message in my android app client, which I send from my Spring MVC app.\nHere is the code in the Spring App Test.</p>\n<pre><code> GoogleCredentials googleCredentials = GoogleCredentials\n                    .fromStream(new ClassPathResource(&quot;my-config.json&quot;).getInputStream());\n            FirebaseOptions firebaseOptions = FirebaseOptions\n                    .builder()\n                    .setCredentials(googleCredentials)\n                    .build();\n            FirebaseApp app = FirebaseApp.initializeApp(firebaseOptions, &quot;my-app&quot;);\n            FirebaseMessaging firebaseMessaging = FirebaseMessaging.getInstance(app);\n            Notification notification = Notification\n                    .builder()\n                    .setTitle(&quot;My title&quot;)\n                    .setBody(&quot;My body&quot;)\n                    .build();\n\n            Message message = Message\n                    .builder()\n                    .setTopic(&quot;test1&quot;)\n                    .build();\n\n            String result = firebaseMessaging.send(message);\n            System.out.println(&quot;result:&quot; + result);\n</code></pre>\n<p>My pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\n    &lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\n    &lt;version&gt;7.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>When I ran the Unit test in the Spring MVC Project I am getting the result:</p>\n<pre><code>result:projects/heliosemenu-9eba9/messages/6047526430479807699\n</code></pre>\n<p>And here is my android app client code:\nAndroidManifest.xml</p>\n<pre><code>&lt;service\n    android:name=&quot;com.example.heliosfirebasereceiver.MyFirebaseInstanceIDService&quot;\n    android:exported=&quot;false&quot;&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;com.google.firebase.INSTANCE_ID_EVENT&quot;/&gt;\n    &lt;/intent-filter&gt;\n&lt;/service&gt;\n</code></pre>\n<p>MainActivity.java</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private static final String TAG = &quot;MainActivity&quot;;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        FirebaseApp.initializeApp(getApplicationContext());\n\n        FirebaseMessaging.getInstance().getToken()\n                .addOnCompleteListener(new OnCompleteListener&lt;String&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;String&gt; task) {\n                        if (!task.isSuccessful()) {\n                            Log.w(TAG, &quot;Fetching FCM registration token failed&quot;, task.getException());\n                            return;\n                        }\n\n                        // Get new FCM registration token\n                        String token = task.getResult();\n\n                        // Log and toast\n                        String msg = getString(R.string.msg_token_fmt, token);\n                        Log.d(TAG, msg);\n                        Toast.makeText(MainActivity.this, msg, Toast.LENGTH_SHORT).show();\n                    }\n                });\n\n\n\n        FirebaseMessaging.getInstance().setAutoInitEnabled(true);\n\n        FirebaseMessaging.getInstance().subscribeToTopic(&quot;HeliosEMenuTest&quot;).\n                addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                        if (!task.isSuccessful()) {\n                            Log.w(TAG, &quot;Fetching FCM registration token failed&quot;, task.getException());\n                            return;\n                        }\n\n                        // Get new FCM registration token\n\n                        Log.i(TAG,task.isSuccessful()+&quot;|&quot;);\n                    }\n                });\n    }\n</code></pre>\n<p>MyFirebaseInstanceIDService.java</p>\n<pre><code>public class MyFirebaseInstanceIDService extends FirebaseMessagingService {\n\n    private static final String TAG = &quot;MyFirebaseInstanceIDService&quot;;\n\n    @Override\n    public void onNewToken(String token) {\n        Log.d(TAG, &quot;Refreshed token: &quot; + token);\n\n    }\n\n    @Override\n    public void onMessageReceived(RemoteMessage remoteMessage) {\n        // ...\n\n        Log.d(TAG, &quot;From: &quot; + remoteMessage.getFrom());\n\n        if (remoteMessage.getData().size() &gt; 0) {\n            Log.d(TAG, &quot;Message data payload: &quot; + remoteMessage.getData());\n\n        }\n\n        if (remoteMessage.getNotification() != null) {\n            Log.d(TAG, &quot;Message Notification Body: &quot; + remoteMessage.getNotification().getBody());\n        }\n\n    }\n}\n</code></pre>\n<p>Added the google-services.json in the app folder.\nbuild.gradle:</p>\n<pre><code>buildscript {\n    dependencies {\n        classpath 'com.google.gms:google-services:4.3.10'\n    }\n}// Top-level build file where you can add configuration options common to all sub-projects/modules.\nplugins {\n    id 'com.android.application' version '7.1.3' apply false\n    id 'com.android.library' version '7.1.3' apply false\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>app/build.gradle:</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'com.google.gms.google-services'\n}\n\nandroid {\n    compileSdk 32\n\n    defaultConfig {\n        applicationId &quot;com.example.heliosfirebasereceiver&quot;\n        minSdk 26\n        targetSdk 32\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.4.1'\n    implementation 'com.google.android.material:material:1.6.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'com.google.firebase:firebase-messaging:23.0.5'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n}\n</code></pre>\n<p>In the logcat of the android app I never received any Message from the firebase! I don't know what I am missing here.</p>\n<p>UPDATE 1:\nThe app is in the foreground and running, and I don't receiving nothing from the firebase.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1654238283,"post_id":72485535,"comment_id":128047764,"body_markdown":"Does this help - [allow circular references](https://stackoverflow.com/a/70073863/17795888)?","body":"Does this help - <a href=\"https://stackoverflow.com/a/70073863/17795888\">allow circular references</a>?"},{"owner":{"account_id":137100,"reputation":17827,"user_id":341065,"accept_rate":72,"display_name":"wilx"},"score":0,"creation_date":1654238482,"post_id":72485535,"comment_id":128047816,"body_markdown":"@Chaosfire I know about the property and we are forced to use it. That is why I am asking my question, if there is a better technique.","body":"@Chaosfire I know about the property and we are forced to use it. That is why I am asking my question, if there is a better technique."}],"answers":[{"tags":[],"owner":{"account_id":25374072,"reputation":60,"user_id":19187445,"display_name":"Gannebal Barka"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1654247136,"creation_date":1654247136,"answer_id":72487231,"question_id":72485535,"body_markdown":"you can use `@Resource` annotation for injection self\r\n\r\n```lang-java\r\nclass MyClass {\r\n   @Resource\r\n   private MyClass self;\r\n}\r\n```\r\n\r\n[paragraph in spring doc](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-autowired-annotation-qualifiers)\r\n\r\n&gt; As of 4.3, @Autowired also considers self references for injection (that is, references back to the bean that is currently injected). Note that self injection is a fallback. Regular dependencies on other components always have precedence. In that sense, self references do not participate in regular candidate selection and are therefore in particular never primary. On the contrary, they always end up as lowest precedence. In practice, you should use self references as a last resort only (for example, for calling other methods on the same instance through the beans transactional proxy). Consider factoring out the affected methods to a separate delegate bean in such a scenario. Alternatively, you can use @Resource, which may obtain a proxy back to the current bean by its unique name.","title":"Circular dependencies due to @Lazy self reference. Any workaround for Spring 2.6?","body":"<p>you can use <code>@Resource</code> annotation for injection self</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MyClass {\n   @Resource\n   private MyClass self;\n}\n</code></pre>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-autowired-annotation-qualifiers\" rel=\"nofollow noreferrer\">paragraph in spring doc</a></p>\n<blockquote>\n<p>As of 4.3, @Autowired also considers self references for injection (that is, references back to the bean that is currently injected). Note that self injection is a fallback. Regular dependencies on other components always have precedence. In that sense, self references do not participate in regular candidate selection and are therefore in particular never primary. On the contrary, they always end up as lowest precedence. In practice, you should use self references as a last resort only (for example, for calling other methods on the same instance through the beans transactional proxy). Consider factoring out the affected methods to a separate delegate bean in such a scenario. Alternatively, you can use @Resource, which may obtain a proxy back to the current bean by its unique name.</p>\n</blockquote>\n"}],"owner":{"account_id":137100,"reputation":17827,"user_id":341065,"accept_rate":72,"display_name":"wilx"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1273,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1654247136,"creation_date":1654237844,"question_id":72485535,"body_markdown":"We use circual dependencies with via constructor injection of `@Lazy` reference to self type so that we get a way to use local methods with `@Transactional` and other annotations.\r\n\r\nNow we are trying to update to Spring Boot 2.6 which prohibits circular references by default.\r\n\r\nIs there a better way to call local methods and get the `@Transactional` and other annotations respected than the `@Lazy` self reference?","title":"Circular dependencies due to @Lazy self reference. Any workaround for Spring 2.6?","body":"<p>We use circual dependencies with via constructor injection of <code>@Lazy</code> reference to self type so that we get a way to use local methods with <code>@Transactional</code> and other annotations.</p>\n<p>Now we are trying to update to Spring Boot 2.6 which prohibits circular references by default.</p>\n<p>Is there a better way to call local methods and get the <code>@Transactional</code> and other annotations respected than the <code>@Lazy</code> self reference?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"display_name":"user18974397"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654247110,"creation_date":1654247110,"answer_id":72487225,"question_id":72487051,"body_markdown":"I fixed it the solution was add **AppCompatActivity** on\r\n\r\n    public class X extends AppCompatActivity ....","title":"Library import option wont show and when i import the library shows Unused import statement","body":"<p>I fixed it the solution was add <strong>AppCompatActivity</strong> on</p>\n<pre><code>public class X extends AppCompatActivity ....\n</code></pre>\n"}],"owner":{"display_name":"user18974397"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72487225,"answer_count":1,"score":1,"last_activity_date":1654247110,"creation_date":1654246228,"question_id":72487051,"body_markdown":"Hello im coding with java in android and i have this code:\r\n\r\n    Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\r\n    **setSupportActionBar(toolbar);\r\n    if(getSupportActionBar() != null){\r\n    getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n    getSupportActionBar().setDisplayShowHomeAsUpEnabled(true);**\r\n    }\r\n\r\nthe code inside the ** requires this library to be imported but first the suggestion to import the libary wont show and when i import it myself  it says  **Unused import statement**\r\n\r\nthis is the import code:\r\n\r\n    import android.support.v7.app.AppCompatActivity;\r\n\r\nthe weird part is that the same method is been used in the same project but only in this class wont work.\r\n\r\nI also tried to do this method but makes error when its on run time\r\n\r\n    AppCompatActivity app = new AppCompatActivity();\r\n    app.setSupportActionBar(toolbar); //error here when execute\r\n\r\nThanks in advance!","title":"Library import option wont show and when i import the library shows Unused import statement","body":"<p>Hello im coding with java in android and i have this code:</p>\n<pre><code>Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\n**setSupportActionBar(toolbar);\nif(getSupportActionBar() != null){\ngetSupportActionBar().setDisplayHomeAsUpEnabled(true);\ngetSupportActionBar().setDisplayShowHomeAsUpEnabled(true);**\n}\n</code></pre>\n<p>the code inside the ** requires this library to be imported but first the suggestion to import the libary wont show and when i import it myself  it says  <strong>Unused import statement</strong></p>\n<p>this is the import code:</p>\n<pre><code>import android.support.v7.app.AppCompatActivity;\n</code></pre>\n<p>the weird part is that the same method is been used in the same project but only in this class wont work.</p>\n<p>I also tried to do this method but makes error when its on run time</p>\n<pre><code>AppCompatActivity app = new AppCompatActivity();\napp.setSupportActionBar(toolbar); //error here when execute\n</code></pre>\n<p>Thanks in advance!</p>\n"},{"tags":["java","postgresql","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1654245401,"post_id":72486719,"comment_id":128049786,"body_markdown":"Replace `if(rs.next())` with `while(rs.next())`. Also, the title of your question seems unrelated to the question asked in the body of your question. If the error in the title is part of your problem, please make that clear in the body of your question, and include the full exception stacktrace, or otherwise rewrite the title to summarize your actual problem.","body":"Replace <code>if(rs.next())</code> with <code>while(rs.next())</code>. Also, the title of your question seems unrelated to the question asked in the body of your question. If the error in the title is part of your problem, please make that clear in the body of your question, and include the full exception stacktrace, or otherwise rewrite the title to summarize your actual problem."},{"owner":{"account_id":24859901,"reputation":17,"user_id":18735801,"display_name":"kiranaa"},"score":0,"creation_date":1654245610,"post_id":72486719,"comment_id":128049848,"body_markdown":"@MarkRotteveel thanks for the suggestion but getting same error again any other way ?? \nyeah will edit the question !!","body":"@MarkRotteveel thanks for the suggestion but getting same error again any other way ??  yeah will edit the question !!"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1654245961,"post_id":72486719,"comment_id":128049966,"body_markdown":"Ok, looking at your query condition, I&#39;m not sure what you&#39;re trying to achieve with this `WHERE` clause: `where added_by_user in(select added_by_user from productlist group by added_by_user having count(*) &gt; 1 ) = ?`. The result of `in(...)` is boolean, so comparing it against an email address makes no sense, and is the cause of that error. However, your commented out query should work just fine after replacing that `if` with a `while`.","body":"Ok, looking at your query condition, I&#39;m not sure what you&#39;re trying to achieve with this <code>WHERE</code> clause: <code>where added_by_user in(select added_by_user from productlist group by added_by_user having count(*) &gt; 1 ) = ?</code>. The result of <code>in(...)</code> is boolean, so comparing it against an email address makes no sense, and is the cause of that error. However, your commented out query should work just fine after replacing that <code>if</code> with a <code>while</code>."},{"owner":{"account_id":24859901,"reputation":17,"user_id":18735801,"display_name":"kiranaa"},"score":0,"creation_date":1654246320,"post_id":72486719,"comment_id":128050081,"body_markdown":"@MarkRotteveel thanks!! your suggestion worked i got what i was trying to achieve.","body":"@MarkRotteveel thanks!! your suggestion worked i got what i was trying to achieve."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654247064,"creation_date":1654246657,"answer_id":72487133,"question_id":72486719,"body_markdown":"Either you indeed intended\r\n\r\n            prestmt.setBoolean(1, ... some condition ...);\r\n\r\nor you wanted to compare the email field. \r\n\r\n    String query = &quot;&quot;&quot;\r\n        select *\r\n        from productlist\r\n        where added_by_user in\r\n            (select added_by_user\r\n            from productlist\r\n            group by added_by_user\r\n            having count(*) &gt; 1 )\r\n        and email = ? &quot;&quot;&quot;;    \r\n\r\n    try (PreparedStatement prestmt = conn.prepareStatement(query)) {\r\n        prestmt.setString(1, user.email); \r\n        \r\n        try (ResultSet rs = prestmt.executeQuery()) {\r\n            List&lt;Product&gt; listProduct = new ArrayList&lt;&gt;();\r\n            while (rs.next()) {   \r\n                int id = rs.getInt(&quot;id&quot;);                            \r\n                String code = rs.getString(&quot;code&quot;);\r\n                String name = rs.getString(&quot;name&quot;);\r\n                int price = rs.getInt(&quot;price&quot;);\r\n                String home_main_category = rs.getString(&quot;home_main_category&quot;);\r\n                String home_sub_category = rs.getString(&quot;home_sub_category&quot;);\r\n                String p_avail = rs.getString(&quot;p_avail&quot;);\r\n                String p_act = rs.getString(&quot;p_act&quot;);\r\n                String pro_exp_date = rs.getString(&quot;pro_exp_date&quot;);\r\n                String pro_manufacture_date = rs.getString(&quot;pro_manufacture_date&quot;);  \r\n                String added_by_user = rs.getString(&quot;added_by_user&quot;);\r\n        \r\n                listProduct.add(new Product(id, code, name, price, home_main_category,\r\n                    home_sub_category, p_avail, p_act, pro_exp_date, pro_manufacture_date,\r\n                    added_by_user));\r\n            }\r\n            return listProduct;     \r\n        }\r\n    }\r\n\r\nThe try-with-resources closes statement and result set.\r\n\r\n`listProduct` is best declared just before its usage.","title":"ERROR: invalid input syntax for type boolean: &quot; &quot;","body":"<p>Either you indeed intended</p>\n<pre><code>        prestmt.setBoolean(1, ... some condition ...);\n</code></pre>\n<p>or you wanted to compare the email field.</p>\n<pre><code>String query = &quot;&quot;&quot;\n    select *\n    from productlist\n    where added_by_user in\n        (select added_by_user\n        from productlist\n        group by added_by_user\n        having count(*) &gt; 1 )\n    and email = ? &quot;&quot;&quot;;    \n\ntry (PreparedStatement prestmt = conn.prepareStatement(query)) {\n    prestmt.setString(1, user.email); \n    \n    try (ResultSet rs = prestmt.executeQuery()) {\n        List&lt;Product&gt; listProduct = new ArrayList&lt;&gt;();\n        while (rs.next()) {   \n            int id = rs.getInt(&quot;id&quot;);                            \n            String code = rs.getString(&quot;code&quot;);\n            String name = rs.getString(&quot;name&quot;);\n            int price = rs.getInt(&quot;price&quot;);\n            String home_main_category = rs.getString(&quot;home_main_category&quot;);\n            String home_sub_category = rs.getString(&quot;home_sub_category&quot;);\n            String p_avail = rs.getString(&quot;p_avail&quot;);\n            String p_act = rs.getString(&quot;p_act&quot;);\n            String pro_exp_date = rs.getString(&quot;pro_exp_date&quot;);\n            String pro_manufacture_date = rs.getString(&quot;pro_manufacture_date&quot;);  \n            String added_by_user = rs.getString(&quot;added_by_user&quot;);\n    \n            listProduct.add(new Product(id, code, name, price, home_main_category,\n                home_sub_category, p_avail, p_act, pro_exp_date, pro_manufacture_date,\n                added_by_user));\n        }\n        return listProduct;     \n    }\n}\n</code></pre>\n<p>The try-with-resources closes statement and result set.</p>\n<p><code>listProduct</code> is best declared just before its usage.</p>\n"}],"owner":{"account_id":24859901,"reputation":17,"user_id":18735801,"display_name":"kiranaa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":983,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654247064,"creation_date":1654244530,"question_id":72486719,"body_markdown":"I am trying to display all the products on my JSP page added by that user. When the user logs in, they can add the products. I want to display all the products added by them using their email. That is, all the records which were added by using that email should be displayed to them. So far, I can only display only one record per user \r\n\r\nFor example, if the user has added 5 products, only the first one will be displayed on the JSP page, but I want all 5 products to be shown.\r\n\r\nI think my code is correct, but I guess I have some issue with my query. Can someone please help?\r\n\r\nFor understanding, I&#39;ll add my code and the queries I have tried.\r\n\r\nDAO:\r\n\r\n````java\r\npublic List&lt;Product&gt; select_products_added_by_user(User user) throws SQLException, ClassNotFoundException\r\n{\r\n\tConnection conn = DatabaseConnection.initializeDatabase();\r\n\t\r\n\tList&lt;Product&gt; listProduct = new ArrayList&lt;&gt;();\t\r\n\r\n//  String query = &quot;select * from productlist where added_by_user = ?&quot; ;    // This query will return only one record per user.\r\n\tString query = &quot;select * from productlist where added_by_user in(select added_by_user from productlist group by added_by_user having count(*) &gt; 1 ) = ? &quot;;    \r\n\r\n// The above query will return this error (ERROR: invalid input syntax for type boolean: &quot;email used for logging in&quot;) \r\n\r\n    PreparedStatement prestmt = conn.prepareStatement(query);\r\n\r\n    prestmt.setString(1,user.email); \r\n    \t\r\n    ResultSet rs = prestmt.executeQuery();\r\n    \t\r\n    if(rs.next())\r\n    {\t\r\n    \tint id = rs.getInt(&quot;id&quot;);\t        \t             \r\n        String code = rs.getString(&quot;code&quot;);\r\n        String name = rs.getString(&quot;name&quot;);\r\n        int price = rs.getInt(&quot;price&quot;);\r\n        String home_main_category = rs.getString(&quot;home_main_category&quot;);\r\n        String home_sub_category = rs.getString(&quot;home_sub_category&quot;);\r\n        String p_avail = rs.getString(&quot;p_avail&quot;);\r\n        String p_act = rs.getString(&quot;p_act&quot;);\r\n        String pro_exp_date = rs.getString(&quot;pro_exp_date&quot;);\r\n        String pro_manufacture_date = rs.getString(&quot;pro_manufacture_date&quot;);  \r\n        String added_by_user = rs.getString(&quot;added_by_user&quot;);\r\n        \r\n        listProduct.add(new Product(id,code,name,price,home_main_category,home_sub_category,p_avail,p_act,pro_exp_date,pro_manufacture_date,added_by_user));\r\n    }\r\n    return listProduct;\t    \r\n}\r\n````\r\n\r\n\r\nStack Trace\r\n\r\n````\r\n\r\norg.postgresql.util.PSQLException: ERROR: invalid input syntax for type boolean: &quot;sk@gmail.com&quot;\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2565)\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2297)\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:322)\r\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)\r\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)\r\n\tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:114)\r\n\tat com.pamposh.java.ProductDAO.select_products_added_by_user(ProductDAO.java:107)\r\n\tat com.pamposh.java.ControllerServlet.select_products_added_by_user(ControllerServlet.java:525)\r\n\tat com.pamposh.java.ControllerServlet.doGet(ControllerServlet.java:83)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Unknown Source)\r\n\r\n\r\n````","title":"ERROR: invalid input syntax for type boolean: &quot; &quot;","body":"<p>I am trying to display all the products on my JSP page added by that user. When the user logs in, they can add the products. I want to display all the products added by them using their email. That is, all the records which were added by using that email should be displayed to them. So far, I can only display only one record per user</p>\n<p>For example, if the user has added 5 products, only the first one will be displayed on the JSP page, but I want all 5 products to be shown.</p>\n<p>I think my code is correct, but I guess I have some issue with my query. Can someone please help?</p>\n<p>For understanding, I'll add my code and the queries I have tried.</p>\n<p>DAO:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;Product&gt; select_products_added_by_user(User user) throws SQLException, ClassNotFoundException\n{\n    Connection conn = DatabaseConnection.initializeDatabase();\n    \n    List&lt;Product&gt; listProduct = new ArrayList&lt;&gt;();  \n\n//  String query = &quot;select * from productlist where added_by_user = ?&quot; ;    // This query will return only one record per user.\n    String query = &quot;select * from productlist where added_by_user in(select added_by_user from productlist group by added_by_user having count(*) &gt; 1 ) = ? &quot;;    \n\n// The above query will return this error (ERROR: invalid input syntax for type boolean: &quot;email used for logging in&quot;) \n\n    PreparedStatement prestmt = conn.prepareStatement(query);\n\n    prestmt.setString(1,user.email); \n        \n    ResultSet rs = prestmt.executeQuery();\n        \n    if(rs.next())\n    {   \n        int id = rs.getInt(&quot;id&quot;);                            \n        String code = rs.getString(&quot;code&quot;);\n        String name = rs.getString(&quot;name&quot;);\n        int price = rs.getInt(&quot;price&quot;);\n        String home_main_category = rs.getString(&quot;home_main_category&quot;);\n        String home_sub_category = rs.getString(&quot;home_sub_category&quot;);\n        String p_avail = rs.getString(&quot;p_avail&quot;);\n        String p_act = rs.getString(&quot;p_act&quot;);\n        String pro_exp_date = rs.getString(&quot;pro_exp_date&quot;);\n        String pro_manufacture_date = rs.getString(&quot;pro_manufacture_date&quot;);  \n        String added_by_user = rs.getString(&quot;added_by_user&quot;);\n        \n        listProduct.add(new Product(id,code,name,price,home_main_category,home_sub_category,p_avail,p_act,pro_exp_date,pro_manufacture_date,added_by_user));\n    }\n    return listProduct;     \n}\n</code></pre>\n<p>Stack Trace</p>\n<pre><code>\norg.postgresql.util.PSQLException: ERROR: invalid input syntax for type boolean: &quot;sk@gmail.com&quot;\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2565)\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2297)\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:322)\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)\n    at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)\n    at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:114)\n    at com.pamposh.java.ProductDAO.select_products_added_by_user(ProductDAO.java:107)\n    at com.pamposh.java.ControllerServlet.select_products_added_by_user(ControllerServlet.java:525)\n    at com.pamposh.java.ControllerServlet.doGet(ControllerServlet.java:83)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Unknown Source)\n\n\n</code></pre>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":1927812,"reputation":535,"user_id":1737869,"display_name":"Dmitriy"},"score":3,"creation_date":1654246663,"post_id":72487067,"comment_id":128050185,"body_markdown":"Maven is a project manager tool, that is used to manage build, docs and other sections of your project. SpringBoot on the other hand is a framework to simplify development of application using Java programming language and is based on top of Spring.\n\nYou are mixing terms here -- what is used to implement your web app (board game) and how are you planning to use SpringBoot with? As deployment application to host your web-server like Tomcat to be able to run you board game implementation?","body":"Maven is a project manager tool, that is used to manage build, docs and other sections of your project. SpringBoot on the other hand is a framework to simplify development of application using Java programming language and is based on top of Spring.  You are mixing terms here -- what is used to implement your web app (board game) and how are you planning to use SpringBoot with? As deployment application to host your web-server like Tomcat to be able to run you board game implementation?"},{"owner":{"account_id":17324078,"reputation":67,"user_id":12548743,"display_name":"Carsi"},"score":0,"creation_date":1654246879,"post_id":72487067,"comment_id":128050268,"body_markdown":"Thanks for your time. Yes, I am planning to use it as deployment application to host my server.","body":"Thanks for your time. Yes, I am planning to use it as deployment application to host my server."},{"owner":{"account_id":309603,"reputation":2817,"user_id":622145,"accept_rate":95,"display_name":"Twistleton"},"score":2,"creation_date":1654247005,"post_id":72487067,"comment_id":128050307,"body_markdown":"You can create the back-end with Spring Boot like your code snippets. The back-end can provide a REST API. And in the front-end you have, for example, a React application that calls your backend, your REST-API.","body":"You can create the back-end with Spring Boot like your code snippets. The back-end can provide a REST API. And in the front-end you have, for example, a React application that calls your backend, your REST-API."},{"owner":{"account_id":17324078,"reputation":67,"user_id":12548743,"display_name":"Carsi"},"score":0,"creation_date":1654247147,"post_id":72487067,"comment_id":128050359,"body_markdown":"@Twistleton, that&#39;s what I wanted, can you please refer me to a page?","body":"@Twistleton, that&#39;s what I wanted, can you please refer me to a page?"},{"owner":{"account_id":1927812,"reputation":535,"user_id":1737869,"display_name":"Dmitriy"},"score":2,"creation_date":1654247229,"post_id":72487067,"comment_id":128050382,"body_markdown":"Here is a simple example on implementation of backend REST API with SpringBoot: https://www.twilio.com/blog/create-rest-apis-java-spring-boot (include db, services, testing via Postman etc).","body":"Here is a simple example on implementation of backend REST API with SpringBoot: <a href=\"https://www.twilio.com/blog/create-rest-apis-java-spring-boot\" rel=\"nofollow noreferrer\">twilio.com/blog/create-rest-apis-java-spring-boot</a> (include db, services, testing via Postman etc)."},{"owner":{"account_id":309603,"reputation":2817,"user_id":622145,"accept_rate":95,"display_name":"Twistleton"},"score":0,"creation_date":1654247315,"post_id":72487067,"comment_id":128050414,"body_markdown":"From the fabulous Andy Olsen: http://olsensoft.com/enterprise-react/","body":"From the fabulous Andy Olsen: <a href=\"http://olsensoft.com/enterprise-react/\" rel=\"nofollow noreferrer\">olsensoft.com/enterprise-react</a>"}],"owner":{"account_id":17324078,"reputation":67,"user_id":12548743,"display_name":"Carsi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654247028,"creation_date":1654246296,"question_id":72487067,"body_markdown":"I have developed a board game with Maven, where I have use SpringBoot to run on a Web app. Now I&#39;m in the process of figuring out how to actually connect my SpringBoot (frontend) with my Maven board game (backend). I&#39;ve downloaded my SpringBoot project using [this site][1].\r\n\r\nI have searched and searched for a guide explaining that, but I couldn&#39;t really find a guide for my problem. \r\n\r\nHow will it be possible to connect my existing Maven Project to Springboot, so I can set it up as Web app?\r\n\r\nHere&#39;s my DemoApplication.java\r\n\r\n    @SpringBootApplication\r\n    @RestController\r\n    public class DemoApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(DemoApplication.class, args);\r\n    \t}\r\n    \r\n    \t@GetMapping(&quot;/hello&quot;)\r\n    \tpublic String hello(@RequestParam(value = &quot;name&quot;, defaultValue = &quot;World&quot;) String name) {\r\n    \t\treturn String.format(&quot;Hello %s!&quot;, name);\r\n    \t}\r\n    }\r\n\r\nTo sum it all up; my purpose is to make my project into a web application. And this has to be done using springboot, but my question is how will the two parts be able to be connected?\r\n\r\n  [1]: https://spring.io/quickstart","title":"Setup Java Project to a Web-app using SpringBoot","body":"<p>I have developed a board game with Maven, where I have use SpringBoot to run on a Web app. Now I'm in the process of figuring out how to actually connect my SpringBoot (frontend) with my Maven board game (backend). I've downloaded my SpringBoot project using <a href=\"https://spring.io/quickstart\" rel=\"nofollow noreferrer\">this site</a>.</p>\n<p>I have searched and searched for a guide explaining that, but I couldn't really find a guide for my problem.</p>\n<p>How will it be possible to connect my existing Maven Project to Springboot, so I can set it up as Web app?</p>\n<p>Here's my DemoApplication.java</p>\n<pre><code>@SpringBootApplication\n@RestController\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n    @GetMapping(&quot;/hello&quot;)\n    public String hello(@RequestParam(value = &quot;name&quot;, defaultValue = &quot;World&quot;) String name) {\n        return String.format(&quot;Hello %s!&quot;, name);\n    }\n}\n</code></pre>\n<p>To sum it all up; my purpose is to make my project into a web application. And this has to be done using springboot, but my question is how will the two parts be able to be connected?</p>\n"},{"tags":["java","spring-data","spring-data-mongodb"],"comments":[{"owner":{"account_id":4671236,"reputation":445,"user_id":3782992,"accept_rate":0,"display_name":"sanjaykumar81"},"score":0,"creation_date":1665574490,"post_id":72487175,"comment_id":130731607,"body_markdown":"Check this page for the solution for your problem:\n\n https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mongodb.repositories.queries.update","body":"Check this page for the solution for your problem:   <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mongodb.repositories.queries.update\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/mongodb/docs/current/reference/ht&zwnj;&#8203;ml/&hellip;</a>"},{"owner":{"account_id":1178347,"reputation":1562,"user_id":1153801,"accept_rate":100,"display_name":"SND"},"score":0,"creation_date":1675779900,"post_id":72487175,"comment_id":132999268,"body_markdown":"Did you ever find a solution to this problem? It seems to me that `arrayFilters` are not picked up in `@Update`, so we are currently using MongoTemplate for such queries.","body":"Did you ever find a solution to this problem? It seems to me that <code>arrayFilters</code> are not picked up in <code>@Update</code>, so we are currently using MongoTemplate for such queries."},{"owner":{"account_id":25463360,"reputation":21,"user_id":19262790,"display_name":"Valeriy Kazhdan"},"score":0,"creation_date":1675868612,"post_id":72487175,"comment_id":133020865,"body_markdown":"Nope. We simplified query for now.","body":"Nope. We simplified query for now."}],"owner":{"account_id":25463360,"reputation":21,"user_id":19262790,"display_name":"Valeriy Kazhdan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2388,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1654246849,"creation_date":1654246849,"question_id":72487175,"body_markdown":"spring-data-mongodb 3.4.0 have a beautiful @Update annotation support for jpa repositories.\r\n\r\nBut how can i pass arrayFilters and other **options**, supported by https://www.mongodb.com/docs/manual/reference/method/db.collection.update/ ?\r\n\r\n\r\nHere is my working manual example:\r\n```\r\npublic @NotNull Comment addComment(String id, String cid, String lid, String sid, Comment comment) {\r\n        // Add comment\r\n        JwtUser user = userService.getCurrentUser().orElseThrow(() -&gt;\r\n                new SodixException(&quot;Can&#39;t get current user&quot;));\r\n\r\n        EditorUser author = EditorUser.builder()\r\n                .id(user.getExternalId())\r\n                .username(user.getUsername())\r\n                .firstName(user.getFirstName())\r\n                .lastName(user.getLastName())\r\n                .build();\r\n\r\n        CommentEntity commentToSave = new CommentEntity();\r\n        commentToSave.setId(ProjectIdUtil.generateCommentId());\r\n        commentToSave.setCreatedAt(LocalDateTime.now());\r\n        commentToSave.setAuthor(author);\r\n        commentToSave.setMessage(comment.getMessage());\r\n\r\n        Query query = new Query();\r\n        query.addCriteria(Criteria.where(&quot;_id&quot;).is(id));\r\n        query.addCriteria(Criteria.where(&quot;chapters&quot;).elemMatch(\r\n                Criteria.where(&quot;_id&quot;).is(cid).and(&quot;lessons&quot;).elemMatch(\r\n                        Criteria.where(&quot;_id&quot;).is(lid).and(&quot;sections&quot;).elemMatch(\r\n                                Criteria.where(&quot;_id&quot;).is(sid)\r\n                        )\r\n                )\r\n        ));\r\n\r\n        Update update = new Update();\r\n        update.addToSet(&quot;chapters.$[c].lessons.$[l].sections.$[s].comments&quot;, commentToSave);\r\n        update.filterArray(&quot;c._id&quot;, cid);\r\n        update.filterArray(&quot;l._id&quot;, lid);\r\n        update.filterArray(&quot;s._id&quot;, sid);\r\n\r\n        var result = mongoTemplate.updateFirst(query, update, ProjectEntity.class);\r\n        if (result.getModifiedCount() &lt; 1) {\r\n            throw new RuntimeException(&quot;Comment wasn&#39;t added&quot;);\r\n        }\r\n}\r\n```\r\n\r\nHere is what i expect to run using repository @Update annotation, but it&#39;s not working yet:\r\n```\r\nimport org.springframework.data.mongodb.repository.Query;\r\nimport org.springframework.data.mongodb.repository.Update;\r\n...\r\n@Repository\r\npublic interface ProjectRepository extends MongoRepository&lt;ProjectEntity, String&gt; {\r\n...\r\n    @Query(&quot;{ _id : ?0, chapters : {$elemMatch : {_id: ?1, lessons: {$elemMatch: {_id: ?2, &#39;sections._id&#39;: ?3}}}}}&quot;)\r\n    @Update(&quot;{$set : { &#39;chapters.$[c].lessons.$[l].sections.$[s].comments&#39; : ?4 }, $arrayFilters: {&#39;c._id&#39;: ?1, &#39;l._id&#39;: ?2, &#39;s._id&#39;: ?3}}&quot;)\r\n    long addComment(String id, String cid, String lid, String sid, CommentEntity comment);\r\n    \r\n    ...\r\n}\r\n\r\n```\r\n\r\nError i&#39;ve got is:\r\n```\r\ncom.mongodb.MongoWriteException: Write operation error on server localhost:27017. Write error: WriteError{code=2, message=&#39;No array filter found for identifier &#39;c&#39; in path &#39;chapters.$[c].lessons.$[l].sections.$[s].comments&#39;&#39;, details={}}.\r\n```\r\n\r\nThanks for the help!","title":"spring-data-mongodb @Update annotation with arrayFilters","body":"<p>spring-data-mongodb 3.4.0 have a beautiful @Update annotation support for jpa repositories.</p>\n<p>But how can i pass arrayFilters and other <strong>options</strong>, supported by <a href=\"https://www.mongodb.com/docs/manual/reference/method/db.collection.update/\" rel=\"nofollow noreferrer\">https://www.mongodb.com/docs/manual/reference/method/db.collection.update/</a> ?</p>\n<p>Here is my working manual example:</p>\n<pre><code>public @NotNull Comment addComment(String id, String cid, String lid, String sid, Comment comment) {\n        // Add comment\n        JwtUser user = userService.getCurrentUser().orElseThrow(() -&gt;\n                new SodixException(&quot;Can't get current user&quot;));\n\n        EditorUser author = EditorUser.builder()\n                .id(user.getExternalId())\n                .username(user.getUsername())\n                .firstName(user.getFirstName())\n                .lastName(user.getLastName())\n                .build();\n\n        CommentEntity commentToSave = new CommentEntity();\n        commentToSave.setId(ProjectIdUtil.generateCommentId());\n        commentToSave.setCreatedAt(LocalDateTime.now());\n        commentToSave.setAuthor(author);\n        commentToSave.setMessage(comment.getMessage());\n\n        Query query = new Query();\n        query.addCriteria(Criteria.where(&quot;_id&quot;).is(id));\n        query.addCriteria(Criteria.where(&quot;chapters&quot;).elemMatch(\n                Criteria.where(&quot;_id&quot;).is(cid).and(&quot;lessons&quot;).elemMatch(\n                        Criteria.where(&quot;_id&quot;).is(lid).and(&quot;sections&quot;).elemMatch(\n                                Criteria.where(&quot;_id&quot;).is(sid)\n                        )\n                )\n        ));\n\n        Update update = new Update();\n        update.addToSet(&quot;chapters.$[c].lessons.$[l].sections.$[s].comments&quot;, commentToSave);\n        update.filterArray(&quot;c._id&quot;, cid);\n        update.filterArray(&quot;l._id&quot;, lid);\n        update.filterArray(&quot;s._id&quot;, sid);\n\n        var result = mongoTemplate.updateFirst(query, update, ProjectEntity.class);\n        if (result.getModifiedCount() &lt; 1) {\n            throw new RuntimeException(&quot;Comment wasn't added&quot;);\n        }\n}\n</code></pre>\n<p>Here is what i expect to run using repository @Update annotation, but it's not working yet:</p>\n<pre><code>import org.springframework.data.mongodb.repository.Query;\nimport org.springframework.data.mongodb.repository.Update;\n...\n@Repository\npublic interface ProjectRepository extends MongoRepository&lt;ProjectEntity, String&gt; {\n...\n    @Query(&quot;{ _id : ?0, chapters : {$elemMatch : {_id: ?1, lessons: {$elemMatch: {_id: ?2, 'sections._id': ?3}}}}}&quot;)\n    @Update(&quot;{$set : { 'chapters.$[c].lessons.$[l].sections.$[s].comments' : ?4 }, $arrayFilters: {'c._id': ?1, 'l._id': ?2, 's._id': ?3}}&quot;)\n    long addComment(String id, String cid, String lid, String sid, CommentEntity comment);\n    \n    ...\n}\n\n</code></pre>\n<p>Error i've got is:</p>\n<pre><code>com.mongodb.MongoWriteException: Write operation error on server localhost:27017. Write error: WriteError{code=2, message='No array filter found for identifier 'c' in path 'chapters.$[c].lessons.$[l].sections.$[s].comments'', details={}}.\n</code></pre>\n<p>Thanks for the help!</p>\n"},{"tags":["java","logging","slf4j","logback"],"answers":[{"tags":[],"owner":{"account_id":464195,"reputation":1347,"user_id":867552,"accept_rate":60,"display_name":"daerin"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1406280572,"creation_date":1406280572,"answer_id":24952428,"question_id":24952290,"body_markdown":"The `&lt;logger&gt;` is not needed because you are using `&lt;root&gt;` logger. The `root` configuration is inherited by children `logger` configurations and can be overriden. See [Logback configuration documentation][1].\r\n\r\n\r\n  [1]: http://logback.qos.ch/manual/configuration.html","title":"use of &lt;logger&gt; element is logback.xml","body":"<p>The <code>&lt;logger&gt;</code> is not needed because you are using <code>&lt;root&gt;</code> logger. The <code>root</code> configuration is inherited by children <code>logger</code> configurations and can be overriden. See <a href=\"http://logback.qos.ch/manual/configuration.html\" rel=\"noreferrer\">Logback configuration documentation</a>.</p>\n"},{"tags":[],"owner":{"account_id":25463364,"reputation":1,"user_id":19262794,"display_name":"user19262794"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654246082,"creation_date":1654246082,"answer_id":72487016,"question_id":24952290,"body_markdown":"Do you have any logger define by name &quot;mylog&quot; in your application.\r\nif not, this is the reason it is not working.\r\n\r\ntry this...\r\n\r\n\t&lt;Logger name=&quot;test01.test02&quot; level=&quot;INFO&quot;&gt;\r\n        &lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n    &lt;/Logger&gt;\r\n\r\ntest01 = package;\r\ntest02= class","title":"use of &lt;logger&gt; element is logback.xml","body":"<p>Do you have any logger define by name &quot;mylog&quot; in your application.\nif not, this is the reason it is not working.</p>\n<p>try this...</p>\n<pre><code>&lt;Logger name=&quot;test01.test02&quot; level=&quot;INFO&quot;&gt;\n    &lt;appender-ref ref=&quot;FILE&quot; /&gt;\n&lt;/Logger&gt;\n</code></pre>\n<p>test01 = package;\ntest02= class</p>\n"}],"owner":{"account_id":1176664,"reputation":20820,"user_id":1152500,"accept_rate":47,"display_name":"Anand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8693,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":24952428,"answer_count":2,"score":4,"last_activity_date":1654246082,"creation_date":1406280160,"question_id":24952290,"body_markdown":"I created a simple web application with `slf4j-logback` logging. I used the below configuration that prints log statements to `mylog.log` file.\r\n\r\n    &lt;configuration&gt;\r\n    \t&lt;appender name=&quot;fileAppender&quot;\r\n    \t\tclass=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n    \t\t&lt;File&gt;${catalina.base}/logs/mylog.log&lt;/File&gt;\r\n    \t\r\n    \t\t&lt;encoder&gt;\r\n    \t\t\t&lt;Pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{35} - %msg %n\r\n    \t\t\t&lt;/Pattern&gt;\r\n    \t\t&lt;/encoder&gt;\r\n    \t&lt;/appender&gt;\r\n    \t\r\n    \t&lt;root&gt;\r\n    \t\t&lt;level value=&quot;DEBUG&quot; /&gt;\r\n    \t\t&lt;appender-ref ref=&quot;fileAppender&quot; /&gt;\r\n    \t&lt;/root&gt;\r\n    &lt;/configuration&gt;\r\n\r\nThe above worked fine.\r\n\r\nI came across one `logger` element as\r\n\r\n    &lt;logger name=&quot;mylog&quot; additivity=&quot;false&quot;&gt;\r\n    \t\t&lt;level value=&quot;DEBUG&quot; /&gt;\r\n    \t\t&lt;appender-ref ref=&quot;fileAppender&quot; /&gt;\r\n    &lt;/logger&gt;\r\n\r\nWhat is the use of this `logger` element? Will it make any difference as my first configuration worked fine?","title":"use of &lt;logger&gt; element is logback.xml","body":"<p>I created a simple web application with <code>slf4j-logback</code> logging. I used the below configuration that prints log statements to <code>mylog.log</code> file.</p>\n\n<pre><code>&lt;configuration&gt;\n    &lt;appender name=\"fileAppender\"\n        class=\"ch.qos.logback.core.rolling.RollingFileAppender\"&gt;\n        &lt;File&gt;${catalina.base}/logs/mylog.log&lt;/File&gt;\n\n        &lt;encoder&gt;\n            &lt;Pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{35} - %msg %n\n            &lt;/Pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;root&gt;\n        &lt;level value=\"DEBUG\" /&gt;\n        &lt;appender-ref ref=\"fileAppender\" /&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>The above worked fine.</p>\n\n<p>I came across one <code>logger</code> element as</p>\n\n<pre><code>&lt;logger name=\"mylog\" additivity=\"false\"&gt;\n        &lt;level value=\"DEBUG\" /&gt;\n        &lt;appender-ref ref=\"fileAppender\" /&gt;\n&lt;/logger&gt;\n</code></pre>\n\n<p>What is the use of this <code>logger</code> element? Will it make any difference as my first configuration worked fine?</p>\n"},{"tags":["java","spring-boot","graphql-subscriptions"],"owner":{"account_id":25463228,"reputation":21,"user_id":19262674,"display_name":"Shido"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":496,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1654246056,"creation_date":1654245957,"question_id":72486992,"body_markdown":"I am new to Reactive programming and Spring GraphQL subscription. I want to make my App 1 publish resultSet from JPA findAll() method through Flux and my client listen to it continuously.\r\n\r\nI want Flux publish-on-demand (e.g. when a message comes from a NATS message broker). Below is my code so far to try to achieve it. Currently, the subscriber is not able to receive data from the server.\r\n\r\ndata was emitted successfully but I doubt that the problem comes from my Resolver. Appreciate a lot for your help.\r\n\r\n**SubscribeConfiguration**\r\n\r\n    @Bean\r\n\tpublic Sinks.Many&lt;List&lt;ToolOrder&gt;&gt; valueSink() {\r\n\t\treturn Sinks.many().multicast().onBackpressureBuffer();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic Flux&lt;List&lt;ToolOrder&gt;&gt; valueFlux() {\r\n\t\treturn valueSink().asFlux();\r\n\t}\r\n\r\n\r\n**SubscriptionResolver**\r\n\r\n    public Publisher&lt;List&lt;ToolOrder&gt;&gt; getAllToolOrder() {\r\n\t\tSystem.out.println(&quot;reach&quot;);\r\n\t\treturn subscriptionConfiguration.valueFlux().map(e -&gt; e);\r\n\t}\r\n\r\n**NatsService**\r\n\r\n    \tpublic void handleData(Message info) {\r\n\t\tString message = new String(info.getData());\r\n\t\tlog.info(&quot;received message from nats: {}, topic: {}&quot;, message, info.getSubject());\r\n\t\ttry {\r\n\t\t\tList&lt;ToolOrder&gt; toolOrders = toolOrderRepository.findAll();\r\n\t\t\tSinks.EmitResult result = subscriptionConfiguration.valueSink().tryEmitNext(toolOrders);\r\n\t\t\tlog.info(String.valueOf(result));\r\n\t\t\tif (result.isFailure()) {\r\n\t\t\t\t// do something here, since emission failed\r\n\t\t\t\tlog.info(String.valueOf(result));\r\n\t\t\t}\r\n\t\t} catch (JsonProcessingException e) {\r\n\t\t\tthrow new RuntimeException(&quot;Could not convert json&quot;, e);\r\n\t\t}\r\n\t}\r\n\r\n\r\n","title":"Spring GraphQL subscription publish dynamically","body":"<p>I am new to Reactive programming and Spring GraphQL subscription. I want to make my App 1 publish resultSet from JPA findAll() method through Flux and my client listen to it continuously.</p>\n<p>I want Flux publish-on-demand (e.g. when a message comes from a NATS message broker). Below is my code so far to try to achieve it. Currently, the subscriber is not able to receive data from the server.</p>\n<p>data was emitted successfully but I doubt that the problem comes from my Resolver. Appreciate a lot for your help.</p>\n<p><strong>SubscribeConfiguration</strong></p>\n<pre><code>@Bean\npublic Sinks.Many&lt;List&lt;ToolOrder&gt;&gt; valueSink() {\n    return Sinks.many().multicast().onBackpressureBuffer();\n}\n\n@Bean\npublic Flux&lt;List&lt;ToolOrder&gt;&gt; valueFlux() {\n    return valueSink().asFlux();\n}\n</code></pre>\n<p><strong>SubscriptionResolver</strong></p>\n<pre><code>public Publisher&lt;List&lt;ToolOrder&gt;&gt; getAllToolOrder() {\n    System.out.println(&quot;reach&quot;);\n    return subscriptionConfiguration.valueFlux().map(e -&gt; e);\n}\n</code></pre>\n<p><strong>NatsService</strong></p>\n<pre><code>    public void handleData(Message info) {\n    String message = new String(info.getData());\n    log.info(&quot;received message from nats: {}, topic: {}&quot;, message, info.getSubject());\n    try {\n        List&lt;ToolOrder&gt; toolOrders = toolOrderRepository.findAll();\n        Sinks.EmitResult result = subscriptionConfiguration.valueSink().tryEmitNext(toolOrders);\n        log.info(String.valueOf(result));\n        if (result.isFailure()) {\n            // do something here, since emission failed\n            log.info(String.valueOf(result));\n        }\n    } catch (JsonProcessingException e) {\n        throw new RuntimeException(&quot;Could not convert json&quot;, e);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","logback"],"comments":[{"owner":{"account_id":3004650,"reputation":2180,"user_id":2549398,"accept_rate":88,"display_name":"officer"},"score":0,"creation_date":1676553570,"post_id":72487000,"comment_id":133162642,"body_markdown":"Could you come up with a solution for this problem?","body":"Could you come up with a solution for this problem?"},{"owner":{"account_id":88165,"reputation":1499,"user_id":244051,"display_name":"Erik Finnman"},"score":0,"creation_date":1676621616,"post_id":72487000,"comment_id":133177805,"body_markdown":"Unfortunately not - I had to extract the pre-defined configuration from Spring and include it in my configuration.","body":"Unfortunately not - I had to extract the pre-defined configuration from Spring and include it in my configuration."}],"owner":{"account_id":88165,"reputation":1499,"user_id":244051,"display_name":"Erik Finnman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":754,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1654246002,"creation_date":1654246002,"question_id":72487000,"body_markdown":"In a Spring Boot application, we take advantage of the pre-configured Logback configuration from Spring by including these configuration files and then just configure the loggers, something like this:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration&gt;\r\n    &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot;/&gt;\r\n    &lt;include resource=&quot;org/springframework/boot/logging/logback/console-appender.xml&quot;/&gt;\r\n\r\n    &lt;logger name=&quot;com.bla.bla&quot; level=&quot;DEBUG&quot; additivity=&quot;false&quot;&gt;\r\n        &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n    &lt;/logger&gt;\r\n    &lt;root level=&quot;INFO&quot;&gt;\r\n        &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n    &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nNow I would like to add a `ch.qos.logback.core.filter.EvaluatorFilter` to do some filtering, but I cannot figure out if it&#39;s possible to add this to the appender defined in the included files, since it looks like the filter must be attached to the appender configuration (according to the Logback documentation). Ideally I would like to have the filter configuration in my application configuration and not touch the pre-defined configuration from Spring, something like this:\r\n```\r\n&lt;filter class=&quot;ch.qos.logback.core.filter.EvaluatorFilter&quot;&gt;\r\n    &lt;evaluator&gt; &lt;!-- defaults to type ch.qos.logback.classic.boolex.JaninoEventEvaluator --&gt;\r\n        &lt;expression&gt;return logger.equals(&quot;org.hibernate.engine.jdbc.spi.SqlExceptionHelper&quot;) &amp;amp;&amp;amp; message.contains(&quot;duplicate key value violates unique constraint \\&quot;source_data_version\\&quot;&quot;);&lt;/expression&gt;\r\n    &lt;/evaluator&gt;\r\n    &lt;OnMismatch&gt;NEUTRAL&lt;/OnMismatch&gt;\r\n    &lt;OnMatch&gt;DENY&lt;/OnMatch&gt;\r\n&lt;/filter&gt;\r\n```\r\nIs this possible somehow or do I really need to re-define the appender so to speak in my own configuration file?\r\n\r\nI started looking into writing my own filter class, but it doesn&#39;t seem to help with this configuration issue, since the custom filter still needs to be added to the appender as far as I understand.","title":"Add logback filter to included appender","body":"<p>In a Spring Boot application, we take advantage of the pre-configured Logback configuration from Spring by including these configuration files and then just configure the loggers, something like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n    &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot;/&gt;\n    &lt;include resource=&quot;org/springframework/boot/logging/logback/console-appender.xml&quot;/&gt;\n\n    &lt;logger name=&quot;com.bla.bla&quot; level=&quot;DEBUG&quot; additivity=&quot;false&quot;&gt;\n        &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\n    &lt;/logger&gt;\n    &lt;root level=&quot;INFO&quot;&gt;\n        &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>Now I would like to add a <code>ch.qos.logback.core.filter.EvaluatorFilter</code> to do some filtering, but I cannot figure out if it's possible to add this to the appender defined in the included files, since it looks like the filter must be attached to the appender configuration (according to the Logback documentation). Ideally I would like to have the filter configuration in my application configuration and not touch the pre-defined configuration from Spring, something like this:</p>\n<pre><code>&lt;filter class=&quot;ch.qos.logback.core.filter.EvaluatorFilter&quot;&gt;\n    &lt;evaluator&gt; &lt;!-- defaults to type ch.qos.logback.classic.boolex.JaninoEventEvaluator --&gt;\n        &lt;expression&gt;return logger.equals(&quot;org.hibernate.engine.jdbc.spi.SqlExceptionHelper&quot;) &amp;amp;&amp;amp; message.contains(&quot;duplicate key value violates unique constraint \\&quot;source_data_version\\&quot;&quot;);&lt;/expression&gt;\n    &lt;/evaluator&gt;\n    &lt;OnMismatch&gt;NEUTRAL&lt;/OnMismatch&gt;\n    &lt;OnMatch&gt;DENY&lt;/OnMatch&gt;\n&lt;/filter&gt;\n</code></pre>\n<p>Is this possible somehow or do I really need to re-define the appender so to speak in my own configuration file?</p>\n<p>I started looking into writing my own filter class, but it doesn't seem to help with this configuration issue, since the custom filter still needs to be added to the appender as far as I understand.</p>\n"},{"tags":["java","graphdb","rdf4j"],"comments":[{"owner":{"account_id":17945711,"reputation":350,"user_id":13040040,"display_name":"RedCrusaderJr"},"score":0,"creation_date":1669853467,"post_id":72479709,"comment_id":131740349,"body_markdown":"Have you resolved this?","body":"Have you resolved this?"}],"owner":{"account_id":25457595,"reputation":11,"user_id":19257976,"display_name":"tommi123"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654245336,"creation_date":1654188767,"question_id":72479709,"body_markdown":"I try to query the changes from graphdb using history and versioning plugin (https://graphdb.ontotext.com/documentation/standard/change-tracking.html). This is the query: \r\n\r\n```\r\nvar additionsQuery =\r\n        repositoryConnection.prepareTupleQuery(\r\n            QueryLanguage.SPARQL,\r\n            &quot;SELECT * FROM &lt;http://www.ontotext.com/added/&quot;\r\n                + transactionId\r\n                + &quot;&gt; {\\n&quot;\r\n                + &quot; graph ?g {\\n&quot;\r\n                + &quot;     ?s ?p ?o \\n&quot;\r\n                + &quot;   }\\n&quot;\r\n                + &quot;}&quot;);\r\n\r\nwhile (additionsResult.hasNext()) {\r\n      // process result\r\n}\r\n```\r\n\r\nThe result is quite big (180000 triples) and the query takes very long. After some time it aborts. \r\n\r\nThe same query works perfectly fine, if I execute it in graphdb workbench console. So it seems like the problem is the api..\r\n\r\nThe problem only occurs with large deltas, with small deltas everything works perfectly.\r\n\r\nInterestingly, a construct query returns an empty result:\r\n```\r\nCONSTRUCT { \r\n    ?s ?p ?o \r\n} WHERE { \r\n    GRAPH http://www.ontotext.com/added/7699fe6e-525d-4cdd-b9a8-8b48d61e468e {\r\n        ?s ?p ?o\r\n    }\r\n}\r\n```\r\n\r\nWhat I&#39;ve tried: \r\n\r\nSet the timeout to very high number, or infinite. \r\n\r\nUse multiple small queries and instead of one big query (using SKIP and LIMIT).\r\n\r\nUse a fresh and new connection exclusively for this query. \r\n\r\nAnyone have a clue?\r\n\r\nGraphDB exception:\r\n\r\n```\r\n18:23:32.380 [repositories/lakhsbdcsdc] ERROR c.o.graphdb.sesame.CatchHandler - Caught error and log it before check if the responce is committed!\r\norg.eclipse.rdf4j.query.TupleQueryResultHandlerException: org.apache.catalina.connector.ClientAbortException: java.net.SocketTimeoutException\r\n\tat org.eclipse.rdf4j.query.resultio.binary.BinaryQueryResultWriter.handleSolutionImpl(BinaryQueryResultWriter.java:193)\r\n\tat org.eclipse.rdf4j.query.resultio.AbstractQueryResultWriter.handleSolution(AbstractQueryResultWriter.java:68)\r\n\tat com.ontotext.graphdb.sesame.CatchHandler.processWithBuffer(CatchHandler.java:139)\r\n\tat com.ontotext.graphdb.sesame.TupleQueryResultView.renderInternal(TupleQueryResultView.java:92)\r\n\tat org.eclipse.rdf4j.http.server.repository.QueryResultView.render(QueryResultView.java:63)\r\n\tat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)\r\n\tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\r\n\tat com.ontotext.forest.core.request.RequestFilter.doFilterInternal(RequestFilter.java:47)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\r\n\tat com.github.ziplet.filter.compression.CompressingFilter.doFilter(CompressingFilter.java:263)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\r\n\tat com.ontotext.forest.security.AdminDelegatingFilterProxy.doFilter(AdminDelegatingFilterProxy.java:84)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: org.apache.catalina.connector.ClientAbortException: java.net.SocketTimeoutException\r\n\tat org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:353)\r\n\tat org.apache.catalina.connector.OutputBuffer.flushByteBuffer(OutputBuffer.java:783)\r\n\tat org.apache.catalina.connector.OutputBuffer.append(OutputBuffer.java:688)\r\n\tat org.apache.catalina.connector.OutputBuffer.writeBytes(OutputBuffer.java:388)\r\n\tat org.apache.catalina.connector.OutputBuffer.write(OutputBuffer.java:366)\r\n\tat org.apache.catalina.connector.CoyoteOutputStream.write(CoyoteOutputStream.java:96)\r\n\tat com.github.ziplet.filter.compression.ThresholdOutputStream.write(ThresholdOutputStream.java:92)\r\n\tat com.github.ziplet.filter.compression.CompressingServletOutputStream.write(CompressingServletOutputStream.java:66)\r\n\tat java.base/java.io.DataOutputStream.write(DataOutputStream.java:107)\r\n\tat org.eclipse.rdf4j.query.resultio.binary.BinaryQueryResultWriter.writeString(BinaryQueryResultWriter.java:320)\r\n\tat org.eclipse.rdf4j.query.resultio.binary.BinaryQueryResultWriter.writeQName(BinaryQueryResultWriter.java:241)\r\n\tat org.eclipse.rdf4j.query.resultio.binary.BinaryQueryResultWriter.writeValue(BinaryQueryResultWriter.java:207)\r\n\tat org.eclipse.rdf4j.query.resultio.binary.BinaryQueryResultWriter.handleSolutionImpl(BinaryQueryResultWriter.java:186)\r\n\t... 47 common frames omitted\r\nCaused by: java.net.SocketTimeoutException: null\r\n\tat org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.doWrite(NioEndpoint.java:1360)\r\n\tat org.apache.tomcat.util.net.SocketWrapperBase.doWrite(SocketWrapperBase.java:766)\r\n\tat org.apache.tomcat.util.net.SocketWrapperBase.writeBlocking(SocketWrapperBase.java:586)\r\n\tat org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:530)\r\n\tat org.apache.coyote.http11.Http11OutputBuffer$SocketOutputBuffer.doWrite(Http11OutputBuffer.java:547)\r\n\tat org.apache.coyote.http11.filters.ChunkedOutputFilter.doWrite(ChunkedOutputFilter.java:112)\r\n\tat org.apache.coyote.http11.Http11OutputBuffer.doWrite(Http11OutputBuffer.java:194)\r\n\tat org.apache.coyote.Response.doWrite(Response.java:615)\r\n\tat org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:340)\r\n\t... 59 common frames omitted\r\n18:23:32.487 [repositories/lakhsbdcsdc] ERROR c.o.g.sesame.TupleQueryResultView - Serialization error\r\norg.eclipse.rdf4j.query.TupleQueryResultHandlerException: org.apache.catalina.connector.ClientAbortException: java.io.IOException: java.net.SocketTimeoutException\r\n\tat org.eclipse.rdf4j.query.resultio.binary.BinaryQueryResultWriter.endQueryResult(BinaryQueryResultWriter.java:164)\r\n\tat com.ontotext.graphdb.sesame.CatchHandler.processWithBuffer(CatchHandler.java:151)\r\n\tat com.ontotext.graphdb.sesame.TupleQueryResultView.renderInternal(TupleQueryResultView.java:92)\r\n\tat org.eclipse.rdf4j.http.server.repository.QueryResultView.render(QueryResultView.java:63)\r\n\tat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)\r\n\tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\r\n\tat com.ontotext.forest.core.request.RequestFilter.doFilterInternal(RequestFilter.java:47)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\r\n\tat com.github.ziplet.filter.compression.CompressingFilter.doFilter(CompressingFilter.java:263)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\r\n\tat com.ontotext.forest.security.AdminDelegatingFilterProxy.doFilter(AdminDelegatingFilterProxy.java:84)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: org.apache.catalina.connector.ClientAbortException: java.io.IOException: java.net.SocketTimeoutException\r\n\tat org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:353)\r\n\tat org.apache.catalina.connector.OutputBuffer.flushByteBuffer(OutputBuffer.java:783)\r\n\tat org.apache.catalina.connector.OutputBuffer.writeByte(OutputBuffer.java:425)\r\n\tat org.apache.catalina.connector.CoyoteOutputStream.write(CoyoteOutputStream.java:80)\r\n\tat com.github.ziplet.filter.compression.ThresholdOutputStream.write(ThresholdOutputStream.java:60)\r\n\tat com.github.ziplet.filter.compression.CompressingServletOutputStream.write(CompressingServletOutputStream.java:74)\r\n\tat java.base/java.io.DataOutputStream.writeByte(DataOutputStream.java:153)\r\n\tat org.eclipse.rdf4j.query.resultio.binary.BinaryQueryResultWriter.endQueryResult(BinaryQueryResultWriter.java:161)\r\n\t... 46 common frames omitted\r\nCaused by: java.io.IOException: java.net.SocketTimeoutException\r\n\tat org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.doWrite(NioEndpoint.java:1348)\r\n\tat org.apache.tomcat.util.net.SocketWrapperBase.doWrite(SocketWrapperBase.java:766)\r\n\tat org.apache.tomcat.util.net.SocketWrapperBase.writeBlocking(SocketWrapperBase.java:586)\r\n\tat org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:530)\r\n\tat org.apache.coyote.http11.Http11OutputBuffer$SocketOutputBuffer.doWrite(Http11OutputBuffer.java:547)\r\n\tat org.apache.coyote.http11.filters.ChunkedOutputFilter.doWrite(ChunkedOutputFilter.java:112)\r\n\tat org.apache.coyote.http11.Http11OutputBuffer.doWrite(Http11OutputBuffer.java:194)\r\n\tat org.apache.coyote.Response.doWrite(Response.java:615)\r\n\tat org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:340)\r\n\t... 53 common frames omitted\r\nCaused by: java.net.SocketTimeoutException: null\r\n\tat org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.doWrite(NioEndpoint.java:1360)\r\n\tat org.apache.tomcat.util.net.SocketWrapperBase.doWrite(SocketWrapperBase.java:766)\r\n\tat org.apache.tomcat.util.net.SocketWrapperBase.writeBlocking(SocketWrapperBase.java:586)\r\n\tat org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:530)\r\n\tat org.apache.coyote.http11.Http11OutputBuffer$SocketOutputBuffer.doWrite(Http11OutputBuffer.java:547)\r\n\tat org.apache.coyote.http11.filters.ChunkedOutputFilter.doWrite(ChunkedOutputFilter.java:112)\r\n\tat org.apache.coyote.http11.Http11OutputBuffer.doWrite(Http11OutputBuffer.java:194)\r\n\tat org.apache.coyote.Response.doWrite(Response.java:615)\r\n\tat org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:340)\r\n\tat org.apache.catalina.connector.OutputBuffer.flushByteBuffer(OutputBuffer.java:783)\r\n\tat org.apache.catalina.connector.OutputBuffer.append(OutputBuffer.java:688)\r\n\tat org.apache.catalina.connector.OutputBuffer.writeBytes(OutputBuffer.java:388)\r\n\tat org.apache.catalina.connector.OutputBuffer.write(OutputBuffer.java:366)\r\n\tat org.apache.catalina.connector.CoyoteOutputStream.write(CoyoteOutputStream.java:96)\r\n\tat com.github.ziplet.filter.compression.ThresholdOutputStream.write(ThresholdOutputStream.java:92)\r\n\tat com.github.ziplet.filter.compression.CompressingServletOutputStream.write(CompressingServletOutputStream.java:66)\r\n\tat java.base/java.io.DataOutputStream.write(DataOutputStream.java:107)\r\n\tat org.eclipse.rdf4j.query.resultio.binary.BinaryQueryResultWriter.writeString(BinaryQueryResultWriter.java:320)\r\n\tat org.eclipse.rdf4j.query.resultio.binary.BinaryQueryResultWriter.writeQName(BinaryQueryResultWriter.java:241)\r\n\tat org.eclipse.rdf4j.query.resultio.binary.BinaryQueryResultWriter.writeValue(BinaryQueryResultWriter.java:207)\r\n\tat org.eclipse.rdf4j.query.resultio.binary.BinaryQueryResultWriter.handleSolutionImpl(BinaryQueryResultWriter.java:186)\r\n\tat org.eclipse.rdf4j.query.resultio.AbstractQueryResultWriter.handleSolution(AbstractQueryResultWriter.java:68)\r\n\tat com.ontotext.graphdb.sesame.CatchHandler.processWithBuffer(CatchHandler.java:139)\r\n\t... 45 common frames omitted\r\n```\r\n\r\nJava exception:\r\n\r\n```\r\norg.eclipse.rdf4j.query.QueryEvaluationException: org.eclipse.rdf4j.query.QueryEvaluationException: java.net.SocketException: Connection reset\r\n\tat org.eclipse.rdf4j.query.impl.QueueCursor.convert(QueueCursor.java:58) ~[rdf4j-query-3.7.3.jar:3.7.3]\r\n\tat org.eclipse.rdf4j.query.impl.QueueCursor.convert(QueueCursor.java:22) ~[rdf4j-query-3.7.3.jar:3.7.3]\r\n\tat org.eclipse.rdf4j.common.iteration.QueueIteration.checkException(QueueIteration.java:165) ~[rdf4j-util-3.7.3.jar:3.7.3]\r\n\tat org.eclipse.rdf4j.common.iteration.QueueIteration.getNextElement(QueueIteration.java:122) ~[rdf4j-util-3.7.3.jar:3.7.3]\r\n\tat org.eclipse.rdf4j.common.iteration.LookAheadIteration.lookAhead(LookAheadIteration.java:81) ~[rdf4j-util-3.7.3.jar:3.7.3]\r\n\tat org.eclipse.rdf4j.common.iteration.LookAheadIteration.hasNext(LookAheadIteration.java:49) ~[rdf4j-util-3.7.3.jar:3.7.3]\r\n\tat org.eclipse.rdf4j.common.iteration.IterationWrapper.hasNext(IterationWrapper.java:63) ~[rdf4j-util-3.7.3.jar:3.7.3]\r\n\tat at.ac.qe.dairy.repo.persistence.RepositoryDao.getAdditions(RepositoryDao.java:143) ~[classes/:na]\r\n\tat at.ac.qe.dairy.repo.rpc.observer.PushRequestStreamObserver.onCompleted(PushRequestStreamObserver.java:128) ~[classes/:na]\r\n\tat io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onHalfClose(ServerCalls.java:260) ~[grpc-stub-1.32.1.jar:1.32.1]\r\n\tat io.grpc.PartialForwardingServerCallListener.onHalfClose(PartialForwardingServerCallListener.java:35) ~[grpc-api-1.30.0.jar:1.30.0]\r\n\tat io.grpc.ForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:23) ~[grpc-api-1.30.0.jar:1.30.0]\r\n\tat io.grpc.ForwardingServerCallListener$SimpleForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:40) ~[grpc-api-1.30.0.jar:1.30.0]\r\n\tat io.grpc.Contexts$ContextualizedServerCallListener.onHalfClose(Contexts.java:86) ~[grpc-api-1.30.0.jar:1.30.0]\r\n\tat io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.halfClosed(ServerCallImpl.java:331) ~[grpc-core-1.30.0.jar:1.30.0]\r\n\tat io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1HalfClosed.runInContext(ServerImpl.java:820) ~[grpc-core-1.30.0.jar:1.30.0]\r\n\tat io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.30.0.jar:1.30.0]\r\n\tat io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123) ~[grpc-core-1.30.0.jar:1.30.0]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\r\nCaused by: org.eclipse.rdf4j.query.QueryEvaluationException: java.net.SocketException: Connection reset\r\n\tat org.eclipse.rdf4j.query.impl.QueueCursor.convert(QueueCursor.java:58) ~[rdf4j-query-3.7.3.jar:3.7.3]\r\n\tat org.eclipse.rdf4j.query.impl.QueueCursor.convert(QueueCursor.java:22) ~[rdf4j-query-3.7.3.jar:3.7.3]\r\n\tat org.eclipse.rdf4j.common.iteration.QueueIteration.checkException(QueueIteration.java:165) ~[rdf4j-util-3.7.3.jar:3.7.3]\r\n\tat org.eclipse.rdf4j.common.iteration.QueueIteration.handleClose(QueueIteration.java:155) ~[rdf4j-util-3.7.3.jar:3.7.3]\r\n\tat org.eclipse.rdf4j.common.iteration.AbstractCloseableIteration.close(AbstractCloseableIteration.java:63) ~[rdf4j-util-3.7.3.jar:3.7.3]\r\n\tat org.eclipse.rdf4j.common.iteration.QueueIteration.checkException(QueueIteration.java:162) ~[rdf4j-util-3.7.3.jar:3.7.3]\r\n\t... 18 common frames omitted\r\nCaused by: java.net.SocketException: Connection reset\r\n\tat java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:323) ~[na:na]\r\n\tat java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350) ~[na:na]\r\n\tat java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803) ~[na:na]\r\n\tat java.base/java.net.Socket$SocketInputStream.read(Socket.java:982) ~[na:na]\r\n\tat org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:137) ~[httpcore-osgi-4.4.14.jar:4.4.14]\r\n\tat org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:153) ~[httpcore-osgi-4.4.14.jar:4.4.14]\r\n\tat org.apache.http.impl.io.SessionInputBufferImpl.read(SessionInputBufferImpl.java:175) ~[httpcore-osgi-4.4.14.jar:4.4.14]\r\n\tat org.apache.http.impl.io.ChunkedInputStream.read(ChunkedInputStream.java:152) ~[httpcore-osgi-4.4.14.jar:4.4.14]\r\n\tat org.apache.http.conn.EofSensorInputStream.read(EofSensorInputStream.java:118) ~[httpclient-osgi-4.5.12.jar:4.5.12]\r\n\tat java.base/java.io.DataInputStream.readInt(DataInputStream.java:393) ~[na:na]\r\n\tat org.eclipse.rdf4j.query.resultio.binary.BinaryQueryResultParser.readQName(BinaryQueryResultParser.java:244) ~[rdf4j-queryresultio-binary-3.7.3.jar:3.7.3]\r\n\tat org.eclipse.rdf4j.query.resultio.binary.BinaryQueryResultParser.parse(BinaryQueryResultParser.java:171) ~[rdf4j-queryresultio-binary-3.7.3.jar:3.7.3]\r\n\tat org.eclipse.rdf4j.query.resultio.AbstractTupleQueryResultParser.parseQueryResult(AbstractTupleQueryResultParser.java:48) ~[rdf4j-queryresultio-api-3.7.3.jar:3.7.3]\r\n\tat org.eclipse.rdf4j.query.resultio.helpers.BackgroundTupleResult.run(BackgroundTupleResult.java:89) ~[rdf4j-queryresultio-api-3.7.3.jar:3.7.3]\r\n\tat org.eclipse.rdf4j.http.client.BackgroundResultExecutor.lambda$autoCloseRunnable$0(BackgroundResultExecutor.java:65) ~[rdf4j-http-client-3.7.3.jar:3.7.3]\r\n\t... 3 common frames omitted\r\n```\r\n\r\n\r\n\r\n","title":"TupleQueryResultView - Serialization error - Query changes from graphdb using history and versioning plugin","body":"<p>I try to query the changes from graphdb using history and versioning plugin (<a href=\"https://graphdb.ontotext.com/documentation/standard/change-tracking.html\" rel=\"nofollow noreferrer\">https://graphdb.ontotext.com/documentation/standard/change-tracking.html</a>). This is the query:</p>\n<pre><code>var additionsQuery =\n        repositoryConnection.prepareTupleQuery(\n            QueryLanguage.SPARQL,\n            &quot;SELECT * FROM &lt;http://www.ontotext.com/added/&quot;\n                + transactionId\n                + &quot;&gt; {\\n&quot;\n                + &quot; graph ?g {\\n&quot;\n                + &quot;     ?s ?p ?o \\n&quot;\n                + &quot;   }\\n&quot;\n                + &quot;}&quot;);\n\nwhile (additionsResult.hasNext()) {\n      // process result\n}\n</code></pre>\n<p>The result is quite big (180000 triples) and the query takes very long. After some time it aborts.</p>\n<p>The same query works perfectly fine, if I execute it in graphdb workbench console. So it seems like the problem is the api..</p>\n<p>The problem only occurs with large deltas, with small deltas everything works perfectly.</p>\n<p>Interestingly, a construct query returns an empty result:</p>\n<pre><code>CONSTRUCT { \n    ?s ?p ?o \n} WHERE { \n    GRAPH http://www.ontotext.com/added/7699fe6e-525d-4cdd-b9a8-8b48d61e468e {\n        ?s ?p ?o\n    }\n}\n</code></pre>\n<p>What I've tried:</p>\n<p>Set the timeout to very high number, or infinite.</p>\n<p>Use multiple small queries and instead of one big query (using SKIP and LIMIT).</p>\n<p>Use a fresh and new connection exclusively for this query.</p>\n<p>Anyone have a clue?</p>\n<p>GraphDB exception:</p>\n<pre><code>18:23:32.380 [repositories/lakhsbdcsdc] ERROR c.o.graphdb.sesame.CatchHandler - Caught error and log it before check if the responce is committed!\norg.eclipse.rdf4j.query.TupleQueryResultHandlerException: org.apache.catalina.connector.ClientAbortException: java.net.SocketTimeoutException\n    at org.eclipse.rdf4j.query.resultio.binary.BinaryQueryResultWriter.handleSolutionImpl(BinaryQueryResultWriter.java:193)\n    at org.eclipse.rdf4j.query.resultio.AbstractQueryResultWriter.handleSolution(AbstractQueryResultWriter.java:68)\n    at com.ontotext.graphdb.sesame.CatchHandler.processWithBuffer(CatchHandler.java:139)\n    at com.ontotext.graphdb.sesame.TupleQueryResultView.renderInternal(TupleQueryResultView.java:92)\n    at org.eclipse.rdf4j.http.server.repository.QueryResultView.render(QueryResultView.java:63)\n    at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\n    at com.ontotext.forest.core.request.RequestFilter.doFilterInternal(RequestFilter.java:47)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\n    at com.github.ziplet.filter.compression.CompressingFilter.doFilter(CompressingFilter.java:263)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\n    at com.ontotext.forest.security.AdminDelegatingFilterProxy.doFilter(AdminDelegatingFilterProxy.java:84)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: org.apache.catalina.connector.ClientAbortException: java.net.SocketTimeoutException\n    at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:353)\n    at org.apache.catalina.connector.OutputBuffer.flushByteBuffer(OutputBuffer.java:783)\n    at org.apache.catalina.connector.OutputBuffer.append(OutputBuffer.java:688)\n    at org.apache.catalina.connector.OutputBuffer.writeBytes(OutputBuffer.java:388)\n    at org.apache.catalina.connector.OutputBuffer.write(OutputBuffer.java:366)\n    at org.apache.catalina.connector.CoyoteOutputStream.write(CoyoteOutputStream.java:96)\n    at com.github.ziplet.filter.compression.ThresholdOutputStream.write(ThresholdOutputStream.java:92)\n    at com.github.ziplet.filter.compression.CompressingServletOutputStream.write(CompressingServletOutputStream.java:66)\n    at java.base/java.io.DataOutputStream.write(DataOutputStream.java:107)\n    at org.eclipse.rdf4j.query.resultio.binary.BinaryQueryResultWriter.writeString(BinaryQueryResultWriter.java:320)\n    at org.eclipse.rdf4j.query.resultio.binary.BinaryQueryResultWriter.writeQName(BinaryQueryResultWriter.java:241)\n    at org.eclipse.rdf4j.query.resultio.binary.BinaryQueryResultWriter.writeValue(BinaryQueryResultWriter.java:207)\n    at org.eclipse.rdf4j.query.resultio.binary.BinaryQueryResultWriter.handleSolutionImpl(BinaryQueryResultWriter.java:186)\n    ... 47 common frames omitted\nCaused by: java.net.SocketTimeoutException: null\n    at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.doWrite(NioEndpoint.java:1360)\n    at org.apache.tomcat.util.net.SocketWrapperBase.doWrite(SocketWrapperBase.java:766)\n    at org.apache.tomcat.util.net.SocketWrapperBase.writeBlocking(SocketWrapperBase.java:586)\n    at org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:530)\n    at org.apache.coyote.http11.Http11OutputBuffer$SocketOutputBuffer.doWrite(Http11OutputBuffer.java:547)\n    at org.apache.coyote.http11.filters.ChunkedOutputFilter.doWrite(ChunkedOutputFilter.java:112)\n    at org.apache.coyote.http11.Http11OutputBuffer.doWrite(Http11OutputBuffer.java:194)\n    at org.apache.coyote.Response.doWrite(Response.java:615)\n    at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:340)\n    ... 59 common frames omitted\n18:23:32.487 [repositories/lakhsbdcsdc] ERROR c.o.g.sesame.TupleQueryResultView - Serialization error\norg.eclipse.rdf4j.query.TupleQueryResultHandlerException: org.apache.catalina.connector.ClientAbortException: java.io.IOException: java.net.SocketTimeoutException\n    at org.eclipse.rdf4j.query.resultio.binary.BinaryQueryResultWriter.endQueryResult(BinaryQueryResultWriter.java:164)\n    at com.ontotext.graphdb.sesame.CatchHandler.processWithBuffer(CatchHandler.java:151)\n    at com.ontotext.graphdb.sesame.TupleQueryResultView.renderInternal(TupleQueryResultView.java:92)\n    at org.eclipse.rdf4j.http.server.repository.QueryResultView.render(QueryResultView.java:63)\n    at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\n    at com.ontotext.forest.core.request.RequestFilter.doFilterInternal(RequestFilter.java:47)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\n    at com.github.ziplet.filter.compression.CompressingFilter.doFilter(CompressingFilter.java:263)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\n    at com.ontotext.forest.security.AdminDelegatingFilterProxy.doFilter(AdminDelegatingFilterProxy.java:84)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: org.apache.catalina.connector.ClientAbortException: java.io.IOException: java.net.SocketTimeoutException\n    at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:353)\n    at org.apache.catalina.connector.OutputBuffer.flushByteBuffer(OutputBuffer.java:783)\n    at org.apache.catalina.connector.OutputBuffer.writeByte(OutputBuffer.java:425)\n    at org.apache.catalina.connector.CoyoteOutputStream.write(CoyoteOutputStream.java:80)\n    at com.github.ziplet.filter.compression.ThresholdOutputStream.write(ThresholdOutputStream.java:60)\n    at com.github.ziplet.filter.compression.CompressingServletOutputStream.write(CompressingServletOutputStream.java:74)\n    at java.base/java.io.DataOutputStream.writeByte(DataOutputStream.java:153)\n    at org.eclipse.rdf4j.query.resultio.binary.BinaryQueryResultWriter.endQueryResult(BinaryQueryResultWriter.java:161)\n    ... 46 common frames omitted\nCaused by: java.io.IOException: java.net.SocketTimeoutException\n    at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.doWrite(NioEndpoint.java:1348)\n    at org.apache.tomcat.util.net.SocketWrapperBase.doWrite(SocketWrapperBase.java:766)\n    at org.apache.tomcat.util.net.SocketWrapperBase.writeBlocking(SocketWrapperBase.java:586)\n    at org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:530)\n    at org.apache.coyote.http11.Http11OutputBuffer$SocketOutputBuffer.doWrite(Http11OutputBuffer.java:547)\n    at org.apache.coyote.http11.filters.ChunkedOutputFilter.doWrite(ChunkedOutputFilter.java:112)\n    at org.apache.coyote.http11.Http11OutputBuffer.doWrite(Http11OutputBuffer.java:194)\n    at org.apache.coyote.Response.doWrite(Response.java:615)\n    at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:340)\n    ... 53 common frames omitted\nCaused by: java.net.SocketTimeoutException: null\n    at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.doWrite(NioEndpoint.java:1360)\n    at org.apache.tomcat.util.net.SocketWrapperBase.doWrite(SocketWrapperBase.java:766)\n    at org.apache.tomcat.util.net.SocketWrapperBase.writeBlocking(SocketWrapperBase.java:586)\n    at org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:530)\n    at org.apache.coyote.http11.Http11OutputBuffer$SocketOutputBuffer.doWrite(Http11OutputBuffer.java:547)\n    at org.apache.coyote.http11.filters.ChunkedOutputFilter.doWrite(ChunkedOutputFilter.java:112)\n    at org.apache.coyote.http11.Http11OutputBuffer.doWrite(Http11OutputBuffer.java:194)\n    at org.apache.coyote.Response.doWrite(Response.java:615)\n    at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:340)\n    at org.apache.catalina.connector.OutputBuffer.flushByteBuffer(OutputBuffer.java:783)\n    at org.apache.catalina.connector.OutputBuffer.append(OutputBuffer.java:688)\n    at org.apache.catalina.connector.OutputBuffer.writeBytes(OutputBuffer.java:388)\n    at org.apache.catalina.connector.OutputBuffer.write(OutputBuffer.java:366)\n    at org.apache.catalina.connector.CoyoteOutputStream.write(CoyoteOutputStream.java:96)\n    at com.github.ziplet.filter.compression.ThresholdOutputStream.write(ThresholdOutputStream.java:92)\n    at com.github.ziplet.filter.compression.CompressingServletOutputStream.write(CompressingServletOutputStream.java:66)\n    at java.base/java.io.DataOutputStream.write(DataOutputStream.java:107)\n    at org.eclipse.rdf4j.query.resultio.binary.BinaryQueryResultWriter.writeString(BinaryQueryResultWriter.java:320)\n    at org.eclipse.rdf4j.query.resultio.binary.BinaryQueryResultWriter.writeQName(BinaryQueryResultWriter.java:241)\n    at org.eclipse.rdf4j.query.resultio.binary.BinaryQueryResultWriter.writeValue(BinaryQueryResultWriter.java:207)\n    at org.eclipse.rdf4j.query.resultio.binary.BinaryQueryResultWriter.handleSolutionImpl(BinaryQueryResultWriter.java:186)\n    at org.eclipse.rdf4j.query.resultio.AbstractQueryResultWriter.handleSolution(AbstractQueryResultWriter.java:68)\n    at com.ontotext.graphdb.sesame.CatchHandler.processWithBuffer(CatchHandler.java:139)\n    ... 45 common frames omitted\n</code></pre>\n<p>Java exception:</p>\n<pre><code>org.eclipse.rdf4j.query.QueryEvaluationException: org.eclipse.rdf4j.query.QueryEvaluationException: java.net.SocketException: Connection reset\n    at org.eclipse.rdf4j.query.impl.QueueCursor.convert(QueueCursor.java:58) ~[rdf4j-query-3.7.3.jar:3.7.3]\n    at org.eclipse.rdf4j.query.impl.QueueCursor.convert(QueueCursor.java:22) ~[rdf4j-query-3.7.3.jar:3.7.3]\n    at org.eclipse.rdf4j.common.iteration.QueueIteration.checkException(QueueIteration.java:165) ~[rdf4j-util-3.7.3.jar:3.7.3]\n    at org.eclipse.rdf4j.common.iteration.QueueIteration.getNextElement(QueueIteration.java:122) ~[rdf4j-util-3.7.3.jar:3.7.3]\n    at org.eclipse.rdf4j.common.iteration.LookAheadIteration.lookAhead(LookAheadIteration.java:81) ~[rdf4j-util-3.7.3.jar:3.7.3]\n    at org.eclipse.rdf4j.common.iteration.LookAheadIteration.hasNext(LookAheadIteration.java:49) ~[rdf4j-util-3.7.3.jar:3.7.3]\n    at org.eclipse.rdf4j.common.iteration.IterationWrapper.hasNext(IterationWrapper.java:63) ~[rdf4j-util-3.7.3.jar:3.7.3]\n    at at.ac.qe.dairy.repo.persistence.RepositoryDao.getAdditions(RepositoryDao.java:143) ~[classes/:na]\n    at at.ac.qe.dairy.repo.rpc.observer.PushRequestStreamObserver.onCompleted(PushRequestStreamObserver.java:128) ~[classes/:na]\n    at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onHalfClose(ServerCalls.java:260) ~[grpc-stub-1.32.1.jar:1.32.1]\n    at io.grpc.PartialForwardingServerCallListener.onHalfClose(PartialForwardingServerCallListener.java:35) ~[grpc-api-1.30.0.jar:1.30.0]\n    at io.grpc.ForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:23) ~[grpc-api-1.30.0.jar:1.30.0]\n    at io.grpc.ForwardingServerCallListener$SimpleForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:40) ~[grpc-api-1.30.0.jar:1.30.0]\n    at io.grpc.Contexts$ContextualizedServerCallListener.onHalfClose(Contexts.java:86) ~[grpc-api-1.30.0.jar:1.30.0]\n    at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.halfClosed(ServerCallImpl.java:331) ~[grpc-core-1.30.0.jar:1.30.0]\n    at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1HalfClosed.runInContext(ServerImpl.java:820) ~[grpc-core-1.30.0.jar:1.30.0]\n    at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.30.0.jar:1.30.0]\n    at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123) ~[grpc-core-1.30.0.jar:1.30.0]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\nCaused by: org.eclipse.rdf4j.query.QueryEvaluationException: java.net.SocketException: Connection reset\n    at org.eclipse.rdf4j.query.impl.QueueCursor.convert(QueueCursor.java:58) ~[rdf4j-query-3.7.3.jar:3.7.3]\n    at org.eclipse.rdf4j.query.impl.QueueCursor.convert(QueueCursor.java:22) ~[rdf4j-query-3.7.3.jar:3.7.3]\n    at org.eclipse.rdf4j.common.iteration.QueueIteration.checkException(QueueIteration.java:165) ~[rdf4j-util-3.7.3.jar:3.7.3]\n    at org.eclipse.rdf4j.common.iteration.QueueIteration.handleClose(QueueIteration.java:155) ~[rdf4j-util-3.7.3.jar:3.7.3]\n    at org.eclipse.rdf4j.common.iteration.AbstractCloseableIteration.close(AbstractCloseableIteration.java:63) ~[rdf4j-util-3.7.3.jar:3.7.3]\n    at org.eclipse.rdf4j.common.iteration.QueueIteration.checkException(QueueIteration.java:162) ~[rdf4j-util-3.7.3.jar:3.7.3]\n    ... 18 common frames omitted\nCaused by: java.net.SocketException: Connection reset\n    at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:323) ~[na:na]\n    at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350) ~[na:na]\n    at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803) ~[na:na]\n    at java.base/java.net.Socket$SocketInputStream.read(Socket.java:982) ~[na:na]\n    at org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:137) ~[httpcore-osgi-4.4.14.jar:4.4.14]\n    at org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:153) ~[httpcore-osgi-4.4.14.jar:4.4.14]\n    at org.apache.http.impl.io.SessionInputBufferImpl.read(SessionInputBufferImpl.java:175) ~[httpcore-osgi-4.4.14.jar:4.4.14]\n    at org.apache.http.impl.io.ChunkedInputStream.read(ChunkedInputStream.java:152) ~[httpcore-osgi-4.4.14.jar:4.4.14]\n    at org.apache.http.conn.EofSensorInputStream.read(EofSensorInputStream.java:118) ~[httpclient-osgi-4.5.12.jar:4.5.12]\n    at java.base/java.io.DataInputStream.readInt(DataInputStream.java:393) ~[na:na]\n    at org.eclipse.rdf4j.query.resultio.binary.BinaryQueryResultParser.readQName(BinaryQueryResultParser.java:244) ~[rdf4j-queryresultio-binary-3.7.3.jar:3.7.3]\n    at org.eclipse.rdf4j.query.resultio.binary.BinaryQueryResultParser.parse(BinaryQueryResultParser.java:171) ~[rdf4j-queryresultio-binary-3.7.3.jar:3.7.3]\n    at org.eclipse.rdf4j.query.resultio.AbstractTupleQueryResultParser.parseQueryResult(AbstractTupleQueryResultParser.java:48) ~[rdf4j-queryresultio-api-3.7.3.jar:3.7.3]\n    at org.eclipse.rdf4j.query.resultio.helpers.BackgroundTupleResult.run(BackgroundTupleResult.java:89) ~[rdf4j-queryresultio-api-3.7.3.jar:3.7.3]\n    at org.eclipse.rdf4j.http.client.BackgroundResultExecutor.lambda$autoCloseRunnable$0(BackgroundResultExecutor.java:65) ~[rdf4j-http-client-3.7.3.jar:3.7.3]\n    ... 3 common frames omitted\n</code></pre>\n"},{"tags":["java","mysql","spring"],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654245311,"creation_date":1654245311,"answer_id":72486859,"question_id":72486265,"body_markdown":"Find product by id, create a sale with data, set product in new sale, save sale. Assuming spring data and hibernate, something like this:\r\n```\r\nProduct product = productRepo.findById(id);\r\nSale sale = initWithData;\r\nsale.setProduct(product);\r\nsaleRepo.save(sale);\r\n```","title":"Spring how to create a child with the foreign key of the father","body":"<p>Find product by id, create a sale with data, set product in new sale, save sale. Assuming spring data and hibernate, something like this:</p>\n<pre><code>Product product = productRepo.findById(id);\nSale sale = initWithData;\nsale.setProduct(product);\nsaleRepo.save(sale);\n</code></pre>\n"}],"owner":{"display_name":"user10429212"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72486859,"answer_count":1,"score":0,"last_activity_date":1654245311,"creation_date":1654242114,"question_id":72486265,"body_markdown":" My question is simply how do I create the Sale entity when I have the sku(@id of product)?\r\n\r\nParent Entity\r\n\r\n    public class Product {\r\n       @Id\r\n       private int sku;\r\n\r\n       private String name;\r\n\r\n       @OneToMany(mappedBy=&quot;product&quot;)\r\n       private Set&lt;Sale&gt; sales;\r\n    }\r\n\r\nChild Entity\r\n\r\n    public class Sale {\r\n       @Id\r\n       @GeneratedValue\r\n       private int id;\r\n\r\n       @ManyToOne\r\n       @JoinColumn(name=&quot;sku&quot;, nullable=false)\r\n       private Product product;\r\n       ...\r\n    }\r\n","title":"Spring how to create a child with the foreign key of the father","body":"<p>My question is simply how do I create the Sale entity when I have the sku(@id of product)?</p>\n<p>Parent Entity</p>\n<pre><code>public class Product {\n   @Id\n   private int sku;\n\n   private String name;\n\n   @OneToMany(mappedBy=&quot;product&quot;)\n   private Set&lt;Sale&gt; sales;\n}\n</code></pre>\n<p>Child Entity</p>\n<pre><code>public class Sale {\n   @Id\n   @GeneratedValue\n   private int id;\n\n   @ManyToOne\n   @JoinColumn(name=&quot;sku&quot;, nullable=false)\n   private Product product;\n   ...\n}\n</code></pre>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":3261392,"reputation":880,"user_id":2746919,"accept_rate":86,"display_name":"pma"},"score":1,"creation_date":1509354705,"post_id":47010714,"comment_id":80969327,"body_markdown":"As written [here](http://kim.saabye-pedersen.org/2013/05/spring-annotation-on-interface-or-class.html), you can annotate interfaces but it only works &quot;if you are using interface-based proxies.&quot; In general, Java annotations are not inherited from interfaces.","body":"As written <a href=\"http://kim.saabye-pedersen.org/2013/05/spring-annotation-on-interface-or-class.html\" rel=\"nofollow noreferrer\">here</a>, you can annotate interfaces but it only works &quot;if you are using interface-based proxies.&quot; In general, Java annotations are not inherited from interfaces."},{"owner":{"account_id":5582021,"reputation":3897,"user_id":4423636,"accept_rate":75,"display_name":"Ataur Rahman Munna"},"score":0,"creation_date":1509534546,"post_id":47010714,"comment_id":81053762,"body_markdown":"@Andre, If the answer is helpful, then you should accept my answer for fellow user of Stackoverflow.","body":"@Andre, If the answer is helpful, then you should accept my answer for fellow user of Stackoverflow."},{"owner":{"account_id":3695852,"reputation":1085,"user_id":3077218,"accept_rate":83,"display_name":"Andr&#233; Gasser"},"score":1,"creation_date":1509538010,"post_id":47010714,"comment_id":81055728,"body_markdown":"@AtaurRahmanMunna done. thx!","body":"@AtaurRahmanMunna done. thx!"}],"answers":[{"tags":[],"owner":{"account_id":5582021,"reputation":3897,"user_id":4423636,"accept_rate":75,"display_name":"Ataur Rahman Munna"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1545023069,"creation_date":1509356628,"answer_id":47012104,"question_id":47010714,"body_markdown":"In your provided link said, `@Transactional` is also `@Inherited`. Lets break down each part of them.\r\n\r\nAs per spring&#39;s [developers recommended][1] that use `@Transactional` annotation with concrete class.\r\nYou can use `@Transactional` annotation in interface or a method inside the interface. You can think this will work as you expected if you used *`interface-based-proxies`*. Annotation that is not inherited refers that if you are using *`class-based-proxies`* then probably transaction attribute are not applied to that interface. So the ultimate object can not covered or wrapped by transactional attribute.\r\n\r\nIf so, `@Secured` annotation is `@Inherited` then this can be used both in interface and its implementation class.\r\nFrom spring [docs][2]:\r\n&gt;The Secured annotation is used to define a list of security configuration attributes for business methods.\r\n\r\n For example:\r\n\r\n \r\n\r\n     @Secured({ &quot;ROLE_USER&quot; })\r\n     public void create(Contact contact);\r\n    \r\n     @Secured({ &quot;ROLE_USER&quot;, &quot;ROLE_ADMIN&quot; })\r\n     public void update(Contact contact);\r\n    \r\n     @Secured({ &quot;ROLE_ADMIN&quot; })\r\n     public void delete(Contact contact);\r\n\r\n \r\nSo In the bottom line, you may have multiple implementations for an interface. So, keeping your `@Secured` annotation in interface makes sense.\r\n\r\n  [1]: https://docs.spring.io/spring/docs/2.0.x/reference/transaction.html\r\n  [2]: https://docs.spring.io/spring-security/site/docs/4.2.8.RELEASE/apidocs/org/springframework/security/access/annotation/Secured.html","title":"Do I Have to Put @Secured Annotations on Interface or on Class?","body":"<p>In your provided link said, <code>@Transactional</code> is also <code>@Inherited</code>. Lets break down each part of them.</p>\n\n<p>As per spring's <a href=\"https://docs.spring.io/spring/docs/2.0.x/reference/transaction.html\" rel=\"nofollow noreferrer\">developers recommended</a> that use <code>@Transactional</code> annotation with concrete class.\nYou can use <code>@Transactional</code> annotation in interface or a method inside the interface. You can think this will work as you expected if you used <em><code>interface-based-proxies</code></em>. Annotation that is not inherited refers that if you are using <em><code>class-based-proxies</code></em> then probably transaction attribute are not applied to that interface. So the ultimate object can not covered or wrapped by transactional attribute.</p>\n\n<p>If so, <code>@Secured</code> annotation is <code>@Inherited</code> then this can be used both in interface and its implementation class.\nFrom spring <a href=\"https://docs.spring.io/spring-security/site/docs/4.2.8.RELEASE/apidocs/org/springframework/security/access/annotation/Secured.html\" rel=\"nofollow noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <p>The Secured annotation is used to define a list of security configuration attributes for business methods.</p>\n</blockquote>\n\n<p>For example:</p>\n\n<pre><code> @Secured({ \"ROLE_USER\" })\n public void create(Contact contact);\n\n @Secured({ \"ROLE_USER\", \"ROLE_ADMIN\" })\n public void update(Contact contact);\n\n @Secured({ \"ROLE_ADMIN\" })\n public void delete(Contact contact);\n</code></pre>\n\n<p>So In the bottom line, you may have multiple implementations for an interface. So, keeping your <code>@Secured</code> annotation in interface makes sense.</p>\n"}],"owner":{"account_id":3695852,"reputation":1085,"user_id":3077218,"accept_rate":83,"display_name":"Andr&#233; Gasser"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1510,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":47012104,"answer_count":1,"score":4,"last_activity_date":1654245238,"creation_date":1509351707,"question_id":47010714,"body_markdown":"Is it correct to put `@Secured` annotations on interface methods or on methods within classes implementing the interface? Are there any recommendations for this?\r\n\r\nWhen I dig into the class defining the `@Secured` annotation, I can see that it has the `@Inherited` annotation set:\r\n\r\n    @Target({ ElementType.METHOD, ElementType.TYPE })\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Inherited\r\n    @Documented\r\n    public @interface Secured {\r\n    \t/**\r\n    \t * Returns the list of security configuration attributes (e.g. ROLE_USER, ROLE_ADMIN).\r\n    \t *\r\n    \t * @return String[] The secure method attributes\r\n    \t */\r\n    \tpublic String[]value();\r\n    }\r\n\r\nHaving read [this answer][1], I guess I can set the `@Secured` annotation on the interface to consistently enforce authorization over all implementations of the interface. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/10596870/3077218","title":"Do I Have to Put @Secured Annotations on Interface or on Class?","body":"<p>Is it correct to put <code>@Secured</code> annotations on interface methods or on methods within classes implementing the interface? Are there any recommendations for this?</p>\n\n<p>When I dig into the class defining the <code>@Secured</code> annotation, I can see that it has the <code>@Inherited</code> annotation set:</p>\n\n<pre><code>@Target({ ElementType.METHOD, ElementType.TYPE })\n@Retention(RetentionPolicy.RUNTIME)\n@Inherited\n@Documented\npublic @interface Secured {\n    /**\n     * Returns the list of security configuration attributes (e.g. ROLE_USER, ROLE_ADMIN).\n     *\n     * @return String[] The secure method attributes\n     */\n    public String[]value();\n}\n</code></pre>\n\n<p>Having read <a href=\"https://stackoverflow.com/a/10596870/3077218\">this answer</a>, I guess I can set the <code>@Secured</code> annotation on the interface to consistently enforce authorization over all implementations of the interface. </p>\n"},{"tags":["java","micronaut"],"answers":[{"tags":[],"owner":{"account_id":3495264,"reputation":884,"user_id":2923710,"display_name":"&#193;lvaro S&#225;nchez-Mariscal"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1542632864,"creation_date":1542632864,"answer_id":53375338,"question_id":53370135,"body_markdown":"In Micronaut you can use `io.micronaut.core.io.ResourceLoader` variants, such as `io.micronaut.core.io.scan.ClassPathResourceLoader` or `io.micronaut.core.io.file.FileSystemResourceLoader`. One option to get them is via `io.micronaut.core.io.ResourceResolver`:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    ClassPathResourceLoader loader = new ResourceResolver().getLoader(ClassPathResourceLoader.class).get();\r\n    Optional&lt;URL&gt; resource = loader.getResource(&quot;classpath:foo/bar.txt&quot;);","title":"Is there an equivalent for Springs Resource in Micronaut?","body":"<p>In Micronaut you can use <code>io.micronaut.core.io.ResourceLoader</code> variants, such as <code>io.micronaut.core.io.scan.ClassPathResourceLoader</code> or <code>io.micronaut.core.io.file.FileSystemResourceLoader</code>. One option to get them is via <code>io.micronaut.core.io.ResourceResolver</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>ClassPathResourceLoader loader = new ResourceResolver().getLoader(ClassPathResourceLoader.class).get();\nOptional&lt;URL&gt; resource = loader.getResource(\"classpath:foo/bar.txt\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7465317,"reputation":31,"user_id":5675131,"display_name":"ffmammadov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1588961277,"creation_date":1588961277,"answer_id":61685324,"question_id":53370135,"body_markdown":"I used `io.micronaut.core.io.ResourceLoader`. Wired through the constructor:\r\n\r\n```java\r\n@Controller(&quot;root&quot;)\r\npublic class MyController {\r\n\r\n    private final ResourceLoader loader;\r\n\r\n    public MyController(ResourceLoader loader) {\r\n        this.loader = loader;\r\n    }\r\n\r\n    @Get(&quot;/index&quot;)\r\n    @Produces(MediaType.TEXT_HTML)\r\n    public String greet() throws IOException {\r\n        return new String(loader.getResourceAsStream(&quot;index.html&quot;).get().readAllBytes());\r\n    }\r\n}\r\n```\r\n\r\npath to my `index.html`: `src/main/resources/index.html`","title":"Is there an equivalent for Springs Resource in Micronaut?","body":"<p>I used <code>io.micronaut.core.io.ResourceLoader</code>. Wired through the constructor:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Controller(\"root\")\npublic class MyController {\n\n    private final ResourceLoader loader;\n\n    public MyController(ResourceLoader loader) {\n        this.loader = loader;\n    }\n\n    @Get(\"/index\")\n    @Produces(MediaType.TEXT_HTML)\n    public String greet() throws IOException {\n        return new String(loader.getResourceAsStream(\"index.html\").get().readAllBytes());\n    }\n}\n</code></pre>\n\n<p>path to my <code>index.html</code>: <code>src/main/resources/index.html</code></p>\n"},{"tags":[],"owner":{"account_id":444244,"reputation":578,"user_id":835934,"display_name":"Gunnar Hillert"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1607462197,"creation_date":1607462197,"answer_id":65207044,"question_id":53370135,"body_markdown":"[`ResourceLoader`][1] works well but you can do better. In Micronaut you can use [`io.micronaut.core.io.Readable`][2]. It is roughly equivalent to Spring&#39;s `Resource`. You can also use `Readable` in [ConfigurationProperties][3] and thus bind your configuration yaml/properties directly to `Readable` properties:\r\n\r\n```yaml\r\nmicronaut:\r\n  application:\r\n    name: Demo\r\nimages:\r\n  image-file: &quot;classpath:images/bismarckia-nobilis.jpg&quot;\r\n  # image-file: &quot;file:/path/to/images/bismarckia-nobilis.jpg&quot;\r\n  other-files:\r\n    - &quot;classpath:images/bismarckia-nobilis.jpg&quot;\r\n    - &quot;classpath:images/bamboo.jpg&quot;\r\n    - &quot;classpath:images/hibiscus.jpg&quot;\r\n```\r\nI have created:\r\n\r\n - Blog post: https://hillert.com/blog/from-resource-to-readable/\r\n - Demo: https://github.com/ghillert/resource-readable-demo\r\n\r\n\r\n  [1]: https://docs.micronaut.io/latest/api/io/micronaut/core/io/ResourceLoader.html\r\n  [2]: https://docs.micronaut.io/latest/api/io/micronaut/core/io/Readable.html\r\n  [3]: https://guides.micronaut.io/micronaut-configuration/guide/index.html","title":"Is there an equivalent for Springs Resource in Micronaut?","body":"<p><a href=\"https://docs.micronaut.io/latest/api/io/micronaut/core/io/ResourceLoader.html\" rel=\"nofollow noreferrer\"><code>ResourceLoader</code></a> works well but you can do better. In Micronaut you can use <a href=\"https://docs.micronaut.io/latest/api/io/micronaut/core/io/Readable.html\" rel=\"nofollow noreferrer\"><code>io.micronaut.core.io.Readable</code></a>. It is roughly equivalent to Spring's <code>Resource</code>. You can also use <code>Readable</code> in <a href=\"https://guides.micronaut.io/micronaut-configuration/guide/index.html\" rel=\"nofollow noreferrer\">ConfigurationProperties</a> and thus bind your configuration yaml/properties directly to <code>Readable</code> properties:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>micronaut:\n  application:\n    name: Demo\nimages:\n  image-file: &quot;classpath:images/bismarckia-nobilis.jpg&quot;\n  # image-file: &quot;file:/path/to/images/bismarckia-nobilis.jpg&quot;\n  other-files:\n    - &quot;classpath:images/bismarckia-nobilis.jpg&quot;\n    - &quot;classpath:images/bamboo.jpg&quot;\n    - &quot;classpath:images/hibiscus.jpg&quot;\n</code></pre>\n<p>I have created:</p>\n<ul>\n<li>Blog post: <a href=\"https://hillert.com/blog/from-resource-to-readable/\" rel=\"nofollow noreferrer\">https://hillert.com/blog/from-resource-to-readable/</a></li>\n<li>Demo: <a href=\"https://github.com/ghillert/resource-readable-demo\" rel=\"nofollow noreferrer\">https://github.com/ghillert/resource-readable-demo</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":88584,"reputation":7239,"user_id":244911,"accept_rate":29,"display_name":"LE GALL Beno&#238;t"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654244798,"creation_date":1654244798,"answer_id":72486766,"question_id":53370135,"body_markdown":"You can do it this way\r\n```java\r\n@Singleton\r\npublic class MyService {\r\n\r\n    @Value(&quot;classpath:your-file.json&quot;)\r\n    private Readable readable;\r\n}\r\n```\r\nor\r\n```java\r\n@Singleton\r\npublic class MyService {\r\n\r\n    private final Readable readable;\r\n\r\n    public MyService(@Value(&quot;classpath:your-file.json&quot;) Readable file) {\r\n        this.readable = readable;\r\n    }\r\n}\r\n```","title":"Is there an equivalent for Springs Resource in Micronaut?","body":"<p>You can do it this way</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Singleton\npublic class MyService {\n\n    @Value(&quot;classpath:your-file.json&quot;)\n    private Readable readable;\n}\n</code></pre>\n<p>or</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Singleton\npublic class MyService {\n\n    private final Readable readable;\n\n    public MyService(@Value(&quot;classpath:your-file.json&quot;) Readable file) {\n        this.readable = readable;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":930977,"reputation":8260,"user_id":960875,"accept_rate":98,"display_name":"saw303"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7137,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":53375338,"answer_count":4,"score":7,"last_activity_date":1654244798,"creation_date":1542612819,"question_id":53370135,"body_markdown":"I am migrating a tiny Spring Boot application to Micronaut 1.0.1 and I was wondering if there is an equivalent for `org.springframework.core.io.Resource` and their implementation such as `ClasspathResource`? \r\n\r\n\r\nIn Spring Boot I inject a resource into a service using its constructor.\r\n\r\n    @Service\r\n    public class MyService() {\r\n    \r\n        private final Resource resource;\r\n    \r\n        public MyService(Resource resource) { this.resource = resource; }\r\n    }\r\n\r\nHow can I do this in Micronaut?\r\n\r\n\r\n    @Singleton\r\n    public class MyService() {\r\n    \r\n        private final Resource resource;\r\n        \r\n        @Inject\r\n        public MyService(Resource resource) { this.resource = resource; }\r\n    }","title":"Is there an equivalent for Springs Resource in Micronaut?","body":"<p>I am migrating a tiny Spring Boot application to Micronaut 1.0.1 and I was wondering if there is an equivalent for <code>org.springframework.core.io.Resource</code> and their implementation such as <code>ClasspathResource</code>? </p>\n\n<p>In Spring Boot I inject a resource into a service using its constructor.</p>\n\n<pre><code>@Service\npublic class MyService() {\n\n    private final Resource resource;\n\n    public MyService(Resource resource) { this.resource = resource; }\n}\n</code></pre>\n\n<p>How can I do this in Micronaut?</p>\n\n<pre><code>@Singleton\npublic class MyService() {\n\n    private final Resource resource;\n\n    @Inject\n    public MyService(Resource resource) { this.resource = resource; }\n}\n</code></pre>\n"},{"tags":["java","maven","gradle","directory-structure"],"comments":[{"owner":{"account_id":4225251,"reputation":2272,"user_id":3458919,"accept_rate":55,"display_name":"Balwinder Singh"},"score":1,"creation_date":1396875084,"post_id":22912900,"comment_id":34970997,"body_markdown":"I normally use `target` folder to store the generated java sources. For your case, it will be something like `/target/main/java`","body":"I normally use <code>target</code> folder to store the generated java sources. For your case, it will be something like <code>&#47;target&#47;main&#47;java</code>"},{"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"score":0,"creation_date":1576795830,"post_id":22912900,"comment_id":105023019,"body_markdown":"When I use the target folder, my source files don&#39;t see the generated classes. I suppose I could put them in a sub-project and add a dependency, but I don&#39;t know of a way to put it all in the same module this way.","body":"When I use the target folder, my source files don&#39;t see the generated classes. I suppose I could put them in a sub-project and add a dependency, but I don&#39;t know of a way to put it all in the same module this way."}],"answers":[{"tags":[],"owner":{"account_id":271693,"reputation":7924,"user_id":562363,"accept_rate":59,"display_name":"Absurd-Mind"},"down_vote_count":0,"up_vote_count":53,"is_accepted":true,"score":53,"last_activity_date":1396908341,"creation_date":1396875375,"answer_id":22913075,"question_id":22912900,"body_markdown":"I think the location depends on how the source is generated and handled.\r\n\r\n 1. **The source code is generated automatically during the build process**: Then i would use `target/main/java/`, `target/test/java/` and so on. This code is not checked in into CVS since you can rebuild it fairly easy. In case you clean your project the `target` directory will be removed and the source will be rebuild.\r\n\r\n 2. **The source code is generated manually by an external tool or similar**: I would use `generated/src/main/java/`, `generated/src/test/java/`, `generated/src/main/resources/` and so on. This code should be checked in. A benefit is, as soon you see that the top-level directory name is `generated` you know that all files/directories below are also generated. Also you have the standard maven directory structure under the top-level directory. Another point is that clean-up is easy, just delete `generated` and recreate it, without looking through many other directories (like in your example: `src/main/generated-java` and src/test/generated-java).\r\n\r\n**EDIT**: Another nice solution would be to create a maven project which only contains the generated source like `myproject-generated-1.0.3.jar`. This project would be a dependency in your real application. Then you would just put your generated source int `src/main/java`.","title":"Location of generated source files for maven directory structure","body":"<p>I think the location depends on how the source is generated and handled.</p>\n\n<ol>\n<li><p><strong>The source code is generated automatically during the build process</strong>: Then i would use <code>target/main/java/</code>, <code>target/test/java/</code> and so on. This code is not checked in into CVS since you can rebuild it fairly easy. In case you clean your project the <code>target</code> directory will be removed and the source will be rebuild.</p></li>\n<li><p><strong>The source code is generated manually by an external tool or similar</strong>: I would use <code>generated/src/main/java/</code>, <code>generated/src/test/java/</code>, <code>generated/src/main/resources/</code> and so on. This code should be checked in. A benefit is, as soon you see that the top-level directory name is <code>generated</code> you know that all files/directories below are also generated. Also you have the standard maven directory structure under the top-level directory. Another point is that clean-up is easy, just delete <code>generated</code> and recreate it, without looking through many other directories (like in your example: <code>src/main/generated-java</code> and src/test/generated-java).</p></li>\n</ol>\n\n<p><strong>EDIT</strong>: Another nice solution would be to create a maven project which only contains the generated source like <code>myproject-generated-1.0.3.jar</code>. This project would be a dependency in your real application. Then you would just put your generated source int <code>src/main/java</code>.</p>\n"},{"tags":[],"owner":{"account_id":1093179,"reputation":297,"user_id":1087338,"accept_rate":0,"display_name":"sus007"},"down_vote_count":6,"up_vote_count":1,"is_accepted":false,"score":-5,"last_activity_date":1563180144,"creation_date":1396878305,"answer_id":22914317,"question_id":22912900,"body_markdown":"In Maven project source file store inside `src/main/java` , `src/main/resources` and test class store inside `src/test/java`.  \r\nIn Maven generated code (Compile code)  stored into `target/` folder.  \r\nWhen you build your Maven project, all generated code to be updated in target folder.","title":"Location of generated source files for maven directory structure","body":"<p>In Maven project source file store inside <code>src/main/java</code> , <code>src/main/resources</code> and test class store inside <code>src/test/java</code>.<br>\nIn Maven generated code (Compile code)  stored into <code>target/</code> folder.<br>\nWhen you build your Maven project, all generated code to be updated in target folder.</p>\n"},{"tags":[],"owner":{"account_id":161274,"reputation":6294,"user_id":381897,"accept_rate":100,"display_name":"bhdrkn"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1426342618,"creation_date":1426342618,"answer_id":29049927,"question_id":22912900,"body_markdown":"As much as i know there is no standard folder structure for generated sources. In my projects, i prefer `src/gen/java` kind of notation.","title":"Location of generated source files for maven directory structure","body":"<p>As much as i know there is no standard folder structure for generated sources. In my projects, i prefer <code>src/gen/java</code> kind of notation.</p>\n"},{"tags":[],"owner":{"account_id":482558,"reputation":29183,"user_id":897024,"accept_rate":100,"display_name":"kapex"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1654244755,"creation_date":1604075574,"answer_id":64612308,"question_id":22912900,"body_markdown":"I totally agree with [the accepted answer][1]. I just want to offer a slightly different suggestion for naming the directory that contains code generated by third-party tools:\r\n\r\n    src-gen/main/java\r\n\r\nBackground: In the *Eclipse*/*Maven Tycho* world (where code/resource generation often plays a large role) there is the `src-gen` directory for generated code, which has been established as some kind of standard convention. (the default project layout is a bit different compared to Maven, as all source files are directly in `src` and `src-gen`).\r\n\r\nIn a Maven project that could be translated for example to `src-gen/main/java`, `src-gen/main/resources`, `src-gen/test/java`, `src-gen/test/resources`. I like that more than moving everything into a &quot;generated&quot; directory, because\r\n\r\n- Sources in `src/main/java`and `src-gen/main/java` are on the same depth in the directory tree\r\n- It&#39;s more clear that `src-gen` contains generated sources/resources that contribute to the build. On the other hand a folder just named &quot;generated&quot; dosn&#39;t tell you much about its content. It could contain anything, like generated documentation or generated test data or it could be just a temporary folder.\r\n- All the mentioned advantages of `generated/src/main/java` still apply (e.g. easy cleanup)\r\n- After a quick google search it looks like there are already projects on Github that use this pattern\r\n\r\n\r\nSome thoughts/opinions about the other suggestions from the question:\r\n\r\n- Instead of `/src/main/generated-java` I would probably rather go with something like `/src/main/java-gen` which, when sorting directories alphabetically, keeps generated and regular code next to each other (`&lt;lang&gt;-gen` is also another pattern already used in Eclipse projects)\r\n- In my opinion `gen` fits in with the brief official names like `src`, `it` etc. more than `generated`. I&#39;ve already seen `src/gen/java` a few times in the wild and have the feeling it is a more common than `/src/generated/java`. On the other hand some Maven plugins use the quite verbose `target/generated-sources/&lt;lang&gt;` directory, so `generated-sources/main/java` could also be an option if your not into short names...  \r\n\r\nUltimately I think the naming doesn&#39;t matter that much and it is up to your preference since none of this is &quot;official&quot; convention. \r\n\r\n  [1]: https://stackoverflow.com/a/22913075/897024","title":"Location of generated source files for maven directory structure","body":"<p>I totally agree with <a href=\"https://stackoverflow.com/a/22913075/897024\">the accepted answer</a>. I just want to offer a slightly different suggestion for naming the directory that contains code generated by third-party tools:</p>\n<pre><code>src-gen/main/java\n</code></pre>\n<p>Background: In the <em>Eclipse</em>/<em>Maven Tycho</em> world (where code/resource generation often plays a large role) there is the <code>src-gen</code> directory for generated code, which has been established as some kind of standard convention. (the default project layout is a bit different compared to Maven, as all source files are directly in <code>src</code> and <code>src-gen</code>).</p>\n<p>In a Maven project that could be translated for example to <code>src-gen/main/java</code>, <code>src-gen/main/resources</code>, <code>src-gen/test/java</code>, <code>src-gen/test/resources</code>. I like that more than moving everything into a &quot;generated&quot; directory, because</p>\n<ul>\n<li>Sources in <code>src/main/java</code>and <code>src-gen/main/java</code> are on the same depth in the directory tree</li>\n<li>It's more clear that <code>src-gen</code> contains generated sources/resources that contribute to the build. On the other hand a folder just named &quot;generated&quot; dosn't tell you much about its content. It could contain anything, like generated documentation or generated test data or it could be just a temporary folder.</li>\n<li>All the mentioned advantages of <code>generated/src/main/java</code> still apply (e.g. easy cleanup)</li>\n<li>After a quick google search it looks like there are already projects on Github that use this pattern</li>\n</ul>\n<p>Some thoughts/opinions about the other suggestions from the question:</p>\n<ul>\n<li>Instead of <code>/src/main/generated-java</code> I would probably rather go with something like <code>/src/main/java-gen</code> which, when sorting directories alphabetically, keeps generated and regular code next to each other (<code>&lt;lang&gt;-gen</code> is also another pattern already used in Eclipse projects)</li>\n<li>In my opinion <code>gen</code> fits in with the brief official names like <code>src</code>, <code>it</code> etc. more than <code>generated</code>. I've already seen <code>src/gen/java</code> a few times in the wild and have the feeling it is a more common than <code>/src/generated/java</code>. On the other hand some Maven plugins use the quite verbose <code>target/generated-sources/&lt;lang&gt;</code> directory, so <code>generated-sources/main/java</code> could also be an option if your not into short names...</li>\n</ul>\n<p>Ultimately I think the naming doesn't matter that much and it is up to your preference since none of this is &quot;official&quot; convention.</p>\n"},{"tags":[],"owner":{"account_id":386394,"reputation":9197,"user_id":744133,"accept_rate":57,"display_name":"YoYo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630628177,"creation_date":1630628177,"answer_id":69038249,"question_id":22912900,"body_markdown":"NetBeans adopted `&lt;project&gt;/target/generated-sources/&lt;tool&gt;` as the location for generated code. As a result you would see an extra leaf appear in your project tree named as `Generated Sources (&lt;tool&gt;)`, and source code will be navigable and not show up with compiler errors in the markup.\r\n\r\nSo if you commit your code, it will not be under the `/target` directory, and you will have to setup your maven project for the additional Source Code locations. Otherwise, I will suggest to keep with that adopted standard and put things under `&lt;project&gt;/target/generated-sources/&lt;tool&gt;`.","title":"Location of generated source files for maven directory structure","body":"<p>NetBeans adopted <code>&lt;project&gt;/target/generated-sources/&lt;tool&gt;</code> as the location for generated code. As a result you would see an extra leaf appear in your project tree named as <code>Generated Sources (&lt;tool&gt;)</code>, and source code will be navigable and not show up with compiler errors in the markup.</p>\n<p>So if you commit your code, it will not be under the <code>/target</code> directory, and you will have to setup your maven project for the additional Source Code locations. Otherwise, I will suggest to keep with that adopted standard and put things under <code>&lt;project&gt;/target/generated-sources/&lt;tool&gt;</code>.</p>\n"}],"owner":{"account_id":241177,"reputation":10288,"user_id":511837,"accept_rate":78,"display_name":"igr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52659,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":22913075,"answer_count":5,"score":50,"last_activity_date":1654244755,"creation_date":1396874942,"question_id":22912900,"body_markdown":"Besides `src/main/java` folder, we have one folder that contains some generated java sources that are required for the main sources. Code generation is invoked **manually**, when needed. Generated source is **checked** into the source repo. Everything will be built and packed **together**.\r\n\r\nWhat would be the best location for generated java **sources** that are going to be compiled together with main sources? Should it be:\r\n\r\n+ `/src/generated/java` (following the same naming logic for `src/testInt/java` for integration tests)\r\n+ `/generated-src/main/java` (in collision with _&quot;The src directory contains all of the source material for building the project&quot;_)\r\n+ `/src/main/generated-java` (well... `generated-java` is not a type)\r\n+ ...?\r\n\r\nThe first option seems like the most appropriate one for this case. What do you think? Is there anything in Maven docs that describes this situation (that I have overlooked)? Do you know any repo with similar structure?\r\n\r\nThank you.\r\n\r\n### Answer\r\n\r\nAs suggested by @Absurd-Mind, direction we are thinking about is to split the source into the submodules (which works nice in gradle). So, the generated source and some other related source will go into its own submodule (they will produce the separate artifact) and the rest will go in other submodule, that uses this one. Thank you.","title":"Location of generated source files for maven directory structure","body":"<p>Besides <code>src/main/java</code> folder, we have one folder that contains some generated java sources that are required for the main sources. Code generation is invoked <strong>manually</strong>, when needed. Generated source is <strong>checked</strong> into the source repo. Everything will be built and packed <strong>together</strong>.</p>\n\n<p>What would be the best location for generated java <strong>sources</strong> that are going to be compiled together with main sources? Should it be:</p>\n\n<ul>\n<li><code>/src/generated/java</code> (following the same naming logic for <code>src/testInt/java</code> for integration tests)</li>\n<li><code>/generated-src/main/java</code> (in collision with <em>\"The src directory contains all of the source material for building the project\"</em>)</li>\n<li><code>/src/main/generated-java</code> (well... <code>generated-java</code> is not a type)</li>\n<li>...?</li>\n</ul>\n\n<p>The first option seems like the most appropriate one for this case. What do you think? Is there anything in Maven docs that describes this situation (that I have overlooked)? Do you know any repo with similar structure?</p>\n\n<p>Thank you.</p>\n\n<h3>Answer</h3>\n\n<p>As suggested by @Absurd-Mind, direction we are thinking about is to split the source into the submodules (which works nice in gradle). So, the generated source and some other related source will go into its own submodule (they will produce the separate artifact) and the rest will go in other submodule, that uses this one. Thank you.</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":0,"creation_date":1652378492,"post_id":72220214,"comment_id":127597956,"body_markdown":"I can&#39;t help but notice that you didn&#39;t ask a question.","body":"I can&#39;t help but notice that you didn&#39;t ask a question."},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":1,"creation_date":1652378666,"post_id":72220214,"comment_id":127598007,"body_markdown":"`List&lt;String&gt; lstb = lsta.stream().map(a -&gt; foo(a)).collect(Collectors.toList());`","body":"<code>List&lt;String&gt; lstb = lsta.stream().map(a -&gt; foo(a)).collect(Collectors.toList());</code>"}],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652379662,"creation_date":1652379662,"answer_id":72220423,"question_id":72220214,"body_markdown":"For Java 8+ (result list is mutable, i.e can be changed, sorted, ..)\r\n\r\n    List&lt;String&gt; lstb = lsta.stream().map(a -&gt; foo(a)).collect(Collectors.toList());\r\n\r\nFor Java 16+ (result list is immutable, i.e cannot be added to or sorted ..)\r\n\r\n    List&lt;String&gt; lstb = lsta.stream().map(a -&gt; foo(a)).toList();","title":"Java: add elements from a list to another with conversion","body":"<p>For Java 8+ (result list is mutable, i.e can be changed, sorted, ..)</p>\n<pre><code>List&lt;String&gt; lstb = lsta.stream().map(a -&gt; foo(a)).collect(Collectors.toList());\n</code></pre>\n<p>For Java 16+ (result list is immutable, i.e cannot be added to or sorted ..)</p>\n<pre><code>List&lt;String&gt; lstb = lsta.stream().map(a -&gt; foo(a)).toList();\n</code></pre>\n"}],"owner":{"account_id":117317,"reputation":11245,"user_id":307297,"accept_rate":62,"display_name":"chris01"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72220423,"answer_count":1,"score":0,"last_activity_date":1654244724,"creation_date":1652378310,"question_id":72220214,"body_markdown":"I am sure there are some functions to shorten my code below with some &quot;lamda, map, Collections&quot;-magic that does not need the loop to read from lsta and insert into lstb.\r\n\r\n\r\n\r\n    List &lt;Integer&gt; lsta = new ArrayList &lt;Integer&gt; ();\r\n    // ... insert into lsta\r\n\r\n    List &lt;String&gt; lstb = new ArrayList &lt;String&gt; ();\r\n    for (Integer a : lsta)\r\n    {\r\n       lstb.add (foo (a));\r\n    }\r\n","title":"Java: add elements from a list to another with conversion","body":"<p>I am sure there are some functions to shorten my code below with some &quot;lamda, map, Collections&quot;-magic that does not need the loop to read from lsta and insert into lstb.</p>\n<pre><code>List &lt;Integer&gt; lsta = new ArrayList &lt;Integer&gt; ();\n// ... insert into lsta\n\nList &lt;String&gt; lstb = new ArrayList &lt;String&gt; ();\nfor (Integer a : lsta)\n{\n   lstb.add (foo (a));\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1654360514,"post_id":72486660,"comment_id":128074704,"body_markdown":"It is some hard to understand your problem. This problem seems a huge one that needs to be broken down into smaller chunks of problem. It&#39;d be better if you would have added the class or classes that you implement for this in the manner of minimal reproducible example. If your problem is only on how to create that nested list using a for loop, then what are the criterias to drive the for loops?","body":"It is some hard to understand your problem. This problem seems a huge one that needs to be broken down into smaller chunks of problem. It&#39;d be better if you would have added the class or classes that you implement for this in the manner of minimal reproducible example. If your problem is only on how to create that nested list using a for loop, then what are the criterias to drive the for loops?"},{"owner":{"account_id":19793044,"reputation":117,"user_id":14495624,"display_name":"Blaupunkt"},"score":0,"creation_date":1654524992,"post_id":72486660,"comment_id":128104734,"body_markdown":"It is indeed a little bit hard to understand. Since I wasn&#39;t able to make it work the way I wanted to I now solved it differently. Instead of creating all arraylists at the beginning of the match I now create only one after each leg/set that shifts its elements in relation to the previous one.","body":"It is indeed a little bit hard to understand. Since I wasn&#39;t able to make it work the way I wanted to I now solved it differently. Instead of creating all arraylists at the beginning of the match I now create only one after each leg/set that shifts its elements in relation to the previous one."}],"owner":{"account_id":19793044,"reputation":117,"user_id":14495624,"display_name":"Blaupunkt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654244521,"creation_date":1654244199,"question_id":72486660,"body_markdown":"I want to create player orders for my darts app, but I can&#39;t make it work.\r\n\r\nFollowing variables exist: \r\n```java\r\nint setsAmount;\r\nint legsAmount;\r\nint playerAmount = getMatchParticipants().size();\r\n```\r\n\r\nsetsAmount and legsAmount variables are initialized by user input in editTexts.\r\nsetsAmount is the amount of sets a player needs to win the match. legsAmount is the amount of legs a player needs to win a set.\r\n\r\nLet&#39;s assume the following:\r\n```java\r\nsetsAmount = 3;\r\nlegsAmount = 3;\r\nplayerAmount = 2;\r\n```\r\n\r\nI want to generate player orders for each possible set and leg. Therefore I need to define more variables. \r\nI need to calculate the amount of legs and sets that can be played at most because I want to generate the player order represented by \r\ninteger indexes for each set and leg.\r\n\r\nThe extra variables are the following:\r\n```java\r\nmaximumSetsAmountPerMatch = playerAmount * (setsAmount - 1) + 1; // in our case = 5\r\nmaximumLegsPerSet = playerAmount * (legsAmount - 1) + 1; // in our case = 5\r\n```\r\n\r\nUsing all these variables, I want to create ArrayLists that contains the player order for each set/leg.\r\nArrayList rootContainer should contain five setContainer ArrayLists (one per maximumSetsAmountPerMatch). Each of those setContainer ArrayLists should contain another five legContainer ArrayLists (one per maximumLegsPerSet).\r\nEach of those legContainer ArrayLists should contain two Integer values (one per player).\r\n\r\nThe end result should look like that:\r\n\r\n```java\r\nArrayList&lt;ArrayList&lt;ArrayList&lt;Integer&gt;&gt;&gt; rootContainer = {ArrayList&lt;ArrayList&lt;Integer&gt;&gt; set1Container, ArrayList&lt;ArrayList&lt;Integer&gt;&gt; set2Container, ArrayList&lt;ArrayList&lt;Integer&gt;&gt; set3Container, ArrayList&lt;ArrayList&lt;Integer&gt;&gt; set4Container, ArrayList&lt;ArrayList&lt;Integer&gt;&gt; set5Container};\r\n\r\nArrayList&lt;ArrayList&lt;Integer&gt;&gt; set1Container = {ArrayList&lt;Integer&gt; set1Leg1Container, ArrayList&lt;Integer&gt; set1Leg2Container, ArrayList&lt;Integer&gt; set1Leg3Container, ArrayList&lt;Integer&gt; set1Leg4Container, ArrayList&lt;Integer&gt; set1Leg5Container};\r\nArrayList&lt;ArrayList&lt;Integer&gt;&gt; set2Container = {ArrayList&lt;Integer&gt; set2Leg1Container, ArrayList&lt;Integer&gt; set2Leg2Container, ArrayList&lt;Integer&gt; set2Leg3Container, ArrayList&lt;Integer&gt; set2Leg4Container, ArrayList&lt;Integer&gt; set2Leg5Container};\r\nArrayList&lt;ArrayList&lt;Integer&gt;&gt; set3Container = {ArrayList&lt;Integer&gt; set3Leg1Container, ArrayList&lt;Integer&gt; set3Leg2Container, ArrayList&lt;Integer&gt; set3Leg3Container, ArrayList&lt;Integer&gt; set3Leg4Container, ArrayList&lt;Integer&gt; set3Leg5Container};\r\nArrayList&lt;ArrayList&lt;Integer&gt;&gt; set4Container = {ArrayList&lt;Integer&gt; set4Leg1Container, ArrayList&lt;Integer&gt; set4Leg2Container, ArrayList&lt;Integer&gt; set4Leg3Container, ArrayList&lt;Integer&gt; set4Leg4Container, ArrayList&lt;Integer&gt; set4Leg5Container};\r\nArrayList&lt;ArrayList&lt;Integer&gt;&gt; set5Container = {ArrayList&lt;Integer&gt; set5Leg1Container, ArrayList&lt;Integer&gt; set5Leg2Container, ArrayList&lt;Integer&gt; set5Leg3Container, ArrayList&lt;Integer&gt; set5Leg4Container, ArrayList&lt;Integer&gt; set5Leg5Container};\r\n\r\nArrayList&lt;Integer&gt; set1Leg1Container = {0, 1}; ArrayList&lt;Integer&gt; set1Leg2Container = {1, 0}; ArrayList&lt;Integer&gt; set1Leg3Container = {0, 1}; ArrayList&lt;Integer&gt; set1Leg4Container = {1, 0}; ArrayList&lt;Integer&gt; set1Leg5Container = {0, 1};\r\nArrayList&lt;Integer&gt; set2Leg1Container = {1, 0}; ArrayList&lt;Integer&gt; set2Leg2Container = {0, 1}; ArrayList&lt;Integer&gt; set2Leg3Container = {1, 0}; ArrayList&lt;Integer&gt; set2Leg4Container = {0, 1}; ArrayList&lt;Integer&gt; set2Leg5Container = {1, 0};\r\nArrayList&lt;Integer&gt; set3Leg1Container = {0, 1}; ArrayList&lt;Integer&gt; set3Leg2Container = {1, 0}; ArrayList&lt;Integer&gt; set3Leg3Container = {0, 1}; ArrayList&lt;Integer&gt; set3Leg4Container = {1, 0}; ArrayList&lt;Integer&gt; set3Leg5Container = {0, 1};\r\nArrayList&lt;Integer&gt; set4Leg1Container = {1, 0}; ArrayList&lt;Integer&gt; set4Leg2Container = {0, 1}; ArrayList&lt;Integer&gt; set4Leg3Container = {1, 0}; ArrayList&lt;Integer&gt; set4Leg4Container = {0, 1}; ArrayList&lt;Integer&gt; set4Leg5Container = {1, 0};\r\nArrayList&lt;Integer&gt; set5Leg1Container = {0, 1}; ArrayList&lt;Integer&gt; set5Leg2Container = {1, 0}; ArrayList&lt;Integer&gt; set5Leg3Container = {0, 1}; ArrayList&lt;Integer&gt; set5Leg4Container = {1, 0}; ArrayList&lt;Integer&gt; set5Leg5Container = {0, 1};\r\n```\r\n\r\nSo basically, the integer values in the leg containers should shift one position to the right for each leg. And the indexes of the first leg containers also always shift one element to the right in comparison to the last first leg container as seen above.\r\n\r\nHow do I automate that process? Probably with nested for loops, but I was not able to get it done. Or is there an easier process to achieve what I want?\r\nI hope I explained it good enough so everyone understands what I exactly mean.","title":"Creating nested ArrayLists with nested for loops for my Android app","body":"<p>I want to create player orders for my darts app, but I can't make it work.</p>\n<p>Following variables exist:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int setsAmount;\nint legsAmount;\nint playerAmount = getMatchParticipants().size();\n</code></pre>\n<p>setsAmount and legsAmount variables are initialized by user input in editTexts.\nsetsAmount is the amount of sets a player needs to win the match. legsAmount is the amount of legs a player needs to win a set.</p>\n<p>Let's assume the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>setsAmount = 3;\nlegsAmount = 3;\nplayerAmount = 2;\n</code></pre>\n<p>I want to generate player orders for each possible set and leg. Therefore I need to define more variables.\nI need to calculate the amount of legs and sets that can be played at most because I want to generate the player order represented by\ninteger indexes for each set and leg.</p>\n<p>The extra variables are the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>maximumSetsAmountPerMatch = playerAmount * (setsAmount - 1) + 1; // in our case = 5\nmaximumLegsPerSet = playerAmount * (legsAmount - 1) + 1; // in our case = 5\n</code></pre>\n<p>Using all these variables, I want to create ArrayLists that contains the player order for each set/leg.\nArrayList rootContainer should contain five setContainer ArrayLists (one per maximumSetsAmountPerMatch). Each of those setContainer ArrayLists should contain another five legContainer ArrayLists (one per maximumLegsPerSet).\nEach of those legContainer ArrayLists should contain two Integer values (one per player).</p>\n<p>The end result should look like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;ArrayList&lt;ArrayList&lt;Integer&gt;&gt;&gt; rootContainer = {ArrayList&lt;ArrayList&lt;Integer&gt;&gt; set1Container, ArrayList&lt;ArrayList&lt;Integer&gt;&gt; set2Container, ArrayList&lt;ArrayList&lt;Integer&gt;&gt; set3Container, ArrayList&lt;ArrayList&lt;Integer&gt;&gt; set4Container, ArrayList&lt;ArrayList&lt;Integer&gt;&gt; set5Container};\n\nArrayList&lt;ArrayList&lt;Integer&gt;&gt; set1Container = {ArrayList&lt;Integer&gt; set1Leg1Container, ArrayList&lt;Integer&gt; set1Leg2Container, ArrayList&lt;Integer&gt; set1Leg3Container, ArrayList&lt;Integer&gt; set1Leg4Container, ArrayList&lt;Integer&gt; set1Leg5Container};\nArrayList&lt;ArrayList&lt;Integer&gt;&gt; set2Container = {ArrayList&lt;Integer&gt; set2Leg1Container, ArrayList&lt;Integer&gt; set2Leg2Container, ArrayList&lt;Integer&gt; set2Leg3Container, ArrayList&lt;Integer&gt; set2Leg4Container, ArrayList&lt;Integer&gt; set2Leg5Container};\nArrayList&lt;ArrayList&lt;Integer&gt;&gt; set3Container = {ArrayList&lt;Integer&gt; set3Leg1Container, ArrayList&lt;Integer&gt; set3Leg2Container, ArrayList&lt;Integer&gt; set3Leg3Container, ArrayList&lt;Integer&gt; set3Leg4Container, ArrayList&lt;Integer&gt; set3Leg5Container};\nArrayList&lt;ArrayList&lt;Integer&gt;&gt; set4Container = {ArrayList&lt;Integer&gt; set4Leg1Container, ArrayList&lt;Integer&gt; set4Leg2Container, ArrayList&lt;Integer&gt; set4Leg3Container, ArrayList&lt;Integer&gt; set4Leg4Container, ArrayList&lt;Integer&gt; set4Leg5Container};\nArrayList&lt;ArrayList&lt;Integer&gt;&gt; set5Container = {ArrayList&lt;Integer&gt; set5Leg1Container, ArrayList&lt;Integer&gt; set5Leg2Container, ArrayList&lt;Integer&gt; set5Leg3Container, ArrayList&lt;Integer&gt; set5Leg4Container, ArrayList&lt;Integer&gt; set5Leg5Container};\n\nArrayList&lt;Integer&gt; set1Leg1Container = {0, 1}; ArrayList&lt;Integer&gt; set1Leg2Container = {1, 0}; ArrayList&lt;Integer&gt; set1Leg3Container = {0, 1}; ArrayList&lt;Integer&gt; set1Leg4Container = {1, 0}; ArrayList&lt;Integer&gt; set1Leg5Container = {0, 1};\nArrayList&lt;Integer&gt; set2Leg1Container = {1, 0}; ArrayList&lt;Integer&gt; set2Leg2Container = {0, 1}; ArrayList&lt;Integer&gt; set2Leg3Container = {1, 0}; ArrayList&lt;Integer&gt; set2Leg4Container = {0, 1}; ArrayList&lt;Integer&gt; set2Leg5Container = {1, 0};\nArrayList&lt;Integer&gt; set3Leg1Container = {0, 1}; ArrayList&lt;Integer&gt; set3Leg2Container = {1, 0}; ArrayList&lt;Integer&gt; set3Leg3Container = {0, 1}; ArrayList&lt;Integer&gt; set3Leg4Container = {1, 0}; ArrayList&lt;Integer&gt; set3Leg5Container = {0, 1};\nArrayList&lt;Integer&gt; set4Leg1Container = {1, 0}; ArrayList&lt;Integer&gt; set4Leg2Container = {0, 1}; ArrayList&lt;Integer&gt; set4Leg3Container = {1, 0}; ArrayList&lt;Integer&gt; set4Leg4Container = {0, 1}; ArrayList&lt;Integer&gt; set4Leg5Container = {1, 0};\nArrayList&lt;Integer&gt; set5Leg1Container = {0, 1}; ArrayList&lt;Integer&gt; set5Leg2Container = {1, 0}; ArrayList&lt;Integer&gt; set5Leg3Container = {0, 1}; ArrayList&lt;Integer&gt; set5Leg4Container = {1, 0}; ArrayList&lt;Integer&gt; set5Leg5Container = {0, 1};\n</code></pre>\n<p>So basically, the integer values in the leg containers should shift one position to the right for each leg. And the indexes of the first leg containers also always shift one element to the right in comparison to the last first leg container as seen above.</p>\n<p>How do I automate that process? Probably with nested for loops, but I was not able to get it done. Or is there an easier process to achieve what I want?\nI hope I explained it good enough so everyone understands what I exactly mean.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3579301,"reputation":936,"user_id":2987882,"accept_rate":91,"display_name":"AI."},"score":1,"creation_date":1559456421,"post_id":56412635,"comment_id":99422007,"body_markdown":"where you call display method?","body":"where you call display method?"}],"answers":[{"tags":[],"owner":{"account_id":3579301,"reputation":936,"user_id":2987882,"accept_rate":91,"display_name":"AI."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1559616761,"creation_date":1559456507,"answer_id":56412658,"question_id":56412635,"body_markdown":"When you click the button, increase the value of `a`. Then pass the `a` to display method. Finally display the value to `textView`.\r\n\r\n      public class MainActivity extends AppCompatActivity {\r\n            Button btn;\r\n            TextView txt;\r\n        \r\n            protected int a = 1;\r\n        \r\n            @Override\r\n            protected void onCreate(Bundle savedInstanceState) {\r\n                super.onCreate(savedInstanceState);\r\n                setContentView(R.layout.activity_main);\r\n        \r\n                btn = (Button) findViewById(R.id.button);\r\n                txt = (TextView) findViewById(R.id.textView);\r\n        \r\n                btn.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                       a++;\r\n                       display(a);\r\n                    }\r\n                });\r\n        \r\n            }\r\n        \r\n            public void display(int n) {\r\n                txt.setText(&quot;&quot; + n);\r\n                //txt.setText(n);\r\n            }\r\n    }","title":"How to increase value of a number on button press?","body":"<p>When you click the button, increase the value of <code>a</code>. Then pass the <code>a</code> to display method. Finally display the value to <code>textView</code>.</p>\n\n<pre><code>  public class MainActivity extends AppCompatActivity {\n        Button btn;\n        TextView txt;\n\n        protected int a = 1;\n\n        @Override\n        protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_main);\n\n            btn = (Button) findViewById(R.id.button);\n            txt = (TextView) findViewById(R.id.textView);\n\n            btn.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                   a++;\n                   display(a);\n                }\n            });\n\n        }\n\n        public void display(int n) {\n            txt.setText(\"\" + n);\n            //txt.setText(n);\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15588134,"reputation":1,"user_id":11246017,"display_name":"Naresh Chocha"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1654244357,"creation_date":1559457865,"answer_id":56412762,"question_id":56412635,"body_markdown":"When you click the on the button, increase the value of a and display to the textView\r\n \r\n   \r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n        Button btn;\r\n        TextView txt;\r\n        protected int a = 1;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            btn = (Button) findViewById(R.id.button);\r\n            txt = (TextView) findViewById(R.id.textView);\r\n    \r\n            btn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    a++;\r\n                    txt.setText(a + &quot;&quot;);\r\n                }\r\n            });\r\n        }\r\n    }","title":"How to increase value of a number on button press?","body":"<p>When you click the on the button, increase the value of a and display to the textView</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    Button btn;\n    TextView txt;\n    protected int a = 1;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        btn = (Button) findViewById(R.id.button);\n        txt = (TextView) findViewById(R.id.textView);\n\n        btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                a++;\n                txt.setText(a + &quot;&quot;);\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7247949,"reputation":4924,"user_id":5529263,"display_name":"Boken"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559458051,"creation_date":1559458051,"answer_id":56412772,"question_id":56412635,"body_markdown":"You have to increment your counter and set new text\r\n```\r\nimport android.support.v7.app.AppCompatActivity;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    Button btn;\r\n    TextView txt;\r\n\r\n    protected int a = 1;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        btn = (Button) findViewById(R.id.button);\r\n        txt = (TextView) findViewById(R.id.textView);\r\n\r\n        btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                txt.setText(String.valueOf(++a));\r\n            }\r\n        });\r\n    }\r\n}\r\n```","title":"How to increase value of a number on button press?","body":"<p>You have to increment your counter and set new text</p>\n\n<pre><code>import android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\n\npublic class MainActivity extends AppCompatActivity {\n    Button btn;\n    TextView txt;\n\n    protected int a = 1;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        btn = (Button) findViewById(R.id.button);\n        txt = (TextView) findViewById(R.id.textView);\n\n        btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                txt.setText(String.valueOf(++a));\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9668835,"reputation":31,"user_id":7174521,"display_name":"SYVY_UA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559477044,"creation_date":1559471649,"answer_id":56414243,"question_id":56412635,"body_markdown":"   if I am not mistake, we can not call `onClickListener in some method.\r\nIn any case, change the code in your button to the next one and it should work.\r\n\r\n    int a = 0;\r\n    \r\n    btn.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View v) {\r\n            a = a + 1;\r\n            txt.setText(a);\r\n        }\r\n    });\r\nin this case, that code helps. becose it increases value a on 1, all time when we click on the button. ","title":"How to increase value of a number on button press?","body":"<p>if I am not mistake, we can not call `onClickListener in some method.\nIn any case, change the code in your button to the next one and it should work.</p>\n\n<pre><code>int a = 0;\n\nbtn.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        a = a + 1;\n        txt.setText(a);\n    }\n});\n</code></pre>\n\n<p>in this case, that code helps. becose it increases value a on 1, all time when we click on the button. </p>\n"}],"owner":{"account_id":15979444,"reputation":27,"user_id":11531445,"display_name":"the_first_Airbender"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1392,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":56412658,"answer_count":4,"score":-1,"last_activity_date":1654244357,"creation_date":1559456194,"question_id":56412635,"body_markdown":"I am trying to create an app to increase the value of a number on screen to the next number when the button is pressed. It is not working. I have given my Java and XML code below.\r\n\r\n\r\nXML code:\r\n```\r\n&lt;Button\r\n        android:id=&quot;@+id/button&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;250dp&quot;\r\n        android:text=&quot;+&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;50dp&quot;\r\n        android:paddingLeft=&quot;200dp&quot;\r\n        android:textSize=&quot;25sp&quot;\r\n        android:text=&quot;0&quot; /&gt;\r\n```\r\nJava code:\r\n```\r\nimport android.support.v7.app.AppCompatActivity;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    Button btn;\r\n    TextView txt;\r\n\r\n    protected int a = 1;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        btn = (Button) findViewById(R.id.button);\r\n        txt = (TextView) findViewById(R.id.textView);\r\n\r\n    }\r\n\r\n    public void display(final int n) {\r\n        btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                txt.setText(n);\r\n            }\r\n        });\r\n    }\r\n\r\n    public void increment(View view) {\r\n        a = a + 1;\r\n        display(a);\r\n    }\r\n}\r\n```\r\n\r\n\r\nThe button  is unreactive.","title":"How to increase value of a number on button press?","body":"<p>I am trying to create an app to increase the value of a number on screen to the next number when the button is pressed. It is not working. I have given my Java and XML code below.</p>\n\n<p>XML code:</p>\n\n<pre><code>&lt;Button\n        android:id=\"@+id/button\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"250dp\"\n        android:text=\"+\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/textView\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"50dp\"\n        android:paddingLeft=\"200dp\"\n        android:textSize=\"25sp\"\n        android:text=\"0\" /&gt;\n</code></pre>\n\n<p>Java code:</p>\n\n<pre><code>import android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\n\npublic class MainActivity extends AppCompatActivity {\n    Button btn;\n    TextView txt;\n\n    protected int a = 1;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        btn = (Button) findViewById(R.id.button);\n        txt = (TextView) findViewById(R.id.textView);\n\n    }\n\n    public void display(final int n) {\n        btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                txt.setText(n);\n            }\n        });\n    }\n\n    public void increment(View view) {\n        a = a + 1;\n        display(a);\n    }\n}\n</code></pre>\n\n<p>The button  is unreactive.</p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":14843739,"reputation":305,"user_id":10908910,"display_name":"Dylan"},"score":2,"creation_date":1548211265,"post_id":54319265,"comment_id":95458178,"body_markdown":"I believe `of()` is a method they have implemented? We would not be able to tell you the difference unless you provided code for that method.","body":"I believe <code>of()</code> is a method they have implemented? We would not be able to tell you the difference unless you provided code for that method."},{"owner":{"account_id":1031279,"reputation":7717,"user_id":1039555,"accept_rate":56,"display_name":"Kartik"},"score":0,"creation_date":1548211395,"post_id":54319265,"comment_id":95458207,"body_markdown":"@Dylan yeah it&#39;s a static factory method.. like in the `List` class you have `static &lt;E&gt; List&lt;E&gt; of(E e1)`","body":"@Dylan yeah it&#39;s a static factory method.. like in the <code>List</code> class you have <code>static &lt;E&gt; List&lt;E&gt; of(E e1)</code>"},{"owner":{"account_id":7421518,"reputation":861,"user_id":5645646,"accept_rate":17,"display_name":"Spring"},"score":0,"creation_date":1548211480,"post_id":54319265,"comment_id":95458226,"body_markdown":"@Dylan, I&#39;ve already edited it. Thank you!","body":"@Dylan, I&#39;ve already edited it. Thank you!"},{"owner":{"account_id":14843739,"reputation":305,"user_id":10908910,"display_name":"Dylan"},"score":0,"creation_date":1548211496,"post_id":54319265,"comment_id":95458229,"body_markdown":"@Kartik My bad, so it supports initiating the List with items passed to of()?","body":"@Kartik My bad, so it supports initiating the List with items passed to of()?"},{"owner":{"account_id":14843739,"reputation":305,"user_id":10908910,"display_name":"Dylan"},"score":0,"creation_date":1548211618,"post_id":54319265,"comment_id":95458242,"body_markdown":"From the code @BunthaiDeng provided I see no difference","body":"From the code @BunthaiDeng provided I see no difference"},{"owner":{"account_id":1031279,"reputation":7717,"user_id":1039555,"accept_rate":56,"display_name":"Kartik"},"score":3,"creation_date":1548211676,"post_id":54319265,"comment_id":95458250,"body_markdown":"I think it&#39;s a design pattern going on these days to make the code more functional and readable.","body":"I think it&#39;s a design pattern going on these days to make the code more functional and readable."},{"owner":{"account_id":7421518,"reputation":861,"user_id":5645646,"accept_rate":17,"display_name":"Spring"},"score":0,"creation_date":1548211775,"post_id":54319265,"comment_id":95458269,"body_markdown":"@Dylan, this is the reason I am wondering too,","body":"@Dylan, this is the reason I am wondering too,"},{"owner":{"account_id":14843739,"reputation":305,"user_id":10908910,"display_name":"Dylan"},"score":2,"creation_date":1548211809,"post_id":54319265,"comment_id":95458279,"body_markdown":"@BunthaiDeng Read the answer below I think it explains pretty well. I learnt something!","body":"@BunthaiDeng Read the answer below I think it explains pretty well. I learnt something!"},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1548211982,"post_id":54319265,"comment_id":95458314,"body_markdown":"I would shoot whoever wrote that abomination...","body":"I would shoot whoever wrote that abomination..."},{"owner":{"account_id":7421518,"reputation":861,"user_id":5645646,"accept_rate":17,"display_name":"Spring"},"score":0,"creation_date":1548212136,"post_id":54319265,"comment_id":95458345,"body_markdown":"@paulsm4, What is wrong? It&#39;s just an example.","body":"@paulsm4, What is wrong? It&#39;s just an example."},{"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"score":0,"creation_date":1579001915,"post_id":54319265,"comment_id":105614850,"body_markdown":"`of` is most likely a static constructor that does the `new` for you","body":"<code>of</code> is most likely a static constructor that does the <code>new</code> for you"}],"answers":[{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1548211977,"creation_date":1548211651,"answer_id":54319348,"question_id":54319265,"body_markdown":"Over time, it has become clear that, since you don&#39;t name parameters on the call, it is difficult to create objects using various methods, if the optional values are of the same type.\r\n\r\nOne (fairly dumb) example would be a `Person` class, which might allow specifying just the first name or the last name. In that case, the following constructors wouldn&#39;t work:\r\n\r\n    Person(String firstName, String lastName)\r\n\r\n    Person(String firstName)\r\n\r\n    Person(String lastName)\r\n\r\nThe first one is fine, but the other two are in conflict, and it cannot be resolved, because you cannot name the constructor or the parameter.\r\n\r\nUsing static factory methods allows naming the methods where necessary:\r\n\r\n    Person of(String firstName, String lastName)\r\n\r\n    Person ofFirstName(String firstName)\r\n\r\n    Person ofLastName(String lastName)\r\n\r\nThe general `of` is used when you don&#39;t need to name it. It can still be overloaded in the same manner constructors could be overloaded, e.g. you might also have:\r\n\r\n    Person of(String firstName, String lastName, int age)\r\n\r\n---\r\n\r\nAlthough not used as often for classes, a factory method might also return a subclass, if deemed necessary.\r\n\r\nFor interfaces, a factory method like that is a nice convenience for instantiating an object implementing the interface, instead of having the factory method in a different class.\r\n\r\nPrior to interface static method, the JDK implemented `Arrays.asList(...)` for creating a list of explicitly given objects. With the introduction of interface static methods to the language, that method is now (also) implemented on the `List` interface itself as `List.of(...)`.\r\n\r\nIn addition, they also added convenience methods for `Set.of(...)` and `Map.of(...)`.","title":"Create object using of vs new","body":"<p>Over time, it has become clear that, since you don't name parameters on the call, it is difficult to create objects using various methods, if the optional values are of the same type.</p>\n\n<p>One (fairly dumb) example would be a <code>Person</code> class, which might allow specifying just the first name or the last name. In that case, the following constructors wouldn't work:</p>\n\n<pre><code>Person(String firstName, String lastName)\n\nPerson(String firstName)\n\nPerson(String lastName)\n</code></pre>\n\n<p>The first one is fine, but the other two are in conflict, and it cannot be resolved, because you cannot name the constructor or the parameter.</p>\n\n<p>Using static factory methods allows naming the methods where necessary:</p>\n\n<pre><code>Person of(String firstName, String lastName)\n\nPerson ofFirstName(String firstName)\n\nPerson ofLastName(String lastName)\n</code></pre>\n\n<p>The general <code>of</code> is used when you don't need to name it. It can still be overloaded in the same manner constructors could be overloaded, e.g. you might also have:</p>\n\n<pre><code>Person of(String firstName, String lastName, int age)\n</code></pre>\n\n<hr>\n\n<p>Although not used as often for classes, a factory method might also return a subclass, if deemed necessary.</p>\n\n<p>For interfaces, a factory method like that is a nice convenience for instantiating an object implementing the interface, instead of having the factory method in a different class.</p>\n\n<p>Prior to interface static method, the JDK implemented <code>Arrays.asList(...)</code> for creating a list of explicitly given objects. With the introduction of interface static methods to the language, that method is now (also) implemented on the <code>List</code> interface itself as <code>List.of(...)</code>.</p>\n\n<p>In addition, they also added convenience methods for <code>Set.of(...)</code> and <code>Map.of(...)</code>.</p>\n"},{"tags":[],"owner":{"account_id":12316993,"reputation":59,"user_id":8987078,"display_name":"Aytug"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578994571,"creation_date":1578994571,"answer_id":59730967,"question_id":54319265,"body_markdown":"I think they want the chain to look better in some sense. I can&#39;t think of any other explanation why you would want to couple your classes to another constructor method.\r\n\r\nSo instead of,\r\n\r\n    someChain.thenApply(i -&gt; new A().setVar1(var1).setVar2(var2).someMethod());\r\nyou can do,\r\n\r\n    someChain.thenApply(i -&gt; A.of().setVar1(var1).setVar2(var2).someMethod());\r\nthey maybe thinking the second one looks better.","title":"Create object using of vs new","body":"<p>I think they want the chain to look better in some sense. I can't think of any other explanation why you would want to couple your classes to another constructor method.</p>\n\n<p>So instead of,</p>\n\n<pre><code>someChain.thenApply(i -&gt; new A().setVar1(var1).setVar2(var2).someMethod());\n</code></pre>\n\n<p>you can do,</p>\n\n<pre><code>someChain.thenApply(i -&gt; A.of().setVar1(var1).setVar2(var2).someMethod());\n</code></pre>\n\n<p>they maybe thinking the second one looks better.</p>\n"}],"owner":{"account_id":7421518,"reputation":861,"user_id":5645646,"accept_rate":17,"display_name":"Spring"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":448,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":54319348,"answer_count":2,"score":2,"last_activity_date":1654244195,"creation_date":1548211057,"question_id":54319265,"body_markdown":"During implementing my task, I saw other developers, they create a class using `@AllArgsConstructor(access = AccessLevel.PRIVATE)` which made the class constructor private. Then, they create an object using `of` instead.\r\n&lt;br&gt;\r\nWhat is the difference between create using `new` and `of`?\r\n\r\n    A a = new A();\r\n    A a =  A.of();\r\n\r\n\r\n&lt;br&gt;\r\n\r\n    @AllArgsConstructor(access = AccessLevel.PRIVATE)\r\n    @EqualsAndHashCode\r\n    public class A\r\n    {\r\n        @NonNull\r\n        String data;\r\n        \r\n        public static A of() \r\n        {\r\n        \treturn new A();\r\n        }\r\n        \r\n     }\r\n    \r\n\r\n","title":"Create object using of vs new","body":"<p>During implementing my task, I saw other developers, they create a class using <code>@AllArgsConstructor(access = AccessLevel.PRIVATE)</code> which made the class constructor private. Then, they create an object using <code>of</code> instead.\n<br>\nWhat is the difference between create using <code>new</code> and <code>of</code>?</p>\n\n<pre><code>A a = new A();\nA a =  A.of();\n</code></pre>\n\n<p><br></p>\n\n<pre><code>@AllArgsConstructor(access = AccessLevel.PRIVATE)\n@EqualsAndHashCode\npublic class A\n{\n    @NonNull\n    String data;\n\n    public static A of() \n    {\n        return new A();\n    }\n\n }\n</code></pre>\n"},{"tags":["java","maven","groovy"],"comments":[{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":2,"creation_date":1653070449,"post_id":72322392,"comment_id":127769915,"body_markdown":"Do you have anything in the maven build that is configured to create a standalone fat jar?  By default, the jar that is created should not include its dependencies.","body":"Do you have anything in the maven build that is configured to create a standalone fat jar?  By default, the jar that is created should not include its dependencies."},{"owner":{"account_id":4086750,"reputation":2070,"user_id":3355860,"display_name":"ou_ryperd"},"score":0,"creation_date":1653136519,"post_id":72322392,"comment_id":127780394,"body_markdown":"The groovy-all jar was deprecated in 2.4. From 2.5 Groovy consists of multiple jar files.","body":"The groovy-all jar was deprecated in 2.4. From 2.5 Groovy consists of multiple jar files."}],"owner":{"account_id":25345134,"reputation":1,"user_id":19162950,"display_name":"Achmad Naufal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654244161,"creation_date":1653065809,"question_id":72322392,"body_markdown":"I am trying to create a simple project where I use maven to manage dependencies and using groovy as the main script.\r\n\r\nI&#39;ve included all the necessary libraries to run the groovy script\r\n\r\nhere is my pom.xml\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n&lt;project\r\n  xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;\r\n&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;com.randomperson.hello&lt;/groupId&gt;\r\n  &lt;artifactId&gt;TryMaven&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n  &lt;name&gt;TryMaven&lt;/name&gt;\r\n  &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n   &lt;dependency&gt;\r\n      &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n      &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\r\n      &lt;version&gt;2.5.7&lt;/version&gt;\r\n      &lt;type&gt;pom&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.11&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;pluginManagement\r\n    &gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n      &lt;plugins&gt;\r\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.22.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n          &lt;archive&gt;\r\n            &lt;manifest&gt;\r\n              &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n              &lt;mainClass&gt;com.randomperson.hello.App&lt;/mainClass&gt;\r\n            &lt;/manifest&gt;\r\n          &lt;/archive&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.5.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.8.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.7.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;compilerId&gt;groovy-eclipse-compiler&lt;/compilerId&gt;\r\n\t\t\t\t\t&lt;verbose&gt;true&lt;/verbose&gt;\r\n\t\t\t\t\t&lt;source&gt;11&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;11&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;groovy-eclipse-compiler&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;3.7.0&lt;/version&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;groovy-eclipse-batch&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.8-01&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n\t\t\t\t&lt;/dependencies&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nwhen i install using `mvn clean install` the build is successful but when i tried to execute the .jar file using `java -jar file.jar` it gives this error\r\n\r\n```\r\nError: Could not find or load main class com.randomperson.hello.App\r\nCaused by: java.lang.NoClassDefFoundError: groovy/lang/GroovyObject\r\n```\r\n\r\nI am not quite sure how groovy work with maven but it seems that it does not include the groovy library specifically the groovy-all which is declared in dependencies.\r\n\r\nI am using OpenJDK11 &amp; Groovy 4.0.2\r\n\r\nam I missing something?\r\n\r\nThank you in advance.","title":"groovy-all is not Included When Installing with Maven","body":"<p>I am trying to create a simple project where I use maven to manage dependencies and using groovy as the main script.</p>\n<p>I've included all the necessary libraries to run the groovy script</p>\n<p>here is my pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;project\n  xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;\n&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.randomperson.hello&lt;/groupId&gt;\n  &lt;artifactId&gt;TryMaven&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n  &lt;name&gt;TryMaven&lt;/name&gt;\n  &lt;!-- FIXME change it to the project's website --&gt;\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n   &lt;dependency&gt;\n      &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n      &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\n      &lt;version&gt;2.5.7&lt;/version&gt;\n      &lt;type&gt;pom&lt;/type&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.11&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;pluginManagement\n    &gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n      &lt;plugins&gt;\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.22.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n          &lt;configuration&gt;\n          &lt;archive&gt;\n            &lt;manifest&gt;\n              &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n              &lt;mainClass&gt;com.randomperson.hello.App&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n          &lt;/archive&gt;\n        &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.7.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;compilerId&gt;groovy-eclipse-compiler&lt;/compilerId&gt;\n                    &lt;verbose&gt;true&lt;/verbose&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n                        &lt;artifactId&gt;groovy-eclipse-compiler&lt;/artifactId&gt;\n                        &lt;version&gt;3.7.0&lt;/version&gt;\n                    &lt;/dependency&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n            &lt;artifactId&gt;groovy-eclipse-batch&lt;/artifactId&gt;\n            &lt;version&gt;3.0.8-01&lt;/version&gt;\n          &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>when i install using <code>mvn clean install</code> the build is successful but when i tried to execute the .jar file using <code>java -jar file.jar</code> it gives this error</p>\n<pre><code>Error: Could not find or load main class com.randomperson.hello.App\nCaused by: java.lang.NoClassDefFoundError: groovy/lang/GroovyObject\n</code></pre>\n<p>I am not quite sure how groovy work with maven but it seems that it does not include the groovy library specifically the groovy-all which is declared in dependencies.</p>\n<p>I am using OpenJDK11 &amp; Groovy 4.0.2</p>\n<p>am I missing something?</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1654244308,"post_id":72486645,"comment_id":128049462,"body_markdown":"Who is sending that request? Because it sounds like an encoding problem. Either your server  or the caller is not running on the correct encoding (probably just UTF-8).","body":"Who is sending that request? Because it sounds like an encoding problem. Either your server  or the caller is not running on the correct encoding (probably just UTF-8)."},{"owner":{"account_id":20944480,"reputation":13,"user_id":15421613,"display_name":"Seventh Donkey"},"score":0,"creation_date":1654244405,"post_id":72486645,"comment_id":128049483,"body_markdown":"Oh, i forgot. In IntellijIdea all works perfect. But when i build application in war and deploy on server, I see this problem","body":"Oh, i forgot. In IntellijIdea all works perfect. But when i build application in war and deploy on server, I see this problem"},{"owner":{"account_id":20944480,"reputation":13,"user_id":15421613,"display_name":"Seventh Donkey"},"score":0,"creation_date":1654244440,"post_id":72486645,"comment_id":128049495,"body_markdown":"@Lino i send requests in Postman","body":"@Lino i send requests in Postman"},{"owner":{"account_id":15769302,"reputation":740,"user_id":11378797,"display_name":"Nitika Bansal"},"score":0,"creation_date":1654245277,"post_id":72486645,"comment_id":128049744,"body_markdown":"@SeventhDonkey encode above russian words in hexadecimal format and then send in searchString, you will get correct output","body":"@SeventhDonkey encode above russian words in hexadecimal format and then send in searchString, you will get correct output"},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan lleez"},"score":0,"creation_date":1654245963,"post_id":72486645,"comment_id":128049968,"body_markdown":"What is the default encoding your environment? If it is not UTF-8 then you need to set it to UTF-8","body":"What is the default encoding your environment? If it is not UTF-8 then you need to set it to UTF-8"},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan lleez"},"score":0,"creation_date":1654246013,"post_id":72486645,"comment_id":128049982,"body_markdown":"https://stackoverflow.com/questions/1006276/what-is-the-default-encoding-of-the-jvm","body":"<a href=\"https://stackoverflow.com/questions/1006276/what-is-the-default-encoding-of-the-jvm\" title=\"what is the default encoding of the jvm\">stackoverflow.com/questions/1006276/&hellip;</a>"}],"owner":{"account_id":20944480,"reputation":13,"user_id":15421613,"display_name":"Seventh Donkey"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654244130,"creation_date":1654244130,"question_id":72486645,"body_markdown":"I have a problem with encoding request param in Spring. I have a GetMapping:\r\n\r\n    public DTO getAll(@RequestParam final Long pageSize,\r\n                      @RequestParam(required = false) final String searchString,\r\n                      @RequestParam final Long pageNumber) {\r\n        log.debug(&quot;Search text is: {}&quot;, searchString);\r\n    }\r\n\r\nWhen I write numbers or english symbols in searchString, it works correct, but when I write, for example, russian words, i get this\r\n\r\n&gt; Search text is: &#208;&#186;&#208;&#176;&#208;&#183;&#208;&#176;&#208;&#189;&#209;&#208;&#186;&#208;&#185;\r\n\r\nCan anybody help?","title":"Problem with RequestParam string encoding","body":"<p>I have a problem with encoding request param in Spring. I have a GetMapping:</p>\n<pre><code>public DTO getAll(@RequestParam final Long pageSize,\n                  @RequestParam(required = false) final String searchString,\n                  @RequestParam final Long pageNumber) {\n    log.debug(&quot;Search text is: {}&quot;, searchString);\n}\n</code></pre>\n<p>When I write numbers or english symbols in searchString, it works correct, but when I write, for example, russian words, i get this</p>\n<blockquote>\n<p>Search text is: </p>\n</blockquote>\n<p>Can anybody help?</p>\n"},{"tags":["java","angular","spring-boot","tomcat9"],"comments":[{"owner":{"account_id":14008000,"reputation":259,"user_id":10117515,"display_name":"Supritam"},"score":0,"creation_date":1654241026,"post_id":72486029,"comment_id":128048537,"body_markdown":"What is the context root of your backend- Spring Boot app?","body":"What is the context root of your backend- Spring Boot app?"},{"owner":{"account_id":25296580,"reputation":2100,"user_id":19121623,"display_name":"Eskandar Abedini"},"score":0,"creation_date":1654241515,"post_id":72486029,"comment_id":128048686,"body_markdown":"Please take a look at this answer, [Deploy WAR file on Tomcat of Spring boot and Angular App](https://stackoverflow.com/questions/64331552/deploy-war-file-on-tomcat-of-spring-boot-and-angular-app)","body":"Please take a look at this answer, <a href=\"https://stackoverflow.com/questions/64331552/deploy-war-file-on-tomcat-of-spring-boot-and-angular-app\">Deploy WAR file on Tomcat of Spring boot and Angular App</a>"}],"answers":[{"tags":[],"owner":{"account_id":24527925,"reputation":129,"user_id":18440149,"display_name":"Abdelkader Chhaibi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654244114,"creation_date":1654244114,"answer_id":72486643,"question_id":72486029,"body_markdown":"you must add a controller to your spring app\r\n\r\n    @Controller\r\n    public class RouteToAngular implements ErrorController {\r\n\r\n    @RequestMapping(&quot;/error&quot;)\r\n    public String handleError() {\r\n        return &quot;/&quot;;\r\n    }\r\n \r\n\r\n    public String getErrorPath() {\r\n        return &quot;/error&quot;;\r\n    }\r\n    }\r\nyour index.html in your Angular  add `&lt;base href=&quot;/&quot;&gt;` in the head\r\n\r\n    &lt;!doctype html&gt;\r\n     &lt;html lang=&quot;en&quot;&gt;\r\n      &lt;head&gt;\r\n          &lt;meta charset=&quot;utf-8&quot;&gt;\r\n           &lt;title&gt;App title&lt;/title&gt;\r\n           &lt;base href=&quot;/&quot;&gt;\r\n          &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\r\n          &lt;link rel=&quot;icon&quot; type=&quot;image/x-icon&quot; href=&quot;favicon.ico&quot;&gt;\r\n          &lt;/head&gt;\r\n         &lt;body&gt;\r\n        &lt;app-root&gt;&lt;/app-root&gt;\r\n          &lt;/body&gt;\r\n    &lt;/html&gt;\r\n","title":"Spring boot and angular app, issue in deploying war file in tomcat container","body":"<p>you must add a controller to your spring app</p>\n<pre><code>@Controller\npublic class RouteToAngular implements ErrorController {\n\n@RequestMapping(&quot;/error&quot;)\npublic String handleError() {\n    return &quot;/&quot;;\n}\n\n\npublic String getErrorPath() {\n    return &quot;/error&quot;;\n}\n}\n</code></pre>\n<p>your index.html in your Angular  add <code>&lt;base href=&quot;/&quot;&gt;</code> in the head</p>\n<pre><code>&lt;!doctype html&gt;\n &lt;html lang=&quot;en&quot;&gt;\n  &lt;head&gt;\n      &lt;meta charset=&quot;utf-8&quot;&gt;\n       &lt;title&gt;App title&lt;/title&gt;\n       &lt;base href=&quot;/&quot;&gt;\n      &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\n      &lt;link rel=&quot;icon&quot; type=&quot;image/x-icon&quot; href=&quot;favicon.ico&quot;&gt;\n      &lt;/head&gt;\n     &lt;body&gt;\n    &lt;app-root&gt;&lt;/app-root&gt;\n      &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}],"owner":{"account_id":10915278,"reputation":96,"user_id":8023282,"display_name":"Chitrajan Dhiman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":545,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654244114,"creation_date":1654240786,"question_id":72486029,"body_markdown":"I have an application in Spring boot 2.6.6 and Angular 6.1.0. I am trying to deploy both apps in a single war. Application is running fine with context path if running as spring boot app in eclipse and Angular app separately. But if I run in tomcat (9.0.30) application is not loading. For URL localhost:8080/Demo/#/login , I am getting some JSON content on browser screen. \r\n```\r\n{\r\n\t&quot;_links&quot;: {\r\n\t\t&quot;users&quot;: {\r\n\t\t\t&quot;href&quot;: &quot;http://localhost:8080/Demo/index.html/users{?page,size,sort}&quot;,\r\n\t\t\t&quot;templated&quot;: true\r\n\t\t},\r\n\t\t&quot;country&quot;: {\r\n\t\t\t&quot;href&quot;: &quot;http://localhost:8080/Demo/index.html/country{?page,size,sort}&quot;,\r\n\t\t\t&quot;templated&quot;: true\r\n\t\t}\r\n        ...\r\n        ...\r\n        ...\r\n\t}\r\n}\r\n```\r\nI have also tried URL - localhost:8080/Demo/index.html, then I can see the application UI. But on refreshing the page URL getting changed to localhost:8080/Demo/#/login and getting same JSON displayed on UI.","title":"Spring boot and angular app, issue in deploying war file in tomcat container","body":"<p>I have an application in Spring boot 2.6.6 and Angular 6.1.0. I am trying to deploy both apps in a single war. Application is running fine with context path if running as spring boot app in eclipse and Angular app separately. But if I run in tomcat (9.0.30) application is not loading. For URL localhost:8080/Demo/#/login , I am getting some JSON content on browser screen.</p>\n<pre><code>{\n    &quot;_links&quot;: {\n        &quot;users&quot;: {\n            &quot;href&quot;: &quot;http://localhost:8080/Demo/index.html/users{?page,size,sort}&quot;,\n            &quot;templated&quot;: true\n        },\n        &quot;country&quot;: {\n            &quot;href&quot;: &quot;http://localhost:8080/Demo/index.html/country{?page,size,sort}&quot;,\n            &quot;templated&quot;: true\n        }\n        ...\n        ...\n        ...\n    }\n}\n</code></pre>\n<p>I have also tried URL - localhost:8080/Demo/index.html, then I can see the application UI. But on refreshing the page URL getting changed to localhost:8080/Demo/#/login and getting same JSON displayed on UI.</p>\n"},{"tags":["java","spring-boot","mockito","junit5","spring-boot-test"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1654075087,"post_id":72459291,"comment_id":128003290,"body_markdown":"Ofcourse it does, you are using Mockito not Spring for your test. So the linked question is exactly the same (although that was mocking used through Spring and not directly with Mockito). In short replace `@InjectMocks` with `@Autowired in your test.","body":"Ofcourse it does, you are using Mockito not Spring for your test. So the linked question is exactly the same (although that was mocking used through Spring and not directly with Mockito). In short replace <code>@InjectMocks</code> with `@Autowired in your test."},{"owner":{"account_id":2078089,"reputation":9678,"user_id":1850851,"accept_rate":42,"display_name":"Christian Vincenzo Traina"},"score":0,"creation_date":1654075564,"post_id":72459291,"comment_id":128003452,"body_markdown":"@M.Deinum ok, but if I replace `@InjectMocks` with `@Autowired`, the mocks won&#39;t be replaced, will they?","body":"@M.Deinum ok, but if I replace <code>@InjectMocks</code> with <code>@Autowired</code>, the mocks won&#39;t be replaced, will they?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1654075702,"post_id":72459291,"comment_id":128003503,"body_markdown":"Which mocks.. there are non in your test.","body":"Which mocks.. there are non in your test."},{"owner":{"account_id":2078089,"reputation":9678,"user_id":1850851,"accept_rate":42,"display_name":"Christian Vincenzo Traina"},"score":0,"creation_date":1654075703,"post_id":72459291,"comment_id":128003504,"body_markdown":"@M.Deinum I updated my question to highlight the problem","body":"@M.Deinum I updated my question to highlight the problem"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1654075724,"post_id":72459291,"comment_id":128003510,"body_markdown":"You should really read the documentation... Use `@MockBean` instaed of `@Mock`... This lets SpringBoot control the mock creation and resets and inject those instead of the real implementation.","body":"You should really read the documentation... Use <code>@MockBean</code> instaed of <code>@Mock</code>... This lets SpringBoot control the mock creation and resets and inject those instead of the real implementation."},{"owner":{"account_id":2078089,"reputation":9678,"user_id":1850851,"accept_rate":42,"display_name":"Christian Vincenzo Traina"},"score":0,"creation_date":1654075848,"post_id":72459291,"comment_id":128003551,"body_markdown":"@M.Deinum so `@InjectMock` = `@Autowired` and `@Mock` = `@MockBean`? I had read the docs, but just felt like using `@Autowired` wired the actual object and not the one with mocks :)","body":"@M.Deinum so <code>@InjectMock</code> = <code>@Autowired</code> and <code>@Mock</code> = <code>@MockBean</code>? I had read the docs, but just felt like using <code>@Autowired</code> wired the actual object and not the one with mocks :)"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1654075928,"post_id":72459291,"comment_id":128003578,"body_markdown":"[This](https://docs.spring.io/spring-boot/docs/1.5.2.RELEASE/reference/html/boot-features-testing.html#boot-features-testing-spring-boot-applications-mocking-beans) clearly states what to do.","body":"<a href=\"https://docs.spring.io/spring-boot/docs/1.5.2.RELEASE/reference/html/boot-features-testing.html#boot-features-testing-spring-boot-applications-mocking-beans\" rel=\"nofollow noreferrer\">This</a> clearly states what to do."},{"owner":{"account_id":2078089,"reputation":9678,"user_id":1850851,"accept_rate":42,"display_name":"Christian Vincenzo Traina"},"score":0,"creation_date":1654075992,"post_id":72459291,"comment_id":128003608,"body_markdown":"I tried using `@Autowired` and `@MockBean`, and the value is still null. Do I need to tell Spring to load the `Properties` component in the context?","body":"I tried using <code>@Autowired</code> and <code>@MockBean</code>, and the value is still null. Do I need to tell Spring to load the <code>Properties</code> component in the context?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1654076084,"post_id":72459291,"comment_id":128003648,"body_markdown":"The value cannot be `null` else the application would break. I&#39;m assuming here that `Properties` isn&#39;t a mock but the **real instance**. Which is hard to determine with your dumbed down pseudo code.","body":"The value cannot be <code>null</code> else the application would break. I&#39;m assuming here that <code>Properties</code> isn&#39;t a mock but the <b>real instance</b>. Which is hard to determine with your dumbed down pseudo code."},{"owner":{"account_id":2078089,"reputation":9678,"user_id":1850851,"accept_rate":42,"display_name":"Christian Vincenzo Traina"},"score":0,"creation_date":1654077569,"post_id":72459291,"comment_id":128004261,"body_markdown":"@M.Deinum Believe me or not, but the value is null. The application doesn&#39;t break because it&#39;s a unit test, so I suppose it&#39;s not initializing all the beans that depend on those properties","body":"@M.Deinum Believe me or not, but the value is null. The application doesn&#39;t break because it&#39;s a unit test, so I suppose it&#39;s not initializing all the beans that depend on those properties"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1654077635,"post_id":72459291,"comment_id":128004282,"body_markdown":"Trust me a value cannot be `null` else the application won&#39;t start and your tests won&#39;t run. So you are doing someting in your test that you aren&#39;t telling with that code (which are just snippets).","body":"Trust me a value cannot be <code>null</code> else the application won&#39;t start and your tests won&#39;t run. So you are doing someting in your test that you aren&#39;t telling with that code (which are just snippets)."},{"owner":{"account_id":2078089,"reputation":9678,"user_id":1850851,"accept_rate":42,"display_name":"Christian Vincenzo Traina"},"score":0,"creation_date":1654077693,"post_id":72459291,"comment_id":128004308,"body_markdown":"@M.Deinum I gave a double check, the Properties are accessed statically. May that be the problem?","body":"@M.Deinum I gave a double check, the Properties are accessed statically. May that be the problem?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1654077832,"post_id":72459291,"comment_id":128004358,"body_markdown":"`@Value` and `@Autowired` don&#39;t work for `static` fields. So again this isn&#39;t the actual code you are using but a dumbed down version...","body":"<code>@Value</code> and <code>@Autowired</code> don&#39;t work for <code>static</code> fields. So again this isn&#39;t the actual code you are using but a dumbed down version..."},{"owner":{"account_id":2883526,"reputation":2320,"user_id":3439993,"accept_rate":33,"display_name":"Deltharis"},"score":0,"creation_date":1654077974,"post_id":72459291,"comment_id":128004425,"body_markdown":"If staticness is the issue - maybe don&#39;t do that? Your property class is already a component you can autowire wherever you need, the static &quot;layer&quot; in it gives you nothing except making testing it&#39;s usage harder","body":"If staticness is the issue - maybe don&#39;t do that? Your property class is already a component you can autowire wherever you need, the static &quot;layer&quot; in it gives you nothing except making testing it&#39;s usage harder"},{"owner":{"account_id":2078089,"reputation":9678,"user_id":1850851,"accept_rate":42,"display_name":"Christian Vincenzo Traina"},"score":0,"creation_date":1654078079,"post_id":72459291,"comment_id":128004480,"body_markdown":"@Deltharis that&#39;s a piece of code of a huge project that has been run in production for years, so I&#39;m supposed to don&#39;t touch it :) by the way, just note that the getter is static while the setter is not!","body":"@Deltharis that&#39;s a piece of code of a huge project that has been run in production for years, so I&#39;m supposed to don&#39;t touch it :) by the way, just note that the getter is static while the setter is not!"},{"owner":{"account_id":25229135,"reputation":556,"user_id":19064525,"display_name":"SeanH"},"score":0,"creation_date":1654078250,"post_id":72459291,"comment_id":128004556,"body_markdown":"`private static String example;`\nSince it&#39;s member of a component,  why don&#39;t you remove the &quot;static&quot;?","body":"<code>private static String example;</code> Since it&#39;s member of a component,  why don&#39;t you remove the &quot;static&quot;?"},{"owner":{"account_id":2078089,"reputation":9678,"user_id":1850851,"accept_rate":42,"display_name":"Christian Vincenzo Traina"},"score":0,"creation_date":1654078259,"post_id":72459291,"comment_id":128004559,"body_markdown":"I also add this: although the setter is not static, if I put a breakpoint there I notice that it never gets called. Maybe it&#39;s not seen as a dependency?","body":"I also add this: although the setter is not static, if I put a breakpoint there I notice that it never gets called. Maybe it&#39;s not seen as a dependency?"},{"owner":{"account_id":2078089,"reputation":9678,"user_id":1850851,"accept_rate":42,"display_name":"Christian Vincenzo Traina"},"score":1,"creation_date":1654078295,"post_id":72459291,"comment_id":128004568,"body_markdown":"@SeanH because it&#39;s not my code, I&#39;m just writing the tests","body":"@SeanH because it&#39;s not my code, I&#39;m just writing the tests"}],"answers":[{"tags":[],"owner":{"account_id":11133396,"reputation":1266,"user_id":9118951,"display_name":"Milan Desai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654079634,"creation_date":1654079010,"answer_id":72460208,"question_id":72459291,"body_markdown":"I recommend using `@Before` in order to set values in unit tests if it&#39;s for a whole class using `org.springframework.test.util.ReflectionTestUtils`, \r\n\r\nHowever in order to do so you will have to inject `Properties` instance in test class\r\n```java\r\n@InjectMocks Properties properties;\r\n...\r\n@Before\r\n  public void setUp() {\r\n    ReflectionTestUtils.setField(properties, &quot;example&quot;, &quot;something&quot;);\r\n  }\r\n```\r\n\r\nalternatively you can use same `ReflectionTestUtil` in `@Test` too - I think\r\n\r\nupdate: \r\nYour way of Using `@TestPropertySource` is definitely correct but there might be some conflict on using terminology `location` and `properties`, \r\nIn my opinion I have see code doing,\r\n```java\r\n@TestPropertySource(properties = &quot;classpath:application-configA.properties&quot;)\r\n```\r\nPlus, have you tried adding `@ActiveProfile(&#39;test&#39;)` and `@AutoConfigureMockMvc` ?\r\n","title":"@Value properties are always null in JUnit test","body":"<p>I recommend using <code>@Before</code> in order to set values in unit tests if it's for a whole class using <code>org.springframework.test.util.ReflectionTestUtils</code>,</p>\n<p>However in order to do so you will have to inject <code>Properties</code> instance in test class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@InjectMocks Properties properties;\n...\n@Before\n  public void setUp() {\n    ReflectionTestUtils.setField(properties, &quot;example&quot;, &quot;something&quot;);\n  }\n</code></pre>\n<p>alternatively you can use same <code>ReflectionTestUtil</code> in <code>@Test</code> too - I think</p>\n<p>update:\nYour way of Using <code>@TestPropertySource</code> is definitely correct but there might be some conflict on using terminology <code>location</code> and <code>properties</code>,\nIn my opinion I have see code doing,</p>\n<pre class=\"lang-java prettyprint-override\"><code>@TestPropertySource(properties = &quot;classpath:application-configA.properties&quot;)\n</code></pre>\n<p>Plus, have you tried adding <code>@ActiveProfile('test')</code> and <code>@AutoConfigureMockMvc</code> ?</p>\n"},{"tags":[],"owner":{"account_id":2078089,"reputation":9678,"user_id":1850851,"accept_rate":42,"display_name":"Christian Vincenzo Traina"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1654243334,"creation_date":1654243334,"answer_id":72486488,"question_id":72459291,"body_markdown":"After many attempts, finally I found a solution. The problem was caused by using Spring 4 with JUnit 5, and even though it wasn&#39;t showing any warning or error, it wasn&#39;t able to load the Spring context. In all honesty, I don&#39;t know what `@SpringBootTest` was doing in practice.\r\n\r\nThe solution was about adding the [`spring-test-junit5`](https://github.com/sbrannen/spring-test-junit5) dependency as stated in [this answer](https://stackoverflow.com/a/48031452/1850851), then the following steps:\r\n\r\n- Remove the `@SpringBootTest` annotation\r\n- Add `@ExtendWith(SpringExtension.class)`, importing the class from `spring-test-junit5`\r\n- Add `@Import(Properties.class)`\r\n\r\nNow the annotations for the test look like this:\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @PropertySource(&quot;classpath:application-configA.properties&quot;)\r\n    @TestPropertySource(&quot;classpath:application-configA.properties&quot;)\r\n    @Import(Properties.class)\r\n    class FooTest {","title":"@Value properties are always null in JUnit test","body":"<p>After many attempts, finally I found a solution. The problem was caused by using Spring 4 with JUnit 5, and even though it wasn't showing any warning or error, it wasn't able to load the Spring context. In all honesty, I don't know what <code>@SpringBootTest</code> was doing in practice.</p>\n<p>The solution was about adding the <a href=\"https://github.com/sbrannen/spring-test-junit5\" rel=\"nofollow noreferrer\"><code>spring-test-junit5</code></a> dependency as stated in <a href=\"https://stackoverflow.com/a/48031452/1850851\">this answer</a>, then the following steps:</p>\n<ul>\n<li>Remove the <code>@SpringBootTest</code> annotation</li>\n<li>Add <code>@ExtendWith(SpringExtension.class)</code>, importing the class from <code>spring-test-junit5</code></li>\n<li>Add <code>@Import(Properties.class)</code></li>\n</ul>\n<p>Now the annotations for the test look like this:</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@PropertySource(&quot;classpath:application-configA.properties&quot;)\n@TestPropertySource(&quot;classpath:application-configA.properties&quot;)\n@Import(Properties.class)\nclass FooTest {\n</code></pre>\n"}],"owner":{"account_id":2078089,"reputation":9678,"user_id":1850851,"accept_rate":42,"display_name":"Christian Vincenzo Traina"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7171,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":72486488,"answer_count":2,"score":7,"last_activity_date":1654243334,"creation_date":1654074879,"question_id":72459291,"body_markdown":"I&#39;m writing a few unit tests for a Spring application that can be run with two different configurations. The two different configurations are given by two `application.properties` file. I need to write tests twice for each class, since I need to verify that changes that work with a configuration don&#39;t impact the other one.\r\n\r\nFor this reason I created two files in the directory:\r\n&gt;\r\n&gt;src/test/resources/application-configA.properties\r\n&gt;\r\n&gt;src/test/resources/application-configB.properties\r\n\r\nThen I tried to load them using two different values of `@TestPropertySource`:\r\n\r\n\r\n    @SpringBootTest\r\n    @TestPropertySource(locations = &quot;classpath:application-configA.properties&quot;)\r\n    class FooTest {\r\n      @InjectMock\r\n      Foo foo;\r\n\r\n      @Mock\r\n      ExternalDao dao;\r\n    \r\n      // perform test\r\n    }\r\n\r\nAnd the `Foo` class is this one:\r\n\r\n    @Service\r\n    public class Foo {\r\n      @Autowired\r\n      private External dao;\r\n\r\n      methodToTest() {\r\n        Properties.getExampleProperty();\r\n        this.dao.doSomething(); // this needs to be mocked!\r\n      }\r\n    }\r\n\r\nWhile the class `Properties` is:\r\n\r\n    @Component\r\n    public class Properties {\r\n      private static String example;\r\n    \r\n      @Value(&quot;${example:something}&quot;)\r\n      public void setExampleProperty(String _example) {\r\n        example = _example;\r\n      }\r\n    \r\n      public static String getExampleProperty() {\r\n        return example;\r\n      }\r\n    }\r\n\r\nThe problem is that `Properties.getExampleProperty()` always returns null during the test, while it contains the correct value in the normal execution.\r\n\r\nI&#39;ve tried:\r\n- Setting a default (&quot;something&quot; above)\r\n- Setting a value in `application.properties`\r\n- Setting a value in `application-configA.properties` of /main\r\n- Setting a value in `application-configA.properties` of /test\r\n- Setting a inline value in @TestPropertySource\r\n\r\nNothing of these worked. \r\n\r\nI&#39;ve read [this question](https://stackoverflow.com/questions/70602545/junit-spring-boot-value-is-always-null-while-testing)&#39;s answers, but looks like something different and they did not help me","title":"@Value properties are always null in JUnit test","body":"<p>I'm writing a few unit tests for a Spring application that can be run with two different configurations. The two different configurations are given by two <code>application.properties</code> file. I need to write tests twice for each class, since I need to verify that changes that work with a configuration don't impact the other one.</p>\n<p>For this reason I created two files in the directory:</p>\n<blockquote>\n<p>src/test/resources/application-configA.properties</p>\n<p>src/test/resources/application-configB.properties</p>\n</blockquote>\n<p>Then I tried to load them using two different values of <code>@TestPropertySource</code>:</p>\n<pre><code>@SpringBootTest\n@TestPropertySource(locations = &quot;classpath:application-configA.properties&quot;)\nclass FooTest {\n  @InjectMock\n  Foo foo;\n\n  @Mock\n  ExternalDao dao;\n\n  // perform test\n}\n</code></pre>\n<p>And the <code>Foo</code> class is this one:</p>\n<pre><code>@Service\npublic class Foo {\n  @Autowired\n  private External dao;\n\n  methodToTest() {\n    Properties.getExampleProperty();\n    this.dao.doSomething(); // this needs to be mocked!\n  }\n}\n</code></pre>\n<p>While the class <code>Properties</code> is:</p>\n<pre><code>@Component\npublic class Properties {\n  private static String example;\n\n  @Value(&quot;${example:something}&quot;)\n  public void setExampleProperty(String _example) {\n    example = _example;\n  }\n\n  public static String getExampleProperty() {\n    return example;\n  }\n}\n</code></pre>\n<p>The problem is that <code>Properties.getExampleProperty()</code> always returns null during the test, while it contains the correct value in the normal execution.</p>\n<p>I've tried:</p>\n<ul>\n<li>Setting a default (&quot;something&quot; above)</li>\n<li>Setting a value in <code>application.properties</code></li>\n<li>Setting a value in <code>application-configA.properties</code> of /main</li>\n<li>Setting a value in <code>application-configA.properties</code> of /test</li>\n<li>Setting a inline value in @TestPropertySource</li>\n</ul>\n<p>Nothing of these worked.</p>\n<p>I've read <a href=\"https://stackoverflow.com/questions/70602545/junit-spring-boot-value-is-always-null-while-testing\">this question</a>'s answers, but looks like something different and they did not help me</p>\n"},{"tags":["java","pdf","itext","itext7"],"comments":[{"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"score":1,"creation_date":1610362902,"post_id":65665407,"comment_id":116099695,"body_markdown":"have you tried `setHorizontalAlignment`?","body":"have you tried <code>setHorizontalAlignment</code>?"},{"owner":{"account_id":20421877,"reputation":1,"user_id":14982710,"display_name":"pavan"},"score":0,"creation_date":1610364117,"post_id":65665407,"comment_id":116100231,"body_markdown":"I just need to align the content to the left end of the cell however setHorizontalAlignment does not set the content as required","body":"I just need to align the content to the left end of the cell however setHorizontalAlignment does not set the content as required"},{"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"score":0,"creation_date":1610365315,"post_id":65665407,"comment_id":116100767,"body_markdown":"I misunderstood. Maybe try 3 rows (cells) and align the 2nd to middle and the 3rd to bottom. Note that in your example you call setVerticalAlignment on the cell, not the paragraph, so your 2nd call overrides the first one.","body":"I misunderstood. Maybe try 3 rows (cells) and align the 2nd to middle and the 3rd to bottom. Note that in your example you call setVerticalAlignment on the cell, not the paragraph, so your 2nd call overrides the first one."},{"owner":{"account_id":20421877,"reputation":1,"user_id":14982710,"display_name":"pavan"},"score":1,"creation_date":1610366322,"post_id":65665407,"comment_id":116101220,"body_markdown":"@Reto Hohener Thanks,that worked out with using three cells.","body":"@Reto Hohener Thanks,that worked out with using three cells."}],"answers":[{"tags":[],"owner":{"account_id":6714059,"reputation":51,"user_id":8953164,"display_name":"Vijay Kharwar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654243184,"creation_date":1610363822,"answer_id":65665884,"question_id":65665407,"body_markdown":"    PdfFont font = PdfFontFactory.createFont(StandardFonts.HELVETICA_BOLD);\r\n    Paragraph para = new Paragraph(&quot;Test&quot;).setFont(font);\r\n        \r\n    Table table = new \r\n    Table(UnitValue.createPercentArray(1)).useAllAvailableWidth();\r\n    table.setHorizontalAlignment(HorizontalAlignment.CENTER);\r\n    table.setTextAlignment(TextAlignment.CENTER);\r\n        \r\n    Cell cell = new Cell();\r\n    cell.setMinHeight(100);\r\n    cell.setVerticalAlignment(VerticalAlignment.MIDDLE);\r\n    cell.add(para);\r\n    cell.add(new Paragraph(&quot;test&quot;)).setVerticalAlignment(VerticalAlignment.BOTTOM);\r\n    table.addCell(cell);","title":"how can i position content at specified position in itext 7","body":"<pre><code>PdfFont font = PdfFontFactory.createFont(StandardFonts.HELVETICA_BOLD);\nParagraph para = new Paragraph(&quot;Test&quot;).setFont(font);\n    \nTable table = new \nTable(UnitValue.createPercentArray(1)).useAllAvailableWidth();\ntable.setHorizontalAlignment(HorizontalAlignment.CENTER);\ntable.setTextAlignment(TextAlignment.CENTER);\n    \nCell cell = new Cell();\ncell.setMinHeight(100);\ncell.setVerticalAlignment(VerticalAlignment.MIDDLE);\ncell.add(para);\ncell.add(new Paragraph(&quot;test&quot;)).setVerticalAlignment(VerticalAlignment.BOTTOM);\ntable.addCell(cell);\n</code></pre>\n"}],"owner":{"account_id":20421877,"reputation":1,"user_id":14982710,"display_name":"pavan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":710,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1654243184,"creation_date":1610362071,"question_id":65665407,"body_markdown":"I just started using this library. \r\nHow can i position text in a cell at middle and at bottom?\r\n\r\n    PdfFont font = PdfFontFactory.createFont(StandardFonts.HELVETICA_BOLD);\r\n    Paragraph para = new Paragraph(&quot;Test&quot;).setFont(font);\r\n\r\n    Table table = new Table(UnitValue.createPercentArray(1)).useAllAvailableWidth();\r\n    Cell cell = new Cell();\r\n    cell.setMinHeight(100);\r\n    cell.setVerticalAlignment(VerticalAlignment.MIDDLE);\r\n    cell.add(para);\r\n    cell.add(new Paragraph(&quot;test&quot;)).setVerticalAlignment(VerticalAlignment.BOTTOM);\r\n    table.addCell(cell);\r\n\r\nCurrently setting the vertical alignment the content is aligned to the bottom. The output:  \r\n[![The output][1]][1]\r\n\r\n\r\nHow can I achieve the position of text at middle and bottom?\r\nLike this with in the same cell:\r\n\r\n[![output][2]][2]\r\n\r\nThanks.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/B78vu.jpg\r\n  [2]: https://i.stack.imgur.com/Ntpsf.jpg","title":"how can i position content at specified position in itext 7","body":"<p>I just started using this library.\nHow can i position text in a cell at middle and at bottom?</p>\n<pre><code>PdfFont font = PdfFontFactory.createFont(StandardFonts.HELVETICA_BOLD);\nParagraph para = new Paragraph(&quot;Test&quot;).setFont(font);\n\nTable table = new Table(UnitValue.createPercentArray(1)).useAllAvailableWidth();\nCell cell = new Cell();\ncell.setMinHeight(100);\ncell.setVerticalAlignment(VerticalAlignment.MIDDLE);\ncell.add(para);\ncell.add(new Paragraph(&quot;test&quot;)).setVerticalAlignment(VerticalAlignment.BOTTOM);\ntable.addCell(cell);\n</code></pre>\n<p>Currently setting the vertical alignment the content is aligned to the bottom. The output:<br />\n<a href=\"https://i.stack.imgur.com/B78vu.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B78vu.jpg\" alt=\"The output\" /></a></p>\n<p>How can I achieve the position of text at middle and bottom?\nLike this with in the same cell:</p>\n<p><a href=\"https://i.stack.imgur.com/Ntpsf.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ntpsf.jpg\" alt=\"output\" /></a></p>\n<p>Thanks.</p>\n"},{"tags":["java","groovy","jenkins-pipeline"],"answers":[{"tags":[],"owner":{"account_id":23782799,"reputation":83,"user_id":17795272,"display_name":"Jost Schwider"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654242868,"creation_date":1654242868,"answer_id":72486393,"question_id":72449677,"body_markdown":"Put the declarations of the variables Size1 and Size2 outside the local blocks (which limits the scope of variables), e.g.:\r\n\r\n    stage(&#39;Calculate Opatch size&#39;) {\r\n        def files\r\n        def Size1\r\n        dir(&quot;${BuildPathPublishRoot}&quot;) {\r\n            files = findFiles(glob: &#39;**&#39;, includes: &#39;.zip&#39;)\r\n            Size1 = &quot;&quot;&quot;${files[0].length}&quot;&quot;&quot;\r\n        }\r\n        \r\n        def files1\r\n        def Size2\r\n        dir(&quot;${BuildPathPublishRoot1}&quot;) {\r\n            files1 = findFiles(glob: &#39;**&#39;, includes: &#39;.zip&#39;)\r\n            Size2 = &quot;&quot;&quot;${files1[0].length}&quot;&quot;&quot;\r\n        }\r\n        \r\n        def Size3 = Size1 - Size2\r\n    }\r\n","title":"Unable to find the difference of two file lengths in groovy","body":"<p>Put the declarations of the variables Size1 and Size2 outside the local blocks (which limits the scope of variables), e.g.:</p>\n<pre><code>stage('Calculate Opatch size') {\n    def files\n    def Size1\n    dir(&quot;${BuildPathPublishRoot}&quot;) {\n        files = findFiles(glob: '**', includes: '.zip')\n        Size1 = &quot;&quot;&quot;${files[0].length}&quot;&quot;&quot;\n    }\n    \n    def files1\n    def Size2\n    dir(&quot;${BuildPathPublishRoot1}&quot;) {\n        files1 = findFiles(glob: '**', includes: '.zip')\n        Size2 = &quot;&quot;&quot;${files1[0].length}&quot;&quot;&quot;\n    }\n    \n    def Size3 = Size1 - Size2\n}\n</code></pre>\n"}],"owner":{"account_id":25403030,"reputation":43,"user_id":19212183,"display_name":"Nageswar Reddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1654242868,"creation_date":1654007396,"question_id":72449677,"body_markdown":"We are using below code and able to get size of the files but we are getting error when trying to get difference of it. \r\n\r\nI am new to groovy. Can someone help me to understand . \r\n\r\n```\r\nstage(&#39;Calculate Opatch size&#39;)\r\n\t\t{ \r\n\t\tdef files\r\n\t\tdir(&quot;${BuildPathPublishRoot}&quot;) {\r\n\t\tfiles = findFiles(glob: &#39;**&#39;, includes: &#39;.zip&#39;)\r\n\t\tdef Size1 = &quot;&quot;&quot;${files[0].length}&quot;&quot;&quot;\r\n\r\n\t\techo Size1\r\n\t\t\r\n\t\t}\r\n\t\t\r\n\t\tdef files1\r\n\t\tdir(&quot;${BuildPathPublishRoot1}&quot;) {\r\n\t\tfiles1 = findFiles(glob: &#39;**&#39;, includes: &#39;.zip&#39;)\r\n\t\tdef Size2 = &quot;&quot;&quot;${files1[0].length}&quot;&quot;&quot;\r\n\r\n\t\techo Size2\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\tdef Size3 = Size1 - Size2\r\n\t\t\r\n\t\techo &#39;Size3 is &#39;+ Size3\r\n\t\t}\r\n```","title":"Unable to find the difference of two file lengths in groovy","body":"<p>We are using below code and able to get size of the files but we are getting error when trying to get difference of it.</p>\n<p>I am new to groovy. Can someone help me to understand .</p>\n<pre><code>stage('Calculate Opatch size')\n        { \n        def files\n        dir(&quot;${BuildPathPublishRoot}&quot;) {\n        files = findFiles(glob: '**', includes: '.zip')\n        def Size1 = &quot;&quot;&quot;${files[0].length}&quot;&quot;&quot;\n\n        echo Size1\n        \n        }\n        \n        def files1\n        dir(&quot;${BuildPathPublishRoot1}&quot;) {\n        files1 = findFiles(glob: '**', includes: '.zip')\n        def Size2 = &quot;&quot;&quot;${files1[0].length}&quot;&quot;&quot;\n\n        echo Size2\n                }\n                \n        def Size3 = Size1 - Size2\n        \n        echo 'Size3 is '+ Size3\n        }\n</code></pre>\n"},{"tags":["java","browser"],"answers":[{"tags":[],"owner":{"account_id":15807441,"reputation":1,"user_id":11405607,"display_name":"Areku"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654242777,"creation_date":1654242753,"answer_id":72486378,"question_id":72486274,"body_markdown":"The first thing to do is to check your request if you have the header `Accept-Language` with the value `en`, `fr`, `es`.. etc. Usually, if you use the `fetch` function in Javascript, the header is automatically here.\r\nThen, in your Java application, you can use the HttpServletRequest class to get headers from your HTTP request.\r\n\r\n    private String getAcceptLanguage(HttpServletRequest request) {\r\n            return request.getHeader(&quot;Accept-Language&quot;);\r\n        }","title":"how to fetch the browser set language and use in our java application.?","body":"<p>The first thing to do is to check your request if you have the header <code>Accept-Language</code> with the value <code>en</code>, <code>fr</code>, <code>es</code>.. etc. Usually, if you use the <code>fetch</code> function in Javascript, the header is automatically here.\nThen, in your Java application, you can use the HttpServletRequest class to get headers from your HTTP request.</p>\n<pre><code>private String getAcceptLanguage(HttpServletRequest request) {\n        return request.getHeader(&quot;Accept-Language&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":24019827,"reputation":21,"user_id":18002287,"display_name":"JAVABE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654242777,"creation_date":1654242166,"question_id":72486274,"body_markdown":"I want to fetch the browser set language and want to use this language in my java application while loading the my application on the browser. While loading the application application should use the browser language, if I set the browser language in japanese, application should detect the set browser language and open my application in japanese language. ","title":"how to fetch the browser set language and use in our java application.?","body":"<p>I want to fetch the browser set language and want to use this language in my java application while loading the my application on the browser. While loading the application application should use the browser language, if I set the browser language in japanese, application should detect the set browser language and open my application in japanese language.</p>\n"},{"tags":["java","list","number-formatting"],"answers":[{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1619035868,"creation_date":1619006396,"answer_id":67195477,"question_id":67194909,"body_markdown":"You could iterate them in consecutive pairs as such:\r\n\r\n\tstatic List&lt;BinRange&gt; check(final List&lt;BinRange&gt; ranges)\r\n\t{\r\n\t\t// trivial\r\n\t\tif (ranges.size() &lt; 2)\r\n\t\t{\r\n\t\t\treturn ranges;\r\n\t\t}\r\n\t\tvar resultRanges = new ArrayList&lt;BinRange&gt;();\r\n\t\tLong prevStart = null;\r\n\t\tfor (int i = 1, rangesSize = ranges.size(); i &lt; rangesSize; i++)\r\n\t\t{\r\n\t\t\tfinal BinRange prevRange = ranges.get(i - 1);\r\n\t\t\tfinal BinRange currRange = ranges.get(i);\r\n\r\n\t\t\tif (prevStart == null)\r\n\t\t\t{\r\n\t\t\t\tprevStart = prevRange.getRangeStart();\r\n\t\t\t}\r\n\r\n\t\t\tif (prevRange.getRangeEnd() != currRange.getRangeStart() - 1)\r\n\t\t\t{\r\n\t\t\t\tresultRanges.add(prevStart == prevRange.getRangeStart()\r\n\t\t\t\t\t\t? prevRange  // recycle instance\r\n\t\t\t\t\t\t: new BinRange(prevStart, prevRange.getRangeEnd()));\r\n\t\t\t\tprevStart = null;\r\n\t\t\t}\r\n\t\t\tif (i == rangesSize - 1)\r\n\t\t\t{\r\n\t\t\t\tresultRanges.add(prevStart == null\r\n\t\t\t\t\t\t? currRange // recycle instance\r\n\t\t\t\t\t\t: new BinRange(prevStart, currRange.getRangeEnd()));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn resultRanges;\r\n\t}","title":"How to check if number in a list is greater than and in continuation to next number in list","body":"<p>You could iterate them in consecutive pairs as such:</p>\n<pre><code>static List&lt;BinRange&gt; check(final List&lt;BinRange&gt; ranges)\n{\n    // trivial\n    if (ranges.size() &lt; 2)\n    {\n        return ranges;\n    }\n    var resultRanges = new ArrayList&lt;BinRange&gt;();\n    Long prevStart = null;\n    for (int i = 1, rangesSize = ranges.size(); i &lt; rangesSize; i++)\n    {\n        final BinRange prevRange = ranges.get(i - 1);\n        final BinRange currRange = ranges.get(i);\n\n        if (prevStart == null)\n        {\n            prevStart = prevRange.getRangeStart();\n        }\n\n        if (prevRange.getRangeEnd() != currRange.getRangeStart() - 1)\n        {\n            resultRanges.add(prevStart == prevRange.getRangeStart()\n                    ? prevRange  // recycle instance\n                    : new BinRange(prevStart, prevRange.getRangeEnd()));\n            prevStart = null;\n        }\n        if (i == rangesSize - 1)\n        {\n            resultRanges.add(prevStart == null\n                    ? currRange // recycle instance\n                    : new BinRange(prevStart, currRange.getRangeEnd()));\n        }\n    }\n    return resultRanges;\n}\n</code></pre>\n"}],"owner":{"account_id":10799174,"reputation":3,"user_id":7943797,"display_name":"Oblivious_S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67195477,"answer_count":1,"score":0,"last_activity_date":1654241571,"creation_date":1619004286,"question_id":67194909,"body_markdown":"I have below a sample list of objects containing startRange and endRange as longs. I want to check if my first element endRange is in continuation to startRange in the next element and generate an output where the range can be shortened if numbers are in continuation. See sample output. \r\n - Sample Input -\r\n\r\n    startRange : 1005000, endRange : 1005799&lt;br/&gt; \r\n    startRange : 1005800, endRange : 1005899&lt;br/&gt; \r\n    startRange : 1005900, endRange : 1005999&lt;br/&gt; \r\n    startRange : 2096000, endRange : 2096999&lt;br/&gt; \r\n    startRange : 2097000, endRange : 2097999&lt;br/&gt;\r\n    startRange : 2205010, endRange : 2205019&lt;br/&gt; \r\n\r\n\r\n - Sample Output -\r\n\r\n    startRange : 1005000, endRange : 1005999&lt;br/&gt;  startRange : 2096000,    endRange : 2097999&lt;br/&gt; startRange : 2205010, endRange : 2205019&lt;br/&gt;\r\n\r\n \r\n \r\nThis is what I have tried -  \r\n\r\n```java\r\nList&lt;BinRange&gt; finalRange = new ArrayList&lt;&gt;();\r\nfor (BinRange bin : list.getBinRanges()) {\r\n    rangeStart  = bin.getRangeStart();\r\n    rangeEnd = bin.getRangeEnd();\r\n    System.out.println(&quot;startRange : &quot; + rangeStart + &quot;, endRange : &quot; + rangeEnd);\r\n    long diff = Math.abs(rangeEnd - rangeStart);\r\n    if (diff == 1) {\r\n        continue;\r\n    } else {\r\n        rangeEnd = bin.getRangeEnd();\r\n        BinRange binRange = new BinRange(rangeStart, rangeEnd);\r\n        finalRange.add(binRange);\r\n        break;\r\n    }\r\n}\r\n```\r\n","title":"How to check if number in a list is greater than and in continuation to next number in list","body":"<p>I have below a sample list of objects containing startRange and endRange as longs. I want to check if my first element endRange is in continuation to startRange in the next element and generate an output where the range can be shortened if numbers are in continuation. See sample output.</p>\n<ul>\n<li><p>Sample Input -</p>\n<p>startRange : 1005000, endRange : 1005799<br/>\nstartRange : 1005800, endRange : 1005899<br/>\nstartRange : 1005900, endRange : 1005999<br/>\nstartRange : 2096000, endRange : 2096999<br/>\nstartRange : 2097000, endRange : 2097999<br/>\nstartRange : 2205010, endRange : 2205019<br/></p>\n</li>\n<li><p>Sample Output -</p>\n<p>startRange : 1005000, endRange : 1005999<br/>  startRange : 2096000,    endRange : 2097999<br/> startRange : 2205010, endRange : 2205019<br/></p>\n</li>\n</ul>\n<p>This is what I have tried -</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;BinRange&gt; finalRange = new ArrayList&lt;&gt;();\nfor (BinRange bin : list.getBinRanges()) {\n    rangeStart  = bin.getRangeStart();\n    rangeEnd = bin.getRangeEnd();\n    System.out.println(&quot;startRange : &quot; + rangeStart + &quot;, endRange : &quot; + rangeEnd);\n    long diff = Math.abs(rangeEnd - rangeStart);\n    if (diff == 1) {\n        continue;\n    } else {\n        rangeEnd = bin.getRangeEnd();\n        BinRange binRange = new BinRange(rangeStart, rangeEnd);\n        finalRange.add(binRange);\n        break;\n    }\n}\n</code></pre>\n"},{"tags":["java","rest-assured"],"comments":[{"owner":{"account_id":6965743,"reputation":61,"user_id":5343840,"display_name":"mmyers"},"score":0,"creation_date":1442434334,"post_id":32617020,"comment_id":53086300,"body_markdown":"I read up on this some more, I think what I&#39;m looking for is actually considered parallel, not asynchronous. I need the POST request sent, then the GET sent just after the POST is sent/requested, so I suppose they&#39;re more like parallel requests? If it helps, I&#39;m using TestNG as my test harness.","body":"I read up on this some more, I think what I&#39;m looking for is actually considered parallel, not asynchronous. I need the POST request sent, then the GET sent just after the POST is sent/requested, so I suppose they&#39;re more like parallel requests? If it helps, I&#39;m using TestNG as my test harness."}],"answers":[{"tags":[],"owner":{"account_id":4831993,"reputation":414,"user_id":3899968,"display_name":"Gergely A."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1444133981,"creation_date":1444133981,"answer_id":32969812,"question_id":32617020,"body_markdown":"RestAssured support only parallel running, not asyncron running.","title":"Multiple Rest calls in Java using RestAssured","body":"<p>RestAssured support only parallel running, not asyncron running.</p>\n"},{"tags":[],"owner":{"account_id":6983262,"reputation":2982,"user_id":5355272,"accept_rate":25,"display_name":"avp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508432118,"creation_date":1508432118,"answer_id":46835095,"question_id":32617020,"body_markdown":"If I understand your question correctly, you should be able to do what you are planning to do using threads. \r\n\r\n       ExecutorService executorService = Executors.newFixedThreadPool(&lt;number of threads&gt;);\r\n    \r\n        // send 1st 7 requests here\r\n        for (int i = 0; i &lt; 7; i++){\r\n            executorService.execute(new Runnable() {\r\n                @Override\r\n                public void run(){\r\n                    try {\r\n                        given().\r\n                            contentType(&lt;&gt;).\r\n                            header(&lt;headers&gt;).\r\n                            body(body).\r\n                        when().\r\n                            post(&lt;URL&gt;);\r\n                    } catch (Exception e) {\r\n                        LOGGER.error(e);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    \r\n        // Wait for all the threads to gracefully shutdown\r\n        try {\r\n            executorService.awaitTermination(&lt;Your timeout&gt;);\r\n        } catch (InterruptedException ie) {\r\n            LOGGER.error(&quot;Shutdown interrupted. Will try to shutdown again.&quot;, ie);\r\n            executorService.shutdownNow();\r\n        }\r\n\r\nThough this won&#39;t be asynchronous, this will do what you were planning to do.\r\n","title":"Multiple Rest calls in Java using RestAssured","body":"<p>If I understand your question correctly, you should be able to do what you are planning to do using threads. </p>\n\n<pre><code>   ExecutorService executorService = Executors.newFixedThreadPool(&lt;number of threads&gt;);\n\n    // send 1st 7 requests here\n    for (int i = 0; i &lt; 7; i++){\n        executorService.execute(new Runnable() {\n            @Override\n            public void run(){\n                try {\n                    given().\n                        contentType(&lt;&gt;).\n                        header(&lt;headers&gt;).\n                        body(body).\n                    when().\n                        post(&lt;URL&gt;);\n                } catch (Exception e) {\n                    LOGGER.error(e);\n                }\n            }\n        });\n    }\n\n    // Wait for all the threads to gracefully shutdown\n    try {\n        executorService.awaitTermination(&lt;Your timeout&gt;);\n    } catch (InterruptedException ie) {\n        LOGGER.error(\"Shutdown interrupted. Will try to shutdown again.\", ie);\n        executorService.shutdownNow();\n    }\n</code></pre>\n\n<p>Though this won't be asynchronous, this will do what you were planning to do.</p>\n"},{"tags":[],"owner":{"account_id":7441470,"reputation":1068,"user_id":5659136,"display_name":"Rohit Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580931726,"creation_date":1580931726,"answer_id":60083020,"question_id":32617020,"body_markdown":"As you mentioned you are using TestMG so write both request in separate test methods and run test in parallel using XML.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n    &lt;suite name=&quot;TestSuite&quot; thread-count=&quot;3&quot; parallel=&quot;methods&quot; &gt;\r\n    &lt;test name=&quot;testGuru&quot;&gt;\r\n    &lt;classes&gt;\r\n    &lt;class name=&quot;Test_class_name&quot;&gt;\r\n    &lt;/class&gt;\r\n    &lt;/classes&gt;\r\n    &lt;/test&gt;\r\n    &lt;/suite&gt;","title":"Multiple Rest calls in Java using RestAssured","body":"<p>As you mentioned you are using TestMG so write both request in separate test methods and run test in parallel using XML.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE suite SYSTEM \"http://testng.org/testng-1.0.dtd\"&gt;\n&lt;suite name=\"TestSuite\" thread-count=\"3\" parallel=\"methods\" &gt;\n&lt;test name=\"testGuru\"&gt;\n&lt;classes&gt;\n&lt;class name=\"Test_class_name\"&gt;\n&lt;/class&gt;\n&lt;/classes&gt;\n&lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9420298,"reputation":89,"user_id":7006895,"accept_rate":71,"display_name":"Amrit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654241477,"creation_date":1597341592,"answer_id":63400790,"question_id":32617020,"body_markdown":"Completable Future can be used to make calls async. \r\n\r\n```java\r\nList&lt;CompletableFuture&lt;Pair&lt;String,String&gt;&gt;&gt; futures =\r\n    Arrays.stream(endpoints)\r\n        .map(endpoint -&gt; restCallAsync(endpoint))\r\n        .collect(Collectors.toList());\r\n\r\nList&lt;Pair&lt;String,String&gt;&gt; result =\r\n    futures.stream()\r\n        .map(CompletableFuture::join)\r\n        .collect(Collectors.toList());\r\n```\r\n```java\r\nCompletableFuture&lt;Pair&lt;String,String&gt;&gt; restCallAsync(String endpoint) {\r\n    CompletableFuture&lt;Pair&lt;String,String&gt;&gt; future = CompleteableFuture.supplyAsync(new Supplier&lt;Pair&lt;String,String&gt;&gt;() {\r\n        @Override\r\n        public Pair&lt;String,String&gt; get() {\r\n            Response response = given()\r\n                .relaxedHTTPSValidation()\r\n                .get(endpoint)\r\n                .then()\r\n                .extract().response();\r\n            LOG.info(&quot;Endpoint : &quot; + endpoint + &quot; Status : &quot; + response.getStatusCode());\r\n            ...\r\n        }\r\n    });\r\n}\r\n```","title":"Multiple Rest calls in Java using RestAssured","body":"<p>Completable Future can be used to make calls async.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;CompletableFuture&lt;Pair&lt;String,String&gt;&gt;&gt; futures =\n    Arrays.stream(endpoints)\n        .map(endpoint -&gt; restCallAsync(endpoint))\n        .collect(Collectors.toList());\n\nList&lt;Pair&lt;String,String&gt;&gt; result =\n    futures.stream()\n        .map(CompletableFuture::join)\n        .collect(Collectors.toList());\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture&lt;Pair&lt;String,String&gt;&gt; restCallAsync(String endpoint) {\n    CompletableFuture&lt;Pair&lt;String,String&gt;&gt; future = CompleteableFuture.supplyAsync(new Supplier&lt;Pair&lt;String,String&gt;&gt;() {\n        @Override\n        public Pair&lt;String,String&gt; get() {\n            Response response = given()\n                .relaxedHTTPSValidation()\n                .get(endpoint)\n                .then()\n                .extract().response();\n            LOG.info(&quot;Endpoint : &quot; + endpoint + &quot; Status : &quot; + response.getStatusCode());\n            ...\n        }\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":6965743,"reputation":61,"user_id":5343840,"display_name":"mmyers"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14554,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1654241477,"creation_date":1442431542,"question_id":32617020,"body_markdown":"When you make a rest request using RestAssured, it appears to wait for a response. I need to make a POST request in RestAssured and then while it waits for a response, I need to make a GET request. I&#39;m using Java and RestAssured. I&#39;ve also tried creating a second thread and it still has not worked. This is for testing purposes.\r\n\r\nHere&#39;s where it waits:\r\n\r\n    given().auth().preemptive().basic(userCreds[0], userCreds[1]).contentType(&quot;application/json;&quot;).and().post(baseURL + resourcePath + this.act.getId() + &quot;/run&quot;);\r\n\r\nI would like this to run while the previous request is running as well (asynchronous request?):\r\n\r\n    given().auth().preemptive().basic(userCreds[0], userCreds[1]).when().get(baseURL + resourcePath + this.connect.getId() + &quot;/outgoing/&quot; + fileId);\r\n\r\nI&#39;ve also read that RestAssured supports asynchronous requests, but I&#39;ve been unsuccessful to get it to work. My project is mavenized. I&#39;m just a lowly QA guy so any help would be greatly appreciated.","title":"Multiple Rest calls in Java using RestAssured","body":"<p>When you make a rest request using RestAssured, it appears to wait for a response. I need to make a POST request in RestAssured and then while it waits for a response, I need to make a GET request. I'm using Java and RestAssured. I've also tried creating a second thread and it still has not worked. This is for testing purposes.</p>\n\n<p>Here's where it waits:</p>\n\n<pre><code>given().auth().preemptive().basic(userCreds[0], userCreds[1]).contentType(\"application/json;\").and().post(baseURL + resourcePath + this.act.getId() + \"/run\");\n</code></pre>\n\n<p>I would like this to run while the previous request is running as well (asynchronous request?):</p>\n\n<pre><code>given().auth().preemptive().basic(userCreds[0], userCreds[1]).when().get(baseURL + resourcePath + this.connect.getId() + \"/outgoing/\" + fileId);\n</code></pre>\n\n<p>I've also read that RestAssured supports asynchronous requests, but I've been unsuccessful to get it to work. My project is mavenized. I'm just a lowly QA guy so any help would be greatly appreciated.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":251706,"reputation":5323,"user_id":529282,"display_name":"Martheen"},"score":0,"creation_date":1654235614,"post_id":72485213,"comment_id":128047087,"body_markdown":"Try changing `compare(result);` with `result = compare(result);`","body":"Try changing <code>compare(result);</code> with <code>result = compare(result);</code>"},{"owner":{"account_id":7693984,"reputation":6097,"user_id":5829191,"accept_rate":63,"display_name":"rozerro"},"score":0,"creation_date":1654235761,"post_id":72485213,"comment_id":128047124,"body_markdown":"@Martheen the result didn&#39;t change i.e. it doesn&#39;t fix it","body":"@Martheen the result didn&#39;t change i.e. it doesn&#39;t fix it"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1654239558,"post_id":72485213,"comment_id":128048106,"body_markdown":"why have the outer loop if it is always breaking out after the first iteration? That is the reason why `valueToCompare` is only assigned the first element, that means, only the first element will be checked. Do we need TWO loops and recursion? Maybe a different strategy: start with empty result and, in on e loop, only add elements that are not yet in the result.","body":"why have the outer loop if it is always breaking out after the first iteration? That is the reason why <code>valueToCompare</code> is only assigned the first element, that means, only the first element will be checked. Do we need TWO loops and recursion? Maybe a different strategy: start with empty result and, in on e loop, only add elements that are not yet in the result."},{"owner":{"account_id":16125470,"reputation":253,"user_id":11640307,"display_name":"Siva Rahul"},"score":0,"creation_date":1654239716,"post_id":72485213,"comment_id":128048157,"body_markdown":"You want to have only one item in the list (i.e, remove all the duplicates?)","body":"You want to have only one item in the list (i.e, remove all the duplicates?)"},{"owner":{"account_id":7693984,"reputation":6097,"user_id":5829191,"accept_rate":63,"display_name":"rozerro"},"score":0,"creation_date":1654239791,"post_id":72485213,"comment_id":128048173,"body_markdown":"@SivaRahul u understood it correct","body":"@SivaRahul u understood it correct"}],"answers":[{"tags":[],"owner":{"account_id":21027267,"reputation":24,"user_id":15452367,"display_name":"Sakthimahendran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654241452,"creation_date":1654239547,"answer_id":72485800,"question_id":72485213,"body_markdown":"The problem is the &quot;break statement&quot; which always breaks the loop.\r\n\r\nYour algorithm works like this.\r\n\r\nStep1 -&gt; take &quot;a&quot; (first element) and check for duplicate.\r\n\r\nStep2 -&gt; Since there is duplicate the function is called recursively until all duplicates of &quot;a&quot; is removed.\r\n\r\nStep3 -&gt; Now reaches the break statement and terminates.\r\n\r\nThis algorithm is very complex.\r\n\r\nI suggest you to use this algorithm\r\n\r\n    private static ArrayList&lt;Test&gt; compare(ArrayList&lt;Test&gt; list)\r\n    {\r\n  \r\n        // Create a new ArrayList\r\n        ArrayList&lt;Test&gt; newList = new ArrayList&lt;Test&gt;();\r\n  \r\n        // Traverse through the first list\r\n        for (Test element : list) {\r\n  \r\n            // If this element is not present in newList\r\n            // then add it\r\n            if (!newList.contains(element)) {\r\n  \r\n                newList.add(element);\r\n            }\r\n        }\r\n  \r\n        // return the new list\r\n        return newList;\r\n    }\r\n\r\nHope this helps you :).\r\n ","title":"Why this algoritm with recursion gaves duplicates in result? The result should contain only unique elements","body":"<p>The problem is the &quot;break statement&quot; which always breaks the loop.</p>\n<p>Your algorithm works like this.</p>\n<p>Step1 -&gt; take &quot;a&quot; (first element) and check for duplicate.</p>\n<p>Step2 -&gt; Since there is duplicate the function is called recursively until all duplicates of &quot;a&quot; is removed.</p>\n<p>Step3 -&gt; Now reaches the break statement and terminates.</p>\n<p>This algorithm is very complex.</p>\n<p>I suggest you to use this algorithm</p>\n<pre><code>private static ArrayList&lt;Test&gt; compare(ArrayList&lt;Test&gt; list)\n{\n\n    // Create a new ArrayList\n    ArrayList&lt;Test&gt; newList = new ArrayList&lt;Test&gt;();\n\n    // Traverse through the first list\n    for (Test element : list) {\n\n        // If this element is not present in newList\n        // then add it\n        if (!newList.contains(element)) {\n\n            newList.add(element);\n        }\n    }\n\n    // return the new list\n    return newList;\n}\n</code></pre>\n<p>Hope this helps you :).</p>\n"},{"tags":[],"owner":{"account_id":16125470,"reputation":253,"user_id":11640307,"display_name":"Siva Rahul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654240743,"creation_date":1654240743,"answer_id":72486019,"question_id":72485213,"body_markdown":"If the list is not huge or memory is not an issue, you can use LinkedHashSet class, which removes the duplicates and maintain the order.  \r\nIf you care about the order, you can just go with the HashSet class.\r\n\r\nSample code ::\r\n```\r\nimport java.util.*;\r\n\r\npublic class RemoveDuplicates {\r\n\r\n    String s;\r\n\r\n    public RemoveDuplicates(String s) {\r\n        this.s = s;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        RemoveDuplicates that = (RemoveDuplicates) o;\r\n        return Objects.equals(s, that.s);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(s);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return s;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;RemoveDuplicates&gt; arr = new ArrayList&lt;&gt;();\r\n        arr.add(new RemoveDuplicates(&quot;a&quot;));\r\n        arr.add(new RemoveDuplicates(&quot;d&quot;));\r\n        arr.add(new RemoveDuplicates(&quot;a&quot;));\r\n        arr.add(new RemoveDuplicates(&quot;a&quot;));\r\n        arr.add(new RemoveDuplicates(&quot;b&quot;));\r\n        arr.add(new RemoveDuplicates(&quot;b&quot;));\r\n        arr.add(new RemoveDuplicates(&quot;c&quot;));\r\n\r\n        removeDuplicates(arr);\r\n\r\n        System.out.println(arr);\r\n    }\r\n\r\n    private static void removeDuplicates(List&lt;RemoveDuplicates&gt; arr) {\r\n        Set&lt;RemoveDuplicates&gt; duplicatesRemoved = new LinkedHashSet&lt;&gt;(arr); // [#1]\r\n        arr.clear();                           // [#2]\r\n        arr.addAll(duplicatesRemoved);         // [#3]\r\n    }\r\n}\r\n```\r\n\r\nPS.\r\n#1. Constructor used to create a new Set from the list given. The catch, Sets uses @equals() method to compare objects, if the equals() method is not overrided, the flow won&#39;t work.  \r\n#2 &amp; #3. Just to store back the results in the same list. If type is not an issue, just return the Set and use further without clearing and reset the list.\r\n\r\nEdit::\r\nMethod 2 to remove duplicates\r\n\r\n```\r\nprivate static List&lt;RemoveDuplicates&gt; removeDuplicatesMethod2(List&lt;RemoveDuplicates&gt; arr) {\r\n     return arr.stream()\r\n             .distinct()\r\n             .collect(Collectors.toList());\r\n}\r\n```\r\nUses Java streams to remove duplicates and create new List. Return the list and use it further.","title":"Why this algoritm with recursion gaves duplicates in result? The result should contain only unique elements","body":"<p>If the list is not huge or memory is not an issue, you can use LinkedHashSet class, which removes the duplicates and maintain the order.<br />\nIf you care about the order, you can just go with the HashSet class.</p>\n<p>Sample code ::</p>\n<pre><code>import java.util.*;\n\npublic class RemoveDuplicates {\n\n    String s;\n\n    public RemoveDuplicates(String s) {\n        this.s = s;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        RemoveDuplicates that = (RemoveDuplicates) o;\n        return Objects.equals(s, that.s);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(s);\n    }\n\n    @Override\n    public String toString() {\n        return s;\n    }\n\n    public static void main(String[] args) {\n        List&lt;RemoveDuplicates&gt; arr = new ArrayList&lt;&gt;();\n        arr.add(new RemoveDuplicates(&quot;a&quot;));\n        arr.add(new RemoveDuplicates(&quot;d&quot;));\n        arr.add(new RemoveDuplicates(&quot;a&quot;));\n        arr.add(new RemoveDuplicates(&quot;a&quot;));\n        arr.add(new RemoveDuplicates(&quot;b&quot;));\n        arr.add(new RemoveDuplicates(&quot;b&quot;));\n        arr.add(new RemoveDuplicates(&quot;c&quot;));\n\n        removeDuplicates(arr);\n\n        System.out.println(arr);\n    }\n\n    private static void removeDuplicates(List&lt;RemoveDuplicates&gt; arr) {\n        Set&lt;RemoveDuplicates&gt; duplicatesRemoved = new LinkedHashSet&lt;&gt;(arr); // [#1]\n        arr.clear();                           // [#2]\n        arr.addAll(duplicatesRemoved);         // [#3]\n    }\n}\n</code></pre>\n<p>PS.\n#1. Constructor used to create a new Set from the list given. The catch, Sets uses @equals() method to compare objects, if the equals() method is not overrided, the flow won't work.<br />\n#2 &amp; #3. Just to store back the results in the same list. If type is not an issue, just return the Set and use further without clearing and reset the list.</p>\n<p>Edit::\nMethod 2 to remove duplicates</p>\n<pre><code>private static List&lt;RemoveDuplicates&gt; removeDuplicatesMethod2(List&lt;RemoveDuplicates&gt; arr) {\n     return arr.stream()\n             .distinct()\n             .collect(Collectors.toList());\n}\n</code></pre>\n<p>Uses Java streams to remove duplicates and create new List. Return the list and use it further.</p>\n"}],"owner":{"account_id":7693984,"reputation":6097,"user_id":5829191,"accept_rate":63,"display_name":"rozerro"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1654241452,"creation_date":1654235351,"question_id":72485213,"body_markdown":"I try to make function which excludes the same elements from list. The result should be unique elements in list like [a, d, b, c] or in different order it doesnt matter. The below code on not small source data gaves wrong result. For instance, \r\n\r\n    [a, d, a, a, b, b, c]\r\n    ::::::::::\r\n    ------ignore element-------\r\n    removed a\r\n    ------ignore element-------\r\n    removed a\r\n    ------ignore element-------\r\n    removed a\r\n    ------ignore element-------\r\n    [a, d, b, b, c]\r\n\r\nthe code\r\n\r\n    public class Test {\r\n    \tString s;\r\n    \tpublic Test(String s) {\r\n    \t\tthis.s = s;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn s;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tArrayList&lt;Test&gt; arr = new ArrayList&lt;&gt;();\r\n    \t\tarr.add(new Test(&quot;a&quot;));\r\n    \t\tarr.add(new Test(&quot;d&quot;));\r\n    \t\tarr.add(new Test(&quot;a&quot;));\r\n    \t\tarr.add(new Test(&quot;a&quot;));\r\n    \t\tarr.add(new Test(&quot;b&quot;));\r\n    \t\tarr.add(new Test(&quot;b&quot;));\r\n    \t\tarr.add(new Test(&quot;c&quot;));\r\n    \t\tSystem.out.println(arr);\r\n    \t\tSystem.out.println(&quot;::::::::::&quot;);\r\n    \t\tSystem.out.println(compare(arr));\r\n    \t}\r\n    \r\n    \tstatic private ArrayList&lt;Test&gt; compare(ArrayList&lt;Test&gt; arr) {\r\n    \t\tArrayList&lt;Test&gt; result = new ArrayList&lt;&gt;(arr);\r\n    \t\tfor (Test valueToCompare : arr) {\r\n    \t\t\tfor (Test t : arr) {\r\n    \t\t\t\tif((valueToCompare.s).equals(t.s)) {\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tif(valueToCompare == t) {\r\n    \t\t\t\t\t\t// it&#39;s the same obj\r\n    \t\t\t\t\t\tSystem.out.println(&quot;------ignore element-------&quot;);\r\n    \t\t\t\t\t\tcontinue;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t// it&#39;s identical values and diffrent objects so removing it from result array\r\n    \t\t\t\t\tresult.remove(t);\r\n    \t\t\t\t\tSystem.out.println(&quot;removed &quot; + t.s);\r\n    \t\t\t\t\tcompare(result); // recursion\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tbreak;\r\n    \t\t}\r\n    \t\treturn result;\r\n    \t}\r\n    }\r\n\r\nI know about set and related things so please do not sugest it. It shoud be done in a separate function. How to fix this function to recive correct result?","title":"Why this algoritm with recursion gaves duplicates in result? The result should contain only unique elements","body":"<p>I try to make function which excludes the same elements from list. The result should be unique elements in list like [a, d, b, c] or in different order it doesnt matter. The below code on not small source data gaves wrong result. For instance,</p>\n<pre><code>[a, d, a, a, b, b, c]\n::::::::::\n------ignore element-------\nremoved a\n------ignore element-------\nremoved a\n------ignore element-------\nremoved a\n------ignore element-------\n[a, d, b, b, c]\n</code></pre>\n<p>the code</p>\n<pre><code>public class Test {\n    String s;\n    public Test(String s) {\n        this.s = s;\n    }\n\n    @Override\n    public String toString() {\n        return s;\n    }\n\n    public static void main(String[] args) {\n        ArrayList&lt;Test&gt; arr = new ArrayList&lt;&gt;();\n        arr.add(new Test(&quot;a&quot;));\n        arr.add(new Test(&quot;d&quot;));\n        arr.add(new Test(&quot;a&quot;));\n        arr.add(new Test(&quot;a&quot;));\n        arr.add(new Test(&quot;b&quot;));\n        arr.add(new Test(&quot;b&quot;));\n        arr.add(new Test(&quot;c&quot;));\n        System.out.println(arr);\n        System.out.println(&quot;::::::::::&quot;);\n        System.out.println(compare(arr));\n    }\n\n    static private ArrayList&lt;Test&gt; compare(ArrayList&lt;Test&gt; arr) {\n        ArrayList&lt;Test&gt; result = new ArrayList&lt;&gt;(arr);\n        for (Test valueToCompare : arr) {\n            for (Test t : arr) {\n                if((valueToCompare.s).equals(t.s)) {\n                    \n                    if(valueToCompare == t) {\n                        // it's the same obj\n                        System.out.println(&quot;------ignore element-------&quot;);\n                        continue;\n                    }\n                    // it's identical values and diffrent objects so removing it from result array\n                    result.remove(t);\n                    System.out.println(&quot;removed &quot; + t.s);\n                    compare(result); // recursion\n                }\n            }\n            break;\n        }\n        return result;\n    }\n}\n</code></pre>\n<p>I know about set and related things so please do not sugest it. It shoud be done in a separate function. How to fix this function to recive correct result?</p>\n"},{"tags":["java","printing","thermal-printer"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1537445262,"post_id":52424287,"comment_id":91792336,"body_markdown":"What PDFBox version are you using? There have been problems reported with label printers, but it&#39;s usually trouble with orientation or stuff cut off, but never &quot;nothing&quot;. Do these problems happen with all files?","body":"What PDFBox version are you using? There have been problems reported with label printers, but it&#39;s usually trouble with orientation or stuff cut off, but never &quot;nothing&quot;. Do these problems happen with all files?"},{"owner":{"account_id":191570,"reputation":3247,"user_id":432216,"accept_rate":84,"display_name":"arjuncc"},"score":0,"creation_date":1537448696,"post_id":52424287,"comment_id":91794635,"body_markdown":"Thank you for your tip. I have added a video below\nhttps://expirebox.com/download/7df41fd5eefcabf542d8622e25e57995.html","body":"Thank you for your tip. I have added a video below <a href=\"https://expirebox.com/download/7df41fd5eefcabf542d8622e25e57995.html\" rel=\"nofollow noreferrer\">expirebox.com/download/7df41fd5eefcabf542d8622e25e57995.html</a>"},{"owner":{"account_id":191570,"reputation":3247,"user_id":432216,"accept_rate":84,"display_name":"arjuncc"},"score":0,"creation_date":1537448783,"post_id":52424287,"comment_id":91794699,"body_markdown":"Not exactly nothing, The page is moving back and forth but nothing is printing","body":"Not exactly nothing, The page is moving back and forth but nothing is printing"},{"owner":{"account_id":191570,"reputation":3247,"user_id":432216,"accept_rate":84,"display_name":"arjuncc"},"score":1,"creation_date":1537449084,"post_id":52424287,"comment_id":91794897,"body_markdown":"The version of pdfbox is 2.0.9","body":"The version of pdfbox is 2.0.9"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1537457256,"post_id":52424287,"comment_id":91800458,"body_markdown":"Please update to 2.0.11, that is the current version. Then try 2 things: 1) replace `new PDFPrintable(pdf, Scaling.SHRINK_TO_FIT)` with `new PDFPrintable(pdf, Scaling.SHRINK_TO_FIT, false, 300)`, this converts to a 300dpi image before printing. Also try printing from PDFDebugger (just download it from the pdfbox download page).","body":"Please update to 2.0.11, that is the current version. Then try 2 things: 1) replace <code>new PDFPrintable(pdf, Scaling.SHRINK_TO_FIT)</code> with <code>new PDFPrintable(pdf, Scaling.SHRINK_TO_FIT, false, 300)</code>, this converts to a 300dpi image before printing. Also try printing from PDFDebugger (just download it from the pdfbox download page)."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1537457381,"post_id":52424287,"comment_id":91800545,"body_markdown":"What jdk are you using? I do my development on 1.8.181.","body":"What jdk are you using? I do my development on 1.8.181."},{"owner":{"account_id":191570,"reputation":3247,"user_id":432216,"accept_rate":84,"display_name":"arjuncc"},"score":0,"creation_date":1537527833,"post_id":52424287,"comment_id":91827310,"body_markdown":"Ok, Thanks. I will try these","body":"Ok, Thanks. I will try these"},{"owner":{"account_id":191570,"reputation":3247,"user_id":432216,"accept_rate":84,"display_name":"arjuncc"},"score":1,"creation_date":1537879982,"post_id":52424287,"comment_id":91937842,"body_markdown":"Its worked fine. The issue was with paper size. Thanks for the info","body":"Its worked fine. The issue was with paper size. Thanks for the info"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1538049191,"post_id":52424287,"comment_id":92012089,"body_markdown":"Physical paper size, i.e. wrong paper in the printer? Or wrong size in the code? Consider answering it yourself, this may help others.","body":"Physical paper size, i.e. wrong paper in the printer? Or wrong size in the code? Consider answering it yourself, this may help others."}],"owner":{"account_id":191570,"reputation":3247,"user_id":432216,"accept_rate":84,"display_name":"arjuncc"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":355,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654240946,"creation_date":1537443435,"question_id":52424287,"body_markdown":"I am trying to print a label with printer **TSC TTP-342E Pro** industrial thermal printer. But unable to make a print. I use same program to print in laser printer **HP LaserJet M1530** and its work fine. In both case the print is initiated from a pdf. The program is communicating with the printer but it is not printing anything.\r\nI have used pdfbox, should I go with something like bartenter?\r\n\r\nIn below program, the program will read pdf from a location and communicate with the printer to generate a printout.\r\n\r\n**Code**\r\n\t\r\n\r\n    public static PrintService choosePrinter(String printerName) {\r\n    \t    PrintService[] services = PrinterJob.lookupPrintServices(); // list of printers\r\n    \t    PrintService printService = null;\r\n            for(PrintService service : services) {\r\n            \tString availablePrinterName = service.getName();\r\n                System.out.println(availablePrinterName);\r\n                if(service.getName().contains(printerName)) {\r\n                \tprintService = service;\r\n                    break;\r\n                }\r\n            }\r\n    \t    return printService;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\ttry {\r\n    \t\t\t\r\n    \t\t\tLOGGER.info(&quot;===== PRINT JOB 2 STARTED =======&quot;);\r\n    \t    \tProperties prop = getProperty();\r\n    \t\t    String printerName = prop.getProperty(&quot;printername&quot;);\r\n    \t\t    //String fileLocation = prop.getProperty(&quot;filelocation&quot;);\r\n    \t\t    String printStatus = prop.getProperty(&quot;enableprint&quot;);\r\n    \t\t    Double height = Double.valueOf(prop.getProperty(&quot;height&quot;));\r\n    \t\t    Double width = Double.valueOf(prop.getProperty(&quot;width&quot;));\r\n    \t\t    Boolean enablePrintPageSetup = Boolean.valueOf(prop.getProperty(&quot;enablePrintPageSetup&quot;));\r\n    \t\t    PDDocument pdf = PDDocument.load(new File(location));\r\n    \t\t    PrinterJob job = PrinterJob.getPrinterJob();\r\n    \t\t    Paper paper = new Paper();\r\n    \t\t    paper.setSize((width*72), (height*72)); // 1/72 inch\r\n    \t\t    paper.setImageableArea(0, 0, paper.getWidth(), paper.getHeight());\r\n    \t\t    PageFormat pageFormat = new PageFormat();\r\n    \t\t\t    if(enablePrintPageSetup) {\r\n    \t\t\t    \tpageFormat.setPaper(paper);\r\n    \t\t\t    }\r\n    \t\t    pageFormat.setOrientation(PageFormat.PORTRAIT);\r\n    \t\t    Book book = new Book();\r\n    \t\t    PDFPrintable pdfPrintable = new PDFPrintable(pdf, Scaling.SHRINK_TO_FIT);\r\n    \t\t    book.append(pdfPrintable, pageFormat, pdf.getNumberOfPages());\r\n    \t\t    job.setPageable(book);\r\n    \t\t    PrintService printService = choosePrinter(printerName);\r\n    \t\t    if(printService != null) {\r\n    \t        \tif(Boolean.parseBoolean(printStatus)) {\r\n    \t        \t\tLOGGER.info(&quot;Print enabled  &quot;);\r\n    \t\t\t    \t job.setPrintService(printService);\r\n    \t\t\t    \t job.print();\r\n    \t        \t} else {\r\n    \t        \t\tLOGGER.info(&quot;Print disbaled  &quot;);\r\n    \t        \t}\r\n    \t\t    } else {\r\n        \t        System.out.println(&quot;No PDF printer available.&quot;);\r\n        \t        LOGGER.info(&quot;===== No PDF printer available. =======&quot;);\r\n    \t\t    }\r\n            \tSystem.out.println(&quot;===== PRINT JOB 2 STOPPED =======&quot;);\r\n            \tLOGGER.info(&quot;===== PRINT JOB 2 STOPPED =======&quot;);\r\n    \t\t} catch (Exception e) {\r\n                // TODO Auto-generated catch block\r\n            \tLOGGER.error(&quot;Error : &quot;, e);\r\n                e.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n        private static Properties getProperty() {\r\n        \tProperties prop = new Properties();\r\n            try {\r\n    \r\n                File jarPath=new File(App_1.class.getProtectionDomain().getCodeSource().getLocation().getPath());\r\n                String propertiesPath=jarPath.getParentFile().getAbsolutePath();\r\n                System.out.println(&quot; propertiesPath-&quot;+propertiesPath);\r\n                prop.load(new FileInputStream(propertiesPath+&quot;/config.properties&quot;));\r\n                location = propertiesPath + &quot;/printpdf.pdf&quot;;\r\n            } catch (Exception e) {\r\n         \t   e.printStackTrace(); \r\n         \t   LOGGER.error(&quot;Error : &quot;, e);\r\n            }\r\n            return prop;\r\n        }\r\n","title":"Printing using tsc ttp-342e pro thermal printer java","body":"<p>I am trying to print a label with printer <strong>TSC TTP-342E Pro</strong> industrial thermal printer. But unable to make a print. I use same program to print in laser printer <strong>HP LaserJet M1530</strong> and its work fine. In both case the print is initiated from a pdf. The program is communicating with the printer but it is not printing anything.\nI have used pdfbox, should I go with something like bartenter?</p>\n\n<p>In below program, the program will read pdf from a location and communicate with the printer to generate a printout.</p>\n\n<p><strong>Code</strong></p>\n\n<pre><code>public static PrintService choosePrinter(String printerName) {\n        PrintService[] services = PrinterJob.lookupPrintServices(); // list of printers\n        PrintService printService = null;\n        for(PrintService service : services) {\n            String availablePrinterName = service.getName();\n            System.out.println(availablePrinterName);\n            if(service.getName().contains(printerName)) {\n                printService = service;\n                break;\n            }\n        }\n        return printService;\n    }\n\n    public static void main(String[] args) {\n        try {\n\n            LOGGER.info(\"===== PRINT JOB 2 STARTED =======\");\n            Properties prop = getProperty();\n            String printerName = prop.getProperty(\"printername\");\n            //String fileLocation = prop.getProperty(\"filelocation\");\n            String printStatus = prop.getProperty(\"enableprint\");\n            Double height = Double.valueOf(prop.getProperty(\"height\"));\n            Double width = Double.valueOf(prop.getProperty(\"width\"));\n            Boolean enablePrintPageSetup = Boolean.valueOf(prop.getProperty(\"enablePrintPageSetup\"));\n            PDDocument pdf = PDDocument.load(new File(location));\n            PrinterJob job = PrinterJob.getPrinterJob();\n            Paper paper = new Paper();\n            paper.setSize((width*72), (height*72)); // 1/72 inch\n            paper.setImageableArea(0, 0, paper.getWidth(), paper.getHeight());\n            PageFormat pageFormat = new PageFormat();\n                if(enablePrintPageSetup) {\n                    pageFormat.setPaper(paper);\n                }\n            pageFormat.setOrientation(PageFormat.PORTRAIT);\n            Book book = new Book();\n            PDFPrintable pdfPrintable = new PDFPrintable(pdf, Scaling.SHRINK_TO_FIT);\n            book.append(pdfPrintable, pageFormat, pdf.getNumberOfPages());\n            job.setPageable(book);\n            PrintService printService = choosePrinter(printerName);\n            if(printService != null) {\n                if(Boolean.parseBoolean(printStatus)) {\n                    LOGGER.info(\"Print enabled  \");\n                     job.setPrintService(printService);\n                     job.print();\n                } else {\n                    LOGGER.info(\"Print disbaled  \");\n                }\n            } else {\n                System.out.println(\"No PDF printer available.\");\n                LOGGER.info(\"===== No PDF printer available. =======\");\n            }\n            System.out.println(\"===== PRINT JOB 2 STOPPED =======\");\n            LOGGER.info(\"===== PRINT JOB 2 STOPPED =======\");\n        } catch (Exception e) {\n            // TODO Auto-generated catch block\n            LOGGER.error(\"Error : \", e);\n            e.printStackTrace();\n        }\n    }\n    private static Properties getProperty() {\n        Properties prop = new Properties();\n        try {\n\n            File jarPath=new File(App_1.class.getProtectionDomain().getCodeSource().getLocation().getPath());\n            String propertiesPath=jarPath.getParentFile().getAbsolutePath();\n            System.out.println(\" propertiesPath-\"+propertiesPath);\n            prop.load(new FileInputStream(propertiesPath+\"/config.properties\"));\n            location = propertiesPath + \"/printpdf.pdf\";\n        } catch (Exception e) {\n           e.printStackTrace(); \n           LOGGER.error(\"Error : \", e);\n        }\n        return prop;\n    }\n</code></pre>\n"},{"tags":["java","java-http-client"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1654166075,"post_id":72474651,"comment_id":128028660,"body_markdown":"What happens if you remove `builder.setHeader(&quot;Transfer-Encoding&quot;, &quot;chunked&quot;);`? Because that sounds like an option that should be decided by the http client itself, not by you. Same goes probably for `builder.setHeader(&quot;Accept-Encoding&quot;,   &quot;gzip,deflate&quot;);`.","body":"What happens if you remove <code>builder.setHeader(&quot;Transfer-Encoding&quot;, &quot;chunked&quot;);</code>? Because that sounds like an option that should be decided by the http client itself, not by you. Same goes probably for <code>builder.setHeader(&quot;Accept-Encoding&quot;,   &quot;gzip,deflate&quot;);</code>."},{"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"score":0,"creation_date":1654166993,"post_id":72474651,"comment_id":128028940,"body_markdown":"Thanks for the suggestion.  Unfortunately it made no difference.","body":"Thanks for the suggestion.  Unfortunately it made no difference."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1654175412,"post_id":72474651,"comment_id":128032089,"body_markdown":"**Your server is not an HTTP server.** It tries to `readAllBytes` on the socket, which reads until the peer (client) disconnects, but nonancient HTTP (1.0&#39; up) doesn&#39;t disconnect and doesn&#39;t delimit requests or responses using disconnection. See RFC7230 et seq, or 2616, or wikipedia. Either use something that actually is an HTTP server like com.sun.net.httpserver, Glassfish, Tomcat, Jetty, Netty; or _correctly_ implement HTTP, which is a good deal of work, which is exactly why products like the above exist.","body":"<b>Your server is not an HTTP server.</b> It tries to <code>readAllBytes</code> on the socket, which reads until the peer (client) disconnects, but nonancient HTTP (1.0&#39; up) doesn&#39;t disconnect and doesn&#39;t delimit requests or responses using disconnection. See RFC7230 et seq, or 2616, or wikipedia. Either use something that actually is an HTTP server like com.sun.net.httpserver, Glassfish, Tomcat, Jetty, Netty; or <i>correctly</i> implement HTTP, which is a good deal of work, which is exactly why products like the above exist."},{"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"score":0,"creation_date":1654185168,"post_id":72474651,"comment_id":128036050,"body_markdown":"@dave_thompson_085\nThanks.\nreadAllBytes was the vital clue!\nI&#39;ve changed it to just do reads &amp; the data are getting through.\nI&#39;m writing a minimalistic CUPS Client to replace CUPS4J &amp; the Server was just to see whats going over the line.\nI can now see my Client is sending the right content, albeit split over 2 packets\n&amp; with a Content-Length header, which the apache Client in CUPS4J did not have.\nIt&#39;s still not working, but I think you&#39;ve helped me get a lot closer.\nI&#39;m now getting an rc=200, so I think I just have to get it to send it all as 1 packet or omit Content-Length or both.","body":"@dave_thompson_085 Thanks. readAllBytes was the vital clue! I&#39;ve changed it to just do reads &amp; the data are getting through. I&#39;m writing a minimalistic CUPS Client to replace CUPS4J &amp; the Server was just to see whats going over the line. I can now see my Client is sending the right content, albeit split over 2 packets &amp; with a Content-Length header, which the apache Client in CUPS4J did not have. It&#39;s still not working, but I think you&#39;ve helped me get a lot closer. I&#39;m now getting an rc=200, so I think I just have to get it to send it all as 1 packet or omit Content-Length or both."},{"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"score":0,"creation_date":1654232484,"post_id":72474651,"comment_id":128046464,"body_markdown":"...Further to that previous comment: having fixed the readAllBytes issue, I was able to get my content correct &amp; send it to the real CUPS Server, which yielded rc=200 (&quot;ok&quot;) but no data in the Log in the Eclipse Console. But actually 88,000 bytes were being returned!! It turned out, the logging of the 88,000 bytes returned was just not being displayed in the Console for some reason (an issue with Eclipse, or maybe SLF4J?). Anyway, having split the output into bite-sized chunks of 4096, the logging displayed the contents just fine.","body":"...Further to that previous comment: having fixed the readAllBytes issue, I was able to get my content correct &amp; send it to the real CUPS Server, which yielded rc=200 (&quot;ok&quot;) but no data in the Log in the Eclipse Console. But actually 88,000 bytes were being returned!! It turned out, the logging of the 88,000 bytes returned was just not being displayed in the Console for some reason (an issue with Eclipse, or maybe SLF4J?). Anyway, having split the output into bite-sized chunks of 4096, the logging displayed the contents just fine."}],"answers":[{"tags":[],"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654240664,"creation_date":1654240664,"answer_id":72486003,"question_id":72474651,"body_markdown":"Once again, many thanks to @dave_thompson_085 for the comments regarding readAllBytes.\r\n\r\nThat was a great help.\r\n\r\nIt was not the intention to write an HTTP-Server, just find exactly what CUPS4J was sending over the line &amp; write a Client based on the new (JDK 11) HttpClient to replace it.\r\n\r\nHere are my modified sources &amp; some logging output...\r\n\r\nClient Source:\r\n\r\n    package de.ipp.client.server;\r\n    \r\n    import java.net.URI;\r\n    import java.net.http.*;\r\n    import java.net.http.HttpRequest.*;\r\n    import java.net.http.HttpResponse.BodyHandlers;\r\n    import java.time.Duration;\r\n    \r\n    public class IppClient {\r\n    \r\n    \tpublic static final byte[] PAYLOAD = &quot;SomeBytes&quot;.getBytes();\r\n    \r\n    \tpublic static void main(final String[] args) throws Exception {\r\n    \t\tThread.currentThread().setName(&quot;myClient&quot;);\r\n    \r\n    \t\tfinal URI         uri     = new URI(&quot;http://localhost:&quot; + IppServer.PORT + &quot;/printers&quot;);\r\n    \r\n    \t\tfinal Builder     builder = HttpRequest.newBuilder();\r\n    \t\t;                 builder.uri      (uri);\r\n    \t\t;                 builder.setHeader(&quot;Content-Type&quot;, &quot;application/ipp&quot;);\r\n    \t\t;                 builder.POST     (HttpRequest.BodyPublishers.ofByteArray(PAYLOAD));\r\n    \r\n    \t\tSystem.out.println(IppServer.logPrefix() + &quot;IppClient Posting.: &quot; + uri);\r\n    \r\n    \t\tHttpClient.newBuilder().build().sendAsync(builder.build(), BodyHandlers.ofByteArray());\r\n    \r\n    \t\tThread.sleep(Duration.ofSeconds(3).toMillis()); // (give Server time to serve!!)\r\n    \r\n    \t\tSystem.out.println(IppServer.logPrefix() + &quot;IppClient Posted... (async)&quot;);\r\n    \t}\r\n    }\r\n\r\nServer Source:\r\n\r\n    package de.ipp.client.server;\r\n    \r\n    import java.io.*;\r\n    import java.net.*;\r\n    import java.time.LocalDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Arrays;\r\n    \r\n    public class IppServer {\r\n    \r\n    \tprivate static final DateTimeFormatter HH_MM_SS_NANOS = DateTimeFormatter.ofPattern(&quot;HH.mm.ss.SSSSSSSSS&#39; &#39;&quot;);\r\n    \r\n    \tpublic  static final int PORT = 31613;\r\n    \r\n    \tpublic  static void main(final String[] args) throws IOException {\r\n    \t\tThread.currentThread().setName(&quot;LISTENER&quot;);\r\n    \r\n    \t\tSystem        .out.println(logPrefix() + &quot;IppServer Start....&quot;);\r\n    \r\n    \t\ttry(final ServerSocket serverSocket = new ServerSocket(PORT))\r\n    \t\t{\r\n    \t\t\tSystem    .out.println(logPrefix() + &quot;IppServer Running.: &quot; + serverSocket);\r\n    \r\n    \t\t\twhile (true) {\r\n    \t\t\t\tfinal Socket socket = serverSocket.accept();\r\n    \r\n    \t\t\t\tSystem.out.println(logPrefix() + &quot;IppServer Socket..: incoming -&gt; &quot; + socket);\r\n    \r\n    \t\t\t\tfinal Thread thread = new Thread(getSocketRunnable(socket));\r\n    \t\t\t\t;            thread.setDaemon(true);\r\n    \t\t\t\t;            thread.start();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static Runnable getSocketRunnable(final Socket socket) {\r\n    \t\treturn () -&gt; {\r\n    \t\t\ttry(final InputStream ist   = socket.getInputStream())\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(logPrefix() + &quot;IppServer Reading..&quot;);\r\n    \r\n    \t\t\t\tfinal byte[]      buf   = new byte[4096];\r\n    \t\t\t\t;     int         count;\r\n    \r\n    \t\t\t\twhile ((count = ist.read(buf)) != -1) {\r\n    \t\t\t\t\tlogBytes(buf, count);\r\n    \r\n    \t\t\t\t\tif (0 == Arrays.compare(buf, 0, count, IppClient.PAYLOAD, 0, IppClient.PAYLOAD.length)) {\r\n    \t\t\t\t\t\t/*\r\n    \t\t\t\t\t\t * For our purposes, it is sufficient that the payload was received OK.\r\n    \t\t\t\t\t\t * We do not need to complete the HTTP Handshake, so just break off the dialogue...\r\n    \t\t\t\t\t\t */\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tcatch (final IOException e) {\r\n    \t\t\t\tSystem.out.println(logPrefix() + &quot;IppServer Error!!.: &quot; + e.getMessage());\r\n    \t\t\t}\r\n    \t\t};\r\n    \t}\r\n    \r\n    \tprivate static void logBytes(final byte[] bytes, final int count) {\r\n    \r\n    \t\tfinal StringBuilder sbd = new StringBuilder(count * 2);\r\n    \t\t;     byte          b;\r\n    \r\n    \t\tfor (int i=0; i &lt; count; i++) {\r\n    \t\t\tb = bytes[i];\r\n    \r\n    \t\t\tif (b &gt; 32   ) {sbd.append( (char) b);  continue;}\r\n    \r\n    \t\t\tif (b == &#39;\\r&#39;) {sbd.append(&quot;[\\\\r]&quot;);    continue;}\r\n    \t\t\tif (b == &#39;\\n&#39;) {sbd.append(&quot;[\\\\n]&quot;);    continue;}\r\n    \r\n    \t\t\tsbd.append(&quot;[0x&quot;).append(Integer.toHexString(b)).append(&#39;]&#39;);\r\n    \t\t}\r\n    \t\tSystem.out.println(logPrefix() + &quot;IppServer Bytes...: L=&quot; + count + &#39;\\t&#39; + sbd.toString());\r\n    \t}\r\n    \r\n    \tpublic static String logPrefix() {\r\n    \t\treturn &#39;[&#39; + Thread.currentThread().getName() + &quot;] &quot; + HH_MM_SS_NANOS.format(LocalDateTime.now());\r\n    \t}\r\n    }\r\n\r\nLogs:\r\n\r\n    [LISTENER] 08.49.25.232446900 IppServer Start....\r\n    [LISTENER] 08.49.25.261367100 IppServer Running.: ServerSocket[addr=0.0.0.0/0.0.0.0,localport=31613]\r\n    [LISTENER] 08.49.38.749640100 IppServer Socket..: incoming -&gt; Socket[addr=/127.0.0.1,port=65073,localport=31613]\r\n    [Thread-0] 08.49.38.753629400 IppServer Reading..\r\n    [Thread-0] 08.49.38.776568000 IppServer Bytes...: L=246\tPOST[0x20]/printers[0x20]HTTP/1.1[\\r][\\n]Connection:[0x20]Upgrade,[0x20]HTTP2-Settings[\\r][\\n]Content-Length:[0x20]9[\\r][\\n]Host:[0x20]localhost:31613[\\r][\\n]HTTP2-Settings:[0x20]AAEAAEAAAAIAAAABAAMAAABkAAQBAAAAAAUAAEAA[\\r][\\n]Upgrade:[0x20]h2c[\\r][\\n]User-Agent:[0x20]Java-http-client/17.0.1[\\r][\\n]Content-Type:[0x20]application/ipp[\\r][\\n][\\r][\\n]\r\n    [Thread-0] 08.49.38.780556300 IppServer Bytes...: L=9\tSomeBytes\r\n    [LISTENER] 08.50.22.853368800 IppServer Socket..: incoming -&gt; Socket[addr=/127.0.0.1,port=65091,localport=31613]\r\n    [Thread-1] 08.50.22.854365100 IppServer Reading..\r\n    [Thread-1] 08.50.22.880294200 IppServer Bytes...: L=246\tPOST[0x20]/printers[0x20]HTTP/1.1[\\r][\\n]Connection:[0x20]Upgrade,[0x20]HTTP2-Settings[\\r][\\n]Content-Length:[0x20]9[\\r][\\n]Host:[0x20]localhost:31613[\\r][\\n]HTTP2-Settings:[0x20]AAEAAEAAAAIAAAABAAMAAABkAAQBAAAAAAUAAEAA[\\r][\\n]Upgrade:[0x20]h2c[\\r][\\n]User-Agent:[0x20]Java-http-client/17.0.1[\\r][\\n]Content-Type:[0x20]application/ipp[\\r][\\n][\\r][\\n]\r\n    [Thread-1] 08.50.22.885280900 IppServer Bytes...: L=9\tSomeBytes\r\n    [LISTENER] 09.01.07.880173600 IppServer Socket..: incoming -&gt; Socket[addr=/127.0.0.1,port=65397,localport=31613]\r\n    [Thread-2] 09.01.07.881169400 IppServer Reading..\r\n    [Thread-2] 09.01.07.908097800 IppServer Bytes...: L=246\tPOST[0x20]/printers[0x20]HTTP/1.1[\\r][\\n]Connection:[0x20]Upgrade,[0x20]HTTP2-Settings[\\r][\\n]Content-Length:[0x20]9[\\r][\\n]Host:[0x20]localhost:31613[\\r][\\n]HTTP2-Settings:[0x20]AAEAAEAAAAIAAAABAAMAAABkAAQBAAAAAAUAAEAA[\\r][\\n]Upgrade:[0x20]h2c[\\r][\\n]User-Agent:[0x20]Java-http-client/17.0.1[\\r][\\n]Content-Type:[0x20]application/ipp[\\r][\\n][\\r][\\n]\r\n    [Thread-2] 09.01.07.914083500 IppServer Bytes...: L=9\tSomeBytes\r\n    \r\n    [myClient] 09.01.06.956313800 IppClient Posting.: http://localhost:31613/printers\r\n    [myClient] 09.01.10.783634700 IppClient Posted... (async)\r\n\r\n\r\n\r\n","title":"java.net.http.HttpClient not POST&#39;ing data to Server?","body":"<p>Once again, many thanks to @dave_thompson_085 for the comments regarding readAllBytes.</p>\n<p>That was a great help.</p>\n<p>It was not the intention to write an HTTP-Server, just find exactly what CUPS4J was sending over the line &amp; write a Client based on the new (JDK 11) HttpClient to replace it.</p>\n<p>Here are my modified sources &amp; some logging output...</p>\n<p>Client Source:</p>\n<pre><code>package de.ipp.client.server;\n\nimport java.net.URI;\nimport java.net.http.*;\nimport java.net.http.HttpRequest.*;\nimport java.net.http.HttpResponse.BodyHandlers;\nimport java.time.Duration;\n\npublic class IppClient {\n\n    public static final byte[] PAYLOAD = &quot;SomeBytes&quot;.getBytes();\n\n    public static void main(final String[] args) throws Exception {\n        Thread.currentThread().setName(&quot;myClient&quot;);\n\n        final URI         uri     = new URI(&quot;http://localhost:&quot; + IppServer.PORT + &quot;/printers&quot;);\n\n        final Builder     builder = HttpRequest.newBuilder();\n        ;                 builder.uri      (uri);\n        ;                 builder.setHeader(&quot;Content-Type&quot;, &quot;application/ipp&quot;);\n        ;                 builder.POST     (HttpRequest.BodyPublishers.ofByteArray(PAYLOAD));\n\n        System.out.println(IppServer.logPrefix() + &quot;IppClient Posting.: &quot; + uri);\n\n        HttpClient.newBuilder().build().sendAsync(builder.build(), BodyHandlers.ofByteArray());\n\n        Thread.sleep(Duration.ofSeconds(3).toMillis()); // (give Server time to serve!!)\n\n        System.out.println(IppServer.logPrefix() + &quot;IppClient Posted... (async)&quot;);\n    }\n}\n</code></pre>\n<p>Server Source:</p>\n<pre><code>package de.ipp.client.server;\n\nimport java.io.*;\nimport java.net.*;\nimport java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Arrays;\n\npublic class IppServer {\n\n    private static final DateTimeFormatter HH_MM_SS_NANOS = DateTimeFormatter.ofPattern(&quot;HH.mm.ss.SSSSSSSSS' '&quot;);\n\n    public  static final int PORT = 31613;\n\n    public  static void main(final String[] args) throws IOException {\n        Thread.currentThread().setName(&quot;LISTENER&quot;);\n\n        System        .out.println(logPrefix() + &quot;IppServer Start....&quot;);\n\n        try(final ServerSocket serverSocket = new ServerSocket(PORT))\n        {\n            System    .out.println(logPrefix() + &quot;IppServer Running.: &quot; + serverSocket);\n\n            while (true) {\n                final Socket socket = serverSocket.accept();\n\n                System.out.println(logPrefix() + &quot;IppServer Socket..: incoming -&gt; &quot; + socket);\n\n                final Thread thread = new Thread(getSocketRunnable(socket));\n                ;            thread.setDaemon(true);\n                ;            thread.start();\n            }\n        }\n    }\n\n    private static Runnable getSocketRunnable(final Socket socket) {\n        return () -&gt; {\n            try(final InputStream ist   = socket.getInputStream())\n            {\n                System.out.println(logPrefix() + &quot;IppServer Reading..&quot;);\n\n                final byte[]      buf   = new byte[4096];\n                ;     int         count;\n\n                while ((count = ist.read(buf)) != -1) {\n                    logBytes(buf, count);\n\n                    if (0 == Arrays.compare(buf, 0, count, IppClient.PAYLOAD, 0, IppClient.PAYLOAD.length)) {\n                        /*\n                         * For our purposes, it is sufficient that the payload was received OK.\n                         * We do not need to complete the HTTP Handshake, so just break off the dialogue...\n                         */\n                        break;\n                    }\n                }\n            }\n            catch (final IOException e) {\n                System.out.println(logPrefix() + &quot;IppServer Error!!.: &quot; + e.getMessage());\n            }\n        };\n    }\n\n    private static void logBytes(final byte[] bytes, final int count) {\n\n        final StringBuilder sbd = new StringBuilder(count * 2);\n        ;     byte          b;\n\n        for (int i=0; i &lt; count; i++) {\n            b = bytes[i];\n\n            if (b &gt; 32   ) {sbd.append( (char) b);  continue;}\n\n            if (b == '\\r') {sbd.append(&quot;[\\\\r]&quot;);    continue;}\n            if (b == '\\n') {sbd.append(&quot;[\\\\n]&quot;);    continue;}\n\n            sbd.append(&quot;[0x&quot;).append(Integer.toHexString(b)).append(']');\n        }\n        System.out.println(logPrefix() + &quot;IppServer Bytes...: L=&quot; + count + '\\t' + sbd.toString());\n    }\n\n    public static String logPrefix() {\n        return '[' + Thread.currentThread().getName() + &quot;] &quot; + HH_MM_SS_NANOS.format(LocalDateTime.now());\n    }\n}\n</code></pre>\n<p>Logs:</p>\n<pre><code>[LISTENER] 08.49.25.232446900 IppServer Start....\n[LISTENER] 08.49.25.261367100 IppServer Running.: ServerSocket[addr=0.0.0.0/0.0.0.0,localport=31613]\n[LISTENER] 08.49.38.749640100 IppServer Socket..: incoming -&gt; Socket[addr=/127.0.0.1,port=65073,localport=31613]\n[Thread-0] 08.49.38.753629400 IppServer Reading..\n[Thread-0] 08.49.38.776568000 IppServer Bytes...: L=246 POST[0x20]/printers[0x20]HTTP/1.1[\\r][\\n]Connection:[0x20]Upgrade,[0x20]HTTP2-Settings[\\r][\\n]Content-Length:[0x20]9[\\r][\\n]Host:[0x20]localhost:31613[\\r][\\n]HTTP2-Settings:[0x20]AAEAAEAAAAIAAAABAAMAAABkAAQBAAAAAAUAAEAA[\\r][\\n]Upgrade:[0x20]h2c[\\r][\\n]User-Agent:[0x20]Java-http-client/17.0.1[\\r][\\n]Content-Type:[0x20]application/ipp[\\r][\\n][\\r][\\n]\n[Thread-0] 08.49.38.780556300 IppServer Bytes...: L=9   SomeBytes\n[LISTENER] 08.50.22.853368800 IppServer Socket..: incoming -&gt; Socket[addr=/127.0.0.1,port=65091,localport=31613]\n[Thread-1] 08.50.22.854365100 IppServer Reading..\n[Thread-1] 08.50.22.880294200 IppServer Bytes...: L=246 POST[0x20]/printers[0x20]HTTP/1.1[\\r][\\n]Connection:[0x20]Upgrade,[0x20]HTTP2-Settings[\\r][\\n]Content-Length:[0x20]9[\\r][\\n]Host:[0x20]localhost:31613[\\r][\\n]HTTP2-Settings:[0x20]AAEAAEAAAAIAAAABAAMAAABkAAQBAAAAAAUAAEAA[\\r][\\n]Upgrade:[0x20]h2c[\\r][\\n]User-Agent:[0x20]Java-http-client/17.0.1[\\r][\\n]Content-Type:[0x20]application/ipp[\\r][\\n][\\r][\\n]\n[Thread-1] 08.50.22.885280900 IppServer Bytes...: L=9   SomeBytes\n[LISTENER] 09.01.07.880173600 IppServer Socket..: incoming -&gt; Socket[addr=/127.0.0.1,port=65397,localport=31613]\n[Thread-2] 09.01.07.881169400 IppServer Reading..\n[Thread-2] 09.01.07.908097800 IppServer Bytes...: L=246 POST[0x20]/printers[0x20]HTTP/1.1[\\r][\\n]Connection:[0x20]Upgrade,[0x20]HTTP2-Settings[\\r][\\n]Content-Length:[0x20]9[\\r][\\n]Host:[0x20]localhost:31613[\\r][\\n]HTTP2-Settings:[0x20]AAEAAEAAAAIAAAABAAMAAABkAAQBAAAAAAUAAEAA[\\r][\\n]Upgrade:[0x20]h2c[\\r][\\n]User-Agent:[0x20]Java-http-client/17.0.1[\\r][\\n]Content-Type:[0x20]application/ipp[\\r][\\n][\\r][\\n]\n[Thread-2] 09.01.07.914083500 IppServer Bytes...: L=9   SomeBytes\n\n[myClient] 09.01.06.956313800 IppClient Posting.: http://localhost:31613/printers\n[myClient] 09.01.10.783634700 IppClient Posted... (async)\n</code></pre>\n"}],"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":461,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72486003,"answer_count":1,"score":0,"last_activity_date":1654240664,"creation_date":1654165506,"question_id":72474651,"body_markdown":"I&#39;m trying to write a simple HTTP Client &amp; Server using the new (JDK 11) HttpClient.\r\n\r\nJDK.: OpenJDK 17.0.0\r\n\r\nThe Client is connecting to the Server but doesn&#39;t seem to be POST&#39;ing any data.\r\n\r\nAfter the Server receives the incoming Connection, it tries to read the data.&lt;br&gt;\r\nThe read never ends.&lt;br&gt;\r\nDoes anyone know what I&#39;m doing wrong?\r\n\r\nServer Source:\r\n\r\n    package de.ipp.client.server;\r\n    \r\n    import java.io.*;\r\n    import java.net.*;\r\n    import java.time.ZonedDateTime;\r\n    \r\n    public class IppServer {\r\n    \r\n    \tpublic static final int PORT = 31613;\r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \r\n    \t\tSystem    .out.println(ZonedDateTime.now() + &quot; IppServer Start.....&quot;);\r\n    \r\n    \t\ttry(final ServerSocket serverSocket = new ServerSocket(PORT))\r\n    \t\t{\r\n    \t\t\tSystem.out.println(ZonedDateTime.now() + &quot; IppServer Running..: &quot; + serverSocket);\r\n    \r\n    \t\t\twhile (true) {\r\n    \t\t\t\tfinal Thread thread = new Thread(getSocketRunnable(serverSocket.accept()));\r\n    \t\t\t\t;            thread.setDaemon(true);\r\n    \t\t\t\t;            thread.start();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static Runnable getSocketRunnable(final Socket socket) {\r\n    \t\treturn () -&gt; {\r\n    \t\t\tSystem    .out.println(ZonedDateTime.now() + &quot; IppServer Socket...: incoming -&gt; &quot; + socket);\r\n    \r\n    \t\t\ttry(final InputStream ist   = socket.getInputStream())\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(ZonedDateTime.now() + &quot; IppServer Reading...&quot;);\r\n    \r\n    \t\t\t\tfinal byte[]      bytes = ist.readAllBytes();\r\n    \r\n    \t\t\t\tSystem.out.println(ZonedDateTime.now() + &quot; IppServer L&#39;Bytes..: &quot; + bytes.length);\r\n    \t\t\t}\r\n    \t\t\tcatch (final IOException e) {\r\n    \t\t\t\tSystem.out.println(ZonedDateTime.now() + &quot; IppServer Error!!..: &quot; + e.getMessage());\r\n    \t\t\t}\r\n    \t\t};\r\n    \t}\r\n    }\r\n\r\nClient Source:\r\n\r\n    package de.ipp.client.server;\r\n    \r\n    import java.net.URI;\r\n    import java.net.http.*;\r\n    import java.net.http.HttpClient.Version;\r\n    import java.net.http.HttpRequest.*;\r\n    import java.net.http.HttpResponse.BodyHandlers;\r\n    import java.time.ZonedDateTime;\r\n    \r\n    public class IppClient {\r\n    \r\n    \tpublic static void main(final String[] args) throws Exception {\r\n    \r\n    \t\tfinal URI                  uri       = new URI(&quot;http://localhost:&quot; + IppServer.PORT + &quot;/printers&quot;);\r\n    \t\tfinal BodyPublisher        publisher = HttpRequest.BodyPublishers.ofByteArray(&quot;SomeBytes&quot;.getBytes());\r\n    \r\n    \t\tfinal Builder              builder   = HttpRequest.newBuilder();\r\n    \t\t;                          builder.uri      (uri);\r\n    \t\t;                          builder.version  (Version.HTTP_1_1);\r\n    \t\t;                          builder.setHeader(&quot;Transfer-Encoding&quot;, &quot;chunked&quot;);\r\n    \t\t;                          builder.setHeader(&quot;Content-Type&quot;,      &quot;application/ipp&quot;);\r\n    \t\t;                          builder.setHeader(&quot;Accept-Encoding&quot;,   &quot;gzip,deflate&quot;);\r\n    \t\t;                          builder.POST(publisher);\r\n    \r\n    \t\tfinal HttpRequest          request   = builder.build();\r\n    \r\n    \t\tSystem.out.println(ZonedDateTime.now() + &quot; IppClient Posting..: &quot; + uri);\r\n    \r\n    \t\tfinal HttpResponse&lt;byte[]&gt; response  = HttpClient.newHttpClient().send(request, BodyHandlers.ofByteArray());\r\n    \r\n    \t\tSystem.out.println(ZonedDateTime.now() + &quot; IppClient Response.: &quot; + response.statusCode());\r\n    \t}\r\n    }\r\n\r\nLogs:\r\n\r\n    2022-06-02T11:52:23.378674200+02:00[Europe/Berlin] IppServer Start.....\r\n    2022-06-02T11:52:23.411587200+02:00[Europe/Berlin] IppServer Running..: ServerSocket[addr=0.0.0.0/0.0.0.0,localport=31613]\r\n    2022-06-02T11:53:31.229082300+02:00[Europe/Berlin] IppServer Socket...: incoming -&gt; Socket[addr=/127.0.0.1,port=55978,localport=31613]\r\n    2022-06-02T11:53:31.232074700+02:00[Europe/Berlin] IppServer Reading...\r\n    \r\n    2022-06-02T11:53:30.474583800+02:00[Europe/Berlin] IppClient Posting..: http://localhost:31613/printers\r\n\r\n\r\n","title":"java.net.http.HttpClient not POST&#39;ing data to Server?","body":"<p>I'm trying to write a simple HTTP Client &amp; Server using the new (JDK 11) HttpClient.</p>\n<p>JDK.: OpenJDK 17.0.0</p>\n<p>The Client is connecting to the Server but doesn't seem to be POST'ing any data.</p>\n<p>After the Server receives the incoming Connection, it tries to read the data.<br>\nThe read never ends.<br>\nDoes anyone know what I'm doing wrong?</p>\n<p>Server Source:</p>\n<pre><code>package de.ipp.client.server;\n\nimport java.io.*;\nimport java.net.*;\nimport java.time.ZonedDateTime;\n\npublic class IppServer {\n\n    public static final int PORT = 31613;\n\n    public static void main(String[] args) throws IOException {\n\n        System    .out.println(ZonedDateTime.now() + &quot; IppServer Start.....&quot;);\n\n        try(final ServerSocket serverSocket = new ServerSocket(PORT))\n        {\n            System.out.println(ZonedDateTime.now() + &quot; IppServer Running..: &quot; + serverSocket);\n\n            while (true) {\n                final Thread thread = new Thread(getSocketRunnable(serverSocket.accept()));\n                ;            thread.setDaemon(true);\n                ;            thread.start();\n            }\n        }\n    }\n\n    private static Runnable getSocketRunnable(final Socket socket) {\n        return () -&gt; {\n            System    .out.println(ZonedDateTime.now() + &quot; IppServer Socket...: incoming -&gt; &quot; + socket);\n\n            try(final InputStream ist   = socket.getInputStream())\n            {\n                System.out.println(ZonedDateTime.now() + &quot; IppServer Reading...&quot;);\n\n                final byte[]      bytes = ist.readAllBytes();\n\n                System.out.println(ZonedDateTime.now() + &quot; IppServer L'Bytes..: &quot; + bytes.length);\n            }\n            catch (final IOException e) {\n                System.out.println(ZonedDateTime.now() + &quot; IppServer Error!!..: &quot; + e.getMessage());\n            }\n        };\n    }\n}\n</code></pre>\n<p>Client Source:</p>\n<pre><code>package de.ipp.client.server;\n\nimport java.net.URI;\nimport java.net.http.*;\nimport java.net.http.HttpClient.Version;\nimport java.net.http.HttpRequest.*;\nimport java.net.http.HttpResponse.BodyHandlers;\nimport java.time.ZonedDateTime;\n\npublic class IppClient {\n\n    public static void main(final String[] args) throws Exception {\n\n        final URI                  uri       = new URI(&quot;http://localhost:&quot; + IppServer.PORT + &quot;/printers&quot;);\n        final BodyPublisher        publisher = HttpRequest.BodyPublishers.ofByteArray(&quot;SomeBytes&quot;.getBytes());\n\n        final Builder              builder   = HttpRequest.newBuilder();\n        ;                          builder.uri      (uri);\n        ;                          builder.version  (Version.HTTP_1_1);\n        ;                          builder.setHeader(&quot;Transfer-Encoding&quot;, &quot;chunked&quot;);\n        ;                          builder.setHeader(&quot;Content-Type&quot;,      &quot;application/ipp&quot;);\n        ;                          builder.setHeader(&quot;Accept-Encoding&quot;,   &quot;gzip,deflate&quot;);\n        ;                          builder.POST(publisher);\n\n        final HttpRequest          request   = builder.build();\n\n        System.out.println(ZonedDateTime.now() + &quot; IppClient Posting..: &quot; + uri);\n\n        final HttpResponse&lt;byte[]&gt; response  = HttpClient.newHttpClient().send(request, BodyHandlers.ofByteArray());\n\n        System.out.println(ZonedDateTime.now() + &quot; IppClient Response.: &quot; + response.statusCode());\n    }\n}\n</code></pre>\n<p>Logs:</p>\n<pre><code>2022-06-02T11:52:23.378674200+02:00[Europe/Berlin] IppServer Start.....\n2022-06-02T11:52:23.411587200+02:00[Europe/Berlin] IppServer Running..: ServerSocket[addr=0.0.0.0/0.0.0.0,localport=31613]\n2022-06-02T11:53:31.229082300+02:00[Europe/Berlin] IppServer Socket...: incoming -&gt; Socket[addr=/127.0.0.1,port=55978,localport=31613]\n2022-06-02T11:53:31.232074700+02:00[Europe/Berlin] IppServer Reading...\n\n2022-06-02T11:53:30.474583800+02:00[Europe/Berlin] IppClient Posting..: http://localhost:31613/printers\n</code></pre>\n"},{"tags":["java","spring","spring-boot","java-stream","comparator"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1654202413,"post_id":72481968,"comment_id":128041683,"body_markdown":"`Arrays.stream(resources).sorted()` requires some logic on which criteria to sort. You can either pass a `Comparator` to `sorted` or the stream you want to sort has to contain elements that implement `Comparable`. The latter is not the case here, hence the Exception.","body":"<code>Arrays.stream(resources).sorted()</code> requires some logic on which criteria to sort. You can either pass a <code>Comparator</code> to <code>sorted</code> or the stream you want to sort has to contain elements that implement <code>Comparable</code>. The latter is not the case here, hence the Exception."},{"owner":{"account_id":13789219,"reputation":48460,"user_id":9952196,"display_name":"Shawn"},"score":0,"creation_date":1654202422,"post_id":72481968,"comment_id":128041687,"body_markdown":"Sure you&#39;re not getting that from the `sorted()`?","body":"Sure you&#39;re not getting that from the <code>sorted()</code>?"}],"answers":[{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654203875,"creation_date":1654203875,"answer_id":72482339,"question_id":72481968,"body_markdown":"`org.springframework.core.io.FileSystemResource` obviously does not implement the `Comparable&lt;T&gt;` interface, so your call to `sorted` throws an Exception.\r\n\r\nYou could either pass a `Comparator` to `sorted`, but it would be easier to simply move the call to `sorted` *after* the `map` operation, since `java.io.File` does implement `Comparable`.","title":"Convert Resource array to File ArrayList","body":"<p><code>org.springframework.core.io.FileSystemResource</code> obviously does not implement the <code>Comparable&lt;T&gt;</code> interface, so your call to <code>sorted</code> throws an Exception.</p>\n<p>You could either pass a <code>Comparator</code> to <code>sorted</code>, but it would be easier to simply move the call to <code>sorted</code> <em>after</em> the <code>map</code> operation, since <code>java.io.File</code> does implement <code>Comparable</code>.</p>\n"},{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654240439,"creation_date":1654240439,"answer_id":72485959,"question_id":72481968,"body_markdown":"As @f1sh has already said the class `FileSystemResource` is not a subtype of `Comparable`.\r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/FileSystemResource.html\r\n\r\nTo sort your files, you need to provide a `Comparator` instance to the `sorted()` operation. Besides, since `sorted()` is a **stateful** intermediate operation, it would be better to place it after `filter()` in order to reduce the elements to sort. In fact, a stateful operation like `sorted()` needs all the elements of the previous operation to produce a result. Its drawback is quite visible under parallel computation as pipelines containing stateful intermediate operations may require multiple passes on the data or may need to buffer significant data.\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\r\n\r\nHere is the updated version of your code:\r\n\r\n```\r\nprivate File[] sortResources(Resource[] resources) {\r\n    assert resources != null;\r\n    File[] vetRes = new File[0];\r\n    return Arrays.stream(resources)\r\n            .filter(r -&gt; r.exists() &amp;&amp; r.isFile())\r\n            .map(r -&gt; {\r\n                try {\r\n                    return r.getFile();\r\n                } catch (IOException e) {\r\n                    throw new UncheckedIOException(e);\r\n                }\r\n            })\r\n            .sorted(Comparator.comparing(File::getAbsolutePath))\r\n            .collect(Collectors.toList()).toArray(vetRes);\r\n}\r\n```","title":"Convert Resource array to File ArrayList","body":"<p>As @f1sh has already said the class <code>FileSystemResource</code> is not a subtype of <code>Comparable</code>.</p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/FileSystemResource.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/FileSystemResource.html</a></p>\n<p>To sort your files, you need to provide a <code>Comparator</code> instance to the <code>sorted()</code> operation. Besides, since <code>sorted()</code> is a <strong>stateful</strong> intermediate operation, it would be better to place it after <code>filter()</code> in order to reduce the elements to sort. In fact, a stateful operation like <code>sorted()</code> needs all the elements of the previous operation to produce a result. Its drawback is quite visible under parallel computation as pipelines containing stateful intermediate operations may require multiple passes on the data or may need to buffer significant data.</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html</a></p>\n<p>Here is the updated version of your code:</p>\n<pre><code>private File[] sortResources(Resource[] resources) {\n    assert resources != null;\n    File[] vetRes = new File[0];\n    return Arrays.stream(resources)\n            .filter(r -&gt; r.exists() &amp;&amp; r.isFile())\n            .map(r -&gt; {\n                try {\n                    return r.getFile();\n                } catch (IOException e) {\n                    throw new UncheckedIOException(e);\n                }\n            })\n            .sorted(Comparator.comparing(File::getAbsolutePath))\n            .collect(Collectors.toList()).toArray(vetRes);\n}\n</code></pre>\n"}],"owner":{"account_id":984057,"reputation":1750,"user_id":1003020,"accept_rate":79,"display_name":"Vinicius Garcia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":455,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72482339,"answer_count":2,"score":1,"last_activity_date":1654240539,"creation_date":1654201489,"question_id":72481968,"body_markdown":"I am trying to read files from resource directory on a spring application.\r\n\r\n    private File[] sortResources(Resource[] resources) {\r\n        assert resources != null;\r\n\r\n        File[] files = Arrays.stream(resources).sorted()\r\n                .filter(Resource::exists).filter(Resource::isFile).map(res -&gt; {\r\n                    try {\r\n                        return res.getFile();\r\n                    } catch (IOException e) {\r\n                        throw new UncheckedIOException(e);\r\n                    }\r\n                }\r\n        ).toArray(File[]::new);\r\n\r\n        for (File f : files) {\r\n            System.out.println( f.getAbsolutePath() );\r\n        }\r\n        return files;\r\n    }\r\n\r\nUsing as follows:\r\n\r\n    // Read all directories inside dbdata/mongo/ directory.\r\n    Resource[] resources = resourcePatternResolver.getResources(&quot;classpath:dbdata/mongo/*&quot;);\r\n    List&lt;File&gt; files = sortResources(Resource[] resources);\r\n\r\nThe problem is on `sortResources` function. I want to sort and convert the Resources objects to Files objects.\r\n\r\nI can&#39;t get `.toArray()` to work, since I get the following error:\r\n\r\n    Method threw &#39;java.lang.ClassCastException&#39; exception.\r\n\r\n    class org.springframework.core.io.FileSystemResource cannot be cast to class java.lang.Comparable (org.springframework.core.io.FileSystemResource is in unnamed module of loader &#39;app&#39;; java.lang.Comparable is in module java.base of loader &#39;bootstrap&#39;)\r\n\r\nI also tried `.collect(Collectors.toList())` but I get the same error.\r\n\r\nCan someone help me on that?","title":"Convert Resource array to File ArrayList","body":"<p>I am trying to read files from resource directory on a spring application.</p>\n<pre><code>private File[] sortResources(Resource[] resources) {\n    assert resources != null;\n\n    File[] files = Arrays.stream(resources).sorted()\n            .filter(Resource::exists).filter(Resource::isFile).map(res -&gt; {\n                try {\n                    return res.getFile();\n                } catch (IOException e) {\n                    throw new UncheckedIOException(e);\n                }\n            }\n    ).toArray(File[]::new);\n\n    for (File f : files) {\n        System.out.println( f.getAbsolutePath() );\n    }\n    return files;\n}\n</code></pre>\n<p>Using as follows:</p>\n<pre><code>// Read all directories inside dbdata/mongo/ directory.\nResource[] resources = resourcePatternResolver.getResources(&quot;classpath:dbdata/mongo/*&quot;);\nList&lt;File&gt; files = sortResources(Resource[] resources);\n</code></pre>\n<p>The problem is on <code>sortResources</code> function. I want to sort and convert the Resources objects to Files objects.</p>\n<p>I can't get <code>.toArray()</code> to work, since I get the following error:</p>\n<pre><code>Method threw 'java.lang.ClassCastException' exception.\n\nclass org.springframework.core.io.FileSystemResource cannot be cast to class java.lang.Comparable (org.springframework.core.io.FileSystemResource is in unnamed module of loader 'app'; java.lang.Comparable is in module java.base of loader 'bootstrap')\n</code></pre>\n<p>I also tried <code>.collect(Collectors.toList())</code> but I get the same error.</p>\n<p>Can someone help me on that?</p>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":16125470,"reputation":253,"user_id":11640307,"display_name":"Siva Rahul"},"score":0,"creation_date":1654238913,"post_id":72485580,"comment_id":128047946,"body_markdown":"Have a List&lt;String&gt; outside the scope; add it to the list and access it after for block","body":"Have a List&lt;String&gt; outside the scope; add it to the list and access it after for block"},{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1654239461,"post_id":72485580,"comment_id":128048077,"body_markdown":"Create a global or a local scoped (outside the listener) `String` variable, break the loop once you have the relevant value inside the loop.","body":"Create a global or a local scoped (outside the listener) <code>String</code> variable, break the loop once you have the relevant value inside the loop."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1654327020,"post_id":72485580,"comment_id":128068827,"body_markdown":"There is no way you can do that. Firebase API is asynchronous. So please check the duplicate to see how can you solve this using a callback. You might also be interested in reading this [resource](https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5).","body":"There is no way you can do that. Firebase API is asynchronous. So please check the duplicate to see how can you solve this using a callback. You might also be interested in reading this <a href=\"https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5\" rel=\"nofollow noreferrer\">resource</a>."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654240413,"creation_date":1654240413,"answer_id":72485954,"question_id":72485580,"body_markdown":"You cannot retrieve that variable. It exists inside the loop only - that is the concept of variable scopes.\r\n\r\nYou need to define the variable in the scope where you want to use it. The loop has access to it&#39;s own scope but also the scope outside.\r\n\r\nIt would look like this then:\r\n\r\n    String rt = null;\r\n    \r\n    final DatabaseReference reference=FirebaseDatabase.getInstance().getReference(&quot;Client&quot;);\r\n        reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                for (DataSnapshot snapshot1:snapshot.child(&quot;c_orders&quot;).getChildren()){\r\n                    rt=snapshot1.getKey().toString();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n            }\r\n        });\r\n\r\n        FirebaseRecyclerOptions&lt;client_model_btncheckorders&gt; options2 =\r\n            new FirebaseRecyclerOptions.Builder&lt;client_model_btncheckorders&gt;()\r\n                .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;Client&quot;).child(&quot;c_orders&quot;).child(rt).child(&quot;check_orders&quot;), client_model_btncheckorders.class)\r\n                .build();\r\n        adapter2=new adapter_clientside_checkbtn(options2);\r\n        recyclerView2.setAdapter(adapter2);\r\n\r\n        return view;\r\n    }\r\n\r\nBut watch out about runtime: You set the string in an event handler. It would mean you&#39;d have to run the query after the event handler has run. Would that not justify to run it from the event handler? Or you use a separate thread? I am not sure where you actually want to use the value.","title":"How can I retrieve string variable outside a loop that is stored inside a for loop in android studio?","body":"<p>You cannot retrieve that variable. It exists inside the loop only - that is the concept of variable scopes.</p>\n<p>You need to define the variable in the scope where you want to use it. The loop has access to it's own scope but also the scope outside.</p>\n<p>It would look like this then:</p>\n<pre><code>String rt = null;\n\nfinal DatabaseReference reference=FirebaseDatabase.getInstance().getReference(&quot;Client&quot;);\n    reference.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            for (DataSnapshot snapshot1:snapshot.child(&quot;c_orders&quot;).getChildren()){\n                rt=snapshot1.getKey().toString();\n            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n        }\n    });\n\n    FirebaseRecyclerOptions&lt;client_model_btncheckorders&gt; options2 =\n        new FirebaseRecyclerOptions.Builder&lt;client_model_btncheckorders&gt;()\n            .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;Client&quot;).child(&quot;c_orders&quot;).child(rt).child(&quot;check_orders&quot;), client_model_btncheckorders.class)\n            .build();\n    adapter2=new adapter_clientside_checkbtn(options2);\n    recyclerView2.setAdapter(adapter2);\n\n    return view;\n}\n</code></pre>\n<p>But watch out about runtime: You set the string in an event handler. It would mean you'd have to run the query after the event handler has run. Would that not justify to run it from the event handler? Or you use a separate thread? I am not sure where you actually want to use the value.</p>\n"}],"owner":{"account_id":25462318,"reputation":11,"user_id":19261871,"display_name":"Akash"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1654327003,"answer_count":1,"score":0,"last_activity_date":1654240413,"creation_date":1654238128,"question_id":72485580,"body_markdown":"    final DatabaseReference reference=FirebaseDatabase.getInstance().getReference(&quot;Client&quot;);\r\n        reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                for (DataSnapshot snapshot1:snapshot.child(&quot;c_orders&quot;).getChildren()){\r\n                    final String rt=snapshot1.getKey().toString();\r\n                }\r\n            }\r\n    \r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n    \r\n            }\r\n        });\r\n    \r\n        FirebaseRecyclerOptions&lt;client_model_btncheckorders&gt; options2 =\r\n                new FirebaseRecyclerOptions.Builder&lt;client_model_btncheckorders&gt;()\r\n                        .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;Client&quot;).child(&quot;c_orders&quot;).child(rt).child(&quot;check_orders&quot;), client_model_btncheckorders.class)\r\n                        .build();\r\n        adapter2=new adapter_clientside_checkbtn(options2);\r\n        recyclerView2.setAdapter(adapter2);\r\n    \r\n    \r\n        return view;\r\n    }\r\n\r\nHere I have to retrieve the value of &quot;rt&quot; which is in for loop and that is to be then passed to a Firebase database query to retrieve the child element&#39;s value. But the problem is, &quot;rt&quot; may contain many usernames of the firebase real-time database. I have to split them and refer a each username to the query. It is not possible to write Firebase reference inside for loop because the adapter of the recycler view(where data needs to be displayed) cannot be accessed. The recycler view where I was trying to display data from firebase database displays by pressing a button of another recycler view. Is there any solution for this?\r\n","title":"How can I retrieve string variable outside a loop that is stored inside a for loop in android studio?","body":"<pre><code>final DatabaseReference reference=FirebaseDatabase.getInstance().getReference(&quot;Client&quot;);\n    reference.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            for (DataSnapshot snapshot1:snapshot.child(&quot;c_orders&quot;).getChildren()){\n                final String rt=snapshot1.getKey().toString();\n            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n\n        }\n    });\n\n    FirebaseRecyclerOptions&lt;client_model_btncheckorders&gt; options2 =\n            new FirebaseRecyclerOptions.Builder&lt;client_model_btncheckorders&gt;()\n                    .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;Client&quot;).child(&quot;c_orders&quot;).child(rt).child(&quot;check_orders&quot;), client_model_btncheckorders.class)\n                    .build();\n    adapter2=new adapter_clientside_checkbtn(options2);\n    recyclerView2.setAdapter(adapter2);\n\n\n    return view;\n}\n</code></pre>\n<p>Here I have to retrieve the value of &quot;rt&quot; which is in for loop and that is to be then passed to a Firebase database query to retrieve the child element's value. But the problem is, &quot;rt&quot; may contain many usernames of the firebase real-time database. I have to split them and refer a each username to the query. It is not possible to write Firebase reference inside for loop because the adapter of the recycler view(where data needs to be displayed) cannot be accessed. The recycler view where I was trying to display data from firebase database displays by pressing a button of another recycler view. Is there any solution for this?</p>\n"},{"tags":["java","amazon-web-services","redirect","aws-lambda","reroute"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1654235845,"post_id":72485209,"comment_id":128047149,"body_markdown":"That depends entirely on how your application is written, lambda itself has very little / nothing to do with that.","body":"That depends entirely on how your application is written, lambda itself has very little / nothing to do with that."},{"owner":{"account_id":5814984,"reputation":544,"user_id":4584928,"display_name":"TDao"},"score":0,"creation_date":1654236886,"post_id":72485209,"comment_id":128047393,"body_markdown":"@luk2302 well, let&#39;s say if I have a gateway to route requests to my lambda, how would I re-route the invalid requests then?","body":"@luk2302 well, let&#39;s say if I have a gateway to route requests to my lambda, how would I re-route the invalid requests then?"},{"owner":{"account_id":5814984,"reputation":544,"user_id":4584928,"display_name":"TDao"},"score":0,"creation_date":1654237527,"post_id":72485209,"comment_id":128047557,"body_markdown":"just want to clarify, I&#39;d like to do it generically, instead of having to individually define API gateway proxy event for every invalid v1 requests to route to v2. Also, not all v1 requests are invalid, so I wouldn&#39;t be able to use wildcard.","body":"just want to clarify, I&#39;d like to do it generically, instead of having to individually define API gateway proxy event for every invalid v1 requests to route to v2. Also, not all v1 requests are invalid, so I wouldn&#39;t be able to use wildcard."}],"owner":{"account_id":5814984,"reputation":544,"user_id":4584928,"display_name":"TDao"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654239598,"creation_date":1654235320,"question_id":72485209,"body_markdown":"How or where can I define re-route rules for invalid requests to my lambda without sending the 30x status code to the client? \r\n\r\nFor example, if there is a request to `api/v1/hello`, which is invalid, I want it to be re-routed to the handler/controller of `api/v2/hello`, which is valid.\r\n\r\nIn ASP.Net, I can write custom routing logic in my service startup code but I haven&#39;t been able to find a way to do so with AWS lambda (I&#39;m writing my lambda in Java). ","title":"how to re-route (not redirect) invalid API request with AWS lambda?","body":"<p>How or where can I define re-route rules for invalid requests to my lambda without sending the 30x status code to the client?</p>\n<p>For example, if there is a request to <code>api/v1/hello</code>, which is invalid, I want it to be re-routed to the handler/controller of <code>api/v2/hello</code>, which is valid.</p>\n<p>In ASP.Net, I can write custom routing logic in my service startup code but I haven't been able to find a way to do so with AWS lambda (I'm writing my lambda in Java).</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":2296797,"reputation":6110,"user_id":2018047,"accept_rate":51,"display_name":"Christian"},"score":0,"creation_date":1654204623,"post_id":72482376,"comment_id":128042327,"body_markdown":"The [Spring docs](https://docs.spring.io/spring-boot/docs/2.7.x/reference/htmlsingle/#using.running-your-application.with-the-maven-plugin) suggest to set those via [`MAVEN_OPTS`](https://maven.apache.org/configure.html#maven_opts-environment-variable), e.g. `export MAVEN_OPTS=-Xmx6g` - does that help?","body":"The <a href=\"https://docs.spring.io/spring-boot/docs/2.7.x/reference/htmlsingle/#using.running-your-application.with-the-maven-plugin\" rel=\"nofollow noreferrer\">Spring docs</a> suggest to set those via <a href=\"https://maven.apache.org/configure.html#maven_opts-environment-variable\" rel=\"nofollow noreferrer\"><code>MAVEN_OPTS</code></a>, e.g. <code>export MAVEN_OPTS=-Xmx6g</code> - does that help?"},{"owner":{"account_id":2296797,"reputation":6110,"user_id":2018047,"accept_rate":51,"display_name":"Christian"},"score":0,"creation_date":1654205061,"post_id":72482376,"comment_id":128042426,"body_markdown":"Alternatively [`jvmArguments`](https://docs.spring.io/spring-boot/docs/2.2.2.RELEASE/maven-plugin/run-mojo.html#jvmArguments) ([current docs](https://docs.spring.io/spring-boot/docs/2.7.x/maven-plugin/reference/htmlsingle/#run)) as per https://stackoverflow.com/a/68069089/2018047","body":"Alternatively <a href=\"https://docs.spring.io/spring-boot/docs/2.2.2.RELEASE/maven-plugin/run-mojo.html#jvmArguments\" rel=\"nofollow noreferrer\"><code>jvmArguments</code></a> (<a href=\"https://docs.spring.io/spring-boot/docs/2.7.x/maven-plugin/reference/htmlsingle/#run\" rel=\"nofollow noreferrer\">current docs</a>) as per <a href=\"https://stackoverflow.com/a/68069089/2018047\">stackoverflow.com/a/68069089/2018047</a>"},{"owner":{"account_id":24721501,"reputation":56,"user_id":18610510,"display_name":"MrUwugu"},"score":1,"creation_date":1654209001,"post_id":72482376,"comment_id":128043226,"body_markdown":"@Christian: in the documentation you&#39;ve provided, I&#39;m confused as to why an example cannot be provided. Firstly, I imagine such a command might look like\n\nmvn spring-boot:run jvmArguments=&quot;-Xmx6g&quot;\n\nbut, this isn&#39;t explicitly stated anywhere.\n\nWhat&#39;s worse is that the documentation also says &quot;NOTE: [something important about needing a forked process&quot;, and I have a feeling that I would also need an example of how to specify that I would like to launch with a forked process.\n\nThis is a bit tedious compared to how this works in the java command line, so I think asking for an example is ok.","body":"@Christian: in the documentation you&#39;ve provided, I&#39;m confused as to why an example cannot be provided. Firstly, I imagine such a command might look like  mvn spring-boot:run jvmArguments=&quot;-Xmx6g&quot;  but, this isn&#39;t explicitly stated anywhere.  What&#39;s worse is that the documentation also says &quot;NOTE: [something important about needing a forked process&quot;, and I have a feeling that I would also need an example of how to specify that I would like to launch with a forked process.  This is a bit tedious compared to how this works in the java command line, so I think asking for an example is ok."},{"owner":{"account_id":2296797,"reputation":6110,"user_id":2018047,"accept_rate":51,"display_name":"Christian"},"score":0,"creation_date":1654429226,"post_id":72482376,"comment_id":128084219,"body_markdown":"The reason I haven&#39;t given you an example is that I never used that option myself, so I&#39;m just not sure. I imagine people who configure a JVM on servers understand the docs without needing additional examples (and it would be a long list if they provided an example for every possible argument). The way I read the docs, it forks automatically (unless you explicitly specify `fork` as `false`, which is deprecated). To try it locally, I&#39;d use `$ mvn spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-Xmx6G&quot;`. Also consider [`-XX:+PrintFlagsFinal`](https://stackoverflow.com/a/22108304/2018047) 2 check","body":"The reason I haven&#39;t given you an example is that I never used that option myself, so I&#39;m just not sure. I imagine people who configure a JVM on servers understand the docs without needing additional examples (and it would be a long list if they provided an example for every possible argument). The way I read the docs, it forks automatically (unless you explicitly specify <code>fork</code> as <code>false</code>, which is deprecated). To try it locally, I&#39;d use <code>$ mvn spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-Xmx6G&quot;</code>. Also consider <a href=\"https://stackoverflow.com/a/22108304/2018047\"><code>-XX:+PrintFlagsFinal</code></a> 2 check"},{"owner":{"account_id":2296797,"reputation":6110,"user_id":2018047,"accept_rate":51,"display_name":"Christian"},"score":0,"creation_date":1654429696,"post_id":72482376,"comment_id":128084308,"body_markdown":"An [example for how to use the jvmArguments](https://docs.spring.io/spring-boot/docs/2.7.x/maven-plugin/reference/htmlsingle/#run.examples.debug) is actually provided, albeit under the &quot;debug&quot; heading. Also, if it works in IntelliJ: you can usually expand the command that IntelliJ used to launch an app in the console tab IntelliJ opens. Surefire is a plugin to run tests, so if you want to increase memory while testing, you&#39;d likely have to use a different argument. [`argLine`](https://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html#argLine) might work.","body":"An <a href=\"https://docs.spring.io/spring-boot/docs/2.7.x/maven-plugin/reference/htmlsingle/#run.examples.debug\" rel=\"nofollow noreferrer\">example for how to use the jvmArguments</a> is actually provided, albeit under the &quot;debug&quot; heading. Also, if it works in IntelliJ: you can usually expand the command that IntelliJ used to launch an app in the console tab IntelliJ opens. Surefire is a plugin to run tests, so if you want to increase memory while testing, you&#39;d likely have to use a different argument. <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html#argLine\" rel=\"nofollow noreferrer\"><code>argLine</code></a> might work."},{"owner":{"account_id":24721501,"reputation":56,"user_id":18610510,"display_name":"MrUwugu"},"score":0,"creation_date":1654534218,"post_id":72482376,"comment_id":128108167,"body_markdown":"@Christian appreciated, I will try this and will return back if it works :)","body":"@Christian appreciated, I will try this and will return back if it works :)"}],"owner":{"account_id":24721501,"reputation":56,"user_id":18610510,"display_name":"MrUwugu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":883,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654239434,"creation_date":1654204166,"question_id":72482376,"body_markdown":"I&#39;d like to add -Xmx6g as a command line argument to a spring boot application that is launched with maven via  `mvn spring-boot:run`. I do this easily enough with Intellij, but I would like to launch the application manually from my terminal so that I have some extra ram.\r\n\r\nI&#39;ve tried to configure &lt;argLine&gt; in the Maven Surefire Plugin, but this hasn&#39;t worked. Could anyone share a working snippit?\r\n","title":"Add jvm options to a Spring Boot application started via mvn spring-boot:run","body":"<p>I'd like to add -Xmx6g as a command line argument to a spring boot application that is launched with maven via  <code>mvn spring-boot:run</code>. I do this easily enough with Intellij, but I would like to launch the application manually from my terminal so that I have some extra ram.</p>\n<p>I've tried to configure  in the Maven Surefire Plugin, but this hasn't worked. Could anyone share a working snippit?</p>\n"},{"tags":["java","maven","packaging"],"comments":[{"owner":{"account_id":9093104,"reputation":1493,"user_id":6768037,"display_name":"Jon Sampson"},"score":0,"creation_date":1654226510,"post_id":72484153,"comment_id":128045635,"body_markdown":"Someone may expand, but the next thing to look at would be jar file manifests wherein you can specify the class to be run during packaging. It shortens the run command and allows someone to run your jar without knowledge of the contents.","body":"Someone may expand, but the next thing to look at would be jar file manifests wherein you can specify the class to be run during packaging. It shortens the run command and allows someone to run your jar without knowledge of the contents."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1654228499,"post_id":72484153,"comment_id":128045869,"body_markdown":"First, you can&#39;t execute a source file directly (unless it&#39;s a _single_ source file, and then only if you&#39;re using a more recent version of Java). You first _compile_ the source files into class files, which contain the JVM byte-code which the JVM can then execute (this is what gives you the cross-platform functionality of Java). But now you have a bunch of class files, and that&#39;s not conducive to distribution. A JAR file is a (ZIP) file that packages all the class files and other resources into a single file, which is much easier to distribute.","body":"First, you can&#39;t execute a source file directly (unless it&#39;s a <i>single</i> source file, and then only if you&#39;re using a more recent version of Java). You first <i>compile</i> the source files into class files, which contain the JVM byte-code which the JVM can then execute (this is what gives you the cross-platform functionality of Java). But now you have a bunch of class files, and that&#39;s not conducive to distribution. A JAR file is a (ZIP) file that packages all the class files and other resources into a single file, which is much easier to distribute."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1654228724,"post_id":72484153,"comment_id":128045904,"body_markdown":"Though typically, if you can _execute_ the program contained within a JAR file, then you&#39;d create an _executable JAR file_. That&#39;s simply a JAR file with a `Main-Class` entry in the `MANIFEST.MF` file (look up how to set the main class via Maven). Then you can run the application using `java -jar &lt;jar-file&gt;`. Also, keep in mind that Maven is only a build tool (one of a few popular ones in the Java ecosystem). It is not _required_ to compile/package/build an application, but it does make things much easier and more repeatable.","body":"Though typically, if you can <i>execute</i> the program contained within a JAR file, then you&#39;d create an <i>executable JAR file</i>. That&#39;s simply a JAR file with a <code>Main-Class</code> entry in the <code>MANIFEST.MF</code> file (look up how to set the main class via Maven). Then you can run the application using <code>java -jar &lt;jar-file&gt;</code>. Also, keep in mind that Maven is only a build tool (one of a few popular ones in the Java ecosystem). It is not <i>required</i> to compile/package/build an application, but it does make things much easier and more repeatable."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1654233594,"post_id":72484153,"comment_id":128046705,"body_markdown":"The ability to invoke java directly on a single source file is very new and Maven is very, very old.","body":"The ability to invoke java directly on a single source file is very new and Maven is very, very old."},{"owner":{"account_id":20929974,"reputation":13,"user_id":16086128,"display_name":"ItDepends"},"score":0,"creation_date":1654364418,"post_id":72484153,"comment_id":128075467,"body_markdown":"Wow all of these are very great comments. I understand the importance of creating a jar file and maven as a build tool a lot more now. Thank you!","body":"Wow all of these are very great comments. I understand the importance of creating a jar file and maven as a build tool a lot more now. Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":2340745,"reputation":7243,"user_id":2052097,"accept_rate":85,"display_name":"z atef"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654227372,"creation_date":1654227372,"answer_id":72484446,"question_id":72484153,"body_markdown":"    mvn package\r\n\r\nMaven is one of the package management tools for java.. the flag package, packages the app. It&#39;s used to declare deps for a project, package a project, build a project, and install binaries to a place(~/.m2/xx/..) where they can be read by java processes.\r\n\r\n\r\n    java -cp target/my-app-1.0-SNAPSHOT.jar \r\n\r\nRuns the app, invoke main class of the app, -cp stands for classPath\r\n\r\n\r\n\r\n","title":"Why should I run a java class after generating jar file with maven package?","body":"<pre><code>mvn package\n</code></pre>\n<p>Maven is one of the package management tools for java.. the flag package, packages the app. It's used to declare deps for a project, package a project, build a project, and install binaries to a place(~/.m2/xx/..) where they can be read by java processes.</p>\n<pre><code>java -cp target/my-app-1.0-SNAPSHOT.jar \n</code></pre>\n<p>Runs the app, invoke main class of the app, -cp stands for classPath</p>\n"},{"tags":[],"owner":{"account_id":25452201,"reputation":208,"user_id":19253406,"display_name":"Chicky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654228857,"creation_date":1654228857,"answer_id":72484560,"question_id":72484153,"body_markdown":"Maven not just a packaging tool but also managing dependencies.\r\n\r\nIf your project is simple with no dependency/no import other package, you can &quot;just going to src/main/java/com/mycompany/app and running `java App.java`&quot;. If it is not the case, you can&#39;t do it (try it)\r\n\r\n`maven package` will export/copy dependencies to `target` folder so that JDK can find required classes and you can use it easily","title":"Why should I run a java class after generating jar file with maven package?","body":"<p>Maven not just a packaging tool but also managing dependencies.</p>\n<p>If your project is simple with no dependency/no import other package, you can &quot;just going to src/main/java/com/mycompany/app and running <code>java App.java</code>&quot;. If it is not the case, you can't do it (try it)</p>\n<p><code>maven package</code> will export/copy dependencies to <code>target</code> folder so that JDK can find required classes and you can use it easily</p>\n"},{"tags":[],"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654239397,"creation_date":1654238125,"answer_id":72485579,"question_id":72484153,"body_markdown":"To know the answer of Why, you need to understand following things first:\r\n 1. How to compile a Java program and how to run the compiled java program (especially program declared inside a package)&lt;br&gt;\r\nIf you have java class ```Test``` inside package ```hello```, you can compile it using ```javac hello\\Test.java``` and run it using ```java hello.Test``` (i.e. we use fully qualified name to run a program and can not run it like ```java Test```, it will give you error &quot;could not find or load main class Test&quot;)\r\n&lt;br&gt;\r\nSo, just going to src/main/java/com/mycompany/app and running ```java App.java``` won&#39;t work but from src/main/java folder you can run it like ```com.mycompany.app.App```\r\n 2. What is jar packaging.&lt;br&gt; \r\n```jar``` i.e. Java archive is nothing but a zip file aggregating all the java classes so that it can be distributed as a single unit. &lt;br&gt;\r\n\r\n 3. Classpath&lt;br&gt;\r\nClasspath is the place where java will look for the compiled classes\r\n\r\n 4. How to run a program which depends on Java classes in other jar files&lt;br&gt;\r\n    Suppose if my Test class depends on class XYZ which is inside the\r\n    abc.jar file, then we need to tell java that search this abc.jar for\r\n    dependencies (include this jar in classpath). This can be done using command ```java -cp abc.jar hello.Test``` here ```-cp``` option is nothing but a classpath and is used to tell java about directories or archives in which classes could be found. This command can be used when Test class is inside jar file like in your case\r\n 5. Maven&lt;br&gt;\r\n   If you have understood the above things then you would know that Maven has nothing to do with running your program. It is just a build tool which helps build the jar file from you code and helps in executing/organizing different tasks apart from build like clean, running tests, etc.\r\n\r\n","title":"Why should I run a java class after generating jar file with maven package?","body":"<p>To know the answer of Why, you need to understand following things first:</p>\n<ol>\n<li><p>How to compile a Java program and how to run the compiled java program (especially program declared inside a package)<br>\nIf you have java class <code>Test</code> inside package <code>hello</code>, you can compile it using <code>javac hello\\Test.java</code> and run it using <code>java hello.Test</code> (i.e. we use fully qualified name to run a program and can not run it like <code>java Test</code>, it will give you error &quot;could not find or load main class Test&quot;)\n<br>\nSo, just going to src/main/java/com/mycompany/app and running <code>java App.java</code> won't work but from src/main/java folder you can run it like <code>com.mycompany.app.App</code></p>\n</li>\n<li><p>What is jar packaging.<br>\n<code>jar</code> i.e. Java archive is nothing but a zip file aggregating all the java classes so that it can be distributed as a single unit. <br></p>\n</li>\n<li><p>Classpath<br>\nClasspath is the place where java will look for the compiled classes</p>\n</li>\n<li><p>How to run a program which depends on Java classes in other jar files<br>\nSuppose if my Test class depends on class XYZ which is inside the\nabc.jar file, then we need to tell java that search this abc.jar for\ndependencies (include this jar in classpath). This can be done using command <code>java -cp abc.jar hello.Test</code> here <code>-cp</code> option is nothing but a classpath and is used to tell java about directories or archives in which classes could be found. This command can be used when Test class is inside jar file like in your case</p>\n</li>\n<li><p>Maven<br>\nIf you have understood the above things then you would know that Maven has nothing to do with running your program. It is just a build tool which helps build the jar file from you code and helps in executing/organizing different tasks apart from build like clean, running tests, etc.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":20929974,"reputation":13,"user_id":16086128,"display_name":"ItDepends"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":356,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72485579,"answer_count":3,"score":1,"last_activity_date":1654239397,"creation_date":1654223542,"question_id":72484153,"body_markdown":"I&#39;m new to jar files and maven and trying to understand the use of Maven.\r\nIn this [Maven in 5 minutes][1] article, we create the my-app project using maven and the directory structure looks like this: \r\n``` \r\nmy-app\r\n|-- pom.xml\r\n -- src\r\n    |-- main\r\n    |   -- java\r\n    |       -- com\r\n    |           -- mycompany\r\n    |               -- app\r\n    |                   -- App.java\r\n     -- test\r\n         -- java\r\n             -- com\r\n                 -- mycompany\r\n                     -- app\r\n                         -- AppTest.java\r\n```\r\nThen we use 1. `mvn package` followed by 2. `java -cp target/my-app-1.0-SNAPSHOT.jar com.mycompany.app.App` which runs our App.java class.\r\n\r\nMy understanding is that 1. creates a new &#39;target&#39; directory and inside it the jar file. And we use 2. to run the App class using the jar file. My question is, why did we run the App class in this way? Why is it better than just going to src/main/java/com/mycompany/app and running `java App.java` ? Maybe I don&#39;t understand benefit of packaging. Thanks for any help.\r\n\r\n  [1]: https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html","title":"Why should I run a java class after generating jar file with maven package?","body":"<p>I'm new to jar files and maven and trying to understand the use of Maven.\nIn this <a href=\"https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html\" rel=\"nofollow noreferrer\">Maven in 5 minutes</a> article, we create the my-app project using maven and the directory structure looks like this:</p>\n<pre><code>my-app\n|-- pom.xml\n -- src\n    |-- main\n    |   -- java\n    |       -- com\n    |           -- mycompany\n    |               -- app\n    |                   -- App.java\n     -- test\n         -- java\n             -- com\n                 -- mycompany\n                     -- app\n                         -- AppTest.java\n</code></pre>\n<p>Then we use 1. <code>mvn package</code> followed by 2. <code>java -cp target/my-app-1.0-SNAPSHOT.jar com.mycompany.app.App</code> which runs our App.java class.</p>\n<p>My understanding is that 1. creates a new 'target' directory and inside it the jar file. And we use 2. to run the App class using the jar file. My question is, why did we run the App class in this way? Why is it better than just going to src/main/java/com/mycompany/app and running <code>java App.java</code> ? Maybe I don't understand benefit of packaging. Thanks for any help.</p>\n"},{"tags":["java","swt","tableviewer"],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654237695,"creation_date":1654188043,"answer_id":72479557,"question_id":72478065,"body_markdown":"You need to remember the selection listener somewhere, probably a field in the class managing the table.\r\n\r\n```java\r\nprivate SelectionListener listener;\r\n\r\n...\r\n\r\nlistener = new SelectionListener() ....\r\n\r\n\r\n...\r\n\r\ntable.addSelectionListener(listener);\r\n\r\n...\r\n\r\ntable.removeSelectionListener(listener);\r\n```\r\nBe sure to only create the listener once (possibly in the class constructor).\r\n\r\nAn alternative is to just add the listener (once) and then test a flag in the listener to decide if you setForeground.","title":"Remove a selection listener on a table item","body":"<p>You need to remember the selection listener somewhere, probably a field in the class managing the table.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private SelectionListener listener;\n\n...\n\nlistener = new SelectionListener() ....\n\n\n...\n\ntable.addSelectionListener(listener);\n\n...\n\ntable.removeSelectionListener(listener);\n</code></pre>\n<p>Be sure to only create the listener once (possibly in the class constructor).</p>\n<p>An alternative is to just add the listener (once) and then test a flag in the listener to decide if you setForeground.</p>\n"}],"owner":{"account_id":7595573,"reputation":101,"user_id":5761837,"accept_rate":17,"display_name":"A.Goel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72479557,"answer_count":1,"score":0,"last_activity_date":1654239318,"creation_date":1654180853,"question_id":72478065,"body_markdown":"I have a table where multiple table items are available.\r\nOut of them, for some table items background and foreground color is set.\r\n\r\nOn selection of a colored item,since the text color was white, the text is difficult to read\r\nSo, I need to change the forground color to default ie. black.\r\nI had done it using the selection listener\r\n\r\n    private SelectionListener selectionListener;\r\n\r\n        private void mouseTrackListener() {\r\n            selectionListener = new SelectionListener() {\r\n    \r\n                @Override\r\n                public void widgetSelected(SelectionEvent e) {\r\n                            ((TableItem) e.item).setForeground(null);\r\n                        }\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void widgetDefaultSelected(SelectionEvent e) {\r\n    \r\n                }\r\n            };\r\n    \r\n            this.table.addSelectionListener(selectionListener);\r\n    \r\n            this.table.removeSelectionListener(selectionListener);\r\n        }\r\n\r\n\r\nAnd the color got changed successfully.\r\n\r\nBut now I am selecting any other item which is not colored, so I want to remove the above selection listener and set the text color to colored ie. white.\r\nI am not getting how to use  `this.table.removeSelectionListener`.\r\n\r\nCan some one please help.","title":"Remove a selection listener on a table item","body":"<p>I have a table where multiple table items are available.\nOut of them, for some table items background and foreground color is set.</p>\n<p>On selection of a colored item,since the text color was white, the text is difficult to read\nSo, I need to change the forground color to default ie. black.\nI had done it using the selection listener</p>\n<pre><code>private SelectionListener selectionListener;\n\n    private void mouseTrackListener() {\n        selectionListener = new SelectionListener() {\n\n            @Override\n            public void widgetSelected(SelectionEvent e) {\n                        ((TableItem) e.item).setForeground(null);\n                    }\n                }\n            }\n\n            @Override\n            public void widgetDefaultSelected(SelectionEvent e) {\n\n            }\n        };\n\n        this.table.addSelectionListener(selectionListener);\n\n        this.table.removeSelectionListener(selectionListener);\n    }\n</code></pre>\n<p>And the color got changed successfully.</p>\n<p>But now I am selecting any other item which is not colored, so I want to remove the above selection listener and set the text color to colored ie. white.\nI am not getting how to use  <code>this.table.removeSelectionListener</code>.</p>\n<p>Can some one please help.</p>\n"},{"tags":["java","nullpointerexception"],"comments":[{"owner":{"account_id":1453291,"reputation":761,"user_id":1369579,"accept_rate":80,"display_name":"Dorian"},"score":1,"creation_date":1654238491,"post_id":72485576,"comment_id":128047821,"body_markdown":"See this post, it should help you : https://stackoverflow.com/q/40480/1369579","body":"See this post, it should help you : <a href=\"https://stackoverflow.com/q/40480/1369579\">stackoverflow.com/q/40480/1369579</a>"}],"answers":[{"tags":[],"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654239098,"creation_date":1654238652,"answer_id":72485658,"question_id":72485576,"body_markdown":"The two examples aren&#39;t the same. In the first, you&#39;re setting a copy of the reference to `null` (see, e.g. [this](https://www.infoworld.com/article/3512039/does-java-pass-by-reference-or-pass-by-value.html)). If you were to call the method on `c` inside `setInputToNull`, you&#39;d get the NPE there.","title":"Why can I set the class to null and still call methods from it afterwards?","body":"<p>The two examples aren't the same. In the first, you're setting a copy of the reference to <code>null</code> (see, e.g. <a href=\"https://www.infoworld.com/article/3512039/does-java-pass-by-reference-or-pass-by-value.html\" rel=\"nofollow noreferrer\">this</a>). If you were to call the method on <code>c</code> inside <code>setInputToNull</code>, you'd get the NPE there.</p>\n"}],"owner":{"account_id":22490259,"reputation":23,"user_id":16688094,"display_name":"NicoHahn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1654239030,"accepted_answer_id":72485658,"answer_count":1,"score":0,"last_activity_date":1654239098,"creation_date":1654238113,"question_id":72485576,"body_markdown":"I have created the following example code in Java:\r\n```java\r\npublic class SetClassNullExperiment {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSetMeNull c1 = new SetMeNull();\r\n\t\tc1.setInputToNull(c1);\r\n\t\tSystem.out.println(&quot;Is c1 equal to null? &quot; + Boolean.toString(c1 == null)); // false\r\n\t\tc1.printHelloWorld();\r\n\r\n\t\tSetMeNull c2 = new SetMeNull();\r\n\t\tc2 = null;\r\n\t\tSystem.out.println(&quot;Is c2 equal to null? &quot; + Boolean.toString(c2 == null)); // true\r\n\t\tc2.printHelloWorld(); // Throws a NullPointerException (For obvious reasons...)\r\n\t}\r\n\r\n}\r\n\r\nclass SetMeNull {\r\n\r\n\t/**\r\n\t * Set the input class equal to &lt;code&gt;null&lt;/code&gt;.\r\n\t */\r\n\tpublic void setInputToNull(SetMeNull c) {\r\n\t\tc = null;\r\n\t}\r\n\r\n\tpublic void printHelloWorld() {\r\n\t\tSystem.out.println(&quot;Hello World!&quot;);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nWhy is it possible to call `c1.printHelloWorld()` after `c1.setInputToNull(c1)` has been called? I would expect a `NullPointerException` when calling `c1.printHelloWorld()`. Why is this not the case? In my opinion, the first four lines (`c1`) are equal to the last four lines (`c2`), but only in the last four lines a `NullPointerException` is thrown.","title":"Why can I set the class to null and still call methods from it afterwards?","body":"<p>I have created the following example code in Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SetClassNullExperiment {\n\n    public static void main(String[] args) {\n        SetMeNull c1 = new SetMeNull();\n        c1.setInputToNull(c1);\n        System.out.println(&quot;Is c1 equal to null? &quot; + Boolean.toString(c1 == null)); // false\n        c1.printHelloWorld();\n\n        SetMeNull c2 = new SetMeNull();\n        c2 = null;\n        System.out.println(&quot;Is c2 equal to null? &quot; + Boolean.toString(c2 == null)); // true\n        c2.printHelloWorld(); // Throws a NullPointerException (For obvious reasons...)\n    }\n\n}\n\nclass SetMeNull {\n\n    /**\n     * Set the input class equal to &lt;code&gt;null&lt;/code&gt;.\n     */\n    public void setInputToNull(SetMeNull c) {\n        c = null;\n    }\n\n    public void printHelloWorld() {\n        System.out.println(&quot;Hello World!&quot;);\n    }\n\n}\n</code></pre>\n<p>Why is it possible to call <code>c1.printHelloWorld()</code> after <code>c1.setInputToNull(c1)</code> has been called? I would expect a <code>NullPointerException</code> when calling <code>c1.printHelloWorld()</code>. Why is this not the case? In my opinion, the first four lines (<code>c1</code>) are equal to the last four lines (<code>c2</code>), but only in the last four lines a <code>NullPointerException</code> is thrown.</p>\n"},{"tags":["java","xml","self"],"comments":[{"owner":{"account_id":3034988,"reputation":1866,"user_id":2573309,"display_name":"LhasaDad"},"score":0,"creation_date":1416254135,"post_id":26980516,"comment_id":42495760,"body_markdown":"Do you really need that?  the two forms are equivalent","body":"Do you really need that?  the two forms are equivalent"},{"owner":{"account_id":5347459,"reputation":159,"user_id":4262603,"accept_rate":60,"display_name":"DreamTool"},"score":0,"creation_date":1416254751,"post_id":26980516,"comment_id":42496045,"body_markdown":"Our teacher has given us some XML files with the self closing elements, but I don&#39;t know if it will make a real difference if I write mine with the closing tags.","body":"Our teacher has given us some XML files with the self closing elements, but I don&#39;t know if it will make a real difference if I write mine with the closing tags."}],"answers":[{"tags":[],"owner":{"account_id":5347632,"reputation":86,"user_id":4262717,"display_name":"otp"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1416254147,"creation_date":1416254147,"answer_id":26980835,"question_id":26980516,"body_markdown":"Use `writeEmptyElement()`.\r\n\r\nBut you should be aware that both forms are [semantically equivalent](http://www.xml.com/axml/notes/EMPTY3.html), so any requirement that differentiates them should be viewed with suspicion.","title":"How to write self-closing element tags using XMLStreamWriter","body":"<p>Use <code>writeEmptyElement()</code>.</p>\n\n<p>But you should be aware that both forms are <a href=\"http://www.xml.com/axml/notes/EMPTY3.html\" rel=\"noreferrer\">semantically equivalent</a>, so any requirement that differentiates them should be viewed with suspicion.</p>\n"},{"tags":[],"owner":{"account_id":17704606,"reputation":1,"user_id":12853535,"display_name":"Med Akrem Lakhdhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654238945,"creation_date":1654102164,"answer_id":72465472,"question_id":26980516,"body_markdown":"BY writing `writeEndElement();` you are asking the library to close `case` for you, \r\ninstead you should not invoke it and invoke `writeEndDocument()` instead.","title":"How to write self-closing element tags using XMLStreamWriter","body":"<p>BY writing <code>writeEndElement();</code> you are asking the library to close <code>case</code> for you,\ninstead you should not invoke it and invoke <code>writeEndDocument()</code> instead.</p>\n"}],"owner":{"account_id":5347459,"reputation":159,"user_id":4262603,"accept_rate":60,"display_name":"DreamTool"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2936,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":26980835,"answer_count":2,"score":4,"last_activity_date":1654238945,"creation_date":1416252911,"question_id":26980516,"body_markdown":"I am trying to write a XML element tag that has to look like this :\r\n\r\n`&lt;case type=&quot;&quot; player=&quot;&quot;/&gt;`\r\n\r\nMy code is :\r\n\r\n`doc.writeStartElement(&quot;case&quot;);`  \r\n`doc.writeAttribute(&quot;type&quot;, type);`  \r\n`doc.writeAttribute(&quot;player&quot;, &quot;&quot;);`  \r\n`doc.writeEndElement();`\r\n\r\nBut, as I expected, a closing tag is added at the end, so it looks like this :\r\n\r\n`&lt;case type=&quot;&quot; player=&quot;&quot;&gt;&lt;/case&gt;`\r\n\r\nI am trying to write a self closing element tag, but cannot find how.\r\nDoes anyone know how to do that ?\r\n","title":"How to write self-closing element tags using XMLStreamWriter","body":"<p>I am trying to write a XML element tag that has to look like this :</p>\n\n<p><code>&lt;case type=\"\" player=\"\"/&gt;</code></p>\n\n<p>My code is :</p>\n\n<p><code>doc.writeStartElement(\"case\");</code><br>\n<code>doc.writeAttribute(\"type\", type);</code><br>\n<code>doc.writeAttribute(\"player\", \"\");</code><br>\n<code>doc.writeEndElement();</code></p>\n\n<p>But, as I expected, a closing tag is added at the end, so it looks like this :</p>\n\n<p><code>&lt;case type=\"\" player=\"\"&gt;&lt;/case&gt;</code></p>\n\n<p>I am trying to write a self closing element tag, but cannot find how.\nDoes anyone know how to do that ?</p>\n"},{"tags":["java","unit-testing","mockito","httpentity"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1654252304,"post_id":72485534,"comment_id":128052051,"body_markdown":"To my eyes, you are not calling getConfirm in your test - you are calling some other method instead.","body":"To my eyes, you are not calling getConfirm in your test - you are calling some other method instead."}],"answers":[{"tags":[],"owner":{"account_id":2000334,"reputation":7336,"user_id":1791546,"accept_rate":68,"display_name":"Shridutt Kothari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654238943,"creation_date":1654238943,"answer_id":72485699,"question_id":72485534,"body_markdown":"You can do two things in Mock when you write return behavior of a mock object.\r\n\r\n&gt; Return a mock object who&#39;s reference we have:\r\n   \r\n\r\n    when(httpResponse.getStatusLine()).thenReturn(statusLine);\r\n\r\nIf you see here, we returning an mock object of statusLine (who&#39;s reference we have), if we do this way we get benefit to choose behavior of statusLine like below:\r\n\r\n      when(statusLine.getStatusCode()).thenReturn(200);\r\n\r\n&gt; Another way is below, when we do not care to hold reference of mock object we want to return:\r\n\r\n    when(httpResponse.getStatusLine()).thenReturn(StatusLine.class);\r\n\r\nIf you see here, we are returning an mock object of statusLine who&#39;s reference we do not hold, so we can not write mock behavior for it which were able to do in first example.\r\n\r\n","title":"Test fails as entity is always null","body":"<p>You can do two things in Mock when you write return behavior of a mock object.</p>\n<blockquote>\n<p>Return a mock object who's reference we have:</p>\n</blockquote>\n<pre><code>when(httpResponse.getStatusLine()).thenReturn(statusLine);\n</code></pre>\n<p>If you see here, we returning an mock object of statusLine (who's reference we have), if we do this way we get benefit to choose behavior of statusLine like below:</p>\n<pre><code>  when(statusLine.getStatusCode()).thenReturn(200);\n</code></pre>\n<blockquote>\n<p>Another way is below, when we do not care to hold reference of mock object we want to return:</p>\n</blockquote>\n<pre><code>when(httpResponse.getStatusLine()).thenReturn(StatusLine.class);\n</code></pre>\n<p>If you see here, we are returning an mock object of statusLine who's reference we do not hold, so we can not write mock behavior for it which were able to do in first example.</p>\n"}],"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1654238943,"creation_date":1654237838,"question_id":72485534,"body_markdown":"I have this method in my Java application:\r\n\r\n```Java\r\npublic HttpEntity getConfirm(String confirmUrl, String cookie) throws IOException {\r\n\r\n        LOG.debug(&quot;getConfirm triggered&quot;);\r\n        HttpGet req = null;\r\n\r\n        try {\r\n\r\n            HttpClient client = HttpClientBuilder.create().build();\r\n            req = new HttpGet(confirmUrl);\r\n\r\n            req.addHeader(&quot;User-Agent&quot;, &quot;Apache HTTPClient&quot;);\r\n            req.addHeader(&quot;Cookie&quot;, cookie);\r\n            HttpResponse res = client.execute(req);\r\n\r\n            HttpEntity entity = res.getEntity();\r\n            int statusLine = res.getStatusLine().getStatusCode();\r\n            HttpEntity entity = res.getEntity();\r\n            int statusLine = res.getStatusLine().getStatusCode();\r\n\r\n            String content = EntityUtils.toString(entity);\r\n            LOG.info(content + &quot;&quot; + statusLine);\r\n            return entity;\r\n\r\n        } catch (ClientProtocolException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n\r\n            if (req != null) {\r\n\r\n                req.releaseConnection();\r\n            }\r\n\r\n            return null;\r\n        }\r\n    }\r\n```\r\n\r\nThis unit test was created to test it:\r\n\r\n```Java\r\n@Test\r\npublic void getConfirmSuccess() throws IOException {\r\n\r\n    HttpResponse httpResponse = mock(HttpResponse.class);\r\n    StatusLine statusLine = mock(StatusLine.class);\r\n    when(statusLine.getStatusCode()).thenReturn(200);\r\n    when(httpResponse.getStatusLine()).thenReturn(statusLine);\r\n    HttpEntity entity = mock(HttpEntity.class);\r\n    InputStream stream = new ByteArrayInputStream(&quot;{\\n\\&quot;state\\&quot;: \\&quot;success\\&quot;,\\n\\&quot;message\\&quot;: \\&quot;My message.\\&quot;\\n}&quot;.getBytes(&quot;UTF-8&quot;));\r\n    when(entity.getContent()).thenReturn(stream);\r\n    when(httpResponse.getEntity()).thenReturn(mock(HttpEntity.class));\r\n\r\n    ReissueCertService reissueCertService = new ReissueCertServiceReal();\r\n\r\n    assertEquals(reissueCertService.reissueCert(&quot;http://testurl&quot;, &quot;foo&quot;), httpResponse);\r\n}\r\n```\r\n\r\nThe test fails as the `entity = response.getEntity();` is null so entity never gets assigned a value. I think I need to do a `when(entity).thenReturn(...)` but I&#39;m not sure what exactly it is I should be returning. Is this correct and if so what should I return here?","title":"Test fails as entity is always null","body":"<p>I have this method in my Java application:</p>\n<pre><code>public HttpEntity getConfirm(String confirmUrl, String cookie) throws IOException {\n\n        LOG.debug(&quot;getConfirm triggered&quot;);\n        HttpGet req = null;\n\n        try {\n\n            HttpClient client = HttpClientBuilder.create().build();\n            req = new HttpGet(confirmUrl);\n\n            req.addHeader(&quot;User-Agent&quot;, &quot;Apache HTTPClient&quot;);\n            req.addHeader(&quot;Cookie&quot;, cookie);\n            HttpResponse res = client.execute(req);\n\n            HttpEntity entity = res.getEntity();\n            int statusLine = res.getStatusLine().getStatusCode();\n            HttpEntity entity = res.getEntity();\n            int statusLine = res.getStatusLine().getStatusCode();\n\n            String content = EntityUtils.toString(entity);\n            LOG.info(content + &quot;&quot; + statusLine);\n            return entity;\n\n        } catch (ClientProtocolException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n\n            if (req != null) {\n\n                req.releaseConnection();\n            }\n\n            return null;\n        }\n    }\n</code></pre>\n<p>This unit test was created to test it:</p>\n<pre><code>@Test\npublic void getConfirmSuccess() throws IOException {\n\n    HttpResponse httpResponse = mock(HttpResponse.class);\n    StatusLine statusLine = mock(StatusLine.class);\n    when(statusLine.getStatusCode()).thenReturn(200);\n    when(httpResponse.getStatusLine()).thenReturn(statusLine);\n    HttpEntity entity = mock(HttpEntity.class);\n    InputStream stream = new ByteArrayInputStream(&quot;{\\n\\&quot;state\\&quot;: \\&quot;success\\&quot;,\\n\\&quot;message\\&quot;: \\&quot;My message.\\&quot;\\n}&quot;.getBytes(&quot;UTF-8&quot;));\n    when(entity.getContent()).thenReturn(stream);\n    when(httpResponse.getEntity()).thenReturn(mock(HttpEntity.class));\n\n    ReissueCertService reissueCertService = new ReissueCertServiceReal();\n\n    assertEquals(reissueCertService.reissueCert(&quot;http://testurl&quot;, &quot;foo&quot;), httpResponse);\n}\n</code></pre>\n<p>The test fails as the <code>entity = response.getEntity();</code> is null so entity never gets assigned a value. I think I need to do a <code>when(entity).thenReturn(...)</code> but I'm not sure what exactly it is I should be returning. Is this correct and if so what should I return here?</p>\n"},{"tags":["java","spring","spring-boot","aspectj","auth0"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1619601861,"post_id":67175332,"comment_id":118952172,"body_markdown":"Your code block is unreadable please format the code with a lot less white space so that it is readable.","body":"Your code block is unreadable please format the code with a lot less white space so that it is readable."}],"owner":{"account_id":20441473,"reputation":61,"user_id":14998228,"display_name":"Amine Aamer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654238456,"creation_date":1618907754,"question_id":67175332,"body_markdown":"```java\r\npackage com.example.Aop;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport javax.servlet.http.HttpServletRequest;\r\n\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.aspectj.lang.annotation.Before;\r\n\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.web.context.request.RequestContextHolder;\r\nimport org.springframework.web.context.request.ServletRequestAttributes;\r\nimport com.auth0.jwt.JWT;\r\nimport com.auth0.jwt.JWTVerifier;\r\nimport com.auth0.jwt.algorithms.Algorithm;\r\nimport com.auth0.jwt.exceptions.JWTVerificationException;\r\nimport com.auth0.jwt.interfaces.Claim;\r\nimport com.auth0.jwt.interfaces.DecodedJWT;\r\n\r\n@Aspect\r\n@Component\r\npublic class AspectjClass\r\n{\r\n\tpublic void verification()\r\n\t{\r\n\t\tHttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.currentRequestAttributes()).getRequest();\r\n\r\n\t\tString token = request.getHeader(&quot;Authorization&quot;);\r\n\t\tAlgorithm algorithm = Algorithm.HMAC256(&quot;secret&quot;);\r\n\t\tJWTVerifier verifier = JWT.require(algorithm).build(); //Reusable verifier instance\r\n\t\tDecodedJWT jwt = verifier.verify(token);\r\n\t\tClaim claim = jwt.getClaim(&quot;Authorities&quot;); // diese Authorities ist commt aus generateToken\r\n\t\tList&lt;String&gt; asList = Arrays.asList(claim.asString().split(&quot;,&quot;));\r\n\t\tif (request.getMethod().equals(&quot;GET&quot;) &amp;&amp; !asList.contains(&quot;READ&quot;))\r\n\t\t{\r\n\t\t\tnew Exception(&quot;you don&#39;t have read permission &quot;);\r\n\t\t}\r\n\t\tif (request.getMethod().equals(&quot;POST&quot;) &amp;&amp; !asList.contains(&quot;WRITE&quot;))\r\n\t\t{\r\n\t\t\tnew Exception(&quot;you don&#39;t have WRITE permission &quot;);\r\n\t\t}\r\n\r\n\t\tif (request.getMethod().equals(&quot;DELETE&quot;) &amp;&amp; !asList.contains(&quot;DELETE&quot;))\r\n\t\t{\r\n\t\t\tnew Exception(&quot;you don&#39;t have DELETE permission &quot;);\r\n\t\t}\r\n\t}\r\n\r\n\t@Before(&quot;execution(* com.example.DB..*.*(..))&quot;)\r\n\tpublic void beforRepository()\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tverification();\r\n\t\t}\r\n\t\tcatch (JWTVerificationException exception)\r\n\t\t{\r\n\t\t\t//Invalid signature/claims\r\n\t\t}\r\n\t}\r\n\r\n\t@Before(&quot;execution(* com.example.Autorization..*.*(..))&quot;)\r\n\tpublic void beforeCotroller()\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\t//verification();\r\n\t\t}\r\n\t\tcatch (JWTVerificationException exception)\r\n\t\t{\r\n\t\t\t//Invalid signature/claims\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n**please help Me to lose this issue :** No thread-bound request found: Are you referring to request attributes outside of an actual web request, or processing a request outside of the originally receiving thread? If you are actually operating within a web request and still receive this message, your code is probably running outside of DispatcherServlet: In this case, use RequestContextListener or RequestContextFilter to expose the current request.\r\n\r\n","title":"java.lang.IllegalStateException : Are you referring to request attributes outside of an actual web request","body":"<pre class=\"lang-java prettyprint-override\"><code>package com.example.Aop;\n\nimport java.util.Arrays;\nimport java.util.List;\nimport javax.servlet.http.HttpServletRequest;\n\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Before;\n\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.context.request.RequestContextHolder;\nimport org.springframework.web.context.request.ServletRequestAttributes;\nimport com.auth0.jwt.JWT;\nimport com.auth0.jwt.JWTVerifier;\nimport com.auth0.jwt.algorithms.Algorithm;\nimport com.auth0.jwt.exceptions.JWTVerificationException;\nimport com.auth0.jwt.interfaces.Claim;\nimport com.auth0.jwt.interfaces.DecodedJWT;\n\n@Aspect\n@Component\npublic class AspectjClass\n{\n    public void verification()\n    {\n        HttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.currentRequestAttributes()).getRequest();\n\n        String token = request.getHeader(&quot;Authorization&quot;);\n        Algorithm algorithm = Algorithm.HMAC256(&quot;secret&quot;);\n        JWTVerifier verifier = JWT.require(algorithm).build(); //Reusable verifier instance\n        DecodedJWT jwt = verifier.verify(token);\n        Claim claim = jwt.getClaim(&quot;Authorities&quot;); // diese Authorities ist commt aus generateToken\n        List&lt;String&gt; asList = Arrays.asList(claim.asString().split(&quot;,&quot;));\n        if (request.getMethod().equals(&quot;GET&quot;) &amp;&amp; !asList.contains(&quot;READ&quot;))\n        {\n            new Exception(&quot;you don't have read permission &quot;);\n        }\n        if (request.getMethod().equals(&quot;POST&quot;) &amp;&amp; !asList.contains(&quot;WRITE&quot;))\n        {\n            new Exception(&quot;you don't have WRITE permission &quot;);\n        }\n\n        if (request.getMethod().equals(&quot;DELETE&quot;) &amp;&amp; !asList.contains(&quot;DELETE&quot;))\n        {\n            new Exception(&quot;you don't have DELETE permission &quot;);\n        }\n    }\n\n    @Before(&quot;execution(* com.example.DB..*.*(..))&quot;)\n    public void beforRepository()\n    {\n        try\n        {\n            verification();\n        }\n        catch (JWTVerificationException exception)\n        {\n            //Invalid signature/claims\n        }\n    }\n\n    @Before(&quot;execution(* com.example.Autorization..*.*(..))&quot;)\n    public void beforeCotroller()\n    {\n        try\n        {\n            //verification();\n        }\n        catch (JWTVerificationException exception)\n        {\n            //Invalid signature/claims\n        }\n    }\n}\n</code></pre>\n<p><strong>please help Me to lose this issue :</strong> No thread-bound request found: Are you referring to request attributes outside of an actual web request, or processing a request outside of the originally receiving thread? If you are actually operating within a web request and still receive this message, your code is probably running outside of DispatcherServlet: In this case, use RequestContextListener or RequestContextFilter to expose the current request.</p>\n"},{"tags":["java","spring-boot","unit-testing","mockito","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654238257,"creation_date":1654238257,"answer_id":72485602,"question_id":72483456,"body_markdown":"The [toEntity][1] methods return `Mono&lt;ResponseEntity&lt;T&gt;&gt;`, so you should return `Mono&lt;ResponseEntity&lt;String&gt;&gt;`\r\n\r\n    when(responseMock.toEntity(String.class)).thenReturn(Mono.just(responseEntity));\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/WebClient.ResponseSpec.html#toEntity-java.lang.Class-","title":"Unable to return ResponseEntity on WebClient.ResponseSpec.toEntity mock","body":"<p>The <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/WebClient.ResponseSpec.html#toEntity-java.lang.Class-\" rel=\"nofollow noreferrer\">toEntity</a> methods return <code>Mono&lt;ResponseEntity&lt;T&gt;&gt;</code>, so you should return <code>Mono&lt;ResponseEntity&lt;String&gt;&gt;</code></p>\n<pre><code>when(responseMock.toEntity(String.class)).thenReturn(Mono.just(responseEntity));\n</code></pre>\n"}],"owner":{"account_id":12420606,"reputation":89,"user_id":9047785,"display_name":"Bravo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1246,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1654238279,"creation_date":1654214575,"question_id":72483456,"body_markdown":"\r\n\r\nTest Class\r\n\r\n    @SpringBootTest\r\n    class TestClass {\r\n    \r\n    @Mock\r\n    private WebClient.ResponseSpec responseMock;\r\n    \r\n    \r\n    @Test\r\n    public void testSampleMethod() {\r\n    \r\n    //responseStr is valid json string\r\n    ResponseEntity&lt;String&gt; responseEntity = new ResponseEntity&lt;String&gt;(responseStr, HttpStatus.OK))\r\n    \r\n    when(responseMock.toEntity(String.class)).thenReturn(responseEntity);\r\n    \r\n    }\r\n\r\n\r\n\r\n**thenReturn()** gives a compliation error - &quot;Cannot resolve method &#39;thenReturn(org.springframework.http.ResponseEntity&lt;java.lang.String&gt;)&#39;&quot;\r\n\r\nIs mocking ResponseEntity not allowed in Mockito? I can see an [example of same here][1] but it doesn&#39;t seem be to be accepted in my case. Is there any alternative way of mocking ResponseEntity&lt;String&gt;.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-mock-rest-template","title":"Unable to return ResponseEntity on WebClient.ResponseSpec.toEntity mock","body":"<p>Test Class</p>\n<pre><code>@SpringBootTest\nclass TestClass {\n\n@Mock\nprivate WebClient.ResponseSpec responseMock;\n\n\n@Test\npublic void testSampleMethod() {\n\n//responseStr is valid json string\nResponseEntity&lt;String&gt; responseEntity = new ResponseEntity&lt;String&gt;(responseStr, HttpStatus.OK))\n\nwhen(responseMock.toEntity(String.class)).thenReturn(responseEntity);\n\n}\n</code></pre>\n<p><strong>thenReturn()</strong> gives a compliation error - &quot;Cannot resolve method 'thenReturn(org.springframework.http.ResponseEntity&lt;java.lang.String&gt;)'&quot;</p>\n<p>Is mocking ResponseEntity not allowed in Mockito? I can see an <a href=\"https://www.baeldung.com/spring-mock-rest-template\" rel=\"nofollow noreferrer\">example of same here</a> but it doesn't seem be to be accepted in my case. Is there any alternative way of mocking ResponseEntity.</p>\n"},{"tags":["java","database","oracle","hibernate"],"comments":[{"owner":{"account_id":241879,"reputation":10776,"user_id":512993,"accept_rate":90,"display_name":"Ho&#224;ng Long"},"score":1,"creation_date":1593070507,"post_id":9023819,"comment_id":110651696,"body_markdown":"one possible reason is that the &quot;lob objects&quot; isn&#39;t there. I have an experience with a similar problem but with PSQL, when the migration team didn&#39;t copy over the &quot;blob objects&quot; when we move to a new DB. Not sure if it applies for Oracle though","body":"one possible reason is that the &quot;lob objects&quot; isn&#39;t there. I have an experience with a similar problem but with PSQL, when the migration team didn&#39;t copy over the &quot;blob objects&quot; when we move to a new DB. Not sure if it applies for Oracle though"}],"answers":[{"tags":[],"owner":{"account_id":244340,"reputation":8860,"user_id":517073,"accept_rate":87,"display_name":"Stepan Yakovenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1355441072,"creation_date":1355441072,"answer_id":13870331,"question_id":9023819,"body_markdown":"My pure guess is that you have some field that is very large, so it is mapped to sql lob. Mapping itself is incorrect, I suspect. But it only happens when you try to save entity with nonnull value. Try to save all your entities with nonnull fields in app one by one. This will isolate the problem.","title":"org.hibernate.HibernateException: Unable to access lob stream","body":"<p>My pure guess is that you have some field that is very large, so it is mapped to sql lob. Mapping itself is incorrect, I suspect. But it only happens when you try to save entity with nonnull value. Try to save all your entities with nonnull fields in app one by one. This will isolate the problem.</p>\n"},{"tags":[],"owner":{"account_id":39341,"reputation":8526,"user_id":113418,"accept_rate":86,"display_name":"Viral Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1355597848,"creation_date":1355597848,"answer_id":13895174,"question_id":9023819,"body_markdown":"This might has to do something with JDBC drivers as discussed in this [thread][1]. Can you post the Oracle version and ojdbc jar version you using in project.\r\n\r\n\r\n  [1]: https://dba.stackexchange.com/questions/28220/java-application-unable-to-access-blob-stream-in-oracle-after-upgrade-to-11g","title":"org.hibernate.HibernateException: Unable to access lob stream","body":"<p>This might has to do something with JDBC drivers as discussed in this <a href=\"https://dba.stackexchange.com/questions/28220/java-application-unable-to-access-blob-stream-in-oracle-after-upgrade-to-11g\">thread</a>. Can you post the Oracle version and ojdbc jar version you using in project.</p>\n"},{"tags":[],"owner":{"account_id":253442,"reputation":197,"user_id":532146,"accept_rate":60,"display_name":"Vladimir Lugovsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1355919866,"creation_date":1355919866,"answer_id":13952430,"question_id":9023819,"body_markdown":"As you use multithreading, my guess is that you could have some problem with transactions. It could be because of some transactions is somehow commited before you had done necessary changes to the object. Or you are trying to access object being saved from the different thread, that means the object is not in the scope of transaction.","title":"org.hibernate.HibernateException: Unable to access lob stream","body":"<p>As you use multithreading, my guess is that you could have some problem with transactions. It could be because of some transactions is somehow commited before you had done necessary changes to the object. Or you are trying to access object being saved from the different thread, that means the object is not in the scope of transaction.</p>\n"},{"tags":[],"owner":{"account_id":2164072,"reputation":119,"user_id":1917545,"display_name":"OSB Stats"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1355974499,"creation_date":1355974499,"answer_id":13964896,"question_id":9023819,"body_markdown":"I believe I had this one before. \r\n\r\nWhen a large object (CLOB, BLOB) is loaded from Oracle, it is returned as a reference to a stream. If the record is mapped to hibernate and the session is closed after the object is loaded (so the object becomes detached) the java field blob is mapped to is not containing the data yet; so when you&#39;re trying to save it back it cannot work with it because the clob/blob stream is gone.\r\n\r\nFor a start, try to keep loading and saving within the same session. \r\n\r\nIf I remember right, another workaround would be to &quot;touch&quot; the clob/bloc java field while the loading session is still open. Then the data will be read from the DB. But it is painfully inefficient (it is LOB for a reason, i.e. it is _big_).\r\n\r\nYet another option is to split the small data and lobs into two different tables, and load lobs only when needed.\r\n\r\nHope that helps you with the direction. ","title":"org.hibernate.HibernateException: Unable to access lob stream","body":"<p>I believe I had this one before. </p>\n\n<p>When a large object (CLOB, BLOB) is loaded from Oracle, it is returned as a reference to a stream. If the record is mapped to hibernate and the session is closed after the object is loaded (so the object becomes detached) the java field blob is mapped to is not containing the data yet; so when you're trying to save it back it cannot work with it because the clob/blob stream is gone.</p>\n\n<p>For a start, try to keep loading and saving within the same session. </p>\n\n<p>If I remember right, another workaround would be to \"touch\" the clob/bloc java field while the loading session is still open. Then the data will be read from the DB. But it is painfully inefficient (it is LOB for a reason, i.e. it is <em>big</em>).</p>\n\n<p>Yet another option is to split the small data and lobs into two different tables, and load lobs only when needed.</p>\n\n<p>Hope that helps you with the direction. </p>\n"},{"tags":[],"owner":{"account_id":882029,"reputation":6941,"user_id":272451,"accept_rate":100,"display_name":"Thihara"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1355978778,"creation_date":1355978778,"answer_id":13965479,"question_id":9023819,"body_markdown":"In all probability I believe that this is due to `Session`\r\n mismanagement. But without reviewing a lot of code I cannot tell you what the exact problem of your current implementation is.\r\n\r\nI believe `threadSession` is a ThreadLocal. Instead of doing this manually please use\r\n\r\n`sessionFactory.getCurrentSession();`\r\n\r\nand set &lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;thread&lt;/property&gt; in the hibernate config file.\r\n\r\nAnd make your HibernateUtil is simple without all those checks. Personally I feel that those checks will cover up Session mismanagement and other errors... But well that may be just me...","title":"org.hibernate.HibernateException: Unable to access lob stream","body":"<p>In all probability I believe that this is due to <code>Session</code>\n mismanagement. But without reviewing a lot of code I cannot tell you what the exact problem of your current implementation is.</p>\n\n<p>I believe <code>threadSession</code> is a ThreadLocal. Instead of doing this manually please use</p>\n\n<p><code>sessionFactory.getCurrentSession();</code></p>\n\n<p>and set thread in the hibernate config file.</p>\n\n<p>And make your HibernateUtil is simple without all those checks. Personally I feel that those checks will cover up Session mismanagement and other errors... But well that may be just me...</p>\n"},{"tags":[],"owner":{"account_id":9883762,"reputation":488,"user_id":7318948,"display_name":"RahuL Sharma"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1529659221,"creation_date":1529642328,"answer_id":50980763,"question_id":9023819,"body_markdown":"Try adding **@Transactional** over the service method where you are trying to access lob field object. \r\nIt worked for me.","title":"org.hibernate.HibernateException: Unable to access lob stream","body":"<p>Try adding <strong>@Transactional</strong> over the service method where you are trying to access lob field object. \nIt worked for me.</p>\n"},{"tags":[],"owner":{"account_id":432473,"reputation":5158,"user_id":817265,"accept_rate":57,"display_name":"Neo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1586583427,"creation_date":1574761661,"answer_id":59048026,"question_id":9023819,"body_markdown":"If using spring, adding the following application properties make it work for us:\r\n\r\n```\r\nspring.datasource.hikari.auto-commit\r\n```","title":"org.hibernate.HibernateException: Unable to access lob stream","body":"<p>If using spring, adding the following application properties make it work for us:</p>\n\n<pre><code>spring.datasource.hikari.auto-commit\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13059208,"reputation":387,"user_id":9436994,"display_name":"azhe403"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1653032998,"creation_date":1653032998,"answer_id":72315341,"question_id":9023819,"body_markdown":"Try remove `@Lob` in your property, if you are don&#39;t trying to access lob field object\r\n\r\nBefore:\r\n\r\n```\r\n@Lob\r\n@Column(name = &quot;first_name&quot;)\r\nprivate String firstName;\r\n```\r\n\r\nAfter:\r\n\r\n```\r\n@Column(name = &quot;first_name&quot;)\r\nprivate String firstName;\r\n```","title":"org.hibernate.HibernateException: Unable to access lob stream","body":"<p>Try remove <code>@Lob</code> in your property, if you are don't trying to access lob field object</p>\n<p>Before:</p>\n<pre><code>@Lob\n@Column(name = &quot;first_name&quot;)\nprivate String firstName;\n</code></pre>\n<p>After:</p>\n<pre><code>@Column(name = &quot;first_name&quot;)\nprivate String firstName;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11792323,"reputation":1,"user_id":9417380,"display_name":"ChrisThanh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654238215,"creation_date":1654048035,"answer_id":72455661,"question_id":9023819,"body_markdown":"Add annotation to your lob field: `@Type(type = &quot;org.hibernate.type.TextType&quot;)`.\r\nIt works to me.","title":"org.hibernate.HibernateException: Unable to access lob stream","body":"<p>Add annotation to your lob field: <code>@Type(type = &quot;org.hibernate.type.TextType&quot;)</code>.\nIt works to me.</p>\n"}],"owner":{"account_id":1016954,"reputation":2531,"user_id":1028315,"accept_rate":56,"display_name":"lucky_start_izumi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42098,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"answer_count":9,"score":38,"last_activity_date":1654238215,"creation_date":1327605047,"question_id":9023819,"body_markdown":"I am using hibernate 3.6.7 to do mapping from my classes to oracle tables.\r\nI don&#39;t usually get this exception:\r\n    \r\n    \r\n    \r\n    org.hibernate.HibernateException: Unable to access lob stream\r\n        at java.util.concurrent.FutureTask$Sync.innerGet(FutureTask.java:222)\r\n        at java.util.concurrent.FutureTask.get(FutureTask.java:83)\r\n        at com.mycompany.TransferFiles.TransferFilesToHadoop(TransferFiles.java:85)\r\n        at com.mycompany.TransferJob.execute(TransferJob.java:25)\r\n        at org.quartz.core.JobRunShell.run(JobRunShell.java:202)\r\n        at org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:525)\r\n     Caused by: org.hibernate.HibernateException: Unable to access lob stream\r\n           at org.hibernate.type.descriptor.java.ClobTypeDescriptor.unwrap(ClobTypeDescriptor.java:117)\r\n        at org.hibernate.type.descriptor.java.ClobTypeDescriptor.unwrap(ClobTypeDescriptor.java:46)\r\n        at org.hibernate.type.descriptor.sql.ClobTypeDescriptor$3$1.doBind(ClobTypeDescriptor.java:83)\r\n        at org.hibernate.type.descriptor.sql.BasicBinder.bind(BasicBinder.java:91)\r\n        at org.hibernate.type.AbstractStandardBasicType.nullSafeSet(AbstractStandardBasicType.java:283)\r\n        at org.hibernate.type.AbstractStandardBasicType.nullSafeSet(AbstractStandardBasicType.java:278)\r\n        at org.hibernate.type.AbstractSingleColumnStandardBasicType.nullSafeSet(AbstractSingleColumnStandardBasicType.java:89)\r\n        at org.hibernate.persister.entity.AbstractEntityPersister.dehydrate(AbstractEntityPersister.java:2184)\r\n        at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:2558)\r\n        at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:2494)\r\n        at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:2821)\r\n        at org.hibernate.action.EntityUpdateAction.execute(EntityUpdateAction.java:113)\r\n        at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:273)\r\n        at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:265)\r\n        at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:185)\r\n        at org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:321)\r\n        at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:51)\r\n        at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1216)\r\n        at com.mycompany.HibernateUtil.getSession(HibernateUtil.java:36)\r\n        at com.mycompany.BasicDaoImpl.saveOrUpdate(BasicDaoImpl.java:34)\r\n        at com.mycompany.FileCopyRoutine.call(TransferFiles.java:297)\r\n        at com.mycompany..FileCopyRoutine.call(TransferFiles.java:225)\r\n        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:138)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n        at java.lang.Thread.run(Thread.java:662)\r\n     Caused by: java.sql.SQLException: Closed Connection\r\n        at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)\r\n        at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)\r\n        at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:208)\r\n        at oracle.sql.CLOB.getDBAccess(CLOB.java:1196)\r\n        at oracle.sql.CLOB.getCharacterStream(CLOB.java:278)\r\n        at sun.reflect.GeneratedMethodAccessor29.invoke(Unknown Source)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n        at java.lang.reflect.Method.invoke(Method.java:597)\r\n        at org.hibernate.engine.jdbc.SerializableClobProxy.invoke(SerializableClobProxy.java:74)\r\n        at $Proxy2.getCharacterStream(Unknown Source)\r\n        at org.hibernate.type.descriptor.java.ClobTypeDescriptor.unwrap(ClobTypeDescriptor.java:114)\r\n\r\n\r\nWhen I call saveOrUpdate method.\r\n\r\nCould anyone please give me some suggestion?\r\n\r\n    public static synchronized Session getSession() throws DBConnectionException{\r\n\t\t\r\n\t\tSession session = threadSession.get();\r\n\t\t\r\n\t\tif(session==null||!session.isOpen()||!session.isConnected()){\r\n\t\t\tif(sessionFactory==null||sessionFactory.isClosed())initHibernate();\r\n\t\t\ttry{\r\n\t\t\t\tsession = sessionFactory.openSession();\r\n\t\t\t}catch(Exception e){\r\n\t\t\t\tthrow new DBConnectionException(&quot;Exception caught when trying to generate Hibernate session.&quot;);\r\n\t\t\t}\r\n\t\t\tthreadSession.set(session);\r\n\t\t}\r\n\t\tif(session.isDirty()){\r\n\t\t\tsession.flush();(36 line of HibernateUtil)\r\n\t\t}\r\n\t\tsession.clear();\r\n\t\treturn session;\r\n\t}\r\n\r\nI use it all for a long time.\r\n\r\n now I am transferring file parallelly and then update database use saveOrUpdate method.Althrough there are many threads, I snychronized this part in my code.\r\nI think we have connection to the database all the time, but it gives excpetion of closed connection.\r\nCould anyone please give me some suggestion about this exception.What the problem should be? \r\n\r\nI thought it could because of using saveOrUpdate, so I changed to merge, but it sames to have the same problem.\r\n\r\n    \r\n    \r\n    \r\n    Caused by: org.hibernate.HibernateException: Unable to access lob stream\r\n        at org.hibernate.type.descriptor.java.ClobTypeDescriptor.unwrap(ClobTypeDescriptor.java:117)\r\n        at org.hibernate.type.descriptor.java.ClobTypeDescriptor.unwrap(ClobTypeDescriptor.java:46)\r\n        at org.hibernate.type.descriptor.sql.ClobTypeDescriptor$3$1.doBind(ClobTypeDescriptor.java:83)\r\n        at org.hibernate.type.descriptor.sql.BasicBinder.bind(BasicBinder.java:91)\r\n        at org.hibernate.type.AbstractStandardBasicType.nullSafeSet(AbstractStandardBasicType.java:283)\r\n        at org.hibernate.type.AbstractStandardBasicType.nullSafeSet(AbstractStandardBasicType.java:278)\r\n        at org.hibernate.type.AbstractSingleColumnStandardBasicType.nullSafeSet(AbstractSingleColumnStandardBasicType.java:89)\r\n        at org.hibernate.persister.entity.AbstractEntityPersister.dehydrate(AbstractEntityPersister.java:2184)\r\n        at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:2558)\r\n        at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:2494)\r\n        at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:2821)\r\n        at org.hibernate.action.EntityUpdateAction.execute(EntityUpdateAction.java:113)\r\n        at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:273)\r\n        at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:265)\r\n        at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:185)\r\n        at org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:321)\r\n        at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:51)\r\n        at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1216)\r\n        at org.hibernate.impl.SessionImpl.managedFlush(SessionImpl.java:383)\r\n        at org.hibernate.transaction.JDBCTransaction.commit(JDBCTransaction.java:133)\r\n        at mycompany.jobsrc.BasicDaoImpl.merge(BasicDaoImpl.java:52)\r\n        at mycompany.FileCopyRoutine.call(TransferFiles.java:301)\r\n        at mycompany.FileCopyRoutine.call(TransferFiles.java:226)\r\n        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:138)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n        at java.lang.Thread.run(Thread.java:662)\r\n       Caused by: java.sql.SQLException: Closed Connection\r\n        at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)\r\n        at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)\r\n        at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:208)\r\n        at oracle.sql.CLOB.getDBAccess(CLOB.java:1196)\r\n        at oracle.sql.CLOB.getCharacterStream(CLOB.java:278)\r\n        at sun.reflect.GeneratedMethodAccessor36.invoke(Unknown Source)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n        at java.lang.reflect.Method.invoke(Method.java:597)\r\n        at org.hibernate.engine.jdbc.SerializableClobProxy.invoke(SerializableClobProxy.java:74)\r\n        at $Proxy2.getCharacterStream(Unknown Source)\r\n        at org.hibernate.type.descriptor.java.ClobTypeDescriptor.unwrap(ClobTypeDescriptor.java:114)\r\n        ... 27 more\r\n\r\n\r\nmy merge code:\r\n    \r\n    \r\n    \r\n    public void merge(T t) throws DBConnectionException{\r\n\t\tSession session = HibernateUtil.getSession();\r\n\t\tTransaction transaction = session.beginTransaction();\r\n\t\tsession.merge(t);\r\n\t\ttransaction.commit();\r\n\t}","title":"org.hibernate.HibernateException: Unable to access lob stream","body":"<p>I am using hibernate 3.6.7 to do mapping from my classes to oracle tables.\nI don't usually get this exception:</p>\n\n<pre><code>org.hibernate.HibernateException: Unable to access lob stream\n    at java.util.concurrent.FutureTask$Sync.innerGet(FutureTask.java:222)\n    at java.util.concurrent.FutureTask.get(FutureTask.java:83)\n    at com.mycompany.TransferFiles.TransferFilesToHadoop(TransferFiles.java:85)\n    at com.mycompany.TransferJob.execute(TransferJob.java:25)\n    at org.quartz.core.JobRunShell.run(JobRunShell.java:202)\n    at org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:525)\n Caused by: org.hibernate.HibernateException: Unable to access lob stream\n       at org.hibernate.type.descriptor.java.ClobTypeDescriptor.unwrap(ClobTypeDescriptor.java:117)\n    at org.hibernate.type.descriptor.java.ClobTypeDescriptor.unwrap(ClobTypeDescriptor.java:46)\n    at org.hibernate.type.descriptor.sql.ClobTypeDescriptor$3$1.doBind(ClobTypeDescriptor.java:83)\n    at org.hibernate.type.descriptor.sql.BasicBinder.bind(BasicBinder.java:91)\n    at org.hibernate.type.AbstractStandardBasicType.nullSafeSet(AbstractStandardBasicType.java:283)\n    at org.hibernate.type.AbstractStandardBasicType.nullSafeSet(AbstractStandardBasicType.java:278)\n    at org.hibernate.type.AbstractSingleColumnStandardBasicType.nullSafeSet(AbstractSingleColumnStandardBasicType.java:89)\n    at org.hibernate.persister.entity.AbstractEntityPersister.dehydrate(AbstractEntityPersister.java:2184)\n    at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:2558)\n    at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:2494)\n    at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:2821)\n    at org.hibernate.action.EntityUpdateAction.execute(EntityUpdateAction.java:113)\n    at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:273)\n    at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:265)\n    at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:185)\n    at org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:321)\n    at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:51)\n    at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1216)\n    at com.mycompany.HibernateUtil.getSession(HibernateUtil.java:36)\n    at com.mycompany.BasicDaoImpl.saveOrUpdate(BasicDaoImpl.java:34)\n    at com.mycompany.FileCopyRoutine.call(TransferFiles.java:297)\n    at com.mycompany..FileCopyRoutine.call(TransferFiles.java:225)\n    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:138)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n    at java.lang.Thread.run(Thread.java:662)\n Caused by: java.sql.SQLException: Closed Connection\n    at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)\n    at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)\n    at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:208)\n    at oracle.sql.CLOB.getDBAccess(CLOB.java:1196)\n    at oracle.sql.CLOB.getCharacterStream(CLOB.java:278)\n    at sun.reflect.GeneratedMethodAccessor29.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at org.hibernate.engine.jdbc.SerializableClobProxy.invoke(SerializableClobProxy.java:74)\n    at $Proxy2.getCharacterStream(Unknown Source)\n    at org.hibernate.type.descriptor.java.ClobTypeDescriptor.unwrap(ClobTypeDescriptor.java:114)\n</code></pre>\n\n<p>When I call saveOrUpdate method.</p>\n\n<p>Could anyone please give me some suggestion?</p>\n\n<pre><code>public static synchronized Session getSession() throws DBConnectionException{\n\n    Session session = threadSession.get();\n\n    if(session==null||!session.isOpen()||!session.isConnected()){\n        if(sessionFactory==null||sessionFactory.isClosed())initHibernate();\n        try{\n            session = sessionFactory.openSession();\n        }catch(Exception e){\n            throw new DBConnectionException(\"Exception caught when trying to generate Hibernate session.\");\n        }\n        threadSession.set(session);\n    }\n    if(session.isDirty()){\n        session.flush();(36 line of HibernateUtil)\n    }\n    session.clear();\n    return session;\n}\n</code></pre>\n\n<p>I use it all for a long time.</p>\n\n<p>now I am transferring file parallelly and then update database use saveOrUpdate method.Althrough there are many threads, I snychronized this part in my code.\nI think we have connection to the database all the time, but it gives excpetion of closed connection.\nCould anyone please give me some suggestion about this exception.What the problem should be? </p>\n\n<p>I thought it could because of using saveOrUpdate, so I changed to merge, but it sames to have the same problem.</p>\n\n<pre><code>Caused by: org.hibernate.HibernateException: Unable to access lob stream\n    at org.hibernate.type.descriptor.java.ClobTypeDescriptor.unwrap(ClobTypeDescriptor.java:117)\n    at org.hibernate.type.descriptor.java.ClobTypeDescriptor.unwrap(ClobTypeDescriptor.java:46)\n    at org.hibernate.type.descriptor.sql.ClobTypeDescriptor$3$1.doBind(ClobTypeDescriptor.java:83)\n    at org.hibernate.type.descriptor.sql.BasicBinder.bind(BasicBinder.java:91)\n    at org.hibernate.type.AbstractStandardBasicType.nullSafeSet(AbstractStandardBasicType.java:283)\n    at org.hibernate.type.AbstractStandardBasicType.nullSafeSet(AbstractStandardBasicType.java:278)\n    at org.hibernate.type.AbstractSingleColumnStandardBasicType.nullSafeSet(AbstractSingleColumnStandardBasicType.java:89)\n    at org.hibernate.persister.entity.AbstractEntityPersister.dehydrate(AbstractEntityPersister.java:2184)\n    at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:2558)\n    at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:2494)\n    at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:2821)\n    at org.hibernate.action.EntityUpdateAction.execute(EntityUpdateAction.java:113)\n    at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:273)\n    at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:265)\n    at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:185)\n    at org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:321)\n    at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:51)\n    at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1216)\n    at org.hibernate.impl.SessionImpl.managedFlush(SessionImpl.java:383)\n    at org.hibernate.transaction.JDBCTransaction.commit(JDBCTransaction.java:133)\n    at mycompany.jobsrc.BasicDaoImpl.merge(BasicDaoImpl.java:52)\n    at mycompany.FileCopyRoutine.call(TransferFiles.java:301)\n    at mycompany.FileCopyRoutine.call(TransferFiles.java:226)\n    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:138)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n    at java.lang.Thread.run(Thread.java:662)\n   Caused by: java.sql.SQLException: Closed Connection\n    at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)\n    at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)\n    at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:208)\n    at oracle.sql.CLOB.getDBAccess(CLOB.java:1196)\n    at oracle.sql.CLOB.getCharacterStream(CLOB.java:278)\n    at sun.reflect.GeneratedMethodAccessor36.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at org.hibernate.engine.jdbc.SerializableClobProxy.invoke(SerializableClobProxy.java:74)\n    at $Proxy2.getCharacterStream(Unknown Source)\n    at org.hibernate.type.descriptor.java.ClobTypeDescriptor.unwrap(ClobTypeDescriptor.java:114)\n    ... 27 more\n</code></pre>\n\n<p>my merge code:</p>\n\n<pre><code>public void merge(T t) throws DBConnectionException{\n    Session session = HibernateUtil.getSession();\n    Transaction transaction = session.beginTransaction();\n    session.merge(t);\n    transaction.commit();\n}\n</code></pre>\n"},{"tags":["java","android","android-canvas"],"answers":[{"tags":[],"owner":{"account_id":2989836,"reputation":345,"user_id":2537623,"display_name":"Wayne McGee"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1378214630,"creation_date":1378211061,"answer_id":18592276,"question_id":18592169,"body_markdown":"When ACTION_DOWN is the triggered event, you are resetting wallpath with the wallpath = new Path() statement, abandoning the previous value.  This new path is the only thing that is being drawn in your onDraw method, which is called every time the canvas needs to be redrawn.\r\n\r\nConsider building a List of paths, adding a new path to the list when ACTION_DOWN is the triggered event, and in your onDraw method, draw every path in the list.\r\n\r\nDetails:\r\n\r\nElsewhere in the code, add:\r\n\r\n    pathList = new ArrayList&lt;Path&gt;;\r\n\r\nIn ACTION_DOWN case, add a line:\r\n\r\n    wallpath = new Path();\r\n    pathList.add(wallpath); // &lt;-- Add this line.\r\n\r\nIn the ACTION_MOVE case:\r\n\r\n    endPoint.x = event.getX();\r\n    endPoint.y = event.getY();\r\n    wallpath.lineTo(endPoint.x, endPoint.y); // &lt;-- Add this line.\r\n\r\n\r\nFinally, replace the code in your onDraw method with the following:\r\n\r\n    for (Path path : pathList) {\r\n        canvas.drawPath(path, paint);\r\n    }\r\n\r\nRemove the conditional, it is unnecessary.\r\n","title":"Drawing multiple paths in android","body":"<p>When ACTION_DOWN is the triggered event, you are resetting wallpath with the wallpath = new Path() statement, abandoning the previous value.  This new path is the only thing that is being drawn in your onDraw method, which is called every time the canvas needs to be redrawn.</p>\n\n<p>Consider building a List of paths, adding a new path to the list when ACTION_DOWN is the triggered event, and in your onDraw method, draw every path in the list.</p>\n\n<p>Details:</p>\n\n<p>Elsewhere in the code, add:</p>\n\n<pre><code>pathList = new ArrayList&lt;Path&gt;;\n</code></pre>\n\n<p>In ACTION_DOWN case, add a line:</p>\n\n<pre><code>wallpath = new Path();\npathList.add(wallpath); // &lt;-- Add this line.\n</code></pre>\n\n<p>In the ACTION_MOVE case:</p>\n\n<pre><code>endPoint.x = event.getX();\nendPoint.y = event.getY();\nwallpath.lineTo(endPoint.x, endPoint.y); // &lt;-- Add this line.\n</code></pre>\n\n<p>Finally, replace the code in your onDraw method with the following:</p>\n\n<pre><code>for (Path path : pathList) {\n    canvas.drawPath(path, paint);\n}\n</code></pre>\n\n<p>Remove the conditional, it is unnecessary.</p>\n"},{"tags":[],"owner":{"account_id":16089171,"reputation":91,"user_id":11613036,"display_name":"Orwa Ogwari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654238146,"creation_date":1654034498,"answer_id":72454523,"question_id":18592169,"body_markdown":"I&#39;ve tried Wayne&#39;s solution. Works when drawing. I was wondering, what if I retrieve an arraylist of previously stored paths and try to draw them all using a for loop. Didn&#39;t work. The canvas always starts from as a blank, despite trying to draw all the retrieved lines.\r\n\r\n    for (Path path : pathList) {\r\n        canvas.drawPath(path, paint);\r\n    }","title":"Drawing multiple paths in android","body":"<p>I've tried Wayne's solution. Works when drawing. I was wondering, what if I retrieve an arraylist of previously stored paths and try to draw them all using a for loop. Didn't work. The canvas always starts from as a blank, despite trying to draw all the retrieved lines.</p>\n<pre><code>for (Path path : pathList) {\n    canvas.drawPath(path, paint);\n}\n</code></pre>\n"}],"owner":{"account_id":310434,"reputation":10029,"user_id":623401,"accept_rate":62,"display_name":"Zach"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3673,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":18592276,"answer_count":2,"score":1,"last_activity_date":1654238146,"creation_date":1378210748,"question_id":18592169,"body_markdown":"I am drawing closed paths in android canvas using finger movement. Here is my code for that\r\n\r\n    switch (event.getAction())\r\n                {\r\n                    case MotionEvent.ACTION_DOWN:\r\n                    \tstartPoint = new PointF(event.getX(), event.getY());\r\n                        endPoint = new PointF();\r\n                        hotSpot = new HotSpots();\r\n                        endPoint.x = event.getX();\r\n                        endPoint.y = event.getY();\r\n                        wallpath = new Path();\r\n                        wallpath.moveTo(endPoint.x,endPoint.y);\r\n                        break;\r\n                    case MotionEvent.ACTION_MOVE:\r\n                    \tPointF point = new PointF(event.getX(),event.getY());\r\n                        endPoint.x = event.getX();\r\n                        endPoint.y = event.getY();\r\n    \t\t\t\tinvalidate();\r\n                    \tbreak;\r\n                    case MotionEvent.ACTION_UP:\r\n                    \t\r\n                    \tendPoint.x = startPoint.x;//event.getX();\r\n                         isFinished = true;                    \r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n    \r\n     \t@Override\r\n        protected void onDraw(Canvas canvas)\r\n        {\r\n    \t\twallpath.lineTo(endPoint.x, endPoint.y);\r\n            \tcanvas.drawPath(wallpath, paint);\r\n    \r\n    \t   if(isFinished)\r\n            {\r\n            \twallpath.lineTo(endPoint.x, endPoint.y);\r\n            \tcanvas.drawPath(wallpath, paint);\r\n            }\r\n    \t}\r\n\r\nOn every new touch I am creating a new path. But when a new path is drawn the old path gets erased. How can I draw multiple paths on canvas with different fill colors to each path.","title":"Drawing multiple paths in android","body":"<p>I am drawing closed paths in android canvas using finger movement. Here is my code for that</p>\n\n<pre><code>switch (event.getAction())\n            {\n                case MotionEvent.ACTION_DOWN:\n                    startPoint = new PointF(event.getX(), event.getY());\n                    endPoint = new PointF();\n                    hotSpot = new HotSpots();\n                    endPoint.x = event.getX();\n                    endPoint.y = event.getY();\n                    wallpath = new Path();\n                    wallpath.moveTo(endPoint.x,endPoint.y);\n                    break;\n                case MotionEvent.ACTION_MOVE:\n                    PointF point = new PointF(event.getX(),event.getY());\n                    endPoint.x = event.getX();\n                    endPoint.y = event.getY();\n                invalidate();\n                    break;\n                case MotionEvent.ACTION_UP:\n\n                    endPoint.x = startPoint.x;//event.getX();\n                     isFinished = true;                    \n                    break;\n                default:\n                    break;\n            }\n\n    @Override\n    protected void onDraw(Canvas canvas)\n    {\n        wallpath.lineTo(endPoint.x, endPoint.y);\n            canvas.drawPath(wallpath, paint);\n\n       if(isFinished)\n        {\n            wallpath.lineTo(endPoint.x, endPoint.y);\n            canvas.drawPath(wallpath, paint);\n        }\n    }\n</code></pre>\n\n<p>On every new touch I am creating a new path. But when a new path is drawn the old path gets erased. How can I draw multiple paths on canvas with different fill colors to each path.</p>\n"},{"tags":["java","maven","maven-bom"],"comments":[{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1654238337,"post_id":72485575,"comment_id":128047784,"body_markdown":"The BOM only defines what version the dependencies should have if you bring them in; it does not actually pull in dependencies. It should be safe to add it.","body":"The BOM only defines what version the dependencies should have if you bring them in; it does not actually pull in dependencies. It should be safe to add it."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1654243026,"post_id":72485575,"comment_id":128049102,"body_markdown":"If you like to use them you have to add them. If adding of a BOM results in issue there is something else wrong...","body":"If you like to use them you have to add them. If adding of a BOM results in issue there is something else wrong..."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1654244743,"post_id":72485575,"comment_id":128049587,"body_markdown":"What I don&#39;t understand is: ` I would like to avoid addition of bom dependencies in my pom files.`? Why? As I wrote if adding will cause issues there are other problems..","body":"What I don&#39;t understand is: ` I would like to avoid addition of bom dependencies in my pom files.`? Why? As I wrote if adding will cause issues there are other problems.."},{"owner":{"account_id":22838100,"reputation":11,"user_id":16985582,"display_name":"Mounika"},"score":0,"creation_date":1654247399,"post_id":72485575,"comment_id":128050437,"body_markdown":"I need to add many bom files for my application to work....So just looking for a way to not add them explicitly in pom file or rather have them downloaded as a transitive dependency.","body":"I need to add many bom files for my application to work....So just looking for a way to not add them explicitly in pom file or rather have them downloaded as a transitive dependency."}],"owner":{"account_id":22838100,"reputation":11,"user_id":16985582,"display_name":"Mounika"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654238109,"creation_date":1654238109,"question_id":72485575,"body_markdown":"Is there any way to download a BOM file without explicitly adding the BOM file dependency in pom file? I would like to avoid addition of bom dependencies in my pom files. But the latest versions of TPP jars like Spring, CXF seem to have a dependency on BOM files and compilation fails without them. \r\n\r\nThanks in advance!","title":"Download BOM without explicitly adding in pom file","body":"<p>Is there any way to download a BOM file without explicitly adding the BOM file dependency in pom file? I would like to avoid addition of bom dependencies in my pom files. But the latest versions of TPP jars like Spring, CXF seem to have a dependency on BOM files and compilation fails without them.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","android","firebase-realtime-database","firebase-authentication"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1642073224,"post_id":70695396,"comment_id":124977450,"body_markdown":"Is any of Toast messages displayed?","body":"Is any of Toast messages displayed?"},{"owner":{"account_id":23927752,"reputation":19,"user_id":17922670,"display_name":"Pranklinne Devadass"},"score":0,"creation_date":1642076151,"post_id":70695396,"comment_id":124978483,"body_markdown":"No there is no toast message displayed. But if i register the same email it displayed &quot;Failed to register the user&quot;.","body":"No there is no toast message displayed. But if i register the same email it displayed &quot;Failed to register the user&quot;."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1642076245,"post_id":70695396,"comment_id":124978517,"body_markdown":"Is  your onComplete even triggered?","body":"Is  your onComplete even triggered?"},{"owner":{"account_id":23927752,"reputation":19,"user_id":17922670,"display_name":"Pranklinne Devadass"},"score":0,"creation_date":1642076544,"post_id":70695396,"comment_id":124978614,"body_markdown":"Im really sorry ...But what do you mean by triggered? (new OnCompleteListener&lt;AuthResult&gt;()) this is still anonymous  ...is that because of that","body":"Im really sorry ...But what do you mean by triggered? (new OnCompleteListener&lt;AuthResult&gt;()) this is still anonymous  ...is that because of that"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1642076821,"post_id":70695396,"comment_id":124978723,"body_markdown":"Is your onComplete even called?","body":"Is your onComplete even called?"},{"owner":{"account_id":23927752,"reputation":19,"user_id":17922670,"display_name":"Pranklinne Devadass"},"score":0,"creation_date":1642076933,"post_id":70695396,"comment_id":124978763,"body_markdown":"Yes. its called","body":"Yes. its called"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1642077142,"post_id":70695396,"comment_id":124978823,"body_markdown":"How do you know that?","body":"How do you know that?"},{"owner":{"account_id":23927752,"reputation":19,"user_id":17922670,"display_name":"Pranklinne Devadass"},"score":0,"creation_date":1642077686,"post_id":70695396,"comment_id":124979007,"body_markdown":"I already import this import com.google.android.gms.tasks.OnCompleteListener; in my project. And if the onComplete is not be called how can it store the email in database? Im sorry I&#39;m a beginner.","body":"I already import this import com.google.android.gms.tasks.OnCompleteListener; in my project. And if the onComplete is not be called how can it store the email in database? Im sorry I&#39;m a beginner."},{"owner":{"account_id":23927752,"reputation":19,"user_id":17922670,"display_name":"Pranklinne Devadass"},"score":0,"creation_date":1642079393,"post_id":70695396,"comment_id":124979765,"body_markdown":"Is there anything i can do ???","body":"Is there anything i can do ???"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1642081131,"post_id":70695396,"comment_id":124980498,"body_markdown":"Make sure it&#39;s called, otherwise the code inside will node be triggered.","body":"Make sure it&#39;s called, otherwise the code inside will node be triggered."},{"owner":{"account_id":23927752,"reputation":19,"user_id":17922670,"display_name":"Pranklinne Devadass"},"score":0,"creation_date":1642081610,"post_id":70695396,"comment_id":124980708,"body_markdown":"How to know that its called or not ? Please provide a code","body":"How to know that its called or not ? Please provide a code"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1642086731,"post_id":70695396,"comment_id":124983079,"body_markdown":"I recommend performing some debugging yourself, and telling us the results. For example, if you put a breakpoint on the call to `setValue` and another one on `if(task.isSuccessful())` and run. the app in the debugger, does it reach either/both of those breakpoints? And if so, do the values of all variables on that line look correct to you?","body":"I recommend performing some debugging yourself, and telling us the results. For example, if you put a breakpoint on the call to <code>setValue</code> and another one on <code>if(task.isSuccessful())</code> and run. the app in the debugger, does it reach either/both of those breakpoints? And if so, do the values of all variables on that line look correct to you?"},{"owner":{"account_id":23927752,"reputation":19,"user_id":17922670,"display_name":"Pranklinne Devadass"},"score":0,"creation_date":1642093180,"post_id":70695396,"comment_id":124985821,"body_markdown":"Hello Frank..i have set the breakpoint and perform debugging ....but it doesn&#39;t display any thing in the frame. But from the second **public void onComplete(@NonNull Task&lt;Void&gt; task)** till the } has no 1 tick....is that the problem ?","body":"Hello Frank..i have set the breakpoint and perform debugging ....but it doesn&#39;t display any thing in the frame. But from the second <b>public void onComplete(@NonNull Task&lt;Void&gt; task)</b> till the } has no 1 tick....is that the problem ?"}],"answers":[{"tags":[],"owner":{"account_id":25439862,"reputation":1,"user_id":19242989,"display_name":"terry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654238082,"creation_date":1654024576,"answer_id":72453086,"question_id":70695396,"body_markdown":"You can specify the full database URL in the call to `getInstance()` like this: \r\n\r\n`FirebaseDatabase.getInstance(&quot;your database URL&quot;).getReference()`","title":"Why my Realtime Database Data is not showing anything in Firebase?","body":"<p>You can specify the full database URL in the call to <code>getInstance()</code> like this:</p>\n<p><code>FirebaseDatabase.getInstance(&quot;your database URL&quot;).getReference()</code></p>\n"}],"owner":{"account_id":23927752,"reputation":19,"user_id":17922670,"display_name":"Pranklinne Devadass"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":434,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1654238082,"creation_date":1642071388,"question_id":70695396,"body_markdown":"I am doing a Android Studio Project with Firebase but I can&#39;t view the data in the Realtime Database. It seems successfully connected because I can see my data in the Authentication (User) but not displaying in Realtime database. Please help me. I have also turn the rules into true. But still my Firebase data showing **south-masalaa-default-rtbd:null**\r\n\r\n\r\n    mAuth.createUserWithEmailAndPassword(CustEmail, CustPass)\r\n        .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n\r\n                if(task.isSuccessful())\r\n                {\r\n                    User user = new User(CustName, CustEmail, CustPhoneNumber, CustPass );\r\n                    FirebaseDatabase.getInstance().getReference(&quot;User&quot;)\r\n                            .child(FirebaseAuth.getInstance().getCurrentUser().getUid())\r\n                            .setValue(user).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                            if(task.isSuccessful())\r\n                            {\r\n                                Toast.makeText(SignUp.this, &quot;Successful Registered&quot;, Toast.LENGTH_LONG).show();\r\n                            }\r\n                            else\r\n                            {\r\n                                Toast.makeText(SignUp.this, &quot;Not successful&quot;, Toast.LENGTH_LONG).show();\r\n                            }\r\n                        }\r\n                    });\r\n                } else\r\n                {\r\n                    Toast.makeText(SignUp.this, &quot;Failed to register the user&quot;, Toast.LENGTH_LONG).show();\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Why my Realtime Database Data is not showing anything in Firebase?","body":"<p>I am doing a Android Studio Project with Firebase but I can't view the data in the Realtime Database. It seems successfully connected because I can see my data in the Authentication (User) but not displaying in Realtime database. Please help me. I have also turn the rules into true. But still my Firebase data showing <strong>south-masalaa-default-rtbd:null</strong></p>\n<pre><code>mAuth.createUserWithEmailAndPassword(CustEmail, CustPass)\n    .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n\n            if(task.isSuccessful())\n            {\n                User user = new User(CustName, CustEmail, CustPhoneNumber, CustPass );\n                FirebaseDatabase.getInstance().getReference(&quot;User&quot;)\n                        .child(FirebaseAuth.getInstance().getCurrentUser().getUid())\n                        .setValue(user).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                        if(task.isSuccessful())\n                        {\n                            Toast.makeText(SignUp.this, &quot;Successful Registered&quot;, Toast.LENGTH_LONG).show();\n                        }\n                        else\n                        {\n                            Toast.makeText(SignUp.this, &quot;Not successful&quot;, Toast.LENGTH_LONG).show();\n                        }\n                    }\n                });\n            } else\n            {\n                Toast.makeText(SignUp.this, &quot;Failed to register the user&quot;, Toast.LENGTH_LONG).show();\n            }\n        }\n    });\n</code></pre>\n"},{"tags":["java","spring","openapi","springdoc-openapi-ui"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1654237906,"post_id":72484491,"comment_id":128047673,"body_markdown":"seems `method group(String)` is not available in that version. Should probably be `setGroup(&quot;Fortune&quot;)`","body":"seems <code>method group(String)</code> is not available in that version. Should probably be <code>setGroup(&quot;Fortune&quot;)</code>"}],"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1634,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654237239,"creation_date":1654228027,"question_id":72484491,"body_markdown":"I am using open api to generate the swagger docs, I follow the official documents to config like this:\r\n\r\n\r\n\r\n    package misc.config.openapi;\r\n    \r\n    import org.springdoc.core.GroupedOpenApi;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    /**\r\n     * https://springdoc.org/\r\n     * https://github.com/springdoc/springdoc-openapi\r\n     */\r\n    @Configuration\r\n    public class OpenApiConfig {\r\n    \r\n        @Bean\r\n        public GroupedOpenApi fortuneApi() {\r\n            return GroupedOpenApi.builder().group(&quot;Fortune&quot;).pathsToMatch(&quot;/fortune/**&quot;).build();\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\nthis is the [docs][1] page. when I compile the project, shows error like this:\r\n\r\n\r\n\r\n\r\n    &gt; Configure project :dolphin-acientbay\r\n    /Users/xiaoqiangjiang/source/reddwarf/backend/retire\r\n    &gt; Configure project :dolphin-post\r\n    /Users/xiaoqiangjiang/source/reddwarf/backend/retire\r\n    &gt; Configure project :dolphin-template\r\n    /Users/xiaoqiangjiang/source/reddwarf/backend/retire\r\n    &gt; Task :dolphin-common:compileJava FAILED\r\n    /Users/xiaoqiangjiang/source/reddwarf/backend/retire/dolphin-common/src/main/java/misc/config/openapi/OpenApiConfig.java:16: error: cannot find symbol\r\n            return GroupedOpenApi.builder().group(&quot;Fortune&quot;).pathsToMatch(&quot;/fortune/**&quot;).build();\r\n                                           ^\r\n      symbol:   method group(String)\r\n      location: class Builder\r\n    Note: Some input files use or override a deprecated API.\r\n    Note: Recompile with -Xlint:deprecation for details.\r\n    Note: Some input files use unchecked or unsafe operations.\r\n    Note: Recompile with -Xlint:unchecked for details.\r\n    1 error\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:dolphin-common:compileJava&#39;.\r\n    &gt; Compilation failed; see the compiler error output for details.\r\n    \r\n    * Try:\r\n    &gt; Run with --stacktrace option to get the stack trace.\r\n    &gt; Run with --info or --debug option to get more log output.\r\n    &gt; Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    Deprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\r\n    \r\n    You can use &#39;--warning-mode all&#39; to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\r\n    \r\n    See https://docs.gradle.org/7.4/userguide/command_line_interface.html#sec:command_line_warnings\r\n    \r\n    BUILD FAILED in 2s\r\n    9 actionable tasks: 6 executed, 3 up-to-date\r\n\r\n\r\n\r\nthe Intellij IDE did not give any error tips, why could not compile the project? what should I do to fixed this problem? Am I missing something? this is the dependencies I am using:\r\n\r\n\r\n\r\n\r\n\r\n    api &quot;org.springdoc:springdoc-openapi-ui:1.6.9&quot;\r\n    api &quot;org.springdoc:springdoc-openapi-webmvc-core:1.2.32&quot;\r\n\r\n\r\n  [1]: https://springdoc.org/#migrating-from-springfox\r\n\r\n","title":"why the openapi official config could not find symbol when compile","body":"<p>I am using open api to generate the swagger docs, I follow the official documents to config like this:</p>\n<pre><code>package misc.config.openapi;\n\nimport org.springdoc.core.GroupedOpenApi;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n/**\n * https://springdoc.org/\n * https://github.com/springdoc/springdoc-openapi\n */\n@Configuration\npublic class OpenApiConfig {\n\n    @Bean\n    public GroupedOpenApi fortuneApi() {\n        return GroupedOpenApi.builder().group(&quot;Fortune&quot;).pathsToMatch(&quot;/fortune/**&quot;).build();\n    }\n\n}\n</code></pre>\n<p>this is the <a href=\"https://springdoc.org/#migrating-from-springfox\" rel=\"nofollow noreferrer\">docs</a> page. when I compile the project, shows error like this:</p>\n<pre><code>&gt; Configure project :dolphin-acientbay\n/Users/xiaoqiangjiang/source/reddwarf/backend/retire\n&gt; Configure project :dolphin-post\n/Users/xiaoqiangjiang/source/reddwarf/backend/retire\n&gt; Configure project :dolphin-template\n/Users/xiaoqiangjiang/source/reddwarf/backend/retire\n&gt; Task :dolphin-common:compileJava FAILED\n/Users/xiaoqiangjiang/source/reddwarf/backend/retire/dolphin-common/src/main/java/misc/config/openapi/OpenApiConfig.java:16: error: cannot find symbol\n        return GroupedOpenApi.builder().group(&quot;Fortune&quot;).pathsToMatch(&quot;/fortune/**&quot;).build();\n                                       ^\n  symbol:   method group(String)\n  location: class Builder\nNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: Some input files use unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n1 error\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':dolphin-common:compileJava'.\n&gt; Compilation failed; see the compiler error output for details.\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\n\nYou can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\n\nSee https://docs.gradle.org/7.4/userguide/command_line_interface.html#sec:command_line_warnings\n\nBUILD FAILED in 2s\n9 actionable tasks: 6 executed, 3 up-to-date\n</code></pre>\n<p>the Intellij IDE did not give any error tips, why could not compile the project? what should I do to fixed this problem? Am I missing something? this is the dependencies I am using:</p>\n<pre><code>api &quot;org.springdoc:springdoc-openapi-ui:1.6.9&quot;\napi &quot;org.springdoc:springdoc-openapi-webmvc-core:1.2.32&quot;\n</code></pre>\n"},{"tags":["java","spring","design-patterns"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":2,"creation_date":1653567638,"post_id":72354540,"comment_id":127885909,"body_markdown":"If you only append and do not modify the existing message or the appended text is dependent on the existing message, there is no reason to pass it around. Simply let those methods return strings and append those to the message in `doWork()`. Why would you need AOP for that?","body":"If you only append and do not modify the existing message or the appended text is dependent on the existing message, there is no reason to pass it around. Simply let those methods return strings and append those to the message in <code>doWork()</code>. Why would you need AOP for that?"},{"owner":{"account_id":1887821,"reputation":2984,"user_id":1706691,"accept_rate":69,"display_name":"James"},"score":0,"creation_date":1653580082,"post_id":72354540,"comment_id":127890754,"body_markdown":"@kriegaex - Yes. I will only append to the existing message. In the above code, I could replace returning void with String as you suggested. In the more general case though, the method may already be returning another object or primitive. I suppose I could wrap that object in another one that included the String message property.  Thanks for thoughts.","body":"@kriegaex - Yes. I will only append to the existing message. In the above code, I could replace returning void with String as you suggested. In the more general case though, the method may already be returning another object or primitive. I suppose I could wrap that object in another one that included the String message property.  Thanks for thoughts."},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":2,"creation_date":1654153660,"post_id":72354540,"comment_id":128024688,"body_markdown":"*&quot;Would it be bad practice to use a singleton to hold state&quot;* In a multi-threaded application: yes. If 2 threads want to build an email at the same time, you&#39;re in trouble.","body":"<i>&quot;Would it be bad practice to use a singleton to hold state&quot;</i> In a multi-threaded application: yes. If 2 threads want to build an email at the same time, you&#39;re in trouble."},{"owner":{"account_id":7283504,"reputation":313,"user_id":5552396,"accept_rate":67,"display_name":"gunescelil"},"score":0,"creation_date":1654201270,"post_id":72354540,"comment_id":128041284,"body_markdown":"I would recommend you to declare a separate class for example name it EmailText and only make &#39;constructor with fields&#39; accessible. You can also add Assert.notNull checks in the constructor. This way you will make sure every field is initialized. Finally after this you can add another method in that class where it can order the text and return you what you want","body":"I would recommend you to declare a separate class for example name it EmailText and only make &#39;constructor with fields&#39; accessible. You can also add Assert.notNull checks in the constructor. This way you will make sure every field is initialized. Finally after this you can add another method in that class where it can order the text and return you what you want"}],"answers":[{"tags":[],"owner":{"account_id":6141709,"reputation":1016,"user_id":4788928,"display_name":"Jeff Bennett"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1653724350,"creation_date":1653724350,"answer_id":72413886,"question_id":72354540,"body_markdown":"It really depends on your goal.\r\n\r\nThe code you wrote appears to work, so your question is really about trying to achieve design-perfection.  There are certainly other patterns you could apply - e.g. some sort of dispatch, or notifier - but why?  If it works, and it&#39;s fast-enough, then move on to some other problem.  It it&#39;s slow, or doesn&#39;t scale to your needs, that&#39;s another story.  But in that case, you should gather performance metrics and attack it methodically.\r\n\r\nI&#39;m not sure about your singlton idea.  Essentially, emailMessage represents your &#39;model&#39; in a classic model-view-controller paradigm.  Sure, you could make a singleton out of it, but all that really does is move the model class from being passed-on-the-stack to residing (once) permanently in memory.  If your memory is thrashing with constant new/deletes from creating a billion emails, that might make sense, but I doubt you have that problem.  Singleton likely would not hurt, but what help is it providing?\r\n\r\nDon&#39;t let Perfect be the enemy of the Good","title":"Should I use a Spring singleton bean to build up an email message?","body":"<p>It really depends on your goal.</p>\n<p>The code you wrote appears to work, so your question is really about trying to achieve design-perfection.  There are certainly other patterns you could apply - e.g. some sort of dispatch, or notifier - but why?  If it works, and it's fast-enough, then move on to some other problem.  It it's slow, or doesn't scale to your needs, that's another story.  But in that case, you should gather performance metrics and attack it methodically.</p>\n<p>I'm not sure about your singlton idea.  Essentially, emailMessage represents your 'model' in a classic model-view-controller paradigm.  Sure, you could make a singleton out of it, but all that really does is move the model class from being passed-on-the-stack to residing (once) permanently in memory.  If your memory is thrashing with constant new/deletes from creating a billion emails, that might make sense, but I doubt you have that problem.  Singleton likely would not hurt, but what help is it providing?</p>\n<p>Don't let Perfect be the enemy of the Good</p>\n"},{"tags":[],"owner":{"account_id":4585640,"reputation":414,"user_id":3720409,"accept_rate":43,"display_name":"filip"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653762268,"creation_date":1653762268,"answer_id":72418273,"question_id":72354540,"body_markdown":"Create a MailBuilder class as your domain model and pass it around. Depending which service does what you can have a method for each specific service call. For example MailBuilder.appendForServiceA(args), MailBuilder.appendForServiceB(args). This way you can actually test the builder on its own.","title":"Should I use a Spring singleton bean to build up an email message?","body":"<p>Create a MailBuilder class as your domain model and pass it around. Depending which service does what you can have a method for each specific service call. For example MailBuilder.appendForServiceA(args), MailBuilder.appendForServiceB(args). This way you can actually test the builder on its own.</p>\n"},{"tags":[],"owner":{"account_id":6502278,"reputation":1449,"user_id":5032575,"display_name":"Ahmed Sayed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653919657,"creation_date":1653919657,"answer_id":72435676,"question_id":72354540,"body_markdown":"You are thinking in the right direction, if you see similar interactions from different services with a certain object, you can extract the whole process in the form of Beans.\r\n\r\nFor example, we can describe the process as follows:\r\n- An EmailBuilder object as input (as the others already mentioned)\r\n- And a series of transformations on that object\r\n- The EmailBuilder now can build an Email Object that holds all necessary transformations\r\n\r\nHere is how I would implement this with Spring Beans, the `@Order` annotation here is fundamental to the setup.\r\n\r\n```java\r\n    @lombok.Data\r\n    @lombok.Builder\r\n    static class Email {\r\n        private String to;\r\n        private String from;\r\n        @Singular\r\n        private List&lt;String&gt; sections;\r\n    }\r\n\r\n    @Bean\r\n    @Order(1)\r\n    Consumer&lt;Email.EmailBuilder&gt; addFromFieldToEmail() {\r\n        return emailBuilder -&gt; emailBuilder.from(&quot;abcd@efghijk.xyz&quot;);\r\n    }\r\n\r\n    @Bean\r\n    @Order(2)\r\n    Consumer&lt;Email.EmailBuilder&gt; addToFieldToEmail() {\r\n        return emailBuilder -&gt; {\r\n            // Get user email from context for example\r\n            // SecurityContextHolder.getContext().getAuthentication().getPrincipal();\r\n            emailBuilder.to(&quot;user@domain.com&quot;);\r\n        };\r\n    }\r\n\r\n    @Bean\r\n    @Order(3) // the bean order is taken in consideration when we autowire\r\n              // a list of similar beans. This ensures the processing order\r\n    Consumer&lt;Email.EmailBuilder&gt; addGreetingSectionToEmailBody() {\r\n        return emailBuilder -&gt; emailBuilder.section(\r\n                String.format(&quot;Dear %s,&quot;, emailBuilder.to)\r\n                + &quot;\\nwelcome to our website!&quot;\r\n                + &quot;\\n&quot;\r\n        );\r\n    }\r\n\r\n    @Bean\r\n    @Order(4)\r\n    Consumer&lt;Email.EmailBuilder&gt; addMarketingSectionToEmailBody() {\r\n        return emailBuilder -&gt; emailBuilder.section(\r\n                &quot;Do you know that if you invite your friends you get 200 Schmeckles in credit?&quot;\r\n                + &quot;[Invitation Link](https://efghijk.xyz/invite?user=123&amp;token=abcdef123)&quot;\r\n        );\r\n    }\r\n\r\n    @Bean // creating a Callable bean, and not an EmailBuilder ensures\r\n          // the creation of a new builder each time.\r\n          // An alternative would be to create an EmailBuilder bean of scope prototype\r\n          // see https://www.baeldung.com/spring-bean-scopes#prototype\r\n    Callable&lt;Email.EmailBuilder&gt; emailBuilderProvider(final List&lt;Consumer&lt;Email.EmailBuilder&gt;&gt; customizers) {\r\n        return () -&gt; {\r\n            final Email.EmailBuilder builder = Email.builder();\r\n            customizers.forEach(customizer -&gt; customizer.accept(builder));\r\n            return builder;\r\n        };\r\n    }\r\n\r\n    @Bean\r\n    MailService mailService(final Callable&lt;Email.EmailBuilder&gt; emailBuilderProvider) {\r\n        return new MailService(emailBuilderProvider);\r\n    }\r\n\r\n    @RequiredArgsConstructor\r\n    class MailService {\r\n\r\n        private final Callable&lt;Email.EmailBuilder&gt; emailBuilderProvider;\r\n\r\n        void sendMail() throws Exception {\r\n            Email email = emailBuilderProvider.call().build();\r\n//            mail.sendEmailToAdmins(&quot;Batch process completed&quot;, email.toString());\r\n        }\r\n    }\r\n\r\n``` ","title":"Should I use a Spring singleton bean to build up an email message?","body":"<p>You are thinking in the right direction, if you see similar interactions from different services with a certain object, you can extract the whole process in the form of Beans.</p>\n<p>For example, we can describe the process as follows:</p>\n<ul>\n<li>An EmailBuilder object as input (as the others already mentioned)</li>\n<li>And a series of transformations on that object</li>\n<li>The EmailBuilder now can build an Email Object that holds all necessary transformations</li>\n</ul>\n<p>Here is how I would implement this with Spring Beans, the <code>@Order</code> annotation here is fundamental to the setup.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @lombok.Data\n    @lombok.Builder\n    static class Email {\n        private String to;\n        private String from;\n        @Singular\n        private List&lt;String&gt; sections;\n    }\n\n    @Bean\n    @Order(1)\n    Consumer&lt;Email.EmailBuilder&gt; addFromFieldToEmail() {\n        return emailBuilder -&gt; emailBuilder.from(&quot;abcd@efghijk.xyz&quot;);\n    }\n\n    @Bean\n    @Order(2)\n    Consumer&lt;Email.EmailBuilder&gt; addToFieldToEmail() {\n        return emailBuilder -&gt; {\n            // Get user email from context for example\n            // SecurityContextHolder.getContext().getAuthentication().getPrincipal();\n            emailBuilder.to(&quot;user@domain.com&quot;);\n        };\n    }\n\n    @Bean\n    @Order(3) // the bean order is taken in consideration when we autowire\n              // a list of similar beans. This ensures the processing order\n    Consumer&lt;Email.EmailBuilder&gt; addGreetingSectionToEmailBody() {\n        return emailBuilder -&gt; emailBuilder.section(\n                String.format(&quot;Dear %s,&quot;, emailBuilder.to)\n                + &quot;\\nwelcome to our website!&quot;\n                + &quot;\\n&quot;\n        );\n    }\n\n    @Bean\n    @Order(4)\n    Consumer&lt;Email.EmailBuilder&gt; addMarketingSectionToEmailBody() {\n        return emailBuilder -&gt; emailBuilder.section(\n                &quot;Do you know that if you invite your friends you get 200 Schmeckles in credit?&quot;\n                + &quot;[Invitation Link](https://efghijk.xyz/invite?user=123&amp;token=abcdef123)&quot;\n        );\n    }\n\n    @Bean // creating a Callable bean, and not an EmailBuilder ensures\n          // the creation of a new builder each time.\n          // An alternative would be to create an EmailBuilder bean of scope prototype\n          // see https://www.baeldung.com/spring-bean-scopes#prototype\n    Callable&lt;Email.EmailBuilder&gt; emailBuilderProvider(final List&lt;Consumer&lt;Email.EmailBuilder&gt;&gt; customizers) {\n        return () -&gt; {\n            final Email.EmailBuilder builder = Email.builder();\n            customizers.forEach(customizer -&gt; customizer.accept(builder));\n            return builder;\n        };\n    }\n\n    @Bean\n    MailService mailService(final Callable&lt;Email.EmailBuilder&gt; emailBuilderProvider) {\n        return new MailService(emailBuilderProvider);\n    }\n\n    @RequiredArgsConstructor\n    class MailService {\n\n        private final Callable&lt;Email.EmailBuilder&gt; emailBuilderProvider;\n\n        void sendMail() throws Exception {\n            Email email = emailBuilderProvider.call().build();\n//            mail.sendEmailToAdmins(&quot;Batch process completed&quot;, email.toString());\n        }\n    }\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12571294,"reputation":1,"user_id":9145315,"display_name":"Federico Boarelli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654091131,"creation_date":1654002160,"answer_id":72448296,"question_id":72354540,"body_markdown":"Sticking to your business logic and considering what you&#39;ve shared I think that using multiple side-effects call on same object, considering that [StringBuilder is not thread-safe][1], is probably not the best approach.\r\n\r\nI would rather return a message from each call from which you want to track the outcome and store them in a data structure, like a stack just to make an example, and building the mail messages considering the data collected. \r\n\r\nThis approach could be easily tweaked to get a thread safe implementation if needed.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/StringBuilder.html","title":"Should I use a Spring singleton bean to build up an email message?","body":"<p>Sticking to your business logic and considering what you've shared I think that using multiple side-effects call on same object, considering that <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/StringBuilder.html\" rel=\"nofollow noreferrer\">StringBuilder is not thread-safe</a>, is probably not the best approach.</p>\n<p>I would rather return a message from each call from which you want to track the outcome and store them in a data structure, like a stack just to make an example, and building the mail messages considering the data collected.</p>\n<p>This approach could be easily tweaked to get a thread safe implementation if needed.</p>\n"},{"tags":[],"owner":{"account_id":25296580,"reputation":2100,"user_id":19121623,"display_name":"Eskandar Abedini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654236657,"creation_date":1654185784,"answer_id":72479124,"question_id":72354540,"body_markdown":"Yes you can use Bean for sending emails:\r\n\r\n    @Bean\r\n    public JavaMailSender getJavaMailSender() {\r\n        JavaMailSenderImpl mailSender = new JavaMailSenderImpl();\r\n        mailSender.setHost(&quot;host&quot;);\r\n        mailSender.setPort(&lt;port number&gt;);\r\n    \r\n        mailSender.setUsername(&quot;user_name&quot;);\r\n        mailSender.setPassword(&quot;password&quot;);\r\n\r\n        ///////////////////////////////\r\n        //Set subject, to\r\n        ///////////////////////////////\r\n\r\n        Properties props = mailSender.getJavaMailProperties();\r\n        props.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\r\n        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n        props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n        props.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\n    \r\n        return mailSender;\r\n    }\r\n\r\nAnd autowire it to your service class as following:\r\n\r\n    @Autowired\r\n    public JavaMailSender emailSender;\r\n    \r\n    public void sendSimpleMessage(\r\n      String to, String subject, String text) {\r\n        ...\r\n        SimpleMailMessage message = new SimpleMailMessage();\r\n        message.setTo(to);\r\n        message.setSubject(subject);\r\n        message.setText(text);\r\n        emailSender.send(message);\r\n        ...\r\n    }\r\n\r\nIn your case, because your email to and subject are constant, you can set these parameters at `JavaMailSender` Bean and call `emailSender.send()` wit only one argument that is email body and you don&#39;t need instantiate send `SimpleMailMessage` class for calling `emailSender.send()` method. In another language, you message&#39;s constant part in your bean and send varying part to send method as arguments.\r\n\r\n[Guide to Send Emails in Java][1]\r\n\r\n\r\n  [1]: https://mailtrap.io/blog/sending-email-using-java/\r\n","title":"Should I use a Spring singleton bean to build up an email message?","body":"<p>Yes you can use Bean for sending emails:</p>\n<pre><code>@Bean\npublic JavaMailSender getJavaMailSender() {\n    JavaMailSenderImpl mailSender = new JavaMailSenderImpl();\n    mailSender.setHost(&quot;host&quot;);\n    mailSender.setPort(&lt;port number&gt;);\n\n    mailSender.setUsername(&quot;user_name&quot;);\n    mailSender.setPassword(&quot;password&quot;);\n\n    ///////////////////////////////\n    //Set subject, to\n    ///////////////////////////////\n\n    Properties props = mailSender.getJavaMailProperties();\n    props.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\n    props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n    props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n    props.put(&quot;mail.debug&quot;, &quot;true&quot;);\n\n    return mailSender;\n}\n</code></pre>\n<p>And autowire it to your service class as following:</p>\n<pre><code>@Autowired\npublic JavaMailSender emailSender;\n\npublic void sendSimpleMessage(\n  String to, String subject, String text) {\n    ...\n    SimpleMailMessage message = new SimpleMailMessage();\n    message.setTo(to);\n    message.setSubject(subject);\n    message.setText(text);\n    emailSender.send(message);\n    ...\n}\n</code></pre>\n<p>In your case, because your email to and subject are constant, you can set these parameters at <code>JavaMailSender</code> Bean and call <code>emailSender.send()</code> wit only one argument that is email body and you don't need instantiate send <code>SimpleMailMessage</code> class for calling <code>emailSender.send()</code> method. In another language, you message's constant part in your bean and send varying part to send method as arguments.</p>\n<p><a href=\"https://mailtrap.io/blog/sending-email-using-java/\" rel=\"nofollow noreferrer\">Guide to Send Emails in Java</a></p>\n"},{"tags":[],"owner":{"account_id":12810928,"reputation":2458,"user_id":9269177,"display_name":"Debargha Roy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654196389,"creation_date":1654196389,"answer_id":72481117,"question_id":72354540,"body_markdown":"I feel a better way would be to return a wrapper class from your child services. The wrapper class can have two attributes, a generic type `payload` to contain any data that&#39;s actually retuned by the service, and another field `summary` of type `String` containing the message that you can use in your email content. \r\n\r\n```java\r\n// our wrapper class\r\nclass ServiceReply&lt;T&gt; {\r\n  private String summary;\r\n  private T payload;\r\n\r\n  // constructors/getters/setters... prefer a builder though\r\n}\r\n```\r\n\r\nThe your service looks somethings like below\r\n```java\r\n@Service\r\npublic class Service1 {\r\n    public ServiceReply&lt;List&lt;Item&gt;&gt; method1() {\r\n         //some work to remove items\r\n        String message = String.format(&quot;Following items were removed&quot;, items);\r\n        log.info(message);\r\n        return new ServiceReply&lt;&gt;(message, items);\r\n    }\r\n}\r\n```\r\n\r\nand your `doWork` method in `MainService.java` reduces to something as below \r\n```java\r\npublic void doWork() {\r\n\r\n  StringBuilder emailMessage = new StringBuilder();\r\n\r\n  final ServiceReply&lt;List&lt;Item&gt;&gt; replyService1Method1 = service1.method1();\r\n  emailMessage.append(replyService1Method1.getSummary());\r\n  List&lt;Item&gt; items = replyService1Method1.getPayload();\r\n\r\n  // other method calls omitted for brevity \r\n\r\n  //send one email to the admins \r\n  mail.sendEmailToAdmins(&quot;Batch process completed&quot;, emailMessage.toString());\r\n}\r\n```\r\n\r\nThis way, though you end up writing a little more code (1 extra line per method call in the above sample), you don&#39;t have to bother about passing the message object across methods. ","title":"Should I use a Spring singleton bean to build up an email message?","body":"<p>I feel a better way would be to return a wrapper class from your child services. The wrapper class can have two attributes, a generic type <code>payload</code> to contain any data that's actually retuned by the service, and another field <code>summary</code> of type <code>String</code> containing the message that you can use in your email content.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// our wrapper class\nclass ServiceReply&lt;T&gt; {\n  private String summary;\n  private T payload;\n\n  // constructors/getters/setters... prefer a builder though\n}\n</code></pre>\n<p>The your service looks somethings like below</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class Service1 {\n    public ServiceReply&lt;List&lt;Item&gt;&gt; method1() {\n         //some work to remove items\n        String message = String.format(&quot;Following items were removed&quot;, items);\n        log.info(message);\n        return new ServiceReply&lt;&gt;(message, items);\n    }\n}\n</code></pre>\n<p>and your <code>doWork</code> method in <code>MainService.java</code> reduces to something as below</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void doWork() {\n\n  StringBuilder emailMessage = new StringBuilder();\n\n  final ServiceReply&lt;List&lt;Item&gt;&gt; replyService1Method1 = service1.method1();\n  emailMessage.append(replyService1Method1.getSummary());\n  List&lt;Item&gt; items = replyService1Method1.getPayload();\n\n  // other method calls omitted for brevity \n\n  //send one email to the admins \n  mail.sendEmailToAdmins(&quot;Batch process completed&quot;, emailMessage.toString());\n}\n</code></pre>\n<p>This way, though you end up writing a little more code (1 extra line per method call in the above sample), you don't have to bother about passing the message object across methods.</p>\n"}],"owner":{"account_id":1887821,"reputation":2984,"user_id":1706691,"accept_rate":69,"display_name":"James"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":346,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":72413886,"answer_count":6,"score":1,"last_activity_date":1654236657,"creation_date":1653338056,"question_id":72354540,"body_markdown":"From a `@Service` class, I&#39;m calling several methods on other `@Service` classes. The service methods do some work and add some text to an email message. That email message is sent to admins to let them know of the work that was done. \r\n\r\nHere&#39;s a simple example but in general the email message may be appended within any service method including ones that are not directly called by the `MainService`. Similar to logging, The message is always appended to an existing message. It is not modified in any other way.\r\n\r\n\r\n    @Service\r\n    public class MainService {    \r\n    \r\n       private final Service1 service1;\r\n       private final Service2 service2;\r\n       private final Mail mail;\r\n    \r\n       public void doWork() {\r\n    \r\n    \t   StringBuilder emailMessage = new StringBuilder();\r\n    \r\n           List&lt;Item&gt; items = service1.method1(emailMessage);\r\n           Employee employee = service1.method2(emailMessage);\r\n           service1.method3(emailMessage);\r\n    \r\n           service2.method1(emailMessage);\r\n           service2.method2(emailMessage);\r\n    \r\n           //send one email to the admins \r\n           mail.sendEmailToAdmins(&quot;Batch process completed&quot;, emailMessage.toString());\r\n        }\r\n    }\r\n\r\n    @Service\r\n    public class Service1 {\r\n\r\n        public List&lt;Item&gt; method1(StringBuilder emailMessage) {\r\n\r\n             //some work to remove items\r\n            \r\n            String message = String.format(&quot;Following items were removed&quot;, items);\r\n            log.info(message);\r\n            emailMessage.append(message);\r\n            return items;\r\n        }\r\n    }\r\n\r\nIs there a way to avoid passing around `emailMessage`? Would it be bad practice to use a singleton to hold state (i.e., email message text) and inject that into each service class? \r\n\r\nA few notes are: \r\n\r\n - This is not a web application. It&#39;s an application that runs on a cron job daily.\r\n - Order of the text appended in the message is not important\r\n\r\n","title":"Should I use a Spring singleton bean to build up an email message?","body":"<p>From a <code>@Service</code> class, I'm calling several methods on other <code>@Service</code> classes. The service methods do some work and add some text to an email message. That email message is sent to admins to let them know of the work that was done.</p>\n<p>Here's a simple example but in general the email message may be appended within any service method including ones that are not directly called by the <code>MainService</code>. Similar to logging, The message is always appended to an existing message. It is not modified in any other way.</p>\n<pre><code>@Service\npublic class MainService {    \n\n   private final Service1 service1;\n   private final Service2 service2;\n   private final Mail mail;\n\n   public void doWork() {\n\n       StringBuilder emailMessage = new StringBuilder();\n\n       List&lt;Item&gt; items = service1.method1(emailMessage);\n       Employee employee = service1.method2(emailMessage);\n       service1.method3(emailMessage);\n\n       service2.method1(emailMessage);\n       service2.method2(emailMessage);\n\n       //send one email to the admins \n       mail.sendEmailToAdmins(&quot;Batch process completed&quot;, emailMessage.toString());\n    }\n}\n\n@Service\npublic class Service1 {\n\n    public List&lt;Item&gt; method1(StringBuilder emailMessage) {\n\n         //some work to remove items\n        \n        String message = String.format(&quot;Following items were removed&quot;, items);\n        log.info(message);\n        emailMessage.append(message);\n        return items;\n    }\n}\n</code></pre>\n<p>Is there a way to avoid passing around <code>emailMessage</code>? Would it be bad practice to use a singleton to hold state (i.e., email message text) and inject that into each service class?</p>\n<p>A few notes are:</p>\n<ul>\n<li>This is not a web application. It's an application that runs on a cron job daily.</li>\n<li>Order of the text appended in the message is not important</li>\n</ul>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1653877475,"post_id":72428578,"comment_id":127950722,"body_markdown":"Use the `drawImage(...)` method of the Graphics object. It allows you to specify the location and even scale the image if required. Also for custom painting you should override the `paintComponent()` method of your JPanel or JComponent.","body":"Use the <code>drawImage(...)</code> method of the Graphics object. It allows you to specify the location and even scale the image if required. Also for custom painting you should override the <code>paintComponent()</code> method of your JPanel or JComponent."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1653877988,"post_id":72428578,"comment_id":127950798,"body_markdown":"[2D Graphics Trail](https://docs.oracle.com/javase/tutorial/2d/index.html#:~:text=This%20trail%20introduces%20you%20to,for%20beginners%20in%20computer%20graphics.); [Painting in AWT and Swing](https://www.oracle.com/java/technologies/painting.html); [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html)","body":"<a href=\"https://docs.oracle.com/javase/tutorial/2d/index.html#:~:text=This%20trail%20introduces%20you%20to,for%20beginners%20in%20computer%20graphics.\" rel=\"nofollow noreferrer\">2D Graphics Trail</a>; <a href=\"https://www.oracle.com/java/technologies/painting.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a>; <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a>"}],"answers":[{"tags":[],"owner":{"account_id":21027267,"reputation":24,"user_id":15452367,"display_name":"Sakthimahendran"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1654236347,"creation_date":1653883567,"answer_id":72429046,"question_id":72428578,"body_markdown":"Try using `g.drawImage()` method.\r\n\r\nExample\r\n\r\n    public void paintComponent(Graphics g) {\r\n       g.drawImage(...);\r\n    }\r\n\r\nYou can adjust the arguments in the `g.drawImage()` to adjust the image drawn.\r\n\r\n    ","title":"How do I insert an image instead of fillOval?","body":"<p>Try using <code>g.drawImage()</code> method.</p>\n<p>Example</p>\n<pre><code>public void paintComponent(Graphics g) {\n   g.drawImage(...);\n}\n</code></pre>\n<p>You can adjust the arguments in the <code>g.drawImage()</code> to adjust the image drawn.</p>\n"}],"owner":{"account_id":24004664,"reputation":41,"user_id":17989014,"display_name":"Don Diablo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654236347,"creation_date":1653877407,"question_id":72428578,"body_markdown":"\r\n```lang-java\r\npublic void paint(Graphics g) {\r\n    g.setColor(Color.green);\r\n    g.fillOval(ballPosX, ballPosY, 20, 20);\r\n}\r\n```\r\n\r\nI want to insert an image here, i.e. &quot;ball.png&quot; image inside a &quot;res&quot; folder in Java project.\r\n\r\nHow can I do this keeping all of the ball functions, like ball position and size. Just need to paste an image instead of automatically drawn circle","title":"How do I insert an image instead of fillOval?","body":"<pre class=\"lang-java prettyprint-override\"><code>public void paint(Graphics g) {\n    g.setColor(Color.green);\n    g.fillOval(ballPosX, ballPosY, 20, 20);\n}\n</code></pre>\n<p>I want to insert an image here, i.e. &quot;ball.png&quot; image inside a &quot;res&quot; folder in Java project.</p>\n<p>How can I do this keeping all of the ball functions, like ball position and size. Just need to paste an image instead of automatically drawn circle</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654236278,"creation_date":1654236278,"answer_id":72485316,"question_id":72484314,"body_markdown":"Sugesstion\r\n===========\r\nI don&#39;t know which SQL you are using but will suggest you to make your desired result set using a single query itself. It will be much easier to handle the data . \r\n\r\n`Connection` to a DB is always costly , try to minimize the no of connections .It is for good practise.\r\n\r\nAlternative\r\n---------\r\nIn java your approach is correct , however as per my understanding from the post `contains` may not work as 2 result sets may have different values.\r\nIf that is not the case you can use `contains`. \r\n\r\nBelow is an example without using `contains`.Here I have assumed 2nd result set may have multiple values as per each `LOGIN_ID`.\r\n\r\n```\r\n List&lt;StudentVO&gt; listFromDb1 = new ArrayList&lt;StudentVO&gt;;\r\n List&lt;StudentVO&gt; listFromDb2 = new ArrayList&lt;StudentVO&gt;;\r\n    \r\nif(rs2 != null){\r\n    while(rsv.next())\r\n    {\r\n        // listFromDb1\r\n        //add result set from db1\r\n    }\r\n}\r\n\r\nif(rs!=null){\r\n    while(rsv.next())\r\n    {\r\n        // listFromDb2\r\n        //add result set from db2\r\n    }\r\n}\r\n\r\nList&lt;StudentVO&gt; finalList = new ArrayList&lt;StudentVO&gt;();\r\n\r\n// considering listFromDb1 is your main dataset\r\nfor(StudentVO student : listFromDb1){\r\n     //boolean true =listFromDb2.stream().filter(s-&gt; s.equals(student.getSTUD_LOG_IN_ID())).findAny().isPresent();\r\n     for(StudentVO student2  : listFromDb2){\r\n         if(student.getSTUD_LOG_IN_ID().equals(student2.getSTUD_LOG_IN_ID())){\r\n             \r\n            //set the student values in new object and then add it to final list\r\n             StudentVO tempStu= new StudentVO(student,student2.getSTUD_LOG_IN_ID()); //it is just an example.\r\n             \r\n             finalList.add(tempStu); \r\n            \r\n             //use break here if 2nd resultset doesnot hold multiple log in id for same student;\r\n         }\r\n     }\r\n}\r\n\r\nStudentStore.setAllStudents(finalList);\r\n```\r\n","title":"How would I join and insert data to the VO from 2 different database","body":"<h1>Sugesstion</h1>\n<p>I don't know which SQL you are using but will suggest you to make your desired result set using a single query itself. It will be much easier to handle the data .</p>\n<p><code>Connection</code> to a DB is always costly , try to minimize the no of connections .It is for good practise.</p>\n<h2>Alternative</h2>\n<p>In java your approach is correct , however as per my understanding from the post <code>contains</code> may not work as 2 result sets may have different values.\nIf that is not the case you can use <code>contains</code>.</p>\n<p>Below is an example without using <code>contains</code>.Here I have assumed 2nd result set may have multiple values as per each <code>LOGIN_ID</code>.</p>\n<pre><code> List&lt;StudentVO&gt; listFromDb1 = new ArrayList&lt;StudentVO&gt;;\n List&lt;StudentVO&gt; listFromDb2 = new ArrayList&lt;StudentVO&gt;;\n    \nif(rs2 != null){\n    while(rsv.next())\n    {\n        // listFromDb1\n        //add result set from db1\n    }\n}\n\nif(rs!=null){\n    while(rsv.next())\n    {\n        // listFromDb2\n        //add result set from db2\n    }\n}\n\nList&lt;StudentVO&gt; finalList = new ArrayList&lt;StudentVO&gt;();\n\n// considering listFromDb1 is your main dataset\nfor(StudentVO student : listFromDb1){\n     //boolean true =listFromDb2.stream().filter(s-&gt; s.equals(student.getSTUD_LOG_IN_ID())).findAny().isPresent();\n     for(StudentVO student2  : listFromDb2){\n         if(student.getSTUD_LOG_IN_ID().equals(student2.getSTUD_LOG_IN_ID())){\n             \n            //set the student values in new object and then add it to final list\n             StudentVO tempStu= new StudentVO(student,student2.getSTUD_LOG_IN_ID()); //it is just an example.\n             \n             finalList.add(tempStu); \n            \n             //use break here if 2nd resultset doesnot hold multiple log in id for same student;\n         }\n     }\n}\n\nStudentStore.setAllStudents(finalList);\n</code></pre>\n"}],"owner":{"account_id":25460916,"reputation":3,"user_id":19260695,"display_name":"roger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72485316,"answer_count":1,"score":0,"last_activity_date":1654236278,"creation_date":1654225716,"question_id":72484314,"body_markdown":"Before I only have 1 SQL query where all of the column fields located in only 1 database. But now I need to move the StudentAccess to a different database. I need to join both of the database record and insert it to my VO object.\r\n\r\nDatabase 1:\r\nSelect STUD_ID_NR, STUD_NM, STUD_LOG_ID\r\nfrom Student\r\n\r\nDatabase 2:\r\nSELECT STUD_LOG_ID, STUD_LOG_ID from StudentAccess\r\nWHERE logFlag= true\r\n\r\nThe STUD_LOG_ID will be the identifier for both of the table to join them.\r\n\r\nThis is my current code before that store data from only 1 Database\r\n\r\nClass 1:\r\n\r\n\r\n    try\r\n    {\r\n        conn = getDataSource().getConnection();\r\n        stmt = conn.createStatement()\r\n        rs = stmt.executeQuery(StudentQuery);\r\n        \r\n    \r\n        List&lt;StudentVO&gt; listOfStudents = new ArrayList&lt;StudentVO&gt;;\r\n        \r\n        if(null != rs)\r\n         {\r\n          while(rsv.next())\r\n           {\r\n             StudentVO validStudent = StudentsMapper.mapToVo(rs.getString(STUD_ID_NR), \r\n             rs.getString(STUD_NM), rs.getString(STUD_LOG_ID));\r\n\r\n             if(validStudents != null)\r\n              {\r\n                listOfStudents.add(validstudent);\r\n              }\r\n          \r\n        StudentStore.setAllStudents(listOfStudents);\r\n    }\r\n\r\nIf the data&#39;s are coming from two database. how would I Still insert the STUD_LOG_IN_ID of the student to the VO if their STUD_LOG_ID had a match?\r\n\r\nLet&#39;s assume that we can call both of the database in this class.\r\n\r\n    try\r\n    {\r\n        conn = getDataSource().getConnection();\r\n        stmt = conn.createStatement()\r\n        rs = stmt.executeQuery(StudentQuery);\r\n        rs2 = stmt.executeQuery(StudentAccessQuery);\r\n    \r\n        List&lt;StudentVO&gt; listOfStudents = new ArrayList&lt;StudentVO&gt;;\r\n        \r\n                if(null != rs2)\r\n                 {\r\n                  while(rsv.next())\r\n                   {\r\n                   }\r\n                 }\r\n        \r\n                if(null != rs)\r\n                 {\r\n                  while(rsv.next())\r\n                   {\r\n                   }\r\n            \r\n                StudentStore.setAllStudents(listOfStudents);\r\n        }\r\n\r\nI&#39;m quite confused on how will I do it. should I add both record in an arraylist first then use the contain?\r\n\r\nMy VO contains the STUD_ID_NR,STUD_NM,STUD_LOG_IN_ID","title":"How would I join and insert data to the VO from 2 different database","body":"<p>Before I only have 1 SQL query where all of the column fields located in only 1 database. But now I need to move the StudentAccess to a different database. I need to join both of the database record and insert it to my VO object.</p>\n<p>Database 1:\nSelect STUD_ID_NR, STUD_NM, STUD_LOG_ID\nfrom Student</p>\n<p>Database 2:\nSELECT STUD_LOG_ID, STUD_LOG_ID from StudentAccess\nWHERE logFlag= true</p>\n<p>The STUD_LOG_ID will be the identifier for both of the table to join them.</p>\n<p>This is my current code before that store data from only 1 Database</p>\n<p>Class 1:</p>\n<pre><code>try\n{\n    conn = getDataSource().getConnection();\n    stmt = conn.createStatement()\n    rs = stmt.executeQuery(StudentQuery);\n    \n\n    List&lt;StudentVO&gt; listOfStudents = new ArrayList&lt;StudentVO&gt;;\n    \n    if(null != rs)\n     {\n      while(rsv.next())\n       {\n         StudentVO validStudent = StudentsMapper.mapToVo(rs.getString(STUD_ID_NR), \n         rs.getString(STUD_NM), rs.getString(STUD_LOG_ID));\n\n         if(validStudents != null)\n          {\n            listOfStudents.add(validstudent);\n          }\n      \n    StudentStore.setAllStudents(listOfStudents);\n}\n</code></pre>\n<p>If the data's are coming from two database. how would I Still insert the STUD_LOG_IN_ID of the student to the VO if their STUD_LOG_ID had a match?</p>\n<p>Let's assume that we can call both of the database in this class.</p>\n<pre><code>try\n{\n    conn = getDataSource().getConnection();\n    stmt = conn.createStatement()\n    rs = stmt.executeQuery(StudentQuery);\n    rs2 = stmt.executeQuery(StudentAccessQuery);\n\n    List&lt;StudentVO&gt; listOfStudents = new ArrayList&lt;StudentVO&gt;;\n    \n            if(null != rs2)\n             {\n              while(rsv.next())\n               {\n               }\n             }\n    \n            if(null != rs)\n             {\n              while(rsv.next())\n               {\n               }\n        \n            StudentStore.setAllStudents(listOfStudents);\n    }\n</code></pre>\n<p>I'm quite confused on how will I do it. should I add both record in an arraylist first then use the contain?</p>\n<p>My VO contains the STUD_ID_NR,STUD_NM,STUD_LOG_IN_ID</p>\n"},{"tags":["java","json","jsonpath","json-path-expression"],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654235990,"creation_date":1654235990,"answer_id":72485286,"question_id":72485063,"body_markdown":"I think that your method of parsing just ignores the options. Try it like this:\r\n\r\n```\r\nString author = JsonPath.using(conf).parse(objectInArray.toString()).read(&quot;$.store.book[0].author&quot;);\r\n```\r\n\r\nI found this method on the original documentation:\r\nhttps://github.com/json-path/JsonPath#tweaking-configuration","title":"How to use a path with nonNull check in an array using JSONPath","body":"<p>I think that your method of parsing just ignores the options. Try it like this:</p>\n<pre><code>String author = JsonPath.using(conf).parse(objectInArray.toString()).read(&quot;$.store.book[0].author&quot;);\n</code></pre>\n<p>I found this method on the original documentation:\n<a href=\"https://github.com/json-path/JsonPath#tweaking-configuration\" rel=\"nofollow noreferrer\">https://github.com/json-path/JsonPath#tweaking-configuration</a></p>\n"}],"owner":{"account_id":388093,"reputation":1419,"user_id":746823,"accept_rate":69,"display_name":"Metalhead"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":325,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72485286,"answer_count":1,"score":1,"last_activity_date":1654235990,"creation_date":1654233912,"question_id":72485063,"body_markdown":"I have a simple json like\r\n```\r\n{\r\n    &quot;store&quot;: {\r\n        &quot;book&quot;: [\r\n            {\r\n                &quot;category&quot;: &quot;reference&quot;,\r\n                &quot;author&quot;: &quot;Nigel Rees&quot;,\r\n                &quot;title&quot;: &quot;Sayings of the Century&quot;,\r\n                &quot;price&quot;: 8.95\r\n            },\r\n            {\r\n                &quot;category&quot;: &quot;fiction&quot;,\r\n                &quot;author&quot;: &quot;Evelyn Waugh&quot;,\r\n                &quot;title&quot;: &quot;Sword of Honour&quot;,\r\n                &quot;price&quot;: 12.99\r\n            },\r\n            {\r\n                &quot;category&quot;: &quot;fiction&quot;,\r\n                &quot;author&quot;: &quot;Herman Melville&quot;,\r\n                &quot;title&quot;: &quot;Moby Dick&quot;,\r\n                &quot;isbn&quot;: &quot;0-553-21311-3&quot;,\r\n                &quot;price&quot;: 8.99\r\n            },\r\n            {\r\n                &quot;category&quot;: &quot;fiction&quot;,\r\n                &quot;author&quot;: &quot;J. R. R. Tolkien&quot;,\r\n                &quot;title&quot;: &quot;The Lord of the Rings&quot;,\r\n                &quot;isbn&quot;: &quot;0-395-19395-8&quot;,\r\n                &quot;price&quot;: 22.99\r\n            }\r\n        ],\r\n        &quot;bicycle&quot;: {\r\n            &quot;color&quot;: &quot;red&quot;,\r\n            &quot;price&quot;: 19.95\r\n        }\r\n    },\r\n    &quot;expensive&quot;: 10\r\n}\r\n```\r\nIn some cases, this books array may be empty like this\r\n\r\n```\r\n{\r\n    &quot;store&quot;: {\r\n        &quot;book&quot;: [ ],\r\n        &quot;bicycle&quot;: {\r\n            &quot;color&quot;: &quot;red&quot;,\r\n            &quot;price&quot;: 19.95\r\n        }\r\n    },\r\n    &quot;expensive&quot;: 10\r\n}\r\n```\r\n\r\nMy code to parse this is like below\r\n\r\n```\r\nConfiguration conf = Configuration.builder().jsonProvider(new JsonSmartJsonProvider())\r\n\t\t\t\t\t.options(Option.SUPPRESS_EXCEPTIONS).build();\r\nObject document = conf.jsonProvider().parse(objectInArray.toString());\r\n\r\nString author = JsonPath.read(document, &quot;$.store.book[0].author&quot;);\r\n\r\n```\r\n\r\nWhile running this code I get an error saying \r\n```\r\ncom.jayway.jsonpath.PathNotFoundException: Expected to find an object with property [&#39;name&#39;] in path $[&#39;store&#39;][&#39;book&#39;] but found &#39;null&#39;. This is not a json object according to the JsonProvider: &#39;com.jayway.jsonpath.spi.json.JsonSmartJsonProvider&#39;.\r\n\r\n\r\n```\r\n\r\nHow do I solve this issue? I am already using suppress exceptions options. It sounds pretty simple but not able to find a clear solution over web. Examples side a filter criteria for getting specific element from array but not for handling empty array.","title":"How to use a path with nonNull check in an array using JSONPath","body":"<p>I have a simple json like</p>\n<pre><code>{\n    &quot;store&quot;: {\n        &quot;book&quot;: [\n            {\n                &quot;category&quot;: &quot;reference&quot;,\n                &quot;author&quot;: &quot;Nigel Rees&quot;,\n                &quot;title&quot;: &quot;Sayings of the Century&quot;,\n                &quot;price&quot;: 8.95\n            },\n            {\n                &quot;category&quot;: &quot;fiction&quot;,\n                &quot;author&quot;: &quot;Evelyn Waugh&quot;,\n                &quot;title&quot;: &quot;Sword of Honour&quot;,\n                &quot;price&quot;: 12.99\n            },\n            {\n                &quot;category&quot;: &quot;fiction&quot;,\n                &quot;author&quot;: &quot;Herman Melville&quot;,\n                &quot;title&quot;: &quot;Moby Dick&quot;,\n                &quot;isbn&quot;: &quot;0-553-21311-3&quot;,\n                &quot;price&quot;: 8.99\n            },\n            {\n                &quot;category&quot;: &quot;fiction&quot;,\n                &quot;author&quot;: &quot;J. R. R. Tolkien&quot;,\n                &quot;title&quot;: &quot;The Lord of the Rings&quot;,\n                &quot;isbn&quot;: &quot;0-395-19395-8&quot;,\n                &quot;price&quot;: 22.99\n            }\n        ],\n        &quot;bicycle&quot;: {\n            &quot;color&quot;: &quot;red&quot;,\n            &quot;price&quot;: 19.95\n        }\n    },\n    &quot;expensive&quot;: 10\n}\n</code></pre>\n<p>In some cases, this books array may be empty like this</p>\n<pre><code>{\n    &quot;store&quot;: {\n        &quot;book&quot;: [ ],\n        &quot;bicycle&quot;: {\n            &quot;color&quot;: &quot;red&quot;,\n            &quot;price&quot;: 19.95\n        }\n    },\n    &quot;expensive&quot;: 10\n}\n</code></pre>\n<p>My code to parse this is like below</p>\n<pre><code>Configuration conf = Configuration.builder().jsonProvider(new JsonSmartJsonProvider())\n                    .options(Option.SUPPRESS_EXCEPTIONS).build();\nObject document = conf.jsonProvider().parse(objectInArray.toString());\n\nString author = JsonPath.read(document, &quot;$.store.book[0].author&quot;);\n\n</code></pre>\n<p>While running this code I get an error saying</p>\n<pre><code>com.jayway.jsonpath.PathNotFoundException: Expected to find an object with property ['name'] in path $['store']['book'] but found 'null'. This is not a json object according to the JsonProvider: 'com.jayway.jsonpath.spi.json.JsonSmartJsonProvider'.\n\n\n</code></pre>\n<p>How do I solve this issue? I am already using suppress exceptions options. It sounds pretty simple but not able to find a clear solution over web. Examples side a filter criteria for getting specific element from array but not for handling empty array.</p>\n"},{"tags":["java","spring","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":2297829,"reputation":31,"user_id":2018849,"display_name":"Chris_LE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529351730,"creation_date":1529351730,"answer_id":50916608,"question_id":50916404,"body_markdown":"Please have a look at: https://stackoverflow.com/questions/29517508/how-to-persist-jsr-310-types-with-spring-data-jpa\r\n\r\nDepending on the framework versions you use, you have to add additional configuration to your project to use JSR-310 types like LocalDate in your entities.","title":"Spring Data JPA - Conversion failed when converting date and/or time from character string","body":"<p>Please have a look at: <a href=\"https://stackoverflow.com/questions/29517508/how-to-persist-jsr-310-types-with-spring-data-jpa\">How to persist JSR-310 types with Spring Data JPA?</a></p>\n\n<p>Depending on the framework versions you use, you have to add additional configuration to your project to use JSR-310 types like LocalDate in your entities.</p>\n"},{"tags":[],"owner":{"account_id":6878179,"reputation":4548,"user_id":5285908,"display_name":"Amith Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1529354373,"creation_date":1529351809,"answer_id":50916623,"question_id":50916404,"body_markdown":"If you are using JPA version lower than 2.2, it doesn&#39;t directly support Java8 LocalDate &amp; LocalTime conversion from SqlDate, as it was released before Java8. You will have to write your custom date converter by implementing JPA `AttributeConverter` interface. Then either you can `autoApply` it for all entity classes or you can selectively annotate it to LocalDate entity field.\r\n\r\n    import java.sql.Date;\r\n    import java.time.LocalDate;\r\n    import javax.persistence.AttributeConverter;\r\n    import javax.persistence.Converter;\r\n    \r\n    @Converter(autoApply = true)\r\n    public class LocalDateConverter implements AttributeConverter&lt;LocalDate, Date&gt; {\r\n    \r\n        @Override\r\n        public Date convertToDatabaseColumn(LocalDate date) {        \r\n            return Date.valueOf(date);\r\n        }\r\n    \r\n        @Override\r\n        public LocalDate convertToEntityAttribute(Date value) {\r\n            return value.toLocalDate();\r\n        }\r\n    }\r\n\r\nWith `autoApply = true` JPA will automatically associate this converter whereaever Entity fields are LocalDate. \r\n\r\nOr if you choose `autoApply = false`, you will have to associate converter class via annotation with the field.\r\n\r\n\r\n    @Column(name = &quot;CommentDate&quot;)\r\n    @Convert(converter = LocalDateConverter.class)\r\n    private LocalDate commentDate;\r\n\r\nRefer [JPA 2.2 release spec](https://github.com/javaee/jpa-spec/issues/63)","title":"Spring Data JPA - Conversion failed when converting date and/or time from character string","body":"<p>If you are using JPA version lower than 2.2, it doesn't directly support Java8 LocalDate &amp; LocalTime conversion from SqlDate, as it was released before Java8. You will have to write your custom date converter by implementing JPA <code>AttributeConverter</code> interface. Then either you can <code>autoApply</code> it for all entity classes or you can selectively annotate it to LocalDate entity field.</p>\n\n<pre><code>import java.sql.Date;\nimport java.time.LocalDate;\nimport javax.persistence.AttributeConverter;\nimport javax.persistence.Converter;\n\n@Converter(autoApply = true)\npublic class LocalDateConverter implements AttributeConverter&lt;LocalDate, Date&gt; {\n\n    @Override\n    public Date convertToDatabaseColumn(LocalDate date) {        \n        return Date.valueOf(date);\n    }\n\n    @Override\n    public LocalDate convertToEntityAttribute(Date value) {\n        return value.toLocalDate();\n    }\n}\n</code></pre>\n\n<p>With <code>autoApply = true</code> JPA will automatically associate this converter whereaever Entity fields are LocalDate. </p>\n\n<p>Or if you choose <code>autoApply = false</code>, you will have to associate converter class via annotation with the field.</p>\n\n<pre><code>@Column(name = \"CommentDate\")\n@Convert(converter = LocalDateConverter.class)\nprivate LocalDate commentDate;\n</code></pre>\n\n<p>Refer <a href=\"https://github.com/javaee/jpa-spec/issues/63\" rel=\"nofollow noreferrer\">JPA 2.2 release spec</a></p>\n"},{"tags":[],"owner":{"account_id":19503564,"reputation":311,"user_id":14269062,"display_name":"Ritunjay kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654235929,"creation_date":1654235929,"answer_id":72485277,"question_id":50916404,"body_markdown":"Either use converter or column definition \r\n\r\nfor example \r\n\r\n    @Column(name = &quot;local_time&quot;, columnDefinition = &quot;TIME&quot;)\r\n    private LocalTime localTime;\r\n    \r\n    @Column(name = &quot;local_date&quot;, columnDefinition = &quot;DATE&quot;)\r\n    private LocalDate localDate;\r\n    \r\n    @Column(name = &quot;local_date_time&quot;, columnDefinition = &quot;TIMESTAMP&quot;)\r\n    private LocalDateTime localDateTime;\r\n\r\n\r\nusing converter\r\n\r\n    @Convert(converter = LocalDateConverter.class)\r\n    @Column(name = &quot;createdDate&quot;)\r\n    private LocalDate createdDate;","title":"Spring Data JPA - Conversion failed when converting date and/or time from character string","body":"<p>Either use converter or column definition</p>\n<p>for example</p>\n<pre><code>@Column(name = &quot;local_time&quot;, columnDefinition = &quot;TIME&quot;)\nprivate LocalTime localTime;\n\n@Column(name = &quot;local_date&quot;, columnDefinition = &quot;DATE&quot;)\nprivate LocalDate localDate;\n\n@Column(name = &quot;local_date_time&quot;, columnDefinition = &quot;TIMESTAMP&quot;)\nprivate LocalDateTime localDateTime;\n</code></pre>\n<p>using converter</p>\n<pre><code>@Convert(converter = LocalDateConverter.class)\n@Column(name = &quot;createdDate&quot;)\nprivate LocalDate createdDate;\n</code></pre>\n"}],"owner":{"account_id":6134396,"reputation":2472,"user_id":4783710,"accept_rate":51,"display_name":"KellyM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7222,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1654235929,"creation_date":1529350673,"question_id":50916404,"body_markdown":"I am using Spring Boot and Spring JPA. I have a repository class with custom `@Query` methods.\r\n\r\n    public interface MarketForceRepository extends CrudRepository&lt;MarketForceComment, Integer&gt; {\r\n    \r\n    \t@Query(&quot;SELECT c FROM MarketForceComment c WHERE c.property.id = ?1 and c.commentDate &gt;= &#39;?1&#39; AND  c.commentDate &lt;= &#39;?2&#39;&quot;)\r\n    \tList&lt;MarketForceComment&gt; getByPropAndDate(Integer propID, LocalDate start, LocalDate end);\r\n    \r\n    \t@Query(&quot;SELECT c FROM MarketForceComment c WHERE c.property.id IN ?1 and c.commentDate &gt;= &#39;?2&#39; AND c.commentDate &lt;= &#39;?3&#39;&quot;)\r\n    \tList&lt;MarketForceComment&gt; getByPropsAndDates(List&lt;Integer&gt; propIDs, LocalDate start, LocalDate end);\r\n    }\r\n\r\nThe `MarketForceComment` class follows (in part):\r\n\r\n    @Table(name = &quot;MarketForceComment&quot;, schema = &quot;dmb&quot;)\r\n    @Entity\r\n    public class MarketForceComment {\r\n    \t@ManyToOne\r\n    \t@JoinColumn(name = &quot;PropertyID&quot;)\r\n    \tprivate Property property;\r\n    \r\n    \t@Column(name = &quot;CommentDate&quot;)\r\n    \tprivate LocalDate commentDate;\r\n    \r\n    \t@Column(name = &quot;Level&quot;)\r\n    \tprivate int level;\r\n    \r\n    \t@Column(name = &quot;Subject&quot;)\r\n    \tprivate String subject;\r\n    \r\n    \t@Column(name = &quot;Details&quot;, columnDefinition = &quot;text&quot;)\r\n    \tprivate String details;\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \t@Column(name = &quot;ID&quot;)\r\n    \tprivate Integer id;  \r\n    \r\n        .... \r\n    }\r\n\r\nWhenever I attempt to run my query method: \r\n\r\n    @Override\r\n    public List&lt;CommentDTO&gt; getCommentsByStore(int storeID, LocalDate date) {\r\n    \tList&lt;CommentDTO&gt; dtoList = new ArrayList&lt;&gt;();\r\n    \tmarketRepo.getByPropAndDate(storeID, date.plusMonths(1), date)\r\n    \t\t\t.forEach(c -&gt; dtoList.add(mapper.map(c, CommentDTO.class)));\r\n    \tguestRepo.getByPropAndDate(storeID, date.plusMonths(1).atStartOfDay(), date.atStartOfDay())\r\n    \t\t\t.forEach(c -&gt; dtoList.add(mapper.map(c, CommentDTO.class)));\r\n    \treturn dtoList;\r\n    }\r\n\r\nI receive the following error: \r\n`\r\ncom.microsoft.sqlserver.jdbc.SQLServerException: Conversion failed when converting date and/or time from character string.`\r\n\r\nI am a bit perplexed. It appears to be a format issue (the DBMS wants a &#39;yyyy-MM-dd&#39; or similar format), yet I thought Java&#39;s LocalDate would be expressed/converted into a format that could be parsed by database system. \r\n\r\nAny advice would be appreciated.\r\nThanks.\r\n\r\nEDIT:\r\n\r\nFor reference, the underlying fault was the order of the parameters (?1, ?2, ?3):\r\n\r\n    public interface MarketForceRepository extends CrudRepository&lt;MarketForceComment, Integer&gt; {\r\n    \r\n    \t@Query(&quot;SELECT c FROM MarketForceComment c WHERE c.property.id = ?1 and c.commentDate &gt;= ?2 AND  c.commentDate &lt;= ?3&quot;)\r\n    \tList&lt;MarketForceComment&gt; getByPropAndDate(Integer propID, LocalDate start, LocalDate end);\r\n    \r\n    \t@Query(&quot;SELECT c FROM MarketForceComment c WHERE c.property.id IN ?1 and c.commentDate &gt;= ?2 AND c.commentDate &lt;= ?3&quot;)\r\n    \tList&lt;MarketForceComment&gt; getByPropsAndDates(List&lt;Integer&gt; propIDs, LocalDate start, LocalDate end);\r\n    }\r\n\r\n\r\n","title":"Spring Data JPA - Conversion failed when converting date and/or time from character string","body":"<p>I am using Spring Boot and Spring JPA. I have a repository class with custom <code>@Query</code> methods.</p>\n\n<pre><code>public interface MarketForceRepository extends CrudRepository&lt;MarketForceComment, Integer&gt; {\n\n    @Query(\"SELECT c FROM MarketForceComment c WHERE c.property.id = ?1 and c.commentDate &gt;= '?1' AND  c.commentDate &lt;= '?2'\")\n    List&lt;MarketForceComment&gt; getByPropAndDate(Integer propID, LocalDate start, LocalDate end);\n\n    @Query(\"SELECT c FROM MarketForceComment c WHERE c.property.id IN ?1 and c.commentDate &gt;= '?2' AND c.commentDate &lt;= '?3'\")\n    List&lt;MarketForceComment&gt; getByPropsAndDates(List&lt;Integer&gt; propIDs, LocalDate start, LocalDate end);\n}\n</code></pre>\n\n<p>The <code>MarketForceComment</code> class follows (in part):</p>\n\n<pre><code>@Table(name = \"MarketForceComment\", schema = \"dmb\")\n@Entity\npublic class MarketForceComment {\n    @ManyToOne\n    @JoinColumn(name = \"PropertyID\")\n    private Property property;\n\n    @Column(name = \"CommentDate\")\n    private LocalDate commentDate;\n\n    @Column(name = \"Level\")\n    private int level;\n\n    @Column(name = \"Subject\")\n    private String subject;\n\n    @Column(name = \"Details\", columnDefinition = \"text\")\n    private String details;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"ID\")\n    private Integer id;  \n\n    .... \n}\n</code></pre>\n\n<p>Whenever I attempt to run my query method: </p>\n\n<pre><code>@Override\npublic List&lt;CommentDTO&gt; getCommentsByStore(int storeID, LocalDate date) {\n    List&lt;CommentDTO&gt; dtoList = new ArrayList&lt;&gt;();\n    marketRepo.getByPropAndDate(storeID, date.plusMonths(1), date)\n            .forEach(c -&gt; dtoList.add(mapper.map(c, CommentDTO.class)));\n    guestRepo.getByPropAndDate(storeID, date.plusMonths(1).atStartOfDay(), date.atStartOfDay())\n            .forEach(c -&gt; dtoList.add(mapper.map(c, CommentDTO.class)));\n    return dtoList;\n}\n</code></pre>\n\n<p>I receive the following error: \n<code>\ncom.microsoft.sqlserver.jdbc.SQLServerException: Conversion failed when converting date and/or time from character string.</code></p>\n\n<p>I am a bit perplexed. It appears to be a format issue (the DBMS wants a 'yyyy-MM-dd' or similar format), yet I thought Java's LocalDate would be expressed/converted into a format that could be parsed by database system. </p>\n\n<p>Any advice would be appreciated.\nThanks.</p>\n\n<p>EDIT:</p>\n\n<p>For reference, the underlying fault was the order of the parameters (?1, ?2, ?3):</p>\n\n<pre><code>public interface MarketForceRepository extends CrudRepository&lt;MarketForceComment, Integer&gt; {\n\n    @Query(\"SELECT c FROM MarketForceComment c WHERE c.property.id = ?1 and c.commentDate &gt;= ?2 AND  c.commentDate &lt;= ?3\")\n    List&lt;MarketForceComment&gt; getByPropAndDate(Integer propID, LocalDate start, LocalDate end);\n\n    @Query(\"SELECT c FROM MarketForceComment c WHERE c.property.id IN ?1 and c.commentDate &gt;= ?2 AND c.commentDate &lt;= ?3\")\n    List&lt;MarketForceComment&gt; getByPropsAndDates(List&lt;Integer&gt; propIDs, LocalDate start, LocalDate end);\n}\n</code></pre>\n"},{"tags":["javascript","java","spring-boot","maven"],"comments":[{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1654246804,"post_id":72484835,"comment_id":128050235,"body_markdown":"1) is this `js` file part of spring boot application? 2) If yes how is it served to the client? 3) How is `$resources` defined? Please update your question as it misses necessary information.","body":"1) is this <code>js</code> file part of spring boot application? 2) If yes how is it served to the client? 3) How is <code>$resources</code> defined? Please update your question as it misses necessary information."}],"answers":[{"tags":[],"owner":{"account_id":3000406,"reputation":9,"user_id":2546009,"display_name":"Kapil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654235807,"creation_date":1654235807,"answer_id":72485262,"question_id":72484835,"body_markdown":"i will suggest you to use java code instead of java script or call code from java script to read file \r\nBut in your case,\r\nits all because of jar file doesn&#39;t contain file structure in same manner as you see in your IDE verify your file path in built folder which have final structure which server will run.  ","title":"How to read files from resource folder of spring boot application using javascipt","body":"<p>i will suggest you to use java code instead of java script or call code from java script to read file\nBut in your case,\nits all because of jar file doesn't contain file structure in same manner as you see in your IDE verify your file path in built folder which have final structure which server will run.</p>\n"}],"owner":{"account_id":4154128,"reputation":723,"user_id":3405805,"accept_rate":0,"display_name":"RAJESHPODDER007"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654235807,"creation_date":1654231717,"question_id":72484835,"body_markdown":"I have some files under resources/test/feature/a.feature , b.feature like that , i want read those files using javascript , and the jacascript file location is resources/test/js/read.js. I am using below code to read\r\n\r\n    function processFeatures() {\r\n\t    var features = [];\r\n\t    var featuresResources = $resources(&quot;feature/.*?\\\\.feature&quot;);\r\n\t    for(var i in featureResources) {\r\n            var feature = JSON.parse($eval(featureResources[i].content))\r\n\t\t    features.push(feature);\r\n\t    }\r\n\t    return features;\r\n    }\r\n\r\nThis code works when i run the application from intellij, but when i build a jar file and then run the jar file separately that time it fails to read. I printed the featuresResources , that time it giving empty response.\r\n\r\nWhat needs to do in that case. ","title":"How to read files from resource folder of spring boot application using javascipt","body":"<p>I have some files under resources/test/feature/a.feature , b.feature like that , i want read those files using javascript , and the jacascript file location is resources/test/js/read.js. I am using below code to read</p>\n<pre><code>function processFeatures() {\n    var features = [];\n    var featuresResources = $resources(&quot;feature/.*?\\\\.feature&quot;);\n    for(var i in featureResources) {\n        var feature = JSON.parse($eval(featureResources[i].content))\n        features.push(feature);\n    }\n    return features;\n}\n</code></pre>\n<p>This code works when i run the application from intellij, but when i build a jar file and then run the jar file separately that time it fails to read. I printed the featuresResources , that time it giving empty response.</p>\n<p>What needs to do in that case.</p>\n"},{"tags":["java","c#","ssh","putty","plink"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654235733,"creation_date":1644605847,"answer_id":71085261,"question_id":71084301,"body_markdown":"Since 0.77, PuTTY can read the password from a file using [`-pwfile` switch](https://the.earth.li/~sgtatham/putty/latest/htmldoc/Chapter3.html#using-cmdline-pw).","title":"Securely pass password to PuTTY process on start","body":"<p>Since 0.77, PuTTY can read the password from a file using <a href=\"https://the.earth.li/%7Esgtatham/putty/latest/htmldoc/Chapter3.html#using-cmdline-pw\" rel=\"nofollow noreferrer\"><code>-pwfile</code> switch</a>.</p>\n"},{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645427458,"creation_date":1645427458,"answer_id":71202415,"question_id":71084301,"body_markdown":"Following the suggestion of Martin Prikryl I was able to create a minimal example, which creates a NamedPipe in C# and passes it as a `pwfile` argument to PuTTY:\r\n\r\n```\r\npublic void CreatePipe()\r\n{\r\n    var server = new NamedPipeServerStream(&quot;SecretPipe&quot;);\r\n    server.WaitForConnection();\r\n    StreamWriter writer = new StreamWriter(server);\r\n    writer.Write(&quot;top!!secret&quot;);\r\n    writer.Flush();\r\n    server.Dispose();\r\n}\r\n```\r\n\r\nThen PuTTY can be started as follows with the pipe as `pwfile` argument:\r\n\r\n``` none\r\nputty.exe -l testuser -pwfile &quot;\\\\.\\PIPE\\SecretPipe&quot; hostname\r\n```","title":"Securely pass password to PuTTY process on start","body":"<p>Following the suggestion of Martin Prikryl I was able to create a minimal example, which creates a NamedPipe in C# and passes it as a <code>pwfile</code> argument to PuTTY:</p>\n<pre><code>public void CreatePipe()\n{\n    var server = new NamedPipeServerStream(&quot;SecretPipe&quot;);\n    server.WaitForConnection();\n    StreamWriter writer = new StreamWriter(server);\n    writer.Write(&quot;top!!secret&quot;);\n    writer.Flush();\n    server.Dispose();\n}\n</code></pre>\n<p>Then PuTTY can be started as follows with the pipe as <code>pwfile</code> argument:</p>\n<pre class=\"lang-none prettyprint-override\"><code>putty.exe -l testuser -pwfile &quot;\\\\.\\PIPE\\SecretPipe&quot; hostname\n</code></pre>\n"}],"owner":{"account_id":24224699,"reputation":1,"user_id":18179392,"display_name":"developerwithoutacause"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1387,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71202415,"answer_count":2,"score":0,"last_activity_date":1654235733,"creation_date":1644601040,"question_id":71084301,"body_markdown":"I am maintaining an application in our company (written in C#), which runs on a jumphost and provides the functionality to search across different servers and initiate a PuTTY connection to that server. For this the application currently starts the PuTTY process and passes arguments, like the hostname, username and password. The password for each server is retrieved from a password manager service. The arguments are passed to PuTTY through the command line interface. So the purpose of the application is to automate password retrieval and login to different servers.\r\n\r\nThe problem with the current approach is, that in the Windows Task Manager its possible for an administrator to see all started PuTTY instances and the corresponding credentials as command line arguments.\r\n\r\nSo far I haven&#39;t found any practical solution to circumvent this. These are the things I researched so far:\r\n\r\n - Instead of passing password argument, using `SendKeys` to type password into the promt: Unreliable, as there is no way to read the PuTTY output and know when the application is ready for the input to be typed in.\r\n - Using Plink instead of PuTTY and passing arguments through stdin: Plink supports stdin / stdout communication, however the terminal functionality is very limited and not usable in practice after the login was successful.\r\n- Modifying PuTTY to mask password: I have seen some suggestions, to modify the PuTTY source code, to overwrite the password in the main args, once the application started. However, this solution seems to only work on Linux, not Windows.\r\n- Using SSH.NET library to provide my own SSH terminal implementation: The SSH.NET library seems to be similarly to Plink more suitable for issuing commands programmatically, but not for opening a terminal for the user. I guess it would require a lot of work to implement a full terminal.\r\n\r\nSome ideas, that might work:\r\n- Modify the PuTTY code, so that arguments can be passed through stdin: Could work, but I don&#39;t know how easy that would be, as I don&#39;t have very good C knowledge.\r\n- Use an alternate client, that supports stdin output. The Java library JSch looks quite powerful and seems to already include a terminal. Would it be possible to create a standalone application, that can a receive stdin and use that to open a terminal and auto login?\r\n\r\nAny further suggestions would be greatly appreciated. Are you aware of any other Windows alternative to PuTTY, which supports passing credentials in a more secure way?\r\n","title":"Securely pass password to PuTTY process on start","body":"<p>I am maintaining an application in our company (written in C#), which runs on a jumphost and provides the functionality to search across different servers and initiate a PuTTY connection to that server. For this the application currently starts the PuTTY process and passes arguments, like the hostname, username and password. The password for each server is retrieved from a password manager service. The arguments are passed to PuTTY through the command line interface. So the purpose of the application is to automate password retrieval and login to different servers.</p>\n<p>The problem with the current approach is, that in the Windows Task Manager its possible for an administrator to see all started PuTTY instances and the corresponding credentials as command line arguments.</p>\n<p>So far I haven't found any practical solution to circumvent this. These are the things I researched so far:</p>\n<ul>\n<li>Instead of passing password argument, using <code>SendKeys</code> to type password into the promt: Unreliable, as there is no way to read the PuTTY output and know when the application is ready for the input to be typed in.</li>\n<li>Using Plink instead of PuTTY and passing arguments through stdin: Plink supports stdin / stdout communication, however the terminal functionality is very limited and not usable in practice after the login was successful.</li>\n<li>Modifying PuTTY to mask password: I have seen some suggestions, to modify the PuTTY source code, to overwrite the password in the main args, once the application started. However, this solution seems to only work on Linux, not Windows.</li>\n<li>Using SSH.NET library to provide my own SSH terminal implementation: The SSH.NET library seems to be similarly to Plink more suitable for issuing commands programmatically, but not for opening a terminal for the user. I guess it would require a lot of work to implement a full terminal.</li>\n</ul>\n<p>Some ideas, that might work:</p>\n<ul>\n<li>Modify the PuTTY code, so that arguments can be passed through stdin: Could work, but I don't know how easy that would be, as I don't have very good C knowledge.</li>\n<li>Use an alternate client, that supports stdin output. The Java library JSch looks quite powerful and seems to already include a terminal. Would it be possible to create a standalone application, that can a receive stdin and use that to open a terminal and auto login?</li>\n</ul>\n<p>Any further suggestions would be greatly appreciated. Are you aware of any other Windows alternative to PuTTY, which supports passing credentials in a more secure way?</p>\n"},{"tags":["java","selenium","sendkeys"],"comments":[{"owner":{"account_id":13721490,"reputation":9809,"user_id":9901261,"display_name":"Arundeep Chohan"},"score":0,"creation_date":1654222835,"post_id":72484062,"comment_id":128045194,"body_markdown":"Why is element inside the send keys?","body":"Why is element inside the send keys?"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1654269944,"post_id":72484062,"comment_id":128058330,"body_markdown":"Please don&#39;t post images of code or errors; see [ask].","body":"Please don&#39;t post images of code or errors; see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"owner":{"account_id":25460977,"reputation":1,"user_id":19260744,"display_name":"revathi Subramanian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654233514,"creation_date":1654222501,"question_id":72484062,"body_markdown":"[enter image description here][1]Hi,Iam new to selenium and java testing. Iam trying to right click on google.com about link and open the link in new window.  Up to right click my code works fine. When I send down-arrow nothing happens in the browser. Can anyone tell what&#39;s wrong with the code. I have tried it in all different browsers.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rE03j.png","title":"Actions class sendkeys down-arrow does not work in any browser","body":"<p><a href=\"https://i.stack.imgur.com/rE03j.png\" rel=\"nofollow noreferrer\">enter image description here</a>Hi,Iam new to selenium and java testing. Iam trying to right click on google.com about link and open the link in new window.  Up to right click my code works fine. When I send down-arrow nothing happens in the browser. Can anyone tell what's wrong with the code. I have tried it in all different browsers.</p>\n"},{"tags":["java","datetime","formatting","timezone","timestamp"],"comments":[{"owner":{"account_id":216810,"reputation":16569,"user_id":472270,"accept_rate":87,"display_name":"Barmaley"},"score":0,"creation_date":1317877144,"post_id":7670355,"comment_id":9322236,"body_markdown":"Too many questions in one post...","body":"Too many questions in one post..."},{"owner":{"account_id":180511,"reputation":8300,"user_id":413872,"accept_rate":95,"display_name":"travega"},"score":0,"creation_date":1317899413,"post_id":7670355,"comment_id":9326056,"body_markdown":"Same 2 questions asked just the 2nd one is asked a second time with a scenario algorithm for clarity. Thanks for input tho :?","body":"Same 2 questions asked just the 2nd one is asked a second time with a scenario algorithm for clarity. Thanks for input tho :?"},{"owner":{"account_id":3011136,"reputation":12331,"user_id":2572431,"accept_rate":71,"display_name":"augurar"},"score":0,"creation_date":1460799436,"post_id":7670355,"comment_id":60917254,"body_markdown":"Seems like the only problem is that `1317816735000L` is the wrong timestamp for `2011-10-06 03:35:05 GMT`.  Otherwise your approach is correct.","body":"Seems like the only problem is that <code>1317816735000L</code> is the wrong timestamp for <code>2011-10-06 03:35:05 GMT</code>.  Otherwise your approach is correct."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1530301414,"post_id":7670355,"comment_id":89203939,"body_markdown":"FYI, the troublesome old date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`java.util.Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), and `java.text.SimpleDateFormat` are now [legacy](https://en.wikipedia.org/wiki/Legacy_system), supplanted by the [*java.time*](https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes built into Java 8 and later. See [*Tutorial* by Oracle](https://docs.oracle.com/javase/tutorial/datetime/TOC.html).","body":"FYI, the troublesome old date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>java.util.Calendar</code></a>, and <code>java.text.SimpleDateFormat</code> are now <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>, supplanted by the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><i>java.time</i></a> classes built into Java 8 and later. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><i>Tutorial</i> by Oracle</a>."}],"answers":[{"tags":[],"owner":{"display_name":"user545680"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1317877436,"creation_date":1317877436,"answer_id":7670458,"question_id":7670355,"body_markdown":"As always, I recommend reading [this article][1] about date and time in Java so that you understand it.\r\n\r\nThe basic idea is that &#39;under the hood&#39; everything is done in UTC milliseconds since the epoch. This means it is easiest if you operate without using time zones at all, with the exception of String formatting for the user.\r\n\r\nTherefore I would skip most of the steps you have suggested.\r\n\r\n1. Set the time on an object (Date, Calendar etc).\r\n2. Set the time zone on a formatter object.\r\n3. Return a String from the formatter.\r\n\r\nAlternatively, you can use [Joda time][2]. I have heard it is a much more intuitive datetime API.\r\n\r\n\r\n  [1]: http://www.odi.ch/prog/design/datetime.php\r\n  [2]: http://joda-time.sourceforge.net/","title":"Convert Date/Time for given Timezone - java","body":"<p>As always, I recommend reading <a href=\"http://www.odi.ch/prog/design/datetime.php\">this article</a> about date and time in Java so that you understand it.</p>\n\n<p>The basic idea is that 'under the hood' everything is done in UTC milliseconds since the epoch. This means it is easiest if you operate without using time zones at all, with the exception of String formatting for the user.</p>\n\n<p>Therefore I would skip most of the steps you have suggested.</p>\n\n<ol>\n<li>Set the time on an object (Date, Calendar etc).</li>\n<li>Set the time zone on a formatter object.</li>\n<li>Return a String from the formatter.</li>\n</ol>\n\n<p>Alternatively, you can use <a href=\"http://joda-time.sourceforge.net/\">Joda time</a>. I have heard it is a much more intuitive datetime API.</p>\n"},{"tags":[],"owner":{"account_id":396748,"reputation":30697,"user_id":760489,"accept_rate":72,"display_name":"Pratik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1317878020,"creation_date":1317878020,"answer_id":7670511,"question_id":7670355,"body_markdown":"I have try this code \r\n\r\n    try{\r\n    \t\t\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;dd-MM-yyyy hh:mm:ss Z&quot;);\r\n    \t\t\tDate datetime = new Date();\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(&quot;date &quot;+sdf.format(datetime));\r\n    \t\t\t\r\n    \t\t\tsdf.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(&quot;GMT &quot;+ sdf.format(datetime));\r\n    \t\t\t\r\n    \t\t\tsdf.setTimeZone(TimeZone.getTimeZone(&quot;GMT+13&quot;));\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(&quot;GMT+13 &quot;+ sdf.format(datetime));\r\n    \t\t\t\r\n    \t\t\tsdf.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(&quot;utc &quot;+sdf.format(datetime));\r\n    \t\t\t\r\n    \t\t\tCalendar calendar = new GregorianCalendar(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n    \r\n    \t\t\tDateFormat formatter = new SimpleDateFormat(&quot;dd MMM yyyy HH:mm:ss z&quot;);    \r\n    \t\t\tformatter.setTimeZone(TimeZone.getTimeZone(&quot;GMT+13&quot;));  \r\n    \r\n    \t\t\tString newZealandTime = formatter.format(calendar.getTime());\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(&quot;using calendar &quot;+newZealandTime);\r\n    \r\n    \t\t}catch (Exception e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n\r\nand getting this result\r\n\r\n    date 06-10-2011 10:40:05 +0530\r\n    GMT 06-10-2011 05:10:05 +0000 // here getting 5:10:05\r\n    GMT+13 06-10-2011 06:10:05 +1300 // here getting 6:10:05\r\n    utc 06-10-2011 05:10:05 +0000\r\n    using calendar 06 Oct 2011 18:10:05 GMT+13:00","title":"Convert Date/Time for given Timezone - java","body":"<p>I have try this code </p>\n\n<pre><code>try{\n            SimpleDateFormat sdf = new SimpleDateFormat(\"dd-MM-yyyy hh:mm:ss Z\");\n            Date datetime = new Date();\n\n            System.out.println(\"date \"+sdf.format(datetime));\n\n            sdf.setTimeZone(TimeZone.getTimeZone(\"GMT\"));\n\n            System.out.println(\"GMT \"+ sdf.format(datetime));\n\n            sdf.setTimeZone(TimeZone.getTimeZone(\"GMT+13\"));\n\n            System.out.println(\"GMT+13 \"+ sdf.format(datetime));\n\n            sdf.setTimeZone(TimeZone.getTimeZone(\"UTC\"));\n\n            System.out.println(\"utc \"+sdf.format(datetime));\n\n            Calendar calendar = new GregorianCalendar(TimeZone.getTimeZone(\"GMT\"));\n\n            DateFormat formatter = new SimpleDateFormat(\"dd MMM yyyy HH:mm:ss z\");    \n            formatter.setTimeZone(TimeZone.getTimeZone(\"GMT+13\"));  \n\n            String newZealandTime = formatter.format(calendar.getTime());\n\n            System.out.println(\"using calendar \"+newZealandTime);\n\n        }catch (Exception e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n</code></pre>\n\n<p>and getting this result</p>\n\n<pre><code>date 06-10-2011 10:40:05 +0530\nGMT 06-10-2011 05:10:05 +0000 // here getting 5:10:05\nGMT+13 06-10-2011 06:10:05 +1300 // here getting 6:10:05\nutc 06-10-2011 05:10:05 +0000\nusing calendar 06 Oct 2011 18:10:05 GMT+13:00\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user918076"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1317896084,"creation_date":1317890197,"answer_id":7671943,"question_id":7670355,"body_markdown":"Had a look about and I don&#39;t think theres a timezone in Java that is GMT + 13. So I think you have to use: \r\n\r\n    Calendar calendar = Calendar.getInstance();\r\n    //OR Calendar.getInstance(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n    \r\n    calendar.set(Calendar.HOUR_OF_DAY, calendar.get(Calendar.HOUR_OF_DAY)+13);\r\n    \t\t\r\n    Date d = calendar.getTime();\r\n(If there is then change &quot;GMT&quot; to that Timezone and remove the 2nd line of code)\r\n\r\nOR\r\n\r\n    SimpleDateFormat df = new SimpleDateFormat();\r\n    df.setTimeZone(TimeZone.getTimeZone(&quot;GMT+13&quot;));\r\n    System.out.println(df.format(c.getTime()));\r\n\r\nIf you want to set a specific time/date you can also use:\r\n\r\n    \tcalendar.set(Calendar.DATE, 15);\r\n\tcalendar.set(Calendar.MONTH, 3);\r\n\tcalendar.set(Calendar.YEAR, 2011);\r\n\tcalendar.set(Calendar.HOUR_OF_DAY, 13); \r\n\tcalendar.set(Calendar.MINUTE, 45);\r\n\tcalendar.set(Calendar.SECOND, 00);","title":"Convert Date/Time for given Timezone - java","body":"<p>Had a look about and I don't think theres a timezone in Java that is GMT + 13. So I think you have to use: </p>\n\n<pre><code>Calendar calendar = Calendar.getInstance();\n//OR Calendar.getInstance(TimeZone.getTimeZone(\"GMT\"));\n\ncalendar.set(Calendar.HOUR_OF_DAY, calendar.get(Calendar.HOUR_OF_DAY)+13);\n\nDate d = calendar.getTime();\n</code></pre>\n\n<p>(If there is then change \"GMT\" to that Timezone and remove the 2nd line of code)</p>\n\n<p>OR</p>\n\n<pre><code>SimpleDateFormat df = new SimpleDateFormat();\ndf.setTimeZone(TimeZone.getTimeZone(\"GMT+13\"));\nSystem.out.println(df.format(c.getTime()));\n</code></pre>\n\n<p>If you want to set a specific time/date you can also use:</p>\n\n<pre><code>    calendar.set(Calendar.DATE, 15);\ncalendar.set(Calendar.MONTH, 3);\ncalendar.set(Calendar.YEAR, 2011);\ncalendar.set(Calendar.HOUR_OF_DAY, 13); \ncalendar.set(Calendar.MINUTE, 45);\ncalendar.set(Calendar.SECOND, 00);\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user726478"},"down_vote_count":4,"up_vote_count":35,"is_accepted":false,"score":31,"last_activity_date":1411660396,"creation_date":1318193100,"answer_id":7706446,"question_id":7670355,"body_markdown":"Understanding how computer time works is very important. With that said I agree that if an API is created to help you process computer time like real time then it should work in such a way that allows you to treat it like real time. For the most part this is the case but there are some major oversights which do need attention.\r\n\r\nAnyway I digress!! If you have your UTC offset (better to work in UTC than GMT offsets) you can calculate the time in milliseconds and add that to your timestamp. Note that an SQL Timestamp may vary from a Java timestamp as the way the elapse from the epoch is calculated is not always the same - dependant on database technologies and also operating systems.\r\n\r\nI would advise you to use System.currentTimeMillis() as your time stamps as these can be processed more consistently in java without worrying about converting SQL Timestamps to java Date objects etc.\r\n\r\nTo calculate your offset you can try something like this:\r\n\r\n    Long gmtTime =1317951113613L; // 2.32pm NZDT\r\n    Long timezoneAlteredTime = 0L;\r\n\r\n    if (offset != 0L) {\r\n        int multiplier = (offset*60)*(60*1000);\r\n        timezoneAlteredTime = gmtTime + multiplier;\r\n    } else {\r\n      \ttimezoneAlteredTime = gmtTime;\r\n    }\r\n\r\n    Calendar calendar = new GregorianCalendar();\r\n    calendar.setTimeInMillis(timezoneAlteredTime);\r\n            \r\n    DateFormat formatter = new SimpleDateFormat(&quot;dd MMM yyyy HH:mm:ss z&quot;);\r\n            \r\n    formatter.setCalendar(calendar);\r\n    formatter.setTimeZone(TimeZone.getTimeZone(timeZone));\r\n\r\n    String newZealandTime = formatter.format(calendar.getTime());\r\n\r\nI hope this is helpful!","title":"Convert Date/Time for given Timezone - java","body":"<p>Understanding how computer time works is very important. With that said I agree that if an API is created to help you process computer time like real time then it should work in such a way that allows you to treat it like real time. For the most part this is the case but there are some major oversights which do need attention.</p>\n\n<p>Anyway I digress!! If you have your UTC offset (better to work in UTC than GMT offsets) you can calculate the time in milliseconds and add that to your timestamp. Note that an SQL Timestamp may vary from a Java timestamp as the way the elapse from the epoch is calculated is not always the same - dependant on database technologies and also operating systems.</p>\n\n<p>I would advise you to use System.currentTimeMillis() as your time stamps as these can be processed more consistently in java without worrying about converting SQL Timestamps to java Date objects etc.</p>\n\n<p>To calculate your offset you can try something like this:</p>\n\n<pre><code>Long gmtTime =1317951113613L; // 2.32pm NZDT\nLong timezoneAlteredTime = 0L;\n\nif (offset != 0L) {\n    int multiplier = (offset*60)*(60*1000);\n    timezoneAlteredTime = gmtTime + multiplier;\n} else {\n    timezoneAlteredTime = gmtTime;\n}\n\nCalendar calendar = new GregorianCalendar();\ncalendar.setTimeInMillis(timezoneAlteredTime);\n\nDateFormat formatter = new SimpleDateFormat(\"dd MMM yyyy HH:mm:ss z\");\n\nformatter.setCalendar(calendar);\nformatter.setTimeZone(TimeZone.getTimeZone(timeZone));\n\nString newZealandTime = formatter.format(calendar.getTime());\n</code></pre>\n\n<p>I hope this is helpful!</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1472849189,"creation_date":1386799758,"answer_id":20530964,"question_id":7670355,"body_markdown":"# Joda-Time\r\n\r\nThe java.util.Date/Calendar classes are a mess and should be avoided.\r\n\r\nUpdate: The Joda-Time project is in maintenance mode. The team advises migration to the java.time classes.\r\n\r\nHere&#39;s your answer using the Joda-Time 2.3 library. Very easy.\r\n\r\nAs noted in the example code, I suggest you use named time zones wherever possible so that your programming can handle [Daylight Saving Time][1] (DST) and other anomalies.\r\n\r\nIf you had placed a `T` in the middle of your string instead of a space, you could skip the first two lines of code, dealing with a formatter to parse the string. The [DateTime][2] constructor can take a string in [ISO 8601][3] format.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // &#169; 2013 Basil Bourque. This source code may be used freely forever by anyone taking full responsibility for doing so.\r\n    // import org.joda.time.*;\r\n    // import org.joda.time.format.*;\r\n\r\n    // Parse string as a date-time in UTC (no time zone offset).\r\n    DateTimeFormatter formatter = org.joda.time.format.DateTimeFormat.forPattern( &quot;yyyy-MM-dd&#39; &#39;HH:mm:ss&quot; );\r\n    DateTime dateTimeInUTC = formatter.withZoneUTC().parseDateTime( &quot;2011-10-06 03:35:05&quot; );\r\n\r\n    // Adjust for 13 hour offset from UTC/GMT.\r\n    DateTimeZone offsetThirteen = DateTimeZone.forOffsetHours( 13 );\r\n    DateTime thirteenDateTime = dateTimeInUTC.toDateTime( offsetThirteen );\r\n\r\n    // Hard-coded offsets should be avoided. Better to use a desired time zone for handling Daylight Saving Time (DST) and other anomalies.\r\n    // Time Zone list http://joda-time.sourceforge.net/timezones.html\r\n    DateTimeZone timeZoneTongatapu = DateTimeZone.forID( &quot;Pacific/Tongatapu&quot; );\r\n    DateTime tongatapuDateTime = dateTimeInUTC.toDateTime( timeZoneTongatapu );\r\n\r\n\r\nDump those values\r\n\r\n&lt;!-- language: java --&gt; \r\n\r\n    System.out.println( &quot;dateTimeInUTC: &quot; + dateTimeInUTC );\r\n    System.out.println( &quot;thirteenDateTime: &quot; + thirteenDateTime );\r\n    System.out.println( &quot;tongatapuDateTime: &quot; + tongatapuDateTime );\r\n\r\n\r\nWhen run\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    dateTimeInUTC: 2011-10-06T03:35:05.000Z\r\n    thirteenDateTime: 2011-10-06T16:35:05.000+13:00\r\n    tongatapuDateTime: 2011-10-06T16:35:05.000+13:00\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Daylight_saving_time\r\n  [2]: http://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html\r\n  [3]: https://en.wikipedia.org/wiki/ISO_8601","title":"Convert Date/Time for given Timezone - java","body":"<h1>Joda-Time</h1>\n\n<p>The java.util.Date/Calendar classes are a mess and should be avoided.</p>\n\n<p>Update: The Joda-Time project is in maintenance mode. The team advises migration to the java.time classes.</p>\n\n<p>Here's your answer using the Joda-Time 2.3 library. Very easy.</p>\n\n<p>As noted in the example code, I suggest you use named time zones wherever possible so that your programming can handle <a href=\"https://en.wikipedia.org/wiki/Daylight_saving_time\" rel=\"nofollow\">Daylight Saving Time</a> (DST) and other anomalies.</p>\n\n<p>If you had placed a <code>T</code> in the middle of your string instead of a space, you could skip the first two lines of code, dealing with a formatter to parse the string. The <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html\" rel=\"nofollow\">DateTime</a> constructor can take a string in <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow\">ISO 8601</a> format.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>//  2013 Basil Bourque. This source code may be used freely forever by anyone taking full responsibility for doing so.\n// import org.joda.time.*;\n// import org.joda.time.format.*;\n\n// Parse string as a date-time in UTC (no time zone offset).\nDateTimeFormatter formatter = org.joda.time.format.DateTimeFormat.forPattern( \"yyyy-MM-dd' 'HH:mm:ss\" );\nDateTime dateTimeInUTC = formatter.withZoneUTC().parseDateTime( \"2011-10-06 03:35:05\" );\n\n// Adjust for 13 hour offset from UTC/GMT.\nDateTimeZone offsetThirteen = DateTimeZone.forOffsetHours( 13 );\nDateTime thirteenDateTime = dateTimeInUTC.toDateTime( offsetThirteen );\n\n// Hard-coded offsets should be avoided. Better to use a desired time zone for handling Daylight Saving Time (DST) and other anomalies.\n// Time Zone list http://joda-time.sourceforge.net/timezones.html\nDateTimeZone timeZoneTongatapu = DateTimeZone.forID( \"Pacific/Tongatapu\" );\nDateTime tongatapuDateTime = dateTimeInUTC.toDateTime( timeZoneTongatapu );\n</code></pre>\n\n<p>Dump those values</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println( \"dateTimeInUTC: \" + dateTimeInUTC );\nSystem.out.println( \"thirteenDateTime: \" + thirteenDateTime );\nSystem.out.println( \"tongatapuDateTime: \" + tongatapuDateTime );\n</code></pre>\n\n<p>When run</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>dateTimeInUTC: 2011-10-06T03:35:05.000Z\nthirteenDateTime: 2011-10-06T16:35:05.000+13:00\ntongatapuDateTime: 2011-10-06T16:35:05.000+13:00\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3038056,"reputation":329,"user_id":2575676,"display_name":"DeepaGanesh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1387353496,"creation_date":1387353496,"answer_id":20652564,"question_id":7670355,"body_markdown":"We can handle this by using offset value\r\n\r\n     public static long convertDateTimeZone(long lngDate, String fromTimeZone,\r\n\t\t\tString toTimeZone){\r\n\t\tTimeZone toTZ = TimeZone.getTimeZone(toTimeZone);\r\n\t\tCalendar toCal = Calendar.getInstance(toTZ);\t\t\r\n\t\t\r\n\t\tTimeZone fromTZ = TimeZone.getTimeZone(fromTimeZone);\r\n\t\tCalendar fromCal = Calendar.getInstance(fromTZ);\r\n\t\tfromCal.setTimeInMillis(lngDate);\r\n\t\ttoCal.setTimeInMillis(fromCal.getTimeInMillis()\r\n\t\t\t\t+ toTZ.getOffset(fromCal.getTimeInMillis())\r\n\t\t\t\t- TimeZone.getDefault().getOffset(fromCal.getTimeInMillis()));\t\t\r\n\t\treturn toCal.getTimeInMillis();\r\n\t}\r\nTest Code snippet:\r\n\r\n     System.out.println(new Date().getTime())\r\n     System.out.println(convertDateTimeZone(new Date().getTime(), TimeZone\r\n\t\t\t\t\t.getDefault().getID(), &quot;EST&quot;));\r\n\r\nOutput:\r\n    1387353270742\r\n    1387335270742\r\n\r\n   ","title":"Convert Date/Time for given Timezone - java","body":"<p>We can handle this by using offset value</p>\n\n<pre><code> public static long convertDateTimeZone(long lngDate, String fromTimeZone,\n        String toTimeZone){\n    TimeZone toTZ = TimeZone.getTimeZone(toTimeZone);\n    Calendar toCal = Calendar.getInstance(toTZ);        \n\n    TimeZone fromTZ = TimeZone.getTimeZone(fromTimeZone);\n    Calendar fromCal = Calendar.getInstance(fromTZ);\n    fromCal.setTimeInMillis(lngDate);\n    toCal.setTimeInMillis(fromCal.getTimeInMillis()\n            + toTZ.getOffset(fromCal.getTimeInMillis())\n            - TimeZone.getDefault().getOffset(fromCal.getTimeInMillis()));      \n    return toCal.getTimeInMillis();\n}\n</code></pre>\n\n<p>Test Code snippet:</p>\n\n<pre><code> System.out.println(new Date().getTime())\n System.out.println(convertDateTimeZone(new Date().getTime(), TimeZone\n                .getDefault().getID(), \"EST\"));\n</code></pre>\n\n<p>Output:\n    1387353270742\n    1387335270742</p>\n"},{"tags":[],"owner":{"account_id":3524550,"reputation":1539,"user_id":2946032,"display_name":"Charleston"},"down_vote_count":0,"up_vote_count":78,"is_accepted":true,"score":78,"last_activity_date":1653634351,"creation_date":1394660614,"answer_id":22364501,"question_id":7670355,"body_markdown":"**For me, the simplest way to do that is:&lt;br&gt;**\r\n\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    import java.util.TimeZone;\r\n\r\n    Calendar calendar = Calendar.getInstance();\r\n    calendar.setTime(new Date());\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd hh:mm:ss&quot;);\r\n    \r\n    //Here you say to java the initial timezone. This is the secret\r\n\tsdf.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n    //Will print in UTC\r\n    System.out.println(sdf.format(calendar.getTime()));    \r\n\r\n    //Here you set to your timezone\r\n\tsdf.setTimeZone(TimeZone.getDefault());\r\n    //Will print on your default Timezone\r\n\tSystem.out.println(sdf.format(calendar.getTime()));\r\n\r\n","title":"Convert Date/Time for given Timezone - java","body":"<p><strong>For me, the simplest way to do that is:<br></strong></p>\n<pre><code>import java.text.SimpleDateFormat;\nimport java.util.Calendar;\nimport java.util.Date;\nimport java.util.TimeZone;\n\nCalendar calendar = Calendar.getInstance();\ncalendar.setTime(new Date());\nSimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd hh:mm:ss&quot;);\n\n//Here you say to java the initial timezone. This is the secret\nsdf.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\n//Will print in UTC\nSystem.out.println(sdf.format(calendar.getTime()));    \n\n//Here you set to your timezone\nsdf.setTimeZone(TimeZone.getDefault());\n//Will print on your default Timezone\nSystem.out.println(sdf.format(calendar.getTime()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5909730,"reputation":141,"user_id":4650370,"display_name":"J S Raggio"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1425917398,"creation_date":1425914649,"answer_id":28945684,"question_id":7670355,"body_markdown":"The solution is actually quite simple (pure, simple Java):\r\n\r\n    System.out.println(&quot; NZ Local Time: 2011-10-06 03:35:05&quot;);\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n    LocalDateTime localNZ = LocalDateTime.parse(&quot;2011-10-06 03:35:05&quot;,formatter);\r\n    ZonedDateTime zonedNZ = ZonedDateTime.of(localNZ,ZoneId.of(&quot;+13:00&quot;));\r\n    LocalDateTime localUTC = zonedNZ.withZoneSameInstant(ZoneId.of(&quot;UTC&quot;)).toLocalDateTime();\r\n    System.out.println(&quot;UTC Local Time: &quot;+localUTC.format(formatter));\r\n\r\nOUTPUT IS:\r\n\r\n     NZ Local Time: 2011-10-06 03:35:05\r\n    UTC Local Time: 2011-10-05 14:35:05\r\n\r\n\r\n\r\n","title":"Convert Date/Time for given Timezone - java","body":"<p>The solution is actually quite simple (pure, simple Java):</p>\n\n<pre><code>System.out.println(\" NZ Local Time: 2011-10-06 03:35:05\");\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss\");\nLocalDateTime localNZ = LocalDateTime.parse(\"2011-10-06 03:35:05\",formatter);\nZonedDateTime zonedNZ = ZonedDateTime.of(localNZ,ZoneId.of(\"+13:00\"));\nLocalDateTime localUTC = zonedNZ.withZoneSameInstant(ZoneId.of(\"UTC\")).toLocalDateTime();\nSystem.out.println(\"UTC Local Time: \"+localUTC.format(formatter));\n</code></pre>\n\n<p>OUTPUT IS:</p>\n\n<pre><code> NZ Local Time: 2011-10-06 03:35:05\nUTC Local Time: 2011-10-05 14:35:05\n</code></pre>\n"},{"tags":[],"owner":{"account_id":410021,"reputation":11,"user_id":5075753,"display_name":"Ev."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1435877537,"creation_date":1435877537,"answer_id":31195897,"question_id":7670355,"body_markdown":"**A quick way is :**\r\n\r\n    String dateText =&quot;Thu, 02 Jul 2015 21:51:46&quot;;\r\n    long hours = -5; // time difference between places\r\n            \r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(E, dd MMM yyyy HH:mm:ss, Locale.ENGLISH);     \r\n    LocalDateTime date = LocalDateTime.parse(dateText, formatter);        \r\n    date = date.with(date.plusHours(hours));\r\n    \r\n    System.out.println(&quot;NEW DATE: &quot;+date);\r\n\r\nOutput\r\n\r\n**NEW DATE: 2015-07-02T16:51:46**\r\n","title":"Convert Date/Time for given Timezone - java","body":"<p><strong>A quick way is :</strong></p>\n\n<pre><code>String dateText =\"Thu, 02 Jul 2015 21:51:46\";\nlong hours = -5; // time difference between places\n\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(E, dd MMM yyyy HH:mm:ss, Locale.ENGLISH);     \nLocalDateTime date = LocalDateTime.parse(dateText, formatter);        \ndate = date.with(date.plusHours(hours));\n\nSystem.out.println(\"NEW DATE: \"+date);\n</code></pre>\n\n<p>Output</p>\n\n<p><strong>NEW DATE: 2015-07-02T16:51:46</strong></p>\n"},{"tags":[],"owner":{"account_id":3011136,"reputation":12331,"user_id":2572431,"accept_rate":71,"display_name":"augurar"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1460799337,"creation_date":1460799337,"answer_id":36662496,"question_id":7670355,"body_markdown":"Your approach works without any modification.\r\n\r\n    Calendar calendar = Calendar.getInstance(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n    // Timestamp for 2011-10-06 03:35:05 GMT\r\n    calendar.setTime(new Date(1317872105000L));\r\n\r\n    DateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss z&quot;); \r\n    formatter.setTimeZone(TimeZone.getTimeZone(&quot;GMT+13&quot;));\r\n\r\n    // Prints 2011-10-06 16:35:05 GMT+13:00\r\n    System.out.println(formatter.format(calendar.getTime()));","title":"Convert Date/Time for given Timezone - java","body":"<p>Your approach works without any modification.</p>\n\n<pre><code>Calendar calendar = Calendar.getInstance(TimeZone.getTimeZone(\"GMT\"));\n// Timestamp for 2011-10-06 03:35:05 GMT\ncalendar.setTime(new Date(1317872105000L));\n\nDateFormat formatter = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss z\"); \nformatter.setTimeZone(TimeZone.getTimeZone(\"GMT+13\"));\n\n// Prints 2011-10-06 16:35:05 GMT+13:00\nSystem.out.println(formatter.format(calendar.getTime()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1550593517,"creation_date":1472849083,"answer_id":39300461,"question_id":7670355,"body_markdown":"# tl;dr\r\n\r\n    Instant.ofEpochMilli( 1_317_816_735_000L )\n        .atZone( ZoneId.of( &quot;Pacific/Auckland&quot; ) )\n        .format( DateTimeFormatter.ofLocalizedDateTime( FormatStyle.MEDIUM ).withLocale( new Locale( &quot;en&quot; , &quot;NZ&quot; ) ) )\r\n\r\nalso\r\n\r\n    LocalDateTime.parse( &quot;2011-10-06 03:35:05&quot;.replace( &quot; &quot; , &quot;T&quot; ) )\n        .atZone( ZoneId.of( &quot;Pacific/Auckland&quot; ) )\r\n\r\n# java.time\r\n\r\nThe Question and most Answers use outdated legacy date-time classes from the earliest versions of Java. These old classes have proven to be troublesome and confusing. Avoid them. Instead use the java.time classes.\r\n\r\n# ISO 8601\r\n\r\nYour input string is nearly in standard ISO 8601 format. Just replace the SPACE in the middle with a `T`. \r\n\r\n    String input = &quot;2011-10-06 03:35:05&quot;.replace( &quot; &quot; , &quot;T&quot; );\r\n\r\n# `LocalDateTime`\r\n\r\nNow parse as a [`LocalDateTime`][1] because the input lacks any information about offset-from-UTC or time zone. A `LocalDateTime` has no concept of offset nor time zone, so it does *not* represent an actual moment on the timeline.\r\n\r\n    LocalDateTime ldt = LocalDateTime.parse( input );\r\n\r\n# `ZoneOffset`\r\n\r\nYou seem to be saying that from the business context you know the intention of this string is to represent a moment that is 13 hours ahead of UTC. So we instantiate a [`ZoneOffset`][2].\r\n\r\n    ZoneOffset offset = ZoneOffset.ofHours( 13 ); // 13 hours ahead of UTC, in the far east of the globe.\r\n\r\n# `OffsetDateTime`\r\n\r\nApply it to get an [`OffsetDateTime`][3] object. This becomes an actual moment on the timeline.\r\n\r\n    OffsetDateTime odt = ldt.atOffset( offset);\r\n\r\n# `ZoneId`\r\n \r\nBut then you mention New Zealand. So you had a specific time zone in mind. A time zone is an offset-from-UTC *plus* a set of rules for handling anomalies such as Daylight Saving Time (DST). So we can specify a `ZoneId` to a `ZonedDateTime` rather than a mere offset. \r\n\r\nSpecify a [proper time zone name](https://en.wikipedia.org/wiki/List_of_tz_zones_by_name). Never use the 3-4 letter abbreviation such as `EST` or `IST` as they are not true time zones, not standardized, and not even unique(!). For example, `Pacific/Auckland`.\r\n\r\n    ZoneId z = ZoneId.of( &quot;Pacific/Auckland&quot; );\r\n\r\n# `ZonedDateTime`\r\n\r\nApply the `ZoneId`.\r\n\r\n    ZonedDateTime zdt = ldt.atZone( z );\r\n\r\nYou can easily adjust into another zone for the very same moment on the timeline.\r\n\r\n    ZoneId zParis = ZoneId.of( &quot;Europe/Paris&quot; );\r\n    ZonedDateTime zdtParis = zdt.withZoneSameInstant( zParis );  // Same moment in time, but seen through lens of Paris wall-clock time.\n\n\r\n\r\n# Count from epoch\r\n\r\nI strongly recommend against handling date-time values as a count from epoch, such as milliseconds from the start of 1970 UTC. But if you must, create a `Instant` from such a number.\r\n\r\n    Instant instant = Instant.ofEpochMilli( 1_317_816_735_000L );\r\n    \r\nThen assign a time zone as seen above, if desired, to move away from UTC.\r\n\r\n    ZoneId z = ZoneId.of( &quot;Pacific/Auckland&quot; );\r\n    ZonedDateTime zdt = instant.atZone( z );\r\n\r\nYour value of `1_317_816_735_000L` is:\r\n\r\n - `2011-10-05T12:12:15Z` (Wed, 05 Oct 2011 12:12:15 GMT)\r\n - `2011-10-06T01:12:15+13:00[Pacific/Auckland]` (Thursday October 06, 2011 01:12:15 in Auckland New Zealand).\r\n\r\n# Generate strings\r\n\r\nTo generate a string in standard [ISO 8601][4] format, simply call `toString`. Note that `ZonedDateTime` wisely extends the standard format by appending the name of the time zone in square brackets.\r\n\r\n    String output = zdt.toString();\r\n\r\nFor other formats, search Stack Overflow for [`DateTimeFormatter`][5] class. Already covered many times. \r\n\r\nSpecify a [`FormatStyle`][6] and a [`Locale`][7].\r\n\r\n    Locale l = new Locale( &quot;en&quot; , &quot;NZ&quot; );\r\n    DateTimeFormatter f = DateTimeFormatter.ofLocalizedDateTime( FormatStyle.MEDIUM ).withLocale( l );\r\n    String output = zdt.format( f );\n\nNote that time zone has *nothing* to do with locale. You can have a `Europe/Paris` date-time displayed in Japanese language &amp; cultural norms, or a `Asia/Kolkata` date-time displayed in Portuguese language and Brazil cultural norms.\n\r\n\r\n\r\n# About java.time\r\n\r\nThe [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old date-time classes such as `java.util.Date`, `.Calendar`, &amp; `java.text.SimpleDateFormat`. \r\n\r\nThe [Joda-Time](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to java.time.\r\n\r\nTo learn more, see the [Oracle Tutorial](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations.\r\n\r\nMuch of the java.time functionality is back-ported to Java 6 &amp; 7 in [ThreeTen-Backport](http://www.threeten.org/threetenbp/) and further adapted to [Android](https://en.wikipedia.org/wiki/Android_(operating_system)) in [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP) (see [*How to use*](https://stackoverflow.com/q/38922754/642706)).\r\n\r\nThe [ThreeTen-Extra](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as `Interval`, `YearWeek`, `YearQuarter`, and more.\r\n\r\n\r\n    \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/time/ZoneOffset.html\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html\r\n  [4]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\r\n  [6]: https://docs.oracle.com/javase/8/docs/api/java/time/format/FormatStyle.html\r\n  [7]: http://docs.oracle.com/javase/8/docs/api/java/util/Locale.html","title":"Convert Date/Time for given Timezone - java","body":"<h1>tl;dr</h1>\n\n<pre><code>Instant.ofEpochMilli( 1_317_816_735_000L )\n    .atZone( ZoneId.of( \"Pacific/Auckland\" ) )\n    .format( DateTimeFormatter.ofLocalizedDateTime( FormatStyle.MEDIUM ).withLocale( new Locale( \"en\" , \"NZ\" ) ) )\n</code></pre>\n\n<p>also</p>\n\n<pre><code>LocalDateTime.parse( \"2011-10-06 03:35:05\".replace( \" \" , \"T\" ) )\n    .atZone( ZoneId.of( \"Pacific/Auckland\" ) )\n</code></pre>\n\n<h1>java.time</h1>\n\n<p>The Question and most Answers use outdated legacy date-time classes from the earliest versions of Java. These old classes have proven to be troublesome and confusing. Avoid them. Instead use the java.time classes.</p>\n\n<h1>ISO 8601</h1>\n\n<p>Your input string is nearly in standard ISO 8601 format. Just replace the SPACE in the middle with a <code>T</code>. </p>\n\n<pre><code>String input = \"2011-10-06 03:35:05\".replace( \" \" , \"T\" );\n</code></pre>\n\n<h1><code>LocalDateTime</code></h1>\n\n<p>Now parse as a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\" rel=\"noreferrer\"><code>LocalDateTime</code></a> because the input lacks any information about offset-from-UTC or time zone. A <code>LocalDateTime</code> has no concept of offset nor time zone, so it does <em>not</em> represent an actual moment on the timeline.</p>\n\n<pre><code>LocalDateTime ldt = LocalDateTime.parse( input );\n</code></pre>\n\n<h1><code>ZoneOffset</code></h1>\n\n<p>You seem to be saying that from the business context you know the intention of this string is to represent a moment that is 13 hours ahead of UTC. So we instantiate a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/ZoneOffset.html\" rel=\"noreferrer\"><code>ZoneOffset</code></a>.</p>\n\n<pre><code>ZoneOffset offset = ZoneOffset.ofHours( 13 ); // 13 hours ahead of UTC, in the far east of the globe.\n</code></pre>\n\n<h1><code>OffsetDateTime</code></h1>\n\n<p>Apply it to get an <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html\" rel=\"noreferrer\"><code>OffsetDateTime</code></a> object. This becomes an actual moment on the timeline.</p>\n\n<pre><code>OffsetDateTime odt = ldt.atOffset( offset);\n</code></pre>\n\n<h1><code>ZoneId</code></h1>\n\n<p>But then you mention New Zealand. So you had a specific time zone in mind. A time zone is an offset-from-UTC <em>plus</em> a set of rules for handling anomalies such as Daylight Saving Time (DST). So we can specify a <code>ZoneId</code> to a <code>ZonedDateTime</code> rather than a mere offset. </p>\n\n<p>Specify a <a href=\"https://en.wikipedia.org/wiki/List_of_tz_zones_by_name\" rel=\"noreferrer\">proper time zone name</a>. Never use the 3-4 letter abbreviation such as <code>EST</code> or <code>IST</code> as they are not true time zones, not standardized, and not even unique(!). For example, <code>Pacific/Auckland</code>.</p>\n\n<pre><code>ZoneId z = ZoneId.of( \"Pacific/Auckland\" );\n</code></pre>\n\n<h1><code>ZonedDateTime</code></h1>\n\n<p>Apply the <code>ZoneId</code>.</p>\n\n<pre><code>ZonedDateTime zdt = ldt.atZone( z );\n</code></pre>\n\n<p>You can easily adjust into another zone for the very same moment on the timeline.</p>\n\n<pre><code>ZoneId zParis = ZoneId.of( \"Europe/Paris\" );\nZonedDateTime zdtParis = zdt.withZoneSameInstant( zParis );  // Same moment in time, but seen through lens of Paris wall-clock time.\n</code></pre>\n\n<h1>Count from epoch</h1>\n\n<p>I strongly recommend against handling date-time values as a count from epoch, such as milliseconds from the start of 1970 UTC. But if you must, create a <code>Instant</code> from such a number.</p>\n\n<pre><code>Instant instant = Instant.ofEpochMilli( 1_317_816_735_000L );\n</code></pre>\n\n<p>Then assign a time zone as seen above, if desired, to move away from UTC.</p>\n\n<pre><code>ZoneId z = ZoneId.of( \"Pacific/Auckland\" );\nZonedDateTime zdt = instant.atZone( z );\n</code></pre>\n\n<p>Your value of <code>1_317_816_735_000L</code> is:</p>\n\n<ul>\n<li><code>2011-10-05T12:12:15Z</code> (Wed, 05 Oct 2011 12:12:15 GMT)</li>\n<li><code>2011-10-06T01:12:15+13:00[Pacific/Auckland]</code> (Thursday October 06, 2011 01:12:15 in Auckland New Zealand).</li>\n</ul>\n\n<h1>Generate strings</h1>\n\n<p>To generate a string in standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\">ISO 8601</a> format, simply call <code>toString</code>. Note that <code>ZonedDateTime</code> wisely extends the standard format by appending the name of the time zone in square brackets.</p>\n\n<pre><code>String output = zdt.toString();\n</code></pre>\n\n<p>For other formats, search Stack Overflow for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"noreferrer\"><code>DateTimeFormatter</code></a> class. Already covered many times. </p>\n\n<p>Specify a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/FormatStyle.html\" rel=\"noreferrer\"><code>FormatStyle</code></a> and a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Locale.html\" rel=\"noreferrer\"><code>Locale</code></a>.</p>\n\n<pre><code>Locale l = new Locale( \"en\" , \"NZ\" );\nDateTimeFormatter f = DateTimeFormatter.ofLocalizedDateTime( FormatStyle.MEDIUM ).withLocale( l );\nString output = zdt.format( f );\n</code></pre>\n\n<p>Note that time zone has <em>nothing</em> to do with locale. You can have a <code>Europe/Paris</code> date-time displayed in Japanese language &amp; cultural norms, or a <code>Asia/Kolkata</code> date-time displayed in Portuguese language and Brazil cultural norms.</p>\n\n<h1>About java.time</h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> framework is built into Java 8 and later. These classes supplant the troublesome old date-time classes such as <code>java.util.Date</code>, <code>.Calendar</code>, &amp; <code>java.text.SimpleDateFormat</code>. </p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to java.time.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\">Oracle Tutorial</a>. And search Stack Overflow for many examples and explanations.</p>\n\n<p>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\">ThreeTen-Backport</a> and further adapted to <a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\">Android</a> in <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\">ThreeTenABP</a> (see <a href=\"https://stackoverflow.com/q/38922754/642706\"><em>How to use</em></a>).</p>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\">ThreeTen-Extra</a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <code>Interval</code>, <code>YearWeek</code>, <code>YearQuarter</code>, and more.</p>\n"},{"tags":[],"owner":{"account_id":11030312,"reputation":11,"user_id":8101846,"display_name":"Sourav Barman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1496388473,"creation_date":1496388473,"answer_id":44323179,"question_id":7670355,"body_markdown":"\tpublic Timestamp convertLocalTimeToServerDatetime(String dt,String timezone){\r\n\t\t\r\n\t\tString clientDnT = dt ;// &quot;2017-06-01 07:20:00&quot;;\r\n\t\ttry{\r\n\t\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n\t\tDate date = sdf.parse(clientDnT);\r\n\t    TimeZone tz = TimeZone.getTimeZone(timezone.trim()); // get time zone of user\r\n\t    sdf.setTimeZone(tz);\r\n\t      \r\n\t    // Convert to servertime zone \r\n\t\tSimpleDateFormat sdf1 = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n\t\tTimeZone tzInAmerica = TimeZone.getDefault();\r\n\t\tsdf1.setTimeZone(tzInAmerica);\r\n\t\t\r\n\t\t// assign date to date\r\n\t\tString serverDate = sdf1.format(date);\r\n\t\t\r\n\t\t// Convert to servertime zone to Timestamp\r\n\t\tDate date2 =  sdf.parse(serverDate);\r\n\t    Timestamp tsm = new Timestamp(date2.getTime());\r\n\t    return  tsm;\r\n\t\t}\r\n\t\tcatch(Exception e){\r\n\t\t\tSystem.err.println(e);\r\n\t\t}\r\n\t\t \r\n\t\treturn null;\r\n\t}","title":"Convert Date/Time for given Timezone - java","body":"<pre><code>public Timestamp convertLocalTimeToServerDatetime(String dt,String timezone){\n\n    String clientDnT = dt ;// \"2017-06-01 07:20:00\";\n    try{\n    SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n    Date date = sdf.parse(clientDnT);\n    TimeZone tz = TimeZone.getTimeZone(timezone.trim()); // get time zone of user\n    sdf.setTimeZone(tz);\n\n    // Convert to servertime zone \n    SimpleDateFormat sdf1 = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n    TimeZone tzInAmerica = TimeZone.getDefault();\n    sdf1.setTimeZone(tzInAmerica);\n\n    // assign date to date\n    String serverDate = sdf1.format(date);\n\n    // Convert to servertime zone to Timestamp\n    Date date2 =  sdf.parse(serverDate);\n    Timestamp tsm = new Timestamp(date2.getTime());\n    return  tsm;\n    }\n    catch(Exception e){\n        System.err.println(e);\n    }\n\n    return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1358034,"reputation":79,"user_id":1296022,"display_name":"Abhishek Singha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1561112535,"creation_date":1561109407,"answer_id":56700625,"question_id":7670355,"body_markdown":"To find duration or time interval with two different time zone \r\n    \r\n    import org.joda.time.{DateTime, Period, PeriodType}\r\n            \r\n    val s1 = &quot;2019-06-13T05:50:00-07:00&quot;\r\n    val s2 = &quot;2019-10-09T11:30:00+09:00&quot;    \r\n            \r\n    val period = new Period(DateTime.parse(s1), DateTime.parse(s2), PeriodType dayTime())\r\n            \r\n    period.getDays\r\n    period.getMinutes\r\n    period.getHours\r\n\r\noutput\r\n    period = P117DT13H40M\r\n    \r\n    days = 117\r\n    minutes = 40\r\n    hours = 13\r\n\r\n","title":"Convert Date/Time for given Timezone - java","body":"<p>To find duration or time interval with two different time zone </p>\n\n<pre><code>import org.joda.time.{DateTime, Period, PeriodType}\n\nval s1 = \"2019-06-13T05:50:00-07:00\"\nval s2 = \"2019-10-09T11:30:00+09:00\"    \n\nval period = new Period(DateTime.parse(s1), DateTime.parse(s2), PeriodType dayTime())\n\nperiod.getDays\nperiod.getMinutes\nperiod.getHours\n</code></pre>\n\n<p>output\n    period = P117DT13H40M</p>\n\n<pre><code>days = 117\nminutes = 40\nhours = 13\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1563180217,"creation_date":1563180217,"answer_id":57036150,"question_id":7670355,"body_markdown":"I should like to provide the modern answer.\r\n\r\nYou shouldnt really want to convert a date and time from a string at one GMT offset to a string at a different GMT offset and with in a different format. Rather in your program keep an instant (a point in time) as a proper date-time object. Only when you need to give string output, format your object into the desired string.\r\n\r\n## java.time\r\n\r\n**Parsing input**\r\n\r\n\t\tDateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n\t\t\t\t.append(DateTimeFormatter.ISO_LOCAL_DATE)\r\n\t\t\t\t.appendLiteral(&#39; &#39;)\r\n\t\t\t\t.append(DateTimeFormatter.ISO_LOCAL_TIME)\r\n\t\t\t\t.toFormatter();\r\n\t\t\r\n\t\tString dateTimeString = &quot;2011-10-06 03:35:05&quot;;\r\n\t\tInstant instant = LocalDateTime.parse(dateTimeString, formatter)\r\n\t\t\t\t.atOffset(ZoneOffset.UTC)\r\n\t\t\t\t.toInstant();\r\n\r\nFor most purposes `Instant` is a good choice for storing a point in time. If you needed to make it explicit that the date and time came from GMT, use an `OffsetDateTime` instead.\r\n\r\n**Converting, formatting and printing output**\r\n\r\n\t\tZoneId desiredZone = ZoneId.of(&quot;Pacific/Auckland&quot;);\r\n\t\tLocale desiredeLocale = Locale.forLanguageTag(&quot;en-NZ&quot;);\r\n\t\tDateTimeFormatter desiredFormatter = DateTimeFormatter.ofPattern(\r\n\t\t\t\t&quot;dd MMM uuuu HH:mm:ss OOOO&quot;, desiredeLocale);\r\n\t\t\r\n\t\tZonedDateTime desiredDateTime = instant.atZone(desiredZone);\r\n\t\tString result = desiredDateTime.format(desiredFormatter);\r\n\t\tSystem.out.println(result);\r\n\r\nThis printed:\r\n\r\n&gt; 06 Oct 2011 16:35:05 GMT+13:00\r\n\r\nI specified time zone Pacific/Auckland rather than the offset you mentioned, +13:00. I understood that you wanted New Zealand time, and Pacific/Auckland better tells the reader this. The time zone also takes summer time (DST) into account so you dont need to take this into account in your own code (for most purposes).\r\n\r\nSince `Oct` is in English, its a good idea to give the formatter an explicit locale. `GMT` might be localized too, but I think that it just prints `GMT` in all locales.\r\n\r\n`OOOO` in the format patterns string is one way of printing the offset, which may be a better idea than printing the time zone abbreviation you would get from `z` since time zone abbreviations are often ambiguous. If you want `NZDT` (for New Zealand Daylight Time), just put `z` there instead.\r\n\r\n**Your questions**\r\n\r\nI will answer your numbered questions in relation to the modern classes in java.time.\r\n\r\n&gt; Is possible to:\r\n&gt; \r\n&gt;  1. Set the time on an object\r\n\r\nNo, the modern classes are immutable. You need to create an object that has the desired date and time from the outset (this has a number of advantages including thread safety).\r\n\r\n&gt;  2. (Possibly) Set the TimeZone of the initial time stamp\r\n\r\nThe `atZone` method that I use in the code returns a `ZonedDateTime` with the specified time zone. Other date-time classes have a similar method, sometimes called `atZoneSameInstant` or other names.\r\n\r\n&gt;  3. Format the time stamp with a new TimeZone\r\n\r\nWith java.time converting to a new time zone and formatting are two distinct steps as shown.\r\n\r\n&gt;  4. Return a string with new time zone time.\r\n\r\nYes, convert to the desired time zone as shown and format as shown.\r\n\r\n&gt; I found that anytime I try to set the time like this:\r\n&gt; \r\n&gt;     calendar.setTime(new Date(1317816735000L));\r\n&gt; \r\n&gt; the local machine&#39;s TimeZone is used. Why is that?\r\n\r\nIts not the way you think, which goes nicely to show just a couple of the (many) design problems with the old classes.\r\n\r\n - A `Date` hasnt got a time zone. Only when you print it, its `toString` method grabs your local time zone and uses it for rendering the string. This is true for `new Date()` too. This behaviour has confused many, many programmers over the last 25 years.\r\n - A `Calender` *has* got a time zone. It doesnt change when you do `calendar.setTime(new Date(1317816735000L));`.\r\n\r\n## Link\r\n\r\n[Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.","title":"Convert Date/Time for given Timezone - java","body":"<p>I should like to provide the modern answer.</p>\n\n<p>You shouldnt really want to convert a date and time from a string at one GMT offset to a string at a different GMT offset and with in a different format. Rather in your program keep an instant (a point in time) as a proper date-time object. Only when you need to give string output, format your object into the desired string.</p>\n\n<h2>java.time</h2>\n\n<p><strong>Parsing input</strong></p>\n\n<pre><code>    DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n            .append(DateTimeFormatter.ISO_LOCAL_DATE)\n            .appendLiteral(' ')\n            .append(DateTimeFormatter.ISO_LOCAL_TIME)\n            .toFormatter();\n\n    String dateTimeString = \"2011-10-06 03:35:05\";\n    Instant instant = LocalDateTime.parse(dateTimeString, formatter)\n            .atOffset(ZoneOffset.UTC)\n            .toInstant();\n</code></pre>\n\n<p>For most purposes <code>Instant</code> is a good choice for storing a point in time. If you needed to make it explicit that the date and time came from GMT, use an <code>OffsetDateTime</code> instead.</p>\n\n<p><strong>Converting, formatting and printing output</strong></p>\n\n<pre><code>    ZoneId desiredZone = ZoneId.of(\"Pacific/Auckland\");\n    Locale desiredeLocale = Locale.forLanguageTag(\"en-NZ\");\n    DateTimeFormatter desiredFormatter = DateTimeFormatter.ofPattern(\n            \"dd MMM uuuu HH:mm:ss OOOO\", desiredeLocale);\n\n    ZonedDateTime desiredDateTime = instant.atZone(desiredZone);\n    String result = desiredDateTime.format(desiredFormatter);\n    System.out.println(result);\n</code></pre>\n\n<p>This printed:</p>\n\n<blockquote>\n  <p>06 Oct 2011 16:35:05 GMT+13:00</p>\n</blockquote>\n\n<p>I specified time zone Pacific/Auckland rather than the offset you mentioned, +13:00. I understood that you wanted New Zealand time, and Pacific/Auckland better tells the reader this. The time zone also takes summer time (DST) into account so you dont need to take this into account in your own code (for most purposes).</p>\n\n<p>Since <code>Oct</code> is in English, its a good idea to give the formatter an explicit locale. <code>GMT</code> might be localized too, but I think that it just prints <code>GMT</code> in all locales.</p>\n\n<p><code>OOOO</code> in the format patterns string is one way of printing the offset, which may be a better idea than printing the time zone abbreviation you would get from <code>z</code> since time zone abbreviations are often ambiguous. If you want <code>NZDT</code> (for New Zealand Daylight Time), just put <code>z</code> there instead.</p>\n\n<p><strong>Your questions</strong></p>\n\n<p>I will answer your numbered questions in relation to the modern classes in java.time.</p>\n\n<blockquote>\n  <p>Is possible to:</p>\n  \n  <ol>\n  <li>Set the time on an object</li>\n  </ol>\n</blockquote>\n\n<p>No, the modern classes are immutable. You need to create an object that has the desired date and time from the outset (this has a number of advantages including thread safety).</p>\n\n<blockquote>\n  <ol start=\"2\">\n  <li>(Possibly) Set the TimeZone of the initial time stamp</li>\n  </ol>\n</blockquote>\n\n<p>The <code>atZone</code> method that I use in the code returns a <code>ZonedDateTime</code> with the specified time zone. Other date-time classes have a similar method, sometimes called <code>atZoneSameInstant</code> or other names.</p>\n\n<blockquote>\n  <ol start=\"3\">\n  <li>Format the time stamp with a new TimeZone</li>\n  </ol>\n</blockquote>\n\n<p>With java.time converting to a new time zone and formatting are two distinct steps as shown.</p>\n\n<blockquote>\n  <ol start=\"4\">\n  <li>Return a string with new time zone time.</li>\n  </ol>\n</blockquote>\n\n<p>Yes, convert to the desired time zone as shown and format as shown.</p>\n\n<blockquote>\n  <p>I found that anytime I try to set the time like this:</p>\n\n<pre><code>calendar.setTime(new Date(1317816735000L));\n</code></pre>\n  \n  <p>the local machine's TimeZone is used. Why is that?</p>\n</blockquote>\n\n<p>Its not the way you think, which goes nicely to show just a couple of the (many) design problems with the old classes.</p>\n\n<ul>\n<li>A <code>Date</code> hasnt got a time zone. Only when you print it, its <code>toString</code> method grabs your local time zone and uses it for rendering the string. This is true for <code>new Date()</code> too. This behaviour has confused many, many programmers over the last 25 years.</li>\n<li>A <code>Calender</code> <em>has</em> got a time zone. It doesnt change when you do <code>calendar.setTime(new Date(1317816735000L));</code>.</li>\n</ul>\n\n<h2>Link</h2>\n\n<p><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</p>\n"},{"tags":[],"owner":{"account_id":5765282,"reputation":581,"user_id":4550431,"display_name":"Krzysztof Dziuba"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1564481489,"creation_date":1564480507,"answer_id":57268959,"question_id":7670355,"body_markdown":"display date and time for all timezones\r\n\r\n\r\n    import java.util.Calendar;\r\n    import java.util.TimeZone;\r\n    import java.text.DateFormat;\r\n    import java.text.SimpleDateFormat;\r\n\r\n\r\n\r\n    static final String ISO8601 = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot;;\r\n    DateFormat dateFormat = new SimpleDateFormat(ISO8601);\r\n    Calendar c = Calendar.getInstance();\r\n    String formattedTime;\r\n    for (String availableID : TimeZone.getAvailableIDs()) {\r\n        dateFormat.setTimeZone(TimeZone.getTimeZone(availableID));\r\n        formattedTime = dateFormat.format(c.getTime());\r\n        System.out.println(formattedTime + &quot; &quot; + availableID);\r\n    }\r\n\r\n","title":"Convert Date/Time for given Timezone - java","body":"<p>display date and time for all timezones</p>\n\n<pre><code>import java.util.Calendar;\nimport java.util.TimeZone;\nimport java.text.DateFormat;\nimport java.text.SimpleDateFormat;\n\n\n\nstatic final String ISO8601 = \"yyyy-MM-dd'T'HH:mm:ssZ\";\nDateFormat dateFormat = new SimpleDateFormat(ISO8601);\nCalendar c = Calendar.getInstance();\nString formattedTime;\nfor (String availableID : TimeZone.getAvailableIDs()) {\n    dateFormat.setTimeZone(TimeZone.getTimeZone(availableID));\n    formattedTime = dateFormat.format(c.getTime());\n    System.out.println(formattedTime + \" \" + availableID);\n}\n</code></pre>\n"}],"owner":{"account_id":180511,"reputation":8300,"user_id":413872,"accept_rate":95,"display_name":"travega"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":446833,"favorite_count":0,"down_vote_count":1,"up_vote_count":95,"accepted_answer_id":22364501,"answer_count":15,"score":94,"last_activity_date":1654233402,"creation_date":1317875934,"question_id":7670355,"body_markdown":"I want to convert this GMT time stamp to GMT+13:\r\n\r\n    2011-10-06 03:35:05\r\n\r\nI have tried about 100 different combinations of DateFormat, TimeZone, Date, GregorianCalendar etc. to try to do this VERY basic task.\r\n\r\nThis code does what I want for the CURRENT TIME:\r\n\r\n    Calendar calendar = new GregorianCalendar(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n  \r\n    DateFormat formatter = new SimpleDateFormat(&quot;dd MMM yyyy HH:mm:ss z&quot;);    \r\n    formatter.setTimeZone(TimeZone.getTimeZone(&quot;GMT+13&quot;));  \r\n\r\n    String newZealandTime = formatter.format(calendar.getTime());\r\n\r\nBut what I want is to set the time rather than using the current time. \r\n\r\nI found that anytime I try to set the time like this:\r\n\r\n    calendar.setTime(new Date(1317816735000L));\r\n\r\nthe local machine&#39;s TimeZone is used. Why is that? I know that when &quot;new Date()&quot; returns UTC+0 time so why when you set the Time in milliseconds does it no longer assume the time is in UTC?\r\n\r\nIs it possible to:\r\n\r\n 1. Set the time on an object (Calendar/Date/TimeStamp)\r\n 2. (Possibly) Set the TimeZone of the initial time stamp (calendar.setTimeZone(...))\r\n 3. Format the time stamp with a new TimeZone (formatter.setTimeZone(...)))\r\n 4. Return a string with new time zone time. (formatter.format(calendar.getTime()))\r\n","title":"Convert Date/Time for given Timezone - java","body":"<p>I want to convert this GMT time stamp to GMT+13:</p>\n<pre><code>2011-10-06 03:35:05\n</code></pre>\n<p>I have tried about 100 different combinations of DateFormat, TimeZone, Date, GregorianCalendar etc. to try to do this VERY basic task.</p>\n<p>This code does what I want for the CURRENT TIME:</p>\n<pre><code>Calendar calendar = new GregorianCalendar(TimeZone.getTimeZone(&quot;GMT&quot;));\n\nDateFormat formatter = new SimpleDateFormat(&quot;dd MMM yyyy HH:mm:ss z&quot;);    \nformatter.setTimeZone(TimeZone.getTimeZone(&quot;GMT+13&quot;));  \n\nString newZealandTime = formatter.format(calendar.getTime());\n</code></pre>\n<p>But what I want is to set the time rather than using the current time.</p>\n<p>I found that anytime I try to set the time like this:</p>\n<pre><code>calendar.setTime(new Date(1317816735000L));\n</code></pre>\n<p>the local machine's TimeZone is used. Why is that? I know that when &quot;new Date()&quot; returns UTC+0 time so why when you set the Time in milliseconds does it no longer assume the time is in UTC?</p>\n<p>Is it possible to:</p>\n<ol>\n<li>Set the time on an object (Calendar/Date/TimeStamp)</li>\n<li>(Possibly) Set the TimeZone of the initial time stamp (calendar.setTimeZone(...))</li>\n<li>Format the time stamp with a new TimeZone (formatter.setTimeZone(...)))</li>\n<li>Return a string with new time zone time. (formatter.format(calendar.getTime()))</li>\n</ol>\n"},{"tags":["java","appium","appium-android"],"answers":[{"tags":[],"owner":{"account_id":6919148,"reputation":769,"user_id":5312373,"accept_rate":39,"display_name":"Prasanta Biswas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1626348672,"creation_date":1626348672,"answer_id":68393008,"question_id":68305135,"body_markdown":"Figured out the reason. Appium by defaults adds `-W` to the adb command when startActivity is called which waits till the activity is launched. In my case it is a transparent activity and does not launch. So eventually the appium command times out and fails.","title":"Not able to start activity using appium","body":"<p>Figured out the reason. Appium by defaults adds <code>-W</code> to the adb command when startActivity is called which waits till the activity is launched. In my case it is a transparent activity and does not launch. So eventually the appium command times out and fails.</p>\n"},{"tags":[],"owner":{"account_id":9090019,"reputation":99,"user_id":6766297,"display_name":"nby"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654233378,"creation_date":1654233378,"answer_id":72485004,"question_id":68305135,"body_markdown":"You need to set &quot;appWaitForLaunch to false&quot;. \r\n\r\nLook [here][1] - From Appium Docs:\r\n&gt; There might be also situations where an activity does not return the\r\n&gt; control to the calling process at all, so am start call blocks forever\r\n&gt; independently of the value of appWaitDuration, thus causing the\r\n&gt; timeout. In such case setting appWaitForLaunch to false might help to\r\n&gt; resolve the issue. Although, by choosing this option, the driver\r\n&gt; cannot make sure the activity has fully started, so then it is up to\r\n&gt; the client code to verify the initial UI state is the one that is\r\n&gt; expected.\r\n\r\n\r\n\r\n\r\n  [1]: http://appium.io/docs/en/writing-running-appium/android/activity-startup/#command-timed-out-after-x-ms","title":"Not able to start activity using appium","body":"<p>You need to set &quot;appWaitForLaunch to false&quot;.</p>\n<p>Look <a href=\"http://appium.io/docs/en/writing-running-appium/android/activity-startup/#command-timed-out-after-x-ms\" rel=\"nofollow noreferrer\">here</a> - From Appium Docs:</p>\n<blockquote>\n<p>There might be also situations where an activity does not return the\ncontrol to the calling process at all, so am start call blocks forever\nindependently of the value of appWaitDuration, thus causing the\ntimeout. In such case setting appWaitForLaunch to false might help to\nresolve the issue. Although, by choosing this option, the driver\ncannot make sure the activity has fully started, so then it is up to\nthe client code to verify the initial UI state is the one that is\nexpected.</p>\n</blockquote>\n"}],"owner":{"account_id":6919148,"reputation":769,"user_id":5312373,"accept_rate":39,"display_name":"Prasanta Biswas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1015,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68393008,"answer_count":2,"score":0,"last_activity_date":1654233378,"creation_date":1625760441,"question_id":68305135,"body_markdown":"I am trying to launch a transparent activity using appium android driver and also passing some optional intent arguments. It is always failing with 500 status and the command times out no matter how much I set abdExecTimeout capability value.\r\n\r\nSample code:\r\n\r\n    DesiredCapabilities capabilities = new DesiredCapabilities();\r\n    capabilities.setCapability(&quot;automationName&quot;, &quot;UiAutomator2&quot;);\r\n    capabilities.setCapability(&quot;app&quot;, &quot;/path/to/app.apk&quot;);\r\n    capabilities.setCapability(&quot;appActivity&quot;, &quot;com.myapp.home.splash.SplashActivity&quot;);\r\n    capabilities.setCapability(&quot;appPackage&quot;, &quot;com.myapp.app&quot;);\r\n    capabilities.setCapability(&quot;udid&quot;,&quot;e76dcaaqs&quot;);\r\n    capabilities.setCapability(&quot;avdLaunchTimeout&quot;, 300000);\r\n    capabilities.setCapability(&quot;useKeystore&quot;, false);\r\n    capabilities.setCapability(&quot;autoGrantPermissions&quot;,true);\r\n    capabilities.setCapability(&quot;automationName&quot;, &quot;UiAutomator2&quot;);\r\n    capabilities.setCapability(&quot;skipUnlock&quot;, true);\r\n    capabilities.setCapability(&quot;androidInstallTimeout&quot;, 180000);\r\n    capabilities.setCapability(&quot;adbExecTimeout&quot;, 60000);\r\n    capabilities.setCapability(&quot;ignoreHiddenApiPolicyError&quot;, true);\r\n    capabilities.setCapability(&quot;deviceName&quot;, &quot;Oppo Reno&quot;);\r\n    capabilities.setCapability(&quot;appWaitForLaunch&quot;, false);\r\n    AndroidDriver&lt;MobileElement&gt; driver = new AndroidDriver&lt;&gt;(new URL(&quot;http://localhost:4723/wd/hub&quot;), capabilities);\r\n    Activity activity = new Activity(&quot;com.myapp.app&quot;, &quot;com.myapp.instrumentation.persistence.preferences.PreferencesOverrideActivity&quot;);\r\n    String intentParam = &quot;--es \\&quot;overrideData\\&quot; &#39;[{\\&quot;pref_name\\&quot;: \\&quot;MyPref\\&quot;,\\&quot;overrides\\&quot;: &quot; +\r\n            &quot;[{\\&quot;key\\&quot;: \\&quot;mykey\\&quot;,\\&quot;value\\&quot;: \\&quot;&quot; + obj.getValue() + &quot;\\&quot;,\\&quot;type\\&quot;: \\&quot;string\\&quot;}],\\&quot;clear\\&quot;: false}]&#39;&quot;;\r\n    activity.setOptionalIntentArguments(intentParam);\r\n    //            activity.setStopApp(true);\r\n    try {\r\n        Thread.sleep(5000);\r\n    } catch (InterruptedException e) {\r\n        e.printStackTrace();\r\n    }\r\n    driver.startActivity(activity);\r\n    driver.launchApp();\r\n    \r\n    } catch (OperationFailedException | MalformedURLException e) {\r\n    e.printStackTrace();\r\n    }\r\n\r\nOutput log\r\n\r\n&gt; [W3C (146a80b7)] Calling AppiumDriver.startActivity() with args:\r\n&gt; [&quot;com.myapp.app&quot;,&quot;com.myapp.instrumentation.persistence.preferences.PreferencesOverrideActivity&quot;,&quot;com.myapp.app&quot;,&quot;com.myapp.home.splash.SplashActivity&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;--es\r\n&gt; \\&quot;overrideData\\&quot; &#39;[{\\&quot;pref_name\\&quot;: \\&quot;MyPreferences\\&quot;,\\&quot;overrides\\&quot;:\r\n&gt; [{\\&quot;key\\&quot;: \\&quot;myKey\\&quot;,\\&quot;value\\&quot;: \\&quot;myValue&quot;\\&quot;,\\&quot;type\\&quot;:\r\n&gt; \\&quot;string\\&quot;}],\\&quot;clear\\&quot;: false}]&#39; [AndroidDriver] Starting package\r\n&gt; &#39;com.myapp.app&#39; and activity\r\n&gt; &#39;com.myapp.instrumentation.persistence.preferences.PreferencesOverrideActivity&#39;\r\n&gt; [ADB] Running &#39;/Users/user1/Library/Android/sdk/platform-tools/adb -P\r\n&gt; 5037 -s e15adapa shell am start -W -n\r\n&gt; com.myapp.app/com.myapp.instrumentation.persistence.preferences.PreferencesOverrideActivity\r\n&gt; -S --es &#39;&quot;overrideData&quot;&#39; &quot;&#39;[{\\&quot;pref_name\\&quot;: \\&quot;MyPreferences\\&quot;,\\&quot;overrides\\&quot;: [{\\&quot;key\\&quot;: \\&quot;myKey\\&quot;,\\&quot;value\\&quot;:\r\n&gt; \\&quot;myValue\\&quot;,\\&quot;type\\&quot;: \\&quot;string\\&quot;}],\\&quot;clear\\&quot;: false}]&#39;&quot;&#39;\r\n&gt; [Instrumentation] INSTRUMENTATION_RESULT: shortMsg=Process crashed.\r\n&gt; [Instrumentation] INSTRUMENTATION_CODE: 0 [Instrumentation] The\r\n&gt; process has exited with code 0\r\n\r\n\r\nThe strange thing is the preference data is updated even if the process crashes.","title":"Not able to start activity using appium","body":"<p>I am trying to launch a transparent activity using appium android driver and also passing some optional intent arguments. It is always failing with 500 status and the command times out no matter how much I set abdExecTimeout capability value.</p>\n<p>Sample code:</p>\n<pre><code>DesiredCapabilities capabilities = new DesiredCapabilities();\ncapabilities.setCapability(&quot;automationName&quot;, &quot;UiAutomator2&quot;);\ncapabilities.setCapability(&quot;app&quot;, &quot;/path/to/app.apk&quot;);\ncapabilities.setCapability(&quot;appActivity&quot;, &quot;com.myapp.home.splash.SplashActivity&quot;);\ncapabilities.setCapability(&quot;appPackage&quot;, &quot;com.myapp.app&quot;);\ncapabilities.setCapability(&quot;udid&quot;,&quot;e76dcaaqs&quot;);\ncapabilities.setCapability(&quot;avdLaunchTimeout&quot;, 300000);\ncapabilities.setCapability(&quot;useKeystore&quot;, false);\ncapabilities.setCapability(&quot;autoGrantPermissions&quot;,true);\ncapabilities.setCapability(&quot;automationName&quot;, &quot;UiAutomator2&quot;);\ncapabilities.setCapability(&quot;skipUnlock&quot;, true);\ncapabilities.setCapability(&quot;androidInstallTimeout&quot;, 180000);\ncapabilities.setCapability(&quot;adbExecTimeout&quot;, 60000);\ncapabilities.setCapability(&quot;ignoreHiddenApiPolicyError&quot;, true);\ncapabilities.setCapability(&quot;deviceName&quot;, &quot;Oppo Reno&quot;);\ncapabilities.setCapability(&quot;appWaitForLaunch&quot;, false);\nAndroidDriver&lt;MobileElement&gt; driver = new AndroidDriver&lt;&gt;(new URL(&quot;http://localhost:4723/wd/hub&quot;), capabilities);\nActivity activity = new Activity(&quot;com.myapp.app&quot;, &quot;com.myapp.instrumentation.persistence.preferences.PreferencesOverrideActivity&quot;);\nString intentParam = &quot;--es \\&quot;overrideData\\&quot; '[{\\&quot;pref_name\\&quot;: \\&quot;MyPref\\&quot;,\\&quot;overrides\\&quot;: &quot; +\n        &quot;[{\\&quot;key\\&quot;: \\&quot;mykey\\&quot;,\\&quot;value\\&quot;: \\&quot;&quot; + obj.getValue() + &quot;\\&quot;,\\&quot;type\\&quot;: \\&quot;string\\&quot;}],\\&quot;clear\\&quot;: false}]'&quot;;\nactivity.setOptionalIntentArguments(intentParam);\n//            activity.setStopApp(true);\ntry {\n    Thread.sleep(5000);\n} catch (InterruptedException e) {\n    e.printStackTrace();\n}\ndriver.startActivity(activity);\ndriver.launchApp();\n\n} catch (OperationFailedException | MalformedURLException e) {\ne.printStackTrace();\n}\n</code></pre>\n<p>Output log</p>\n<blockquote>\n<p>[W3C (146a80b7)] Calling AppiumDriver.startActivity() with args:\n[&quot;com.myapp.app&quot;,&quot;com.myapp.instrumentation.persistence.preferences.PreferencesOverrideActivity&quot;,&quot;com.myapp.app&quot;,&quot;com.myapp.home.splash.SplashActivity&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;--es\n&quot;overrideData&quot; '[{&quot;pref_name&quot;: &quot;MyPreferences&quot;,&quot;overrides&quot;:\n[{&quot;key&quot;: &quot;myKey&quot;,&quot;value&quot;: &quot;myValue&quot;&quot;,&quot;type&quot;:\n&quot;string&quot;}],&quot;clear&quot;: false}]' [AndroidDriver] Starting package\n'com.myapp.app' and activity\n'com.myapp.instrumentation.persistence.preferences.PreferencesOverrideActivity'\n[ADB] Running '/Users/user1/Library/Android/sdk/platform-tools/adb -P\n5037 -s e15adapa shell am start -W -n\ncom.myapp.app/com.myapp.instrumentation.persistence.preferences.PreferencesOverrideActivity\n-S --es '&quot;overrideData&quot;' &quot;'[{&quot;pref_name&quot;: &quot;MyPreferences&quot;,&quot;overrides&quot;: [{&quot;key&quot;: &quot;myKey&quot;,&quot;value&quot;:\n&quot;myValue&quot;,&quot;type&quot;: &quot;string&quot;}],&quot;clear&quot;: false}]'&quot;'\n[Instrumentation] INSTRUMENTATION_RESULT: shortMsg=Process crashed.\n[Instrumentation] INSTRUMENTATION_CODE: 0 [Instrumentation] The\nprocess has exited with code 0</p>\n</blockquote>\n<p>The strange thing is the preference data is updated even if the process crashes.</p>\n"},{"tags":["java","android","kotlin","gradle"],"owner":{"account_id":12256183,"reputation":187,"user_id":8945157,"display_name":"PhantomThief"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654232707,"creation_date":1654232707,"question_id":72484939,"body_markdown":"I am getting a compilation error after updating the Gradle plugin to 7.2.1 in Android Studiio\r\n\r\nThe Error\r\n```\r\nAAPT: error: failed to deserialize resource table: configuration has invalid locale &#39;be-&#39;.\r\n```\r\n\r\nBefore (worked fine)\r\n```\r\nclasspath &#39;com.android.tools.build:gradle:4.0.1&#39;\r\nclasspath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.5.10&quot;\r\n```\r\n\r\nNow (compilation error)\r\n```\r\nclasspath &#39;com.android.tools.build:gradle:7.2.1&#39;\r\nclasspath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.6.10&quot;\r\n```","title":"AAPT: error: failed to deserialize resource table: configuration has invalid locale &#39;be-&#39; after updating AGP","body":"<p>I am getting a compilation error after updating the Gradle plugin to 7.2.1 in Android Studiio</p>\n<p>The Error</p>\n<pre><code>AAPT: error: failed to deserialize resource table: configuration has invalid locale 'be-'.\n</code></pre>\n<p>Before (worked fine)</p>\n<pre><code>classpath 'com.android.tools.build:gradle:4.0.1'\nclasspath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.5.10&quot;\n</code></pre>\n<p>Now (compilation error)</p>\n<pre><code>classpath 'com.android.tools.build:gradle:7.2.1'\nclasspath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.6.10&quot;\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1654167139,"post_id":72474410,"comment_id":128028976,"body_markdown":"So you want to get the first and the last element, in a single call? Or in separate calls?","body":"So you want to get the first and the last element, in a single call? Or in separate calls?"},{"owner":{"display_name":"user18105926"},"score":0,"creation_date":1654167750,"post_id":72474410,"comment_id":128029188,"body_markdown":"seprate calls when the respected onClick","body":"seprate calls when the respected onClick"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1654168187,"post_id":72474410,"comment_id":128029347,"body_markdown":"Is your `Quotes` a direct child of your root?","body":"Is your <code>Quotes</code> a direct child of your root?"},{"owner":{"display_name":"user18105926"},"score":0,"creation_date":1654168287,"post_id":72474410,"comment_id":128029380,"body_markdown":"yes Quotes is the direct child of root","body":"yes Quotes is the direct child of root"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1654168620,"post_id":72474410,"comment_id":128029502,"body_markdown":"Ok, I&#39;&#39; write you an answer right away.","body":"Ok, I&#39;&#39; write you an answer right away."}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654232432,"creation_date":1654169064,"answer_id":72475470,"question_id":72474410,"body_markdown":"According to your last comment, since you need to have separate calls, for example, to get the **first** question, please use the following lines of code:\r\n\r\n    private void firstQuote() {\r\n        DatabaseReference db = FirebaseDatabase.getInstance().getReference();\r\n        DatabaseReference quotesRef = db.child(&quot;Quotes&quot;);\r\n        Query queryForFirstElement = quotesRef.orderByKey().limitToFirst(1); //&#128072;\r\n        queryForFirstElement.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n                if (task.isSuccessful()) {\r\n                    for (DataSnapshot qs : task.getResult().getChildren()) {\r\n                        String title = qs.child(&quot;title&quot;).getValue(String.class);\r\n                        Log.d(&quot;TAG&quot;, title);\r\n                        quotes_list.add(title);\r\n                        position = randomQ.nextInt(quotes_list.size());\r\n                    }\r\n                    quotesTxt.setText(quotes_list.get(position));\r\n                    countTxt.setText(position + &quot;/&quot; + quotes_list.size());\r\n                } else {\r\n                    Log.d(&quot;TAG&quot;, task.getException().getMessage()); //Never ignore potential errors!\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\nThe result in the logcat will be:\r\n\r\n    The unexamined life is not worth living.\r\n\r\nTo get the **last** element, then simply use the exact code as above, but instead of using `.limitToFirst(1)`, you have to use `.limitToLast(1)`:\r\n\r\n    private void latestQuote() {\r\n        DatabaseReference db = FirebaseDatabase.getInstance().getReference();\r\n        DatabaseReference quotesRef = db.child(&quot;Quotes&quot;);\r\n        Query queryForFirstElement = quotesRef.orderByKey().limitToLast(1); //&#128072;\r\n        queryForFirstElement.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n                if (task.isSuccessful()) {\r\n                    for (DataSnapshot qs : task.getResult().getChildren()) {\r\n                        String title = qs.child(&quot;title&quot;).getValue(String.class);\r\n                        Log.d(&quot;TAG&quot;, title);\r\n                        quotes_list.add(title);\r\n                        position = randomQ.nextInt(quotes_list.size());\r\n                    }\r\n                    quotesTxt.setText(quotes_list.get(position));\r\n                    countTxt.setText(position + &quot;/&quot; + quotes_list.size());\r\n                } else {\r\n                    Log.d(&quot;TAG&quot;, task.getException().getMessage()); //Never ignore potential errors!\r\n                }\r\n            }\r\n        });\r\n    }","title":"How to get the first and the last data from firebase on button click","body":"<p>According to your last comment, since you need to have separate calls, for example, to get the <strong>first</strong> question, please use the following lines of code:</p>\n<pre><code>private void firstQuote() {\n    DatabaseReference db = FirebaseDatabase.getInstance().getReference();\n    DatabaseReference quotesRef = db.child(&quot;Quotes&quot;);\n    Query queryForFirstElement = quotesRef.orderByKey().limitToFirst(1); //\n    queryForFirstElement.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n            if (task.isSuccessful()) {\n                for (DataSnapshot qs : task.getResult().getChildren()) {\n                    String title = qs.child(&quot;title&quot;).getValue(String.class);\n                    Log.d(&quot;TAG&quot;, title);\n                    quotes_list.add(title);\n                    position = randomQ.nextInt(quotes_list.size());\n                }\n                quotesTxt.setText(quotes_list.get(position));\n                countTxt.setText(position + &quot;/&quot; + quotes_list.size());\n            } else {\n                Log.d(&quot;TAG&quot;, task.getException().getMessage()); //Never ignore potential errors!\n            }\n        }\n    });\n}\n</code></pre>\n<p>The result in the logcat will be:</p>\n<pre><code>The unexamined life is not worth living.\n</code></pre>\n<p>To get the <strong>last</strong> element, then simply use the exact code as above, but instead of using <code>.limitToFirst(1)</code>, you have to use <code>.limitToLast(1)</code>:</p>\n<pre><code>private void latestQuote() {\n    DatabaseReference db = FirebaseDatabase.getInstance().getReference();\n    DatabaseReference quotesRef = db.child(&quot;Quotes&quot;);\n    Query queryForFirstElement = quotesRef.orderByKey().limitToLast(1); //\n    queryForFirstElement.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n            if (task.isSuccessful()) {\n                for (DataSnapshot qs : task.getResult().getChildren()) {\n                    String title = qs.child(&quot;title&quot;).getValue(String.class);\n                    Log.d(&quot;TAG&quot;, title);\n                    quotes_list.add(title);\n                    position = randomQ.nextInt(quotes_list.size());\n                }\n                quotesTxt.setText(quotes_list.get(position));\n                countTxt.setText(position + &quot;/&quot; + quotes_list.size());\n            } else {\n                Log.d(&quot;TAG&quot;, task.getException().getMessage()); //Never ignore potential errors!\n            }\n        }\n    });\n}\n</code></pre>\n"}],"owner":{"display_name":"user18105926"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72475470,"answer_count":1,"score":0,"last_activity_date":1654232432,"creation_date":1654164356,"question_id":72474410,"body_markdown":"I have two menu option &#39;latest &amp; first&#39; as the name suggest when I click the latest I want to get the latest data from firebase and if I click first I want to get the first data \r\n\r\nhere is a screenshot of how the database looks \r\n[![enter image description here][1]][1]\r\n\r\nso when I say first I want to get the first data in the list (q1) \r\n\r\nhere is the method by which I want to implement this \r\n\r\n     @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            getMenuInflater().inflate(R.menu.menue, menu);\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean onOptionsItemSelected(MenuItem item) {\r\n            // Handle item selection\r\n            switch (item.getItemId()) {\r\n                case R.id.latestQuote:\r\n                    latestQuote();\r\n                    return true;\r\n                case R.id.firstQuote:\r\n                    firstQuote();\r\n                    return true;\r\n                default:\r\n                    return super.onOptionsItemSelected(item);\r\n            }\r\n        }\r\n    \r\n        private void latestQuote() {\r\n        }\r\n    \r\n        private void firstQuote() {\r\n            \r\n        }\r\n\r\nhere is the database refrence \r\n\r\n    databaseReference = FirebaseDatabase.getInstance().getReference(&quot;Quotes&quot;);\r\n            model = new Model();\r\n            quotes_list = new ArrayList&lt;&gt;();\r\n            databaseReference.addValueEventListener(new ValueEventListener() {\r\n                @SuppressLint(&quot;SetTextI18n&quot;)\r\n                @Override\r\n                public void onDataChange(@NonNull @org.jetbrains.annotations.NotNull DataSnapshot snapshot) {\r\n                    for (DataSnapshot dataSnapshot1 : snapshot.getChildren()) {\r\n                        model = dataSnapshot1.getValue(Model.class);\r\n                        if (model != null) {\r\n                            quotes_list.add(model.getTitle());\r\n                            position = randomQ.nextInt(quotes_list.size());\r\n    \r\n                        }\r\n                    }\r\n                    quotesTxt.setText(quotes_list.get(position));\r\n                    countTxt.setText(position + &quot;/&quot; + quotes_list.size());\r\n    \r\n                }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Vs7s4.png","title":"How to get the first and the last data from firebase on button click","body":"<p>I have two menu option 'latest &amp; first' as the name suggest when I click the latest I want to get the latest data from firebase and if I click first I want to get the first data</p>\n<p>here is a screenshot of how the database looks\n<a href=\"https://i.stack.imgur.com/Vs7s4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vs7s4.png\" alt=\"enter image description here\" /></a></p>\n<p>so when I say first I want to get the first data in the list (q1)</p>\n<p>here is the method by which I want to implement this</p>\n<pre><code> @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.menue, menu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        // Handle item selection\n        switch (item.getItemId()) {\n            case R.id.latestQuote:\n                latestQuote();\n                return true;\n            case R.id.firstQuote:\n                firstQuote();\n                return true;\n            default:\n                return super.onOptionsItemSelected(item);\n        }\n    }\n\n    private void latestQuote() {\n    }\n\n    private void firstQuote() {\n        \n    }\n</code></pre>\n<p>here is the database refrence</p>\n<pre><code>databaseReference = FirebaseDatabase.getInstance().getReference(&quot;Quotes&quot;);\n        model = new Model();\n        quotes_list = new ArrayList&lt;&gt;();\n        databaseReference.addValueEventListener(new ValueEventListener() {\n            @SuppressLint(&quot;SetTextI18n&quot;)\n            @Override\n            public void onDataChange(@NonNull @org.jetbrains.annotations.NotNull DataSnapshot snapshot) {\n                for (DataSnapshot dataSnapshot1 : snapshot.getChildren()) {\n                    model = dataSnapshot1.getValue(Model.class);\n                    if (model != null) {\n                        quotes_list.add(model.getTitle());\n                        position = randomQ.nextInt(quotes_list.size());\n\n                    }\n                }\n                quotesTxt.setText(quotes_list.get(position));\n                countTxt.setText(position + &quot;/&quot; + quotes_list.size());\n\n            }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":4297204,"reputation":2499,"user_id":9926179,"display_name":"b.s"},"score":0,"creation_date":1654204670,"post_id":72481816,"comment_id":128042338,"body_markdown":"Could you add Tweet entity &amp; Tweet DTO? Also snapshots from the database highlighting the data in question.","body":"Could you add Tweet entity &amp; Tweet DTO? Also snapshots from the database highlighting the data in question."},{"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"score":0,"creation_date":1654206090,"post_id":72481816,"comment_id":128042630,"body_markdown":"Can you add code which you use to save user object to database? Can you verify that email and date are actually saved to database?","body":"Can you add code which you use to save user object to database? Can you verify that email and date are actually saved to database?"}],"answers":[{"tags":[],"owner":{"account_id":25457325,"reputation":1,"user_id":19257751,"display_name":"Mihir Sawant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654230705,"creation_date":1654230705,"answer_id":72484748,"question_id":72481816,"body_markdown":"I think that may be for **creationDate()** field you can try to use Java&#39;s **Date** data-type.\r\nAnd also instead of *@Getter* and *@Setter* try **@Data** Annotation of Lombok,\r\nFor email field may be try only to put the *@Email* Annotation.\r\nAnd check your Table names with the Entity.","title":"Spring not fetching certain fields from mysql database","body":"<p>I think that may be for <strong>creationDate()</strong> field you can try to use Java's <strong>Date</strong> data-type.\nAnd also instead of <em>@Getter</em> and <em>@Setter</em> try <strong>@Data</strong> Annotation of Lombok,\nFor email field may be try only to put the <em>@Email</em> Annotation.\nAnd check your Table names with the Entity.</p>\n"},{"tags":[],"owner":{"account_id":25461767,"reputation":1,"user_id":19261411,"display_name":"arpit jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654232309,"creation_date":1654232192,"answer_id":72484887,"question_id":72481816,"body_markdown":"Use `java.util.date` for `creationDate` instead of `Instant`.\r\nFor email please verify column name.\r\nAlso add `@Table` annotation at class level with Db table name.\r\nEx:\r\n```\r\n@Table(&quot;name of table in database&quot;)\r\n```\r\nThis is required only if you have different table name in database and tables names are case sensitive too.\r\n","title":"Spring not fetching certain fields from mysql database","body":"<p>Use <code>java.util.date</code> for <code>creationDate</code> instead of <code>Instant</code>.\nFor email please verify column name.\nAlso add <code>@Table</code> annotation at class level with Db table name.\nEx:</p>\n<pre><code>@Table(&quot;name of table in database&quot;)\n</code></pre>\n<p>This is required only if you have different table name in database and tables names are case sensitive too.</p>\n"}],"owner":{"account_id":23604382,"reputation":225,"user_id":17640327,"display_name":"sullyh7"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":410,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1654232309,"creation_date":1654200567,"question_id":72481816,"body_markdown":"I am using Spring data JPA to fetch Users from my database, then I map them to a DTO before returning to my controller.\r\nHowever, the JPA repository is not fetching the date field and the email field.\r\n\r\nI know my Mapper is not responsible for this as I logged the creation date of the original fetched entity, and it comes as null.\r\n\r\nmy getUser method:\r\n\r\n    @Transactional(readOnly = true)\r\n    public UserDto getUser(Long id) {\r\n        User user = userRepository.findById(id).orElseThrow(\r\n                () -&gt; new TweeterException(&quot;No user with id &quot; + id)\r\n        );\r\n        // For debugging purposes\r\n        log.info(&quot;User creation date: &quot; + user.getCreationDate());\r\n\r\n        UserDto userDto = UserMapper.mapToDto(user);\r\n        // For debugging purposes\r\n        log.info(&quot;User dto creation date &quot; + userDto.getCreationDate());\r\n        return userDto;\r\n    }\r\n\r\nMy User entity:\r\n\r\n    @Entity\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    public class User {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;)\r\n        private Long id;\r\n    \r\n        @Column(unique = true, name = &quot;username&quot;)\r\n        @NotBlank\r\n        private String username;\r\n    \r\n        @Column(name= &quot;password&quot;)\r\n        @NotBlank\r\n        private String password;\r\n    \r\n        @Column(name=&quot;email&quot;)\r\n        @Email\r\n        private String email;\r\n    \r\n        @Column(name=&quot;profile_image_url&quot;)\r\n        @NotBlank\r\n        private String profileImageUrl;\r\n    \r\n        @Lob\r\n        @Column(name=&quot;biography&quot;)\r\n        @NotBlank\r\n        private String biography;\r\n    \r\n        @Column(name=&quot;creation_date&quot;)\r\n        private Instant creationDate;\r\n    \r\n        @Column(name = &quot;enabled&quot;)\r\n        private boolean enabled;\r\n    \r\n        @ElementCollection\r\n        @Column(name=&quot;following&quot;)\r\n        private Set&lt;Integer&gt; following = new HashSet&lt;&gt;();\r\n    \r\n        @ElementCollection\r\n        @Column(name=&quot;followers&quot;)\r\n        private Set&lt;Integer&gt; followers = new HashSet&lt;&gt;();\r\n    \r\n    \r\n        public void addFollower(Integer follower) {\r\n            this.followers.add(follower);\r\n        }\r\n    \r\n        public void removeFollower(Integer follower) {\r\n            this.followers.remove(follower);\r\n        }\r\n    \r\n        public void addFollowing(Integer following) {\r\n            this.following.add(following);\r\n        }\r\n    \r\n        public void removeFollowing(Integer following) {\r\n            this.following.remove(following);\r\n        }\r\n\r\nMy UserDto:\r\n\r\n    @Data\r\n    @Builder\r\n    public class UserDto {\r\n        private Long id;\r\n        private String username;\r\n        private String email;\r\n        private String biography;\r\n        private String profileImageUrl;\r\n        private Instant creationDate;\r\n        private Long followerCount;\r\n    }\r\n\r\nI also have a Tweet entity and TweetDto, which works perfectly fine with the dates, so I&#39;m not quite sure what is going on","title":"Spring not fetching certain fields from mysql database","body":"<p>I am using Spring data JPA to fetch Users from my database, then I map them to a DTO before returning to my controller.\nHowever, the JPA repository is not fetching the date field and the email field.</p>\n<p>I know my Mapper is not responsible for this as I logged the creation date of the original fetched entity, and it comes as null.</p>\n<p>my getUser method:</p>\n<pre><code>@Transactional(readOnly = true)\npublic UserDto getUser(Long id) {\n    User user = userRepository.findById(id).orElseThrow(\n            () -&gt; new TweeterException(&quot;No user with id &quot; + id)\n    );\n    // For debugging purposes\n    log.info(&quot;User creation date: &quot; + user.getCreationDate());\n\n    UserDto userDto = UserMapper.mapToDto(user);\n    // For debugging purposes\n    log.info(&quot;User dto creation date &quot; + userDto.getCreationDate());\n    return userDto;\n}\n</code></pre>\n<p>My User entity:</p>\n<pre><code>@Entity\n@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @Column(unique = true, name = &quot;username&quot;)\n    @NotBlank\n    private String username;\n\n    @Column(name= &quot;password&quot;)\n    @NotBlank\n    private String password;\n\n    @Column(name=&quot;email&quot;)\n    @Email\n    private String email;\n\n    @Column(name=&quot;profile_image_url&quot;)\n    @NotBlank\n    private String profileImageUrl;\n\n    @Lob\n    @Column(name=&quot;biography&quot;)\n    @NotBlank\n    private String biography;\n\n    @Column(name=&quot;creation_date&quot;)\n    private Instant creationDate;\n\n    @Column(name = &quot;enabled&quot;)\n    private boolean enabled;\n\n    @ElementCollection\n    @Column(name=&quot;following&quot;)\n    private Set&lt;Integer&gt; following = new HashSet&lt;&gt;();\n\n    @ElementCollection\n    @Column(name=&quot;followers&quot;)\n    private Set&lt;Integer&gt; followers = new HashSet&lt;&gt;();\n\n\n    public void addFollower(Integer follower) {\n        this.followers.add(follower);\n    }\n\n    public void removeFollower(Integer follower) {\n        this.followers.remove(follower);\n    }\n\n    public void addFollowing(Integer following) {\n        this.following.add(following);\n    }\n\n    public void removeFollowing(Integer following) {\n        this.following.remove(following);\n    }\n</code></pre>\n<p>My UserDto:</p>\n<pre><code>@Data\n@Builder\npublic class UserDto {\n    private Long id;\n    private String username;\n    private String email;\n    private String biography;\n    private String profileImageUrl;\n    private Instant creationDate;\n    private Long followerCount;\n}\n</code></pre>\n<p>I also have a Tweet entity and TweetDto, which works perfectly fine with the dates, so I'm not quite sure what is going on</p>\n"},{"tags":["java","jdbc","resultset"],"comments":[{"owner":{"account_id":30288,"reputation":1122,"user_id":82517,"accept_rate":100,"display_name":"Moyshe"},"score":0,"creation_date":1319530840,"post_id":7886462,"comment_id":9624983,"body_markdown":"Can&#39;t you change sql statement to `SELECT COUNT(*) ...`?","body":"Can&#39;t you change sql statement to <code>SELECT COUNT(*) ...</code>?"},{"owner":{"account_id":875002,"reputation":6703,"user_id":924820,"display_name":"BigMike"},"score":2,"creation_date":1319530850,"post_id":7886462,"comment_id":9624988,"body_markdown":"Why you just don&#39;t perform a &quot;select count(*)&quot; before invoking the query filling the resultset ? However ForwardOnly RS depends on how you open connection (there&#39;s some params to pass). Look at your jdbc driver documentation for details.","body":"Why you just don&#39;t perform a &quot;select count(*)&quot; before invoking the query filling the resultset ? However ForwardOnly RS depends on how you open connection (there&#39;s some params to pass). Look at your jdbc driver documentation for details."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1319530982,"post_id":7886462,"comment_id":9625026,"body_markdown":"(OT; you might want to consider using an actual logging library that will take care of things like outputting the method name etc.)","body":"(OT; you might want to consider using an actual logging library that will take care of things like outputting the method name etc.)"}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":74,"is_accepted":true,"score":74,"last_activity_date":1538814339,"creation_date":1319530838,"answer_id":7886509,"question_id":7886462,"body_markdown":"If you have access to the prepared statement that results in this resultset, you can use\r\n\r\n    connection.prepareStatement(sql, \r\n      ResultSet.TYPE_SCROLL_INSENSITIVE, \r\n      ResultSet.CONCUR_READ_ONLY);\r\n\r\nThis prepares your statement in a way that you can rewind the cursor. This is also documented in the [ResultSet Javadoc](http://docs.oracle.com/javase/6/docs/api/java/sql/ResultSet.html)\r\n\r\nIn general, however, forwarding and rewinding cursors may be quite inefficient for large result sets. Another option in SQL Server would be to calculate the total number of rows directly in your SQL statement:\r\n\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n    SELECT my_table.*, count(*) over () total_rows\r\n    FROM my_table\r\n    WHERE ...","title":"How to get row count using ResultSet in Java?","body":"<p>If you have access to the prepared statement that results in this resultset, you can use</p>\n\n<pre><code>connection.prepareStatement(sql, \n  ResultSet.TYPE_SCROLL_INSENSITIVE, \n  ResultSet.CONCUR_READ_ONLY);\n</code></pre>\n\n<p>This prepares your statement in a way that you can rewind the cursor. This is also documented in the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/sql/ResultSet.html\" rel=\"noreferrer\">ResultSet Javadoc</a></p>\n\n<p>In general, however, forwarding and rewinding cursors may be quite inefficient for large result sets. Another option in SQL Server would be to calculate the total number of rows directly in your SQL statement:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT my_table.*, count(*) over () total_rows\nFROM my_table\nWHERE ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":247036,"reputation":10201,"user_id":521505,"display_name":"socha23"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1319530847,"creation_date":1319530847,"answer_id":7886511,"question_id":7886462,"body_markdown":"Your function will return the size of a ResultSet, but its cursor will be set after last record, so without rewinding it by calling beforeFirst(), first() or previous() you won&#39;t be able to read its rows, and rewinding methods won&#39;t work with forward only ResultSet (you&#39;ll get the same exception you&#39;re getting in your second code fragment).","title":"How to get row count using ResultSet in Java?","body":"<p>Your function will return the size of a ResultSet, but its cursor will be set after last record, so without rewinding it by calling beforeFirst(), first() or previous() you won't be able to read its rows, and rewinding methods won't work with forward only ResultSet (you'll get the same exception you're getting in your second code fragment).</p>\n"},{"tags":[],"owner":{"account_id":341781,"reputation":20847,"user_id":672586,"display_name":"gkamal"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1319530952,"creation_date":1319530952,"answer_id":7886528,"question_id":7886462,"body_markdown":"Most drivers support forward only resultset - so method like last, beforeFirst etc are not supported.\r\n\r\nThe first approach is suitable if you are also getting the data in the same loop - otherwise the resultSet has already been iterated and can not be used again.\r\n\r\nIn most cases the requirement is to get the number of rows a query would return without fetching the rows. Iterating through the result set to find the row count is almost same as processing the data.  It is better to do another count(*) query instead.  ","title":"How to get row count using ResultSet in Java?","body":"<p>Most drivers support forward only resultset - so method like last, beforeFirst etc are not supported.</p>\n\n<p>The first approach is suitable if you are also getting the data in the same loop - otherwise the resultSet has already been iterated and can not be used again.</p>\n\n<p>In most cases the requirement is to get the number of rows a query would return without fetching the rows. Iterating through the result set to find the row count is almost same as processing the data.  It is better to do another count(*) query instead.  </p>\n"},{"tags":[],"owner":{"account_id":1212588,"reputation":33,"user_id":1180862,"display_name":"igor"},"down_vote_count":11,"up_vote_count":5,"is_accepted":false,"score":-6,"last_activity_date":1328029142,"creation_date":1328029142,"answer_id":9083625,"question_id":7886462,"body_markdown":"From http://docs.oracle.com/javase/1.4.2/docs/api/java/sql/ResultSetMetaData.html\r\n\r\n     ResultSet rs = stmt.executeQuery(&quot;SELECT a, b, c FROM TABLE2&quot;);\r\n     ResultSetMetaData rsmd = rs.getMetaData();\r\n     int numberOfColumns = rsmd.getColumnCount();\r\n\r\nA ResultSet contains metadata which gives the number of rows.","title":"How to get row count using ResultSet in Java?","body":"<p>From <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/sql/ResultSetMetaData.html\" rel=\"nofollow\">http://docs.oracle.com/javase/1.4.2/docs/api/java/sql/ResultSetMetaData.html</a></p>\n\n<pre><code> ResultSet rs = stmt.executeQuery(\"SELECT a, b, c FROM TABLE2\");\n ResultSetMetaData rsmd = rs.getMetaData();\n int numberOfColumns = rsmd.getColumnCount();\n</code></pre>\n\n<p>A ResultSet contains metadata which gives the number of rows.</p>\n"},{"tags":[],"owner":{"account_id":967990,"reputation":8481,"user_id":991065,"display_name":"Fathah Rehman P"},"down_vote_count":1,"up_vote_count":41,"is_accepted":false,"score":40,"last_activity_date":1654232236,"creation_date":1340688862,"answer_id":11201274,"question_id":7886462,"body_markdown":"your sql Statement creating code may be like \r\n\r\n    statement = connection.createStatement();\r\n\r\nTo solve `&quot;com.microsoft.sqlserver.jdbc.SQLServerException: The requested operation is not supported on forward only result sets&quot;` exception, change above code with \r\n\r\n    statement = connection.createStatement(\r\n        ResultSet.TYPE_SCROLL_INSENSITIVE, \r\n        ResultSet.CONCUR_READ_ONLY);\r\n\r\n\r\nAfter above change you can use\r\n\r\n    int size = 0;\r\n    try {\r\n        resultSet.last();\r\n        size = resultSet.getRow();\r\n        resultSet.beforeFirst();\r\n    }\r\n    catch(Exception ex) {\r\n        return 0;\r\n    }\r\n    return size;\r\n\r\nto get row count\r\n","title":"How to get row count using ResultSet in Java?","body":"<p>your sql Statement creating code may be like</p>\n<pre><code>statement = connection.createStatement();\n</code></pre>\n<p>To solve <code>&quot;com.microsoft.sqlserver.jdbc.SQLServerException: The requested operation is not supported on forward only result sets&quot;</code> exception, change above code with</p>\n<pre><code>statement = connection.createStatement(\n    ResultSet.TYPE_SCROLL_INSENSITIVE, \n    ResultSet.CONCUR_READ_ONLY);\n</code></pre>\n<p>After above change you can use</p>\n<pre><code>int size = 0;\ntry {\n    resultSet.last();\n    size = resultSet.getRow();\n    resultSet.beforeFirst();\n}\ncatch(Exception ex) {\n    return 0;\n}\nreturn size;\n</code></pre>\n<p>to get row count</p>\n"},{"tags":[],"owner":{"account_id":1352610,"reputation":1933,"user_id":1291778,"accept_rate":50,"display_name":"aeskreis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1362763657,"creation_date":1362763323,"answer_id":15299733,"question_id":7886462,"body_markdown":"Others have already answered how to solve your problem, so I won&#39;t repeat what has already been said, but I will says this: you should probably figure out a way to solve your problems without knowing the result set count prior to reading through the results. \r\n\r\nThere are very few circumstances where the row count is actually needed prior to reading the result set, especially in a language like Java.  The only case I think of where a row count would be necessary is when the row count is the only data you need(in which case a count query would be superior).  Otherwise, you are better off using a wrapper object to represent your table data, and storing these objects in a dynamic container such as an ArrayList.  Then, once the result set has been iterated over, you can get the array list count.  For every solution that requires knowing the row count before reading the result set, you can probably think of a solution that does so without knowing the row count before reading without much effort.  By thinking of solutions that bypass the need to know the row count before processing, you save the ResultSet the trouble of scrolling to the end of the result set, then back to the beginning (which can be a VERY expensive operation for large result sets).  \r\n\r\nNow of course I&#39;m not saying there are never situations where you may need the row count before reading a result set.  I&#39;m just saying that in most circumstances, when people think they need the result set count prior to reading it, they probably don&#39;t, and it&#39;s worth taking 5 minutes to think about whether there is another way.\r\n\r\nJust wanted to offer my 2 cents on the topic.","title":"How to get row count using ResultSet in Java?","body":"<p>Others have already answered how to solve your problem, so I won't repeat what has already been said, but I will says this: you should probably figure out a way to solve your problems without knowing the result set count prior to reading through the results. </p>\n\n<p>There are very few circumstances where the row count is actually needed prior to reading the result set, especially in a language like Java.  The only case I think of where a row count would be necessary is when the row count is the only data you need(in which case a count query would be superior).  Otherwise, you are better off using a wrapper object to represent your table data, and storing these objects in a dynamic container such as an ArrayList.  Then, once the result set has been iterated over, you can get the array list count.  For every solution that requires knowing the row count before reading the result set, you can probably think of a solution that does so without knowing the row count before reading without much effort.  By thinking of solutions that bypass the need to know the row count before processing, you save the ResultSet the trouble of scrolling to the end of the result set, then back to the beginning (which can be a VERY expensive operation for large result sets).  </p>\n\n<p>Now of course I'm not saying there are never situations where you may need the row count before reading a result set.  I'm just saying that in most circumstances, when people think they need the result set count prior to reading it, they probably don't, and it's worth taking 5 minutes to think about whether there is another way.</p>\n\n<p>Just wanted to offer my 2 cents on the topic.</p>\n"},{"tags":[],"owner":{"account_id":2809689,"reputation":81,"user_id":2416168,"display_name":"The01Guy"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1369371280,"creation_date":1369371280,"answer_id":16727881,"question_id":7886462,"body_markdown":"I just made a getter method.\r\n\r\n    public int getNumberRows(){\r\n        try{\r\n           statement = connection.creatStatement();\r\n           resultset = statement.executeQuery(&quot;your query here&quot;);\r\n           if(resultset.last()){\r\n              return resultset.getRow();\r\n           } else {\r\n               return 0; //just cus I like to always do some kinda else statement.\r\n           }\r\n        } catch (Exception e){\r\n           System.out.println(&quot;Error getting row count&quot;);\r\n           e.printStackTrace();\r\n        }\r\n        return 0;\r\n    }","title":"How to get row count using ResultSet in Java?","body":"<p>I just made a getter method.</p>\n\n<pre><code>public int getNumberRows(){\n    try{\n       statement = connection.creatStatement();\n       resultset = statement.executeQuery(\"your query here\");\n       if(resultset.last()){\n          return resultset.getRow();\n       } else {\n           return 0; //just cus I like to always do some kinda else statement.\n       }\n    } catch (Exception e){\n       System.out.println(\"Error getting row count\");\n       e.printStackTrace();\n    }\n    return 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":533160,"reputation":2822,"user_id":903783,"display_name":"George Birbilis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1374753582,"creation_date":1374662795,"answer_id":17831737,"question_id":7886462,"body_markdown":"Here&#39;s some code that avoids getting the count to instantiate an array, but uses an ArrayList instead and just before returning converts the ArrayList to the needed array type.\r\n\r\nNote that Supervisor class here implements ISupervisor interface, but in Java you can&#39;t cast from object[] (that ArrayList&#39;s plain toArray() method returns) to ISupervisor[] (as I think you are able to do in C#), so you have to iterate through all list items and populate the result array.\r\n\r\n    /**\r\n     * Get Supervisors for given program id\r\n     * @param connection\r\n     * @param programId\r\n     * @return ISupervisor[]\r\n     * @throws SQLException\r\n     */\r\n    public static ISupervisor[] getSupervisors(Connection connection, String programId)\r\n      throws SQLException\r\n    {\r\n      ArrayList supervisors = new ArrayList();\r\n    \r\n      PreparedStatement statement = connection.prepareStatement(SQL.GET_SUPERVISORS);\r\n      try {\r\n        statement.setString(SQL.GET_SUPERVISORS_PARAM_PROGRAMID, programId);\r\n        ResultSet resultSet = statement.executeQuery();  \r\n  \r\n        if (resultSet != null) {\r\n          while (resultSet.next()) {\r\n            Supervisor s = new Supervisor();\r\n            s.setId(resultSet.getInt(SQL.GET_SUPERVISORS_RESULT_ID));\r\n            s.setFirstName(resultSet.getString(SQL.GET_SUPERVISORS_RESULT_FIRSTNAME));\r\n            s.setLastName(resultSet.getString(SQL.GET_SUPERVISORS_RESULT_LASTNAME));\r\n            s.setAssignmentCount(resultSet.getInt(SQL.GET_SUPERVISORS_RESULT_ASSIGNMENT_COUNT));\r\n            s.setAssignment2Count(resultSet.getInt(SQL.GET_SUPERVISORS_RESULT_ASSIGNMENT2_COUNT));\r\n            supervisors.add(s);\r\n          }\r\n          resultSet.close();\r\n        }\r\n      } finally {\r\n        statement.close();\r\n      }\r\n    \r\n      int count = supervisors.size();\r\n      ISupervisor[] result = new ISupervisor[count];\r\n      for (int i=0; i&lt;count; i++)\r\n        result[i] = (ISupervisor)supervisors.get(i);\r\n      return result;\r\n    }\r\n","title":"How to get row count using ResultSet in Java?","body":"<p>Here's some code that avoids getting the count to instantiate an array, but uses an ArrayList instead and just before returning converts the ArrayList to the needed array type.</p>\n\n<p>Note that Supervisor class here implements ISupervisor interface, but in Java you can't cast from object[] (that ArrayList's plain toArray() method returns) to ISupervisor[] (as I think you are able to do in C#), so you have to iterate through all list items and populate the result array.</p>\n\n<pre><code>/**\n * Get Supervisors for given program id\n * @param connection\n * @param programId\n * @return ISupervisor[]\n * @throws SQLException\n */\npublic static ISupervisor[] getSupervisors(Connection connection, String programId)\n  throws SQLException\n{\n  ArrayList supervisors = new ArrayList();\n\n  PreparedStatement statement = connection.prepareStatement(SQL.GET_SUPERVISORS);\n  try {\n    statement.setString(SQL.GET_SUPERVISORS_PARAM_PROGRAMID, programId);\n    ResultSet resultSet = statement.executeQuery();  \n\n    if (resultSet != null) {\n      while (resultSet.next()) {\n        Supervisor s = new Supervisor();\n        s.setId(resultSet.getInt(SQL.GET_SUPERVISORS_RESULT_ID));\n        s.setFirstName(resultSet.getString(SQL.GET_SUPERVISORS_RESULT_FIRSTNAME));\n        s.setLastName(resultSet.getString(SQL.GET_SUPERVISORS_RESULT_LASTNAME));\n        s.setAssignmentCount(resultSet.getInt(SQL.GET_SUPERVISORS_RESULT_ASSIGNMENT_COUNT));\n        s.setAssignment2Count(resultSet.getInt(SQL.GET_SUPERVISORS_RESULT_ASSIGNMENT2_COUNT));\n        supervisors.add(s);\n      }\n      resultSet.close();\n    }\n  } finally {\n    statement.close();\n  }\n\n  int count = supervisors.size();\n  ISupervisor[] result = new ISupervisor[count];\n  for (int i=0; i&lt;count; i++)\n    result[i] = (ISupervisor)supervisors.get(i);\n  return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1120904,"reputation":392,"user_id":1109231,"accept_rate":40,"display_name":"anand"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1654232285,"creation_date":1389516342,"answer_id":21072852,"question_id":7886462,"body_markdown":"If you have table and are storing the ID as primary and auto increment then this will work \r\n\r\n\r\nExample code to get the total row count &lt;http://www.java2s.com/Tutorial/Java/0340__Database/GettheNumberofRowsinaDatabaseTable.htm&gt;\r\n\r\nBelow is code\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.ResultSet;\r\n    import java.sql.ResultSetMetaData;\r\n    import java.sql.Statement;\r\n    \r\n    public class Main {\r\n      public static void main(String[] args) throws Exception {\r\n        Connection conn = getConnection();\r\n        Statement st = conn.createStatement(ResultSet.TYPE_SCROLL_INSENSITIVE,\r\n            ResultSet.CONCUR_UPDATABLE);\r\n    \r\n        st.executeUpdate(&quot;create table survey (id int,name varchar(30));&quot;);\r\n        st.executeUpdate(&quot;insert into survey (id,name ) values (1,&#39;nameValue&#39;)&quot;);\r\n        st.executeUpdate(&quot;insert into survey (id,name ) values (2,null)&quot;);\r\n        st.executeUpdate(&quot;insert into survey (id,name ) values (3,&#39;Tom&#39;)&quot;);\r\n        st = conn.createStatement();\r\n        ResultSet rs = st.executeQuery(&quot;SELECT * FROM survey&quot;);\r\n    \r\n        rs = st.executeQuery(&quot;SELECT COUNT(*) FROM survey&quot;);\r\n        // get the number of rows from the result set\r\n        rs.next();\r\n        int rowCount = rs.getInt(1);\r\n        System.out.println(rowCount);\r\n    \r\n        rs.close();\r\n        st.close();\r\n        conn.close();\r\n    \r\n      }\r\n    \r\n      private static Connection getConnection() throws Exception {\r\n        Class.forName(&quot;org.hsqldb.jdbcDriver&quot;);\r\n        String url = &quot;jdbc:hsqldb:mem:data/tutorial&quot;;\r\n    \r\n        return DriverManager.getConnection(url, &quot;sa&quot;, &quot;&quot;);\r\n      }\r\n    }","title":"How to get row count using ResultSet in Java?","body":"<p>If you have table and are storing the ID as primary and auto increment then this will work</p>\n<p>Example code to get the total row count <a href=\"http://www.java2s.com/Tutorial/Java/0340__Database/GettheNumberofRowsinaDatabaseTable.htm\" rel=\"nofollow noreferrer\">http://www.java2s.com/Tutorial/Java/0340__Database/GettheNumberofRowsinaDatabaseTable.htm</a></p>\n<p>Below is code</p>\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.ResultSetMetaData;\nimport java.sql.Statement;\n\npublic class Main {\n  public static void main(String[] args) throws Exception {\n    Connection conn = getConnection();\n    Statement st = conn.createStatement(ResultSet.TYPE_SCROLL_INSENSITIVE,\n        ResultSet.CONCUR_UPDATABLE);\n\n    st.executeUpdate(&quot;create table survey (id int,name varchar(30));&quot;);\n    st.executeUpdate(&quot;insert into survey (id,name ) values (1,'nameValue')&quot;);\n    st.executeUpdate(&quot;insert into survey (id,name ) values (2,null)&quot;);\n    st.executeUpdate(&quot;insert into survey (id,name ) values (3,'Tom')&quot;);\n    st = conn.createStatement();\n    ResultSet rs = st.executeQuery(&quot;SELECT * FROM survey&quot;);\n\n    rs = st.executeQuery(&quot;SELECT COUNT(*) FROM survey&quot;);\n    // get the number of rows from the result set\n    rs.next();\n    int rowCount = rs.getInt(1);\n    System.out.println(rowCount);\n\n    rs.close();\n    st.close();\n    conn.close();\n\n  }\n\n  private static Connection getConnection() throws Exception {\n    Class.forName(&quot;org.hsqldb.jdbcDriver&quot;);\n    String url = &quot;jdbc:hsqldb:mem:data/tutorial&quot;;\n\n    return DriverManager.getConnection(url, &quot;sa&quot;, &quot;&quot;);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3226549,"reputation":1852,"user_id":2722799,"accept_rate":64,"display_name":"Java Man"},"down_vote_count":1,"up_vote_count":49,"is_accepted":false,"score":48,"last_activity_date":1646743003,"creation_date":1390972604,"answer_id":21422700,"question_id":7886462,"body_markdown":"    Statement s = cd.createStatement();\r\n    ResultSet r = s.executeQuery(&quot;SELECT COUNT(*) AS recordCount FROM FieldMaster&quot;);\r\n    r.next();\r\n    int count = r.getInt(&quot;recordCount&quot;);\r\n    r.close();\r\n    System.out.println(&quot;MyTable has &quot; + count + &quot; row(s).&quot;);\r\n\r\nSometimes JDBC does not support following method gives Error like `TYPE_FORWARD_ONLY&#39; use this solution\r\n\r\nSqlite does not support in JDBC.\r\n\r\n    resultSet.last();\r\n    size = resultSet.getRow();\r\n    resultSet.beforeFirst();\r\n\r\nSo at that time use this solution.\r\n\r\n\r\n","title":"How to get row count using ResultSet in Java?","body":"<pre><code>Statement s = cd.createStatement();\nResultSet r = s.executeQuery(&quot;SELECT COUNT(*) AS recordCount FROM FieldMaster&quot;);\nr.next();\nint count = r.getInt(&quot;recordCount&quot;);\nr.close();\nSystem.out.println(&quot;MyTable has &quot; + count + &quot; row(s).&quot;);\n</code></pre>\n<p>Sometimes JDBC does not support following method gives Error like `TYPE_FORWARD_ONLY' use this solution</p>\n<p>Sqlite does not support in JDBC.</p>\n<pre><code>resultSet.last();\nsize = resultSet.getRow();\nresultSet.beforeFirst();\n</code></pre>\n<p>So at that time use this solution.</p>\n"},{"tags":[],"owner":{"account_id":2985220,"reputation":5535,"user_id":2534236,"accept_rate":72,"display_name":"Suganthan Madhavan Pillai"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1390973852,"creation_date":1390973852,"answer_id":21422963,"question_id":7886462,"body_markdown":"Do a `SELECT COUNT(*) FROM ...` query instead.","title":"How to get row count using ResultSet in Java?","body":"<p>Do a <code>SELECT COUNT(*) FROM ...</code> query instead.</p>\n"},{"tags":[],"owner":{"account_id":5234739,"reputation":276,"user_id":4183699,"display_name":"Nico"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1455016826,"creation_date":1455016826,"answer_id":35290713,"question_id":7886462,"body_markdown":"Following two options worked for me:\r\n\r\n1) A function that returns the number of rows in your ResultSet.\r\n\r\n\r\n    \r\n    private int resultSetCount(ResultSet resultSet) throws SQLException{\r\n        try{\r\n            int i = 0;\r\n            while (resultSet.next()) {\r\n                i++;\r\n            }\r\n            return i;\r\n        } catch (Exception e){\r\n           System.out.println(&quot;Error getting row count&quot;);\r\n           e.printStackTrace();\r\n        }\r\n        return 0;\r\n    }\r\n\r\n2) Create a second SQL statement with the COUNT option.","title":"How to get row count using ResultSet in Java?","body":"<p>Following two options worked for me:</p>\n\n<p>1) A function that returns the number of rows in your ResultSet.</p>\n\n<pre><code>private int resultSetCount(ResultSet resultSet) throws SQLException{\n    try{\n        int i = 0;\n        while (resultSet.next()) {\n            i++;\n        }\n        return i;\n    } catch (Exception e){\n       System.out.println(\"Error getting row count\");\n       e.printStackTrace();\n    }\n    return 0;\n}\n</code></pre>\n\n<p>2) Create a second SQL statement with the COUNT option.</p>\n"},{"tags":[],"owner":{"account_id":1550350,"reputation":1733,"user_id":1442898,"accept_rate":0,"display_name":"Yergalem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574893639,"creation_date":1490797044,"answer_id":43096163,"question_id":7886462,"body_markdown":"The `ResultSet` has it&#39;s methods that move the Cursor back and forth depending on the option provided. By default, it&#39;s forward moving(`TYPE_FORWARD_ONLY` `ResultSet` type). \r\nUnless CONSTANTS indicating Scrollability and Update of `ResultSet` properly, you might end up getting an error.\r\nE.g. `beforeLast()`\r\nThis method has no effect if the result set contains no rows.\r\nThrows Error if it&#39;s not `TYPE_FORWARD_ONLY`.\r\n\r\nThe best way to check if empty rows got fetched --- Just to insert new record after checking non-existence\r\n\r\n    if( rs.next() ) {\r\n       \r\n       Do nothing\r\n    } else {\r\n      No records fetched!\r\n    }\r\n\r\nSee [here][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html","title":"How to get row count using ResultSet in Java?","body":"<p>The <code>ResultSet</code> has it's methods that move the Cursor back and forth depending on the option provided. By default, it's forward moving(<code>TYPE_FORWARD_ONLY</code> <code>ResultSet</code> type). \nUnless CONSTANTS indicating Scrollability and Update of <code>ResultSet</code> properly, you might end up getting an error.\nE.g. <code>beforeLast()</code>\nThis method has no effect if the result set contains no rows.\nThrows Error if it's not <code>TYPE_FORWARD_ONLY</code>.</p>\n\n<p>The best way to check if empty rows got fetched --- Just to insert new record after checking non-existence</p>\n\n<pre><code>if( rs.next() ) {\n\n   Do nothing\n} else {\n  No records fetched!\n}\n</code></pre>\n\n<p>See <a href=\"https://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"display_name":"user818700"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":477554,"favorite_count":0,"down_vote_count":0,"up_vote_count":92,"accepted_answer_id":7886509,"answer_count":13,"score":92,"last_activity_date":1654232285,"creation_date":1319530570,"question_id":7886462,"body_markdown":"I&#39;m trying to create a simple method that receives a ResultSet as a parameter and returns an int that contains the row count of the ResultSet. Is this a valid way of doing this or not so much?\r\n\r\n    int size = 0;\r\n        try {\r\n            while(rs.next()){\r\n                size++;\r\n            }\r\n        }\r\n        catch(Exception ex) {\r\n            System.out.println(&quot;------------------Tablerize.getRowCount-----------------&quot;);\r\n            System.out.println(&quot;Cannot get resultSet row count: &quot; + ex);\r\n            System.out.println(&quot;--------------------------------------------------------&quot;);\r\n        }\r\n\r\nI tried this:\r\n\r\n    int size = 0;\r\n    try {\r\n        resultSet.last();\r\n        size = resultSet.getRow();\r\n        resultSet.beforeFirst();\r\n    }\r\n    catch(Exception ex) {\r\n        return 0;\r\n    }\r\n    return size;\r\n\r\nBut I got an error saying \r\n```none\r\ncom.microsoft.sqlserver.jdbc.SQLServerException: \r\nThe requested operation is not supported on forward only result sets.\r\n```","title":"How to get row count using ResultSet in Java?","body":"<p>I'm trying to create a simple method that receives a ResultSet as a parameter and returns an int that contains the row count of the ResultSet. Is this a valid way of doing this or not so much?</p>\n<pre><code>int size = 0;\n    try {\n        while(rs.next()){\n            size++;\n        }\n    }\n    catch(Exception ex) {\n        System.out.println(&quot;------------------Tablerize.getRowCount-----------------&quot;);\n        System.out.println(&quot;Cannot get resultSet row count: &quot; + ex);\n        System.out.println(&quot;--------------------------------------------------------&quot;);\n    }\n</code></pre>\n<p>I tried this:</p>\n<pre><code>int size = 0;\ntry {\n    resultSet.last();\n    size = resultSet.getRow();\n    resultSet.beforeFirst();\n}\ncatch(Exception ex) {\n    return 0;\n}\nreturn size;\n</code></pre>\n<p>But I got an error saying</p>\n<pre class=\"lang-none prettyprint-override\"><code>com.microsoft.sqlserver.jdbc.SQLServerException: \nThe requested operation is not supported on forward only result sets.\n</code></pre>\n"},{"tags":["java","android","push-notification","notifications","localnotification"],"owner":{"account_id":19148998,"reputation":11,"user_id":13987308,"display_name":"G gaming"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654231757,"creation_date":1644808307,"question_id":71106777,"body_markdown":"Local notification is not shown again in REALME when I swipe up to clear notification, but swipe right and left notification show again and normal, any else with my code? I try to make id different but it&#39;s not working.\r\n\r\nHere is my code :\r\n\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.M)\r\n        protected void onOrderChanged(OrderDataModel dm) {\r\n    \r\n            String status = &quot;Status: &quot; + dm.getOrderStatus();\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                String name = getString(R.string.channel_name);\r\n                String description = getString(R.string.channel_description);\r\n                int importance = NotificationManager.IMPORTANCE_HIGH; //Important for heads-up notification\r\n                NotificationChannel channel = new NotificationChannel(&quot;1&quot;, name, importance);\r\n                channel.setDescription(description);\r\n                channel.setShowBadge(true);\r\n                channel.setLockscreenVisibility(Notification.VISIBILITY_PUBLIC);\r\n                NotificationManager notificationManager = getSystemService(NotificationManager.class);\r\n                notificationManager.createNotificationChannel(channel);\r\n            }\r\n    \r\n            NotificationCompat.Builder mBuilder = new NotificationCompat.Builder(this, &quot;1&quot;)\r\n                    .setSmallIcon(R.drawable.icon_launcher)\r\n                    .setContentTitle(&quot;OrderMessage&quot;)\r\n                    .setContentText(&quot;OrderId: &quot; + dm.getOrderId() + &quot;\\n&quot; + status + &quot;\\n&quot; + dm.getNote())\r\n                    .setDefaults(DEFAULT_SOUND | DEFAULT_VIBRATE) //Important for heads-up notification\r\n                    .setAutoCancel(true)\r\n                    .setPriority(Notification.PRIORITY_MAX); //Important for heads-up notification\r\n    \r\n            Notification buildNotification = mBuilder.build();\r\n            NotificationManager mNotifyMgr = (NotificationManager) this.getSystemService(NOTIFICATION_SERVICE);\r\n            mNotifyMgr.notify(001, buildNotification);\r\n    \r\n            if (dm.getOrderStatus().equals(&quot;P&quot;) || dm.getOrderStatus().equals(&quot;M&quot;))\r\n                dispatchClientStockRequest(this._user.getUserId());\r\n    \r\n        }\r\n\r\n","title":"Local notification in realme when swipe up local notification not show again, any else with my code?","body":"<p>Local notification is not shown again in REALME when I swipe up to clear notification, but swipe right and left notification show again and normal, any else with my code? I try to make id different but it's not working.</p>\n<p>Here is my code :</p>\n<pre><code>@RequiresApi(api = Build.VERSION_CODES.M)\n    protected void onOrderChanged(OrderDataModel dm) {\n\n        String status = &quot;Status: &quot; + dm.getOrderStatus();\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            String name = getString(R.string.channel_name);\n            String description = getString(R.string.channel_description);\n            int importance = NotificationManager.IMPORTANCE_HIGH; //Important for heads-up notification\n            NotificationChannel channel = new NotificationChannel(&quot;1&quot;, name, importance);\n            channel.setDescription(description);\n            channel.setShowBadge(true);\n            channel.setLockscreenVisibility(Notification.VISIBILITY_PUBLIC);\n            NotificationManager notificationManager = getSystemService(NotificationManager.class);\n            notificationManager.createNotificationChannel(channel);\n        }\n\n        NotificationCompat.Builder mBuilder = new NotificationCompat.Builder(this, &quot;1&quot;)\n                .setSmallIcon(R.drawable.icon_launcher)\n                .setContentTitle(&quot;OrderMessage&quot;)\n                .setContentText(&quot;OrderId: &quot; + dm.getOrderId() + &quot;\\n&quot; + status + &quot;\\n&quot; + dm.getNote())\n                .setDefaults(DEFAULT_SOUND | DEFAULT_VIBRATE) //Important for heads-up notification\n                .setAutoCancel(true)\n                .setPriority(Notification.PRIORITY_MAX); //Important for heads-up notification\n\n        Notification buildNotification = mBuilder.build();\n        NotificationManager mNotifyMgr = (NotificationManager) this.getSystemService(NOTIFICATION_SERVICE);\n        mNotifyMgr.notify(001, buildNotification);\n\n        if (dm.getOrderStatus().equals(&quot;P&quot;) || dm.getOrderStatus().equals(&quot;M&quot;))\n            dispatchClientStockRequest(this._user.getUserId());\n\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","log4j2"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":1,"creation_date":1654235432,"post_id":72484776,"comment_id":128047043,"body_markdown":"A `PatternSelector` only switches between multiple patterns. Check [filters](https://logging.apache.org/log4j/2.x/manual/filters.html) instead.","body":"A <code>PatternSelector</code> only switches between multiple patterns. Check <a href=\"https://logging.apache.org/log4j/2.x/manual/filters.html\" rel=\"nofollow noreferrer\">filters</a> instead."},{"owner":{"account_id":4146531,"reputation":451,"user_id":3400076,"display_name":"xxestter"},"score":0,"creation_date":1654239523,"post_id":72484776,"comment_id":128048097,"body_markdown":"@PiotrP.Karwasz thank you for the advise. I managed to code it. thanks!","body":"@PiotrP.Karwasz thank you for the advise. I managed to code it. thanks!"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1654242446,"post_id":72484776,"comment_id":128048948,"body_markdown":"@xxtester: can you publish your modified configuration as an answer (and mark it as accepted)?","body":"@xxtester: can you publish your modified configuration as an answer (and mark it as accepted)?"}],"owner":{"account_id":4146531,"reputation":451,"user_id":3400076,"display_name":"xxestter"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654231510,"creation_date":1654231079,"question_id":72484776,"body_markdown":"I am not sure if it is possible to only create the message in the log file when the message contains certain text? I am using log4j2.xml and below are all my code. \r\n\r\n**1) The UserService class**\r\n    package com.example.services;\r\n    \r\n    import org.apache.logging.log4j.LogManager;\r\n    import org.apache.logging.log4j.Logger;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    @Service\r\n    public class UserService {\r\n        Logger confirmLogger = LogManager.getLogger(&quot;confirmFile&quot;);\r\n    \r\n        public void log(){\r\n            confirmLogger.warn(&quot;printing confirm text with warn&quot;);//this should be in the log file\r\n            confirmLogger.info(&quot;printing confirm text with info&quot;);//this should be in the log file\r\n            confirmLogger.error(&quot;printing confirm text with error&quot;);//this should be in the log file\r\n    \r\n            confirmLogger.warn(&quot;printing normal text with error&quot;);//this should not be inside the log file\r\n        }\r\n    }\r\n\r\n**2) the log4j2.xml**\r\nI wanted the all.log to contains all the logs while confirm.log will only contains the message that has &quot;confirm&quot; word inside the sentence. \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;Configuration status=&quot;WARN&quot;&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;RollingFile name=&quot;allFile&quot;\r\n                     fileName=&quot;logs/all.log&quot;\r\n                     filePattern=&quot;logs/$${date:yyyy-MM}/app-%d{MM-dd-yyyy}-%i.log&quot;\r\n                     immediateFlush=&quot;true&quot;&gt;\r\n            &lt;PatternLayout&gt;\r\n                &lt;Pattern&gt;%m%n&lt;/Pattern&gt;\r\n            &lt;/PatternLayout&gt;\r\n            &lt;Policies&gt;\r\n                &lt;TimeBasedTriggeringPolicy /&gt;\r\n                &lt;SizeBasedTriggeringPolicy size=&quot;10 MB&quot;/&gt;\r\n            &lt;/Policies&gt;\r\n        &lt;/RollingFile&gt;\r\n\r\n        &lt;RollingFile name=&quot;confirmFile&quot;\r\n                     fileName=&quot;logs/confirm.log&quot;\r\n                     filePattern=&quot;logs/$${date:yyyy-MM}/app-%d{MM-dd-yyyy}-%i.log&quot;\r\n                     immediateFlush=&quot;true&quot;&gt;\r\n            &lt;PatternLayout&gt;\r\n                &lt;ScriptPatternSelector defaultPattern=&quot;[%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} %l - %msg%n&quot;&gt;\r\n                    &lt;Script name=&quot;LevelSelector&quot; language=&quot;bsh&quot;&gt;&lt;![CDATA[\r\n                        if (logEvent.getMessage().contains(&quot;confirm&quot;) ) {\r\n                            return &quot;INFO&quot;;\r\n                        }\r\n                        return null;\r\n                        ]]&gt;\r\n                    &lt;/Script&gt;\r\n                    &lt;PatternMatch key=&quot;INFO&quot; pattern=&quot;%d{yyyy-MM-dd HH:mm:ss.SSS} %msg%n&quot;/&gt;\r\n                &lt;/ScriptPatternSelector&gt;\r\n            &lt;/PatternLayout&gt;\r\n            &lt;Policies&gt;\r\n                &lt;TimeBasedTriggeringPolicy /&gt;\r\n                &lt;SizeBasedTriggeringPolicy size=&quot;10 MB&quot;/&gt;\r\n            &lt;/Policies&gt;\r\n        &lt;/RollingFile&gt;\r\n\r\n        &lt;Console name=&quot;LogToConsole&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\r\n        &lt;/Console&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;all&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;LogToConsole&quot; level=&quot;ERROR&quot;/&gt;\r\n            &lt;AppenderRef ref=&quot;confirmFile&quot; level=&quot;ALL&quot; /&gt;\r\n            &lt;AppenderRef ref=&quot;allFile&quot; level=&quot;ALL&quot; /&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt; &lt;/Configuration&gt;","title":"Log2j.xml with specific words","body":"<p>I am not sure if it is possible to only create the message in the log file when the message contains certain text? I am using log4j2.xml and below are all my code.</p>\n<p><strong>1) The UserService class</strong>\npackage com.example.services;</p>\n<pre><code>import org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class UserService {\n    Logger confirmLogger = LogManager.getLogger(&quot;confirmFile&quot;);\n\n    public void log(){\n        confirmLogger.warn(&quot;printing confirm text with warn&quot;);//this should be in the log file\n        confirmLogger.info(&quot;printing confirm text with info&quot;);//this should be in the log file\n        confirmLogger.error(&quot;printing confirm text with error&quot;);//this should be in the log file\n\n        confirmLogger.warn(&quot;printing normal text with error&quot;);//this should not be inside the log file\n    }\n}\n</code></pre>\n<p><strong>2) the log4j2.xml</strong>\nI wanted the all.log to contains all the logs while confirm.log will only contains the message that has &quot;confirm&quot; word inside the sentence.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;Configuration status=&quot;WARN&quot;&gt;\n&lt;Appenders&gt;\n    &lt;RollingFile name=&quot;allFile&quot;\n                 fileName=&quot;logs/all.log&quot;\n                 filePattern=&quot;logs/$${date:yyyy-MM}/app-%d{MM-dd-yyyy}-%i.log&quot;\n                 immediateFlush=&quot;true&quot;&gt;\n        &lt;PatternLayout&gt;\n            &lt;Pattern&gt;%m%n&lt;/Pattern&gt;\n        &lt;/PatternLayout&gt;\n        &lt;Policies&gt;\n            &lt;TimeBasedTriggeringPolicy /&gt;\n            &lt;SizeBasedTriggeringPolicy size=&quot;10 MB&quot;/&gt;\n        &lt;/Policies&gt;\n    &lt;/RollingFile&gt;\n\n    &lt;RollingFile name=&quot;confirmFile&quot;\n                 fileName=&quot;logs/confirm.log&quot;\n                 filePattern=&quot;logs/$${date:yyyy-MM}/app-%d{MM-dd-yyyy}-%i.log&quot;\n                 immediateFlush=&quot;true&quot;&gt;\n        &lt;PatternLayout&gt;\n            &lt;ScriptPatternSelector defaultPattern=&quot;[%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} %l - %msg%n&quot;&gt;\n                &lt;Script name=&quot;LevelSelector&quot; language=&quot;bsh&quot;&gt;&lt;![CDATA[\n                    if (logEvent.getMessage().contains(&quot;confirm&quot;) ) {\n                        return &quot;INFO&quot;;\n                    }\n                    return null;\n                    ]]&gt;\n                &lt;/Script&gt;\n                &lt;PatternMatch key=&quot;INFO&quot; pattern=&quot;%d{yyyy-MM-dd HH:mm:ss.SSS} %msg%n&quot;/&gt;\n            &lt;/ScriptPatternSelector&gt;\n        &lt;/PatternLayout&gt;\n        &lt;Policies&gt;\n            &lt;TimeBasedTriggeringPolicy /&gt;\n            &lt;SizeBasedTriggeringPolicy size=&quot;10 MB&quot;/&gt;\n        &lt;/Policies&gt;\n    &lt;/RollingFile&gt;\n\n    &lt;Console name=&quot;LogToConsole&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n        &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\n    &lt;/Console&gt;\n&lt;/Appenders&gt;\n&lt;Loggers&gt;\n    &lt;Root level=&quot;all&quot;&gt;\n        &lt;AppenderRef ref=&quot;LogToConsole&quot; level=&quot;ERROR&quot;/&gt;\n        &lt;AppenderRef ref=&quot;confirmFile&quot; level=&quot;ALL&quot; /&gt;\n        &lt;AppenderRef ref=&quot;allFile&quot; level=&quot;ALL&quot; /&gt;\n    &lt;/Root&gt;\n&lt;/Loggers&gt; &lt;/Configuration&gt;\n</code></pre>\n"},{"tags":["java","multithreading","executorservice","anonymous-class","scheduledexecutorservice"],"comments":[{"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"score":0,"creation_date":1654198050,"post_id":72480550,"comment_id":128040300,"body_markdown":"updated answer with fixed code","body":"updated answer with fixed code"}],"answers":[{"tags":[],"owner":{"account_id":22039646,"reputation":1477,"user_id":16305607,"display_name":"majusebetter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654196256,"creation_date":1654196256,"answer_id":72481102,"question_id":72480550,"body_markdown":"As the error message states, Java doesn&#39;t allow modifying variables  belonging to the outer scope from within a &quot;lambda&quot; scope (instances of anonymous classes also create such a scope).\r\n\r\nIn your case, in order to work-around this issue, you could make `peat` a class variable:\r\n\r\n    import java.util.Scanner;\r\n    import java.util.Timer;\r\n    import java.util.TimerTask;\r\n    import java.util.concurrent.*;\r\n    import static java.util.concurrent.TimeUnit.SECONDS;\r\n\r\n    public class MyProgram {\r\n\r\n        private static int peat = 0;\r\n\r\n        public static void main(String[] args) {\r\n            // Code of main()\r\n            // Remove local &quot;peat&quot; variable\r\n        }\r\n    }","title":"How do I restart the timer countdown","body":"<p>As the error message states, Java doesn't allow modifying variables  belonging to the outer scope from within a &quot;lambda&quot; scope (instances of anonymous classes also create such a scope).</p>\n<p>In your case, in order to work-around this issue, you could make <code>peat</code> a class variable:</p>\n<pre><code>import java.util.Scanner;\nimport java.util.Timer;\nimport java.util.TimerTask;\nimport java.util.concurrent.*;\nimport static java.util.concurrent.TimeUnit.SECONDS;\n\npublic class MyProgram {\n\n    private static int peat = 0;\n\n    public static void main(String[] args) {\n        // Code of main()\n        // Remove local &quot;peat&quot; variable\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654198213,"creation_date":1654196350,"answer_id":72481111,"question_id":72480550,"body_markdown":"This is because `peat` is not a final or effectively-final variable. As the documentation states:\r\n\r\n&gt; An anonymous class cannot access local variables in its enclosing scope that are not declared as final or effectively final.\r\n\r\nhttps://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html#accessing\r\n\r\nIn fact, when a local class (a class defined in a block) accesses a local variable or parameter of the enclosing block, it &lt;b&gt;captures&lt;/b&gt; that variable or parameter. This means that the value is literally copied within the local class. \r\n\r\nAlthough a local class is declared within a block, its context is completely dissociated from the one where it has been created. Any modification made from the local class must be prevented as there is no way to reflect those changes in the enclosing scope. Likewise, in the enclosing scope the variable must remain unmodified as well, as once its value has been captured for the local class, any changes from the enclosing scope cannot be reflected within the local class.\r\n\r\nIf you want to launch a timer with a `ScheduledThreadPoolExecutor`, then you cannot rely on a class defined on the go using the enclosing scope&#39;s variables, but you need to declare a class extending `Runnable`. This `Timer` class can be instantiated by passing the number of seconds (or any other sensibility the Timer is scheduled with), a reference to the scheduler and the array of messages.\r\n\r\n```\r\nclass Timer implements Runnable {\r\n    private ScheduledExecutorService scheduler;\r\n    private int numSecs;\r\n\r\n    private String[] vetMessages;\r\n\r\n    public Timer(ScheduledExecutorService scheduler, int numSecs, String[] vetMessages) {\r\n        this.scheduler = scheduler;\r\n        this.numSecs = numSecs;\r\n        this.vetMessages = vetMessages;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        numSecs--;\r\n        if (numSecs &lt; 4) {\r\n            System.out.println(vetMessages[numSecs]);\r\n            if (numSecs &lt;= 0) {\r\n                scheduler.shutdown();\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nclass MyProgram {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner input1 = new Scanner(System.in);\r\n        System.out.println(&quot;What is your name&quot;);\r\n        String personsName = input1.next();\r\n        System.out.println((personsName) + &quot; Are you ready to impove yourself&quot;);\r\n        String motiv = input1.next();\r\n\r\n        String[] myArray = new String[4];\r\n        myArray[0] = &quot;Keep going&quot;;\r\n        myArray[1] = &quot;1 more rep&quot;;\r\n        myArray[2] = &quot;you have come so far don&#39;t stop now&quot;;\r\n        myArray[3] = &quot;Think of the progress you have made&quot;;\r\n\r\n        if (motiv.equals(&quot;yes&quot;)) {\r\n            System.out.println(&quot;Today is the day hard work begins&quot;);\r\n        } else {\r\n            System.out.println(&quot;type yes when you&#39;re ready to work&quot;);\r\n        }\r\n\r\n        Scanner input2 = new Scanner(System.in);\r\n        System.out.println(&quot;You will recive quotes throughout your workout to remind you to keep working type ok if you accept&quot;);\r\n        String confirm = input2.next();\r\n\r\n        if (confirm.equals(&quot;ok&quot;)) {\r\n            final ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\r\n            Timer t = new Timer(scheduler, 10, myArray);\r\n\r\n            //Added an initial delay of 1 second to not start the Timer immediately and decrement the number of seconds right away\r\n            scheduler.scheduleAtFixedRate(t, 1, 1, TimeUnit.SECONDS);\r\n        }\r\n    }\r\n}\r\n```","title":"How do I restart the timer countdown","body":"<p>This is because <code>peat</code> is not a final or effectively-final variable. As the documentation states:</p>\n<blockquote>\n<p>An anonymous class cannot access local variables in its enclosing scope that are not declared as final or effectively final.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html#accessing\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html#accessing</a></p>\n<p>In fact, when a local class (a class defined in a block) accesses a local variable or parameter of the enclosing block, it <b>captures</b> that variable or parameter. This means that the value is literally copied within the local class.</p>\n<p>Although a local class is declared within a block, its context is completely dissociated from the one where it has been created. Any modification made from the local class must be prevented as there is no way to reflect those changes in the enclosing scope. Likewise, in the enclosing scope the variable must remain unmodified as well, as once its value has been captured for the local class, any changes from the enclosing scope cannot be reflected within the local class.</p>\n<p>If you want to launch a timer with a <code>ScheduledThreadPoolExecutor</code>, then you cannot rely on a class defined on the go using the enclosing scope's variables, but you need to declare a class extending <code>Runnable</code>. This <code>Timer</code> class can be instantiated by passing the number of seconds (or any other sensibility the Timer is scheduled with), a reference to the scheduler and the array of messages.</p>\n<pre><code>class Timer implements Runnable {\n    private ScheduledExecutorService scheduler;\n    private int numSecs;\n\n    private String[] vetMessages;\n\n    public Timer(ScheduledExecutorService scheduler, int numSecs, String[] vetMessages) {\n        this.scheduler = scheduler;\n        this.numSecs = numSecs;\n        this.vetMessages = vetMessages;\n    }\n\n    @Override\n    public void run() {\n        numSecs--;\n        if (numSecs &lt; 4) {\n            System.out.println(vetMessages[numSecs]);\n            if (numSecs &lt;= 0) {\n                scheduler.shutdown();\n            }\n        }\n    }\n}\n\nclass MyProgram {\n\n    public static void main(String[] args) {\n        Scanner input1 = new Scanner(System.in);\n        System.out.println(&quot;What is your name&quot;);\n        String personsName = input1.next();\n        System.out.println((personsName) + &quot; Are you ready to impove yourself&quot;);\n        String motiv = input1.next();\n\n        String[] myArray = new String[4];\n        myArray[0] = &quot;Keep going&quot;;\n        myArray[1] = &quot;1 more rep&quot;;\n        myArray[2] = &quot;you have come so far don't stop now&quot;;\n        myArray[3] = &quot;Think of the progress you have made&quot;;\n\n        if (motiv.equals(&quot;yes&quot;)) {\n            System.out.println(&quot;Today is the day hard work begins&quot;);\n        } else {\n            System.out.println(&quot;type yes when you're ready to work&quot;);\n        }\n\n        Scanner input2 = new Scanner(System.in);\n        System.out.println(&quot;You will recive quotes throughout your workout to remind you to keep working type ok if you accept&quot;);\n        String confirm = input2.next();\n\n        if (confirm.equals(&quot;ok&quot;)) {\n            final ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\n            Timer t = new Timer(scheduler, 10, myArray);\n\n            //Added an initial delay of 1 second to not start the Timer immediately and decrement the number of seconds right away\n            scheduler.scheduleAtFixedRate(t, 1, 1, TimeUnit.SECONDS);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25458443,"reputation":11,"user_id":19258689,"display_name":"Javier Salazar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1654230937,"creation_date":1654193105,"question_id":72480550,"body_markdown":"I am trying to reset the timer so it can pull another value from my array.\r\nDoes anyone know the solution? My error is saying: \r\n\r\n```\r\npeat = peat= 1; \r\nlocal variables referenced from an inner class must be final or effectively final\r\n```\r\n\r\nI am stuck and I know I need to reset the timer but I don&#39;t know how.\r\n\r\n```\r\nclass MyProgram {\r\n\r\n    public static void main(String[] args) {\r\n        int peat = 0;\r\n        int cdown = 0;\r\n        Scanner input1 = new Scanner(System.in);\r\n        System.out.println(&quot;What is your name&quot;);\r\n        String personsName = input1.next();\r\n        System.out.println((personsName) + &quot; Are you ready to impove yourself&quot;);\r\n        String motiv = input1.next();\r\n\r\n        String[] myArray = new String[4];\r\n        myArray[0] = &quot;Keep going&quot;;\r\n        myArray[1] = &quot;1 more rep&quot;;\r\n        myArray[2] = &quot;you have come so far don&#39;t stop now&quot;;\r\n        myArray[3] = &quot;Think of the progress you have made&quot;;\r\n\r\n        if (motiv.equals(&quot;yes&quot;)) {\r\n            System.out.println(&quot;Today is the day hard work begins&quot;);\r\n        } else {\r\n            System.out.println(&quot;type yes when you&#39;re ready to work&quot;);\r\n        }\r\n\r\n        Scanner input2 = new Scanner(System.in);\r\n        System.out.println(&quot;You will recive quotes throughout your workout to remind you to keep working type ok if you accept&quot;);\r\n        String confirm = input2.next();\r\n\r\n        if (confirm.equals(&quot;ok&quot;)) {\r\n            final ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\r\n            final Runnable runnable = new Runnable() {\r\n                int countdown = 10;\r\n                public void run() {\r\n                    System.out.println(countdown);\r\n                    countdown--;\r\n                    if (countdown == 0 &amp;&amp; peat &lt; 4) {\r\n                        System.out.println(myArray[0]);\r\n                        //reset count down to 10\r\n                        peat = peat + 1;\r\n                    } else {\r\n                        scheduler.shutdown();\r\n                    }\r\n                }\r\n            };\r\n            scheduler.scheduleAtFixedRate(runnable, 0, 1, TimeUnit.SECONDS);\r\n        }\r\n        while (cdown &lt; 1) {\r\n            System.out.println(myArray[1]);\r\n            cdown = cdown + 1;\r\n        }\r\n    }\r\n}\r\n```","title":"How do I restart the timer countdown","body":"<p>I am trying to reset the timer so it can pull another value from my array.\nDoes anyone know the solution? My error is saying:</p>\n<pre><code>peat = peat= 1; \nlocal variables referenced from an inner class must be final or effectively final\n</code></pre>\n<p>I am stuck and I know I need to reset the timer but I don't know how.</p>\n<pre><code>class MyProgram {\n\n    public static void main(String[] args) {\n        int peat = 0;\n        int cdown = 0;\n        Scanner input1 = new Scanner(System.in);\n        System.out.println(&quot;What is your name&quot;);\n        String personsName = input1.next();\n        System.out.println((personsName) + &quot; Are you ready to impove yourself&quot;);\n        String motiv = input1.next();\n\n        String[] myArray = new String[4];\n        myArray[0] = &quot;Keep going&quot;;\n        myArray[1] = &quot;1 more rep&quot;;\n        myArray[2] = &quot;you have come so far don't stop now&quot;;\n        myArray[3] = &quot;Think of the progress you have made&quot;;\n\n        if (motiv.equals(&quot;yes&quot;)) {\n            System.out.println(&quot;Today is the day hard work begins&quot;);\n        } else {\n            System.out.println(&quot;type yes when you're ready to work&quot;);\n        }\n\n        Scanner input2 = new Scanner(System.in);\n        System.out.println(&quot;You will recive quotes throughout your workout to remind you to keep working type ok if you accept&quot;);\n        String confirm = input2.next();\n\n        if (confirm.equals(&quot;ok&quot;)) {\n            final ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\n            final Runnable runnable = new Runnable() {\n                int countdown = 10;\n                public void run() {\n                    System.out.println(countdown);\n                    countdown--;\n                    if (countdown == 0 &amp;&amp; peat &lt; 4) {\n                        System.out.println(myArray[0]);\n                        //reset count down to 10\n                        peat = peat + 1;\n                    } else {\n                        scheduler.shutdown();\n                    }\n                }\n            };\n            scheduler.scheduleAtFixedRate(runnable, 0, 1, TimeUnit.SECONDS);\n        }\n        while (cdown &lt; 1) {\n            System.out.println(myArray[1]);\n            cdown = cdown + 1;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","firebase","android-glide","firebaseui"],"comments":[{"owner":{"account_id":10396927,"reputation":68267,"user_id":7666442,"display_name":"AskNilesh"},"score":0,"creation_date":1518510112,"post_id":48762263,"comment_id":84524872,"body_markdown":"can u share `build.gradle` with question","body":"can u share <code>build.gradle</code> with question"},{"owner":{"account_id":3168272,"reputation":1568,"user_id":2677801,"accept_rate":67,"display_name":"mehmet"},"score":0,"creation_date":1518510235,"post_id":48762263,"comment_id":84524928,"body_markdown":"I&#39;ve added dependencies is that enough","body":"I&#39;ve added dependencies is that enough"},{"owner":{"account_id":10981715,"reputation":1121,"user_id":8068595,"accept_rate":55,"display_name":"GGWP"},"score":0,"creation_date":1518510877,"post_id":48762263,"comment_id":84525264,"body_markdown":"You need to downgrade versions","body":"You need to downgrade versions"}],"answers":[{"tags":[],"owner":{"account_id":9432262,"reputation":79450,"user_id":7015400,"accept_rate":38,"display_name":"Peter Haddad"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1520277152,"creation_date":1518510661,"answer_id":48762436,"question_id":48762263,"body_markdown":"Change this:\n\n     implementation &#39;com.firebaseui:firebase-ui-storage:2.0.1&#39;\n\nto this:\n\n      implementation &#39;com.firebaseui:firebase-ui-storage:3.2.1&#39;\n\n\n\nAccording to the Glide docs:\n\n`using()`\n\n&gt;The using() API was removed in Glide 4 to encourage users to register their components once with a AppGlideModule to avoid object re-use. Rather than creating a new ModelLoader each time you load an image, you register it once in an AppGlideModule and let Glide inspect your model (the object you pass to load()) to figure out when to use your registered ModelLoader.\n&gt;\n&gt;To make sure you only use your ModelLoader for certain models, implement handles() as shown above to inspect each model and return true only if your ModelLoader should be used.\n\n`using()` was removed from Glide 4.\n\n\nTo Solve this, you need to do this:\nTo load an image from a StorageReference, first register an AppGlideModule:\n  \n      @GlideModule\n    public class MyAppGlideModule extends AppGlideModule {\n\n    @Override\n    public void registerComponents(Context context, Glide glide, Registry registry) {\n        // Register FirebaseImageLoader to handle StorageReference\n        registry.append(StorageReference.class, InputStream.class,\n                new FirebaseImageLoader.Factory());\n      }\n    }\n\nOnce you have created an AppGlideModule class and done a clean build, you can use GlideApp to load a StorageReference into an ImageView:\n\n    // Reference to an image file in Cloud Storage\n    StorageReference storageReference = ...;\n\n    // ImageView in your Activity\n    ImageView imageView = ...;\n\n    // Download directly from StorageReference using Glide\n    // (See MyAppGlideModule for Loader registration)\n    GlideApp.with(this /* context */)\n            .load(storageReference)\n            .into(imageView);\n\nmore info here: https://github.com/firebase/FirebaseUI-Android/tree/master/storage","title":"Using Firebase Storage image with Glide","body":"<p>Change this:</p>\n<pre><code> implementation 'com.firebaseui:firebase-ui-storage:2.0.1'\n</code></pre>\n<p>to this:</p>\n<pre><code>  implementation 'com.firebaseui:firebase-ui-storage:3.2.1'\n</code></pre>\n<p>According to the Glide docs:</p>\n<p><code>using()</code></p>\n<blockquote>\n<p>The using() API was removed in Glide 4 to encourage users to register their components once with a AppGlideModule to avoid object re-use. Rather than creating a new ModelLoader each time you load an image, you register it once in an AppGlideModule and let Glide inspect your model (the object you pass to load()) to figure out when to use your registered ModelLoader.</p>\n<p>To make sure you only use your ModelLoader for certain models, implement handles() as shown above to inspect each model and return true only if your ModelLoader should be used.</p>\n</blockquote>\n<p><code>using()</code> was removed from Glide 4.</p>\n<p>To Solve this, you need to do this:\nTo load an image from a StorageReference, first register an AppGlideModule:</p>\n<pre><code>  @GlideModule\npublic class MyAppGlideModule extends AppGlideModule {\n\n@Override\npublic void registerComponents(Context context, Glide glide, Registry registry) {\n    // Register FirebaseImageLoader to handle StorageReference\n    registry.append(StorageReference.class, InputStream.class,\n            new FirebaseImageLoader.Factory());\n  }\n}\n</code></pre>\n<p>Once you have created an AppGlideModule class and done a clean build, you can use GlideApp to load a StorageReference into an ImageView:</p>\n<pre><code>// Reference to an image file in Cloud Storage\nStorageReference storageReference = ...;\n\n// ImageView in your Activity\nImageView imageView = ...;\n\n// Download directly from StorageReference using Glide\n// (See MyAppGlideModule for Loader registration)\nGlideApp.with(this /* context */)\n        .load(storageReference)\n        .into(imageView);\n</code></pre>\n<p>more info here: <a href=\"https://github.com/firebase/FirebaseUI-Android/tree/master/storage\" rel=\"noreferrer\">https://github.com/firebase/FirebaseUI-Android/tree/master/storage</a></p>\n"},{"tags":[],"owner":{"account_id":10981715,"reputation":1121,"user_id":8068595,"accept_rate":55,"display_name":"GGWP"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1518511168,"creation_date":1518511168,"answer_id":48762566,"question_id":48762263,"body_markdown":"As for **Glide 4.6.1** you can&#39;t use `.using(new FirebaseImageLoader())`\r\n\r\nI am force to downgrade to \r\n\r\n`implementation &#39;com.github.bumptech.glide:glide:3.8.0&#39;`\r\n\r\n\r\nand **Firebase UI** `implementation&#39;com.firebaseui:firebase-ui-storage:2.0.1&#39;`\r\n","title":"Using Firebase Storage image with Glide","body":"<p>As for <strong>Glide 4.6.1</strong> you can't use <code>.using(new FirebaseImageLoader())</code></p>\n\n<p>I am force to downgrade to </p>\n\n<p><code>implementation 'com.github.bumptech.glide:glide:3.8.0'</code></p>\n\n<p>and <strong>Firebase UI</strong> <code>implementation'com.firebaseui:firebase-ui-storage:2.0.1'</code></p>\n"},{"tags":[],"owner":{"account_id":1477876,"reputation":707,"user_id":1387849,"accept_rate":90,"display_name":"nburn42"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592579003,"creation_date":1524677242,"answer_id":50028123,"question_id":48762263,"body_markdown":"The answers above didn&#39;t help me.\r\n\r\nI was missing this in my gradle.  \r\n\r\n    annotationProcessor &#39;com.github.bumptech.glide:compiler:4.x&#39; //For Kotlin advice use kapt instead of annotationProcessor\r\n\r\nThe best docs I have found are [here](https://github.com/firebase/FirebaseUI-Android/tree/master/storage)","title":"Using Firebase Storage image with Glide","body":"<p>The answers above didn't help me.</p>\n\n<p>I was missing this in my gradle.  </p>\n\n<pre><code>annotationProcessor 'com.github.bumptech.glide:compiler:4.x' //For Kotlin advice use kapt instead of annotationProcessor\n</code></pre>\n\n<p>The best docs I have found are <a href=\"https://github.com/firebase/FirebaseUI-Android/tree/master/storage\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":1003933,"reputation":3792,"user_id":1018154,"display_name":"CodeToLife"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1555073357,"creation_date":1555073357,"answer_id":55652001,"question_id":48762263,"body_markdown":"If you&#39;ve uploaded little images for icons on to your Firebase storage, get rid off glide and that &quot;model&quot;. It makes a lot of changes on its git. So your code  should look like:\r\n\r\n       StorageReference referenseLcl = FirebaseStorage.getInstance().getReference();\r\n                    StorageReference islandRefLcl = referenseLcl.child(userLcl.getImageIconPath());\r\n                    final long ONE_MEGABYTE = 1024 * 1024;\r\n                    islandRefLcl.getBytes(ONE_MEGABYTE).addOnSuccessListener(bytesPrm -&gt; {\r\n                        Bitmap bmp = BitmapFactory.decodeByteArray(bytesPrm, 0, bytesPrm.length);\r\n                        imageOfUser.setImageBitmap(bmp);\r\n                    }).addOnFailureListener(new OnFailureListener() {\r\n                        @Override\r\n                        public void onFailure(@NonNull Exception exception) {\r\n                            imageOfUser.setImageResource(R.mipmap.ic_launcher);\r\n                        }\r\n                    });\r\n\r\n\r\n ","title":"Using Firebase Storage image with Glide","body":"<p>If you've uploaded little images for icons on to your Firebase storage, get rid off glide and that \"model\". It makes a lot of changes on its git. So your code  should look like:</p>\n\n<pre><code>   StorageReference referenseLcl = FirebaseStorage.getInstance().getReference();\n                StorageReference islandRefLcl = referenseLcl.child(userLcl.getImageIconPath());\n                final long ONE_MEGABYTE = 1024 * 1024;\n                islandRefLcl.getBytes(ONE_MEGABYTE).addOnSuccessListener(bytesPrm -&gt; {\n                    Bitmap bmp = BitmapFactory.decodeByteArray(bytesPrm, 0, bytesPrm.length);\n                    imageOfUser.setImageBitmap(bmp);\n                }).addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception exception) {\n                        imageOfUser.setImageResource(R.mipmap.ic_launcher);\n                    }\n                });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4911774,"reputation":539,"user_id":7011829,"display_name":"Vikash Sharma"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1592578880,"creation_date":1569946911,"answer_id":58188871,"question_id":48762263,"body_markdown":"I Know im bit late but it might help some of you.\r\nUse both of these in `app build.gradle`.\r\n        \r\n    implementation &#39;com.github.bumptech.glide:glide:4.10.0&#39;\r\n    annotationProcessor &#39;com.github.bumptech.glide:compiler:4.10.0&#39; //For Kotlin You should use kapt instead of annotationProcessor though.\r\n    \r\nThen add This Class:\r\n\r\n\r\n    @GlideModule\r\n    public class MyAppGlideModule extends AppGlideModule {\r\n    \r\n        @Override\r\n        public void registerComponents(Context context, Glide glide, Registry registry) {\r\n            // Register FirebaseImageLoader to handle StorageReference\r\n            registry.append(StorageReference.class, InputStream.class,\r\n                    new FirebaseImageLoader.Factory());\r\n        }\r\n    }\r\n    \r\n     GlideApp.with(getActivity()).load(storageReference).into(profileImg);\r\n\r\nAt last you need to go to File-&gt; Invalidate Cache and Restart\r\nDone:)","title":"Using Firebase Storage image with Glide","body":"<p>I Know im bit late but it might help some of you.\nUse both of these in <code>app build.gradle</code>.</p>\n\n<pre><code>implementation 'com.github.bumptech.glide:glide:4.10.0'\nannotationProcessor 'com.github.bumptech.glide:compiler:4.10.0' //For Kotlin You should use kapt instead of annotationProcessor though.\n</code></pre>\n\n<p>Then add This Class:</p>\n\n<pre><code>@GlideModule\npublic class MyAppGlideModule extends AppGlideModule {\n\n    @Override\n    public void registerComponents(Context context, Glide glide, Registry registry) {\n        // Register FirebaseImageLoader to handle StorageReference\n        registry.append(StorageReference.class, InputStream.class,\n                new FirebaseImageLoader.Factory());\n    }\n}\n\n GlideApp.with(getActivity()).load(storageReference).into(profileImg);\n</code></pre>\n\n<p>At last you need to go to File-> Invalidate Cache and Restart\nDone:)</p>\n"},{"tags":[],"owner":{"account_id":11404798,"reputation":12520,"user_id":8360561,"accept_rate":58,"display_name":"Agung Laksana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594631776,"creation_date":1594631776,"answer_id":62872781,"question_id":48762263,"body_markdown":"I am using kotlin.\r\n\r\nin my case, because I still use annotation processor like this\r\n\r\n    annotationProcessor &#39;com.github.bumptech.glide:compiler:4.11.0&#39;\r\n\r\n\r\nI should use: \r\n\r\n`kapt &#39;com.github.bumptech.glide:compiler:4.11.0&#39;`\r\n\r\n","title":"Using Firebase Storage image with Glide","body":"<p>I am using kotlin.</p>\n<p>in my case, because I still use annotation processor like this</p>\n<pre><code>annotationProcessor 'com.github.bumptech.glide:compiler:4.11.0'\n</code></pre>\n<p>I should use:</p>\n<p><code>kapt 'com.github.bumptech.glide:compiler:4.11.0'</code></p>\n"},{"tags":[],"owner":{"account_id":14489422,"reputation":162,"user_id":10466214,"display_name":"Julian Paul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654230218,"creation_date":1654230218,"answer_id":72484702,"question_id":48762263,"body_markdown":"Kotlin implementation of GlideModule :\r\n\r\n    @GlideModule\r\n    class GlideModule : AppGlideModule() {\r\n    \r\n        override fun registerComponents(context: Context, glide: Glide, registry: Registry) {\r\n            registry.append(StorageReference::class.java, InputStream::class.java, FirebaseImageLoader.Factory())\r\n        }\r\n    \r\n    }\r\n\r\nDon&#39;t forget to import the correct dependencies :\r\n\r\n\r\n    dependencies {\r\n        def glide_version = &quot;4.12.0&quot;\r\n        implementation &quot;com.github.bumptech.glide:glide:$glide_version&quot;\r\n        kapt &quot;com.github.bumptech.glide:compiler:$glide_version&quot;\r\n    }","title":"Using Firebase Storage image with Glide","body":"<p>Kotlin implementation of GlideModule :</p>\n<pre><code>@GlideModule\nclass GlideModule : AppGlideModule() {\n\n    override fun registerComponents(context: Context, glide: Glide, registry: Registry) {\n        registry.append(StorageReference::class.java, InputStream::class.java, FirebaseImageLoader.Factory())\n    }\n\n}\n</code></pre>\n<p>Don't forget to import the correct dependencies :</p>\n<pre><code>dependencies {\n    def glide_version = &quot;4.12.0&quot;\n    implementation &quot;com.github.bumptech.glide:glide:$glide_version&quot;\n    kapt &quot;com.github.bumptech.glide:compiler:$glide_version&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":3168272,"reputation":1568,"user_id":2677801,"accept_rate":67,"display_name":"mehmet"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21242,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"accepted_answer_id":48762436,"answer_count":7,"score":12,"last_activity_date":1654230218,"creation_date":1518509943,"question_id":48762263,"body_markdown":"There are tons of duplicated answers I had tried almost all of them but I am still not able to use Firebase storage image with Glide. \r\n\r\nFirst of all I am using [docs][1]\r\n\r\n        FirebaseStorage storage  = FirebaseStorage.getInstance();\r\n        StorageReference storageRef = storage.getReference();\r\n        StorageReference pathReference = storageRef.child(&quot;sorular/1.jpg&quot;);\r\n    \r\n       // ImageView in your Activity\r\n       ImageView imageView = rootView.findViewById(R.id.imageView);\r\n    \r\n       // Load the image using Glide\r\n       Glide.with(this /* context */)\r\n            .using(new FirebaseImageLoader()) // Cannot resolve method &#39;using\r\n            .load(pathReference)\r\n            .into(imageView);\r\n\r\n\r\nif I clean the .using part of Glide, logcat it gives this error:\r\n\r\n&gt; E/GlideExecutor: Request threw uncaught throwable                                                                              com.bumptech.glide.Registry$NoModelLoaderAvailableException: Failed to\r\n&gt; find any ModelLoaders for model:\r\n&gt; gs://123...appspot.com/sorular/1.jpg                             \r\n&gt; at com.bumptech.glide.Registry.getModelLoaders(Registry.java:227)     \r\n&gt; at\r\n&gt; com.bumptech.glide.load.engine.DecodeHelper.getLoadData(DecodeHelper.java:179)\r\n&gt; at\r\n&gt; com.bumptech.glide.load.engine.DecodeHelper.getCacheKeys(DecodeHelper.java:197)\r\n&gt; at\r\n&gt; com.bumptech.glide.load.engine.ResourceCacheGenerator.startNext(ResourceCacheGenerator.java:41)\r\n&gt; at\r\n&gt; com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:282)\r\n&gt; at\r\n&gt; com.bumptech.glide.load.engine.DecodeJob.runWrapped(DecodeJob.java:249)\r\n&gt; at com.bumptech.glide.load.engine.DecodeJob.run(DecodeJob.java:222)   \r\n&gt; at\r\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1133)\r\n&gt; at\r\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:607)\r\n&gt; at java.lang.Thread.run(Thread.java:761)                              \r\n&gt; at\r\n&gt; com.bumptech.glide.load.engine.executor.GlideExecutor$DefaultThreadFactory$1.run(GlideExecutor.java:347)\r\n\r\nSo how can use firebase storage images in my android app in a best way?\r\n\r\nalso this my build gradle dependencies:\r\n\r\n    dependencies {\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        implementation &#39;com.android.support:appcompat-v7:27.0.2&#39;\r\n        implementation &#39;com.android.support:palette-v7:27.0.2&#39;\r\n        implementation &quot;com.android.support:cardview-v7:27.0.2&quot;\r\n        implementation &quot;com.android.support:recyclerview-v7:27.0.2&quot;\r\n        implementation &quot;com.android.support:support-v4:27.0.2&quot;\r\n        implementation &#39;com.android.support:design:27.0.2&#39;\r\n    \r\n        implementation &#39;com.android.support.constraint:constraint-layout:1.0.2&#39;\r\n        implementation &#39;com.github.florent37:materialviewpager:1.2.3&#39;\r\n    \r\n    \r\n        implementation &#39;com.google.firebase:firebase-database:11.8.0&#39;\r\n        implementation &#39;com.google.firebase:firebase-storage:11.8.0&#39;\r\n        implementation &#39;com.firebaseui:firebase-ui-storage:2.0.1&#39;\r\n        implementation &#39;com.google.firebase:firebase-auth:11.8.0&#39;\r\n        testImplementation &#39;junit:junit:4.12&#39;\r\n        androidTestImplementation &#39;com.android.support.test:runner:1.0.1&#39;\r\n        androidTestImplementation &#39;com.android.support.test.espresso:espresso-core:3.0.1&#39;\r\n    }\r\n\r\n  [1]: https://firebase.google.com/docs/storage/android/download-files","title":"Using Firebase Storage image with Glide","body":"<p>There are tons of duplicated answers I had tried almost all of them but I am still not able to use Firebase storage image with Glide. </p>\n\n<p>First of all I am using <a href=\"https://firebase.google.com/docs/storage/android/download-files\" rel=\"noreferrer\">docs</a></p>\n\n<pre><code>    FirebaseStorage storage  = FirebaseStorage.getInstance();\n    StorageReference storageRef = storage.getReference();\n    StorageReference pathReference = storageRef.child(\"sorular/1.jpg\");\n\n   // ImageView in your Activity\n   ImageView imageView = rootView.findViewById(R.id.imageView);\n\n   // Load the image using Glide\n   Glide.with(this /* context */)\n        .using(new FirebaseImageLoader()) // Cannot resolve method 'using\n        .load(pathReference)\n        .into(imageView);\n</code></pre>\n\n<p>if I clean the .using part of Glide, logcat it gives this error:</p>\n\n<blockquote>\n  <p>E/GlideExecutor: Request threw uncaught throwable                                                                              com.bumptech.glide.Registry$NoModelLoaderAvailableException: Failed to\n  find any ModelLoaders for model:\n  gs://123...appspot.com/sorular/1.jpg<br>\n  at com.bumptech.glide.Registry.getModelLoaders(Registry.java:227)<br>\n  at\n  com.bumptech.glide.load.engine.DecodeHelper.getLoadData(DecodeHelper.java:179)\n  at\n  com.bumptech.glide.load.engine.DecodeHelper.getCacheKeys(DecodeHelper.java:197)\n  at\n  com.bumptech.glide.load.engine.ResourceCacheGenerator.startNext(ResourceCacheGenerator.java:41)\n  at\n  com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:282)\n  at\n  com.bumptech.glide.load.engine.DecodeJob.runWrapped(DecodeJob.java:249)\n  at com.bumptech.glide.load.engine.DecodeJob.run(DecodeJob.java:222)<br>\n  at\n  java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1133)\n  at\n  java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:607)\n  at java.lang.Thread.run(Thread.java:761)<br>\n  at\n  com.bumptech.glide.load.engine.executor.GlideExecutor$DefaultThreadFactory$1.run(GlideExecutor.java:347)</p>\n</blockquote>\n\n<p>So how can use firebase storage images in my android app in a best way?</p>\n\n<p>also this my build gradle dependencies:</p>\n\n<pre><code>dependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'com.android.support:appcompat-v7:27.0.2'\n    implementation 'com.android.support:palette-v7:27.0.2'\n    implementation \"com.android.support:cardview-v7:27.0.2\"\n    implementation \"com.android.support:recyclerview-v7:27.0.2\"\n    implementation \"com.android.support:support-v4:27.0.2\"\n    implementation 'com.android.support:design:27.0.2'\n\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'\n    implementation 'com.github.florent37:materialviewpager:1.2.3'\n\n\n    implementation 'com.google.firebase:firebase-database:11.8.0'\n    implementation 'com.google.firebase:firebase-storage:11.8.0'\n    implementation 'com.firebaseui:firebase-ui-storage:2.0.1'\n    implementation 'com.google.firebase:firebase-auth:11.8.0'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.1'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'\n}\n</code></pre>\n"},{"tags":["java","spring-boot","maven","liquibase","jooq"],"comments":[{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1647854504,"post_id":71553985,"comment_id":126466753,"body_markdown":"Is this really a different question from your previous one? https://stackoverflow.com/q/71552585/521799","body":"Is this really a different question from your previous one? <a href=\"https://stackoverflow.com/q/71552585/521799\">stackoverflow.com/q/71552585/521799</a>"}],"answers":[{"tags":[],"owner":{"account_id":24666064,"reputation":365,"user_id":18561714,"display_name":"tabbyfoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654229772,"creation_date":1654229772,"answer_id":72484658,"question_id":71553985,"body_markdown":"This seems like the same ask as your [earlier question][1]. \r\n\r\nIf it&#39;s not the same, then the first place to look is [Liquibase Documentation for Maven][2] and then the jOOQ manual for [Code generation from Liquibase XML, YAML, JSON files][3].\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/71552585/521799\r\n  [2]: https://docs.liquibase.com/tools-integrations/maven/home.html\r\n  [3]: https://www.jooq.org/doc/latest/manual/code-generation/codegen-liquibase/","title":"How would liquibase work for different deployments or prod environments on integration with maven plugin?","body":"<p>This seems like the same ask as your <a href=\"https://stackoverflow.com/q/71552585/521799\">earlier question</a>.</p>\n<p>If it's not the same, then the first place to look is <a href=\"https://docs.liquibase.com/tools-integrations/maven/home.html\" rel=\"nofollow noreferrer\">Liquibase Documentation for Maven</a> and then the jOOQ manual for <a href=\"https://www.jooq.org/doc/latest/manual/code-generation/codegen-liquibase/\" rel=\"nofollow noreferrer\">Code generation from Liquibase XML, YAML, JSON files</a>.</p>\n"}],"owner":{"account_id":24617626,"reputation":63,"user_id":18518406,"display_name":"Divyanshi Mangal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654229772,"creation_date":1647846948,"question_id":71553985,"body_markdown":"I have integrated **liquibase with maven plugin** (in pom.xml) along with **jOOQ generator** that reads from db connection after liquibase migration.\r\nThe liquibase migration -&gt; jooq generator runs on running **mvn clean compile** (Compile and build step).\r\nI am wondering how will the liquibase change-management work for different deployments or **different prod environments**?\r\nWill it **create tables automatically** for all the prod environments? Please guide.\r\n","title":"How would liquibase work for different deployments or prod environments on integration with maven plugin?","body":"<p>I have integrated <strong>liquibase with maven plugin</strong> (in pom.xml) along with <strong>jOOQ generator</strong> that reads from db connection after liquibase migration.\nThe liquibase migration -&gt; jooq generator runs on running <strong>mvn clean compile</strong> (Compile and build step).\nI am wondering how will the liquibase change-management work for different deployments or <strong>different prod environments</strong>?\nWill it <strong>create tables automatically</strong> for all the prod environments? Please guide.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8700,"page":1292,"page_size":100}
