{"items":[{"tags":["java","spring","docker","spring-security","ldap"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1665778914,"post_id":74070581,"comment_id":130786150,"body_markdown":"ldap doesnt use port 443....","body":"ldap doesnt use port 443...."},{"owner":{"account_id":9230737,"reputation":205,"user_id":6856889,"display_name":"piotrassss"},"score":0,"creation_date":1665855738,"post_id":74070581,"comment_id":130798619,"body_markdown":"Sure, port 443 is to allow https connection to application from outside. And what we want is to connect to outside LDAP from inside application. Do I really also need to expose LDAP port to do this ?","body":"Sure, port 443 is to allow https connection to application from outside. And what we want is to connect to outside LDAP from inside application. Do I really also need to expose LDAP port to do this ?"}],"owner":{"account_id":9230737,"reputation":205,"user_id":6856889,"display_name":"piotrassss"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":426,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665758535,"creation_date":1665756798,"question_id":74070581,"body_markdown":"I&#39;m using Spring Boot LdapTemplate to get data from corporate LDAP. Everything is working fine when running code from development non-docker environment (Windows10 with IntelliJ).\r\n\r\nWhen the application is deployed in docker container, then there is a problem when executing search line:\r\n\r\n    Filter f = new EqualsFilter(ldapAttributeEmail, email);\r\n    ldapTemplate.search(ldapBase, f.toString(), new MyAbstractCtxMapper());\r\n\r\ndocker image is openjdk:17-jdk-slim:\r\n\r\n    FROM openjdk:17-jdk-slim\r\n    EXPOSE 443\r\n    ARG JAR_FILE=app.war\r\n    ADD ${JAR_FILE} app.war\r\n    ARG PROPS_FILE=application.properties\r\n    ADD ${PROPS_FILE} application.properties\r\n    ARG TIKA_CONFIG_FILE=tika-config.xml\r\n    ADD ${TIKA_CONFIG_FILE} tika-config.xml\r\n    ARG CERT_FILE=cert.p12\r\n    ADD ${CERT_FILE} cert.p12\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.war&quot;]\r\n\r\nSpring Boot version is 2.7.2 and dependency for LDAP is:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-ldap&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\nLDAP connection is configured in configuration class, credentials are ok:\r\n\r\n    @Configuration\r\n    public class LDAPConfiguration {\r\n\r\n    private final String ldapUrl;\r\n    private final String ldapUser;\r\n    private final String ldapPassword;\r\n\r\n    @Autowired\r\n    public LDAPConfiguration(\r\n            @Value(&quot;${ldap.url}&quot;) String ldapUrl,\r\n            @Value(&quot;${ldap.principal}&quot;) String ldapUser,\r\n            @Value(&quot;${ldap.password}&quot;) String ldapPassword) {\r\n        this.ldapUrl = ldapUrl;\r\n        this.ldapUser = ldapUser;\r\n        this.ldapPassword = ldapPassword;\r\n    }\r\n\r\n    @Bean\r\n    public LdapContextSource ldapContextSource() {\r\n        LdapContextSource contextSource = new LdapContextSource();\r\n\r\n        contextSource.setUrl(ldapUrl);\r\n        contextSource.setUserDn(ldapUser);\r\n        contextSource.setPassword(ldapPassword);\r\n\r\n        return contextSource;\r\n    }\r\n\r\n    @Bean\r\n    public LdapTemplate ldapTemplate() {\r\n        return new LdapTemplate(ldapContextSource());\r\n    }\r\n}\r\n\r\n\r\nthrown exception is:\r\n\r\n    org.springframework.ldap.UncategorizedLdapException: Uncategorized exception occured during LDAP processing; nested exception is javax.naming.NamingException: LDAP connection has been closed; remaining name &#39;ou=People,o=XXX&#39;\r\n        at org.springframework.ldap.support.LdapUtils.convertLdapException(LdapUtils.java:228) ~[spring-ldap-core-2.4.1.jar!/:2.4.1]\r\n        at org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:401) ~[spring-ldap-core-2.4.1.jar!/:2.4.1]\r\n        at org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:332) ~[spring-ldap-core-2.4.1.jar!/:2.4.1]\r\n        at org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:633) ~[spring-ldap-core-2.4.1.jar!/:2.4.1]\r\n        at org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:574) ~[spring-ldap-core-2.4.1.jar!/:2.4.1]\r\n        at org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:534) ~[spring-ldap-core-2.4.1.jar!/:2.4.1]\r\n        at org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:550) ~[spring-ldap-core-2.4.1.jar!/:2.4.1]\r\n        at org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:566) ~[spring-ldap-core-2.4.1.jar!/:2.4.1]\r\n        at com.nokia.mn.mdmt.security.LDAPSearchProvider.getDnForUser(LDAPSearchProvider.java:53) ~[classes!/:0.0.1-SNAPSHOT]\r\n        at com.nokia.mn.mdmt.security.LDAPAuthenticationProvider.authenticate(LDAPAuthenticationProvider.java:60) ~[classes!/:0.0.1-SNAPSHOT]\r\n        at com.nokia.mn.mdmt.security.LDAPAuthenticationProvider.authenticate(LDAPAuthenticationProvider.java:114) ~[classes!/:0.0.1-SNAPSHOT]\r\n        at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.7.2.jar!/:5.7.2]\r\n        at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.7.2.jar!/:5.7.2]\r\n        at org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter.attemptAuthentication(UsernamePasswordAuthenticationFilter.java:85) ~[spring-security-web-5.7.2.jar!/:5.7.2]\r\n        at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-5.7.2.jar!/:5.7.2]\r\n        at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217) ~[spring-security-web-5.7.2.jar!/:5.7.2]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar!/:5.7.2]\r\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.2.jar!/:5.7.2]\r\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.2.jar!/:5.7.2]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar!/:5.7.2]\r\n        at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:132) ~[spring-security-web-5.7.2.jar!/:5.7.2]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar!/:5.3.22]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar!/:5.7.2]\r\n        at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.2.jar!/:5.7.2]\r\n        at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.2.jar!/:5.7.2]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar!/:5.3.22]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar!/:5.7.2]\r\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.2.jar!/:5.7.2]\r\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.2.jar!/:5.7.2]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar!/:5.7.2]\r\n        at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.2.jar!/:5.7.2]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar!/:5.3.22]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar!/:5.7.2]\r\n        at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.2.jar!/:5.7.2]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar!/:5.3.22]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar!/:5.7.2]\r\n        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.2.jar!/:5.7.2]\r\n        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.2.jar!/:5.7.2]\r\n        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.22.jar!/:5.3.22]\r\n        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.22.jar!/:5.3.22]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.22.jar!/:5.3.22]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar!/:5.3.22]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.22.jar!/:5.3.22]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar!/:5.3.22]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.22.jar!/:5.3.22]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar!/:5.3.22]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n        at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n      Caused by: javax.naming.NamingException: LDAP connection has been closed\r\n        at java.naming/com.sun.jndi.ldap.LdapRequest.getReplyBer(LdapRequest.java:133) ~[na:na]\r\n        at java.naming/com.sun.jndi.ldap.Connection.readReply(Connection.java:444) ~[na:na]\r\n        at java.naming/com.sun.jndi.ldap.LdapClient.getSearchReply(LdapClient.java:639) ~[na:na]\r\n        at java.naming/com.sun.jndi.ldap.LdapClient.search(LdapClient.java:562) ~[na:na]\r\n        at java.naming/com.sun.jndi.ldap.LdapCtx.doSearch(LdapCtx.java:2014) ~[na:na]\r\n        at java.naming/com.sun.jndi.ldap.LdapCtx.searchAux(LdapCtx.java:1873) ~[na:na]\r\n        at java.naming/com.sun.jndi.ldap.LdapCtx.c_search(LdapCtx.java:1798) ~[na:na]\r\n        at java.naming/com.sun.jndi.toolkit.ctx.ComponentDirContext.p_search(ComponentDirContext.java:392) ~[na:na]\r\n        at java.naming/com.sun.jndi.toolkit.ctx.PartialCompositeDirContext.search(PartialCompositeDirContext.java:358) ~[na:na]\r\n        at java.naming/com.sun.jndi.toolkit.ctx.PartialCompositeDirContext.search(PartialCompositeDirContext.java:341) ~[na:na]\r\n        at java.naming/javax.naming.directory.InitialDirContext.search(InitialDirContext.java:296) ~[na:na]\r\n        at org.springframework.ldap.core.LdapTemplate$4.executeSearch(LdapTemplate.java:326) ~[spring-ldap-core-2.4.1.jar!/:2.4.1]\r\n        at org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:367) ~[spring-ldap-core-2.4.1.jar!/:2.4.1]\r\n        ... 68 common frames omitted\r\n\r\n\r\nWhat could be cause of above exception ?\r\n ","title":"Cannot search corporate LDAP from docker container","body":"<p>I'm using Spring Boot LdapTemplate to get data from corporate LDAP. Everything is working fine when running code from development non-docker environment (Windows10 with IntelliJ).</p>\n<p>When the application is deployed in docker container, then there is a problem when executing search line:</p>\n<pre><code>Filter f = new EqualsFilter(ldapAttributeEmail, email);\nldapTemplate.search(ldapBase, f.toString(), new MyAbstractCtxMapper());\n</code></pre>\n<p>docker image is openjdk:17-jdk-slim:</p>\n<pre><code>FROM openjdk:17-jdk-slim\nEXPOSE 443\nARG JAR_FILE=app.war\nADD ${JAR_FILE} app.war\nARG PROPS_FILE=application.properties\nADD ${PROPS_FILE} application.properties\nARG TIKA_CONFIG_FILE=tika-config.xml\nADD ${TIKA_CONFIG_FILE} tika-config.xml\nARG CERT_FILE=cert.p12\nADD ${CERT_FILE} cert.p12\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.war&quot;]\n</code></pre>\n<p>Spring Boot version is 2.7.2 and dependency for LDAP is:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-ldap&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>LDAP connection is configured in configuration class, credentials are ok:</p>\n<pre><code>@Configuration\npublic class LDAPConfiguration {\n\nprivate final String ldapUrl;\nprivate final String ldapUser;\nprivate final String ldapPassword;\n\n@Autowired\npublic LDAPConfiguration(\n        @Value(&quot;${ldap.url}&quot;) String ldapUrl,\n        @Value(&quot;${ldap.principal}&quot;) String ldapUser,\n        @Value(&quot;${ldap.password}&quot;) String ldapPassword) {\n    this.ldapUrl = ldapUrl;\n    this.ldapUser = ldapUser;\n    this.ldapPassword = ldapPassword;\n}\n\n@Bean\npublic LdapContextSource ldapContextSource() {\n    LdapContextSource contextSource = new LdapContextSource();\n\n    contextSource.setUrl(ldapUrl);\n    contextSource.setUserDn(ldapUser);\n    contextSource.setPassword(ldapPassword);\n\n    return contextSource;\n}\n\n@Bean\npublic LdapTemplate ldapTemplate() {\n    return new LdapTemplate(ldapContextSource());\n}\n</code></pre>\n<p>}</p>\n<p>thrown exception is:</p>\n<pre><code>org.springframework.ldap.UncategorizedLdapException: Uncategorized exception occured during LDAP processing; nested exception is javax.naming.NamingException: LDAP connection has been closed; remaining name 'ou=People,o=XXX'\n    at org.springframework.ldap.support.LdapUtils.convertLdapException(LdapUtils.java:228) ~[spring-ldap-core-2.4.1.jar!/:2.4.1]\n    at org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:401) ~[spring-ldap-core-2.4.1.jar!/:2.4.1]\n    at org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:332) ~[spring-ldap-core-2.4.1.jar!/:2.4.1]\n    at org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:633) ~[spring-ldap-core-2.4.1.jar!/:2.4.1]\n    at org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:574) ~[spring-ldap-core-2.4.1.jar!/:2.4.1]\n    at org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:534) ~[spring-ldap-core-2.4.1.jar!/:2.4.1]\n    at org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:550) ~[spring-ldap-core-2.4.1.jar!/:2.4.1]\n    at org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:566) ~[spring-ldap-core-2.4.1.jar!/:2.4.1]\n    at com.nokia.mn.mdmt.security.LDAPSearchProvider.getDnForUser(LDAPSearchProvider.java:53) ~[classes!/:0.0.1-SNAPSHOT]\n    at com.nokia.mn.mdmt.security.LDAPAuthenticationProvider.authenticate(LDAPAuthenticationProvider.java:60) ~[classes!/:0.0.1-SNAPSHOT]\n    at com.nokia.mn.mdmt.security.LDAPAuthenticationProvider.authenticate(LDAPAuthenticationProvider.java:114) ~[classes!/:0.0.1-SNAPSHOT]\n    at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.7.2.jar!/:5.7.2]\n    at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.7.2.jar!/:5.7.2]\n    at org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter.attemptAuthentication(UsernamePasswordAuthenticationFilter.java:85) ~[spring-security-web-5.7.2.jar!/:5.7.2]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-5.7.2.jar!/:5.7.2]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217) ~[spring-security-web-5.7.2.jar!/:5.7.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar!/:5.7.2]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.2.jar!/:5.7.2]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.2.jar!/:5.7.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar!/:5.7.2]\n    at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:132) ~[spring-security-web-5.7.2.jar!/:5.7.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar!/:5.3.22]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar!/:5.7.2]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.2.jar!/:5.7.2]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.2.jar!/:5.7.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar!/:5.3.22]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar!/:5.7.2]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.2.jar!/:5.7.2]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.2.jar!/:5.7.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar!/:5.7.2]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.2.jar!/:5.7.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar!/:5.3.22]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar!/:5.7.2]\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.2.jar!/:5.7.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar!/:5.3.22]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar!/:5.7.2]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.2.jar!/:5.7.2]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.2.jar!/:5.7.2]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.22.jar!/:5.3.22]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.22.jar!/:5.3.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar!/:na]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar!/:na]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.22.jar!/:5.3.22]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar!/:5.3.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar!/:na]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar!/:na]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.22.jar!/:5.3.22]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar!/:5.3.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar!/:na]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar!/:na]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.22.jar!/:5.3.22]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar!/:5.3.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar!/:na]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar!/:na]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.65.jar!/:na]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.65.jar!/:na]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.65.jar!/:na]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.65.jar!/:na]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.65.jar!/:na]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.65.jar!/:na]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.65.jar!/:na]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.65.jar!/:na]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.65.jar!/:na]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.65.jar!/:na]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.65.jar!/:na]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.65.jar!/:na]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.65.jar!/:na]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.65.jar!/:na]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.65.jar!/:na]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n  Caused by: javax.naming.NamingException: LDAP connection has been closed\n    at java.naming/com.sun.jndi.ldap.LdapRequest.getReplyBer(LdapRequest.java:133) ~[na:na]\n    at java.naming/com.sun.jndi.ldap.Connection.readReply(Connection.java:444) ~[na:na]\n    at java.naming/com.sun.jndi.ldap.LdapClient.getSearchReply(LdapClient.java:639) ~[na:na]\n    at java.naming/com.sun.jndi.ldap.LdapClient.search(LdapClient.java:562) ~[na:na]\n    at java.naming/com.sun.jndi.ldap.LdapCtx.doSearch(LdapCtx.java:2014) ~[na:na]\n    at java.naming/com.sun.jndi.ldap.LdapCtx.searchAux(LdapCtx.java:1873) ~[na:na]\n    at java.naming/com.sun.jndi.ldap.LdapCtx.c_search(LdapCtx.java:1798) ~[na:na]\n    at java.naming/com.sun.jndi.toolkit.ctx.ComponentDirContext.p_search(ComponentDirContext.java:392) ~[na:na]\n    at java.naming/com.sun.jndi.toolkit.ctx.PartialCompositeDirContext.search(PartialCompositeDirContext.java:358) ~[na:na]\n    at java.naming/com.sun.jndi.toolkit.ctx.PartialCompositeDirContext.search(PartialCompositeDirContext.java:341) ~[na:na]\n    at java.naming/javax.naming.directory.InitialDirContext.search(InitialDirContext.java:296) ~[na:na]\n    at org.springframework.ldap.core.LdapTemplate$4.executeSearch(LdapTemplate.java:326) ~[spring-ldap-core-2.4.1.jar!/:2.4.1]\n    at org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:367) ~[spring-ldap-core-2.4.1.jar!/:2.4.1]\n    ... 68 common frames omitted\n</code></pre>\n<p>What could be cause of above exception ?</p>\n"},{"tags":["java","spring","mongodb","spring-boot","spring-data-mongodb"],"answers":[{"tags":[],"owner":{"account_id":16432809,"reputation":320,"user_id":11871203,"display_name":"Redi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662066721,"creation_date":1662066721,"answer_id":73575451,"question_id":73574789,"body_markdown":"You can update a document using the [MongoCollection#updateOne()][1] method \r\n\r\nAn example would be:\r\n\r\n    collection.updateOne(Filters.eq(&quot;_id&quot;, new ObjectId(&quot;1234&quot;)), Updates.set(&quot;date&quot;, new Date());\r\n\r\n\r\n\r\n  [1]: https://mongodb.github.io/mongo-java-driver/4.7/apidocs/mongodb-driver-sync/com/mongodb/client/MongoCollection.html#updateOne(org.bson.conversions.Bson,org.bson.conversions.Bson)","title":"How to upgrade this code to latest Mongo Java driver?","body":"<p>You can update a document using the <a href=\"https://mongodb.github.io/mongo-java-driver/4.7/apidocs/mongodb-driver-sync/com/mongodb/client/MongoCollection.html#updateOne(org.bson.conversions.Bson,org.bson.conversions.Bson)\" rel=\"nofollow noreferrer\">MongoCollection#updateOne()</a> method</p>\n<p>An example would be:</p>\n<pre><code>collection.updateOne(Filters.eq(&quot;_id&quot;, new ObjectId(&quot;1234&quot;)), Updates.set(&quot;date&quot;, new Date());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664006767,"creation_date":1662713281,"answer_id":73659576,"question_id":73574789,"body_markdown":"I will try to answer your questions. \r\n\r\nQ : **How to do either Update or Save on the Document in one go?**\r\n\r\n-&gt; MongoDB&#39;s `update` method updates the values in the existing document whereas the `save` method replaces the existing document with the document passed. Nothing happens in one go. \r\n\r\n`update` method only updates which are specific fields which are modified by comparing the fields from the modified document with the original document whereas the `save` method updates/replaces the values of all the fields of an original document by the taking values from the modified document and setting the values into the original document.\r\n\r\nQ : **What will be the proper way to update a single document in the new (Mongo Java driver 4.7.0)**\r\n\r\n-&gt; You should be using `updateOne(query, updates, options)` to update a single document on a MongoCollection object.\r\n\r\nFrom [updateOne docs][1] : \r\n\r\n&gt; The method accepts a filter that matches the document you want to\r\n&gt; update and an update statement that instructs the driver how to change\r\n&gt; the matching document. The updateOne() method only updates the first\r\n&gt; document that matches the filter.\r\n&gt; \r\n&gt; To perform an update with the updateOne() method, you must pass a\r\n&gt; query filter and an update document. The query filter specifies the\r\n&gt; criteria for which document to perform the update on and the update\r\n&gt; document provides instructions on what changes to make to it.\r\n&gt; \r\n&gt; You can optionally pass an instance of UpdateOptions to the\r\n&gt; updateOne() method in order to specify the method&#39;s behavior. For\r\n&gt; example, if you set the upsert field of the UpdateOptions object to\r\n&gt; true, the operation inserts a new document from the fields in both the\r\n&gt; query and update document if no documents match the query filter.\r\n\r\nQ : **Is it seems like it was an attempt to do UPSERT operation (Update or Insert) ?**\r\n\r\n-&gt; Yes, it&#39;s an upsert operation.\r\n\r\nQ : **Why the code is trying to remove `_id` from document ?**\r\n\r\n-&gt; The `update` method will update the document if the document was found by `internal_id`. If the document was not found and also if there is no `_id` field in the document, then the mongoshell will consider it as a new document and will invoke `insert` method internally via the `update` method to insert the document. For the insertion to happen, that&#39;s why it was removed from document.\r\n\r\nJust update the code to this. \r\n\r\n    @Override\r\n    public void saveOrUpdatePrinter(Document printer) {   \r\n        MongoCollection&lt;Document&gt; collection = mongoTemplate.getCollection(&quot;PRINTERS&quot;);     \r\n        Document query = new Document().append(PRINTER_COLUMNS.internal_id, printer.get(PRINTER_COLUMNS.internal_id));\r\n        UpdateOptions options = new UpdateOptions().upsert(true);\r\n        printer.put(PRINTER_COLUMNS.updateDate,new Date());\r\n        UpdateResult result = collection.updateOne(query, printer, options);             \r\n        logger.debug(&quot;saveOrUpdatePrinter updated records: &quot; + result.getModifiedCount());\r\n    }\r\n\r\n\r\n  [1]: https://www.mongodb.com/docs/drivers/java/sync/v4.6/usage-examples/updateOne/\r\n","title":"How to upgrade this code to latest Mongo Java driver?","body":"<p>I will try to answer your questions.</p>\n<p>Q : <strong>How to do either Update or Save on the Document in one go?</strong></p>\n<p>-&gt; MongoDB's <code>update</code> method updates the values in the existing document whereas the <code>save</code> method replaces the existing document with the document passed. Nothing happens in one go.</p>\n<p><code>update</code> method only updates which are specific fields which are modified by comparing the fields from the modified document with the original document whereas the <code>save</code> method updates/replaces the values of all the fields of an original document by the taking values from the modified document and setting the values into the original document.</p>\n<p>Q : <strong>What will be the proper way to update a single document in the new (Mongo Java driver 4.7.0)</strong></p>\n<p>-&gt; You should be using <code>updateOne(query, updates, options)</code> to update a single document on a MongoCollection object.</p>\n<p>From <a href=\"https://www.mongodb.com/docs/drivers/java/sync/v4.6/usage-examples/updateOne/\" rel=\"nofollow noreferrer\">updateOne docs</a> :</p>\n<blockquote>\n<p>The method accepts a filter that matches the document you want to\nupdate and an update statement that instructs the driver how to change\nthe matching document. The updateOne() method only updates the first\ndocument that matches the filter.</p>\n<p>To perform an update with the updateOne() method, you must pass a\nquery filter and an update document. The query filter specifies the\ncriteria for which document to perform the update on and the update\ndocument provides instructions on what changes to make to it.</p>\n<p>You can optionally pass an instance of UpdateOptions to the\nupdateOne() method in order to specify the method's behavior. For\nexample, if you set the upsert field of the UpdateOptions object to\ntrue, the operation inserts a new document from the fields in both the\nquery and update document if no documents match the query filter.</p>\n</blockquote>\n<p>Q : <strong>Is it seems like it was an attempt to do UPSERT operation (Update or Insert) ?</strong></p>\n<p>-&gt; Yes, it's an upsert operation.</p>\n<p>Q : <strong>Why the code is trying to remove <code>_id</code> from document ?</strong></p>\n<p>-&gt; The <code>update</code> method will update the document if the document was found by <code>internal_id</code>. If the document was not found and also if there is no <code>_id</code> field in the document, then the mongoshell will consider it as a new document and will invoke <code>insert</code> method internally via the <code>update</code> method to insert the document. For the insertion to happen, that's why it was removed from document.</p>\n<p>Just update the code to this.</p>\n<pre><code>@Override\npublic void saveOrUpdatePrinter(Document printer) {   \n    MongoCollection&lt;Document&gt; collection = mongoTemplate.getCollection(&quot;PRINTERS&quot;);     \n    Document query = new Document().append(PRINTER_COLUMNS.internal_id, printer.get(PRINTER_COLUMNS.internal_id));\n    UpdateOptions options = new UpdateOptions().upsert(true);\n    printer.put(PRINTER_COLUMNS.updateDate,new Date());\n    UpdateResult result = collection.updateOne(query, printer, options);             \n    logger.debug(&quot;saveOrUpdatePrinter updated records: &quot; + result.getModifiedCount());\n}\n</code></pre>\n"}],"owner":{"account_id":326318,"reputation":7188,"user_id":648026,"accept_rate":79,"display_name":"JavaSheriff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":470,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":73659576,"answer_count":2,"score":2,"last_activity_date":1665758259,"creation_date":1662062050,"question_id":73574789,"body_markdown":"I am working on this legacy application (7 years old). I have many methods that do the same thing that I am trying to upgrade to a newer MongoDB Java driver, but it won&#39;t compile.\r\n\r\n    @Override\r\n    public void saveOrUpdatePrinter(Document printer) {\r\n    \tprinter.put(PRINTER_COLUMNS.updateDate,new Date());\t\t\r\n    \tMongoCollection&lt;Document&gt; collection = mongoTemplate.getCollection(&quot;PRINTERS&quot;);\r\n    \tprinter.remove(&quot;_id&quot;);\t\t\r\n        Document query = new Document().append(PRINTER_COLUMNS.internal_id, printer.get(PRINTER_COLUMNS.internal_id));\t    \t    \r\n    \tWriteResult result = collection.update(query, printer, true, false);\r\n    \tlogger.debug(&quot;saveOrUpdatePrinter updeded records: &quot; + result.getN());\r\n    }//\r\n\r\nThe error is:\r\n\r\n&gt; The method update(Document, Document, boolean, boolean) is undefined\r\n&gt; for the type MongoCollection\\&lt;Document&gt;\r\n\r\nWhy was this removed?\r\n    \r\n    printer.remove(&quot;_id&quot;);\r\n\r\nAlso I would like to know how to do either update or save on the document in one go?\r\n\r\nAnd what will be the proper way to update a single document in the new (MongoDB Java driver 4.7.0)?\r\n\r\nReading this code a little more seems like it was an attempt to do UPSERT operation (update or insert).","title":"How to upgrade this code to latest Mongo Java driver?","body":"<p>I am working on this legacy application (7 years old). I have many methods that do the same thing that I am trying to upgrade to a newer MongoDB Java driver, but it won't compile.</p>\n<pre><code>@Override\npublic void saveOrUpdatePrinter(Document printer) {\n    printer.put(PRINTER_COLUMNS.updateDate,new Date());     \n    MongoCollection&lt;Document&gt; collection = mongoTemplate.getCollection(&quot;PRINTERS&quot;);\n    printer.remove(&quot;_id&quot;);      \n    Document query = new Document().append(PRINTER_COLUMNS.internal_id, printer.get(PRINTER_COLUMNS.internal_id));              \n    WriteResult result = collection.update(query, printer, true, false);\n    logger.debug(&quot;saveOrUpdatePrinter updeded records: &quot; + result.getN());\n}//\n</code></pre>\n<p>The error is:</p>\n<blockquote>\n<p>The method update(Document, Document, boolean, boolean) is undefined\nfor the type MongoCollection&lt;Document&gt;</p>\n</blockquote>\n<p>Why was this removed?</p>\n<pre><code>printer.remove(&quot;_id&quot;);\n</code></pre>\n<p>Also I would like to know how to do either update or save on the document in one go?</p>\n<p>And what will be the proper way to update a single document in the new (MongoDB Java driver 4.7.0)?</p>\n<p>Reading this code a little more seems like it was an attempt to do UPSERT operation (update or insert).</p>\n"},{"tags":["java","reactive-programming","rx-java2","reactive","rx-java-completable"],"answers":[{"tags":[],"owner":{"account_id":19663187,"reputation":383,"user_id":14394219,"display_name":"artiomi"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1665684425,"creation_date":1665684425,"answer_id":74060034,"question_id":74059353,"body_markdown":"Try to chain the `Completable` this way because each call to `andThen()` is returning new instance of `Completable`.\r\n```\r\nCompletable x = Completable.complete();\r\nString[] allID = {&quot;01&quot;,&quot;02&quot;,&quot;09&quot;}\r\nfor (String Id : allID) {\r\n  x = x.andThen(processdata(Id));\r\n }\r\nreturn x;\r\n```","title":"How to add andThen() in a Completable.complete() programmatically in Rx / Reactive Java","body":"<p>Try to chain the <code>Completable</code> this way because each call to <code>andThen()</code> is returning new instance of <code>Completable</code>.</p>\n<pre><code>Completable x = Completable.complete();\nString[] allID = {&quot;01&quot;,&quot;02&quot;,&quot;09&quot;}\nfor (String Id : allID) {\n  x = x.andThen(processdata(Id));\n }\nreturn x;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2368363,"reputation":92154,"user_id":2073595,"display_name":"dano"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665758008,"creation_date":1665692838,"answer_id":74061431,"question_id":74059353,"body_markdown":"The idiomatic RxJava way would be to do it like this, so you don&#39;t have to keep reassigning `Completable` instances to the same reference:\r\n\r\n    return Observable.fromArray(&quot;01&quot;,&quot;02&quot;,&quot;09&quot;)\r\n       .concatMapCompletable(id -&gt; processData(id));","title":"How to add andThen() in a Completable.complete() programmatically in Rx / Reactive Java","body":"<p>The idiomatic RxJava way would be to do it like this, so you don't have to keep reassigning <code>Completable</code> instances to the same reference:</p>\n<pre><code>return Observable.fromArray(&quot;01&quot;,&quot;02&quot;,&quot;09&quot;)\n   .concatMapCompletable(id -&gt; processData(id));\n</code></pre>\n"}],"owner":{"account_id":16459991,"reputation":11,"user_id":11891288,"display_name":"herman s"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1665758008,"creation_date":1665680278,"question_id":74059353,"body_markdown":"how do i make a chain of andThen() operator on an Completable ?\r\n\r\nfor example, the original code is this:\r\n \r\n\r\n    return Completable.complete()\r\n            .andThen(processdata(&quot;01&quot;))\r\n            .andThen(processdata(&quot;02&quot;))\r\n            .andThen(processdata(&quot;03&quot;))\r\n            .andThen(processdata(&quot;04&quot;))\r\n            .andThen(processdata(&quot;05&quot;))\r\n            .andThen(processdata(&quot;06&quot;))\r\n            .andThen(processdata(&quot;07&quot;)); //working\r\n\r\nit worked perfectly!\r\n\r\nbut i dont want a &quot;static&quot; defined value, and tried to convert the code above into this:\r\n\r\n        Completable x = Completable.complete();\r\n        String[] allID = {&quot;01&quot;,&quot;02&quot;,&quot;09&quot;}\r\n\t    for (String Id : allID) {\r\n            x.andThen(processdata(Id));\r\n        }\r\n        return x; //not working\r\n\r\nand it is not woking, as if nothing happened\r\n\r\nand then i realized that :\r\n\r\n    \t    Completable x = Completable.complete();\r\n            x.andThen(processdata(&quot;01&quot;));\r\n            x.andThen(processdata(&quot;02&quot;));\r\n            x.andThen(processdata(&quot;03&quot;));\r\n\t        return x; //not working\r\nis also not working ...\r\n\r\ncan anybody help how the proper way to chain a Completable in my case\r\n\r\n","title":"How to add andThen() in a Completable.complete() programmatically in Rx / Reactive Java","body":"<p>how do i make a chain of andThen() operator on an Completable ?</p>\n<p>for example, the original code is this:</p>\n<pre><code>return Completable.complete()\n        .andThen(processdata(&quot;01&quot;))\n        .andThen(processdata(&quot;02&quot;))\n        .andThen(processdata(&quot;03&quot;))\n        .andThen(processdata(&quot;04&quot;))\n        .andThen(processdata(&quot;05&quot;))\n        .andThen(processdata(&quot;06&quot;))\n        .andThen(processdata(&quot;07&quot;)); //working\n</code></pre>\n<p>it worked perfectly!</p>\n<p>but i dont want a &quot;static&quot; defined value, and tried to convert the code above into this:</p>\n<pre><code>    Completable x = Completable.complete();\n    String[] allID = {&quot;01&quot;,&quot;02&quot;,&quot;09&quot;}\n    for (String Id : allID) {\n        x.andThen(processdata(Id));\n    }\n    return x; //not working\n</code></pre>\n<p>and it is not woking, as if nothing happened</p>\n<p>and then i realized that :</p>\n<pre><code>        Completable x = Completable.complete();\n        x.andThen(processdata(&quot;01&quot;));\n        x.andThen(processdata(&quot;02&quot;));\n        x.andThen(processdata(&quot;03&quot;));\n        return x; //not working\n</code></pre>\n<p>is also not working ...</p>\n<p>can anybody help how the proper way to chain a Completable in my case</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":1374097,"reputation":564,"user_id":1308453,"accept_rate":100,"display_name":"Philip Rego"},"score":13,"creation_date":1518761005,"post_id":23862994,"comment_id":84645336,"body_markdown":"@NeilStockton asking for a comparison between two technologies isn&#39;t asking for opinions.","body":"@NeilStockton asking for a comparison between two technologies isn&#39;t asking for opinions."}],"answers":[{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":450,"is_accepted":true,"score":450,"last_activity_date":1610139411,"creation_date":1401082958,"answer_id":23863416,"question_id":23862994,"body_markdown":"Hibernate is a JPA implementation, while Spring Data JPA is a JPA data access abstraction. Spring Data JPA cannot work without a JPA provider.\r\n\r\nSpring Data offers a solution to the [DDD `Repository` pattern][1] or the legacy `GenericDao` custom implementations. It can also generate JPA queries on your behalf through method name conventions.\r\n\r\nWith Spring Data, you may use Hibernate, EclipseLink, or any other JPA provider. A very interesting benefit of using Spring or Java EE is that you can control transaction boundaries declaratively using the `@Transactional` annotation.\r\n\r\nSpring JDBC is much more lightweight, and it&#39;s intended for native querying, and if you only intend to use JDBC alone, then you are better off using Spring JDBC to deal with the JDBC verbosity.\r\n\r\nTherefore, Hibernate and Spring Data are complementary rather than competitors.\r\n\r\n  [1]: https://learn.microsoft.com/en-us/dotnet/architecture/microservices/microservice-ddd-cqrs-patterns/infrastructure-persistence-layer-design","title":"What&#39;s the difference between Hibernate and Spring Data JPA","body":"<p>Hibernate is a JPA implementation, while Spring Data JPA is a JPA data access abstraction. Spring Data JPA cannot work without a JPA provider.</p>\n<p>Spring Data offers a solution to the <a href=\"https://learn.microsoft.com/en-us/dotnet/architecture/microservices/microservice-ddd-cqrs-patterns/infrastructure-persistence-layer-design\" rel=\"noreferrer\">DDD <code>Repository</code> pattern</a> or the legacy <code>GenericDao</code> custom implementations. It can also generate JPA queries on your behalf through method name conventions.</p>\n<p>With Spring Data, you may use Hibernate, EclipseLink, or any other JPA provider. A very interesting benefit of using Spring or Java EE is that you can control transaction boundaries declaratively using the <code>@Transactional</code> annotation.</p>\n<p>Spring JDBC is much more lightweight, and it's intended for native querying, and if you only intend to use JDBC alone, then you are better off using Spring JDBC to deal with the JDBC verbosity.</p>\n<p>Therefore, Hibernate and Spring Data are complementary rather than competitors.</p>\n"},{"tags":[],"owner":{"account_id":4381097,"reputation":3399,"user_id":3572733,"accept_rate":46,"display_name":"Bhagwati Malav"},"down_vote_count":0,"up_vote_count":223,"is_accepted":false,"score":223,"last_activity_date":1519112748,"creation_date":1502195535,"answer_id":45568472,"question_id":23862994,"body_markdown":"There are 3 different things we are using here :\r\n\r\n 1. JPA : Java persistence api which provide specification for persisting, reading, managing data from your java object to relations in database.\r\n 2. Hibernate: There are various provider which implement jpa. Hibernate is one of them. So we have other provider as well. But if using jpa with spring it allows you to switch to different providers in future. \r\n 3. Spring Data JPA : This is another layer on top of jpa which spring provide to make your life easy. \r\n\r\n*So lets understand how **spring data jpa and spring + hibernate** works-*\r\n\r\n\r\n----------\r\n\r\n\r\n### Spring Data JPA:\r\n\r\nLet&#39;s say you are using spring + hibernate for your application. Now you need to have dao interface and implementation where you will be writing crud operation using SessionFactory of hibernate. Let say you are writing dao class for Employee class, tomorrow in your application you might need to write similiar crud operation for any other entity. So there is lot of boilerplate code we can see here.\r\n\r\nNow Spring data jpa allow us to define dao interfaces by extending its repositories(crudrepository, jparepository) so it provide you dao implementation at runtime. You don&#39;t need to write dao implementation anymore.Thats how spring data jpa makes your life easy.\r\n\r\n ","title":"What&#39;s the difference between Hibernate and Spring Data JPA","body":"<p>There are 3 different things we are using here :</p>\n\n<ol>\n<li>JPA : Java persistence api which provide specification for persisting, reading, managing data from your java object to relations in database.</li>\n<li>Hibernate: There are various provider which implement jpa. Hibernate is one of them. So we have other provider as well. But if using jpa with spring it allows you to switch to different providers in future. </li>\n<li>Spring Data JPA : This is another layer on top of jpa which spring provide to make your life easy. </li>\n</ol>\n\n<p><em>So lets understand how <strong>spring data jpa and spring + hibernate</strong> works-</em></p>\n\n<hr>\n\n<h3>Spring Data JPA:</h3>\n\n<p>Let's say you are using spring + hibernate for your application. Now you need to have dao interface and implementation where you will be writing crud operation using SessionFactory of hibernate. Let say you are writing dao class for Employee class, tomorrow in your application you might need to write similiar crud operation for any other entity. So there is lot of boilerplate code we can see here.</p>\n\n<p>Now Spring data jpa allow us to define dao interfaces by extending its repositories(crudrepository, jparepository) so it provide you dao implementation at runtime. You don't need to write dao implementation anymore.Thats how spring data jpa makes your life easy.</p>\n"},{"tags":[],"owner":{"account_id":13457294,"reputation":447,"user_id":9710519,"display_name":"Klaudiusz Wojtkowiak"},"down_vote_count":2,"up_vote_count":45,"is_accepted":false,"score":43,"last_activity_date":1554099938,"creation_date":1533387711,"answer_id":51685858,"question_id":23862994,"body_markdown":"I disagree SpringJPA makes live easy. Yes, it provides some classes and you can make some simple DAO fast, but in fact, it&#39;s all you can do.\r\nIf you want to do something more than findById() or save, you must go through hell:\r\n\r\n\r\n - no EntityManager access in org.springframework.data.repository classes (this is basic JPA class!)\r\n - own transaction management (hibernate transactions disallowed)\r\n - huge problems with more than one datasources configuration\r\n - no datasource pooling (HikariCP must be in use as third party library)\r\n\r\nWhy own transaction management is an disadvantage? Since Java 1.8 allows default methods into interfaces, Spring annotation based transactions, simple doesn&#39;t work.\r\n\r\nUnfortunately, SpringJPA is based on reflections, and sometimes you need to point a method name or entity package into annotations (!). That&#39;s why any refactoring makes big crash.\r\nSadly, @Transactional works for primary DS only :( So, if you have more than one DataSources, remember - transactions works just for primary one :)\r\n\r\n&gt; What are the main differences between Hibernate and Spring Data JPA?\r\n\r\nHibernate is JPA compatibile, SpringJPA Spring compatibile. Your HibernateJPA DAO can be used with JavaEE or Hibernate Standalone, when SpringJPA can be used within Spring -  SpringBoot for example\r\n\r\n&gt; When should we not use Hibernate or Spring Data JPA? Also, when may Spring JDBC template perform better than Hibernate / Spring Data JPA?\r\n\r\nUse Spring JDBC only when you need to use much Joins or when you need to use Spring having multiple datasource connections. Generally, avoid JPA for Joins.\r\n\r\nBut my general advice, use fresh solution&amp;mdash;Daobab (http://www.daobab.io).\r\nDaobab is my Java and any JPA engine integrator, and I believe it will help much in your tasks :)\r\n\r\n\r\n\r\n","title":"What&#39;s the difference between Hibernate and Spring Data JPA","body":"<p>I disagree SpringJPA makes live easy. Yes, it provides some classes and you can make some simple DAO fast, but in fact, it's all you can do.\nIf you want to do something more than findById() or save, you must go through hell:</p>\n\n<ul>\n<li>no EntityManager access in org.springframework.data.repository classes (this is basic JPA class!)</li>\n<li>own transaction management (hibernate transactions disallowed)</li>\n<li>huge problems with more than one datasources configuration</li>\n<li>no datasource pooling (HikariCP must be in use as third party library)</li>\n</ul>\n\n<p>Why own transaction management is an disadvantage? Since Java 1.8 allows default methods into interfaces, Spring annotation based transactions, simple doesn't work.</p>\n\n<p>Unfortunately, SpringJPA is based on reflections, and sometimes you need to point a method name or entity package into annotations (!). That's why any refactoring makes big crash.\nSadly, @Transactional works for primary DS only :( So, if you have more than one DataSources, remember - transactions works just for primary one :)</p>\n\n<blockquote>\n  <p>What are the main differences between Hibernate and Spring Data JPA?</p>\n</blockquote>\n\n<p>Hibernate is JPA compatibile, SpringJPA Spring compatibile. Your HibernateJPA DAO can be used with JavaEE or Hibernate Standalone, when SpringJPA can be used within Spring -  SpringBoot for example</p>\n\n<blockquote>\n  <p>When should we not use Hibernate or Spring Data JPA? Also, when may Spring JDBC template perform better than Hibernate / Spring Data JPA?</p>\n</blockquote>\n\n<p>Use Spring JDBC only when you need to use much Joins or when you need to use Spring having multiple datasource connections. Generally, avoid JPA for Joins.</p>\n\n<p>But my general advice, use fresh solution&mdash;Daobab (<a href=\"http://www.daobab.io\" rel=\"noreferrer\">http://www.daobab.io</a>).\nDaobab is my Java and any JPA engine integrator, and I believe it will help much in your tasks :)</p>\n"},{"tags":[],"owner":{"account_id":14011963,"reputation":52,"user_id":10120356,"display_name":"Thoopalliamar"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1543334863,"creation_date":1533411203,"answer_id":51688975,"question_id":23862994,"body_markdown":"Hibernate is implementation of &quot;JPA&quot; which is a specification for Java objects in Database.\r\n\r\nI would recommend to use w.r.t JPA as you can switch between different ORMS.\r\n\r\nWhen you use JDBC then you need to use SQL Queries, so if you are proficient in SQL then go for JDBC.","title":"What&#39;s the difference between Hibernate and Spring Data JPA","body":"<p>Hibernate is implementation of \"JPA\" which is a specification for Java objects in Database.</p>\n\n<p>I would recommend to use w.r.t JPA as you can switch between different ORMS.</p>\n\n<p>When you use JDBC then you need to use SQL Queries, so if you are proficient in SQL then go for JDBC.</p>\n"},{"tags":[],"owner":{"account_id":4514192,"reputation":445,"user_id":3669507,"display_name":"GPopat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1571641072,"creation_date":1563040824,"answer_id":57021629,"question_id":23862994,"body_markdown":"If you prefer simplicity and more control on SQL queries then I would suggest going with Spring Data/ Spring JDBC.\r\n\r\nIts good amount of learning curve in JPA and sometimes difficult to debug issues.\r\nOn the other hand, while you have full control over SQL, it becomes much easier to optimize query and improve performance. You can easily share your SQL with DBA or someone who has a better understanding of Database.\r\n\r\n","title":"What&#39;s the difference between Hibernate and Spring Data JPA","body":"<p>If you prefer simplicity and more control on SQL queries then I would suggest going with Spring Data/ Spring JDBC.</p>\n\n<p>Its good amount of learning curve in JPA and sometimes difficult to debug issues.\nOn the other hand, while you have full control over SQL, it becomes much easier to optimize query and improve performance. You can easily share your SQL with DBA or someone who has a better understanding of Database.</p>\n"},{"tags":[],"owner":{"account_id":179957,"reputation":1300,"user_id":412965,"display_name":"raiks"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1579000080,"creation_date":1575904169,"answer_id":59251653,"question_id":23862994,"body_markdown":"`Spring Data` is a convenience library on top of `JPA` that abstracts away many things and brings Spring magic (like it or not) to the persistence store access. It is primarily used for working with relational databases. In short, it allows you to declare interfaces that have methods like `findByNameOrderByAge(String name);` that will be parsed in runtime and converted into appropriate `JPA` queries.\r\n \r\nIts placement atop of `JPA` makes its use tempting for:\r\n\r\n 1. Rookie developers who don&#39;t know `SQL` or know it badly. This is a\r\n    recipe for disaster but they can get away with it if the project is trivial. \r\n    \r\n 2. Experienced engineers who know what they do and want to spindle up things\r\n    fast. This might be a viable strategy (but read further).\r\n\r\nFrom my experience with `Spring Data`, its magic is too much (this is applicable to `Spring` in general). I started to use it heavily in one project and eventually hit several corner cases where I couldn&#39;t get the library out of my way and ended up with ugly workarounds. Later I read other users&#39; complaints and realized that these issues are typical for `Spring Data`. For example, check this issue that led to hours of investigation/swearing:\r\n\r\n     public TourAccommodationRate createTourAccommodationRate(\r\n            @RequestBody TourAccommodationRate tourAccommodationRate\r\n        ) {\r\n            if (tourAccommodationRate.getId() != null) {\r\n                throw new BadRequestException(&quot;id MUST NOT be specified in a body during entry creation&quot;);\r\n            }\r\n\r\n            // This is an ugly hack required for the Room slim model to work. The problem stems from the fact that\r\n            // when we send a child entity having the many-to-many (M:N) relation to the containing entity, its\r\n            // information is not fetched. As a result, we get NPEs when trying to access all but its Id in the\r\n            // code creating the corresponding slim model. By detaching the entity from the persistence context we\r\n            // force the ORM to re-fetch it from the database instead of taking it from the cache\r\n\r\n            tourAccommodationRateRepository.save(tourAccommodationRate);\r\n            entityManager.detach(tourAccommodationRate);\r\n            return tourAccommodationRateRepository.findOne(tourAccommodationRate.getId());\r\n        }\r\n\r\nI ended up going lower level and started using `JDBI` - a nice library with just enough &quot;magic&quot; to save you from the boilerplate. With it, you have complete control over SQL queries and almost never have to fight the library.","title":"What&#39;s the difference between Hibernate and Spring Data JPA","body":"<p><code>Spring Data</code> is a convenience library on top of <code>JPA</code> that abstracts away many things and brings Spring magic (like it or not) to the persistence store access. It is primarily used for working with relational databases. In short, it allows you to declare interfaces that have methods like <code>findByNameOrderByAge(String name);</code> that will be parsed in runtime and converted into appropriate <code>JPA</code> queries.</p>\n\n<p>Its placement atop of <code>JPA</code> makes its use tempting for:</p>\n\n<ol>\n<li><p>Rookie developers who don't know <code>SQL</code> or know it badly. This is a\nrecipe for disaster but they can get away with it if the project is trivial. </p></li>\n<li><p>Experienced engineers who know what they do and want to spindle up things\nfast. This might be a viable strategy (but read further).</p></li>\n</ol>\n\n<p>From my experience with <code>Spring Data</code>, its magic is too much (this is applicable to <code>Spring</code> in general). I started to use it heavily in one project and eventually hit several corner cases where I couldn't get the library out of my way and ended up with ugly workarounds. Later I read other users' complaints and realized that these issues are typical for <code>Spring Data</code>. For example, check this issue that led to hours of investigation/swearing:</p>\n\n<pre><code> public TourAccommodationRate createTourAccommodationRate(\n        @RequestBody TourAccommodationRate tourAccommodationRate\n    ) {\n        if (tourAccommodationRate.getId() != null) {\n            throw new BadRequestException(\"id MUST NOT be specified in a body during entry creation\");\n        }\n\n        // This is an ugly hack required for the Room slim model to work. The problem stems from the fact that\n        // when we send a child entity having the many-to-many (M:N) relation to the containing entity, its\n        // information is not fetched. As a result, we get NPEs when trying to access all but its Id in the\n        // code creating the corresponding slim model. By detaching the entity from the persistence context we\n        // force the ORM to re-fetch it from the database instead of taking it from the cache\n\n        tourAccommodationRateRepository.save(tourAccommodationRate);\n        entityManager.detach(tourAccommodationRate);\n        return tourAccommodationRateRepository.findOne(tourAccommodationRate.getId());\n    }\n</code></pre>\n\n<p>I ended up going lower level and started using <code>JDBI</code> - a nice library with just enough \"magic\" to save you from the boilerplate. With it, you have complete control over SQL queries and almost never have to fight the library.</p>\n"}],"owner":{"account_id":2766036,"reputation":5499,"user_id":2381737,"accept_rate":26,"display_name":"hard coder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174164,"favorite_count":0,"down_vote_count":2,"up_vote_count":340,"accepted_answer_id":23863416,"answer_count":6,"score":338,"last_activity_date":1665757695,"creation_date":1401080431,"question_id":23862994,"body_markdown":"What are the main differences between Hibernate and Spring Data JPA? \r\n\r\nWhen should we not use Hibernate or Spring Data JPA? \r\n\r\nAlso, when may Spring JDBC template perform better than Hibernate and Spring Data JPA?","title":"What&#39;s the difference between Hibernate and Spring Data JPA","body":"<p>What are the main differences between Hibernate and Spring Data JPA?</p>\n<p>When should we not use Hibernate or Spring Data JPA?</p>\n<p>Also, when may Spring JDBC template perform better than Hibernate and Spring Data JPA?</p>\n"},{"tags":["java","micronaut","graalvm","graalvm-native-image"],"answers":[{"tags":[],"owner":{"account_id":14473495,"reputation":473,"user_id":10454720,"display_name":"Иван Зыков"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665726960,"creation_date":1665726960,"answer_id":74064877,"question_id":73956991,"body_markdown":"I am suppose that this is happening because you are using native image. The application has been compiled already and you can&#39;t substitute these environment variables. May be you should try to do it on compiling step?","title":"Native Image: Overwrite configuration settings","body":"<p>I am suppose that this is happening because you are using native image. The application has been compiled already and you can't substitute these environment variables. May be you should try to do it on compiling step?</p>\n"},{"tags":[],"owner":{"account_id":930977,"reputation":8260,"user_id":960875,"accept_rate":98,"display_name":"saw303"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665757561,"creation_date":1665757561,"answer_id":74070732,"question_id":73956991,"body_markdown":"Repost of answer in [Micronaut discussion][1].\r\n\r\n&gt; You can pass properties as environment variables:\r\n\r\n```yml\r\nversion: &quot;3.9&quot;\r\nservices:\r\n  temposec:\r\n    image: ghcr.io/onstructive/tempo-security/tempo-security:0.2.25-native\r\n    environment:\r\n      MICRONAUT_HTTP_SERVICES_TEMPOSEC_URL: http://host.docker.internal:8090\r\n      ....\r\n```\r\n\r\n&gt; I believe this is more readable than a multi-line string variable.\r\n&gt; Alternatively, you can set the MICRONAUT_CONFIG_FILES env variable to a local file, and include all the configuration there.\r\n\r\n\r\n\r\n  [1]: https://github.com/micronaut-projects/micronaut-core/discussions/8109#discussioncomment-3848711","title":"Native Image: Overwrite configuration settings","body":"<p>Repost of answer in <a href=\"https://github.com/micronaut-projects/micronaut-core/discussions/8109#discussioncomment-3848711\" rel=\"nofollow noreferrer\">Micronaut discussion</a>.</p>\n<blockquote>\n<p>You can pass properties as environment variables:</p>\n</blockquote>\n<pre class=\"lang-yaml prettyprint-override\"><code>version: &quot;3.9&quot;\nservices:\n  temposec:\n    image: ghcr.io/onstructive/tempo-security/tempo-security:0.2.25-native\n    environment:\n      MICRONAUT_HTTP_SERVICES_TEMPOSEC_URL: http://host.docker.internal:8090\n      ....\n</code></pre>\n<blockquote>\n<p>I believe this is more readable than a multi-line string variable.\nAlternatively, you can set the MICRONAUT_CONFIG_FILES env variable to a local file, and include all the configuration there.</p>\n</blockquote>\n"}],"owner":{"account_id":930977,"reputation":8260,"user_id":960875,"accept_rate":98,"display_name":"saw303"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74070732,"answer_count":2,"score":0,"last_activity_date":1665757561,"creation_date":1664954421,"question_id":73956991,"body_markdown":"I&#39;m trying to run a Micronaut application as a native image in a Docker container. With the fat jar approach I could overwrite fields in my Micronaut configuration (`application.yml`) using the environment variable `JAVA_TOOL_OPTIONS` and then set a new value to my configuration fields (see listing below).\r\n\r\n```yml\r\nversion: &quot;3.9&quot;\r\nservices:\r\n  temposec:\r\n    image: ghcr.io/onstructive/tempo-security/tempo-security:0.2.25-native\r\n    environment:\r\n      JAVA_TOOL_OPTIONS: &quot;\\\r\n        -Dmicronaut.http.services.temposec.url=http://host.docker.internal:8090 \\\r\n        -Dlog.level.ch.onstructive=DEBUG \\\r\n        -Dmicronaut.caches.tempo-cache.maximumSize=0 \\\r\n        -Dmicronaut.caches.decision-cache.maximumSize=0 \\\r\n        -Dmicronaut.caches.attribute-cache.maximumSize=0 \\\r\n        -Dmicronaut.http.services.temposec.read-timeout=1s\r\n        &quot;\r\n    ports:\r\n      - &quot;127.0.0.1:6000:8080&quot;\r\n      - &quot;127.0.0.1:6001:8090&quot;\r\n```\r\n\r\nI guess that the native image does not care about the environment variable `JAVA_TOOL_OPTIONS`, so I was wondering how to do this with a GraalVM native image. Do I have to declare specific application env variables for each field? Or is there a more elegant way to achieve the same as with the Java VM?","title":"Native Image: Overwrite configuration settings","body":"<p>I'm trying to run a Micronaut application as a native image in a Docker container. With the fat jar approach I could overwrite fields in my Micronaut configuration (<code>application.yml</code>) using the environment variable <code>JAVA_TOOL_OPTIONS</code> and then set a new value to my configuration fields (see listing below).</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>version: &quot;3.9&quot;\nservices:\n  temposec:\n    image: ghcr.io/onstructive/tempo-security/tempo-security:0.2.25-native\n    environment:\n      JAVA_TOOL_OPTIONS: &quot;\\\n        -Dmicronaut.http.services.temposec.url=http://host.docker.internal:8090 \\\n        -Dlog.level.ch.onstructive=DEBUG \\\n        -Dmicronaut.caches.tempo-cache.maximumSize=0 \\\n        -Dmicronaut.caches.decision-cache.maximumSize=0 \\\n        -Dmicronaut.caches.attribute-cache.maximumSize=0 \\\n        -Dmicronaut.http.services.temposec.read-timeout=1s\n        &quot;\n    ports:\n      - &quot;127.0.0.1:6000:8080&quot;\n      - &quot;127.0.0.1:6001:8090&quot;\n</code></pre>\n<p>I guess that the native image does not care about the environment variable <code>JAVA_TOOL_OPTIONS</code>, so I was wondering how to do this with a GraalVM native image. Do I have to declare specific application env variables for each field? Or is there a more elegant way to achieve the same as with the Java VM?</p>\n"},{"tags":["java","android","alarmmanager"],"comments":[{"owner":{"account_id":19763336,"reputation":63,"user_id":14471944,"display_name":"NSV."},"score":0,"creation_date":1664362204,"post_id":72475429,"comment_id":130452812,"body_markdown":"Not exactly an Xamarin Coder, but according  to what you  say, I can provide you an  answer but  it will be Andro-Java.  If not possible ok:)","body":"Not exactly an Xamarin Coder, but according  to what you  say, I can provide you an  answer but  it will be Andro-Java.  If not possible ok:)"},{"owner":{"account_id":25073739,"reputation":316,"user_id":18972846,"display_name":"TechGeek"},"score":0,"creation_date":1665047351,"post_id":72475429,"comment_id":130609148,"body_markdown":"The answer is welcome, I can convert the source code to C# Xamarin very easily","body":"The answer is welcome, I can convert the source code to C# Xamarin very easily"},{"owner":{"account_id":19763336,"reputation":63,"user_id":14471944,"display_name":"NSV."},"score":0,"creation_date":1665073087,"post_id":72475429,"comment_id":130619315,"body_markdown":"Sorry @TechGeek, the problem is, my answer is also not working....","body":"Sorry @TechGeek, the problem is, my answer is also not working...."},{"owner":{"account_id":19763336,"reputation":63,"user_id":14471944,"display_name":"NSV."},"score":0,"creation_date":1665073120,"post_id":72475429,"comment_id":130619322,"body_markdown":"So sorry....thnx","body":"So sorry....thnx"},{"owner":{"account_id":19763336,"reputation":63,"user_id":14471944,"display_name":"NSV."},"score":0,"creation_date":1665757570,"post_id":72475429,"comment_id":130779522,"body_markdown":"FYI - use SetRepeating(), not set() as if you use set() your app must be active until set() call","body":"FYI - use SetRepeating(), not set() as if you use set() your app must be active until set() call"},{"owner":{"account_id":19763336,"reputation":63,"user_id":14471944,"display_name":"NSV."},"score":0,"creation_date":1665757575,"post_id":72475429,"comment_id":130779523,"body_markdown":"Source: ANDROID DOCS","body":"Source: ANDROID DOCS"}],"answers":[{"tags":[],"owner":{"account_id":19763336,"reputation":63,"user_id":14471944,"display_name":"NSV."},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1665757480,"creation_date":1665757480,"answer_id":74070721,"question_id":72475429,"body_markdown":"I might be sure that this works:) \r\nOpen a Util class, i called it Scheduler, it can schedule notification task or a alarm task :)You choose alarm, since my app needs both :D\r\n\r\n\r\n     \r\n\r\n    /**\r\n     * Set the context to use in AlarmManager/Database. They all require {@linkplain Context}\r\n     * for many different purposes\r\n     * &lt;p&gt;\r\n     *     For this very reason, Scheduler requires you to provide context. Also, Util class {@link\r\n     *     com.functionality.app.homepage.LifeStyleUtils} has most of its functions requiring {@link\r\n     *     Context}.\r\n     * &lt;/p&gt;\r\n     * @param ctx The context to use in issue raising in LifeStyleUitls,  e.t.c.\r\n     */\r\n    public Scheduler(Context ctx) {\r\n        this.ctx = ctx;\r\n    }\r\n\r\n    public int scheduleNotification(LocalDateTime time, Intent intent, int code) {\r\n        try {\r\n            Calendar cal = Calendar.getInstance();\r\n            cal.setTimeInMillis(System.currentTimeMillis());\r\n\r\n            cal.set(Calendar.MINUTE, time.getMinute());\r\n            cal.set(Calendar.HOUR, time.getHour());\r\n            cal.set(Calendar.MONTH, time.getMonthValue());\r\n\r\n            cal.set(Calendar.YEAR, time.getYear());\r\n            cal.set(Calendar.DAY_OF_MONTH, time.getDayOfMonth());\r\n\r\n            PendingIntent pendingIntent = PendingIntent.getBroadcast(ctx,\r\n                    code, intent, PendingIntent.FLAG_UPDATE_CURRENT);\r\n\r\n            AlarmManager alarmService = (AlarmManager) ctx.getSystemService(Context.ALARM_SERVICE);\r\n            alarmService.setRepeating(AlarmManager.RTC_WAKEUP, cal.getTimeInMillis(),  1000* 60 * 5,\r\n                    pendingIntent);\r\n\r\n            return SUCCESS;\r\n        } catch(Exception e) {\r\n            return FAILURE;\r\n        }\r\n    }\r\n    /**\r\n     * Schedule a task outside the life cycle of app.\r\n     *\r\n     * @param time The time to set the task.\r\n     * @param intent The intent to use, including the Receiver class.\r\n     * @return failure or sucess.\r\n     */\r\n    public int scheduleTask(LocalDateTime time, Intent intent, int code) {\r\n        try {\r\n            Calendar cal = Calendar.getInstance();\r\n            cal.setTimeInMillis(System.currentTimeMillis());\r\n\r\n            cal.set(Calendar.MINUTE, time.getMinute());\r\n            cal.set(Calendar.HOUR, time.getHour());\r\n            cal.set(Calendar.MONTH, time.getMonthValue());\r\n\r\n            cal.set(Calendar.YEAR, time.getYear());\r\n            cal.set(Calendar.DAY_OF_MONTH, time.getDayOfMonth());\r\n\r\n            PendingIntent pendingIntent = PendingIntent.getBroadcast(ctx,\r\n                    code, intent, PendingIntent.FLAG_UPDATE_CURRENT);\r\n\r\n            AlarmManager alarmService = (AlarmManager) ctx.getSystemService(Context.ALARM_SERVICE);\r\n            alarmService.setRepeating(AlarmManager.RTC_WAKEUP, cal.getTimeInMillis(),  1000* 60 * 5,\r\n                    pendingIntent);\r\n\r\n            return SUCCESS;\r\n        } catch(Exception e) {\r\n            return FAILURE;\r\n        }\r\n    }\r\n    public static PendingIntent getPendingIntent(Intent intent, Context context) {\r\n        return PendingIntent.getBroadcast(context, 0, intent, PendingIntent.FLAG_UPDATE_CURRENT\r\n                | PendingIntent.FLAG_IMMUTABLE);\r\n    }\r\n    public void cancelAlarm(PendingIntent pendingIntent) {\r\n        AlarmManager alarmManager= (AlarmManager) ctx.getSystemService(Context.ALARM_SERVICE);\r\n        alarmManager.cancel(pendingIntent);\r\n    }\r\n    public void cancelNotification(PendingIntent pendingIntent) {\r\n        AlarmManager alarmManager= (AlarmManager) ctx.getSystemService(Context.ALARM_SERVICE);\r\n        alarmManager.cancel(pendingIntent);\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n\r\nNote: use the function &quot;scheduleTask&quot; not &quot;scheduleNotification&quot;. Also, If you need reciever code, just comment, i&#39;ll send you, i dont wanna send since it will expose my idea, not sending notification since you need alarm. Also, R.raw file is my mp3 samusng galaxy on horizon recording, cant send you that.\r\n\r\n","title":"How to make an alarm application fire when alarm has matured?","body":"<p>I might be sure that this works:)\nOpen a Util class, i called it Scheduler, it can schedule notification task or a alarm task :)You choose alarm, since my app needs both :D</p>\n<pre><code>/**\n * Set the context to use in AlarmManager/Database. They all require {@linkplain Context}\n * for many different purposes\n * &lt;p&gt;\n *     For this very reason, Scheduler requires you to provide context. Also, Util class {@link\n *     com.functionality.app.homepage.LifeStyleUtils} has most of its functions requiring {@link\n *     Context}.\n * &lt;/p&gt;\n * @param ctx The context to use in issue raising in LifeStyleUitls,  e.t.c.\n */\npublic Scheduler(Context ctx) {\n    this.ctx = ctx;\n}\n\npublic int scheduleNotification(LocalDateTime time, Intent intent, int code) {\n    try {\n        Calendar cal = Calendar.getInstance();\n        cal.setTimeInMillis(System.currentTimeMillis());\n\n        cal.set(Calendar.MINUTE, time.getMinute());\n        cal.set(Calendar.HOUR, time.getHour());\n        cal.set(Calendar.MONTH, time.getMonthValue());\n\n        cal.set(Calendar.YEAR, time.getYear());\n        cal.set(Calendar.DAY_OF_MONTH, time.getDayOfMonth());\n\n        PendingIntent pendingIntent = PendingIntent.getBroadcast(ctx,\n                code, intent, PendingIntent.FLAG_UPDATE_CURRENT);\n\n        AlarmManager alarmService = (AlarmManager) ctx.getSystemService(Context.ALARM_SERVICE);\n        alarmService.setRepeating(AlarmManager.RTC_WAKEUP, cal.getTimeInMillis(),  1000* 60 * 5,\n                pendingIntent);\n\n        return SUCCESS;\n    } catch(Exception e) {\n        return FAILURE;\n    }\n}\n/**\n * Schedule a task outside the life cycle of app.\n *\n * @param time The time to set the task.\n * @param intent The intent to use, including the Receiver class.\n * @return failure or sucess.\n */\npublic int scheduleTask(LocalDateTime time, Intent intent, int code) {\n    try {\n        Calendar cal = Calendar.getInstance();\n        cal.setTimeInMillis(System.currentTimeMillis());\n\n        cal.set(Calendar.MINUTE, time.getMinute());\n        cal.set(Calendar.HOUR, time.getHour());\n        cal.set(Calendar.MONTH, time.getMonthValue());\n\n        cal.set(Calendar.YEAR, time.getYear());\n        cal.set(Calendar.DAY_OF_MONTH, time.getDayOfMonth());\n\n        PendingIntent pendingIntent = PendingIntent.getBroadcast(ctx,\n                code, intent, PendingIntent.FLAG_UPDATE_CURRENT);\n\n        AlarmManager alarmService = (AlarmManager) ctx.getSystemService(Context.ALARM_SERVICE);\n        alarmService.setRepeating(AlarmManager.RTC_WAKEUP, cal.getTimeInMillis(),  1000* 60 * 5,\n                pendingIntent);\n\n        return SUCCESS;\n    } catch(Exception e) {\n        return FAILURE;\n    }\n}\npublic static PendingIntent getPendingIntent(Intent intent, Context context) {\n    return PendingIntent.getBroadcast(context, 0, intent, PendingIntent.FLAG_UPDATE_CURRENT\n            | PendingIntent.FLAG_IMMUTABLE);\n}\npublic void cancelAlarm(PendingIntent pendingIntent) {\n    AlarmManager alarmManager= (AlarmManager) ctx.getSystemService(Context.ALARM_SERVICE);\n    alarmManager.cancel(pendingIntent);\n}\npublic void cancelNotification(PendingIntent pendingIntent) {\n    AlarmManager alarmManager= (AlarmManager) ctx.getSystemService(Context.ALARM_SERVICE);\n    alarmManager.cancel(pendingIntent);\n}\n</code></pre>\n<p>}</p>\n<p>Note: use the function &quot;scheduleTask&quot; not &quot;scheduleNotification&quot;. Also, If you need reciever code, just comment, i'll send you, i dont wanna send since it will expose my idea, not sending notification since you need alarm. Also, R.raw file is my mp3 samusng galaxy on horizon recording, cant send you that.</p>\n"}],"owner":{"account_id":25073739,"reputation":316,"user_id":18972846,"display_name":"TechGeek"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665757480,"creation_date":1654168909,"question_id":72475429,"body_markdown":"I am building an alarm application in Android Java using the C# Xamarin framework. I have done almost everything according to the Android Java play book, but the Alarm Manager Service does not fire my alarm for some reason.\r\n\r\nI have a TimePicker and DatePicker objects in my application, I use the TimePicker to read the time and minute set by the user and the the DatePicker to read the day of the week the user intends to be reminded of a certain event. When I do a check on a sample time, I have set as the trigger time, then everything seems to be okay, but there is this parameter of `AlarmManager.Set(..,PendingIntent pIntent)`. I believe the object specifies the operation that needs to be performed when the Alarm has matured. Could that have something to do with why the application does not do anything when the time has matured?\r\n\r\nI have declared all the required permissions in my manifest file as follows.\r\n\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.SET_ALARM&quot;/&gt;\r\n &lt;uses-permission android:name=&quot;android.permission.SCHEDULE_EXACT_ALARM&quot;/&gt;\r\n```\r\n\r\nI then access a calendar instance and ask use my timepicker and datepicker objects to set it. I did this, because I was going to need the calendar time in milliseconds as a parameter in the `AlarmManager.Set()` call.\r\n\r\n```\r\n//adjust the time in the the calendar variable using the minute and hour from the timepicker\r\nCalendar calendar= Calendar.Instance;\r\n//make sure the instance fields are manipulated hierarchically    \r\n          calendar.Set(mycalendar.Year,mycalendar.Month,mycalendar.DayOfMonth,timepicker.Hour,timepicker.Minute);\r\n//use the alarm manager to set a new alarm with a pending Intent object\r\n         _alarmManager.Set(AlarmType.ElapsedRealtimeWakeup,calendar.TimeInMillis,alarmoperation);\r\n//this pending intent specifies the kind of operation that will happen when \r\n//the alarm goes live\r\n```\r\n\r\nThis is the PendingIntent that gets called when the alarm matures\r\n\r\n```\r\n PendingIntent alarmoperation = CreatePendingResult(908, new Intent(), PendingIntentFlags.OneShot);\r\n```\r\n\r\nHow do I program a pending intent to fire an alarm if that is what is causing the application not to fire? Is it because I used an empty intent as a constructor parameter when I created the pending intent?\r\n","title":"How to make an alarm application fire when alarm has matured?","body":"<p>I am building an alarm application in Android Java using the C# Xamarin framework. I have done almost everything according to the Android Java play book, but the Alarm Manager Service does not fire my alarm for some reason.</p>\n<p>I have a TimePicker and DatePicker objects in my application, I use the TimePicker to read the time and minute set by the user and the the DatePicker to read the day of the week the user intends to be reminded of a certain event. When I do a check on a sample time, I have set as the trigger time, then everything seems to be okay, but there is this parameter of <code>AlarmManager.Set(..,PendingIntent pIntent)</code>. I believe the object specifies the operation that needs to be performed when the Alarm has matured. Could that have something to do with why the application does not do anything when the time has matured?</p>\n<p>I have declared all the required permissions in my manifest file as follows.</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.SET_ALARM&quot;/&gt;\n &lt;uses-permission android:name=&quot;android.permission.SCHEDULE_EXACT_ALARM&quot;/&gt;\n</code></pre>\n<p>I then access a calendar instance and ask use my timepicker and datepicker objects to set it. I did this, because I was going to need the calendar time in milliseconds as a parameter in the <code>AlarmManager.Set()</code> call.</p>\n<pre><code>//adjust the time in the the calendar variable using the minute and hour from the timepicker\nCalendar calendar= Calendar.Instance;\n//make sure the instance fields are manipulated hierarchically    \n          calendar.Set(mycalendar.Year,mycalendar.Month,mycalendar.DayOfMonth,timepicker.Hour,timepicker.Minute);\n//use the alarm manager to set a new alarm with a pending Intent object\n         _alarmManager.Set(AlarmType.ElapsedRealtimeWakeup,calendar.TimeInMillis,alarmoperation);\n//this pending intent specifies the kind of operation that will happen when \n//the alarm goes live\n</code></pre>\n<p>This is the PendingIntent that gets called when the alarm matures</p>\n<pre><code> PendingIntent alarmoperation = CreatePendingResult(908, new Intent(), PendingIntentFlags.OneShot);\n</code></pre>\n<p>How do I program a pending intent to fire an alarm if that is what is causing the application not to fire? Is it because I used an empty intent as a constructor parameter when I created the pending intent?</p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":1659832,"reputation":15646,"user_id":2147481,"accept_rate":82,"display_name":"Gokul Nath KP"},"score":0,"creation_date":1665757771,"post_id":74070708,"comment_id":130779585,"body_markdown":"Does this answer your question? [Realm Studio: Unable to open a realm... Invalid top array (ref: 34280, size: 11)](https://stackoverflow.com/questions/60229816/realm-studio-unable-to-open-a-realm-invalid-top-array-ref-34280-size-11)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/60229816/realm-studio-unable-to-open-a-realm-invalid-top-array-ref-34280-size-11\">Realm Studio: Unable to open a realm... Invalid top array (ref: 34280, size: 11)</a>"},{"owner":{"account_id":7545684,"reputation":268,"user_id":5728830,"display_name":"Jhonny Luis"},"score":0,"creation_date":1665758641,"post_id":74070708,"comment_id":130779957,"body_markdown":"The case mentioned, it is trying to open using the realm-studio, I tried it and it works fine, but my problem is already with the phone when trying to make a query or when opening the app","body":"The case mentioned, it is trying to open using the realm-studio, I tried it and it works fine, but my problem is already with the phone when trying to make a query or when opening the app"}],"owner":{"account_id":7545684,"reputation":268,"user_id":5728830,"display_name":"Jhonny Luis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665757421,"creation_date":1665757421,"question_id":74070708,"body_markdown":"I need your help with this error, it&#39;s happening to me a lot, it&#39;s being generated on the line where I instantiate my realm, I understand that deleting the database file and recreating it could solve it, but how could I do it? this??\r\n\r\n\r\n    Caused by: io.realm.exceptions.RealmFileException: Unable to open a realm at path &#39;/data/data/com.myapp/files/default.realm&#39;: Invalid top array (ref: 222488, size: 11)\r\n    Exception backtrace:\r\n    &lt;backtrace not supported on this platform&gt; Path:Exception backtrace:\r\n    &lt;backtrace not supported on this platform&gt;. (Invalid top array (ref: 222488, size: 11)\r\n    Exception backtrace:\r\n    &lt;backtrace not supported on this platform&gt; Path: \r\n    /data/data/com.myapp/files/default.realm\r\n    Exception backtrace:\r\n    &lt;backtrace not supported on this platform&gt;) (/data/data/com.myapp/files/default.realm) in /Users/cm/Realm/realm-java-release/realm/realm-library/src/main/cpp/io_realm_internal_OsSharedRealm.cpp line 101\r\n\r\n\r\nIn this way I establish the instance of my realm\r\n\r\n    Realm.init( MyApp.instance )\r\n\r\n           val config = RealmConfiguration.Builder()\r\n               .deleteRealmIfMigrationNeeded()\r\n               .build()\r\n\r\n           realm = Realm.getInstance(config)","title":"Realm Error java.lang.ExceptionInInitializerError","body":"<p>I need your help with this error, it's happening to me a lot, it's being generated on the line where I instantiate my realm, I understand that deleting the database file and recreating it could solve it, but how could I do it? this??</p>\n<pre><code>Caused by: io.realm.exceptions.RealmFileException: Unable to open a realm at path '/data/data/com.myapp/files/default.realm': Invalid top array (ref: 222488, size: 11)\nException backtrace:\n&lt;backtrace not supported on this platform&gt; Path:Exception backtrace:\n&lt;backtrace not supported on this platform&gt;. (Invalid top array (ref: 222488, size: 11)\nException backtrace:\n&lt;backtrace not supported on this platform&gt; Path: \n/data/data/com.myapp/files/default.realm\nException backtrace:\n&lt;backtrace not supported on this platform&gt;) (/data/data/com.myapp/files/default.realm) in /Users/cm/Realm/realm-java-release/realm/realm-library/src/main/cpp/io_realm_internal_OsSharedRealm.cpp line 101\n</code></pre>\n<p>In this way I establish the instance of my realm</p>\n<pre><code>Realm.init( MyApp.instance )\n\n       val config = RealmConfiguration.Builder()\n           .deleteRealmIfMigrationNeeded()\n           .build()\n\n       realm = Realm.getInstance(config)\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1665748356,"post_id":74068743,"comment_id":130776043,"body_markdown":"Please show your code","body":"Please show your code"},{"owner":{"display_name":"user20222778"},"score":0,"creation_date":1665748530,"post_id":74068743,"comment_id":130776109,"body_markdown":"I have no code to show\nI&#39;m just creating a new jFileChooser object and I don&#39;t know how to achieve what I just asked.\nIs there any way to access the scrollbar of the jFileChooser?","body":"I have no code to show I&#39;m just creating a new jFileChooser object and I don&#39;t know how to achieve what I just asked. Is there any way to access the scrollbar of the jFileChooser?"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1665749018,"post_id":74068743,"comment_id":130776259,"body_markdown":"More choices [here](https://codereview.stackexchange.com/q/4446/6692).","body":"More choices <a href=\"https://codereview.stackexchange.com/q/4446/6692\">here</a>."},{"owner":{"display_name":"user20222778"},"score":0,"creation_date":1665754423,"post_id":74068743,"comment_id":130778262,"body_markdown":"Yes, I checked the documentation and I wasn&#39;t able to find anything helpful?\n\nIs there any way to access the position of the scrollbar? or to disable the size &amp; modified fields?","body":"Yes, I checked the documentation and I wasn&#39;t able to find anything helpful?  Is there any way to access the position of the scrollbar? or to disable the size &amp; modified fields?"}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665757095,"creation_date":1665757095,"answer_id":74070636,"question_id":74068743,"body_markdown":"You can access the JList and change the orientation of the list as follows:\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    import javax.swing.table.*;\r\n    import java.util.List;\r\n    \r\n    class FileChooserList\r\n    {\r\n    \tprivate static void createAndShowUI()\r\n    \t{\r\n    \t    JFileChooser  fileChooser = new JFileChooser(&quot;.&quot;);\r\n    \r\n    \t\t//  Change list orientation\r\n    \r\n    \t\tJList list = SwingUtils.getDescendantsOfType(JList.class, fileChooser).get(0);\r\n    \t\tlist.setLayoutOrientation( JList.VERTICAL );\r\n    \r\n        \tfileChooser.showOpenDialog(null);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tEventQueue.invokeLater(new Runnable()\r\n    \t\t{\r\n    \t\t\tpublic void run()\r\n    \t\t\t{\r\n    \t\t\t\tcreateAndShowUI();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \r\n    }\r\n\r\nThe above code requires the [Swing Utils](https://tips4java.wordpress.com/2008/11/13/swing-utils/) class.\r\n\r\n&gt; disable the size and modified columns from the details view\r\n\r\nDepends on what you mean by &quot;disable&quot;. \r\n\r\nYou can remove those columns from the view of the table:\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    import javax.swing.table.*;\r\n    import java.util.List;\r\n    \r\n    class FileChooserDetails\r\n    {\r\n    \tprivate static void createAndShowUI()\r\n    \t{\r\n    \t    JFileChooser  fileChooser = new JFileChooser(&quot;.&quot;);\r\n    \r\n    \t\t//  Show the Details view of the file chooser\r\n    \r\n    \t\tAction details = fileChooser.getActionMap().get(&quot;viewTypeDetails&quot;);\r\n    \t\tdetails.actionPerformed(null);\r\n    \r\n    \t\t//  Remove columns from view\r\n    \r\n    \t\tJTable table = SwingUtils.getDescendantsOfType(JTable.class, fileChooser).get(0);\r\n    \t\tTableColumnModel tcm = table.getColumnModel();\r\n    \t\ttcm.removeColumn( tcm.getColumn(3) );\r\n    \t\ttcm.removeColumn( tcm.getColumn(1) );\r\n    \r\n        \tfileChooser.showOpenDialog(null);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tEventQueue.invokeLater(new Runnable()\r\n    \t\t{\r\n    \t\t\tpublic void run()\r\n    \t\t\t{\r\n    \t\t\t\tcreateAndShowUI();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n","title":"Customize jFileChooser vertical scrollbar","body":"<p>You can access the JList and change the orientation of the list as follows:</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport javax.swing.table.*;\nimport java.util.List;\n\nclass FileChooserList\n{\n    private static void createAndShowUI()\n    {\n        JFileChooser  fileChooser = new JFileChooser(&quot;.&quot;);\n\n        //  Change list orientation\n\n        JList list = SwingUtils.getDescendantsOfType(JList.class, fileChooser).get(0);\n        list.setLayoutOrientation( JList.VERTICAL );\n\n        fileChooser.showOpenDialog(null);\n    }\n\n    public static void main(String[] args)\n    {\n        EventQueue.invokeLater(new Runnable()\n        {\n            public void run()\n            {\n                createAndShowUI();\n            }\n        });\n    }\n\n}\n</code></pre>\n<p>The above code requires the <a href=\"https://tips4java.wordpress.com/2008/11/13/swing-utils/\" rel=\"nofollow noreferrer\">Swing Utils</a> class.</p>\n<blockquote>\n<p>disable the size and modified columns from the details view</p>\n</blockquote>\n<p>Depends on what you mean by &quot;disable&quot;.</p>\n<p>You can remove those columns from the view of the table:</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport javax.swing.table.*;\nimport java.util.List;\n\nclass FileChooserDetails\n{\n    private static void createAndShowUI()\n    {\n        JFileChooser  fileChooser = new JFileChooser(&quot;.&quot;);\n\n        //  Show the Details view of the file chooser\n\n        Action details = fileChooser.getActionMap().get(&quot;viewTypeDetails&quot;);\n        details.actionPerformed(null);\n\n        //  Remove columns from view\n\n        JTable table = SwingUtils.getDescendantsOfType(JTable.class, fileChooser).get(0);\n        TableColumnModel tcm = table.getColumnModel();\n        tcm.removeColumn( tcm.getColumn(3) );\n        tcm.removeColumn( tcm.getColumn(1) );\n\n        fileChooser.showOpenDialog(null);\n    }\n\n    public static void main(String[] args)\n    {\n        EventQueue.invokeLater(new Runnable()\n        {\n            public void run()\n            {\n                createAndShowUI();\n            }\n        });\n    }\n\n}\n</code></pre>\n"}],"owner":{"display_name":"user20222778"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74070636,"answer_count":1,"score":-1,"last_activity_date":1665757095,"creation_date":1665748079,"question_id":74068743,"body_markdown":"I&#39;m using a jFileChooser and I&#39;m trying to achieve the following :\r\n\r\nhttps://i.stack.imgur.com/O6MNj.png\r\n\r\nI&#39;m trying to force the the **LIST** view to have a **VERTICAL** scroll bar or my second option is to disable the **size** and **modified** columns from the details view.\r\n\r\nEDIT:\r\n\r\nIs there any way that I can insert a JScrollBar inside the jFileChooser?","title":"Customize jFileChooser vertical scrollbar","body":"<p>I'm using a jFileChooser and I'm trying to achieve the following :</p>\n<p><a href=\"https://i.stack.imgur.com/O6MNj.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/O6MNj.png</a></p>\n<p>I'm trying to force the the <strong>LIST</strong> view to have a <strong>VERTICAL</strong> scroll bar or my second option is to disable the <strong>size</strong> and <strong>modified</strong> columns from the details view.</p>\n<p>EDIT:</p>\n<p>Is there any way that I can insert a JScrollBar inside the jFileChooser?</p>\n"},{"tags":["java","swagger","openapi"],"comments":[{"owner":{"account_id":12701375,"reputation":95,"user_id":9227989,"display_name":"Babad00k"},"score":0,"creation_date":1659527891,"post_id":71316616,"comment_id":129315301,"body_markdown":"This may be probably too late but have you tried using `&lt;useTags&gt;true&lt;/useTags&gt;` under &lt;configOptions&gt;?","body":"This may be probably too late but have you tried using <code>&lt;useTags&gt;true&lt;&#47;useTags&gt;</code> under &lt;configOptions&gt;?"}],"answers":[{"tags":[],"owner":{"account_id":18179415,"reputation":11,"user_id":13227491,"display_name":"Jakub"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665757091,"creation_date":1665757091,"answer_id":74070634,"question_id":71316616,"body_markdown":"I&#39;ve used `&lt;useTags&gt;true&lt;/useTags&gt;` under `&lt;configOptions&gt;` in my Maven file and it works for me. YAML definition \r\n```\r\npaths:\r\n    &#39;/operation/&#39;:\r\n        get:\r\n            tags:\r\n                - Some-Service\r\n```\r\ngenerates &quot;SomeServiceApi&quot; class name with the `SpringCodegen` generator. Using &quot;openapi-generator-maven-plugin&quot; in the &quot;6.2.0&quot; version.","title":"How can I specify java interfaces file names using openapi.yaml and swagger-codegen-maven-plugin","body":"<p>I've used <code>&lt;useTags&gt;true&lt;/useTags&gt;</code> under <code>&lt;configOptions&gt;</code> in my Maven file and it works for me. YAML definition</p>\n<pre><code>paths:\n    '/operation/':\n        get:\n            tags:\n                - Some-Service\n</code></pre>\n<p>generates &quot;SomeServiceApi&quot; class name with the <code>SpringCodegen</code> generator. Using &quot;openapi-generator-maven-plugin&quot; in the &quot;6.2.0&quot; version.</p>\n"}],"owner":{"account_id":3584831,"reputation":135,"user_id":2992245,"display_name":"omer keynan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":960,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665757091,"creation_date":1646186249,"question_id":71316616,"body_markdown":"I&#39;m trying to generate 2 controller classes for 2 scopes in my project.\r\nI can do that with 2 separate openapi.yaml files, and 2 maven executions.\r\n\r\nI&#39;m using swagger-codegen-maven-plugin to get it done, and I could only find code that uses swagger.yaml or openapi.yaml with a different plugin. \r\nI can&#39;t find this combination, though I&#39;m positive it&#39;s possible.\r\n\r\nThe question is if I have 2 scopes such as &#39;DB&#39; and &#39;Browse&#39;, and I want to have 2 interfaces created for the 2 scopes such as DBApi.java and BrowseApi.java, how can it be done, and if it can be done using 1 openapi.yaml file?\r\n\r\nI did see example projects where 1 openapi.yaml file resulted in PetApi.java and StoreApi.java, but I couldn&#39;t find how to configure this in my setup.\r\n\r\nThanks.\r\n\r\nThe relevant part in the maven pom file is:\r\n\r\n```&lt;plugin&gt;\r\n                &lt;groupId&gt;io.swagger.codegen.v3&lt;/groupId&gt;\r\n                &lt;artifactId&gt;swagger-codegen-maven-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;raptor-codegen&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;apiPackage&gt;com.app.seo.graph.rest.v1.api&lt;/apiPackage&gt;\r\n                            &lt;modelPackage&gt;com.app.seo.graph.rest.v1.model&lt;/modelPackage&gt;\r\n                            &lt;inputSpec&gt;${project.basedir}/src/main/resources/api/openapi.yaml&lt;/inputSpec&gt;\r\n                            &lt;configOptions&gt;\r\n                                &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\r\n                                &lt;additional-properties&gt;preAuthorize=hasAuthority,useJsonPropertyOrder=true,resourceMetaType=com.ebay.jaxrs.server.ResourceOperation&lt;/additional-properties&gt;\r\n                            &lt;/configOptions&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n","title":"How can I specify java interfaces file names using openapi.yaml and swagger-codegen-maven-plugin","body":"<p>I'm trying to generate 2 controller classes for 2 scopes in my project.\nI can do that with 2 separate openapi.yaml files, and 2 maven executions.</p>\n<p>I'm using swagger-codegen-maven-plugin to get it done, and I could only find code that uses swagger.yaml or openapi.yaml with a different plugin.\nI can't find this combination, though I'm positive it's possible.</p>\n<p>The question is if I have 2 scopes such as 'DB' and 'Browse', and I want to have 2 interfaces created for the 2 scopes such as DBApi.java and BrowseApi.java, how can it be done, and if it can be done using 1 openapi.yaml file?</p>\n<p>I did see example projects where 1 openapi.yaml file resulted in PetApi.java and StoreApi.java, but I couldn't find how to configure this in my setup.</p>\n<p>Thanks.</p>\n<p>The relevant part in the maven pom file is:</p>\n<pre><code>                &lt;groupId&gt;io.swagger.codegen.v3&lt;/groupId&gt;\n                &lt;artifactId&gt;swagger-codegen-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;raptor-codegen&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;apiPackage&gt;com.app.seo.graph.rest.v1.api&lt;/apiPackage&gt;\n                            &lt;modelPackage&gt;com.app.seo.graph.rest.v1.model&lt;/modelPackage&gt;\n                            &lt;inputSpec&gt;${project.basedir}/src/main/resources/api/openapi.yaml&lt;/inputSpec&gt;\n                            &lt;configOptions&gt;\n                                &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\n                                &lt;additional-properties&gt;preAuthorize=hasAuthority,useJsonPropertyOrder=true,resourceMetaType=com.ebay.jaxrs.server.ResourceOperation&lt;/additional-properties&gt;\n                            &lt;/configOptions&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","mongodb","apache-kafka"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1665749038,"post_id":74068782,"comment_id":130776268,"body_markdown":"&quot;I suspect mongo is not able to handle the persistence of the data resulting spring boot app taking more time to ack back to Kafka. What could be the reason for the lag?&quot; Haven&#39;t you just suggested the reason? You need to profile your code and see where it is spending its time.","body":"&quot;I suspect mongo is not able to handle the persistence of the data resulting spring boot app taking more time to ack back to Kafka. What could be the reason for the lag?&quot; Haven&#39;t you just suggested the reason? You need to profile your code and see where it is spending its time."},{"owner":{"account_id":10214070,"reputation":39,"user_id":8439090,"display_name":"Anuj Patel"},"score":0,"creation_date":1665750791,"post_id":74068782,"comment_id":130776825,"body_markdown":"@tgdavies, applications are running in Kubernetes, the application has enough resources and running fine, So app may not be the issue here.","body":"@tgdavies, applications are running in Kubernetes, the application has enough resources and running fine, So app may not be the issue here."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1665756798,"post_id":74068782,"comment_id":130779209,"body_markdown":"Well, are you running insertOne Mongo functions, or batching events with insertMany like the official Mongo Kafka Connector would do? If just one-by-one, then yeah, you&#39;ll have high IO rates on the database","body":"Well, are you running insertOne Mongo functions, or batching events with insertMany like the official Mongo Kafka Connector would do? If just one-by-one, then yeah, you&#39;ll have high IO rates on the database"}],"owner":{"account_id":10214070,"reputation":39,"user_id":8439090,"display_name":"Anuj Patel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665756730,"creation_date":1665748289,"question_id":74068782,"body_markdown":"I have a **high-frequency ingestion** system that ingests the **IoT** data into the system.\r\nApproximately **6000** messages, with an average message size of 4KB, are being received each second.\r\nPrimarily, data is being ingested to Kafka, the spring-boot application will read the data from Kafka and persists it to standalone MongoDB, and will ack back to Kafka.\r\n\r\nWe are experiencing huge lag on the spring boot app, as it&#39;s not ack-back fast to Kafka. I suspect mongo is not able to handle the persistence of the data resulting spring boot app taking more time to ack back to Kafka.\r\nWhat could be the reason for the lag?\r\n\r\nmongo version : 4.2.1\r\n\r\n **ec2** - **r5.4xlarge**\r\n- average **CPU** utilization on mongo - **70%**, never crossed 90%\r\n- average **memory** utilization on mongo - **70%** \r\n\r\n **EBS** type: **io1** with 8000 IOPS\r\n\r\nEBS Monitoring metrics:\r\n\r\n - write throughput~ 3000\r\n - read throughput~ 1000\r\n\r\n\r\n","title":"Mongo Persistence Issue, resulting in huge kafka lag","body":"<p>I have a <strong>high-frequency ingestion</strong> system that ingests the <strong>IoT</strong> data into the system.\nApproximately <strong>6000</strong> messages, with an average message size of 4KB, are being received each second.\nPrimarily, data is being ingested to Kafka, the spring-boot application will read the data from Kafka and persists it to standalone MongoDB, and will ack back to Kafka.</p>\n<p>We are experiencing huge lag on the spring boot app, as it's not ack-back fast to Kafka. I suspect mongo is not able to handle the persistence of the data resulting spring boot app taking more time to ack back to Kafka.\nWhat could be the reason for the lag?</p>\n<p>mongo version : 4.2.1</p>\n<p><strong>ec2</strong> - <strong>r5.4xlarge</strong></p>\n<ul>\n<li>average <strong>CPU</strong> utilization on mongo - <strong>70%</strong>, never crossed 90%</li>\n<li>average <strong>memory</strong> utilization on mongo - <strong>70%</strong></li>\n</ul>\n<p><strong>EBS</strong> type: <strong>io1</strong> with 8000 IOPS</p>\n<p>EBS Monitoring metrics:</p>\n<ul>\n<li>write throughput~ 3000</li>\n<li>read throughput~ 1000</li>\n</ul>\n"},{"tags":["java","spring-boot","serialization","jodatime"],"owner":{"account_id":8734063,"reputation":93,"user_id":6533246,"display_name":"Diego Cairone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665756650,"creation_date":1665756650,"question_id":74070553,"body_markdown":"In an Spring boot app, I have a DTO class with a ```org.joda.time.DateTime``` field type. \r\n\r\nThis DTO is the web response body in an endpoint and Spring boot is serialisating it to a **timestamp**. \r\n\r\nI don&#39;t want that behaviors. Instead of that, I want ```DateTime``` to be serialised as a POJO.\r\n\r\nThis is an example:\r\n\r\nActual response: \r\n```\r\n{\r\n  &quot;thisDate&quot;: 1566518936800\r\n}\r\n```\r\nExpected response:\r\n```\r\n{\r\n    &quot;thisDate&quot;: {\r\n        &quot;monthOfYear&quot;: 8,\r\n        &quot;centuryOfEra&quot;: 20,\r\n        &quot;yearOfEra&quot;: 2019,\r\n        &quot;yearOfCentury&quot;: 19,\r\n        &quot;weekyear&quot;: 2019,\r\n        &quot;weekOfWeekyear&quot;: 34,\r\n        &quot;hourOfDay&quot;: 17,\r\n        &quot;minuteOfHour&quot;: 8,\r\n        &quot;secondOfMinute&quot;: 56,\r\n        &quot;millisOfSecond&quot;: 800,\r\n        &quot;secondOfDay&quot;: 61736,\r\n        &quot;millisOfDay&quot;: 61736800,\r\n        &quot;minuteOfDay&quot;: 1028,\r\n        &quot;era&quot;: 1,\r\n        &quot;dayOfMonth&quot;: 22,\r\n        &quot;dayOfWeek&quot;: 4,\r\n        &quot;dayOfYear&quot;: 234,\r\n        &quot;year&quot;: 2019,\r\n        &quot;chronology&quot;: {\r\n            &quot;zone&quot;: {\r\n                &quot;fixed&quot;: false,\r\n                &quot;uncachedZone&quot;: {\r\n                    &quot;cachable&quot;: true,\r\n                    &quot;fixed&quot;: false,\r\n                    &quot;id&quot;: &quot;America/Los_Angeles&quot;\r\n                },\r\n                &quot;id&quot;: &quot;America/Los_Angeles&quot;\r\n            }\r\n        },\r\n        &quot;millis&quot;: 1566518936800,\r\n        &quot;zone&quot;: {\r\n            &quot;fixed&quot;: false,\r\n            &quot;uncachedZone&quot;: {\r\n                &quot;cachable&quot;: true,\r\n                &quot;fixed&quot;: false,\r\n                &quot;id&quot;: &quot;America/Los_Angeles&quot;\r\n            },\r\n            &quot;id&quot;: &quot;America/Los_Angeles&quot;\r\n        },\r\n        &quot;afterNow&quot;: false,\r\n        &quot;beforeNow&quot;: true,\r\n        &quot;equalNow&quot;: false\r\n    }\r\n}\r\n```\r\n\r\nI know this is not the most common case but is what I need; actually the most common case is exactly the opposite.\r\n\r\nThanks in advance\r\n \r\n","title":"Spring boot - Joda DateTime serialisation","body":"<p>In an Spring boot app, I have a DTO class with a <code>org.joda.time.DateTime</code> field type.</p>\n<p>This DTO is the web response body in an endpoint and Spring boot is serialisating it to a <strong>timestamp</strong>.</p>\n<p>I don't want that behaviors. Instead of that, I want <code>DateTime</code> to be serialised as a POJO.</p>\n<p>This is an example:</p>\n<p>Actual response:</p>\n<pre><code>{\n  &quot;thisDate&quot;: 1566518936800\n}\n</code></pre>\n<p>Expected response:</p>\n<pre><code>{\n    &quot;thisDate&quot;: {\n        &quot;monthOfYear&quot;: 8,\n        &quot;centuryOfEra&quot;: 20,\n        &quot;yearOfEra&quot;: 2019,\n        &quot;yearOfCentury&quot;: 19,\n        &quot;weekyear&quot;: 2019,\n        &quot;weekOfWeekyear&quot;: 34,\n        &quot;hourOfDay&quot;: 17,\n        &quot;minuteOfHour&quot;: 8,\n        &quot;secondOfMinute&quot;: 56,\n        &quot;millisOfSecond&quot;: 800,\n        &quot;secondOfDay&quot;: 61736,\n        &quot;millisOfDay&quot;: 61736800,\n        &quot;minuteOfDay&quot;: 1028,\n        &quot;era&quot;: 1,\n        &quot;dayOfMonth&quot;: 22,\n        &quot;dayOfWeek&quot;: 4,\n        &quot;dayOfYear&quot;: 234,\n        &quot;year&quot;: 2019,\n        &quot;chronology&quot;: {\n            &quot;zone&quot;: {\n                &quot;fixed&quot;: false,\n                &quot;uncachedZone&quot;: {\n                    &quot;cachable&quot;: true,\n                    &quot;fixed&quot;: false,\n                    &quot;id&quot;: &quot;America/Los_Angeles&quot;\n                },\n                &quot;id&quot;: &quot;America/Los_Angeles&quot;\n            }\n        },\n        &quot;millis&quot;: 1566518936800,\n        &quot;zone&quot;: {\n            &quot;fixed&quot;: false,\n            &quot;uncachedZone&quot;: {\n                &quot;cachable&quot;: true,\n                &quot;fixed&quot;: false,\n                &quot;id&quot;: &quot;America/Los_Angeles&quot;\n            },\n            &quot;id&quot;: &quot;America/Los_Angeles&quot;\n        },\n        &quot;afterNow&quot;: false,\n        &quot;beforeNow&quot;: true,\n        &quot;equalNow&quot;: false\n    }\n}\n</code></pre>\n<p>I know this is not the most common case but is what I need; actually the most common case is exactly the opposite.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","overriding","lombok","builder","builder-pattern"],"comments":[{"owner":{"account_id":5557464,"reputation":1701,"user_id":4408333,"accept_rate":50,"display_name":"swinkler"},"score":0,"creation_date":1665747793,"post_id":74068255,"comment_id":130775843,"body_markdown":"Not sure about the requirements - seeing you found a solution by yourself. Just out of curiosity - is &quot;someField&quot; an additional field (not part of the original object) ?","body":"Not sure about the requirements - seeing you found a solution by yourself. Just out of curiosity - is &quot;someField&quot; an additional field (not part of the original object) ?"},{"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"score":0,"creation_date":1665747872,"post_id":74068255,"comment_id":130775872,"body_markdown":"@swinkler no its not additional. In the real code there are some object modifications within the setter and the given list is transformed and added to multiple fields at once.","body":"@swinkler no its not additional. In the real code there are some object modifications within the setter and the given list is transformed and added to multiple fields at once."}],"answers":[{"tags":[],"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665747543,"creation_date":1665747543,"answer_id":74068644,"question_id":74068255,"body_markdown":"I solved it by combining both approaches.\r\n\r\n1. The default builder override to add the custom setter\r\n2. The inherited CustomBuilder to reuse the build() method\r\n\r\nThe only thing that was required to be done in addition was to also override the\r\nbuilder() method, so the CustomBuilder will be used instead of the default Builder\r\n\r\n```\r\n\r\nimport lombok.Builder;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\n\r\npublic class LombokCustomBuilderWithCustomSetterAndBuildMethodExamplesTest {\r\n\r\n    public static final String APPENDIX = &quot; - modified by custom build()&quot;;\r\n\r\n    @Test\r\n    void test() {\r\n        assertEquals(&quot;TEST&quot; + APPENDIX, ExampleC.builder().someCustomSetter(&quot;test&quot;).build().someField);\r\n    }\r\n\r\n    /**\r\n     * Combination of both\r\n     */\r\n    @Builder\r\n    public static class ExampleC {\r\n\r\n        private String someField;\r\n\r\n        /**\r\n         * So the CustomExampleCBuilder will be provided instead\r\n         * of the ExampleCBuilder \r\n         */\r\n        public static CustomExampleCBuilder builder() {\r\n            return new CustomExampleCBuilder();\r\n        }\r\n\r\n        /**\r\n         * Create a base builder override to only add &quot;someCustomeSetter&quot; and keep\r\n         * the rest of Lombok&#39;s methods by not overriding them\r\n         */\r\n        private static class ExampleCBuilder {\r\n\r\n            public ExampleCBuilder someCustomSetter(String someValue) {\r\n                this.someField = someValue.toUpperCase();\r\n                return this;\r\n            }\r\n\r\n        }\r\n\r\n        /**\r\n         * Create a child to use the Lombok .build() and enhance it\r\n         */\r\n        private static class CustomExampleCBuilder extends ExampleCBuilder {\r\n            @Override\r\n            public ExampleC build() {\r\n                ExampleC myCreatedObject = super.build();\r\n\r\n                if (myCreatedObject.someField == null) throw new RuntimeException(&quot;Some validation failed&quot;);\r\n\r\n                myCreatedObject.someField += APPENDIX;\r\n\r\n                return myCreatedObject;\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"Enhancing Lombok&#39;s Builder with custom setter method and enhance the existing build method without reimplementation","body":"<p>I solved it by combining both approaches.</p>\n<ol>\n<li>The default builder override to add the custom setter</li>\n<li>The inherited CustomBuilder to reuse the build() method</li>\n</ol>\n<p>The only thing that was required to be done in addition was to also override the\nbuilder() method, so the CustomBuilder will be used instead of the default Builder</p>\n<pre><code>\nimport lombok.Builder;\nimport org.junit.jupiter.api.Test;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\npublic class LombokCustomBuilderWithCustomSetterAndBuildMethodExamplesTest {\n\n    public static final String APPENDIX = &quot; - modified by custom build()&quot;;\n\n    @Test\n    void test() {\n        assertEquals(&quot;TEST&quot; + APPENDIX, ExampleC.builder().someCustomSetter(&quot;test&quot;).build().someField);\n    }\n\n    /**\n     * Combination of both\n     */\n    @Builder\n    public static class ExampleC {\n\n        private String someField;\n\n        /**\n         * So the CustomExampleCBuilder will be provided instead\n         * of the ExampleCBuilder \n         */\n        public static CustomExampleCBuilder builder() {\n            return new CustomExampleCBuilder();\n        }\n\n        /**\n         * Create a base builder override to only add &quot;someCustomeSetter&quot; and keep\n         * the rest of Lombok's methods by not overriding them\n         */\n        private static class ExampleCBuilder {\n\n            public ExampleCBuilder someCustomSetter(String someValue) {\n                this.someField = someValue.toUpperCase();\n                return this;\n            }\n\n        }\n\n        /**\n         * Create a child to use the Lombok .build() and enhance it\n         */\n        private static class CustomExampleCBuilder extends ExampleCBuilder {\n            @Override\n            public ExampleC build() {\n                ExampleC myCreatedObject = super.build();\n\n                if (myCreatedObject.someField == null) throw new RuntimeException(&quot;Some validation failed&quot;);\n\n                myCreatedObject.someField += APPENDIX;\n\n                return myCreatedObject;\n            }\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":440,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665756473,"creation_date":1665745481,"question_id":74068255,"body_markdown":"I&#39;m using Lombok&#39;s `@Builder` annotation and need to add a custom setter method, as well as enhancing the build() method.\r\n\r\nHowever, I&#39;m stuck with two solutions where none covers both requirements at once and one contradicts the other.\r\n\r\nThey vary between the direct Builder override and an inherited Builder.\r\n\r\nThe code contains those two variants and describes what is and what isn&#39;t working.\r\n\r\n```\r\npublic class LombokCustomBuilderWithCustomSetterAndBuildMethodExamples {\r\n\r\n\r\n    /**\r\n     * Without builder inheritance\r\n     */\r\n    @Builder\r\n    public static class ExampleA {\r\n\r\n        private String someField;\r\n\r\n        /**\r\n         * Directly overwrites the Lombok builder\r\n         */\r\n        private static class ExampleABuilder {\r\n\r\n            /**\r\n             * this works\r\n             */\r\n            public ExampleABuilder someCustomSetter(String someValue) {\r\n                this.someField = someValue.toUpperCase();\r\n                return this;\r\n            }\r\n\r\n            /**\r\n             * super.builder() not available, as we have overwritten the Lombok&#39;s build() method entirely.\r\n             * We would need to re-implement the functionality by ourselves\r\n             */\r\n            public ExampleA build() {\r\n                ExampleA myCreatedObject = super.build();\r\n\r\n                if (myCreatedObject.someField == null) throw new RuntimeException(&quot;Some validation failed&quot;);\r\n\r\n                return myCreatedObject;\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * With child and parent builder inheritance\r\n     */\r\n    @Builder\r\n    public static class ExampleB {\r\n\r\n        private String someField;\r\n\r\n        private static class CustomExampleBBuilder extends ExampleBBuilder {\r\n\r\n            /**\r\n             * this does not work, as this.someField now has private access\r\n             */\r\n            public CustomExampleBBuilder someCustomSetter(String someValue) {\r\n                this.someField = someValue.toUpperCase();\r\n                return this;\r\n            }\r\n\r\n            /**\r\n             * This works, super.build() is available, we are using the Lombok&#39;s build() result\r\n             * and won&#39;t have to rewrite it\r\n             */\r\n            @Override\r\n            public ExampleB build() {\r\n                ExampleB myCreatedObject = super.build();\r\n\r\n                if (myCreatedObject.someField == null) throw new RuntimeException(&quot;Some validation failed&quot;);\r\n\r\n                return myCreatedObject;\r\n            }\r\n\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nOn one hand, I&#39;d need the **inheritance** so the `build()` method does **not need to be reimplemented**, on the other hand I **cannot access the field** of the class I need to set with the **custom setter method**.\r\n\r\nHow can I reuse the existing `build()` method&#39;s result after the object has been built and at the same time have my custom setter method?\r\n\r\n","title":"Enhancing Lombok&#39;s Builder with custom setter method and enhance the existing build method without reimplementation","body":"<p>I'm using Lombok's <code>@Builder</code> annotation and need to add a custom setter method, as well as enhancing the build() method.</p>\n<p>However, I'm stuck with two solutions where none covers both requirements at once and one contradicts the other.</p>\n<p>They vary between the direct Builder override and an inherited Builder.</p>\n<p>The code contains those two variants and describes what is and what isn't working.</p>\n<pre><code>public class LombokCustomBuilderWithCustomSetterAndBuildMethodExamples {\n\n\n    /**\n     * Without builder inheritance\n     */\n    @Builder\n    public static class ExampleA {\n\n        private String someField;\n\n        /**\n         * Directly overwrites the Lombok builder\n         */\n        private static class ExampleABuilder {\n\n            /**\n             * this works\n             */\n            public ExampleABuilder someCustomSetter(String someValue) {\n                this.someField = someValue.toUpperCase();\n                return this;\n            }\n\n            /**\n             * super.builder() not available, as we have overwritten the Lombok's build() method entirely.\n             * We would need to re-implement the functionality by ourselves\n             */\n            public ExampleA build() {\n                ExampleA myCreatedObject = super.build();\n\n                if (myCreatedObject.someField == null) throw new RuntimeException(&quot;Some validation failed&quot;);\n\n                return myCreatedObject;\n            }\n\n        }\n    }\n\n\n    /**\n     * With child and parent builder inheritance\n     */\n    @Builder\n    public static class ExampleB {\n\n        private String someField;\n\n        private static class CustomExampleBBuilder extends ExampleBBuilder {\n\n            /**\n             * this does not work, as this.someField now has private access\n             */\n            public CustomExampleBBuilder someCustomSetter(String someValue) {\n                this.someField = someValue.toUpperCase();\n                return this;\n            }\n\n            /**\n             * This works, super.build() is available, we are using the Lombok's build() result\n             * and won't have to rewrite it\n             */\n            @Override\n            public ExampleB build() {\n                ExampleB myCreatedObject = super.build();\n\n                if (myCreatedObject.someField == null) throw new RuntimeException(&quot;Some validation failed&quot;);\n\n                return myCreatedObject;\n            }\n\n        }\n    }\n}\n\n</code></pre>\n<p>On one hand, I'd need the <strong>inheritance</strong> so the <code>build()</code> method does <strong>not need to be reimplemented</strong>, on the other hand I <strong>cannot access the field</strong> of the class I need to set with the <strong>custom setter method</strong>.</p>\n<p>How can I reuse the existing <code>build()</code> method's result after the object has been built and at the same time have my custom setter method?</p>\n"},{"tags":["java","maven","socket.io","maven-dependency","java-package"],"comments":[{"owner":{"account_id":10322038,"reputation":189,"user_id":7614602,"display_name":"Prabhakaran"},"score":0,"creation_date":1665756860,"post_id":74070459,"comment_id":130779239,"body_markdown":"Before you randomly, try with import statements, you can just locate the jar in your .m2, open the jar with winzip or 7zip and find out manually.","body":"Before you randomly, try with import statements, you can just locate the jar in your .m2, open the jar with winzip or 7zip and find out manually."},{"owner":{"account_id":16722747,"reputation":11,"user_id":17397834,"display_name":"Josh Majors"},"score":0,"creation_date":1665775887,"post_id":74070459,"comment_id":130785371,"body_markdown":"@Prabhakaran , I unzipped the .jar. The MANIFEST.MF didn’t provide any useful information. The file path to get to the .class files was io/socket/engineio/server, which matches the package import I used.","body":"@Prabhakaran , I unzipped the .jar. The MANIFEST.MF didn’t provide any useful information. The file path to get to the .class files was io/socket/engineio/server, which matches the package import I used."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1665778703,"post_id":74070459,"comment_id":130786105,"body_markdown":"Things like this is why IDEs exist.  Consider adding java support so VSCode","body":"Things like this is why IDEs exist.  Consider adding java support so VSCode"}],"owner":{"account_id":16722747,"reputation":11,"user_id":17397834,"display_name":"Josh Majors"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":427,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665756194,"creation_date":1665756194,"question_id":74070459,"body_markdown":"I&#39;m attempting to use the socket.io implementation for Java. I need 2 dependencies: 1) [Engine.IO Java Server][1] and 2) [Socket.IO Server Java][2]. I&#39;m struggling to import the actual Java packages once the dependencies have been added to my ```pom.xml```. Looking at the [javadocs for Engine.IO Java Server][3], it looks like the package name to import should be ```io.socket.engineio.server```. However, this results in an error (details below). For other dependencies that I add, what&#39;s the best way to find the package name to actually import the dependency in my Java source code? \r\n\r\nI&#39;m not using an IDE like IntelliJ/Eclipse. I&#39;m just using a more simple text editor (VSCode) and a terminal. Also, I&#39;ve ensured the dependencies are actually downloaded and installed in my ```~/.m2/repository``` directory. Here are my files/terminal output.\r\n\r\n**Pom.xml**\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;com.mycompany.app&lt;/groupId&gt;\r\n  &lt;artifactId&gt;game-server&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n  &lt;name&gt;game-server&lt;/name&gt;\r\n  &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.11&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.socket&lt;/groupId&gt;\r\n      &lt;artifactId&gt;engine.io-server&lt;/artifactId&gt;\r\n      &lt;version&gt;6.1.0&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.socket&lt;/groupId&gt;\r\n        &lt;artifactId&gt;socket.io-server&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.1&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n      &lt;plugins&gt;\r\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.22.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;archive&gt;\r\n              &lt;manifest&gt;\r\n                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n                &lt;mainClass&gt;com.mycompany.app.App&lt;/mainClass&gt;\r\n              &lt;/manifest&gt;\r\n            &lt;/archive&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.5.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.8.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n**App.java**\r\n```java\r\npackage com.mycompany.app;\r\n\r\nimport io.socket.engineio.server;\r\n\r\npublic class App \r\n{\r\n    public static void main( String[] args )\r\n    {\r\n        System.out.println( &quot;Hello World!&quot; );\r\n    }\r\n\r\n}\r\n```\r\n**Terminal Output**\r\n```bash\r\n$ mvn compile\r\n[INFO] Scanning for projects...\r\n[INFO] \r\n[INFO] -------------------&lt; com.mycompany.app:game-server &gt;--------------------\r\n[INFO] Building game-server 1.0-SNAPSHOT\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[INFO] \r\n[INFO] --- maven-resources-plugin:3.0.2:resources (default-resources) @ game-server ---\r\n[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n[INFO] skip non existing resourceDirectory /home/josh/Repos/game/game-server/src/main/resources\r\n[INFO] \r\n[INFO] --- maven-compiler-plugin:3.8.0:compile (default-compile) @ game-server ---\r\n[INFO] Changes detected - recompiling the module!\r\n[INFO] Compiling 1 source file to /home/josh/Repos/game/game-server/target/classes\r\n[INFO] -------------------------------------------------------------\r\n[ERROR] COMPILATION ERROR : \r\n[INFO] -------------------------------------------------------------\r\n[ERROR] /home/josh/Repos/game/game-server/src/main/java/com/mycompany/app/App.java:[3,26] package io.socket.engineio does not exis\r\n```\r\n\r\n\r\n  [1]: https://socketio.github.io/engine.io-server-java/index.html\r\n  [2]: https://github.com/trinopoty/socket.io-server-java\r\n  [3]: https://socketio.github.io/engine.io-server-java/javadocs/index.html","title":"How to find package name once Maven dependency is added","body":"<p>I'm attempting to use the socket.io implementation for Java. I need 2 dependencies: 1) <a href=\"https://socketio.github.io/engine.io-server-java/index.html\" rel=\"nofollow noreferrer\">Engine.IO Java Server</a> and 2) <a href=\"https://github.com/trinopoty/socket.io-server-java\" rel=\"nofollow noreferrer\">Socket.IO Server Java</a>. I'm struggling to import the actual Java packages once the dependencies have been added to my <code>pom.xml</code>. Looking at the <a href=\"https://socketio.github.io/engine.io-server-java/javadocs/index.html\" rel=\"nofollow noreferrer\">javadocs for Engine.IO Java Server</a>, it looks like the package name to import should be <code>io.socket.engineio.server</code>. However, this results in an error (details below). For other dependencies that I add, what's the best way to find the package name to actually import the dependency in my Java source code?</p>\n<p>I'm not using an IDE like IntelliJ/Eclipse. I'm just using a more simple text editor (VSCode) and a terminal. Also, I've ensured the dependencies are actually downloaded and installed in my <code>~/.m2/repository</code> directory. Here are my files/terminal output.</p>\n<p><strong>Pom.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.mycompany.app&lt;/groupId&gt;\n  &lt;artifactId&gt;game-server&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n  &lt;name&gt;game-server&lt;/name&gt;\n  &lt;!-- FIXME change it to the project's website --&gt;\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.11&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.socket&lt;/groupId&gt;\n      &lt;artifactId&gt;engine.io-server&lt;/artifactId&gt;\n      &lt;version&gt;6.1.0&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.socket&lt;/groupId&gt;\n        &lt;artifactId&gt;socket.io-server&lt;/artifactId&gt;\n        &lt;version&gt;4.0.1&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n      &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n      &lt;plugins&gt;\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.22.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;archive&gt;\n              &lt;manifest&gt;\n                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                &lt;mainClass&gt;com.mycompany.app.App&lt;/mainClass&gt;\n              &lt;/manifest&gt;\n            &lt;/archive&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>App.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.mycompany.app;\n\nimport io.socket.engineio.server;\n\npublic class App \n{\n    public static void main( String[] args )\n    {\n        System.out.println( &quot;Hello World!&quot; );\n    }\n\n}\n</code></pre>\n<p><strong>Terminal Output</strong></p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ mvn compile\n[INFO] Scanning for projects...\n[INFO] \n[INFO] -------------------&lt; com.mycompany.app:game-server &gt;--------------------\n[INFO] Building game-server 1.0-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- maven-resources-plugin:3.0.2:resources (default-resources) @ game-server ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory /home/josh/Repos/game/game-server/src/main/resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.8.0:compile (default-compile) @ game-server ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 1 source file to /home/josh/Repos/game/game-server/target/classes\n[INFO] -------------------------------------------------------------\n[ERROR] COMPILATION ERROR : \n[INFO] -------------------------------------------------------------\n[ERROR] /home/josh/Repos/game/game-server/src/main/java/com/mycompany/app/App.java:[3,26] package io.socket.engineio does not exis\n</code></pre>\n"},{"tags":["java","bufferedreader"],"comments":[{"owner":{"account_id":8209952,"reputation":823,"user_id":6178459,"display_name":"Arjan"},"score":1,"creation_date":1464062333,"post_id":37404068,"comment_id":62316318,"body_markdown":"The source of BufferedReader says &quot;The default is large enough for most purposes.&quot; http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/io/BufferedReader.java","body":"The source of BufferedReader says &quot;The default is large enough for most purposes.&quot; <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/io/BufferedReader.java\" rel=\"nofollow noreferrer\">grepcode.com/file/repository.grepcode.com/java/root/jdk/open&zwnj;&#8203;jdk/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1464062370,"creation_date":1464062370,"answer_id":37404142,"question_id":37404068,"body_markdown":"As the [`BufferedReader` Javadoc](https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html) says\r\n\r\n&gt; The buffer size may be specified, or the default size may be used. The default is large enough for most purposes. \r\n\r\nThe default was chosen as being &quot;large enough&quot; (which I would *interpret* as &quot;good enough&quot;).","title":"Why is the default char buffer size of BufferedReader 8192?","body":"<p>As the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html\" rel=\"noreferrer\"><code>BufferedReader</code> Javadoc</a> says</p>\n\n<blockquote>\n  <p>The buffer size may be specified, or the default size may be used. The default is large enough for most purposes. </p>\n</blockquote>\n\n<p>The default was chosen as being \"large enough\" (which I would <em>interpret</em> as \"good enough\").</p>\n"},{"tags":[],"owner":{"account_id":1624206,"reputation":1100,"user_id":1500134,"accept_rate":86,"display_name":"willbattel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1464062409,"creation_date":1464062409,"answer_id":37404150,"question_id":37404068,"body_markdown":"8192, as you said, is 2^13. The exact reason for this number being the default is hard to come by, but I&#39;d venture to say it&#39;s based on the combination of normal use scenarios and data efficiency. You can specify a buffer size of whatever you want, though, using a different object constructor.\r\n\r\n    BufferedReader(Reader in, int sz)\r\nCreates a buffering character-input stream that uses an input buffer of the specified size.\r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/java/io/BufferedReader.html\r\nand https://stackoverflow.com/questions/16973843/bufferedreader-default-buffer-size will provide further insight.","title":"Why is the default char buffer size of BufferedReader 8192?","body":"<p>8192, as you said, is 2^13. The exact reason for this number being the default is hard to come by, but I'd venture to say it's based on the combination of normal use scenarios and data efficiency. You can specify a buffer size of whatever you want, though, using a different object constructor.</p>\n\n<pre><code>BufferedReader(Reader in, int sz)\n</code></pre>\n\n<p>Creates a buffering character-input stream that uses an input buffer of the specified size.</p>\n\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/BufferedReader.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/io/BufferedReader.html</a>\nand <a href=\"https://stackoverflow.com/questions/16973843/bufferedreader-default-buffer-size\">BufferedReader default buffer size?</a> will provide further insight.</p>\n"},{"tags":[],"owner":{"account_id":6508,"reputation":16117,"user_id":10973,"accept_rate":94,"display_name":"Kevin Day"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1464065036,"creation_date":1464065036,"answer_id":37404555,"question_id":37404068,"body_markdown":"Traditionally, memory managers and paging files in the operating system work on pages that are sized in powers of 2.  This allows very efficient multiply/divide operations to be performed with left/right shift operations.  When working with a buffer, the worst case scenario is to have a buffer with size 1 byte longer than the page size (that would result in an extra page swap with very low benefit).  So the default buffer sizes will also tend to be implemented in factors of two.\r\n\r\nI&#39;d assume (but have not checked) that the JVM looks for buffers like this and attempts to align them on page boundaries.\r\n\r\nWhy does this matter?  Page misses are quite expensive.  If you are doing a ton of IO, it&#39;s better to avoid the case where the page backing the buffer gets swapped out to disk (kind of defeats the purpose of the buffer).  That said, for most applications, this is a micro-optimization, and for the vast majority of cases, the default is fine.\r\n\r\nFor reference, Windows and Linux both currently use a 4KB memory page size.  So the default buffer on BufferedReader will consume exactly 2 pages.","title":"Why is the default char buffer size of BufferedReader 8192?","body":"<p>Traditionally, memory managers and paging files in the operating system work on pages that are sized in powers of 2.  This allows very efficient multiply/divide operations to be performed with left/right shift operations.  When working with a buffer, the worst case scenario is to have a buffer with size 1 byte longer than the page size (that would result in an extra page swap with very low benefit).  So the default buffer sizes will also tend to be implemented in factors of two.</p>\n\n<p>I'd assume (but have not checked) that the JVM looks for buffers like this and attempts to align them on page boundaries.</p>\n\n<p>Why does this matter?  Page misses are quite expensive.  If you are doing a ton of IO, it's better to avoid the case where the page backing the buffer gets swapped out to disk (kind of defeats the purpose of the buffer).  That said, for most applications, this is a micro-optimization, and for the vast majority of cases, the default is fine.</p>\n\n<p>For reference, Windows and Linux both currently use a 4KB memory page size.  So the default buffer on BufferedReader will consume exactly 2 pages.</p>\n"},{"tags":[],"owner":{"account_id":17081943,"reputation":9,"user_id":12360138,"display_name":"quantum-grammar-decoder"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1573551851,"creation_date":1573551851,"answer_id":58815893,"question_id":37404068,"body_markdown":"8192 is 2^13 and also reveals much information regarding the RIGHT v WRONG encoded in all we do. If one takes away or adds to the author intent, he modifies and therefore corrupts the entire thing. Try to add or take away from something perfect... good luck!\r\n","title":"Why is the default char buffer size of BufferedReader 8192?","body":"<p>8192 is 2^13 and also reveals much information regarding the RIGHT v WRONG encoded in all we do. If one takes away or adds to the author intent, he modifies and therefore corrupts the entire thing. Try to add or take away from something perfect... good luck!</p>\n"},{"tags":[],"owner":{"account_id":9739810,"reputation":563,"user_id":7221823,"display_name":"Yevhenii Melnyk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665755986,"creation_date":1665755986,"answer_id":74070410,"question_id":37404068,"body_markdown":"There is a JDK ticket https://bugs.openjdk.org/browse/JDK-4953311 that states\r\n\r\n&gt; Most OSes that we support uses a buffer size of 8192 (8K) bytes for their IO buffering, and this is also the buffer size used by Microsoft VM on Win32. We should change the default buffer size in these two classes to 8K.\r\n","title":"Why is the default char buffer size of BufferedReader 8192?","body":"<p>There is a JDK ticket <a href=\"https://bugs.openjdk.org/browse/JDK-4953311\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-4953311</a> that states</p>\n<blockquote>\n<p>Most OSes that we support uses a buffer size of 8192 (8K) bytes for their IO buffering, and this is also the buffer size used by Microsoft VM on Win32. We should change the default buffer size in these two classes to 8K.</p>\n</blockquote>\n"}],"owner":{"account_id":8184169,"reputation":1173,"user_id":6160431,"accept_rate":93,"display_name":"Sanjit Kumar Mishra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4849,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":37404555,"answer_count":5,"score":7,"last_activity_date":1665755986,"creation_date":1464061868,"question_id":37404068,"body_markdown":"When I construct a new `BufferedReader` it is providing me a buffer of 8192 characters. What is the logic/reason behind this?\r\n\r\n    8192 = 2 to the power of 13","title":"Why is the default char buffer size of BufferedReader 8192?","body":"<p>When I construct a new <code>BufferedReader</code> it is providing me a buffer of 8192 characters. What is the logic/reason behind this?</p>\n\n<pre><code>8192 = 2 to the power of 13\n</code></pre>\n"},{"tags":["java","intellij-idea","code-coverage"],"answers":[{"tags":[],"owner":{"account_id":24517308,"reputation":401,"user_id":18430882,"display_name":"quickfix"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665755871,"creation_date":1665755871,"answer_id":74070380,"question_id":74069646,"body_markdown":"This should be present, but it looks like you Coverage plugin is disabled, check it in Preferences | Plugins | Code Coverage for Java","title":"How to run code coverage for Java project in IntelliJ Idea","body":"<p>This should be present, but it looks like you Coverage plugin is disabled, check it in Preferences | Plugins | Code Coverage for Java</p>\n"}],"owner":{"account_id":321078,"reputation":15468,"user_id":639687,"accept_rate":69,"display_name":"czerny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":902,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74070380,"answer_count":1,"score":0,"last_activity_date":1665755871,"creation_date":1665752509,"question_id":74069646,"body_markdown":"How to run test coverage build in Idea 2022.2.3 (currently the latest) for a Gradle managed Java project?\r\n\r\n[![Run with Coverage toolbar button][1]][1]\r\n\r\nThe toolbar button &quot;Run with Coverage&quot; action is disabled and run configurations for both &quot;Gradle&quot; and &quot;JUnit&quot; task types doesn&#39;t seem to contain any of *Code coverage* configuration tab and *Modify options* &gt; *Add Run Options* &gt; *Coverage settings* sub-menu referred in the [documentation][2]. The documentation also mentions\r\n\r\n&gt; Run configurations are currently being redesigned\r\n\r\nActual run configurations\r\n\r\n[![Gradle test run configuration][3]][3]\r\n\r\n[![JUnit run configuration][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ByRE4.png\r\n  [2]: https://www.jetbrains.com/help/idea/running-test-with-coverage.html\r\n  [3]: https://i.stack.imgur.com/60wYj.png\r\n  [4]: https://i.stack.imgur.com/M7enj.png","title":"How to run code coverage for Java project in IntelliJ Idea","body":"<p>How to run test coverage build in Idea 2022.2.3 (currently the latest) for a Gradle managed Java project?</p>\n<p><a href=\"https://i.stack.imgur.com/ByRE4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ByRE4.png\" alt=\"Run with Coverage toolbar button\" /></a></p>\n<p>The toolbar button &quot;Run with Coverage&quot; action is disabled and run configurations for both &quot;Gradle&quot; and &quot;JUnit&quot; task types doesn't seem to contain any of <em>Code coverage</em> configuration tab and <em>Modify options</em> &gt; <em>Add Run Options</em> &gt; <em>Coverage settings</em> sub-menu referred in the <a href=\"https://www.jetbrains.com/help/idea/running-test-with-coverage.html\" rel=\"nofollow noreferrer\">documentation</a>. The documentation also mentions</p>\n<blockquote>\n<p>Run configurations are currently being redesigned</p>\n</blockquote>\n<p>Actual run configurations</p>\n<p><a href=\"https://i.stack.imgur.com/60wYj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/60wYj.png\" alt=\"Gradle test run configuration\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/M7enj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M7enj.png\" alt=\"JUnit run configuration\" /></a></p>\n"},{"tags":["java","google-cloud-dataproc","dataproc"],"comments":[{"owner":{"account_id":174724,"reputation":25097,"user_id":404264,"accept_rate":58,"display_name":"Dagang Wei"},"score":0,"creation_date":1665886342,"post_id":74070302,"comment_id":130803084,"body_markdown":"I&#39;m afraid this is not possible. Can you consider adding retry in your cancel logic? Or consider deleting the cluster.","body":"I&#39;m afraid this is not possible. Can you consider adding retry in your cancel logic? Or consider deleting the cluster."},{"owner":{"account_id":17834267,"reputation":31,"user_id":12953619,"display_name":"stefanQ"},"score":0,"creation_date":1666019576,"post_id":74070302,"comment_id":130830242,"body_markdown":"Thanks for replying. I went with retry logic. Why is it not possible? It&#39;s not obvious to me.","body":"Thanks for replying. I went with retry logic. Why is it not possible? It&#39;s not obvious to me."},{"owner":{"account_id":3174180,"reputation":1009,"user_id":2682459,"accept_rate":92,"display_name":"user2682459"},"score":0,"creation_date":1666019965,"post_id":74070302,"comment_id":130830408,"body_markdown":"Deleting the cluster isn&#39;t a good option. For example, other jobs might be running that we don&#39;t want to cancel.","body":"Deleting the cluster isn&#39;t a good option. For example, other jobs might be running that we don&#39;t want to cancel."}],"owner":{"account_id":17834267,"reputation":31,"user_id":12953619,"display_name":"stefanQ"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1665755504,"creation_date":1665755504,"question_id":74070302,"body_markdown":"I have to wait for a job to start running before I can cancel it. Is there a way to cancel the job early? Why can I not cancel a job in `SETUP_DONE`?\r\n\r\nCancelling the job errors with `FAILED_PRECONDITION: Cannot cancel jobId &#39;x&#39; in project &#39;y&#39; in state: &#39;SETUP_DONE&#39;; cancellable states: &#39;[PENDING, RUNNING]&#39;`\r\n\r\nDeleting the job also errors with `FAILED_PRECONDITION: Cannot delete non-terminal jobId &#39;x&#39; in project &#39;y&#39;; current state: &#39;SETUP_DONE&#39;`\r\n\r\nThis [thread][1] on GitHub raises the same question.\r\n\r\n\r\n  [1]: https://github.com/googleapis/google-cloud-java/issues/3754","title":"How can I cancel a dataproc job before it starts running?","body":"<p>I have to wait for a job to start running before I can cancel it. Is there a way to cancel the job early? Why can I not cancel a job in <code>SETUP_DONE</code>?</p>\n<p>Cancelling the job errors with <code>FAILED_PRECONDITION: Cannot cancel jobId 'x' in project 'y' in state: 'SETUP_DONE'; cancellable states: '[PENDING, RUNNING]'</code></p>\n<p>Deleting the job also errors with <code>FAILED_PRECONDITION: Cannot delete non-terminal jobId 'x' in project 'y'; current state: 'SETUP_DONE'</code></p>\n<p>This <a href=\"https://github.com/googleapis/google-cloud-java/issues/3754\" rel=\"nofollow noreferrer\">thread</a> on GitHub raises the same question.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1665748411,"post_id":74067831,"comment_id":130776062,"body_markdown":"The complaint in your post does not match the one in the subject of your post.","body":"The complaint in your post does not match the one in the subject of your post."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1665748515,"post_id":74067831,"comment_id":130776104,"body_markdown":"And it is unclear how often you call that function. Scenario please.","body":"And it is unclear how often you call that function. Scenario please."}],"answers":[{"tags":[],"owner":{"display_name":"user15660680"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665754657,"creation_date":1665754657,"answer_id":74070119,"question_id":74067831,"body_markdown":"Hope this will help, i&#39;m assuming the fileName as path\r\n````\r\nFile sd = Environment.getExternalStorageDirectory();\r\nFile image = new File(sd+filePath, imageName);\r\nBitmapFactory.Options bmOptions = new BitmapFactory.Options();\r\nBitmap bitmap = BitmapFactory.decodeFile(fileName ,bmOptions);\r\nbitmap = Bitmap.createScaledBitmap(bitmap,parent.getWidth(),parent.getHeight(),true);\r\nreturn butmap;\r\n````","title":"BitmapFactory.Options returns null","body":"<p>Hope this will help, i'm assuming the fileName as path</p>\n<pre><code>File sd = Environment.getExternalStorageDirectory();\nFile image = new File(sd+filePath, imageName);\nBitmapFactory.Options bmOptions = new BitmapFactory.Options();\nBitmap bitmap = BitmapFactory.decodeFile(fileName ,bmOptions);\nbitmap = Bitmap.createScaledBitmap(bitmap,parent.getWidth(),parent.getHeight(),true);\nreturn butmap;\n</code></pre>\n"}],"owner":{"account_id":26213782,"reputation":73,"user_id":19892188,"display_name":"Dinuka Shehan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665754657,"creation_date":1665742911,"question_id":74067831,"body_markdown":"I tried so many ways but I couldn&#39;t return the bitmap image from cache, it always return null bitmap.\r\n\r\n```\r\npublic static Bitmap readBitMap(String fileName) {\r\n    Bitmap bitmapFromCache = BitmapCacheUtil.getInstance().getBitmapFromCache(fileName);\r\n    if (null != bitmapFromCache) {\r\n        return bitmapFromCache;\r\n    }\r\n    BitmapFactory.Options opt = new BitmapFactory.Options();\r\n    opt.inJustDecodeBounds = false;\r\n    opt.inPreferredConfig = Bitmap.Config.RGB_565;\r\n    opt.inPurgeable = true;\r\n    opt.inInputShareable = true;\r\n    opt.inSampleSize = 1;\r\n    bitmapFromCache = BitmapFactory.decodeFile(fileName, opt);\r\n    BitmapCacheUtil.getInstance().addBitmapToCache(fileName, bitmapFromCache);\r\n    return bitmapFromCache;\r\n}\r\n```","title":"BitmapFactory.Options returns null","body":"<p>I tried so many ways but I couldn't return the bitmap image from cache, it always return null bitmap.</p>\n<pre><code>public static Bitmap readBitMap(String fileName) {\n    Bitmap bitmapFromCache = BitmapCacheUtil.getInstance().getBitmapFromCache(fileName);\n    if (null != bitmapFromCache) {\n        return bitmapFromCache;\n    }\n    BitmapFactory.Options opt = new BitmapFactory.Options();\n    opt.inJustDecodeBounds = false;\n    opt.inPreferredConfig = Bitmap.Config.RGB_565;\n    opt.inPurgeable = true;\n    opt.inInputShareable = true;\n    opt.inSampleSize = 1;\n    bitmapFromCache = BitmapFactory.decodeFile(fileName, opt);\n    BitmapCacheUtil.getInstance().addBitmapToCache(fileName, bitmapFromCache);\n    return bitmapFromCache;\n}\n</code></pre>\n"},{"tags":["java","xml"],"answers":[{"tags":[],"owner":{"account_id":2843470,"reputation":4620,"user_id":2442526,"display_name":"xtratic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665754630,"creation_date":1665753685,"answer_id":74069896,"question_id":74069744,"body_markdown":"The reason is likely because there are invisible `[text]` nodes between your elements (in the example below &#39;\\n&#39; is a newline and &#39;\\t&#39; is a tab indent):\r\n\r\n```xml\r\n&lt;save&gt;[text &#39;\\n\r\n\\t&#39;]&lt;chunk id=&quot;id_1&quot;&gt;[text &#39;\\n\r\n\\t\\t&#39;]&lt;name&gt;test_6&lt;/name&gt;[text &#39;\\n\r\n\\t\\t&#39;]&lt;type&gt;log&lt;/type&gt;[text &#39;\\n\r\n\\t\\t&#39;]&lt;item&gt;2,3,4,5&lt;/item&gt;[text &#39;\\n\r\n\\t\\t&#39;]&lt;/chunk&gt;[text \\n\r\n\\t&#39;]&lt;chunk id=&quot;id_3&quot;&gt;[text &#39;\\n\r\n\\t\\t&#39;]&lt;name&gt;test_6&lt;/name&gt;[text &#39;\\n\r\n\\t\\t&#39;]&lt;type&gt;log&lt;/type&gt;[text &#39;\\n\r\n\\t\\t&#39;]&lt;item&gt;2,3,4,5&lt;/item&gt;[text &#39;\\n\r\n\\t&#39;]&lt;/chunk&gt;[text &#39;\\n\r\n\\t&#39;]&lt;chunk id=&quot;id_4&quot;&gt;[text &#39;\\n\r\n\\t\\t&#39;]&lt;name&gt;test_6&lt;/name&gt;[text &#39;\\n\r\n\\t\\t&#39;]&lt;type&gt;log&lt;/type&gt;[text &#39;\\n\r\n\\t\\t&#39;]&lt;item&gt;2,3,4,5&lt;/item&gt;[text &#39;\\n\r\n\\t&#39;]&lt;/chunk&gt;[text &#39;\\n\r\n\\t&#39;]&lt;chunk id=&quot;id_5&quot;&gt;[text &#39;\\n\r\n\\t\\t&#39;]&lt;name&gt;test_7&lt;/name&gt;[text &#39;\\n\r\n\\t\\t&#39;]&lt;type&gt;log&lt;/type&gt;[text &#39;\\n\r\n\\t\\t&#39;]&lt;item&gt;2,3,4,5&lt;/item&gt;[text &#39;\\n\r\n\\t&#39;]&lt;/chunk&gt;[text &#39;\\n&#39;]\r\n&lt;/save&gt;\r\n```\r\n\r\nWhen you remove everything under `&lt;chunk id=&quot;id_5&quot;&gt;` it leaves the `[text]` nodes around it.\r\n\r\n```xml\r\n&lt;save&gt;[text &#39;\\n\r\n\\t&#39;]&lt;chunk id=&quot;id_1&quot;&gt;[text &#39;\\n\r\n\\t\\t&#39;]&lt;name&gt;test_6&lt;/name&gt;[text &#39;\\n\r\n\\t\\t&#39;]&lt;type&gt;log&lt;/type&gt;[text &#39;\\n\r\n\\t\\t&#39;]&lt;item&gt;2,3,4,5&lt;/item&gt;[text &#39;\\n\r\n\\t\\t&#39;]&lt;/chunk&gt;[text \\n\r\n\\t&#39;]&lt;chunk id=&quot;id_3&quot;&gt;[text &#39;\\n\r\n\\t\\t&#39;]&lt;name&gt;test_6&lt;/name&gt;[text &#39;\\n\r\n\\t\\t&#39;]&lt;type&gt;log&lt;/type&gt;[text &#39;\\n\r\n\\t\\t&#39;]&lt;item&gt;2,3,4,5&lt;/item&gt;[text &#39;\\n\r\n\\t&#39;]&lt;/chunk&gt;[text &#39;\\n\r\n\\t&#39;]&lt;chunk id=&quot;id_4&quot;&gt;[text &#39;\\n\r\n\\t\\t&#39;]&lt;name&gt;test_6&lt;/name&gt;[text &#39;\\n\r\n\\t\\t&#39;]&lt;type&gt;log&lt;/type&gt;[text &#39;\\n\r\n\\t\\t&#39;]&lt;item&gt;2,3,4,5&lt;/item&gt;[text &#39;\\n\r\n\\t&#39;]&lt;/chunk&gt;[text &#39;\\n\r\n\\t&#39;][..where chunk used to be..][text &#39;\\n&#39;]\r\n&lt;/save&gt;\r\n```\r\n\r\nOne option to resolve this would be to re-format the document.\r\n\r\nAnother is to get the reference to the element you want to delete, check its preceding sibling node, and if it&#39;s a blank text node then remove it as well.\r\n","title":"Empty lines appear after the element is removed from the xml file","body":"<p>The reason is likely because there are invisible <code>[text]</code> nodes between your elements (in the example below '\\n' is a newline and '\\t' is a tab indent):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;save&gt;[text '\\n\n\\t']&lt;chunk id=&quot;id_1&quot;&gt;[text '\\n\n\\t\\t']&lt;name&gt;test_6&lt;/name&gt;[text '\\n\n\\t\\t']&lt;type&gt;log&lt;/type&gt;[text '\\n\n\\t\\t']&lt;item&gt;2,3,4,5&lt;/item&gt;[text '\\n\n\\t\\t']&lt;/chunk&gt;[text \\n\n\\t']&lt;chunk id=&quot;id_3&quot;&gt;[text '\\n\n\\t\\t']&lt;name&gt;test_6&lt;/name&gt;[text '\\n\n\\t\\t']&lt;type&gt;log&lt;/type&gt;[text '\\n\n\\t\\t']&lt;item&gt;2,3,4,5&lt;/item&gt;[text '\\n\n\\t']&lt;/chunk&gt;[text '\\n\n\\t']&lt;chunk id=&quot;id_4&quot;&gt;[text '\\n\n\\t\\t']&lt;name&gt;test_6&lt;/name&gt;[text '\\n\n\\t\\t']&lt;type&gt;log&lt;/type&gt;[text '\\n\n\\t\\t']&lt;item&gt;2,3,4,5&lt;/item&gt;[text '\\n\n\\t']&lt;/chunk&gt;[text '\\n\n\\t']&lt;chunk id=&quot;id_5&quot;&gt;[text '\\n\n\\t\\t']&lt;name&gt;test_7&lt;/name&gt;[text '\\n\n\\t\\t']&lt;type&gt;log&lt;/type&gt;[text '\\n\n\\t\\t']&lt;item&gt;2,3,4,5&lt;/item&gt;[text '\\n\n\\t']&lt;/chunk&gt;[text '\\n']\n&lt;/save&gt;\n</code></pre>\n<p>When you remove everything under <code>&lt;chunk id=&quot;id_5&quot;&gt;</code> it leaves the <code>[text]</code> nodes around it.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;save&gt;[text '\\n\n\\t']&lt;chunk id=&quot;id_1&quot;&gt;[text '\\n\n\\t\\t']&lt;name&gt;test_6&lt;/name&gt;[text '\\n\n\\t\\t']&lt;type&gt;log&lt;/type&gt;[text '\\n\n\\t\\t']&lt;item&gt;2,3,4,5&lt;/item&gt;[text '\\n\n\\t\\t']&lt;/chunk&gt;[text \\n\n\\t']&lt;chunk id=&quot;id_3&quot;&gt;[text '\\n\n\\t\\t']&lt;name&gt;test_6&lt;/name&gt;[text '\\n\n\\t\\t']&lt;type&gt;log&lt;/type&gt;[text '\\n\n\\t\\t']&lt;item&gt;2,3,4,5&lt;/item&gt;[text '\\n\n\\t']&lt;/chunk&gt;[text '\\n\n\\t']&lt;chunk id=&quot;id_4&quot;&gt;[text '\\n\n\\t\\t']&lt;name&gt;test_6&lt;/name&gt;[text '\\n\n\\t\\t']&lt;type&gt;log&lt;/type&gt;[text '\\n\n\\t\\t']&lt;item&gt;2,3,4,5&lt;/item&gt;[text '\\n\n\\t']&lt;/chunk&gt;[text '\\n\n\\t'][..where chunk used to be..][text '\\n']\n&lt;/save&gt;\n</code></pre>\n<p>One option to resolve this would be to re-format the document.</p>\n<p>Another is to get the reference to the element you want to delete, check its preceding sibling node, and if it's a blank text node then remove it as well.</p>\n"}],"owner":{"account_id":26291969,"reputation":27,"user_id":19958859,"display_name":"miniWorld"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74069896,"answer_count":1,"score":1,"last_activity_date":1665754630,"creation_date":1665752957,"question_id":74069744,"body_markdown":"Some elements have been added to the xml file through the add method. But why does the xml file leave a blank line after deleting an element, and how to get rid of it?\r\nThe main function is:\r\n```\r\n@Test\r\n    public void test() {\r\n        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n        OperateXml operateXml = new OperateXml();\r\n        try {\r\n            DocumentBuilder builder = factory.newDocumentBuilder();\r\n            Document document = builder.parse(new ClassPathResource(&quot;chunkInfo/chunk.xml&quot;).getFile());\r\n// operateXml.add(document);\r\n            operateXml.deleteNodeById(document,&quot;id_5&quot;);\r\n            operateXml.saveDocument(document, new ClassPathResource(&quot;chunkInfo/chunk.xml&quot;).getFile());\r\n} catch (Exception e) {\r\n            System.out.println(e);\r\n        }\r\n}\r\n```\r\nThe save function is:\r\n```\r\npublic static void saveDocument(Document document, File xmlFile) {\r\n        TransformerFactory tff = TransformerFactory.newInstance();\r\n        try {\r\n            Transformer tf = tff.newTransformer();\r\n            tf.setOutputProperty(OutputKeys.DOCTYPE_SYSTEM, &quot;chunk.dtd&quot;);\r\n            tf.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n            tf.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;2&quot;);\r\n            tf.transform(new DOMSource(document), new StreamResult(xmlFile));\r\n        } catch (TransformerException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\nBefore deleting the element, the xml file is：\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n&lt;!DOCTYPE save SYSTEM &quot;chunk.dtd&quot;&gt;\r\n&lt;save&gt;\r\n    &lt;chunk id=&quot;id_1&quot;&gt;\r\n    &lt;name&gt;test_6&lt;/name&gt;\r\n    &lt;type&gt;log&lt;/type&gt;\r\n    &lt;item&gt;2,3,4,5&lt;/item&gt;\r\n  &lt;/chunk&gt;\r\n    &lt;chunk id=&quot;id_3&quot;&gt;\r\n    &lt;name&gt;test_6&lt;/name&gt;\r\n    &lt;type&gt;log&lt;/type&gt;\r\n    &lt;item&gt;2,3,4,5&lt;/item&gt;\r\n  &lt;/chunk&gt;\r\n    &lt;chunk id=&quot;id_4&quot;&gt;\r\n    &lt;name&gt;test_6&lt;/name&gt;\r\n    &lt;type&gt;log&lt;/type&gt;\r\n    &lt;item&gt;2,3,4,5&lt;/item&gt;\r\n  &lt;/chunk&gt;\r\n&lt;chunk id=&quot;id_5&quot;&gt;\r\n    &lt;name&gt;test_7&lt;/name&gt;\r\n    &lt;type&gt;log&lt;/type&gt;\r\n    &lt;item&gt;2,3,4,5&lt;/item&gt;\r\n  &lt;/chunk&gt;\r\n&lt;/save&gt;\r\n```\r\nAfter deleting the element (id=&quot;id_5&quot;), the xml file is：\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n&lt;!DOCTYPE save SYSTEM &quot;chunk.dtd&quot;&gt;\r\n&lt;save&gt;\r\n    &lt;chunk id=&quot;id_1&quot;&gt;\r\n    &lt;name&gt;test_6&lt;/name&gt;\r\n    &lt;type&gt;log&lt;/type&gt;\r\n    &lt;item&gt;2,3,4,5&lt;/item&gt;\r\n  &lt;/chunk&gt;\r\n    &lt;chunk id=&quot;id_3&quot;&gt;\r\n    &lt;name&gt;test_6&lt;/name&gt;\r\n    &lt;type&gt;log&lt;/type&gt;\r\n    &lt;item&gt;2,3,4,5&lt;/item&gt;\r\n  &lt;/chunk&gt;\r\n    &lt;chunk id=&quot;id_4&quot;&gt;\r\n    &lt;name&gt;test_6&lt;/name&gt;\r\n    &lt;type&gt;log&lt;/type&gt;\r\n    &lt;item&gt;2,3,4,5&lt;/item&gt;\r\n  &lt;/chunk&gt;\r\n\r\n&lt;/save&gt;\r\n```","title":"Empty lines appear after the element is removed from the xml file","body":"<p>Some elements have been added to the xml file through the add method. But why does the xml file leave a blank line after deleting an element, and how to get rid of it?\nThe main function is:</p>\n<pre><code>@Test\n    public void test() {\n        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n        OperateXml operateXml = new OperateXml();\n        try {\n            DocumentBuilder builder = factory.newDocumentBuilder();\n            Document document = builder.parse(new ClassPathResource(&quot;chunkInfo/chunk.xml&quot;).getFile());\n// operateXml.add(document);\n            operateXml.deleteNodeById(document,&quot;id_5&quot;);\n            operateXml.saveDocument(document, new ClassPathResource(&quot;chunkInfo/chunk.xml&quot;).getFile());\n} catch (Exception e) {\n            System.out.println(e);\n        }\n}\n</code></pre>\n<p>The save function is:</p>\n<pre><code>public static void saveDocument(Document document, File xmlFile) {\n        TransformerFactory tff = TransformerFactory.newInstance();\n        try {\n            Transformer tf = tff.newTransformer();\n            tf.setOutputProperty(OutputKeys.DOCTYPE_SYSTEM, &quot;chunk.dtd&quot;);\n            tf.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\n            tf.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;2&quot;);\n            tf.transform(new DOMSource(document), new StreamResult(xmlFile));\n        } catch (TransformerException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>Before deleting the element, the xml file is：</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;!DOCTYPE save SYSTEM &quot;chunk.dtd&quot;&gt;\n&lt;save&gt;\n    &lt;chunk id=&quot;id_1&quot;&gt;\n    &lt;name&gt;test_6&lt;/name&gt;\n    &lt;type&gt;log&lt;/type&gt;\n    &lt;item&gt;2,3,4,5&lt;/item&gt;\n  &lt;/chunk&gt;\n    &lt;chunk id=&quot;id_3&quot;&gt;\n    &lt;name&gt;test_6&lt;/name&gt;\n    &lt;type&gt;log&lt;/type&gt;\n    &lt;item&gt;2,3,4,5&lt;/item&gt;\n  &lt;/chunk&gt;\n    &lt;chunk id=&quot;id_4&quot;&gt;\n    &lt;name&gt;test_6&lt;/name&gt;\n    &lt;type&gt;log&lt;/type&gt;\n    &lt;item&gt;2,3,4,5&lt;/item&gt;\n  &lt;/chunk&gt;\n&lt;chunk id=&quot;id_5&quot;&gt;\n    &lt;name&gt;test_7&lt;/name&gt;\n    &lt;type&gt;log&lt;/type&gt;\n    &lt;item&gt;2,3,4,5&lt;/item&gt;\n  &lt;/chunk&gt;\n&lt;/save&gt;\n</code></pre>\n<p>After deleting the element (id=&quot;id_5&quot;), the xml file is：</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;!DOCTYPE save SYSTEM &quot;chunk.dtd&quot;&gt;\n&lt;save&gt;\n    &lt;chunk id=&quot;id_1&quot;&gt;\n    &lt;name&gt;test_6&lt;/name&gt;\n    &lt;type&gt;log&lt;/type&gt;\n    &lt;item&gt;2,3,4,5&lt;/item&gt;\n  &lt;/chunk&gt;\n    &lt;chunk id=&quot;id_3&quot;&gt;\n    &lt;name&gt;test_6&lt;/name&gt;\n    &lt;type&gt;log&lt;/type&gt;\n    &lt;item&gt;2,3,4,5&lt;/item&gt;\n  &lt;/chunk&gt;\n    &lt;chunk id=&quot;id_4&quot;&gt;\n    &lt;name&gt;test_6&lt;/name&gt;\n    &lt;type&gt;log&lt;/type&gt;\n    &lt;item&gt;2,3,4,5&lt;/item&gt;\n  &lt;/chunk&gt;\n\n&lt;/save&gt;\n</code></pre>\n"},{"tags":["java","android","tokenize","whatsapp","multiautocompletetextview"],"comments":[{"owner":{"account_id":4763924,"reputation":26697,"user_id":3850595,"accept_rate":86,"display_name":"Jordi Castilla"},"score":0,"creation_date":1478508861,"post_id":40460997,"comment_id":68167149,"body_markdown":"http://stackoverflow.com/a/18486927/3850595","body":"<a href=\"http://stackoverflow.com/a/18486927/3850595\">stackoverflow.com/a/18486927/3850595</a>"},{"owner":{"account_id":310854,"reputation":33070,"user_id":624069,"accept_rate":66,"display_name":"Niranj Patel"},"score":0,"creation_date":1478509201,"post_id":40460997,"comment_id":68167333,"body_markdown":"[check this link](https://android-arsenal.com/tag/197), lots of example available.. [best one](https://android-arsenal.com/details/1/2953)","body":"<a href=\"https://android-arsenal.com/tag/197\" rel=\"nofollow noreferrer\">check this link</a>, lots of example available.. <a href=\"https://android-arsenal.com/details/1/2953\" rel=\"nofollow noreferrer\">best one</a>"},{"owner":{"account_id":1265999,"reputation":11036,"user_id":1223291,"accept_rate":41,"display_name":"dipali"},"score":0,"creation_date":1478510186,"post_id":40460997,"comment_id":68167885,"body_markdown":"@NiranjPatel i want to add @ and open custom list popup same as autocompletetext view.","body":"@NiranjPatel i want to add @ and open custom list popup same as autocompletetext view."},{"owner":{"account_id":310854,"reputation":33070,"user_id":624069,"accept_rate":66,"display_name":"Niranj Patel"},"score":0,"creation_date":1478510891,"post_id":40460997,"comment_id":68168259,"body_markdown":"@dipali try with Sergey Nikitin&#39;s Answer and try to modify code as per your requirement","body":"@dipali try with Sergey Nikitin&#39;s Answer and try to modify code as per your requirement"}],"answers":[{"tags":[],"owner":{"account_id":3929200,"reputation":817,"user_id":4837089,"display_name":"Sergey Nikitin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478508749,"creation_date":1478508749,"answer_id":40461107,"question_id":40460997,"body_markdown":"Please see [TokenAutoComplete][1], I hope it help\r\n\r\n\r\n  [1]: https://github.com/splitwise/TokenAutoComplete","title":"Android MultiAutoCompleteTextView with custom tokenizer like as whatsapp GroupChat","body":"<p>Please see <a href=\"https://github.com/splitwise/TokenAutoComplete\" rel=\"nofollow noreferrer\">TokenAutoComplete</a>, I hope it help</p>\n"},{"tags":[],"owner":{"account_id":1265999,"reputation":11036,"user_id":1223291,"accept_rate":41,"display_name":"dipali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1478755527,"creation_date":1478755527,"answer_id":40520492,"question_id":40460997,"body_markdown":"I got solution for my question.\r\n\r\ni have create own custom view for multiautocompletetextview and add performFiltering method for open popup after @sign.\r\n\r\n\r\n\r\n    public class KcsMultiAutoCompleteTextView extends MultiAutoCompleteTextView {\r\n        public KcsMultiAutoCompleteTextView(Context context) {\r\n            super(context);\r\n        }\r\n    \r\n        public KcsMultiAutoCompleteTextView(Context context, AttributeSet attrs) {\r\n            super(context, attrs);\r\n        }\r\n    \r\n        public KcsMultiAutoCompleteTextView(Context context, AttributeSet attrs, int defStyleAttr) {\r\n            super(context, attrs, defStyleAttr);\r\n        }\r\n    \r\n        @Override\r\n        protected void performFiltering(CharSequence text, int start, int end, int keyCode) {\r\n            if (text.charAt(start) == &#39;@&#39;) {\r\n                start = start + 1;\r\n            } else {\r\n                text = text.subSequence(0, start);\r\n                for (int i = start; i &lt; end; i++) {\r\n                    text = text + &quot;*&quot;;\r\n                }\r\n            }\r\n            super.performFiltering(text, start, end, keyCode);\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Android MultiAutoCompleteTextView with custom tokenizer like as whatsapp GroupChat","body":"<p>I got solution for my question.</p>\n\n<p>i have create own custom view for multiautocompletetextview and add performFiltering method for open popup after @sign.</p>\n\n<pre><code>public class KcsMultiAutoCompleteTextView extends MultiAutoCompleteTextView {\n    public KcsMultiAutoCompleteTextView(Context context) {\n        super(context);\n    }\n\n    public KcsMultiAutoCompleteTextView(Context context, AttributeSet attrs) {\n        super(context, attrs);\n    }\n\n    public KcsMultiAutoCompleteTextView(Context context, AttributeSet attrs, int defStyleAttr) {\n        super(context, attrs, defStyleAttr);\n    }\n\n    @Override\n    protected void performFiltering(CharSequence text, int start, int end, int keyCode) {\n        if (text.charAt(start) == '@') {\n            start = start + 1;\n        } else {\n            text = text.subSequence(0, start);\n            for (int i = start; i &lt; end; i++) {\n                text = text + \"*\";\n            }\n        }\n        super.performFiltering(text, start, end, keyCode);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12431895,"reputation":2066,"user_id":9053942,"display_name":"Qazi Fahim Farhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611223836,"creation_date":1611223836,"answer_id":65825169,"question_id":40460997,"body_markdown":"Today I was looking for this. I used [android-multiautocomplete](https://github.com/Teamwork/android-multiautocomplete) library. Check the demo given with the library. In short, you have to extend 2 classes from the library, a tokenFilter (describes your pattern, in this case, `@` character) and a ViewBinder (to customize the suggestion rows, such as placing user image at certain position etc). So for me, this is the `TokenFilter` :\r\n```java\r\nimport androidx.annotation.NonNull;\r\nimport ridmik.one.entities.MucOptions;\r\nimport ridmik.one.ui.components.autocomplete.filter.HandleTokenFilter;\r\n\r\npublic class MucUserTokenFilter extends HandleTokenFilter&lt;MucOptions.User&gt; {\r\n\r\n  public MucUserTokenFilter() {\r\n    this(&#39;@&#39;);\r\n  }\r\n  public MucUserTokenFilter(char handleChar) {\r\n    super(handleChar);\r\n  }\r\n\r\n  @Override\r\n  protected boolean matchesConstraint(@NonNull MucOptions.User user, @NonNull CharSequence constraint) {\r\n    return user.getComparableName().toLowerCase().contains(constraint.toString().toLowerCase());\r\n  }\r\n\r\n  @Override\r\n  public @NonNull CharSequence toTokenString(@NonNull MucOptions.User user) {\r\n    return handleChar +user.getComparableName(); // Add handler at the begining! this is the trick!\r\n  }\r\n}\r\n\r\n```\r\n\r\nAnd this is the `ViewBinder`:\r\n```java\r\npublic class MucUserViewBinder implements AutoCompleteViewBinder&lt;MucOptions.User&gt; {\r\n  public static final String TAG = MucUserViewBinder.class.getSimpleName();\r\n  @Override\r\n  public long getItemId(@NonNull @NotNull MucOptions.User user) {\r\n    try{\r\n      if(user!=null) {\r\n        return user.userId;  // ei line e crash kore :/\r\n      }\r\n    }catch (Exception x) {\r\n      Timber.tag(TAG).e(&quot;Exception &quot;+x.getMessage());\r\n    }\r\n\r\n\r\n    return 0;\r\n  }\r\n\r\n  @Override\r\n  public int getItemLayoutId() {\r\n    return R.layout.simple_autocomplete_row;\r\n  }\r\n\r\n  @NonNull\r\n  @NotNull\r\n  @Override\r\n  public AutoCompleteViewHolder getViewHolder(@NonNull @NotNull View view) {\r\n    return new MucUserViewHolder(view);\r\n  }\r\n\r\n  @Override\r\n  public void bindData(@NonNull @NotNull AutoCompleteViewHolder viewHolder, @NonNull @NotNull MucOptions.User user,\r\n                       @Nullable @org.jetbrains.annotations.Nullable CharSequence constraint) {\r\n    MucUserViewHolder itemViewHolder = (MucUserViewHolder) viewHolder;\r\n    itemViewHolder.textView.setText(user.getComparableName());\r\n    String smallAvatar = user.image + &quot;_sm.png&quot;;\r\n    Timber.tag(TAG).e(&quot;user.image = &quot;+smallAvatar);\r\n    Picasso.get().load(smallAvatar)\r\n        .placeholder(ContextCompat.getDrawable(itemViewHolder.rootView.getContext(),\r\n            R.drawable.ic_avatar_placeholder)).into(itemViewHolder.avatar);\r\n  }\r\n\r\n  static class MucUserViewHolder extends AutoCompleteViewHolder {\r\n    public final TextView textView;\r\n    public final CircleImageView avatar;\r\n    public final View rootView;\r\n\r\n    protected MucUserViewHolder(@NonNull @NotNull View view) {\r\n      super(view);\r\n      this.rootView = view;\r\n      this.textView = view.findViewById(R.id.textView);\r\n      this.avatar = view.findViewById(R.id.avatar);\r\n    }\r\n  }\r\n}\r\n\r\n```\r\nAfter that, you go to your activity / fragment, and do this:\r\n```java\r\n\r\nprivate MultiAutoComplete multiAutoComplete = null; // A field in your Activity / Fragment class, initialize it to null.\r\n\r\nvoid initAutoSuggestions() {\r\n  \r\nArrayList&lt;MucOptions.User&gt; someList = getUsers(); // &lt;--- suggestions dataset depending on your code.\r\n        AutoCompleteTypeAdapter&lt;MucOptions.User&gt; nameTypeAdapter =\r\n            AutoCompleteTypeAdapter.Build.from(new MucUserViewBinder(), new MucUserTokenFilter());\r\n\r\n\r\n        nameTypeAdapter.setItems(someList);\r\n\r\n        this.multiAutoComplete = new MultiAutoComplete.Builder()\r\n            .tokenizer(new PrefixTokenizer(&#39;@&#39;))\r\n            .addTypeAdapter(nameTypeAdapter)\r\n            // .delayer(constraint -&gt; { return 10; }) // eta ki bujhi ni\r\n            .build();\r\n        \r\n        this.multiAutoComplete.onViewAttached(binding.textinput); // binding.textinput is your multiAutoCompleteView \r\n}\r\n```\r\n Then call it inside `onCreate` (for Activity) or `onViewCreated` (for fragment).\r\nFinally, inside the onDestroy:\r\n```java\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n          if(multiAutoComplete!=null) {\r\n            this.multiAutoComplete.onViewDetached(); // needed for @mention that thing\r\n        }\r\n}\r\n```\r\n\r\nYou can also see the Demo inside the library to see other options.","title":"Android MultiAutoCompleteTextView with custom tokenizer like as whatsapp GroupChat","body":"<p>Today I was looking for this. I used <a href=\"https://github.com/Teamwork/android-multiautocomplete\" rel=\"nofollow noreferrer\">android-multiautocomplete</a> library. Check the demo given with the library. In short, you have to extend 2 classes from the library, a tokenFilter (describes your pattern, in this case, <code>@</code> character) and a ViewBinder (to customize the suggestion rows, such as placing user image at certain position etc). So for me, this is the <code>TokenFilter</code> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>import androidx.annotation.NonNull;\nimport ridmik.one.entities.MucOptions;\nimport ridmik.one.ui.components.autocomplete.filter.HandleTokenFilter;\n\npublic class MucUserTokenFilter extends HandleTokenFilter&lt;MucOptions.User&gt; {\n\n  public MucUserTokenFilter() {\n    this('@');\n  }\n  public MucUserTokenFilter(char handleChar) {\n    super(handleChar);\n  }\n\n  @Override\n  protected boolean matchesConstraint(@NonNull MucOptions.User user, @NonNull CharSequence constraint) {\n    return user.getComparableName().toLowerCase().contains(constraint.toString().toLowerCase());\n  }\n\n  @Override\n  public @NonNull CharSequence toTokenString(@NonNull MucOptions.User user) {\n    return handleChar +user.getComparableName(); // Add handler at the begining! this is the trick!\n  }\n}\n\n</code></pre>\n<p>And this is the <code>ViewBinder</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MucUserViewBinder implements AutoCompleteViewBinder&lt;MucOptions.User&gt; {\n  public static final String TAG = MucUserViewBinder.class.getSimpleName();\n  @Override\n  public long getItemId(@NonNull @NotNull MucOptions.User user) {\n    try{\n      if(user!=null) {\n        return user.userId;  // ei line e crash kore :/\n      }\n    }catch (Exception x) {\n      Timber.tag(TAG).e(&quot;Exception &quot;+x.getMessage());\n    }\n\n\n    return 0;\n  }\n\n  @Override\n  public int getItemLayoutId() {\n    return R.layout.simple_autocomplete_row;\n  }\n\n  @NonNull\n  @NotNull\n  @Override\n  public AutoCompleteViewHolder getViewHolder(@NonNull @NotNull View view) {\n    return new MucUserViewHolder(view);\n  }\n\n  @Override\n  public void bindData(@NonNull @NotNull AutoCompleteViewHolder viewHolder, @NonNull @NotNull MucOptions.User user,\n                       @Nullable @org.jetbrains.annotations.Nullable CharSequence constraint) {\n    MucUserViewHolder itemViewHolder = (MucUserViewHolder) viewHolder;\n    itemViewHolder.textView.setText(user.getComparableName());\n    String smallAvatar = user.image + &quot;_sm.png&quot;;\n    Timber.tag(TAG).e(&quot;user.image = &quot;+smallAvatar);\n    Picasso.get().load(smallAvatar)\n        .placeholder(ContextCompat.getDrawable(itemViewHolder.rootView.getContext(),\n            R.drawable.ic_avatar_placeholder)).into(itemViewHolder.avatar);\n  }\n\n  static class MucUserViewHolder extends AutoCompleteViewHolder {\n    public final TextView textView;\n    public final CircleImageView avatar;\n    public final View rootView;\n\n    protected MucUserViewHolder(@NonNull @NotNull View view) {\n      super(view);\n      this.rootView = view;\n      this.textView = view.findViewById(R.id.textView);\n      this.avatar = view.findViewById(R.id.avatar);\n    }\n  }\n}\n\n</code></pre>\n<p>After that, you go to your activity / fragment, and do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nprivate MultiAutoComplete multiAutoComplete = null; // A field in your Activity / Fragment class, initialize it to null.\n\nvoid initAutoSuggestions() {\n  \nArrayList&lt;MucOptions.User&gt; someList = getUsers(); // &lt;--- suggestions dataset depending on your code.\n        AutoCompleteTypeAdapter&lt;MucOptions.User&gt; nameTypeAdapter =\n            AutoCompleteTypeAdapter.Build.from(new MucUserViewBinder(), new MucUserTokenFilter());\n\n\n        nameTypeAdapter.setItems(someList);\n\n        this.multiAutoComplete = new MultiAutoComplete.Builder()\n            .tokenizer(new PrefixTokenizer('@'))\n            .addTypeAdapter(nameTypeAdapter)\n            // .delayer(constraint -&gt; { return 10; }) // eta ki bujhi ni\n            .build();\n        \n        this.multiAutoComplete.onViewAttached(binding.textinput); // binding.textinput is your multiAutoCompleteView \n}\n</code></pre>\n<p>Then call it inside <code>onCreate</code> (for Activity) or <code>onViewCreated</code> (for fragment).\nFinally, inside the onDestroy:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public void onDestroy() {\n        super.onDestroy();\n          if(multiAutoComplete!=null) {\n            this.multiAutoComplete.onViewDetached(); // needed for @mention that thing\n        }\n}\n</code></pre>\n<p>You can also see the Demo inside the library to see other options.</p>\n"}],"owner":{"account_id":1265999,"reputation":11036,"user_id":1223291,"accept_rate":41,"display_name":"dipali"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2273,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":40520492,"answer_count":3,"score":1,"last_activity_date":1665754581,"creation_date":1478508389,"question_id":40460997,"body_markdown":"I want to create custom tokenizer for @ like as whatspp feature (when open group and write @ then open popup for list and user can select any. Also user can remove that string of @.\r\n\r\nI have found twitter like search feature ([example][1]), \r\nbut in this, when user can write @ then do not show popup window of list. User can write something after @ then based on typing, popup window will show search result.\r\n\r\nI want to show something like this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: http://automateddeveloper.blogspot.in/2014/04/building-twitter-style-autocomplete-for.html\r\n  [2]: https://i.stack.imgur.com/q0J03.png","title":"Android MultiAutoCompleteTextView with custom tokenizer like as whatsapp GroupChat","body":"<p>I want to create custom tokenizer for @ like as whatspp feature (when open group and write @ then open popup for list and user can select any. Also user can remove that string of @.</p>\n<p>I have found twitter like search feature (<a href=\"http://automateddeveloper.blogspot.in/2014/04/building-twitter-style-autocomplete-for.html\" rel=\"nofollow noreferrer\">example</a>),\nbut in this, when user can write @ then do not show popup window of list. User can write something after @ then based on typing, popup window will show search result.</p>\n<p>I want to show something like this:</p>\n<p><a href=\"https://i.stack.imgur.com/q0J03.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q0J03.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","php","android"],"answers":[{"tags":[],"owner":{"account_id":7699298,"reputation":64,"user_id":5832512,"display_name":"pan he"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665732539,"creation_date":1665732539,"answer_id":74065767,"question_id":74064776,"body_markdown":"good question\r\n\r\nAutually if we send a get request to \r\n\r\n`http://www.webweb.infinityfreeapp.com/lichi/download.php?path=Add.jpg`  \r\n\r\nwe get the right resutl just like \r\n\r\n`&lt;html&gt;&lt;body&gt;&lt;script&gt;document.cookie=&quot;_test=9e105a99e90025d241c180c29fad3231 ; expires=Thu, 31-D...&quot;;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;` . \r\n\r\nwe can get a file in browser, because browser can parse  `html` ，\r\nwhen browser get the string result which is a  `html` page, it create another request with a new Header （`Cookie=_test=9e105a99e90025d241c180c29fad3231`), and with the Cookie, we get an image file from server.\r\n","title":"OkHttp3 response string show html file instaed of download file data","body":"<p>good question</p>\n<p>Autually if we send a get request to</p>\n<p><code>http://www.webweb.infinityfreeapp.com/lichi/download.php?path=Add.jpg</code></p>\n<p>we get the right resutl just like</p>\n<p><code>&lt;html&gt;&lt;body&gt;&lt;script&gt;document.cookie=&quot;_test=9e105a99e90025d241c180c29fad3231 ; expires=Thu, 31-D...&quot;;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;</code> .</p>\n<p>we can get a file in browser, because browser can parse  <code>html</code> ，\nwhen browser get the string result which is a  <code>html</code> page, it create another request with a new Header （<code>Cookie=_test=9e105a99e90025d241c180c29fad3231</code>), and with the Cookie, we get an image file from server.</p>\n"},{"tags":[],"owner":{"account_id":2379521,"reputation":51,"user_id":2081848,"display_name":"Hitlar India"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665754511,"creation_date":1665754511,"answer_id":74070093,"question_id":74064776,"body_markdown":"Thanks for quick and good solution.\r\n\r\ni just add header as:- \r\n    **.header(&quot;Cookie&quot;, &quot;_test=9e105a99e90025d241c180c29fad3231&quot;)**\r\nand send again with above code, actual result come","title":"OkHttp3 response string show html file instaed of download file data","body":"<p>Thanks for quick and good solution.</p>\n<p>i just add header as:-\n<strong>.header(&quot;Cookie&quot;, &quot;_test=9e105a99e90025d241c180c29fad3231&quot;)</strong>\nand send again with above code, actual result come</p>\n"}],"owner":{"account_id":2379521,"reputation":51,"user_id":2081848,"display_name":"Hitlar India"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1665754511,"creation_date":1665726180,"question_id":74064776,"body_markdown":"I using Okhttp3 for download file from server in android application. my link is **http://www.webweb.infinityfreeapp.com/lichi/download.php?path=Add.jpg** it download file in firefox, chorme smoothly, while in okhttp3 response string shows \r\n\r\n    &lt;html&gt;&lt;body&gt;&lt;script&gt;document.cookie=&quot;_test=9e105a99e90025d241c180c29fad3231 ; expires=Thu, 31-Dec-37 23:55:55 GMT; path=/&quot; ;document.location.href=&quot;http://www.webweb.infinityfreeapp.com/lichi/download.php?path=Add.jpg&amp;i=1&quot;;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;\r\n\r\nbut i feel response string has Add.jpg file data. so, what can i change in okhttp3 code or php code that i gather App.jpg data in response string of okhttp3 \r\n\r\nPhp Code\r\n\r\n    if(isset($_GET[&#39;path&#39;]))\r\n    {\r\n        $url = $_GET[&#39;path&#39;];\r\n        $type   = &quot;application/pdf&quot;;\r\n        $completePath = &quot;http://www.webweb.infinityfreeapp.com/lichi/&quot;;\r\n        $visibleName = &quot;$url&quot;;\r\n        $completePath .= $url; \r\n        // Force download\r\n        header(&quot;Content-disposition: attachment; filename=$visibleName&quot;); \r\n        header(&quot;Content-Type: application/force-download&quot;); \r\n        header(&quot;Content-Transfer-Encoding: $type\\n&quot;);\r\n        // header(&quot;Content-Length: &quot;.filesize($completePath)); \r\n        header(&quot;Pragma: no-cache&quot;); \r\n        header(&quot;Cache-Control: must-revalidate, post-check=0, pre-check=0, public&quot;); \r\n        header(&quot;Expires: 0&quot;); \r\n        readfile($completePath); \r\n        die();\r\n    }\r\n\r\nI comment Content-Length because it crash system in uncomment\r\n\r\nJava code\r\n\r\n \r\n\r\n       OkHttpClient client = new OkHttpClient();\r\n        String url = &quot;http://www.webweb.infinityfreeapp.com/lichi/download.php?path=Add.jpg&quot;;\r\n        Call call = client.newCall(new Request.Builder().url(url).get().build());\r\n       \r\n          Response response = call.execute();\r\n          if (response.code() == 200 || response.code() == 201) {\r\n               Headers responseHeaders = response.headers();\r\n               for (int i = 0; i &lt; responseHeaders.size(); i++) \r\n                  Log.d(LOG_TAG, responseHeaders.name(i) + &quot;: &quot; + responseHeaders.value(i));\r\n                        \r\n                String str = response.body().string();\r\n         }\r\n\r\nHere str contain above html file information instead Add.jpg file data. so please give answer\r\n\r\n\r\n","title":"OkHttp3 response string show html file instaed of download file data","body":"<p>I using Okhttp3 for download file from server in android application. my link is <strong><a href=\"http://www.webweb.infinityfreeapp.com/lichi/download.php?path=Add.jpg\" rel=\"nofollow noreferrer\">http://www.webweb.infinityfreeapp.com/lichi/download.php?path=Add.jpg</a></strong> it download file in firefox, chorme smoothly, while in okhttp3 response string shows</p>\n<pre><code>&lt;html&gt;&lt;body&gt;&lt;script&gt;document.cookie=&quot;_test=9e105a99e90025d241c180c29fad3231 ; expires=Thu, 31-Dec-37 23:55:55 GMT; path=/&quot; ;document.location.href=&quot;http://www.webweb.infinityfreeapp.com/lichi/download.php?path=Add.jpg&amp;i=1&quot;;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n<p>but i feel response string has Add.jpg file data. so, what can i change in okhttp3 code or php code that i gather App.jpg data in response string of okhttp3</p>\n<p>Php Code</p>\n<pre><code>if(isset($_GET['path']))\n{\n    $url = $_GET['path'];\n    $type   = &quot;application/pdf&quot;;\n    $completePath = &quot;http://www.webweb.infinityfreeapp.com/lichi/&quot;;\n    $visibleName = &quot;$url&quot;;\n    $completePath .= $url; \n    // Force download\n    header(&quot;Content-disposition: attachment; filename=$visibleName&quot;); \n    header(&quot;Content-Type: application/force-download&quot;); \n    header(&quot;Content-Transfer-Encoding: $type\\n&quot;);\n    // header(&quot;Content-Length: &quot;.filesize($completePath)); \n    header(&quot;Pragma: no-cache&quot;); \n    header(&quot;Cache-Control: must-revalidate, post-check=0, pre-check=0, public&quot;); \n    header(&quot;Expires: 0&quot;); \n    readfile($completePath); \n    die();\n}\n</code></pre>\n<p>I comment Content-Length because it crash system in uncomment</p>\n<p>Java code</p>\n<pre><code>   OkHttpClient client = new OkHttpClient();\n    String url = &quot;http://www.webweb.infinityfreeapp.com/lichi/download.php?path=Add.jpg&quot;;\n    Call call = client.newCall(new Request.Builder().url(url).get().build());\n   \n      Response response = call.execute();\n      if (response.code() == 200 || response.code() == 201) {\n           Headers responseHeaders = response.headers();\n           for (int i = 0; i &lt; responseHeaders.size(); i++) \n              Log.d(LOG_TAG, responseHeaders.name(i) + &quot;: &quot; + responseHeaders.value(i));\n                    \n            String str = response.body().string();\n     }\n</code></pre>\n<p>Here str contain above html file information instead Add.jpg file data. so please give answer</p>\n"},{"tags":["java","spring-boot","solr"],"comments":[{"owner":{"account_id":22196305,"reputation":317,"user_id":16437679,"display_name":"Eatsam ul haq"},"score":0,"creation_date":1665762814,"post_id":74069979,"comment_id":130781508,"body_markdown":"The question is similar to https://stackoverflow.com/questions/58388829/spring-data-solr-is-creating-fieldtype-as-text-general-even-though-we-mention-as","body":"The question is similar to <a href=\"https://stackoverflow.com/questions/58388829/spring-data-solr-is-creating-fieldtype-as-text-general-even-though-we-mention-as\" title=\"spring data solr is creating fieldtype as text general even though we mention as\">stackoverflow.com/questions/58388829/&hellip;</a>"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1665763127,"post_id":74069979,"comment_id":130781622,"body_markdown":"Check if this helps: https://stackoverflow.com/questions/37042732/solr-text-indexed-as-array-of-text","body":"Check if this helps: <a href=\"https://stackoverflow.com/questions/37042732/solr-text-indexed-as-array-of-text\" title=\"solr text indexed as array of text\">stackoverflow.com/questions/37042732/&hellip;</a>"},{"owner":{"account_id":22196305,"reputation":317,"user_id":16437679,"display_name":"Eatsam ul haq"},"score":1,"creation_date":1665933989,"post_id":74069979,"comment_id":130810271,"body_markdown":"@pringi thanks for replying. Yes this is the way to solve the problem but this approach is possible to manually change data type in solr schema. I am looking a way to do this in `spring boot`","body":"@pringi thanks for replying. Yes this is the way to solve the problem but this approach is possible to manually change data type in solr schema. I am looking a way to do this in <code>spring boot</code>"}],"owner":{"account_id":22196305,"reputation":317,"user_id":16437679,"display_name":"Eatsam ul haq"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665754488,"creation_date":1665754054,"question_id":74069979,"body_markdown":"I have a `Spring Boot` Application and I am trying to store data directly to Solr. Following is my `Solr Model class`\r\n```\r\npublic class AnalyticsGeoLocationSolr {\r\n\r\n    @Id\r\n    @Indexed(name = &quot;id&quot;, type = &quot;int&quot;)\r\n    private Integer id;\r\n\r\n    @Indexed(name = &quot;ipaddress&quot;, type = &quot;string&quot;) // defined as String\r\n    private String ipAddress;\r\n\r\n    @Indexed(name = &quot;country_name&quot;, type = &quot;string&quot;) // defined as String\r\n    private String countryName;\r\n\r\n// Getters and Setters\r\n```\r\nHere you can see that `ipAddress` and `CountryName` both are defined as `String` as `type=&quot;string&quot;`. However, the Solr is saving these variables as an `array of String`. Following is display of these fields in `Solr` (`as Json`):\r\n\r\n```\r\n&quot;ipAddress&quot;:[&quot;59.103.217.207&quot;],\r\n&quot;countryName&quot;:[&quot;Pakistan&quot;],\r\n// Other fields\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n&lt;br&gt;\r\nNow, I want these String Objects to be stored as string i.e the expected Output should be &quot;ipAddress&quot;:&quot;59.103.217.207&quot; not an array (with [ ] around).\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9N7t9.png","title":"String type is giving array of string in Solr, Spring Boot","body":"<p>I have a <code>Spring Boot</code> Application and I am trying to store data directly to Solr. Following is my <code>Solr Model class</code></p>\n<pre><code>public class AnalyticsGeoLocationSolr {\n\n    @Id\n    @Indexed(name = &quot;id&quot;, type = &quot;int&quot;)\n    private Integer id;\n\n    @Indexed(name = &quot;ipaddress&quot;, type = &quot;string&quot;) // defined as String\n    private String ipAddress;\n\n    @Indexed(name = &quot;country_name&quot;, type = &quot;string&quot;) // defined as String\n    private String countryName;\n\n// Getters and Setters\n</code></pre>\n<p>Here you can see that <code>ipAddress</code> and <code>CountryName</code> both are defined as <code>String</code> as <code>type=&quot;string&quot;</code>. However, the Solr is saving these variables as an <code>array of String</code>. Following is display of these fields in <code>Solr</code> (<code>as Json</code>):</p>\n<pre><code>&quot;ipAddress&quot;:[&quot;59.103.217.207&quot;],\n&quot;countryName&quot;:[&quot;Pakistan&quot;],\n// Other fields\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/9N7t9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9N7t9.png\" alt=\"enter image description here\" /></a></p>\n<br>\nNow, I want these String Objects to be stored as string i.e the expected Output should be \"ipAddress\":\"59.103.217.207\" not an array (with [ ] around).\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1665756107,"post_id":74070005,"comment_id":130778964,"body_markdown":"What `poi-ooxml` jars are you using?","body":"What <code>poi-ooxml</code> jars are you using?"},{"owner":{"account_id":2548075,"reputation":2913,"user_id":2212458,"accept_rate":79,"display_name":"denver"},"score":0,"creation_date":1665762581,"post_id":74070005,"comment_id":130781431,"body_markdown":"@Gagravarr Library is coming from MavenCentral via gradle &quot;implementation group: &#39;org.apache.poi&#39;, name: &#39;poi-ooxml&#39;, version: &#39;5.2.3&#39;&quot;.  This should result in poi-ooxml-5.2.3.jar getting used.","body":"@Gagravarr Library is coming from MavenCentral via gradle &quot;implementation group: &#39;org.apache.poi&#39;, name: &#39;poi-ooxml&#39;, version: &#39;5.2.3&#39;&quot;.  This should result in poi-ooxml-5.2.3.jar getting used."},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1665787647,"post_id":74070005,"comment_id":130787914,"body_markdown":"Try swapping from `poi-ooxml-lite` to `poi-ooxml-full` ?","body":"Try swapping from <code>poi-ooxml-lite</code> to <code>poi-ooxml-full</code> ?"},{"owner":{"account_id":2548075,"reputation":2913,"user_id":2212458,"accept_rate":79,"display_name":"denver"},"score":0,"creation_date":1665801673,"post_id":74070005,"comment_id":130789463,"body_markdown":"@Gagravarr It does appear to be in poi-ooxml-full.  Probably for convenience poi-ooxml pulled in poi-ooxml-lite automatically.  In order to use poi-ooxml-full I had to explicitly exclude the poi-ooxml-lite transient dependency.  Thanks.","body":"@Gagravarr It does appear to be in poi-ooxml-full.  Probably for convenience poi-ooxml pulled in poi-ooxml-lite automatically.  In order to use poi-ooxml-full I had to explicitly exclude the poi-ooxml-lite transient dependency.  Thanks."},{"owner":{"account_id":2548075,"reputation":2913,"user_id":2212458,"accept_rate":79,"display_name":"denver"},"score":0,"creation_date":1665801685,"post_id":74070005,"comment_id":130789466,"body_markdown":"implementation &#39;org.apache.poi:poi-ooxml-full:5.2.3&#39;\n    implementation (&#39;org.apache.poi:poi-ooxml:5.2.3&#39;) {\n        exclude module: &#39;poi-ooxml-lite&#39;\n    }","body":"implementation &#39;org.apache.poi:poi-ooxml-full:5.2.3&#39;     implementation (&#39;org.apache.poi:poi-ooxml:5.2.3&#39;) {         exclude module: &#39;poi-ooxml-lite&#39;     }"}],"owner":{"account_id":2548075,"reputation":2913,"user_id":2212458,"accept_rate":79,"display_name":"denver"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665754186,"creation_date":1665754186,"question_id":74070005,"body_markdown":"I&#39;m encountering an issue trying to use Apache POI 5.2.3.  I&#39;m attempting to set the category axis mark interval and label.\r\n\r\nAs mentioned in another question(https://stackoverflow.com/a/66670362/2212458). The following code is supposed to handle this:\r\n\r\n        chart.getCTChart().getPlotArea().getCatAxArray(0).addNewTickLblSkip().setVal(2); // label only every second mark\r\n        chart.getCTChart().getPlotArea().getCatAxArray(0).addNewTickMarkSkip().setVal(2); // show only every second mark\r\n\r\nHowever, this results in a build error &quot;error: cannot access CTSkip&quot; and &quot;class file for org.openxmlformats.schemas.drawingml.x2006.chart.CTSkip not found&quot;.\r\n\r\nOther portions of the namespace are accessible such as CTTitle, CTNumFormat, CTTickMark are accessible, but for some reason CTSkip is not.  How do I work around this issue?","title":"Apache POI &quot;cannot access CTSkip&quot;","body":"<p>I'm encountering an issue trying to use Apache POI 5.2.3.  I'm attempting to set the category axis mark interval and label.</p>\n<p>As mentioned in another question(<a href=\"https://stackoverflow.com/a/66670362/2212458\">https://stackoverflow.com/a/66670362/2212458</a>). The following code is supposed to handle this:</p>\n<pre><code>    chart.getCTChart().getPlotArea().getCatAxArray(0).addNewTickLblSkip().setVal(2); // label only every second mark\n    chart.getCTChart().getPlotArea().getCatAxArray(0).addNewTickMarkSkip().setVal(2); // show only every second mark\n</code></pre>\n<p>However, this results in a build error &quot;error: cannot access CTSkip&quot; and &quot;class file for org.openxmlformats.schemas.drawingml.x2006.chart.CTSkip not found&quot;.</p>\n<p>Other portions of the namespace are accessible such as CTTitle, CTNumFormat, CTTickMark are accessible, but for some reason CTSkip is not.  How do I work around this issue?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":26622116,"reputation":3,"user_id":20240747,"display_name":"sea1731"},"score":0,"creation_date":1665753296,"post_id":74069546,"comment_id":130777807,"body_markdown":"I tried boas.write( num &amp; 0xff) but still returns -769654785","body":"I tried boas.write( num &amp; 0xff) but still returns -769654785"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1665757741,"post_id":74069546,"comment_id":130779573,"body_markdown":"Have you considered using DataInputStream and DataOutputStream, which handle things like this for you?","body":"Have you considered using DataInputStream and DataOutputStream, which handle things like this for you?"}],"answers":[{"tags":[],"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1665753961,"creation_date":1665753961,"answer_id":74069951,"question_id":74069546,"body_markdown":"Your reading code is incorrect.\r\n\r\nYou need to cast `int` to `long` before shift (`&lt;&lt;`).\r\n\r\n```\r\nreturn readUInt16() \r\n    | ((long)readUInt16()) &lt;&lt; 16L \r\n    | ((long)readUInt16()) &lt;&lt; 32L \r\n    | ((long)readUInt16()) &lt;&lt; 48L;\r\n```\r\n\r\nSo if you can&#39;t change your read code it is impossible to fix your problem.\r\n","title":"ByteArrayInputStream cannot read long with ByteArrayOutputStream written in Java","body":"<p>Your reading code is incorrect.</p>\n<p>You need to cast <code>int</code> to <code>long</code> before shift (<code>&lt;&lt;</code>).</p>\n<pre><code>return readUInt16() \n    | ((long)readUInt16()) &lt;&lt; 16L \n    | ((long)readUInt16()) &lt;&lt; 32L \n    | ((long)readUInt16()) &lt;&lt; 48L;\n</code></pre>\n<p>So if you can't change your read code it is impossible to fix your problem.</p>\n"}],"owner":{"account_id":26622116,"reputation":3,"user_id":20240747,"display_name":"sea1731"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74069951,"answer_count":1,"score":0,"last_activity_date":1665754165,"creation_date":1665751972,"question_id":74069546,"body_markdown":"I have a read code for a long number like below;\r\n\r\n    ByteArrayInputStream in;\r\n    public long readUInt64() throws IOException {\r\n\t\treturn readUInt16() | readUInt16() &lt;&lt; 16L | readUInt16() &lt;&lt; 32L | readUInt16() &lt;&lt; 48L;\r\n\r\n    public int readUInt16() throws IOException {\r\n\t\treturn readWithEOF() | readWithEOF() &lt;&lt; 8;\r\n\t}\r\n    \tint readWithEOF() throws IOException {\r\n\t\tint data = this.in.read();\r\n\t\tif (data &lt; 0)\r\n\t\t\tthrow new EOFException();\r\n\t\treturn data;\r\n\t}\r\n\r\nI have write file like below;\r\n\r\n    ByteArrayOutputStream baos;\r\n    public void writeUInt64(Long val) {\r\n\t\t\t\r\n\t\twriteUInt16((int) (val &gt;&gt; 0L));\r\n\t\twriteUInt16((int) (val &gt;&gt; 16L));\r\n\t\twriteUInt16((int) (val &gt;&gt; 32L));\r\n\t\twriteUInt16((int) (val &gt;&gt; 48L));\t\r\n\t}\r\n    public void writeUInt16(int num) {\t\t\r\n\t\tbaos.write(num &gt;&gt; 0);\r\n\t\tbaos.write(num &gt;&gt; 8);\r\n\t}\r\nWhen I try to store a big value like 253402300799999L, the reading result is totally different. For small values the code runs fine.\r\nAssuming that changing read code is not possible, how can I fix this issue.\r\nthanks in advance.\r\n","title":"ByteArrayInputStream cannot read long with ByteArrayOutputStream written in Java","body":"<p>I have a read code for a long number like below;</p>\n<pre><code>ByteArrayInputStream in;\npublic long readUInt64() throws IOException {\n    return readUInt16() | readUInt16() &lt;&lt; 16L | readUInt16() &lt;&lt; 32L | readUInt16() &lt;&lt; 48L;\n\npublic int readUInt16() throws IOException {\n    return readWithEOF() | readWithEOF() &lt;&lt; 8;\n}\n    int readWithEOF() throws IOException {\n    int data = this.in.read();\n    if (data &lt; 0)\n        throw new EOFException();\n    return data;\n}\n</code></pre>\n<p>I have write file like below;</p>\n<pre><code>ByteArrayOutputStream baos;\npublic void writeUInt64(Long val) {\n        \n    writeUInt16((int) (val &gt;&gt; 0L));\n    writeUInt16((int) (val &gt;&gt; 16L));\n    writeUInt16((int) (val &gt;&gt; 32L));\n    writeUInt16((int) (val &gt;&gt; 48L));    \n}\npublic void writeUInt16(int num) {      \n    baos.write(num &gt;&gt; 0);\n    baos.write(num &gt;&gt; 8);\n}\n</code></pre>\n<p>When I try to store a big value like 253402300799999L, the reading result is totally different. For small values the code runs fine.\nAssuming that changing read code is not possible, how can I fix this issue.\nthanks in advance.</p>\n"},{"tags":["java","benchmarking","jmh"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":1,"creation_date":1665743156,"post_id":74062856,"comment_id":130774553,"body_markdown":"there&#39;s a paper they link https://www.ifi.uzh.ch/dam/jcr:2e51ad81-856f-4629-a6e2-67d382d337c2/fse20_author-version.pdf maybe that shows reasons why warmup forks have any effect on the following measurement forks (which then also do warmup runs to prep that fork). if there&#39;s any effect it&#39;s probably down to some os or cpu mechanisms that kick in for familiar tasks.","body":"there&#39;s a paper they link <a href=\"https://www.ifi.uzh.ch/dam/jcr:2e51ad81-856f-4629-a6e2-67d382d337c2/fse20_author-version.pdf\" rel=\"nofollow noreferrer\">ifi.uzh.ch/dam/jcr:2e51ad81-856f-4629-a6e2-67d382d337c2/&hellip;</a> maybe that shows reasons why warmup forks have any effect on the following measurement forks (which then also do warmup runs to prep that fork). if there&#39;s any effect it&#39;s probably down to some os or cpu mechanisms that kick in for familiar tasks."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1665743456,"post_id":74062856,"comment_id":130774636,"body_markdown":"The simplest reason is that it saves a bit time w.r.t. doing it in the same fork.","body":"The simplest reason is that it saves a bit time w.r.t. doing it in the same fork."},{"owner":{"account_id":118645,"reputation":2117,"user_id":309816,"accept_rate":94,"display_name":"Alexandros"},"score":0,"creation_date":1665752696,"post_id":74062856,"comment_id":130777518,"body_markdown":"@zapl Thanks for that reference. I&#39;ve read about half of it so far. It&#39;s very telling that their only reference to warmup forks is in section 2 where they basically only mention that they exist, as well as that &quot;JMH does not use warmup forks (w f ) by default&quot;.\n\nAfter that they never mention them again. Section 4.1 describing their approach makes it clear that they only use measurement forks. They never study the impact of potentially adding warmup forks.\n\nHowever, I am now looking at now at their stability function for minimizing the number for measurement fork in 4.2.2 which is relevant.","body":"@zapl Thanks for that reference. I&#39;ve read about half of it so far. It&#39;s very telling that their only reference to warmup forks is in section 2 where they basically only mention that they exist, as well as that &quot;JMH does not use warmup forks (w f ) by default&quot;.  After that they never mention them again. Section 4.1 describing their approach makes it clear that they only use measurement forks. They never study the impact of potentially adding warmup forks.  However, I am now looking at now at their stability function for minimizing the number for measurement fork in 4.2.2 which is relevant."},{"owner":{"account_id":118645,"reputation":2117,"user_id":309816,"accept_rate":94,"display_name":"Alexandros"},"score":0,"creation_date":1665754110,"post_id":74062856,"comment_id":130778136,"body_markdown":"@zapl I was hoping they try their approach with varying number of warmup forks but they do not. Section 5.3 explains that both their static and their dynamic configuration uses zero warmup-forks.\n\nI was looking to find wether they have anything definitive on the number of measurement forks but they mention nothing. They skim over the subject in section 6 where they simply mention *&quot;JMH 1.21 ...  reduced the number of forks from ten to five ... our results support reducing to five forks, which indicates that most fork-to-fork\nvariability is captured&quot;*. No mention for investigating &lt;5.","body":"@zapl I was hoping they try their approach with varying number of warmup forks but they do not. Section 5.3 explains that both their static and their dynamic configuration uses zero warmup-forks.  I was looking to find wether they have anything definitive on the number of measurement forks but they mention nothing. They skim over the subject in section 6 where they simply mention <i>&quot;JMH 1.21 ...  reduced the number of forks from ten to five ... our results support reducing to five forks, which indicates that most fork-to-fork variability is captured&quot;</i>. No mention for investigating &lt;5."},{"owner":{"account_id":118645,"reputation":2117,"user_id":309816,"accept_rate":94,"display_name":"Alexandros"},"score":0,"creation_date":1665754738,"post_id":74062856,"comment_id":130778414,"body_markdown":"@zapl Finally found the relevant info, last paragraph in section 5: *&quot;Generally, warmup iterations are more reduced than forks in our setup, indicating that fork-tofork variability is more present than within-fork variance ...&quot;*. I guess what I am looking for is fork-to-fork variability reasons, as I would expect that `f=1` should always be enough when `w_i` is high enough...","body":"@zapl Finally found the relevant info, last paragraph in section 5: <i>&quot;Generally, warmup iterations are more reduced than forks in our setup, indicating that fork-tofork variability is more present than within-fork variance ...&quot;</i>. I guess what I am looking for is fork-to-fork variability reasons, as I would expect that <code>f=1</code> should always be enough when <code>w_i</code> is high enough..."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665754081,"creation_date":1665705262,"answer_id":74062979,"question_id":74062856,"body_markdown":"&gt; I am having trouble understanding why the forked warmups were introduced as a feature. \r\n\r\nWarmup forks can do things like:\r\n\r\n  - prime directory and file caches by opening and files\r\n  - prime the virtual memory system by causing dirty pages to be written and adding pages to the free pool,\r\n  - prime a shared class cache (if your JVM supports this),\r\n  - and so on.\r\n\r\nThese things can definitely improve benchmark consistency.\r\n\r\nWhy do it multiple times?  \r\n\r\nIt is not clear to me that multiple warmup fork would help in practice ... or why.  But having the ability to try it *just in case it makes a difference* seems like a good thing&lt;sup&gt;1&lt;/sup&gt;.  \r\n\r\nPresumably the warmup fork feature was added because *at least some people* wanted it / asked for it.  And if you can do a single warmup fork run, an option to do it N times was probably a trivial extension.\r\n\r\n------------\r\n\r\n&lt;sup&gt;1 - Or even providing it to give performance obsessed people with too much time on their hands another &quot;tuning knob&quot; to twiddle.&lt;/sup&gt;","title":"Why are warmup forks useful in JMH?","body":"<blockquote>\n<p>I am having trouble understanding why the forked warmups were introduced as a feature.</p>\n</blockquote>\n<p>Warmup forks can do things like:</p>\n<ul>\n<li>prime directory and file caches by opening and files</li>\n<li>prime the virtual memory system by causing dirty pages to be written and adding pages to the free pool,</li>\n<li>prime a shared class cache (if your JVM supports this),</li>\n<li>and so on.</li>\n</ul>\n<p>These things can definitely improve benchmark consistency.</p>\n<p>Why do it multiple times?</p>\n<p>It is not clear to me that multiple warmup fork would help in practice ... or why.  But having the ability to try it <em>just in case it makes a difference</em> seems like a good thing<sup>1</sup>.</p>\n<p>Presumably the warmup fork feature was added because <em>at least some people</em> wanted it / asked for it.  And if you can do a single warmup fork run, an option to do it N times was probably a trivial extension.</p>\n<hr />\n<p><sup>1 - Or even providing it to give performance obsessed people with too much time on their hands another &quot;tuning knob&quot; to twiddle.</sup></p>\n"}],"owner":{"account_id":118645,"reputation":2117,"user_id":309816,"accept_rate":94,"display_name":"Alexandros"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":353,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1665754081,"creation_date":1665704056,"question_id":74062856,"body_markdown":"In short my question is:\r\n\r\nWhat do forked warmups offer that within-fork warmups do not? What is the thing that makes executing forked warmups useful?\r\n\r\nJMH conveniently allows you to fork a new JVM instance in which your benchmarks are run. This is useful because as explained in [this](https://stackoverflow.com/q/25572778/309816) and [this](https://stackoverflow.com/q/35046745/309816) question, it allows you to run your benchmakrs with a clean slate: a fresh OS process where the state of both the JVM and the OS/system has no previous decisions/observations for the process which runs the benchmarks.\r\n\r\nIn addition, JMH allows you to perform a number of initial &quot;warmup&quot; runs of your benchmarks in the forked process, the results of which are discarded. These are useful to let the system &quot;settle&quot; with decisions made during execution (OS makes memory paging decisions, JIT compiles VM code to native, etc).\r\n\r\nThere are actually though two ways this can be done: using `@Warmup` annotation and using the `warmups` parameter of the `@Fork` annotation. As explained in [what is the difference between warmup attribute in Fork and Warmup annotation in jmh?](https://stackoverflow.com/q/47776345/309816) the former executes some initial iterations within each fork, whereas the latter executes some entire forks that are discarded.\r\n\r\nI am having trouble understanding why the forked warmups were introduced as a feature. A forked process presents a fresh challenge to the the OS/JVM removing any bias that may arise from previously executed code in the existing process. Having the forked process execute enough warmup iterations also means that any &quot;initial optimizations&quot; the OS/JVM perform, are given time to &quot;settle&quot;.\r\n\r\nSo then, why would I want to run some entire forks that are discarded all together by adding `@Fork(warmups = N)`? I&#39;m guessing it has to do with the OS/system being given time to settle on something (as the JVM does not stick around after each fork to use the information from the previous warm-up forks) but what is it about a process being created/torn-down a few times that helps improve results? And why would a generous `@Warmup` annotation not achieve the same if a single fork were to be used?\r\n","title":"Why are warmup forks useful in JMH?","body":"<p>In short my question is:</p>\n<p>What do forked warmups offer that within-fork warmups do not? What is the thing that makes executing forked warmups useful?</p>\n<p>JMH conveniently allows you to fork a new JVM instance in which your benchmarks are run. This is useful because as explained in <a href=\"https://stackoverflow.com/q/25572778/309816\">this</a> and <a href=\"https://stackoverflow.com/q/35046745/309816\">this</a> question, it allows you to run your benchmakrs with a clean slate: a fresh OS process where the state of both the JVM and the OS/system has no previous decisions/observations for the process which runs the benchmarks.</p>\n<p>In addition, JMH allows you to perform a number of initial &quot;warmup&quot; runs of your benchmarks in the forked process, the results of which are discarded. These are useful to let the system &quot;settle&quot; with decisions made during execution (OS makes memory paging decisions, JIT compiles VM code to native, etc).</p>\n<p>There are actually though two ways this can be done: using <code>@Warmup</code> annotation and using the <code>warmups</code> parameter of the <code>@Fork</code> annotation. As explained in <a href=\"https://stackoverflow.com/q/47776345/309816\">what is the difference between warmup attribute in Fork and Warmup annotation in jmh?</a> the former executes some initial iterations within each fork, whereas the latter executes some entire forks that are discarded.</p>\n<p>I am having trouble understanding why the forked warmups were introduced as a feature. A forked process presents a fresh challenge to the the OS/JVM removing any bias that may arise from previously executed code in the existing process. Having the forked process execute enough warmup iterations also means that any &quot;initial optimizations&quot; the OS/JVM perform, are given time to &quot;settle&quot;.</p>\n<p>So then, why would I want to run some entire forks that are discarded all together by adding <code>@Fork(warmups = N)</code>? I'm guessing it has to do with the OS/system being given time to settle on something (as the JVM does not stick around after each fork to use the information from the previous warm-up forks) but what is it about a process being created/torn-down a few times that helps improve results? And why would a generous <code>@Warmup</code> annotation not achieve the same if a single fork were to be used?</p>\n"},{"tags":["java","spring","spring-mvc","jsp"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":1,"creation_date":1665755690,"post_id":74069894,"comment_id":130778790,"body_markdown":"Can you please add some code to illustrate what you are trying to do? I&#39;d say the controller will return a list of docks to the JSP view and in the JSP you will handle the drawing logic","body":"Can you please add some code to illustrate what you are trying to do? I&#39;d say the controller will return a list of docks to the JSP view and in the JSP you will handle the drawing logic"},{"owner":{"account_id":26036584,"reputation":1,"user_id":19741946,"display_name":"R&#233;da"},"score":0,"creation_date":1665757110,"post_id":74069894,"comment_id":130779334,"body_markdown":"So the controller should only send a list of docks(on json form)? then in my jsp i should iterate over them to construct the shapes","body":"So the controller should only send a list of docks(on json form)? then in my jsp i should iterate over them to construct the shapes"},{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1665757162,"post_id":74069894,"comment_id":130779362,"body_markdown":"Yeah, that&#39;s up to you, how you implement it. I would do it that way. The controller will handle only the data and the JSP will draw it depending on that data","body":"Yeah, that&#39;s up to you, how you implement it. I would do it that way. The controller will handle only the data and the JSP will draw it depending on that data"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1665839573,"post_id":74069894,"comment_id":130795153,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":26036584,"reputation":1,"user_id":19741946,"display_name":"R&#233;da"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665753671,"creation_date":1665753671,"question_id":74069894,"body_markdown":"I have a problem with my dock management application(built with `spring MVC`). In my application I need to build a view (in 2D plan) of the available docks. So my problem is that I don&#39;t know how to build such a view (the docks have a coordinate (x, y) and a length/width). What I really want is to have a 2D plan (with x and y axes) in which I build rectangles that represent the docks.\r\n\r\nBut I don&#39;t know how to do that in my `@Controller`.\r\n\r\nI am using JSPs to display the data.\r\n\r\nDo you have any ideas on a possible solution?\r\n\r\nThanks in advance.","title":"Drawing a 2D plan with spring mvc web","body":"<p>I have a problem with my dock management application(built with <code>spring MVC</code>). In my application I need to build a view (in 2D plan) of the available docks. So my problem is that I don't know how to build such a view (the docks have a coordinate (x, y) and a length/width). What I really want is to have a 2D plan (with x and y axes) in which I build rectangles that represent the docks.</p>\n<p>But I don't know how to do that in my <code>@Controller</code>.</p>\n<p>I am using JSPs to display the data.</p>\n<p>Do you have any ideas on a possible solution?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","android","react-native","gradle","upgrade"],"answers":[{"tags":[],"owner":{"account_id":21256924,"reputation":51,"user_id":15638280,"display_name":"Jony"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665524849,"creation_date":1665524849,"answer_id":74034450,"question_id":73948072,"body_markdown":"I&#39;ve been struggling with this kind of errors for several days and there&#39;re a lot of post to read about out there. \r\n\r\nMy suggestion is to create a new RN project and test that everything is okay. I mean without anything added and test all your Gradle&#39;s commands. Then, if you see that your Gradle&#39;s files are fine, start adding the rest of your code. First, start adding all the necessary packages and test all again. And finally, add the code files itself. \r\n\r\n","title":"React Native Task error &#39;:app:processDebugMainManifest FAILED&#39;","body":"<p>I've been struggling with this kind of errors for several days and there're a lot of post to read about out there.</p>\n<p>My suggestion is to create a new RN project and test that everything is okay. I mean without anything added and test all your Gradle's commands. Then, if you see that your Gradle's files are fine, start adding the rest of your code. First, start adding all the necessary packages and test all again. And finally, add the code files itself.</p>\n"},{"tags":[],"owner":{"account_id":20151994,"reputation":89,"user_id":14779103,"display_name":"jem4789"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665753570,"creation_date":1665753570,"answer_id":74069865,"question_id":73948072,"body_markdown":"In case this helps anyone, I fixed this bug using the most popular answer (from user kjhughes) on this post: \r\n\r\n[https://stackoverflow.com/questions/19889132/error-the-processing-instruction-target-matching-xxmmll-is-not-allowed][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/19889132/error-the-processing-instruction-target-matching-xxmmll-is-not-allowed\r\n\r\nI Ctrl F&#39;d `&lt;?xml ?&gt;` in my main project folder, went through each file that returned an instance from the search and found a couple of files where the &lt;?xml ?&gt; declaration wasn&#39;t at the very top of the file, so I moved it top the top.\r\n\r\nHope this helps!","title":"React Native Task error &#39;:app:processDebugMainManifest FAILED&#39;","body":"<p>In case this helps anyone, I fixed this bug using the most popular answer (from user kjhughes) on this post:</p>\n<p><a href=\"https://stackoverflow.com/questions/19889132/error-the-processing-instruction-target-matching-xxmmll-is-not-allowed\">Error: The processing instruction target matching &quot;[xX][mM][lL]&quot; is not allowed</a></p>\n<p>I Ctrl F'd <code>&lt;?xml ?&gt;</code> in my main project folder, went through each file that returned an instance from the search and found a couple of files where the  declaration wasn't at the very top of the file, so I moved it top the top.</p>\n<p>Hope this helps!</p>\n"}],"owner":{"account_id":20151994,"reputation":89,"user_id":14779103,"display_name":"jem4789"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1896,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74069865,"answer_count":2,"score":1,"last_activity_date":1665753570,"creation_date":1664887578,"question_id":73948072,"body_markdown":"I recently upgraded React Native 0.63.4 to 0.70.1 and have been trying to iron everything out re upgrading packages and dependencies etc. \r\nI&#39;m really stuck on this particular error and can&#39;t seem to find a solution. \r\n\r\nThe command prompt says:\r\n\r\n&gt; Task :app:processDebugMainManifest FAILED\r\n\r\n...\r\n\r\nFAILURE: Build completed with 2 failures.\r\n\r\n1: Task failed with an exception.\r\n-----------\r\n* What went wrong:\r\nExecution failed for task &#39;:app:processDebugMainManifest&#39;.\r\n&gt; com.android.manifmerger.ManifestMerger2$MergeFailureException: org.xml.sax.SAXParseException; lineNumber: 10; columnNumber: 6; The processing instruction target matching &quot;[xX][mM][lL]&quot; is not allowed.\r\n\r\n2: Task failed with an exception.\r\n-----------\r\n* What went wrong:\r\njava.lang.StackOverflowError (no error message)\r\n\r\n--------------------------------------------------------------------------------------------------\r\n\r\nI haven&#39;t been able to find a solution online apart from adding the line \r\n&#39;org.gradle.jvmargs=--add-opens java.base/java.io=ALL-UNNAMED&#39; to my android/gradle.properties file, which hasn&#39;t worked.\r\n\r\n\r\nThe issue that I had directly before this error was:-\r\n\r\nCommand prompt:\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nCould not determine the dependencies of task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n&gt; Could not resolve all task dependencies for configuration &#39;:app:debugCompileClasspath&#39;.\r\n   &gt; Could not find org.webkit:android-jsc:r245459.\r\n     Required by:\r\n         project :app\r\n\r\nI resolved this by changing &#39;def jscFlavor = &#39;org.webkit:android-jsc:r245459&#39;&#39; to &#39;def jscFlavor = &#39;org.webkit:android-jsc:r250230&#39;&#39; in my android/app/build.gradle file, as I noticed that my &#39;node-modules/jsc-android/dist/org/webkit/android-jsc&#39; file contained an r250230 file rather than an r245459 one. I&#39;m not sure whether changing this manually has cause the most recent error.\r\n\r\n\r\nHere&#39;s my android/app/build.gradle file:\r\n\r\n    apply plugin: &quot;com.android.application&quot;\r\n    \r\n    import com.android.build.OutputFile\r\n    \r\n    /**\r\n     * The react.gradle file registers a task for each build variant (e.g. bundleDebugJsAndAssets\r\n     * and bundleReleaseJsAndAssets).\r\n     * These basically call `react-native bundle` with the correct arguments during the Android build\r\n     * cycle. By default, bundleDebugJsAndAssets is skipped, as in debug/dev mode we prefer to load the\r\n     * bundle directly from the development server. Below you can see all the possible configurations\r\n     * and their defaults. If you decide to add a configuration block, make sure to add it before the\r\n     * `apply from: &quot;../../node_modules/react-native/react.gradle&quot;` line.\r\n     *\r\n     * project.ext.react = [\r\n     *   // the name of the generated asset file containing your JS bundle\r\n     *   bundleAssetName: &quot;index.android.bundle&quot;,\r\n     *\r\n     *   // the entry file for bundle generation. If none specified and\r\n     *   // &quot;index.android.js&quot; exists, it will be used. Otherwise &quot;index.js&quot; is\r\n     *   // default. Can be overridden with ENTRY_FILE environment variable.\r\n     *   entryFile: &quot;index.android.js&quot;,\r\n     *\r\n     *   // https://reactnative.dev/docs/performance#enable-the-ram-format\r\n     *   bundleCommand: &quot;ram-bundle&quot;,\r\n     *\r\n     *   // whether to bundle JS and assets in debug mode\r\n     *   bundleInDebug: false,\r\n     *\r\n     *   // whether to bundle JS and assets in release mode\r\n     *   bundleInRelease: true,\r\n     *\r\n     *   // whether to bundle JS and assets in another build variant (if configured).\r\n     *   // See http://tools.android.com/tech-docs/new-build-system/user-guide#TOC-Build-Variants\r\n     *   // The configuration property can be in the following formats\r\n     *   //         &#39;bundleIn${productFlavor}${buildType}&#39;\r\n     *   //         &#39;bundleIn${buildType}&#39;\r\n     *   // bundleInFreeDebug: true,\r\n     *   // bundleInPaidRelease: true,\r\n     *   // bundleInBeta: true,\r\n     *\r\n     *   // whether to disable dev mode in custom build variants (by default only disabled in release)\r\n     *   // for example: to disable dev mode in the staging build type (if configured)\r\n     *   devDisabledInStaging: true,\r\n     *   // The configuration property can be in the following formats\r\n     *   //         &#39;devDisabledIn${productFlavor}${buildType}&#39;\r\n     *   //         &#39;devDisabledIn${buildType}&#39;\r\n     *\r\n     *   // the root of your project, i.e. where &quot;package.json&quot; lives\r\n     *   root: &quot;../../&quot;,\r\n     *\r\n     *   // where to put the JS bundle asset in debug mode\r\n     *   jsBundleDirDebug: &quot;$buildDir/intermediates/assets/debug&quot;,\r\n     *\r\n     *   // where to put the JS bundle asset in release mode\r\n     *   jsBundleDirRelease: &quot;$buildDir/intermediates/assets/release&quot;,\r\n     *\r\n     *   // where to put drawable resources / React Native assets, e.g. the ones you use via\r\n     *   // require(&#39;./image.png&#39;)), in debug mode\r\n     *   resourcesDirDebug: &quot;$buildDir/intermediates/res/merged/debug&quot;,\r\n     *\r\n     *   // where to put drawable resources / React Native assets, e.g. the ones you use via\r\n     *   // require(&#39;./image.png&#39;)), in release mode\r\n     *   resourcesDirRelease: &quot;$buildDir/intermediates/res/merged/release&quot;,\r\n     *\r\n     *   // by default the gradle tasks are skipped if none of the JS files or assets change; this means\r\n     *   // that we don&#39;t look at files in android/ or ios/ to determine whether the tasks are up to\r\n     *   // date; if you have any other folders that you want to ignore for performance reasons (gradle\r\n     *   // indexes the entire tree), add them here. Alternatively, if you have JS files in android/\r\n     *   // for example, you might want to remove it from here.\r\n     *   inputExcludes: [&quot;android/**&quot;, &quot;ios/**&quot;],\r\n     *\r\n     *   // override which node gets called and with what additional arguments\r\n     *   nodeExecutableAndArgs: [&quot;node&quot;],\r\n     *\r\n     *   // supply additional arguments to the packager\r\n     *   extraPackagerArgs: []\r\n     * ]\r\n     */\r\n    \r\n    project.ext.react = [\r\n        enableHermes: false\r\n    ]\r\n    \r\n    // MANUALLY REMOVED:\r\n        apply from: &#39;../../node_modules/react-native-unimodules/gradle.groovy&#39;\r\n        // apply from: &quot;../../node_modules/react-native/react.gradle&quot;\r\n        // apply from: &quot;../../node_modules/expo-constants/scripts/get-app-config-android.gradle&quot;\r\n        // apply from: &quot;../../node_modules/expo-updates/scripts/create-manifest-android.gradle&quot;\r\n    //\r\n    // ADDED:\r\n    // apply from: new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve(&#39;expo-modules-core/package.json&#39;)&quot;].execute(null, rootDir).text.trim(), &quot;../gradle.groovy&quot;)\r\n    apply from: new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve(&#39;react-native/package.json&#39;)&quot;].execute(null, rootDir).text.trim(), &quot;../react.gradle&quot;)\r\n    apply from: new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve(&#39;expo-updates/package.json&#39;)&quot;].execute(null, rootDir).text.trim(), &quot;../scripts/create-manifest-android.gradle&quot;)\r\n    //\r\n    \r\n    /**\r\n     * Set this to true to create two separate APKs instead of one:\r\n     *   - An APK that only works on ARM devices\r\n     *   - An APK that only works on x86 devices\r\n     * The advantage is the size of the APK is reduced by about 4MB.\r\n     * Upload all the APKs to the Play Store and people will download\r\n     * the correct one based on the CPU architecture of their device.\r\n     */\r\n    def enableSeparateBuildPerCPUArchitecture = false\r\n    \r\n    /**\r\n     * Run Proguard to shrink the Java bytecode in release builds.\r\n     */\r\n    def enableProguardInReleaseBuilds = false\r\n    \r\n    /**\r\n     * The preferred build flavor of JavaScriptCore.\r\n     *\r\n     * For example, to use the international variant, you can use:\r\n     * `def jscFlavor = &#39;org.webkit:android-jsc-intl:+&#39;`\r\n     *\r\n     * The international variant includes ICU i18n library and necessary data\r\n     * allowing to use e.g. `Date.toLocaleString` and `String.localeCompare` that\r\n     * give correct results when using with locales other than en-US.  Note that\r\n     * this variant is about 6MiB larger per architecture than default.\r\n     */\r\n    // Original:\r\n    // def jscFlavor = &#39;org.webkit:android-jsc:+&#39;\r\n    \r\n    // ***BUG FIX*** Specific version:\r\n    // def jscFlavor = &#39;org.webkit:android-jsc:r245459&#39;\r\n    \r\n    // ADDED NEW Specific version (?) found in (node-modules &gt; jsc-android &gt; dist &gt; org &gt; webkit &gt; android-jsc &gt; r250230):\r\n    def jscFlavor = &#39;org.webkit:android-jsc:r250230&#39;\r\n    \r\n    /**\r\n     * Whether to enable the Hermes VM.\r\n     *\r\n     * This should be set on project.ext.react and mirrored here.  If it is not set\r\n     * on project.ext.react, JavaScript will not be compiled to Hermes Bytecode\r\n     * and the benefits of using Hermes will therefore be sharply reduced.\r\n     */\r\n    def enableHermes = project.ext.react.get(&quot;enableHermes&quot;, false)\r\n    \r\n    android {\r\n        compileSdkVersion rootProject.ext.compileSdkVersion\r\n    \r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.personalchef&quot;\r\n            minSdkVersion rootProject.ext.minSdkVersion\r\n            targetSdkVersion rootProject.ext.targetSdkVersion\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n         // ADDED:\r\n            manifestPlaceholders = [\r\n                &#39;appAuthRedirectScheme&#39;: &#39;host.exp.exponent&#39;\r\n            ]\r\n         //\r\n        }\r\n        splits {\r\n            abi {\r\n                reset()\r\n                enable enableSeparateBuildPerCPUArchitecture\r\n                universalApk false  // If true, also generate a universal APK\r\n                include &quot;armeabi-v7a&quot;, &quot;x86&quot;, &quot;arm64-v8a&quot;, &quot;x86_64&quot;\r\n            }\r\n        }\r\n        signingConfigs {\r\n            debug {\r\n                storeFile file(&#39;debug.keystore&#39;)\r\n                storePassword &#39;android&#39;\r\n                keyAlias &#39;androiddebugkey&#39;\r\n                keyPassword &#39;android&#39;\r\n            }\r\n        }\r\n        buildTypes {\r\n            debug {\r\n                signingConfig signingConfigs.debug\r\n            }\r\n            release {\r\n                // Caution! In production, you need to generate your own keystore file.\r\n                // see https://reactnative.dev/docs/signed-apk-android.\r\n                signingConfig signingConfigs.debug\r\n                minifyEnabled enableProguardInReleaseBuilds\r\n                proguardFiles getDefaultProguardFile(&quot;proguard-android.txt&quot;), &quot;proguard-rules.pro&quot;\r\n            }\r\n        }\r\n    \r\n        // applicationVariants are e.g. debug, release\r\n        applicationVariants.all { variant -&gt;\r\n            variant.outputs.each { output -&gt;\r\n                // For each separate APK per architecture, set a unique version code as described here:\r\n                // https://developer.android.com/studio/build/configure-apk-splits.html\r\n                def versionCodes = [&quot;armeabi-v7a&quot;: 1, &quot;x86&quot;: 2, &quot;arm64-v8a&quot;: 3, &quot;x86_64&quot;: 4]\r\n                def abi = output.getFilter(OutputFile.ABI)\r\n                if (abi != null) {  // null for the universal-debug, universal-release variants\r\n                    output.versionCodeOverride =\r\n                            versionCodes.get(abi) * 1048576 + defaultConfig.versionCode\r\n                }\r\n    \r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\r\n        //noinspection GradleDynamicVersion\r\n    \r\n        implementation &quot;com.facebook.react:react-native:+&quot;  // From node_modules\r\n    \r\n        implementation &quot;androidx.swiperefreshlayout:swiperefreshlayout:1.0.0&quot;\r\n    \r\n        implementation project(&#39;:react-native-fs&#39;)\r\n        debugImplementation(&quot;com.facebook.flipper:flipper:${FLIPPER_VERSION}&quot;) {\r\n          exclude group:&#39;com.facebook.fbjni&#39;\r\n        }\r\n        debugImplementation(&quot;com.facebook.flipper:flipper-network-plugin:${FLIPPER_VERSION}&quot;) {\r\n            exclude group:&#39;com.facebook.flipper&#39;\r\n            exclude group:&#39;com.squareup.okhttp3&#39;, module:&#39;okhttp&#39;\r\n        }\r\n        debugImplementation(&quot;com.facebook.flipper:flipper-fresco-plugin:${FLIPPER_VERSION}&quot;) {\r\n            exclude group:&#39;com.facebook.flipper&#39;\r\n        }\r\n        addUnimodulesDependencies()\r\n    \r\n        if (enableHermes) {\r\n            def hermesPath = &quot;../../node_modules/hermes-engine/android/&quot;\r\n            debugImplementation files(hermesPath + &quot;hermes-debug.aar&quot;)\r\n            releaseImplementation files(hermesPath + &quot;hermes-release.aar&quot;)\r\n        } else {\r\n            implementation jscFlavor\r\n        }\r\n    }\r\n    \r\n    // Run this once to be able to run the application with BUCK\r\n    // puts all compile dependencies into folder libs for BUCK to use\r\n    task copyDownloadableDepsToLibs(type: Copy) {\r\n        // ORIGINAL:\r\n            // from configurations.compile\r\n            // into &#39;libs&#39;\r\n        // MANUALLY ADDED:\r\n        from configurations.implementation\r\n        into &#39;libs&#39;\r\n    }\r\n    // MANUALLY REMOVED:\r\n    apply from: file(&quot;../../node_modules/@react-native-community/cli-platform-android/native_modules.gradle&quot;); applyNativeModulesAppBuildGradle(project)\r\n    //\r\n    // ADDED:\r\n    // apply from: new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve(&#39;@react-native-community/cli-platform-android/package.json&#39;)&quot;].execute(null, rootDir).text.trim(), &quot;../native_modules.gradle&quot;);\r\n    // applyNativeModulesAppBuildGradle(project)\r\n    //\r\n\r\nMy android/build.gradle file:\r\n\r\n    // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n    \r\n    buildscript {\r\n        ext {\r\n    \r\n            // MANUALLY REMOVED:\r\n    \r\n            // buildToolsVersion = &quot;29.0.3&quot;\r\n            // minSdkVersion = 21\r\n            // compileSdkVersion = 30\r\n            // targetSdkVersion = 30\r\n    \r\n            //\r\n            // MANUALLY ADDED:\r\n            buildToolsVersion = &quot;31.0.0&quot;\r\n            minSdkVersion = 21\r\n            compileSdkVersion = 31\r\n            targetSdkVersion = 31\r\n    \r\n            if (System.properties[&#39;os.arch&#39;] == &quot;aarch64&quot;) {\r\n                // For M1 Users we need to use the NDK 24 which added support for aarch64\r\n                ndkVersion = &quot;24.0.8215888&quot;\r\n            } else {\r\n                // Otherwise we default to the side-by-side NDK version from AGP.\r\n                ndkVersion = &quot;21.4.7075529&quot;\r\n            }\r\n            //\r\n        }\r\n        repositories {\r\n            google()\r\n    \r\n            // MANUALLY REMOVED:\r\n    \r\n            // jcenter()\r\n    \r\n            //\r\n    \r\n            // ADDED MANUALLY:\r\n    \r\n            mavenCentral()\r\n    \r\n            //\r\n        }\r\n        dependencies {\r\n            // MANUALLY REMOVED:\r\n    \r\n            // classpath(&quot;com.android.tools.build:gradle:4.1.0&quot;)\r\n    \r\n            //\r\n            // MANUALLY ADDED:\r\n    \r\n            classpath(&quot;com.android.tools.build:gradle:7.2.1&quot;)\r\n            classpath(&quot;com.facebook.react:react-native-gradle-plugin&quot;)\r\n            classpath(&quot;de.undercouch:gradle-download-task:5.0.1&quot;)\r\n    \r\n            //\r\n    \r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n    \r\n            google()\r\n    \r\n            // MANUALLY REMOVED:\r\n    \r\n            // mavenLocal()\r\n    \r\n            //\r\n    \r\n            maven {\r\n                // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm\r\n                url(&quot;$rootDir/../node_modules/react-native/android&quot;)\r\n            }\r\n            maven {\r\n                // Android JSC is installed from npm\r\n                url(&quot;$rootDir/../node_modules/jsc-android/dist&quot;)\r\n            }\r\n    \r\n            // ADDED MANUALLY:\r\n    \r\n            mavenCentral {\r\n                // We don&#39;t want to fetch react-native from Maven Central as there are\r\n                // older versions over there.\r\n                content {\r\n                    excludeGroup &quot;com.facebook.react&quot;\r\n                }\r\n            }\r\n    \r\n            //\r\n    \r\n            // MANUALLY REMOVED:\r\n    \r\n            // jcenter()\r\n    \r\n            //\r\n    \r\n            maven { url &#39;https://www.jitpack.io&#39; }\r\n        }\r\n    }\r\n\r\nMy android/settings.gradle file:\r\n\r\n    rootProject.name = &#39;PersonalChef&#39;\r\n    \r\n    // MANUALLY REMOVED:\r\n       // apply from: file(&quot;../node_modules/@react-native-community/cli-platform-android/native_modules.gradle&quot;); applyNativeModulesSettingsGradle(settings)\r\n    //\r\n    \r\n    // MANUALLY REMOVED:\r\n    // apply from: new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve(&#39;expo-modules-core/package.json&#39;)&quot;].execute(null, rootDir).text.trim(), &quot;../gradle.groovy&quot;);\r\n    // includeUnimodulesProjects()\r\n    \r\n    // ADDED:\r\n    apply from: &#39;../node_modules/react-native-unimodules/gradle.groovy&#39;; includeUnimodulesProjects()\r\n    apply from: new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve(&#39;@react-native-community/cli-platform-android/package.json&#39;)&quot;].execute(null, rootDir).text.trim(), &quot;../native_modules.gradle&quot;);\r\n    applyNativeModulesSettingsGradle(settings)\r\n    //\r\n    \r\n    include &#39;:app&#39;\r\n    includeBuild(&#39;../node_modules/react-native-gradle-plugin&#39;)\r\n    \r\n    \r\n    if (settings.hasProperty(&quot;newArchEnabled&quot;) &amp;&amp; settings.newArchEnabled == &quot;true&quot;) {\r\n        include(&quot;:ReactAndroid&quot;)\r\n        project(&quot;:ReactAndroid&quot;).projectDir = file(&#39;../node_modules/react-native/ReactAndroid&#39;)\r\n        include(&quot;:ReactAndroid:hermes-engine&quot;)\r\n        project(&quot;:ReactAndroid:hermes-engine&quot;).projectDir = file(&#39;../node_modules/react-native/ReactAndroid/hermes-engine&#39;)\r\n    }\r\n\r\nThank you in advance if you&#39;re able to help.","title":"React Native Task error &#39;:app:processDebugMainManifest FAILED&#39;","body":"<p>I recently upgraded React Native 0.63.4 to 0.70.1 and have been trying to iron everything out re upgrading packages and dependencies etc.\nI'm really stuck on this particular error and can't seem to find a solution.</p>\n<p>The command prompt says:</p>\n<blockquote>\n<p>Task :app:processDebugMainManifest FAILED</p>\n</blockquote>\n<p>...</p>\n<p>FAILURE: Build completed with 2 failures.</p>\n<h2>1: Task failed with an exception.</h2>\n<ul>\n<li>What went wrong:\nExecution failed for task ':app:processDebugMainManifest'.</li>\n</ul>\n<blockquote>\n<p>com.android.manifmerger.ManifestMerger2$MergeFailureException: org.xml.sax.SAXParseException; lineNumber: 10; columnNumber: 6; The processing instruction target matching &quot;[xX][mM][lL]&quot; is not allowed.</p>\n</blockquote>\n<h2>2: Task failed with an exception.</h2>\n<ul>\n<li>What went wrong:\njava.lang.StackOverflowError (no error message)</li>\n</ul>\n<hr />\n<p>I haven't been able to find a solution online apart from adding the line\n'org.gradle.jvmargs=--add-opens java.base/java.io=ALL-UNNAMED' to my android/gradle.properties file, which hasn't worked.</p>\n<p>The issue that I had directly before this error was:-</p>\n<p>Command prompt:</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nCould not determine the dependencies of task ':app:compileDebugJavaWithJavac'.</li>\n</ul>\n<blockquote>\n<p>Could not resolve all task dependencies for configuration ':app:debugCompileClasspath'.\nCould not find org.webkit:android-jsc:r245459.\nRequired by:\nproject :app</p>\n</blockquote>\n<p>I resolved this by changing 'def jscFlavor = 'org.webkit:android-jsc:r245459'' to 'def jscFlavor = 'org.webkit:android-jsc:r250230'' in my android/app/build.gradle file, as I noticed that my 'node-modules/jsc-android/dist/org/webkit/android-jsc' file contained an r250230 file rather than an r245459 one. I'm not sure whether changing this manually has cause the most recent error.</p>\n<p>Here's my android/app/build.gradle file:</p>\n<pre><code>apply plugin: &quot;com.android.application&quot;\n\nimport com.android.build.OutputFile\n\n/**\n * The react.gradle file registers a task for each build variant (e.g. bundleDebugJsAndAssets\n * and bundleReleaseJsAndAssets).\n * These basically call `react-native bundle` with the correct arguments during the Android build\n * cycle. By default, bundleDebugJsAndAssets is skipped, as in debug/dev mode we prefer to load the\n * bundle directly from the development server. Below you can see all the possible configurations\n * and their defaults. If you decide to add a configuration block, make sure to add it before the\n * `apply from: &quot;../../node_modules/react-native/react.gradle&quot;` line.\n *\n * project.ext.react = [\n *   // the name of the generated asset file containing your JS bundle\n *   bundleAssetName: &quot;index.android.bundle&quot;,\n *\n *   // the entry file for bundle generation. If none specified and\n *   // &quot;index.android.js&quot; exists, it will be used. Otherwise &quot;index.js&quot; is\n *   // default. Can be overridden with ENTRY_FILE environment variable.\n *   entryFile: &quot;index.android.js&quot;,\n *\n *   // https://reactnative.dev/docs/performance#enable-the-ram-format\n *   bundleCommand: &quot;ram-bundle&quot;,\n *\n *   // whether to bundle JS and assets in debug mode\n *   bundleInDebug: false,\n *\n *   // whether to bundle JS and assets in release mode\n *   bundleInRelease: true,\n *\n *   // whether to bundle JS and assets in another build variant (if configured).\n *   // See http://tools.android.com/tech-docs/new-build-system/user-guide#TOC-Build-Variants\n *   // The configuration property can be in the following formats\n *   //         'bundleIn${productFlavor}${buildType}'\n *   //         'bundleIn${buildType}'\n *   // bundleInFreeDebug: true,\n *   // bundleInPaidRelease: true,\n *   // bundleInBeta: true,\n *\n *   // whether to disable dev mode in custom build variants (by default only disabled in release)\n *   // for example: to disable dev mode in the staging build type (if configured)\n *   devDisabledInStaging: true,\n *   // The configuration property can be in the following formats\n *   //         'devDisabledIn${productFlavor}${buildType}'\n *   //         'devDisabledIn${buildType}'\n *\n *   // the root of your project, i.e. where &quot;package.json&quot; lives\n *   root: &quot;../../&quot;,\n *\n *   // where to put the JS bundle asset in debug mode\n *   jsBundleDirDebug: &quot;$buildDir/intermediates/assets/debug&quot;,\n *\n *   // where to put the JS bundle asset in release mode\n *   jsBundleDirRelease: &quot;$buildDir/intermediates/assets/release&quot;,\n *\n *   // where to put drawable resources / React Native assets, e.g. the ones you use via\n *   // require('./image.png')), in debug mode\n *   resourcesDirDebug: &quot;$buildDir/intermediates/res/merged/debug&quot;,\n *\n *   // where to put drawable resources / React Native assets, e.g. the ones you use via\n *   // require('./image.png')), in release mode\n *   resourcesDirRelease: &quot;$buildDir/intermediates/res/merged/release&quot;,\n *\n *   // by default the gradle tasks are skipped if none of the JS files or assets change; this means\n *   // that we don't look at files in android/ or ios/ to determine whether the tasks are up to\n *   // date; if you have any other folders that you want to ignore for performance reasons (gradle\n *   // indexes the entire tree), add them here. Alternatively, if you have JS files in android/\n *   // for example, you might want to remove it from here.\n *   inputExcludes: [&quot;android/**&quot;, &quot;ios/**&quot;],\n *\n *   // override which node gets called and with what additional arguments\n *   nodeExecutableAndArgs: [&quot;node&quot;],\n *\n *   // supply additional arguments to the packager\n *   extraPackagerArgs: []\n * ]\n */\n\nproject.ext.react = [\n    enableHermes: false\n]\n\n// MANUALLY REMOVED:\n    apply from: '../../node_modules/react-native-unimodules/gradle.groovy'\n    // apply from: &quot;../../node_modules/react-native/react.gradle&quot;\n    // apply from: &quot;../../node_modules/expo-constants/scripts/get-app-config-android.gradle&quot;\n    // apply from: &quot;../../node_modules/expo-updates/scripts/create-manifest-android.gradle&quot;\n//\n// ADDED:\n// apply from: new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve('expo-modules-core/package.json')&quot;].execute(null, rootDir).text.trim(), &quot;../gradle.groovy&quot;)\napply from: new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve('react-native/package.json')&quot;].execute(null, rootDir).text.trim(), &quot;../react.gradle&quot;)\napply from: new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve('expo-updates/package.json')&quot;].execute(null, rootDir).text.trim(), &quot;../scripts/create-manifest-android.gradle&quot;)\n//\n\n/**\n * Set this to true to create two separate APKs instead of one:\n *   - An APK that only works on ARM devices\n *   - An APK that only works on x86 devices\n * The advantage is the size of the APK is reduced by about 4MB.\n * Upload all the APKs to the Play Store and people will download\n * the correct one based on the CPU architecture of their device.\n */\ndef enableSeparateBuildPerCPUArchitecture = false\n\n/**\n * Run Proguard to shrink the Java bytecode in release builds.\n */\ndef enableProguardInReleaseBuilds = false\n\n/**\n * The preferred build flavor of JavaScriptCore.\n *\n * For example, to use the international variant, you can use:\n * `def jscFlavor = 'org.webkit:android-jsc-intl:+'`\n *\n * The international variant includes ICU i18n library and necessary data\n * allowing to use e.g. `Date.toLocaleString` and `String.localeCompare` that\n * give correct results when using with locales other than en-US.  Note that\n * this variant is about 6MiB larger per architecture than default.\n */\n// Original:\n// def jscFlavor = 'org.webkit:android-jsc:+'\n\n// ***BUG FIX*** Specific version:\n// def jscFlavor = 'org.webkit:android-jsc:r245459'\n\n// ADDED NEW Specific version (?) found in (node-modules &gt; jsc-android &gt; dist &gt; org &gt; webkit &gt; android-jsc &gt; r250230):\ndef jscFlavor = 'org.webkit:android-jsc:r250230'\n\n/**\n * Whether to enable the Hermes VM.\n *\n * This should be set on project.ext.react and mirrored here.  If it is not set\n * on project.ext.react, JavaScript will not be compiled to Hermes Bytecode\n * and the benefits of using Hermes will therefore be sharply reduced.\n */\ndef enableHermes = project.ext.react.get(&quot;enableHermes&quot;, false)\n\nandroid {\n    compileSdkVersion rootProject.ext.compileSdkVersion\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    defaultConfig {\n        applicationId &quot;com.personalchef&quot;\n        minSdkVersion rootProject.ext.minSdkVersion\n        targetSdkVersion rootProject.ext.targetSdkVersion\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n     // ADDED:\n        manifestPlaceholders = [\n            'appAuthRedirectScheme': 'host.exp.exponent'\n        ]\n     //\n    }\n    splits {\n        abi {\n            reset()\n            enable enableSeparateBuildPerCPUArchitecture\n            universalApk false  // If true, also generate a universal APK\n            include &quot;armeabi-v7a&quot;, &quot;x86&quot;, &quot;arm64-v8a&quot;, &quot;x86_64&quot;\n        }\n    }\n    signingConfigs {\n        debug {\n            storeFile file('debug.keystore')\n            storePassword 'android'\n            keyAlias 'androiddebugkey'\n            keyPassword 'android'\n        }\n    }\n    buildTypes {\n        debug {\n            signingConfig signingConfigs.debug\n        }\n        release {\n            // Caution! In production, you need to generate your own keystore file.\n            // see https://reactnative.dev/docs/signed-apk-android.\n            signingConfig signingConfigs.debug\n            minifyEnabled enableProguardInReleaseBuilds\n            proguardFiles getDefaultProguardFile(&quot;proguard-android.txt&quot;), &quot;proguard-rules.pro&quot;\n        }\n    }\n\n    // applicationVariants are e.g. debug, release\n    applicationVariants.all { variant -&gt;\n        variant.outputs.each { output -&gt;\n            // For each separate APK per architecture, set a unique version code as described here:\n            // https://developer.android.com/studio/build/configure-apk-splits.html\n            def versionCodes = [&quot;armeabi-v7a&quot;: 1, &quot;x86&quot;: 2, &quot;arm64-v8a&quot;: 3, &quot;x86_64&quot;: 4]\n            def abi = output.getFilter(OutputFile.ABI)\n            if (abi != null) {  // null for the universal-debug, universal-release variants\n                output.versionCodeOverride =\n                        versionCodes.get(abi) * 1048576 + defaultConfig.versionCode\n            }\n\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\n    //noinspection GradleDynamicVersion\n\n    implementation &quot;com.facebook.react:react-native:+&quot;  // From node_modules\n\n    implementation &quot;androidx.swiperefreshlayout:swiperefreshlayout:1.0.0&quot;\n\n    implementation project(':react-native-fs')\n    debugImplementation(&quot;com.facebook.flipper:flipper:${FLIPPER_VERSION}&quot;) {\n      exclude group:'com.facebook.fbjni'\n    }\n    debugImplementation(&quot;com.facebook.flipper:flipper-network-plugin:${FLIPPER_VERSION}&quot;) {\n        exclude group:'com.facebook.flipper'\n        exclude group:'com.squareup.okhttp3', module:'okhttp'\n    }\n    debugImplementation(&quot;com.facebook.flipper:flipper-fresco-plugin:${FLIPPER_VERSION}&quot;) {\n        exclude group:'com.facebook.flipper'\n    }\n    addUnimodulesDependencies()\n\n    if (enableHermes) {\n        def hermesPath = &quot;../../node_modules/hermes-engine/android/&quot;\n        debugImplementation files(hermesPath + &quot;hermes-debug.aar&quot;)\n        releaseImplementation files(hermesPath + &quot;hermes-release.aar&quot;)\n    } else {\n        implementation jscFlavor\n    }\n}\n\n// Run this once to be able to run the application with BUCK\n// puts all compile dependencies into folder libs for BUCK to use\ntask copyDownloadableDepsToLibs(type: Copy) {\n    // ORIGINAL:\n        // from configurations.compile\n        // into 'libs'\n    // MANUALLY ADDED:\n    from configurations.implementation\n    into 'libs'\n}\n// MANUALLY REMOVED:\napply from: file(&quot;../../node_modules/@react-native-community/cli-platform-android/native_modules.gradle&quot;); applyNativeModulesAppBuildGradle(project)\n//\n// ADDED:\n// apply from: new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve('@react-native-community/cli-platform-android/package.json')&quot;].execute(null, rootDir).text.trim(), &quot;../native_modules.gradle&quot;);\n// applyNativeModulesAppBuildGradle(project)\n//\n</code></pre>\n<p>My android/build.gradle file:</p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ext {\n\n        // MANUALLY REMOVED:\n\n        // buildToolsVersion = &quot;29.0.3&quot;\n        // minSdkVersion = 21\n        // compileSdkVersion = 30\n        // targetSdkVersion = 30\n\n        //\n        // MANUALLY ADDED:\n        buildToolsVersion = &quot;31.0.0&quot;\n        minSdkVersion = 21\n        compileSdkVersion = 31\n        targetSdkVersion = 31\n\n        if (System.properties['os.arch'] == &quot;aarch64&quot;) {\n            // For M1 Users we need to use the NDK 24 which added support for aarch64\n            ndkVersion = &quot;24.0.8215888&quot;\n        } else {\n            // Otherwise we default to the side-by-side NDK version from AGP.\n            ndkVersion = &quot;21.4.7075529&quot;\n        }\n        //\n    }\n    repositories {\n        google()\n\n        // MANUALLY REMOVED:\n\n        // jcenter()\n\n        //\n\n        // ADDED MANUALLY:\n\n        mavenCentral()\n\n        //\n    }\n    dependencies {\n        // MANUALLY REMOVED:\n\n        // classpath(&quot;com.android.tools.build:gradle:4.1.0&quot;)\n\n        //\n        // MANUALLY ADDED:\n\n        classpath(&quot;com.android.tools.build:gradle:7.2.1&quot;)\n        classpath(&quot;com.facebook.react:react-native-gradle-plugin&quot;)\n        classpath(&quot;de.undercouch:gradle-download-task:5.0.1&quot;)\n\n        //\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n\n        google()\n\n        // MANUALLY REMOVED:\n\n        // mavenLocal()\n\n        //\n\n        maven {\n            // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm\n            url(&quot;$rootDir/../node_modules/react-native/android&quot;)\n        }\n        maven {\n            // Android JSC is installed from npm\n            url(&quot;$rootDir/../node_modules/jsc-android/dist&quot;)\n        }\n\n        // ADDED MANUALLY:\n\n        mavenCentral {\n            // We don't want to fetch react-native from Maven Central as there are\n            // older versions over there.\n            content {\n                excludeGroup &quot;com.facebook.react&quot;\n            }\n        }\n\n        //\n\n        // MANUALLY REMOVED:\n\n        // jcenter()\n\n        //\n\n        maven { url 'https://www.jitpack.io' }\n    }\n}\n</code></pre>\n<p>My android/settings.gradle file:</p>\n<pre><code>rootProject.name = 'PersonalChef'\n\n// MANUALLY REMOVED:\n   // apply from: file(&quot;../node_modules/@react-native-community/cli-platform-android/native_modules.gradle&quot;); applyNativeModulesSettingsGradle(settings)\n//\n\n// MANUALLY REMOVED:\n// apply from: new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve('expo-modules-core/package.json')&quot;].execute(null, rootDir).text.trim(), &quot;../gradle.groovy&quot;);\n// includeUnimodulesProjects()\n\n// ADDED:\napply from: '../node_modules/react-native-unimodules/gradle.groovy'; includeUnimodulesProjects()\napply from: new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve('@react-native-community/cli-platform-android/package.json')&quot;].execute(null, rootDir).text.trim(), &quot;../native_modules.gradle&quot;);\napplyNativeModulesSettingsGradle(settings)\n//\n\ninclude ':app'\nincludeBuild('../node_modules/react-native-gradle-plugin')\n\n\nif (settings.hasProperty(&quot;newArchEnabled&quot;) &amp;&amp; settings.newArchEnabled == &quot;true&quot;) {\n    include(&quot;:ReactAndroid&quot;)\n    project(&quot;:ReactAndroid&quot;).projectDir = file('../node_modules/react-native/ReactAndroid')\n    include(&quot;:ReactAndroid:hermes-engine&quot;)\n    project(&quot;:ReactAndroid:hermes-engine&quot;).projectDir = file('../node_modules/react-native/ReactAndroid/hermes-engine')\n}\n</code></pre>\n<p>Thank you in advance if you're able to help.</p>\n"},{"tags":["java","json","spring-boot","thymeleaf","spring-thymeleaf"],"comments":[{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1665757122,"post_id":74069835,"comment_id":130779341,"body_markdown":"Why have a separate map for every entry?  That seems pointless.","body":"Why have a separate map for every entry?  That seems pointless."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1665761015,"post_id":74069835,"comment_id":130780851,"body_markdown":"You&#39;re not dialing with **files** in any of the snippets you&#39;ve provided. Did you mean transforming a Collection into a `JSONObject`?","body":"You&#39;re not dialing with <b>files</b> in any of the snippets you&#39;ve provided. Did you mean transforming a Collection into a <code>JSONObject</code>?"},{"owner":{"account_id":20977791,"reputation":37,"user_id":15413342,"display_name":"nickgkd"},"score":0,"creation_date":1665992020,"post_id":74069835,"comment_id":130820322,"body_markdown":"@AlexanderIvanchenko How do I write the final JSONObject to the payload.json using Thymeleaf","body":"@AlexanderIvanchenko How do I write the final JSONObject to the payload.json using Thymeleaf"},{"owner":{"account_id":20977791,"reputation":37,"user_id":15413342,"display_name":"nickgkd"},"score":0,"creation_date":1665992052,"post_id":74069835,"comment_id":130820333,"body_markdown":"@accessviolation That&#39;s my requirement man","body":"@accessviolation That&#39;s my requirement man"}],"owner":{"account_id":20977791,"reputation":37,"user_id":15413342,"display_name":"nickgkd"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665753432,"creation_date":1665753432,"question_id":74069835,"body_markdown":"I have a requirement wherein I need to iterate over a List of Maps i.e. List&lt;Map&lt;String, Object&gt;&gt; grab the data from the list, and map it to a JSON file. Now the challenge is that I need to loop the data dynamically in the JSON file. Well, I do know how to map a single set of data to a JSON file using Thymeleaf but I&#39;m not sure how to dynamically loop a JSON file using Thymeleaf.\r\nThe following thing is what I&#39;m aware of -\r\n\r\nI have a java class with a method that has the following code that will map the data from a HashMap to the JSON file.\r\n\r\n    public JSONObject response(){\r\n       Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n       Context context = new Context();\r\n       String responsePayload = null;\r\n       JSONObject jsonObject = null;\r\n       data.put(&quot;name&quot;, &quot;Wayne Rooney&quot;)\r\n       data.put(&quot;profession&quot;, &quot;Footballer&quot;)\r\n       context.setVariable(&quot;data&quot;, data);\r\n       responsePayload = templateEngine.process(&quot;resource/payload&quot;, context);\r\n       jsonObject = new JSONObject(responsePayload);\r\n    }\r\n\r\n\r\nThis is how the payload.json file looks\r\n\r\n    {\r\n        &quot;name&quot;: &quot;[(${data[&#39;name&#39;]})]&quot;,\r\n        &quot;profession&quot;: &quot;[(${data[&#39;profession&#39;]})]&quot;\r\n    }\r\n\r\n\r\nSo, my code works smoothly when only a single instance of HashMap data is mapped to the JSON file, but my next requirement is how do I loop a List of Maps i.e. List&lt;Map&lt;String, Object&gt;&gt; and map the data in my json file?\r\n\r\nFor e.g. Consider now I&#39;ve a List&lt;Map&lt;String, Object&gt;&gt; instead of Map&lt;String, Object&gt;\r\n\r\n   \r\n\r\n    public JSONObject response(){\r\n    List&lt;Map&lt;String, Object&gt;&gt; listOfMap = new ArrayList&lt;&gt;();\r\n    Map&lt;String, Object&gt; data1 = new HashMap&lt;&gt;();\r\n    Map&lt;String, Object&gt; data2 = new HashMap&lt;&gt;();\r\n    Map&lt;String, Object&gt; data3 = new HashMap&lt;&gt;();\r\n    Context context = new Context();\r\n    String responsePayload = null;\r\n    JSONObject jsonObject = null;\r\n    data1.put(&quot;name&quot;, &quot;Wayne Rooney&quot;)\r\n    data1.put(&quot;profession&quot;, &quot;Footballer&quot;)\r\n    data2.put(&quot;name&quot;, &quot;Cristiano Ronaldo&quot;)\r\n    data2.put(&quot;profession&quot;, &quot;Footballer&quot;)\r\n    data3.put(&quot;name&quot;, &quot;Sir Alex Ferguson&quot;)\r\n    data3.put(&quot;profession&quot;, &quot;Manager&quot;)\r\n    listOfMap.add(data1);\r\n    listOfMap.add(data2);\r\n    listOfMap.add(data3);\r\n    context.setVariable(&quot;data&quot;, listOfMap);\r\n    responsePayload = templateEngine.process(&quot;resource/payload&quot;, context);\r\n    jsonObject = new JSONObject(responsePayload);\r\n    return jsonObject;\r\n    }\r\n\r\nSo now how do I map this list of data to a JSON file? What changes do I need to make in the JSON file?\r\n\r\nI appreciate it if someone helps here.\r\nThank you!","title":"How to dynamically loop a JSON file using Thymeleaf in Spring boot","body":"<p>I have a requirement wherein I need to iterate over a List of Maps i.e. List&lt;Map&lt;String, Object&gt;&gt; grab the data from the list, and map it to a JSON file. Now the challenge is that I need to loop the data dynamically in the JSON file. Well, I do know how to map a single set of data to a JSON file using Thymeleaf but I'm not sure how to dynamically loop a JSON file using Thymeleaf.\nThe following thing is what I'm aware of -</p>\n<p>I have a java class with a method that has the following code that will map the data from a HashMap to the JSON file.</p>\n<pre><code>public JSONObject response(){\n   Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n   Context context = new Context();\n   String responsePayload = null;\n   JSONObject jsonObject = null;\n   data.put(&quot;name&quot;, &quot;Wayne Rooney&quot;)\n   data.put(&quot;profession&quot;, &quot;Footballer&quot;)\n   context.setVariable(&quot;data&quot;, data);\n   responsePayload = templateEngine.process(&quot;resource/payload&quot;, context);\n   jsonObject = new JSONObject(responsePayload);\n}\n</code></pre>\n<p>This is how the payload.json file looks</p>\n<pre><code>{\n    &quot;name&quot;: &quot;[(${data['name']})]&quot;,\n    &quot;profession&quot;: &quot;[(${data['profession']})]&quot;\n}\n</code></pre>\n<p>So, my code works smoothly when only a single instance of HashMap data is mapped to the JSON file, but my next requirement is how do I loop a List of Maps i.e. List&lt;Map&lt;String, Object&gt;&gt; and map the data in my json file?</p>\n<p>For e.g. Consider now I've a List&lt;Map&lt;String, Object&gt;&gt; instead of Map&lt;String, Object&gt;</p>\n<pre><code>public JSONObject response(){\nList&lt;Map&lt;String, Object&gt;&gt; listOfMap = new ArrayList&lt;&gt;();\nMap&lt;String, Object&gt; data1 = new HashMap&lt;&gt;();\nMap&lt;String, Object&gt; data2 = new HashMap&lt;&gt;();\nMap&lt;String, Object&gt; data3 = new HashMap&lt;&gt;();\nContext context = new Context();\nString responsePayload = null;\nJSONObject jsonObject = null;\ndata1.put(&quot;name&quot;, &quot;Wayne Rooney&quot;)\ndata1.put(&quot;profession&quot;, &quot;Footballer&quot;)\ndata2.put(&quot;name&quot;, &quot;Cristiano Ronaldo&quot;)\ndata2.put(&quot;profession&quot;, &quot;Footballer&quot;)\ndata3.put(&quot;name&quot;, &quot;Sir Alex Ferguson&quot;)\ndata3.put(&quot;profession&quot;, &quot;Manager&quot;)\nlistOfMap.add(data1);\nlistOfMap.add(data2);\nlistOfMap.add(data3);\ncontext.setVariable(&quot;data&quot;, listOfMap);\nresponsePayload = templateEngine.process(&quot;resource/payload&quot;, context);\njsonObject = new JSONObject(responsePayload);\nreturn jsonObject;\n}\n</code></pre>\n<p>So now how do I map this list of data to a JSON file? What changes do I need to make in the JSON file?</p>\n<p>I appreciate it if someone helps here.\nThank you!</p>\n"},{"tags":["java","connection-pooling","apache-commons-dbcp"],"comments":[{"owner":{"account_id":4143152,"reputation":2367,"user_id":3397712,"accept_rate":77,"display_name":"yaswanth"},"score":0,"creation_date":1493880045,"post_id":10684244,"comment_id":74591934,"body_markdown":"Does using validationQuery not degrade the performance? This query runs for every connection the application gets right?","body":"Does using validationQuery not degrade the performance? This query runs for every connection the application gets right?"},{"owner":{"account_id":23768567,"reputation":192,"user_id":17782982,"display_name":"turbofood"},"score":0,"creation_date":1642118701,"post_id":10684244,"comment_id":124993738,"body_markdown":"@yaswanth It&#39;s usually only run once at startup I would imagine, unless you have some special circumstance","body":"@yaswanth It&#39;s usually only run once at startup I would imagine, unless you have some special circumstance"}],"answers":[{"tags":[],"owner":{"account_id":297677,"reputation":3564,"user_id":603314,"accept_rate":88,"display_name":"bugs_"},"down_vote_count":0,"up_vote_count":229,"is_accepted":true,"score":229,"last_activity_date":1665753282,"creation_date":1337599300,"answer_id":10684260,"question_id":10684244,"body_markdown":"There is not only one validationQuery for all databases. On each database you have to use different validationQuery.\r\n\r\nAfter few hours of googling and testing I have collected this table:\r\n\r\nDatabase      validationQuery \tnotes\r\n\r\n - **hsqldb** - `select 1 from INFORMATION_SCHEMA.SYSTEM_USERS`\r\n - **Oracle** - `select 1 from dual`\r\n - **DB2** - `select 1 from sysibm.sysdummy1`\r\n - **mysql** - `/* ping */ select 1`\r\n - **microsoft SQL Server** - `select 1` (tested on SQL-Server 9.0, 10.5 [2008])\r\n - **postgresql** - `select 1`\r\n - **ingres** - `select 1`\r\n - **derby** - `values 1`\r\n - **H2** - `select 1`\r\n - **Firebird** - `select 1 from rdb$database`\r\n - **MariaDb** - `select 1`\r\n - **Informix** - `select 1 from systables`\r\n - **Hive** - `select 1`\r\n - **Impala** - `select 1`\r\n\r\n\r\nI wrote about it on my blog - [validation query for various databases][1].\r\n\r\nIn advance there is an example of class, which return validationQuery according to JDBC driver.\r\n\r\nOr does anybody have better solution?\r\n\r\n  [1]: http://vondrnotes.blogspot.com/2012/05/validationquery-for-different-databases.html","title":"DBCP - validationQuery for different Databases","body":"<p>There is not only one validationQuery for all databases. On each database you have to use different validationQuery.</p>\n<p>After few hours of googling and testing I have collected this table:</p>\n<p>Database      validationQuery   notes</p>\n<ul>\n<li><strong>hsqldb</strong> - <code>select 1 from INFORMATION_SCHEMA.SYSTEM_USERS</code></li>\n<li><strong>Oracle</strong> - <code>select 1 from dual</code></li>\n<li><strong>DB2</strong> - <code>select 1 from sysibm.sysdummy1</code></li>\n<li><strong>mysql</strong> - <code>/* ping */ select 1</code></li>\n<li><strong>microsoft SQL Server</strong> - <code>select 1</code> (tested on SQL-Server 9.0, 10.5 [2008])</li>\n<li><strong>postgresql</strong> - <code>select 1</code></li>\n<li><strong>ingres</strong> - <code>select 1</code></li>\n<li><strong>derby</strong> - <code>values 1</code></li>\n<li><strong>H2</strong> - <code>select 1</code></li>\n<li><strong>Firebird</strong> - <code>select 1 from rdb$database</code></li>\n<li><strong>MariaDb</strong> - <code>select 1</code></li>\n<li><strong>Informix</strong> - <code>select 1 from systables</code></li>\n<li><strong>Hive</strong> - <code>select 1</code></li>\n<li><strong>Impala</strong> - <code>select 1</code></li>\n</ul>\n<p>I wrote about it on my blog - <a href=\"http://vondrnotes.blogspot.com/2012/05/validationquery-for-different-databases.html\" rel=\"noreferrer\">validation query for various databases</a>.</p>\n<p>In advance there is an example of class, which return validationQuery according to JDBC driver.</p>\n<p>Or does anybody have better solution?</p>\n"},{"tags":[],"owner":{"account_id":26282,"reputation":1253,"user_id":68237,"display_name":"yossis"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1453296405,"creation_date":1388049047,"answer_id":20782108,"question_id":10684244,"body_markdown":"For MySQL with the Connector/J driver, there&#39;s a lightweight validation query that just sends a ping to the server and returns a dummy result set.\r\nThe validation query can be (or should start with) exactly the following string:\r\n\r\n    /* ping */\r\n\r\nFor more infor refer to the [Validating Connections][1] in the MySQL driver manual \r\n\r\n\r\n  [1]: https://dev.mysql.com/doc/connector-j/en/connector-j-usagenotes-j2ee-concepts-connection-pooling.html","title":"DBCP - validationQuery for different Databases","body":"<p>For MySQL with the Connector/J driver, there's a lightweight validation query that just sends a ping to the server and returns a dummy result set.\nThe validation query can be (or should start with) exactly the following string:</p>\n\n<pre><code>/* ping */\n</code></pre>\n\n<p>For more infor refer to the <a href=\"https://dev.mysql.com/doc/connector-j/en/connector-j-usagenotes-j2ee-concepts-connection-pooling.html\" rel=\"noreferrer\">Validating Connections</a> in the MySQL driver manual </p>\n"},{"tags":[],"owner":{"account_id":293375,"reputation":882,"user_id":596634,"accept_rate":17,"display_name":"Deepan Prabhu Babu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1435356419,"creation_date":1435356419,"answer_id":31082853,"question_id":10684244,"body_markdown":"For Informix, The validation query is,\r\nselect 1 from systables\r\n","title":"DBCP - validationQuery for different Databases","body":"<p>For Informix, The validation query is,\nselect 1 from systables</p>\n"},{"tags":[],"owner":{"account_id":3117618,"reputation":492,"user_id":2638053,"accept_rate":58,"display_name":"Amit P"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615197219,"creation_date":1615197219,"answer_id":66527633,"question_id":10684244,"body_markdown":"For MairaDB validation query is  &quot;select 1&quot; .","title":"DBCP - validationQuery for different Databases","body":"<p>For MairaDB validation query is  &quot;select 1&quot; .</p>\n"}],"owner":{"account_id":297677,"reputation":3564,"user_id":603314,"accept_rate":88,"display_name":"bugs_"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73760,"favorite_count":0,"down_vote_count":0,"up_vote_count":89,"accepted_answer_id":10684260,"answer_count":4,"score":89,"last_activity_date":1665753282,"creation_date":1337599253,"question_id":10684244,"body_markdown":"I use DBCP pool and I want use *testOnBorrow* and *testOnReturn* to test if connection is still valid.  \r\nUnfortunately I have to set property validationQuery to make it work.\r\n\r\nQuestion: **What value should be in validationQuery?**\r\n\r\nI know, that: validationQuery must be an SQL SELECT statement, that returns at least one row. \r\n\r\nProblem is that we use various databases (DB2, Oracle, hsqldb).","title":"DBCP - validationQuery for different Databases","body":"<p>I use DBCP pool and I want use <em>testOnBorrow</em> and <em>testOnReturn</em> to test if connection is still valid.<br>\nUnfortunately I have to set property validationQuery to make it work.</p>\n\n<p>Question: <strong>What value should be in validationQuery?</strong></p>\n\n<p>I know, that: validationQuery must be an SQL SELECT statement, that returns at least one row. </p>\n\n<p>Problem is that we use various databases (DB2, Oracle, hsqldb).</p>\n"},{"tags":["java","json","postgresql","spring-boot"],"comments":[{"owner":{"account_id":5258135,"reputation":177,"user_id":4989143,"display_name":"Stomf"},"score":1,"creation_date":1665742164,"post_id":74066698,"comment_id":130774300,"body_markdown":"What happens if you remove the square brackets from the json file?","body":"What happens if you remove the square brackets from the json file?"},{"owner":{"account_id":25260185,"reputation":21,"user_id":19091190,"display_name":"CaireMemphis"},"score":0,"creation_date":1665746448,"post_id":74066698,"comment_id":130775452,"body_markdown":"it&#39;s return this in console : `Hibernate: select case when count(*)&gt;0 then false else true end as col_0_0_ from event event0_ where desk_id=? and (event0_.start&gt;=? or event0_.stop&gt;=?) and (event0_.start&lt;=? or event0_.stop&lt;=?)` (from my method checkIfAvailable())","body":"it&#39;s return this in console : <code>Hibernate: select case when count(*)&gt;0 then false else true end as col_0_0_ from event event0_ where desk_id=? and (event0_.start&gt;=? or event0_.stop&gt;=?) and (event0_.start&lt;=? or event0_.stop&lt;=?)</code> (from my method checkIfAvailable())"},{"owner":{"account_id":25260185,"reputation":21,"user_id":19091190,"display_name":"CaireMemphis"},"score":0,"creation_date":1665749092,"post_id":74066698,"comment_id":130776281,"body_markdown":"and if i try to bypass checkIfAvailable : `2022-10-14 14:01:26.826 ERROR 18640 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet] with root cause\norg.postgresql.util.PSQLException: ERROR: relation &quot;hibernate_sequence&quot; does not exist\n`","body":"and if i try to bypass checkIfAvailable : <code>2022-10-14 14:01:26.826 ERROR 18640 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[&#47;].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageExcept&zwnj;&#8203;ion: could not extract ResultSet; SQL [n&#47;a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet] with root cause org.postgresql.util.PSQLException: ERROR: relation &quot;hibernate_sequence&quot; does not exist </code>"}],"answers":[{"tags":[],"owner":{"account_id":17498155,"reputation":21,"user_id":12689021,"display_name":"xtreme"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665752885,"creation_date":1665751390,"answer_id":74069434,"question_id":74066698,"body_markdown":"Try this JSON as request body:\r\n\r\n    {\r\n       &quot;name&quot;:&quot;Michellllllllllll&quot;,\r\n       &quot;start&quot;:&quot;2021-01-01T00:01:00&quot;,\r\n       &quot;stop&quot;:&quot;2021-03-06T00:01:00&quot;,\r\n       &quot;desk&quot;:{\r\n          &quot;name&quot;:&quot;B-1&quot;,\r\n          &quot;id&quot;:9\r\n       }\r\n    }\r\n\r\nand It is not recommended to use entities as DTO (Data Transfer Object) between client and server.\r\n\r\nYou can consume new event details by `EventDto(String name, Date start, Date stop, Long deskId)` and then map it to EventEntity","title":"JSON parse error: Cannot deserialize value of type &quot;&quot; from Array value","body":"<p>Try this JSON as request body:</p>\n<pre><code>{\n   &quot;name&quot;:&quot;Michellllllllllll&quot;,\n   &quot;start&quot;:&quot;2021-01-01T00:01:00&quot;,\n   &quot;stop&quot;:&quot;2021-03-06T00:01:00&quot;,\n   &quot;desk&quot;:{\n      &quot;name&quot;:&quot;B-1&quot;,\n      &quot;id&quot;:9\n   }\n}\n</code></pre>\n<p>and It is not recommended to use entities as DTO (Data Transfer Object) between client and server.</p>\n<p>You can consume new event details by <code>EventDto(String name, Date start, Date stop, Long deskId)</code> and then map it to EventEntity</p>\n"}],"owner":{"account_id":25260185,"reputation":21,"user_id":19091190,"display_name":"CaireMemphis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4377,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1665753006,"creation_date":1665737405,"question_id":74066698,"body_markdown":"I have an object\r\n `Event(Long id,String name, LocalDateTime start, LocalDateTime stop, Desk desk(Long id, String name)`\r\nAnd i want to save at the database with a Create method :\r\n\r\n    @PostMapping(&quot;/flexoffice/events/create&quot;)\r\n    @ResponseStatus(HttpStatus.ACCEPTED)\r\n    public Event create(@RequestBody Event newEvent){\r\n        // It checks if the event is available, if the office is not taken during the time interval. If it is not, it throws an exception.\r\n        if (eventRepository.checkIfAvailable(newEvent.getDesk().getId(), newEvent.getStart(),newEvent.getStop()) == true) {\r\n\r\n            throw new ResponseStatusException(HttpStatus.CONFLICT,&quot;cr&#233;neau en conflit avec un autre&quot;);\r\n        }\r\n        return this.eventRepository.save(newEvent);\r\n\r\n    }\r\n\r\n When i try to execute the postmapping on Postman with a RequestBody in Json format :\r\n\r\n    [{\r\n    &quot;name&quot;: &quot;Michellllllllllll&quot;,\r\n    &quot;start&quot;: &quot;2021-01-01T00:01:00&quot;,\r\n    &quot;stop&quot;: &quot;2021-03-06T00:01:00&quot;,\r\n    &quot;desk&quot;: {\r\n      &quot;name&quot;: &quot;B-1&quot;,\r\n      &quot;id&quot;: 9\r\n    }}]\r\n  \r\n\r\nIt return :\r\n\r\n     Hibernate: select desk0_.Id as id1_1_0_, desk0_.board_id as board_id3_1_0_, desk0_.name as name2_1_0_, board1_.id as id1_0_1_, board1_.name as name2_0_1_ from desk desk0_ left outer join board board1_ on desk0_.board_id=board1_.id where desk0_.Id=?\r\n    2022-10-14 10:37:04.814 \r\n     WARN 19272 --- [nio-8080-exec-7] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `org.flexoffice.application.entity.Event` from Array value (token `JsonToken.START_ARRAY`); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `org.flexoffice.application.entity.Event` from Array value (token `JsonToken.START_ARRAY`)&lt;EOL&gt; at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 1]]\r\n\r\nI already try to use an empty class, catch all request body in string and format then, etc. and nothing change. help me please !","title":"JSON parse error: Cannot deserialize value of type &quot;&quot; from Array value","body":"<p>I have an object\n<code>Event(Long id,String name, LocalDateTime start, LocalDateTime stop, Desk desk(Long id, String name)</code>\nAnd i want to save at the database with a Create method :</p>\n<pre><code>@PostMapping(&quot;/flexoffice/events/create&quot;)\n@ResponseStatus(HttpStatus.ACCEPTED)\npublic Event create(@RequestBody Event newEvent){\n    // It checks if the event is available, if the office is not taken during the time interval. If it is not, it throws an exception.\n    if (eventRepository.checkIfAvailable(newEvent.getDesk().getId(), newEvent.getStart(),newEvent.getStop()) == true) {\n\n        throw new ResponseStatusException(HttpStatus.CONFLICT,&quot;créneau en conflit avec un autre&quot;);\n    }\n    return this.eventRepository.save(newEvent);\n\n}\n</code></pre>\n<p>When i try to execute the postmapping on Postman with a RequestBody in Json format :</p>\n<pre><code>[{\n&quot;name&quot;: &quot;Michellllllllllll&quot;,\n&quot;start&quot;: &quot;2021-01-01T00:01:00&quot;,\n&quot;stop&quot;: &quot;2021-03-06T00:01:00&quot;,\n&quot;desk&quot;: {\n  &quot;name&quot;: &quot;B-1&quot;,\n  &quot;id&quot;: 9\n}}]\n</code></pre>\n<p>It return :</p>\n<pre><code> Hibernate: select desk0_.Id as id1_1_0_, desk0_.board_id as board_id3_1_0_, desk0_.name as name2_1_0_, board1_.id as id1_0_1_, board1_.name as name2_0_1_ from desk desk0_ left outer join board board1_ on desk0_.board_id=board1_.id where desk0_.Id=?\n2022-10-14 10:37:04.814 \n WARN 19272 --- [nio-8080-exec-7] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `org.flexoffice.application.entity.Event` from Array value (token `JsonToken.START_ARRAY`); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `org.flexoffice.application.entity.Event` from Array value (token `JsonToken.START_ARRAY`)&lt;EOL&gt; at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 1]]\n</code></pre>\n<p>I already try to use an empty class, catch all request body in string and format then, etc. and nothing change. help me please !</p>\n"},{"tags":["java","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":9054293,"reputation":531,"user_id":10910480,"display_name":"Arli  Chokoev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665752906,"creation_date":1665655418,"answer_id":74053909,"question_id":74052006,"body_markdown":"Well, adding an interface helps in this case:\r\n\r\n    @Scope(value = &quot;step&quot;, proxyMode = ScopedProxyMode.INTERFACES)\r\n    @Bean\r\n    public IStateService stateService()\r\n    {\r\n        return new StateService();\r\n    }\r\n\r\nI also had to add new interface `IStateService`, which I actually don&#39;t need. However, it still doesn&#39;t answer the question WHY, and doesn&#39;t bring any understanding either.","title":"Spring Batch StepScope and Proxies. Again","body":"<p>Well, adding an interface helps in this case:</p>\n<pre><code>@Scope(value = &quot;step&quot;, proxyMode = ScopedProxyMode.INTERFACES)\n@Bean\npublic IStateService stateService()\n{\n    return new StateService();\n}\n</code></pre>\n<p>I also had to add new interface <code>IStateService</code>, which I actually don't need. However, it still doesn't answer the question WHY, and doesn't bring any understanding either.</p>\n"},{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665723282,"creation_date":1665723282,"answer_id":74064455,"question_id":74052006,"body_markdown":"&gt; What am I misunderstanding in concept of @StepScope?\r\n\r\nThe step scope is designed for beans that should be lazily instantiated at runtime when the step is executed. By default, for interface based beans, Spring will create JDK dynamic proxies, and for classes it will use CGLib.\r\n\r\nIn the code you shared, you used `proxyMode = ScopedProxyMode.NO`, so you have explicitly told Spring to not create a proxy for that bean, hence your error. And that&#39;s why when you change it to `proxyMode = ScopedProxyMode.INTERFACES` it works.\r\n\r\n&gt; How can I store some state for particular step execution?\r\n\r\nThe execution context is designed for this very use case (among other use cases). So you can store that state in the `ExecutionContext` of the step and retrieve afterwards in the same job or when restarting a failed job.\r\n","title":"Spring Batch StepScope and Proxies. Again","body":"<blockquote>\n<p>What am I misunderstanding in concept of @StepScope?</p>\n</blockquote>\n<p>The step scope is designed for beans that should be lazily instantiated at runtime when the step is executed. By default, for interface based beans, Spring will create JDK dynamic proxies, and for classes it will use CGLib.</p>\n<p>In the code you shared, you used <code>proxyMode = ScopedProxyMode.NO</code>, so you have explicitly told Spring to not create a proxy for that bean, hence your error. And that's why when you change it to <code>proxyMode = ScopedProxyMode.INTERFACES</code> it works.</p>\n<blockquote>\n<p>How can I store some state for particular step execution?</p>\n</blockquote>\n<p>The execution context is designed for this very use case (among other use cases). So you can store that state in the <code>ExecutionContext</code> of the step and retrieve afterwards in the same job or when restarting a failed job.</p>\n"}],"owner":{"account_id":9054293,"reputation":531,"user_id":10910480,"display_name":"Arli  Chokoev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665752906,"creation_date":1665646341,"question_id":74052006,"body_markdown":"I&#39;m trying to save a step-related state, that would be accessible from processor. For this purpose I made a class and a bean for it. My configuration file looks like this:\r\n\r\n    @Slf4j\r\n    @Configuration\r\n    @EnableScheduling\r\n    @RequiredArgsConstructor(onConstructor = @__(@Autowired))\r\n    public class MyConfiguration\r\n    {\r\n        // Job, reader and writer beans\r\n    \r\n        @Bean(&quot;myStep&quot;)\r\n        Step myStep(@Qualifier(&quot;myReader&quot;) ItemReader&lt;InputEntity&gt; reader,\r\n                @Qualifier(&quot;myProcessor&quot;) ItemProcessor&lt;InputEntity, OutputEntity&gt; processor,\r\n                @Qualifier(&quot;myWriter&quot;) ItemWriter&lt;OutputEntity&gt; writer)\r\n        {\r\n            return stepBuilderFactory\r\n                    .get(&quot;myStep&quot;)\r\n                    .&lt;InputEntity, OutputEntity&gt; chunk(100)\r\n                    .reader(reader)\r\n                    .processor(processor)\r\n                    .writer(writer)\r\n                    .build();\r\n        }\r\n    \r\n        @StepScope\r\n        @Bean(&quot;myProcessor&quot;)\r\n        public MyProcessor processingStep(StateService s)\r\n        {\r\n            var processor = new MyProcessor();\r\n            processor.setStateService(s);\r\n            return processor;\r\n        }\r\n    \r\n        @Scope(value = &quot;step&quot;, proxyMode = ScopedProxyMode.NO)\r\n        @Bean\r\n        public StateService stateService()\r\n        {\r\n            return new StateService();\r\n        }\r\n    \r\n    }\r\n\r\nIdea behind is to create a state service for each new step execution (the class is empty at the moment and doesn&#39;t have `@Component` annotation). However, I get in trouble with Spring proxies:\r\n\r\n    org.springframework.beans.factory.BeanNotOfRequiredTypeException: Bean named &#39;MyProcessor&#39; is expected to be of type &#39;very.long.package.name.steps.MyProcessor&#39; but was actually of type &#39;com.sun.proxy.$Proxy265&#39;\r\n\r\nGathering already answered questions and dozens of guides I tried following:\r\n\r\n - All possible proxy modes of `stateService` bean;\r\n - Injecting this bean directly into `MyProcessor` via `@Autowired` variable\r\n - Annotating configuration with `@EnableBatchProcessing`\r\n - Calling `stateService()` bean directly: `processor.setStateService(stateService());`\r\n - Injecting bean into step `Step` bean. In this case I have to change the method signature, so the method accepts `MyProcessor` instead of `ItemProcessor&lt;InputEntity, OutputEntity&gt;` to expose the variable\r\n\r\nNothing helped, I still get this exception. What am I misunderstanding in concept of `@StepScope`?    How can I store some state for particular step execution?\r\n\r\nI read [this][1], [this][2] and even [this][3], but neither helped me to understand it.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-batch/docs/current/reference/html/step.html#step-scope\r\n  [2]: https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/core/configuration/annotation/StepScope.html\r\n  [3]: https://www.manning.com/books/spring-batch-in-action","title":"Spring Batch StepScope and Proxies. Again","body":"<p>I'm trying to save a step-related state, that would be accessible from processor. For this purpose I made a class and a bean for it. My configuration file looks like this:</p>\n<pre><code>@Slf4j\n@Configuration\n@EnableScheduling\n@RequiredArgsConstructor(onConstructor = @__(@Autowired))\npublic class MyConfiguration\n{\n    // Job, reader and writer beans\n\n    @Bean(&quot;myStep&quot;)\n    Step myStep(@Qualifier(&quot;myReader&quot;) ItemReader&lt;InputEntity&gt; reader,\n            @Qualifier(&quot;myProcessor&quot;) ItemProcessor&lt;InputEntity, OutputEntity&gt; processor,\n            @Qualifier(&quot;myWriter&quot;) ItemWriter&lt;OutputEntity&gt; writer)\n    {\n        return stepBuilderFactory\n                .get(&quot;myStep&quot;)\n                .&lt;InputEntity, OutputEntity&gt; chunk(100)\n                .reader(reader)\n                .processor(processor)\n                .writer(writer)\n                .build();\n    }\n\n    @StepScope\n    @Bean(&quot;myProcessor&quot;)\n    public MyProcessor processingStep(StateService s)\n    {\n        var processor = new MyProcessor();\n        processor.setStateService(s);\n        return processor;\n    }\n\n    @Scope(value = &quot;step&quot;, proxyMode = ScopedProxyMode.NO)\n    @Bean\n    public StateService stateService()\n    {\n        return new StateService();\n    }\n\n}\n</code></pre>\n<p>Idea behind is to create a state service for each new step execution (the class is empty at the moment and doesn't have <code>@Component</code> annotation). However, I get in trouble with Spring proxies:</p>\n<pre><code>org.springframework.beans.factory.BeanNotOfRequiredTypeException: Bean named 'MyProcessor' is expected to be of type 'very.long.package.name.steps.MyProcessor' but was actually of type 'com.sun.proxy.$Proxy265'\n</code></pre>\n<p>Gathering already answered questions and dozens of guides I tried following:</p>\n<ul>\n<li>All possible proxy modes of <code>stateService</code> bean;</li>\n<li>Injecting this bean directly into <code>MyProcessor</code> via <code>@Autowired</code> variable</li>\n<li>Annotating configuration with <code>@EnableBatchProcessing</code></li>\n<li>Calling <code>stateService()</code> bean directly: <code>processor.setStateService(stateService());</code></li>\n<li>Injecting bean into step <code>Step</code> bean. In this case I have to change the method signature, so the method accepts <code>MyProcessor</code> instead of <code>ItemProcessor&lt;InputEntity, OutputEntity&gt;</code> to expose the variable</li>\n</ul>\n<p>Nothing helped, I still get this exception. What am I misunderstanding in concept of <code>@StepScope</code>?    How can I store some state for particular step execution?</p>\n<p>I read <a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/step.html#step-scope\" rel=\"nofollow noreferrer\">this</a>, <a href=\"https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/core/configuration/annotation/StepScope.html\" rel=\"nofollow noreferrer\">this</a> and even <a href=\"https://www.manning.com/books/spring-batch-in-action\" rel=\"nofollow noreferrer\">this</a>, but neither helped me to understand it.</p>\n"},{"tags":["java","aop","aspectj","tapestry"],"answers":[{"tags":[],"owner":{"account_id":225273,"reputation":1264,"user_id":485671,"display_name":"ramnivas"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1294093482,"creation_date":1294093482,"answer_id":4588953,"question_id":4588563,"body_markdown":"You are advising the aspect&#39;s constructor due to the unrestricted `execution(*.new(..))` part of the pointcut. When the aspect is being instantiated, the advice doesn&#39;t have an instance of the aspect, hence the error. You should be able to fix this by adding `!within([package of].TraceAspect)`.","title":"NoAspectBoundException with aspectj and tapestry 5","body":"<p>You are advising the aspect's constructor due to the unrestricted <code>execution(*.new(..))</code> part of the pointcut. When the aspect is being instantiated, the advice doesn't have an instance of the aspect, hence the error. You should be able to fix this by adding <code>!within([package of].TraceAspect)</code>.</p>\n"},{"tags":[],"owner":{"account_id":252212,"reputation":549,"user_id":530100,"display_name":"Howard M. Lewis Ship"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1297432427,"creation_date":1297432427,"answer_id":4969778,"question_id":4588563,"body_markdown":"I think we are having a conflict of AOP.  AspectJ has done something to the code, and then Tapestry comes along and does something else ... including ignoring existing Class constructors on the component class and adding its own.  I&#39;m not sure how to get the two working together.","title":"NoAspectBoundException with aspectj and tapestry 5","body":"<p>I think we are having a conflict of AOP.  AspectJ has done something to the code, and then Tapestry comes along and does something else ... including ignoring existing Class constructors on the component class and adding its own.  I'm not sure how to get the two working together.</p>\n"},{"tags":[],"owner":{"account_id":5638871,"reputation":331,"user_id":4463466,"display_name":"Payam Soudachi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665752899,"creation_date":1665752899,"answer_id":74069731,"question_id":4588563,"body_markdown":"I know it is too late to answer this question. But as I understand it&#39;s better to don&#39;t use aspectj with the tapestry. If you want to use it you must not define the @Aspect class as a tapestry component. Just move the class to another path (anywhere except the pages package).","title":"NoAspectBoundException with aspectj and tapestry 5","body":"<p>I know it is too late to answer this question. But as I understand it's better to don't use aspectj with the tapestry. If you want to use it you must not define the @Aspect class as a tapestry component. Just move the class to another path (anywhere except the pages package).</p>\n"}],"owner":{"account_id":49496,"reputation":12158,"user_id":147373,"accept_rate":80,"display_name":"Casey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2671,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":4969778,"answer_count":3,"score":0,"last_activity_date":1665752899,"creation_date":1294090301,"question_id":4588563,"body_markdown":"I have a web project built with Tapestry 5.2.1. I have a simple logging aspect that I was using for tracing on this application. Everything was working fine until I started refactoring parts of the application and attempted to deploy it.\r\n\r\nWhen I deploy the application, no matter what page I attempt to go to I get the following exception:\r\n\r\n    Caused by: java.lang.RuntimeException: Exception assembling root component of page Index: Exception while initializing TraceAspect: org.aspectj.lang.NoAspectBoundException: TraceAspect\r\n    \tat org.apache.tapestry5.internal.pageload.ComponentAssemblerImpl.performAssembleRootComponent(ComponentAssemblerImpl.java:124)\r\n    \tat org.apache.tapestry5.internal.pageload.ComponentAssemblerImpl.access$000(ComponentAssemblerImpl.java:38)\r\n    \tat org.apache.tapestry5.internal.pageload.ComponentAssemblerImpl$1.invoke(ComponentAssemblerImpl.java:82)\r\n    \tat org.apache.tapestry5.internal.pageload.ComponentAssemblerImpl$1.invoke(ComponentAssemblerImpl.java:79)\r\n    \tat org.apache.tapestry5.ioc.internal.OperationTrackerImpl.invoke(OperationTrackerImpl.java:65)\r\n    \t... 73 more\r\n    Caused by: org.aspectj.lang.NoAspectBoundException: Exception while initializing TraceAspect: org.aspectj.lang.NoAspectBoundException: TraceAspect\r\n    \tat TraceAspect.aspectOf(TraceAspect.aj:1)\r\n    \tat com.wex.rrt.wrightweb.reportrequest.webapp.pages.Index.initializer(Index.java:3)\r\n    \tat com.wex.rrt.wrightweb.reportrequest.webapp.pages.Index.&lt;init&gt;(Index.java)\r\n    \tat $Instantiator_12d4da06f67.newInstance($Instantiator_12d4da06f67.java)\r\n    \tat org.apache.tapestry5.internal.structure.InternalComponentResourcesImpl.&lt;init&gt;(InternalComponentResourcesImpl.java:146)\r\n    \tat org.apache.tapestry5.internal.structure.ComponentPageElementImpl.&lt;init&gt;(ComponentPageElementImpl.java:593)\r\n    \tat org.apache.tapestry5.internal.structure.ComponentPageElementImpl.&lt;init&gt;(ComponentPageElementImpl.java:609)\r\n    \tat org.apache.tapestry5.internal.pageload.ComponentAssemblerImpl.performAssembleRootComponent(ComponentAssemblerImpl.java:93)\r\n    \t... 77 more\r\n    Caused by: org.aspectj.lang.NoAspectBoundException: TraceAspect\r\n    \tat TraceAspect.aspectOf(TraceAspect.aj:1)\r\n    \tat AbstractLoggingAspect.&lt;init&gt;(AbstractLoggingAspect.aj:7)\r\n    \tat TraceAspect.&lt;init&gt;(TraceAspect.aj:12)\r\n    \tat TraceAspect.ajc$postClinit(TraceAspect.aj:1)\r\n    \tat TraceAspect.&lt;clinit&gt;(TraceAspect.aj:1)\r\n    \t... 84 more\r\n\r\nMy aspect has remained unchanged and is this:\r\n\r\n    @Aspect\r\n    public class TraceAspect {\r\n    \r\n    \tLogger logger = Logger.getLogger(&quot;trace&quot;);\r\n    \t\r\n    \tpublic TraceAspect() {\r\n    \t\tlogger.setLevel(Level.ALL);\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Will log every execution of\r\n    \t * &lt;ul&gt;\r\n    \t * &lt;li&gt;doEverything&lt;/li&gt;\r\n    \t * &lt;li&gt;doSomething&lt;/li&gt;\r\n    \t * &lt;/ul&gt;\r\n    \t * excluding any test classes.\r\n    \t */\r\n    \t@Pointcut(&quot;(execution(public void *(..)) || execution(*.new(..))) &amp;&amp; !within(*Test) !within(com.aspects.*)&quot;)\r\n    \tprotected void logging() {\r\n    \t}\r\n    \r\n    \t@Around(&quot;logging()&quot;)\r\n    \tpublic void doThing(final ProceedingJoinPoint thisJoinPoint) throws Throwable {\r\n    \t\tfinal String joinPointName = thisJoinPoint.getThis().getClass().getSimpleName() + &quot;.&quot; + thisJoinPoint.getSignature().getName() + &quot;()&quot;;\r\n    \t\tlogger.info(&quot;Entering [&quot; + joinPointName + &quot;]&quot;);\r\n    \t\tthisJoinPoint.proceed();\r\n    \t\tlogger.info(&quot;Leaving  [&quot; + joinPointName + &quot;]&quot;);\r\n    \t}\r\n    }\r\n\r\nDuring compilation everything works fine. I&#39;m using the maven plugin to compile the aspects:\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.3&lt;/version&gt;\r\n    \t&lt;configuration&gt;\r\n    \t\t&lt;source&gt;1.6&lt;/source&gt;\r\n    \t\t&lt;target&gt;1.6&lt;/target&gt;\r\n    \t\t&lt;complianceLevel&gt;1.6&lt;/complianceLevel&gt;\r\n    \t&lt;/configuration&gt;\r\n    \t&lt;executions&gt;\r\n    \t\t&lt;execution&gt;\r\n    \t\t\t&lt;goals&gt;\r\n    \t\t\t\t&lt;goal&gt;compile&lt;/goal&gt; \r\n    \t\t\t\t&lt;goal&gt;test-compile&lt;/goal&gt;\r\n    \t\t\t&lt;/goals&gt;\r\n    \t\t&lt;/execution&gt;\r\n    \t&lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nI&#39;ve been working at this off and on for most of the day and haven&#39;t gotten anywhere. I&#39;m not exactly understanding the [NoAspectBoundException][1]. It would seem that the compiler is not weaving the aspect completely? I&#39;m new to [AspectJ][2] but I&#39;m wondering if this is something to do with [Tapestry5][3]. Although I know that Tap5 uses AOP though. \r\n\r\nAs I said, this was all working as is just fine until I moved some things into a separate tapestry custom library that is now a dependency for my web app.\r\n\r\n\r\n  [1]: http://www.eclipse.org/aspectj/doc/released/runtime-api/org/aspectj/lang/NoAspectBoundException.html\r\n  [2]: http://www.eclipse.org/aspectj/\r\n  [3]: http://tapestry.apache.org","title":"NoAspectBoundException with aspectj and tapestry 5","body":"<p>I have a web project built with Tapestry 5.2.1. I have a simple logging aspect that I was using for tracing on this application. Everything was working fine until I started refactoring parts of the application and attempted to deploy it.</p>\n\n<p>When I deploy the application, no matter what page I attempt to go to I get the following exception:</p>\n\n<pre><code>Caused by: java.lang.RuntimeException: Exception assembling root component of page Index: Exception while initializing TraceAspect: org.aspectj.lang.NoAspectBoundException: TraceAspect\n    at org.apache.tapestry5.internal.pageload.ComponentAssemblerImpl.performAssembleRootComponent(ComponentAssemblerImpl.java:124)\n    at org.apache.tapestry5.internal.pageload.ComponentAssemblerImpl.access$000(ComponentAssemblerImpl.java:38)\n    at org.apache.tapestry5.internal.pageload.ComponentAssemblerImpl$1.invoke(ComponentAssemblerImpl.java:82)\n    at org.apache.tapestry5.internal.pageload.ComponentAssemblerImpl$1.invoke(ComponentAssemblerImpl.java:79)\n    at org.apache.tapestry5.ioc.internal.OperationTrackerImpl.invoke(OperationTrackerImpl.java:65)\n    ... 73 more\nCaused by: org.aspectj.lang.NoAspectBoundException: Exception while initializing TraceAspect: org.aspectj.lang.NoAspectBoundException: TraceAspect\n    at TraceAspect.aspectOf(TraceAspect.aj:1)\n    at com.wex.rrt.wrightweb.reportrequest.webapp.pages.Index.initializer(Index.java:3)\n    at com.wex.rrt.wrightweb.reportrequest.webapp.pages.Index.&lt;init&gt;(Index.java)\n    at $Instantiator_12d4da06f67.newInstance($Instantiator_12d4da06f67.java)\n    at org.apache.tapestry5.internal.structure.InternalComponentResourcesImpl.&lt;init&gt;(InternalComponentResourcesImpl.java:146)\n    at org.apache.tapestry5.internal.structure.ComponentPageElementImpl.&lt;init&gt;(ComponentPageElementImpl.java:593)\n    at org.apache.tapestry5.internal.structure.ComponentPageElementImpl.&lt;init&gt;(ComponentPageElementImpl.java:609)\n    at org.apache.tapestry5.internal.pageload.ComponentAssemblerImpl.performAssembleRootComponent(ComponentAssemblerImpl.java:93)\n    ... 77 more\nCaused by: org.aspectj.lang.NoAspectBoundException: TraceAspect\n    at TraceAspect.aspectOf(TraceAspect.aj:1)\n    at AbstractLoggingAspect.&lt;init&gt;(AbstractLoggingAspect.aj:7)\n    at TraceAspect.&lt;init&gt;(TraceAspect.aj:12)\n    at TraceAspect.ajc$postClinit(TraceAspect.aj:1)\n    at TraceAspect.&lt;clinit&gt;(TraceAspect.aj:1)\n    ... 84 more\n</code></pre>\n\n<p>My aspect has remained unchanged and is this:</p>\n\n<pre><code>@Aspect\npublic class TraceAspect {\n\n    Logger logger = Logger.getLogger(\"trace\");\n\n    public TraceAspect() {\n        logger.setLevel(Level.ALL);\n    }\n\n    /**\n     * Will log every execution of\n     * &lt;ul&gt;\n     * &lt;li&gt;doEverything&lt;/li&gt;\n     * &lt;li&gt;doSomething&lt;/li&gt;\n     * &lt;/ul&gt;\n     * excluding any test classes.\n     */\n    @Pointcut(\"(execution(public void *(..)) || execution(*.new(..))) &amp;&amp; !within(*Test) !within(com.aspects.*)\")\n    protected void logging() {\n    }\n\n    @Around(\"logging()\")\n    public void doThing(final ProceedingJoinPoint thisJoinPoint) throws Throwable {\n        final String joinPointName = thisJoinPoint.getThis().getClass().getSimpleName() + \".\" + thisJoinPoint.getSignature().getName() + \"()\";\n        logger.info(\"Entering [\" + joinPointName + \"]\");\n        thisJoinPoint.proceed();\n        logger.info(\"Leaving  [\" + joinPointName + \"]\");\n    }\n}\n</code></pre>\n\n<p>During compilation everything works fine. I'm using the maven plugin to compile the aspects:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.3&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;1.6&lt;/source&gt;\n        &lt;target&gt;1.6&lt;/target&gt;\n        &lt;complianceLevel&gt;1.6&lt;/complianceLevel&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;compile&lt;/goal&gt; \n                &lt;goal&gt;test-compile&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>I've been working at this off and on for most of the day and haven't gotten anywhere. I'm not exactly understanding the <a href=\"http://www.eclipse.org/aspectj/doc/released/runtime-api/org/aspectj/lang/NoAspectBoundException.html\" rel=\"nofollow\">NoAspectBoundException</a>. It would seem that the compiler is not weaving the aspect completely? I'm new to <a href=\"http://www.eclipse.org/aspectj/\" rel=\"nofollow\">AspectJ</a> but I'm wondering if this is something to do with <a href=\"http://tapestry.apache.org\" rel=\"nofollow\">Tapestry5</a>. Although I know that Tap5 uses AOP though. </p>\n\n<p>As I said, this was all working as is just fine until I moved some things into a separate tapestry custom library that is now a dependency for my web app.</p>\n"},{"tags":["java","oracle"],"comments":[{"owner":{"account_id":98359,"reputation":184987,"user_id":266304,"display_name":"Alex Poole"},"score":1,"creation_date":1665688195,"post_id":74060533,"comment_id":130763700,"body_markdown":"[Something like this](https://stackoverflow.com/a/30400217/266304) may be relevant - using `select for update ... skip locked`?","body":"<a href=\"https://stackoverflow.com/a/30400217/266304\">Something like this</a> may be relevant - using <code>select for update ... skip locked</code>?"},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1665690051,"post_id":74060533,"comment_id":130764195,"body_markdown":"@AlexPoole – I just know how to spell the name of the RDBMS product correctly (&quot;Orakel&quot;, right?), so please excuse me if I am wrong here. But my understanding is that a `SELECT FOR UPDATE` without a `WHERE` clause would lock the whole table at once. If so, one thread would process all records, and the other threads will not see even one – until the lock is released and they will see them all (or is the latter scenario prevented by the `… SKIP LOCKED` clause you mentioned?).","body":"@AlexPoole – I just know how to spell the name of the RDBMS product correctly (&quot;Orakel&quot;, right?), so please excuse me if I am wrong here. But my understanding is that a <code>SELECT FOR UPDATE</code> without a <code>WHERE</code> clause would lock the whole table at once. If so, one thread would process all records, and the other threads will not see even one – until the lock is released and they will see them all (or is the latter scenario prevented by the <code>… SKIP LOCKED</code> clause you mentioned?)."},{"owner":{"account_id":98359,"reputation":184987,"user_id":266304,"display_name":"Alex Poole"},"score":0,"creation_date":1665691781,"post_id":74060533,"comment_id":130764660,"body_markdown":"@tquadrat - if one thread locked all rows then the second would skip them all and do nothing; but I don&#39;t think that&#39;s what would happen. The table wouldn&#39;t be locked, rows would be locked as they are fetched, so each thread would lock `fetchsize` rows at a time, which could be interleaved. I believe... However, without a `where` or perhaps more importantly an `order by`, there&#39;s nothing stopping one thread processing rows the other has read and then released (when it committed/rolled back/closed its connection).","body":"@tquadrat - if one thread locked all rows then the second would skip them all and do nothing; but I don&#39;t think that&#39;s what would happen. The table wouldn&#39;t be locked, rows would be locked as they are fetched, so each thread would lock <code>fetchsize</code> rows at a time, which could be interleaved. I believe... However, without a <code>where</code> or perhaps more importantly an <code>order by</code>, there&#39;s nothing stopping one thread processing rows the other has read and then released (when it committed/rolled back/closed its connection)."},{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":0,"creation_date":1665731298,"post_id":74060533,"comment_id":130771081,"body_markdown":"Processing millions of rows without a mechanism taking note of what has been processed is a potential open door to data corruption, ... think about software bug, hardware failure, network down, out of DB tmp space ,.. during the processing forcing you to relaunch... how to handle correctly without a recording of what has already been processed?","body":"Processing millions of rows without a mechanism taking note of what has been processed is a potential open door to data corruption, ... think about software bug, hardware failure, network down, out of DB tmp space ,.. during the processing forcing you to relaunch... how to handle correctly without a recording of what has already been processed?"}],"answers":[{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665752730,"creation_date":1665689750,"answer_id":74060938,"question_id":74060533,"body_markdown":"If I got you right, you have a SQL query like this:\r\n\r\n```SQL\r\nSELECT * FROM mytable\r\n```\r\nthat is executed in a method `doProcess()`, running in several threads.\r\n\r\nFrom all I know about RDBMS (and that is not that much), `SELECT` does not lock the records it reads. That means that all instances of `doProcess()` will get the same set of records and will process them – with the result, that each record is processed multiple times.\r\n\r\nTo get out of this, think about this structure (*THIS IS NOT JAVA CODE!*):\r\n\r\n```\r\nclass Processor implements Runnable\r\n{\r\n  private final MyRecord m_Record;\r\n  public Processor( final MyRecord record ) { m_Record = record; }\r\n  final void run() { doProcess(); }\r\n}\r\n\r\n…\r\nvar resultSet = executeQuery( &quot;SELECT * FROM myTable&quot; );\r\nwhile( resultSet.hasMoreEntries() )\r\n{\r\n    var record = resultSet.getEntry();\r\n    var processor = new Processor( record );\r\n    threadPool.execute( processor );\r\n}\r\n```\r\nTo implement this in *real* Java, have a look to `java.sql.ResultSet`, `Executors` and alike. You also need to create a `MyRecord` type that is initialised from the `ResultSet`.\r\n\r\nBasically, you have one single thread that is reading the data from the database (and does nothing more!), then it pulls another thread from a thread pool that does the processing of a single record and triggers it.","title":"Oracle and Java : How to avoid two different threads read the same rows from table contains million records","body":"<p>If I got you right, you have a SQL query like this:</p>\n<pre><code>SELECT * FROM mytable\n</code></pre>\n<p>that is executed in a method <code>doProcess()</code>, running in several threads.</p>\n<p>From all I know about RDBMS (and that is not that much), <code>SELECT</code> does not lock the records it reads. That means that all instances of <code>doProcess()</code> will get the same set of records and will process them – with the result, that each record is processed multiple times.</p>\n<p>To get out of this, think about this structure (<em>THIS IS NOT JAVA CODE!</em>):</p>\n<pre><code>class Processor implements Runnable\n{\n  private final MyRecord m_Record;\n  public Processor( final MyRecord record ) { m_Record = record; }\n  final void run() { doProcess(); }\n}\n\n…\nvar resultSet = executeQuery( &quot;SELECT * FROM myTable&quot; );\nwhile( resultSet.hasMoreEntries() )\n{\n    var record = resultSet.getEntry();\n    var processor = new Processor( record );\n    threadPool.execute( processor );\n}\n</code></pre>\n<p>To implement this in <em>real</em> Java, have a look to <code>java.sql.ResultSet</code>, <code>Executors</code> and alike. You also need to create a <code>MyRecord</code> type that is initialised from the <code>ResultSet</code>.</p>\n<p>Basically, you have one single thread that is reading the data from the database (and does nothing more!), then it pulls another thread from a thread pool that does the processing of a single record and triggers it.</p>\n"},{"tags":[],"owner":{"account_id":112379,"reputation":38375,"user_id":296452,"accept_rate":42,"display_name":"Andreas Wederbrand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665690406,"creation_date":1665690406,"answer_id":74061038,"question_id":74060533,"body_markdown":"You could read the rows from one thread but pass each Row, as read from a ResultSet, to a pool of worker threads for faster processing.\r\n\r\nEach row will be processed exactly once and you can configure your pool for maximum throughput.","title":"Oracle and Java : How to avoid two different threads read the same rows from table contains million records","body":"<p>You could read the rows from one thread but pass each Row, as read from a ResultSet, to a pool of worker threads for faster processing.</p>\n<p>Each row will be processed exactly once and you can configure your pool for maximum throughput.</p>\n"}],"owner":{"account_id":446874,"reputation":2881,"user_id":840184,"accept_rate":58,"display_name":"VJS"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1665752730,"creation_date":1665687427,"question_id":74060533,"body_markdown":"How to avoid two different java threads read the same rows from table contains million records. \r\n\r\nI have to process million records and there wont be any where clause in the query (as need to process all the available records) \r\n\r\nHow can i do it ? Not using any java framework","title":"Oracle and Java : How to avoid two different threads read the same rows from table contains million records","body":"<p>How to avoid two different java threads read the same rows from table contains million records.</p>\n<p>I have to process million records and there wont be any where clause in the query (as need to process all the available records)</p>\n<p>How can i do it ? Not using any java framework</p>\n"},{"tags":["java","nashorn"],"answers":[{"tags":[],"owner":{"account_id":44768,"reputation":4435,"user_id":131552,"display_name":"Attila Szegedi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665751790,"creation_date":1665751790,"answer_id":74069515,"question_id":72939616,"body_markdown":"Nashorn doesn&#39;t support this directly, however you can do something yourself using the [Java instrumentation API][1], and implementing a `ClassFileTransformer`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.instrument/java/lang/instrument/package-summary.html","title":"Nashorn--Only one class is used to get its bytecode","body":"<p>Nashorn doesn't support this directly, however you can do something yourself using the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.instrument/java/lang/instrument/package-summary.html\" rel=\"nofollow noreferrer\">Java instrumentation API</a>, and implementing a <code>ClassFileTransformer</code>.</p>\n"}],"owner":{"account_id":25781669,"reputation":1,"user_id":19527195,"display_name":"BangBang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665751790,"creation_date":1657547249,"question_id":72939616,"body_markdown":"Nashorn,&quot;Java.extend function returns a type object for a subclass of the specified Java class (or implementation of the specified interface) that acts as a script-to-Java adapter for it.&quot;\r\nI passed Java.extend(xxx,{xxx: function(){}}).class get a class object,and I want to write its bytecode on a file.\r\nWhat should I do?","title":"Nashorn--Only one class is used to get its bytecode","body":"<p>Nashorn,&quot;Java.extend function returns a type object for a subclass of the specified Java class (or implementation of the specified interface) that acts as a script-to-Java adapter for it.&quot;\nI passed Java.extend(xxx,{xxx: function(){}}).class get a class object,and I want to write its bytecode on a file.\nWhat should I do?</p>\n"},{"tags":["java","eclipse","gradle"],"comments":[{"owner":{"account_id":5357611,"reputation":188,"user_id":4269881,"display_name":"Emma Atkinson"},"score":0,"creation_date":1676973554,"post_id":74069455,"comment_id":133240228,"body_markdown":"I have the same problem. My investigations are settling on this being an Implementation Conflict where there are two &quot;capabilities&quot; at the the same version that are able to satisfy the w3c dependency. Gradle provides a cure.  I just have work out if there is an out of the box fix or if I have to craft something in DSL for the ResolutionStrategy. I am new to both. Have you tried a build scan?","body":"I have the same problem. My investigations are settling on this being an Implementation Conflict where there are two &quot;capabilities&quot; at the the same version that are able to satisfy the w3c dependency. Gradle provides a cure.  I just have work out if there is an out of the box fix or if I have to craft something in DSL for the ResolutionStrategy. I am new to both. Have you tried a build scan?"},{"owner":{"account_id":12256412,"reputation":107,"user_id":8945327,"display_name":"CT95"},"score":1,"creation_date":1677166443,"post_id":74069455,"comment_id":133287919,"body_markdown":"I solved my problem by dropping `jOpenDocument` and adopting `odfdom`. I am quite happy with my choice. Odfdom worked out of the box in my modular project by adding the dependency to the Gradle build system. I have been suggested in the jOpenDocument discussion group to include the library as source code, but I could not make it work. The time I spent to refactor the existing code to use odfdom was much less that trying to fix jOpenDocument (without success).","body":"I solved my problem by dropping <code>jOpenDocument</code> and adopting <code>odfdom</code>. I am quite happy with my choice. Odfdom worked out of the box in my modular project by adding the dependency to the Gradle build system. I have been suggested in the jOpenDocument discussion group to include the library as source code, but I could not make it work. The time I spent to refactor the existing code to use odfdom was much less that trying to fix jOpenDocument (without success)."},{"owner":{"account_id":5357611,"reputation":188,"user_id":4269881,"display_name":"Emma Atkinson"},"score":0,"creation_date":1677404323,"post_id":74069455,"comment_id":133327831,"body_markdown":"Congrats. I am getting the problem with both jOpenDocument and odfdom.  I now think it is a module problem or a byproduct of the other version upgrades that Gradle applied elsewhere in the build.","body":"Congrats. I am getting the problem with both jOpenDocument and odfdom.  I now think it is a module problem or a byproduct of the other version upgrades that Gradle applied elsewhere in the build."},{"owner":{"account_id":12256412,"reputation":107,"user_id":8945327,"display_name":"CT95"},"score":1,"creation_date":1677572654,"post_id":74069455,"comment_id":133359549,"body_markdown":"I suggest to also double check you run configurations. I work in Intellij and for some reason I do not recall my run configuration caused problems. After fixing that, odfdom worked out of the box. This is the dependency I used: `implementation &#39;org.odftoolkit:odfdom-java:0.11.0&#39;`","body":"I suggest to also double check you run configurations. I work in Intellij and for some reason I do not recall my run configuration caused problems. After fixing that, odfdom worked out of the box. This is the dependency I used: <code>implementation &#39;org.odftoolkit:odfdom-java:0.11.0&#39;</code>"},{"owner":{"account_id":5357611,"reputation":188,"user_id":4269881,"display_name":"Emma Atkinson"},"score":0,"creation_date":1678699743,"post_id":74069455,"comment_id":133577491,"body_markdown":"Odfdom is not yet modularized. There is an issue on this. My build uses a plug-in that reassembles the classpath packages into a module for use with jlink. So, I have 2 modules exporting the same w3c package. Java does not allow this &amp; now enforces this rule. I haven&#39;t yet worked out how to exercise package level control in Gradle configurations. I don&#39;t know enough to say whether a solution exists. I think I&#39;ll put this on the back burner awaiting inspiration.","body":"Odfdom is not yet modularized. There is an issue on this. My build uses a plug-in that reassembles the classpath packages into a module for use with jlink. So, I have 2 modules exporting the same w3c package. Java does not allow this &amp; now enforces this rule. I haven&#39;t yet worked out how to exercise package level control in Gradle configurations. I don&#39;t know enough to say whether a solution exists. I think I&#39;ll put this on the back burner awaiting inspiration."},{"owner":{"account_id":5357611,"reputation":188,"user_id":4269881,"display_name":"Emma Atkinson"},"score":0,"creation_date":1678700039,"post_id":74069455,"comment_id":133577588,"body_markdown":"Before I do I will try your suggestion about excluding org.w3c.dom from odftoolkit / jOpendocument. I should have done this a while ago, but I wanted to understand what this was doing. And so I dived down the rabbit hole.","body":"Before I do I will try your suggestion about excluding org.w3c.dom from odftoolkit / jOpendocument. I should have done this a while ago, but I wanted to understand what this was doing. And so I dived down the rabbit hole."}],"owner":{"account_id":12256412,"reputation":107,"user_id":8945327,"display_name":"CT95"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":335,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665751457,"creation_date":1665751457,"question_id":74069455,"body_markdown":"I have a modular project that requires `jOpenDocument` library. The problem is that `jOpenDocument` comes with `org.w3c.dom`, which conflicts with the same dependency introduced by `java.xml`, so I get the following errors:\r\n```\r\nerror: the unnamed module reads package org.w3c.dom from both jOpenDocument and java.xml\r\nerror: module javafx.graphicsEmpty reads package org.w3c.dom from both jOpenDocument and java.xml\r\nerror: module javafx.baseEmpty reads package org.w3c.dom from both jOpenDocument and java.xml\r\nerror: module jOpenDocument reads package org.w3c.dom from both jOpenDocument and java.xml\r\nerror: module javafx.controlsEmpty reads package org.w3c.dom from both jOpenDocument and java.xml\r\nerror: module org.xerial.sqlitejdbc reads package org.w3c.dom from both java.xml and jOpenDocument\r\n```\r\nI tried to exclude the dependency from `jOpenDocument`, there is a number of useful links for that:\r\nhttps://stackoverflow.com/questions/30942825/exclude-package-from-gradle-dependency,\r\nhttps://tomgregory.com/how-to-exclude-gradle-dependencies/ and https://stackoverflow.com/questions/30237435/how-to-exclude-a-package-from-a-transitive-dependency-of-external-jar-included-i but no success. I can imagine there is a state of the art solution for that but I cannot see it. Can anyone point to some direction?\r\n\r\nHere is my build.gradle\r\n```\r\nplugins {\r\n  \tid &#39;application&#39;\r\n  \tid &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.13&#39;\r\n  \tid &#39;org.javamodularity.moduleplugin&#39; version &#39;1.8.9&#39;\r\n  \tid &quot;org.beryx.jlink&quot; version &quot;2.25.0&quot;\r\n  \tid &#39;eclipse&#39;\r\n}\r\n\r\nsourceCompatibility = &quot;11&quot;\r\ntargetCompatibility = &quot;11&quot;\r\n\r\njavafx {\t\r\n    version = 14\r\n    modules = [ &#39;javafx.controls&#39;,&#39;javafx.fxml&#39;]\r\n}\r\n\r\napplication {\r\n    mainModule = &quot;Pervap3&quot; \r\n    mainClass = &quot;application.Main&quot;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n\t\r\n\timplementation &#39;org.glassfish:jakarta.json:2.0.1&#39;\r\n\t\r\n\timplementation(&#39;org.jopendocument:jOpenDocument:1.3&#39;) {\r\n        exclude group: &#39;org.w3c.dom&#39;\r\n    }\r\n    \r\n\timplementation &#39;org.xerial:sqlite-jdbc:3.39.3.0&#39;\t\r\n}\r\n```\r\nFor completeness, I am working in Eclipse 2022-06 which does not seem to integrate so well with Gradle. After some struggle I found that the `eclipse plugin` is required for a total merge of Gradle and Eclipse. Introducing that I managed to obtain the &quot;Project and External Dependencies&quot; item in the eclipse project explorer, which previously was not appearing. Now the project tree looks better, the dependencies managed by Gradle are now listed, but Eclipse still issues the &quot;Type not accessible&quot; error in my Java code and I am not sure why.\r\n\r\n\r\n","title":"How to exclude module/package dependency org.w3c.dom from jOpenDocument with Gradle","body":"<p>I have a modular project that requires <code>jOpenDocument</code> library. The problem is that <code>jOpenDocument</code> comes with <code>org.w3c.dom</code>, which conflicts with the same dependency introduced by <code>java.xml</code>, so I get the following errors:</p>\n<pre><code>error: the unnamed module reads package org.w3c.dom from both jOpenDocument and java.xml\nerror: module javafx.graphicsEmpty reads package org.w3c.dom from both jOpenDocument and java.xml\nerror: module javafx.baseEmpty reads package org.w3c.dom from both jOpenDocument and java.xml\nerror: module jOpenDocument reads package org.w3c.dom from both jOpenDocument and java.xml\nerror: module javafx.controlsEmpty reads package org.w3c.dom from both jOpenDocument and java.xml\nerror: module org.xerial.sqlitejdbc reads package org.w3c.dom from both java.xml and jOpenDocument\n</code></pre>\n<p>I tried to exclude the dependency from <code>jOpenDocument</code>, there is a number of useful links for that:\n<a href=\"https://stackoverflow.com/questions/30942825/exclude-package-from-gradle-dependency\">Exclude Package From Gradle Dependency</a>,\n<a href=\"https://tomgregory.com/how-to-exclude-gradle-dependencies/\" rel=\"nofollow noreferrer\">https://tomgregory.com/how-to-exclude-gradle-dependencies/</a> and <a href=\"https://stackoverflow.com/questions/30237435/how-to-exclude-a-package-from-a-transitive-dependency-of-external-jar-included-i\">How to exclude a package from a transitive dependency of external jar included in build.gradle?</a> but no success. I can imagine there is a state of the art solution for that but I cannot see it. Can anyone point to some direction?</p>\n<p>Here is my build.gradle</p>\n<pre><code>plugins {\n    id 'application'\n    id 'org.openjfx.javafxplugin' version '0.0.13'\n    id 'org.javamodularity.moduleplugin' version '1.8.9'\n    id &quot;org.beryx.jlink&quot; version &quot;2.25.0&quot;\n    id 'eclipse'\n}\n\nsourceCompatibility = &quot;11&quot;\ntargetCompatibility = &quot;11&quot;\n\njavafx {    \n    version = 14\n    modules = [ 'javafx.controls','javafx.fxml']\n}\n\napplication {\n    mainModule = &quot;Pervap3&quot; \n    mainClass = &quot;application.Main&quot;\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    \n    implementation 'org.glassfish:jakarta.json:2.0.1'\n    \n    implementation('org.jopendocument:jOpenDocument:1.3') {\n        exclude group: 'org.w3c.dom'\n    }\n    \n    implementation 'org.xerial:sqlite-jdbc:3.39.3.0'    \n}\n</code></pre>\n<p>For completeness, I am working in Eclipse 2022-06 which does not seem to integrate so well with Gradle. After some struggle I found that the <code>eclipse plugin</code> is required for a total merge of Gradle and Eclipse. Introducing that I managed to obtain the &quot;Project and External Dependencies&quot; item in the eclipse project explorer, which previously was not appearing. Now the project tree looks better, the dependencies managed by Gradle are now listed, but Eclipse still issues the &quot;Type not accessible&quot; error in my Java code and I am not sure why.</p>\n"},{"tags":["java","xml","spring","spring-boot","migration"],"comments":[{"owner":{"account_id":26564177,"reputation":36,"user_id":20191548,"display_name":"AbhishekVinayak"},"score":0,"creation_date":1665751711,"post_id":74069415,"comment_id":130777121,"body_markdown":"https://stackoverflow.com/questions/5476125/migrate-spring-app-from-xml-to-annotations","body":"<a href=\"https://stackoverflow.com/questions/5476125/migrate-spring-app-from-xml-to-annotations\" title=\"migrate spring app from xml to annotations\">stackoverflow.com/questions/5476125/&hellip;</a>"},{"owner":{"account_id":26564177,"reputation":36,"user_id":20191548,"display_name":"AbhishekVinayak"},"score":0,"creation_date":1665751826,"post_id":74069415,"comment_id":130777160,"body_markdown":"Here is a [link](https://stackoverflow.com/questions/5476125/migrate-spring-app-from-xml-to-annotations) to the stack overflow answer","body":"Here is a <a href=\"https://stackoverflow.com/questions/5476125/migrate-spring-app-from-xml-to-annotations\">link</a> to the stack overflow answer"},{"owner":{"account_id":26564177,"reputation":36,"user_id":20191548,"display_name":"AbhishekVinayak"},"score":0,"creation_date":1665752183,"post_id":74069415,"comment_id":130777288,"body_markdown":"Here is [documentation](https://stackoverflow.com/questions/5476125/migrate-spring-app-from-xml-to-annotations) you can follow","body":"Here is <a href=\"https://stackoverflow.com/questions/5476125/migrate-spring-app-from-xml-to-annotations\">documentation</a> you can follow"},{"owner":{"account_id":15539213,"reputation":346,"user_id":11210547,"display_name":"P&#233;ter Bar&#225;th"},"score":0,"creation_date":1665752273,"post_id":74069415,"comment_id":130777321,"body_markdown":"Thank you for your comment but I know and use this. The question is, I need taking the annotations and removing beans from xml files manually. Or, are there any forgotten technic which do this automatically?","body":"Thank you for your comment but I know and use this. The question is, I need taking the annotations and removing beans from xml files manually. Or, are there any forgotten technic which do this automatically?"},{"owner":{"account_id":15539213,"reputation":346,"user_id":11210547,"display_name":"P&#233;ter Bar&#225;th"},"score":0,"creation_date":1665752865,"post_id":74069415,"comment_id":130777613,"body_markdown":"OR if not automatically but faster way.","body":"OR if not automatically but faster way."}],"owner":{"account_id":15539213,"reputation":346,"user_id":11210547,"display_name":"P&#233;ter Bar&#225;th"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":333,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665751340,"creation_date":1665751340,"question_id":74069415,"body_markdown":"I have to migrate an xml-based Spring application to annotation-based one. I just started to migrate the beans. \r\nNot a hard task. If I see bean like that one:\r\n\r\n    &lt;bean id=&quot;first-big-service-bean&quot;\r\n              class=&quot;com.place.place.FirstBigService.java&quot;&gt;\r\n            &lt;property name=&quot;dao1&quot; ref=&quot;dao1-name&quot;&gt;&lt;/property&gt;\r\n            &lt;property name=&quot;dao2&quot; ref=&quot;dao2-name&quot;&gt;&lt;/property&gt;\r\n            &lt;property name=&quot;dao3&quot; ref=&quot;dao3-name&quot;&gt;&lt;/property&gt;\r\n            &lt;property name=&quot;transformer1&quot; ref=&quot;transformer1-name&quot;&gt;&lt;/property&gt;\r\n            ...\r\n            &lt;property name=&quot;serviceX&quot; ref=&quot;serviceX-name&quot;&gt;&lt;/property&gt;\r\n     &lt;/bean&gt;\r\n\r\n 1. I just put `@Repository` annotation above the daos class, and\r\n    `@Service` annotation above services, transformers etc, etc. \r\n 2. After that, I put `@Autowired` annotation where I find these beans as a\r\n    property.  \r\n 3. After that I just remove all xml configured beans and\r\n    aliases from xml files.\r\n\r\nEasy, right?\r\n\r\nThe only problem with that is there are thousands of beans and 30-40 application context xml file. One is for the application and the others for tests.\r\n\r\nAs I see, it will be weeks...\r\n\r\nI&#39;m just wondering, are there any solution to do that automatically? If no, how can I do that on faster way?\r\n\r\nI&#39;m using IntelliJ and I use &quot;Find in Files (Ctrls+Shift+F)&quot; tool but there are a lot of cases where the beans aren&#39;t same than other. For example, the bean names are different or there is one or more additional whitespace character. So, this tool can&#39;t save time effectively. \r\n\r\nOther problem: When I search where is used the bean, I get hundreds of places. So, I have to put the `@Autowired` annotation one by one. The first problem with that, my head will explode but the bigger problem is that, if I miss one or two, it will be hard to find the remaining properties. \r\nBesides, the most of beans is prototype scoped. That means if I miss `@Autowired` annotation I will face errors when the property is injected and not at the creation of context, right? (Maybe I&#39;m wrong)\r\nWhat do you think? Can I miss this robot work? \r\n\r\n","title":"How can I migrate xml-based spring app to annotation-based automatically?","body":"<p>I have to migrate an xml-based Spring application to annotation-based one. I just started to migrate the beans.\nNot a hard task. If I see bean like that one:</p>\n<pre><code>&lt;bean id=&quot;first-big-service-bean&quot;\n          class=&quot;com.place.place.FirstBigService.java&quot;&gt;\n        &lt;property name=&quot;dao1&quot; ref=&quot;dao1-name&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;dao2&quot; ref=&quot;dao2-name&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;dao3&quot; ref=&quot;dao3-name&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;transformer1&quot; ref=&quot;transformer1-name&quot;&gt;&lt;/property&gt;\n        ...\n        &lt;property name=&quot;serviceX&quot; ref=&quot;serviceX-name&quot;&gt;&lt;/property&gt;\n &lt;/bean&gt;\n</code></pre>\n<ol>\n<li>I just put <code>@Repository</code> annotation above the daos class, and\n<code>@Service</code> annotation above services, transformers etc, etc.</li>\n<li>After that, I put <code>@Autowired</code> annotation where I find these beans as a\nproperty.</li>\n<li>After that I just remove all xml configured beans and\naliases from xml files.</li>\n</ol>\n<p>Easy, right?</p>\n<p>The only problem with that is there are thousands of beans and 30-40 application context xml file. One is for the application and the others for tests.</p>\n<p>As I see, it will be weeks...</p>\n<p>I'm just wondering, are there any solution to do that automatically? If no, how can I do that on faster way?</p>\n<p>I'm using IntelliJ and I use &quot;Find in Files (Ctrls+Shift+F)&quot; tool but there are a lot of cases where the beans aren't same than other. For example, the bean names are different or there is one or more additional whitespace character. So, this tool can't save time effectively.</p>\n<p>Other problem: When I search where is used the bean, I get hundreds of places. So, I have to put the <code>@Autowired</code> annotation one by one. The first problem with that, my head will explode but the bigger problem is that, if I miss one or two, it will be hard to find the remaining properties.\nBesides, the most of beans is prototype scoped. That means if I miss <code>@Autowired</code> annotation I will face errors when the property is injected and not at the creation of context, right? (Maybe I'm wrong)\nWhat do you think? Can I miss this robot work?</p>\n"},{"tags":["java","tomcat","nashorn"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1665493154,"post_id":74025622,"comment_id":130709340,"body_markdown":"Does this answer your question? [How to use Nashorn in Java 15 and later?](https://stackoverflow.com/questions/65265629/how-to-use-nashorn-in-java-15-and-later)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/65265629/how-to-use-nashorn-in-java-15-and-later\">How to use Nashorn in Java 15 and later?</a>"}],"answers":[{"tags":[],"owner":{"account_id":44768,"reputation":4435,"user_id":131552,"display_name":"Attila Szegedi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665751217,"creation_date":1665751217,"answer_id":74069391,"question_id":74025622,"body_markdown":"You need to add ASM 7.3.1 jars as well that Nashorn depends on, at least `asm-7.3.1.jar`, `asm-commons-7.3.1.jar`, `asm-tree-7.3.1.jar`, and `asm-util-7.3.1.jar`, you can also fetch them from Maven Central.","title":"How to add the Nashorn module to Tomcat 10","body":"<p>You need to add ASM 7.3.1 jars as well that Nashorn depends on, at least <code>asm-7.3.1.jar</code>, <code>asm-commons-7.3.1.jar</code>, <code>asm-tree-7.3.1.jar</code>, and <code>asm-util-7.3.1.jar</code>, you can also fetch them from Maven Central.</p>\n"}],"owner":{"account_id":25359555,"reputation":3,"user_id":19175093,"display_name":"Simon42"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74069391,"answer_count":1,"score":0,"last_activity_date":1665751217,"creation_date":1665479203,"question_id":74025622,"body_markdown":"I want to add the Nashorn module to my Tomcat 10, but I haven&#39;t found a way how to do that. I am using OpenJDK 19. I downloaded the Nashorn jar file from here: https://search.maven.org/artifact/org.openjdk.nashorn/nashorn-core/15.4/jar. I added it to the lib directory of my Tomcat server, but it didn&#39;t work.\r\n\r\nSo maybe someone of you can help me how one can add the Nashorn module to Tomcat 10.\r\n\r\n","title":"How to add the Nashorn module to Tomcat 10","body":"<p>I want to add the Nashorn module to my Tomcat 10, but I haven't found a way how to do that. I am using OpenJDK 19. I downloaded the Nashorn jar file from here: <a href=\"https://search.maven.org/artifact/org.openjdk.nashorn/nashorn-core/15.4/jar\" rel=\"nofollow noreferrer\">https://search.maven.org/artifact/org.openjdk.nashorn/nashorn-core/15.4/jar</a>. I added it to the lib directory of my Tomcat server, but it didn't work.</p>\n<p>So maybe someone of you can help me how one can add the Nashorn module to Tomcat 10.</p>\n"},{"tags":["java","mysql","jdbc","unix-socket"],"comments":[{"owner":{"account_id":34192,"reputation":3560,"user_id":96389,"accept_rate":75,"display_name":"setzamora"},"score":0,"creation_date":1285174366,"post_id":3771594,"comment_id":3992095,"body_markdown":"You might want to port MySQL C API http://dev.mysql.com/doc/refman/5.0/en/c.html to Java using Swig http://www.swig.org/. If you have the time and if it&#39;s all worth it :)","body":"You might want to port MySQL C API <a href=\"http://dev.mysql.com/doc/refman/5.0/en/c.html\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/refman/5.0/en/c.html</a> to Java using Swig <a href=\"http://www.swig.org/\" rel=\"nofollow noreferrer\">swig.org</a>. If you have the time and if it&#39;s all worth it :)"},{"owner":{"account_id":42493,"reputation":6798,"user_id":123802,"display_name":"mdoar"},"score":1,"creation_date":1340928559,"post_id":3771594,"comment_id":19997605,"body_markdown":"I think what the original poster wanted was a MySQL JDBC connector that could use the local unix socket instead of TCP. As others pointed out, the standard JDBC connector does lots of clever stuff and unless you have confirmed that the network connection is a bottleneck you&#39;re risking premature optimization. I don&#39;t see a standard way to use sockets in the MySQL JDBC connector to do this.","body":"I think what the original poster wanted was a MySQL JDBC connector that could use the local unix socket instead of TCP. As others pointed out, the standard JDBC connector does lots of clever stuff and unless you have confirmed that the network connection is a bottleneck you&#39;re risking premature optimization. I don&#39;t see a standard way to use sockets in the MySQL JDBC connector to do this."},{"owner":{"account_id":474819,"reputation":3656,"user_id":884757,"accept_rate":83,"display_name":"ppostma1"},"score":0,"creation_date":1351896566,"post_id":3771594,"comment_id":17977796,"body_markdown":"I&#39;m thinking you&#39;re taking the same approach as I have, if you don&#39;t want the mysql server exposed to the web... use iptables and such to block the port, but local apps can still access under the firewall.","body":"I&#39;m thinking you&#39;re taking the same approach as I have, if you don&#39;t want the mysql server exposed to the web... use iptables and such to block the port, but local apps can still access under the firewall."}],"answers":[{"tags":[],"owner":{"account_id":9775,"reputation":14444,"user_id":18189,"accept_rate":80,"display_name":"MBCook"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1285174441,"creation_date":1285174441,"answer_id":3771672,"question_id":3771594,"body_markdown":"You could always take the C library and wrap it yourself. I think it supports UNIX sockets.\r\n\r\nCan I ask how you&#39;ve determined the TCP/IP overhead to be an issue? How did you narrow the problem (that I assume you&#39;re having) down to that?\r\n\r\nIs the problem just the connection overhead as opposed to the packet overhead? If establishing connections is taking too long a connection pooling library (such as the one in Apache commons) would handle that for you.","title":"Unix socket connection to MySql with Java to avoid JDBC&#39;s TCP/IP overhead?","body":"<p>You could always take the C library and wrap it yourself. I think it supports UNIX sockets.</p>\n\n<p>Can I ask how you've determined the TCP/IP overhead to be an issue? How did you narrow the problem (that I assume you're having) down to that?</p>\n\n<p>Is the problem just the connection overhead as opposed to the packet overhead? If establishing connections is taking too long a connection pooling library (such as the one in Apache commons) would handle that for you.</p>\n"},{"tags":[],"owner":{"account_id":142896,"reputation":35109,"user_id":350890,"accept_rate":100,"display_name":"Peter Tillemans"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1285174985,"creation_date":1285174985,"answer_id":3771738,"question_id":3771594,"body_markdown":"Also the mySQL JDBC driver has been polished over a long period and has several optimization tweaks , like caching of metadata. I would be surprised that the JDBC developers would have left a lot of TCP/IP overhead in the driver.\r\n\r\nGoing over JNI to the C based implementation would probably cost more in jumping to native code than can be gained from reduced TCP/IP overhead.\r\n\r\nIf you really want to cut out the TCP/IP overhead you might consider using an embedded database like sqlite, derby or hypersonic.","title":"Unix socket connection to MySql with Java to avoid JDBC&#39;s TCP/IP overhead?","body":"<p>Also the mySQL JDBC driver has been polished over a long period and has several optimization tweaks , like caching of metadata. I would be surprised that the JDBC developers would have left a lot of TCP/IP overhead in the driver.</p>\n\n<p>Going over JNI to the C based implementation would probably cost more in jumping to native code than can be gained from reduced TCP/IP overhead.</p>\n\n<p>If you really want to cut out the TCP/IP overhead you might consider using an embedded database like sqlite, derby or hypersonic.</p>\n"},{"tags":[],"owner":{"account_id":167726,"reputation":1736,"user_id":392730,"display_name":"Reboot"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1285177182,"creation_date":1285177182,"answer_id":3772063,"question_id":3771594,"body_markdown":"JDBC is only an interface specification. It does not add any TCP/IP overhead. If there is overhead it is caused by the JDBC driver. There are also JDBC drivers for in memory or file databases and don&#39;t use TCP/IP at all.\r\n\r\nThe MYSQL JDBC driver is a JDBC Type 4 driver. That means it does not use any native code to access the database. If Java has no method to access unix sockets, the driver can not use them either.[&lt;sup&gt;\\[1\\]&lt;/sup&gt;][1]\r\n\r\nIf you really want to use a unix socket maybe it is possible to use MySQL&#39;s ODBC driver which seems to supports unix sockets and then use a JDBC-ODBC bridge to access it from Java.\r\n\r\n  [1]: http://dev.mysql.com/doc/refman/5.1/en/connector-j.html\r\n","title":"Unix socket connection to MySql with Java to avoid JDBC&#39;s TCP/IP overhead?","body":"<p>JDBC is only an interface specification. It does not add any TCP/IP overhead. If there is overhead it is caused by the JDBC driver. There are also JDBC drivers for in memory or file databases and don't use TCP/IP at all.</p>\n\n<p>The MYSQL JDBC driver is a JDBC Type 4 driver. That means it does not use any native code to access the database. If Java has no method to access unix sockets, the driver can not use them either.<a href=\"http://dev.mysql.com/doc/refman/5.1/en/connector-j.html\" rel=\"nofollow noreferrer\"><sup>[1]</sup></a></p>\n\n<p>If you really want to use a unix socket maybe it is possible to use MySQL's ODBC driver which seems to supports unix sockets and then use a JDBC-ODBC bridge to access it from Java.</p>\n"},{"tags":[],"owner":{"account_id":243256,"reputation":3047,"user_id":515310,"display_name":"Christian Kohlsch&#252;tter"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1665750789,"creation_date":1305051930,"answer_id":5954614,"question_id":3771594,"body_markdown":"Just use junixsocket, https://github.com/kohlschutter/junixsocket\r\n\r\nIt&#39;s a JNI-powered library that provides access to AF_UNIX sockets using the standard Java Socket API, and also comes with a MySQL connection factory.\r\n","title":"Unix socket connection to MySql with Java to avoid JDBC&#39;s TCP/IP overhead?","body":"<p>Just use junixsocket, <a href=\"https://github.com/kohlschutter/junixsocket\" rel=\"nofollow noreferrer\">https://github.com/kohlschutter/junixsocket</a></p>\n<p>It's a JNI-powered library that provides access to AF_UNIX sockets using the standard Java Socket API, and also comes with a MySQL connection factory.</p>\n"}],"owner":{"account_id":53648,"reputation":19555,"user_id":160406,"accept_rate":51,"display_name":"Ollie Glass"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7925,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1665750789,"creation_date":1285173805,"question_id":3771594,"body_markdown":"Is it possible to make a Unix socket connection to MySql with Java to avoid JDBC&#39;s TCP/IP overhead?\r\n\r\nDoes anyone know a library (or a few libraries, perhaps) that makes this possible?","title":"Unix socket connection to MySql with Java to avoid JDBC&#39;s TCP/IP overhead?","body":"<p>Is it possible to make a Unix socket connection to MySql with Java to avoid JDBC's TCP/IP overhead?</p>\n\n<p>Does anyone know a library (or a few libraries, perhaps) that makes this possible?</p>\n"},{"tags":["java","multithreading"],"answers":[{"tags":[],"owner":{"account_id":1425811,"reputation":10732,"user_id":1349366,"display_name":"Aivean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1440053399,"creation_date":1440053399,"answer_id":32111362,"question_id":32110433,"body_markdown":"Before exiting your application execute `scheduler.shutdown()` followed by `scheduler.awaitTermination(...timeout...)` ([read more](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html#awaitTermination%28long,%20java.util.concurrent.TimeUnit%29)). Later method will do what you want: if no task is running, it will return immediately, and if task is in process, it will block until task if finished (or timeout is expired).","title":"Closing a program which uses scheduleWithFixedDelay","body":"<p>Before exiting your application execute <code>scheduler.shutdown()</code> followed by <code>scheduler.awaitTermination(...timeout...)</code> (<a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html#awaitTermination%28long,%20java.util.concurrent.TimeUnit%29\" rel=\"nofollow\">read more</a>). Later method will do what you want: if no task is running, it will return immediately, and if task is in process, it will block until task if finished (or timeout is expired).</p>\n"},{"tags":[],"owner":{"account_id":4250460,"reputation":13,"user_id":3477711,"display_name":"ZeroKool"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440059724,"creation_date":1440059724,"answer_id":32113386,"question_id":32110433,"body_markdown":"Thank you very much **Aivean** for your support..  It worked perfectly :) \r\nI believe this is what you suggested. \r\n\r\n        \r\n    Thread close = new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n\r\n                try {\r\n                    scheduler.shutdown();\r\n                    if (!scheduler.awaitTermination(60000, TimeUnit.SECONDS)) {\r\n                        System.err.println(&quot;Threads didn&#39;t finish in 60000 seconds!&quot;);\r\n                    }\r\n                } catch (InterruptedException ex) {\r\n                }\r\n\r\n                System.out.println(&quot;Application closed..&quot;);\r\n\r\n                System.exit(0);\r\n\r\n            }\r\n        });\r\n        \r\n        close.start();","title":"Closing a program which uses scheduleWithFixedDelay","body":"<p>Thank you very much <strong>Aivean</strong> for your support..  It worked perfectly :) \nI believe this is what you suggested. </p>\n\n<pre><code>Thread close = new Thread(new Runnable() {\n        @Override\n        public void run() {\n\n            try {\n                scheduler.shutdown();\n                if (!scheduler.awaitTermination(60000, TimeUnit.SECONDS)) {\n                    System.err.println(\"Threads didn't finish in 60000 seconds!\");\n                }\n            } catch (InterruptedException ex) {\n            }\n\n            System.out.println(\"Application closed..\");\n\n            System.exit(0);\n\n        }\n    });\n\n    close.start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24295610,"reputation":1,"user_id":18239878,"display_name":"Jaylen Zhang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665750778,"creation_date":1665750657,"answer_id":74069261,"question_id":32110433,"body_markdown":"```\r\nthreadHandle.cancel(true/false);\r\n```\r\nSet to true will interrupt this task immediately, and set to false will wait for to be finished before closing it.","title":"Closing a program which uses scheduleWithFixedDelay","body":"<pre><code>threadHandle.cancel(true/false);\n</code></pre>\n<p>Set to true will interrupt this task immediately, and set to false will wait for to be finished before closing it.</p>\n"}],"owner":{"account_id":4250460,"reputation":13,"user_id":3477711,"display_name":"ZeroKool"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":573,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":32111362,"answer_count":3,"score":1,"last_activity_date":1665750778,"creation_date":1440049731,"question_id":32110433,"body_markdown":" I&#39;m working on a desktop application which does the same process again and again... in other words, It runs again and again all day long.\r\n\r\nI accomplish this task using `scheduleWithFixedDelay` as bellow.  \r\n\r\n     private final ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\r\n\r\n    final ScheduledFuture&lt;?&gt; threadHandle = scheduler.scheduleWithFixedDelay(mainThread, 0, 5, TimeUnit.SECONDS);\r\n\r\nWhenever someone clicks the close button, I want to close the program only if the task for a particulate round is finished or if it&#39;s ideal.\r\n\r\nI done this using 2 `boolean` variables (one to check whther the user has clicked the close button and other one the check wther the process is running.)\r\nBut this method was not efficient.\r\n\r\nIs there any efficient way to get this task done, like using build in functions. \r\n\r\nThanks In Advance :)","title":"Closing a program which uses scheduleWithFixedDelay","body":"<p>I'm working on a desktop application which does the same process again and again... in other words, It runs again and again all day long.</p>\n\n<p>I accomplish this task using <code>scheduleWithFixedDelay</code> as bellow.  </p>\n\n<pre><code> private final ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\n\nfinal ScheduledFuture&lt;?&gt; threadHandle = scheduler.scheduleWithFixedDelay(mainThread, 0, 5, TimeUnit.SECONDS);\n</code></pre>\n\n<p>Whenever someone clicks the close button, I want to close the program only if the task for a particulate round is finished or if it's ideal.</p>\n\n<p>I done this using 2 <code>boolean</code> variables (one to check whther the user has clicked the close button and other one the check wther the process is running.)\nBut this method was not efficient.</p>\n\n<p>Is there any efficient way to get this task done, like using build in functions. </p>\n\n<p>Thanks In Advance :)</p>\n"},{"tags":["java","spring","rest","http-post","resttemplate"],"comments":[{"owner":{"account_id":19663187,"reputation":383,"user_id":14394219,"display_name":"artiomi"},"score":0,"creation_date":1665752554,"post_id":74069061,"comment_id":130777444,"body_markdown":"Can you add the error message?","body":"Can you add the error message?"}],"answers":[{"tags":[],"owner":{"account_id":26552394,"reputation":306,"user_id":20181494,"display_name":"Janil101"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665750743,"creation_date":1665750743,"answer_id":74069287,"question_id":74069061,"body_markdown":"try this way :\r\nHttpEntity&lt;Map&lt;?, ?&gt;&gt; entity = new HttpEntity&lt;Map&lt;?, ?&gt;&gt;(new Map&lt;null,null&gt;, headers);","title":"How can I send a POST request without any payload using restTemplate?","body":"<p>try this way :\nHttpEntity&lt;Map&gt; entity = new HttpEntity&lt;Map&gt;(new Map&lt;null,null&gt;, headers);</p>\n"}],"owner":{"account_id":18328293,"reputation":185,"user_id":13347446,"display_name":"Jithin M V"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":511,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665750743,"creation_date":1665749692,"question_id":74069061,"body_markdown":"I need to trigger a POST request using rest template. But the problem is this request don&#39;t have any body. I tried invoking it from POSTMAN it was successful. Attaching the postman related screenshots below\r\n\r\n[![Request Header][1]][1]\r\n\r\n[![Request Body][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/t2bSy.png\r\n  [2]: https://i.stack.imgur.com/XuEHt.png\r\n\r\n\r\nThe same API I need to trigger through rest template. But It is giving Bad request exception with the following piece of code\r\n\r\n\tHttpHeaders headers = new HttpHeaders();\r\n\theaders.set(&quot;Authorization&quot;, &quot;Bearer &quot; + &quot;&lt;token&gt;&quot;);\r\n\theaders.set(&quot;Content-Length&quot;, &quot;0&quot;);\r\n\tHttpEntity&lt;Map&lt;?, ?&gt;&gt; entity = new HttpEntity&lt;Map&lt;?, ?&gt;&gt;(null, headers);\r\n\tResponseEntity&lt;E&gt; response = null;\r\n\ttry {\r\n\t\tresponse = restTemplate.exchange(api, methodType, entity, type);\r\n\r\n\r\n&gt; nb: Instead of null. I also tried giving an empty map as body. But\r\n&gt; that too didn&#39;t work for me.\r\n\r\nCan somebody help me with this?","title":"How can I send a POST request without any payload using restTemplate?","body":"<p>I need to trigger a POST request using rest template. But the problem is this request don't have any body. I tried invoking it from POSTMAN it was successful. Attaching the postman related screenshots below</p>\n<p><a href=\"https://i.stack.imgur.com/t2bSy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t2bSy.png\" alt=\"Request Header\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/XuEHt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XuEHt.png\" alt=\"Request Body\" /></a></p>\n<p>The same API I need to trigger through rest template. But It is giving Bad request exception with the following piece of code</p>\n<pre><code>HttpHeaders headers = new HttpHeaders();\nheaders.set(&quot;Authorization&quot;, &quot;Bearer &quot; + &quot;&lt;token&gt;&quot;);\nheaders.set(&quot;Content-Length&quot;, &quot;0&quot;);\nHttpEntity&lt;Map&lt;?, ?&gt;&gt; entity = new HttpEntity&lt;Map&lt;?, ?&gt;&gt;(null, headers);\nResponseEntity&lt;E&gt; response = null;\ntry {\n    response = restTemplate.exchange(api, methodType, entity, type);\n</code></pre>\n<blockquote>\n<p>nb: Instead of null. I also tried giving an empty map as body. But\nthat too didn't work for me.</p>\n</blockquote>\n<p>Can somebody help me with this?</p>\n"},{"tags":["java","android","time","user-input"],"comments":[{"owner":{"account_id":6513889,"reputation":609,"user_id":5040323,"accept_rate":75,"display_name":"Shivanshu Verma"},"score":0,"creation_date":1665750119,"post_id":74069058,"comment_id":130776603,"body_markdown":"double time_needed = (double)((time_needed / 1000) % 60 it will give you time difference in seconds.","body":"double time_needed = (double)((time_needed / 1000) % 60 it will give you time difference in seconds."},{"owner":{"account_id":6513889,"reputation":609,"user_id":5040323,"accept_rate":75,"display_name":"Shivanshu Verma"},"score":0,"creation_date":1665750199,"post_id":74069058,"comment_id":130776627,"body_markdown":"to convert it up-to 2 decimal points \nString.format(&quot;%.2f&quot;, time_needed );","body":"to convert it up-to 2 decimal points  String.format(&quot;%.2f&quot;, time_needed );"}],"owner":{"account_id":26556496,"reputation":3,"user_id":20185022,"display_name":"Programmer1824"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665750704,"creation_date":1665749687,"question_id":74069058,"body_markdown":"I&#39;m currently coding an android app, which requires the user to input a number in response to something that is on the screen. I am trying to measure how long this takes. So I looked it up and found this [Stackoverflow post][1] about it. I immidently started coding, but soon i ran into a problem. It was not working. Here is my code for it: \r\n```\r\npublic class FirstFragment extends Fragment {\r\n    public static long time_start = System.currentTimeMillis();\r\n    public static long time_end;\r\n    public static double time_needed;\r\n    TextView showTimeNeededTextView;\r\n    public View onCreateView(\r\n\r\n            LayoutInflater inflater, ViewGroup container,\r\n            Bundle savedInstanceState\r\n\r\n    ) {\r\n       \r\n\r\n        View fragmentFirstLayout = inflater.inflate(R.layout.fragment_first, container, false);\r\n        \r\n\r\n        binding = FragmentFirstBinding.inflate(inflater, container, false);\r\n        \r\n        showTimeNeededTextView = fragmentFirstLayout.findViewById(R.id.time_needed_TW);\r\n       \r\n        return fragmentFirstLayout;\r\n}\r\n\r\npublic void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n        public boolean onEditorAction(TextView v, int actionId, KeyEvent event){\r\n        // checks if input is null\r\n        if(editText.getText() != null){\r\n            end_timer();\r\n        }\r\n    \r\n        return true;\r\n\r\n       \r\n\r\n}\r\n        public void end_timer(){\r\n        time_end = System.currentTimeMillis();\r\n        time_needed = Double.parseDouble(String.valueOf(time_end - time_start)) ;\r\n        time_needed = (double)Math.round(time_needed*100d)/100d;\r\n        System.out.println(&quot;Time it took the user to input: &quot;+time_needed);\r\n}\r\n}\r\n\r\n```\r\n\r\n\r\nWhen running the code and trying it out for myself tho, time_needed was always rounded wrong, and didnt relate to any amount of time it took to answer. (Example: I intentionally wait 5 seconds to test the code, but it shows that it took me 1.0 seconds)\r\n\r\n[Example][2]\r\n\r\n\r\nIs there any way to fix this problem? \r\nThanks in advance\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/55867763/how-to-measure-response-time-for-actions-in-android-apps\r\n  [2]: https://i.stack.imgur.com/dlBhK.png","title":"response time in android not working as intended (Java)","body":"<p>I'm currently coding an android app, which requires the user to input a number in response to something that is on the screen. I am trying to measure how long this takes. So I looked it up and found this <a href=\"https://stackoverflow.com/questions/55867763/how-to-measure-response-time-for-actions-in-android-apps\">Stackoverflow post</a> about it. I immidently started coding, but soon i ran into a problem. It was not working. Here is my code for it:</p>\n<pre><code>public class FirstFragment extends Fragment {\n    public static long time_start = System.currentTimeMillis();\n    public static long time_end;\n    public static double time_needed;\n    TextView showTimeNeededTextView;\n    public View onCreateView(\n\n            LayoutInflater inflater, ViewGroup container,\n            Bundle savedInstanceState\n\n    ) {\n       \n\n        View fragmentFirstLayout = inflater.inflate(R.layout.fragment_first, container, false);\n        \n\n        binding = FragmentFirstBinding.inflate(inflater, container, false);\n        \n        showTimeNeededTextView = fragmentFirstLayout.findViewById(R.id.time_needed_TW);\n       \n        return fragmentFirstLayout;\n}\n\npublic void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n        public boolean onEditorAction(TextView v, int actionId, KeyEvent event){\n        // checks if input is null\n        if(editText.getText() != null){\n            end_timer();\n        }\n    \n        return true;\n\n       \n\n}\n        public void end_timer(){\n        time_end = System.currentTimeMillis();\n        time_needed = Double.parseDouble(String.valueOf(time_end - time_start)) ;\n        time_needed = (double)Math.round(time_needed*100d)/100d;\n        System.out.println(&quot;Time it took the user to input: &quot;+time_needed);\n}\n}\n\n</code></pre>\n<p>When running the code and trying it out for myself tho, time_needed was always rounded wrong, and didnt relate to any amount of time it took to answer. (Example: I intentionally wait 5 seconds to test the code, but it shows that it took me 1.0 seconds)</p>\n<p><a href=\"https://i.stack.imgur.com/dlBhK.png\" rel=\"nofollow noreferrer\">Example</a></p>\n<p>Is there any way to fix this problem?\nThanks in advance</p>\n"},{"tags":["java","maven","jenkins","jenkins-pipeline"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":2,"creation_date":1665750285,"post_id":74069095,"comment_id":130776650,"body_markdown":"What did you try to make it a part of jar? Did you copy it into resources before launching maven? Alternative approach would be resource filtering.","body":"What did you try to make it a part of jar? Did you copy it into resources before launching maven? Alternative approach would be resource filtering."},{"owner":{"account_id":23378060,"reputation":41,"user_id":17446471,"display_name":"rahul"},"score":0,"creation_date":1667556913,"post_id":74069095,"comment_id":131199245,"body_markdown":"Achieved this by using maven resource filtering. Passed build details as parameters using maven goal in jenkins job which updates the build.properties file in target folder. Then created an endpoint to read that file and return build info in json as output.","body":"Achieved this by using maven resource filtering. Passed build details as parameters using maven goal in jenkins job which updates the build.properties file in target folder. Then created an endpoint to read that file and return build info in json as output."}],"owner":{"account_id":23378060,"reputation":41,"user_id":17446471,"display_name":"rahul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665749964,"creation_date":1665749854,"question_id":74069095,"body_markdown":"I want to add a simple text file from Jenkins build pipeline which contains below details \r\n\r\n    {\r\n        &quot;app name&quot;: &quot;service_1&quot;,\r\n        &quot;branch name&quot;: &quot;git branch name&quot;,\r\n        &quot;build date&quot;: &quot;date&quot;,\r\n        &quot;git revision&quot;: &quot;xyz&quot;,\r\n    }\r\n\r\nI am able to generate this file from jenkins with all details but its not the part of the jar so is there any way we can make it part of the generated .JAR file.\r\nSo that jenkins generated artefact will have a single .JAR file including version.txt.\r\nI will be creating an endpoint to read this version.txt file to check which version and branch is currently deployed on the server.","title":"Add version.txt file from jenkins in JAR using maven project","body":"<p>I want to add a simple text file from Jenkins build pipeline which contains below details</p>\n<pre><code>{\n    &quot;app name&quot;: &quot;service_1&quot;,\n    &quot;branch name&quot;: &quot;git branch name&quot;,\n    &quot;build date&quot;: &quot;date&quot;,\n    &quot;git revision&quot;: &quot;xyz&quot;,\n}\n</code></pre>\n<p>I am able to generate this file from jenkins with all details but its not the part of the jar so is there any way we can make it part of the generated .JAR file.\nSo that jenkins generated artefact will have a single .JAR file including version.txt.\nI will be creating an endpoint to read this version.txt file to check which version and branch is currently deployed on the server.</p>\n"},{"tags":["java","reflections","azul-zulu"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1664329106,"post_id":73874987,"comment_id":130444691,"body_markdown":"It says `WARNING`, not `ERROR`, and everything in the logs suggests your application is starting correctly. This is something to be aware of for future JVM updates but will not break tomorrow.","body":"It says <code>WARNING</code>, not <code>ERROR</code>, and everything in the logs suggests your application is starting correctly. This is something to be aware of for future JVM updates but will not break tomorrow."},{"owner":{"account_id":4672576,"reputation":11,"user_id":15238891,"display_name":"boo lean - Go FAT"},"score":0,"creation_date":1681573442,"post_id":73874987,"comment_id":134079894,"body_markdown":"I agree that it&#39;s just a warning. The program works and runs fine. However, it IS a stock-trading platform (which means IRS, SEC, not to mention the bank itself could cause major issues for someone who is using that software without using it legally) that is proprietary software. Proprietary software cannot be used &quot;legally&quot; with Open Source versions of JAVA. The licensing of the two conflict. I&#39;m not getting the SEC and/or IRS breathing down my neck for moving money with &quot;technically&quot; illegal use of software.","body":"I agree that it&#39;s just a warning. The program works and runs fine. However, it IS a stock-trading platform (which means IRS, SEC, not to mention the bank itself could cause major issues for someone who is using that software without using it legally) that is proprietary software. Proprietary software cannot be used &quot;legally&quot; with Open Source versions of JAVA. The licensing of the two conflict. I&#39;m not getting the SEC and/or IRS breathing down my neck for moving money with &quot;technically&quot; illegal use of software."}],"answers":[{"tags":[],"owner":{"account_id":11106749,"reputation":3227,"user_id":8153713,"display_name":"Speakjava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665749774,"creation_date":1665749774,"answer_id":74069077,"question_id":73874987,"body_markdown":"To start with, you should run `java -version` from where you are running your application. That will clarify which JDK you are actually using.\r\n\r\nAs the comment says, you are only seeing warnings about illegal reflective access.  This is a result of changes between JDK 8 and JDK 9, encapsulating the JDK&#39;s internal APIs (which obviously also affect JDK 11). See JEP 260 (https://openjdk.org/jeps/260)\r\n\r\nHave a look at this answer on StackOverflow, which goes into more detail and provides some suggestions if you really want to get rid of the messages.\r\nhttps://stackoverflow.com/questions/50251798/what-is-an-illegal-reflective-access","title":"how to prevent thinkorswim&#39;s illegal reflective access to java.lang.Classloader.user_paths (2022 - Azul Zulu JDK 11)","body":"<p>To start with, you should run <code>java -version</code> from where you are running your application. That will clarify which JDK you are actually using.</p>\n<p>As the comment says, you are only seeing warnings about illegal reflective access.  This is a result of changes between JDK 8 and JDK 9, encapsulating the JDK's internal APIs (which obviously also affect JDK 11). See JEP 260 (<a href=\"https://openjdk.org/jeps/260\" rel=\"nofollow noreferrer\">https://openjdk.org/jeps/260</a>)</p>\n<p>Have a look at this answer on StackOverflow, which goes into more detail and provides some suggestions if you really want to get rid of the messages.\n<a href=\"https://stackoverflow.com/questions/50251798/what-is-an-illegal-reflective-access\">What is an illegal reflective access?</a></p>\n"}],"owner":{"account_id":4672576,"reputation":11,"user_id":15238891,"display_name":"boo lean - Go FAT"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":575,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665749774,"creation_date":1664324149,"question_id":73874987,"body_markdown":"I see many illegal reflective access related questions. As of recent ThinkOrSwim has finally implemented that JAVA 11 (the Azul Zulu openJDK 11) be used to launch thinkorswim. It has been warning this day would come. I have &quot;updated&quot; my java version to the extent of my knowledge, but am still receiving the following errors... \r\n\r\n    jesse@jesse-G74Sx:/$ cd /home/jesse/Programs/thinkorswim/thinkorswim\r\n    jesse@jesse-G74Sx:~/Programs/thinkorswim/thinkorswim$ sudo java -jar launcher.jar\r\n    [sudo] password for jesse: \r\n    WARNING: An illegal reflective access operation has occurred\r\n    WARNING: Illegal reflective access by com.devexperts.jnlp.JavaLibraryPathUpdater (file:/home/jesse/Programs/thinkorswim/thinkorswim/suit/1975.0.80/tos-suit-1975.0.80.jar) to field java.lang.ClassLoader.usr_paths\r\n    WARNING: Please consider reporting this to the maintainers of com.devexperts.jnlp.JavaLibraryPathUpdater\r\n    WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\n    WARNING: All illegal access operations will be denied in a future release\r\n    Sep 27, 2022 8:08:06 PM com.devexperts.ssl.UrlStreamHandlerFactoryInstaller install\r\n    INFO: URL stream handler factory installed\r\n    Sep 27, 2022 8:08:24 PM com.devexperts.ssl.CustomTrustManager &lt;init&gt;\r\n    INFO: Creating...\r\n    Sep 27, 2022 8:08:24 PM com.devexperts.ssl.CustomTrustManager &lt;init&gt;\r\n    INFO: System truststore is enabled\r\n    Sep 27, 2022 8:08:24 PM com.devexperts.ssl.CustomTrustManager getSystemTrustManagers\r\n    INFO: Got 1 system trust manager(s)\r\n    Sep 27, 2022 8:08:24 PM com.devexperts.ssl.CustomTrustManager &lt;init&gt;\r\n    INFO: External truststore is enabled\r\n    Sep 27, 2022 8:08:24 PM com.devexperts.ssl.ExternalTrustManagerFactory getCertificates\r\n    INFO: Creating certificates...\r\n    Sep 27, 2022 8:08:24 PM com.devexperts.ssl.ExternalTrustManagerFactory getCertificates\r\n    INFO: Created 3 certificate(s)\r\n    Sep 27, 2022 8:08:24 PM com.devexperts.ssl.ExternalTrustManagerFactory getTrustManagers\r\n    INFO: Created 1 trust manager(s) for external certificates\r\n    Sep 27, 2022 8:08:24 PM com.devexperts.ssl.CustomTrustManager &lt;init&gt;\r\n    INFO: The custom trust manager has been created\r\n\r\n\r\n\r\nI have updated my $PATH variable to show the zulu11 bin...\r\n\r\n    jesse@jesse-G74Sx:/$ echo $PATH\r\n    /usr/lib/jvm/zulu11/bin:/home/jesse/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin\r\n\r\nI have updated alternatives to force the &#39;java&#39; command to use the correct repo..\r\n\r\n    jesse@jesse-G74Sx:/$ sudo update-alternatives --config java\r\n    There are 2 choices for the alternative java (providing /usr/bin/java).\r\n    \r\n      Selection    Path                             Priority   Status\r\n    ------------------------------------------------------------\r\n      0            /usr/lib/jvm/zulu11/bin/java      2115801   auto mode\r\n    * 1            /usr/lib/jvm/zulu11/bin/java      2115801   manual mode\r\n      2            /usr/lib/jvm/zulu8/jre/bin/java   1806401   manual mode\r\n    \r\n    Press &lt;enter&gt; to keep the current choice[*], or type selection number: 1\r\n\r\n\r\nI then updated my etc/environment file to force $JAVA_HOME to be the corresponding repo by adding the following JAVA_HOME line below the PATH variable line...\r\n\r\n&gt; PATH=&quot;/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin&quot;\r\n&gt;\r\n&gt;JAVA_HOME=&quot;/usr/lib/jvm/zulu11/&quot;\r\n\r\ni dont seem to actually be changing the JAVA_HOME variable, \r\n\r\n    jesse@jesse-G74Sx:/$ echo $JAVA_HOME\r\n    \r\n    jesse@jesse-G74Sx:/$ \r\n\r\n\r\nhowever, my main concern is that i need to show other repo&#39;s when i run update-alternatives... currently &quot;/usr/lib/jvm/zulu11/bin/java&quot; really ought to be showing another folder from my &#39;usr/lib/jvm&#39; files ie. \r\n\r\n    jesse@jesse-G74Sx:/$ cd usr/lib/jvm\r\n    jesse@jesse-G74Sx:/usr/lib/jvm$ ls\r\n    zulu11  zulu-11-amd64  zulu11-ca-amd64  zulu8  zulu-8-amd64  zulu8-ca-amd64\r\n    jesse@jesse-G74Sx:/usr/lib/jvm$ \r\n\r\n\r\ni think if i can get alternatives to show &quot;zulu-11-amd64&quot; or &quot;zulu11-ca-amd64&quot; and could set one of those to the &#39;java&#39; command, THEN i would have the newer version... \r\n\r\nEither my paths are crossed up, or i need to try a different &quot;alternative&quot; but i havent a clue how to get more alternatives listed, nor how to sufficiently set JAVA_HOME.. \r\n\r\nps. the only official documentation on how to do this is posted on td&#39;s website [here][1]\r\n\r\n\r\n  [1]: https://tlc.thinkorswim.com/center/faq/technical#q_011111111111111114","title":"how to prevent thinkorswim&#39;s illegal reflective access to java.lang.Classloader.user_paths (2022 - Azul Zulu JDK 11)","body":"<p>I see many illegal reflective access related questions. As of recent ThinkOrSwim has finally implemented that JAVA 11 (the Azul Zulu openJDK 11) be used to launch thinkorswim. It has been warning this day would come. I have &quot;updated&quot; my java version to the extent of my knowledge, but am still receiving the following errors...</p>\n<pre><code>jesse@jesse-G74Sx:/$ cd /home/jesse/Programs/thinkorswim/thinkorswim\njesse@jesse-G74Sx:~/Programs/thinkorswim/thinkorswim$ sudo java -jar launcher.jar\n[sudo] password for jesse: \nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by com.devexperts.jnlp.JavaLibraryPathUpdater (file:/home/jesse/Programs/thinkorswim/thinkorswim/suit/1975.0.80/tos-suit-1975.0.80.jar) to field java.lang.ClassLoader.usr_paths\nWARNING: Please consider reporting this to the maintainers of com.devexperts.jnlp.JavaLibraryPathUpdater\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\nSep 27, 2022 8:08:06 PM com.devexperts.ssl.UrlStreamHandlerFactoryInstaller install\nINFO: URL stream handler factory installed\nSep 27, 2022 8:08:24 PM com.devexperts.ssl.CustomTrustManager &lt;init&gt;\nINFO: Creating...\nSep 27, 2022 8:08:24 PM com.devexperts.ssl.CustomTrustManager &lt;init&gt;\nINFO: System truststore is enabled\nSep 27, 2022 8:08:24 PM com.devexperts.ssl.CustomTrustManager getSystemTrustManagers\nINFO: Got 1 system trust manager(s)\nSep 27, 2022 8:08:24 PM com.devexperts.ssl.CustomTrustManager &lt;init&gt;\nINFO: External truststore is enabled\nSep 27, 2022 8:08:24 PM com.devexperts.ssl.ExternalTrustManagerFactory getCertificates\nINFO: Creating certificates...\nSep 27, 2022 8:08:24 PM com.devexperts.ssl.ExternalTrustManagerFactory getCertificates\nINFO: Created 3 certificate(s)\nSep 27, 2022 8:08:24 PM com.devexperts.ssl.ExternalTrustManagerFactory getTrustManagers\nINFO: Created 1 trust manager(s) for external certificates\nSep 27, 2022 8:08:24 PM com.devexperts.ssl.CustomTrustManager &lt;init&gt;\nINFO: The custom trust manager has been created\n</code></pre>\n<p>I have updated my $PATH variable to show the zulu11 bin...</p>\n<pre><code>jesse@jesse-G74Sx:/$ echo $PATH\n/usr/lib/jvm/zulu11/bin:/home/jesse/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin\n</code></pre>\n<p>I have updated alternatives to force the 'java' command to use the correct repo..</p>\n<pre><code>jesse@jesse-G74Sx:/$ sudo update-alternatives --config java\nThere are 2 choices for the alternative java (providing /usr/bin/java).\n\n  Selection    Path                             Priority   Status\n------------------------------------------------------------\n  0            /usr/lib/jvm/zulu11/bin/java      2115801   auto mode\n* 1            /usr/lib/jvm/zulu11/bin/java      2115801   manual mode\n  2            /usr/lib/jvm/zulu8/jre/bin/java   1806401   manual mode\n\nPress &lt;enter&gt; to keep the current choice[*], or type selection number: 1\n</code></pre>\n<p>I then updated my etc/environment file to force $JAVA_HOME to be the corresponding repo by adding the following JAVA_HOME line below the PATH variable line...</p>\n<blockquote>\n<p>PATH=&quot;/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin&quot;</p>\n<p>JAVA_HOME=&quot;/usr/lib/jvm/zulu11/&quot;</p>\n</blockquote>\n<p>i dont seem to actually be changing the JAVA_HOME variable,</p>\n<pre><code>jesse@jesse-G74Sx:/$ echo $JAVA_HOME\n\njesse@jesse-G74Sx:/$ \n</code></pre>\n<p>however, my main concern is that i need to show other repo's when i run update-alternatives... currently &quot;/usr/lib/jvm/zulu11/bin/java&quot; really ought to be showing another folder from my 'usr/lib/jvm' files ie.</p>\n<pre><code>jesse@jesse-G74Sx:/$ cd usr/lib/jvm\njesse@jesse-G74Sx:/usr/lib/jvm$ ls\nzulu11  zulu-11-amd64  zulu11-ca-amd64  zulu8  zulu-8-amd64  zulu8-ca-amd64\njesse@jesse-G74Sx:/usr/lib/jvm$ \n</code></pre>\n<p>i think if i can get alternatives to show &quot;zulu-11-amd64&quot; or &quot;zulu11-ca-amd64&quot; and could set one of those to the 'java' command, THEN i would have the newer version...</p>\n<p>Either my paths are crossed up, or i need to try a different &quot;alternative&quot; but i havent a clue how to get more alternatives listed, nor how to sufficiently set JAVA_HOME..</p>\n<p>ps. the only official documentation on how to do this is posted on td's website <a href=\"https://tlc.thinkorswim.com/center/faq/technical#q_011111111111111114\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":["java","spring","postgresql"],"answers":[{"tags":[],"owner":{"account_id":26562666,"reputation":119,"user_id":20190240,"display_name":"Jalena"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1665749688,"creation_date":1665749688,"answer_id":74069059,"question_id":74069021,"body_markdown":"If you just created your database and doesn&#39;t have any data in it you can try\r\n\r\n    spring.jpa.hibernate.ddl-auto=create\r\n\r\n`update` will only update the database rows it won&#39;t alter the table in PostgreSql.","title":"Data type is not updating on Database","body":"<p>If you just created your database and doesn't have any data in it you can try</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=create\n</code></pre>\n<p><code>update</code> will only update the database rows it won't alter the table in PostgreSql.</p>\n"}],"owner":{"account_id":26618165,"reputation":23,"user_id":20237263,"display_name":"anderson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":74069059,"answer_count":1,"score":1,"last_activity_date":1665749688,"creation_date":1665749470,"question_id":74069021,"body_markdown":"In my entity class, I want to change the data type of a field but it&#39;s not updating in the database. I am using PostgreSQL. I have also tried adding this:\r\n\r\n    spring.jpa.hibernate.ddl-auto=update\r\nin application properties and still, it doesn&#39;t work I don&#39;t know why, please help, and thanks.\r\n\r\nWhat I have :\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id // change Integer into Long data type in the database\r\n\r\n","title":"Data type is not updating on Database","body":"<p>In my entity class, I want to change the data type of a field but it's not updating in the database. I am using PostgreSQL. I have also tried adding this:</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p>in application properties and still, it doesn't work I don't know why, please help, and thanks.</p>\n<p>What I have :</p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Integer id // change Integer into Long data type in the database\n</code></pre>\n"},{"tags":["java","elasticsearch","spring-data","localdatetime"],"answers":[{"tags":[],"owner":{"account_id":16116853,"reputation":55,"user_id":11633731,"display_name":"Saverio Mirko Viola"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665749500,"creation_date":1665749500,"answer_id":74069028,"question_id":74068638,"body_markdown":"I&#39;ve just deleted the entire index and created a new one and it works properly","title":"Springdata Elasticsearch Auditing LocalDateTime conversion exception","body":"<p>I've just deleted the entire index and created a new one and it works properly</p>\n"}],"owner":{"account_id":16116853,"reputation":55,"user_id":11633731,"display_name":"Saverio Mirko Viola"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74069028,"answer_count":1,"score":0,"last_activity_date":1665749500,"creation_date":1665747508,"question_id":74068638,"body_markdown":"I am using Springdata elasticsearch version 4.4.3. I have configured ElasticSearch Auditing and created and Abstract Entity (Document) which is extended by every each entity.\r\n\r\nI am getting an exception because of convertion from Java LocalDateTime in elasticseach database when I try to create a document. Here is the Abstract class with date field annotated with @Field:\r\n\r\n```\r\n@Getter\r\n@Setter\r\npublic abstract class AbstractGenericElasticSearchDocument implements Serializable, Persistable&lt;String&gt; {\r\n\r\n    /**\r\n     * The Constant serialVersionUID.\r\n     */\r\n    private static final long serialVersionUID = 7801717107103785290L;\r\n\r\n    @CreatedDate\r\n    @Field(name = &quot;created_dttm&quot;, type = FieldType.Date, format = DateFormat.date_hour_minute_second)\r\n    private LocalDateTime creationDate;\r\n\r\n    /**\r\n     * The data aggiornamento.\r\n     */\r\n    @LastModifiedDate\r\n    @Field(name = &quot;updated_dttm&quot;, type = FieldType.Date, format = DateFormat.date_hour_minute_second)\r\n    private LocalDateTime updateDate;\r\n    \r\n}\r\n```\r\n\r\nHere is the exception stacktrace:\r\n```\r\norg.springframework.data.elasticsearch.RestStatusException: Elasticsearch exception [type=mapper_parsing_exception, reason=failed to parse field [created_dttm] of type [long] in document with id &#39;6&#39;. Preview of field&#39;s value: &#39;2022-10-14T13:20:54&#39;]; nested exception is ElasticsearchStatusException[Elasticsearch exception [type=mapper_parsing_exception, reason=failed to parse field [created_dttm] of type [long] in document with id &#39;6&#39;. Preview of field&#39;s value: &#39;2022-10-14T13:20:54&#39;]]; nested: ElasticsearchException[Elasticsearch exception [type=illegal_argument_exception, reason=For input string: &quot;2022-10-14T13:20:54&quot;]];\r\n\tat org.springframework.data.elasticsearch.core.ElasticsearchExceptionTranslator.translateExceptionIfPossible(ElasticsearchExceptionTranslator.java:69)\r\n\tat org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.translateException(ElasticsearchRestTemplate.java:601)\r\n\tat org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.execute(ElasticsearchRestTemplate.java:584)\r\n\tat org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.doIndex(ElasticsearchRestTemplate.java:187)\r\n\tat org.springframework.data.elasticsearch.core.AbstractElasticsearchTemplate.save(AbstractElasticsearchTemplate.java:201)\r\n\tat org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.lambda$save$6(SimpleElasticsearchRepository.java:188)\r\n\tat org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.executeAndRefresh(SimpleElasticsearchRepository.java:360)\r\n\tat org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.save(SimpleElasticsearchRepository.java:188)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n\tat com.sun.proxy.$Proxy125.save(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n\tat com.sun.proxy.$Proxy125.save(Unknown Source)\r\n\tat it.eustema.leda.business.service.impl.example.ExampleServiceImpl.indexExample(ExampleServiceImpl.java:138)\r\n\tat it.eustema.leda.controller.example.ExampleController.indexExample(ExampleController.java:85)\r\n\tat it.eustema.leda.controller.example.ExampleController$$FastClassBySpringCGLIB$$d431ffff.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\r\n\tat org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)\r\n\tat it.eustema.leda.controller.aspect.ControllerMethodAspect.aroundProceed(ControllerMethodAspect.java:73)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)\r\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)\r\n\tat org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\r\n\tat it.eustema.leda.controller.example.ExampleController$$EnhancerBySpringCGLIB$$1982cc47.indexExample(&lt;generated&gt;)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.cloud.sleuth.instrument.web.servlet.TracingFilter.doFilter(TracingFilter.java:68)\r\n\tat org.springframework.cloud.sleuth.autoconfig.instrument.web.TraceWebServletConfiguration$LazyTracingFilter.doFilter(TraceWebServletConfiguration.java:131)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.springframework.cloud.sleuth.instrument.web.tomcat.TraceValve.invoke(TraceValve.java:103)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:835)\r\nCaused by: org.elasticsearch.ElasticsearchStatusException: Elasticsearch exception [type=mapper_parsing_exception, reason=failed to parse field [created_dttm] of type [long] in document with id &#39;6&#39;. Preview of field&#39;s value: &#39;2022-10-14T13:20:54&#39;]\r\n\tat org.elasticsearch.rest.BytesRestResponse.errorFromXContent(BytesRestResponse.java:178)\r\n\tat org.elasticsearch.client.RestHighLevelClient.parseEntity(RestHighLevelClient.java:2484)\r\n\tat org.elasticsearch.client.RestHighLevelClient.parseResponseException(RestHighLevelClient.java:2461)\r\n\tat org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:2184)\r\n\tat org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:2137)\r\n\tat org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:2105)\r\n\tat org.elasticsearch.client.RestHighLevelClient.index(RestHighLevelClient.java:1241)\r\n\tat org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.lambda$doIndex$0(ElasticsearchRestTemplate.java:187)\r\n\tat org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.execute(ElasticsearchRestTemplate.java:582)\r\n\t... 112 common frames omitted\r\n\tSuppressed: org.elasticsearch.client.ResponseException: method [PUT], host [http://leda.eustema.it:9200], URI [/example/_doc/6?timeout=1m], status line [HTTP/1.1 400 Bad Request]\r\n{&quot;error&quot;:{&quot;root_cause&quot;:[{&quot;type&quot;:&quot;mapper_parsing_exception&quot;,&quot;reason&quot;:&quot;failed to parse field [created_dttm] of type [long] in document with id &#39;6&#39;. Preview of field&#39;s value: &#39;2022-10-14T13:20:54&#39;&quot;}],&quot;type&quot;:&quot;mapper_parsing_exception&quot;,&quot;reason&quot;:&quot;failed to parse field [created_dttm] of type [long] in document with id &#39;6&#39;. Preview of field&#39;s value: &#39;2022-10-14T13:20:54&#39;&quot;,&quot;caused_by&quot;:{&quot;type&quot;:&quot;illegal_argument_exception&quot;,&quot;reason&quot;:&quot;For input string: \\&quot;2022-10-14T13:20:54\\&quot;&quot;}},&quot;status&quot;:400}\r\n\t\tat org.elasticsearch.client.RestClient.convertResponse(RestClient.java:347)\r\n\t\tat org.elasticsearch.client.RestClient.performRequest(RestClient.java:313)\r\n\t\tat org.elasticsearch.client.RestClient.performRequest(RestClient.java:288)\r\n\t\tat org.elasticsearch.client.RestHighLevelClient.performClientRequest(RestHighLevelClient.java:2699)\r\n\t\tat org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:2171)\r\n\t\t... 117 common frames omitted\r\nCaused by: org.elasticsearch.ElasticsearchException: Elasticsearch exception [type=illegal_argument_exception, reason=For input string: &quot;2022-10-14T13:20:54&quot;]\r\n\tat org.elasticsearch.ElasticsearchException.innerFromXContent(ElasticsearchException.java:491)\r\n\tat org.elasticsearch.ElasticsearchException.fromXContent(ElasticsearchException.java:402)\r\n\tat org.elasticsearch.ElasticsearchException.innerFromXContent(ElasticsearchException.java:432)\r\n\tat org.elasticsearch.ElasticsearchException.failureFromXContent(ElasticsearchException.java:598)\r\n\tat org.elasticsearch.rest.BytesRestResponse.errorFromXContent(BytesRestResponse.java:170)\r\n\t... 120 common frames omitted\r\n\r\n```\r\n\r\nI have read something in the web and in  official documentation and everything should work...\r\n\r\nIf I do not put the field annotation I can create the entity but not read it.\r\n\r\nMay you help to solve this issue?\r\n\r\nThanks\r\n\r\n","title":"Springdata Elasticsearch Auditing LocalDateTime conversion exception","body":"<p>I am using Springdata elasticsearch version 4.4.3. I have configured ElasticSearch Auditing and created and Abstract Entity (Document) which is extended by every each entity.</p>\n<p>I am getting an exception because of convertion from Java LocalDateTime in elasticseach database when I try to create a document. Here is the Abstract class with date field annotated with @Field:</p>\n<pre><code>@Getter\n@Setter\npublic abstract class AbstractGenericElasticSearchDocument implements Serializable, Persistable&lt;String&gt; {\n\n    /**\n     * The Constant serialVersionUID.\n     */\n    private static final long serialVersionUID = 7801717107103785290L;\n\n    @CreatedDate\n    @Field(name = &quot;created_dttm&quot;, type = FieldType.Date, format = DateFormat.date_hour_minute_second)\n    private LocalDateTime creationDate;\n\n    /**\n     * The data aggiornamento.\n     */\n    @LastModifiedDate\n    @Field(name = &quot;updated_dttm&quot;, type = FieldType.Date, format = DateFormat.date_hour_minute_second)\n    private LocalDateTime updateDate;\n    \n}\n</code></pre>\n<p>Here is the exception stacktrace:</p>\n<pre><code>org.springframework.data.elasticsearch.RestStatusException: Elasticsearch exception [type=mapper_parsing_exception, reason=failed to parse field [created_dttm] of type [long] in document with id '6'. Preview of field's value: '2022-10-14T13:20:54']; nested exception is ElasticsearchStatusException[Elasticsearch exception [type=mapper_parsing_exception, reason=failed to parse field [created_dttm] of type [long] in document with id '6'. Preview of field's value: '2022-10-14T13:20:54']]; nested: ElasticsearchException[Elasticsearch exception [type=illegal_argument_exception, reason=For input string: &quot;2022-10-14T13:20:54&quot;]];\n    at org.springframework.data.elasticsearch.core.ElasticsearchExceptionTranslator.translateExceptionIfPossible(ElasticsearchExceptionTranslator.java:69)\n    at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.translateException(ElasticsearchRestTemplate.java:601)\n    at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.execute(ElasticsearchRestTemplate.java:584)\n    at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.doIndex(ElasticsearchRestTemplate.java:187)\n    at org.springframework.data.elasticsearch.core.AbstractElasticsearchTemplate.save(AbstractElasticsearchTemplate.java:201)\n    at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.lambda$save$6(SimpleElasticsearchRepository.java:188)\n    at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.executeAndRefresh(SimpleElasticsearchRepository.java:360)\n    at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.save(SimpleElasticsearchRepository.java:188)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530)\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n    at com.sun.proxy.$Proxy125.save(Unknown Source)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n    at com.sun.proxy.$Proxy125.save(Unknown Source)\n    at it.eustema.leda.business.service.impl.example.ExampleServiceImpl.indexExample(ExampleServiceImpl.java:138)\n    at it.eustema.leda.controller.example.ExampleController.indexExample(ExampleController.java:85)\n    at it.eustema.leda.controller.example.ExampleController$$FastClassBySpringCGLIB$$d431ffff.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n    at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)\n    at it.eustema.leda.controller.aspect.ControllerMethodAspect.aroundProceed(ControllerMethodAspect.java:73)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)\n    at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\n    at it.eustema.leda.controller.example.ExampleController$$EnhancerBySpringCGLIB$$1982cc47.indexExample(&lt;generated&gt;)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.cloud.sleuth.instrument.web.servlet.TracingFilter.doFilter(TracingFilter.java:68)\n    at org.springframework.cloud.sleuth.autoconfig.instrument.web.TraceWebServletConfiguration$LazyTracingFilter.doFilter(TraceWebServletConfiguration.java:131)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.springframework.cloud.sleuth.instrument.web.tomcat.TraceValve.invoke(TraceValve.java:103)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:835)\nCaused by: org.elasticsearch.ElasticsearchStatusException: Elasticsearch exception [type=mapper_parsing_exception, reason=failed to parse field [created_dttm] of type [long] in document with id '6'. Preview of field's value: '2022-10-14T13:20:54']\n    at org.elasticsearch.rest.BytesRestResponse.errorFromXContent(BytesRestResponse.java:178)\n    at org.elasticsearch.client.RestHighLevelClient.parseEntity(RestHighLevelClient.java:2484)\n    at org.elasticsearch.client.RestHighLevelClient.parseResponseException(RestHighLevelClient.java:2461)\n    at org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:2184)\n    at org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:2137)\n    at org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:2105)\n    at org.elasticsearch.client.RestHighLevelClient.index(RestHighLevelClient.java:1241)\n    at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.lambda$doIndex$0(ElasticsearchRestTemplate.java:187)\n    at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.execute(ElasticsearchRestTemplate.java:582)\n    ... 112 common frames omitted\n    Suppressed: org.elasticsearch.client.ResponseException: method [PUT], host [http://leda.eustema.it:9200], URI [/example/_doc/6?timeout=1m], status line [HTTP/1.1 400 Bad Request]\n{&quot;error&quot;:{&quot;root_cause&quot;:[{&quot;type&quot;:&quot;mapper_parsing_exception&quot;,&quot;reason&quot;:&quot;failed to parse field [created_dttm] of type [long] in document with id '6'. Preview of field's value: '2022-10-14T13:20:54'&quot;}],&quot;type&quot;:&quot;mapper_parsing_exception&quot;,&quot;reason&quot;:&quot;failed to parse field [created_dttm] of type [long] in document with id '6'. Preview of field's value: '2022-10-14T13:20:54'&quot;,&quot;caused_by&quot;:{&quot;type&quot;:&quot;illegal_argument_exception&quot;,&quot;reason&quot;:&quot;For input string: \\&quot;2022-10-14T13:20:54\\&quot;&quot;}},&quot;status&quot;:400}\n        at org.elasticsearch.client.RestClient.convertResponse(RestClient.java:347)\n        at org.elasticsearch.client.RestClient.performRequest(RestClient.java:313)\n        at org.elasticsearch.client.RestClient.performRequest(RestClient.java:288)\n        at org.elasticsearch.client.RestHighLevelClient.performClientRequest(RestHighLevelClient.java:2699)\n        at org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:2171)\n        ... 117 common frames omitted\nCaused by: org.elasticsearch.ElasticsearchException: Elasticsearch exception [type=illegal_argument_exception, reason=For input string: &quot;2022-10-14T13:20:54&quot;]\n    at org.elasticsearch.ElasticsearchException.innerFromXContent(ElasticsearchException.java:491)\n    at org.elasticsearch.ElasticsearchException.fromXContent(ElasticsearchException.java:402)\n    at org.elasticsearch.ElasticsearchException.innerFromXContent(ElasticsearchException.java:432)\n    at org.elasticsearch.ElasticsearchException.failureFromXContent(ElasticsearchException.java:598)\n    at org.elasticsearch.rest.BytesRestResponse.errorFromXContent(BytesRestResponse.java:170)\n    ... 120 common frames omitted\n\n</code></pre>\n<p>I have read something in the web and in  official documentation and everything should work...</p>\n<p>If I do not put the field annotation I can create the entity but not read it.</p>\n<p>May you help to solve this issue?</p>\n<p>Thanks</p>\n"},{"tags":["java","css-selectors","nio","unix-socket"],"answers":[{"tags":[],"owner":{"account_id":382517,"reputation":10216,"user_id":737790,"accept_rate":60,"display_name":"Yves Martin"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1331632123,"creation_date":1331539173,"answer_id":9663465,"question_id":8782287,"body_markdown":"I confirm [XNIO][1] supports the use of Unix domain sockets, as &quot;local sockets&quot;. In addition to release note mention, here are:\r\n\r\n - The [corresponding task XNIO-48][2] in JBoss issue tracker\r\n - [Javadoc][3]\r\n - Full source code is [available there][4]\r\n\r\nBut none of XNIO channels implement [SelectableChannel][5] so I fear you will not be able to use Selectors.\r\n\r\nI propose you post an issue to improve this situation, both in XNIO and also in [GNU ClassPath project][6] where [LocalSocket.getSocketChannel][7] returns `null`.\r\n\r\n\r\n  [1]: http://www.jboss.org/xnio\r\n  [2]: https://issues.jboss.org/browse/XNIO-48\r\n  [3]: http://docs.jboss.org/xnio/2.0/api/\r\n  [4]: http://anonsvn.jboss.org/repos/xnio/xnio-base/trunk/\r\n  [5]: http://docs.oracle.com/javase/6/docs/api/java/nio/channels/SelectableChannel.html\r\n  [6]: http://www.gnu.org/software/classpath/\r\n  [7]: http://www.docjar.org/html/api/gnu/java/net/local/LocalSocket.java.html","title":"Using Java NIO with Unix Domain sockets in non-blocking mode with selectors","body":"<p>I confirm <a href=\"http://www.jboss.org/xnio\" rel=\"nofollow\">XNIO</a> supports the use of Unix domain sockets, as \"local sockets\". In addition to release note mention, here are:</p>\n\n<ul>\n<li>The <a href=\"https://issues.jboss.org/browse/XNIO-48\" rel=\"nofollow\">corresponding task XNIO-48</a> in JBoss issue tracker</li>\n<li><a href=\"http://docs.jboss.org/xnio/2.0/api/\" rel=\"nofollow\">Javadoc</a></li>\n<li>Full source code is <a href=\"http://anonsvn.jboss.org/repos/xnio/xnio-base/trunk/\" rel=\"nofollow\">available there</a></li>\n</ul>\n\n<p>But none of XNIO channels implement <a href=\"http://docs.oracle.com/javase/6/docs/api/java/nio/channels/SelectableChannel.html\" rel=\"nofollow\">SelectableChannel</a> so I fear you will not be able to use Selectors.</p>\n\n<p>I propose you post an issue to improve this situation, both in XNIO and also in <a href=\"http://www.gnu.org/software/classpath/\" rel=\"nofollow\">GNU ClassPath project</a> where <a href=\"http://www.docjar.org/html/api/gnu/java/net/local/LocalSocket.java.html\" rel=\"nofollow\">LocalSocket.getSocketChannel</a> returns <code>null</code>.</p>\n"},{"tags":[],"owner":{"account_id":175076,"reputation":1122,"user_id":404818,"accept_rate":92,"display_name":"taharqa"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1536066390,"creation_date":1372551619,"answer_id":17385917,"question_id":8782287,"body_markdown":"You can use the project jnr-unixsocket,(https://github.com/jnr/jnr-unixsocket)  which is the far most advanced implementation I&#39;ve seen. It does exactely what you want : nio concepts Selectors, Channels etc \r\n\r\nLook @ https://github.com/jnr/jnr-unixsocket/tree/master/src/test/java/jnr/unixsocket/example\r\n\r\n","title":"Using Java NIO with Unix Domain sockets in non-blocking mode with selectors","body":"<p>You can use the project jnr-unixsocket,(<a href=\"https://github.com/jnr/jnr-unixsocket\" rel=\"nofollow noreferrer\">https://github.com/jnr/jnr-unixsocket</a>)  which is the far most advanced implementation I've seen. It does exactely what you want : nio concepts Selectors, Channels etc </p>\n\n<p>Look @ <a href=\"https://github.com/jnr/jnr-unixsocket/tree/master/src/test/java/jnr/unixsocket/example\" rel=\"nofollow noreferrer\">https://github.com/jnr/jnr-unixsocket/tree/master/src/test/java/jnr/unixsocket/example</a></p>\n"},{"tags":[],"owner":{"account_id":143563,"reputation":26774,"user_id":351984,"accept_rate":86,"display_name":"Paul Rubel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633360305,"creation_date":1633102626,"answer_id":69408547,"question_id":8782287,"body_markdown":"JDK 16 has built-in support for Unix Domain Sockets. Here&#39;s [an example from Oracle about using it with NIO](https://docs.oracle.com/en/java/javase/16/core/internet-protocol-and-unix-domain-sockets-nio-example.html)\r\n","title":"Using Java NIO with Unix Domain sockets in non-blocking mode with selectors","body":"<p>JDK 16 has built-in support for Unix Domain Sockets. Here's <a href=\"https://docs.oracle.com/en/java/javase/16/core/internet-protocol-and-unix-domain-sockets-nio-example.html\" rel=\"nofollow noreferrer\">an example from Oracle about using it with NIO</a></p>\n"},{"tags":[],"owner":{"account_id":243256,"reputation":3047,"user_id":515310,"display_name":"Christian Kohlsch&#252;tter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665748714,"creation_date":1665748714,"answer_id":74068877,"question_id":8782287,"body_markdown":"junixsocket now has support for NIO, Selectors and all.\r\n\r\nPlease give it another try: https://github.com/kohlschutter/junixsocket\r\n","title":"Using Java NIO with Unix Domain sockets in non-blocking mode with selectors","body":"<p>junixsocket now has support for NIO, Selectors and all.</p>\n<p>Please give it another try: <a href=\"https://github.com/kohlschutter/junixsocket\" rel=\"nofollow noreferrer\">https://github.com/kohlschutter/junixsocket</a></p>\n"}],"owner":{"account_id":136531,"reputation":21531,"user_id":340088,"accept_rate":68,"display_name":"jbx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6241,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":17385917,"answer_count":4,"score":7,"last_activity_date":1665748714,"creation_date":1326064719,"question_id":8782287,"body_markdown":"Is there a way to use Unix Domain sockets with Java NIO?\r\nI want to use NIO so that I can use Selectors on it in a single thread.\r\n\r\nI had a look at [junixsocket][1] but it only seems to support normal Sockets not NIO channels that support selectors.\r\n\r\n\r\n  [1]: http://code.google.com/p/junixsocket/","title":"Using Java NIO with Unix Domain sockets in non-blocking mode with selectors","body":"<p>Is there a way to use Unix Domain sockets with Java NIO?\nI want to use NIO so that I can use Selectors on it in a single thread.</p>\n\n<p>I had a look at <a href=\"http://code.google.com/p/junixsocket/\" rel=\"noreferrer\">junixsocket</a> but it only seems to support normal Sockets not NIO channels that support selectors.</p>\n"},{"tags":["java","jvm","garbage-collection"],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665748610,"creation_date":1665748610,"answer_id":74068860,"question_id":74066683,"body_markdown":"I found a [documentation that explains it nicely](https://blog.devgenius.io/java-garbage-collection-what-is-the-young-generation-old-generation-and-permanent-generation-953462ae2598).\r\n\r\nThe documentation from Oracle (https://www.oracle.com/webfolder/technetwork/Tutorials/obe/java/gc01/index.html) basically shows the same, although I find that documentation confusing because the first two images in the section &quot;The Generational Garbage Collection Process&quot; contain a partially filled survivor space, whereas the third image assumes the process started with two empty survivor spaces.\r\n\r\nSome more documentation is at https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/generations.html and https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/sizing.html\r\n\r\nPlease note that naming Eden as YG is misleading - the survivor spaces are also part of the young generation.\r\n\r\nBasically the steps are:\r\n\r\n- Eden is full. Minor GC runs on YG, survivors (from Eden and from SN) go to SE.\r\n\r\n- Survivors from Eden now have a generation count of 1, survivors from SN have their generation count incremented.\r\n\r\n- Survivors with a generation count above some threshold are not copied to SE but to the old generation.\r\n\r\n**What happens if SE is too small?**\r\nhttps://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/sizing.html explains this case:\r\n\r\n&gt; If survivor spaces are too small, copying collection overflows directly into the tenured generation.\r\n\r\nI found no documentation for the following claim, but it seems reasonable that copying into SE starts with live objects from Eden and the live objects from SN are copied last. This way if an overflow occurs chances are that the overflowing objects are from SN (i.e. already older objects that have a higher chance of being promoted anyway.)","title":"Does survivol spaces get garbage collected before moving to the old generation?","body":"<p>I found a <a href=\"https://blog.devgenius.io/java-garbage-collection-what-is-the-young-generation-old-generation-and-permanent-generation-953462ae2598\" rel=\"nofollow noreferrer\">documentation that explains it nicely</a>.</p>\n<p>The documentation from Oracle (<a href=\"https://www.oracle.com/webfolder/technetwork/Tutorials/obe/java/gc01/index.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/webfolder/technetwork/Tutorials/obe/java/gc01/index.html</a>) basically shows the same, although I find that documentation confusing because the first two images in the section &quot;The Generational Garbage Collection Process&quot; contain a partially filled survivor space, whereas the third image assumes the process started with two empty survivor spaces.</p>\n<p>Some more documentation is at <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/generations.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/generations.html</a> and <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/sizing.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/sizing.html</a></p>\n<p>Please note that naming Eden as YG is misleading - the survivor spaces are also part of the young generation.</p>\n<p>Basically the steps are:</p>\n<ul>\n<li><p>Eden is full. Minor GC runs on YG, survivors (from Eden and from SN) go to SE.</p>\n</li>\n<li><p>Survivors from Eden now have a generation count of 1, survivors from SN have their generation count incremented.</p>\n</li>\n<li><p>Survivors with a generation count above some threshold are not copied to SE but to the old generation.</p>\n</li>\n</ul>\n<p><strong>What happens if SE is too small?</strong>\n<a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/sizing.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/sizing.html</a> explains this case:</p>\n<blockquote>\n<p>If survivor spaces are too small, copying collection overflows directly into the tenured generation.</p>\n</blockquote>\n<p>I found no documentation for the following claim, but it seems reasonable that copying into SE starts with live objects from Eden and the live objects from SN are copied last. This way if an overflow occurs chances are that the overflowing objects are from SN (i.e. already older objects that have a higher chance of being promoted anyway.)</p>\n"}],"owner":{"account_id":1999735,"reputation":10657,"user_id":1794803,"accept_rate":64,"display_name":"ABu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74068860,"answer_count":1,"score":0,"last_activity_date":1665748610,"creation_date":1665737311,"question_id":74066683,"body_markdown":"I understand that when the Eden is full, a minor garbage collection is done. Surviving objects go to the survivol spaces. These objects will eventually arrive to the old generation.\r\n\r\nDoes the objects in the survivol spaces get garbage collected as well, or they will just be moved to the tenure generation and be GC there later (so the survivol spaces are no more than buffers for performance reasons)?\r\n\r\nIn other words, which one of the following algorithms is correct?\r\n**NOTE:** Let&#39;s call YG to the Eden, OG the old generation, SE the survivol space that is (E)mpty at a given time, and SN the one that is (N)ot.\r\n\r\n1. YG is full. Minor GC runs on it and survivors go to SE while objects from SN go to OG.\r\n\r\n2. YG is full. Minor GC runs on it and survivors go to SN first until SN is full, and remaining YG survivors go to SE. SN, which is now full, runs its own GN and its survivors go to OG. If all YG survivors weren&#39;t enough to make SN full, all YG survivors go to SN anyway but no GC runs on SN.\r\n\r\n3. YG is full. Minor GC runs on it and SN together (regardless of whether SN is full or not). SN survivors go to OG. YG survivors go to SE.\r\n\r\n**NOTE:** I have assumed that the number of YG survivors is never big enough as to fill SE more than once. What happens if, for instance, the number of YG survivors is twice or more the size of SE?","title":"Does survivol spaces get garbage collected before moving to the old generation?","body":"<p>I understand that when the Eden is full, a minor garbage collection is done. Surviving objects go to the survivol spaces. These objects will eventually arrive to the old generation.</p>\n<p>Does the objects in the survivol spaces get garbage collected as well, or they will just be moved to the tenure generation and be GC there later (so the survivol spaces are no more than buffers for performance reasons)?</p>\n<p>In other words, which one of the following algorithms is correct?\n<strong>NOTE:</strong> Let's call YG to the Eden, OG the old generation, SE the survivol space that is (E)mpty at a given time, and SN the one that is (N)ot.</p>\n<ol>\n<li><p>YG is full. Minor GC runs on it and survivors go to SE while objects from SN go to OG.</p>\n</li>\n<li><p>YG is full. Minor GC runs on it and survivors go to SN first until SN is full, and remaining YG survivors go to SE. SN, which is now full, runs its own GN and its survivors go to OG. If all YG survivors weren't enough to make SN full, all YG survivors go to SN anyway but no GC runs on SN.</p>\n</li>\n<li><p>YG is full. Minor GC runs on it and SN together (regardless of whether SN is full or not). SN survivors go to OG. YG survivors go to SE.</p>\n</li>\n</ol>\n<p><strong>NOTE:</strong> I have assumed that the number of YG survivors is never big enough as to fill SE more than once. What happens if, for instance, the number of YG survivors is twice or more the size of SE?</p>\n"},{"tags":["java","android","in-app-update"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1665751104,"post_id":74068663,"comment_id":130776924,"body_markdown":"On which line does it give you an error?","body":"On which line does it give you an error?"},{"owner":{"account_id":16944327,"reputation":49,"user_id":12255416,"display_name":"Hafiz Al Asad"},"score":0,"creation_date":1665813378,"post_id":74068663,"comment_id":130790730,"body_markdown":"Not in any line. All statements executed successfully. After execution that error pops up on screen. See the attached image please.","body":"Not in any line. All statements executed successfully. After execution that error pops up on screen. See the attached image please."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1665894194,"post_id":74068663,"comment_id":130803813,"body_markdown":"Have you seen the logs? There would be something for sure. Something wont fail without giving any errors/warnings.","body":"Have you seen the logs? There would be something for sure. Something wont fail without giving any errors/warnings."},{"owner":{"account_id":16944327,"reputation":49,"user_id":12255416,"display_name":"Hafiz Al Asad"},"score":0,"creation_date":1668313990,"post_id":74068663,"comment_id":131373351,"body_markdown":"Thanks brother. There was a log. It was permission related issue. As I was trying to read the apk file from device external storage.","body":"Thanks brother. There was a log. It was permission related issue. As I was trying to read the apk file from device external storage."}],"owner":{"account_id":16944327,"reputation":49,"user_id":12255416,"display_name":"Hafiz Al Asad"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1665748263,"creation_date":1665747623,"question_id":74068663,"body_markdown":"I have an updated app in my device storage. I have to install that upper version app from my existing lower version app in a button click. (Like the way **dora tv** users update their app)\r\nI wrote this code.But it&#39;s showing - &quot;There was a problem parsing the package&quot;.\r\nThere is no error in logcat &amp; no exception. What i need to do now?\r\n[App Install error][1]\r\n\r\n```\r\n    @RequiresApi(api = Build.VERSION_CODES.M)\r\n    private void requestPermission() {\r\n        requestPermissions(new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, REQUEST_WRITE_PERMISSION);\r\n    }\r\n\r\n    private void havePermission() {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O\r\n                &amp;&amp; !getPackageManager().canRequestPackageInstalls()) {\r\n\r\n            Intent unknownAppSourceIntent = new Intent()\r\n                    .setAction(Settings.ACTION_MANAGE_UNKNOWN_APP_SOURCES)\r\n                    .setData(Uri.parse(String.format(&quot;package:%s&quot;, getPackageName())));\r\n\r\n            startActivityForResult(unknownAppSourceIntent, Constants.APP_INSTALL_REQUEST);\r\n            //unknownAppSourceDialog.launch(unknownAppSourceIntent);\r\n        } else {\r\n            apkInstall();\r\n        }\r\n    }\r\n\r\n  private void apkInstall() {\r\n        String path = Environment.getExternalStoragePublicDirectory(\r\n                Environment.DIRECTORY_DOWNLOADS).getPath() + File.separator + &quot;test.apk&quot;;\r\n\r\n        Log.d(&quot;filePath&quot;, path);\r\n        File file = new File(path);\r\n\r\n        if (file.exists() &amp;&amp; !file.isDirectory()) {\r\n            // do something\r\n            Log.d(&quot;fileExist&quot;, file.getName());\r\n        }\r\n        Intent intent;\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n            Uri apkUri = FileProvider.getUriForFile(this, BuildConfig.APPLICATION_ID + &quot;.provider&quot;, file);\r\n            intent = new Intent(Intent.ACTION_INSTALL_PACKAGE);\r\n            intent.setData(apkUri);\r\n            intent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n        } else {\r\n            Uri apkUri = Uri.fromFile(file);\r\n            intent = new Intent(Intent.ACTION_VIEW);\r\n            intent.setDataAndType(apkUri, &quot;application/vnd.android.package-archive&quot;);\r\n            intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n        }\r\n        try {\r\n            startActivityForResult(intent, Constants.APP_INSTALL_REQUEST);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            BizUiUtils.showToast(this, &quot;Error in installing App, please try again&quot;);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if (requestCode == Constants.APP_INSTALL_REQUEST) {\r\n            apkInstall();\r\n        }\r\n    }\r\n\r\n  ```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BeKe0.jpg","title":"&quot;There was a problem parsing the package&quot; - How to solve this?","body":"<p>I have an updated app in my device storage. I have to install that upper version app from my existing lower version app in a button click. (Like the way <strong>dora tv</strong> users update their app)\nI wrote this code.But it's showing - &quot;There was a problem parsing the package&quot;.\nThere is no error in logcat &amp; no exception. What i need to do now?\n<a href=\"https://i.stack.imgur.com/BeKe0.jpg\" rel=\"nofollow noreferrer\">App Install error</a></p>\n<pre><code>    @RequiresApi(api = Build.VERSION_CODES.M)\n    private void requestPermission() {\n        requestPermissions(new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, REQUEST_WRITE_PERMISSION);\n    }\n\n    private void havePermission() {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O\n                &amp;&amp; !getPackageManager().canRequestPackageInstalls()) {\n\n            Intent unknownAppSourceIntent = new Intent()\n                    .setAction(Settings.ACTION_MANAGE_UNKNOWN_APP_SOURCES)\n                    .setData(Uri.parse(String.format(&quot;package:%s&quot;, getPackageName())));\n\n            startActivityForResult(unknownAppSourceIntent, Constants.APP_INSTALL_REQUEST);\n            //unknownAppSourceDialog.launch(unknownAppSourceIntent);\n        } else {\n            apkInstall();\n        }\n    }\n\n  private void apkInstall() {\n        String path = Environment.getExternalStoragePublicDirectory(\n                Environment.DIRECTORY_DOWNLOADS).getPath() + File.separator + &quot;test.apk&quot;;\n\n        Log.d(&quot;filePath&quot;, path);\n        File file = new File(path);\n\n        if (file.exists() &amp;&amp; !file.isDirectory()) {\n            // do something\n            Log.d(&quot;fileExist&quot;, file.getName());\n        }\n        Intent intent;\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n            Uri apkUri = FileProvider.getUriForFile(this, BuildConfig.APPLICATION_ID + &quot;.provider&quot;, file);\n            intent = new Intent(Intent.ACTION_INSTALL_PACKAGE);\n            intent.setData(apkUri);\n            intent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n        } else {\n            Uri apkUri = Uri.fromFile(file);\n            intent = new Intent(Intent.ACTION_VIEW);\n            intent.setDataAndType(apkUri, &quot;application/vnd.android.package-archive&quot;);\n            intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n        }\n        try {\n            startActivityForResult(intent, Constants.APP_INSTALL_REQUEST);\n        } catch (Exception e) {\n            e.printStackTrace();\n            BizUiUtils.showToast(this, &quot;Error in installing App, please try again&quot;);\n        }\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        if (requestCode == Constants.APP_INSTALL_REQUEST) {\n            apkInstall();\n        }\n    }\n\n</code></pre>\n"},{"tags":["java","itext7"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1629794492,"post_id":68902157,"comment_id":121774613,"body_markdown":"What you&#39;re seeing is a feature to let the reader of the document know at a glance that the table extends to the next page.","body":"What you&#39;re seeing is a feature to let the reader of the document know at a glance that the table extends to the next page."},{"owner":{"account_id":10290135,"reputation":771,"user_id":7592120,"accept_rate":100,"display_name":"Vikum Dheemantha"},"score":1,"creation_date":1629810820,"post_id":68902157,"comment_id":121781319,"body_markdown":"@GilbertLeBlanc is there any option to disable that feature.","body":"@GilbertLeBlanc is there any option to disable that feature."}],"answers":[{"tags":[],"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1630608081,"creation_date":1630608081,"answer_id":69035587,"question_id":68902157,"body_markdown":"The following code produces the desired result for me for the latest `7.1.16` version of iText:\r\n\r\n```    Document document = new Document(pdfDocument);\r\n\r\n    Table table = new Table(new float[] {0.4f, 1f, 1f}, true)\r\n            .setWidth(UnitValue.createPercentValue(100))\r\n            .setMarginBottom(0);\r\n    document.add(table);\r\n    int count = 0;\r\n    for (int i = 0; i &lt; 300; i++) {\r\n        String[] dataRow = new String[] {&quot;1\\n2\\n3\\n4\\n5\\n6\\n7\\n8\\n9\\n10&quot;, &quot;2\\n3\\nsf\\n43&quot;, &quot;3\\nr\\nsdfsd\\n43&quot;};\r\n        createDataRow(dataRow, table);\r\n        count++;\r\n        if (count % 10 == 0) {\r\n            table.flush();\r\n        }\r\n    }\r\n    table.complete();\r\n\r\n    document.close();\r\n```\r\n\r\n\r\n```\r\n    private void createDataRow(String[] a, Table table) {\r\n        for (String s : a) {\r\n            Paragraph content = new Paragraph(s)\r\n                    .setFontSize(7)\r\n                    .setFixedLeading(9)\r\n                    .setFontColor(new DeviceCmyk(0, 0, 0, 100));\r\n\r\n            Cell cell = new Cell()\r\n                    .setBorder(new SolidBorder(ColorConstants.BLACK, 0.5f))\r\n                    .setPaddingLeft(2)\r\n                    .setPaddingTop(0)\r\n                    .setPaddingBottom(0)\r\n                    .setHorizontalAlignment(HorizontalAlignment.LEFT)\r\n                    .setVerticalAlignment(VerticalAlignment.MIDDLE)\r\n                    .add(content);\r\n\r\n            table.addCell(cell);\r\n        }\r\n    }\r\n```\r\n\r\nVisual result (end of first page):\r\n\r\n[![result][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gsvJS.png","title":"iText 7 (Java) When Large Table extend to next page it does not draw bottom border","body":"<p>The following code produces the desired result for me for the latest <code>7.1.16</code> version of iText:</p>\n<pre><code>\n    Table table = new Table(new float[] {0.4f, 1f, 1f}, true)\n            .setWidth(UnitValue.createPercentValue(100))\n            .setMarginBottom(0);\n    document.add(table);\n    int count = 0;\n    for (int i = 0; i &lt; 300; i++) {\n        String[] dataRow = new String[] {&quot;1\\n2\\n3\\n4\\n5\\n6\\n7\\n8\\n9\\n10&quot;, &quot;2\\n3\\nsf\\n43&quot;, &quot;3\\nr\\nsdfsd\\n43&quot;};\n        createDataRow(dataRow, table);\n        count++;\n        if (count % 10 == 0) {\n            table.flush();\n        }\n    }\n    table.complete();\n\n    document.close();\n</code></pre>\n<pre><code>    private void createDataRow(String[] a, Table table) {\n        for (String s : a) {\n            Paragraph content = new Paragraph(s)\n                    .setFontSize(7)\n                    .setFixedLeading(9)\n                    .setFontColor(new DeviceCmyk(0, 0, 0, 100));\n\n            Cell cell = new Cell()\n                    .setBorder(new SolidBorder(ColorConstants.BLACK, 0.5f))\n                    .setPaddingLeft(2)\n                    .setPaddingTop(0)\n                    .setPaddingBottom(0)\n                    .setHorizontalAlignment(HorizontalAlignment.LEFT)\n                    .setVerticalAlignment(VerticalAlignment.MIDDLE)\n                    .add(content);\n\n            table.addCell(cell);\n        }\n    }\n</code></pre>\n<p>Visual result (end of first page):</p>\n<p><a href=\"https://i.stack.imgur.com/gsvJS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gsvJS.png\" alt=\"result\" /></a></p>\n"}],"owner":{"account_id":10290135,"reputation":771,"user_id":7592120,"accept_rate":100,"display_name":"Vikum Dheemantha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":448,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":69035587,"answer_count":1,"score":4,"last_activity_date":1665748099,"creation_date":1629782628,"question_id":68902157,"body_markdown":"In my report generation java application with iText 7, I need to get data from a large data tables which may extend to several pages. \r\n\r\nMy code segments to generate the table.\r\n\r\n```lang-java\r\n    Table table = new Table(new float[] {0.4f, 1f, 1f, 1f, 1.3f, 1f, 1.3f, 0.6f,0.6f,1.2f}, true)\r\n                .setWidth(UnitValue.createPercentValue(100))\r\n                .setMarginTop(tblTopMargin)\r\n                .setMarginBottom(0);\r\n    int count = 0;\r\n    while (!dataList.empty()) {\r\n        String[] dataRow = dataList.poll();\r\n        createDataRow(dataRow, table);\r\n        count++;\r\n        if(count % 10 == 0) {\r\n            table.flush();\r\n        }\r\n    }\r\n```\r\n\r\nimplementation of `createDataRaw` method is mentioned below,\r\n\r\n```lang-java\r\nprivate void createDataRow(String[] a, Table table) {\r\n    for (String s : a) {\r\n\r\n      Paragraph content = new Paragraph(s)\r\n        .setFontSize(7)\r\n        .setFixedLeading(9)\r\n        .setFontColor(new DeviceCmyk(0, 0, 0, 100));\r\n\r\n      Cell cell = new Cell()\r\n        .setBorder(new SolidBorder(ColorConstants.BLACK, 0.5f))\r\n        .setPaddingLeft(2)\r\n        .setPaddingTop(0)\r\n        .setPaddingBottom(0)\r\n        .setHorizontalAlignment(HorizontalAlignment.LEFT)\r\n        .setVerticalAlignment(VerticalAlignment.MIDDLE)\r\n        .add(content);\r\n\r\n      table.addCell(cell);\r\n    }\r\n  }\r\n```\r\n\r\nwith the given code table generated with all the data. But when there is a page break between tables then the bottom line of the table is not showing except for the last table bottom.\r\n\r\nscreenshots are attached here to get a more clear idea.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nCan someone help me to solve this issue?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bvsy9.png","title":"iText 7 (Java) When Large Table extend to next page it does not draw bottom border","body":"<p>In my report generation java application with iText 7, I need to get data from a large data tables which may extend to several pages.</p>\n<p>My code segments to generate the table.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    Table table = new Table(new float[] {0.4f, 1f, 1f, 1f, 1.3f, 1f, 1.3f, 0.6f,0.6f,1.2f}, true)\n                .setWidth(UnitValue.createPercentValue(100))\n                .setMarginTop(tblTopMargin)\n                .setMarginBottom(0);\n    int count = 0;\n    while (!dataList.empty()) {\n        String[] dataRow = dataList.poll();\n        createDataRow(dataRow, table);\n        count++;\n        if(count % 10 == 0) {\n            table.flush();\n        }\n    }\n</code></pre>\n<p>implementation of <code>createDataRaw</code> method is mentioned below,</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void createDataRow(String[] a, Table table) {\n    for (String s : a) {\n\n      Paragraph content = new Paragraph(s)\n        .setFontSize(7)\n        .setFixedLeading(9)\n        .setFontColor(new DeviceCmyk(0, 0, 0, 100));\n\n      Cell cell = new Cell()\n        .setBorder(new SolidBorder(ColorConstants.BLACK, 0.5f))\n        .setPaddingLeft(2)\n        .setPaddingTop(0)\n        .setPaddingBottom(0)\n        .setHorizontalAlignment(HorizontalAlignment.LEFT)\n        .setVerticalAlignment(VerticalAlignment.MIDDLE)\n        .add(content);\n\n      table.addCell(cell);\n    }\n  }\n</code></pre>\n<p>with the given code table generated with all the data. But when there is a page break between tables then the bottom line of the table is not showing except for the last table bottom.</p>\n<p>screenshots are attached here to get a more clear idea.</p>\n<p><a href=\"https://i.stack.imgur.com/bvsy9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bvsy9.png\" alt=\"enter image description here\" /></a></p>\n<p>Can someone help me to solve this issue?</p>\n"},{"tags":["java","windows","docker","gradle"],"answers":[{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1489849637,"creation_date":1489849282,"answer_id":42875936,"question_id":42875510,"body_markdown":"The plugin doesn&#39;t support Windows. It assumes you are running on a Linux system, because that&#39;s what Docker Engine requires. Docker for Windows uses Hyper-V virtualization (previously it relied on VirtualBox).\r\n\r\nYou&#39;ll need to run this Gradle plugin on a Linux system. That could be a VM on your Windows machine. I prefer to skip Docker for Windows; instead I run VirtualBox with a suitable Linux guest, then follow the installation instructions for Docker Engine inside that guest. Then, alongside `docker` in that guest, you can install `gradle` and any other development tools you need.","title":"Can&#39;t build docker image via gradle on Windows 10","body":"<p>The plugin doesn't support Windows. It assumes you are running on a Linux system, because that's what Docker Engine requires. Docker for Windows uses Hyper-V virtualization (previously it relied on VirtualBox).</p>\n\n<p>You'll need to run this Gradle plugin on a Linux system. That could be a VM on your Windows machine. I prefer to skip Docker for Windows; instead I run VirtualBox with a suitable Linux guest, then follow the installation instructions for Docker Engine inside that guest. Then, alongside <code>docker</code> in that guest, you can install <code>gradle</code> and any other development tools you need.</p>\n"},{"tags":[],"owner":{"account_id":243256,"reputation":3047,"user_id":515310,"display_name":"Christian Kohlsch&#252;tter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665748053,"creation_date":1665748053,"answer_id":74068736,"question_id":42875510,"body_markdown":"You&#39;re running an old version of junixsocket that does not support Windows. You need to upgrade to a later version.\r\n\r\nTry changing your junixsocket dependencies to\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.kohlschutter.junixsocket&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junixsocket-core&lt;/artifactId&gt;\r\n      &lt;version&gt;2.5.2&lt;/version&gt;\r\n      &lt;type&gt;pom&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\n\r\nPS: You have another error in the dependency configuration for native-common: `&lt;type&gt;pom&lt;/type&gt;` should only be specified for `junixsocket-core`, which is a POM-type artifact that includes `junixsocket-common` and `junixsocket-native-common`, which are both jar-type artifacts. Therefore just remove that declaration, since `junixsocket-core` is all you should need.\r\n","title":"Can&#39;t build docker image via gradle on Windows 10","body":"<p>You're running an old version of junixsocket that does not support Windows. You need to upgrade to a later version.</p>\n<p>Try changing your junixsocket dependencies to</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.kohlschutter.junixsocket&lt;/groupId&gt;\n  &lt;artifactId&gt;junixsocket-core&lt;/artifactId&gt;\n  &lt;version&gt;2.5.2&lt;/version&gt;\n  &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>PS: You have another error in the dependency configuration for native-common: <code>&lt;type&gt;pom&lt;/type&gt;</code> should only be specified for <code>junixsocket-core</code>, which is a POM-type artifact that includes <code>junixsocket-common</code> and <code>junixsocket-native-common</code>, which are both jar-type artifacts. Therefore just remove that declaration, since <code>junixsocket-core</code> is all you should need.</p>\n"}],"owner":{"account_id":3231382,"reputation":2066,"user_id":2726561,"accept_rate":100,"display_name":"Vololodymyr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1348,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":42875936,"answer_count":2,"score":0,"last_activity_date":1665748053,"creation_date":1489846758,"question_id":42875510,"body_markdown":"I am new to Docker and i have problems with building image from the gradle script using [gradle-docker-plugin][1] :\r\n\r\n    task dockerBuildImage(type: DockerBuildImage, dependsOn: [dockerCreateDockerfile, assemble]) {\r\n        tag = &quot;my_tag_here&quot;\r\n        dockerFile = dockerCreateDockerfile.destFile\r\n        inputDir = dockerCreateDockerfile.destFile.parentFile\r\n    }\r\n\r\nAnd than i am getting such stacktrace:\r\n\r\n    Building image using context &#39;D:\\Learning\\1\\myproject\\webapp\\build&#39;.\r\n    Using Dockerfile &#39;D:\\Learning\\1\\myproject\\webapp\\build\\Dockerfile&#39;\r\n    Using tag &#39;localhost:5000/test/myproject-webapp:1.0.0-20170318135307&#39; for image.\r\n    Operating System not officially supported by junixsocket: Windows 10\r\n    java.lang.UnsatisfiedLinkError: Could not find library in classpath, tried: [libjunixsocket-windows10-1.8-amd64.so, libjunixsocket-windows10-1.5-amd64.so]\r\n            at org.newsclub.net.unix.NativeUnixSocket.load(NativeUnixSocket.java:81)\r\n            at org.newsclub.net.unix.NativeUnixSocket.&lt;clinit&gt;(NativeUnixSocket.java:112)\r\n            at org.newsclub.net.unix.AFUNIXSocket.&lt;init&gt;(AFUNIXSocket.java:36)\r\n            at org.newsclub.net.unix.AFUNIXSocket.newInstance(AFUNIXSocket.java:50)\r\n            at com.github.dockerjava.jaxrs.ApacheUnixSocket.&lt;init&gt;(ApacheUnixSocket.java:51)\r\n            at com.github.dockerjava.jaxrs.UnixConnectionSocketFactory.createSocket(UnixConnectionSocketFactory.java:66)\r\n            at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:118)\r\n            at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:353)\r\n            at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:380)\r\n            at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\r\n            at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:184)\r\n            at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:88)\r\n            at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\r\n            at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184)\r\n            at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:71)\r\n            at org.glassfish.jersey.apache.connector.ApacheConnector.apply(ApacheConnector.java:435)\r\n            at org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:252)\r\n            at org.glassfish.jersey.client.JerseyInvocation$2.call(JerseyInvocation.java:701)\r\n            at org.glassfish.jersey.internal.Errors.process(Errors.java:315)\r\n            at org.glassfish.jersey.internal.Errors.process(Errors.java:297)\r\n            at org.glassfish.jersey.internal.Errors.process(Errors.java:228)\r\n            at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:444)\r\n            at org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:697)\r\n            at org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:448)\r\n            at org.glassfish.jersey.client.JerseyInvocation$Builder.post(JerseyInvocation.java:349)\r\n            at com.github.dockerjava.jaxrs.async.POSTCallbackNotifier.response(POSTCallbackNotifier.java:29)\r\n            at com.github.dockerjava.jaxrs.async.AbstractCallbackNotifier.call(AbstractCallbackNotifier.java:50)\r\n            at com.github.dockerjava.jaxrs.async.AbstractCallbackNotifier.call(AbstractCallbackNotifier.java:24)\r\n            at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n            at java.lang.Thread.run(Thread.java:745)\r\n    [dockerjava-jaxrs-async-0] ERROR com.github.dockerjava.core.async.ResultCallbackTemplate - Error during callback\r\n    java.lang.NoClassDefFoundError: Could not initialize class org.newsclub.net.unix.NativeUnixSocket\r\n            at org.newsclub.net.unix.AFUNIXSocketImpl.connect(AFUNIXSocketImpl.java:134)\r\n            at org.newsclub.net.unix.AFUNIXSocket.connect(AFUNIXSocket.java:97)\r\n            at com.github.dockerjava.jaxrs.ApacheUnixSocket.connect(ApacheUnixSocket.java:62)\r\n            at com.github.dockerjava.jaxrs.UnixConnectionSocketFactory.connectSocket(UnixConnectionSocketFactory.java:74)\r\n            at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:134)\r\n            at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:353)\r\n            at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:380)\r\n            at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\r\n            at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:184)\r\n            at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:88)\r\n            at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\r\n            at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184)\r\n            at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:71)\r\n            at org.glassfish.jersey.apache.connector.ApacheConnector.apply(ApacheConnector.java:435)\r\n            at org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:252)\r\n            at org.glassfish.jersey.client.JerseyInvocation$2.call(JerseyInvocation.java:701)\r\n            at org.glassfish.jersey.internal.Errors.process(Errors.java:315)\r\n            at org.glassfish.jersey.internal.Errors.process(Errors.java:297)\r\n            at org.glassfish.jersey.internal.Errors.process(Errors.java:228)\r\n            at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:444)\r\n            at org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:697)\r\n            at org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:448)\r\n            at org.glassfish.jersey.client.JerseyInvocation$Builder.post(JerseyInvocation.java:349)\r\n            at com.github.dockerjava.jaxrs.async.POSTCallbackNotifier.response(POSTCallbackNotifier.java:29)\r\n            at com.github.dockerjava.jaxrs.async.AbstractCallbackNotifier.call(AbstractCallbackNotifier.java:50)\r\n            at com.github.dockerjava.jaxrs.async.AbstractCallbackNotifier.call(AbstractCallbackNotifier.java:24)\r\n            at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n            at java.lang.Thread.run(Thread.java:745)\r\n    :webapp:dockerBuildImage FAILED\r\n\r\nIf i run &quot;docker build&quot; command directly - everything working fine. \r\nCan someone point me direction what can be wrong. Any ideas. \r\n\r\n  [1]: https://github.com/bmuschko/gradle-docker-plugin\r\n","title":"Can&#39;t build docker image via gradle on Windows 10","body":"<p>I am new to Docker and i have problems with building image from the gradle script using <a href=\"https://github.com/bmuschko/gradle-docker-plugin\" rel=\"nofollow noreferrer\">gradle-docker-plugin</a> :</p>\n\n<pre><code>task dockerBuildImage(type: DockerBuildImage, dependsOn: [dockerCreateDockerfile, assemble]) {\n    tag = \"my_tag_here\"\n    dockerFile = dockerCreateDockerfile.destFile\n    inputDir = dockerCreateDockerfile.destFile.parentFile\n}\n</code></pre>\n\n<p>And than i am getting such stacktrace:</p>\n\n<pre><code>Building image using context 'D:\\Learning\\1\\myproject\\webapp\\build'.\nUsing Dockerfile 'D:\\Learning\\1\\myproject\\webapp\\build\\Dockerfile'\nUsing tag 'localhost:5000/test/myproject-webapp:1.0.0-20170318135307' for image.\nOperating System not officially supported by junixsocket: Windows 10\njava.lang.UnsatisfiedLinkError: Could not find library in classpath, tried: [libjunixsocket-windows10-1.8-amd64.so, libjunixsocket-windows10-1.5-amd64.so]\n        at org.newsclub.net.unix.NativeUnixSocket.load(NativeUnixSocket.java:81)\n        at org.newsclub.net.unix.NativeUnixSocket.&lt;clinit&gt;(NativeUnixSocket.java:112)\n        at org.newsclub.net.unix.AFUNIXSocket.&lt;init&gt;(AFUNIXSocket.java:36)\n        at org.newsclub.net.unix.AFUNIXSocket.newInstance(AFUNIXSocket.java:50)\n        at com.github.dockerjava.jaxrs.ApacheUnixSocket.&lt;init&gt;(ApacheUnixSocket.java:51)\n        at com.github.dockerjava.jaxrs.UnixConnectionSocketFactory.createSocket(UnixConnectionSocketFactory.java:66)\n        at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:118)\n        at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:353)\n        at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:380)\n        at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\n        at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:184)\n        at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:88)\n        at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\n        at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184)\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:71)\n        at org.glassfish.jersey.apache.connector.ApacheConnector.apply(ApacheConnector.java:435)\n        at org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:252)\n        at org.glassfish.jersey.client.JerseyInvocation$2.call(JerseyInvocation.java:701)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:315)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:297)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:228)\n        at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:444)\n        at org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:697)\n        at org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:448)\n        at org.glassfish.jersey.client.JerseyInvocation$Builder.post(JerseyInvocation.java:349)\n        at com.github.dockerjava.jaxrs.async.POSTCallbackNotifier.response(POSTCallbackNotifier.java:29)\n        at com.github.dockerjava.jaxrs.async.AbstractCallbackNotifier.call(AbstractCallbackNotifier.java:50)\n        at com.github.dockerjava.jaxrs.async.AbstractCallbackNotifier.call(AbstractCallbackNotifier.java:24)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at java.lang.Thread.run(Thread.java:745)\n[dockerjava-jaxrs-async-0] ERROR com.github.dockerjava.core.async.ResultCallbackTemplate - Error during callback\njava.lang.NoClassDefFoundError: Could not initialize class org.newsclub.net.unix.NativeUnixSocket\n        at org.newsclub.net.unix.AFUNIXSocketImpl.connect(AFUNIXSocketImpl.java:134)\n        at org.newsclub.net.unix.AFUNIXSocket.connect(AFUNIXSocket.java:97)\n        at com.github.dockerjava.jaxrs.ApacheUnixSocket.connect(ApacheUnixSocket.java:62)\n        at com.github.dockerjava.jaxrs.UnixConnectionSocketFactory.connectSocket(UnixConnectionSocketFactory.java:74)\n        at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:134)\n        at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:353)\n        at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:380)\n        at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\n        at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:184)\n        at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:88)\n        at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\n        at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184)\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:71)\n        at org.glassfish.jersey.apache.connector.ApacheConnector.apply(ApacheConnector.java:435)\n        at org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:252)\n        at org.glassfish.jersey.client.JerseyInvocation$2.call(JerseyInvocation.java:701)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:315)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:297)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:228)\n        at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:444)\n        at org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:697)\n        at org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:448)\n        at org.glassfish.jersey.client.JerseyInvocation$Builder.post(JerseyInvocation.java:349)\n        at com.github.dockerjava.jaxrs.async.POSTCallbackNotifier.response(POSTCallbackNotifier.java:29)\n        at com.github.dockerjava.jaxrs.async.AbstractCallbackNotifier.call(AbstractCallbackNotifier.java:50)\n        at com.github.dockerjava.jaxrs.async.AbstractCallbackNotifier.call(AbstractCallbackNotifier.java:24)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at java.lang.Thread.run(Thread.java:745)\n:webapp:dockerBuildImage FAILED\n</code></pre>\n\n<p>If i run \"docker build\" command directly - everything working fine. \nCan someone point me direction what can be wrong. Any ideas. </p>\n"},{"tags":["java","ubuntu","docker","virtualbox"],"answers":[{"tags":[],"owner":{"account_id":5696857,"reputation":47,"user_id":4503098,"display_name":"Dahai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1502078275,"creation_date":1502078275,"answer_id":45539201,"question_id":45496205,"body_markdown":"I have found a solution using another Java API. That is &lt;a href=&quot;https://github.com/spotify/docker-client&quot;&gt;spotify/docker-client&lt;/a&gt;. I used the API like this:\r\n\r\n    import java.net.URI;\r\n    import java.util.Arrays;\r\n    \r\n    import com.google.common.collect.ImmutableMap;\r\n    import com.spotify.docker.client.DefaultDockerClient;\r\n    import com.spotify.docker.client.DockerClient;\r\n    import com.spotify.docker.client.LogStream;\r\n    import com.spotify.docker.client.messages.ContainerConfig;\r\n    import com.spotify.docker.client.messages.ContainerCreation;\r\n    import com.spotify.docker.client.messages.ExecCreation;\r\n    import com.spotify.docker.client.messages.HostConfig;\r\n    import com.spotify.docker.client.messages.HostConfig.Bind;\r\n    import com.spotify.docker.client.messages.PortBinding;\r\n    \r\n    public class MyDocker {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\ttry {\r\n\t\t\tDockerClient dockerClient = DefaultDockerClient.builder()\r\n\t\t\t\t        .uri(URI.create(&quot;http://192.168.5.31:2375&quot;))\r\n\t\t\t\t        .build();\r\n\t\t\t// Pull an image\r\n\t\t\t//docker.pull(&quot;tomcat&quot;);\r\n\t\t\t\r\n\t\t\tString p = PortBinding.randomPort(&quot;192.168.5.31&quot;).hostPort();\r\n\t\t\t\r\n\t\t\tfinal HostConfig hostConfig = HostConfig.builder()\r\n\t\t\t\t    .appendBinds(Bind.from(&quot;/home/cdh/test&quot;)\r\n\t\t\t\t               .to(&quot;/usr/local/tomcat/webapps/test&quot;).readOnly(false)\r\n\t\t\t\t               .build())\r\n\t\t\t\t\t.portBindings(ImmutableMap.of(&quot;8080/tcp&quot;, Arrays.asList(PortBinding.of(&quot;0.0.0.0&quot;, p)))).build();\t\r\n\t\t\t\r\n\t\t\t\r\n\r\n\t\t    final ContainerConfig containerConfig = ContainerConfig.builder()\r\n\t\t            .hostConfig(hostConfig)\r\n\t\t            .image(&quot;tomcat:latest&quot;).exposedPorts(&quot;8080/tcp&quot;)\r\n\t\t            .build();\r\n\r\n\t\t    final ContainerCreation creation = dockerClient.createContainer(containerConfig);\r\n\t\t    final String id = creation.id();\r\n\r\n\t\t    // Start container\r\n\t\t    dockerClient.startContainer(id);\r\n\t\t\t// Exec command inside running container with attached STDOUT and STDERR\r\n\t\t\tfinal String[] command = {&quot;bash&quot;, &quot;-c&quot;, &quot;ls&quot;};\r\n\t\t\tfinal ExecCreation execCreation = dockerClient.execCreate(\r\n\t\t\t    id, command, DockerClient.ExecCreateParam.attachStdout(),\r\n\t\t\t    DockerClient.ExecCreateParam.attachStderr());\r\n\t\t\tfinal LogStream output = dockerClient.execStart(execCreation.id());\r\n\t\t\tfinal String execOutput = output.readFully();\r\n\r\n\t\t\t// Kill container\r\n\t\t\tdockerClient.killContainer(id);\r\n\r\n\t\t\t// Remove container\r\n\t\t\tdockerClient.removeContainer(id);\r\n\r\n\t\t\t// Close the docker client\r\n\t\t\tdockerClient.close();\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\r\nIt works perfectly. Now I suggested you can use the following code to access docker.\r\n\r\nCheers!","title":"Docker-java API connect virtualbox ubuntu docker in Eclipse on windows 10","body":"<p>I have found a solution using another Java API. That is <a href=\"https://github.com/spotify/docker-client\" rel=\"nofollow noreferrer\">spotify/docker-client</a>. I used the API like this:</p>\n\n<pre><code>import java.net.URI;\nimport java.util.Arrays;\n\nimport com.google.common.collect.ImmutableMap;\nimport com.spotify.docker.client.DefaultDockerClient;\nimport com.spotify.docker.client.DockerClient;\nimport com.spotify.docker.client.LogStream;\nimport com.spotify.docker.client.messages.ContainerConfig;\nimport com.spotify.docker.client.messages.ContainerCreation;\nimport com.spotify.docker.client.messages.ExecCreation;\nimport com.spotify.docker.client.messages.HostConfig;\nimport com.spotify.docker.client.messages.HostConfig.Bind;\nimport com.spotify.docker.client.messages.PortBinding;\n\npublic class MyDocker {\n\npublic static void main(String[] args) {\n    try {\n        DockerClient dockerClient = DefaultDockerClient.builder()\n                    .uri(URI.create(\"http://192.168.5.31:2375\"))\n                    .build();\n        // Pull an image\n        //docker.pull(\"tomcat\");\n\n        String p = PortBinding.randomPort(\"192.168.5.31\").hostPort();\n\n        final HostConfig hostConfig = HostConfig.builder()\n                .appendBinds(Bind.from(\"/home/cdh/test\")\n                           .to(\"/usr/local/tomcat/webapps/test\").readOnly(false)\n                           .build())\n                .portBindings(ImmutableMap.of(\"8080/tcp\", Arrays.asList(PortBinding.of(\"0.0.0.0\", p)))).build();    \n\n\n\n        final ContainerConfig containerConfig = ContainerConfig.builder()\n                .hostConfig(hostConfig)\n                .image(\"tomcat:latest\").exposedPorts(\"8080/tcp\")\n                .build();\n\n        final ContainerCreation creation = dockerClient.createContainer(containerConfig);\n        final String id = creation.id();\n\n        // Start container\n        dockerClient.startContainer(id);\n        // Exec command inside running container with attached STDOUT and STDERR\n        final String[] command = {\"bash\", \"-c\", \"ls\"};\n        final ExecCreation execCreation = dockerClient.execCreate(\n            id, command, DockerClient.ExecCreateParam.attachStdout(),\n            DockerClient.ExecCreateParam.attachStderr());\n        final LogStream output = dockerClient.execStart(execCreation.id());\n        final String execOutput = output.readFully();\n\n        // Kill container\n        dockerClient.killContainer(id);\n\n        // Remove container\n        dockerClient.removeContainer(id);\n\n        // Close the docker client\n        dockerClient.close();\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>It works perfectly. Now I suggested you can use the following code to access docker.</p>\n\n<p>Cheers!</p>\n"},{"tags":[],"owner":{"account_id":243256,"reputation":3047,"user_id":515310,"display_name":"Christian Kohlsch&#252;tter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665747955,"creation_date":1665747955,"answer_id":74068720,"question_id":45496205,"body_markdown":"junixsocket version 2.0.4 does not support Windows. You need to upgrade to a later version.\r\n\r\nTry changing your junixsocket dependencies to\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.kohlschutter.junixsocket&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junixsocket-core&lt;/artifactId&gt;\r\n      &lt;version&gt;2.5.2&lt;/version&gt;\r\n      &lt;type&gt;pom&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\n","title":"Docker-java API connect virtualbox ubuntu docker in Eclipse on windows 10","body":"<p>junixsocket version 2.0.4 does not support Windows. You need to upgrade to a later version.</p>\n<p>Try changing your junixsocket dependencies to</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.kohlschutter.junixsocket&lt;/groupId&gt;\n  &lt;artifactId&gt;junixsocket-core&lt;/artifactId&gt;\n  &lt;version&gt;2.5.2&lt;/version&gt;\n  &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":5696857,"reputation":47,"user_id":4503098,"display_name":"Dahai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":826,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665747955,"creation_date":1501803911,"question_id":45496205,"body_markdown":"I have installed virtualbox on windows 10 and created a Ubuntu instance for docker host. Then installed docker on Ubuntu. I want to connect the docker using docker-java API (I am using docker-java 3.0.12), the code is below:\r\n\r\n    DockerClientConfig config = DefaultDockerClientConfig.createDefaultConfigBuilder()\r\n    \t\t\t\t\t.withDockerHost(&quot;tcp://192.168.5.31:2375&quot;).build();\r\n    DockerClient dockerClient = DockerClientBuilder.getInstance(config).build();\r\n    \r\n    CreateContainerResponse container1 =\r\n    dockerClient.createContainerCmd(&quot;tomcat:latest&quot;).withCmd(&quot;sleep&quot;, &quot;9999&quot;) .withName(&quot;mytomcat3&quot;).exec();\r\n    \r\n    dockerClient = DockerClientBuilder.getInstance().build();\r\n    dockerClient.startContainerCmd(container1.getId()).exec();\r\n\r\nI have got the follows info:\r\n\r\n    java.lang.RuntimeException: Library &#39;junixsocket-native-2.0.4.dll&#39; not found!\r\n    \tat org.newsclub.net.unix.NarSystem.getLibPath(NarSystem.java:132)\r\n    \tat org.newsclub.net.unix.NarSystem.loadLibrary(NarSystem.java:36)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.newsclub.net.unix.NativeUnixSocket.&lt;clinit&gt;(NativeUnixSocket.java:35)\r\n    \tat org.newsclub.net.unix.AFUNIXSocket.&lt;init&gt;(AFUNIXSocket.java:36)\r\n    \tat org.newsclub.net.unix.AFUNIXSocket.newInstance(AFUNIXSocket.java:54)\r\n    \tat com.github.dockerjava.jaxrs.ApacheUnixSocket.&lt;init&gt;(ApacheUnixSocket.java:51)\r\n    \tat com.github.dockerjava.jaxrs.UnixConnectionSocketFactory.createSocket(UnixConnectionSocketFactory.java:66)\r\n    \tat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:118)\r\n    \tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:353)\r\n    \tat org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:380)\r\n    \tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\r\n    \tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:184)\r\n    \tat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:88)\r\n    \tat org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\r\n    \tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184)\r\n    \tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:71)\r\n    \tat org.glassfish.jersey.apache.connector.ApacheConnector.apply(ApacheConnector.java:435)\r\n    \tat org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:252)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation$1.call(JerseyInvocation.java:684)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation$1.call(JerseyInvocation.java:681)\r\n    \tat org.glassfish.jersey.internal.Errors.process(Errors.java:315)\r\n    \tat org.glassfish.jersey.internal.Errors.process(Errors.java:297)\r\n    \tat org.glassfish.jersey.internal.Errors.process(Errors.java:228)\r\n    \tat org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:444)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:681)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:437)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation$Builder.post(JerseyInvocation.java:343)\r\n    \tat com.github.dockerjava.jaxrs.StartContainerCmdExec.execute(StartContainerCmdExec.java:29)\r\n    \tat com.github.dockerjava.jaxrs.StartContainerCmdExec.execute(StartContainerCmdExec.java:12)\r\n    \tat com.github.dockerjava.jaxrs.AbstrSyncDockerCmdExec.exec(AbstrSyncDockerCmdExec.java:23)\r\n    \tat com.github.dockerjava.core.command.AbstrDockerCmd.exec(AbstrDockerCmd.java:35)\r\n    \tat com.github.dockerjava.core.command.StartContainerCmdImpl.exec(StartContainerCmdImpl.java:46)\r\n    \tat docker.MyDocker.main(MyDocker.java:53)...\r\n\r\nI can not download the dll. Can you please tell me how to fix this problem?\r\n\r\nMany thanks!\r\n\r\n","title":"Docker-java API connect virtualbox ubuntu docker in Eclipse on windows 10","body":"<p>I have installed virtualbox on windows 10 and created a Ubuntu instance for docker host. Then installed docker on Ubuntu. I want to connect the docker using docker-java API (I am using docker-java 3.0.12), the code is below:</p>\n\n<pre><code>DockerClientConfig config = DefaultDockerClientConfig.createDefaultConfigBuilder()\n                    .withDockerHost(\"tcp://192.168.5.31:2375\").build();\nDockerClient dockerClient = DockerClientBuilder.getInstance(config).build();\n\nCreateContainerResponse container1 =\ndockerClient.createContainerCmd(\"tomcat:latest\").withCmd(\"sleep\", \"9999\") .withName(\"mytomcat3\").exec();\n\ndockerClient = DockerClientBuilder.getInstance().build();\ndockerClient.startContainerCmd(container1.getId()).exec();\n</code></pre>\n\n<p>I have got the follows info:</p>\n\n<pre><code>java.lang.RuntimeException: Library 'junixsocket-native-2.0.4.dll' not found!\n    at org.newsclub.net.unix.NarSystem.getLibPath(NarSystem.java:132)\n    at org.newsclub.net.unix.NarSystem.loadLibrary(NarSystem.java:36)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.newsclub.net.unix.NativeUnixSocket.&lt;clinit&gt;(NativeUnixSocket.java:35)\n    at org.newsclub.net.unix.AFUNIXSocket.&lt;init&gt;(AFUNIXSocket.java:36)\n    at org.newsclub.net.unix.AFUNIXSocket.newInstance(AFUNIXSocket.java:54)\n    at com.github.dockerjava.jaxrs.ApacheUnixSocket.&lt;init&gt;(ApacheUnixSocket.java:51)\n    at com.github.dockerjava.jaxrs.UnixConnectionSocketFactory.createSocket(UnixConnectionSocketFactory.java:66)\n    at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:118)\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:353)\n    at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:380)\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:184)\n    at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:88)\n    at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:71)\n    at org.glassfish.jersey.apache.connector.ApacheConnector.apply(ApacheConnector.java:435)\n    at org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:252)\n    at org.glassfish.jersey.client.JerseyInvocation$1.call(JerseyInvocation.java:684)\n    at org.glassfish.jersey.client.JerseyInvocation$1.call(JerseyInvocation.java:681)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:315)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:297)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:228)\n    at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:444)\n    at org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:681)\n    at org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:437)\n    at org.glassfish.jersey.client.JerseyInvocation$Builder.post(JerseyInvocation.java:343)\n    at com.github.dockerjava.jaxrs.StartContainerCmdExec.execute(StartContainerCmdExec.java:29)\n    at com.github.dockerjava.jaxrs.StartContainerCmdExec.execute(StartContainerCmdExec.java:12)\n    at com.github.dockerjava.jaxrs.AbstrSyncDockerCmdExec.exec(AbstrSyncDockerCmdExec.java:23)\n    at com.github.dockerjava.core.command.AbstrDockerCmd.exec(AbstrDockerCmd.java:35)\n    at com.github.dockerjava.core.command.StartContainerCmdImpl.exec(StartContainerCmdImpl.java:46)\n    at docker.MyDocker.main(MyDocker.java:53)...\n</code></pre>\n\n<p>I can not download the dll. Can you please tell me how to fix this problem?</p>\n\n<p>Many thanks!</p>\n"},{"tags":["java","spring-boot","unit-testing","bitbucket"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1665747597,"post_id":74068628,"comment_id":130775807,"body_markdown":"80 is a privileged port. Try 8080","body":"80 is a privileged port. Try 8080"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1665747711,"post_id":74068628,"comment_id":130775825,"body_markdown":"`result` is null, you should check why. I guess the port 80 is already in use on the server","body":"<code>result</code> is null, you should check why. I guess the port 80 is already in use on the server"},{"owner":{"account_id":25542851,"reputation":37,"user_id":19328650,"display_name":"podehi"},"score":0,"creation_date":1665748113,"post_id":74068628,"comment_id":130775962,"body_markdown":"@tgdavies Same problem.","body":"@tgdavies Same problem."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1665748641,"post_id":74068628,"comment_id":130776151,"body_markdown":"As @Jens suggests, you&#39;ll need to find out why result is null.","body":"As @Jens suggests, you&#39;ll need to find out why result is null."}],"owner":{"account_id":25542851,"reputation":37,"user_id":19328650,"display_name":"podehi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665747513,"creation_date":1665747441,"question_id":74068628,"body_markdown":"Here&#39;s the method I&#39;m testing:\r\n```\r\n    public Socket initSocket(String[] possibleHosts, int port) {\r\n        for(String host : possibleHosts) {\r\n            try {\r\n                socket = new Socket(host, port);\r\n\r\n                LOG.info(&quot;initSocket(): Successfully initialized socket with host: &quot; + host);\r\n\r\n                break;\r\n            } catch (Exception e) {\r\n                LOG.error(&quot;initSocket(): Failed to initialize socket with host: &quot; + host, e);\r\n\r\n            }\r\n        }\r\n\r\n        return socket;\r\n    }\r\n```\r\n\r\nWhen the method is invoked, it&#39;s not known which hosts are up so it checks all of them. Here are the tests:\r\n```\r\nclass StompSocketTest extends Specification {\r\n\r\n    @Subject\r\n    def stompSocket = new StompSocket()\r\n\r\n    def &quot;Should initialize a socket with the first host&quot;() {\r\n        given:\r\n        String[] possibleHosts = [ &quot;localhost&quot;, &quot;wrongHost&quot; ]\r\n        def port = 80\r\n\r\n        when:\r\n        def result = stompSocket.initSocket( possibleHosts, port )\r\n\r\n        then:\r\n        result.getInetAddress().getHostName() == &quot;localhost&quot;\r\n        result.getPort() == 80\r\n    }\r\n\r\n    def &quot;Should initialize a socket with the second host&quot;() {\r\n        given:\r\n        String[] possibleHosts = [ &quot;wrongHost&quot;, &quot;localhost&quot; ]\r\n        def port = 80\r\n\r\n        when:\r\n        def result = stompSocket.initSocket( possibleHosts, port )\r\n\r\n        then:\r\n        result.getInetAddress().getHostName() == &quot;localhost&quot;\r\n        result.getPort() == 80\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe tests pass locally but they fail in a Bitbucket pipeline:\r\n```\r\nresult.getInetAddress().getHostName() == &quot;localhost&quot;\r\n|      |\r\nnull   java.lang.NullPointerException: Cannot invoke method getInetAddress() on null object\r\n```\r\n\r\nI suspect it has something to do with &quot;localhost&quot; not being a proper name for a host in the pipeline environment. However, I have no idea how to fix the issue so that it passes both locally and in the pipeline.","title":"Socket tests pass locally but fail in a Bitbucket pipeline","body":"<p>Here's the method I'm testing:</p>\n<pre><code>    public Socket initSocket(String[] possibleHosts, int port) {\n        for(String host : possibleHosts) {\n            try {\n                socket = new Socket(host, port);\n\n                LOG.info(&quot;initSocket(): Successfully initialized socket with host: &quot; + host);\n\n                break;\n            } catch (Exception e) {\n                LOG.error(&quot;initSocket(): Failed to initialize socket with host: &quot; + host, e);\n\n            }\n        }\n\n        return socket;\n    }\n</code></pre>\n<p>When the method is invoked, it's not known which hosts are up so it checks all of them. Here are the tests:</p>\n<pre><code>class StompSocketTest extends Specification {\n\n    @Subject\n    def stompSocket = new StompSocket()\n\n    def &quot;Should initialize a socket with the first host&quot;() {\n        given:\n        String[] possibleHosts = [ &quot;localhost&quot;, &quot;wrongHost&quot; ]\n        def port = 80\n\n        when:\n        def result = stompSocket.initSocket( possibleHosts, port )\n\n        then:\n        result.getInetAddress().getHostName() == &quot;localhost&quot;\n        result.getPort() == 80\n    }\n\n    def &quot;Should initialize a socket with the second host&quot;() {\n        given:\n        String[] possibleHosts = [ &quot;wrongHost&quot;, &quot;localhost&quot; ]\n        def port = 80\n\n        when:\n        def result = stompSocket.initSocket( possibleHosts, port )\n\n        then:\n        result.getInetAddress().getHostName() == &quot;localhost&quot;\n        result.getPort() == 80\n    }\n\n}\n</code></pre>\n<p>The tests pass locally but they fail in a Bitbucket pipeline:</p>\n<pre><code>result.getInetAddress().getHostName() == &quot;localhost&quot;\n|      |\nnull   java.lang.NullPointerException: Cannot invoke method getInetAddress() on null object\n</code></pre>\n<p>I suspect it has something to do with &quot;localhost&quot; not being a proper name for a host in the pipeline environment. However, I have no idea how to fix the issue so that it passes both locally and in the pipeline.</p>\n"},{"tags":["java","apache-nifi"],"answers":[{"tags":[],"owner":{"account_id":2567554,"reputation":1043,"user_id":3810086,"display_name":"tonykoval"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1665731386,"creation_date":1665731386,"answer_id":74065562,"question_id":74060790,"body_markdown":"You cannot depend on a field/attribute that is modified itself. Try this:\r\n```\r\n/dateFormatted  format(toDate(/date, &quot;yyyyMMdd&quot;),&quot;yyyy-MM-dd&quot;)\r\n/day   format(toDate(/date, &quot;yyyyMMdd&quot;),&quot;dd&quot;)\r\n/month format(toDate(/date, &quot;yyyyMMdd&quot;),&quot;MM&quot;)\r\n/year  format(toDate(/date, &quot;yyyyMMdd&quot;),&quot;yyyy&quot;)\r\n```\r\n\r\nOutput:\r\n```json\r\n{\r\n  &quot;date&quot; : &quot;20220103&quot;,\r\n  &quot;day&quot; : &quot;03&quot;,\r\n  &quot;dateFormatted&quot; : &quot;2022-01-03&quot;,\r\n  &quot;year&quot; : &quot;2022&quot;,\r\n  &quot;month&quot; : &quot;01&quot;\r\n}\r\n```","title":"NiFI toDate function in UpdateRecord alert the year and month","body":"<p>You cannot depend on a field/attribute that is modified itself. Try this:</p>\n<pre><code>/dateFormatted  format(toDate(/date, &quot;yyyyMMdd&quot;),&quot;yyyy-MM-dd&quot;)\n/day   format(toDate(/date, &quot;yyyyMMdd&quot;),&quot;dd&quot;)\n/month format(toDate(/date, &quot;yyyyMMdd&quot;),&quot;MM&quot;)\n/year  format(toDate(/date, &quot;yyyyMMdd&quot;),&quot;yyyy&quot;)\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;date&quot; : &quot;20220103&quot;,\n  &quot;day&quot; : &quot;03&quot;,\n  &quot;dateFormatted&quot; : &quot;2022-01-03&quot;,\n  &quot;year&quot; : &quot;2022&quot;,\n  &quot;month&quot; : &quot;01&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":12683754,"reputation":1345,"user_id":9216423,"display_name":"Dulanga Heshan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665747344,"creation_date":1665688844,"question_id":74060790,"body_markdown":"My input flow file (CSV) contains the date as `20220103`. \r\nI want to create 3 properties as date, year, and month from the above input.\r\n\r\nSo I use the UpdateRecord processor with the below configurations:\r\n\r\n![processor configurations][1]\r\n\r\n    /date  format(toDate(/date, &quot;yyyyMMdd&quot;),&quot;yyyy-MM-dd&quot;)\r\n    /day   format(toDate(/date, &quot;yyyyMMdd&quot;),&quot;dd&quot;)\r\n    /month format(toDate(/date, &quot;yyyyMMdd&quot;),&quot;MM&quot;)\r\n    /year  format(toDate(/date, &quot;yyyyMMdd&quot;),&quot;yyyy&quot;)\r\n\r\nIt returns output flow file as below:\r\n```json\r\n[\r\n  {\r\n    &quot;date&quot;: &quot;2022-01-03&quot;,\r\n    &quot;year&quot;: 2021,\r\n    &quot;month&quot;: 12,\r\n    &quot;day&quot;: 3\r\n  }\r\n]\r\n```\r\nIt correctly converts the `/date` attribute, but `/year` and `/month` is different from input. How can I fix this?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YQJGc.png","title":"NiFI toDate function in UpdateRecord alert the year and month","body":"<p>My input flow file (CSV) contains the date as <code>20220103</code>.\nI want to create 3 properties as date, year, and month from the above input.</p>\n<p>So I use the UpdateRecord processor with the below configurations:</p>\n<p><img src=\"https://i.stack.imgur.com/YQJGc.png\" alt=\"processor configurations\" /></p>\n<pre><code>/date  format(toDate(/date, &quot;yyyyMMdd&quot;),&quot;yyyy-MM-dd&quot;)\n/day   format(toDate(/date, &quot;yyyyMMdd&quot;),&quot;dd&quot;)\n/month format(toDate(/date, &quot;yyyyMMdd&quot;),&quot;MM&quot;)\n/year  format(toDate(/date, &quot;yyyyMMdd&quot;),&quot;yyyy&quot;)\n</code></pre>\n<p>It returns output flow file as below:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;date&quot;: &quot;2022-01-03&quot;,\n    &quot;year&quot;: 2021,\n    &quot;month&quot;: 12,\n    &quot;day&quot;: 3\n  }\n]\n</code></pre>\n<p>It correctly converts the <code>/date</code> attribute, but <code>/year</code> and <code>/month</code> is different from input. How can I fix this?</p>\n"},{"tags":["java","unix-socket"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1629850303,"post_id":68913811,"comment_id":121794235,"body_markdown":"&#39;Instantiate communication&#39; means *creating* a socket. There is no prior socket, and therefore no prior file descriptor, to know. Your question doesn&#39;t make sense.","body":"&#39;Instantiate communication&#39; means <i>creating</i> a socket. There is no prior socket, and therefore no prior file descriptor, to know. Your question doesn&#39;t make sense."},{"owner":{"account_id":15043541,"reputation":105,"user_id":10857391,"display_name":"Igor"},"score":0,"creation_date":1629864611,"post_id":68913811,"comment_id":121796210,"body_markdown":"@user207421, sorry, I edited the question","body":"@user207421, sorry, I edited the question"}],"answers":[{"tags":[],"owner":{"account_id":243256,"reputation":3047,"user_id":515310,"display_name":"Christian Kohlsch&#252;tter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665747083,"creation_date":1665747083,"answer_id":74068566,"question_id":68913811,"body_markdown":"Since junixsocket 2.4 (although you should use the latest version, currently 2.5.2), we support &quot;casting&quot; `FileDescriptor` to several other objects, such as `Socket`, `InputStream`, etc.\r\n\r\njunixsocket will make sure that the &quot;cast&quot; (which isn&#39;t a trivial cast since it returns another object) succeeds — as long as the conversion is valid.\r\n\r\nExample:\r\n\r\n    FileDescriptor fd = ...;\r\n    AFUNIXSocket socket = FileDescriptorCast.using(fd).as(AFUNIXSocket.class);\r\n\r\nMore details here: https://kohlschutter.github.io/junixsocket/filedescriptors.html","title":"How to connect to Unix Domain Socket on client side service knowing only socket file descriptor","body":"<p>Since junixsocket 2.4 (although you should use the latest version, currently 2.5.2), we support &quot;casting&quot; <code>FileDescriptor</code> to several other objects, such as <code>Socket</code>, <code>InputStream</code>, etc.</p>\n<p>junixsocket will make sure that the &quot;cast&quot; (which isn't a trivial cast since it returns another object) succeeds — as long as the conversion is valid.</p>\n<p>Example:</p>\n<pre><code>FileDescriptor fd = ...;\nAFUNIXSocket socket = FileDescriptorCast.using(fd).as(AFUNIXSocket.class);\n</code></pre>\n<p>More details here: <a href=\"https://kohlschutter.github.io/junixsocket/filedescriptors.html\" rel=\"nofollow noreferrer\">https://kohlschutter.github.io/junixsocket/filedescriptors.html</a></p>\n"}],"owner":{"account_id":15043541,"reputation":105,"user_id":10857391,"display_name":"Igor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1665747083,"creation_date":1629837415,"question_id":68913811,"body_markdown":"My **Service A** communicates with another **Service B** on the same host through *UNIX Domain Socket (UDS)*. The only information I have is a value of socket file descriptor with which the **Service B** is ready to send data through socket to **Service A**. I use 3rd party library **junixsocket** to communicate through **UDS** between services. And my question is how using this library I can connect to the socket on **Service A** side knowing only the socket file descriptor?\r\n \r\nI just found how to connect to socket on **Service A** side with socketPath:\r\n\r\n`File socketFile = new File(&quot;/path/to/your/socket&quot;); \r\nAFUNIXSocket sock = AFUNIXSocket.newInstance();\r\nsock.connect(new AFUNIXSocketAddress(socketFile));`\r\n\r\nBut I need to know how to connect to it with just file descriptor\r\n\r\nI’m using openJDK-11, that’s why I have to use 3rd party library for UDS communication","title":"How to connect to Unix Domain Socket on client side service knowing only socket file descriptor","body":"<p>My <strong>Service A</strong> communicates with another <strong>Service B</strong> on the same host through <em>UNIX Domain Socket (UDS)</em>. The only information I have is a value of socket file descriptor with which the <strong>Service B</strong> is ready to send data through socket to <strong>Service A</strong>. I use 3rd party library <strong>junixsocket</strong> to communicate through <strong>UDS</strong> between services. And my question is how using this library I can connect to the socket on <strong>Service A</strong> side knowing only the socket file descriptor?</p>\n<p>I just found how to connect to socket on <strong>Service A</strong> side with socketPath:</p>\n<p><code>File socketFile = new File(&quot;/path/to/your/socket&quot;);  AFUNIXSocket sock = AFUNIXSocket.newInstance(); sock.connect(new AFUNIXSocketAddress(socketFile));</code></p>\n<p>But I need to know how to connect to it with just file descriptor</p>\n<p>I’m using openJDK-11, that’s why I have to use 3rd party library for UDS communication</p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1664263935,"post_id":73863234,"comment_id":130425222,"body_markdown":"Does this answer your question? [Spring Boot configure and use two data sources](https://stackoverflow.com/questions/30337582/spring-boot-configure-and-use-two-data-sources)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/30337582/spring-boot-configure-and-use-two-data-sources\">Spring Boot configure and use two data sources</a>"}],"answers":[{"tags":[],"owner":{"account_id":25435554,"reputation":135,"user_id":19239331,"display_name":"Gun Slinger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665746853,"creation_date":1665746853,"answer_id":74068518,"question_id":73863234,"body_markdown":"Creating more than one data source works same as creating the first one. You might want to mark one of them as @Primary if you are using the default auto-configuration for JDBC or JPA (then that one will be picked up by any @Autowired injections).\r\n```\r\n@Bean\r\n@Primary\r\n@ConfigurationProperties(prefix=&quot;datasource.primary&quot;)\r\npublic DataSource primaryDataSource() {\r\n    return DataSourceBuilder.create().build();\r\n}\r\n\r\n@Bean\r\n@ConfigurationProperties(prefix=&quot;datasource.secondary&quot;)\r\npublic DataSource secondaryDataSource() {\r\n    return DataSourceBuilder.create().build();\r\n}\r\n```","title":"How to access two different user of same db in Spring MVC","body":"<p>Creating more than one data source works same as creating the first one. You might want to mark one of them as @Primary if you are using the default auto-configuration for JDBC or JPA (then that one will be picked up by any @Autowired injections).</p>\n<pre><code>@Bean\n@Primary\n@ConfigurationProperties(prefix=&quot;datasource.primary&quot;)\npublic DataSource primaryDataSource() {\n    return DataSourceBuilder.create().build();\n}\n\n@Bean\n@ConfigurationProperties(prefix=&quot;datasource.secondary&quot;)\npublic DataSource secondaryDataSource() {\n    return DataSourceBuilder.create().build();\n}\n</code></pre>\n"}],"owner":{"account_id":26454704,"reputation":3,"user_id":20097413,"display_name":"Vivan Patel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74068518,"answer_count":1,"score":0,"last_activity_date":1665746853,"creation_date":1664260227,"question_id":73863234,"body_markdown":"I have an application that runs Spring MVC.\r\n\r\nI need it to access 2 different User of same DB in my app.\r\n\r\nHow do I configure this using application.properties file?\r\n\r\n&gt; application.properties file\r\n\r\n    jdbc.driverClassName=oracle.jdbc.driver.OracleDriver\r\n    jdbc.url=jdbc:oracle:thin:@myoracle.db.server:1521:my_sid\r\n    jdbc.username=USERA\r\n    jdbc.password=passwrord1\r\n\r\n    jdbc.driverClassName=oracle.jdbc.driver.OracleDriver\r\n    jdbc.url=jdbc:oracle:thin:@myoracle.db.server:1521:my_sid\r\n    jdbc.username=USERB\r\n    jdbc.password=passwrord2\r\n\r\n\r\nRegards.\r\n","title":"How to access two different user of same db in Spring MVC","body":"<p>I have an application that runs Spring MVC.</p>\n<p>I need it to access 2 different User of same DB in my app.</p>\n<p>How do I configure this using application.properties file?</p>\n<blockquote>\n<p>application.properties file</p>\n</blockquote>\n<pre><code>jdbc.driverClassName=oracle.jdbc.driver.OracleDriver\njdbc.url=jdbc:oracle:thin:@myoracle.db.server:1521:my_sid\njdbc.username=USERA\njdbc.password=passwrord1\n\njdbc.driverClassName=oracle.jdbc.driver.OracleDriver\njdbc.url=jdbc:oracle:thin:@myoracle.db.server:1521:my_sid\njdbc.username=USERB\njdbc.password=passwrord2\n</code></pre>\n<p>Regards.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","localization"],"answers":[{"tags":[],"owner":{"account_id":26552394,"reputation":306,"user_id":20181494,"display_name":"Janil101"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665746752,"creation_date":1665746752,"answer_id":74068500,"question_id":74067287,"body_markdown":"Websites implement localization in one of two ways. The first approach involves automatically detecting the user locale by examining HTTP request headers (Accept-Language header in particular) and localizing site content for the user locale (if supported).\r\n\r\nSpring MVC uses this approach by default. It uses the HttpServletRequest.getLocale method to determine the client locale and then loads localized messages from message sources. Note that the getLocale method returns a single Locale object whereas the Accept-Language header passed by the client could contain multiple languages (for example, Accept-Language: en-US, en-GB, en). In such cases, the getLocale method returns the Locale for the first matching language (en-US in the example above).\r\n\r\nTherefore, if you wish your Spring MVC application to automatically detect the client locale and serve localized content, simply declare a ResourceBundleMessageSource bean in the application context. No other configuration is required.\r\n\r\nThe second approach used by websites is to always display content in a default language first and then allowing the user to change the locale (using a dropdown or links in the site header or footer). In such cases, the users may choose locales that are not consistent with the Accept-Language header sent by their browser. For example, the Accept-Language header may contain fr-CH while the user may select de-DE as the locale.\r\n\r\nIt is in such scenarios that LocaleChangeInterceptor and SessionLocaleResolver are required to use the user selection instead of the request headers. These components can intercept the user choice and save it temporarily for the duration of the session to localize the site content correctly.\r\n\r\nand if you want more info refer this:\r\nhttps://stackoverflow.com/questions/41032674/spring-localization-without-passing-language-in-query-string","title":"Localized URLs in Spring","body":"<p>Websites implement localization in one of two ways. The first approach involves automatically detecting the user locale by examining HTTP request headers (Accept-Language header in particular) and localizing site content for the user locale (if supported).</p>\n<p>Spring MVC uses this approach by default. It uses the HttpServletRequest.getLocale method to determine the client locale and then loads localized messages from message sources. Note that the getLocale method returns a single Locale object whereas the Accept-Language header passed by the client could contain multiple languages (for example, Accept-Language: en-US, en-GB, en). In such cases, the getLocale method returns the Locale for the first matching language (en-US in the example above).</p>\n<p>Therefore, if you wish your Spring MVC application to automatically detect the client locale and serve localized content, simply declare a ResourceBundleMessageSource bean in the application context. No other configuration is required.</p>\n<p>The second approach used by websites is to always display content in a default language first and then allowing the user to change the locale (using a dropdown or links in the site header or footer). In such cases, the users may choose locales that are not consistent with the Accept-Language header sent by their browser. For example, the Accept-Language header may contain fr-CH while the user may select de-DE as the locale.</p>\n<p>It is in such scenarios that LocaleChangeInterceptor and SessionLocaleResolver are required to use the user selection instead of the request headers. These components can intercept the user choice and save it temporarily for the duration of the session to localize the site content correctly.</p>\n<p>and if you want more info refer this:\n<a href=\"https://stackoverflow.com/questions/41032674/spring-localization-without-passing-language-in-query-string\">Spring Localization without passing language in query string</a></p>\n"}],"owner":{"account_id":5734600,"reputation":3267,"user_id":4529168,"display_name":"jiwopene"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665746752,"creation_date":1665740261,"question_id":74067287,"body_markdown":"There is quite a lot of documentation and guides that describe how to set up message localization in Spring framework. All of these that I found consider only changing messages (texts) on the webpages, but not page URLs. I would like to have completely different URLs for each locale. For example, `http://example.org/en/welcome` would be used in the English version, but `http://example.org/de/willkommen` would be used in the German version.\r\n\r\nI assume that I will not be able to use class annotations to route the pages. I prefer storing the path–controller mapping in a file and loading it at runtime.\r\n\r\nCould you tell me at least how to not hav","title":"Localized URLs in Spring","body":"<p>There is quite a lot of documentation and guides that describe how to set up message localization in Spring framework. All of these that I found consider only changing messages (texts) on the webpages, but not page URLs. I would like to have completely different URLs for each locale. For example, <code>http://example.org/en/welcome</code> would be used in the English version, but <code>http://example.org/de/willkommen</code> would be used in the German version.</p>\n<p>I assume that I will not be able to use class annotations to route the pages. I prefer storing the path–controller mapping in a file and loading it at runtime.</p>\n<p>Could you tell me at least how to not hav</p>\n"},{"tags":["java","serialization","apache-flink"],"comments":[{"owner":{"account_id":82425,"reputation":8270,"user_id":231762,"display_name":"kkrugler"},"score":0,"creation_date":1604608348,"post_id":64704634,"comment_id":114406592,"body_markdown":"Just to confirm, logs from the workflow with the previous version of your POJO do NOT contain any INFO messages that look like `Class &lt;your class&gt; cannot be used as a POJO type...`","body":"Just to confirm, logs from the workflow with the previous version of your POJO do NOT contain any INFO messages that look like <code>Class &lt;your class&gt; cannot be used as a POJO type...</code>"},{"owner":{"account_id":7642098,"reputation":4980,"user_id":5793905,"display_name":"Alexis"},"score":0,"creation_date":1604608812,"post_id":64704634,"comment_id":114406727,"body_markdown":"@kkrugler that&#39;s right, I did verify that.","body":"@kkrugler that&#39;s right, I did verify that."}],"answers":[{"tags":[],"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1604760695,"creation_date":1604698216,"answer_id":64721838,"question_id":64704634,"body_markdown":"Flink will accept a class as a valid POJO type even if it contains a field (such as a LIST or MAP) that it cannot serialize without falling back to Kryo. In such cases the INFO log message about `Class &lt;your class&gt; cannot be used as a POJO type ...` will not appear, but the class will not be fully supported for state migration.\r\n\r\nFlink can deal with LIST and MAP types in POJO fields, but doesn&#39;t do so automatically (in order to avoid breaking backwards compatibility). \r\n\r\nYou can get this working cleanly by annotating your class with `@TypeInfo` and implementing a `TypeInfoFactory&lt;T&gt;` for it that specifies the correct `org.apache.flink.api.common.typeinfo.Types` for each field, including the `org.apache.flink.api.common.typeinfo.Types#MAP`. \r\n\r\nThat might look something like this:\r\n\r\n```java\r\n@TypeInfo(MyPojo.MyPojoTypeInfoFactory.class)\r\npublic class MyPojo {\r\n  private String data;\r\n  private HashMap&lt;String, String&gt; attributes;\r\n\r\n  public static class MyPojoTypeInfoFactory extends TypeInfoFactory&lt;MyPojo&gt; {\r\n    @Override\r\n    public TypeInformation&lt;MyPojo&gt; createTypeInfo(\r\n        Type t, Map&lt;String, TypeInformation&lt;?&gt;&gt; genericParameters) {\r\n      Map&lt;String, TypeInformation&lt;?&gt;&gt; fields =\r\n          new HashMap&lt;String, TypeInformation&lt;?&gt;&gt;() {\r\n            {\r\n              put(&quot;data&quot;, Types.STRING);\r\n              put(&quot;attributes&quot;, Types.MAP(Types.STRING, Types.STRING));\r\n            }\r\n          };\r\n      return Types.POJO(MyPojo.class, fields);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nNote that a Types.MAP field must not be null. Null keys are not allowed in the map, but null values are okay.","title":"Flink schema evolution not working for POJO class","body":"<p>Flink will accept a class as a valid POJO type even if it contains a field (such as a LIST or MAP) that it cannot serialize without falling back to Kryo. In such cases the INFO log message about <code>Class &lt;your class&gt; cannot be used as a POJO type ...</code> will not appear, but the class will not be fully supported for state migration.</p>\n<p>Flink can deal with LIST and MAP types in POJO fields, but doesn't do so automatically (in order to avoid breaking backwards compatibility).</p>\n<p>You can get this working cleanly by annotating your class with <code>@TypeInfo</code> and implementing a <code>TypeInfoFactory&lt;T&gt;</code> for it that specifies the correct <code>org.apache.flink.api.common.typeinfo.Types</code> for each field, including the <code>org.apache.flink.api.common.typeinfo.Types#MAP</code>.</p>\n<p>That might look something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@TypeInfo(MyPojo.MyPojoTypeInfoFactory.class)\npublic class MyPojo {\n  private String data;\n  private HashMap&lt;String, String&gt; attributes;\n\n  public static class MyPojoTypeInfoFactory extends TypeInfoFactory&lt;MyPojo&gt; {\n    @Override\n    public TypeInformation&lt;MyPojo&gt; createTypeInfo(\n        Type t, Map&lt;String, TypeInformation&lt;?&gt;&gt; genericParameters) {\n      Map&lt;String, TypeInformation&lt;?&gt;&gt; fields =\n          new HashMap&lt;String, TypeInformation&lt;?&gt;&gt;() {\n            {\n              put(&quot;data&quot;, Types.STRING);\n              put(&quot;attributes&quot;, Types.MAP(Types.STRING, Types.STRING));\n            }\n          };\n      return Types.POJO(MyPojo.class, fields);\n    }\n  }\n}\n</code></pre>\n<p>Note that a Types.MAP field must not be null. Null keys are not allowed in the map, but null values are okay.</p>\n"},{"tags":[],"owner":{"account_id":7642098,"reputation":4980,"user_id":5793905,"display_name":"Alexis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1604861206,"creation_date":1604861206,"answer_id":64741856,"question_id":64704634,"body_markdown":"I haven&#39;t been able to make sense of what&#39;s going on internally in Flink,\r\nbut I found a way to achieve migration in 2 upgrades,\r\nalthough I don&#39;t really understand why it works.\r\n\r\nIn the first upgrade I don&#39;t add any new field to the POJO class,\r\nbut I add the type information that David suggested.\r\nThe critical thing in my case was that,\r\nsince my initial job could not be modified anymore and the POJO didn&#39;t have the annotations,\r\nthe type information for the `Map` in the `TypeInfoFactory` had to point to Kryo:\r\n\r\n    put(&quot;mapField&quot;, Types.GENERIC(Map.class));\r\n\r\nI then added a new state descriptor without modifying the old one (my old state was defined in terms of an interface):\r\n\r\n    ListStateDescriptor&lt;InterfaceWithGeneric&lt;String&gt;&gt; legacyLSD = new ListStateDescriptor&lt;&gt;(\r\n            &quot;oldName&quot;,\r\n            TypeInformation.of(new TypeHint&lt;InterfaceWithGeneric&lt;String&gt;&gt;() {})\r\n    );\r\n\r\n    ListStateDescriptor&lt;MyPojo&gt; newLSD = new ListStateDescriptor&lt;&gt;(\r\n            &quot;newName&quot;,\r\n            MyPojo.class\r\n    );\r\n\r\nWith that I can read from the old descriptor and initialize the new one as needed.\r\n\r\nIn the second upgrade I can remove the old descriptor and add the new field to the POJO,\r\nupdating the `TypeInfoFactory` as well.\r\nSerialization of the existing map will have to continue using Kryo,\r\nas I couldn&#39;t find a way to modify that.\r\n\r\nAdding the annotations, the new field, and the new descriptor in one upgrade didn&#39;t work for me.\r\nI also couldn&#39;t reuse the old descriptor;\r\nthe first upgrade would work fine,\r\nbut adding a new field in the second upgrade threw exceptions again.\r\nI don&#39;t know why some of the exceptions were referencing completely unrelated operators,\r\nbut it seems to just be erroneous reporting from the state restore backend.","title":"Flink schema evolution not working for POJO class","body":"<p>I haven't been able to make sense of what's going on internally in Flink,\nbut I found a way to achieve migration in 2 upgrades,\nalthough I don't really understand why it works.</p>\n<p>In the first upgrade I don't add any new field to the POJO class,\nbut I add the type information that David suggested.\nThe critical thing in my case was that,\nsince my initial job could not be modified anymore and the POJO didn't have the annotations,\nthe type information for the <code>Map</code> in the <code>TypeInfoFactory</code> had to point to Kryo:</p>\n<pre><code>put(&quot;mapField&quot;, Types.GENERIC(Map.class));\n</code></pre>\n<p>I then added a new state descriptor without modifying the old one (my old state was defined in terms of an interface):</p>\n<pre><code>ListStateDescriptor&lt;InterfaceWithGeneric&lt;String&gt;&gt; legacyLSD = new ListStateDescriptor&lt;&gt;(\n        &quot;oldName&quot;,\n        TypeInformation.of(new TypeHint&lt;InterfaceWithGeneric&lt;String&gt;&gt;() {})\n);\n\nListStateDescriptor&lt;MyPojo&gt; newLSD = new ListStateDescriptor&lt;&gt;(\n        &quot;newName&quot;,\n        MyPojo.class\n);\n</code></pre>\n<p>With that I can read from the old descriptor and initialize the new one as needed.</p>\n<p>In the second upgrade I can remove the old descriptor and add the new field to the POJO,\nupdating the <code>TypeInfoFactory</code> as well.\nSerialization of the existing map will have to continue using Kryo,\nas I couldn't find a way to modify that.</p>\n<p>Adding the annotations, the new field, and the new descriptor in one upgrade didn't work for me.\nI also couldn't reuse the old descriptor;\nthe first upgrade would work fine,\nbut adding a new field in the second upgrade threw exceptions again.\nI don't know why some of the exceptions were referencing completely unrelated operators,\nbut it seems to just be erroneous reporting from the state restore backend.</p>\n"},{"tags":[],"owner":{"account_id":7488622,"reputation":21,"user_id":5691081,"display_name":"Charles fu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665746662,"creation_date":1665581974,"answer_id":74042854,"question_id":64704634,"body_markdown":"Our Flink project also encountered a similar issue as yours. \r\n\r\nWe basically had a corruptive POJO class(where getter/setter names weren&#39;t correct). And if we want to fix the naming of the getter/setter, plus update the currently running application with a snapshot. We get messages like this:\r\n[ListSerializer incompatible][1]\r\n\r\nSome detail regarding our project is that the corruptive POJO class mentioned above is nested in another top-level POJO class. And the top-level POJO class is fed to a Cogroup Function as an iterable. We are using google guava to instantiate the iterable into ArrayList.\r\n\r\n\r\n\r\n\r\nBack to your experience, for those 2 StateDescriptors, I have some questions and hope you can answer them.\r\n \r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    ListStateDescriptor&lt;InterfaceWithGeneric&lt;String&gt;&gt; legacyLSD = new ListStateDescriptor&lt;&gt;(\r\n            &quot;oldName&quot;,\r\n            TypeInformation.of(new TypeHint&lt;InterfaceWithGeneric&lt;String&gt;&gt;() {})\r\n    );\r\n\r\n    ListStateDescriptor&lt;MyPojo&gt; newLSD = new ListStateDescriptor&lt;&gt;(\r\n            &quot;newName&quot;,\r\n            MyPojo.class\r\n    );\r\n\r\n&lt;!-- end snippet --&gt;\r\n 1. Why do we need ListStateDescriptor here instead of ValueStateDescriptor.\r\n 2. Did you declare them in the RichFunction(let&#39;s say RichMapFunction, RichCoGroupFunction, etc.)? And if so, are there any more code snippets where you used them? Or simple declaration will help with the problematic serializer?\r\n\r\nThanks!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MjTIZ.png","title":"Flink schema evolution not working for POJO class","body":"<p>Our Flink project also encountered a similar issue as yours.</p>\n<p>We basically had a corruptive POJO class(where getter/setter names weren't correct). And if we want to fix the naming of the getter/setter, plus update the currently running application with a snapshot. We get messages like this:\n<a href=\"https://i.stack.imgur.com/MjTIZ.png\" rel=\"nofollow noreferrer\">ListSerializer incompatible</a></p>\n<p>Some detail regarding our project is that the corruptive POJO class mentioned above is nested in another top-level POJO class. And the top-level POJO class is fed to a Cogroup Function as an iterable. We are using google guava to instantiate the iterable into ArrayList.</p>\n<p>Back to your experience, for those 2 StateDescriptors, I have some questions and hope you can answer them.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>ListStateDescriptor&lt;InterfaceWithGeneric&lt;String&gt;&gt; legacyLSD = new ListStateDescriptor&lt;&gt;(\n        \"oldName\",\n        TypeInformation.of(new TypeHint&lt;InterfaceWithGeneric&lt;String&gt;&gt;() {})\n);\n\nListStateDescriptor&lt;MyPojo&gt; newLSD = new ListStateDescriptor&lt;&gt;(\n        \"newName\",\n        MyPojo.class\n);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<ol>\n<li>Why do we need ListStateDescriptor here instead of ValueStateDescriptor.</li>\n<li>Did you declare them in the RichFunction(let's say RichMapFunction, RichCoGroupFunction, etc.)? And if so, are there any more code snippets where you used them? Or simple declaration will help with the problematic serializer?</li>\n</ol>\n<p>Thanks!</p>\n"}],"owner":{"account_id":7642098,"reputation":4980,"user_id":5793905,"display_name":"Alexis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64741856,"answer_count":3,"score":0,"last_activity_date":1665746662,"creation_date":1604607071,"question_id":64704634,"body_markdown":"I have a class that fulfills the requirements to be treated as POJO,\r\nand this is the main transport class in my streaming job\r\n(it only contains primitives and a `Map&lt;String, String&gt;`).\r\nI have added a new `String` field and the corresponding getter and setter,\r\nbut if I stop the job that&#39;s using the previous class with a savepoint and try to use it to restart with the new class,\r\nI get an exception:\r\n\r\n     java.lang.Exception: Exception while creating StreamOperatorStateContext.\r\n            at org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.streamOperatorStateContext(StreamTaskStateInitializerImpl.java:195)\r\n            at org.apache.flink.streaming.api.operators.AbstractStreamOperator.initializeState(AbstractStreamOperator.java:253)\r\n            at org.apache.flink.streaming.runtime.tasks.StreamTask.initializeState(StreamTask.java:901)\r\n            at org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:415)\r\n            at org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:705)\r\n            at org.apache.flink.runtime.taskmanager.Task.run(Task.java:530)\r\n            at java.lang.Thread.run(Thread.java:748)\r\n    Caused by: org.apache.flink.util.FlinkException: Could not restore keyed state backend for WindowOperator_3b2dbb810ac7d55949cb205a3075facc_(8/8) from any of the 1 provided restore options.\r\n            at org.apache.flink.streaming.api.operators.BackendRestorerProcedure.createAndRestore(BackendRestorerProcedure.java:135)\r\n            at org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.keyedStatedBackend(StreamTaskStateInitializerImpl.java:307)\r\n            at org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.streamOperatorStateContext(StreamTaskStateInitializerImpl.java:135)\r\n            ... 6 common frames omitted\r\n    Caused by: org.apache.flink.runtime.state.BackendBuildingException: Failed when trying to restore heap backend\r\n            at org.apache.flink.runtime.state.heap.HeapKeyedStateBackendBuilder.build(HeapKeyedStateBackendBuilder.java:116)\r\n            at org.apache.flink.runtime.state.memory.MemoryStateBackend.createKeyedStateBackend(MemoryStateBackend.java:347)\r\n            at org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.lambda$keyedStatedBackend$1(StreamTaskStateInitializerImpl.java:291)\r\n            at org.apache.flink.streaming.api.operators.BackendRestorerProcedure.attemptCreateAndRestore(BackendRestorerProcedure.java:142)\r\n            at org.apache.flink.streaming.api.operators.BackendRestorerProcedure.createAndRestore(BackendRestorerProcedure.java:121)\r\n            ... 8 common frames omitted\r\n    Caused by: com.esotericsoftware.kryo.KryoException: java.lang.IndexOutOfBoundsException: Index: 172199998, Size: 13\r\n    ...\r\n            at com.esotericsoftware.kryo.serializers.ObjectField.read(ObjectField.java:125)\r\n            at com.esotericsoftware.kryo.serializers.FieldSerializer.read(FieldSerializer.java:528)\r\n            at com.esotericsoftware.kryo.Kryo.readClassAndObject(Kryo.java:761)\r\n            at org.apache.flink.api.java.typeutils.runtime.kryo.KryoSerializer.deserialize(KryoSerializer.java:346)\r\n            at org.apache.flink.api.common.typeutils.base.ListSerializer.deserialize(ListSerializer.java:133)\r\n            at org.apache.flink.api.common.typeutils.base.ListSerializer.deserialize(ListSerializer.java:42)\r\n            at org.apache.flink.runtime.state.heap.StateTableByKeyGroupReaders.lambda$createV2PlusReader$0(StateTableByKeyGroupReaders.java:77)\r\n            at org.apache.flink.runtime.state.KeyGroupPartitioner$PartitioningResultKeyGroupReader.readMappingsInKeyGroup(KeyGroupPartitioner.java:297)\r\n            at org.apache.flink.runtime.state.heap.HeapRestoreOperation.readKeyGroupStateData(HeapRestoreOperation.java:293)\r\n            at org.apache.flink.runtime.state.heap.HeapRestoreOperation.readStateHandleStateData(HeapRestoreOperation.java:254)\r\n            at org.apache.flink.runtime.state.heap.HeapRestoreOperation.restore(HeapRestoreOperation.java:154)\r\n            at org.apache.flink.runtime.state.heap.HeapKeyedStateBackendBuilder.build(HeapKeyedStateBackendBuilder.java:114)\r\n            ... 12 common frames omitted\r\n    Caused by: java.lang.IndexOutOfBoundsException: Index: 172199998, Size: 13\r\n            at java.util.ArrayList.rangeCheck(ArrayList.java:657)\r\n            at java.util.ArrayList.get(ArrayList.java:433)\r\n            at com.esotericsoftware.kryo.util.MapReferenceResolver.getReadObject(MapReferenceResolver.java:42)\r\n            at com.esotericsoftware.kryo.Kryo.readReferenceOrNull(Kryo.java:805)\r\n            at com.esotericsoftware.kryo.Kryo.readObjectOrNull(Kryo.java:728)\r\n            at com.esotericsoftware.kryo.serializers.ObjectField.read(ObjectField.java:113)\r\n            ... 23 common frames omitted\r\n\r\nFor some reason it&#39;s falling back on Kryo.\r\n\r\nI am using Flink 1.9.3, and [according to the documentation](https://ci.apache.org/projects/flink/flink-docs-release-1.9/dev/stream/state/schema_evolution.html) this change should be supported.\r\n\r\n----------\r\n\r\nBased on David&#39;s answer, I&#39;m trying to see if I can migrate my state on the fly *before* adding the new field to the class.\r\nI&#39;ve added the `@TypeInfo` annotation and its factory to `MyPojo`,\r\nand I&#39;m trying to migrate state like this:\r\n\r\n    lsd = new ListStateDescriptor&lt;&gt;(\r\n            &quot;newName&quot;,\r\n            MyPojo.class\r\n    );\r\n\r\n    // migration\r\n\r\n    TypeToken&lt;LabeledClassWithTimestamp&lt;String&gt;&gt; typeToken = new TypeToken&lt;LabeledClassWithTimestamp&lt;String&gt;&gt;() {};\r\n    ListStateDescriptor&lt;LabeledClassWithTimestamp&lt;String&gt;&gt; legacyLSD = new ListStateDescriptor&lt;&gt;(\r\n            &quot;oldName&quot;,\r\n            new KryoSerializer&lt;&gt;((Class&lt;LabeledClassWithTimestamp&lt;String&gt;&gt;) typeToken.getRawType(), runtimeContext.getExecutionConfig())\r\n    );\r\n\r\n    ListState&lt;LabeledClassWithTimestamp&lt;String&gt;&gt; legacyState = runtimeContext.getListState(legacyLSD);\r\n    try {\r\n        List&lt;MyPojo&gt; newState = new ArrayList&lt;&gt;();\r\n        legacyState.get().forEach(o -&gt; newState.add((MyPojo) o));\r\n\r\n        if (!newState.isEmpty()) {\r\n            runtimeContext.getListState(lsd).update(newState);\r\n            legacyState.clear();\r\n        }\r\n    } catch (Exception e) {\r\n        LOG.error(&quot;Could not migrate state:&quot;, e);\r\n    }\r\n\r\nHowever, if I restore the job from a previous savepoint using the new jar,\r\nFlink throws a `StateMigrationException` *in a different operator*:\r\n\r\n    2020-11-08T12:57:59.369Z INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph:1511 [flink-akka.actor.default-dispatcher-17] window-operator (1/8) (uid) switched from RUNNING to FAILED. org.apache.flink.util.StateMigrationException: For heap backends, the new state serializer must not be incompatible.\r\n\r\nThat operator&#39;s state only holds integers:\r\n\r\n    public class SlidingWindowProcessFunction extends ProcessWindowFunction&lt;MyPojo, MyOutput, String, TimeWindow&gt; {\r\n        private static final long serialVersionUID = 1L;\r\n        \r\n        private static final ListStateDescriptor&lt;Integer&gt; LSD = new ListStateDescriptor&lt;&gt;(\r\n                &quot;window-state&quot;, Integer.class);\r\n        \r\n        ...\r\n        \r\n        @Override\r\n        public void process(String key, Context context, Iterable&lt;MyPojo&gt; iterable, Collector&lt;MyOutput&gt; collector) {\r\n            ...\r\n            for (Integer hash : context.windowState().getListState(LSD).get()) {\r\n                alreadyProcessedHashes.add(hash);\r\n            }\r\n            ...\r\n        }\r\n    }\r\n\r\nIs `MyPojo`&#39;s serializer relevant for this other operator&#39;s state even though the POJO class is not used directly in its managed state?","title":"Flink schema evolution not working for POJO class","body":"<p>I have a class that fulfills the requirements to be treated as POJO,\nand this is the main transport class in my streaming job\n(it only contains primitives and a <code>Map&lt;String, String&gt;</code>).\nI have added a new <code>String</code> field and the corresponding getter and setter,\nbut if I stop the job that's using the previous class with a savepoint and try to use it to restart with the new class,\nI get an exception:</p>\n<pre><code> java.lang.Exception: Exception while creating StreamOperatorStateContext.\n        at org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.streamOperatorStateContext(StreamTaskStateInitializerImpl.java:195)\n        at org.apache.flink.streaming.api.operators.AbstractStreamOperator.initializeState(AbstractStreamOperator.java:253)\n        at org.apache.flink.streaming.runtime.tasks.StreamTask.initializeState(StreamTask.java:901)\n        at org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:415)\n        at org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:705)\n        at org.apache.flink.runtime.taskmanager.Task.run(Task.java:530)\n        at java.lang.Thread.run(Thread.java:748)\nCaused by: org.apache.flink.util.FlinkException: Could not restore keyed state backend for WindowOperator_3b2dbb810ac7d55949cb205a3075facc_(8/8) from any of the 1 provided restore options.\n        at org.apache.flink.streaming.api.operators.BackendRestorerProcedure.createAndRestore(BackendRestorerProcedure.java:135)\n        at org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.keyedStatedBackend(StreamTaskStateInitializerImpl.java:307)\n        at org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.streamOperatorStateContext(StreamTaskStateInitializerImpl.java:135)\n        ... 6 common frames omitted\nCaused by: org.apache.flink.runtime.state.BackendBuildingException: Failed when trying to restore heap backend\n        at org.apache.flink.runtime.state.heap.HeapKeyedStateBackendBuilder.build(HeapKeyedStateBackendBuilder.java:116)\n        at org.apache.flink.runtime.state.memory.MemoryStateBackend.createKeyedStateBackend(MemoryStateBackend.java:347)\n        at org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.lambda$keyedStatedBackend$1(StreamTaskStateInitializerImpl.java:291)\n        at org.apache.flink.streaming.api.operators.BackendRestorerProcedure.attemptCreateAndRestore(BackendRestorerProcedure.java:142)\n        at org.apache.flink.streaming.api.operators.BackendRestorerProcedure.createAndRestore(BackendRestorerProcedure.java:121)\n        ... 8 common frames omitted\nCaused by: com.esotericsoftware.kryo.KryoException: java.lang.IndexOutOfBoundsException: Index: 172199998, Size: 13\n...\n        at com.esotericsoftware.kryo.serializers.ObjectField.read(ObjectField.java:125)\n        at com.esotericsoftware.kryo.serializers.FieldSerializer.read(FieldSerializer.java:528)\n        at com.esotericsoftware.kryo.Kryo.readClassAndObject(Kryo.java:761)\n        at org.apache.flink.api.java.typeutils.runtime.kryo.KryoSerializer.deserialize(KryoSerializer.java:346)\n        at org.apache.flink.api.common.typeutils.base.ListSerializer.deserialize(ListSerializer.java:133)\n        at org.apache.flink.api.common.typeutils.base.ListSerializer.deserialize(ListSerializer.java:42)\n        at org.apache.flink.runtime.state.heap.StateTableByKeyGroupReaders.lambda$createV2PlusReader$0(StateTableByKeyGroupReaders.java:77)\n        at org.apache.flink.runtime.state.KeyGroupPartitioner$PartitioningResultKeyGroupReader.readMappingsInKeyGroup(KeyGroupPartitioner.java:297)\n        at org.apache.flink.runtime.state.heap.HeapRestoreOperation.readKeyGroupStateData(HeapRestoreOperation.java:293)\n        at org.apache.flink.runtime.state.heap.HeapRestoreOperation.readStateHandleStateData(HeapRestoreOperation.java:254)\n        at org.apache.flink.runtime.state.heap.HeapRestoreOperation.restore(HeapRestoreOperation.java:154)\n        at org.apache.flink.runtime.state.heap.HeapKeyedStateBackendBuilder.build(HeapKeyedStateBackendBuilder.java:114)\n        ... 12 common frames omitted\nCaused by: java.lang.IndexOutOfBoundsException: Index: 172199998, Size: 13\n        at java.util.ArrayList.rangeCheck(ArrayList.java:657)\n        at java.util.ArrayList.get(ArrayList.java:433)\n        at com.esotericsoftware.kryo.util.MapReferenceResolver.getReadObject(MapReferenceResolver.java:42)\n        at com.esotericsoftware.kryo.Kryo.readReferenceOrNull(Kryo.java:805)\n        at com.esotericsoftware.kryo.Kryo.readObjectOrNull(Kryo.java:728)\n        at com.esotericsoftware.kryo.serializers.ObjectField.read(ObjectField.java:113)\n        ... 23 common frames omitted\n</code></pre>\n<p>For some reason it's falling back on Kryo.</p>\n<p>I am using Flink 1.9.3, and <a href=\"https://ci.apache.org/projects/flink/flink-docs-release-1.9/dev/stream/state/schema_evolution.html\" rel=\"nofollow noreferrer\">according to the documentation</a> this change should be supported.</p>\n<hr />\n<p>Based on David's answer, I'm trying to see if I can migrate my state on the fly <em>before</em> adding the new field to the class.\nI've added the <code>@TypeInfo</code> annotation and its factory to <code>MyPojo</code>,\nand I'm trying to migrate state like this:</p>\n<pre><code>lsd = new ListStateDescriptor&lt;&gt;(\n        &quot;newName&quot;,\n        MyPojo.class\n);\n\n// migration\n\nTypeToken&lt;LabeledClassWithTimestamp&lt;String&gt;&gt; typeToken = new TypeToken&lt;LabeledClassWithTimestamp&lt;String&gt;&gt;() {};\nListStateDescriptor&lt;LabeledClassWithTimestamp&lt;String&gt;&gt; legacyLSD = new ListStateDescriptor&lt;&gt;(\n        &quot;oldName&quot;,\n        new KryoSerializer&lt;&gt;((Class&lt;LabeledClassWithTimestamp&lt;String&gt;&gt;) typeToken.getRawType(), runtimeContext.getExecutionConfig())\n);\n\nListState&lt;LabeledClassWithTimestamp&lt;String&gt;&gt; legacyState = runtimeContext.getListState(legacyLSD);\ntry {\n    List&lt;MyPojo&gt; newState = new ArrayList&lt;&gt;();\n    legacyState.get().forEach(o -&gt; newState.add((MyPojo) o));\n\n    if (!newState.isEmpty()) {\n        runtimeContext.getListState(lsd).update(newState);\n        legacyState.clear();\n    }\n} catch (Exception e) {\n    LOG.error(&quot;Could not migrate state:&quot;, e);\n}\n</code></pre>\n<p>However, if I restore the job from a previous savepoint using the new jar,\nFlink throws a <code>StateMigrationException</code> <em>in a different operator</em>:</p>\n<pre><code>2020-11-08T12:57:59.369Z INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph:1511 [flink-akka.actor.default-dispatcher-17] window-operator (1/8) (uid) switched from RUNNING to FAILED. org.apache.flink.util.StateMigrationException: For heap backends, the new state serializer must not be incompatible.\n</code></pre>\n<p>That operator's state only holds integers:</p>\n<pre><code>public class SlidingWindowProcessFunction extends ProcessWindowFunction&lt;MyPojo, MyOutput, String, TimeWindow&gt; {\n    private static final long serialVersionUID = 1L;\n    \n    private static final ListStateDescriptor&lt;Integer&gt; LSD = new ListStateDescriptor&lt;&gt;(\n            &quot;window-state&quot;, Integer.class);\n    \n    ...\n    \n    @Override\n    public void process(String key, Context context, Iterable&lt;MyPojo&gt; iterable, Collector&lt;MyOutput&gt; collector) {\n        ...\n        for (Integer hash : context.windowState().getListState(LSD).get()) {\n            alreadyProcessedHashes.add(hash);\n        }\n        ...\n    }\n}\n</code></pre>\n<p>Is <code>MyPojo</code>'s serializer relevant for this other operator's state even though the POJO class is not used directly in its managed state?</p>\n"},{"tags":["java","android","android-studio","xiaomi"],"answers":[{"tags":[],"owner":{"account_id":16095049,"reputation":393,"user_id":11617436,"display_name":"Khalid Fazal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640761005,"creation_date":1640729921,"answer_id":70513132,"question_id":70513090,"body_markdown":"You should switch off the `MIUI Optimization` option from `Developer Options`.\r\n\r\nAlso check if `USB debugging` is switched on.","title":"Android Studio not showing build error in Xiaomi phone","body":"<p>You should switch off the <code>MIUI Optimization</code> option from <code>Developer Options</code>.</p>\n<p>Also check if <code>USB debugging</code> is switched on.</p>\n"}],"owner":{"account_id":16114085,"reputation":563,"user_id":13452141,"display_name":"JP711"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70513132,"answer_count":1,"score":0,"last_activity_date":1665746614,"creation_date":1640729522,"question_id":70513090,"body_markdown":"My application restarts when I have errors in my code, the problem is that I cannot know in which line of code the error is because Android Studio does not tell me. I have this problem on a Xiaomi mi 11i phone (Android 11, MIUI 12.5.3) I can only see blue text. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nI have a Samsung J260 device in which I have no problems (when there are problems in my code it always tells me which line it is on), I don&#39;t like to do tests on my Samsung because it takes too long. What could be the problem?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I2FtF.png","title":"Android Studio not showing build error in Xiaomi phone","body":"<p>My application restarts when I have errors in my code, the problem is that I cannot know in which line of code the error is because Android Studio does not tell me. I have this problem on a Xiaomi mi 11i phone (Android 11, MIUI 12.5.3) I can only see blue text.</p>\n<p><a href=\"https://i.stack.imgur.com/I2FtF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I2FtF.png\" alt=\"enter image description here\" /></a></p>\n<p>I have a Samsung J260 device in which I have no problems (when there are problems in my code it always tells me which line it is on), I don't like to do tests on my Samsung because it takes too long. What could be the problem?</p>\n"},{"tags":["java","spring","spring-boot","docker","docker-api"],"answers":[{"tags":[],"owner":{"account_id":243256,"reputation":3047,"user_id":515310,"display_name":"Christian Kohlsch&#252;tter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665746304,"creation_date":1665746304,"answer_id":74068421,"question_id":71579853,"body_markdown":"junixsocket version 2.0.4 does not support Windows. You need to upgrade to a later version.\r\n\r\nTry changing your junixsocket dependencies to\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.kohlschutter.junixsocket&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junixsocket-core&lt;/artifactId&gt;\r\n      &lt;version&gt;2.5.2&lt;/version&gt;\r\n      &lt;type&gt;pom&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\n\r\nPS: You have another error in the dependency configuration for native-common: `&lt;type&gt;pom&lt;/type&gt;` should only be specified for `junixsocket-core`, which is a POM-type artifact that includes `junixsocket-common` and `junixsocket-native-common`, which are both jar-type artifacts. Therefore just remove that declaration, since `junixsocket-core` is all you should need.\r\n","title":"Library &#39;junixsocket-native-2.0.4.dll&#39; not found! with java docker api","body":"<p>junixsocket version 2.0.4 does not support Windows. You need to upgrade to a later version.</p>\n<p>Try changing your junixsocket dependencies to</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.kohlschutter.junixsocket&lt;/groupId&gt;\n  &lt;artifactId&gt;junixsocket-core&lt;/artifactId&gt;\n  &lt;version&gt;2.5.2&lt;/version&gt;\n  &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>PS: You have another error in the dependency configuration for native-common: <code>&lt;type&gt;pom&lt;/type&gt;</code> should only be specified for <code>junixsocket-core</code>, which is a POM-type artifact that includes <code>junixsocket-common</code> and <code>junixsocket-native-common</code>, which are both jar-type artifacts. Therefore just remove that declaration, since <code>junixsocket-core</code> is all you should need.</p>\n"}],"owner":{"account_id":22002419,"reputation":79,"user_id":16273950,"display_name":"Marouen Ghozzi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":503,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665746304,"creation_date":1647989403,"question_id":71579853,"body_markdown":"When trying to list all my containers which exist with docker on windows 10 . \r\n\r\nI got this error : \r\n\r\nLibrary &#39;junixsocket-native-2.0.4.dll&#39; not found!\r\n\r\nThis is my code : \r\n\r\n    public void listContainer() {\r\n    \t\tDefaultDockerClientConfig config\r\n    \t\t  = DefaultDockerClientConfig.createDefaultConfigBuilder()\r\n    \t\t    .withDockerHost(&quot;unix://172.0.0.2:9200&quot;).build();\r\n    \t\tDockerClient dockerClient = DockerClientBuilder\r\n    \t\t\t\t  .getInstance(config)\r\n    \t\t\t\t  .build();\r\n    \t\tList&lt;Container&gt; containers = dockerClient.listContainersCmd().exec() ;\t\t\r\n    \t\t\t\tfor(Container container : containers) {\r\n                System.out.println(container.getId()); \r\n            \r\n            }\r\n    \r\n    \t}\r\n\r\nThis is my pom.xml \r\n\r\n\t\r\n\r\n    &lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.12.7&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-jwt&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0.10.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.github.docker-java&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;docker-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.14&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n      &lt;groupId&gt;com.kohlschutter.junixsocket&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junixsocket-server&lt;/artifactId&gt;\r\n      &lt;version&gt;2.4.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/com.kohlschutter.junixsocket/junixsocket-native --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.kohlschutter.junixsocket&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junixsocket-native-common&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.4&lt;/version&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/com.spotify/dockerfile-maven-plugin --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.spotify&lt;/groupId&gt;\r\n        &lt;artifactId&gt;dockerfile-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4.13&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\r\n        &lt;version&gt;2.26&lt;/version&gt;\r\n    &lt;/dependency&gt;\t\t\r\n    \t&lt;/dependencies&gt;\r\n\r\nThis is console log : \r\n\r\n Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is javax.ws.rs.ProcessingException] with root cause\r\n\r\njava.lang.RuntimeException: Library &#39;junixsocket-native-2.0.4.dll&#39; not found!\r\n\tat org.newsclub.net.unix.NarSystem.getLibPath(NarSystem.java:132) ~[junixsocket-native-common-2.0.4.jar:na]\r\n\tat org.newsclub.net.unix.NarSystem.loadLibrary(NarSystem.java:36) ~[junixsocket-native-common-2.0.4.jar:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]\r\n\tat org.newsclub.net.unix.NativeUnixSocket.&lt;clinit&gt;(NativeUnixSocket.java:35) ~[junixsocket-common-2.0.4.jar:na]\r\n\tat org.newsclub.net.unix.AFUNIXSocket.&lt;init&gt;(AFUNIXSocket.java:36) ~[junixsocket-common-2.0.4.jar:na]\r\n\tat org.newsclub.net.unix.AFUNIXSocket.newInstance(AFUNIXSocket.java:54) ~[junixsocket-common-2.0.4.jar:na]\r\n\tat com.github.dockerjava.jaxrs.ApacheUnixSocket.&lt;init&gt;(ApacheUnixSocket.java:51) ~[docker-java-3.0.14.jar:na]\r\n\tat com.github.dockerjava.jaxrs.UnixConnectionSocketFactory.createSocket(UnixConnectionSocketFactory.java:66) ~[docker-java-3.0.14.jar:na]\r\n\tat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:119) ~[httpclient-4.5.13.jar:4.5.13]\r\n\tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar:4.5.13]\r\n\tat org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar:4.5.13]\r\n\tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar:4.5.13]\r\n\tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]\r\n\tat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]\r\n\r\n","title":"Library &#39;junixsocket-native-2.0.4.dll&#39; not found! with java docker api","body":"<p>When trying to list all my containers which exist with docker on windows 10 .</p>\n<p>I got this error :</p>\n<p>Library 'junixsocket-native-2.0.4.dll' not found!</p>\n<p>This is my code :</p>\n<pre><code>public void listContainer() {\n        DefaultDockerClientConfig config\n          = DefaultDockerClientConfig.createDefaultConfigBuilder()\n            .withDockerHost(&quot;unix://172.0.0.2:9200&quot;).build();\n        DockerClient dockerClient = DockerClientBuilder\n                  .getInstance(config)\n                  .build();\n        List&lt;Container&gt; containers = dockerClient.listContainersCmd().exec() ;      \n                for(Container container : containers) {\n            System.out.println(container.getId()); \n        \n        }\n\n    }\n</code></pre>\n<p>This is my pom.xml</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n            &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\n            &lt;version&gt;3.12.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-jwt&lt;/artifactId&gt;\n            &lt;version&gt;1.0.10.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.docker-java&lt;/groupId&gt;\n            &lt;artifactId&gt;docker-java&lt;/artifactId&gt;\n            &lt;version&gt;3.0.14&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n  &lt;groupId&gt;com.kohlschutter.junixsocket&lt;/groupId&gt;\n  &lt;artifactId&gt;junixsocket-server&lt;/artifactId&gt;\n  &lt;version&gt;2.4.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/com.kohlschutter.junixsocket/junixsocket-native --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.kohlschutter.junixsocket&lt;/groupId&gt;\n    &lt;artifactId&gt;junixsocket-native-common&lt;/artifactId&gt;\n    &lt;version&gt;2.0.4&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/com.spotify/dockerfile-maven-plugin --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.spotify&lt;/groupId&gt;\n    &lt;artifactId&gt;dockerfile-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.4.13&lt;/version&gt;\n&lt;/dependency&gt;\n        &lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\n    &lt;version&gt;2.26&lt;/version&gt;\n&lt;/dependency&gt;       \n    &lt;/dependencies&gt;\n</code></pre>\n<p>This is console log :</p>\n<p>Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is javax.ws.rs.ProcessingException] with root cause</p>\n<p>java.lang.RuntimeException: Library 'junixsocket-native-2.0.4.dll' not found!\nat org.newsclub.net.unix.NarSystem.getLibPath(NarSystem.java:132) ~[junixsocket-native-common-2.0.4.jar:na]\nat org.newsclub.net.unix.NarSystem.loadLibrary(NarSystem.java:36) ~[junixsocket-native-common-2.0.4.jar:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]\nat org.newsclub.net.unix.NativeUnixSocket.(NativeUnixSocket.java:35) ~[junixsocket-common-2.0.4.jar:na]\nat org.newsclub.net.unix.AFUNIXSocket.(AFUNIXSocket.java:36) ~[junixsocket-common-2.0.4.jar:na]\nat org.newsclub.net.unix.AFUNIXSocket.newInstance(AFUNIXSocket.java:54) ~[junixsocket-common-2.0.4.jar:na]\nat com.github.dockerjava.jaxrs.ApacheUnixSocket.(ApacheUnixSocket.java:51) ~[docker-java-3.0.14.jar:na]\nat com.github.dockerjava.jaxrs.UnixConnectionSocketFactory.createSocket(UnixConnectionSocketFactory.java:66) ~[docker-java-3.0.14.jar:na]\nat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:119) ~[httpclient-4.5.13.jar:4.5.13]\nat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar:4.5.13]\nat org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar:4.5.13]\nat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar:4.5.13]\nat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]\nat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]</p>\n"},{"tags":["java","http","https","httpclient","keep-alive"],"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":1,"creation_date":1665668547,"post_id":74056738,"comment_id":130757130,"body_markdown":"Looks like you explicitly close connection in your code.","body":"Looks like you explicitly close connection in your code."},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1665668605,"post_id":74056738,"comment_id":130757148,"body_markdown":"You probably need to show us `openConnection` code.","body":"You probably need to show us <code>openConnection</code> code."},{"owner":{"account_id":12444145,"reputation":1,"user_id":9060933,"display_name":"Ashwin"},"score":0,"creation_date":1665746042,"post_id":74056738,"comment_id":130775334,"body_markdown":"@talex : I have edited my question to add the openConnectionMethod()\nWith http, the same code works fine, but with https, the client port changes.","body":"@talex : I have edited my question to add the openConnectionMethod() With http, the same code works fine, but with https, the client port changes."},{"owner":{"account_id":12444145,"reputation":1,"user_id":9060933,"display_name":"Ashwin"},"score":0,"creation_date":1666021777,"post_id":74056738,"comment_id":130831188,"body_markdown":"When a client creates a secured connection(https) but is unable to receive the final chunk, it treats the initial port it opened as in-progress or busy and opens a new one to proceed with the next request. \n\nIn my case, that is what is happening. In order to validate it, I enabled the Java debugging feature &quot;javax.net.debug&quot; in Java.","body":"When a client creates a secured connection(https) but is unable to receive the final chunk, it treats the initial port it opened as in-progress or busy and opens a new one to proceed with the next request.   In my case, that is what is happening. In order to validate it, I enabled the Java debugging feature &quot;javax.net.debug&quot; in Java."},{"owner":{"account_id":12444145,"reputation":1,"user_id":9060933,"display_name":"Ashwin"},"score":0,"creation_date":1666021954,"post_id":74056738,"comment_id":130831268,"body_markdown":"I used two different client libraries weblogic client libs and default java package libs, application was deployed on Weblogic. \n\nAccording to the client logs, I could see that the final chunk was read when the weblogic client libraries were used.\n\nHowever, I was unable to see the final chunk when using the default Java packages.","body":"I used two different client libraries weblogic client libs and default java package libs, application was deployed on Weblogic.   According to the client logs, I could see that the final chunk was read when the weblogic client libraries were used.  However, I was unable to see the final chunk when using the default Java packages."},{"owner":{"account_id":14531657,"reputation":2813,"user_id":10496385,"display_name":"daniel"},"score":0,"creation_date":1671023780,"post_id":74056738,"comment_id":132007208,"body_markdown":"Have you tried draining the HttpURLConnection input stream before closing it?","body":"Have you tried draining the HttpURLConnection input stream before closing it?"}],"owner":{"account_id":12444145,"reputation":1,"user_id":9060933,"display_name":"Ashwin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665745981,"creation_date":1665668240,"question_id":74056738,"body_markdown":"A chunked encoded response is provided by a simple web application I have deployed. Just to be sure that the keep-alive is honored, I call this URL connection twice in a loop. \r\n\r\nIt is clear that the client port changes with each iteration when I capture the tcp packets and check them. \r\nOnly during https calls does this happen, whereas during http calls it always reuses the client port.\r\n\r\nI call this method in a loop, and s_provider takes the value \r\nhttps://hostname:8443/servlet/testchunk or\r\nhttp://hostname:8080/servlet/testchunk\r\n\r\n```\r\nprivate static Serializable invoke() {\r\n    HttpConnCxt httpcontext = null;\r\n    String result = null;\r\n    try {\r\n      httpcontext = openConnection(new URL(s_provider));\r\n      httpcontext.out.flush();\r\n      httpcontext.out.close();\r\n      httpcontext.in = new ObjectInputStream(httpcontext.uc.getInputStream());\r\n\r\n      try {\r\n        result = (String)httpcontext.in.readObject();\r\n        Integer i = (Integer)httpcontext.in.readObject();\r\n        Long l1 = (Long)httpcontext.in.readObject();\r\n      } catch (java.io.EOFException eofEx) {\r\n        eofEx.printStackTrace();\r\n      }\r\n      return result;\r\n    } catch (Exception x) {\r\n      x.printStackTrace();\r\n    } finally {\r\n      try {\r\n        if (httpcontext != null &amp;&amp; httpcontext.in != null)\r\n          httpcontext.in.close();\r\n      } catch (Exception x) {}\r\n    }\r\n    return result;\r\n  }\r\n```\r\n\r\n\r\nAccording to the TCP dump captured during https iteration-1:\r\nThe client port is 54888, and the server port is 8443\r\n\r\nIn iteration-2:\r\nThe client port used is 54889, and the server port remains 8443.\r\n\r\n\r\nIs there a reason why https does not reuse the client port?\r\n\r\n\r\n\r\nEdited: Method openConnection(..)\r\n=========\r\n\r\n```\r\nprivate static HttpConnCxt openConnection(URL mUrl) throws Exception {\r\n    HttpConnCxt httpConnCxt = new HttpConnCxt(null, null, null);\r\n    try {\r\n      httpConnCxt.uc = mUrl.openConnection();\r\n      configureConnection(httpConnCxt.uc);\r\n      httpConnCxt.uc.setDoInput(true);\r\n      httpConnCxt.uc.setDoOutput(true);\r\n      httpConnCxt.uc.setUseCaches(false);\r\n      httpConnCxt.uc.setRequestProperty(&quot;Connection&quot;, &quot;keep-alive&quot;);\r\n      httpConnCxt.uc.setRequestProperty(&quot;Content-Type&quot;, &quot;application/octet-stream&quot;);\r\n      httpConnCxt.out = new java.io.ObjectOutputStream(httpConnCxt.uc.getOutputStream());\r\n      return httpConnCxt;\r\n    }\r\n    catch (Exception ex) {\r\n      throw ex;\r\n    }\r\n  }\r\n```\r\n\r\nWith http, the same code works fine, but with https, the client port changes.","title":"In Java despite being configured as keep alive, HTTPS creates multiple client ports","body":"<p>A chunked encoded response is provided by a simple web application I have deployed. Just to be sure that the keep-alive is honored, I call this URL connection twice in a loop.</p>\n<p>It is clear that the client port changes with each iteration when I capture the tcp packets and check them.\nOnly during https calls does this happen, whereas during http calls it always reuses the client port.</p>\n<p>I call this method in a loop, and s_provider takes the value\nhttps://hostname:8443/servlet/testchunk or\nhttp://hostname:8080/servlet/testchunk</p>\n<pre><code>private static Serializable invoke() {\n    HttpConnCxt httpcontext = null;\n    String result = null;\n    try {\n      httpcontext = openConnection(new URL(s_provider));\n      httpcontext.out.flush();\n      httpcontext.out.close();\n      httpcontext.in = new ObjectInputStream(httpcontext.uc.getInputStream());\n\n      try {\n        result = (String)httpcontext.in.readObject();\n        Integer i = (Integer)httpcontext.in.readObject();\n        Long l1 = (Long)httpcontext.in.readObject();\n      } catch (java.io.EOFException eofEx) {\n        eofEx.printStackTrace();\n      }\n      return result;\n    } catch (Exception x) {\n      x.printStackTrace();\n    } finally {\n      try {\n        if (httpcontext != null &amp;&amp; httpcontext.in != null)\n          httpcontext.in.close();\n      } catch (Exception x) {}\n    }\n    return result;\n  }\n</code></pre>\n<p>According to the TCP dump captured during https iteration-1:\nThe client port is 54888, and the server port is 8443</p>\n<p>In iteration-2:\nThe client port used is 54889, and the server port remains 8443.</p>\n<p>Is there a reason why https does not reuse the client port?</p>\n<h1>Edited: Method openConnection(..)</h1>\n<pre><code>private static HttpConnCxt openConnection(URL mUrl) throws Exception {\n    HttpConnCxt httpConnCxt = new HttpConnCxt(null, null, null);\n    try {\n      httpConnCxt.uc = mUrl.openConnection();\n      configureConnection(httpConnCxt.uc);\n      httpConnCxt.uc.setDoInput(true);\n      httpConnCxt.uc.setDoOutput(true);\n      httpConnCxt.uc.setUseCaches(false);\n      httpConnCxt.uc.setRequestProperty(&quot;Connection&quot;, &quot;keep-alive&quot;);\n      httpConnCxt.uc.setRequestProperty(&quot;Content-Type&quot;, &quot;application/octet-stream&quot;);\n      httpConnCxt.out = new java.io.ObjectOutputStream(httpConnCxt.uc.getOutputStream());\n      return httpConnCxt;\n    }\n    catch (Exception ex) {\n      throw ex;\n    }\n  }\n</code></pre>\n<p>With http, the same code works fine, but with https, the client port changes.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":2030610,"reputation":11614,"user_id":1814420,"accept_rate":59,"display_name":"Triet Doan"},"score":0,"creation_date":1665740165,"post_id":74066966,"comment_id":130773642,"body_markdown":"Are you trying to return all files under `10001` at the same time? Or only 1 file?","body":"Are you trying to return all files under <code>10001</code> at the same time? Or only 1 file?"},{"owner":{"account_id":6706597,"reputation":15,"user_id":5171310,"display_name":"James"},"score":0,"creation_date":1665740563,"post_id":74066966,"comment_id":130773797,"body_markdown":"I want both a single file and all files","body":"I want both a single file and all files"},{"owner":{"account_id":2030610,"reputation":11614,"user_id":1814420,"accept_rate":59,"display_name":"Triet Doan"},"score":0,"creation_date":1665741407,"post_id":74066966,"comment_id":130774061,"body_markdown":"You can only return 1 file at a time. Therefore, in case of many files, you need to create a zip file and return it. So, for single file, what is the value of your `filename` and `root.resolve(filename)`?","body":"You can only return 1 file at a time. Therefore, in case of many files, you need to create a zip file and return it. So, for single file, what is the value of your <code>filename</code> and <code>root.resolve(filename)</code>?"},{"owner":{"account_id":6706597,"reputation":15,"user_id":5171310,"display_name":"James"},"score":0,"creation_date":1665744754,"post_id":74066966,"comment_id":130774973,"body_markdown":"the value is passed in the controller if I understand your question right.","body":"the value is passed in the controller if I understand your question right."}],"answers":[{"tags":[],"owner":{"account_id":26552394,"reputation":306,"user_id":20181494,"display_name":"Janil101"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665739070,"creation_date":1665739070,"answer_id":74067045,"question_id":74066966,"body_markdown":"refer this example :\r\n```\r\n  @GetMapping(&quot;/files&quot;)\r\n  public ResponseEntity&lt;List&lt;ResponseFile&gt;&gt; getListFiles() {\r\n    List&lt;ResponseFile&gt; files = storageService.getAllFiles().map(dbFile -&gt; {\r\n      String fileDownloadUri = ServletUriComponentsBuilder\r\n          .fromCurrentContextPath()\r\n          .path(&quot;/files/&quot;)\r\n          .path(dbFile.getId())\r\n          .toUriString();\r\n\r\n      return new ResponseFile(\r\n          dbFile.getName(),\r\n          fileDownloadUri,\r\n          dbFile.getType(),\r\n          dbFile.getData().length);\r\n    }).collect(Collectors.toList());\r\n\r\n    return ResponseEntity.status(HttpStatus.OK).body(files);\r\n  }\r\n\r\n  @GetMapping(&quot;/files/{id}&quot;)\r\n  public ResponseEntity&lt;byte[]&gt; getFile(@PathVariable String id) {\r\n    FileDB fileDB = storageService.getFile(id);\r\n\r\n    return ResponseEntity.ok()\r\n        .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;&quot; + fileDB.getName() + &quot;\\&quot;&quot;)\r\n        .body(fileDB.getData());\r\n  }\r\n\r\n```","title":"how to download file from a file server in spring boot","body":"<p>refer this example :</p>\n<pre><code>  @GetMapping(&quot;/files&quot;)\n  public ResponseEntity&lt;List&lt;ResponseFile&gt;&gt; getListFiles() {\n    List&lt;ResponseFile&gt; files = storageService.getAllFiles().map(dbFile -&gt; {\n      String fileDownloadUri = ServletUriComponentsBuilder\n          .fromCurrentContextPath()\n          .path(&quot;/files/&quot;)\n          .path(dbFile.getId())\n          .toUriString();\n\n      return new ResponseFile(\n          dbFile.getName(),\n          fileDownloadUri,\n          dbFile.getType(),\n          dbFile.getData().length);\n    }).collect(Collectors.toList());\n\n    return ResponseEntity.status(HttpStatus.OK).body(files);\n  }\n\n  @GetMapping(&quot;/files/{id}&quot;)\n  public ResponseEntity&lt;byte[]&gt; getFile(@PathVariable String id) {\n    FileDB fileDB = storageService.getFile(id);\n\n    return ResponseEntity.ok()\n        .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;&quot; + fileDB.getName() + &quot;\\&quot;&quot;)\n        .body(fileDB.getData());\n  }\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25719058,"reputation":407,"user_id":19476294,"display_name":"Sumit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665739551,"creation_date":1665739551,"answer_id":74067137,"question_id":74066966,"body_markdown":"Try this method for loading resource. to see if it works\r\n\r\nResource file = fileStorageService.loadFileAsResource(fileName);","title":"how to download file from a file server in spring boot","body":"<p>Try this method for loading resource. to see if it works</p>\n<p>Resource file = fileStorageService.loadFileAsResource(fileName);</p>\n"},{"tags":[],"owner":{"account_id":22070829,"reputation":49,"user_id":16331833,"display_name":"sonnv0812"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665739751,"creation_date":1665739751,"answer_id":74067181,"question_id":74066966,"body_markdown":"Try this code \r\n\r\n    @GetMapping( &quot;/files/{filename:.+}/{id}&quot;)\r\n    public void getFile(@PathVariable String filename, HttpServletRequest request, final HttpServletResponse response) {\r\n        BufferedInputStream bufferedInputStream = null;\r\n        try {\r\n            File file = ...;\r\n    \r\n            response.setHeader(&quot;Cache-Control&quot;, &quot;must-revalidate&quot;);\r\n            response.setHeader(&quot;Pragma&quot;, &quot;public&quot;);\r\n            response.setHeader(&quot;Content-Transfer-Encoding&quot;, &quot;binary&quot;);\r\n            response.setHeader(&quot;Content-disposition&quot;, &quot;attachment; &quot;);\r\n    \r\n            bufferedInputStream = new BufferedInputStream(new FileInputStream(file));\r\n            FileCopyUtils.copy(bufferedInputStream, response.getOutputStream());\r\n    \r\n        } catch (Exception e) {\r\n    \tlogger.error(e.getMesssage(), e);\r\n        } finally {\r\n            try {\r\n                response.getOutputStream().flush();\r\n                response.getOutputStream().close();\r\n            } catch (Exception ex) {\r\n                logger.error(ex);\r\n            }\r\n    \r\n            try {\r\n                if (bufferedInputStream != null)\r\n                    bufferedInputStream.close();\r\n            } catch (Exception ex) {\r\n                logger.error(ex);\r\n            }\r\n        }\r\n    }\r\n\r\nI&#39;m not sure it will work with your system, but for me I still use this method to download files normally.","title":"how to download file from a file server in spring boot","body":"<p>Try this code</p>\n<pre><code>@GetMapping( &quot;/files/{filename:.+}/{id}&quot;)\npublic void getFile(@PathVariable String filename, HttpServletRequest request, final HttpServletResponse response) {\n    BufferedInputStream bufferedInputStream = null;\n    try {\n        File file = ...;\n\n        response.setHeader(&quot;Cache-Control&quot;, &quot;must-revalidate&quot;);\n        response.setHeader(&quot;Pragma&quot;, &quot;public&quot;);\n        response.setHeader(&quot;Content-Transfer-Encoding&quot;, &quot;binary&quot;);\n        response.setHeader(&quot;Content-disposition&quot;, &quot;attachment; &quot;);\n\n        bufferedInputStream = new BufferedInputStream(new FileInputStream(file));\n        FileCopyUtils.copy(bufferedInputStream, response.getOutputStream());\n\n    } catch (Exception e) {\n    logger.error(e.getMesssage(), e);\n    } finally {\n        try {\n            response.getOutputStream().flush();\n            response.getOutputStream().close();\n        } catch (Exception ex) {\n            logger.error(ex);\n        }\n\n        try {\n            if (bufferedInputStream != null)\n                bufferedInputStream.close();\n        } catch (Exception ex) {\n            logger.error(ex);\n        }\n    }\n}\n</code></pre>\n<p>I'm not sure it will work with your system, but for me I still use this method to download files normally.</p>\n"}],"owner":{"account_id":6706597,"reputation":15,"user_id":5171310,"display_name":"James"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2298,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1665745748,"creation_date":1665738717,"question_id":74066966,"body_markdown":"I uploaded a file using multipart successfully and appended the entity class id to it. Sending a get request returns a null value.\r\n\r\nThis is my post endpoint:\r\n\r\n    @PostMapping(&quot;/{id}/upload_multiple&quot;)\r\n    public ResponseEntity&lt;ResponseMessage&gt; createDocument(@PathVariable Long id,\r\n    \t\t@RequestParam(&quot;applicationLetter&quot;) MultipartFile appLetter,\r\n    \t\t@RequestParam(&quot;certificateOfInc&quot;) MultipartFile cInc, @RequestParam(&quot;paymentReceipt&quot;) MultipartFile payment,\r\n    \t\t@RequestParam(&quot;taxClearance&quot;) MultipartFile tax, @RequestParam(&quot;staffsResume&quot;) MultipartFile staffs,\r\n    \t\t@RequestParam(&quot;letterOfCredibility&quot;) MultipartFile credibility,\r\n    \t\t@RequestParam(&quot;workCertificate&quot;) MultipartFile workCert,\r\n    \t\t@RequestParam(&quot;consentAffidavit&quot;) MultipartFile affidavit,\r\n    \t\t@RequestParam(&quot;collaborationCert&quot;) MultipartFile colabo, @RequestParam(&quot;directorsId&quot;) MultipartFile idcard,\r\n    \t\t@RequestParam(&quot;membership&quot;) MultipartFile member) throws IOException {\r\n    \r\n    \tdocumentService.create(id, appLetter, cInc, payment, tax, staffs, credibility, workCert, affidavit, colabo,\r\n    \t\t\tidcard, member);\r\n    \tString message = &quot;Upload successful&quot;;\r\n    \r\n    \treturn ResponseEntity.status(HttpStatus.OK).body(new ResponseMessage(message));\r\n    }\r\n\r\nuploaded files are saved in a another folder 10001 which is the ID of the document entity. My challenge now is to get those files from 10001 folder.\r\n[![uploaded][1]][1]  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1dppC.jpg\r\n\r\nThis is what I tried but is returning null value for all the documents:\r\n\r\n    @GetMapping( &quot;/files/{filename:.+}/{id}&quot;)\r\n\tpublic ResponseEntity&lt;Resource&gt; getFile(@PathVariable String filename) {\r\n\t\tResource file = documentService.load(filename);\r\n\t\treturn ResponseEntity.ok()\r\n\t\t\t\t.contentType(MediaType.parseMediaType(&quot;application/octet-stream&quot;))\r\n\t\t\t\t.header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;&quot; + file.getFilename() + &quot;\\&quot;&quot;)\r\n\t\t\t\t.body(file);\r\n\t}\r\n\t\r\n\r\nMy service class:\r\n\r\n    private final Path root = Paths.get(&quot;documents&quot;);\r\n\r\n     @Override\r\n\t  public Resource load(String filename) {\r\n\t    try {\r\n\t      Path file = root.resolve(filename);\r\n\t      Resource resource = new UrlResource(file.toUri());\r\n\r\n\t      if (resource.exists() || resource.isReadable()) {\r\n\t        return resource;\r\n\t      } else {\r\n\t        throw new RuntimeException(&quot;Could not read the file!&quot;);\r\n\t      }\r\n\t    } catch (MalformedURLException e) {\r\n\t      throw new RuntimeException(&quot;Error: &quot; + e.getMessage());\r\n\t    }\r\n\t  }\r\n\r\nMy Entity class:\r\n\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    public class Documents {\r\n    \r\n        @Id\r\n        @Column(nullable = false, updatable = false)\r\n        @SequenceGenerator(\r\n                name = &quot;primary_sequence&quot;,\r\n                sequenceName = &quot;primary_sequence&quot;,\r\n                allocationSize = 1,\r\n                initialValue = 10000\r\n        )\r\n        @GeneratedValue(\r\n                strategy = GenerationType.SEQUENCE,\r\n                generator = &quot;primary_sequence&quot;\r\n        )\r\n        private Long id;\r\n    \r\n        @Column(nullable = false)\r\n        private String applicationLetter;\r\n    \r\n        @Column(nullable = false)\r\n        private String certOfIncorporation;\r\n    \r\n        @Column(nullable = false)\r\n        private String paymentReceipt;\r\n    \r\n        @Column(nullable = false)\r\n        private String taxClearance;\r\n    \r\n        @Column(nullable = false)\r\n        private String staffsResume;\r\n    }","title":"how to download file from a file server in spring boot","body":"<p>I uploaded a file using multipart successfully and appended the entity class id to it. Sending a get request returns a null value.</p>\n<p>This is my post endpoint:</p>\n<pre><code>@PostMapping(&quot;/{id}/upload_multiple&quot;)\npublic ResponseEntity&lt;ResponseMessage&gt; createDocument(@PathVariable Long id,\n        @RequestParam(&quot;applicationLetter&quot;) MultipartFile appLetter,\n        @RequestParam(&quot;certificateOfInc&quot;) MultipartFile cInc, @RequestParam(&quot;paymentReceipt&quot;) MultipartFile payment,\n        @RequestParam(&quot;taxClearance&quot;) MultipartFile tax, @RequestParam(&quot;staffsResume&quot;) MultipartFile staffs,\n        @RequestParam(&quot;letterOfCredibility&quot;) MultipartFile credibility,\n        @RequestParam(&quot;workCertificate&quot;) MultipartFile workCert,\n        @RequestParam(&quot;consentAffidavit&quot;) MultipartFile affidavit,\n        @RequestParam(&quot;collaborationCert&quot;) MultipartFile colabo, @RequestParam(&quot;directorsId&quot;) MultipartFile idcard,\n        @RequestParam(&quot;membership&quot;) MultipartFile member) throws IOException {\n\n    documentService.create(id, appLetter, cInc, payment, tax, staffs, credibility, workCert, affidavit, colabo,\n            idcard, member);\n    String message = &quot;Upload successful&quot;;\n\n    return ResponseEntity.status(HttpStatus.OK).body(new ResponseMessage(message));\n}\n</code></pre>\n<p>uploaded files are saved in a another folder 10001 which is the ID of the document entity. My challenge now is to get those files from 10001 folder.\n<a href=\"https://i.stack.imgur.com/1dppC.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1dppC.jpg\" alt=\"uploaded\" /></a></p>\n<p>This is what I tried but is returning null value for all the documents:</p>\n<pre><code>@GetMapping( &quot;/files/{filename:.+}/{id}&quot;)\npublic ResponseEntity&lt;Resource&gt; getFile(@PathVariable String filename) {\n    Resource file = documentService.load(filename);\n    return ResponseEntity.ok()\n            .contentType(MediaType.parseMediaType(&quot;application/octet-stream&quot;))\n            .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;&quot; + file.getFilename() + &quot;\\&quot;&quot;)\n            .body(file);\n}\n</code></pre>\n<p>My service class:</p>\n<pre><code>private final Path root = Paths.get(&quot;documents&quot;);\n\n @Override\n  public Resource load(String filename) {\n    try {\n      Path file = root.resolve(filename);\n      Resource resource = new UrlResource(file.toUri());\n\n      if (resource.exists() || resource.isReadable()) {\n        return resource;\n      } else {\n        throw new RuntimeException(&quot;Could not read the file!&quot;);\n      }\n    } catch (MalformedURLException e) {\n      throw new RuntimeException(&quot;Error: &quot; + e.getMessage());\n    }\n  }\n</code></pre>\n<p>My Entity class:</p>\n<pre><code>@Entity\n@Getter\n@Setter\npublic class Documents {\n\n    @Id\n    @Column(nullable = false, updatable = false)\n    @SequenceGenerator(\n            name = &quot;primary_sequence&quot;,\n            sequenceName = &quot;primary_sequence&quot;,\n            allocationSize = 1,\n            initialValue = 10000\n    )\n    @GeneratedValue(\n            strategy = GenerationType.SEQUENCE,\n            generator = &quot;primary_sequence&quot;\n    )\n    private Long id;\n\n    @Column(nullable = false)\n    private String applicationLetter;\n\n    @Column(nullable = false)\n    private String certOfIncorporation;\n\n    @Column(nullable = false)\n    private String paymentReceipt;\n\n    @Column(nullable = false)\n    private String taxClearance;\n\n    @Column(nullable = false)\n    private String staffsResume;\n}\n</code></pre>\n"},{"tags":["java","spring","ignite"],"comments":[{"owner":{"account_id":116306,"reputation":8518,"user_id":305020,"accept_rate":83,"display_name":"Pavel Tupitsyn"},"score":0,"creation_date":1665552465,"post_id":74036797,"comment_id":130724403,"body_markdown":"Please share full exception details. Inner exceptions should contain the actual reason for the failure.","body":"Please share full exception details. Inner exceptions should contain the actual reason for the failure."},{"owner":{"account_id":11610378,"reputation":25,"user_id":8504778,"display_name":"Bhushan"},"score":0,"creation_date":1665592294,"post_id":74036797,"comment_id":130738835,"body_markdown":"It is not allowing me to add entire error trace. Exceeds thier character limits","body":"It is not allowing me to add entire error trace. Exceeds thier character limits"},{"owner":{"account_id":116306,"reputation":8518,"user_id":305020,"accept_rate":83,"display_name":"Pavel Tupitsyn"},"score":0,"creation_date":1665595957,"post_id":74036797,"comment_id":130740015,"body_markdown":"Try GitHub Gitsts or Pastebin.","body":"Try GitHub Gitsts or Pastebin."},{"owner":{"account_id":11610378,"reputation":25,"user_id":8504778,"display_name":"Bhushan"},"score":0,"creation_date":1665657232,"post_id":74036797,"comment_id":130753246,"body_markdown":"https://pastebin.com/6YDe9eW3","body":"<a href=\"https://pastebin.com/6YDe9eW3\" rel=\"nofollow noreferrer\">pastebin.com/6YDe9eW3</a>"}],"answers":[{"tags":[],"owner":{"account_id":26564177,"reputation":36,"user_id":20191548,"display_name":"AbhishekVinayak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665557307,"creation_date":1665557226,"answer_id":74037525,"question_id":74036797,"body_markdown":"Try using this method to start the client\r\n\r\n    @Bean\r\n        public Ignite igniteInstance() {\r\n            log.info(&quot;Creating ignite instance&quot;);\r\n            TcpDiscoveryKubernetesIpFinder tcpDiscoveryKubernetesIpFinder = new TcpDiscoveryKubernetesIpFinder();\r\n            tcpDiscoveryKubernetesIpFinder.setNamespace(&quot;default&quot;);\r\n            tcpDiscoveryKubernetesIpFinder.setServiceName(&quot;job-cache&quot;);\r\n     \r\n            TcpDiscoverySpi tcpDiscoverySpi = new TcpDiscoverySpi();\r\n            tcpDiscoverySpi.setIpFinder(tcpDiscoveryKubernetesIpFinder);\r\n     \r\n            IgniteConfiguration igniteConfiguration = new IgniteConfiguration();\r\n     \r\n            igniteConfiguration.setDiscoverySpi(tcpDiscoverySpi);\r\n            igniteConfiguration.setClientMode(false);\r\n     \r\n            return Ignition.start(igniteConfiguration);\r\n        }\r\n\r\n\r\nTry adding these dependencies rather than creating bean in pom.xml\r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.ignite&lt;/groupId&gt;\r\n                &lt;artifactId&gt;ignite-kubernetes&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.ignite&lt;/groupId&gt;\r\n                &lt;artifactId&gt;ignite-spring&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7.6&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.apache.ignite&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;ignite-indexing&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\nFollow this documentataion,\r\n[Documentation][1] - Part 1\r\n\r\n\r\n  [1]: https://www.javacodegeeks.com/2020/04/apache-ignite-and-spring-on-your-kubernetes-cluster-part-1-spring-boot-application.html","title":"Getting IgniteCheckedException: Failed to start SPI: TcpDiscoverySpi Exception","body":"<p>Try using this method to start the client</p>\n<pre><code>@Bean\n    public Ignite igniteInstance() {\n        log.info(&quot;Creating ignite instance&quot;);\n        TcpDiscoveryKubernetesIpFinder tcpDiscoveryKubernetesIpFinder = new TcpDiscoveryKubernetesIpFinder();\n        tcpDiscoveryKubernetesIpFinder.setNamespace(&quot;default&quot;);\n        tcpDiscoveryKubernetesIpFinder.setServiceName(&quot;job-cache&quot;);\n \n        TcpDiscoverySpi tcpDiscoverySpi = new TcpDiscoverySpi();\n        tcpDiscoverySpi.setIpFinder(tcpDiscoveryKubernetesIpFinder);\n \n        IgniteConfiguration igniteConfiguration = new IgniteConfiguration();\n \n        igniteConfiguration.setDiscoverySpi(tcpDiscoverySpi);\n        igniteConfiguration.setClientMode(false);\n \n        return Ignition.start(igniteConfiguration);\n    }\n</code></pre>\n<p>Try adding these dependencies rather than creating bean in pom.xml</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.apache.ignite&lt;/groupId&gt;\n            &lt;artifactId&gt;ignite-kubernetes&lt;/artifactId&gt;\n            &lt;version&gt;2.7.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.ignite&lt;/groupId&gt;\n            &lt;artifactId&gt;ignite-spring&lt;/artifactId&gt;\n            &lt;version&gt;2.7.6&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.ignite&lt;/groupId&gt;\n                    &lt;artifactId&gt;ignite-indexing&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Follow this documentataion,\n<a href=\"https://www.javacodegeeks.com/2020/04/apache-ignite-and-spring-on-your-kubernetes-cluster-part-1-spring-boot-application.html\" rel=\"nofollow noreferrer\">Documentation</a> - Part 1</p>\n"},{"tags":[],"owner":{"account_id":116306,"reputation":8518,"user_id":305020,"accept_rate":83,"display_name":"Pavel Tupitsyn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665745716,"creation_date":1665745716,"answer_id":74068313,"question_id":74036797,"body_markdown":"Error from the [detailed log](https://pastebin.com/raw/6YDe9eW3):\r\n\r\n`Local node and remote node have different version numbers (node will not join, Ignite does not support rolling updates, so versions must be exactly the same) [locBuildVer=8.7.12, rmtBuildVer=8.8.11`\r\n\r\nMake sure that all nodes have the same Ignite version.","title":"Getting IgniteCheckedException: Failed to start SPI: TcpDiscoverySpi Exception","body":"<p>Error from the <a href=\"https://pastebin.com/raw/6YDe9eW3\" rel=\"nofollow noreferrer\">detailed log</a>:</p>\n<p><code>Local node and remote node have different version numbers (node will not join, Ignite does not support rolling updates, so versions must be exactly the same) [locBuildVer=8.7.12, rmtBuildVer=8.8.11</code></p>\n<p>Make sure that all nodes have the same Ignite version.</p>\n"}],"owner":{"account_id":11610378,"reputation":25,"user_id":8504778,"display_name":"Bhushan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":785,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665745716,"creation_date":1665551750,"question_id":74036797,"body_markdown":"I have installed apache ignite on openshift/Kubernetes cluster. while installing apache ignite I provided the following node-configuration.xml. I have followed [this][1] document to install ignite cluster\r\n \r\n  \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n    http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\r\n\r\n    &lt;bean class=&quot;org.apache.ignite.configuration.IgniteConfiguration&quot;&gt;\r\n\r\n        &lt;property name=&quot;workDirectory&quot; value=&quot;/ignite/work&quot;/&gt;\r\n\r\n        &lt;property name=&quot;dataStorageConfiguration&quot;&gt;\r\n            &lt;bean class=&quot;org.apache.ignite.configuration.DataStorageConfiguration&quot;&gt;\r\n                &lt;property name=&quot;defaultDataRegionConfiguration&quot;&gt;\r\n                    &lt;bean class=&quot;org.apache.ignite.configuration.DataRegionConfiguration&quot;&gt;\r\n                        &lt;property name=&quot;persistenceEnabled&quot; value=&quot;true&quot;/&gt;\r\n                    &lt;/bean&gt;\r\n                &lt;/property&gt;\r\n\r\n                &lt;property name=&quot;walPath&quot; value=&quot;/ignite/wal&quot;/&gt;\r\n                &lt;property name=&quot;walArchivePath&quot; value=&quot;/ignite/walarchive&quot;/&gt;\r\n            &lt;/bean&gt;\r\n\r\n        &lt;/property&gt;\r\n\r\n        &lt;property name=&quot;discoverySpi&quot;&gt;\r\n            &lt;bean class=&quot;org.apache.ignite.spi.discovery.tcp.TcpDiscoverySpi&quot;&gt;\r\n                &lt;property name=&quot;ipFinder&quot;&gt;\r\n                    &lt;bean class=&quot;org.apache.ignite.spi.discovery.tcp.ipfinder.kubernetes.TcpDiscoveryKubernetesIpFinder&quot;&gt;\r\n                        &lt;constructor-arg&gt;\r\n                            &lt;bean class=&quot;org.apache.ignite.kubernetes.configuration.KubernetesConnectionConfiguration&quot;&gt;\r\n                                &lt;property name=&quot;namespace&quot; value=&quot;ignite&quot; /&gt;\r\n                                &lt;property name=&quot;serviceName&quot; value=&quot;ignite-service&quot; /&gt;\r\n                            &lt;/bean&gt;\r\n                        &lt;/constructor-arg&gt;\r\n                    &lt;/bean&gt;\r\n                &lt;/property&gt;\r\n            &lt;/bean&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n&lt;/beans&gt;\r\n\r\n \r\n\r\n  \r\n    \r\n  \r\n\r\n  and in java code used the below configuration to start to ignite client\r\n    \r\n        IgniteConfiguration cfg = new IgniteConfiguration();\r\n        cfg.setClientMode(true);\r\n        cfg.setPeerClassLoadingEnabled(false);\r\n        KubernetesConnectionConfiguration kubernetesCfg = new KubernetesConnectionConfiguration();\r\n        kubernetesCfg.setNamespace(&quot;ignite&quot;);\r\n        kubernetesCfg.setServiceName(&quot;ignite-service&quot;);\r\n        TcpDiscoveryKubernetesIpFinder kubernetesIpFinder = new TcpDiscoveryKubernetesIpFinder(kubernetesCfg);\r\n        cfg.setDiscoverySpi(new TcpDiscoverySpi().setIpFinder(kubernetesIpFinder));\r\n    \r\n \r\n\r\n   but getting the following error while starting ignite java client.\r\n    \r\n    &gt; \r\n\r\n    [ERROR] 2022-10-11 18:15:56.638 [main] IgniteKernal - Failed to start manager: GridManagerAdapter [enabled=true, name=o.a.i.i.managers.discovery.GridDiscoveryManager]\r\n        org.apache.ignite.IgniteCheckedException: Failed to start SPI: TcpDiscoverySpi [addrRslvr=null, sockTimeout=5000, ackTimeout=5000, marsh=JdkMarshaller [clsFilter=org.apache.ignite.marshaller.MarshallerUtils$1@6c302a1d], reconCnt=10, reconDelay=2000, maxAckTimeout=600000, soLinger=5, forceSrvMode=false, clientReconnectDisabled=false, internalLsnr=null, skipAddrsRandomization=false]\r\n        \tat org.apache.ignite.internal.managers.GridManagerAdapter.startSpi(GridManagerAdapter.java:280) ~[ignite-core-8.8.11.jar!/:8.8.11]\r\n        \tat org.apache.ignite.internal.managers.discovery.GridDiscoveryManager.start(GridDiscoveryManager.java:985) ~[ignite-core-8.8.11.jar!/:8.8.11]\r\n        \tat org.apache.ignite.internal.IgniteKernal.startManager(IgniteKernal.java:1919) ~[ignite-core-8.8.11.jar!/:8.8.11]\r\n        \tat org.apache.ignite.internal.IgniteKernal.start(IgniteKernal.java:1235) ~[ignite-core-8.8.11.jar!/:8.8.11]\r\n        \tat org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start0(IgnitionEx.java:1784) ~[ignite-core-8.8.11.jar!/:8.8.11]\r\n        \tat org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start(IgnitionEx.java:1706) ~[ignite-core-8.8.11.jar!/:8.8.11]\r\n        \tat org.apache.ignite.internal.IgnitionEx.start0(IgnitionEx.java:1143) ~[ignite-core-8.8.11.jar!/:8.8.11]\r\n        \tat org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:660) ~[ignite-core-8.8.11.jar!/:8.8.11]\r\n        \tat org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:597) ~[ignite-core-8.8.11.jar!/:8.8.11]\r\n        \tat org.apache.ignite.Ignition.getOrStart(Ignition.java:410) ~[ignite-core-8.8.11.jar!/:8.8.11]\r\n        \tat org.osdu.gcz.transformer.repository.ignite.DefaultFeatureCache.&lt;init&gt;(DefaultFeatureCache.java:64) ~[classes!/:0.17.0-SNAPSHOT]\r\n        \tat org.osdu.gcz.transformer.configuration.TransformerConfiguration.remoteFeatureCache(TransformerConfiguration.java:53) ~[classes!/:0.17.0-SNAPSHOT]\r\n        \tat org.osdu.gcz.transformer.configuration.TransformerConfiguration$$EnhancerBySpringCGLIB$$e666dfd2.CGLIB$remoteFeatureCache$1(\r\n\r\n  [1]: https://ignite.apache.org/docs/latest/installation/kubernetes/amazon-eks-deployment\r\n\r\n","title":"Getting IgniteCheckedException: Failed to start SPI: TcpDiscoverySpi Exception","body":"<p>I have installed apache ignite on openshift/Kubernetes cluster. while installing apache ignite I provided the following node-configuration.xml. I have followed <a href=\"https://ignite.apache.org/docs/latest/installation/kubernetes/amazon-eks-deployment\" rel=\"nofollow noreferrer\">this</a> document to install ignite cluster</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\nhttp://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\n\n&lt;bean class=&quot;org.apache.ignite.configuration.IgniteConfiguration&quot;&gt;\n\n    &lt;property name=&quot;workDirectory&quot; value=&quot;/ignite/work&quot;/&gt;\n\n    &lt;property name=&quot;dataStorageConfiguration&quot;&gt;\n        &lt;bean class=&quot;org.apache.ignite.configuration.DataStorageConfiguration&quot;&gt;\n            &lt;property name=&quot;defaultDataRegionConfiguration&quot;&gt;\n                &lt;bean class=&quot;org.apache.ignite.configuration.DataRegionConfiguration&quot;&gt;\n                    &lt;property name=&quot;persistenceEnabled&quot; value=&quot;true&quot;/&gt;\n                &lt;/bean&gt;\n            &lt;/property&gt;\n\n            &lt;property name=&quot;walPath&quot; value=&quot;/ignite/wal&quot;/&gt;\n            &lt;property name=&quot;walArchivePath&quot; value=&quot;/ignite/walarchive&quot;/&gt;\n        &lt;/bean&gt;\n\n    &lt;/property&gt;\n\n    &lt;property name=&quot;discoverySpi&quot;&gt;\n        &lt;bean class=&quot;org.apache.ignite.spi.discovery.tcp.TcpDiscoverySpi&quot;&gt;\n            &lt;property name=&quot;ipFinder&quot;&gt;\n                &lt;bean class=&quot;org.apache.ignite.spi.discovery.tcp.ipfinder.kubernetes.TcpDiscoveryKubernetesIpFinder&quot;&gt;\n                    &lt;constructor-arg&gt;\n                        &lt;bean class=&quot;org.apache.ignite.kubernetes.configuration.KubernetesConnectionConfiguration&quot;&gt;\n                            &lt;property name=&quot;namespace&quot; value=&quot;ignite&quot; /&gt;\n                            &lt;property name=&quot;serviceName&quot; value=&quot;ignite-service&quot; /&gt;\n                        &lt;/bean&gt;\n                    &lt;/constructor-arg&gt;\n                &lt;/bean&gt;\n            &lt;/property&gt;\n        &lt;/bean&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>and in java code used the below configuration to start to ignite client</p>\n<pre><code>    IgniteConfiguration cfg = new IgniteConfiguration();\n    cfg.setClientMode(true);\n    cfg.setPeerClassLoadingEnabled(false);\n    KubernetesConnectionConfiguration kubernetesCfg = new KubernetesConnectionConfiguration();\n    kubernetesCfg.setNamespace(&quot;ignite&quot;);\n    kubernetesCfg.setServiceName(&quot;ignite-service&quot;);\n    TcpDiscoveryKubernetesIpFinder kubernetesIpFinder = new TcpDiscoveryKubernetesIpFinder(kubernetesCfg);\n    cfg.setDiscoverySpi(new TcpDiscoverySpi().setIpFinder(kubernetesIpFinder));\n</code></pre>\n<p>but getting the following error while starting ignite java client.</p>\n<pre><code>&gt; \n\n[ERROR] 2022-10-11 18:15:56.638 [main] IgniteKernal - Failed to start manager: GridManagerAdapter [enabled=true, name=o.a.i.i.managers.discovery.GridDiscoveryManager]\n    org.apache.ignite.IgniteCheckedException: Failed to start SPI: TcpDiscoverySpi [addrRslvr=null, sockTimeout=5000, ackTimeout=5000, marsh=JdkMarshaller [clsFilter=org.apache.ignite.marshaller.MarshallerUtils$1@6c302a1d], reconCnt=10, reconDelay=2000, maxAckTimeout=600000, soLinger=5, forceSrvMode=false, clientReconnectDisabled=false, internalLsnr=null, skipAddrsRandomization=false]\n        at org.apache.ignite.internal.managers.GridManagerAdapter.startSpi(GridManagerAdapter.java:280) ~[ignite-core-8.8.11.jar!/:8.8.11]\n        at org.apache.ignite.internal.managers.discovery.GridDiscoveryManager.start(GridDiscoveryManager.java:985) ~[ignite-core-8.8.11.jar!/:8.8.11]\n        at org.apache.ignite.internal.IgniteKernal.startManager(IgniteKernal.java:1919) ~[ignite-core-8.8.11.jar!/:8.8.11]\n        at org.apache.ignite.internal.IgniteKernal.start(IgniteKernal.java:1235) ~[ignite-core-8.8.11.jar!/:8.8.11]\n        at org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start0(IgnitionEx.java:1784) ~[ignite-core-8.8.11.jar!/:8.8.11]\n        at org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start(IgnitionEx.java:1706) ~[ignite-core-8.8.11.jar!/:8.8.11]\n        at org.apache.ignite.internal.IgnitionEx.start0(IgnitionEx.java:1143) ~[ignite-core-8.8.11.jar!/:8.8.11]\n        at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:660) ~[ignite-core-8.8.11.jar!/:8.8.11]\n        at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:597) ~[ignite-core-8.8.11.jar!/:8.8.11]\n        at org.apache.ignite.Ignition.getOrStart(Ignition.java:410) ~[ignite-core-8.8.11.jar!/:8.8.11]\n        at org.osdu.gcz.transformer.repository.ignite.DefaultFeatureCache.&lt;init&gt;(DefaultFeatureCache.java:64) ~[classes!/:0.17.0-SNAPSHOT]\n        at org.osdu.gcz.transformer.configuration.TransformerConfiguration.remoteFeatureCache(TransformerConfiguration.java:53) ~[classes!/:0.17.0-SNAPSHOT]\n        at org.osdu.gcz.transformer.configuration.TransformerConfiguration$$EnhancerBySpringCGLIB$$e666dfd2.CGLIB$remoteFeatureCache$1(\n</code></pre>\n"},{"tags":["java","performance","mongodb","resultset","database-performance"],"comments":[{"owner":{"account_id":7422059,"reputation":8094,"user_id":5645988,"display_name":"Madhusudana Reddy Sunnapu"},"score":0,"creation_date":1454089467,"post_id":35090556,"comment_id":57903347,"body_markdown":"If I got the question right, I think once you call `myColl.find(query)` it returns a `DBCursor` object on which you can call `count()` method instead of issuing `myColl.count(query)` to get rows returned by the query.","body":"If I got the question right, I think once you call <code>myColl.find(query)</code> it returns a <code>DBCursor</code> object on which you can call <code>count()</code> method instead of issuing <code>myColl.count(query)</code> to get rows returned by the query."},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1454089700,"post_id":35090556,"comment_id":57903485,"body_markdown":"@MadhusudanaReddySunnapu, actually it returns `FindIterable&lt;TDocument&gt;` object, which doesn&#39;t have `count()` method. In `MongoDB 2.0` there was such method but not in 3.0 version.","body":"@MadhusudanaReddySunnapu, actually it returns <code>FindIterable&lt;TDocument&gt;</code> object, which doesn&#39;t have <code>count()</code> method. In <code>MongoDB 2.0</code> there was such method but not in 3.0 version."}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665745674,"creation_date":1454088747,"question_id":35090556,"body_markdown":"I have a MongoDB 3.2 database. I want to execute a query in Java (MongoDB Java Driver 3.2.1) and to know how many rows have been returned. In other words, I need a `count()` analog of the SQL in MongoDB.\r\n\r\nThe official MongoDB documentation [proposes](https://www.mongodb.com/docs/manual/reference/method/db.collection.count) to use `myColl.count(query)`, which indeed returns the size of the result set. But the problem is that, as far as I understand, in order to return the number of the result set, this command has to perform the query. Now suppose the query is really &#171;heavy&#187; and I still want to get:\r\n\r\n 1. the query&#39;s result set;\r\n 2. the size of the result set (the rows number of query&#39;s result set).\r\n\r\nIn order to achieve my goal should I do:\r\n\r\n 1. execute a query: `myColl.find(query)` to get a result set;\r\n 2. execute one more time absolutely the same query `myColl.count(query)` to get a rows number of the result set.\r\n\r\nIs there any more optimal approach, which will less affect the performance?","title":"Get number of returned rows in MongoDB query with Java","body":"<p>I have a MongoDB 3.2 database. I want to execute a query in Java (MongoDB Java Driver 3.2.1) and to know how many rows have been returned. In other words, I need a <code>count()</code> analog of the SQL in MongoDB.</p>\n<p>The official MongoDB documentation <a href=\"https://www.mongodb.com/docs/manual/reference/method/db.collection.count\" rel=\"nofollow noreferrer\">proposes</a> to use <code>myColl.count(query)</code>, which indeed returns the size of the result set. But the problem is that, as far as I understand, in order to return the number of the result set, this command has to perform the query. Now suppose the query is really «heavy» and I still want to get:</p>\n<ol>\n<li>the query's result set;</li>\n<li>the size of the result set (the rows number of query's result set).</li>\n</ol>\n<p>In order to achieve my goal should I do:</p>\n<ol>\n<li>execute a query: <code>myColl.find(query)</code> to get a result set;</li>\n<li>execute one more time absolutely the same query <code>myColl.count(query)</code> to get a rows number of the result set.</li>\n</ol>\n<p>Is there any more optimal approach, which will less affect the performance?</p>\n"},{"tags":["java","mongodb","spring-boot","quartz-scheduler","scheduler"],"comments":[{"owner":{"account_id":264827,"reputation":3887,"user_id":2365724,"display_name":"PaoloC"},"score":2,"creation_date":1665745289,"post_id":73028803,"comment_id":130775124,"body_markdown":"Here&#39;s the complete [list of forks](https://github.com/michaelklishin/quartz-mongodb/network) to the above repo. Some of them is still active in August.","body":"Here&#39;s the complete <a href=\"https://github.com/michaelklishin/quartz-mongodb/network\" rel=\"nofollow noreferrer\">list of forks</a> to the above repo. Some of them is still active in August."}],"owner":{"account_id":4102023,"reputation":861,"user_id":3367269,"display_name":"ac184"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1187,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1665745464,"creation_date":1658179450,"question_id":73028803,"body_markdown":"Do we have support for Quartz with MongoDB officially? I see there is a library https://github.com/michaelklishin/quartz-mongodb . but it was mentioned as it is no longer maintained. at this stage, our application is using MongoDB and just for Quartz, don&#39;t want to add another DB (MySQL) to our project. Kindly suggest if it is advisable to use two databases or does Quartz has support for MongoDB. \r\n\r\n  I understand this is requesting for suggestion / opinion. Any inputs will greatly help us.\r\n\r\nThank you in advance!","title":"Quartz with MongoDB - any maintained alternative?","body":"<p>Do we have support for Quartz with MongoDB officially? I see there is a library <a href=\"https://github.com/michaelklishin/quartz-mongodb\" rel=\"nofollow noreferrer\">https://github.com/michaelklishin/quartz-mongodb</a> . but it was mentioned as it is no longer maintained. at this stage, our application is using MongoDB and just for Quartz, don't want to add another DB (MySQL) to our project. Kindly suggest if it is advisable to use two databases or does Quartz has support for MongoDB.</p>\n<p>I understand this is requesting for suggestion / opinion. Any inputs will greatly help us.</p>\n<p>Thank you in advance!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1665744326,"post_id":74067965,"comment_id":130774877,"body_markdown":"The reason is that you reassign the `car` variable. That variable holds a copy of the reference to the list element. Reassigning that variable does not change the element in the list.","body":"The reason is that you reassign the <code>car</code> variable. That variable holds a copy of the reference to the list element. Reassigning that variable does not change the element in the list."},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1665744661,"post_id":74067965,"comment_id":130774952,"body_markdown":"What you actually want here is: `return cars.stream().peek(car -&gt; car.setBrand(&quot;BMW&quot;)).map(carRepository::saveAndFlush).collect(toList())`","body":"What you actually want here is: <code>return cars.stream().peek(car -&gt; car.setBrand(&quot;BMW&quot;)).map(carRepository::saveAndFlush).collec&zwnj;&#8203;t(toList())</code>"}],"answers":[{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665744867,"creation_date":1665744513,"answer_id":74068091,"question_id":74067965,"body_markdown":"The reason is that you reassign the `car` variable. That variable holds a copy of the reference to the list element. Reassigning that variable does not change the element in the list.\r\n\r\nYou can either extract just the value you want:\r\n\r\n    for (Car car : cars) {\r\n        car.setBrand(&quot;BMW&quot;);\t\t\t\r\n        car.setId(carRepository.saveAndFlush(car).getId());\r\n        System.err.println(&quot;car id:&quot; + car.getId());\r\n    }\r\n\r\nOr correctly work on the list by re-setting each entry. This requires the implementation of your `List&lt;Car&gt; cars` to be mutable, which it might not be.\r\n\r\n    for (int i=0;i&lt;cars.size(); i++) {\r\n        Car car = cars.get(i);\r\n        car.setBrand(&quot;BMW&quot;);\t\t\t\r\n        car = carRepository.saveAndFlush(car);\r\n        cars.set(i, car);\r\n        System.err.println(&quot;car id:&quot; + car.getId());\r\n    }\r\n\r\nYou should also take not of the approach that Seelenvirtuose posted in the comments. It creates a whole new `List` which might not be what you want, but it sure is elegant.","title":"Id of saved object not reflected in list","body":"<p>The reason is that you reassign the <code>car</code> variable. That variable holds a copy of the reference to the list element. Reassigning that variable does not change the element in the list.</p>\n<p>You can either extract just the value you want:</p>\n<pre><code>for (Car car : cars) {\n    car.setBrand(&quot;BMW&quot;);            \n    car.setId(carRepository.saveAndFlush(car).getId());\n    System.err.println(&quot;car id:&quot; + car.getId());\n}\n</code></pre>\n<p>Or correctly work on the list by re-setting each entry. This requires the implementation of your <code>List&lt;Car&gt; cars</code> to be mutable, which it might not be.</p>\n<pre><code>for (int i=0;i&lt;cars.size(); i++) {\n    Car car = cars.get(i);\n    car.setBrand(&quot;BMW&quot;);            \n    car = carRepository.saveAndFlush(car);\n    cars.set(i, car);\n    System.err.println(&quot;car id:&quot; + car.getId());\n}\n</code></pre>\n<p>You should also take not of the approach that Seelenvirtuose posted in the comments. It creates a whole new <code>List</code> which might not be what you want, but it sure is elegant.</p>\n"}],"owner":{"account_id":26620416,"reputation":1,"user_id":20239264,"display_name":"Will Wijgergangs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665744867,"creation_date":1665743813,"question_id":74067965,"body_markdown":"A list of cars is created which aren&#39;t stored in the database.\r\nVia setSaveCars values are set and the cars are saved in the database.\r\nAfter the saveAndFlush the id is set, the id under which it&#39;s saved in the database.\r\nThis is shown in the returned object but not in the list.\r\nBelow a simplified example code snippet plus the outcome when testing with a list of 2 cars.\r\n\r\nThe outcome of this code is with a list of 2 cars:\r\ncar id:18902\r\ncar id:18903\r\ncars id: 0\r\ncars id: 0\r\n\r\nCan sombody explain this behaviour?\r\n\r\n    private List&lt;Car&gt; setSaveCars(List&lt;Car&gt; cars) {\r\n       for (Car car : cars) {\r\n            car.setBrand(&quot;BMW&quot;);\t\t\t\r\n            car = carRepository.saveAndFlush(car);\r\n            System.err.println(&quot;car id:&quot; + car.getId());\r\n       }\r\n          \r\n       System.err.println(&quot;cars id:&quot; + cars.get(0).getId());\r\n       System.err.println(&quot;cars id:&quot; + cars.get(1).getId());\r\n       return cars;\r\n    }","title":"Id of saved object not reflected in list","body":"<p>A list of cars is created which aren't stored in the database.\nVia setSaveCars values are set and the cars are saved in the database.\nAfter the saveAndFlush the id is set, the id under which it's saved in the database.\nThis is shown in the returned object but not in the list.\nBelow a simplified example code snippet plus the outcome when testing with a list of 2 cars.</p>\n<p>The outcome of this code is with a list of 2 cars:\ncar id:18902\ncar id:18903\ncars id: 0\ncars id: 0</p>\n<p>Can sombody explain this behaviour?</p>\n<pre><code>private List&lt;Car&gt; setSaveCars(List&lt;Car&gt; cars) {\n   for (Car car : cars) {\n        car.setBrand(&quot;BMW&quot;);            \n        car = carRepository.saveAndFlush(car);\n        System.err.println(&quot;car id:&quot; + car.getId());\n   }\n      \n   System.err.println(&quot;cars id:&quot; + cars.get(0).getId());\n   System.err.println(&quot;cars id:&quot; + cars.get(1).getId());\n   return cars;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","application.properties"],"comments":[{"owner":{"account_id":19663187,"reputation":383,"user_id":14394219,"display_name":"artiomi"},"score":0,"creation_date":1665597217,"post_id":74045979,"comment_id":130740434,"body_markdown":"Please add to the description also the `application.properties` file.","body":"Please add to the description also the <code>application.properties</code> file."},{"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"score":0,"creation_date":1665601797,"post_id":74045979,"comment_id":130741806,"body_markdown":"is the application properties located in `src/main/resources` ? I feel its not read correctly.\nalso this config class must be under package hierachy of the main springbootapplication class.","body":"is the application properties located in <code>src&#47;main&#47;resources</code> ? I feel its not read correctly. also this config class must be under package hierachy of the main springbootapplication class."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1665608289,"post_id":74045979,"comment_id":130743517,"body_markdown":"Why? Feels like you are working around the autoconfiguration available, what is it you are trying to achieve that isn&#39;t possible with the auto configuration?","body":"Why? Feels like you are working around the autoconfiguration available, what is it you are trying to achieve that isn&#39;t possible with the auto configuration?"},{"owner":{"account_id":1376839,"reputation":853,"user_id":8636516,"display_name":"harkesh kumar"},"score":0,"creation_date":1665743894,"post_id":74045979,"comment_id":130774764,"body_markdown":"i can help with this please ping me","body":"i can help with this please ping me"}],"answers":[{"tags":[],"owner":{"account_id":19663187,"reputation":383,"user_id":14394219,"display_name":"artiomi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665598512,"creation_date":1665598512,"answer_id":74046338,"question_id":74045979,"body_markdown":"For some reasons `@Value` annotated fields are not initialized I guess.  try sending values as `@Bean` method params.\r\n```\r\n@Configuration\r\n@ComponentScan\r\npublic class DatabaseConfig {\r\n\r\n @Bean(name = &quot;database_url&quot;)\r\n public String getDatabaseUrl(@Value(&quot;${spring.datasource.url}&quot;) String url,\r\n  @Value(&quot;${spring.datasource.username}&quot;)String username,\r\n  @Value(&quot;${spring.datasource.password}&quot;) String password\r\n  ) {\r\n    return url+&quot;?user=&quot;+username+&quot;&amp;password=&quot;+password;\r\n }\r\n}\r\n\r\n```","title":"Spring Boot create @Bean based on @Values","body":"<p>For some reasons <code>@Value</code> annotated fields are not initialized I guess.  try sending values as <code>@Bean</code> method params.</p>\n<pre><code>@Configuration\n@ComponentScan\npublic class DatabaseConfig {\n\n @Bean(name = &quot;database_url&quot;)\n public String getDatabaseUrl(@Value(&quot;${spring.datasource.url}&quot;) String url,\n  @Value(&quot;${spring.datasource.username}&quot;)String username,\n  @Value(&quot;${spring.datasource.password}&quot;) String password\n  ) {\n    return url+&quot;?user=&quot;+username+&quot;&amp;password=&quot;+password;\n }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665742700,"creation_date":1665742700,"answer_id":74067798,"question_id":74045979,"body_markdown":"`String` is immutable class, meaning each time a new `String` is created normally a new `String` *might* be created in the string pool and a new reference *might* be returned.\r\n\r\nFor this reason you can&#39;t have `String` object as a bean in your application context.\r\n\r\n    @Bean(name = &quot;database_url&quot;)\r\n    public String getDatabaseUrl() {  &lt;----------------The return type of String is wrong\r\n        return url+&quot;?user=&quot;+username+&quot;&amp;password=&quot;+password;\r\n    }\r\n\r\nSo just create a custom object in this `@Bean` method which could be transferred and used in the application context\r\n\r\nWhy not return a `DatabaseConnection` from that `@Bean` method this would seem the optimal solution in your problem.","title":"Spring Boot create @Bean based on @Values","body":"<p><code>String</code> is immutable class, meaning each time a new <code>String</code> is created normally a new <code>String</code> <em>might</em> be created in the string pool and a new reference <em>might</em> be returned.</p>\n<p>For this reason you can't have <code>String</code> object as a bean in your application context.</p>\n<pre><code>@Bean(name = &quot;database_url&quot;)\npublic String getDatabaseUrl() {  &lt;----------------The return type of String is wrong\n    return url+&quot;?user=&quot;+username+&quot;&amp;password=&quot;+password;\n}\n</code></pre>\n<p>So just create a custom object in this <code>@Bean</code> method which could be transferred and used in the application context</p>\n<p>Why not return a <code>DatabaseConnection</code> from that <code>@Bean</code> method this would seem the optimal solution in your problem.</p>\n"},{"tags":[],"owner":{"account_id":1376839,"reputation":853,"user_id":8636516,"display_name":"harkesh kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665744459,"creation_date":1665744459,"answer_id":74068080,"question_id":74045979,"body_markdown":"You have to create a new file where you 2st read data from property file     \r\n\r\n\r\n    @Configuration\r\n    @Getter\r\n    @Setter\r\n    @ConfigurationProperties(prefix = &quot;spring.datasource&quot;)\r\n    public class DatabaseLoginProperties{\r\n        private String url;\r\n        private String username;\r\n        private String password;\r\n    }\r\n\r\n----Now above value you can uses in your java file -------------------\r\n\r\n    @Configuration\r\n    public class DatabaseConfig {\r\n        @Autowired\r\n        private DatabaseLoginProperties databaseLoginProperties;\r\n        @Bean\r\n        public String getDatabaseUrl() {\r\n            return databaseLoginProperties.getUrl()+&quot;?user=&quot;+databaseLoginProperties.getUsername()+&quot;&amp;password=&quot;+databaseLoginProperties.getPassword();\r\n        }\r\n    }","title":"Spring Boot create @Bean based on @Values","body":"<p>You have to create a new file where you 2st read data from property file</p>\n<pre><code>@Configuration\n@Getter\n@Setter\n@ConfigurationProperties(prefix = &quot;spring.datasource&quot;)\npublic class DatabaseLoginProperties{\n    private String url;\n    private String username;\n    private String password;\n}\n</code></pre>\n<p>----Now above value you can uses in your java file -------------------</p>\n<pre><code>@Configuration\npublic class DatabaseConfig {\n    @Autowired\n    private DatabaseLoginProperties databaseLoginProperties;\n    @Bean\n    public String getDatabaseUrl() {\n        return databaseLoginProperties.getUrl()+&quot;?user=&quot;+databaseLoginProperties.getUsername()+&quot;&amp;password=&quot;+databaseLoginProperties.getPassword();\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user19516326"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":748,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1665744459,"creation_date":1665596344,"question_id":74045979,"body_markdown":"I want to get values from my application.properties from spring.datasource.* fields but those fields are null.\r\n\r\nHere is what I&#39;m doing:\r\n\r\n    @Configuration\r\n    @ComponentScan\r\n    public class DatabaseConfig {\r\n\r\n    @Value(&quot;${spring.datasource.url}&quot;)\r\n    private String url;\r\n    @Value(&quot;${spring.datasource.username}&quot;)\r\n    private String username;\r\n    @Value(&quot;${spring.datasource.password}&quot;)\r\n    private String password;\r\n\r\n    @Bean(name = &quot;database_url&quot;)\r\n    public String getDatabaseUrl() {\r\n        return url+&quot;?user=&quot;+username+&quot;&amp;password=&quot;+password;\r\n    }\r\n    }\r\n\r\napplication.properties\r\n\r\n    spring.datasource.url=jdbc:postgresql://db:5432/endlessblow_db\r\n    spring.datasource.username=kuba\r\n    spring.datasource.password=pass\r\n    spring.datasource.driver-class-name=org.postgresql.Driver\r\n    spring.datasource.platform=postgres\r\n    spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\r\n\r\nthis db in url is my docker postgre container host and it works fine.\r\n\r\n**EDIT**\r\nDatabaseConnection.java\r\n\r\n    public class DatabaseConnection {\r\n    \r\n        private String databaseUrl;\r\n    \r\n        @Autowired\r\n        void setDatabaseUrl(@Qualifier(&quot;database_url&quot;) String databaseUrl) {\r\n            this.databaseUrl = databaseUrl;\r\n        }\r\n    \r\n        private static DatabaseConnection instance;\r\n        private Connection connection;\r\n    \r\n        private DatabaseConnection() {\r\n            try {\r\n                Class.forName(&quot;org.postgresql.Driver&quot;);\r\n                this.connection = DriverManager.getConnection(databaseUrl);\r\n            } catch (Exception ex) {\r\n                System.out.println(&quot;Database Connection Creation Failed : &quot; + ex.getMessage());\r\n            }\r\n        }\r\n    \r\n    \r\n        public Connection getConnection() {\r\n            return connection;\r\n        }\r\n    \r\n        public static DatabaseConnection getInstance() throws SQLException, URISyntaxException, IOException {\r\n            if (instance == null) {\r\n                instance = new DatabaseConnection();\r\n            } else if (instance.getConnection().isClosed()) {\r\n                instance = new DatabaseConnection();\r\n            }\r\n            return instance;\r\n        }\r\n    }\r\n\r\n\r\nWhat&#39;s wrong with this code? Thank you!","title":"Spring Boot create @Bean based on @Values","body":"<p>I want to get values from my application.properties from spring.datasource.* fields but those fields are null.</p>\n<p>Here is what I'm doing:</p>\n<pre><code>@Configuration\n@ComponentScan\npublic class DatabaseConfig {\n\n@Value(&quot;${spring.datasource.url}&quot;)\nprivate String url;\n@Value(&quot;${spring.datasource.username}&quot;)\nprivate String username;\n@Value(&quot;${spring.datasource.password}&quot;)\nprivate String password;\n\n@Bean(name = &quot;database_url&quot;)\npublic String getDatabaseUrl() {\n    return url+&quot;?user=&quot;+username+&quot;&amp;password=&quot;+password;\n}\n}\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://db:5432/endlessblow_db\nspring.datasource.username=kuba\nspring.datasource.password=pass\nspring.datasource.driver-class-name=org.postgresql.Driver\nspring.datasource.platform=postgres\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\n</code></pre>\n<p>this db in url is my docker postgre container host and it works fine.</p>\n<p><strong>EDIT</strong>\nDatabaseConnection.java</p>\n<pre><code>public class DatabaseConnection {\n\n    private String databaseUrl;\n\n    @Autowired\n    void setDatabaseUrl(@Qualifier(&quot;database_url&quot;) String databaseUrl) {\n        this.databaseUrl = databaseUrl;\n    }\n\n    private static DatabaseConnection instance;\n    private Connection connection;\n\n    private DatabaseConnection() {\n        try {\n            Class.forName(&quot;org.postgresql.Driver&quot;);\n            this.connection = DriverManager.getConnection(databaseUrl);\n        } catch (Exception ex) {\n            System.out.println(&quot;Database Connection Creation Failed : &quot; + ex.getMessage());\n        }\n    }\n\n\n    public Connection getConnection() {\n        return connection;\n    }\n\n    public static DatabaseConnection getInstance() throws SQLException, URISyntaxException, IOException {\n        if (instance == null) {\n            instance = new DatabaseConnection();\n        } else if (instance.getConnection().isClosed()) {\n            instance = new DatabaseConnection();\n        }\n        return instance;\n    }\n}\n</code></pre>\n<p>What's wrong with this code? Thank you!</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","browserstack"],"answers":[{"tags":[],"owner":{"account_id":3466548,"reputation":445,"user_id":2901921,"display_name":"Sugan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665744322,"creation_date":1570182239,"answer_id":58233840,"question_id":58233311,"body_markdown":"Please try \r\n    \r\n    prefs.put(&quot;profile.default_content_setting_values.notifications&quot;, 2);\r\n","title":"Hide Windows Leave/Cancel Pop-up by capabilities","body":"<p>Please try</p>\n<pre><code>prefs.put(&quot;profile.default_content_setting_values.notifications&quot;, 2);\n</code></pre>\n"}],"owner":{"account_id":1719754,"reputation":1006,"user_id":1575988,"accept_rate":89,"display_name":"j.barrio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665744322,"creation_date":1570180274,"question_id":58233311,"body_markdown":"I&#39;m working with Selenium, Java and Browserstack. Usually I develop in MacOS and I improve the compatibility with the remote browser. I&#39;m trying to execute the same test cases that are working properly in MacOS, into a Windows remote machine. \r\n\r\nThe problem appears when I let a form incomplete because and I have clicked on a Cancel button to back again to the previous page. In this scenario the default chrome alert appears:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI have tried the Chrome option:\r\n\r\n    options.addArguments(&quot;--disable-notifications&quot;);\r\n\r\nAlso:\r\n    \r\n    options.addArguments(&quot;--disable-popup-blocking&quot;);\r\n\r\nAnd with:\r\n\r\n    prefs.put(&quot;profile.default_content_settings.popups&quot;, 0);\r\n\r\nI know I can use a condition in the cancel button associated to the system configuration, where the selenium code accept the alert, but I&#39;m searching an option more cleaning and easy.\r\n\r\nDo you know any other option, capability or whatever, that could block those pop-ups but not the others?\r\n\r\nThank you in advance.\r\n\r\n**EDIT NOTE**\r\nIt is something related with Chrome pop-ups only.\r\n\r\n  [1]: https://i.stack.imgur.com/A1lL1.png","title":"Hide Windows Leave/Cancel Pop-up by capabilities","body":"<p>I'm working with Selenium, Java and Browserstack. Usually I develop in MacOS and I improve the compatibility with the remote browser. I'm trying to execute the same test cases that are working properly in MacOS, into a Windows remote machine. </p>\n\n<p>The problem appears when I let a form incomplete because and I have clicked on a Cancel button to back again to the previous page. In this scenario the default chrome alert appears:</p>\n\n<p><a href=\"https://i.stack.imgur.com/A1lL1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A1lL1.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have tried the Chrome option:</p>\n\n<pre><code>options.addArguments(\"--disable-notifications\");\n</code></pre>\n\n<p>Also:</p>\n\n<pre><code>options.addArguments(\"--disable-popup-blocking\");\n</code></pre>\n\n<p>And with:</p>\n\n<pre><code>prefs.put(\"profile.default_content_settings.popups\", 0);\n</code></pre>\n\n<p>I know I can use a condition in the cancel button associated to the system configuration, where the selenium code accept the alert, but I'm searching an option more cleaning and easy.</p>\n\n<p>Do you know any other option, capability or whatever, that could block those pop-ups but not the others?</p>\n\n<p>Thank you in advance.</p>\n\n<p><strong>EDIT NOTE</strong>\nIt is something related with Chrome pop-ups only.</p>\n"},{"tags":["java","list","algorithm","data-structures","dll"],"comments":[{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":0,"creation_date":1665738346,"post_id":74066791,"comment_id":130773060,"body_markdown":"That is the question / problem?","body":"That is the question / problem?"},{"owner":{"account_id":23012859,"reputation":341,"user_id":17135136,"display_name":"itmemilan"},"score":0,"creation_date":1665738459,"post_id":74066791,"comment_id":130773094,"body_markdown":"@MrSmith42 yes, combine nodes until  you see a node with -1 so you delete that node and you proceed to combine the following elements","body":"@MrSmith42 yes, combine nodes until  you see a node with -1 so you delete that node and you proceed to combine the following elements"},{"owner":{"account_id":23012859,"reputation":341,"user_id":17135136,"display_name":"itmemilan"},"score":0,"creation_date":1665738470,"post_id":74066791,"comment_id":130773097,"body_markdown":"by elements i mean numbers","body":"by elements i mean numbers"},{"owner":{"account_id":23012859,"reputation":341,"user_id":17135136,"display_name":"itmemilan"},"score":0,"creation_date":1665742602,"post_id":74066791,"comment_id":130774418,"body_markdown":"@Abra fixed the deleteLast and insertFirst, the problem is an image and its not in english..","body":"@Abra fixed the deleteLast and insertFirst, the problem is an image and its not in english.."}],"answers":[{"tags":[],"owner":{"account_id":23012859,"reputation":341,"user_id":17135136,"display_name":"itmemilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665743995,"creation_date":1665743995,"answer_id":74067996,"question_id":74066791,"body_markdown":"i managed to solve the problem.\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    \r\n    class DLLNode&lt;E&gt; {\r\n    \tprotected E element;\r\n    \tprotected DLLNode&lt;E&gt; pred, succ;\r\n    \r\n    \tpublic DLLNode(E elem, DLLNode&lt;E&gt; pred, DLLNode&lt;E&gt; succ) {\r\n    \t\tthis.element = elem;\r\n    \t\tthis.pred = pred;\r\n    \t\tthis.succ = succ;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn element.toString();\r\n    \t}\r\n    }\r\n    \r\n    class DLL&lt;E&gt; {\r\n    \tprivate DLLNode&lt;E&gt; first, last;\r\n    \r\n    \tpublic DLL() {\r\n    \t\t// Construct an empty SLL\r\n    \t\tthis.first = null;\r\n    \t\tthis.last = null;\r\n    \t}\r\n    \r\n    \tpublic void deleteList() {\r\n    \t\tfirst = null;\r\n    \t\tlast = null;\r\n    \t}\r\n    \t\r\n    \tpublic int length() {\r\n    \t\tint ret;\r\n    \t\tif (first != null) {\r\n    \t\t\tDLLNode&lt;E&gt; tmp = first;\r\n    \t\t\tret = 1;\r\n    \t\t\twhile (tmp.succ != null) {\r\n    \t\t\t\ttmp = tmp.succ;\r\n    \t\t\t\tret++;\r\n    \t\t\t}\r\n    \t\t\treturn ret;\r\n    \t\t} else\r\n    \t\t\treturn 0;\r\n    \r\n    \t}\r\n    \r\n    \tpublic DLLNode&lt;E&gt; find(E o) {\r\n    \t\tif (first != null) {\r\n    \t\t\tDLLNode&lt;E&gt; tmp = first;\r\n    \t\t\twhile (tmp.element != o &amp;&amp; tmp.succ != null)\r\n    \t\t\t\ttmp = tmp.succ;\r\n    \t\t\tif (tmp.element == o) {\r\n    \t\t\t\treturn tmp;\r\n    \t\t\t} else {\r\n    \t\t\t\tSystem.out.println(&quot;Elementot ne postoi vo listata&quot;);\r\n    \t\t\t}\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;Listata e prazna&quot;);\r\n    \t\t}\r\n    \t\treturn first;\r\n    \t}\r\n    \t\r\n    \tpublic void insertFirst(E o) {\r\n    \t\tDLLNode&lt;E&gt; ins = new DLLNode&lt;E&gt;(o, null, first);\r\n    \t\tif (first == null)\r\n    \t\t\tlast = ins;\r\n    \t\telse\r\n    \t\t\tfirst.pred = ins;\r\n    \t\tfirst = ins;\r\n    \t}\r\n    \r\n    \tpublic void insertLast(E o) {\r\n    \t\tif (first == null)\r\n    \t\t\tinsertFirst(o);\r\n    \t\telse {\r\n    \t\t\tDLLNode&lt;E&gt; ins = new DLLNode&lt;E&gt;(o, last, null);\r\n    \t\t\tlast.succ = ins;\r\n    \t\t\tlast = ins;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void insertAfter(E o, DLLNode&lt;E&gt; after) {\r\n    \t\tif(after==last){\r\n    \t\t\tinsertLast(o);\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\tDLLNode&lt;E&gt; ins = new DLLNode&lt;E&gt;(o, after, after.succ);\r\n    \t\tafter.succ.pred = ins;\r\n    \t\tafter.succ = ins;\r\n    \t}\r\n    \r\n    \tpublic void insertBefore(E o, DLLNode&lt;E&gt; before) {\r\n    \t\tif(before == first){\r\n    \t\t\tinsertFirst(o);\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\tDLLNode&lt;E&gt; ins = new DLLNode&lt;E&gt;(o, before.pred, before);\r\n    \t\tbefore.pred.succ = ins;\r\n    \t\tbefore.pred = ins;\r\n    \t}\r\n    \r\n    \tpublic E deleteFirst() {\r\n    \t\tif (first != null) {\r\n    \t\t\tDLLNode&lt;E&gt; tmp = first;\r\n    \t\t\tfirst = first.succ;\r\n    \t\t\tif (first != null) first.pred = null;\r\n    \t\t\tif (first == null)\r\n    \t\t\t\tlast = null;\r\n    \t\t\treturn tmp.element;\r\n    \t\t} else\r\n    \t\t\treturn null;\r\n    \t}\r\n    \r\n    \tpublic E deleteLast() {\r\n    \t\tif (first != null) {\r\n    \t\t\tif (first.succ == null)\r\n    \t\t\t\treturn deleteFirst();\r\n    \t\t\telse {\r\n    \t\t\t\tDLLNode&lt;E&gt; tmp = last;\r\n    \t\t\t\tlast = last.pred;\r\n    \t\t\t\tlast.succ = null;\r\n    \t\t\t\treturn tmp.element;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t// else throw Exception\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \tpublic E delete(DLLNode&lt;E&gt; node) {\r\n    \t\tif(node==first){\r\n    \t\t\tdeleteFirst();\r\n    \t\t\treturn node.element;\r\n    \t\t}\r\n    \t\tif(node==last){\r\n    \t\t\tdeleteLast();\r\n    \t\t\treturn node.element;\r\n    \t\t}\r\n    \t\tnode.pred.succ = node.succ;\r\n    \t\tnode.succ.pred = node.pred;\r\n    \t\treturn node.element;\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\tString ret = new String();\r\n    \t\tif (first != null) {\r\n    \t\t\tDLLNode&lt;E&gt; tmp = first;\r\n    \t\t\tret += tmp + &quot; &quot;;\r\n    \t\t\twhile (tmp.succ != null) {\r\n    \t\t\t\ttmp = tmp.succ;\r\n    \t\t\t\tret += tmp + &quot; &quot;;\r\n    \t\t\t}\r\n    \t\t} else\r\n    \t\t\tret = &quot;Prazna lista!!!&quot;;\r\n    \t\treturn ret;\r\n    \t}\r\n    \t\r\n    \tpublic String toStringR() {\r\n    \t\tString ret = new String();\r\n    \t\tif (last != null) {\r\n    \t\t\tDLLNode&lt;E&gt; tmp = last;\r\n    \t\t\tret += tmp + &quot;&lt;-&gt;&quot;;\r\n    \t\t\twhile (tmp.pred != null) {\r\n    \t\t\t\ttmp = tmp.pred;\r\n    \t\t\t\tret += tmp + &quot;&lt;-&gt;&quot;;\r\n    \t\t\t}\r\n    \t\t} else\r\n    \t\t\tret = &quot;Prazna lista!!!&quot;;\r\n    \t\treturn ret;\r\n    \t}\r\n    \r\n    \tpublic DLLNode&lt;E&gt; getFirst() {\r\n    \t\treturn first;\r\n    \t}\r\n    \r\n    \tpublic DLLNode&lt;E&gt; getLast() {\r\n    \r\n    \t\treturn last;\r\n    \t}\r\n    \t\r\n    }\r\n    \r\n    public class AddNum {\r\n    \tpublic static void addNum(DLL&lt;Integer&gt; lista) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tDLLNode&lt;Integer&gt; tmp = lista.getFirst().succ;\r\n    \t\tDLLNode&lt;Integer&gt; el = lista.getFirst();\r\n    \t\twhile(tmp != null) {\r\n    \t\t\tif(tmp.element == -1) {\r\n    \t\t\t\ttmp.element = 0;\r\n    \t\t\t\tel = tmp;\r\n    \t\t\t} \r\n    \t\t\telse {\r\n    \t\t\t\tel.element = el.element * 10 + tmp.element;\r\n    \t\t\t\tlista.delete(tmp);\r\n    \t\t\t}\r\n    \t\t\ttmp = tmp.succ;\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n    \t\t// Integer\r\n    \t\tString s;\r\n    \t\tint i, n, num;\r\n    \t\tString[] pom;\r\n    \t\tDLL&lt;Integer&gt; list = new DLL&lt;Integer&gt;();\r\n    \r\n    \r\n    \t\ts = br.readLine();\r\n    \t\tn = Integer.parseInt(s);\r\n    \t\ts = br.readLine();\r\n    \t\tpom = s.split(&quot; &quot;);\r\n    \t\tfor (i = 0; i &lt; n; i++) {\r\n    \t\t\tnum = Integer.parseInt(pom[i]);\r\n    \t\t\tlist.insertLast(num);\r\n    \t\t}\r\n    \t\taddNum(list);\r\n    \t\tSystem.out.println(list);\r\n    \t}\r\n    \r\n    \t\r\n    }\r\n\r\n","title":"Adding numbers in DLL Java","body":"<p>i managed to solve the problem.</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\n\nclass DLLNode&lt;E&gt; {\n    protected E element;\n    protected DLLNode&lt;E&gt; pred, succ;\n\n    public DLLNode(E elem, DLLNode&lt;E&gt; pred, DLLNode&lt;E&gt; succ) {\n        this.element = elem;\n        this.pred = pred;\n        this.succ = succ;\n    }\n\n    @Override\n    public String toString() {\n        return element.toString();\n    }\n}\n\nclass DLL&lt;E&gt; {\n    private DLLNode&lt;E&gt; first, last;\n\n    public DLL() {\n        // Construct an empty SLL\n        this.first = null;\n        this.last = null;\n    }\n\n    public void deleteList() {\n        first = null;\n        last = null;\n    }\n    \n    public int length() {\n        int ret;\n        if (first != null) {\n            DLLNode&lt;E&gt; tmp = first;\n            ret = 1;\n            while (tmp.succ != null) {\n                tmp = tmp.succ;\n                ret++;\n            }\n            return ret;\n        } else\n            return 0;\n\n    }\n\n    public DLLNode&lt;E&gt; find(E o) {\n        if (first != null) {\n            DLLNode&lt;E&gt; tmp = first;\n            while (tmp.element != o &amp;&amp; tmp.succ != null)\n                tmp = tmp.succ;\n            if (tmp.element == o) {\n                return tmp;\n            } else {\n                System.out.println(&quot;Elementot ne postoi vo listata&quot;);\n            }\n        } else {\n            System.out.println(&quot;Listata e prazna&quot;);\n        }\n        return first;\n    }\n    \n    public void insertFirst(E o) {\n        DLLNode&lt;E&gt; ins = new DLLNode&lt;E&gt;(o, null, first);\n        if (first == null)\n            last = ins;\n        else\n            first.pred = ins;\n        first = ins;\n    }\n\n    public void insertLast(E o) {\n        if (first == null)\n            insertFirst(o);\n        else {\n            DLLNode&lt;E&gt; ins = new DLLNode&lt;E&gt;(o, last, null);\n            last.succ = ins;\n            last = ins;\n        }\n    }\n\n    public void insertAfter(E o, DLLNode&lt;E&gt; after) {\n        if(after==last){\n            insertLast(o);\n            return;\n        }\n        DLLNode&lt;E&gt; ins = new DLLNode&lt;E&gt;(o, after, after.succ);\n        after.succ.pred = ins;\n        after.succ = ins;\n    }\n\n    public void insertBefore(E o, DLLNode&lt;E&gt; before) {\n        if(before == first){\n            insertFirst(o);\n            return;\n        }\n        DLLNode&lt;E&gt; ins = new DLLNode&lt;E&gt;(o, before.pred, before);\n        before.pred.succ = ins;\n        before.pred = ins;\n    }\n\n    public E deleteFirst() {\n        if (first != null) {\n            DLLNode&lt;E&gt; tmp = first;\n            first = first.succ;\n            if (first != null) first.pred = null;\n            if (first == null)\n                last = null;\n            return tmp.element;\n        } else\n            return null;\n    }\n\n    public E deleteLast() {\n        if (first != null) {\n            if (first.succ == null)\n                return deleteFirst();\n            else {\n                DLLNode&lt;E&gt; tmp = last;\n                last = last.pred;\n                last.succ = null;\n                return tmp.element;\n            }\n        }\n        // else throw Exception\n        return null;\n    }\n\n    public E delete(DLLNode&lt;E&gt; node) {\n        if(node==first){\n            deleteFirst();\n            return node.element;\n        }\n        if(node==last){\n            deleteLast();\n            return node.element;\n        }\n        node.pred.succ = node.succ;\n        node.succ.pred = node.pred;\n        return node.element;\n        \n    }\n\n    @Override\n    public String toString() {\n        String ret = new String();\n        if (first != null) {\n            DLLNode&lt;E&gt; tmp = first;\n            ret += tmp + &quot; &quot;;\n            while (tmp.succ != null) {\n                tmp = tmp.succ;\n                ret += tmp + &quot; &quot;;\n            }\n        } else\n            ret = &quot;Prazna lista!!!&quot;;\n        return ret;\n    }\n    \n    public String toStringR() {\n        String ret = new String();\n        if (last != null) {\n            DLLNode&lt;E&gt; tmp = last;\n            ret += tmp + &quot;&lt;-&gt;&quot;;\n            while (tmp.pred != null) {\n                tmp = tmp.pred;\n                ret += tmp + &quot;&lt;-&gt;&quot;;\n            }\n        } else\n            ret = &quot;Prazna lista!!!&quot;;\n        return ret;\n    }\n\n    public DLLNode&lt;E&gt; getFirst() {\n        return first;\n    }\n\n    public DLLNode&lt;E&gt; getLast() {\n\n        return last;\n    }\n    \n}\n\npublic class AddNum {\n    public static void addNum(DLL&lt;Integer&gt; lista) {\n        // TODO Auto-generated method stub\n        DLLNode&lt;Integer&gt; tmp = lista.getFirst().succ;\n        DLLNode&lt;Integer&gt; el = lista.getFirst();\n        while(tmp != null) {\n            if(tmp.element == -1) {\n                tmp.element = 0;\n                el = tmp;\n            } \n            else {\n                el.element = el.element * 10 + tmp.element;\n                lista.delete(tmp);\n            }\n            tmp = tmp.succ;\n        }\n        \n    }\n    public static void main(String[] args) throws IOException {\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        // Integer\n        String s;\n        int i, n, num;\n        String[] pom;\n        DLL&lt;Integer&gt; list = new DLL&lt;Integer&gt;();\n\n\n        s = br.readLine();\n        n = Integer.parseInt(s);\n        s = br.readLine();\n        pom = s.split(&quot; &quot;);\n        for (i = 0; i &lt; n; i++) {\n            num = Integer.parseInt(pom[i]);\n            list.insertLast(num);\n        }\n        addNum(list);\n        System.out.println(list);\n    }\n\n    \n}\n</code></pre>\n"}],"owner":{"account_id":23012859,"reputation":341,"user_id":17135136,"display_name":"itmemilan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1666008595,"accepted_answer_id":74067996,"answer_count":1,"score":0,"last_activity_date":1665743995,"creation_date":1665737892,"question_id":74066791,"body_markdown":"I am new to data structures and algorithms and I stumbled across this problem with doubly linked list. &lt;br&gt;\r\nThe program goes through the nodes and makes one number from them for example from nodes 1 &lt;-&gt; 2 &lt;-&gt; 3 it will create one number which is 123. When the program see a number -1 it deletes that node and proceed to create a new number from the following nodes.\r\nInput in the program will be:&lt;br&gt;\r\n10 -- number of elements in the list.&lt;br&gt;\r\n1 2 3 4 -1 5 -1 6 7 8&lt;br&gt;\r\nAnd the output will be:&lt;br&gt;\r\n1234 5 67&lt;br&gt;\r\nThis is my code:\r\n```java\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\n\r\nclass DLLNode&lt;E&gt; {\r\n    protected E element;\r\n    protected DLLNode&lt;E&gt; pred, succ;\r\n\r\n    public DLLNode(E elem, DLLNode&lt;E&gt; pred, DLLNode&lt;E&gt; succ) {\r\n        this.element = elem;\r\n        this.pred = pred;\r\n        this.succ = succ;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return element.toString();\r\n    }\r\n}\r\n\r\nclass DLL&lt;E&gt; {\r\n    private DLLNode&lt;E&gt; first, last;\r\n\r\n    public DLL() {\r\n        // Construct an empty SLL\r\n        this.first = null;\r\n        this.last = null;\r\n    }\r\n\r\n    public int length() {\r\n        int ret;\r\n        if (first != null) {\r\n            DLLNode&lt;E&gt; tmp = first;\r\n            ret = 1;\r\n            while (tmp.succ != null) {\r\n                tmp = tmp.succ;\r\n                ret++;\r\n            }\r\n            return ret;\r\n        }\r\n        else\r\n            return 0;\r\n\r\n    }\r\n\r\n    public DLLNode&lt;E&gt; getFirst() {\r\n        return first;\r\n    }\r\n\r\n    public DLLNode&lt;E&gt; find(E o) {\r\n        if (first != null) {\r\n            DLLNode&lt;E&gt; tmp = first;\r\n            while (tmp.element != o &amp;&amp; tmp.succ != null)\r\n                tmp = tmp.succ;\r\n            if (tmp.element == o) {\r\n                return tmp;\r\n            }\r\n            else {\r\n                System.out.println(&quot;Elementot ne postoi vo listata&quot;);\r\n            }\r\n        }\r\n        else {\r\n            System.out.println(&quot;Listata e prazna&quot;);\r\n        }\r\n        return first;\r\n    }\r\n\r\n    public void insertFirst(E o) {\r\n        DLLNode&lt;E&gt; ins = new DLLNode&lt;E&gt;(o, null, first);\r\n        if (first == null)\r\n            last = ins;\r\n        else\r\n            first.pred = ins;\r\n        first = ins;\r\n    }\r\n\r\n    public void insertLast(E o) {\r\n        if (first == null)\r\n            insertFirst(o);\r\n        else {\r\n            DLLNode&lt;E&gt; ins = new DLLNode&lt;E&gt;(o, last, null);\r\n            last.succ = ins;\r\n            last = ins;\r\n        }\r\n    }\r\n\r\n    public void insertBefore(E o, DLLNode&lt;E&gt; before) {\r\n        if (before == first) {\r\n            insertFirst(o);\r\n            return;\r\n        }\r\n        DLLNode&lt;E&gt; ins = new DLLNode&lt;E&gt;(o, before.pred, before);\r\n        before.pred.succ = ins;\r\n        before.pred = ins;\r\n    }\r\n\r\n    public E deleteFirst() {\r\n        if (first != null) {\r\n            DLLNode&lt;E&gt; tmp = first;\r\n            first = first.succ;\r\n            if (first != null)\r\n                first.pred = null;\r\n            if (first == null)\r\n                last = null;\r\n            return tmp.element;\r\n        }\r\n        else\r\n            return null;\r\n    }\r\n\r\n    public E deleteLast() {\r\n        if (first != null) {\r\n            if (first.succ == null)\r\n                return deleteFirst();\r\n            else {\r\n                DLLNode&lt;E&gt; tmp = last;\r\n                last = last.pred;\r\n                last.succ = null;\r\n                return tmp.element;\r\n            }\r\n        }\r\n        // else throw Exception\r\n        return null;\r\n    }\r\n\r\n    public E delete(DLLNode&lt;E&gt; node) {\r\n        if (node == first) {\r\n            deleteFirst();\r\n            return node.element;\r\n        }\r\n        if (node == last) {\r\n            deleteLast();\r\n            return node.element;\r\n        }\r\n        node.pred.succ = node.succ;\r\n        node.succ.pred = node.pred;\r\n        return node.element;\r\n\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        String ret = new String();\r\n        if (first != null) {\r\n            DLLNode&lt;E&gt; tmp = first;\r\n            ret += tmp + &quot; &quot;;\r\n            while (tmp.succ != null) {\r\n                tmp = tmp.succ;\r\n                ret += tmp + &quot; &quot;;\r\n            }\r\n        }\r\n        else\r\n            ret = &quot;Prazna lista!!!&quot;;\r\n        return ret;\r\n    }\r\n}\r\n\r\npublic class AddNum {\r\n    public static void addNum(DLL&lt;Integer&gt; lista) {\r\n        DLLNode&lt;Integer&gt; tmp = lista.getFirst();\r\n        DLLNode&lt;Integer&gt; nov = null;\r\n        while (tmp.succ != null) {\r\n            if (tmp.element == -1) {\r\n                lista.delete(tmp);\r\n            }\r\n            else {\r\n                tmp.element = tmp.element * 10 + tmp.succ.element;\r\n            }\r\n            tmp = tmp.succ;\r\n        }\r\n\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n        // Integer\r\n        String s;\r\n        int i, n, num;\r\n        String[] pom;\r\n        DLL&lt;Integer&gt; list = new DLL&lt;Integer&gt;();\r\n\r\n        s = br.readLine();\r\n        n = Integer.parseInt(s);\r\n        s = br.readLine();\r\n        pom = s.split(&quot; &quot;);\r\n        for (i = 0; i &lt; n; i++) {\r\n            num = Integer.parseInt(pom[i]);\r\n            list.insertLast(num);\r\n        }\r\n        addNum(list);\r\n        System.out.println(list);\r\n    }\r\n}\r\n```\r\n","title":"Adding numbers in DLL Java","body":"<p>I am new to data structures and algorithms and I stumbled across this problem with doubly linked list. <br>\nThe program goes through the nodes and makes one number from them for example from nodes 1 &lt;-&gt; 2 &lt;-&gt; 3 it will create one number which is 123. When the program see a number -1 it deletes that node and proceed to create a new number from the following nodes.\nInput in the program will be:<br>\n10 -- number of elements in the list.<br>\n1 2 3 4 -1 5 -1 6 7 8<br>\nAnd the output will be:<br>\n1234 5 67<br>\nThis is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\n\nclass DLLNode&lt;E&gt; {\n    protected E element;\n    protected DLLNode&lt;E&gt; pred, succ;\n\n    public DLLNode(E elem, DLLNode&lt;E&gt; pred, DLLNode&lt;E&gt; succ) {\n        this.element = elem;\n        this.pred = pred;\n        this.succ = succ;\n    }\n\n    @Override\n    public String toString() {\n        return element.toString();\n    }\n}\n\nclass DLL&lt;E&gt; {\n    private DLLNode&lt;E&gt; first, last;\n\n    public DLL() {\n        // Construct an empty SLL\n        this.first = null;\n        this.last = null;\n    }\n\n    public int length() {\n        int ret;\n        if (first != null) {\n            DLLNode&lt;E&gt; tmp = first;\n            ret = 1;\n            while (tmp.succ != null) {\n                tmp = tmp.succ;\n                ret++;\n            }\n            return ret;\n        }\n        else\n            return 0;\n\n    }\n\n    public DLLNode&lt;E&gt; getFirst() {\n        return first;\n    }\n\n    public DLLNode&lt;E&gt; find(E o) {\n        if (first != null) {\n            DLLNode&lt;E&gt; tmp = first;\n            while (tmp.element != o &amp;&amp; tmp.succ != null)\n                tmp = tmp.succ;\n            if (tmp.element == o) {\n                return tmp;\n            }\n            else {\n                System.out.println(&quot;Elementot ne postoi vo listata&quot;);\n            }\n        }\n        else {\n            System.out.println(&quot;Listata e prazna&quot;);\n        }\n        return first;\n    }\n\n    public void insertFirst(E o) {\n        DLLNode&lt;E&gt; ins = new DLLNode&lt;E&gt;(o, null, first);\n        if (first == null)\n            last = ins;\n        else\n            first.pred = ins;\n        first = ins;\n    }\n\n    public void insertLast(E o) {\n        if (first == null)\n            insertFirst(o);\n        else {\n            DLLNode&lt;E&gt; ins = new DLLNode&lt;E&gt;(o, last, null);\n            last.succ = ins;\n            last = ins;\n        }\n    }\n\n    public void insertBefore(E o, DLLNode&lt;E&gt; before) {\n        if (before == first) {\n            insertFirst(o);\n            return;\n        }\n        DLLNode&lt;E&gt; ins = new DLLNode&lt;E&gt;(o, before.pred, before);\n        before.pred.succ = ins;\n        before.pred = ins;\n    }\n\n    public E deleteFirst() {\n        if (first != null) {\n            DLLNode&lt;E&gt; tmp = first;\n            first = first.succ;\n            if (first != null)\n                first.pred = null;\n            if (first == null)\n                last = null;\n            return tmp.element;\n        }\n        else\n            return null;\n    }\n\n    public E deleteLast() {\n        if (first != null) {\n            if (first.succ == null)\n                return deleteFirst();\n            else {\n                DLLNode&lt;E&gt; tmp = last;\n                last = last.pred;\n                last.succ = null;\n                return tmp.element;\n            }\n        }\n        // else throw Exception\n        return null;\n    }\n\n    public E delete(DLLNode&lt;E&gt; node) {\n        if (node == first) {\n            deleteFirst();\n            return node.element;\n        }\n        if (node == last) {\n            deleteLast();\n            return node.element;\n        }\n        node.pred.succ = node.succ;\n        node.succ.pred = node.pred;\n        return node.element;\n\n    }\n\n    @Override\n    public String toString() {\n        String ret = new String();\n        if (first != null) {\n            DLLNode&lt;E&gt; tmp = first;\n            ret += tmp + &quot; &quot;;\n            while (tmp.succ != null) {\n                tmp = tmp.succ;\n                ret += tmp + &quot; &quot;;\n            }\n        }\n        else\n            ret = &quot;Prazna lista!!!&quot;;\n        return ret;\n    }\n}\n\npublic class AddNum {\n    public static void addNum(DLL&lt;Integer&gt; lista) {\n        DLLNode&lt;Integer&gt; tmp = lista.getFirst();\n        DLLNode&lt;Integer&gt; nov = null;\n        while (tmp.succ != null) {\n            if (tmp.element == -1) {\n                lista.delete(tmp);\n            }\n            else {\n                tmp.element = tmp.element * 10 + tmp.succ.element;\n            }\n            tmp = tmp.succ;\n        }\n\n    }\n\n    public static void main(String[] args) throws IOException {\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        // Integer\n        String s;\n        int i, n, num;\n        String[] pom;\n        DLL&lt;Integer&gt; list = new DLL&lt;Integer&gt;();\n\n        s = br.readLine();\n        n = Integer.parseInt(s);\n        s = br.readLine();\n        pom = s.split(&quot; &quot;);\n        for (i = 0; i &lt; n; i++) {\n            num = Integer.parseInt(pom[i]);\n            list.insertLast(num);\n        }\n        addNum(list);\n        System.out.println(list);\n    }\n}\n</code></pre>\n"},{"tags":["java","pitest"],"answers":[{"tags":[],"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1661955028,"creation_date":1661183872,"answer_id":73447929,"question_id":73439324,"body_markdown":"From [What is mutation test?][1]\r\n&gt; When the application code changes, it should produce different results and cause the unit tests to fail. If a unit test does not fail in this situation, it may indicate an issue with the test suite.\r\n\r\nYour code is definitely correct, and I guess your unit test is also correct. So what&#39;s wrong?\r\n\r\nIMO, what I learn from your example is that.\r\n\r\nMutation Test also aim for **Conciseness**\r\n---\r\n\r\nWhich means there is no space for us to modify the program without changing the behaviour. \r\n\r\nLet say someone replaced `&gt;` with `&gt;=` accidentally,\r\n```java\r\n...\r\n} else if (scale &gt;= 0) {\r\n    this.scale = 1;\r\n}...\r\n```\r\nThe unit test will still pass, everything will still work. Except the code become confusing. Reader will wonder why it is `&gt;=` and not `&gt;`. \r\nNot possible to happen? Who knows!\r\n\r\n### What are the solutions?\r\n1. Reorder the condition, this is somehow &quot;tricky&quot;. But at least making the code more robust.\r\n  ```\r\n  if (scale &lt; 0) {\r\n      this.scale = -1;\r\n  } else if (scale &gt; 0) {\r\n      this.scale = 1;\r\n  } else {\r\n      this.scale = 0;\r\n  }\r\n  ```\r\n  \r\n2. Use [Integer.signum(int i)][2], which just return what you need in this case.\r\n&gt; Returns the signum function of the specified int value. (The return value is -1 if the specified value is negative; 0 if the specified value is zero; and 1 if the specified value is positive.)\r\n\r\n\r\n  [1]: https://pitest.org/\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html#signum(int)","title":"JAVA | Mutation Testing | PiTEST | changed conditional boundary → SURVIVED | Impossible to kill","body":"<p>From <a href=\"https://pitest.org/\" rel=\"nofollow noreferrer\">What is mutation test?</a></p>\n<blockquote>\n<p>When the application code changes, it should produce different results and cause the unit tests to fail. If a unit test does not fail in this situation, it may indicate an issue with the test suite.</p>\n</blockquote>\n<p>Your code is definitely correct, and I guess your unit test is also correct. So what's wrong?</p>\n<p>IMO, what I learn from your example is that.</p>\n<h2>Mutation Test also aim for <strong>Conciseness</strong></h2>\n<p>Which means there is no space for us to modify the program without changing the behaviour.</p>\n<p>Let say someone replaced <code>&gt;</code> with <code>&gt;=</code> accidentally,</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\n} else if (scale &gt;= 0) {\n    this.scale = 1;\n}...\n</code></pre>\n<p>The unit test will still pass, everything will still work. Except the code become confusing. Reader will wonder why it is <code>&gt;=</code> and not <code>&gt;</code>.\nNot possible to happen? Who knows!</p>\n<h3>What are the solutions?</h3>\n<ol>\n<li>Reorder the condition, this is somehow &quot;tricky&quot;. But at least making the code more robust.</li>\n</ol>\n<pre><code>if (scale &lt; 0) {\n    this.scale = -1;\n} else if (scale &gt; 0) {\n    this.scale = 1;\n} else {\n    this.scale = 0;\n}\n</code></pre>\n<ol start=\"2\">\n<li>Use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html#signum(int)\" rel=\"nofollow noreferrer\">Integer.signum(int i)</a>, which just return what you need in this case.</li>\n</ol>\n<blockquote>\n<p>Returns the signum function of the specified int value. (The return value is -1 if the specified value is negative; 0 if the specified value is zero; and 1 if the specified value is positive.)</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":285703,"reputation":2562,"user_id":584532,"accept_rate":79,"display_name":"nrainer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665743245,"creation_date":1665743245,"answer_id":74067880,"question_id":73439324,"body_markdown":"Such a syntactical change to the source code that does not change the semantics is called an equivalent mutant. It cannot be killed by definition.\r\n\r\nEquivalent mutants are a common problem in mutation testing. Pitest&#39;s mutation &quot;operators are largely designed to be stable (i.e not be too easy to detect) and minimise the number of equivalent mutations that they generate&quot; (http://pitest.org/quickstart/mutators/).\r\n\r\nYou need to live with those, it does not make sense to change the code just to satisfy Pitest.","title":"JAVA | Mutation Testing | PiTEST | changed conditional boundary → SURVIVED | Impossible to kill","body":"<p>Such a syntactical change to the source code that does not change the semantics is called an equivalent mutant. It cannot be killed by definition.</p>\n<p>Equivalent mutants are a common problem in mutation testing. Pitest's mutation &quot;operators are largely designed to be stable (i.e not be too easy to detect) and minimise the number of equivalent mutations that they generate&quot; (<a href=\"http://pitest.org/quickstart/mutators/\" rel=\"nofollow noreferrer\">http://pitest.org/quickstart/mutators/</a>).</p>\n<p>You need to live with those, it does not make sense to change the code just to satisfy Pitest.</p>\n"}],"owner":{"account_id":1816391,"reputation":508,"user_id":2324063,"display_name":"gary"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":702,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1665743245,"creation_date":1661130417,"question_id":73439324,"body_markdown":"I am initializing a final int field in a constructor by inspecting a local `scale` int value with respect to zero.\r\n\r\nMy code is of the form:\r\n\r\n    final int scale = calculateScale();\r\n    if (scale == 0) {\r\n        this.scale = 0;\r\n    } else if (scale &gt; 0) {\r\n        this.scale = 1;\r\n    } else {\r\n        this.scale = -1;\r\n    }\r\n\r\nI would expect this is a common pattern, since a Comparator also returns one of three values, -1, 0 or 1.\r\n\r\nPitest complains about the `scale &gt; 0` conditional, declaring the mutation `scale &gt;= 0` survives.\r\n\r\nHowever, scale cannot be zero at that point, otherwise it would have entered the first conditional block.\r\n\r\nIn my opinion, pitest is testing an invalid mutation, and a quick dataflow analysis would reveal `scale` cannot be zero.\r\n\r\nI don&#39;t like to modify code to fool pitest, but how could this be expressed such that pitest doesn&#39;t complain?\r\n","title":"JAVA | Mutation Testing | PiTEST | changed conditional boundary → SURVIVED | Impossible to kill","body":"<p>I am initializing a final int field in a constructor by inspecting a local <code>scale</code> int value with respect to zero.</p>\n<p>My code is of the form:</p>\n<pre><code>final int scale = calculateScale();\nif (scale == 0) {\n    this.scale = 0;\n} else if (scale &gt; 0) {\n    this.scale = 1;\n} else {\n    this.scale = -1;\n}\n</code></pre>\n<p>I would expect this is a common pattern, since a Comparator also returns one of three values, -1, 0 or 1.</p>\n<p>Pitest complains about the <code>scale &gt; 0</code> conditional, declaring the mutation <code>scale &gt;= 0</code> survives.</p>\n<p>However, scale cannot be zero at that point, otherwise it would have entered the first conditional block.</p>\n<p>In my opinion, pitest is testing an invalid mutation, and a quick dataflow analysis would reveal <code>scale</code> cannot be zero.</p>\n<p>I don't like to modify code to fool pitest, but how could this be expressed such that pitest doesn't complain?</p>\n"},{"tags":["java","jpa","eclipselink","auto-generate"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1665743507,"post_id":74067782,"comment_id":130774644,"body_markdown":"Try to use raw type `Set` as generic parameter","body":"Try to use raw type <code>Set</code> as generic parameter"},{"owner":{"account_id":123756,"reputation":4386,"user_id":318414,"accept_rate":95,"display_name":"simonalexander2005"},"score":0,"creation_date":1665745535,"post_id":74067782,"comment_id":130775190,"body_markdown":"That works - but I have to do it on the entity as well as in the converter which isn&#39;t ideal","body":"That works - but I have to do it on the entity as well as in the converter which isn&#39;t ideal"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1665745750,"post_id":74067782,"comment_id":130775253,"body_markdown":"Also see https://www.eclipse.org/forums/index.php/t/1103966/","body":"Also see <a href=\"https://www.eclipse.org/forums/index.php/t/1103966/\" rel=\"nofollow noreferrer\">eclipse.org/forums/index.php/t/1103966</a>"}],"owner":{"account_id":123756,"reputation":4386,"user_id":318414,"accept_rate":95,"display_name":"simonalexander2005"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665742614,"creation_date":1665742614,"question_id":74067782,"body_markdown":"I have an entity, with the following field:\r\n\r\n```java\r\n\t@Column(name=&quot;DAYS_BITMAP&quot;, length=7)\r\n\t@Convert(converter=DaysOfWeekSetToStringConverter.class)\r\n\tprivate Set&lt;DayOfWeek&gt; daysRunning;\r\n```\r\nI then have the converter as follows:\r\n\r\n```java\r\nimport java.time.DayOfWeek;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\nimport javax.persistence.AttributeConverter;\r\nimport javax.persistence.Converter;\r\n\r\n@Converter(autoApply = false)\r\npublic class DaysOfWeekSetToStringConverter implements AttributeConverter&lt;Set&lt;DayOfWeek&gt;, String&gt;\r\n{\r\n\r\n\t@Override\r\n\tpublic String convertToDatabaseColumn(Set&lt;DayOfWeek&gt; attribute) {\r\n\t\tchar[] result = &quot;0000000&quot;.toCharArray();\r\n\t\tfor (DayOfWeek dow : attribute)\r\n\t\t{\r\n\t\t\tresult[dow.getValue()-1] = &#39;1&#39;;\r\n\t\t}\r\n\t\treturn new String(result);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Set&lt;DayOfWeek&gt; convertToEntityAttribute(String dbData) {\r\n\t\tSet&lt;DayOfWeek&gt; results = new HashSet&lt;&gt;();\r\n\t\tchar[] daysOfWeekMonToSun = dbData.toCharArray();\r\n\t\tfor (int i=0;i&lt;7;i++) // 7 days in a week\r\n\t\t{\r\n\t\t\tif (daysOfWeekMonToSun[i] == &#39;1&#39;)\r\n\t\t\t{\r\n\t\t\t\tresults.add(DayOfWeek.of(i+1)); // days of week are indexed 1 = Monday, 7 = Sunday\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn results;\r\n\t}\r\n}\r\n```\r\n\r\nWhen I come to ask eclipselink to generate the DDL for me, it does it - but it throws this error:\r\n\r\n```\r\nEL Fine]: server: Configured server platform: org.eclipse.persistence.platform.server.NoServerPlatform\r\n[EL Fine]: metadata: java.lang.ClassNotFoundException: java.util.Setjava.time.DayOfWeek\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:387)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\tat java.lang.Class.forName0(Native Method)\r\n\tat java.lang.Class.forName(Class.java:264)\r\n\tat org.eclipse.persistence.internal.jpa.metadata.accessors.objects.MetadataAsmFactory.getVirtualMetadataClass(MetadataAsmFactory.java:542)\r\n\tat org.eclipse.persistence.internal.jpa.metadata.accessors.objects.MetadataAsmFactory.buildClassMetadata(MetadataAsmFactory.java:143)\r\n\tat org.eclipse.persistence.internal.jpa.metadata.accessors.objects.MetadataAsmFactory.getMetadataClass(MetadataAsmFactory.java:177)\r\n\tat org.eclipse.persistence.internal.jpa.metadata.ORMetadata.getMetadataClass(ORMetadata.java:408)\r\n\tat org.eclipse.persistence.internal.jpa.metadata.ORMetadata.getMetadataClass(ORMetadata.java:400)\r\n\tat org.eclipse.persistence.internal.jpa.metadata.accessors.classes.ConverterAccessor.initClassificationClasses(ConverterAccessor.java:179)\r\n\tat org.eclipse.persistence.internal.jpa.metadata.accessors.classes.ConverterAccessor.&lt;init&gt;(ConverterAccessor.java:85)\r\n\tat org.eclipse.persistence.internal.jpa.metadata.MetadataProcessor.initPersistenceUnitClasses(MetadataProcessor.java:378)\r\n\tat org.eclipse.persistence.internal.jpa.metadata.MetadataProcessor.processEntityMappings(MetadataProcessor.java:563)\r\n\tat org.eclipse.persistence.internal.jpa.deployment.PersistenceUnitProcessor.processORMetadata(PersistenceUnitProcessor.java:625)\r\n\tat org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.predeploy(EntityManagerSetupImpl.java:2001)\r\n\tat org.eclipse.persistence.internal.jpa.deployment.JPAInitializer.callPredeploy(JPAInitializer.java:104)\r\n\tat org.eclipse.persistence.jpa.PersistenceProvider.createEntityManagerFactoryImpl(PersistenceProvider.java:107)\r\n\tat org.eclipse.persistence.jpa.PersistenceProvider.createEntityManagerFactory(PersistenceProvider.java:191)\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\r\n\tat org.eclipse.jpt.jpa.eclipselink.core.ddlgen.Main.buildEntityManagerFactory(Main.java:94)\r\n\tat org.eclipse.jpt.jpa.eclipselink.core.ddlgen.Main.execute(Main.java:80)\r\n\tat org.eclipse.jpt.jpa.eclipselink.core.ddlgen.Main.main(Main.java:68)\r\n```\r\n\r\nHow can I help eclipselink to find the class it needs?","title":"eclipselink JPA error - can&#39;t find class java.util.Setjava.time.DayOfWeek","body":"<p>I have an entity, with the following field:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Column(name=&quot;DAYS_BITMAP&quot;, length=7)\n    @Convert(converter=DaysOfWeekSetToStringConverter.class)\n    private Set&lt;DayOfWeek&gt; daysRunning;\n</code></pre>\n<p>I then have the converter as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.DayOfWeek;\nimport java.util.HashSet;\nimport java.util.Set;\n\nimport javax.persistence.AttributeConverter;\nimport javax.persistence.Converter;\n\n@Converter(autoApply = false)\npublic class DaysOfWeekSetToStringConverter implements AttributeConverter&lt;Set&lt;DayOfWeek&gt;, String&gt;\n{\n\n    @Override\n    public String convertToDatabaseColumn(Set&lt;DayOfWeek&gt; attribute) {\n        char[] result = &quot;0000000&quot;.toCharArray();\n        for (DayOfWeek dow : attribute)\n        {\n            result[dow.getValue()-1] = '1';\n        }\n        return new String(result);\n    }\n\n    @Override\n    public Set&lt;DayOfWeek&gt; convertToEntityAttribute(String dbData) {\n        Set&lt;DayOfWeek&gt; results = new HashSet&lt;&gt;();\n        char[] daysOfWeekMonToSun = dbData.toCharArray();\n        for (int i=0;i&lt;7;i++) // 7 days in a week\n        {\n            if (daysOfWeekMonToSun[i] == '1')\n            {\n                results.add(DayOfWeek.of(i+1)); // days of week are indexed 1 = Monday, 7 = Sunday\n            }\n        }\n        return results;\n    }\n}\n</code></pre>\n<p>When I come to ask eclipselink to generate the DDL for me, it does it - but it throws this error:</p>\n<pre><code>EL Fine]: server: Configured server platform: org.eclipse.persistence.platform.server.NoServerPlatform\n[EL Fine]: metadata: java.lang.ClassNotFoundException: java.util.Setjava.time.DayOfWeek\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:264)\n    at org.eclipse.persistence.internal.jpa.metadata.accessors.objects.MetadataAsmFactory.getVirtualMetadataClass(MetadataAsmFactory.java:542)\n    at org.eclipse.persistence.internal.jpa.metadata.accessors.objects.MetadataAsmFactory.buildClassMetadata(MetadataAsmFactory.java:143)\n    at org.eclipse.persistence.internal.jpa.metadata.accessors.objects.MetadataAsmFactory.getMetadataClass(MetadataAsmFactory.java:177)\n    at org.eclipse.persistence.internal.jpa.metadata.ORMetadata.getMetadataClass(ORMetadata.java:408)\n    at org.eclipse.persistence.internal.jpa.metadata.ORMetadata.getMetadataClass(ORMetadata.java:400)\n    at org.eclipse.persistence.internal.jpa.metadata.accessors.classes.ConverterAccessor.initClassificationClasses(ConverterAccessor.java:179)\n    at org.eclipse.persistence.internal.jpa.metadata.accessors.classes.ConverterAccessor.&lt;init&gt;(ConverterAccessor.java:85)\n    at org.eclipse.persistence.internal.jpa.metadata.MetadataProcessor.initPersistenceUnitClasses(MetadataProcessor.java:378)\n    at org.eclipse.persistence.internal.jpa.metadata.MetadataProcessor.processEntityMappings(MetadataProcessor.java:563)\n    at org.eclipse.persistence.internal.jpa.deployment.PersistenceUnitProcessor.processORMetadata(PersistenceUnitProcessor.java:625)\n    at org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.predeploy(EntityManagerSetupImpl.java:2001)\n    at org.eclipse.persistence.internal.jpa.deployment.JPAInitializer.callPredeploy(JPAInitializer.java:104)\n    at org.eclipse.persistence.jpa.PersistenceProvider.createEntityManagerFactoryImpl(PersistenceProvider.java:107)\n    at org.eclipse.persistence.jpa.PersistenceProvider.createEntityManagerFactory(PersistenceProvider.java:191)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\n    at org.eclipse.jpt.jpa.eclipselink.core.ddlgen.Main.buildEntityManagerFactory(Main.java:94)\n    at org.eclipse.jpt.jpa.eclipselink.core.ddlgen.Main.execute(Main.java:80)\n    at org.eclipse.jpt.jpa.eclipselink.core.ddlgen.Main.main(Main.java:68)\n</code></pre>\n<p>How can I help eclipselink to find the class it needs?</p>\n"},{"tags":["java","apache-camel","junit5","spring-camel","camel-test"],"answers":[{"tags":[],"owner":{"account_id":19843818,"reputation":1,"user_id":14535899,"display_name":"d4kine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665742519,"creation_date":1665742519,"answer_id":74067763,"question_id":73499256,"body_markdown":"Actually you don&#39;t, because this would test the underlying sql-component of the Camel framework, which is already tested. Instead of this, you could test  if the filled &quot;id&quot;-header contains the expected number (extracted from the body) which would be 12 in this case:\r\n\r\n    mockSQLStored.expectedHeaderValuesReceivedInAnyOrder(&quot;id&quot;, 12);","title":"Camel Testing: get Expected String of Header with parameters","body":"<p>Actually you don't, because this would test the underlying sql-component of the Camel framework, which is already tested. Instead of this, you could test  if the filled &quot;id&quot;-header contains the expected number (extracted from the body) which would be 12 in this case:</p>\n<pre><code>mockSQLStored.expectedHeaderValuesReceivedInAnyOrder(&quot;id&quot;, 12);\n</code></pre>\n"}],"owner":{"account_id":26164977,"reputation":1,"user_id":19850930,"display_name":"Alessandr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665742519,"creation_date":1661507988,"question_id":73499256,"body_markdown":"I have a route\r\n```\r\nfrom(&quot;sql:classpath:sql/selectAccounts.sql?outputClass=Account&amp;delay={{EXEC_INTVAL_MS:60000}}&amp;useIterator=false&quot;)\r\n\t.routeId(ROUTE_MIGRATE_ACCOUNTS)\r\n\t.to(&quot;log:accounts?showAll=true&amp;level=DEBUG&quot;)\r\n\t.setHeader(HEADER_MIGRATION_TYPE, constant(HEADER_MIGRATION_TYPE_ACCOUNTS))\r\n\t.setHeader(HEADER_API_TYPE, constant(HEADER_API_TYPE_ADRE))\r\n\t.setHeader(SQL_STORED_TEMPLATE, constant(&quot;${header.apiType}.MIGRATION_STARTET(INTEGER ${header.id})&quot;))\r\n\t.to(&quot;direct:markStarted&quot;)\r\n\r\nfrom(&quot;direct:markStarted&quot;).routeId(ROUTE_MARK_STARTED_IN)\r\n\t.split(body())\r\n\t.setHeader(&quot;id&quot;, convertToExpression(simple(&quot;${body.id}&quot;),Integer.class))\r\n\t.to(&quot;sql-stored:template&quot;).id(ID_MARK_STARTED_TO_SQL_STORE)\r\n\t.log(&quot;${header.id} marked as migration started&quot;);\r\n```\r\n\r\nwith Headers\r\n```\r\n\tstatic final String HEADER_API_TYPE = &quot;apiType&quot;;\r\n\tstatic final String HEADER_API_TYPE_ADRE = &quot;ADRE_API&quot;;\r\n```\r\nI would love to test if the sql-stored is called with expected header where the placeholder a filled like this\r\n\r\nADRE_API.MIGRATION_STARTET(INTEGER 12)\r\n\r\nI found \r\n```\r\nmockSQLStored.expectedHeaderValuesReceivedInAnyOrder(SQL_STORED_TEMPLATE,\r\n&quot;${header.apiType}.MIGRATION_STARTET(INTEGER ${header.id})&quot;,\r\n&quot;${header.apiType}.MIGRATION_STARTET(INTEGER ${header.id})&quot;);\r\n```\r\nwhats working perfect like this.\r\n\r\nHow can I check the header filled with the params?","title":"Camel Testing: get Expected String of Header with parameters","body":"<p>I have a route</p>\n<pre><code>from(&quot;sql:classpath:sql/selectAccounts.sql?outputClass=Account&amp;delay={{EXEC_INTVAL_MS:60000}}&amp;useIterator=false&quot;)\n    .routeId(ROUTE_MIGRATE_ACCOUNTS)\n    .to(&quot;log:accounts?showAll=true&amp;level=DEBUG&quot;)\n    .setHeader(HEADER_MIGRATION_TYPE, constant(HEADER_MIGRATION_TYPE_ACCOUNTS))\n    .setHeader(HEADER_API_TYPE, constant(HEADER_API_TYPE_ADRE))\n    .setHeader(SQL_STORED_TEMPLATE, constant(&quot;${header.apiType}.MIGRATION_STARTET(INTEGER ${header.id})&quot;))\n    .to(&quot;direct:markStarted&quot;)\n\nfrom(&quot;direct:markStarted&quot;).routeId(ROUTE_MARK_STARTED_IN)\n    .split(body())\n    .setHeader(&quot;id&quot;, convertToExpression(simple(&quot;${body.id}&quot;),Integer.class))\n    .to(&quot;sql-stored:template&quot;).id(ID_MARK_STARTED_TO_SQL_STORE)\n    .log(&quot;${header.id} marked as migration started&quot;);\n</code></pre>\n<p>with Headers</p>\n<pre><code>    static final String HEADER_API_TYPE = &quot;apiType&quot;;\n    static final String HEADER_API_TYPE_ADRE = &quot;ADRE_API&quot;;\n</code></pre>\n<p>I would love to test if the sql-stored is called with expected header where the placeholder a filled like this</p>\n<p>ADRE_API.MIGRATION_STARTET(INTEGER 12)</p>\n<p>I found</p>\n<pre><code>mockSQLStored.expectedHeaderValuesReceivedInAnyOrder(SQL_STORED_TEMPLATE,\n&quot;${header.apiType}.MIGRATION_STARTET(INTEGER ${header.id})&quot;,\n&quot;${header.apiType}.MIGRATION_STARTET(INTEGER ${header.id})&quot;);\n</code></pre>\n<p>whats working perfect like this.</p>\n<p>How can I check the header filled with the params?</p>\n"},{"tags":["java","mongodb","mongodb-query","mongodb-java","azure-cosmosdb-mongoapi"],"comments":[{"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"score":0,"creation_date":1663578492,"post_id":73770816,"comment_id":130264549,"body_markdown":"You can convert the data into your db to store real number instead of string, is that a possibility?","body":"You can convert the data into your db to store real number instead of string, is that a possibility?"},{"owner":{"account_id":515948,"reputation":1104,"user_id":1843591,"accept_rate":76,"display_name":"user1843591"},"score":0,"creation_date":1663578704,"post_id":73770816,"comment_id":130264612,"body_markdown":"hi @CharchitKapoor that is the &quot;nuclear&quot; option. we&#39;re trying to avoid that","body":"hi @CharchitKapoor that is the &quot;nuclear&quot; option. we&#39;re trying to avoid that"},{"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"score":0,"creation_date":1663579249,"post_id":73770816,"comment_id":130264795,"body_markdown":"Ok, so at present, you have strings and you are applying filters, by passing strings is that accurate?","body":"Ok, so at present, you have strings and you are applying filters, by passing strings is that accurate?"},{"owner":{"account_id":515948,"reputation":1104,"user_id":1843591,"accept_rate":76,"display_name":"user1843591"},"score":0,"creation_date":1663580412,"post_id":73770816,"comment_id":130265165,"body_markdown":"correct, if i pass in an integer the DB/filter will not match anything","body":"correct, if i pass in an integer the DB/filter will not match anything"},{"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"score":0,"creation_date":1663580761,"post_id":73770816,"comment_id":130265279,"body_markdown":"Then the best thing is to write an aggregation pipeline, convert your `cId` to a number within the pipeline using `$convert` https://www.mongodb.com/docs/manual/reference/operator/aggregation/convert/ and then match it using your parameters","body":"Then the best thing is to write an aggregation pipeline, convert your <code>cId</code> to a number within the pipeline using <code>$convert</code> <a href=\"https://www.mongodb.com/docs/manual/reference/operator/aggregation/convert/\" rel=\"nofollow noreferrer\">mongodb.com/docs/manual/reference/operator/aggregation/conve&zwnj;&#8203;rt</a> and then match it using your parameters"}],"answers":[{"tags":[],"owner":{"account_id":515948,"reputation":1104,"user_id":1843591,"accept_rate":76,"display_name":"user1843591"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665741668,"creation_date":1665741668,"answer_id":74067614,"question_id":73770816,"body_markdown":"Posting @CharchitKapoor comment above as the best available answer within the limitations of my question.... (however in my case, I ended up converting the data on insertion to a real number)\r\n\r\nThe best thing is to write an aggregation pipeline, convert your cId to a number within the pipeline using $convert mongodb.com/docs/manual/reference/operator/aggregation/convert and then match it using your parameter","title":"MongoDB Java Driver Filter Integer Value of a String","body":"<p>Posting @CharchitKapoor comment above as the best available answer within the limitations of my question.... (however in my case, I ended up converting the data on insertion to a real number)</p>\n<p>The best thing is to write an aggregation pipeline, convert your cId to a number within the pipeline using $convert mongodb.com/docs/manual/reference/operator/aggregation/convert and then match it using your parameter</p>\n"}],"owner":{"account_id":515948,"reputation":1104,"user_id":1843591,"accept_rate":76,"display_name":"user1843591"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74067614,"answer_count":1,"score":2,"last_activity_date":1665741668,"creation_date":1663577529,"question_id":73770816,"body_markdown":"I have MongoDB Document parameter of type &quot;real&quot; number but is represented in the DB as a string- e.g `&quot;cId&quot;=&quot;200&quot;` instead of `&quot;cId&quot;=200`I have to query the DB for a range of numbers; e.g. filter equivalent to `SELECT ALL where cId is less than 10 and greater than 5.`\r\n\r\nIs there a way to query the integer value of this parameter using a similar functional equivalent to `Integer.parseInt(str);` for example\r\n\r\nMy filter looks like\r\n\r\n    Bson filter = Filters.and(Filters.gt(&quot;cId&quot;, &quot;0&quot;), Filters.lt(&quot;cId&quot;,&quot;4&quot;));\r\n\r\nI&#39;m hoping for an equivalent of something like \r\n\r\n    Bson filter = Filters.and(Filters.gt(&quot;cId&quot;, valueOf(&quot;0&quot;)), Filters.lt(&quot;cId&quot;,valueOf(&quot;4&quot;)));\r\n\r\nThanks...","title":"MongoDB Java Driver Filter Integer Value of a String","body":"<p>I have MongoDB Document parameter of type &quot;real&quot; number but is represented in the DB as a string- e.g <code>&quot;cId&quot;=&quot;200&quot;</code> instead of <code>&quot;cId&quot;=200</code>I have to query the DB for a range of numbers; e.g. filter equivalent to <code>SELECT ALL where cId is less than 10 and greater than 5.</code></p>\n<p>Is there a way to query the integer value of this parameter using a similar functional equivalent to <code>Integer.parseInt(str);</code> for example</p>\n<p>My filter looks like</p>\n<pre><code>Bson filter = Filters.and(Filters.gt(&quot;cId&quot;, &quot;0&quot;), Filters.lt(&quot;cId&quot;,&quot;4&quot;));\n</code></pre>\n<p>I'm hoping for an equivalent of something like</p>\n<pre><code>Bson filter = Filters.and(Filters.gt(&quot;cId&quot;, valueOf(&quot;0&quot;)), Filters.lt(&quot;cId&quot;,valueOf(&quot;4&quot;)));\n</code></pre>\n<p>Thanks...</p>\n"},{"tags":["java","spring-boot","socket.io","socket.io-java-client"],"owner":{"account_id":16097021,"reputation":251,"user_id":12176903,"display_name":"Areej Fatimah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665741432,"creation_date":1665731875,"question_id":74065656,"body_markdown":"I have to implement client functionality using [https://github.com/socketio/socket.io-client-java][1]. I have socket.io nodejs server 4.x version. I want to establish around 300-700 socket connections using threadpool `ThreadPoolExecutor` in a loop after some fixed  delay. I have tried to implement this, the socket connections to server established but after sometimes got disconnected.Please help me figure the root cause of the issue of disconnections.\r\nI have tired\r\n\r\n - Without using threads at all.\r\n - Using `singleThreadPool`\r\n - Using `fixedThreadPool`\r\n - Using `scheduledThreadPool`\r\n\r\n        ScheduledThreadPoolExecutor executor = (ScheduledThreadPoolExecutor) Executors.newScheduledThreadPool(200);\r\n        ScheduledFuture&lt;?&gt; future;\r\n        future= executor.scheduleAtFixedRate(() -&gt; {\r\n        for(int i=1;i&lt;=300;i++) {\r\n\r\n                IO.Options options = IO.Options.builder()\r\n                        .setPath(&quot;/agent-manager/socket.io&quot;)\r\n                        .setTransports(new String[]{Polling.NAME,WebSocket.NAME})\r\n                        .setAuth(token)\r\n                        .build();\r\n\r\n                 socket = IO.socket(URI.create(&quot;wss://localhost:3000&quot;), options);\r\n                 socket.on(&quot;connect_error&quot;, new Emitter.Listener() {\r\n                    @Override\r\n                    public void call(Object... args) {\r\n                        System.out.println(args[0]);\r\n                    }\r\n                }).on(&quot;connect&quot;, new Emitter.Listener() {\r\n                    @Override\r\n                    public void call(Object... args) {\r\n                        System.out.println(socket.id() +&quot; &quot;+i+&quot; connected&quot;);\r\n                    }\r\n                }).on(&quot;disconnect&quot;, new Emitter.Listener() {\r\n                    @Override\r\n                    public void call(Object... args) {\r\n                        System.out.println(socket.id() +&quot; &quot;+i+&quot; disconnected&quot;);\r\n                    }\r\n                });\r\n                socket.connect();\r\n                lock.countDown();\r\n            }\r\n            }, 1000, delay, TimeUnit.MILLISECONDS);\r\n            lock.await(delay, TimeUnit.MILLISECONDS);\r\n            future.cancel(true);\r\n\r\nIn all above cases, disconnections appear after few seconds.\r\nIs there some sort of socket object ttl expiration, connection timeout, or server &amp; client are not sending any data in some time, so due to inactivity the disconnections appears? How to keep connections sustained?\r\n\r\n\r\n  [1]: https://github.com/socketio/socket.io-client-java","title":"Multiple socket io client connections in java","body":"<p>I have to implement client functionality using <a href=\"https://github.com/socketio/socket.io-client-java\" rel=\"nofollow noreferrer\">https://github.com/socketio/socket.io-client-java</a>. I have socket.io nodejs server 4.x version. I want to establish around 300-700 socket connections using threadpool <code>ThreadPoolExecutor</code> in a loop after some fixed  delay. I have tried to implement this, the socket connections to server established but after sometimes got disconnected.Please help me figure the root cause of the issue of disconnections.\nI have tired</p>\n<ul>\n<li><p>Without using threads at all.</p>\n</li>\n<li><p>Using <code>singleThreadPool</code></p>\n</li>\n<li><p>Using <code>fixedThreadPool</code></p>\n</li>\n<li><p>Using <code>scheduledThreadPool</code></p>\n<pre><code> ScheduledThreadPoolExecutor executor = (ScheduledThreadPoolExecutor) Executors.newScheduledThreadPool(200);\n ScheduledFuture&lt;?&gt; future;\n future= executor.scheduleAtFixedRate(() -&gt; {\n for(int i=1;i&lt;=300;i++) {\n\n         IO.Options options = IO.Options.builder()\n                 .setPath(&quot;/agent-manager/socket.io&quot;)\n                 .setTransports(new String[]{Polling.NAME,WebSocket.NAME})\n                 .setAuth(token)\n                 .build();\n\n          socket = IO.socket(URI.create(&quot;wss://localhost:3000&quot;), options);\n          socket.on(&quot;connect_error&quot;, new Emitter.Listener() {\n             @Override\n             public void call(Object... args) {\n                 System.out.println(args[0]);\n             }\n         }).on(&quot;connect&quot;, new Emitter.Listener() {\n             @Override\n             public void call(Object... args) {\n                 System.out.println(socket.id() +&quot; &quot;+i+&quot; connected&quot;);\n             }\n         }).on(&quot;disconnect&quot;, new Emitter.Listener() {\n             @Override\n             public void call(Object... args) {\n                 System.out.println(socket.id() +&quot; &quot;+i+&quot; disconnected&quot;);\n             }\n         });\n         socket.connect();\n         lock.countDown();\n     }\n     }, 1000, delay, TimeUnit.MILLISECONDS);\n     lock.await(delay, TimeUnit.MILLISECONDS);\n     future.cancel(true);\n</code></pre>\n</li>\n</ul>\n<p>In all above cases, disconnections appear after few seconds.\nIs there some sort of socket object ttl expiration, connection timeout, or server &amp; client are not sending any data in some time, so due to inactivity the disconnections appears? How to keep connections sustained?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":26562666,"reputation":119,"user_id":20190240,"display_name":"Jalena"},"score":0,"creation_date":1665681234,"post_id":74055836,"comment_id":130761691,"body_markdown":"Can you post the code of the class where the error is occurring as well","body":"Can you post the code of the class where the error is occurring as well"},{"owner":{"account_id":14437674,"reputation":711,"user_id":10429263,"display_name":"d00d"},"score":0,"creation_date":1665725994,"post_id":74055836,"comment_id":130769876,"body_markdown":"Have added the info.","body":"Have added the info."}],"answers":[{"tags":[],"owner":{"account_id":14437674,"reputation":711,"user_id":10429263,"display_name":"d00d"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665741250,"creation_date":1665731325,"answer_id":74065552,"question_id":74055836,"body_markdown":"I got the problem fixed in the meantime. I installed a new wildfly, wiped the maven repo and tested serveral things but nothing helped. This morning I entered the OLD Spring version in my POM.xml that we upgraded from and I compiled. The system went over this error. Then I put back the Spring version that we upgraded to in the POM, compiled again and the error was gone. Must have been some sort of weird caching issue at the end of Maven.","title":"java.lang.NoSuchMethodError: &#39;java.lang.reflect.Constructor org.springframework.util.ReflectionUtils.accessibleConstructor after Spring Upgrade","body":"<p>I got the problem fixed in the meantime. I installed a new wildfly, wiped the maven repo and tested serveral things but nothing helped. This morning I entered the OLD Spring version in my POM.xml that we upgraded from and I compiled. The system went over this error. Then I put back the Spring version that we upgraded to in the POM, compiled again and the error was gone. Must have been some sort of weird caching issue at the end of Maven.</p>\n"}],"owner":{"account_id":14437674,"reputation":711,"user_id":10429263,"display_name":"d00d"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665741250,"creation_date":1665664295,"question_id":74055836,"body_markdown":"I am deploying two apps on Wildfly 23.0.2 that we both are currently in the process of upgrading. We ramped up Java from 7 to 17, Springframework from 4.3.24  to 5.3.22 and Hibernate from 3.6 to 5.6. After starting the app, I immediately get the following error... but just for one app, the other is running fine with almost the same dependencies in pom.xml:\r\n\r\n\r\n    14:20:38,360 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 182) MSC000001: Failed to start service jboss.deployment.unit.&quot;myapp.war&quot;.undertow-deployment: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;myapp.war&quot;.undertow-deployment: java.lang.RuntimeException: javax.servlet.ServletException: Failed to instantiate WebApplicationInitializer class\r\n            at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:81)\r\n            at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n            at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n            at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n            at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n            at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n            at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n            at java.base/java.lang.Thread.run(Thread.java:833)\r\n            at org.jboss.threads@2.4.0.Final//org.jboss.threads.JBossThread.run(JBossThread.java:513)\r\n    Caused by: java.lang.RuntimeException: javax.servlet.ServletException: Failed to instantiate WebApplicationInitializer class\r\n            at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:257)\r\n            at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:96)\r\n            at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:78)\r\n            ... 8 more\r\n    Caused by: javax.servlet.ServletException: Failed to instantiate WebApplicationInitializer class\r\n            at deployment.myapp.war//org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:160)\r\n            at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:204)\r\n            at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:187)\r\n            at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)\r\n            at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n            at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\r\n            at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n            at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n            at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n            at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n            at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:255)\r\n            ... 10 more\r\n    Caused by: java.lang.NoSuchMethodError: &#39;java.lang.reflect.Constructor org.springframework.util.ReflectionUtils.accessibleConstructor(java.lang.Class, java.lang.Class[])&#39;\r\n            at deployment.myapp.war//org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:157)\r\n            ... 20 more\r\n\r\nI debug into `org/springframework/web/SpringServletContainerInitializer#onStartup()` where the call causing the error happens and I can see that it happens when a class that extends `AbstractSecurityWebApplicationInitializer` is processed. When I remove the extension, this class is not processed and the error does not occur, despite 5 other files are waiting to be called the exact same way. \r\n\r\nThe `SpringServletContainerInitializer#onStartup()` where the error occurs:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe error occurs when processing a file that we use with Spring Security for Keycloak auth. Through extending the `AbstractSecurityWebApplicationInitializer`, this file gets regarded in the `SpringServletContainerInitializer#onStartup()`:\r\n\r\n    package com.myapp.security.web.config;\r\n    \r\n    import org.springframework.context.annotation.Profile;\r\n    import org.springframework.security.web.context.AbstractSecurityWebApplicationInitializer;\r\n    \r\n    @Profile(&quot;keycloak-auth&quot;)\r\n    public class SecurityWebInitializer extends AbstractSecurityWebApplicationInitializer {\r\n    \r\n    \t\r\n    \tprotected Class&lt;?&gt;[] getRootConfigClasses() {\r\n            return new Class[] {SecurityConfig.class};\r\n        }\t\r\n    }\r\n\r\nI have:\r\n\r\n - made sure that the `spring-core-5.3.22.jar` is in the `WEB-INF/lib` directory and\r\n - that there are no concurrent versions of any Spring package in the directory. \r\n - that no old Spring.Core versions are in `wildfly/modules` directory. \r\n - Wiped the Maven Repository that contains all Springframework jars. \r\n\r\n\r\n \r\nAny ideas how to solve this?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sSWAh.png","title":"java.lang.NoSuchMethodError: &#39;java.lang.reflect.Constructor org.springframework.util.ReflectionUtils.accessibleConstructor after Spring Upgrade","body":"<p>I am deploying two apps on Wildfly 23.0.2 that we both are currently in the process of upgrading. We ramped up Java from 7 to 17, Springframework from 4.3.24  to 5.3.22 and Hibernate from 3.6 to 5.6. After starting the app, I immediately get the following error... but just for one app, the other is running fine with almost the same dependencies in pom.xml:</p>\n<pre><code>14:20:38,360 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 182) MSC000001: Failed to start service jboss.deployment.unit.&quot;myapp.war&quot;.undertow-deployment: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;myapp.war&quot;.undertow-deployment: java.lang.RuntimeException: javax.servlet.ServletException: Failed to instantiate WebApplicationInitializer class\n        at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:81)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.JBossThread.run(JBossThread.java:513)\nCaused by: java.lang.RuntimeException: javax.servlet.ServletException: Failed to instantiate WebApplicationInitializer class\n        at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:257)\n        at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:96)\n        at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:78)\n        ... 8 more\nCaused by: javax.servlet.ServletException: Failed to instantiate WebApplicationInitializer class\n        at deployment.myapp.war//org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:160)\n        at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:204)\n        at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:187)\n        at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)\n        at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n        at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\n        at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n        at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n        at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n        at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n        at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:255)\n        ... 10 more\nCaused by: java.lang.NoSuchMethodError: 'java.lang.reflect.Constructor org.springframework.util.ReflectionUtils.accessibleConstructor(java.lang.Class, java.lang.Class[])'\n        at deployment.myapp.war//org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:157)\n        ... 20 more\n</code></pre>\n<p>I debug into <code>org/springframework/web/SpringServletContainerInitializer#onStartup()</code> where the call causing the error happens and I can see that it happens when a class that extends <code>AbstractSecurityWebApplicationInitializer</code> is processed. When I remove the extension, this class is not processed and the error does not occur, despite 5 other files are waiting to be called the exact same way.</p>\n<p>The <code>SpringServletContainerInitializer#onStartup()</code> where the error occurs:</p>\n<p><a href=\"https://i.stack.imgur.com/sSWAh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sSWAh.png\" alt=\"enter image description here\" /></a></p>\n<p>The error occurs when processing a file that we use with Spring Security for Keycloak auth. Through extending the <code>AbstractSecurityWebApplicationInitializer</code>, this file gets regarded in the <code>SpringServletContainerInitializer#onStartup()</code>:</p>\n<pre><code>package com.myapp.security.web.config;\n\nimport org.springframework.context.annotation.Profile;\nimport org.springframework.security.web.context.AbstractSecurityWebApplicationInitializer;\n\n@Profile(&quot;keycloak-auth&quot;)\npublic class SecurityWebInitializer extends AbstractSecurityWebApplicationInitializer {\n\n    \n    protected Class&lt;?&gt;[] getRootConfigClasses() {\n        return new Class[] {SecurityConfig.class};\n    }   \n}\n</code></pre>\n<p>I have:</p>\n<ul>\n<li>made sure that the <code>spring-core-5.3.22.jar</code> is in the <code>WEB-INF/lib</code> directory and</li>\n<li>that there are no concurrent versions of any Spring package in the directory.</li>\n<li>that no old Spring.Core versions are in <code>wildfly/modules</code> directory.</li>\n<li>Wiped the Maven Repository that contains all Springframework jars.</li>\n</ul>\n<p>Any ideas how to solve this?</p>\n"},{"tags":["java","ssl","ssl-certificate","wildfly"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1665746504,"post_id":74067498,"comment_id":130775475,"body_markdown":"In many environments Wildfly is behind some load balancer/reverse proxy, so Wildfly&#39;s client would be under your control. That could serve as workaround, yet it does not change which certificate Wildfly transmits.","body":"In many environments Wildfly is behind some load balancer/reverse proxy, so Wildfly&#39;s client would be under your control. That could serve as workaround, yet it does not change which certificate Wildfly transmits."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1665747121,"post_id":74067498,"comment_id":130775666,"body_markdown":"Another keyword might be &#39;certificate chain&#39;. I found this https://medium.com/@hasnat.saeed/setup-ssl-https-on-jboss-wildfly-application-server-fde6288a0f40, and it seems they import the intermediate CA and store all in a PKCS12 type keystore.","body":"Another keyword might be &#39;certificate chain&#39;. I found this <a href=\"https://medium.com/@hasnat.saeed/setup-ssl-https-on-jboss-wildfly-application-server-fde6288a0f40\" rel=\"nofollow noreferrer\">medium.com/@hasnat.saeed/&hellip;</a>, and it seems they import the intermediate CA and store all in a PKCS12 type keystore."},{"owner":{"account_id":938600,"reputation":566,"user_id":967088,"display_name":"Will Tatam"},"score":0,"creation_date":1665939884,"post_id":74067498,"comment_id":130811624,"body_markdown":"Sounds like in the keystore you have the intermediate cert as it&#39;s own entry rather than as part of a chain with the alias you reference","body":"Sounds like in the keystore you have the intermediate cert as it&#39;s own entry rather than as part of a chain with the alias you reference"},{"owner":{"account_id":26619557,"reputation":21,"user_id":20238473,"display_name":"Edmund Urbani"},"score":0,"creation_date":1666083421,"post_id":74067498,"comment_id":130845583,"body_markdown":"@HiranChaudhuri I am accessing it directly without a reverse proxy in between. I do not see why it would work with PKCS#12 rather than JKS, but it is something I have not tried yet.","body":"@HiranChaudhuri I am accessing it directly without a reverse proxy in between. I do not see why it would work with PKCS#12 rather than JKS, but it is something I have not tried yet."},{"owner":{"account_id":26619557,"reputation":21,"user_id":20238473,"display_name":"Edmund Urbani"},"score":0,"creation_date":1666083442,"post_id":74067498,"comment_id":130845592,"body_markdown":"@WillT Yes, the intermediate cert has its own entry in the keystore. Can I import multiple certs in one entry?","body":"@WillT Yes, the intermediate cert has its own entry in the keystore. Can I import multiple certs in one entry?"}],"owner":{"account_id":26619557,"reputation":21,"user_id":20238473,"display_name":"Edmund Urbani"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":317,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1665741138,"creation_date":1665741138,"question_id":74067498,"body_markdown":"So I have this certificate chain made of 3 certificates:\r\n- Root cert (installed in all clients)\r\n- Intermediate cert (installed in my browser, but not in other clients/Java apps accessing webservices)\r\n- Domain wildcard certificate\r\n\r\nWildfly is configured to use a keystore that holds intermediate and domain certificates  in JKS format, along with the private key for the domain cert. When I send a HTTPS request from my browser, the certificate is validated just fine and everything seems OK. But when the Java client application I am working on tries to establish a connection, it cannot build a valid certificate chain:\r\n`javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target`\r\n\r\nI checked the certificates delivered by Wildfly using openssl (`openssl s_client -showcerts -connect &lt;servername&gt;`) and confirmed that the intermediate certificate is NOT transmitted even though it is present in the keystore. Now I can work around this in my development environment by adding the intermediate cert to my local trust store, however that is not an acceptable long-term solution for production.\r\n\r\nIn my Wildfly&#39;s standalone.xml I have specified the keystore and the alias of the wildcard certificate.\r\n```\r\n&lt;server-identities&gt;\r\n  &lt;ssl&gt;\r\n    &lt;keystore path=&quot;/path/to/keytsore.jks&quot; keystore-password=&quot;supersecure&quot; alias=&quot;*.redacted.com&quot;/&gt;\r\n  &lt;/ssl&gt;\r\n&lt;/server-identities&gt;\r\n```\r\n\r\nSearching through the Wildfly admin docs I saw no mention of intermediate certificates. I tried to add an additional &lt;keystore&gt; element to the config (same path and password, but alias of the intermediate certificate), but Wildfly would not start up with that. \r\n\r\nAny idea how I can get Wildfly to present the intermediate certificate to connecting clients? Does it need to have a specific alias name? Or is there another way to tell Wildfly the alias of any intermediate cert?","title":"Wildfly does not pass intermediate certificate to HTTPS client","body":"<p>So I have this certificate chain made of 3 certificates:</p>\n<ul>\n<li>Root cert (installed in all clients)</li>\n<li>Intermediate cert (installed in my browser, but not in other clients/Java apps accessing webservices)</li>\n<li>Domain wildcard certificate</li>\n</ul>\n<p>Wildfly is configured to use a keystore that holds intermediate and domain certificates  in JKS format, along with the private key for the domain cert. When I send a HTTPS request from my browser, the certificate is validated just fine and everything seems OK. But when the Java client application I am working on tries to establish a connection, it cannot build a valid certificate chain:\n<code>javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target</code></p>\n<p>I checked the certificates delivered by Wildfly using openssl (<code>openssl s_client -showcerts -connect &lt;servername&gt;</code>) and confirmed that the intermediate certificate is NOT transmitted even though it is present in the keystore. Now I can work around this in my development environment by adding the intermediate cert to my local trust store, however that is not an acceptable long-term solution for production.</p>\n<p>In my Wildfly's standalone.xml I have specified the keystore and the alias of the wildcard certificate.</p>\n<pre><code>&lt;server-identities&gt;\n  &lt;ssl&gt;\n    &lt;keystore path=&quot;/path/to/keytsore.jks&quot; keystore-password=&quot;supersecure&quot; alias=&quot;*.redacted.com&quot;/&gt;\n  &lt;/ssl&gt;\n&lt;/server-identities&gt;\n</code></pre>\n<p>Searching through the Wildfly admin docs I saw no mention of intermediate certificates. I tried to add an additional  element to the config (same path and password, but alias of the intermediate certificate), but Wildfly would not start up with that.</p>\n<p>Any idea how I can get Wildfly to present the intermediate certificate to connecting clients? Does it need to have a specific alias name? Or is there another way to tell Wildfly the alias of any intermediate cert?</p>\n"},{"tags":["java","maven","javafx","netbeans"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":4,"creation_date":1665739691,"post_id":74067080,"comment_id":130773487,"body_markdown":"Yes. Take a look at `jlink` + `jpackage` ([User Guide](https://docs.oracle.com/en/java/javase/19/jpackage/packaging-overview.html)). Also check out [JPackageScriptFX](https://github.com/dlemmermann/JPackageScriptFX) and the FAQ&#39;s under the &quot;Packaging&quot; section of the [JavaFX tag wiki](https://stackoverflow.com/tags/javafx/info). If you do end up using `jlink` + `jpackage` then I recommend [using the JMOD files of JavaFX](https://stackoverflow.com/q/61294243/6395627).","body":"Yes. Take a look at <code>jlink</code> + <code>jpackage</code> (<a href=\"https://docs.oracle.com/en/java/javase/19/jpackage/packaging-overview.html\" rel=\"nofollow noreferrer\">User Guide</a>). Also check out <a href=\"https://github.com/dlemmermann/JPackageScriptFX\" rel=\"nofollow noreferrer\">JPackageScriptFX</a> and the FAQ&#39;s under the &quot;Packaging&quot; section of the <a href=\"https://stackoverflow.com/tags/javafx/info\">JavaFX tag wiki</a>. If you do end up using <code>jlink</code> + <code>jpackage</code> then I recommend <a href=\"https://stackoverflow.com/q/61294243/6395627\">using the JMOD files of JavaFX</a>."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1665740161,"post_id":74067080,"comment_id":130773640,"body_markdown":"There&#39;s also [GraalVM&#39;s native image](https://www.graalvm.org/22.2/reference-manual/native-image/). Check out https://gluonhq.com/create-native-javafx-applications-using-graalvm-22-builds-from-gluon/","body":"There&#39;s also <a href=\"https://www.graalvm.org/22.2/reference-manual/native-image/\" rel=\"nofollow noreferrer\">GraalVM&#39;s native image</a>. Check out <a href=\"https://gluonhq.com/create-native-javafx-applications-using-graalvm-22-builds-from-gluon/\" rel=\"nofollow noreferrer\">gluonhq.com/&hellip;</a>"}],"owner":{"account_id":20049721,"reputation":99,"user_id":14698662,"display_name":"VS228"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665740236,"creation_date":1665739238,"question_id":74067080,"body_markdown":"I have created a Maven JavaFX (Java SE SDK 18.0.2, JavaFX 18.0.2) project in Netbeans 15. I have a project with several dependencies (from Maven repositories). Now, I wish to package the project as a Windows Installer and MacOS dmg. Is this possible?","title":"Possible to create Windows Installer / MacOS Native App","body":"<p>I have created a Maven JavaFX (Java SE SDK 18.0.2, JavaFX 18.0.2) project in Netbeans 15. I have a project with several dependencies (from Maven repositories). Now, I wish to package the project as a Windows Installer and MacOS dmg. Is this possible?</p>\n"},{"tags":["java","excel","hashmap"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1665740477,"post_id":74066739,"comment_id":130773765,"body_markdown":"Looks to me like you want `Map&lt;String, Map&lt;String, Integer&gt;&gt;` where the outer `Map` key is _call direction_ and the inner `Map` key is _call type_. How do you populate the `Map&lt;SummaryObject, Integer&gt;`? Are you using [POI](https://poi.apache.org/)?","body":"Looks to me like you want <code>Map&lt;String, Map&lt;String, Integer&gt;&gt;</code> where the outer <code>Map</code> key is <i>call direction</i> and the inner <code>Map</code> key is <i>call type</i>. How do you populate the <code>Map&lt;SummaryObject, Integer&gt;</code>? Are you using <a href=\"https://poi.apache.org/\" rel=\"nofollow noreferrer\">POI</a>?"},{"owner":{"account_id":10653893,"reputation":199,"user_id":7843970,"display_name":"RagaSGNur"},"score":0,"creation_date":1665747234,"post_id":74066739,"comment_id":130775700,"body_markdown":"There are one more field also be added have values like &#39; call answered , call abandoned&#39;. So , thinking to add Map structure according to that.","body":"There are one more field also be added have values like &#39; call answered , call abandoned&#39;. So , thinking to add Map structure according to that."}],"owner":{"account_id":10653893,"reputation":199,"user_id":7843970,"display_name":"RagaSGNur"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665740224,"creation_date":1665737609,"question_id":74066739,"body_markdown":"There is a field to hold average value of the calls. \r\n\r\nBut this average value calculation is based on few conditions on call type and call direction.\r\n\r\n- Valid call directions are\r\n    * incoming\r\n    * outgoing\r\n- Valid call types are\r\n    * national\r\n    * international\r\n    * others\r\n\r\nTrying to add the map with `Map&lt;SummaryObject, Integer&gt;`.\r\n\r\n    @Data\r\n    @EqualsOgnoreCase\r\n    class SummaryObject {\r\n        String direction;\r\n        String callType;\r\n    }\r\n\r\nSo this map will have:\r\n\r\n| Key                     | Value |\r\n| ---                     | ----- |\r\n| Incoming, National      | 50    |\r\n| Incoming, International | 40    |\r\n| Outgoing, National      | 40    |\r\n\r\netc.\r\n\r\nI have to populate this in the Excel sheet as depicted as:\r\n```none\r\nIncoming                                        Outgoing\r\nNational International Others National International Others\r\n\r\n50        40            0     40        0             0\r\n```\r\netc.\r\n\r\nEach row is identified with group name. \r\n\r\nIs there an alternative data structure will be more appropriate for adding the details in the represented way?\r\n\r\nThanks in advance.\r\n","title":"Nested HashMap with depth level of 3 and populating Excel sheet","body":"<p>There is a field to hold average value of the calls.</p>\n<p>But this average value calculation is based on few conditions on call type and call direction.</p>\n<ul>\n<li>Valid call directions are\n<ul>\n<li>incoming</li>\n<li>outgoing</li>\n</ul>\n</li>\n<li>Valid call types are\n<ul>\n<li>national</li>\n<li>international</li>\n<li>others</li>\n</ul>\n</li>\n</ul>\n<p>Trying to add the map with <code>Map&lt;SummaryObject, Integer&gt;</code>.</p>\n<pre><code>@Data\n@EqualsOgnoreCase\nclass SummaryObject {\n    String direction;\n    String callType;\n}\n</code></pre>\n<p>So this map will have:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Key</th>\n<th>Value</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Incoming, National</td>\n<td>50</td>\n</tr>\n<tr>\n<td>Incoming, International</td>\n<td>40</td>\n</tr>\n<tr>\n<td>Outgoing, National</td>\n<td>40</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>etc.</p>\n<p>I have to populate this in the Excel sheet as depicted as:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Incoming                                        Outgoing\nNational International Others National International Others\n\n50        40            0     40        0             0\n</code></pre>\n<p>etc.</p>\n<p>Each row is identified with group name.</p>\n<p>Is there an alternative data structure will be more appropriate for adding the details in the represented way?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","junit","mocking","mockito","variadic-functions"],"answers":[{"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665573460,"creation_date":1665571585,"answer_id":74040571,"question_id":74040220,"body_markdown":"Method taking varargs is represented in runtime as a method taking an array as its last argument. The fact that you can pass arguments as separate values in your source code is a syntax sugar.\r\n\r\nThe problem with your code is that `i.getArgument(index)` returns each separate value - it does not group varargs into an array.\r\n\r\nThis is combined with incorrect type inference - if you call\r\ngetSomething with i.getArgument(5), the compiler incorrect assumes that it needs to cast to String[], thus your code is equivalent to:\r\n```lang-java\r\nwhen(myRealService.getSomething(\r\n        anyString(),\r\n        anyString(),\r\n        any(Date.class),\r\n        anyString(),\r\n        anyString(),\r\n        any())\r\n).thenAnswer(i -&gt; {\r\n    String[] varargs = i.getArgument(5); // incorrect, Note that code works fine if you use String -&gt; the compiler knows that you are using varargs syntax\r\n    return myMockedService.getSomething(\r\n            i.getArgument(0),\r\n            i.getArgument(1),\r\n            i.getArgument(2),\r\n            i.getArgument(3),\r\n            i.getArgument(4),\r\n            varargs\r\n            );\r\n});\r\n```\r\n\r\nFor example, it you call:\r\n```\r\nmyRealService.getSomething(&quot;0&quot;, &quot;1&quot;, new Date(), &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;);\r\n```\r\n\r\n- i.getArgument(5) is equal to &quot;5&quot;\r\n- you cast this value to an array (BOOM, ClassCastException)\r\n- you should be passing entire varagrs array instead\r\n- you can easily copy the values corresponding to original varargs to  a new array (of type String[])\r\n\r\n```lang-java\r\nwhen(myRealService.getSomething(\r\n        anyString(),\r\n        anyString(),\r\n        any(Date.class),\r\n        anyString(),\r\n        anyString(),\r\n        any())\r\n).thenAnswer(i -&gt; {\r\n    String[] varargFromInvocation = Arrays.copyOfRange(i.getArguments(), 5, i.getArguments().length, String[].class);\r\n    return myMockedService.getSomething(\r\n            i.getArgument(0),\r\n            i.getArgument(1),\r\n            i.getArgument(2),\r\n            i.getArgument(3),\r\n            i.getArgument(4),\r\n            varargFromInvocation);\r\n});\r\n```\r\n\r\nOther thoughts:\r\nIf you only want to stub this one method, maybe you can:\r\n- extend your real service\r\n- override getSomething \r\n- pass that to the algorithm\r\n\r\nEven better:\r\n- extract SomethingRepository\r\n- use DBSomethingRepository in prod\r\n- use CVSSomethingRepository in test","title":"Mockito Varargs parameter when thenAnswer","body":"<p>Method taking varargs is represented in runtime as a method taking an array as its last argument. The fact that you can pass arguments as separate values in your source code is a syntax sugar.</p>\n<p>The problem with your code is that <code>i.getArgument(index)</code> returns each separate value - it does not group varargs into an array.</p>\n<p>This is combined with incorrect type inference - if you call\ngetSomething with i.getArgument(5), the compiler incorrect assumes that it needs to cast to String[], thus your code is equivalent to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>when(myRealService.getSomething(\n        anyString(),\n        anyString(),\n        any(Date.class),\n        anyString(),\n        anyString(),\n        any())\n).thenAnswer(i -&gt; {\n    String[] varargs = i.getArgument(5); // incorrect, Note that code works fine if you use String -&gt; the compiler knows that you are using varargs syntax\n    return myMockedService.getSomething(\n            i.getArgument(0),\n            i.getArgument(1),\n            i.getArgument(2),\n            i.getArgument(3),\n            i.getArgument(4),\n            varargs\n            );\n});\n</code></pre>\n<p>For example, it you call:</p>\n<pre><code>myRealService.getSomething(&quot;0&quot;, &quot;1&quot;, new Date(), &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;);\n</code></pre>\n<ul>\n<li>i.getArgument(5) is equal to &quot;5&quot;</li>\n<li>you cast this value to an array (BOOM, ClassCastException)</li>\n<li>you should be passing entire varagrs array instead</li>\n<li>you can easily copy the values corresponding to original varargs to  a new array (of type String[])</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>when(myRealService.getSomething(\n        anyString(),\n        anyString(),\n        any(Date.class),\n        anyString(),\n        anyString(),\n        any())\n).thenAnswer(i -&gt; {\n    String[] varargFromInvocation = Arrays.copyOfRange(i.getArguments(), 5, i.getArguments().length, String[].class);\n    return myMockedService.getSomething(\n            i.getArgument(0),\n            i.getArgument(1),\n            i.getArgument(2),\n            i.getArgument(3),\n            i.getArgument(4),\n            varargFromInvocation);\n});\n</code></pre>\n<p>Other thoughts:\nIf you only want to stub this one method, maybe you can:</p>\n<ul>\n<li>extend your real service</li>\n<li>override getSomething</li>\n<li>pass that to the algorithm</li>\n</ul>\n<p>Even better:</p>\n<ul>\n<li>extract SomethingRepository</li>\n<li>use DBSomethingRepository in prod</li>\n<li>use CVSSomethingRepository in test</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":285703,"reputation":2562,"user_id":584532,"accept_rate":79,"display_name":"nrainer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665739953,"creation_date":1665739953,"answer_id":74067226,"question_id":74040220,"body_markdown":"Regarding your issue with Mockito, you can also change the last `any()` parameter to `any(String[].class)` to fix your issue:\r\n\r\n```\r\nwhen(myRealService.getSomething(anyString(), anyString(), any(Date.class), anyString(), anyString(), any(String[].class)))\r\n  .thenAnswer(i -&gt; myMockedService.getSomethingUnitTest(i.getArgument(0), i.getArgument(1), i.getArgument(2), i.getArgument(3), i.getArgument(4), i.getArgument(5)));\r\n```\r\n\r\nThough, I agree with Lesiak that you should rethink the design of the classes.","title":"Mockito Varargs parameter when thenAnswer","body":"<p>Regarding your issue with Mockito, you can also change the last <code>any()</code> parameter to <code>any(String[].class)</code> to fix your issue:</p>\n<pre><code>when(myRealService.getSomething(anyString(), anyString(), any(Date.class), anyString(), anyString(), any(String[].class)))\n  .thenAnswer(i -&gt; myMockedService.getSomethingUnitTest(i.getArgument(0), i.getArgument(1), i.getArgument(2), i.getArgument(3), i.getArgument(4), i.getArgument(5)));\n</code></pre>\n<p>Though, I agree with Lesiak that you should rethink the design of the classes.</p>\n"}],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":805,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74040571,"answer_count":2,"score":0,"last_activity_date":1665739953,"creation_date":1665570002,"question_id":74040220,"body_markdown":"I don&#39;t understand why a Class Cast exception is thrown here:\r\n\r\nI have a method that takes as parameter a varargs of String\r\n\r\n    public List&lt;A&gt; getSomething(final String a, final String b, final Date c, final String d, final String e, final String... f) throws MyException {\r\n    \r\n       return valuesFromDB(a, b, c, d, e, f);\r\n    \r\n    }\r\n\r\nI have mocked the method implementation \r\n\r\n    public List&lt;A&gt; getSomethingUnitTest(final String a, final String b, final Date c, final String d, final String e, final String... f) throws MyException {\r\n    \r\n       return valuesFromCSV(a, b, c, d, e, f);\r\n    \r\n    }\r\n\r\non Unit Test using Mockito \r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class AlgoTest {\r\n    \r\n\t\t@Test\r\n    \tvoid testExecute() throws MyException {\r\n        \r\n\t\t\twhen(myRealService.getSomething(anyString(), anyString(), any(Date.class), anyString(), anyString(), any()))\r\n        \t\t.thenAnswer(i -&gt; myMockedService.getSomethingUnitTest(i.getArgument(0), i.getArgument(1), i.getArgument(2), i.getArgument(3), i.getArgument(4), i.getArgument(5)));\r\n    \r\n\t\t\tOutput output = algo.execute();\r\n\t\t\t\r\n\t\t\tassertNotNull(output);\r\n       \r\n        }\r\n    \r\n    }\r\n\r\nwhen I run the test a Class Cast Exception is thrown\r\n\r\n    java.lang.ClassCastException: class java.lang.String cannot be cast to class [Ljava.lang.String; (java.lang.String and [Ljava.lang.String; are in module java.base of loader &#39;bootstrap&#39;)\r\n\tat com.cmystuff.alghorithm.AlgoTest.lambda$2(AlgoTest.java:82)\r\n\tat org.mockito.internal.stubbing.StubbedInvocationMatcher.answer(StubbedInvocationMatcher.java:40)\r\n\tat org.mockito.internal.handler.MockHandlerImpl.handle(MockHandlerImpl.java:99)\r\n\tat org.mockito.internal.handler.NullResultGuardian.handle(NullResultGuardian.java:29)\r\n\tat org.mockito.internal.handler.InvocationNotifierHandler.handle(InvocationNotifierHandler.java:33)\r\n\tat org.mockito.internal.creation.bytebuddy.MockMethodInterceptor.doIntercept(MockMethodInterceptor.java:82)\r\n\tat org.mockito.internal.creation.bytebuddy.MockMethodInterceptor.doIntercept(MockMethodInterceptor.java:56)\r\n\tat org.mockito.internal.creation.bytebuddy.MockMethodInterceptor$DispatcherDefaultingToRealMethod.interceptSuperCallable(MockMethodInterceptor.java:141)\r\n\r\n\r\n\r\nany doucumentation:\r\n\r\n    &lt;String[]&gt; String[] org.mockito.ArgumentMatchers.any()\r\n    Matches anything, including nulls and varargs. \r\n\r\n\r\ngetArgument Documentation: \r\n\r\n    &lt;String[]&gt; String[] org.mockito.invocation.InvocationOnMock.getArgument(int index)\r\n    \r\n    Returns casted argument at the given index. Can lookup in expanded arguments form getArguments().\r\n    This method is preferred over getArgument(int, Class) for readability. \r\n    Please readthe documentation of getArgument(int, Class) for an overview of situations whenthat method is preferred over this one.\r\n\r\n\r\nI also tried to use anyString() but I got the same Class Cast Exception\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class AlgoTest {\r\n    \r\n\t\t@Test\r\n    \tvoid testExecute() throws MyException {\r\n        \r\n\t\t\twhen(myRealService.getSomething(anyString(), anyString(), any(Date.class), anyString(), anyString(), anyString()))\r\n        \t\t.thenAnswer(i -&gt; myMockedService.getSomethingUnitTest(i.getArgument(0), i.getArgument(1), i.getArgument(2), i.getArgument(3), i.getArgument(4), i.getArgument(5)));\r\n    \r\n\t\t\tOutput output = algo.execute();\r\n\t\t\t\r\n\t\t\tassertNotNull(output);\r\n       \r\n        }\r\n    \r\n    }\r\n\r\nThe issue seems to be related to varargs with one value...\r\nif I pass two values for the varargs parameter\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class AlgoTest {\r\n    \r\n\t\t@Test\r\n    \tvoid testExecute() throws MyException {\r\n        \r\n\t\t\twhen(myRealService.getSomething(anyString(), anyString(), any(Date.class), anyString(), anyString(), anyString(), anyString()))\r\n        \t\t.thenAnswer(i -&gt; myMockedService.getSomethingUnitTest(i.getArgument(0), i.getArgument(1), i.getArgument(2), i.getArgument(3), i.getArgument(4), i.getArgument(5), i.getArgument(6)));\r\n    \r\n\t\t\tOutput output = algo.execute();\r\n\t\t\t\r\n\t\t\tassertNotNull(output);\r\n       \r\n        }\r\n    \r\n    }\r\n\r\nthis one will work fine.","title":"Mockito Varargs parameter when thenAnswer","body":"<p>I don't understand why a Class Cast exception is thrown here:</p>\n<p>I have a method that takes as parameter a varargs of String</p>\n<pre><code>public List&lt;A&gt; getSomething(final String a, final String b, final Date c, final String d, final String e, final String... f) throws MyException {\n\n   return valuesFromDB(a, b, c, d, e, f);\n\n}\n</code></pre>\n<p>I have mocked the method implementation</p>\n<pre><code>public List&lt;A&gt; getSomethingUnitTest(final String a, final String b, final Date c, final String d, final String e, final String... f) throws MyException {\n\n   return valuesFromCSV(a, b, c, d, e, f);\n\n}\n</code></pre>\n<p>on Unit Test using Mockito</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass AlgoTest {\n\n    @Test\n    void testExecute() throws MyException {\n    \n        when(myRealService.getSomething(anyString(), anyString(), any(Date.class), anyString(), anyString(), any()))\n            .thenAnswer(i -&gt; myMockedService.getSomethingUnitTest(i.getArgument(0), i.getArgument(1), i.getArgument(2), i.getArgument(3), i.getArgument(4), i.getArgument(5)));\n\n        Output output = algo.execute();\n        \n        assertNotNull(output);\n   \n    }\n\n}\n</code></pre>\n<p>when I run the test a Class Cast Exception is thrown</p>\n<pre><code>java.lang.ClassCastException: class java.lang.String cannot be cast to class [Ljava.lang.String; (java.lang.String and [Ljava.lang.String; are in module java.base of loader 'bootstrap')\nat com.cmystuff.alghorithm.AlgoTest.lambda$2(AlgoTest.java:82)\nat org.mockito.internal.stubbing.StubbedInvocationMatcher.answer(StubbedInvocationMatcher.java:40)\nat org.mockito.internal.handler.MockHandlerImpl.handle(MockHandlerImpl.java:99)\nat org.mockito.internal.handler.NullResultGuardian.handle(NullResultGuardian.java:29)\nat org.mockito.internal.handler.InvocationNotifierHandler.handle(InvocationNotifierHandler.java:33)\nat org.mockito.internal.creation.bytebuddy.MockMethodInterceptor.doIntercept(MockMethodInterceptor.java:82)\nat org.mockito.internal.creation.bytebuddy.MockMethodInterceptor.doIntercept(MockMethodInterceptor.java:56)\nat org.mockito.internal.creation.bytebuddy.MockMethodInterceptor$DispatcherDefaultingToRealMethod.interceptSuperCallable(MockMethodInterceptor.java:141)\n</code></pre>\n<p>any doucumentation:</p>\n<pre><code>&lt;String[]&gt; String[] org.mockito.ArgumentMatchers.any()\nMatches anything, including nulls and varargs. \n</code></pre>\n<p>getArgument Documentation:</p>\n<pre><code>&lt;String[]&gt; String[] org.mockito.invocation.InvocationOnMock.getArgument(int index)\n\nReturns casted argument at the given index. Can lookup in expanded arguments form getArguments().\nThis method is preferred over getArgument(int, Class) for readability. \nPlease readthe documentation of getArgument(int, Class) for an overview of situations whenthat method is preferred over this one.\n</code></pre>\n<p>I also tried to use anyString() but I got the same Class Cast Exception</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass AlgoTest {\n\n    @Test\n    void testExecute() throws MyException {\n    \n        when(myRealService.getSomething(anyString(), anyString(), any(Date.class), anyString(), anyString(), anyString()))\n            .thenAnswer(i -&gt; myMockedService.getSomethingUnitTest(i.getArgument(0), i.getArgument(1), i.getArgument(2), i.getArgument(3), i.getArgument(4), i.getArgument(5)));\n\n        Output output = algo.execute();\n        \n        assertNotNull(output);\n   \n    }\n\n}\n</code></pre>\n<p>The issue seems to be related to varargs with one value...\nif I pass two values for the varargs parameter</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass AlgoTest {\n\n    @Test\n    void testExecute() throws MyException {\n    \n        when(myRealService.getSomething(anyString(), anyString(), any(Date.class), anyString(), anyString(), anyString(), anyString()))\n            .thenAnswer(i -&gt; myMockedService.getSomethingUnitTest(i.getArgument(0), i.getArgument(1), i.getArgument(2), i.getArgument(3), i.getArgument(4), i.getArgument(5), i.getArgument(6)));\n\n        Output output = algo.execute();\n        \n        assertNotNull(output);\n   \n    }\n\n}\n</code></pre>\n<p>this one will work fine.</p>\n"},{"tags":["java","html","selenium"],"answers":[{"tags":[],"owner":{"account_id":22039344,"reputation":1704,"user_id":16305340,"display_name":"abdo Salm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665739874,"creation_date":1665739874,"answer_id":74067204,"question_id":74067061,"body_markdown":"so I figured out what is the problem, the problem was in this line : \r\n\r\n    Thread.sleep(500);\r\n\r\nthe delay wasn&#39;t enough to get the text written back when clicked on the list, so I change it to :\r\n\r\n    Thread.sleep(1500);\r\n\r\nand it worked.\r\n\r\nalso I was supposed to use `.getAttribute(&quot;value&quot;);` instead of `.getText();` to Get the visible text (i.e. hidden by CSS)","title":"the getText() function in selenium with web element returns null string","body":"<p>so I figured out what is the problem, the problem was in this line :</p>\n<pre><code>Thread.sleep(500);\n</code></pre>\n<p>the delay wasn't enough to get the text written back when clicked on the list, so I change it to :</p>\n<pre><code>Thread.sleep(1500);\n</code></pre>\n<p>and it worked.</p>\n<p>also I was supposed to use <code>.getAttribute(&quot;value&quot;);</code> instead of <code>.getText();</code> to Get the visible text (i.e. hidden by CSS)</p>\n"}],"owner":{"account_id":22039344,"reputation":1704,"user_id":16305340,"display_name":"abdo Salm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665739874,"creation_date":1665739142,"question_id":74067061,"body_markdown":"so I am learning on [this website][1] to learn how to automate using selenium with Java.\r\n\r\nmy task was to enter **Ind** in the edit box called ***Suggession Class Example*** and then there will be a list that appears like in this image :\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI have to click on **India** and then check if the **editText** had the value **India** as supposed or not.\r\n\r\nI manage to do all of that except for one thing that I am facing right now, I can&#39;t extract the text in the **editText** back. every time I try to extract it using `.getText()` method, it returns **null string (&quot;&quot;)** although the visible text is **India**. I tried many thing like using `.getAttribute(&quot;value&quot;);` it returned **Ind**, I tried using `.getAttribute(&quot;innerText&quot;);` it returned **null string (&quot;&quot;)**. this is the HTML code of the part I want to extract its text:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n&lt;input type=&quot;text&quot; id=&quot;autocomplete&quot; class=&quot;inputs ui-autocomplete-input&quot; placeholder=&quot;Type to Select Countries&quot; autocomplete=&quot;off&quot;&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nas you see there is no attribute that I can use to get the text back.\r\n\r\nthis is my attempt so far:\r\n\r\n\timport java.util.List;\r\n\t\r\n\timport org.openqa.selenium.By;\r\n\timport org.openqa.selenium.WebDriver;\r\n\timport org.openqa.selenium.WebElement;\r\n\timport org.openqa.selenium.chrome.ChromeDriver;\r\n\timport org.openqa.selenium.interactions.Actions;\r\n\t\r\n\tpublic class Assignment8 {\r\n\t\r\n\t\tpublic static void main(String[] args) throws InterruptedException {\r\n\t\t\t// TODO Auto-generated method stub\r\n\t\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\chrome driver\\\\chromedriver.exe&quot;);\r\n\t\t\tWebDriver driver = new ChromeDriver();\r\n\t\t\tdriver.get(&quot;https://rahulshettyacademy.com/AutomationPractice/&quot;);\r\n\t\t\t\r\n\t\t\tWebElement editText = driver.findElement(By.xpath(&quot;//input[@id=&#39;autocomplete&#39;]&quot;));\r\n\t\t\teditText.sendKeys(&quot;Ind&quot;);\r\n\t\t\t\r\n\t\t\tThread.sleep(500);\r\n\t\t\tList&lt;WebElement&gt; suggested = driver.findElements(By.className(&quot;ui-menu-item&quot;));\r\n\t\t\tfor(WebElement e : suggested)\r\n\t\t\t\tif (e.getText().equalsIgnoreCase(&quot;India&quot;)) {\r\n\t\t\t\t\te.click();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\tThread.sleep(500);\r\n\t\r\n\t\t\tSystem.out.println(editText.getText());\r\n\t\t\tif(editText.getText().equalsIgnoreCase(&quot;India&quot;))\r\n\t\t\t\tSystem.out.println(&quot;Success&quot;);\r\n\t\t\telse\r\n\t\t\t\tSystem.out.println(&quot;Failed&quot;);\r\n\t\t\t\r\n\t\t}\r\n\t\r\n\t}\r\n\r\nand this is the output in the console:\r\n\r\n    Failed\r\n\r\neverything is done successfully like the clicking part, but my problem is extracting the text back of that **editText**, I don&#39;t have any prior knowledge in HTML, thought that someone could help me here.\r\n\r\n\r\n  [1]: https://rahulshettyacademy.com/AutomationPractice/\r\n  [2]: https://i.stack.imgur.com/NUzl9.png","title":"the getText() function in selenium with web element returns null string","body":"<p>so I am learning on <a href=\"https://rahulshettyacademy.com/AutomationPractice/\" rel=\"nofollow noreferrer\">this website</a> to learn how to automate using selenium with Java.</p>\n<p>my task was to enter <strong>Ind</strong> in the edit box called <em><strong>Suggession Class Example</strong></em> and then there will be a list that appears like in this image :</p>\n<p><a href=\"https://i.stack.imgur.com/NUzl9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NUzl9.png\" alt=\"enter image description here\" /></a></p>\n<p>I have to click on <strong>India</strong> and then check if the <strong>editText</strong> had the value <strong>India</strong> as supposed or not.</p>\n<p>I manage to do all of that except for one thing that I am facing right now, I can't extract the text in the <strong>editText</strong> back. every time I try to extract it using <code>.getText()</code> method, it returns <strong>null string (&quot;&quot;)</strong> although the visible text is <strong>India</strong>. I tried many thing like using <code>.getAttribute(&quot;value&quot;);</code> it returned <strong>Ind</strong>, I tried using <code>.getAttribute(&quot;innerText&quot;);</code> it returned <strong>null string (&quot;&quot;)</strong>. this is the HTML code of the part I want to extract its text:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input type=\"text\" id=\"autocomplete\" class=\"inputs ui-autocomplete-input\" placeholder=\"Type to Select Countries\" autocomplete=\"off\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>as you see there is no attribute that I can use to get the text back.</p>\n<p>this is my attempt so far:</p>\n<pre><code>import java.util.List;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.interactions.Actions;\n\npublic class Assignment8 {\n\n    public static void main(String[] args) throws InterruptedException {\n        // TODO Auto-generated method stub\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\chrome driver\\\\chromedriver.exe&quot;);\n        WebDriver driver = new ChromeDriver();\n        driver.get(&quot;https://rahulshettyacademy.com/AutomationPractice/&quot;);\n        \n        WebElement editText = driver.findElement(By.xpath(&quot;//input[@id='autocomplete']&quot;));\n        editText.sendKeys(&quot;Ind&quot;);\n        \n        Thread.sleep(500);\n        List&lt;WebElement&gt; suggested = driver.findElements(By.className(&quot;ui-menu-item&quot;));\n        for(WebElement e : suggested)\n            if (e.getText().equalsIgnoreCase(&quot;India&quot;)) {\n                e.click();\n                break;\n            }\n        Thread.sleep(500);\n\n        System.out.println(editText.getText());\n        if(editText.getText().equalsIgnoreCase(&quot;India&quot;))\n            System.out.println(&quot;Success&quot;);\n        else\n            System.out.println(&quot;Failed&quot;);\n        \n    }\n\n}\n</code></pre>\n<p>and this is the output in the console:</p>\n<pre><code>Failed\n</code></pre>\n<p>everything is done successfully like the clicking part, but my problem is extracting the text back of that <strong>editText</strong>, I don't have any prior knowledge in HTML, thought that someone could help me here.</p>\n"},{"tags":["java","hibernate","hibernate-tools"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665739715,"creation_date":1665739715,"answer_id":74067170,"question_id":74024909,"body_markdown":"Like I told you on [Discourse][1], it&#39;s not yet possible, but you can create a JIRA issue for this.\r\n\r\n\r\n  [1]: https://discourse.hibernate.org/t/hibernate-tools-is-it-possible-ignore-composite-id-in-table/6748","title":"Hibernate Tools - disable entity class generator for composite primary keys in table","body":"<p>Like I told you on <a href=\"https://discourse.hibernate.org/t/hibernate-tools-is-it-possible-ignore-composite-id-in-table/6748\" rel=\"nofollow noreferrer\">Discourse</a>, it's not yet possible, but you can create a JIRA issue for this.</p>\n"}],"owner":{"account_id":4995229,"reputation":71,"user_id":4016061,"accept_rate":0,"display_name":"Carlo Camusso"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665739715,"creation_date":1665475654,"question_id":74024909,"body_markdown":"Is it possible, with Hibernate Tools, to generate POJO files avoiding the generation of entity classes on tables with composite primary keys?\r\n\r\nI have this table with composite key:\r\n\r\n    CREATE TABLE `arc_test` (\r\n      `id` int(11) unsigned NOT NULL AUTO_INCREMENT,\r\n      `data` datetime DEFAULT NULL,\r\n      `text` varchar(255) DEFAULT NULL,\r\n      PRIMARY KEY (`id`,`data`)\r\n    ) ENGINE=InnoDB DEFAULT CHARSET=utf8;\r\n\r\nAnd this\r\n\r\n\r\n    &lt;hibernate-reverse-engineering&gt;  \r\n        &lt;table name=&quot;arc_test&quot; catalog=&quot;db&quot;&gt;\r\n            &lt;primary-key&gt;\r\n                &lt;generator class=&quot;native&quot;/&gt;\r\n            &lt;/primary-key&gt;       \r\n        &lt;/table&gt; \r\n    &lt;/hibernate-reverse-engineering&gt; \r\n\r\nHibernate Tools generated this two class:\r\n\r\n    public class ArcTest implements java.io.Serializable\r\n    {\r\n    \tprivate ArcTestId\tid;\r\n    \tprivate String\t\ttext;\r\n        .....\r\n        .....\r\n\r\n    public class ArcTestId implements java.io.Serializable\r\n    {\r\n    \tprivate Integer\tid;\r\n    \tprivate Date\tdata;\r\n            .....\r\n            .....\r\n\r\nbut I would like only one class like this:\r\n\r\n       public class ArcTest implements java.io.Serializable\r\n        {\r\n        \tprivate Integer\tid;\r\n        \tprivate Date\tdata;\r\n        \tprivate String\ttext;\r\n            .....\r\n            .....\r\n\r\n\r\n\r\nis it possible?\r\n","title":"Hibernate Tools - disable entity class generator for composite primary keys in table","body":"<p>Is it possible, with Hibernate Tools, to generate POJO files avoiding the generation of entity classes on tables with composite primary keys?</p>\n<p>I have this table with composite key:</p>\n<pre><code>CREATE TABLE `arc_test` (\n  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,\n  `data` datetime DEFAULT NULL,\n  `text` varchar(255) DEFAULT NULL,\n  PRIMARY KEY (`id`,`data`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n</code></pre>\n<p>And this</p>\n<pre><code>&lt;hibernate-reverse-engineering&gt;  \n    &lt;table name=&quot;arc_test&quot; catalog=&quot;db&quot;&gt;\n        &lt;primary-key&gt;\n            &lt;generator class=&quot;native&quot;/&gt;\n        &lt;/primary-key&gt;       \n    &lt;/table&gt; \n&lt;/hibernate-reverse-engineering&gt; \n</code></pre>\n<p>Hibernate Tools generated this two class:</p>\n<pre><code>public class ArcTest implements java.io.Serializable\n{\n    private ArcTestId   id;\n    private String      text;\n    .....\n    .....\n\npublic class ArcTestId implements java.io.Serializable\n{\n    private Integer id;\n    private Date    data;\n        .....\n        .....\n</code></pre>\n<p>but I would like only one class like this:</p>\n<pre><code>   public class ArcTest implements java.io.Serializable\n    {\n        private Integer id;\n        private Date    data;\n        private String  text;\n        .....\n        .....\n</code></pre>\n<p>is it possible?</p>\n"},{"tags":["java","multithreading","spring-boot","volatile"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1665739434,"post_id":74066109,"comment_id":130773402,"body_markdown":"Although the difference is curious, please note that absence of `volatile` does not guarantee or imply it keeps running, it is the exact opposite: it is the *presence* of `volatile` that guarantees the change will be seen and thus guarantees this will stop. You cannot and should not expect the opposite behaviour always occurs in the absence of `volatile`.","body":"Although the difference is curious, please note that absence of <code>volatile</code> does not guarantee or imply it keeps running, it is the exact opposite: it is the <i>presence</i> of <code>volatile</code> that guarantees the change will be seen and thus guarantees this will stop. You cannot and should not expect the opposite behaviour always occurs in the absence of <code>volatile</code>."},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1665739844,"post_id":74066109,"comment_id":130773535,"body_markdown":"I am getting similar result when using with or without spring boot. Spring boot version : 2.4.2, Java17.  Share your version of spring boot &amp; java which you are using here.","body":"I am getting similar result when using with or without spring boot. Spring boot version : 2.4.2, Java17.  Share your version of spring boot &amp; java which you are using here."}],"owner":{"account_id":22168632,"reputation":1,"user_id":16414431,"display_name":"sadlarry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665739162,"creation_date":1665734417,"question_id":74066109,"body_markdown":"When I test how volatile works. I write these codes in SpringBootApplication class and forget to delete @SpringBootApplication. as result, the threadA stops running when mainThread set test to true. However, it should be running without volatile added behind test. Why @SpringBootApplication makes the test visible like volatile does?\r\n\r\n```java\r\n@SpringBootApplication\r\npublic class FeignDemoApplication {\r\n    private static boolean test = false;\r\n    public static void main(String[] args) throws InterruptedException {\r\n        System.out.println(&quot;Thread-Main :&quot; + test);\r\n        Thread threadA = new Thread(() -&gt; {\r\n            while (!test) {\r\n            }\r\n            System.out.println(Thread.currentThread().getName() + &quot; :&quot; + test);\r\n        }, &quot;ThreadA&quot;);\r\n        threadA.start();\r\n        Thread.sleep(1000);\r\n        test = true;\r\n        System.out.println(&quot;main stop:&quot; + test);\r\n    }\r\n}\r\n```\r\nWith @SpringBootApplication the result is\r\n```none\r\nThread-Main :false\r\nmain stop:true\r\nThreadA :true\r\nProcess finished with exit code 0\r\n```\r\nwithout @SpringBootApplication :\r\n```none\r\nThread-Main :false\r\nmain stop:true\r\n```\r\nand keeps running","title":"Why @SpringBootApplication makes variables visible under multithreading environment","body":"<p>When I test how volatile works. I write these codes in SpringBootApplication class and forget to delete @SpringBootApplication. as result, the threadA stops running when mainThread set test to true. However, it should be running without volatile added behind test. Why @SpringBootApplication makes the test visible like volatile does?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class FeignDemoApplication {\n    private static boolean test = false;\n    public static void main(String[] args) throws InterruptedException {\n        System.out.println(&quot;Thread-Main :&quot; + test);\n        Thread threadA = new Thread(() -&gt; {\n            while (!test) {\n            }\n            System.out.println(Thread.currentThread().getName() + &quot; :&quot; + test);\n        }, &quot;ThreadA&quot;);\n        threadA.start();\n        Thread.sleep(1000);\n        test = true;\n        System.out.println(&quot;main stop:&quot; + test);\n    }\n}\n</code></pre>\n<p>With @SpringBootApplication the result is</p>\n<pre class=\"lang-none prettyprint-override\"><code>Thread-Main :false\nmain stop:true\nThreadA :true\nProcess finished with exit code 0\n</code></pre>\n<p>without @SpringBootApplication :</p>\n<pre class=\"lang-none prettyprint-override\"><code>Thread-Main :false\nmain stop:true\n</code></pre>\n<p>and keeps running</p>\n"},{"tags":["java","spring","spring-boot","docker"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1665736963,"post_id":74066546,"comment_id":130772609,"body_markdown":"Please show the relevant parts of your pom.xml. Also how did you generate the jar?","body":"Please show the relevant parts of your pom.xml. Also how did you generate the jar?"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1665737519,"post_id":74066546,"comment_id":130772811,"body_markdown":"How did you create the JAR? You must use mvn package","body":"How did you create the JAR? You must use mvn package"},{"owner":{"account_id":22712634,"reputation":334,"user_id":16878379,"display_name":"Louis Chopard"},"score":0,"creation_date":1665738048,"post_id":74066546,"comment_id":130772977,"body_markdown":"I followed [this](https://www.jetbrains.com/help/idea/compiling-applications.html#package_into_jar) to generate the jar","body":"I followed <a href=\"https://www.jetbrains.com/help/idea/compiling-applications.html#package_into_jar\" rel=\"nofollow noreferrer\">this</a> to generate the jar"},{"owner":{"account_id":550722,"reputation":4460,"user_id":906265,"display_name":"Ivar"},"score":1,"creation_date":1665739282,"post_id":74066546,"comment_id":130773348,"body_markdown":"Using IDE complicates things, instead build on command line first, e.g. `mvn clean package`. For that to succeed you need proper plugins in place. Docker has nothing to do with your error.","body":"Using IDE complicates things, instead build on command line first, e.g. <code>mvn clean package</code>. For that to succeed you need proper plugins in place. Docker has nothing to do with your error."}],"answers":[{"tags":[],"owner":{"account_id":22712634,"reputation":334,"user_id":16878379,"display_name":"Louis Chopard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665739047,"creation_date":1665739047,"answer_id":74067039,"question_id":74066546,"body_markdown":"I used `mvn package` and it worked !\r\n\r\nThanks to @SimonMartinelli.","title":"Why do I get the error &#39;Error: Could not find or load main class&#39; when I try to create a docker image using a .JAR","body":"<p>I used <code>mvn package</code> and it worked !</p>\n<p>Thanks to @SimonMartinelli.</p>\n"}],"owner":{"account_id":22712634,"reputation":334,"user_id":16878379,"display_name":"Louis Chopard"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74067039,"answer_count":1,"score":0,"last_activity_date":1665739047,"creation_date":1665736697,"question_id":74066546,"body_markdown":"I&#39;m trying to create an image from my Spring Boot project and I want to create a Dockerfile, that can create an image of my project.\r\n\r\nAfter a few Google searches, I came across this tutorial from the official documentation. \r\n\r\nSo I tried to create a file based on it and this is what I got:\r\n\r\n\r\n\r\n```\r\nFROM openjdk:17-jdk-alpine\r\nCOPY out/artifacts/DWH_WebServices_jar/DWH_WebServices.jar app.jar\r\nEXPOSE 8080\r\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app.jar&quot;]\r\n```\r\n\r\nBut when running the DockerFile with Intellij, I get this error:\r\n\r\n```\r\nError: Could not find or load main class com.business.dwh_webservices.DwhWebServicesApplication\r\nCaused by: java.lang.ClassNotFoundException: com.business.dwh_webservices.DwhWebServicesApplication\r\n```` \r\n\r\nSo I thought that maybe I was misinforming my class when creating the .JAR, but I did it correctly :\r\n\r\n[![enter image description here][1]][1]\r\n\r\nMy class exist as you can see here :\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAnd here is my `pom.xml` :\r\n\r\n```\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.0&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.business&lt;/groupId&gt;\r\n    &lt;artifactId&gt;dwh-webservices&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;DWH_WebServices&lt;/name&gt;\r\n    &lt;description&gt;DWH_WebServices&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;version&gt;RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;version&gt;RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.28&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.javassist&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n            &lt;version&gt;3.25.0-GA&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;6.2.2.jre8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n            &lt;version&gt;31.0.1-jre&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nWhat am I doing wrong ? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RyGwI.png\r\n  [2]: https://i.stack.imgur.com/NRoQ4.png","title":"Why do I get the error &#39;Error: Could not find or load main class&#39; when I try to create a docker image using a .JAR","body":"<p>I'm trying to create an image from my Spring Boot project and I want to create a Dockerfile, that can create an image of my project.</p>\n<p>After a few Google searches, I came across this tutorial from the official documentation.</p>\n<p>So I tried to create a file based on it and this is what I got:</p>\n<pre><code>FROM openjdk:17-jdk-alpine\nCOPY out/artifacts/DWH_WebServices_jar/DWH_WebServices.jar app.jar\nEXPOSE 8080\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app.jar&quot;]\n</code></pre>\n<p>But when running the DockerFile with Intellij, I get this error:</p>\n<pre><code>Error: Could not find or load main class com.business.dwh_webservices.DwhWebServicesApplication\nCaused by: java.lang.ClassNotFoundException: com.business.dwh_webservices.DwhWebServicesApplication\n</code></pre>\n<p>So I thought that maybe I was misinforming my class when creating the .JAR, but I did it correctly :</p>\n<p><a href=\"https://i.stack.imgur.com/RyGwI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RyGwI.png\" alt=\"enter image description here\" /></a></p>\n<p>My class exist as you can see here :</p>\n<p><a href=\"https://i.stack.imgur.com/NRoQ4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NRoQ4.png\" alt=\"enter image description here\" /></a></p>\n<p>And here is my <code>pom.xml</code> :</p>\n<pre><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.business&lt;/groupId&gt;\n    &lt;artifactId&gt;dwh-webservices&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;DWH_WebServices&lt;/name&gt;\n    &lt;description&gt;DWH_WebServices&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.28&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.javassist&lt;/groupId&gt;\n            &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n            &lt;version&gt;3.25.0-GA&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;6.2.2.jre8&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;31.0.1-jre&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>What am I doing wrong ?</p>\n"},{"tags":["java","apache-calcite"],"answers":[{"tags":[],"owner":{"account_id":26577857,"reputation":1,"user_id":20202931,"display_name":"qqqq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665739004,"creation_date":1665739004,"answer_id":74067030,"question_id":74012216,"body_markdown":"new a class like this:\r\n\r\n    public class CustomFun extends ReflectiveSqlOperatorTable {\r\n    private static CustomFun instance;\r\n\r\n    public static CustomFun instance() {\r\n        if (instance == null) {\r\n            // Creates and initializes the standard operator table.\r\n            // Uses two-phase construction, because we can&#39;t initialize the\r\n            // table until the constructor of the sub-class has completed.\r\n            instance = new CustomFun();\r\n            instance.init();\r\n        }\r\n        return instance;\r\n    }\r\n\r\n    public static final SqlSpecialOperator ROW_NUMBER_OVER =\r\n            new SqlSpecialOperator(\r\n                    &quot;ROW_NUMBER() OVER&quot;,\r\n                    SqlKind.OTHER_FUNCTION,\r\n                    0,\r\n                    true,\r\n                    ReturnTypes.BIGINT,\r\n                    null,\r\n                    OperandTypes.STRING) {\r\n                public void unparse(\r\n                        SqlWriter writer,\r\n                        SqlCall call,\r\n                        int leftPrec,\r\n                        int rightPrec) {\r\n                    writer.print(&quot;ROW_NUMBER() OVER(ORDER BY &quot;+call.getOperandList().get(0).toSqlString(DefaultDIalect.DEFAULT).toString()+&quot;)&quot;);\r\n                }\r\n            };}\r\n\r\nthen use it:\r\n\r\n    SqlNode sqlNode = new SqlIdentifier(&quot;orderno&quot;, SqlParserPos.ZERO);\r\n        selectList.add(IndentifierUtil.as(new SqlBasicCall(CustomFun.ROW_NUMBER_OVER, new SqlNode[]{sqlNode}, SqlParserPos.ZERO), &quot;prod_line_id&quot;));","title":"how to use Apache calcite to create rexwindow","body":"<p>new a class like this:</p>\n<pre><code>public class CustomFun extends ReflectiveSqlOperatorTable {\nprivate static CustomFun instance;\n\npublic static CustomFun instance() {\n    if (instance == null) {\n        // Creates and initializes the standard operator table.\n        // Uses two-phase construction, because we can't initialize the\n        // table until the constructor of the sub-class has completed.\n        instance = new CustomFun();\n        instance.init();\n    }\n    return instance;\n}\n\npublic static final SqlSpecialOperator ROW_NUMBER_OVER =\n        new SqlSpecialOperator(\n                &quot;ROW_NUMBER() OVER&quot;,\n                SqlKind.OTHER_FUNCTION,\n                0,\n                true,\n                ReturnTypes.BIGINT,\n                null,\n                OperandTypes.STRING) {\n            public void unparse(\n                    SqlWriter writer,\n                    SqlCall call,\n                    int leftPrec,\n                    int rightPrec) {\n                writer.print(&quot;ROW_NUMBER() OVER(ORDER BY &quot;+call.getOperandList().get(0).toSqlString(DefaultDIalect.DEFAULT).toString()+&quot;)&quot;);\n            }\n        };}\n</code></pre>\n<p>then use it:</p>\n<pre><code>SqlNode sqlNode = new SqlIdentifier(&quot;orderno&quot;, SqlParserPos.ZERO);\n    selectList.add(IndentifierUtil.as(new SqlBasicCall(CustomFun.ROW_NUMBER_OVER, new SqlNode[]{sqlNode}, SqlParserPos.ZERO), &quot;prod_line_id&quot;));\n</code></pre>\n"}],"owner":{"account_id":26577857,"reputation":1,"user_id":20202931,"display_name":"qqqq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1665739004,"creation_date":1665391225,"question_id":74012216,"body_markdown":"I would like to create a SQL like this:\r\n\r\n    select ROW_NUMBER() over(order by orderno) as id from process\r\n\r\nthen I try to use &quot;**SqlSelect**&quot; to create parse tree, but I  don&#39;t konw how to create function &quot;**ROW_NUMBER() over(order by orderno)**&quot;. Maybe I should use &quot;**RexWindow**&quot; to create window aggregation? Can you please give some examples to me, thanks.\r\n","title":"how to use Apache calcite to create rexwindow","body":"<p>I would like to create a SQL like this:</p>\n<pre><code>select ROW_NUMBER() over(order by orderno) as id from process\n</code></pre>\n<p>then I try to use &quot;<strong>SqlSelect</strong>&quot; to create parse tree, but I  don't konw how to create function &quot;<strong>ROW_NUMBER() over(order by orderno)</strong>&quot;. Maybe I should use &quot;<strong>RexWindow</strong>&quot; to create window aggregation? Can you please give some examples to me, thanks.</p>\n"},{"tags":["java","jaxb","inputstream"],"comments":[{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1665739280,"post_id":74067029,"comment_id":130773347,"body_markdown":"Does this answer your question? [JAXB : unmarshalexception - with linked exception: \\[java.io.IOException: Stream closed\\]](https://stackoverflow.com/questions/22900440/jaxb-unmarshalexception-with-linked-exception-java-io-ioexception-stream)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/22900440/jaxb-unmarshalexception-with-linked-exception-java-io-ioexception-stream\">JAXB : unmarshalexception - with linked exception: &#91;java.io.IOException: Stream closed&#93;</a>"},{"owner":{"account_id":14639680,"reputation":1,"user_id":10572646,"display_name":"Pranav"},"score":0,"creation_date":1665761819,"post_id":74067029,"comment_id":130781119,"body_markdown":"No this doesn&#39;t work","body":"No this doesn&#39;t work"}],"owner":{"account_id":14639680,"reputation":1,"user_id":10572646,"display_name":"Pranav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665739000,"creation_date":1665739000,"question_id":74067029,"body_markdown":"We have an input stream which we pass it to the JAXB Unmarshaller\r\n\r\n    String file = &quot;com.package.mapping.xml&quot;\r\n    InputStream inputStream = Properties.getConnection().read(file).getInputStream();\r\n    Unmarshaller unMarshaller = JAXBContext.newInstance(SpacesMapping.class).createUnmarshaller();\r\n            return (SpacesMapping) unMarshaller.unmarshal(inputStream);\r\n\r\nThis return you a Jaxb object but also it throws a JAXB UnmarshalException linked with java.io.IOException: stream is closed.\r\n\r\nCould you help me out ","title":"JAXB UnmarshalException linked with java.io.IOException: stream is closed","body":"<p>We have an input stream which we pass it to the JAXB Unmarshaller</p>\n<pre><code>String file = &quot;com.package.mapping.xml&quot;\nInputStream inputStream = Properties.getConnection().read(file).getInputStream();\nUnmarshaller unMarshaller = JAXBContext.newInstance(SpacesMapping.class).createUnmarshaller();\n        return (SpacesMapping) unMarshaller.unmarshal(inputStream);\n</code></pre>\n<p>This return you a Jaxb object but also it throws a JAXB UnmarshalException linked with java.io.IOException: stream is closed.</p>\n<p>Could you help me out</p>\n"},{"tags":["java","spring","spring-boot","design-patterns","interface"],"comments":[{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1665733788,"post_id":74065881,"comment_id":130771711,"body_markdown":"you can use `Factory Design Pattern` for defining multiple connection types.","body":"you can use <code>Factory Design Pattern</code> for defining multiple connection types."}],"answers":[{"tags":[],"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665738522,"creation_date":1665735746,"answer_id":74066368,"question_id":74065881,"body_markdown":"It looks like this is a place where [Strategy pattern][1] can be used:\r\n\r\n&gt; Strategy pattern is a behavioral software design pattern that enables\r\n&gt; selecting an algorithm at runtime. Instead of implementing a single\r\n&gt; algorithm directly, code receives run-time instructions as to which in\r\n&gt; a family of algorithms to use.\r\n\r\n\r\nLet me show an example via C#. I am sorry I am not Java guy, however I provided comments about how code could look in Java.\r\n\r\nWe need to have some common behaviour that will be shared across all strategies. In our case, it would be just one `Get()` method from different data providers:\r\n\r\n\tpublic interface IDataProvider\r\n\t{\r\n\t\tstring Get();\r\n\t}\r\n\r\nAnd its concrete implementations. These are exchangeable strategies:\r\n\r\n\tpublic class RabbitMQDataProvider : IDataProvider // implements in Java\r\n\t{\r\n\t\tpublic string Get()\r\n\t\t{\r\n\t\t\treturn &quot;I am RabbitMQDataProvider&quot;;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic class RestDataProvider : IDataProvider // implements in Java\r\n\t{\r\n\t\tpublic string Get()\r\n\t\t{\r\n\t\t\treturn &quot;I am RestDataProvider&quot;;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic class GrpcDataProvider : IDataProvider // implements in Java\r\n\t{\r\n\t\tpublic string Get()\r\n\t\t{\r\n\t\t\treturn &quot;I am GrpcDataProvider&quot;;\r\n\t\t}\r\n\t}\r\n\r\n\r\nWe need a place where all strategies can be stored. And we should be able to get necessary strategy from this store. So this is a place where simple factory can be used. Simple factory is not [Factory method pattern][4] and not [Abstract factory][5].\r\n\r\n    public enum DataProviderType\r\n\t{\r\n\t\tRabbitMq, Rest, Grpc\r\n\t}\r\n\r\n\tpublic class DataProviderFactory\r\n\t{\r\n\t\tprivate Dictionary&lt;DataProviderType, IDataProvider&gt; _dataProviderByType\r\n\t\t\t= new Dictionary&lt;DataProviderType, IDataProvider&gt;()\r\n\t\t\t{\r\n\t\t\t\t{ DataProviderType.RabbitMq, new RabbitMQDataProvider() },\r\n\t\t\t\t{ DataProviderType.Rest, new RestDataProvider() },\r\n\t\t\t\t{ DataProviderType.Grpc, new GrpcDataProvider() },\r\n\t\t\t};\r\n\r\n\t\tpublic IDataProvider GetInstanceByType(DataProviderType dataProviderType) =&gt;\r\n\t\t\t_dataProviderByType[dataProviderType];\r\n\t}\r\n\r\nand then you can get instance of desired storage easier:\r\n\r\n\tDataProviderFactory dataProviderFactory = new();\r\n\tIDataProvider dataProvider = dataProviderFactory\r\n        .GetInstanceByType(DataProviderType.Grpc);\r\n\tstring data = dataProvider.Get();\r\n\r\nThis design is compliant with the [open/closed principle][2].\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Strategy_pattern\r\n  [2]: https://softwareengineering.stackexchange.com/questions/19627/clarify-the-open-closed-principle\r\n  [3]: https://stackoverflow.com/users/941240/wiktor-zychla\r\n  [4]: https://en.wikipedia.org/wiki/Factory_method_pattern\r\n  [5]: https://en.wikipedia.org/wiki/Abstract_factory_pattern\r\n\r\n  \r\n  ","title":"SOLID IoC based on configuration in Spring Boot","body":"<p>It looks like this is a place where <a href=\"https://en.wikipedia.org/wiki/Strategy_pattern\" rel=\"nofollow noreferrer\">Strategy pattern</a> can be used:</p>\n<blockquote>\n<p>Strategy pattern is a behavioral software design pattern that enables\nselecting an algorithm at runtime. Instead of implementing a single\nalgorithm directly, code receives run-time instructions as to which in\na family of algorithms to use.</p>\n</blockquote>\n<p>Let me show an example via C#. I am sorry I am not Java guy, however I provided comments about how code could look in Java.</p>\n<p>We need to have some common behaviour that will be shared across all strategies. In our case, it would be just one <code>Get()</code> method from different data providers:</p>\n<pre><code>public interface IDataProvider\n{\n    string Get();\n}\n</code></pre>\n<p>And its concrete implementations. These are exchangeable strategies:</p>\n<pre><code>public class RabbitMQDataProvider : IDataProvider // implements in Java\n{\n    public string Get()\n    {\n        return &quot;I am RabbitMQDataProvider&quot;;\n    }\n}\n\npublic class RestDataProvider : IDataProvider // implements in Java\n{\n    public string Get()\n    {\n        return &quot;I am RestDataProvider&quot;;\n    }\n}\n\npublic class GrpcDataProvider : IDataProvider // implements in Java\n{\n    public string Get()\n    {\n        return &quot;I am GrpcDataProvider&quot;;\n    }\n}\n</code></pre>\n<p>We need a place where all strategies can be stored. And we should be able to get necessary strategy from this store. So this is a place where simple factory can be used. Simple factory is not <a href=\"https://en.wikipedia.org/wiki/Factory_method_pattern\" rel=\"nofollow noreferrer\">Factory method pattern</a> and not <a href=\"https://en.wikipedia.org/wiki/Abstract_factory_pattern\" rel=\"nofollow noreferrer\">Abstract factory</a>.</p>\n<pre><code>public enum DataProviderType\n{\n    RabbitMq, Rest, Grpc\n}\n\npublic class DataProviderFactory\n{\n    private Dictionary&lt;DataProviderType, IDataProvider&gt; _dataProviderByType\n        = new Dictionary&lt;DataProviderType, IDataProvider&gt;()\n        {\n            { DataProviderType.RabbitMq, new RabbitMQDataProvider() },\n            { DataProviderType.Rest, new RestDataProvider() },\n            { DataProviderType.Grpc, new GrpcDataProvider() },\n        };\n\n    public IDataProvider GetInstanceByType(DataProviderType dataProviderType) =&gt;\n        _dataProviderByType[dataProviderType];\n}\n</code></pre>\n<p>and then you can get instance of desired storage easier:</p>\n<pre><code>DataProviderFactory dataProviderFactory = new();\nIDataProvider dataProvider = dataProviderFactory\n    .GetInstanceByType(DataProviderType.Grpc);\nstring data = dataProvider.Get();\n</code></pre>\n<p>This design is compliant with the <a href=\"https://softwareengineering.stackexchange.com/questions/19627/clarify-the-open-closed-principle\">open/closed principle</a>.</p>\n"}],"owner":{"account_id":17112293,"reputation":77,"user_id":12382751,"display_name":"Spirotrack"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74066368,"answer_count":1,"score":2,"last_activity_date":1665738522,"creation_date":1665733138,"question_id":74065881,"body_markdown":"I would like to have a collection of connections (REST, gRPC, RabbitMQ) for one or more different types of services. For example, with this configuration:\r\n\r\n``` lang-yml\r\nconnections:\r\n  http:\r\n    - name: connectionA\r\n\t  host: localhost\r\n\t  port: 8081\r\n\t  endpoints:\r\n\t    - name: employees\r\n\t\t  httpMethod: GET\r\n\t\t  endpointType: EMPLOYEE\r\n\t\t- name: departments\r\n\t\t  httpMethod: POST\r\n\t\t  endpointType: DEPARTMENT\r\n  grpc:\r\n    - name: connectionB\r\n      host: localhost\r\n\t  port: 8084\r\n\t  disableTls: true\r\n      endpoints:\r\n        - name: employees\r\n          endpointType: EMPLOYEE\r\n```\r\n\r\nWhen using the EmployeeService I would have an EmployeeHttpClient and an EmployeeGrpcClient, as well as a DepartmentHttpClient in the DepartmentService. Those clients would have the concrete implementation using the specific connection details, but the service shouldn&#39;t care about that. \r\n\r\nWhat do you think about this approach? \r\n\r\nWhat would be the correct way of doing it in Spring Boot? ","title":"SOLID IoC based on configuration in Spring Boot","body":"<p>I would like to have a collection of connections (REST, gRPC, RabbitMQ) for one or more different types of services. For example, with this configuration:</p>\n<pre class=\"lang-yml prettyprint-override\"><code>connections:\n  http:\n    - name: connectionA\n      host: localhost\n      port: 8081\n      endpoints:\n        - name: employees\n          httpMethod: GET\n          endpointType: EMPLOYEE\n        - name: departments\n          httpMethod: POST\n          endpointType: DEPARTMENT\n  grpc:\n    - name: connectionB\n      host: localhost\n      port: 8084\n      disableTls: true\n      endpoints:\n        - name: employees\n          endpointType: EMPLOYEE\n</code></pre>\n<p>When using the EmployeeService I would have an EmployeeHttpClient and an EmployeeGrpcClient, as well as a DepartmentHttpClient in the DepartmentService. Those clients would have the concrete implementation using the specific connection details, but the service shouldn't care about that.</p>\n<p>What do you think about this approach?</p>\n<p>What would be the correct way of doing it in Spring Boot?</p>\n"},{"tags":["java","spring","dependency-injection","constructor","inversion-of-control"],"answers":[{"tags":[],"owner":{"account_id":25719058,"reputation":407,"user_id":19476294,"display_name":"Sumit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665736013,"creation_date":1665736013,"answer_id":74066412,"question_id":74066377,"body_markdown":"When you are doing constructor injection . You do not even have to write @Autowired. Spring automatically looks for bean and inject it . If you remove the autowired from above . It will still work ","title":"Spring - different forms of constructor injection?","body":"<p>When you are doing constructor injection . You do not even have to write @Autowired. Spring automatically looks for bean and inject it . If you remove the autowired from above . It will still work</p>\n"},{"tags":[],"owner":{"account_id":26552100,"reputation":470,"user_id":20181249,"display_name":"Sandeep Kumar Nat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665737783,"creation_date":1665737202,"answer_id":74066658,"question_id":74066377,"body_markdown":"You can use Constructor injections as below this is considered as the better practice\r\n\r\n    @Component\r\n    public class MyService {\r\n    \r\n        private final MyRepository myRepository;\r\n    \r\n        @Autowired\r\n        public MyService(MyRepository myRepository) {\r\n            this.myRepository = myRepository;\r\n            }\r\n            \r\n            //rest of code\r\n    }\r\n\r\nbut there is no difference in both forms of constructor injection. and one thing more \r\nyou don&#39;t have to declare the object in constructor injection as you can do it like this in spring boot:\r\n\r\n \r\n\r\n     @Component\r\n     public class MyService {\r\n    \r\n        @Autowired\r\n        public MyService(MyRepository myRepository) {\r\n            this.myRepository = myRepository;\r\n            }\r\n            \r\n            //rest of code\r\n    }\r\n\r\nor don&#39;t use autowired because the constructor will auto wire automatically like this-\r\n\r\n    @Component\r\n    public class MyService {\r\n    \r\n        private final MyRepository myRepository;\r\n    \r\n        //autowire by constructor\r\n        public MyService(MyRepository myRepository) {\r\n            this.myRepository = myRepository;\r\n            }\r\n            \r\n            //rest of code\r\n    }\r\n\r\nIn the below form it does not require Autowired, it will work though, but it doesn&#39;t mean anything. The best practice is you use constructor injection as above forms.\r\n\r\n    @Component\r\n    public class MyService {\r\n    \r\n        private final MyRepository myRepository;\r\n    \r\n        public MyService(@Autowired MyRepository myRepository) {\r\n            this.myRepository = myRepository;\r\n            }\r\n            \r\n            //rest of code\r\n    }\r\n\r\n","title":"Spring - different forms of constructor injection?","body":"<p>You can use Constructor injections as below this is considered as the better practice</p>\n<pre><code>@Component\npublic class MyService {\n\n    private final MyRepository myRepository;\n\n    @Autowired\n    public MyService(MyRepository myRepository) {\n        this.myRepository = myRepository;\n        }\n        \n        //rest of code\n}\n</code></pre>\n<p>but there is no difference in both forms of constructor injection. and one thing more\nyou don't have to declare the object in constructor injection as you can do it like this in spring boot:</p>\n<pre><code> @Component\n public class MyService {\n\n    @Autowired\n    public MyService(MyRepository myRepository) {\n        this.myRepository = myRepository;\n        }\n        \n        //rest of code\n}\n</code></pre>\n<p>or don't use autowired because the constructor will auto wire automatically like this-</p>\n<pre><code>@Component\npublic class MyService {\n\n    private final MyRepository myRepository;\n\n    //autowire by constructor\n    public MyService(MyRepository myRepository) {\n        this.myRepository = myRepository;\n        }\n        \n        //rest of code\n}\n</code></pre>\n<p>In the below form it does not require Autowired, it will work though, but it doesn't mean anything. The best practice is you use constructor injection as above forms.</p>\n<pre><code>@Component\npublic class MyService {\n\n    private final MyRepository myRepository;\n\n    public MyService(@Autowired MyRepository myRepository) {\n        this.myRepository = myRepository;\n        }\n        \n        //rest of code\n}\n</code></pre>\n"}],"owner":{"account_id":16962007,"reputation":1665,"user_id":12268910,"display_name":"java12399900"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":489,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74066658,"answer_count":2,"score":0,"last_activity_date":1665737783,"creation_date":1665735814,"question_id":74066377,"body_markdown":"What are the differences between the following types of `Constructor injection` in `Spring`?\r\n\r\n    @Component\r\n    public class MyService {\r\n    \r\n        private final MyRepository myRepository;\r\n    \r\n        public MyService(@Autowired MyRepository myRepository) {\r\n            this.myRepository = myRepository;\r\n            }\r\n            \r\n            //rest of code\r\n    }\r\n\r\nand\r\n\r\n    @Component\r\n    public class MyService {\r\n    \r\n        private final MyRepository myRepository;\r\n    \r\n    \t@Autowired\r\n        public MyService(MyRepository myRepository) {\r\n            this.myRepository = myRepository;\r\n            }\r\n            \r\n            //rest of code\r\n    }\r\n\r\nAlso - which one is better practice?\r\n","title":"Spring - different forms of constructor injection?","body":"<p>What are the differences between the following types of <code>Constructor injection</code> in <code>Spring</code>?</p>\n<pre><code>@Component\npublic class MyService {\n\n    private final MyRepository myRepository;\n\n    public MyService(@Autowired MyRepository myRepository) {\n        this.myRepository = myRepository;\n        }\n        \n        //rest of code\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Component\npublic class MyService {\n\n    private final MyRepository myRepository;\n\n    @Autowired\n    public MyService(MyRepository myRepository) {\n        this.myRepository = myRepository;\n        }\n        \n        //rest of code\n}\n</code></pre>\n<p>Also - which one is better practice?</p>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":4,"creation_date":1665735501,"post_id":74066283,"comment_id":130772168,"body_markdown":"You never actually write anything into `ret` - you just repeatedly create new arrays filled with default values","body":"You never actually write anything into <code>ret</code> - you just repeatedly create new arrays filled with default values"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1665737282,"post_id":74066283,"comment_id":130772720,"body_markdown":"At some point you need to have `ret[index] = character`, where the `index` and `character` change each recursive call, and you need to use the same `char[]` _instance_ throughout the recursion. Currently you don&#39;t do the former and you&#39;re creating a _new array_ every recursive call.","body":"At some point you need to have <code>ret[index] = character</code>, where the <code>index</code> and <code>character</code> change each recursive call, and you need to use the same <code>char[]</code> <i>instance</i> throughout the recursion. Currently you don&#39;t do the former and you&#39;re creating a <i>new array</i> every recursive call."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1665737526,"post_id":74066283,"comment_id":130772814,"body_markdown":"maybe returning a string and concatenating with the character would be easier... `return S + alphabets(character);` || please stick to the java naming convention (e.g. variable and parameters start with lowercase letter)","body":"maybe returning a string and concatenating with the character would be easier... <code>return S + alphabets(character);</code> || please stick to the java naming convention (e.g. variable and parameters start with lowercase letter)"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1665738103,"post_id":74066283,"comment_id":130772997,"body_markdown":"BTW you do not need that lot of variables - it is valid to do `if (S &lt; &#39;Z&#39;)` or even `S += 1` (or `alphabets((char)(S+1))` - cast needed since integer (binary) operations result in `int` if no `long` is involved)","body":"BTW you do not need that lot of variables - it is valid to do <code>if (S &lt; &#39;Z&#39;)</code> or even <code>S += 1</code> (or <code>alphabets((char)(S+1))</code> - cast needed since integer (binary) operations result in <code>int</code> if no <code>long</code> is involved)"}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665737783,"creation_date":1665737783,"answer_id":74066765,"question_id":74066283,"body_markdown":"Let&#39;s analyze your code. Let&#39;s start with the **last** invocation of method `alphabets`. The value of the method parameter, i.e. `S`, will be *[* (which is the character after *Z* in the ASCII table), hence the `if` condition will be false, hence the method will return an array of 26 elements where each element is the null character, i.e. a character whose ASCII code is zero &amp;ndash; because in this line of code:\r\n```java\r\nchar[] ret = new char[26];\r\n```\r\nJava will implicitly initialize each array element to zero.\r\n\r\nSo the last invocation returns an array of null characters to the second last invocation, which is this line of code:\r\n```java\r\nret = alphabets(character);\r\n```\r\nAnd therefore the second last invocation also returns an array of null characters &amp;ndash; and so on until you return to the first invocation which returns the array of null characters in this line of your code:\r\n```java\r\nchar[] alphabet = alphabets(&#39;A&#39;);\r\n```\r\nSo when you print the contents of `alphabet`, it prints what appears to be 26 empty lines. Actually it is printing 26 lines where each line displays a single, null character. If you change the `for` loop to the following, it will print 26 zeroes.\r\n```java\r\nfor (char c :alphabet) {\r\n    System.out.println((int) c);\r\n}\r\n```\r\nYou need to make the array one of the parameters of method `alphabets` and in the body of method `alphabets` you assign a value to an element of that array. Actually, I suggest using a `List` rather than an array because a `List`, unlike an array, does not have a fixed size and you cannot know, before-hand, how many letters will be added to the `List`. If your initial invocation is changed to:\r\n```java\r\nchar[] alphabet = alphabets(&#39;Y&#39;);\r\n```\r\nthen how many letters should be returned? Not 26, right?\r\n\r\nHere is my rewrite of your code:  \r\n(Note that `char` is a primitive and you cannot have a `List` of primitives.)\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Recursion_Maharaj {\r\n    private static void getLetters(List&lt;Character&gt; letters, char letter) {\r\n        if (letter &lt;= &#39;Z&#39;) {\r\n            letters.add(letter);\r\n            getLetters(letters, (char) (letter + 1));\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Recursion...&quot;);\r\n        List&lt;Character&gt; list = new ArrayList&lt;&gt;();\r\n        getLetters(list, &#39;A&#39;);\r\n        for (Character c : list) {\r\n            System.out.println(c);\r\n        }\r\n    }\r\n}\r\n```\r\nRunning the above code prints the following:\r\n```none\r\nRecursion...\r\nA\r\nB\r\nC\r\nD\r\nE\r\nF\r\nG\r\nH\r\nI\r\nJ\r\nK\r\nL\r\nM\r\nN\r\nO\r\nP\r\nQ\r\nR\r\nS\r\nT\r\nU\r\nV\r\nW\r\nX\r\nY\r\nZ\r\n```\r\nAnd if I change the initial invocation to:\r\n```java\r\ngetLetters(list, &#39;Y&#39;);\r\n```\r\nthen the output is:\r\n```none\r\nRecursion...\r\nY\r\nZ\r\n```\r\n\r\n","title":"Why character from character array, received from recursive function is not shown?","body":"<p>Let's analyze your code. Let's start with the <strong>last</strong> invocation of method <code>alphabets</code>. The value of the method parameter, i.e. <code>S</code>, will be <em>[</em> (which is the character after <em>Z</em> in the ASCII table), hence the <code>if</code> condition will be false, hence the method will return an array of 26 elements where each element is the null character, i.e. a character whose ASCII code is zero – because in this line of code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>char[] ret = new char[26];\n</code></pre>\n<p>Java will implicitly initialize each array element to zero.</p>\n<p>So the last invocation returns an array of null characters to the second last invocation, which is this line of code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ret = alphabets(character);\n</code></pre>\n<p>And therefore the second last invocation also returns an array of null characters – and so on until you return to the first invocation which returns the array of null characters in this line of your code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>char[] alphabet = alphabets('A');\n</code></pre>\n<p>So when you print the contents of <code>alphabet</code>, it prints what appears to be 26 empty lines. Actually it is printing 26 lines where each line displays a single, null character. If you change the <code>for</code> loop to the following, it will print 26 zeroes.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (char c :alphabet) {\n    System.out.println((int) c);\n}\n</code></pre>\n<p>You need to make the array one of the parameters of method <code>alphabets</code> and in the body of method <code>alphabets</code> you assign a value to an element of that array. Actually, I suggest using a <code>List</code> rather than an array because a <code>List</code>, unlike an array, does not have a fixed size and you cannot know, before-hand, how many letters will be added to the <code>List</code>. If your initial invocation is changed to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>char[] alphabet = alphabets('Y');\n</code></pre>\n<p>then how many letters should be returned? Not 26, right?</p>\n<p>Here is my rewrite of your code:<br />\n(Note that <code>char</code> is a primitive and you cannot have a <code>List</code> of primitives.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class Recursion_Maharaj {\n    private static void getLetters(List&lt;Character&gt; letters, char letter) {\n        if (letter &lt;= 'Z') {\n            letters.add(letter);\n            getLetters(letters, (char) (letter + 1));\n        }\n    }\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Recursion...&quot;);\n        List&lt;Character&gt; list = new ArrayList&lt;&gt;();\n        getLetters(list, 'A');\n        for (Character c : list) {\n            System.out.println(c);\n        }\n    }\n}\n</code></pre>\n<p>Running the above code prints the following:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Recursion...\nA\nB\nC\nD\nE\nF\nG\nH\nI\nJ\nK\nL\nM\nN\nO\nP\nQ\nR\nS\nT\nU\nV\nW\nX\nY\nZ\n</code></pre>\n<p>And if I change the initial invocation to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>getLetters(list, 'Y');\n</code></pre>\n<p>then the output is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Recursion...\nY\nZ\n</code></pre>\n"}],"owner":{"account_id":26470649,"reputation":1,"user_id":20111330,"display_name":"small_boy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74066765,"answer_count":1,"score":-1,"last_activity_date":1665737783,"creation_date":1665735306,"question_id":74066283,"body_markdown":"I am trying to learn recursion in Java. I am trying to print English alphabets from A to Z. But when I run the code, something undesirable is printed. What happened to my A-Z characters?\r\n\r\nThe code is given below:\r\n```\r\npublic class Recursion_Maharaj {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Recursion...&quot;);\r\n        char[] alphabet = alphabets(&#39;A&#39;);\r\n        for (char c :alphabet) {\r\n            System.out.println(c);\r\n        }\r\n    }\r\n\r\n    static char[] alphabets(char S){\r\n        int start = (int) S; // ASCII = 65\r\n        int end = &#39;Z&#39;;// ASCII = 90\r\n        char character;\r\n        char[] ret = new char[26];\r\n        if (start &lt;= end){\r\n            start++;\r\n            character = (char) start;\r\n            ret = alphabets(character);\r\n        }\r\n        return ret;\r\n    }\r\n}\r\n```\r\nThe output is *some undesirable character.*\r\n\r\nWhat mistake I am making?","title":"Why character from character array, received from recursive function is not shown?","body":"<p>I am trying to learn recursion in Java. I am trying to print English alphabets from A to Z. But when I run the code, something undesirable is printed. What happened to my A-Z characters?</p>\n<p>The code is given below:</p>\n<pre><code>public class Recursion_Maharaj {\n    public static void main(String[] args) {\n        System.out.println(&quot;Recursion...&quot;);\n        char[] alphabet = alphabets('A');\n        for (char c :alphabet) {\n            System.out.println(c);\n        }\n    }\n\n    static char[] alphabets(char S){\n        int start = (int) S; // ASCII = 65\n        int end = 'Z';// ASCII = 90\n        char character;\n        char[] ret = new char[26];\n        if (start &lt;= end){\n            start++;\n            character = (char) start;\n            ret = alphabets(character);\n        }\n        return ret;\n    }\n}\n</code></pre>\n<p>The output is <em>some undesirable character.</em></p>\n<p>What mistake I am making?</p>\n"},{"tags":["java","apache-kafka","parquet","avro","apache-kafka-connect"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1665235026,"post_id":73988662,"comment_id":130654760,"body_markdown":"I suggest you simply use SparkSQL to read parquet and write to Kafka. Otherwise, Confluent already has an S3 source connector","body":"I suggest you simply use SparkSQL to read parquet and write to Kafka. Otherwise, Confluent already has an S3 source connector"},{"owner":{"account_id":9060934,"reputation":63,"user_id":6747480,"display_name":"kalosh"},"score":0,"creation_date":1665385264,"post_id":73988662,"comment_id":130678917,"body_markdown":"Thanks for quick answer.\nAd1. I have read the data already. The schema is my problem. Can sparkSQL provide shema for confluent?\nAd2. I would have to write my own format by extending `StorageObjectFormat`. In this class I would have to implement `extractRecord` method and provide kafka connect value and schema. Getting schema from parquet file is what I&#39;m struggling right now in question.","body":"Thanks for quick answer. Ad1. I have read the data already. The schema is my problem. Can sparkSQL provide shema for confluent? Ad2. I would have to write my own format by extending <code>StorageObjectFormat</code>. In this class I would have to implement <code>extractRecord</code> method and provide kafka connect value and schema. Getting schema from parquet file is what I&#39;m struggling right now in question."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1665408469,"post_id":73988662,"comment_id":130686654,"body_markdown":"SparkSQL can read Parquet, yes, in one line of code, too. After you get a dataframe, its schema can easily be extracted, and Spark has Avro functions to convert dataframe schemas to Avro schemas... It [can integrate with schema registry since data is just bytes](https://stackoverflow.com/questions/48882723/integrating-spark-structured-streaming-with-the-confluent-schema-registry), although, Flink has better support for Registry builtin","body":"SparkSQL can read Parquet, yes, in one line of code, too. After you get a dataframe, its schema can easily be extracted, and Spark has Avro functions to convert dataframe schemas to Avro schemas... It <a href=\"https://stackoverflow.com/questions/48882723/integrating-spark-structured-streaming-with-the-confluent-schema-registry\">can integrate with schema registry since data is just bytes</a>, although, Flink has better support for Registry builtin"}],"answers":[{"tags":[],"owner":{"account_id":9060934,"reputation":63,"user_id":6747480,"display_name":"kalosh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665737553,"creation_date":1665737553,"answer_id":74066726,"question_id":73988662,"body_markdown":"TLDR; use `io.confluent.connect.avro.AvroData` class from kafka-connect-avro-data:6.2.6 dependency to convert avro to connect data.\r\n\r\nThe above solution will work with `io.confluent.connect.avro.AvroData` class which is delivered in kafka-connect-avro-data (maven dependency) with version up to 6.2.6.\r\nIn version 7.0.0, avro fixed schemas, which are being converted to connect schemas by `io.confluent.connect.avro.AvroData`, are treated as schemas with type `FIXED`. Up to 7.0.0, they are treated as BYTE type schemas.\r\n\r\nThere is some kind of incompatibility between parquet-avro dependency (the way how AvroParquetReader builds fixed schemas from parquet files) and kafka-connect-avro-data (the way how  AvroData converts schemas from avro to connect). I wasn&#39;t able to find out which of those components work according to avro schema requirements.","title":"Parquet files to avro and kafka SourceRecord","body":"<p>TLDR; use <code>io.confluent.connect.avro.AvroData</code> class from kafka-connect-avro-data:6.2.6 dependency to convert avro to connect data.</p>\n<p>The above solution will work with <code>io.confluent.connect.avro.AvroData</code> class which is delivered in kafka-connect-avro-data (maven dependency) with version up to 6.2.6.\nIn version 7.0.0, avro fixed schemas, which are being converted to connect schemas by <code>io.confluent.connect.avro.AvroData</code>, are treated as schemas with type <code>FIXED</code>. Up to 7.0.0, they are treated as BYTE type schemas.</p>\n<p>There is some kind of incompatibility between parquet-avro dependency (the way how AvroParquetReader builds fixed schemas from parquet files) and kafka-connect-avro-data (the way how  AvroData converts schemas from avro to connect). I wasn't able to find out which of those components work according to avro schema requirements.</p>\n"}],"owner":{"account_id":9060934,"reputation":63,"user_id":6747480,"display_name":"kalosh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74066726,"answer_count":1,"score":0,"last_activity_date":1665737553,"creation_date":1665152719,"question_id":73988662,"body_markdown":"I&#39;m trying to convert parquet files into SourceRecords. I&#39;m currently stuck on generating connect schema from avro schema. I&#39;m able to read parquets to GenericRecords:\r\n```\r\npublic static Seq&lt;GenericRecord&gt; genericRecordsOf(Seq&lt;String&gt; parquets) {\r\n    Configuration config = new Configuration();\r\n    config.setBoolean(AVRO_COMPATIBILITY, true);\r\n    config.setBoolean(&quot;parquet.avro.add-list-element-records&quot;, false);\r\n    config.setBoolean(&quot;parquet.avro.write-old-list-structure&quot;, false);\r\n    config.setClass(&quot;parquet.avro.data.supplier&quot;, SchemaTest.class, AvroDataSupplier.class);\r\n    config.set(&quot;fs.s3a.impl&quot;, S3AFileSystem.class.getCanonicalName());\r\n    return parquets.flatMap(input -&gt; {\r\n          Builder&lt;Record&gt; builder = Try(() -&gt; AvroParquetReader\r\n              .&lt;Record&gt;builder(HadoopInputFile.fromPath(new Path(input), config))\r\n              )\r\n              .get();\r\n          return readRecords(builder);\r\n        }\r\n    );\r\n  }\r\n\r\n  private static List&lt;GenericRecord&gt; readRecords(Builder&lt;Record&gt; builder) {\r\n    return Try\r\n        .withResources(builder::build)\r\n        .of(SchemaTest::readRecords)\r\n        .get();\r\n  }\r\n\r\n  private static List&lt;GenericRecord&gt; readRecords(ParquetReader&lt;Record&gt; reader) {\r\n    List&lt;GenericRecord&gt; records = new LinkedList&lt;&gt;();\r\n    Record genericRecord = readRecord(reader);\r\n    while (genericRecord != null) {\r\n      records.add(genericRecord);\r\n      genericRecord = readRecord(reader);\r\n    }\r\n    return records;\r\n  }\r\n\r\n  private static Record readRecord(ParquetReader&lt;Record&gt; reader) {\r\n    return Try.of(reader::read).get();\r\n  }\r\n```\r\nThe issue is while I&#39;m trying to make connect data from it, using `io.confluent.connect.avro.AvroData.toConnectData(avroSchema, avroValue)`.\r\nThe exception:\r\n```\r\n\r\nException in thread &quot;main&quot; org.apache.kafka.connect.errors.DataException: Mismatched names: name already added to SchemaBuilder (org.apache.kafka.connect.data.Decimal) differs from name in source schema (cedingrate)\r\n        at io.confluent.connect.avro.AvroData.toConnectSchema(AvroData.java:1969)\r\n        at io.confluent.connect.avro.AvroData.toConnectSchema(AvroData.java:1669)\r\n        at io.confluent.connect.avro.AvroData.toConnectSchemaWithCycles(AvroData.java:2000)\r\n        at io.confluent.connect.avro.AvroData.toConnectSchema(AvroData.java:1836)\r\n        at io.confluent.connect.avro.AvroData.toConnectSchema(AvroData.java:1669)\r\n        at io.confluent.connect.avro.AvroData.toConnectSchema(AvroData.java:1803)\r\n        at io.confluent.connect.avro.AvroData.toConnectSchema(AvroData.java:1645)\r\n        at io.confluent.connect.avro.AvroData.toConnectData(AvroData.java:1326)\r\n        at io.confluent.connect.avro.AvroData.toConnectData(AvroData.java:1307)\r\n        at com.tryg.data.ingestors.guidewire.factories.SchemaTest.lambda$main$0(SchemaTest.java:103)\r\n        at io.vavr.Value.forEach(Value.java:340)\r\n        at com.tryg.data.ingestors.guidewire.factories.SchemaTest.main(SchemaTest.java:102)\r\n```\r\nand avro schema generated by `AvroParquetReader` is (fragment):\r\n```\r\n&quot;type&quot;: &quot;record&quot;,\r\n  &quot;name&quot;: &quot;spark_schema&quot;,\r\n  &quot;fields&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;cedingrate&quot;,\r\n      &quot;type&quot;: [\r\n        &quot;null&quot;,\r\n        {\r\n          &quot;type&quot;: &quot;fixed&quot;,\r\n          ***&quot;name&quot;: &quot;cedingrate&quot;,\r\n          &quot;size&quot;: 16,\r\n          &quot;logicalType&quot;: &quot;decimal&quot;,\r\n          &quot;precision&quot;: 38,\r\n          &quot;scale&quot;: 6\r\n        }\r\n      ],\r\n      &quot;default&quot;: null\r\n    },\r\n...\r\n```\r\nI have debugged into the `AvroData` code and found out that the issue is that `AvroData` expects `&quot;name&quot;: &quot;org.apache.kafka.connect.data.Decimal&quot;` instead of `&quot;name&quot;: &quot;cedingrate&quot;` in the place marked with `***`.\r\nCedingrate is the field name in parquet file. The parquet files are being generated by Guidewire cloud data access framework.\r\nI dont know where to look for further.\r\nAny tips apreciated.\r\nRegards, Dawid.","title":"Parquet files to avro and kafka SourceRecord","body":"<p>I'm trying to convert parquet files into SourceRecords. I'm currently stuck on generating connect schema from avro schema. I'm able to read parquets to GenericRecords:</p>\n<pre><code>public static Seq&lt;GenericRecord&gt; genericRecordsOf(Seq&lt;String&gt; parquets) {\n    Configuration config = new Configuration();\n    config.setBoolean(AVRO_COMPATIBILITY, true);\n    config.setBoolean(&quot;parquet.avro.add-list-element-records&quot;, false);\n    config.setBoolean(&quot;parquet.avro.write-old-list-structure&quot;, false);\n    config.setClass(&quot;parquet.avro.data.supplier&quot;, SchemaTest.class, AvroDataSupplier.class);\n    config.set(&quot;fs.s3a.impl&quot;, S3AFileSystem.class.getCanonicalName());\n    return parquets.flatMap(input -&gt; {\n          Builder&lt;Record&gt; builder = Try(() -&gt; AvroParquetReader\n              .&lt;Record&gt;builder(HadoopInputFile.fromPath(new Path(input), config))\n              )\n              .get();\n          return readRecords(builder);\n        }\n    );\n  }\n\n  private static List&lt;GenericRecord&gt; readRecords(Builder&lt;Record&gt; builder) {\n    return Try\n        .withResources(builder::build)\n        .of(SchemaTest::readRecords)\n        .get();\n  }\n\n  private static List&lt;GenericRecord&gt; readRecords(ParquetReader&lt;Record&gt; reader) {\n    List&lt;GenericRecord&gt; records = new LinkedList&lt;&gt;();\n    Record genericRecord = readRecord(reader);\n    while (genericRecord != null) {\n      records.add(genericRecord);\n      genericRecord = readRecord(reader);\n    }\n    return records;\n  }\n\n  private static Record readRecord(ParquetReader&lt;Record&gt; reader) {\n    return Try.of(reader::read).get();\n  }\n</code></pre>\n<p>The issue is while I'm trying to make connect data from it, using <code>io.confluent.connect.avro.AvroData.toConnectData(avroSchema, avroValue)</code>.\nThe exception:</p>\n<pre><code>\nException in thread &quot;main&quot; org.apache.kafka.connect.errors.DataException: Mismatched names: name already added to SchemaBuilder (org.apache.kafka.connect.data.Decimal) differs from name in source schema (cedingrate)\n        at io.confluent.connect.avro.AvroData.toConnectSchema(AvroData.java:1969)\n        at io.confluent.connect.avro.AvroData.toConnectSchema(AvroData.java:1669)\n        at io.confluent.connect.avro.AvroData.toConnectSchemaWithCycles(AvroData.java:2000)\n        at io.confluent.connect.avro.AvroData.toConnectSchema(AvroData.java:1836)\n        at io.confluent.connect.avro.AvroData.toConnectSchema(AvroData.java:1669)\n        at io.confluent.connect.avro.AvroData.toConnectSchema(AvroData.java:1803)\n        at io.confluent.connect.avro.AvroData.toConnectSchema(AvroData.java:1645)\n        at io.confluent.connect.avro.AvroData.toConnectData(AvroData.java:1326)\n        at io.confluent.connect.avro.AvroData.toConnectData(AvroData.java:1307)\n        at com.tryg.data.ingestors.guidewire.factories.SchemaTest.lambda$main$0(SchemaTest.java:103)\n        at io.vavr.Value.forEach(Value.java:340)\n        at com.tryg.data.ingestors.guidewire.factories.SchemaTest.main(SchemaTest.java:102)\n</code></pre>\n<p>and avro schema generated by <code>AvroParquetReader</code> is (fragment):</p>\n<pre><code>&quot;type&quot;: &quot;record&quot;,\n  &quot;name&quot;: &quot;spark_schema&quot;,\n  &quot;fields&quot;: [\n    {\n      &quot;name&quot;: &quot;cedingrate&quot;,\n      &quot;type&quot;: [\n        &quot;null&quot;,\n        {\n          &quot;type&quot;: &quot;fixed&quot;,\n          ***&quot;name&quot;: &quot;cedingrate&quot;,\n          &quot;size&quot;: 16,\n          &quot;logicalType&quot;: &quot;decimal&quot;,\n          &quot;precision&quot;: 38,\n          &quot;scale&quot;: 6\n        }\n      ],\n      &quot;default&quot;: null\n    },\n...\n</code></pre>\n<p>I have debugged into the <code>AvroData</code> code and found out that the issue is that <code>AvroData</code> expects <code>&quot;name&quot;: &quot;org.apache.kafka.connect.data.Decimal&quot;</code> instead of <code>&quot;name&quot;: &quot;cedingrate&quot;</code> in the place marked with <code>***</code>.\nCedingrate is the field name in parquet file. The parquet files are being generated by Guidewire cloud data access framework.\nI dont know where to look for further.\nAny tips apreciated.\nRegards, Dawid.</p>\n"},{"tags":["java","spring","export","amazon-rds","export-to-csv"],"owner":{"account_id":14504823,"reputation":11,"user_id":10476857,"display_name":"qwerty-nz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665737458,"creation_date":1665737245,"question_id":74066668,"body_markdown":"Help.\r\n\r\nHere&#39;s the situation...\r\n- The Postgres server is hosted in AWS, it holds a large amount of data.\r\n- The CSV file would contain several calculated fields \r\n\r\nQuestion:\r\n\r\n- Is exporting data to a CSV file using aws_s3.query_export_to_s3 better than using the traditional java query stream results to s3 bucket? Anyone? What is your opinion on this?\r\n\r\n\r\nThank you in advance for your help and reply.\r\n","title":"Is exporting CSV with aws_s3.query_export_to_s3 better than java query stream results to s3 bucket?","body":"<p>Help.</p>\n<p>Here's the situation...</p>\n<ul>\n<li>The Postgres server is hosted in AWS, it holds a large amount of data.</li>\n<li>The CSV file would contain several calculated fields</li>\n</ul>\n<p>Question:</p>\n<ul>\n<li>Is exporting data to a CSV file using aws_s3.query_export_to_s3 better than using the traditional java query stream results to s3 bucket? Anyone? What is your opinion on this?</li>\n</ul>\n<p>Thank you in advance for your help and reply.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":955055,"reputation":3960,"user_id":980521,"display_name":"ecle"},"score":0,"creation_date":1665820342,"post_id":74066706,"comment_id":130791690,"body_markdown":"@AliasCartellano That code won&#39;t work on Android since it uses Java AWT which is not fully implemented on Android. The correct way for Android is here https://developer.android.com/reference/android/app/Presentation#using-the-display-manager-to-choose-a-presentation-display","body":"@AliasCartellano That code won&#39;t work on Android since it uses Java AWT which is not fully implemented on Android. The correct way for Android is here <a href=\"https://developer.android.com/reference/android/app/Presentation#using-the-display-manager-to-choose-a-presentation-display\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/app/&hellip;</a>"},{"owner":{"account_id":17120066,"reputation":13,"user_id":12388515,"display_name":"imatcpie"},"score":0,"creation_date":1665987190,"post_id":74066706,"comment_id":130818981,"body_markdown":"@ecle if there is another program exist like screen recorder, how to we handle it because they will be increase size of array. How to distinguish real screen or screen recorder display ?","body":"@ecle if there is another program exist like screen recorder, how to we handle it because they will be increase size of array. How to distinguish real screen or screen recorder display ?"}],"owner":{"account_id":17120066,"reputation":13,"user_id":12388515,"display_name":"imatcpie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665737435,"creation_date":1665737435,"question_id":74066706,"body_markdown":"How to get programmatically screen number for Android devices, want to take them programmatically such as Xiaomi mi 11 ultra has 2 screen , I want to learn and control it programmatically from can be library of Android or operating system library ?","title":"android get device screen number with programmatically","body":"<p>How to get programmatically screen number for Android devices, want to take them programmatically such as Xiaomi mi 11 ultra has 2 screen , I want to learn and control it programmatically from can be library of Android or operating system library ?</p>\n"},{"tags":["java","testng"],"comments":[{"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"score":0,"creation_date":1665738057,"post_id":74066702,"comment_id":130772980,"body_markdown":"You could use a [`ScheduledExecutorService`](https://www.baeldung.com/java-delay-code-execution#service), with your task somehow reregistering itself against the executor if it didn&#39;t receive `&quot;FINISHED&quot;`.","body":"You could use a <a href=\"https://www.baeldung.com/java-delay-code-execution#service\" rel=\"nofollow noreferrer\"><code>ScheduledExecutorService</code></a>, with your task somehow reregistering itself against the executor if it didn&#39;t receive <code>&quot;FINISHED&quot;</code>."},{"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"score":0,"creation_date":1665738513,"post_id":74066702,"comment_id":130773115,"body_markdown":"You could use [tempus-fugit&#39;s `waitOrTimeout(...)` method](http://tempusfugitlibrary.org/documentation/junit/waiting/) for probing on given values or throw an exception on timeouts","body":"You could use <a href=\"http://tempusfugitlibrary.org/documentation/junit/waiting/\" rel=\"nofollow noreferrer\">tempus-fugit&#39;s <code>waitOrTimeout(...)</code> method</a> for probing on given values or throw an exception on timeouts"},{"owner":{"account_id":1988337,"reputation":598,"user_id":1782997,"display_name":"Attila T"},"score":0,"creation_date":1665753096,"post_id":74066702,"comment_id":130777708,"body_markdown":"You can use Resilience4J&#39;s [retry](https://resilience4j.readme.io/docs/retry). If the timeout actually matters you can combine it with [time limiter](https://resilience4j.readme.io/docs/timeout).","body":"You can use Resilience4J&#39;s <a href=\"https://resilience4j.readme.io/docs/retry\" rel=\"nofollow noreferrer\">retry</a>. If the timeout actually matters you can combine it with <a href=\"https://resilience4j.readme.io/docs/timeout\" rel=\"nofollow noreferrer\">time limiter</a>."},{"owner":{"account_id":4944314,"reputation":149,"user_id":3980164,"display_name":"Slev Florin"},"score":0,"creation_date":1667930095,"post_id":74066702,"comment_id":131283886,"body_markdown":"Try [polling](https://github.com/fslev/jtest-utils#polling) support from [jtest-utils](https://github.com/fslev/jtest-utils). You could even try using one of the object matchers which which already has embedded polling.","body":"Try <a href=\"https://github.com/fslev/jtest-utils#polling\" rel=\"nofollow noreferrer\">polling</a> support from <a href=\"https://github.com/fslev/jtest-utils\" rel=\"nofollow noreferrer\">jtest-utils</a>. You could even try using one of the object matchers which which already has embedded polling."}],"owner":{"account_id":7261043,"reputation":939,"user_id":5537770,"accept_rate":55,"display_name":"Pryda"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":959,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665737415,"creation_date":1665737415,"question_id":74066702,"body_markdown":"An external application needs a few seconds to finish a job. It keeps exposing &quot;RUNNING&quot; state and then it exposes &quot;FINISHED&quot;. I&#39;m developing a test that needs to block until &quot;FINISHED&quot; state appear. the test fails when the timeout is reached.\r\n\r\n{\r\n    state: &quot;RUNNING&quot;\r\n}\r\n\r\nThe way I&#39;m handling this today is the following:\r\n\r\n    @Test(timeout = 20000)\r\n    public void myTest() {\r\n      String state = null;\r\n      while(!&quot;FINISHED&quot;.equals(state) {\r\n        state = callAPIandGetStateAsString();\r\n        try {\r\n          TimeUnit.SECOND.sleep(3);\r\n        } catch (InterruptedException e) {\r\n          fail(&quot;Message&quot; + e);\r\n        }\r\n        assertEquals(state, &quot;FINISHED&quot;);\r\n      }\r\n\r\n\r\nMy question is: Is there a better way to poll for an external value to change without using `Timeout.SECOND.sleep()` method? If it was a multithreading situation I would have used a `CountDownLatch` but I&#39;m wondering how should I handle this situation in the case of an external REST API","title":"Polling for REST API value in Java","body":"<p>An external application needs a few seconds to finish a job. It keeps exposing &quot;RUNNING&quot; state and then it exposes &quot;FINISHED&quot;. I'm developing a test that needs to block until &quot;FINISHED&quot; state appear. the test fails when the timeout is reached.</p>\n<p>{\nstate: &quot;RUNNING&quot;\n}</p>\n<p>The way I'm handling this today is the following:</p>\n<pre><code>@Test(timeout = 20000)\npublic void myTest() {\n  String state = null;\n  while(!&quot;FINISHED&quot;.equals(state) {\n    state = callAPIandGetStateAsString();\n    try {\n      TimeUnit.SECOND.sleep(3);\n    } catch (InterruptedException e) {\n      fail(&quot;Message&quot; + e);\n    }\n    assertEquals(state, &quot;FINISHED&quot;);\n  }\n</code></pre>\n<p>My question is: Is there a better way to poll for an external value to change without using <code>Timeout.SECOND.sleep()</code> method? If it was a multithreading situation I would have used a <code>CountDownLatch</code> but I'm wondering how should I handle this situation in the case of an external REST API</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1665736373,"post_id":74066440,"comment_id":130772402,"body_markdown":"`sum += i` - `i` is the value, not the index.","body":"<code>sum += i</code> - <code>i</code> is the value, not the index."},{"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"score":2,"creation_date":1665736439,"post_id":74066440,"comment_id":130772426,"body_markdown":"it should just be this       \n `for (int i : arr){ sum += i; }`","body":"it should just be this         <code>for (int i : arr){ sum += i; }</code>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1665736717,"post_id":74066440,"comment_id":130772512,"body_markdown":"Replace with `int doubleSum = Arrays.stream( arr ).sum() * 2 ;`","body":"Replace with <code>int doubleSum = Arrays.stream( arr ).sum() * 2 ;</code>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1665736895,"post_id":74066440,"comment_id":130772574,"body_markdown":"Using semantic variables names rather than `i` and `j` might have helped your to avoid this flaw.","body":"Using semantic variables names rather than <code>i</code> and <code>j</code> might have helped your to avoid this flaw."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1665737176,"post_id":74066440,"comment_id":130772682,"body_markdown":"the array has 7 elements; when looping to the element `10`, that is, `i == 10`, `arr[i]` will fail since `10` is not a valid index","body":"the array has 7 elements; when looping to the element <code>10</code>, that is, <code>i == 10</code>, <code>arr[i]</code> will fail since <code>10</code> is not a valid index"}],"answers":[{"tags":[],"owner":{"account_id":18550672,"reputation":170,"user_id":13516981,"display_name":"Xiang Rong Lin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1665736618,"creation_date":1665736618,"answer_id":74066528,"question_id":74066440,"body_markdown":"`for (int i : arr)`\r\n\r\nThis iterates over the values inside the array, NOT the indices of the array.\r\nSo inside the loop the integer i takes on the values `1, 1, 2, 10, 3, 1, 12`, NOT `0, 1, 2, 3, 4, 5, 6`.\r\n\r\nThis results in the IndexOutOfBoundsException with Index 10","title":"Array out of bounds while index is correct","body":"<p><code>for (int i : arr)</code></p>\n<p>This iterates over the values inside the array, NOT the indices of the array.\nSo inside the loop the integer i takes on the values <code>1, 1, 2, 10, 3, 1, 12</code>, NOT <code>0, 1, 2, 3, 4, 5, 6</code>.</p>\n<p>This results in the IndexOutOfBoundsException with Index 10</p>\n"},{"tags":[],"owner":{"account_id":16848885,"reputation":1,"user_id":12182436,"display_name":"Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665737385,"creation_date":1665736956,"answer_id":74066603,"question_id":74066440,"body_markdown":"You are getting ArrayIndexOutOfBoundsException because you have used `arr[i]` in foreach loop. Here `i` represents integer value present in `arr` and not the index.\r\nSo when value of `i` is 10 you are trying to access `arr[10]` which is giving you index out of bound exception.\r\n\r\n```\r\nimport java.util.*; \r\nimport java.io.*;\r\n\r\nclass Main {\r\n\r\n  public static String SumMultiplier(int[] arr) {\r\n\r\n    int sum = 0;\r\n    for (int i : arr){\r\n      **sum += i;**\r\n    }\r\n    int doubleSum = sum * 2;\r\n\r\n    for (int i = 0; i &lt; arr.length -1; i++){\r\n      for (int j = i + 1; j &lt; arr.length; j++){\r\n        if (arr[i] * arr[j] &gt; doubleSum){\r\n          return &quot;true&quot;;\r\n        }\r\n      }\r\n    }\r\n    return &quot;false&quot;;\r\n  } \r\n```","title":"Array out of bounds while index is correct","body":"<p>You are getting ArrayIndexOutOfBoundsException because you have used <code>arr[i]</code> in foreach loop. Here <code>i</code> represents integer value present in <code>arr</code> and not the index.\nSo when value of <code>i</code> is 10 you are trying to access <code>arr[10]</code> which is giving you index out of bound exception.</p>\n<pre><code>import java.util.*; \nimport java.io.*;\n\nclass Main {\n\n  public static String SumMultiplier(int[] arr) {\n\n    int sum = 0;\n    for (int i : arr){\n      **sum += i;**\n    }\n    int doubleSum = sum * 2;\n\n    for (int i = 0; i &lt; arr.length -1; i++){\n      for (int j = i + 1; j &lt; arr.length; j++){\n        if (arr[i] * arr[j] &gt; doubleSum){\n          return &quot;true&quot;;\n        }\n      }\n    }\n    return &quot;false&quot;;\n  } \n</code></pre>\n"}],"owner":{"account_id":25917448,"reputation":13,"user_id":19640633,"display_name":"santa_cloudy"},"comment_count":5,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1665737399,"accepted_answer_id":74066528,"answer_count":2,"score":-3,"last_activity_date":1665737385,"creation_date":1665736185,"question_id":74066440,"body_markdown":"I&#39;m doing this kata and the code should work, but What am I doing wrong? For an array like:\r\n{1, 1, 2, 10, 3, 1, 12}\r\n\r\nI get the below:\r\n\r\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 10 out of bounds for length 7\r\n\tat Main.SumMultiplier(Main.java:10)\r\n\tat Main.main(Main.java:28)\r\n\r\n\r\n\r\n```\r\nimport java.util.*; \r\nimport java.io.*;\r\n\r\nclass Main {\r\n\r\n  public static String SumMultiplier(int[] arr) {\r\n\r\n    int sum = 0;\r\n    for (int i : arr){\r\n      sum += arr[i];\r\n    }\r\n    int doubleSum = sum * 2;\r\n\r\n    for (int i = 0; i &lt; arr.length -1; i++){\r\n      for (int j = i + 1; j &lt; arr.length; j++){\r\n        if (arr[i] * arr[j] &gt; doubleSum){\r\n          return &quot;true&quot;;\r\n        }\r\n      }\r\n    }\r\n    return &quot;false&quot;;\r\n  } \r\n\r\n```","title":"Array out of bounds while index is correct","body":"<p>I'm doing this kata and the code should work, but What am I doing wrong? For an array like:\n{1, 1, 2, 10, 3, 1, 12}</p>\n<p>I get the below:</p>\n<p>Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 10 out of bounds for length 7\nat Main.SumMultiplier(Main.java:10)\nat Main.main(Main.java:28)</p>\n<pre><code>import java.util.*; \nimport java.io.*;\n\nclass Main {\n\n  public static String SumMultiplier(int[] arr) {\n\n    int sum = 0;\n    for (int i : arr){\n      sum += arr[i];\n    }\n    int doubleSum = sum * 2;\n\n    for (int i = 0; i &lt; arr.length -1; i++){\n      for (int j = i + 1; j &lt; arr.length; j++){\n        if (arr[i] * arr[j] &gt; doubleSum){\n          return &quot;true&quot;;\n        }\n      }\n    }\n    return &quot;false&quot;;\n  } \n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"account_id":26552394,"reputation":306,"user_id":20181494,"display_name":"Janil101"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665737146,"creation_date":1665737146,"answer_id":74066642,"question_id":74066602,"body_markdown":"Try to use CascadeType.PERSIST on the ownerList and remove CascadeType.REFERESH,CascadeType.DETACH\r\n","title":"Spring delete on OneToMany","body":"<p>Try to use CascadeType.PERSIST on the ownerList and remove CascadeType.REFERESH,CascadeType.DETACH</p>\n"}],"owner":{"account_id":21978200,"reputation":25,"user_id":16253680,"display_name":"Adrian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665737146,"creation_date":1665736955,"question_id":74066602,"body_markdown":"I have a child entity with mapping\r\n\r\n    @OneToMany(mappedBy = &quot;parent&quot;, cascade = {CascadeType.REFRESH, CascadeType.DETACH})\r\n    List&lt;Owner&gt; ownerList;\r\n\r\nAnd owner entity with \r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;child_id&quot;, nullable = true)\r\n    Child child;\r\n\r\nI want to delete OneToMany side without using cascade delete so Owner still exist, but with Child filed set as null, currently i get error that Child entity is still referenced from Owner, i would like it to be automatic without me having to write code that will unlink it and set Child field to null before deleting that Child entity. Is there any way to achieve that? \r\n","title":"Spring delete on OneToMany","body":"<p>I have a child entity with mapping</p>\n<pre><code>@OneToMany(mappedBy = &quot;parent&quot;, cascade = {CascadeType.REFRESH, CascadeType.DETACH})\nList&lt;Owner&gt; ownerList;\n</code></pre>\n<p>And owner entity with</p>\n<pre><code>@ManyToOne\n@JoinColumn(name = &quot;child_id&quot;, nullable = true)\nChild child;\n</code></pre>\n<p>I want to delete OneToMany side without using cascade delete so Owner still exist, but with Child filed set as null, currently i get error that Child entity is still referenced from Owner, i would like it to be automatic without me having to write code that will unlink it and set Child field to null before deleting that Child entity. Is there any way to achieve that?</p>\n"},{"tags":["java","oracle-adf","jdeveloper"],"comments":[{"owner":{"account_id":1652896,"reputation":2486,"user_id":1523120,"display_name":"Timo Hahn"},"score":0,"creation_date":1665730597,"post_id":74057413,"comment_id":130770901,"body_markdown":"I added several questions to your equal question here https://community.oracle.com/tech/developers/discussion/4504741/how-to-set-up-bindings#latest","body":"I added several questions to your equal question here <a href=\"https://community.oracle.com/tech/developers/discussion/4504741/how-to-set-up-bindings#latest\" rel=\"nofollow noreferrer\">community.oracle.com/tech/developers/discussion/4504741/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1652896,"reputation":2486,"user_id":1523120,"display_name":"Timo Hahn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665737110,"creation_date":1665737110,"answer_id":74066635,"question_id":74057413,"body_markdown":"The answer to this question was given in the question at https://community.oracle.com/tech/developers/discussion/4504741/how-to-set-up-bindings#latest\r\n\r\nIn summary, it turned out that the pageDef file that holds the bindings was not created. The easiest way to create one is to drag something from a datacontrol onto the page and drop it there. This will create the pageDef file needed.","title":"How to set up &quot;Bindings&quot; adf?","body":"<p>The answer to this question was given in the question at <a href=\"https://community.oracle.com/tech/developers/discussion/4504741/how-to-set-up-bindings#latest\" rel=\"nofollow noreferrer\">https://community.oracle.com/tech/developers/discussion/4504741/how-to-set-up-bindings#latest</a></p>\n<p>In summary, it turned out that the pageDef file that holds the bindings was not created. The easiest way to create one is to drag something from a datacontrol onto the page and drop it there. This will create the pageDef file needed.</p>\n"}],"owner":{"account_id":21038159,"reputation":27,"user_id":15461131,"display_name":"Yevgeniy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74066635,"answer_count":1,"score":0,"last_activity_date":1665737110,"creation_date":1665670978,"question_id":74057413,"body_markdown":"I am new to adf. I am developing a module in an existing application. The modules are similar and there are not big differences. When setting up the .jsff file, I can&#39;t set up &quot;Bindings&quot; in any way. There are &quot;Bindings&quot; in the screenshot - this is copied from another module to my new module, since it is similar. Please advise what needs to be done to set them up. Screenshots attached.\r\n\r\nP.S. Screenshots are temporarily unavailable. Error on the server\r\n\r\n","title":"How to set up &quot;Bindings&quot; adf?","body":"<p>I am new to adf. I am developing a module in an existing application. The modules are similar and there are not big differences. When setting up the .jsff file, I can't set up &quot;Bindings&quot; in any way. There are &quot;Bindings&quot; in the screenshot - this is copied from another module to my new module, since it is similar. Please advise what needs to be done to set them up. Screenshots attached.</p>\n<p>P.S. Screenshots are temporarily unavailable. Error on the server</p>\n"},{"tags":["java","android","kotlin","gson"],"answers":[{"tags":[],"owner":{"account_id":7984047,"reputation":54,"user_id":6024231,"display_name":"nebulae-pan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665736927,"creation_date":1665736927,"answer_id":74066595,"question_id":74065735,"body_markdown":"configuration.exclude is used for remote dependencies, in local dependency you can directly delete jar element from aar artifact by zip tools.","title":"how to exclude jar fro aar","body":"<p>configuration.exclude is used for remote dependencies, in local dependency you can directly delete jar element from aar artifact by zip tools.</p>\n"}],"owner":{"account_id":2418746,"reputation":91,"user_id":8536941,"display_name":"unknown"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74066595,"answer_count":1,"score":0,"last_activity_date":1665736927,"creation_date":1665732330,"question_id":74065735,"body_markdown":"**how to exclude jar fro aar**\r\n\r\n**aar fle and lib structure n android studio :[![see aar file][1]][1]**\r\n\r\n     implementation files(&#39;libs/Latpay_SDK_EMV_1.3.0.aar&#39;){\r\n        exclude group: &quot;com.google.gson&quot;, module: &quot;gson&quot;\r\n    }\r\n\r\n**Logs**\r\n\r\n    Build file &#39;D:\\Doctor_App_New_LatPay\\app\\build.gradle&#39; line: 148\r\n\r\nA problem occurred evaluating project &#39;:app&#39;.\r\n&gt; Could not find method exclude() for arguments [{group=com.google.gson, module=gson}] on file collection of type org.gradle.api.internal.file.collections.DefaultConfigurableFileCollection.\r\n\r\n* Try:\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.api.GradleScriptException: A problem occurred evaluating project &#39;:app&#39;.\r\n\tat org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:93)\r\n\tat org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.lambda$apply$0(DefaultScriptPluginFactory.java:133)\r\n\tat org.gradle.configuration.ProjectScriptTarget.addConfiguration(ProjectScriptTarget.java:79)\r\n\tat org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:136)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:65)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin.lambda$apply$0(BuildOperationScriptPlugin.java:62)\r\n\tat org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:44)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:62)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:360)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:378)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:359)\r\n\tat org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:42)\r\n\tat org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\r\n\tat org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:35)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.lambda$run$0(LifecycleProjectEvaluator.java:109)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:360)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$withProjectLock$2(DefaultProjectStateRegistry.java:408)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:270)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.withProjectLock(DefaultProjectStateRegistry.java:408)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:389)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:359)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.run(LifecycleProjectEvaluator.java:100)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:72)\r\n\tat org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:760)\r\n\tat org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:151)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.ensureConfigured(DefaultProjectStateRegistry.java:328)\r\n\tat org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:33)\r\n\tat org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:49)\r\n\tat org.gradle.configuration.DefaultProjectsPreparer.prepareProjects(DefaultProjectsPreparer.java:50)\r\n\tat org.gradle.configuration.BuildTreePreparingProjectsPreparer.prepareProjects(BuildTreePreparingProjectsPreparer.java:64)\r\n\tat org.gradle.configuration.BuildOperationFiringProjectsPreparer$ConfigureBuild.run(BuildOperationFiringProjectsPreparer.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.configuration.BuildOperationFiringProjectsPreparer.prepareProjects(BuildOperationFiringProjectsPreparer.java:40)\r\n\tat org.gradle.initialization.VintageBuildModelController.lambda$prepareProjects$3(VintageBuildModelController.java:89)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$doTransition$12(StateTransitionController.java:227)\r\n\tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:238)\r\n\tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:226)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$transitionIfNotPreviously$10(StateTransitionController.java:201)\r\n\tat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:34)\r\n\tat org.gradle.internal.model.StateTransitionController.transitionIfNotPreviously(StateTransitionController.java:197)\r\n\tat org.gradle.initialization.VintageBuildModelController.prepareProjects(VintageBuildModelController.java:89)\r\n\tat org.gradle.initialization.VintageBuildModelController.getConfiguredModel(VintageBuildModelController.java:64)\r\n\tat org.gradle.internal.build.DefaultBuildLifecycleController.lambda$withProjectsConfigured$1(DefaultBuildLifecycleController.java:121)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$notInState$4(StateTransitionController.java:143)\r\n\tat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\r\n\tat org.gradle.internal.model.StateTransitionController.notInState(StateTransitionController.java:139)\r\n\tat org.gradle.internal.build.DefaultBuildLifecycleController.withProjectsConfigured(DefaultBuildLifecycleController.java:121)\r\n\tat org.gradle.internal.build.DefaultBuildToolingModelController.locateBuilderForTarget(DefaultBuildToolingModelController.java:57)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.lambda$locateBuilderForTarget$0(DefaultBuildTreeModelCreator.java:73)\r\n\tat org.gradle.internal.build.DefaultBuildLifecycleController.withToolingModels(DefaultBuildLifecycleController.java:178)\r\n\tat org.gradle.internal.build.AbstractBuildState.withToolingModels(AbstractBuildState.java:111)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.locateBuilderForTarget(DefaultBuildTreeModelCreator.java:73)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.locateBuilderForDefaultTarget(DefaultBuildTreeModelCreator.java:68)\r\n\tat org.gradle.tooling.internal.provider.runner.DefaultBuildController.getTarget(DefaultBuildController.java:157)\r\n\tat org.gradle.tooling.internal.provider.runner.DefaultBuildController.getModel(DefaultBuildController.java:101)\r\n\tat org.gradle.tooling.internal.consumer.connection.ParameterAwareBuildControllerAdapter.getModel(ParameterAwareBuildControllerAdapter.java:39)\r\n\tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.getModel(UnparameterizedBuildController.java:113)\r\n\tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.getModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n\tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:97)\r\n\tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n\tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:81)\r\n\tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n\tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:66)\r\n\tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n\tat org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:116)\r\n\tat org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:42)\r\n\tat org.gradle.tooling.internal.consumer.connection.InternalBuildActionAdapter.execute(InternalBuildActionAdapter.java:64)\r\n\tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.runAction(AbstractClientProvidedBuildActionRunner.java:131)\r\n\tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.beforeTasks(AbstractClientProvidedBuildActionRunner.java:99)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator.beforeTasks(DefaultBuildTreeModelCreator.java:52)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$fromBuildModel$1(DefaultBuildTreeLifecycleController.java:75)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$runBuild$4(DefaultBuildTreeLifecycleController.java:106)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$transition$6(StateTransitionController.java:166)\r\n\tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:238)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$transition$7(StateTransitionController.java:166)\r\n\tat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\r\n\tat org.gradle.internal.model.StateTransitionController.transition(StateTransitionController.java:166)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.runBuild(DefaultBuildTreeLifecycleController.java:103)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.fromBuildModel(DefaultBuildTreeLifecycleController.java:74)\r\n\tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner.runClientAction(AbstractClientProvidedBuildActionRunner.java:43)\r\n\tat org.gradle.tooling.internal.provider.runner.ClientProvidedPhasedActionRunner.run(ClientProvidedPhasedActionRunner.java:53)\r\n\tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n\tat org.gradle.internal.buildtree.ProblemReportingBuildActionRunner.run(ProblemReportingBuildActionRunner.java:49)\r\n\tat org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:69)\r\n\tat org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:119)\r\n\tat org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\r\n\tat org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.lambda$execute$0(RootBuildLifecycleBuildActionExecutor.java:40)\r\n\tat org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:128)\r\n\tat org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.execute(RootBuildLifecycleBuildActionExecutor.java:40)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\r\n\tat org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:65)\r\n\tat org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\r\n\tat org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:65)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\r\n\tat org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:36)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:270)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:119)\r\n\tat org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:36)\r\n\tat org.gradle.tooling.internal.provider.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:103)\r\n\tat org.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\r\n\tat org.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:100)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:88)\r\n\tat org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:62)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:41)\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:58)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:42)\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\r\n\tat org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\r\n\tat org.gradle.util.internal.Swapper.swap(Swapper.java:38)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\r\n\tat org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\nCaused by: org.gradle.internal.metaobject.AbstractDynamicObject$CustomMessageMissingMethodException: Could not find method exclude() for arguments [{group=com.google.gson, module=gson}] on file collection of type org.gradle.api.internal.file.collections.DefaultConfigurableFileCollection.\r\n\tat org.gradle.internal.metaobject.AbstractDynamicObject$CustomMissingMethodExecutionFailed.&lt;init&gt;(AbstractDynamicObject.java:190)\r\n\tat org.gradle.internal.metaobject.AbstractDynamicObject.methodMissingException(AbstractDynamicObject.java:184)\r\n\tat org.gradle.internal.metaobject.ConfigureDelegate.invokeMethod(ConfigureDelegate.java:86)\r\n\tat build_5o8spk621ra7io1q44978rxtg$_run_closure2$_closure11.doCall(D:\\Doctor_App_New_LatPay\\app\\build.gradle:148)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\nDuplicate class com.google.gson.internal.$Gson$Types$GenericArrayTypeImpl found in modules jetified-Latpay_SDK_EMV_1.3.0-runtime (Latpay_SDK_EMV_1.3.0.aar) and jetified-gson-2.8.9 (com.google.code.gson:gson:2.8.9)\r\nDuplicate class com.google.gson.internal.$Gson$Types$ParameterizedTypeImpl found in modules jetified-Latpay_SDK_EMV_1.3.0-runtime (Latpay_SDK_EMV_1.3.0.aar) and jetified-gson-2.8.9 (com.google.code.gson:gson:2.8.9)\r\nDuplicate class com.google.gson.internal.$Gson$Types$WildcardTypeImpl found in modules jetified-Latpay_SDK_EMV_1.3.0-runtime (Latpay_SDK_EMV_1.3.0.aar) and jetified-gson-2.8.9 (com.google.code.gson:gson:2.8.9)\r\nDuplicate class com.google.gson.internal.ConstructorConstructor found in modules jetified-Latpay_SDK_EMV_1.3.0-runtime (Latpay_SDK_EMV_1.3.0.aar) and jetified-gson-2.8.9 (com.google.code.gson:gson:2.8.9)\r\nDuplicate class com.google.gson.internal.ConstructorConstructor$1 found in modules jetified-Latpay_SDK_EMV_1.3.0-runtime (Latpay_SDK_EMV_1.3.0.aar) and jetified-gson-2.8.9 (com.google.code.gson:gson:2.8.9)\r\nDuplicate class com.google.gson.internal.ConstructorConstructor$10 found in modules jetified-Latpay_SDK_EMV_1.3.0-runtime (Latpay_SDK_EMV_1.3.0.aar) and jetified-gson-2.8.9 (com.google.code.gson:gson:2.8.9)\r\nDuplicate class com.google.gson.internal.ConstructorConstructor$11 found in modules jetified-Latpay_SDK_EMV_1.3.0-runtime (Latpay_SDK_EMV_1.3.0.aar) and jetified-gson-2.8.9 (com.google.code.gson:gson:2.8.9)\r\nDuplicate class com.google.gson.internal.ConstructorConstructor$12 found in modules jetified-Latpay_SDK_EMV_1.3.0-runtime (Latpay_SDK_EMV_1.3.0.aar) and jetified-gson-2.8.9 \r\nDuplicate class com.google.gson.internal.bind.TypeAdapters$16 found in modules jetified-Latpay_SDK_EMV_1.3.0-runtime (Latpay_SDK_EMV_1.3.0.aar) and jetified-gson-2.8.9 (com.google.code.gson:gson:2.8.9)\r\nDuplicate class com.google.gson.internal.bind.TypeAdapters$17 found in modules jetified-Latpay_SDK_EMV_1.3.0-runtime (Latpay_SDK_EMV_1.3.0.aar) and jetified-gson-2.8.9 (com.google.code.gson:gson:2.8.9)\r\nDuplicate class com.google.gson.internal.bind.TypeAdapters$18 found in modules jetified-L\r\nDuplicate class com.google.gson.stream.JsonWriter found in modules jetified-Latpay_SDK_EMV_1.3.0-runtime (Latpay_SDK_EMV_1.3.0.aar) and jetified-gson-2.8.9 (com.google.code.gson:gson:2.8.9)\r\nDuplicate class com.google.gson.stream.MalformedJsonException found in modules jetified-Latpay_SDK_EMV_1.3.0-runtime (Latpay_SDK_EMV_1.3.0.aar) and jetified-gson-2.8.9 (com.google.code.gson:gson:2.8.9)\r\n\r\nGo to the documentation to learn how to Fix dependency resolution errors.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3wBVE.png","title":"how to exclude jar fro aar","body":"<p><strong>how to exclude jar fro aar</strong></p>\n<p><strong>aar fle and lib structure n android studio :<a href=\"https://i.stack.imgur.com/3wBVE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3wBVE.png\" alt=\"see aar file\" /></a></strong></p>\n<pre><code> implementation files('libs/Latpay_SDK_EMV_1.3.0.aar'){\n    exclude group: &quot;com.google.gson&quot;, module: &quot;gson&quot;\n}\n</code></pre>\n<p><strong>Logs</strong></p>\n<pre><code>Build file 'D:\\Doctor_App_New_LatPay\\app\\build.gradle' line: 148\n</code></pre>\n<p>A problem occurred evaluating project ':app'.</p>\n<blockquote>\n<p>Could not find method exclude() for arguments [{group=com.google.gson, module=gson}] on file collection of type org.gradle.api.internal.file.collections.DefaultConfigurableFileCollection.</p>\n</blockquote>\n<ul>\n<li>Try:</li>\n</ul>\n<blockquote>\n<p>Run with --info or --debug option to get more log output.\nRun with --scan to get full insights.</p>\n</blockquote>\n<ul>\n<li>Exception is:\norg.gradle.api.GradleScriptException: A problem occurred evaluating project ':app'.\nat org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:93)\nat org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.lambda$apply$0(DefaultScriptPluginFactory.java:133)\nat org.gradle.configuration.ProjectScriptTarget.addConfiguration(ProjectScriptTarget.java:79)\nat org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:136)\nat org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:65)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\nat org.gradle.configuration.BuildOperationScriptPlugin.lambda$apply$0(BuildOperationScriptPlugin.java:62)\nat org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:44)\nat org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:62)\nat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:360)\nat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:378)\nat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:359)\nat org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:42)\nat org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\nat org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:35)\nat org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.lambda$run$0(LifecycleProjectEvaluator.java:109)\nat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:360)\nat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$withProjectLock$2(DefaultProjectStateRegistry.java:408)\nat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:270)\nat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.withProjectLock(DefaultProjectStateRegistry.java:408)\nat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:389)\nat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:359)\nat org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.run(LifecycleProjectEvaluator.java:100)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\nat org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:72)\nat org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:760)\nat org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:151)\nat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.ensureConfigured(DefaultProjectStateRegistry.java:328)\nat org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:33)\nat org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:49)\nat org.gradle.configuration.DefaultProjectsPreparer.prepareProjects(DefaultProjectsPreparer.java:50)\nat org.gradle.configuration.BuildTreePreparingProjectsPreparer.prepareProjects(BuildTreePreparingProjectsPreparer.java:64)\nat org.gradle.configuration.BuildOperationFiringProjectsPreparer$ConfigureBuild.run(BuildOperationFiringProjectsPreparer.java:52)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\nat org.gradle.configuration.BuildOperationFiringProjectsPreparer.prepareProjects(BuildOperationFiringProjectsPreparer.java:40)\nat org.gradle.initialization.VintageBuildModelController.lambda$prepareProjects$3(VintageBuildModelController.java:89)\nat org.gradle.internal.model.StateTransitionController.lambda$doTransition$12(StateTransitionController.java:227)\nat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:238)\nat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:226)\nat org.gradle.internal.model.StateTransitionController.lambda$transitionIfNotPreviously$10(StateTransitionController.java:201)\nat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:34)\nat org.gradle.internal.model.StateTransitionController.transitionIfNotPreviously(StateTransitionController.java:197)\nat org.gradle.initialization.VintageBuildModelController.prepareProjects(VintageBuildModelController.java:89)\nat org.gradle.initialization.VintageBuildModelController.getConfiguredModel(VintageBuildModelController.java:64)\nat org.gradle.internal.build.DefaultBuildLifecycleController.lambda$withProjectsConfigured$1(DefaultBuildLifecycleController.java:121)\nat org.gradle.internal.model.StateTransitionController.lambda$notInState$4(StateTransitionController.java:143)\nat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\nat org.gradle.internal.model.StateTransitionController.notInState(StateTransitionController.java:139)\nat org.gradle.internal.build.DefaultBuildLifecycleController.withProjectsConfigured(DefaultBuildLifecycleController.java:121)\nat org.gradle.internal.build.DefaultBuildToolingModelController.locateBuilderForTarget(DefaultBuildToolingModelController.java:57)\nat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.lambda$locateBuilderForTarget$0(DefaultBuildTreeModelCreator.java:73)\nat org.gradle.internal.build.DefaultBuildLifecycleController.withToolingModels(DefaultBuildLifecycleController.java:178)\nat org.gradle.internal.build.AbstractBuildState.withToolingModels(AbstractBuildState.java:111)\nat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.locateBuilderForTarget(DefaultBuildTreeModelCreator.java:73)\nat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.locateBuilderForDefaultTarget(DefaultBuildTreeModelCreator.java:68)\nat org.gradle.tooling.internal.provider.runner.DefaultBuildController.getTarget(DefaultBuildController.java:157)\nat org.gradle.tooling.internal.provider.runner.DefaultBuildController.getModel(DefaultBuildController.java:101)\nat org.gradle.tooling.internal.consumer.connection.ParameterAwareBuildControllerAdapter.getModel(ParameterAwareBuildControllerAdapter.java:39)\nat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.getModel(UnparameterizedBuildController.java:113)\nat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.getModel(NestedActionAwareBuildControllerAdapter.java:31)\nat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:97)\nat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\nat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:81)\nat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\nat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:66)\nat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\nat org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:116)\nat org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:42)\nat org.gradle.tooling.internal.consumer.connection.InternalBuildActionAdapter.execute(InternalBuildActionAdapter.java:64)\nat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.runAction(AbstractClientProvidedBuildActionRunner.java:131)\nat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.beforeTasks(AbstractClientProvidedBuildActionRunner.java:99)\nat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator.beforeTasks(DefaultBuildTreeModelCreator.java:52)\nat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$fromBuildModel$1(DefaultBuildTreeLifecycleController.java:75)\nat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$runBuild$4(DefaultBuildTreeLifecycleController.java:106)\nat org.gradle.internal.model.StateTransitionController.lambda$transition$6(StateTransitionController.java:166)\nat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:238)\nat org.gradle.internal.model.StateTransitionController.lambda$transition$7(StateTransitionController.java:166)\nat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\nat org.gradle.internal.model.StateTransitionController.transition(StateTransitionController.java:166)\nat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.runBuild(DefaultBuildTreeLifecycleController.java:103)\nat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.fromBuildModel(DefaultBuildTreeLifecycleController.java:74)\nat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner.runClientAction(AbstractClientProvidedBuildActionRunner.java:43)\nat org.gradle.tooling.internal.provider.runner.ClientProvidedPhasedActionRunner.run(ClientProvidedPhasedActionRunner.java:53)\nat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\nat org.gradle.internal.buildtree.ProblemReportingBuildActionRunner.run(ProblemReportingBuildActionRunner.java:49)\nat org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:69)\nat org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:119)\nat org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\nat org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.lambda$execute$0(RootBuildLifecycleBuildActionExecutor.java:40)\nat org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:128)\nat org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.execute(RootBuildLifecycleBuildActionExecutor.java:40)\nat org.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\nat org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:65)\nat org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\nat org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:65)\nat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\nat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\nat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\nat org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:36)\nat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:270)\nat org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:119)\nat org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:36)\nat org.gradle.tooling.internal.provider.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:103)\nat org.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\nat org.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\nat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:100)\nat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:88)\nat org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\nat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:62)\nat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:41)\nat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\nat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\nat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:58)\nat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:42)\nat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\nat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\nat org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\nat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\nat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\nat org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\nat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\nat org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\nat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\nat org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\nat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\nat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\nat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\nat org.gradle.util.internal.Swapper.swap(Swapper.java:38)\nat org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\nat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\nat org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\nat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\nat org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\nat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\nat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\nat org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\nat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\nat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\nat org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\nat org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\nat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\nat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\nCaused by: org.gradle.internal.metaobject.AbstractDynamicObject$CustomMessageMissingMethodException: Could not find method exclude() for arguments [{group=com.google.gson, module=gson}] on file collection of type org.gradle.api.internal.file.collections.DefaultConfigurableFileCollection.\nat org.gradle.internal.metaobject.AbstractDynamicObject$CustomMissingMethodExecutionFailed.(AbstractDynamicObject.java:190)\nat org.gradle.internal.metaobject.AbstractDynamicObject.methodMissingException(AbstractDynamicObject.java:184)\nat org.gradle.internal.metaobject.ConfigureDelegate.invokeMethod(ConfigureDelegate.java:86)\nat build_5o8spk621ra7io1q44978rxtg$_run_closure2$_closure11.doCall(D:\\Doctor_App_New_LatPay\\app\\build.gradle:148)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nDuplicate class com.google.gson.internal.$Gson$Types$GenericArrayTypeImpl found in modules jetified-Latpay_SDK_EMV_1.3.0-runtime (Latpay_SDK_EMV_1.3.0.aar) and jetified-gson-2.8.9 (com.google.code.gson:gson:2.8.9)\nDuplicate class com.google.gson.internal.$Gson$Types$ParameterizedTypeImpl found in modules jetified-Latpay_SDK_EMV_1.3.0-runtime (Latpay_SDK_EMV_1.3.0.aar) and jetified-gson-2.8.9 (com.google.code.gson:gson:2.8.9)\nDuplicate class com.google.gson.internal.$Gson$Types$WildcardTypeImpl found in modules jetified-Latpay_SDK_EMV_1.3.0-runtime (Latpay_SDK_EMV_1.3.0.aar) and jetified-gson-2.8.9 (com.google.code.gson:gson:2.8.9)\nDuplicate class com.google.gson.internal.ConstructorConstructor found in modules jetified-Latpay_SDK_EMV_1.3.0-runtime (Latpay_SDK_EMV_1.3.0.aar) and jetified-gson-2.8.9 (com.google.code.gson:gson:2.8.9)\nDuplicate class com.google.gson.internal.ConstructorConstructor$1 found in modules jetified-Latpay_SDK_EMV_1.3.0-runtime (Latpay_SDK_EMV_1.3.0.aar) and jetified-gson-2.8.9 (com.google.code.gson:gson:2.8.9)\nDuplicate class com.google.gson.internal.ConstructorConstructor$10 found in modules jetified-Latpay_SDK_EMV_1.3.0-runtime (Latpay_SDK_EMV_1.3.0.aar) and jetified-gson-2.8.9 (com.google.code.gson:gson:2.8.9)\nDuplicate class com.google.gson.internal.ConstructorConstructor$11 found in modules jetified-Latpay_SDK_EMV_1.3.0-runtime (Latpay_SDK_EMV_1.3.0.aar) and jetified-gson-2.8.9 (com.google.code.gson:gson:2.8.9)\nDuplicate class com.google.gson.internal.ConstructorConstructor$12 found in modules jetified-Latpay_SDK_EMV_1.3.0-runtime (Latpay_SDK_EMV_1.3.0.aar) and jetified-gson-2.8.9\nDuplicate class com.google.gson.internal.bind.TypeAdapters$16 found in modules jetified-Latpay_SDK_EMV_1.3.0-runtime (Latpay_SDK_EMV_1.3.0.aar) and jetified-gson-2.8.9 (com.google.code.gson:gson:2.8.9)\nDuplicate class com.google.gson.internal.bind.TypeAdapters$17 found in modules jetified-Latpay_SDK_EMV_1.3.0-runtime (Latpay_SDK_EMV_1.3.0.aar) and jetified-gson-2.8.9 (com.google.code.gson:gson:2.8.9)\nDuplicate class com.google.gson.internal.bind.TypeAdapters$18 found in modules jetified-L\nDuplicate class com.google.gson.stream.JsonWriter found in modules jetified-Latpay_SDK_EMV_1.3.0-runtime (Latpay_SDK_EMV_1.3.0.aar) and jetified-gson-2.8.9 (com.google.code.gson:gson:2.8.9)\nDuplicate class com.google.gson.stream.MalformedJsonException found in modules jetified-Latpay_SDK_EMV_1.3.0-runtime (Latpay_SDK_EMV_1.3.0.aar) and jetified-gson-2.8.9 (com.google.code.gson:gson:2.8.9)</li>\n</ul>\n<p>Go to the documentation to learn how to Fix dependency resolution errors.</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":4422,"reputation":7797,"user_id":6629,"accept_rate":75,"display_name":"Kinjal Dixit"},"score":0,"creation_date":1601442399,"post_id":64131217,"comment_id":113405655,"body_markdown":"see https://stackoverflow.com/a/574650/6629 basically you either need to create an &#39;all in one&#39; jar, with all the dependencies added to the executable jar, or you need to give classpath to all the jars.","body":"see <a href=\"https://stackoverflow.com/a/574650/6629\">stackoverflow.com/a/574650/6629</a> basically you either need to create an &#39;all in one&#39; jar, with all the dependencies added to the executable jar, or you need to give classpath to all the jars."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1601442631,"post_id":64131217,"comment_id":113405717,"body_markdown":"You also need to define your dependencies (libraries) in maven, not in IntelliJ.","body":"You also need to define your dependencies (libraries) in maven, not in IntelliJ."}],"answers":[{"tags":[],"owner":{"account_id":1677099,"reputation":10905,"user_id":1542363,"accept_rate":92,"display_name":"Sam YC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601443684,"creation_date":1601443684,"answer_id":64131426,"question_id":64131217,"body_markdown":"`in that jar file, there are all the dependencies present which requires to run the application.`\r\n\r\nAre you sure that all dependencies present? Your next statement saying `After adding this jar it is throwing exception about the next missing jar, likewise when I added all the dependencies which are used inside that jar then everything works fine.`\r\n\r\nIs your jar file hosted in maven repository? If yes, simply declare it in maven `pom.xml` file, it will manage all the transitive dependencies. If it is not in maven repository, you need to run `mvn install` command to install that into your local maven repository, later on refer it in your `pom.xml` file. It will auto resolve your transitive dependencies as well, if you package your jar file properly which include correct `pom.xml` inside.","title":"IntelliJ - Maven adding external jar file but java.lang.NoClassDefFoundError","body":"<p><code>in that jar file, there are all the dependencies present which requires to run the application.</code></p>\n<p>Are you sure that all dependencies present? Your next statement saying <code>After adding this jar it is throwing exception about the next missing jar, likewise when I added all the dependencies which are used inside that jar then everything works fine.</code></p>\n<p>Is your jar file hosted in maven repository? If yes, simply declare it in maven <code>pom.xml</code> file, it will manage all the transitive dependencies. If it is not in maven repository, you need to run <code>mvn install</code> command to install that into your local maven repository, later on refer it in your <code>pom.xml</code> file. It will auto resolve your transitive dependencies as well, if you package your jar file properly which include correct <code>pom.xml</code> inside.</p>\n"},{"tags":[],"owner":{"account_id":2868776,"reputation":20877,"user_id":2462531,"accept_rate":40,"display_name":"Shailendra Madda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1601879542,"creation_date":1601448379,"answer_id":64132221,"question_id":64131217,"body_markdown":"Finally, I added this in my pom.xml where I generated the Jar file\r\n\r\nTo get Maven to build a Fat JAR from your project you must include a Fat JAR build configuration in your project&#39;s POM file. You configure Maven to build a Fat JAR from your project by including the maven-assembly-plugin in your POM file&#39;s plugin section. Maven refers to an output product that it builds as an assembly. Hence the name maven-assembly-plugin.\r\n\r\n    &lt;plugin&gt;\r\n    \t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.3.0&lt;/version&gt;\r\n    \t\t&lt;configuration&gt;\r\n    \t\t\t&lt;descriptorRefs&gt;\r\n    \t\t\t\t&lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n    \t\t\t&lt;/descriptorRefs&gt;\r\n    \t\t&lt;/configuration&gt;\r\n    \t\t&lt;executions&gt;\r\n    \t\t\t&lt;execution&gt;\r\n    \t\t\t\t&lt;id&gt;make-assembly&lt;/id&gt;\r\n    \t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t&lt;goal&gt;single&lt;/goal&gt;\r\n    \t\t\t\t&lt;/goals&gt;\r\n    \t\t\t&lt;/execution&gt;\r\n    \t\t&lt;/executions&gt;\r\n    \t&lt;/plugin&gt;\r\n\r\nNow it is working as expected.\r\n\r\nReference: http://tutorials.jenkov.com/maven/maven-build-fat-jar.html","title":"IntelliJ - Maven adding external jar file but java.lang.NoClassDefFoundError","body":"<p>Finally, I added this in my pom.xml where I generated the Jar file</p>\n<p>To get Maven to build a Fat JAR from your project you must include a Fat JAR build configuration in your project's POM file. You configure Maven to build a Fat JAR from your project by including the maven-assembly-plugin in your POM file's plugin section. Maven refers to an output product that it builds as an assembly. Hence the name maven-assembly-plugin.</p>\n<pre><code>&lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.3.0&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;descriptorRefs&gt;\n                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n            &lt;/descriptorRefs&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;make-assembly&lt;/id&gt;\n                &lt;phase&gt;package&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;single&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n</code></pre>\n<p>Now it is working as expected.</p>\n<p>Reference: <a href=\"http://tutorials.jenkov.com/maven/maven-build-fat-jar.html\" rel=\"nofollow noreferrer\">http://tutorials.jenkov.com/maven/maven-build-fat-jar.html</a></p>\n"}],"owner":{"account_id":2868776,"reputation":20877,"user_id":2462531,"accept_rate":40,"display_name":"Shailendra Madda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1994,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64132221,"answer_count":2,"score":0,"last_activity_date":1665736301,"creation_date":1601442199,"question_id":64131217,"body_markdown":"I am using IntelliJ version 11.0.7 (2020.1.3) created a simple maven project and added my jar to it by \r\n\r\n&gt; File -&gt; Project Structure -&gt; New Project Library -&gt; Java -&gt; Selected my jar -&gt; Ok -&gt; Ok\r\n\r\nin that jar file, all the dependencies present which requires to run the application.\r\n\r\nThere are no compile-time errors but when I run my maven project then it is throwing this exception:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/JsonProcessingException\r\n\r\nAfter adding this jar it is throwing an exception about the next missing jar, likewise when I added all the dependencies which are used inside that jar then everything works fine.\r\n\r\nIs there any way to auto-generate all the dependencies and add to External Libraries from the jar when I added to it?","title":"IntelliJ - Maven adding external jar file but java.lang.NoClassDefFoundError","body":"<p>I am using IntelliJ version 11.0.7 (2020.1.3) created a simple maven project and added my jar to it by</p>\n<blockquote>\n<p>File -&gt; Project Structure -&gt; New Project Library -&gt; Java -&gt; Selected my jar -&gt; Ok -&gt; Ok</p>\n</blockquote>\n<p>in that jar file, all the dependencies present which requires to run the application.</p>\n<p>There are no compile-time errors but when I run my maven project then it is throwing this exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/JsonProcessingException\n</code></pre>\n<p>After adding this jar it is throwing an exception about the next missing jar, likewise when I added all the dependencies which are used inside that jar then everything works fine.</p>\n<p>Is there any way to auto-generate all the dependencies and add to External Libraries from the jar when I added to it?</p>\n"},{"tags":["java","liferay","liferay-7"],"answers":[{"tags":[],"owner":{"account_id":20696487,"reputation":57,"user_id":15196570,"display_name":"Lincolnmyth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665736252,"creation_date":1665736252,"answer_id":74066455,"question_id":74055361,"body_markdown":"So I&#39;ve been able to do this myself, what I&#39;ve done get the content of the webcontent I am trying to edit and save it in a document type variable. Then I&#39;ve retrieved the individual fields using SAXReaderUtil.getValueOf. I saved them as variables and inserted them into the new xml content.\r\n\r\n\r\n    Document document = SAXReaderUtil.read(journal.getContent());\r\n    \r\n    String beschrijving = document.valueOf(&quot;/root/dynamic-element[@name=&#39;beschrijving&#39;]/dynamic-content/text()&quot;);\r\n    String latitude = document.valueOf(&quot;/root/dynamic-element[@name=&#39;latitude&#39;]/dynamic-content/text()&quot;); \r\n    String longitude = document.valueOf(&quot;/root/dynamic-element[@name=&#39;longitude&#39;]/dynamic-content/text()&quot;); \r\n    \r\n        \t\t\t        \r\n    String content = &quot;&lt;?xml version=\\&quot;1.0\\&quot;?&gt;&lt;root available-locales=\\&quot;nl_NL\\&quot; default-locale=\\&quot;nl_NL\\&quot;&gt;&lt;dynamic-element name=\\&quot;beschrijving\\&quot; type=\\&quot;text_box\\&quot; index-type=\\&quot;text\\&quot; instance-id=\\&quot;jtremtjm\\&quot;&gt;&lt;dynamic-content language-id=\\&quot;nl_NL\\&quot;&gt;&lt;![CDATA[&quot; + beschrijving + &quot;]]&gt;&lt;/dynamic-content&gt;&lt;/dynamic-element&gt;&lt;dynamic-element name=\\&quot;latitude\\&quot; type=\\&quot;text\\&quot; index-type=\\&quot;keyword\\&quot; instance-id=\\&quot;xcoidjfq\\&quot;&gt;&lt;dynamic-content language-id=\\&quot;nl_NL\\&quot;&gt;&lt;![CDATA[&quot; + latitude + &quot;]]&gt;&lt;/dynamic-content&gt;&lt;/dynamic-element&gt;&lt;dynamic-element name=\\&quot;longitude\\&quot; type=\\&quot;text\\&quot; index-type=\\&quot;keyword\\&quot; instance-id=\\&quot;ydugvlqc\\&quot;&gt;&lt;dynamic-content language-id=\\&quot;nl_NL\\&quot;&gt;&lt;![CDATA[&quot; + longitude + &quot;]]&gt;&lt;/dynamic-content&gt;&lt;/dynamic-element&gt;&lt;dynamic-element name=\\&quot;foto\\&quot; type=\\&quot;text\\&quot; index-type=\\&quot;keyword\\&quot; instance-id=\\&quot;xedagpof\\&quot;&gt;&lt;dynamic-content language-id=\\&quot;nl_NL\\&quot;&gt;&lt;![CDATA[&quot; + fotoUUID + &quot;]]&gt;&lt;/dynamic-content&gt;&lt;/dynamic-element&gt;&lt;/root&gt;&quot;; \r\n\r\nI hope if someone is looking to do the same this helps!","title":"How to update a single webcontent field in liferay 7.3.5 using java","body":"<p>So I've been able to do this myself, what I've done get the content of the webcontent I am trying to edit and save it in a document type variable. Then I've retrieved the individual fields using SAXReaderUtil.getValueOf. I saved them as variables and inserted them into the new xml content.</p>\n<pre><code>Document document = SAXReaderUtil.read(journal.getContent());\n\nString beschrijving = document.valueOf(&quot;/root/dynamic-element[@name='beschrijving']/dynamic-content/text()&quot;);\nString latitude = document.valueOf(&quot;/root/dynamic-element[@name='latitude']/dynamic-content/text()&quot;); \nString longitude = document.valueOf(&quot;/root/dynamic-element[@name='longitude']/dynamic-content/text()&quot;); \n\n                        \nString content = &quot;&lt;?xml version=\\&quot;1.0\\&quot;?&gt;&lt;root available-locales=\\&quot;nl_NL\\&quot; default-locale=\\&quot;nl_NL\\&quot;&gt;&lt;dynamic-element name=\\&quot;beschrijving\\&quot; type=\\&quot;text_box\\&quot; index-type=\\&quot;text\\&quot; instance-id=\\&quot;jtremtjm\\&quot;&gt;&lt;dynamic-content language-id=\\&quot;nl_NL\\&quot;&gt;&lt;![CDATA[&quot; + beschrijving + &quot;]]&gt;&lt;/dynamic-content&gt;&lt;/dynamic-element&gt;&lt;dynamic-element name=\\&quot;latitude\\&quot; type=\\&quot;text\\&quot; index-type=\\&quot;keyword\\&quot; instance-id=\\&quot;xcoidjfq\\&quot;&gt;&lt;dynamic-content language-id=\\&quot;nl_NL\\&quot;&gt;&lt;![CDATA[&quot; + latitude + &quot;]]&gt;&lt;/dynamic-content&gt;&lt;/dynamic-element&gt;&lt;dynamic-element name=\\&quot;longitude\\&quot; type=\\&quot;text\\&quot; index-type=\\&quot;keyword\\&quot; instance-id=\\&quot;ydugvlqc\\&quot;&gt;&lt;dynamic-content language-id=\\&quot;nl_NL\\&quot;&gt;&lt;![CDATA[&quot; + longitude + &quot;]]&gt;&lt;/dynamic-content&gt;&lt;/dynamic-element&gt;&lt;dynamic-element name=\\&quot;foto\\&quot; type=\\&quot;text\\&quot; index-type=\\&quot;keyword\\&quot; instance-id=\\&quot;xedagpof\\&quot;&gt;&lt;dynamic-content language-id=\\&quot;nl_NL\\&quot;&gt;&lt;![CDATA[&quot; + fotoUUID + &quot;]]&gt;&lt;/dynamic-content&gt;&lt;/dynamic-element&gt;&lt;/root&gt;&quot;; \n</code></pre>\n<p>I hope if someone is looking to do the same this helps!</p>\n"}],"owner":{"account_id":20696487,"reputation":57,"user_id":15196570,"display_name":"Lincolnmyth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665736252,"creation_date":1665662201,"question_id":74055361,"body_markdown":"I am trying to update a webcontent article in java. However I only want to update a specific field, I tried to use the updateContent method from JournalArticleServiceUtil. And this works but I can&#39;t figure out how to only update ONE field.\r\n\r\nWhat I tried to do, was altering the content xml so i would only fill in one field.\r\n\r\n    String content = &quot;&lt;?xml version=\\&quot;1.0\\&quot;?&gt;&lt;root available-locales=\\&quot;nl_NL\\&quot; default-locale=\\&quot;nl_NL\\&quot;&gt;&lt;dynamic-element name=\\&quot;foto\\&quot; type=\\&quot;text\\&quot; index-type=\\&quot;keyword\\&quot; instance-id=\\&quot;xedagpof\\&quot;&gt;&lt;dynamic-content language-id=\\&quot;nl_NL\\&quot;&gt;&lt;![CDATA[&quot; + fotoUUID + &quot;]]&gt;&lt;/dynamic-content&gt;&lt;/dynamic-element&gt;&lt;/root&gt;&quot;; \r\n\r\nBut this doesn&#39;t work. It merely edits this field and clears out the others. So I&#39;m stuck thinking there are two ways of fixing it. Either getting the values of the webcontent I am editting or somehow editting only one value.\r\n\r\nDoes anyone have an idea how I could resolve this issue?","title":"How to update a single webcontent field in liferay 7.3.5 using java","body":"<p>I am trying to update a webcontent article in java. However I only want to update a specific field, I tried to use the updateContent method from JournalArticleServiceUtil. And this works but I can't figure out how to only update ONE field.</p>\n<p>What I tried to do, was altering the content xml so i would only fill in one field.</p>\n<pre><code>String content = &quot;&lt;?xml version=\\&quot;1.0\\&quot;?&gt;&lt;root available-locales=\\&quot;nl_NL\\&quot; default-locale=\\&quot;nl_NL\\&quot;&gt;&lt;dynamic-element name=\\&quot;foto\\&quot; type=\\&quot;text\\&quot; index-type=\\&quot;keyword\\&quot; instance-id=\\&quot;xedagpof\\&quot;&gt;&lt;dynamic-content language-id=\\&quot;nl_NL\\&quot;&gt;&lt;![CDATA[&quot; + fotoUUID + &quot;]]&gt;&lt;/dynamic-content&gt;&lt;/dynamic-element&gt;&lt;/root&gt;&quot;; \n</code></pre>\n<p>But this doesn't work. It merely edits this field and clears out the others. So I'm stuck thinking there are two ways of fixing it. Either getting the values of the webcontent I am editting or somehow editting only one value.</p>\n<p>Does anyone have an idea how I could resolve this issue?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1665733453,"post_id":74065917,"comment_id":130771616,"body_markdown":"Have you read the method&#39;s [documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#getOrDefault(java.lang.Object,V))? What&#39;s unclear about it? Or are you asking how it works in here specifically?","body":"Have you read the method&#39;s <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#getOrDefault(java.lang.Object,V)\" rel=\"nofollow noreferrer\">documentation</a>? What&#39;s unclear about it? Or are you asking how it works in here specifically?"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1665733807,"post_id":74065917,"comment_id":130771716,"body_markdown":"`put()` is a poor choice; `merge()` is the appropriate choice: `for (int currNum : nums) freqMap.merge(currNum, 1, (a, b) -&gt; a + b);`","body":"<code>put()</code> is a poor choice; <code>merge()</code> is the appropriate choice: <code>for (int currNum : nums) freqMap.merge(currNum, 1, (a, b) -&gt; a + b);</code>"},{"owner":{"account_id":26619556,"reputation":5,"user_id":20238472,"display_name":"schnuggyy"},"score":0,"creation_date":1665734131,"post_id":74065917,"comment_id":130771791,"body_markdown":"could you explain to me what exactly the &#39; 1, (a, b) -&gt; a + b&#39; does?","body":"could you explain to me what exactly the &#39; 1, (a, b) -&gt; a + b&#39; does?"},{"owner":{"account_id":26619556,"reputation":5,"user_id":20238472,"display_name":"schnuggyy"},"score":0,"creation_date":1665734175,"post_id":74065917,"comment_id":130771801,"body_markdown":"I read the documentation, but I still had a hard time. I was curious how it works here specifically.","body":"I read the documentation, but I still had a hard time. I was curious how it works here specifically."}],"answers":[{"tags":[],"owner":{"account_id":6857956,"reputation":76,"user_id":11988137,"display_name":"patrinox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665735319,"creation_date":1665734150,"answer_id":74066067,"question_id":74065917,"body_markdown":"&gt; The `getOrDefault(Object key, V defaultValue)` method of Map\r\n&gt; interface, implemented by HashMap class is used to get the value\r\n&gt; mapped with specified key. If no value is mapped with the provided key\r\n&gt; then the default value is returned.\r\n&gt;\r\n&gt; **Syntax:** `default V getOrDefault(Object key, V defaultValue)`\r\n&gt; \r\n&gt; **Parameters**: This method accepts two parameters:\r\n&gt;     \r\n&gt; * `key`: which is the key of the element whose value has to be obtained.\r\n&gt;\r\n&gt; * `defaultValue`: which is the default value that has to be returned, if no value is mapped with the specified key.\r\n&gt;\r\n&gt;  **Return Value**: This method returns value mapped with the specified key, otherwise default value is returned.\r\n\r\nReference: [https://www.geeksforgeeks.org/hashmap-getordefaultkey-defaultvalue-method-in-java-with-examples/][1]\r\n\r\nSo, by using that method, first, you&#39;re trying to get key&#39;s value from the freqMap. If you can find it in map, then you&#39;re adding 1 to it and putting it back to freqMap. So, that means that you encountered this key before. Otherwise, that method , `.getOrDefault()`, returns you default value, which is 0, then you&#39;re adding 1 to it since you encountered it recently. And putting that value 1 to back to map. So, in the future, when you see that key again, you&#39;ll get it&#39;s value 1 that you added to the map before, will increase it to 2, and will put it back into the map.\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/hashmap-getordefaultkey-defaultvalue-method-in-java-with-examples/","title":"Looking to get the frequency of an int array through a hashmap","body":"<blockquote>\n<p>The <code>getOrDefault(Object key, V defaultValue)</code> method of Map\ninterface, implemented by HashMap class is used to get the value\nmapped with specified key. If no value is mapped with the provided key\nthen the default value is returned.</p>\n<p><strong>Syntax:</strong> <code>default V getOrDefault(Object key, V defaultValue)</code></p>\n<p><strong>Parameters</strong>: This method accepts two parameters:</p>\n<ul>\n<li><p><code>key</code>: which is the key of the element whose value has to be obtained.</p>\n</li>\n<li><p><code>defaultValue</code>: which is the default value that has to be returned, if no value is mapped with the specified key.</p>\n</li>\n</ul>\n<p><strong>Return Value</strong>: This method returns value mapped with the specified key, otherwise default value is returned.</p>\n</blockquote>\n<p>Reference: <a href=\"https://www.geeksforgeeks.org/hashmap-getordefaultkey-defaultvalue-method-in-java-with-examples/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/hashmap-getordefaultkey-defaultvalue-method-in-java-with-examples/</a></p>\n<p>So, by using that method, first, you're trying to get key's value from the freqMap. If you can find it in map, then you're adding 1 to it and putting it back to freqMap. So, that means that you encountered this key before. Otherwise, that method , <code>.getOrDefault()</code>, returns you default value, which is 0, then you're adding 1 to it since you encountered it recently. And putting that value 1 to back to map. So, in the future, when you see that key again, you'll get it's value 1 that you added to the map before, will increase it to 2, and will put it back into the map.</p>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665736211,"creation_date":1665736211,"answer_id":74066446,"question_id":74065917,"body_markdown":"```java\r\npublic static int[] getTopFrequent(int[] nums, int k) {\r\n    // build a map: key - number, value - total amount\r\n    Map&lt;Integer, Long&gt; map = Arrays.stream(nums)\r\n                                   .boxed()\r\n                                   .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\r\n\r\n    // create a PriorityQueue based on Map.Entry. Elements are sorted according to comparator: the\r\n    // most frequent numbers first\r\n    Queue&lt;Map.Entry&lt;Integer, Long&gt;&gt; queue =\r\n            new PriorityQueue&lt;&gt;(comparingLong((Map.Entry&lt;Integer, Long&gt; one) -&gt; one.getValue()).reversed());\r\n\r\n    queue.addAll(map.entrySet());\r\n\r\n    // build final resul\r\n    int[] res = new int[Math.max(queue.size(), k)];\r\n\r\n    for (int i = 0; i &lt; res.length; i++)\r\n        res[i] = queue.remove().getKey();\r\n\r\n    return res;\r\n}\r\n```","title":"Looking to get the frequency of an int array through a hashmap","body":"<pre class=\"lang-java prettyprint-override\"><code>public static int[] getTopFrequent(int[] nums, int k) {\n    // build a map: key - number, value - total amount\n    Map&lt;Integer, Long&gt; map = Arrays.stream(nums)\n                                   .boxed()\n                                   .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\n\n    // create a PriorityQueue based on Map.Entry. Elements are sorted according to comparator: the\n    // most frequent numbers first\n    Queue&lt;Map.Entry&lt;Integer, Long&gt;&gt; queue =\n            new PriorityQueue&lt;&gt;(comparingLong((Map.Entry&lt;Integer, Long&gt; one) -&gt; one.getValue()).reversed());\n\n    queue.addAll(map.entrySet());\n\n    // build final resul\n    int[] res = new int[Math.max(queue.size(), k)];\n\n    for (int i = 0; i &lt; res.length; i++)\n        res[i] = queue.remove().getKey();\n\n    return res;\n}\n</code></pre>\n"}],"owner":{"account_id":26619556,"reputation":5,"user_id":20238472,"display_name":"schnuggyy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":451,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74066067,"answer_count":2,"score":0,"last_activity_date":1665736211,"creation_date":1665733364,"question_id":74065917,"body_markdown":"```\r\npublic int[] topKFrequent(int[] nums, int k) {\r\n    if (nums == null || nums.length == 0 || k &lt;= 0) return new int[0];\r\n    Map&lt;Integer, Integer&gt; freqMap = new HashMap&lt;&gt;();\r\n    for (int currNum : nums) freqMap.put(currNum, freqMap.getOrDefault(currNum, 0)+1);\r\n```\r\n\r\nI don&#39;t understand what the `.getOrDefault(currNum, 0)+1);` is doing, but it seems to calculate the frequency properly. I&#39;d like some clearance on this method please and how exactly it&#39;s working. ","title":"Looking to get the frequency of an int array through a hashmap","body":"<pre><code>public int[] topKFrequent(int[] nums, int k) {\n    if (nums == null || nums.length == 0 || k &lt;= 0) return new int[0];\n    Map&lt;Integer, Integer&gt; freqMap = new HashMap&lt;&gt;();\n    for (int currNum : nums) freqMap.put(currNum, freqMap.getOrDefault(currNum, 0)+1);\n</code></pre>\n<p>I don't understand what the <code>.getOrDefault(currNum, 0)+1);</code> is doing, but it seems to calculate the frequency properly. I'd like some clearance on this method please and how exactly it's working.</p>\n"},{"tags":["java","spring","hibernate","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":17359971,"reputation":2702,"user_id":12576497,"display_name":"RUARO Thibault"},"score":0,"creation_date":1581191700,"post_id":60130157,"comment_id":106350925,"body_markdown":"You pasted two times your `UserService` class instead of the `UserRepository`.","body":"You pasted two times your <code>UserService</code> class instead of the <code>UserRepository</code>."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1581193861,"post_id":60130157,"comment_id":106351421,"body_markdown":"you can also remove the entityscan and component scan, the @SpringBootApplication will scan for you automatically","body":"you can also remove the entityscan and component scan, the @SpringBootApplication will scan for you automatically"}],"answers":[{"tags":[],"owner":{"account_id":17359971,"reputation":2702,"user_id":12576497,"display_name":"RUARO Thibault"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581192212,"creation_date":1581192212,"answer_id":60130706,"question_id":60130157,"body_markdown":"You are not doing things in the good way I&#39;m afraid.\r\n\r\nYou want to have a Spring Boot application, with Controller and Repository. For the controller, your configuration seems okay, but for the Repository, it is not.\r\n\r\n 1. Make up your mind between Hibernate and EclipseLink. Your are importing both in your project. If you do not have any intention of using EclipseLink, then trust me, remove it and use Hibernate.\r\n 2. You are not importing the good dependencies in your POM. When doing a Spring Boot project that needs a JPA configuration, you have to use this dependency\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nIf you don&#39;t, then you will end up missing certains mandatory beans, like `entityManagerFactoryBean`. Indeed, the starter dependencies are made to load a bunch of AutoConfiguration classes, and one if for configuring the `entityManagerFactoryBean`.\r\n\r\nHere is the POM I&#39;d recommend for you:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hello_world-1&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;hello_world-1&lt;/name&gt;\r\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nGive it a go, and let me know the result.","title":"Troubling defining a &#39;bean&#39; , &quot;Consider defining a bean named &#39;entityManagerFactory&#39; in your configuration&quot;","body":"<p>You are not doing things in the good way I'm afraid.</p>\n\n<p>You want to have a Spring Boot application, with Controller and Repository. For the controller, your configuration seems okay, but for the Repository, it is not.</p>\n\n<ol>\n<li>Make up your mind between Hibernate and EclipseLink. Your are importing both in your project. If you do not have any intention of using EclipseLink, then trust me, remove it and use Hibernate.</li>\n<li>You are not importing the good dependencies in your POM. When doing a Spring Boot project that needs a JPA configuration, you have to use this dependency</li>\n</ol>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>If you don't, then you will end up missing certains mandatory beans, like <code>entityManagerFactoryBean</code>. Indeed, the starter dependencies are made to load a bunch of AutoConfiguration classes, and one if for configuring the <code>entityManagerFactoryBean</code>.</p>\n\n<p>Here is the POM I'd recommend for you:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;hello_world-1&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;hello_world-1&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>Give it a go, and let me know the result.</p>\n"},{"tags":[],"owner":{"account_id":20258477,"reputation":1,"user_id":14857548,"display_name":"JavaBE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665736196,"creation_date":1665352276,"answer_id":74008588,"question_id":60130157,"body_markdown":"I was in the same situation. My problem was that I forgot to `unexclude DataSourceAutoConfiguration` in my `application-dev.properties:`\r\n\r\n    spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration","title":"Troubling defining a &#39;bean&#39; , &quot;Consider defining a bean named &#39;entityManagerFactory&#39; in your configuration&quot;","body":"<p>I was in the same situation. My problem was that I forgot to <code>unexclude DataSourceAutoConfiguration</code> in my <code>application-dev.properties:</code></p>\n<pre><code>spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration\n</code></pre>\n"}],"owner":{"account_id":15514239,"reputation":37,"user_id":11192253,"display_name":"user11192253"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665736196,"creation_date":1581188326,"question_id":60130157,"body_markdown":"Tried running my spring boot app and my compiler says;\r\n&quot; Field repo in com.example.hello_world.UserService required a bean named &#39;entityManagerFactory&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)&quot;\r\n\r\n\r\nNew to spring boot so I&#39;m not exactly sure why my project isn&#39;t running. Tried messing around with different annotations, even using &quot;basePackages={&quot;com.example.hello_world&quot;} &quot; and adding different dependencies to my xml file but nothing seems to work. Not exactly sure which file would be my configuration file. \r\nM\r\nMy compiler\r\n```\r\n\r\n    \r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::        (v2.2.4.RELEASE)\r\n\r\n2020-02-08 13:30:58.527  INFO 904 --- [           main] c.e.hello_world.HelloWorld1Application   : Starting HelloWorld1Application on LAPTOP-QBE4L7C0 with PID 904 (C:\\Users\\Tristan\\eclipse-workspace\\hello_world-1\\target\\classes started by Tristan in C:\\Users\\Tristan\\eclipse-workspace\\hello_world-1)\r\n2020-02-08 13:30:58.530  INFO 904 --- [           main] c.e.hello_world.HelloWorld1Application   : No active profile set, falling back to default profiles: default\r\n2020-02-08 13:30:58.914  INFO 904 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2020-02-08 13:30:58.962  INFO 904 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39ms. Found 1 JPA repository interfaces.\r\n2020-02-08 13:30:59.390  INFO 904 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2020-02-08 13:30:59.397  INFO 904 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2020-02-08 13:30:59.397  INFO 904 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.30]\r\n2020-02-08 13:30:59.519  INFO 904 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2020-02-08 13:30:59.519  INFO 904 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 949 ms\r\n2020-02-08 13:30:59.582  WARN 904 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;appController&#39;: Unsatisfied dependency expressed through field &#39;service&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;userService&#39;: Unsatisfied dependency expressed through field &#39;repo&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userRepository&#39;: Cannot create inner bean &#39;(inner bean)#420745d7&#39; of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property &#39;entityManager&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#420745d7&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;entityManagerFactory&#39; available\r\n2020-02-08 13:30:59.584  INFO 904 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2020-02-08 13:30:59.657  INFO 904 --- [           main] ConditionEvaluationReportLoggingListener : \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2020-02-08 13:30:59.728 ERROR 904 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nField repo in com.example.hello_world.UserService required a bean named &#39;entityManagerFactory&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean named &#39;entityManagerFactory&#39; in your configuration.\r\n\r\n```\r\n\r\nMy xml file\r\n```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;hello_world-1&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;hello_world-1&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t\r\n\t\r\n\t\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\r\n\t\r\n\t&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-beans --&gt;\r\n\t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.eclipse.persistence/eclipselink --&gt;\r\n\t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.5.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context --&gt;\r\n\t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.microsoft.sqlserver/mssql-jdbc --&gt;\r\n\t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n    \t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\r\n\t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;6.0.0.Alpha4&lt;/version&gt;\r\n    \t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-entitymanager --&gt;\r\n\t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;6.0.0.Alpha4&lt;/version&gt;\r\n    \t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.data/spring-data-jpa --&gt;\r\n\t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nFirst File of my project, \r\n```\r\n\r\n    package com.example.hello_world;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n\r\n\r\n@SpringBootApplication\r\n@EnableJpaRepositories\r\n\r\npublic class HelloWorld1Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(HelloWorld1Application.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nMy Service File\r\nUserService.Java\r\n```\r\n\r\n    package com.example.hello_world;\r\n\r\nimport java.util.List;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.autoconfigure.AutoConfigurationPackage;\r\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.stereotype.Service;\r\n\r\n\r\n@Service\r\n\r\n@EntityScan(&quot;com.example.hello_world&quot;)\r\n@ComponentScan(&quot;com.example.hello_world&quot;)\r\npublic class UserService {\r\n\t\t\r\n\t\t@Autowired\r\n\t\tprivate UserRepository repo;\r\n\t\t\r\n\t\tpublic List&lt;UserInfo&gt; listAll()\r\n\t\t{\r\n\t\t\treturn repo.findAll();\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tpublic void save(UserInfo User)\r\n\t\t{\r\n\t\t\trepo.save(User);\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tpublic UserInfo get(Long id)\r\n\t\t{\r\n\t\t\treturn repo.findById(id).get();\r\n\t\t}\r\n\t\t\r\n\t\tpublic void delete(Long id)\r\n\t\t{\r\n\t\t\trepo.deleteById(id);\r\n\t\t}\r\n}\r\n```\r\n\r\nMy Respository File\r\nUserRepository.jav\r\n```\r\n\r\n    package com.example.hello_world;\r\n\r\nimport java.util.List;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.autoconfigure.AutoConfigurationPackage;\r\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.stereotype.Service;\r\n\r\n\r\n\r\n@Service\r\n\r\n@EntityScan(&quot;com.example.hello_world&quot;)\r\n@ComponentScan(&quot;com.example.hello_world&quot;)\r\npublic class UserService {\r\n\t\t\r\n\t\t@Autowired\r\n\t\tprivate UserRepository repo;\r\n\t\t\r\n\t\tpublic List&lt;UserInfo&gt; listAll()\r\n\t\t{\r\n\t\t\treturn repo.findAll();\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tpublic void save(UserInfo User)\r\n\t\t{\r\n\t\t\trepo.save(User);\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tpublic UserInfo get(Long id)\r\n\t\t{\r\n\t\t\treturn repo.findById(id).get();\r\n\t\t}\r\n\t\t\r\n\t\tpublic void delete(Long id)\r\n\t\t{\r\n\t\t\trepo.deleteById(id);\r\n\t\t}\r\n}\r\n```\r\n\r\nMy Controller File\r\nApp Controller.java\r\n```\r\n\r\n    package com.example.hello_world;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport java.util.List;\r\nimport org.springframework.ui.*;\r\n\r\n@Controller\r\npublic class AppController\r\n{\r\n\r\n\t@Autowired\r\n\tprivate UserService service;\r\n\t\r\n\t@RequestMapping(&quot;/&quot;)\r\n\tpublic String ViewHomePage(Model model)\r\n\t{\r\n\t\tList&lt;UserInfo&gt; listUserInfo = service.listAll();\r\n\t\tmodel.addAttribute(&quot;listUserInfo&quot;, listUserInfo);\r\n\t\t\r\n\t\treturn &quot;index&quot;;\r\n\t}\r\n}\r\n\r\n","title":"Troubling defining a &#39;bean&#39; , &quot;Consider defining a bean named &#39;entityManagerFactory&#39; in your configuration&quot;","body":"<p>Tried running my spring boot app and my compiler says;\n\" Field repo in com.example.hello_world.UserService required a bean named 'entityManagerFactory' that could not be found.</p>\n\n<p>The injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\"</p>\n\n<p>New to spring boot so I'm not exactly sure why my project isn't running. Tried messing around with different annotations, even using \"basePackages={\"com.example.hello_world\"} \" and adding different dependencies to my xml file but nothing seems to work. Not exactly sure which file would be my configuration file. \nM\nMy compiler</p>\n\n<pre><code>\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v2.2.4.RELEASE)\n\n2020-02-08 13:30:58.527  INFO 904 --- [           main] c.e.hello_world.HelloWorld1Application   : Starting HelloWorld1Application on LAPTOP-QBE4L7C0 with PID 904 (C:\\Users\\Tristan\\eclipse-workspace\\hello_world-1\\target\\classes started by Tristan in C:\\Users\\Tristan\\eclipse-workspace\\hello_world-1)\n2020-02-08 13:30:58.530  INFO 904 --- [           main] c.e.hello_world.HelloWorld1Application   : No active profile set, falling back to default profiles: default\n2020-02-08 13:30:58.914  INFO 904 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2020-02-08 13:30:58.962  INFO 904 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39ms. Found 1 JPA repository interfaces.\n2020-02-08 13:30:59.390  INFO 904 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2020-02-08 13:30:59.397  INFO 904 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2020-02-08 13:30:59.397  INFO 904 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.30]\n2020-02-08 13:30:59.519  INFO 904 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2020-02-08 13:30:59.519  INFO 904 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 949 ms\n2020-02-08 13:30:59.582  WARN 904 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'appController': Unsatisfied dependency expressed through field 'service'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userService': Unsatisfied dependency expressed through field 'repo'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Cannot create inner bean '(inner bean)#420745d7' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#420745d7': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' available\n2020-02-08 13:30:59.584  INFO 904 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2020-02-08 13:30:59.657  INFO 904 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2020-02-08 13:30:59.728 ERROR 904 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField repo in com.example.hello_world.UserService required a bean named 'entityManagerFactory' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean named 'entityManagerFactory' in your configuration.\n\n</code></pre>\n\n<p>My xml file</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;hello_world-1&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;hello_world-1&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-beans --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.eclipse.persistence/eclipselink --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\n            &lt;version&gt;2.5.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.microsoft.sqlserver/mssql-jdbc --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;6.0.0.Alpha4&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-entitymanager --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;version&gt;6.0.0.Alpha4&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.data/spring-data-jpa --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>First File of my project, </p>\n\n<pre><code>\n    package com.example.hello_world;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\n\n@SpringBootApplication\n@EnableJpaRepositories\n\npublic class HelloWorld1Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(HelloWorld1Application.class, args);\n    }\n\n}\n</code></pre>\n\n<p>My Service File\nUserService.Java</p>\n\n<pre><code>\n    package com.example.hello_world;\n\nimport java.util.List;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.autoconfigure.AutoConfigurationPackage;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.stereotype.Component;\nimport org.springframework.stereotype.Service;\n\n\n@Service\n\n@EntityScan(\"com.example.hello_world\")\n@ComponentScan(\"com.example.hello_world\")\npublic class UserService {\n\n        @Autowired\n        private UserRepository repo;\n\n        public List&lt;UserInfo&gt; listAll()\n        {\n            return repo.findAll();\n        }\n\n\n        public void save(UserInfo User)\n        {\n            repo.save(User);\n        }\n\n\n        public UserInfo get(Long id)\n        {\n            return repo.findById(id).get();\n        }\n\n        public void delete(Long id)\n        {\n            repo.deleteById(id);\n        }\n}\n</code></pre>\n\n<p>My Respository File\nUserRepository.jav</p>\n\n<pre><code>\n    package com.example.hello_world;\n\nimport java.util.List;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.autoconfigure.AutoConfigurationPackage;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.stereotype.Component;\nimport org.springframework.stereotype.Service;\n\n\n\n@Service\n\n@EntityScan(\"com.example.hello_world\")\n@ComponentScan(\"com.example.hello_world\")\npublic class UserService {\n\n        @Autowired\n        private UserRepository repo;\n\n        public List&lt;UserInfo&gt; listAll()\n        {\n            return repo.findAll();\n        }\n\n\n        public void save(UserInfo User)\n        {\n            repo.save(User);\n        }\n\n\n        public UserInfo get(Long id)\n        {\n            return repo.findById(id).get();\n        }\n\n        public void delete(Long id)\n        {\n            repo.deleteById(id);\n        }\n}\n</code></pre>\n\n<p>My Controller File\nApp Controller.java</p>\n\n<pre><code>\n    package com.example.hello_world;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport java.util.List;\nimport org.springframework.ui.*;\n\n@Controller\npublic class AppController\n{\n\n    @Autowired\n    private UserService service;\n\n    @RequestMapping(\"/\")\n    public String ViewHomePage(Model model)\n    {\n        List&lt;UserInfo&gt; listUserInfo = service.listAll();\n        model.addAttribute(\"listUserInfo\", listUserInfo);\n\n        return \"index\";\n    }\n}\n\n\n</code></pre>\n"},{"tags":["java","url","htmlunit"],"comments":[{"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"score":0,"creation_date":1665742052,"post_id":74066407,"comment_id":130774258,"body_markdown":"what is the expected output and what do you get instead?\nIf there is no redirect, you can also use the href from the anchor tag. But i&#39;m not sure if i got your point.","body":"what is the expected output and what do you get instead? If there is no redirect, you can also use the href from the anchor tag. But i&#39;m not sure if i got your point."},{"owner":{"account_id":26619829,"reputation":1,"user_id":20238723,"display_name":"Felix Steindorff"},"score":0,"creation_date":1665745595,"post_id":74066407,"comment_id":130775208,"body_markdown":"The method is searching for links with a given String, the searchAttribute. Now I want it to click on every of those links and get the new URL, after the links were clicked. Currently I am getting no kind of output and I&#39;m not sure why.","body":"The method is searching for links with a given String, the searchAttribute. Now I want it to click on every of those links and get the new URL, after the links were clicked. Currently I am getting no kind of output and I&#39;m not sure why."},{"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"score":0,"creation_date":1665748384,"post_id":74066407,"comment_id":130776054,"body_markdown":"try System.out.println(link.asXML()); before clicking the link to make sure the links are found and the links really working using the href attribute. Maybe your links are using js to change the page...","body":"try System.out.println(link.asXML()); before clicking the link to make sure the links are found and the links really working using the href attribute. Maybe your links are using js to change the page..."}],"owner":{"account_id":26619829,"reputation":1,"user_id":20238723,"display_name":"Felix Steindorff"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665735959,"creation_date":1665735959,"question_id":74066407,"body_markdown":"So this is my first question here after reading like hundreds of threads in this forum :D.\r\nI want to click an HtmlAnchor with HtmlUnit and retrieve the underlying url.\r\nMaybe I am using the wrong methods or something, but here is the code that I tried so far:\r\n\r\n```\r\n\tpublic List&lt;String&gt; clickURLs(String searchAttribute) {\r\n\t\ttry {\r\n\t\t\twc.getOptions().setCssEnabled(false); wc.getOptions().setJavaScriptEnabled(false); wc.getOptions().setUseInsecureSSL(true); wc.getOptions().setPrintContentOnFailingStatusCode(false); wc.getOptions().setThrowExceptionOnFailingStatusCode(false); wc.getOptions().setThrowExceptionOnScriptError(false);\r\n\t\tHtmlPage page = wc.getPage(url);\r\n\t\tList&lt;HtmlAnchor&gt; links =page.getAnchors();\r\n\t\tfor (HtmlAnchor link: links) {\r\n\t\t\tif(link.getTextContent().contains(searchAttribute)) {\r\n\t\t\t\tString href =link.click().getWebResponse().toString();\r\n\t\t\t\tSystem.out.println(href);\r\n\t\t\t\tlist.add(href);\r\n\t\t\t}\r\n\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(&quot;An error occured: &quot; + e);\r\n\t\t} // catch\r\n\t\tfinally {\r\n\t\t\twc.close();\r\n\t\t} // finally\r\n\t\treturn list;\r\n\t} // clickURLs()\r\n```\r\n\r\nAny help would be appreciated.","title":"Getting the url after clicking a link with HtmlUnit","body":"<p>So this is my first question here after reading like hundreds of threads in this forum :D.\nI want to click an HtmlAnchor with HtmlUnit and retrieve the underlying url.\nMaybe I am using the wrong methods or something, but here is the code that I tried so far:</p>\n<pre><code>    public List&lt;String&gt; clickURLs(String searchAttribute) {\n        try {\n            wc.getOptions().setCssEnabled(false); wc.getOptions().setJavaScriptEnabled(false); wc.getOptions().setUseInsecureSSL(true); wc.getOptions().setPrintContentOnFailingStatusCode(false); wc.getOptions().setThrowExceptionOnFailingStatusCode(false); wc.getOptions().setThrowExceptionOnScriptError(false);\n        HtmlPage page = wc.getPage(url);\n        List&lt;HtmlAnchor&gt; links =page.getAnchors();\n        for (HtmlAnchor link: links) {\n            if(link.getTextContent().contains(searchAttribute)) {\n                String href =link.click().getWebResponse().toString();\n                System.out.println(href);\n                list.add(href);\n            }\n        }\n        } catch (Exception e) {\n            System.out.println(&quot;An error occured: &quot; + e);\n        } // catch\n        finally {\n            wc.close();\n        } // finally\n        return list;\n    } // clickURLs()\n</code></pre>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","time-series","influxdb","in-memory-database"],"answers":[{"tags":[],"owner":{"account_id":2116620,"reputation":867,"user_id":1880772,"display_name":"Steven Graves"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660758654,"creation_date":1660758654,"answer_id":73392921,"question_id":73376000,"body_markdown":"I believe the only way to accomplish this would be to create a RAM-disk (file system in memory). Not very efficient: It will use an excessive amount of memory compared to a natively in-memory time-series database, and performance will not be as good as native due to the overhead imposed by the file system.","title":"Can InfluxDb be configured for usage as an in memory database?","body":"<p>I believe the only way to accomplish this would be to create a RAM-disk (file system in memory). Not very efficient: It will use an excessive amount of memory compared to a natively in-memory time-series database, and performance will not be as good as native due to the overhead imposed by the file system.</p>\n"},{"tags":[],"owner":{"account_id":8566058,"reputation":11,"user_id":6418499,"display_name":"Gabriel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665735832,"creation_date":1665735832,"answer_id":74066385,"question_id":73376000,"body_markdown":"Where do you need the performance? During write, or read? Influx already uses a lot in-memory techniques out of the box. In my opintion during write it should be no issue, if your are writing asynchronous to the database.\r\n\r\nOtherwise you may need some kind of state service in between, to not have the whole database in memeroy be cached.","title":"Can InfluxDb be configured for usage as an in memory database?","body":"<p>Where do you need the performance? During write, or read? Influx already uses a lot in-memory techniques out of the box. In my opintion during write it should be no issue, if your are writing asynchronous to the database.</p>\n<p>Otherwise you may need some kind of state service in between, to not have the whole database in memeroy be cached.</p>\n"}],"owner":{"account_id":14113014,"reputation":13,"user_id":10195375,"display_name":"nagavem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":500,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73392921,"answer_count":2,"score":0,"last_activity_date":1665735832,"creation_date":1660661442,"question_id":73376000,"body_markdown":"I have just started using the InfluxDb java client for storing some time series IoT data. I got around to thinking about performance and am curious to know if it is possible for us to use influx as an in memory database similar to H2 or sqlLite? Have not found any examples or information regarding this and would love some tips.","title":"Can InfluxDb be configured for usage as an in memory database?","body":"<p>I have just started using the InfluxDb java client for storing some time series IoT data. I got around to thinking about performance and am curious to know if it is possible for us to use influx as an in memory database similar to H2 or sqlLite? Have not found any examples or information regarding this and would love some tips.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9031,"page":961,"page_size":100}
